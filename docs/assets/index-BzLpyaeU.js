var K8=Object.defineProperty;var Q8=(l,c,s)=>c in l?K8(l,c,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[c]=s;var rn=(l,c,s)=>Q8(l,typeof c!="symbol"?c+"":c,s);function Z8(l,c){for(var s=0;s<c.length;s++){const o=c[s];if(typeof o!="string"&&!Array.isArray(o)){for(const h in o)if(h!=="default"&&!(h in l)){const g=Object.getOwnPropertyDescriptor(o,h);g&&Object.defineProperty(l,h,g.get?g:{enumerable:!0,get:()=>o[h]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))o(h);new MutationObserver(h=>{for(const g of h)if(g.type==="childList")for(const _ of g.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&o(_)}).observe(document,{childList:!0,subtree:!0});function s(h){const g={};return h.integrity&&(g.integrity=h.integrity),h.referrerPolicy&&(g.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?g.credentials="include":h.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function o(h){if(h.ep)return;h.ep=!0;const g=s(h);fetch(h.href,g)}})();var Hl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vm(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Jy={exports:{}},Wg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2;function X8(){if(v2)return Wg;v2=1;var l=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function s(o,h,g){var _=null;if(g!==void 0&&(_=""+g),h.key!==void 0&&(_=""+h.key),"key"in h){g={};for(var y in h)y!=="key"&&(g[y]=h[y])}else g=h;return h=g.ref,{$$typeof:l,type:o,key:_,ref:h!==void 0?h:null,props:g}}return Wg.Fragment=c,Wg.jsx=s,Wg.jsxs=s,Wg}var w2;function J8(){return w2||(w2=1,Jy.exports=X8()),Jy.exports}var i=J8(),e0={exports:{}},Qn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y2;function e7(){if(y2)return Qn;y2=1;var l=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),_=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),D=Symbol.iterator;function j(Z){return Z===null||typeof Z!="object"?null:(Z=D&&Z[D]||Z["@@iterator"],typeof Z=="function"?Z:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,V={};function $(Z,fe,Ce){this.props=Z,this.context=fe,this.refs=V,this.updater=Ce||B}$.prototype.isReactComponent={},$.prototype.setState=function(Z,fe){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,fe,"setState")},$.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function K(){}K.prototype=$.prototype;function Q(Z,fe,Ce){this.props=Z,this.context=fe,this.refs=V,this.updater=Ce||B}var ee=Q.prototype=new K;ee.constructor=Q,F(ee,$.prototype),ee.isPureReactComponent=!0;var ne=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function q(Z,fe,Ce,Se,He,et){return Ce=et.ref,{$$typeof:l,type:Z,key:fe,ref:Ce!==void 0?Ce:null,props:et}}function de(Z,fe){return q(Z.type,fe,void 0,void 0,void 0,Z.props)}function re(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===l}function be(Z){var fe={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(Ce){return fe[Ce]})}var ke=/\/+/g;function we(Z,fe){return typeof Z=="object"&&Z!==null&&Z.key!=null?be(""+Z.key):fe.toString(36)}function De(){}function _e(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(De,De):(Z.status="pending",Z.then(function(fe){Z.status==="pending"&&(Z.status="fulfilled",Z.value=fe)},function(fe){Z.status==="pending"&&(Z.status="rejected",Z.reason=fe)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function je(Z,fe,Ce,Se,He){var et=typeof Z;(et==="undefined"||et==="boolean")&&(Z=null);var pe=!1;if(Z===null)pe=!0;else switch(et){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(Z.$$typeof){case l:case c:pe=!0;break;case S:return pe=Z._init,je(pe(Z._payload),fe,Ce,Se,He)}}if(pe)return He=He(Z),pe=Se===""?"."+we(Z,0):Se,ne(He)?(Ce="",pe!=null&&(Ce=pe.replace(ke,"$&/")+"/"),je(He,fe,Ce,"",function(We){return We})):He!=null&&(re(He)&&(He=de(He,Ce+(He.key==null||Z&&Z.key===He.key?"":(""+He.key).replace(ke,"$&/")+"/")+pe)),fe.push(He)),1;pe=0;var me=Se===""?".":Se+":";if(ne(Z))for(var Ie=0;Ie<Z.length;Ie++)Se=Z[Ie],et=me+we(Se,Ie),pe+=je(Se,fe,Ce,et,He);else if(Ie=j(Z),typeof Ie=="function")for(Z=Ie.call(Z),Ie=0;!(Se=Z.next()).done;)Se=Se.value,et=me+we(Se,Ie++),pe+=je(Se,fe,Ce,et,He);else if(et==="object"){if(typeof Z.then=="function")return je(_e(Z),fe,Ce,Se,He);throw fe=String(Z),Error("Objects are not valid as a React child (found: "+(fe==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":fe)+"). If you meant to render a collection of children, use an array instead.")}return pe}function oe(Z,fe,Ce){if(Z==null)return Z;var Se=[],He=0;return je(Z,Se,"","",function(et){return fe.call(Ce,et,He++)}),Se}function ve(Z){if(Z._status===-1){var fe=Z._result;fe=fe(),fe.then(function(Ce){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=Ce)},function(Ce){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=Ce)}),Z._status===-1&&(Z._status=0,Z._result=fe)}if(Z._status===1)return Z._result.default;throw Z._result}var he=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var fe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(fe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)};function Ee(){}return Qn.Children={map:oe,forEach:function(Z,fe,Ce){oe(Z,function(){fe.apply(this,arguments)},Ce)},count:function(Z){var fe=0;return oe(Z,function(){fe++}),fe},toArray:function(Z){return oe(Z,function(fe){return fe})||[]},only:function(Z){if(!re(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},Qn.Component=$,Qn.Fragment=s,Qn.Profiler=h,Qn.PureComponent=Q,Qn.StrictMode=o,Qn.Suspense=v,Qn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Qn.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return le.H.useMemoCache(Z)}},Qn.cache=function(Z){return function(){return Z.apply(null,arguments)}},Qn.cloneElement=function(Z,fe,Ce){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var Se=F({},Z.props),He=Z.key,et=void 0;if(fe!=null)for(pe in fe.ref!==void 0&&(et=void 0),fe.key!==void 0&&(He=""+fe.key),fe)!se.call(fe,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&fe.ref===void 0||(Se[pe]=fe[pe]);var pe=arguments.length-2;if(pe===1)Se.children=Ce;else if(1<pe){for(var me=Array(pe),Ie=0;Ie<pe;Ie++)me[Ie]=arguments[Ie+2];Se.children=me}return q(Z.type,He,void 0,void 0,et,Se)},Qn.createContext=function(Z){return Z={$$typeof:_,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:g,_context:Z},Z},Qn.createElement=function(Z,fe,Ce){var Se,He={},et=null;if(fe!=null)for(Se in fe.key!==void 0&&(et=""+fe.key),fe)se.call(fe,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(He[Se]=fe[Se]);var pe=arguments.length-2;if(pe===1)He.children=Ce;else if(1<pe){for(var me=Array(pe),Ie=0;Ie<pe;Ie++)me[Ie]=arguments[Ie+2];He.children=me}if(Z&&Z.defaultProps)for(Se in pe=Z.defaultProps,pe)He[Se]===void 0&&(He[Se]=pe[Se]);return q(Z,et,void 0,void 0,null,He)},Qn.createRef=function(){return{current:null}},Qn.forwardRef=function(Z){return{$$typeof:y,render:Z}},Qn.isValidElement=re,Qn.lazy=function(Z){return{$$typeof:S,_payload:{_status:-1,_result:Z},_init:ve}},Qn.memo=function(Z,fe){return{$$typeof:N,type:Z,compare:fe===void 0?null:fe}},Qn.startTransition=function(Z){var fe=le.T,Ce={};le.T=Ce;try{var Se=Z(),He=le.S;He!==null&&He(Ce,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(Ee,he)}catch(et){he(et)}finally{le.T=fe}},Qn.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Qn.use=function(Z){return le.H.use(Z)},Qn.useActionState=function(Z,fe,Ce){return le.H.useActionState(Z,fe,Ce)},Qn.useCallback=function(Z,fe){return le.H.useCallback(Z,fe)},Qn.useContext=function(Z){return le.H.useContext(Z)},Qn.useDebugValue=function(){},Qn.useDeferredValue=function(Z,fe){return le.H.useDeferredValue(Z,fe)},Qn.useEffect=function(Z,fe,Ce){var Se=le.H;if(typeof Ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Se.useEffect(Z,fe)},Qn.useId=function(){return le.H.useId()},Qn.useImperativeHandle=function(Z,fe,Ce){return le.H.useImperativeHandle(Z,fe,Ce)},Qn.useInsertionEffect=function(Z,fe){return le.H.useInsertionEffect(Z,fe)},Qn.useLayoutEffect=function(Z,fe){return le.H.useLayoutEffect(Z,fe)},Qn.useMemo=function(Z,fe){return le.H.useMemo(Z,fe)},Qn.useOptimistic=function(Z,fe){return le.H.useOptimistic(Z,fe)},Qn.useReducer=function(Z,fe,Ce){return le.H.useReducer(Z,fe,Ce)},Qn.useRef=function(Z){return le.H.useRef(Z)},Qn.useState=function(Z){return le.H.useState(Z)},Qn.useSyncExternalStore=function(Z,fe,Ce){return le.H.useSyncExternalStore(Z,fe,Ce)},Qn.useTransition=function(){return le.H.useTransition()},Qn.version="19.1.0",Qn}var x2;function EA(){return x2||(x2=1,e0.exports=e7()),e0.exports}var I=EA();const nt=Vm(I),ZO=Z8({__proto__:null,default:nt},[I]);var t0={exports:{}},Yg={},n0={exports:{}},i0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C2;function t7(){return C2||(C2=1,function(l){function c(oe,ve){var he=oe.length;oe.push(ve);e:for(;0<he;){var Ee=he-1>>>1,Z=oe[Ee];if(0<h(Z,ve))oe[Ee]=ve,oe[he]=Z,he=Ee;else break e}}function s(oe){return oe.length===0?null:oe[0]}function o(oe){if(oe.length===0)return null;var ve=oe[0],he=oe.pop();if(he!==ve){oe[0]=he;e:for(var Ee=0,Z=oe.length,fe=Z>>>1;Ee<fe;){var Ce=2*(Ee+1)-1,Se=oe[Ce],He=Ce+1,et=oe[He];if(0>h(Se,he))He<Z&&0>h(et,Se)?(oe[Ee]=et,oe[He]=he,Ee=He):(oe[Ee]=Se,oe[Ce]=he,Ee=Ce);else if(He<Z&&0>h(et,he))oe[Ee]=et,oe[He]=he,Ee=He;else break e}}return ve}function h(oe,ve){var he=oe.sortIndex-ve.sortIndex;return he!==0?he:oe.id-ve.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var g=performance;l.unstable_now=function(){return g.now()}}else{var _=Date,y=_.now();l.unstable_now=function(){return _.now()-y}}var v=[],N=[],S=1,D=null,j=3,B=!1,F=!1,V=!1,$=!1,K=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function ne(oe){for(var ve=s(N);ve!==null;){if(ve.callback===null)o(N);else if(ve.startTime<=oe)o(N),ve.sortIndex=ve.expirationTime,c(v,ve);else break;ve=s(N)}}function le(oe){if(V=!1,ne(oe),!F)if(s(v)!==null)F=!0,se||(se=!0,we());else{var ve=s(N);ve!==null&&je(le,ve.startTime-oe)}}var se=!1,q=-1,de=5,re=-1;function be(){return $?!0:!(l.unstable_now()-re<de)}function ke(){if($=!1,se){var oe=l.unstable_now();re=oe;var ve=!0;try{e:{F=!1,V&&(V=!1,Q(q),q=-1),B=!0;var he=j;try{t:{for(ne(oe),D=s(v);D!==null&&!(D.expirationTime>oe&&be());){var Ee=D.callback;if(typeof Ee=="function"){D.callback=null,j=D.priorityLevel;var Z=Ee(D.expirationTime<=oe);if(oe=l.unstable_now(),typeof Z=="function"){D.callback=Z,ne(oe),ve=!0;break t}D===s(v)&&o(v),ne(oe)}else o(v);D=s(v)}if(D!==null)ve=!0;else{var fe=s(N);fe!==null&&je(le,fe.startTime-oe),ve=!1}}break e}finally{D=null,j=he,B=!1}ve=void 0}}finally{ve?we():se=!1}}}var we;if(typeof ee=="function")we=function(){ee(ke)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,_e=De.port2;De.port1.onmessage=ke,we=function(){_e.postMessage(null)}}else we=function(){K(ke,0)};function je(oe,ve){q=K(function(){oe(l.unstable_now())},ve)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(oe){oe.callback=null},l.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<oe?Math.floor(1e3/oe):5},l.unstable_getCurrentPriorityLevel=function(){return j},l.unstable_next=function(oe){switch(j){case 1:case 2:case 3:var ve=3;break;default:ve=j}var he=j;j=ve;try{return oe()}finally{j=he}},l.unstable_requestPaint=function(){$=!0},l.unstable_runWithPriority=function(oe,ve){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var he=j;j=oe;try{return ve()}finally{j=he}},l.unstable_scheduleCallback=function(oe,ve,he){var Ee=l.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ee+he:Ee):he=Ee,oe){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=he+Z,oe={id:S++,callback:ve,priorityLevel:oe,startTime:he,expirationTime:Z,sortIndex:-1},he>Ee?(oe.sortIndex=he,c(N,oe),s(v)===null&&oe===s(N)&&(V?(Q(q),q=-1):V=!0,je(le,he-Ee))):(oe.sortIndex=Z,c(v,oe),F||B||(F=!0,se||(se=!0,we()))),oe},l.unstable_shouldYield=be,l.unstable_wrapCallback=function(oe){var ve=j;return function(){var he=j;j=ve;try{return oe.apply(this,arguments)}finally{j=he}}}}(i0)),i0}var A2;function n7(){return A2||(A2=1,n0.exports=t7()),n0.exports}var r0={exports:{}},Go={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N2;function i7(){if(N2)return Go;N2=1;var l=EA();function c(v){var N="https://react.dev/errors/"+v;if(1<arguments.length){N+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)N+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+N+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(c(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},h=Symbol.for("react.portal");function g(v,N,S){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:D==null?null:""+D,children:v,containerInfo:N,implementation:S}}var _=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,N){if(v==="font")return"";if(typeof N=="string")return N==="use-credentials"?N:""}return Go.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Go.createPortal=function(v,N){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N||N.nodeType!==1&&N.nodeType!==9&&N.nodeType!==11)throw Error(c(299));return g(v,N,null,S)},Go.flushSync=function(v){var N=_.T,S=o.p;try{if(_.T=null,o.p=2,v)return v()}finally{_.T=N,o.p=S,o.d.f()}},Go.preconnect=function(v,N){typeof v=="string"&&(N?(N=N.crossOrigin,N=typeof N=="string"?N==="use-credentials"?N:"":void 0):N=null,o.d.C(v,N))},Go.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},Go.preinit=function(v,N){if(typeof v=="string"&&N&&typeof N.as=="string"){var S=N.as,D=y(S,N.crossOrigin),j=typeof N.integrity=="string"?N.integrity:void 0,B=typeof N.fetchPriority=="string"?N.fetchPriority:void 0;S==="style"?o.d.S(v,typeof N.precedence=="string"?N.precedence:void 0,{crossOrigin:D,integrity:j,fetchPriority:B}):S==="script"&&o.d.X(v,{crossOrigin:D,integrity:j,fetchPriority:B,nonce:typeof N.nonce=="string"?N.nonce:void 0})}},Go.preinitModule=function(v,N){if(typeof v=="string")if(typeof N=="object"&&N!==null){if(N.as==null||N.as==="script"){var S=y(N.as,N.crossOrigin);o.d.M(v,{crossOrigin:S,integrity:typeof N.integrity=="string"?N.integrity:void 0,nonce:typeof N.nonce=="string"?N.nonce:void 0})}}else N==null&&o.d.M(v)},Go.preload=function(v,N){if(typeof v=="string"&&typeof N=="object"&&N!==null&&typeof N.as=="string"){var S=N.as,D=y(S,N.crossOrigin);o.d.L(v,S,{crossOrigin:D,integrity:typeof N.integrity=="string"?N.integrity:void 0,nonce:typeof N.nonce=="string"?N.nonce:void 0,type:typeof N.type=="string"?N.type:void 0,fetchPriority:typeof N.fetchPriority=="string"?N.fetchPriority:void 0,referrerPolicy:typeof N.referrerPolicy=="string"?N.referrerPolicy:void 0,imageSrcSet:typeof N.imageSrcSet=="string"?N.imageSrcSet:void 0,imageSizes:typeof N.imageSizes=="string"?N.imageSizes:void 0,media:typeof N.media=="string"?N.media:void 0})}},Go.preloadModule=function(v,N){if(typeof v=="string")if(N){var S=y(N.as,N.crossOrigin);o.d.m(v,{as:typeof N.as=="string"&&N.as!=="script"?N.as:void 0,crossOrigin:S,integrity:typeof N.integrity=="string"?N.integrity:void 0})}else o.d.m(v)},Go.requestFormReset=function(v){o.d.r(v)},Go.unstable_batchedUpdates=function(v,N){return v(N)},Go.useFormState=function(v,N,S){return _.H.useFormState(v,N,S)},Go.useFormStatus=function(){return _.H.useHostTransitionStatus()},Go.version="19.1.0",Go}var E2;function XO(){if(E2)return r0.exports;E2=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(c){console.error(c)}}return l(),r0.exports=i7(),r0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S2;function r7(){if(S2)return Yg;S2=1;var l=n7(),c=EA(),s=XO();function o(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var k=2;k<arguments.length;k++)m+="&args[]="+encodeURIComponent(arguments[k])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function g(d){var m=d,k=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(k=m.return),d=m.return;while(d)}return m.tag===3?k:null}function _(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function y(d){if(g(d)!==d)throw Error(o(188))}function v(d){var m=d.alternate;if(!m){if(m=g(d),m===null)throw Error(o(188));return m!==d?null:d}for(var k=d,C=m;;){var M=k.return;if(M===null)break;var P=M.alternate;if(P===null){if(C=M.return,C!==null){k=C;continue}break}if(M.child===P.child){for(P=M.child;P;){if(P===k)return y(M),d;if(P===C)return y(M),m;P=P.sibling}throw Error(o(188))}if(k.return!==C.return)k=M,C=P;else{for(var J=!1,ce=M.child;ce;){if(ce===k){J=!0,k=M,C=P;break}if(ce===C){J=!0,C=M,k=P;break}ce=ce.sibling}if(!J){for(ce=P.child;ce;){if(ce===k){J=!0,k=P,C=M;break}if(ce===C){J=!0,C=P,k=M;break}ce=ce.sibling}if(!J)throw Error(o(189))}}if(k.alternate!==C)throw Error(o(190))}if(k.tag!==3)throw Error(o(188));return k.stateNode.current===k?d:m}function N(d){var m=d.tag;if(m===5||m===26||m===27||m===6)return d;for(d=d.child;d!==null;){if(m=N(d),m!==null)return m;d=d.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),ke=Symbol.iterator;function we(d){return d===null||typeof d!="object"?null:(d=ke&&d[ke]||d["@@iterator"],typeof d=="function"?d:null)}var De=Symbol.for("react.client.reference");function _e(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===De?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case F:return"Fragment";case $:return"Profiler";case V:return"StrictMode";case le:return"Suspense";case se:return"SuspenseList";case re:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case B:return"Portal";case ee:return(d.displayName||"Context")+".Provider";case Q:return(d._context.displayName||"Context")+".Consumer";case ne:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case q:return m=d.displayName||null,m!==null?m:_e(d.type)||"Memo";case de:m=d._payload,d=d._init;try{return _e(d(m))}catch{}}return null}var je=Array.isArray,oe=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ee=[],Z=-1;function fe(d){return{current:d}}function Ce(d){0>Z||(d.current=Ee[Z],Ee[Z]=null,Z--)}function Se(d,m){Z++,Ee[Z]=d.current,d.current=m}var He=fe(null),et=fe(null),pe=fe(null),me=fe(null);function Ie(d,m){switch(Se(pe,m),Se(et,d),Se(He,null),m.nodeType){case 9:case 11:d=(d=m.documentElement)&&(d=d.namespaceURI)?Sk(d):0;break;default:if(d=m.tagName,m=m.namespaceURI)m=Sk(m),d=jk(m,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}Ce(He),Se(He,d)}function We(){Ce(He),Ce(et),Ce(pe)}function Le(d){d.memoizedState!==null&&Se(me,d);var m=He.current,k=jk(m,d.type);m!==k&&(Se(et,d),Se(He,k))}function st(d){et.current===d&&(Ce(He),Ce(et)),me.current===d&&(Ce(me),um._currentValue=he)}var Ge=Object.prototype.hasOwnProperty,Oe=l.unstable_scheduleCallback,ut=l.unstable_cancelCallback,Fe=l.unstable_shouldYield,ht=l.unstable_requestPaint,Pt=l.unstable_now,en=l.unstable_getCurrentPriorityLevel,at=l.unstable_ImmediatePriority,jt=l.unstable_UserBlockingPriority,Dt=l.unstable_NormalPriority,Qe=l.unstable_LowPriority,Tt=l.unstable_IdlePriority,Ot=l.log,$e=l.unstable_setDisableYieldValue,bt=null,$t=null;function fn(d){if(typeof Ot=="function"&&$e(d),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(bt,d)}catch{}}var Rn=Math.clz32?Math.clz32:ci,vn=Math.log,ai=Math.LN2;function ci(d){return d>>>=0,d===0?32:31-(vn(d)/ai|0)|0}var Ar=256,nr=4194304;function Li(d){var m=d&42;if(m!==0)return m;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function ni(d,m,k){var C=d.pendingLanes;if(C===0)return 0;var M=0,P=d.suspendedLanes,J=d.pingedLanes;d=d.warmLanes;var ce=C&134217727;return ce!==0?(C=ce&~P,C!==0?M=Li(C):(J&=ce,J!==0?M=Li(J):k||(k=ce&~d,k!==0&&(M=Li(k))))):(ce=C&~P,ce!==0?M=Li(ce):J!==0?M=Li(J):k||(k=C&~d,k!==0&&(M=Li(k)))),M===0?0:m!==0&&m!==M&&(m&P)===0&&(P=M&-M,k=m&-m,P>=k||P===32&&(k&4194048)!==0)?m:M}function Xn(d,m){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&m)===0}function $s(d,m){switch(d){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function di(){var d=Ar;return Ar<<=1,(Ar&4194048)===0&&(Ar=256),d}function ir(){var d=nr;return nr<<=1,(nr&62914560)===0&&(nr=4194304),d}function kr(d){for(var m=[],k=0;31>k;k++)m.push(d);return m}function rr(d,m){d.pendingLanes|=m,m!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function Nr(d,m,k,C,M,P){var J=d.pendingLanes;d.pendingLanes=k,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=k,d.entangledLanes&=k,d.errorRecoveryDisabledLanes&=k,d.shellSuspendCounter=0;var ce=d.entanglements,Ne=d.expirationTimes,Xe=d.hiddenUpdates;for(k=J&~k;0<k;){var gt=31-Rn(k),vt=1<<gt;ce[gt]=0,Ne[gt]=-1;var tt=Xe[gt];if(tt!==null)for(Xe[gt]=null,gt=0;gt<tt.length;gt++){var it=tt[gt];it!==null&&(it.lane&=-536870913)}k&=~vt}C!==0&&qe(d,C,0),P!==0&&M===0&&d.tag!==0&&(d.suspendedLanes|=P&~(J&~m))}function qe(d,m,k){d.pendingLanes|=m,d.suspendedLanes&=~m;var C=31-Rn(m);d.entangledLanes|=m,d.entanglements[C]=d.entanglements[C]|1073741824|k&4194090}function Zt(d,m){var k=d.entangledLanes|=m;for(d=d.entanglements;k;){var C=31-Rn(k),M=1<<C;M&m|d[C]&m&&(d[C]|=m),k&=~M}}function rt(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function Re(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function Lt(){var d=ve.p;return d!==0?d:(d=window.event,d===void 0?32:Zk(d.type))}function ft(d,m){var k=ve.p;try{return ve.p=d,m()}finally{ve.p=k}}var Bt=Math.random().toString(36).slice(2),an="__reactFiber$"+Bt,On="__reactProps$"+Bt,Sn="__reactContainer$"+Bt,fi="__reactEvents$"+Bt,ye="__reactListeners$"+Bt,dt="__reactHandles$"+Bt,xt="__reactResources$"+Bt,ln="__reactMarker$"+Bt;function qn(d){delete d[an],delete d[On],delete d[fi],delete d[ye],delete d[dt]}function Te(d){var m=d[an];if(m)return m;for(var k=d.parentNode;k;){if(m=k[Sn]||k[an]){if(k=m.alternate,m.child!==null||k!==null&&k.child!==null)for(d=kg(d);d!==null;){if(k=d[an])return k;d=kg(d)}return m}d=k,k=d.parentNode}return null}function Et(d){if(d=d[an]||d[Sn]){var m=d.tag;if(m===5||m===6||m===13||m===26||m===27||m===3)return d}return null}function Mt(d){var m=d.tag;if(m===5||m===26||m===27||m===6)return d.stateNode;throw Error(o(33))}function wn(d){var m=d[xt];return m||(m=d[xt]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function qt(d){d[ln]=!0}var jn=new Set,Wn={};function ii(d,m){pi(d,m),pi(d+"Capture",m)}function pi(d,m){for(Wn[d]=m,d=0;d<m.length;d++)jn.add(m[d])}var Rr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pr={},mo={};function Nc(d){return Ge.call(mo,d)?!0:Ge.call(Pr,d)?!1:Rr.test(d)?mo[d]=!0:(Pr[d]=!0,!1)}function _a(d,m,k){if(Nc(m))if(k===null)d.removeAttribute(m);else{switch(typeof k){case"undefined":case"function":case"symbol":d.removeAttribute(m);return;case"boolean":var C=m.toLowerCase().slice(0,5);if(C!=="data-"&&C!=="aria-"){d.removeAttribute(m);return}}d.setAttribute(m,""+k)}}function fo(d,m,k){if(k===null)d.removeAttribute(m);else{switch(typeof k){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(m);return}d.setAttribute(m,""+k)}}function qs(d,m,k,C){if(C===null)d.removeAttribute(k);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(k);return}d.setAttributeNS(m,k,""+C)}}var Kr,us;function hs(d){if(Kr===void 0)try{throw Error()}catch(k){var m=k.stack.trim().match(/\n( *(at )?)/);Kr=m&&m[1]||"",us=-1<k.stack.indexOf(`
    at`)?" (<anonymous>)":-1<k.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kr+d+us}var Fa=!1;function po(d,m){if(!d||Fa)return"";Fa=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(m){var vt=function(){throw Error()};if(Object.defineProperty(vt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(vt,[])}catch(it){var tt=it}Reflect.construct(d,[],vt)}else{try{vt.call()}catch(it){tt=it}d.call(vt.prototype)}}else{try{throw Error()}catch(it){tt=it}(vt=d())&&typeof vt.catch=="function"&&vt.catch(function(){})}}catch(it){if(it&&tt&&typeof it.stack=="string")return[it.stack,tt.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=C.DetermineComponentFrameRoot(),J=P[0],ce=P[1];if(J&&ce){var Ne=J.split(`
`),Xe=ce.split(`
`);for(M=C=0;C<Ne.length&&!Ne[C].includes("DetermineComponentFrameRoot");)C++;for(;M<Xe.length&&!Xe[M].includes("DetermineComponentFrameRoot");)M++;if(C===Ne.length||M===Xe.length)for(C=Ne.length-1,M=Xe.length-1;1<=C&&0<=M&&Ne[C]!==Xe[M];)M--;for(;1<=C&&0<=M;C--,M--)if(Ne[C]!==Xe[M]){if(C!==1||M!==1)do if(C--,M--,0>M||Ne[C]!==Xe[M]){var gt=`
`+Ne[C].replace(" at new "," at ");return d.displayName&&gt.includes("<anonymous>")&&(gt=gt.replace("<anonymous>",d.displayName)),gt}while(1<=C&&0<=M);break}}}finally{Fa=!1,Error.prepareStackTrace=k}return(k=d?d.displayName||d.name:"")?hs(k):""}function Yn(d){switch(d.tag){case 26:case 27:case 5:return hs(d.type);case 16:return hs("Lazy");case 13:return hs("Suspense");case 19:return hs("SuspenseList");case 0:case 15:return po(d.type,!1);case 11:return po(d.type.render,!1);case 1:return po(d.type,!0);case 31:return hs("Activity");default:return""}}function _i(d){try{var m="";do m+=Yn(d),d=d.return;while(d);return m}catch(k){return`
Error generating stack: `+k.message+`
`+k.stack}}function _r(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function To(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Jo(d){var m=To(d)?"checked":"value",k=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),C=""+d[m];if(!d.hasOwnProperty(m)&&typeof k<"u"&&typeof k.get=="function"&&typeof k.set=="function"){var M=k.get,P=k.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return M.call(this)},set:function(J){C=""+J,P.call(this,J)}}),Object.defineProperty(d,m,{enumerable:k.enumerable}),{getValue:function(){return C},setValue:function(J){C=""+J},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function Qr(d){d._valueTracker||(d._valueTracker=Jo(d))}function Nn(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var k=m.getValue(),C="";return d&&(C=To(d)?d.checked?"true":"false":d.value),d=C,d!==k?(m.setValue(d),!0):!1}function Gn(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var Er=/[\n"\\]/g;function Mi(d){return d.replace(Er,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function Ei(d,m,k,C,M,P,J,ce){d.name="",J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?d.type=J:d.removeAttribute("type"),m!=null?J==="number"?(m===0&&d.value===""||d.value!=m)&&(d.value=""+_r(m)):d.value!==""+_r(m)&&(d.value=""+_r(m)):J!=="submit"&&J!=="reset"||d.removeAttribute("value"),m!=null?Ws(d,J,_r(m)):k!=null?Ws(d,J,_r(k)):C!=null&&d.removeAttribute("value"),M==null&&P!=null&&(d.defaultChecked=!!P),M!=null&&(d.checked=M&&typeof M!="function"&&typeof M!="symbol"),ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?d.name=""+_r(ce):d.removeAttribute("name")}function Ha(d,m,k,C,M,P,J,ce){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(d.type=P),m!=null||k!=null){if(!(P!=="submit"&&P!=="reset"||m!=null))return;k=k!=null?""+_r(k):"",m=m!=null?""+_r(m):k,ce||m===d.value||(d.value=m),d.defaultValue=m}C=C??M,C=typeof C!="function"&&typeof C!="symbol"&&!!C,d.checked=ce?d.checked:!!C,d.defaultChecked=!!C,J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(d.name=J)}function Ws(d,m,k){m==="number"&&Gn(d.ownerDocument)===d||d.defaultValue===""+k||(d.defaultValue=""+k)}function $i(d,m,k,C){if(d=d.options,m){m={};for(var M=0;M<k.length;M++)m["$"+k[M]]=!0;for(k=0;k<d.length;k++)M=m.hasOwnProperty("$"+d[k].value),d[k].selected!==M&&(d[k].selected=M),M&&C&&(d[k].defaultSelected=!0)}else{for(k=""+_r(k),m=null,M=0;M<d.length;M++){if(d[M].value===k){d[M].selected=!0,C&&(d[M].defaultSelected=!0);return}m!==null||d[M].disabled||(m=d[M])}m!==null&&(m.selected=!0)}}function Vn(d,m,k){if(m!=null&&(m=""+_r(m),m!==d.value&&(d.value=m),k==null)){d.defaultValue!==m&&(d.defaultValue=m);return}d.defaultValue=k!=null?""+_r(k):""}function zr(d,m,k,C){if(m==null){if(C!=null){if(k!=null)throw Error(o(92));if(je(C)){if(1<C.length)throw Error(o(93));C=C[0]}k=C}k==null&&(k=""),m=k}k=_r(m),d.defaultValue=k,C=d.textContent,C===k&&C!==""&&C!==null&&(d.value=C)}function Sr(d,m){if(m){var k=d.firstChild;if(k&&k===d.lastChild&&k.nodeType===3){k.nodeValue=m;return}}d.textContent=m}var ms=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ys(d,m,k){var C=m.indexOf("--")===0;k==null||typeof k=="boolean"||k===""?C?d.setProperty(m,""):m==="float"?d.cssFloat="":d[m]="":C?d.setProperty(m,k):typeof k!="number"||k===0||ms.has(m)?m==="float"?d.cssFloat=k:d[m]=(""+k).trim():d[m]=k+"px"}function xs(d,m,k){if(m!=null&&typeof m!="object")throw Error(o(62));if(d=d.style,k!=null){for(var C in k)!k.hasOwnProperty(C)||m!=null&&m.hasOwnProperty(C)||(C.indexOf("--")===0?d.setProperty(C,""):C==="float"?d.cssFloat="":d[C]="");for(var M in m)C=m[M],m.hasOwnProperty(M)&&k[M]!==C&&Ys(d,M,C)}else for(var P in m)m.hasOwnProperty(P)&&Ys(d,P,m[P])}function Gs(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nn(d){return Ct.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}var Dn=null;function vi(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Hi=null,wi=null;function hl(d){var m=Et(d);if(m&&(d=m.stateNode)){var k=d[On]||null;e:switch(d=m.stateNode,m.type){case"input":if(Ei(d,k.value,k.defaultValue,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name),m=k.name,k.type==="radio"&&m!=null){for(k=d;k.parentNode;)k=k.parentNode;for(k=k.querySelectorAll('input[name="'+Mi(""+m)+'"][type="radio"]'),m=0;m<k.length;m++){var C=k[m];if(C!==d&&C.form===d.form){var M=C[On]||null;if(!M)throw Error(o(90));Ei(C,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name)}}for(m=0;m<k.length;m++)C=k[m],C.form===d.form&&Nn(C)}break e;case"textarea":Vn(d,k.value,k.defaultValue);break e;case"select":m=k.value,m!=null&&$i(d,!!k.multiple,m,!1)}}}var Xt=!1;function qi(d,m,k){if(Xt)return d(m,k);Xt=!0;try{var C=d(m);return C}finally{if(Xt=!1,(Hi!==null||wi!==null)&&(em(),Hi&&(m=Hi,d=wi,wi=Hi=null,hl(m),d)))for(m=0;m<d.length;m++)hl(d[m])}}function Jn(d,m){var k=d.stateNode;if(k===null)return null;var C=k[On]||null;if(C===null)return null;k=C[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(d=d.type,C=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!C;break e;default:d=!1}if(d)return null;if(k&&typeof k!="function")throw Error(o(231,m,typeof k));return k}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),go=!1;if(fs)try{var va={};Object.defineProperty(va,"passive",{get:function(){go=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{go=!1}var Zr=null,bo=null,Ks=null;function Mo(){if(Ks)return Ks;var d,m=bo,k=m.length,C,M="value"in Zr?Zr.value:Zr.textContent,P=M.length;for(d=0;d<k&&m[d]===M[d];d++);var J=k-d;for(C=1;C<=J&&m[k-C]===M[P-C];C++);return Ks=M.slice(d,1<C?1-C:void 0)}function Tn(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function Cs(){return!0}function ql(){return!1}function jr(d){function m(k,C,M,P,J){this._reactName=k,this._targetInst=M,this.type=C,this.nativeEvent=P,this.target=J,this.currentTarget=null;for(var ce in d)d.hasOwnProperty(ce)&&(k=d[ce],this[ce]=k?k(P):P[ce]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Cs:ql,this.isPropagationStopped=ql,this}return S(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var k=this.nativeEvent;k&&(k.preventDefault?k.preventDefault():typeof k.returnValue!="unknown"&&(k.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var k=this.nativeEvent;k&&(k.stopPropagation?k.stopPropagation():typeof k.cancelBubble!="unknown"&&(k.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),m}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=jr(As),ps=S({},As,{view:0,detail:0}),Cd=jr(ps),Io,Pn,Va,Xr=S({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wl,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Va&&(Va&&d.type==="mousemove"?(Io=d.screenX-Va.screenX,Pn=d.screenY-Va.screenY):Pn=Io=0,Va=d),Io)},movementY:function(d){return"movementY"in d?d.movementY:Pn}}),Ns=jr(Xr),Nu=S({},Xr,{dataTransfer:0}),Eu=jr(Nu),Ec=S({},ps,{relatedTarget:0}),Ua=jr(Ec),$a=S({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),Su=jr($a),Ad=S({},As,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Sc=jr(Ad),Ah=S({},As,{data:0}),Fr=jr(Ah),ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nd(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=Qs[d])?!!m[d]:!1}function Wl(){return Nd}var ml=S({},ps,{key:function(d){if(d.key){var m=ju[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=Tn(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?jc[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wl,charCode:function(d){return d.type==="keypress"?Tn(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Tn(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Ed=jr(ml),Sd=S({},Xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oo=jr(Sd),jd=S({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wl}),Du=jr(jd),fl=S({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nh=jr(fl),Dd=S({},Xr,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Td=jr(Dd),Dc=S({},As,{newState:0,oldState:0}),ta=jr(Dc),Tc=[9,13,27,32],qa=fs&&"CompositionEvent"in window,Wi=null;fs&&"documentMode"in document&&(Wi=document.documentMode);var Lo=fs&&"TextEvent"in window&&!Wi,Yl=fs&&(!qa||Wi&&8<Wi&&11>=Wi),Wa=" ",Gl=!1;function Kl(d,m){switch(d){case"keyup":return Tc.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Md(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Ya=!1;function Id(d,m){switch(d){case"compositionend":return Md(m);case"keypress":return m.which!==32?null:(Gl=!0,Wa);case"textInput":return d=m.data,d===Wa&&Gl?null:d;default:return null}}function Eh(d,m){if(Ya)return d==="compositionend"||!qa&&Kl(d,m)?(d=Mo(),Ks=bo=Zr=null,Ya=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return Yl&&m.locale!=="ko"?null:m.data;default:return null}}var ko={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ga(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!ko[d.type]:m==="textarea"}function Zs(d,m,k,C){Hi?wi?wi.push(C):wi=[C]:Hi=C,m=Si(m,"onChange"),0<m.length&&(k=new ea("onChange","change",null,k,C),d.push({event:k,listeners:m}))}var gs=null,Xs=null;function _o(d){ug(d,0)}function Mc(d){var m=Mt(d);if(Nn(m))return d}function pl(d,m){if(d==="change")return m}var Ka=!1;if(fs){var vo;if(fs){var Od="oninput"in document;if(!Od){var na=document.createElement("div");na.setAttribute("oninput","return;"),Od=typeof na.oninput=="function"}vo=Od}else vo=!1;Ka=vo&&(!document.documentMode||9<document.documentMode)}function gl(){gs&&(gs.detachEvent("onpropertychange",Ld),Xs=gs=null)}function Ld(d){if(d.propertyName==="value"&&Mc(Xs)){var m=[];Zs(m,Xs,d,vi(d)),qi(_o,m)}}function Ic(d,m,k){d==="focusin"?(gl(),gs=m,Xs=k,gs.attachEvent("onpropertychange",Ld)):d==="focusout"&&gl()}function Tu(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Mc(Xs)}function wo(d,m){if(d==="click")return Mc(m)}function Mu(d,m){if(d==="input"||d==="change")return Mc(m)}function Bo(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var bs=typeof Object.is=="function"?Object.is:Bo;function Hr(d,m){if(bs(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var k=Object.keys(d),C=Object.keys(m);if(k.length!==C.length)return!1;for(C=0;C<k.length;C++){var M=k[C];if(!Ge.call(m,M)||!bs(d[M],m[M]))return!1}return!0}function Vr(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Oc(d,m){var k=Vr(d);d=0;for(var C;k;){if(k.nodeType===3){if(C=d+k.textContent.length,d<=m&&C>=m)return{node:k,offset:m-d};d=C}e:{for(;k;){if(k.nextSibling){k=k.nextSibling;break e}k=k.parentNode}k=void 0}k=Vr(k)}}function Lc(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?Lc(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function bl(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var m=Gn(d.document);m instanceof d.HTMLIFrameElement;){try{var k=typeof m.contentWindow.location.href=="string"}catch{k=!1}if(k)d=m.contentWindow;else break;m=Gn(d.document)}return m}function Qa(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}var Bc=fs&&"documentMode"in document&&11>=document.documentMode,Js=null,Za=null,wa=null,bi=!1;function Rc(d,m,k){var C=k.window===k?k.document:k.nodeType===9?k:k.ownerDocument;bi||Js==null||Js!==Gn(C)||(C=Js,"selectionStart"in C&&Qa(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),wa&&Hr(wa,C)||(wa=C,C=Si(Za,"onSelect"),0<C.length&&(m=new ea("onSelect","select",null,m,k),d.push({event:m,listeners:C}),m.target=Js)))}function Es(d,m){var k={};return k[d.toLowerCase()]=m.toLowerCase(),k["Webkit"+d]="webkit"+m,k["Moz"+d]="moz"+m,k}var Ss={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionrun:Es("Transition","TransitionRun"),transitionstart:Es("Transition","TransitionStart"),transitioncancel:Es("Transition","TransitionCancel"),transitionend:Es("Transition","TransitionEnd")},Xa={},Bd={};fs&&(Bd=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function ya(d){if(Xa[d])return Xa[d];if(!Ss[d])return d;var m=Ss[d],k;for(k in m)if(m.hasOwnProperty(k)&&k in Bd)return Xa[d]=m[k];return d}var Jr=ya("animationend"),sr=ya("animationiteration"),Ja=ya("animationstart"),eo=ya("transitionrun"),Ql=ya("transitionstart"),Rd=ya("transitioncancel"),Zl=ya("transitionend"),Yi=new Map,Ro="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ro.push("scrollEnd");function to(d,m){Yi.set(d,m),ii(m,[d])}var xa=new WeakMap;function pn(d,m){if(typeof d=="object"&&d!==null){var k=xa.get(d);return k!==void 0?k:(m={value:d,source:m,stack:_i(m)},xa.set(d,m),m)}return{value:d,source:m,stack:_i(m)}}var Dr=[],el=0,js=0;function kl(){for(var d=el,m=js=el=0;m<d;){var k=Dr[m];Dr[m++]=null;var C=Dr[m];Dr[m++]=null;var M=Dr[m];Dr[m++]=null;var P=Dr[m];if(Dr[m++]=null,C!==null&&M!==null){var J=C.pending;J===null?M.next=M:(M.next=J.next,J.next=M),C.pending=M}P!==0&&xo(k,M,P)}}function Bi(d,m,k,C){Dr[el++]=d,Dr[el++]=m,Dr[el++]=k,Dr[el++]=C,js|=C,d.lanes|=C,d=d.alternate,d!==null&&(d.lanes|=C)}function yo(d,m,k,C){return Bi(d,m,k,C),no(d)}function es(d,m){return Bi(d,null,null,m),no(d)}function xo(d,m,k){d.lanes|=k;var C=d.alternate;C!==null&&(C.lanes|=k);for(var M=!1,P=d.return;P!==null;)P.childLanes|=k,C=P.alternate,C!==null&&(C.childLanes|=k),P.tag===22&&(d=P.stateNode,d===null||d._visibility&1||(M=!0)),d=P,P=P.return;return d.tag===3?(P=d.stateNode,M&&m!==null&&(M=31-Rn(k),d=P.hiddenUpdates,C=d[M],C===null?d[M]=[m]:C.push(m),m.lane=k|536870912),P):null}function no(d){if(50<Xu)throw Xu=0,wf=null,Error(o(185));for(var m=d.return;m!==null;)d=m,m=d.return;return d.tag===3?d.stateNode:null}var Ca={};function _l(d,m,k,C){this.tag=d,this.key=k,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(d,m,k,C){return new _l(d,m,k,C)}function Xl(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Ds(d,m){var k=d.alternate;return k===null?(k=ur(d.tag,m,d.key,d.mode),k.elementType=d.elementType,k.type=d.type,k.stateNode=d.stateNode,k.alternate=d,d.alternate=k):(k.pendingProps=m,k.type=d.type,k.flags=0,k.subtreeFlags=0,k.deletions=null),k.flags=d.flags&65011712,k.childLanes=d.childLanes,k.lanes=d.lanes,k.child=d.child,k.memoizedProps=d.memoizedProps,k.memoizedState=d.memoizedState,k.updateQueue=d.updateQueue,m=d.dependencies,k.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},k.sibling=d.sibling,k.index=d.index,k.ref=d.ref,k.refCleanup=d.refCleanup,k}function Pc(d,m){d.flags&=65011714;var k=d.alternate;return k===null?(d.childLanes=0,d.lanes=m,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=k.childLanes,d.lanes=k.lanes,d.child=k.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=k.memoizedProps,d.memoizedState=k.memoizedState,d.updateQueue=k.updateQueue,d.type=k.type,m=k.dependencies,d.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),d}function vl(d,m,k,C,M,P){var J=0;if(C=d,typeof d=="function")Xl(d)&&(J=1);else if(typeof d=="string")J=Yw(d,k,He.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case re:return d=ur(31,k,m,M),d.elementType=re,d.lanes=P,d;case F:return Co(k.children,M,P,m);case V:J=8,M|=24;break;case $:return d=ur(12,k,m,M|2),d.elementType=$,d.lanes=P,d;case le:return d=ur(13,k,m,M),d.elementType=le,d.lanes=P,d;case se:return d=ur(19,k,m,M),d.elementType=se,d.lanes=P,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case K:case ee:J=10;break e;case Q:J=9;break e;case ne:J=11;break e;case q:J=14;break e;case de:J=16,C=null;break e}J=29,k=Error(o(130,d===null?"null":typeof d,"")),C=null}return m=ur(J,k,m,M),m.elementType=d,m.type=C,m.lanes=P,m}function Co(d,m,k,C){return d=ur(7,d,C,m),d.lanes=k,d}function wl(d,m,k){return d=ur(6,d,null,m),d.lanes=k,d}function zc(d,m,k){return m=ur(4,d.children!==null?d.children:[],d.key,m),m.lanes=k,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}var ia=[],Aa=0,p=null,x=0,T=[],H=0,G=null,ie=1,Ae="";function Ye(d,m){ia[Aa++]=x,ia[Aa++]=p,p=d,x=m}function Ve(d,m,k){T[H++]=ie,T[H++]=Ae,T[H++]=G,G=d;var C=ie;d=Ae;var M=32-Rn(C)-1;C&=~(1<<M),k+=1;var P=32-Rn(m)+M;if(30<P){var J=M-M%5;P=(C&(1<<J)-1).toString(32),C>>=J,M-=J,ie=1<<32-Rn(m)+M|k<<M|C,Ae=P+d}else ie=1<<P|k<<M|C,Ae=d}function Nt(d){d.return!==null&&(Ye(d,1),Ve(d,1,0))}function zt(d){for(;d===p;)p=ia[--Aa],ia[Aa]=null,x=ia[--Aa],ia[Aa]=null;for(;d===G;)G=T[--H],T[H]=null,Ae=T[--H],T[H]=null,ie=T[--H],T[H]=null}var Gt=null,sn=null,bn=!1,gn=null,yi=!1,hr=Error(o(519));function Ts(d){var m=Error(o(418,""));throw yl(pn(m,d)),hr}function Pd(d){var m=d.stateNode,k=d.type,C=d.memoizedProps;switch(m[an]=d,m[On]=C,k){case"dialog":Hn("cancel",m),Hn("close",m);break;case"iframe":case"object":case"embed":Hn("load",m);break;case"video":case"audio":for(k=0;k<zs.length;k++)Hn(zs[k],m);break;case"source":Hn("error",m);break;case"img":case"image":case"link":Hn("error",m),Hn("load",m);break;case"details":Hn("toggle",m);break;case"input":Hn("invalid",m),Ha(m,C.value,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name,!0),Qr(m);break;case"select":Hn("invalid",m);break;case"textarea":Hn("invalid",m),zr(m,C.value,C.defaultValue,C.children),Qr(m)}k=C.children,typeof k!="string"&&typeof k!="number"&&typeof k!="bigint"||m.textContent===""+k||C.suppressHydrationWarning===!0||So(m.textContent,k)?(C.popover!=null&&(Hn("beforetoggle",m),Hn("toggle",m)),C.onScroll!=null&&Hn("scroll",m),C.onScrollEnd!=null&&Hn("scrollend",m),C.onClick!=null&&(m.onclick=Da),m=!0):m=!1,m||Ts(d)}function Iu(d){for(Gt=d.return;Gt;)switch(Gt.tag){case 5:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:Gt=Gt.return}}function Jl(d){if(d!==Gt)return!1;if(!bn)return Iu(d),bn=!0,!1;var m=d.tag,k;if((k=m!==3&&m!==27)&&((k=m===5)&&(k=d.type,k=!(k!=="form"&&k!=="button")||jf(d.type,d.memoizedProps)),k=!k),k&&sn&&Ts(d),Iu(d),m===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));e:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8)if(k=d.data,k==="/$"){if(m===0){sn=Ta(d.nextSibling);break e}m--}else k!=="$"&&k!=="$!"&&k!=="$?"||m++;d=d.nextSibling}sn=null}}else m===27?(m=sn,sd(d.type)?(d=bg,bg=null,sn=d):sn=m):sn=Gt?Ta(d.stateNode.nextSibling):null;return!0}function Po(){sn=Gt=null,bn=!1}function ts(){var d=gn;return d!==null&&(Ps===null?Ps=d:Ps.push.apply(Ps,d),gn=null),d}function yl(d){gn===null?gn=[d]:gn.push(d)}var Gi=fe(null),zo=null,ra=null;function Na(d,m,k){Se(Gi,m._currentValue),m._currentValue=k}function sa(d){d._currentValue=Gi.current,Ce(Gi)}function Fc(d,m,k){for(;d!==null;){var C=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,C!==null&&(C.childLanes|=m)):C!==null&&(C.childLanes&m)!==m&&(C.childLanes|=m),d===k)break;d=d.return}}function Hc(d,m,k,C){var M=d.child;for(M!==null&&(M.return=d);M!==null;){var P=M.dependencies;if(P!==null){var J=M.child;P=P.firstContext;e:for(;P!==null;){var ce=P;P=M;for(var Ne=0;Ne<m.length;Ne++)if(ce.context===m[Ne]){P.lanes|=k,ce=P.alternate,ce!==null&&(ce.lanes|=k),Fc(P.return,k,d),C||(J=null);break e}P=ce.next}}else if(M.tag===18){if(J=M.return,J===null)throw Error(o(341));J.lanes|=k,P=J.alternate,P!==null&&(P.lanes|=k),Fc(J,k,d),J=null}else J=M.child;if(J!==null)J.return=M;else for(J=M;J!==null;){if(J===d){J=null;break}if(M=J.sibling,M!==null){M.return=J.return,J=M;break}J=J.return}M=J}}function xl(d,m,k,C){d=null;for(var M=m,P=!1;M!==null;){if(!P){if((M.flags&524288)!==0)P=!0;else if((M.flags&262144)!==0)break}if(M.tag===10){var J=M.alternate;if(J===null)throw Error(o(387));if(J=J.memoizedProps,J!==null){var ce=M.type;bs(M.pendingProps.value,J.value)||(d!==null?d.push(ce):d=[ce])}}else if(M===me.current){if(J=M.alternate,J===null)throw Error(o(387));J.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(d!==null?d.push(um):d=[um])}M=M.return}d!==null&&Hc(m,d,k,C),m.flags|=262144}function Ou(d){for(d=d.firstContext;d!==null;){if(!bs(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function tl(d){zo=d,ra=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function vr(d){return Cl(zo,d)}function zd(d,m){return zo===null&&tl(d),Cl(d,m)}function Cl(d,m){var k=m._currentValue;if(m={context:m,memoizedValue:k,next:null},ra===null){if(d===null)throw Error(o(308));ra=m,d.dependencies={lanes:0,firstContext:m},d.flags|=524288}else ra=ra.next=m;return k}var Sh=typeof AbortController<"u"?AbortController:function(){var d=[],m=this.signal={aborted:!1,addEventListener:function(k,C){d.push(C)}};this.abort=function(){m.aborted=!0,d.forEach(function(k){return k()})}},jh=l.unstable_scheduleCallback,Fo=l.unstable_NormalPriority,Un={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mr(){return{controller:new Sh,data:new Map,refCount:0}}function fr(d){d.refCount--,d.refCount===0&&jh(Fo,function(){d.controller.abort()})}var io=null,oa=0,Ms=0,Al=null;function Cp(d,m){if(io===null){var k=io=[];oa=0,Ms=Ef(),Al={status:"pending",value:void 0,then:function(C){k.push(C)}}}return oa++,m.then(Dh,Dh),m}function Dh(){if(--oa===0&&io!==null){Al!==null&&(Al.status="fulfilled");var d=io;io=null,Ms=0,Al=null;for(var m=0;m<d.length;m++)(0,d[m])()}}function Ho(d,m){var k=[],C={status:"pending",value:null,reason:null,then:function(M){k.push(M)}};return d.then(function(){C.status="fulfilled",C.value=m;for(var M=0;M<k.length;M++)(0,k[M])(m)},function(M){for(C.status="rejected",C.reason=M,M=0;M<k.length;M++)(0,k[M])(void 0)}),C}var Vo=oe.S;oe.S=function(d,m){typeof m=="object"&&m!==null&&typeof m.then=="function"&&Cp(d,m),Vo!==null&&Vo(d,m)};var aa=fe(null);function Th(){var d=aa.current;return d!==null?d:Qi.pooledCache}function Fd(d,m){m===null?Se(aa,aa.current):Se(aa,m.pool)}function Vc(){var d=Th();return d===null?null:{parent:Un._currentValue,pool:d}}var nl=Error(o(460)),Hd=Error(o(474)),Lu=Error(o(542)),Mh={then:function(){}};function ec(d){return d=d.status,d==="fulfilled"||d==="rejected"}function te(){}function R(d,m,k){switch(k=d[k],k===void 0?d.push(m):k!==m&&(m.then(te,te),m=k),m.status){case"fulfilled":return m.value;case"rejected":throw d=m.reason,ze(d),d;default:if(typeof m.status=="string")m.then(te,te);else{if(d=Qi,d!==null&&100<d.shellSuspendCounter)throw Error(o(482));d=m,d.status="pending",d.then(function(C){if(m.status==="pending"){var M=m;M.status="fulfilled",M.value=C}},function(C){if(m.status==="pending"){var M=m;M.status="rejected",M.reason=C}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw d=m.reason,ze(d),d}throw Y=m,nl}}var Y=null;function ue(){if(Y===null)throw Error(o(459));var d=Y;return Y=null,d}function ze(d){if(d===nl||d===Lu)throw Error(o(483))}var Pe=!1;function ot(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wt(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function It(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function Wt(d,m,k){var C=d.updateQueue;if(C===null)return null;if(C=C.shared,(zi&2)!==0){var M=C.pending;return M===null?m.next=m:(m.next=M.next,M.next=m),C.pending=m,m=no(d),xo(d,null,k),m}return Bi(d,C,m,k),no(d)}function Kt(d,m,k){if(m=m.updateQueue,m!==null&&(m=m.shared,(k&4194048)!==0)){var C=m.lanes;C&=d.pendingLanes,k|=C,m.lanes=k,Zt(d,k)}}function Yt(d,m){var k=d.updateQueue,C=d.alternate;if(C!==null&&(C=C.updateQueue,k===C)){var M=null,P=null;if(k=k.firstBaseUpdate,k!==null){do{var J={lane:k.lane,tag:k.tag,payload:k.payload,callback:null,next:null};P===null?M=P=J:P=P.next=J,k=k.next}while(k!==null);P===null?M=P=m:P=P.next=m}else M=P=m;k={baseState:C.baseState,firstBaseUpdate:M,lastBaseUpdate:P,shared:C.shared,callbacks:C.callbacks},d.updateQueue=k;return}d=k.lastBaseUpdate,d===null?k.firstBaseUpdate=m:d.next=m,k.lastBaseUpdate=m}var mt=!1;function hn(){if(mt){var d=Al;if(d!==null)throw d}}function yn(d,m,k,C){mt=!1;var M=d.updateQueue;Pe=!1;var P=M.firstBaseUpdate,J=M.lastBaseUpdate,ce=M.shared.pending;if(ce!==null){M.shared.pending=null;var Ne=ce,Xe=Ne.next;Ne.next=null,J===null?P=Xe:J.next=Xe,J=Ne;var gt=d.alternate;gt!==null&&(gt=gt.updateQueue,ce=gt.lastBaseUpdate,ce!==J&&(ce===null?gt.firstBaseUpdate=Xe:ce.next=Xe,gt.lastBaseUpdate=Ne))}if(P!==null){var vt=M.baseState;J=0,gt=Xe=Ne=null,ce=P;do{var tt=ce.lane&-536870913,it=tt!==ce.lane;if(it?(hi&tt)===tt:(C&tt)===tt){tt!==0&&tt===Ms&&(mt=!0),gt!==null&&(gt=gt.next={lane:0,tag:ce.tag,payload:ce.payload,callback:null,next:null});e:{var In=d,kn=ce;tt=m;var Vi=k;switch(kn.tag){case 1:if(In=kn.payload,typeof In=="function"){vt=In.call(Vi,vt,tt);break e}vt=In;break e;case 3:In.flags=In.flags&-65537|128;case 0:if(In=kn.payload,tt=typeof In=="function"?In.call(Vi,vt,tt):In,tt==null)break e;vt=S({},vt,tt);break e;case 2:Pe=!0}}tt=ce.callback,tt!==null&&(d.flags|=64,it&&(d.flags|=8192),it=M.callbacks,it===null?M.callbacks=[tt]:it.push(tt))}else it={lane:tt,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},gt===null?(Xe=gt=it,Ne=vt):gt=gt.next=it,J|=tt;if(ce=ce.next,ce===null){if(ce=M.shared.pending,ce===null)break;it=ce,ce=it.next,it.next=null,M.lastBaseUpdate=it,M.shared.pending=null}}while(!0);gt===null&&(Ne=vt),M.baseState=Ne,M.firstBaseUpdate=Xe,M.lastBaseUpdate=gt,P===null&&(M.shared.lanes=0),Dl|=J,d.lanes=J,d.memoizedState=vt}}function St(d,m){if(typeof d!="function")throw Error(o(191,d));d.call(m)}function xn(d,m){var k=d.callbacks;if(k!==null)for(d.callbacks=null,d=0;d<k.length;d++)St(k[d],m)}var ri=fe(null),gi=fe(0);function Fn(d,m){d=hc,Se(gi,d),Se(ri,m),hc=d|m.baseLanes}function lt(){Se(gi,hc),Se(ri,ri.current)}function Ln(){hc=gi.current,Ce(ri),Ce(gi)}var Ht=0,Jt=null,cn=null,_n=null,Ki=!1,Ur=!1,ns=!1,Tr=0,Mr=0,is=null,or=0;function xi(){throw Error(o(321))}function Is(d,m){if(m===null)return!1;for(var k=0;k<m.length&&k<d.length;k++)if(!bs(d[k],m[k]))return!1;return!0}function il(d,m,k,C,M,P){return Ht=P,Jt=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,oe.H=d===null||d.memoizedState===null?rf:sf,ns=!1,P=k(C,M),ns=!1,Ur&&(P=Ii(m,k,C,M)),wr(d),P}function wr(d){oe.H=nf;var m=cn!==null&&cn.next!==null;if(Ht=0,_n=cn=Jt=null,Ki=!1,Mr=0,is=null,m)throw Error(o(300));d===null||rs||(d=d.dependencies,d!==null&&Ou(d)&&(rs=!0))}function Ii(d,m,k,C){Jt=d;var M=0;do{if(Ur&&(is=null),Mr=0,Ur=!1,25<=M)throw Error(o(301));if(M+=1,_n=cn=null,d.updateQueue!=null){var P=d.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}oe.H=Aw,P=m(k,C)}while(Ur);return P}function Os(){var d=oe.H,m=d.useState()[0];return m=typeof m.then=="function"?la(m):m,d=d.useState()[0],(cn!==null?cn.memoizedState:null)!==d&&(Jt.flags|=1024),m}function ro(){var d=Tr!==0;return Tr=0,d}function Uo(d,m,k){m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~k}function tc(d){if(Ki){for(d=d.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Ki=!1}Ht=0,_n=cn=Jt=null,Ur=!1,Mr=Tr=0,is=null}function Ls(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Jt.memoizedState=_n=d:_n=_n.next=d,_n}function Ri(){if(cn===null){var d=Jt.alternate;d=d!==null?d.memoizedState:null}else d=cn.next;var m=_n===null?Jt.memoizedState:_n.next;if(m!==null)_n=m,cn=d;else{if(d===null)throw Jt.alternate===null?Error(o(467)):Error(o(310));cn=d,d={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},_n===null?Jt.memoizedState=_n=d:_n=_n.next=d}return _n}function nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function la(d){var m=Mr;return Mr+=1,is===null&&(is=[]),d=R(is,d,m),m=Jt,(_n===null?m.memoizedState:_n.next)===null&&(m=m.alternate,oe.H=m===null||m.memoizedState===null?rf:sf),d}function ki(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return la(d);if(d.$$typeof===ee)return vr(d)}throw Error(o(438,String(d)))}function so(d){var m=null,k=Jt.updateQueue;if(k!==null&&(m=k.memoCache),m==null){var C=Jt.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(m={data:C.data.map(function(M){return M.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),k===null&&(k=nc(),Jt.updateQueue=k),k.memoCache=m,k=m.data[m.index],k===void 0)for(k=m.data[m.index]=Array(d),C=0;C<d;C++)k[C]=be;return m.index++,k}function $r(d,m){return typeof m=="function"?m(d):m}function Uc(d){var m=Ri();return Vd(m,cn,d)}function Vd(d,m,k){var C=d.queue;if(C===null)throw Error(o(311));C.lastRenderedReducer=k;var M=d.baseQueue,P=C.pending;if(P!==null){if(M!==null){var J=M.next;M.next=P.next,P.next=J}m.baseQueue=M=P,C.pending=null}if(P=d.baseState,M===null)d.memoizedState=P;else{m=M.next;var ce=J=null,Ne=null,Xe=m,gt=!1;do{var vt=Xe.lane&-536870913;if(vt!==Xe.lane?(hi&vt)===vt:(Ht&vt)===vt){var tt=Xe.revertLane;if(tt===0)Ne!==null&&(Ne=Ne.next={lane:0,revertLane:0,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),vt===Ms&&(gt=!0);else if((Ht&tt)===tt){Xe=Xe.next,tt===Ms&&(gt=!0);continue}else vt={lane:0,revertLane:Xe.revertLane,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Ne===null?(ce=Ne=vt,J=P):Ne=Ne.next=vt,Jt.lanes|=tt,Dl|=tt;vt=Xe.action,ns&&k(P,vt),P=Xe.hasEagerState?Xe.eagerState:k(P,vt)}else tt={lane:vt,revertLane:Xe.revertLane,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Ne===null?(ce=Ne=tt,J=P):Ne=Ne.next=tt,Jt.lanes|=vt,Dl|=vt;Xe=Xe.next}while(Xe!==null&&Xe!==m);if(Ne===null?J=P:Ne.next=ce,!bs(P,d.memoizedState)&&(rs=!0,gt&&(k=Al,k!==null)))throw k;d.memoizedState=P,d.baseState=J,d.baseQueue=Ne,C.lastRenderedState=P}return M===null&&(C.lanes=0),[d.memoizedState,C.dispatch]}function ic(d){var m=Ri(),k=m.queue;if(k===null)throw Error(o(311));k.lastRenderedReducer=d;var C=k.dispatch,M=k.pending,P=m.memoizedState;if(M!==null){k.pending=null;var J=M=M.next;do P=d(P,J.action),J=J.next;while(J!==M);bs(P,m.memoizedState)||(rs=!0),m.memoizedState=P,m.baseQueue===null&&(m.baseState=P),k.lastRenderedState=P}return[P,C]}function Ih(d,m,k){var C=Jt,M=Ri(),P=bn;if(P){if(k===void 0)throw Error(o(407));k=k()}else k=m();var J=!bs((cn||M).memoizedState,k);J&&(M.memoizedState=k,rs=!0),M=M.queue;var ce=Ea.bind(null,C,M,d);if(Rh(2048,8,ce,[d]),M.getSnapshot!==m||J||_n!==null&&_n.memoizedState.tag&1){if(C.flags|=2048,Hu(9,Km(),Bu.bind(null,C,M,k,m),null),Qi===null)throw Error(o(349));P||(Ht&124)!==0||Wm(C,m,k)}return k}function Wm(d,m,k){d.flags|=16384,d={getSnapshot:m,value:k},m=Jt.updateQueue,m===null?(m=nc(),Jt.updateQueue=m,m.stores=[d]):(k=m.stores,k===null?m.stores=[d]:k.push(d))}function Bu(d,m,k,C){m.value=k,m.getSnapshot=C,Ud(m)&&Oh(d)}function Ea(d,m,k){return k(function(){Ud(m)&&Oh(d)})}function Ud(d){var m=d.getSnapshot;d=d.value;try{var k=m();return!bs(d,k)}catch{return!0}}function Oh(d){var m=es(d,2);m!==null&&Wo(m,d,2)}function Ru(d){var m=Ls();if(typeof d=="function"){var k=d;if(d=k(),ns){fn(!0);try{k()}finally{fn(!1)}}}return m.memoizedState=m.baseState=d,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:d},m}function Pu(d,m,k,C){return d.baseState=k,Vd(d,cn,typeof C=="function"?C:$r)}function Ym(d,m,k,C,M){if(qu(d))throw Error(o(485));if(d=m.action,d!==null){var P={payload:M,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){P.listeners.push(J)}};oe.T!==null?k(!0):P.isTransition=!1,C(P),k=m.pending,k===null?(P.next=m.pending=P,Lh(m,P)):(P.next=k.next,m.pending=k.next=P)}}function Lh(d,m){var k=m.action,C=m.payload,M=d.state;if(m.isTransition){var P=oe.T,J={};oe.T=J;try{var ce=k(M,C),Ne=oe.S;Ne!==null&&Ne(J,ce),Bh(d,m,ce)}catch(Xe){Fu(d,m,Xe)}finally{oe.T=P}}else try{P=k(M,C),Bh(d,m,P)}catch(Xe){Fu(d,m,Xe)}}function Bh(d,m,k){k!==null&&typeof k=="object"&&typeof k.then=="function"?k.then(function(C){zu(d,m,C)},function(C){return Fu(d,m,C)}):zu(d,m,k)}function zu(d,m,k){m.status="fulfilled",m.value=k,Gm(m),d.state=k,m=d.pending,m!==null&&(k=m.next,k===m?d.pending=null:(k=k.next,m.next=k,Lh(d,k)))}function Fu(d,m,k){var C=d.pending;if(d.pending=null,C!==null){C=C.next;do m.status="rejected",m.reason=k,Gm(m),m=m.next;while(m!==C)}d.action=null}function Gm(d){d=d.listeners;for(var m=0;m<d.length;m++)(0,d[m])()}function $c(d,m){return m}function qc(d,m){if(bn){var k=Qi.formState;if(k!==null){e:{var C=Jt;if(bn){if(sn){t:{for(var M=sn,P=yi;M.nodeType!==8;){if(!P){M=null;break t}if(M=Ta(M.nextSibling),M===null){M=null;break t}}P=M.data,M=P==="F!"||P==="F"?M:null}if(M){sn=Ta(M.nextSibling),C=M.data==="F!";break e}}Ts(C)}C=!1}C&&(m=k[0])}}return k=Ls(),k.memoizedState=k.baseState=m,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$c,lastRenderedState:m},k.queue=C,k=$u.bind(null,Jt,C),C.dispatch=k,C=Ru(!1),P=tf.bind(null,Jt,!1,C.queue),C=Ls(),M={state:m,dispatch:null,action:d,pending:null},C.queue=M,k=Ym.bind(null,Jt,M,P,k),M.dispatch=k,C.memoizedState=d,[m,k,!1]}function Pb(d){var m=Ri();return $d(m,cn,d)}function $d(d,m,k){if(m=Vd(d,m,$c)[0],d=Uc($r)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var C=la(m)}catch(J){throw J===nl?Lu:J}else C=m;m=Ri();var M=m.queue,P=M.dispatch;return k!==m.memoizedState&&(Jt.flags|=2048,Hu(9,Km(),Ap.bind(null,M,k),null)),[C,P,d]}function Ap(d,m){d.action=m}function Np(d){var m=Ri(),k=cn;if(k!==null)return $d(m,k,d);Ri(),m=m.memoizedState,k=Ri();var C=k.queue.dispatch;return k.memoizedState=d,[m,C,!1]}function Hu(d,m,k,C){return d={tag:d,create:k,deps:C,inst:m,next:null},m=Jt.updateQueue,m===null&&(m=nc(),Jt.updateQueue=m),k=m.lastEffect,k===null?m.lastEffect=d.next=d:(C=k.next,k.next=d,d.next=C,m.lastEffect=d),d}function Km(){return{destroy:void 0,resource:void 0}}function zb(){return Ri().memoizedState}function Wc(d,m,k,C){var M=Ls();C=C===void 0?null:C,Jt.flags|=d,M.memoizedState=Hu(1|m,Km(),k,C)}function Rh(d,m,k,C){var M=Ri();C=C===void 0?null:C;var P=M.memoizedState.inst;cn!==null&&C!==null&&Is(C,cn.memoizedState.deps)?M.memoizedState=Hu(m,P,k,C):(Jt.flags|=d,M.memoizedState=Hu(1|m,P,k,C))}function Fb(d,m){Wc(8390656,8,d,m)}function Qm(d,m){Rh(2048,8,d,m)}function Hb(d,m){return Rh(4,2,d,m)}function Zm(d,m){return Rh(4,4,d,m)}function Xm(d,m){if(typeof m=="function"){d=d();var k=m(d);return function(){typeof k=="function"?k():m(null)}}if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function $o(d,m,k){k=k!=null?k.concat([d]):null,Rh(4,4,Xm.bind(null,m,d),k)}function Jm(){}function Vu(d,m){var k=Ri();m=m===void 0?null:m;var C=k.memoizedState;return m!==null&&Is(m,C[1])?C[0]:(k.memoizedState=[d,m],d)}function Vb(d,m){var k=Ri();m=m===void 0?null:m;var C=k.memoizedState;if(m!==null&&Is(m,C[1]))return C[0];if(C=d(),ns){fn(!0);try{d()}finally{fn(!1)}}return k.memoizedState=[C,m],C}function Uu(d,m,k){return k===void 0||(Ht&1073741824)!==0?d.memoizedState=m:(d.memoizedState=k,d=Qp(),Jt.lanes|=d,Dl|=d,k)}function Ep(d,m,k,C){return bs(k,m)?k:ri.current!==null?(d=Uu(d,k,C),bs(d,m)||(rs=!0),d):(Ht&42)===0?(rs=!0,d.memoizedState=k):(d=Qp(),Jt.lanes|=d,Dl|=d,m)}function Sp(d,m,k,C,M){var P=ve.p;ve.p=P!==0&&8>P?P:8;var J=oe.T,ce={};oe.T=ce,tf(d,!1,m,k);try{var Ne=M(),Xe=oe.S;if(Xe!==null&&Xe(ce,Ne),Ne!==null&&typeof Ne=="object"&&typeof Ne.then=="function"){var gt=Ho(Ne,C);Nl(d,m,gt,No(d))}else Nl(d,m,C,No(d))}catch(vt){Nl(d,m,{then:function(){},status:"rejected",reason:vt},No())}finally{ve.p=P,oe.T=J}}function qd(){}function Rt(d,m,k,C){if(d.tag!==5)throw Error(o(476));var M=Cn(d).queue;Sp(d,M,m,he,k===null?qd:function(){return Ph(d),k(C)})}function Cn(d){var m=d.memoizedState;if(m!==null)return m;m={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:he},next:null};var k={};return m.next={memoizedState:k,baseState:k,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:k},next:null},d.memoizedState=m,d=d.alternate,d!==null&&(d.memoizedState=m),m}function Ph(d){var m=Cn(d).next.queue;Nl(d,m,{},No())}function ca(){return vr(um)}function ef(){return Ri().memoizedState}function Wd(){return Ri().memoizedState}function jp(d){for(var m=d.return;m!==null;){switch(m.tag){case 24:case 3:var k=No();d=It(k);var C=Wt(m,d,k);C!==null&&(Wo(C,m,k),Kt(C,m,k)),m={cache:mr()},d.payload=m;return}m=m.return}}function Dp(d,m,k){var C=No();k={lane:C,revertLane:0,action:k,hasEagerState:!1,eagerState:null,next:null},qu(d)?zh(m,k):(k=yo(d,m,k,C),k!==null&&(Wo(k,d,C),Yc(k,m,C)))}function $u(d,m,k){var C=No();Nl(d,m,k,C)}function Nl(d,m,k,C){var M={lane:C,revertLane:0,action:k,hasEagerState:!1,eagerState:null,next:null};if(qu(d))zh(m,M);else{var P=d.alternate;if(d.lanes===0&&(P===null||P.lanes===0)&&(P=m.lastRenderedReducer,P!==null))try{var J=m.lastRenderedState,ce=P(J,k);if(M.hasEagerState=!0,M.eagerState=ce,bs(ce,J))return Bi(d,m,M,0),Qi===null&&kl(),!1}catch{}finally{}if(k=yo(d,m,M,C),k!==null)return Wo(k,d,C),Yc(k,m,C),!0}return!1}function tf(d,m,k,C){if(C={lane:2,revertLane:Ef(),action:C,hasEagerState:!1,eagerState:null,next:null},qu(d)){if(m)throw Error(o(479))}else m=yo(d,k,C,2),m!==null&&Wo(m,d,2)}function qu(d){var m=d.alternate;return d===Jt||m!==null&&m===Jt}function zh(d,m){Ur=Ki=!0;var k=d.pending;k===null?m.next=m:(m.next=k.next,k.next=m),d.pending=m}function Yc(d,m,k){if((k&4194048)!==0){var C=m.lanes;C&=d.pendingLanes,k|=C,m.lanes=k,Zt(d,k)}}var nf={readContext:vr,use:ki,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useLayoutEffect:xi,useInsertionEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useSyncExternalStore:xi,useId:xi,useHostTransitionStatus:xi,useFormState:xi,useActionState:xi,useOptimistic:xi,useMemoCache:xi,useCacheRefresh:xi},rf={readContext:vr,use:ki,useCallback:function(d,m){return Ls().memoizedState=[d,m===void 0?null:m],d},useContext:vr,useEffect:Fb,useImperativeHandle:function(d,m,k){k=k!=null?k.concat([d]):null,Wc(4194308,4,Xm.bind(null,m,d),k)},useLayoutEffect:function(d,m){return Wc(4194308,4,d,m)},useInsertionEffect:function(d,m){Wc(4,2,d,m)},useMemo:function(d,m){var k=Ls();m=m===void 0?null:m;var C=d();if(ns){fn(!0);try{d()}finally{fn(!1)}}return k.memoizedState=[C,m],C},useReducer:function(d,m,k){var C=Ls();if(k!==void 0){var M=k(m);if(ns){fn(!0);try{k(m)}finally{fn(!1)}}}else M=m;return C.memoizedState=C.baseState=M,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:M},C.queue=d,d=d.dispatch=Dp.bind(null,Jt,d),[C.memoizedState,d]},useRef:function(d){var m=Ls();return d={current:d},m.memoizedState=d},useState:function(d){d=Ru(d);var m=d.queue,k=$u.bind(null,Jt,m);return m.dispatch=k,[d.memoizedState,k]},useDebugValue:Jm,useDeferredValue:function(d,m){var k=Ls();return Uu(k,d,m)},useTransition:function(){var d=Ru(!1);return d=Sp.bind(null,Jt,d.queue,!0,!1),Ls().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,m,k){var C=Jt,M=Ls();if(bn){if(k===void 0)throw Error(o(407));k=k()}else{if(k=m(),Qi===null)throw Error(o(349));(hi&124)!==0||Wm(C,m,k)}M.memoizedState=k;var P={value:k,getSnapshot:m};return M.queue=P,Fb(Ea.bind(null,C,P,d),[d]),C.flags|=2048,Hu(9,Km(),Bu.bind(null,C,P,k,m),null),k},useId:function(){var d=Ls(),m=Qi.identifierPrefix;if(bn){var k=Ae,C=ie;k=(C&~(1<<32-Rn(C)-1)).toString(32)+k,m="«"+m+"R"+k,k=Tr++,0<k&&(m+="H"+k.toString(32)),m+="»"}else k=or++,m="«"+m+"r"+k.toString(32)+"»";return d.memoizedState=m},useHostTransitionStatus:ca,useFormState:qc,useActionState:qc,useOptimistic:function(d){var m=Ls();m.memoizedState=m.baseState=d;var k={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=k,m=tf.bind(null,Jt,!0,k),k.dispatch=m,[d,m]},useMemoCache:so,useCacheRefresh:function(){return Ls().memoizedState=jp.bind(null,Jt)}},sf={readContext:vr,use:ki,useCallback:Vu,useContext:vr,useEffect:Qm,useImperativeHandle:$o,useInsertionEffect:Hb,useLayoutEffect:Zm,useMemo:Vb,useReducer:Uc,useRef:zb,useState:function(){return Uc($r)},useDebugValue:Jm,useDeferredValue:function(d,m){var k=Ri();return Ep(k,cn.memoizedState,d,m)},useTransition:function(){var d=Uc($r)[0],m=Ri().memoizedState;return[typeof d=="boolean"?d:la(d),m]},useSyncExternalStore:Ih,useId:ef,useHostTransitionStatus:ca,useFormState:Pb,useActionState:Pb,useOptimistic:function(d,m){var k=Ri();return Pu(k,cn,d,m)},useMemoCache:so,useCacheRefresh:Wd},Aw={readContext:vr,use:ki,useCallback:Vu,useContext:vr,useEffect:Qm,useImperativeHandle:$o,useInsertionEffect:Hb,useLayoutEffect:Zm,useMemo:Vb,useReducer:ic,useRef:zb,useState:function(){return ic($r)},useDebugValue:Jm,useDeferredValue:function(d,m){var k=Ri();return cn===null?Uu(k,d,m):Ep(k,cn.memoizedState,d,m)},useTransition:function(){var d=ic($r)[0],m=Ri().memoizedState;return[typeof d=="boolean"?d:la(d),m]},useSyncExternalStore:Ih,useId:ef,useHostTransitionStatus:ca,useFormState:Np,useActionState:Np,useOptimistic:function(d,m){var k=Ri();return cn!==null?Pu(k,cn,d,m):(k.baseState=d,[d,k.queue.dispatch])},useMemoCache:so,useCacheRefresh:Wd},rc=null,Fh=0;function of(d){var m=Fh;return Fh+=1,rc===null&&(rc=[]),R(rc,d,m)}function Yd(d,m){m=m.props.ref,d.ref=m!==void 0?m:null}function af(d,m){throw m.$$typeof===D?Error(o(525)):(d=Object.prototype.toString.call(m),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d)))}function Gc(d){var m=d._init;return m(d._payload)}function Tp(d){function m(Ue,Be){if(d){var Ke=Ue.deletions;Ke===null?(Ue.deletions=[Be],Ue.flags|=16):Ke.push(Be)}}function k(Ue,Be){if(!d)return null;for(;Be!==null;)m(Ue,Be),Be=Be.sibling;return null}function C(Ue){for(var Be=new Map;Ue!==null;)Ue.key!==null?Be.set(Ue.key,Ue):Be.set(Ue.index,Ue),Ue=Ue.sibling;return Be}function M(Ue,Be){return Ue=Ds(Ue,Be),Ue.index=0,Ue.sibling=null,Ue}function P(Ue,Be,Ke){return Ue.index=Ke,d?(Ke=Ue.alternate,Ke!==null?(Ke=Ke.index,Ke<Be?(Ue.flags|=67108866,Be):Ke):(Ue.flags|=67108866,Be)):(Ue.flags|=1048576,Be)}function J(Ue){return d&&Ue.alternate===null&&(Ue.flags|=67108866),Ue}function ce(Ue,Be,Ke,_t){return Be===null||Be.tag!==6?(Be=wl(Ke,Ue.mode,_t),Be.return=Ue,Be):(Be=M(Be,Ke),Be.return=Ue,Be)}function Ne(Ue,Be,Ke,_t){var on=Ke.type;return on===F?gt(Ue,Be,Ke.props.children,_t,Ke.key):Be!==null&&(Be.elementType===on||typeof on=="object"&&on!==null&&on.$$typeof===de&&Gc(on)===Be.type)?(Be=M(Be,Ke.props),Yd(Be,Ke),Be.return=Ue,Be):(Be=vl(Ke.type,Ke.key,Ke.props,null,Ue.mode,_t),Yd(Be,Ke),Be.return=Ue,Be)}function Xe(Ue,Be,Ke,_t){return Be===null||Be.tag!==4||Be.stateNode.containerInfo!==Ke.containerInfo||Be.stateNode.implementation!==Ke.implementation?(Be=zc(Ke,Ue.mode,_t),Be.return=Ue,Be):(Be=M(Be,Ke.children||[]),Be.return=Ue,Be)}function gt(Ue,Be,Ke,_t,on){return Be===null||Be.tag!==7?(Be=Co(Ke,Ue.mode,_t,on),Be.return=Ue,Be):(Be=M(Be,Ke),Be.return=Ue,Be)}function vt(Ue,Be,Ke){if(typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint")return Be=wl(""+Be,Ue.mode,Ke),Be.return=Ue,Be;if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case j:return Ke=vl(Be.type,Be.key,Be.props,null,Ue.mode,Ke),Yd(Ke,Be),Ke.return=Ue,Ke;case B:return Be=zc(Be,Ue.mode,Ke),Be.return=Ue,Be;case de:var _t=Be._init;return Be=_t(Be._payload),vt(Ue,Be,Ke)}if(je(Be)||we(Be))return Be=Co(Be,Ue.mode,Ke,null),Be.return=Ue,Be;if(typeof Be.then=="function")return vt(Ue,of(Be),Ke);if(Be.$$typeof===ee)return vt(Ue,zd(Ue,Be),Ke);af(Ue,Be)}return null}function tt(Ue,Be,Ke,_t){var on=Be!==null?Be.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return on!==null?null:ce(Ue,Be,""+Ke,_t);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case j:return Ke.key===on?Ne(Ue,Be,Ke,_t):null;case B:return Ke.key===on?Xe(Ue,Be,Ke,_t):null;case de:return on=Ke._init,Ke=on(Ke._payload),tt(Ue,Be,Ke,_t)}if(je(Ke)||we(Ke))return on!==null?null:gt(Ue,Be,Ke,_t,null);if(typeof Ke.then=="function")return tt(Ue,Be,of(Ke),_t);if(Ke.$$typeof===ee)return tt(Ue,Be,zd(Ue,Ke),_t);af(Ue,Ke)}return null}function it(Ue,Be,Ke,_t,on){if(typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint")return Ue=Ue.get(Ke)||null,ce(Be,Ue,""+_t,on);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case j:return Ue=Ue.get(_t.key===null?Ke:_t.key)||null,Ne(Be,Ue,_t,on);case B:return Ue=Ue.get(_t.key===null?Ke:_t.key)||null,Xe(Be,Ue,_t,on);case de:var ei=_t._init;return _t=ei(_t._payload),it(Ue,Be,Ke,_t,on)}if(je(_t)||we(_t))return Ue=Ue.get(Ke)||null,gt(Be,Ue,_t,on,null);if(typeof _t.then=="function")return it(Ue,Be,Ke,of(_t),on);if(_t.$$typeof===ee)return it(Ue,Be,Ke,zd(Be,_t),on);af(Be,_t)}return null}function In(Ue,Be,Ke,_t){for(var on=null,ei=null,un=Be,An=Be=0,os=null;un!==null&&An<Ke.length;An++){un.index>An?(os=un,un=null):os=un.sibling;var Ci=tt(Ue,un,Ke[An],_t);if(Ci===null){un===null&&(un=os);break}d&&un&&Ci.alternate===null&&m(Ue,un),Be=P(Ci,Be,An),ei===null?on=Ci:ei.sibling=Ci,ei=Ci,un=os}if(An===Ke.length)return k(Ue,un),bn&&Ye(Ue,An),on;if(un===null){for(;An<Ke.length;An++)un=vt(Ue,Ke[An],_t),un!==null&&(Be=P(un,Be,An),ei===null?on=un:ei.sibling=un,ei=un);return bn&&Ye(Ue,An),on}for(un=C(un);An<Ke.length;An++)os=it(un,Ue,An,Ke[An],_t),os!==null&&(d&&os.alternate!==null&&un.delete(os.key===null?An:os.key),Be=P(os,Be,An),ei===null?on=os:ei.sibling=os,ei=os);return d&&un.forEach(function(ld){return m(Ue,ld)}),bn&&Ye(Ue,An),on}function kn(Ue,Be,Ke,_t){if(Ke==null)throw Error(o(151));for(var on=null,ei=null,un=Be,An=Be=0,os=null,Ci=Ke.next();un!==null&&!Ci.done;An++,Ci=Ke.next()){un.index>An?(os=un,un=null):os=un.sibling;var ld=tt(Ue,un,Ci.value,_t);if(ld===null){un===null&&(un=os);break}d&&un&&ld.alternate===null&&m(Ue,un),Be=P(ld,Be,An),ei===null?on=ld:ei.sibling=ld,ei=ld,un=os}if(Ci.done)return k(Ue,un),bn&&Ye(Ue,An),on;if(un===null){for(;!Ci.done;An++,Ci=Ke.next())Ci=vt(Ue,Ci.value,_t),Ci!==null&&(Be=P(Ci,Be,An),ei===null?on=Ci:ei.sibling=Ci,ei=Ci);return bn&&Ye(Ue,An),on}for(un=C(un);!Ci.done;An++,Ci=Ke.next())Ci=it(un,Ue,An,Ci.value,_t),Ci!==null&&(d&&Ci.alternate!==null&&un.delete(Ci.key===null?An:Ci.key),Be=P(Ci,Be,An),ei===null?on=Ci:ei.sibling=Ci,ei=Ci);return d&&un.forEach(function(r_){return m(Ue,r_)}),bn&&Ye(Ue,An),on}function Vi(Ue,Be,Ke,_t){if(typeof Ke=="object"&&Ke!==null&&Ke.type===F&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case j:e:{for(var on=Ke.key;Be!==null;){if(Be.key===on){if(on=Ke.type,on===F){if(Be.tag===7){k(Ue,Be.sibling),_t=M(Be,Ke.props.children),_t.return=Ue,Ue=_t;break e}}else if(Be.elementType===on||typeof on=="object"&&on!==null&&on.$$typeof===de&&Gc(on)===Be.type){k(Ue,Be.sibling),_t=M(Be,Ke.props),Yd(_t,Ke),_t.return=Ue,Ue=_t;break e}k(Ue,Be);break}else m(Ue,Be);Be=Be.sibling}Ke.type===F?(_t=Co(Ke.props.children,Ue.mode,_t,Ke.key),_t.return=Ue,Ue=_t):(_t=vl(Ke.type,Ke.key,Ke.props,null,Ue.mode,_t),Yd(_t,Ke),_t.return=Ue,Ue=_t)}return J(Ue);case B:e:{for(on=Ke.key;Be!==null;){if(Be.key===on)if(Be.tag===4&&Be.stateNode.containerInfo===Ke.containerInfo&&Be.stateNode.implementation===Ke.implementation){k(Ue,Be.sibling),_t=M(Be,Ke.children||[]),_t.return=Ue,Ue=_t;break e}else{k(Ue,Be);break}else m(Ue,Be);Be=Be.sibling}_t=zc(Ke,Ue.mode,_t),_t.return=Ue,Ue=_t}return J(Ue);case de:return on=Ke._init,Ke=on(Ke._payload),Vi(Ue,Be,Ke,_t)}if(je(Ke))return In(Ue,Be,Ke,_t);if(we(Ke)){if(on=we(Ke),typeof on!="function")throw Error(o(150));return Ke=on.call(Ke),kn(Ue,Be,Ke,_t)}if(typeof Ke.then=="function")return Vi(Ue,Be,of(Ke),_t);if(Ke.$$typeof===ee)return Vi(Ue,Be,zd(Ue,Ke),_t);af(Ue,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint"?(Ke=""+Ke,Be!==null&&Be.tag===6?(k(Ue,Be.sibling),_t=M(Be,Ke),_t.return=Ue,Ue=_t):(k(Ue,Be),_t=wl(Ke,Ue.mode,_t),_t.return=Ue,Ue=_t),J(Ue)):k(Ue,Be)}return function(Ue,Be,Ke,_t){try{Fh=0;var on=Vi(Ue,Be,Ke,_t);return rc=null,on}catch(un){if(un===nl||un===Lu)throw un;var ei=ur(29,un,null,Ue.mode);return ei.lanes=_t,ei.return=Ue,ei}finally{}}}var Kc=Tp(!0),Ub=Tp(!1),da=fe(null),Sa=null;function sc(d){var m=d.alternate;Se(pr,pr.current&1),Se(da,d),Sa===null&&(m===null||ri.current!==null||m.memoizedState!==null)&&(Sa=d)}function $b(d){if(d.tag===22){if(Se(pr,pr.current),Se(da,d),Sa===null){var m=d.alternate;m!==null&&m.memoizedState!==null&&(Sa=d)}}else oc()}function oc(){Se(pr,pr.current),Se(da,da.current)}function rl(d){Ce(da),Sa===d&&(Sa=null),Ce(pr)}var pr=fe(0);function Hh(d){for(var m=d;m!==null;){if(m.tag===13){var k=m.memoizedState;if(k!==null&&(k=k.dehydrated,k===null||k.data==="$?"||gg(k)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function lf(d,m,k,C){m=d.memoizedState,k=k(C,m),k=k==null?m:S({},m,k),d.memoizedState=k,d.lanes===0&&(d.updateQueue.baseState=k)}var cf={enqueueSetState:function(d,m,k){d=d._reactInternals;var C=No(),M=It(C);M.payload=m,k!=null&&(M.callback=k),m=Wt(d,M,C),m!==null&&(Wo(m,d,C),Kt(m,d,C))},enqueueReplaceState:function(d,m,k){d=d._reactInternals;var C=No(),M=It(C);M.tag=1,M.payload=m,k!=null&&(M.callback=k),m=Wt(d,M,C),m!==null&&(Wo(m,d,C),Kt(m,d,C))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var k=No(),C=It(k);C.tag=2,m!=null&&(C.callback=m),m=Wt(d,C,k),m!==null&&(Wo(m,d,k),Kt(m,d,k))}};function Mp(d,m,k,C,M,P,J){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(C,P,J):m.prototype&&m.prototype.isPureReactComponent?!Hr(k,C)||!Hr(M,P):!0}function ja(d,m,k,C){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(k,C),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(k,C),m.state!==d&&cf.enqueueReplaceState(m,m.state,null)}function sl(d,m){var k=m;if("ref"in m){k={};for(var C in m)C!=="ref"&&(k[C]=m[C])}if(d=d.defaultProps){k===m&&(k=S({},k));for(var M in d)k[M]===void 0&&(k[M]=d[M])}return k}var oo=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)};function Gd(d){oo(d)}function Ip(d){console.error(d)}function qb(d){oo(d)}function Vh(d,m){try{var k=d.onUncaughtError;k(m.value,{componentStack:m.stack})}catch(C){setTimeout(function(){throw C})}}function Wb(d,m,k){try{var C=d.onCaughtError;C(k.value,{componentStack:k.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function Op(d,m,k){return k=It(k),k.tag=3,k.payload={element:null},k.callback=function(){Vh(d,m)},k}function Lp(d){return d=It(d),d.tag=3,d}function Yb(d,m,k,C){var M=k.type.getDerivedStateFromError;if(typeof M=="function"){var P=C.value;d.payload=function(){return M(P)},d.callback=function(){Wb(m,k,C)}}var J=k.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(d.callback=function(){Wb(m,k,C),typeof M!="function"&&(td===null?td=new Set([this]):td.add(this));var ce=C.stack;this.componentDidCatch(C.value,{componentStack:ce!==null?ce:""})})}function Nw(d,m,k,C,M){if(k.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(m=k.alternate,m!==null&&xl(m,k,M,!0),k=da.current,k!==null){switch(k.tag){case 13:return Sa===null?Jp():k.alternate===null&&br===0&&(br=3),k.flags&=-257,k.flags|=65536,k.lanes=M,C===Mh?k.flags|=16384:(m=k.updateQueue,m===null?k.updateQueue=new Set([C]):m.add(C),fc(d,C,M)),!1;case 22:return k.flags|=65536,C===Mh?k.flags|=16384:(m=k.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([C])},k.updateQueue=m):(k=m.retryQueue,k===null?m.retryQueue=new Set([C]):k.add(C)),fc(d,C,M)),!1}throw Error(o(435,k.tag))}return fc(d,C,M),Jp(),!1}if(bn)return m=da.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=M,C!==hr&&(d=Error(o(422),{cause:C}),yl(pn(d,k)))):(C!==hr&&(m=Error(o(423),{cause:C}),yl(pn(m,k))),d=d.current.alternate,d.flags|=65536,M&=-M,d.lanes|=M,C=pn(C,k),M=Op(d.stateNode,C,M),Yt(d,M),br!==4&&(br=2)),!1;var P=Error(o(520),{cause:C});if(P=pn(P,k),Xh===null?Xh=[P]:Xh.push(P),br!==4&&(br=2),m===null)return!0;C=pn(C,k),k=m;do{switch(k.tag){case 3:return k.flags|=65536,d=M&-M,k.lanes|=d,d=Op(k.stateNode,C,d),Yt(k,d),!1;case 1:if(m=k.type,P=k.stateNode,(k.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(td===null||!td.has(P))))return k.flags|=65536,M&=-M,k.lanes|=M,M=Lp(M),Yb(M,d,k,C),Yt(k,M),!1}k=k.return}while(k!==null);return!1}var Gb=Error(o(461)),rs=!1;function Bs(d,m,k,C){m.child=d===null?Ub(m,null,k,C):Kc(m,d.child,k,C)}function Kb(d,m,k,C,M){k=k.render;var P=m.ref;if("ref"in C){var J={};for(var ce in C)ce!=="ref"&&(J[ce]=C[ce])}else J=C;return tl(m),C=il(d,m,k,J,P,M),ce=ro(),d!==null&&!rs?(Uo(d,m,M),ac(d,m,M)):(bn&&ce&&Nt(m),m.flags|=1,Bs(d,m,C,M),m.child)}function Qb(d,m,k,C,M){if(d===null){var P=k.type;return typeof P=="function"&&!Xl(P)&&P.defaultProps===void 0&&k.compare===null?(m.tag=15,m.type=P,Uh(d,m,P,C,M)):(d=vl(k.type,null,C,m,m.mode,M),d.ref=m.ref,d.return=m,m.child=d)}if(P=d.child,!Hp(d,M)){var J=P.memoizedProps;if(k=k.compare,k=k!==null?k:Hr,k(J,C)&&d.ref===m.ref)return ac(d,m,M)}return m.flags|=1,d=Ds(P,C),d.ref=m.ref,d.return=m,m.child=d}function Uh(d,m,k,C,M){if(d!==null){var P=d.memoizedProps;if(Hr(P,C)&&d.ref===m.ref)if(rs=!1,m.pendingProps=C=P,Hp(d,M))(d.flags&131072)!==0&&(rs=!0);else return m.lanes=d.lanes,ac(d,m,M)}return uf(d,m,k,C,M)}function Bp(d,m,k){var C=m.pendingProps,M=C.children,P=d!==null?d.memoizedState:null;if(C.mode==="hidden"){if((m.flags&128)!==0){if(C=P!==null?P.baseLanes|k:k,d!==null){for(M=m.child=d.child,P=0;M!==null;)P=P|M.lanes|M.childLanes,M=M.sibling;m.childLanes=P&~C}else m.childLanes=0,m.child=null;return $h(d,m,C,k)}if((k&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},d!==null&&Fd(m,P!==null?P.cachePool:null),P!==null?Fn(m,P):lt(),$b(m);else return m.lanes=m.childLanes=536870912,$h(d,m,P!==null?P.baseLanes|k:k,k)}else P!==null?(Fd(m,P.cachePool),Fn(m,P),oc(),m.memoizedState=null):(d!==null&&Fd(m,null),lt(),oc());return Bs(d,m,M,k),m.child}function $h(d,m,k,C){var M=Th();return M=M===null?null:{parent:Un._currentValue,pool:M},m.memoizedState={baseLanes:k,cachePool:M},d!==null&&Fd(m,null),lt(),$b(m),d!==null&&xl(d,m,C,!0),null}function df(d,m){var k=m.ref;if(k===null)d!==null&&d.ref!==null&&(m.flags|=4194816);else{if(typeof k!="function"&&typeof k!="object")throw Error(o(284));(d===null||d.ref!==k)&&(m.flags|=4194816)}}function uf(d,m,k,C,M){return tl(m),k=il(d,m,k,C,void 0,M),C=ro(),d!==null&&!rs?(Uo(d,m,M),ac(d,m,M)):(bn&&C&&Nt(m),m.flags|=1,Bs(d,m,k,M),m.child)}function Rp(d,m,k,C,M,P){return tl(m),m.updateQueue=null,k=Ii(m,C,k,M),wr(d),C=ro(),d!==null&&!rs?(Uo(d,m,P),ac(d,m,P)):(bn&&C&&Nt(m),m.flags|=1,Bs(d,m,k,P),m.child)}function Pp(d,m,k,C,M){if(tl(m),m.stateNode===null){var P=Ca,J=k.contextType;typeof J=="object"&&J!==null&&(P=vr(J)),P=new k(C,P),m.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=cf,m.stateNode=P,P._reactInternals=m,P=m.stateNode,P.props=C,P.state=m.memoizedState,P.refs={},ot(m),J=k.contextType,P.context=typeof J=="object"&&J!==null?vr(J):Ca,P.state=m.memoizedState,J=k.getDerivedStateFromProps,typeof J=="function"&&(lf(m,k,J,C),P.state=m.memoizedState),typeof k.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(J=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),J!==P.state&&cf.enqueueReplaceState(P,P.state,null),yn(m,C,P,M),hn(),P.state=m.memoizedState),typeof P.componentDidMount=="function"&&(m.flags|=4194308),C=!0}else if(d===null){P=m.stateNode;var ce=m.memoizedProps,Ne=sl(k,ce);P.props=Ne;var Xe=P.context,gt=k.contextType;J=Ca,typeof gt=="object"&&gt!==null&&(J=vr(gt));var vt=k.getDerivedStateFromProps;gt=typeof vt=="function"||typeof P.getSnapshotBeforeUpdate=="function",ce=m.pendingProps!==ce,gt||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(ce||Xe!==J)&&ja(m,P,C,J),Pe=!1;var tt=m.memoizedState;P.state=tt,yn(m,C,P,M),hn(),Xe=m.memoizedState,ce||tt!==Xe||Pe?(typeof vt=="function"&&(lf(m,k,vt,C),Xe=m.memoizedState),(Ne=Pe||Mp(m,k,Ne,C,tt,Xe,J))?(gt||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(m.flags|=4194308)):(typeof P.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=C,m.memoizedState=Xe),P.props=C,P.state=Xe,P.context=J,C=Ne):(typeof P.componentDidMount=="function"&&(m.flags|=4194308),C=!1)}else{P=m.stateNode,wt(d,m),J=m.memoizedProps,gt=sl(k,J),P.props=gt,vt=m.pendingProps,tt=P.context,Xe=k.contextType,Ne=Ca,typeof Xe=="object"&&Xe!==null&&(Ne=vr(Xe)),ce=k.getDerivedStateFromProps,(Xe=typeof ce=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(J!==vt||tt!==Ne)&&ja(m,P,C,Ne),Pe=!1,tt=m.memoizedState,P.state=tt,yn(m,C,P,M),hn();var it=m.memoizedState;J!==vt||tt!==it||Pe||d!==null&&d.dependencies!==null&&Ou(d.dependencies)?(typeof ce=="function"&&(lf(m,k,ce,C),it=m.memoizedState),(gt=Pe||Mp(m,k,gt,C,tt,it,Ne)||d!==null&&d.dependencies!==null&&Ou(d.dependencies))?(Xe||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(C,it,Ne),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(C,it,Ne)),typeof P.componentDidUpdate=="function"&&(m.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof P.componentDidUpdate!="function"||J===d.memoizedProps&&tt===d.memoizedState||(m.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||J===d.memoizedProps&&tt===d.memoizedState||(m.flags|=1024),m.memoizedProps=C,m.memoizedState=it),P.props=C,P.state=it,P.context=Ne,C=gt):(typeof P.componentDidUpdate!="function"||J===d.memoizedProps&&tt===d.memoizedState||(m.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||J===d.memoizedProps&&tt===d.memoizedState||(m.flags|=1024),C=!1)}return P=C,df(d,m),C=(m.flags&128)!==0,P||C?(P=m.stateNode,k=C&&typeof k.getDerivedStateFromError!="function"?null:P.render(),m.flags|=1,d!==null&&C?(m.child=Kc(m,d.child,null,M),m.child=Kc(m,null,k,M)):Bs(d,m,k,M),m.memoizedState=P.state,d=m.child):d=ac(d,m,M),d}function ol(d,m,k,C){return Po(),m.flags|=256,Bs(d,m,k,C),m.child}var hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qc(d){return{baseLanes:d,cachePool:Vc()}}function El(d,m,k){return d=d!==null?d.childLanes&~k:0,m&&(d|=dr),d}function Zb(d,m,k){var C=m.pendingProps,M=!1,P=(m.flags&128)!==0,J;if((J=P)||(J=d!==null&&d.memoizedState===null?!1:(pr.current&2)!==0),J&&(M=!0,m.flags&=-129),J=(m.flags&32)!==0,m.flags&=-33,d===null){if(bn){if(M?sc(m):oc(),bn){var ce=sn,Ne;if(Ne=ce){e:{for(Ne=ce,ce=yi;Ne.nodeType!==8;){if(!ce){ce=null;break e}if(Ne=Ta(Ne.nextSibling),Ne===null){ce=null;break e}}ce=Ne}ce!==null?(m.memoizedState={dehydrated:ce,treeContext:G!==null?{id:ie,overflow:Ae}:null,retryLane:536870912,hydrationErrors:null},Ne=ur(18,null,null,0),Ne.stateNode=ce,Ne.return=m,m.child=Ne,Gt=m,sn=null,Ne=!0):Ne=!1}Ne||Ts(m)}if(ce=m.memoizedState,ce!==null&&(ce=ce.dehydrated,ce!==null))return gg(ce)?m.lanes=32:m.lanes=536870912,null;rl(m)}return ce=C.children,C=C.fallback,M?(oc(),M=m.mode,ce=mf({mode:"hidden",children:ce},M),C=Co(C,M,k,null),ce.return=m,C.return=m,ce.sibling=C,m.child=ce,M=m.child,M.memoizedState=Qc(k),M.childLanes=El(d,J,k),m.memoizedState=hf,C):(sc(m),qh(m,ce))}if(Ne=d.memoizedState,Ne!==null&&(ce=Ne.dehydrated,ce!==null)){if(P)m.flags&256?(sc(m),m.flags&=-257,m=zp(d,m,k)):m.memoizedState!==null?(oc(),m.child=d.child,m.flags|=128,m=null):(oc(),M=C.fallback,ce=m.mode,C=mf({mode:"visible",children:C.children},ce),M=Co(M,ce,k,null),M.flags|=2,C.return=m,M.return=m,C.sibling=M,m.child=C,Kc(m,d.child,null,k),C=m.child,C.memoizedState=Qc(k),C.childLanes=El(d,J,k),m.memoizedState=hf,m=M);else if(sc(m),gg(ce)){if(J=ce.nextSibling&&ce.nextSibling.dataset,J)var Xe=J.dgst;J=Xe,C=Error(o(419)),C.stack="",C.digest=J,yl({value:C,source:null,stack:null}),m=zp(d,m,k)}else if(rs||xl(d,m,k,!1),J=(k&d.childLanes)!==0,rs||J){if(J=Qi,J!==null&&(C=k&-k,C=(C&42)!==0?1:rt(C),C=(C&(J.suspendedLanes|k))!==0?0:C,C!==0&&C!==Ne.retryLane))throw Ne.retryLane=C,es(d,C),Wo(J,d,C),Gb;ce.data==="$?"||Jp(),m=zp(d,m,k)}else ce.data==="$?"?(m.flags|=192,m.child=d.child,m=null):(d=Ne.treeContext,sn=Ta(ce.nextSibling),Gt=m,bn=!0,gn=null,yi=!1,d!==null&&(T[H++]=ie,T[H++]=Ae,T[H++]=G,ie=d.id,Ae=d.overflow,G=m),m=qh(m,C.children),m.flags|=4096);return m}return M?(oc(),M=C.fallback,ce=m.mode,Ne=d.child,Xe=Ne.sibling,C=Ds(Ne,{mode:"hidden",children:C.children}),C.subtreeFlags=Ne.subtreeFlags&65011712,Xe!==null?M=Ds(Xe,M):(M=Co(M,ce,k,null),M.flags|=2),M.return=m,C.return=m,C.sibling=M,m.child=C,C=M,M=m.child,ce=d.child.memoizedState,ce===null?ce=Qc(k):(Ne=ce.cachePool,Ne!==null?(Xe=Un._currentValue,Ne=Ne.parent!==Xe?{parent:Xe,pool:Xe}:Ne):Ne=Vc(),ce={baseLanes:ce.baseLanes|k,cachePool:Ne}),M.memoizedState=ce,M.childLanes=El(d,J,k),m.memoizedState=hf,C):(sc(m),k=d.child,d=k.sibling,k=Ds(k,{mode:"visible",children:C.children}),k.return=m,k.sibling=null,d!==null&&(J=m.deletions,J===null?(m.deletions=[d],m.flags|=16):J.push(d)),m.child=k,m.memoizedState=null,k)}function qh(d,m){return m=mf({mode:"visible",children:m},d.mode),m.return=d,d.child=m}function mf(d,m){return d=ur(22,d,null,m),d.lanes=0,d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},d}function zp(d,m,k){return Kc(m,d.child,null,k),d=qh(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function Xb(d,m,k){d.lanes|=m;var C=d.alternate;C!==null&&(C.lanes|=m),Fc(d.return,m,k)}function Fp(d,m,k,C,M){var P=d.memoizedState;P===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:C,tail:k,tailMode:M}:(P.isBackwards=m,P.rendering=null,P.renderingStartTime=0,P.last=C,P.tail=k,P.tailMode=M)}function Jb(d,m,k){var C=m.pendingProps,M=C.revealOrder,P=C.tail;if(Bs(d,m,C.children,k),C=pr.current,(C&2)!==0)C=C&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&Xb(d,k,m);else if(d.tag===19)Xb(d,k,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}C&=1}switch(Se(pr,C),M){case"forwards":for(k=m.child,M=null;k!==null;)d=k.alternate,d!==null&&Hh(d)===null&&(M=k),k=k.sibling;k=M,k===null?(M=m.child,m.child=null):(M=k.sibling,k.sibling=null),Fp(m,!1,M,k,P);break;case"backwards":for(k=null,M=m.child,m.child=null;M!==null;){if(d=M.alternate,d!==null&&Hh(d)===null){m.child=M;break}d=M.sibling,M.sibling=k,k=M,M=d}Fp(m,!0,k,null,P);break;case"together":Fp(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function ac(d,m,k){if(d!==null&&(m.dependencies=d.dependencies),Dl|=m.lanes,(k&m.childLanes)===0)if(d!==null){if(xl(d,m,k,!1),(k&m.childLanes)===0)return null}else return null;if(d!==null&&m.child!==d.child)throw Error(o(153));if(m.child!==null){for(d=m.child,k=Ds(d,d.pendingProps),m.child=k,k.return=m;d.sibling!==null;)d=d.sibling,k=k.sibling=Ds(d,d.pendingProps),k.return=m;k.sibling=null}return m.child}function Hp(d,m){return(d.lanes&m)!==0?!0:(d=d.dependencies,!!(d!==null&&Ou(d)))}function Ew(d,m,k){switch(m.tag){case 3:Ie(m,m.stateNode.containerInfo),Na(m,Un,d.memoizedState.cache),Po();break;case 27:case 5:Le(m);break;case 4:Ie(m,m.stateNode.containerInfo);break;case 10:Na(m,m.type,m.memoizedProps.value);break;case 13:var C=m.memoizedState;if(C!==null)return C.dehydrated!==null?(sc(m),m.flags|=128,null):(k&m.child.childLanes)!==0?Zb(d,m,k):(sc(m),d=ac(d,m,k),d!==null?d.sibling:null);sc(m);break;case 19:var M=(d.flags&128)!==0;if(C=(k&m.childLanes)!==0,C||(xl(d,m,k,!1),C=(k&m.childLanes)!==0),M){if(C)return Jb(d,m,k);m.flags|=128}if(M=m.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Se(pr,pr.current),C)break;return null;case 22:case 23:return m.lanes=0,Bp(d,m,k);case 24:Na(m,Un,d.memoizedState.cache)}return ac(d,m,k)}function Vp(d,m,k){if(d!==null)if(d.memoizedProps!==m.pendingProps)rs=!0;else{if(!Hp(d,k)&&(m.flags&128)===0)return rs=!1,Ew(d,m,k);rs=(d.flags&131072)!==0}else rs=!1,bn&&(m.flags&1048576)!==0&&Ve(m,x,m.index);switch(m.lanes=0,m.tag){case 16:e:{d=m.pendingProps;var C=m.elementType,M=C._init;if(C=M(C._payload),m.type=C,typeof C=="function")Xl(C)?(d=sl(C,d),m.tag=1,m=Pp(null,m,C,d,k)):(m.tag=0,m=uf(null,m,C,d,k));else{if(C!=null){if(M=C.$$typeof,M===ne){m.tag=11,m=Kb(null,m,C,d,k);break e}else if(M===q){m.tag=14,m=Qb(null,m,C,d,k);break e}}throw m=_e(C)||C,Error(o(306,m,""))}}return m;case 0:return uf(d,m,m.type,m.pendingProps,k);case 1:return C=m.type,M=sl(C,m.pendingProps),Pp(d,m,C,M,k);case 3:e:{if(Ie(m,m.stateNode.containerInfo),d===null)throw Error(o(387));C=m.pendingProps;var P=m.memoizedState;M=P.element,wt(d,m),yn(m,C,null,k);var J=m.memoizedState;if(C=J.cache,Na(m,Un,C),C!==P.cache&&Hc(m,[Un],k,!0),hn(),C=J.element,P.isDehydrated)if(P={element:C,isDehydrated:!1,cache:J.cache},m.updateQueue.baseState=P,m.memoizedState=P,m.flags&256){m=ol(d,m,C,k);break e}else if(C!==M){M=pn(Error(o(424)),m),yl(M),m=ol(d,m,C,k);break e}else{switch(d=m.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(sn=Ta(d.firstChild),Gt=m,bn=!0,gn=null,yi=!0,k=Ub(m,null,C,k),m.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling}else{if(Po(),C===M){m=ac(d,m,k);break e}Bs(d,m,C,k)}m=m.child}return m;case 26:return df(d,m),d===null?(k=Uk(m.type,null,m.pendingProps,null))?m.memoizedState=k:bn||(k=m.type,d=m.pendingProps,C=im(pe.current).createElement(k),C[an]=m,C[On]=d,Fs(C,k,d),qt(C),m.stateNode=C):m.memoizedState=Uk(m.type,d.memoizedProps,m.pendingProps,d.memoizedState),null;case 27:return Le(m),d===null&&bn&&(C=m.stateNode=Lk(m.type,m.pendingProps,pe.current),Gt=m,yi=!0,M=sn,sd(m.type)?(bg=M,sn=Ta(C.firstChild)):sn=M),Bs(d,m,m.pendingProps.children,k),df(d,m),d===null&&(m.flags|=4194304),m.child;case 5:return d===null&&bn&&((M=C=sn)&&(C=Ik(C,m.type,m.pendingProps,yi),C!==null?(m.stateNode=C,Gt=m,sn=Ta(C.firstChild),yi=!1,M=!0):M=!1),M||Ts(m)),Le(m),M=m.type,P=m.pendingProps,J=d!==null?d.memoizedProps:null,C=P.children,jf(M,P)?C=null:J!==null&&jf(M,J)&&(m.flags|=32),m.memoizedState!==null&&(M=il(d,m,Os,null,null,k),um._currentValue=M),df(d,m),Bs(d,m,C,k),m.child;case 6:return d===null&&bn&&((d=k=sn)&&(k=Vw(k,m.pendingProps,yi),k!==null?(m.stateNode=k,Gt=m,sn=null,d=!0):d=!1),d||Ts(m)),null;case 13:return Zb(d,m,k);case 4:return Ie(m,m.stateNode.containerInfo),C=m.pendingProps,d===null?m.child=Kc(m,null,C,k):Bs(d,m,C,k),m.child;case 11:return Kb(d,m,m.type,m.pendingProps,k);case 7:return Bs(d,m,m.pendingProps,k),m.child;case 8:return Bs(d,m,m.pendingProps.children,k),m.child;case 12:return Bs(d,m,m.pendingProps.children,k),m.child;case 10:return C=m.pendingProps,Na(m,m.type,C.value),Bs(d,m,C.children,k),m.child;case 9:return M=m.type._context,C=m.pendingProps.children,tl(m),M=vr(M),C=C(M),m.flags|=1,Bs(d,m,C,k),m.child;case 14:return Qb(d,m,m.type,m.pendingProps,k);case 15:return Uh(d,m,m.type,m.pendingProps,k);case 19:return Jb(d,m,k);case 31:return C=m.pendingProps,k=m.mode,C={mode:C.mode,children:C.children},d===null?(k=mf(C,k),k.ref=m.ref,m.child=k,k.return=m,m=k):(k=Ds(d.child,C),k.ref=m.ref,m.child=k,k.return=m,m=k),m;case 22:return Bp(d,m,k);case 24:return tl(m),C=vr(Un),d===null?(M=Th(),M===null&&(M=Qi,P=mr(),M.pooledCache=P,P.refCount++,P!==null&&(M.pooledCacheLanes|=k),M=P),m.memoizedState={parent:C,cache:M},ot(m),Na(m,Un,M)):((d.lanes&k)!==0&&(wt(d,m),yn(m,null,null,k),hn()),M=d.memoizedState,P=m.memoizedState,M.parent!==C?(M={parent:C,cache:C},m.memoizedState=M,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=M),Na(m,Un,C)):(C=P.cache,Na(m,Un,C),C!==M.cache&&Hc(m,[Un],k,!0))),Bs(d,m,m.pendingProps.children,k),m.child;case 29:throw m.pendingProps}throw Error(o(156,m.tag))}function lc(d){d.flags|=4}function ek(d,m){if(m.type!=="stylesheet"||(m.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!wg(m)){if(m=da.current,m!==null&&((hi&4194048)===hi?Sa!==null:(hi&62914560)!==hi&&(hi&536870912)===0||m!==Sa))throw Y=Mh,Hd;d.flags|=8192}}function cc(d,m){m!==null&&(d.flags|=4),d.flags&16384&&(m=d.tag!==22?ir():536870912,d.lanes|=m,Gu|=m)}function Wh(d,m){if(!bn)switch(d.tailMode){case"hidden":m=d.tail;for(var k=null;m!==null;)m.alternate!==null&&(k=m),m=m.sibling;k===null?d.tail=null:k.sibling=null;break;case"collapsed":k=d.tail;for(var C=null;k!==null;)k.alternate!==null&&(C=k),k=k.sibling;C===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:C.sibling=null}}function gr(d){var m=d.alternate!==null&&d.alternate.child===d.child,k=0,C=0;if(m)for(var M=d.child;M!==null;)k|=M.lanes|M.childLanes,C|=M.subtreeFlags&65011712,C|=M.flags&65011712,M.return=d,M=M.sibling;else for(M=d.child;M!==null;)k|=M.lanes|M.childLanes,C|=M.subtreeFlags,C|=M.flags,M.return=d,M=M.sibling;return d.subtreeFlags|=C,d.childLanes=k,m}function Sw(d,m,k){var C=m.pendingProps;switch(zt(m),m.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(m),null;case 1:return gr(m),null;case 3:return k=m.stateNode,C=null,d!==null&&(C=d.memoizedState.cache),m.memoizedState.cache!==C&&(m.flags|=2048),sa(Un),We(),k.pendingContext&&(k.context=k.pendingContext,k.pendingContext=null),(d===null||d.child===null)&&(Jl(m)?lc(m):d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,ts())),gr(m),null;case 26:return k=m.memoizedState,d===null?(lc(m),k!==null?(gr(m),ek(m,k)):(gr(m),m.flags&=-16777217)):k?k!==d.memoizedState?(lc(m),gr(m),ek(m,k)):(gr(m),m.flags&=-16777217):(d.memoizedProps!==C&&lc(m),gr(m),m.flags&=-16777217),null;case 27:st(m),k=pe.current;var M=m.type;if(d!==null&&m.stateNode!=null)d.memoizedProps!==C&&lc(m);else{if(!C){if(m.stateNode===null)throw Error(o(166));return gr(m),null}d=He.current,Jl(m)?Pd(m):(d=Lk(M,C,k),m.stateNode=d,lc(m))}return gr(m),null;case 5:if(st(m),k=m.type,d!==null&&m.stateNode!=null)d.memoizedProps!==C&&lc(m);else{if(!C){if(m.stateNode===null)throw Error(o(166));return gr(m),null}if(d=He.current,Jl(m))Pd(m);else{switch(M=im(pe.current),d){case 1:d=M.createElementNS("http://www.w3.org/2000/svg",k);break;case 2:d=M.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;default:switch(k){case"svg":d=M.createElementNS("http://www.w3.org/2000/svg",k);break;case"math":d=M.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;case"script":d=M.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof C.is=="string"?M.createElement("select",{is:C.is}):M.createElement("select"),C.multiple?d.multiple=!0:C.size&&(d.size=C.size);break;default:d=typeof C.is=="string"?M.createElement(k,{is:C.is}):M.createElement(k)}}d[an]=m,d[On]=C;e:for(M=m.child;M!==null;){if(M.tag===5||M.tag===6)d.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===m)break e;for(;M.sibling===null;){if(M.return===null||M.return===m)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}m.stateNode=d;e:switch(Fs(d,k,C),k){case"button":case"input":case"select":case"textarea":d=!!C.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&lc(m)}}return gr(m),m.flags&=-16777217,null;case 6:if(d&&m.stateNode!=null)d.memoizedProps!==C&&lc(m);else{if(typeof C!="string"&&m.stateNode===null)throw Error(o(166));if(d=pe.current,Jl(m)){if(d=m.stateNode,k=m.memoizedProps,C=null,M=Gt,M!==null)switch(M.tag){case 27:case 5:C=M.memoizedProps}d[an]=m,d=!!(d.nodeValue===k||C!==null&&C.suppressHydrationWarning===!0||So(d.nodeValue,k)),d||Ts(m)}else d=im(d).createTextNode(C),d[an]=m,m.stateNode=d}return gr(m),null;case 13:if(C=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(M=Jl(m),C!==null&&C.dehydrated!==null){if(d===null){if(!M)throw Error(o(318));if(M=m.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(o(317));M[an]=m}else Po(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;gr(m),M=!1}else M=ts(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=M),M=!0;if(!M)return m.flags&256?(rl(m),m):(rl(m),null)}if(rl(m),(m.flags&128)!==0)return m.lanes=k,m;if(k=C!==null,d=d!==null&&d.memoizedState!==null,k){C=m.child,M=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(M=C.alternate.memoizedState.cachePool.pool);var P=null;C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(P=C.memoizedState.cachePool.pool),P!==M&&(C.flags|=2048)}return k!==d&&k&&(m.child.flags|=8192),cc(m,m.updateQueue),gr(m),null;case 4:return We(),d===null&&eu(m.stateNode.containerInfo),gr(m),null;case 10:return sa(m.type),gr(m),null;case 19:if(Ce(pr),M=m.memoizedState,M===null)return gr(m),null;if(C=(m.flags&128)!==0,P=M.rendering,P===null)if(C)Wh(M,!1);else{if(br!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(P=Hh(d),P!==null){for(m.flags|=128,Wh(M,!1),d=P.updateQueue,m.updateQueue=d,cc(m,d),m.subtreeFlags=0,d=k,k=m.child;k!==null;)Pc(k,d),k=k.sibling;return Se(pr,pr.current&1|2),m.child}d=d.sibling}M.tail!==null&&Pt()>ed&&(m.flags|=128,C=!0,Wh(M,!1),m.lanes=4194304)}else{if(!C)if(d=Hh(P),d!==null){if(m.flags|=128,C=!0,d=d.updateQueue,m.updateQueue=d,cc(m,d),Wh(M,!0),M.tail===null&&M.tailMode==="hidden"&&!P.alternate&&!bn)return gr(m),null}else 2*Pt()-M.renderingStartTime>ed&&k!==536870912&&(m.flags|=128,C=!0,Wh(M,!1),m.lanes=4194304);M.isBackwards?(P.sibling=m.child,m.child=P):(d=M.last,d!==null?d.sibling=P:m.child=P,M.last=P)}return M.tail!==null?(m=M.tail,M.rendering=m,M.tail=m.sibling,M.renderingStartTime=Pt(),m.sibling=null,d=pr.current,Se(pr,C?d&1|2:d&1),m):(gr(m),null);case 22:case 23:return rl(m),Ln(),C=m.memoizedState!==null,d!==null?d.memoizedState!==null!==C&&(m.flags|=8192):C&&(m.flags|=8192),C?(k&536870912)!==0&&(m.flags&128)===0&&(gr(m),m.subtreeFlags&6&&(m.flags|=8192)):gr(m),k=m.updateQueue,k!==null&&cc(m,k.retryQueue),k=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(k=d.memoizedState.cachePool.pool),C=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(C=m.memoizedState.cachePool.pool),C!==k&&(m.flags|=2048),d!==null&&Ce(aa),null;case 24:return k=null,d!==null&&(k=d.memoizedState.cache),m.memoizedState.cache!==k&&(m.flags|=2048),sa(Un),gr(m),null;case 25:return null;case 30:return null}throw Error(o(156,m.tag))}function ff(d,m){switch(zt(m),m.tag){case 1:return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return sa(Un),We(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 26:case 27:case 5:return st(m),null;case 13:if(rl(m),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(o(340));Po()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return Ce(pr),null;case 4:return We(),null;case 10:return sa(m.type),null;case 22:case 23:return rl(m),Ln(),d!==null&&Ce(aa),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 24:return sa(Un),null;case 25:return null;default:return null}}function tk(d,m){switch(zt(m),m.tag){case 3:sa(Un),We();break;case 26:case 27:case 5:st(m);break;case 4:We();break;case 13:rl(m);break;case 19:Ce(pr);break;case 10:sa(m.type);break;case 22:case 23:rl(m),Ln(),d!==null&&Ce(aa);break;case 24:sa(Un)}}function Yh(d,m){try{var k=m.updateQueue,C=k!==null?k.lastEffect:null;if(C!==null){var M=C.next;k=M;do{if((k.tag&d)===d){C=void 0;var P=k.create,J=k.inst;C=P(),J.destroy=C}k=k.next}while(k!==M)}}catch(ce){Zi(m,m.return,ce)}}function Zc(d,m,k){try{var C=m.updateQueue,M=C!==null?C.lastEffect:null;if(M!==null){var P=M.next;C=P;do{if((C.tag&d)===d){var J=C.inst,ce=J.destroy;if(ce!==void 0){J.destroy=void 0,M=m;var Ne=k,Xe=ce;try{Xe()}catch(gt){Zi(M,Ne,gt)}}}C=C.next}while(C!==P)}}catch(gt){Zi(m,m.return,gt)}}function Up(d){var m=d.updateQueue;if(m!==null){var k=d.stateNode;try{xn(m,k)}catch(C){Zi(d,d.return,C)}}}function nk(d,m,k){k.props=sl(d.type,d.memoizedProps),k.state=d.memoizedState;try{k.componentWillUnmount()}catch(C){Zi(d,m,C)}}function Gh(d,m){try{var k=d.ref;if(k!==null){switch(d.tag){case 26:case 27:case 5:var C=d.stateNode;break;case 30:C=d.stateNode;break;default:C=d.stateNode}typeof k=="function"?d.refCleanup=k(C):k.current=C}}catch(M){Zi(d,m,M)}}function al(d,m){var k=d.ref,C=d.refCleanup;if(k!==null)if(typeof C=="function")try{C()}catch(M){Zi(d,m,M)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof k=="function")try{k(null)}catch(M){Zi(d,m,M)}else k.current=null}function pf(d){var m=d.type,k=d.memoizedProps,C=d.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":k.autoFocus&&C.focus();break e;case"img":k.src?C.src=k.src:k.srcSet&&(C.srcset=k.srcSet)}}catch(M){Zi(d,d.return,M)}}function $p(d,m,k){try{var C=d.stateNode;mg(C,d.type,k,m),C[On]=m}catch(M){Zi(d,d.return,M)}}function ik(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&sd(d.type)||d.tag===4}function qp(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||ik(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&sd(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function gf(d,m,k){var C=d.tag;if(C===5||C===6)d=d.stateNode,m?(k.nodeType===9?k.body:k.nodeName==="HTML"?k.ownerDocument.body:k).insertBefore(d,m):(m=k.nodeType===9?k.body:k.nodeName==="HTML"?k.ownerDocument.body:k,m.appendChild(d),k=k._reactRootContainer,k!=null||m.onclick!==null||(m.onclick=Da));else if(C!==4&&(C===27&&sd(d.type)&&(k=d.stateNode,m=null),d=d.child,d!==null))for(gf(d,m,k),d=d.sibling;d!==null;)gf(d,m,k),d=d.sibling}function Kh(d,m,k){var C=d.tag;if(C===5||C===6)d=d.stateNode,m?k.insertBefore(d,m):k.appendChild(d);else if(C!==4&&(C===27&&sd(d.type)&&(k=d.stateNode),d=d.child,d!==null))for(Kh(d,m,k),d=d.sibling;d!==null;)Kh(d,m,k),d=d.sibling}function Qh(d){var m=d.stateNode,k=d.memoizedProps;try{for(var C=d.type,M=m.attributes;M.length;)m.removeAttributeNode(M[0]);Fs(m,C,k),m[an]=d,m[On]=k}catch(P){Zi(d,d.return,P)}}var Sl=!1,Ir=!1,Wu=!1,rk=typeof WeakSet=="function"?WeakSet:Set,ss=null;function jw(d,m){if(d=d.containerInfo,li=Lf,d=bl(d),Qa(d)){if("selectionStart"in d)var k={start:d.selectionStart,end:d.selectionEnd};else e:{k=(k=d.ownerDocument)&&k.defaultView||window;var C=k.getSelection&&k.getSelection();if(C&&C.rangeCount!==0){k=C.anchorNode;var M=C.anchorOffset,P=C.focusNode;C=C.focusOffset;try{k.nodeType,P.nodeType}catch{k=null;break e}var J=0,ce=-1,Ne=-1,Xe=0,gt=0,vt=d,tt=null;t:for(;;){for(var it;vt!==k||M!==0&&vt.nodeType!==3||(ce=J+M),vt!==P||C!==0&&vt.nodeType!==3||(Ne=J+C),vt.nodeType===3&&(J+=vt.nodeValue.length),(it=vt.firstChild)!==null;)tt=vt,vt=it;for(;;){if(vt===d)break t;if(tt===k&&++Xe===M&&(ce=J),tt===P&&++gt===C&&(Ne=J),(it=vt.nextSibling)!==null)break;vt=tt,tt=vt.parentNode}vt=it}k=ce===-1||Ne===-1?null:{start:ce,end:Ne}}else k=null}k=k||{start:0,end:0}}else k=null;for(fg={focusedElem:d,selectionRange:k},Lf=!1,ss=m;ss!==null;)if(m=ss,d=m.child,(m.subtreeFlags&1024)!==0&&d!==null)d.return=m,ss=d;else for(;ss!==null;){switch(m=ss,P=m.alternate,d=m.flags,m.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&P!==null){d=void 0,k=m,M=P.memoizedProps,P=P.memoizedState,C=k.stateNode;try{var In=sl(k.type,M,k.elementType===k.type);d=C.getSnapshotBeforeUpdate(In,P),C.__reactInternalSnapshotBeforeUpdate=d}catch(kn){Zi(k,k.return,kn)}}break;case 3:if((d&1024)!==0){if(d=m.stateNode.containerInfo,k=d.nodeType,k===9)pg(d);else if(k===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":pg(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(o(163))}if(d=m.sibling,d!==null){d.return=m.return,ss=d;break}ss=m.return}}function Zh(d,m,k){var C=k.flags;switch(k.tag){case 0:case 11:case 15:_s(d,k),C&4&&Yh(5,k);break;case 1:if(_s(d,k),C&4)if(d=k.stateNode,m===null)try{d.componentDidMount()}catch(J){Zi(k,k.return,J)}else{var M=sl(k.type,m.memoizedProps);m=m.memoizedState;try{d.componentDidUpdate(M,m,d.__reactInternalSnapshotBeforeUpdate)}catch(J){Zi(k,k.return,J)}}C&64&&Up(k),C&512&&Gh(k,k.return);break;case 3:if(_s(d,k),C&64&&(d=k.updateQueue,d!==null)){if(m=null,k.child!==null)switch(k.child.tag){case 27:case 5:m=k.child.stateNode;break;case 1:m=k.child.stateNode}try{xn(d,m)}catch(J){Zi(k,k.return,J)}}break;case 27:m===null&&C&4&&Qh(k);case 26:case 5:_s(d,k),m===null&&C&4&&pf(k),C&512&&Gh(k,k.return);break;case 12:_s(d,k);break;case 13:_s(d,k),C&4&&ak(d,k),C&64&&(d=k.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(k=Lw.bind(null,k),Ok(d,k))));break;case 22:if(C=k.memoizedState!==null||Sl,!C){m=m!==null&&m.memoizedState!==null||Ir,M=Sl;var P=Ir;Sl=C,(Ir=m)&&!P?ao(d,k,(k.subtreeFlags&8772)!==0):_s(d,k),Sl=M,Ir=P}break;case 30:break;default:_s(d,k)}}function sk(d){var m=d.alternate;m!==null&&(d.alternate=null,sk(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&qn(m)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var cr=null,Ao=!1;function jl(d,m,k){for(k=k.child;k!==null;)ok(d,m,k),k=k.sibling}function ok(d,m,k){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(bt,k)}catch{}switch(k.tag){case 26:Ir||al(k,m),jl(d,m,k),k.memoizedState?k.memoizedState.count--:k.stateNode&&(k=k.stateNode,k.parentNode.removeChild(k));break;case 27:Ir||al(k,m);var C=cr,M=Ao;sd(k.type)&&(cr=k.stateNode,Ao=!1),jl(d,m,k),rm(k.stateNode),cr=C,Ao=M;break;case 5:Ir||al(k,m);case 6:if(C=cr,M=Ao,cr=null,jl(d,m,k),cr=C,Ao=M,cr!==null)if(Ao)try{(cr.nodeType===9?cr.body:cr.nodeName==="HTML"?cr.ownerDocument.body:cr).removeChild(k.stateNode)}catch(P){Zi(k,m,P)}else try{cr.removeChild(k.stateNode)}catch(P){Zi(k,m,P)}break;case 18:cr!==null&&(Ao?(d=cr,Mk(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,k.stateNode),lh(d)):Mk(cr,k.stateNode));break;case 4:C=cr,M=Ao,cr=k.stateNode.containerInfo,Ao=!0,jl(d,m,k),cr=C,Ao=M;break;case 0:case 11:case 14:case 15:Ir||Zc(2,k,m),Ir||Zc(4,k,m),jl(d,m,k);break;case 1:Ir||(al(k,m),C=k.stateNode,typeof C.componentWillUnmount=="function"&&nk(k,m,C)),jl(d,m,k);break;case 21:jl(d,m,k);break;case 22:Ir=(C=Ir)||k.memoizedState!==null,jl(d,m,k),Ir=C;break;default:jl(d,m,k)}}function ak(d,m){if(m.memoizedState===null&&(d=m.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{lh(d)}catch(k){Zi(m,m.return,k)}}function Dw(d){switch(d.tag){case 13:case 19:var m=d.stateNode;return m===null&&(m=d.stateNode=new rk),m;case 22:return d=d.stateNode,m=d._retryCache,m===null&&(m=d._retryCache=new rk),m;default:throw Error(o(435,d.tag))}}function ua(d,m){var k=Dw(d);m.forEach(function(C){var M=Bw.bind(null,d,C);k.has(C)||(k.add(C),C.then(M,M))})}function ha(d,m){var k=m.deletions;if(k!==null)for(var C=0;C<k.length;C++){var M=k[C],P=d,J=m,ce=J;e:for(;ce!==null;){switch(ce.tag){case 27:if(sd(ce.type)){cr=ce.stateNode,Ao=!1;break e}break;case 5:cr=ce.stateNode,Ao=!1;break e;case 3:case 4:cr=ce.stateNode.containerInfo,Ao=!0;break e}ce=ce.return}if(cr===null)throw Error(o(160));ok(P,J,M),cr=null,Ao=!1,P=M.alternate,P!==null&&(P.return=null),M.return=null}if(m.subtreeFlags&13878)for(m=m.child;m!==null;)Xc(m,d),m=m.sibling}var ks=null;function Xc(d,m){var k=d.alternate,C=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:ha(m,d),Rs(d),C&4&&(Zc(3,d,d.return),Yh(3,d),Zc(5,d,d.return));break;case 1:ha(m,d),Rs(d),C&512&&(Ir||k===null||al(k,k.return)),C&64&&Sl&&(d=d.updateQueue,d!==null&&(C=d.callbacks,C!==null&&(k=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=k===null?C:k.concat(C))));break;case 26:var M=ks;if(ha(m,d),Rs(d),C&512&&(Ir||k===null||al(k,k.return)),C&4){var P=k!==null?k.memoizedState:null;if(C=d.memoizedState,k===null)if(C===null)if(d.stateNode===null){e:{C=d.type,k=d.memoizedProps,M=M.ownerDocument||M;t:switch(C){case"title":P=M.getElementsByTagName("title")[0],(!P||P[ln]||P[an]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=M.createElement(C),M.head.insertBefore(P,M.querySelector("head > title"))),Fs(P,C,k),P[an]=d,qt(P),C=P;break e;case"link":var J=vg("link","href",M).get(C+(k.href||""));if(J){for(var ce=0;ce<J.length;ce++)if(P=J[ce],P.getAttribute("href")===(k.href==null||k.href===""?null:k.href)&&P.getAttribute("rel")===(k.rel==null?null:k.rel)&&P.getAttribute("title")===(k.title==null?null:k.title)&&P.getAttribute("crossorigin")===(k.crossOrigin==null?null:k.crossOrigin)){J.splice(ce,1);break t}}P=M.createElement(C),Fs(P,C,k),M.head.appendChild(P);break;case"meta":if(J=vg("meta","content",M).get(C+(k.content||""))){for(ce=0;ce<J.length;ce++)if(P=J[ce],P.getAttribute("content")===(k.content==null?null:""+k.content)&&P.getAttribute("name")===(k.name==null?null:k.name)&&P.getAttribute("property")===(k.property==null?null:k.property)&&P.getAttribute("http-equiv")===(k.httpEquiv==null?null:k.httpEquiv)&&P.getAttribute("charset")===(k.charSet==null?null:k.charSet)){J.splice(ce,1);break t}}P=M.createElement(C),Fs(P,C,k),M.head.appendChild(P);break;default:throw Error(o(468,C))}P[an]=d,qt(P),C=P}d.stateNode=C}else oh(M,d.type,d.stateNode);else d.stateNode=iu(M,C,d.memoizedProps);else P!==C?(P===null?k.stateNode!==null&&(k=k.stateNode,k.parentNode.removeChild(k)):P.count--,C===null?oh(M,d.type,d.stateNode):iu(M,C,d.memoizedProps)):C===null&&d.stateNode!==null&&$p(d,d.memoizedProps,k.memoizedProps)}break;case 27:ha(m,d),Rs(d),C&512&&(Ir||k===null||al(k,k.return)),k!==null&&C&4&&$p(d,d.memoizedProps,k.memoizedProps);break;case 5:if(ha(m,d),Rs(d),C&512&&(Ir||k===null||al(k,k.return)),d.flags&32){M=d.stateNode;try{Sr(M,"")}catch(it){Zi(d,d.return,it)}}C&4&&d.stateNode!=null&&(M=d.memoizedProps,$p(d,M,k!==null?k.memoizedProps:M)),C&1024&&(Wu=!0);break;case 6:if(ha(m,d),Rs(d),C&4){if(d.stateNode===null)throw Error(o(162));C=d.memoizedProps,k=d.stateNode;try{k.nodeValue=C}catch(it){Zi(d,d.return,it)}}break;case 3:if(am=null,M=ks,ks=Tf(m.containerInfo),ha(m,d),ks=M,Rs(d),C&4&&k!==null&&k.memoizedState.isDehydrated)try{lh(m.containerInfo)}catch(it){Zi(d,d.return,it)}Wu&&(Wu=!1,Pi(d));break;case 4:C=ks,ks=Tf(d.stateNode.containerInfo),ha(m,d),Rs(d),ks=C;break;case 12:ha(m,d),Rs(d);break;case 13:ha(m,d),Rs(d),d.child.flags&8192&&d.memoizedState!==null!=(k!==null&&k.memoizedState!==null)&&(Kp=Pt()),C&4&&(C=d.updateQueue,C!==null&&(d.updateQueue=null,ua(d,C)));break;case 22:M=d.memoizedState!==null;var Ne=k!==null&&k.memoizedState!==null,Xe=Sl,gt=Ir;if(Sl=Xe||M,Ir=gt||Ne,ha(m,d),Ir=gt,Sl=Xe,Rs(d),C&8192)e:for(m=d.stateNode,m._visibility=M?m._visibility&-2:m._visibility|1,M&&(k===null||Ne||Sl||Ir||ui(d)),k=null,m=d;;){if(m.tag===5||m.tag===26){if(k===null){Ne=k=m;try{if(P=Ne.stateNode,M)J=P.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none";else{ce=Ne.stateNode;var vt=Ne.memoizedProps.style,tt=vt!=null&&vt.hasOwnProperty("display")?vt.display:null;ce.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(it){Zi(Ne,Ne.return,it)}}}else if(m.tag===6){if(k===null){Ne=m;try{Ne.stateNode.nodeValue=M?"":Ne.memoizedProps}catch(it){Zi(Ne,Ne.return,it)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===d)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break e;for(;m.sibling===null;){if(m.return===null||m.return===d)break e;k===m&&(k=null),m=m.return}k===m&&(k=null),m.sibling.return=m.return,m=m.sibling}C&4&&(C=d.updateQueue,C!==null&&(k=C.retryQueue,k!==null&&(C.retryQueue=null,ua(d,k))));break;case 19:ha(m,d),Rs(d),C&4&&(C=d.updateQueue,C!==null&&(d.updateQueue=null,ua(d,C)));break;case 30:break;case 21:break;default:ha(m,d),Rs(d)}}function Rs(d){var m=d.flags;if(m&2){try{for(var k,C=d.return;C!==null;){if(ik(C)){k=C;break}C=C.return}if(k==null)throw Error(o(160));switch(k.tag){case 27:var M=k.stateNode,P=qp(d);Kh(d,P,M);break;case 5:var J=k.stateNode;k.flags&32&&(Sr(J,""),k.flags&=-33);var ce=qp(d);Kh(d,ce,J);break;case 3:case 4:var Ne=k.stateNode.containerInfo,Xe=qp(d);gf(d,Xe,Ne);break;default:throw Error(o(161))}}catch(gt){Zi(d,d.return,gt)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function Pi(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var m=d;Pi(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),d=d.sibling}}function _s(d,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)Zh(d,m.alternate,m),m=m.sibling}function ui(d){for(d=d.child;d!==null;){var m=d;switch(m.tag){case 0:case 11:case 14:case 15:Zc(4,m,m.return),ui(m);break;case 1:al(m,m.return);var k=m.stateNode;typeof k.componentWillUnmount=="function"&&nk(m,m.return,k),ui(m);break;case 27:rm(m.stateNode);case 26:case 5:al(m,m.return),ui(m);break;case 22:m.memoizedState===null&&ui(m);break;case 30:ui(m);break;default:ui(m)}d=d.sibling}}function ao(d,m,k){for(k=k&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var C=m.alternate,M=d,P=m,J=P.flags;switch(P.tag){case 0:case 11:case 15:ao(M,P,k),Yh(4,P);break;case 1:if(ao(M,P,k),C=P,M=C.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(Xe){Zi(C,C.return,Xe)}if(C=P,M=C.updateQueue,M!==null){var ce=C.stateNode;try{var Ne=M.shared.hiddenCallbacks;if(Ne!==null)for(M.shared.hiddenCallbacks=null,M=0;M<Ne.length;M++)St(Ne[M],ce)}catch(Xe){Zi(C,C.return,Xe)}}k&&J&64&&Up(P),Gh(P,P.return);break;case 27:Qh(P);case 26:case 5:ao(M,P,k),k&&C===null&&J&4&&pf(P),Gh(P,P.return);break;case 12:ao(M,P,k);break;case 13:ao(M,P,k),k&&J&4&&ak(M,P);break;case 22:P.memoizedState===null&&ao(M,P,k),Gh(P,P.return);break;case 30:break;default:ao(M,P,k)}m=m.sibling}}function dc(d,m){var k=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(k=d.memoizedState.cachePool.pool),d=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(d=m.memoizedState.cachePool.pool),d!==k&&(d!=null&&d.refCount++,k!=null&&fr(k))}function At(d,m){d=null,m.alternate!==null&&(d=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==d&&(m.refCount++,d!=null&&fr(d))}function qo(d,m,k,C){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)Wp(d,m,k,C),m=m.sibling}function Wp(d,m,k,C){var M=m.flags;switch(m.tag){case 0:case 11:case 15:qo(d,m,k,C),M&2048&&Yh(9,m);break;case 1:qo(d,m,k,C);break;case 3:qo(d,m,k,C),M&2048&&(d=null,m.alternate!==null&&(d=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==d&&(m.refCount++,d!=null&&fr(d)));break;case 12:if(M&2048){qo(d,m,k,C),d=m.stateNode;try{var P=m.memoizedProps,J=P.id,ce=P.onPostCommit;typeof ce=="function"&&ce(J,m.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(Ne){Zi(m,m.return,Ne)}}else qo(d,m,k,C);break;case 13:qo(d,m,k,C);break;case 23:break;case 22:P=m.stateNode,J=m.alternate,m.memoizedState!==null?P._visibility&2?qo(d,m,k,C):Yu(d,m):P._visibility&2?qo(d,m,k,C):(P._visibility|=2,Kd(d,m,k,C,(m.subtreeFlags&10256)!==0)),M&2048&&dc(J,m);break;case 24:qo(d,m,k,C),M&2048&&At(m.alternate,m);break;default:qo(d,m,k,C)}}function Kd(d,m,k,C,M){for(M=M&&(m.subtreeFlags&10256)!==0,m=m.child;m!==null;){var P=d,J=m,ce=k,Ne=C,Xe=J.flags;switch(J.tag){case 0:case 11:case 15:Kd(P,J,ce,Ne,M),Yh(8,J);break;case 23:break;case 22:var gt=J.stateNode;J.memoizedState!==null?gt._visibility&2?Kd(P,J,ce,Ne,M):Yu(P,J):(gt._visibility|=2,Kd(P,J,ce,Ne,M)),M&&Xe&2048&&dc(J.alternate,J);break;case 24:Kd(P,J,ce,Ne,M),M&&Xe&2048&&At(J.alternate,J);break;default:Kd(P,J,ce,Ne,M)}m=m.sibling}}function Yu(d,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var k=d,C=m,M=C.flags;switch(C.tag){case 22:Yu(k,C),M&2048&&dc(C.alternate,C);break;case 24:Yu(k,C),M&2048&&At(C.alternate,C);break;default:Yu(k,C)}m=m.sibling}}var Qd=8192;function Je(d){if(d.subtreeFlags&Qd)for(d=d.child;d!==null;)Yp(d),d=d.sibling}function Yp(d){switch(d.tag){case 26:Je(d),d.flags&Qd&&d.memoizedState!==null&&Wk(ks,d.memoizedState,d.memoizedProps);break;case 5:Je(d);break;case 3:case 4:var m=ks;ks=Tf(d.stateNode.containerInfo),Je(d),ks=m;break;case 22:d.memoizedState===null&&(m=d.alternate,m!==null&&m.memoizedState!==null?(m=Qd,Qd=16777216,Je(d),Qd=m):Je(d));break;default:Je(d)}}function lk(d){var m=d.alternate;if(m!==null&&(d=m.child,d!==null)){m.child=null;do m=d.sibling,d.sibling=null,d=m;while(d!==null)}}function Jc(d){var m=d.deletions;if((d.flags&16)!==0){if(m!==null)for(var k=0;k<m.length;k++){var C=m[k];ss=C,dk(C,d)}lk(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)ck(d),d=d.sibling}function ck(d){switch(d.tag){case 0:case 11:case 15:Jc(d),d.flags&2048&&Zc(9,d,d.return);break;case 3:Jc(d);break;case 12:Jc(d);break;case 22:var m=d.stateNode;d.memoizedState!==null&&m._visibility&2&&(d.return===null||d.return.tag!==13)?(m._visibility&=-3,bf(d)):Jc(d);break;default:Jc(d)}}function bf(d){var m=d.deletions;if((d.flags&16)!==0){if(m!==null)for(var k=0;k<m.length;k++){var C=m[k];ss=C,dk(C,d)}lk(d)}for(d=d.child;d!==null;){switch(m=d,m.tag){case 0:case 11:case 15:Zc(8,m,m.return),bf(m);break;case 22:k=m.stateNode,k._visibility&2&&(k._visibility&=-3,bf(m));break;default:bf(m)}d=d.sibling}}function dk(d,m){for(;ss!==null;){var k=ss;switch(k.tag){case 0:case 11:case 15:Zc(8,k,m);break;case 23:case 22:if(k.memoizedState!==null&&k.memoizedState.cachePool!==null){var C=k.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:fr(k.memoizedState.cache)}if(C=k.child,C!==null)C.return=k,ss=C;else e:for(k=d;ss!==null;){C=ss;var M=C.sibling,P=C.return;if(sk(C),C===k){ss=null;break e}if(M!==null){M.return=P,ss=M;break e}ss=P}}}var uk={getCacheForType:function(d){var m=vr(Un),k=m.data.get(d);return k===void 0&&(k=d(),m.data.set(d,k)),k}},Tw=typeof WeakMap=="function"?WeakMap:Map,zi=0,Qi=null,Kn=null,hi=0,Oi=0,ma=null,uc=!1,vs=!1,kf=!1,hc=0,br=0,Dl=0,Zd=0,Gp=0,dr=0,Gu=0,Xh=null,Ps=null,fa=!1,Kp=0,ed=1/0,Jh=null,td=null,ws=0,nd=null,Ku=null,Qu=0,_f=0,vf=null,Zu=null,Xu=0,wf=null;function No(){if((zi&2)!==0&&hi!==0)return hi&-hi;if(oe.T!==null){var d=Ms;return d!==0?d:Ef()}return Lt()}function Qp(){dr===0&&(dr=(hi&536870912)===0||bn?di():536870912);var d=da.current;return d!==null&&(d.flags|=32),dr}function Wo(d,m,k){(d===Qi&&(Oi===2||Oi===9)||d.cancelPendingCommit!==null)&&(Ju(d,0),mc(d,hi,dr,!1)),rr(d,k),((zi&2)===0||d!==Qi)&&(d===Qi&&((zi&2)===0&&(Zd|=k),br===4&&mc(d,hi,dr,!1)),Tl(d))}function Zp(d,m,k){if((zi&6)!==0)throw Error(o(327));var C=!k&&(m&124)===0&&(m&d.expiredLanes)===0||Xn(d,m),M=C?Iw(d,m):eg(d,m,!0),P=C;do{if(M===0){vs&&!C&&mc(d,m,0,!1);break}else{if(k=d.current.alternate,P&&!Mw(k)){M=eg(d,m,!1),P=!1;continue}if(M===2){if(P=m,d.errorRecoveryDisabledLanes&P)var J=0;else J=d.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){m=J;e:{var ce=d;M=Xh;var Ne=ce.current.memoizedState.isDehydrated;if(Ne&&(Ju(ce,J).flags|=256),J=eg(ce,J,!1),J!==2){if(kf&&!Ne){ce.errorRecoveryDisabledLanes|=P,Zd|=P,M=4;break e}P=Ps,Ps=M,P!==null&&(Ps===null?Ps=P:Ps.push.apply(Ps,P))}M=J}if(P=!1,M!==2)continue}}if(M===1){Ju(d,0),mc(d,m,0,!0);break}e:{switch(C=d,P=M,P){case 0:case 1:throw Error(o(345));case 4:if((m&4194048)!==m)break;case 6:mc(C,m,dr,!uc);break e;case 2:Ps=null;break;case 3:case 5:break;default:throw Error(o(329))}if((m&62914560)===m&&(M=Kp+300-Pt(),10<M)){if(mc(C,m,dr,!uc),ni(C,0,!0)!==0)break e;C.timeoutHandle=tu(hk.bind(null,C,k,Ps,Jh,fa,m,dr,Zd,Gu,uc,P,2,-0,0),M);break e}hk(C,k,Ps,Jh,fa,m,dr,Zd,Gu,uc,P,0,-0,0)}}break}while(!0);Tl(d)}function hk(d,m,k,C,M,P,J,ce,Ne,Xe,gt,vt,tt,it){if(d.timeoutHandle=-1,vt=m.subtreeFlags,(vt&8192||(vt&16785408)===16785408)&&(lm={stylesheets:null,count:0,unsuspend:qk},Yp(m),vt=yg(),vt!==null)){d.cancelPendingCommit=vt(bk.bind(null,d,m,P,k,C,M,J,ce,Ne,gt,1,tt,it)),mc(d,P,J,!Xe);return}bk(d,m,P,k,C,M,J,ce,Ne)}function Mw(d){for(var m=d;;){var k=m.tag;if((k===0||k===11||k===15)&&m.flags&16384&&(k=m.updateQueue,k!==null&&(k=k.stores,k!==null)))for(var C=0;C<k.length;C++){var M=k[C],P=M.getSnapshot;M=M.value;try{if(!bs(P(),M))return!1}catch{return!1}}if(k=m.child,m.subtreeFlags&16384&&k!==null)k.return=m,m=k;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function mc(d,m,k,C){m&=~Gp,m&=~Zd,d.suspendedLanes|=m,d.pingedLanes&=~m,C&&(d.warmLanes|=m),C=d.expirationTimes;for(var M=m;0<M;){var P=31-Rn(M),J=1<<P;C[P]=-1,M&=~J}k!==0&&qe(d,k,m)}function em(){return(zi&6)===0?(th(0),!1):!0}function yf(){if(Kn!==null){if(Oi===0)var d=Kn.return;else d=Kn,ra=zo=null,tc(d),rc=null,Fh=0,d=Kn;for(;d!==null;)tk(d.alternate,d),d=d.return;Kn=null}}function Ju(d,m){var k=d.timeoutHandle;k!==-1&&(d.timeoutHandle=-1,Hs(k)),k=d.cancelPendingCommit,k!==null&&(d.cancelPendingCommit=null,k()),yf(),Qi=d,Kn=k=Ds(d.current,null),hi=m,Oi=0,ma=null,uc=!1,vs=Xn(d,m),kf=!1,Gu=dr=Gp=Zd=Dl=br=0,Ps=Xh=null,fa=!1,(m&8)!==0&&(m|=m&32);var C=d.entangledLanes;if(C!==0)for(d=d.entanglements,C&=m;0<C;){var M=31-Rn(C),P=1<<M;m|=d[M],C&=~P}return hc=m,kl(),k}function mk(d,m){Jt=null,oe.H=nf,m===nl||m===Lu?(m=ue(),Oi=3):m===Hd?(m=ue(),Oi=4):Oi=m===Gb?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,ma=m,Kn===null&&(br=1,Vh(d,pn(m,d.current)))}function fk(){var d=oe.H;return oe.H=nf,d===null?nf:d}function Xp(){var d=oe.A;return oe.A=uk,d}function Jp(){br=4,uc||(hi&4194048)!==hi&&da.current!==null||(vs=!0),(Dl&134217727)===0&&(Zd&134217727)===0||Qi===null||mc(Qi,hi,dr,!1)}function eg(d,m,k){var C=zi;zi|=2;var M=fk(),P=Xp();(Qi!==d||hi!==m)&&(Jh=null,Ju(d,m)),m=!1;var J=br;e:do try{if(Oi!==0&&Kn!==null){var ce=Kn,Ne=ma;switch(Oi){case 8:yf(),J=6;break e;case 3:case 2:case 9:case 6:da.current===null&&(m=!0);var Xe=Oi;if(Oi=0,ma=null,Xd(d,ce,Ne,Xe),k&&vs){J=0;break e}break;default:Xe=Oi,Oi=0,ma=null,Xd(d,ce,Ne,Xe)}}pk(),J=br;break}catch(gt){mk(d,gt)}while(!0);return m&&d.shellSuspendCounter++,ra=zo=null,zi=C,oe.H=M,oe.A=P,Kn===null&&(Qi=null,hi=0,kl()),J}function pk(){for(;Kn!==null;)xf(Kn)}function Iw(d,m){var k=zi;zi|=2;var C=fk(),M=Xp();Qi!==d||hi!==m?(Jh=null,ed=Pt()+500,Ju(d,m)):vs=Xn(d,m);e:do try{if(Oi!==0&&Kn!==null){m=Kn;var P=ma;t:switch(Oi){case 1:Oi=0,ma=null,Xd(d,m,P,1);break;case 2:case 9:if(ec(P)){Oi=0,ma=null,Cf(m);break}m=function(){Oi!==2&&Oi!==9||Qi!==d||(Oi=7),Tl(d)},P.then(m,m);break e;case 3:Oi=7;break e;case 4:Oi=5;break e;case 7:ec(P)?(Oi=0,ma=null,Cf(m)):(Oi=0,ma=null,Xd(d,m,P,7));break;case 5:var J=null;switch(Kn.tag){case 26:J=Kn.memoizedState;case 5:case 27:var ce=Kn;if(!J||wg(J)){Oi=0,ma=null;var Ne=ce.sibling;if(Ne!==null)Kn=Ne;else{var Xe=ce.return;Xe!==null?(Kn=Xe,tm(Xe)):Kn=null}break t}}Oi=0,ma=null,Xd(d,m,P,5);break;case 6:Oi=0,ma=null,Xd(d,m,P,6);break;case 8:yf(),br=6;break e;default:throw Error(o(462))}}gk();break}catch(gt){mk(d,gt)}while(!0);return ra=zo=null,oe.H=C,oe.A=M,zi=k,Kn!==null?0:(Qi=null,hi=0,kl(),br)}function gk(){for(;Kn!==null&&!Fe();)xf(Kn)}function xf(d){var m=Vp(d.alternate,d,hc);d.memoizedProps=d.pendingProps,m===null?tm(d):Kn=m}function Cf(d){var m=d,k=m.alternate;switch(m.tag){case 15:case 0:m=Rp(k,m,m.pendingProps,m.type,void 0,hi);break;case 11:m=Rp(k,m,m.pendingProps,m.type.render,m.ref,hi);break;case 5:tc(m);default:tk(k,m),m=Kn=Pc(m,hc),m=Vp(k,m,hc)}d.memoizedProps=d.pendingProps,m===null?tm(d):Kn=m}function Xd(d,m,k,C){ra=zo=null,tc(m),rc=null,Fh=0;var M=m.return;try{if(Nw(d,M,m,k,hi)){br=1,Vh(d,pn(k,d.current)),Kn=null;return}}catch(P){if(M!==null)throw Kn=M,P;br=1,Vh(d,pn(k,d.current)),Kn=null;return}m.flags&32768?(bn||C===1?d=!0:vs||(hi&536870912)!==0?d=!1:(uc=d=!0,(C===2||C===9||C===3||C===6)&&(C=da.current,C!==null&&C.tag===13&&(C.flags|=16384))),tg(m,d)):tm(m)}function tm(d){var m=d;do{if((m.flags&32768)!==0){tg(m,uc);return}d=m.return;var k=Sw(m.alternate,m,hc);if(k!==null){Kn=k;return}if(m=m.sibling,m!==null){Kn=m;return}Kn=m=d}while(m!==null);br===0&&(br=5)}function tg(d,m){do{var k=ff(d.alternate,d);if(k!==null){k.flags&=32767,Kn=k;return}if(k=d.return,k!==null&&(k.flags|=32768,k.subtreeFlags=0,k.deletions=null),!m&&(d=d.sibling,d!==null)){Kn=d;return}Kn=d=k}while(d!==null);br=6,Kn=null}function bk(d,m,k,C,M,P,J,ce,Ne){d.cancelPendingCommit=null;do id();while(ws!==0);if((zi&6)!==0)throw Error(o(327));if(m!==null){if(m===d.current)throw Error(o(177));if(P=m.lanes|m.childLanes,P|=js,Nr(d,k,P,J,ce,Ne),d===Qi&&(Kn=Qi=null,hi=0),Ku=m,nd=d,Qu=k,_f=P,vf=M,Zu=C,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,Rw(Dt,function(){return nm(),null})):(d.callbackNode=null,d.callbackPriority=0),C=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||C){C=oe.T,oe.T=null,M=ve.p,ve.p=2,J=zi,zi|=4;try{jw(d,m,k)}finally{zi=J,ve.p=M,oe.T=C}}ws=1,ng(),ig(),rg()}}function ng(){if(ws===1){ws=0;var d=nd,m=Ku,k=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||k){k=oe.T,oe.T=null;var C=ve.p;ve.p=2;var M=zi;zi|=4;try{Xc(m,d);var P=fg,J=bl(d.containerInfo),ce=P.focusedElem,Ne=P.selectionRange;if(J!==ce&&ce&&ce.ownerDocument&&Lc(ce.ownerDocument.documentElement,ce)){if(Ne!==null&&Qa(ce)){var Xe=Ne.start,gt=Ne.end;if(gt===void 0&&(gt=Xe),"selectionStart"in ce)ce.selectionStart=Xe,ce.selectionEnd=Math.min(gt,ce.value.length);else{var vt=ce.ownerDocument||document,tt=vt&&vt.defaultView||window;if(tt.getSelection){var it=tt.getSelection(),In=ce.textContent.length,kn=Math.min(Ne.start,In),Vi=Ne.end===void 0?kn:Math.min(Ne.end,In);!it.extend&&kn>Vi&&(J=Vi,Vi=kn,kn=J);var Ue=Oc(ce,kn),Be=Oc(ce,Vi);if(Ue&&Be&&(it.rangeCount!==1||it.anchorNode!==Ue.node||it.anchorOffset!==Ue.offset||it.focusNode!==Be.node||it.focusOffset!==Be.offset)){var Ke=vt.createRange();Ke.setStart(Ue.node,Ue.offset),it.removeAllRanges(),kn>Vi?(it.addRange(Ke),it.extend(Be.node,Be.offset)):(Ke.setEnd(Be.node,Be.offset),it.addRange(Ke))}}}}for(vt=[],it=ce;it=it.parentNode;)it.nodeType===1&&vt.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof ce.focus=="function"&&ce.focus(),ce=0;ce<vt.length;ce++){var _t=vt[ce];_t.element.scrollLeft=_t.left,_t.element.scrollTop=_t.top}}Lf=!!li,fg=li=null}finally{zi=M,ve.p=C,oe.T=k}}d.current=m,ws=2}}function ig(){if(ws===2){ws=0;var d=nd,m=Ku,k=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||k){k=oe.T,oe.T=null;var C=ve.p;ve.p=2;var M=zi;zi|=4;try{Zh(d,m.alternate,m)}finally{zi=M,ve.p=C,oe.T=k}}ws=3}}function rg(){if(ws===4||ws===3){ws=0,ht();var d=nd,m=Ku,k=Qu,C=Zu;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?ws=5:(ws=0,Ku=nd=null,kk(d,d.pendingLanes));var M=d.pendingLanes;if(M===0&&(td=null),Re(k),m=m.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(bt,m,void 0,(m.current.flags&128)===128)}catch{}if(C!==null){m=oe.T,M=ve.p,ve.p=2,oe.T=null;try{for(var P=d.onRecoverableError,J=0;J<C.length;J++){var ce=C[J];P(ce.value,{componentStack:ce.stack})}}finally{oe.T=m,ve.p=M}}(Qu&3)!==0&&id(),Tl(d),M=d.pendingLanes,(k&4194090)!==0&&(M&42)!==0?d===wf?Xu++:(Xu=0,wf=d):Xu=0,th(0)}}function kk(d,m){(d.pooledCacheLanes&=m)===0&&(m=d.pooledCache,m!=null&&(d.pooledCache=null,fr(m)))}function id(d){return ng(),ig(),rg(),nm()}function nm(){if(ws!==5)return!1;var d=nd,m=_f;_f=0;var k=Re(Qu),C=oe.T,M=ve.p;try{ve.p=32>k?32:k,oe.T=null,k=vf,vf=null;var P=nd,J=Qu;if(ws=0,Ku=nd=null,Qu=0,(zi&6)!==0)throw Error(o(331));var ce=zi;if(zi|=4,ck(P.current),Wp(P,P.current,J,k),zi=ce,th(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(bt,P)}catch{}return!0}finally{ve.p=M,oe.T=C,kk(d,m)}}function _k(d,m,k){m=pn(k,m),m=Op(d.stateNode,m,2),d=Wt(d,m,2),d!==null&&(rr(d,2),Tl(d))}function Zi(d,m,k){if(d.tag===3)_k(d,d,k);else for(;m!==null;){if(m.tag===3){_k(m,d,k);break}else if(m.tag===1){var C=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(td===null||!td.has(C))){d=pn(k,d),k=Lp(2),C=Wt(m,k,2),C!==null&&(Yb(k,C,m,d),rr(C,2),Tl(C));break}}m=m.return}}function fc(d,m,k){var C=d.pingCache;if(C===null){C=d.pingCache=new Tw;var M=new Set;C.set(m,M)}else M=C.get(m),M===void 0&&(M=new Set,C.set(m,M));M.has(k)||(kf=!0,M.add(k),d=Ow.bind(null,d,m,k),m.then(d,d))}function Ow(d,m,k){var C=d.pingCache;C!==null&&C.delete(m),d.pingedLanes|=d.suspendedLanes&k,d.warmLanes&=~k,Qi===d&&(hi&k)===k&&(br===4||br===3&&(hi&62914560)===hi&&300>Pt()-Kp?(zi&2)===0&&Ju(d,0):Gp|=k,Gu===hi&&(Gu=0)),Tl(d)}function vk(d,m){m===0&&(m=ir()),d=es(d,m),d!==null&&(rr(d,m),Tl(d))}function Lw(d){var m=d.memoizedState,k=0;m!==null&&(k=m.retryLane),vk(d,k)}function Bw(d,m){var k=0;switch(d.tag){case 13:var C=d.stateNode,M=d.memoizedState;M!==null&&(k=M.retryLane);break;case 19:C=d.stateNode;break;case 22:C=d.stateNode._retryCache;break;default:throw Error(o(314))}C!==null&&C.delete(m),vk(d,k)}function Rw(d,m){return Oe(d,m)}var Af=null,eh=null,sg=!1,Nf=!1,pc=!1,Jd=0;function Tl(d){d!==eh&&d.next===null&&(eh===null?Af=eh=d:eh=eh.next=d),Nf=!0,sg||(sg=!0,zw())}function th(d,m){if(!pc&&Nf){pc=!0;do for(var k=!1,C=Af;C!==null;){if(d!==0){var M=C.pendingLanes;if(M===0)var P=0;else{var J=C.suspendedLanes,ce=C.pingedLanes;P=(1<<31-Rn(42|d)+1)-1,P&=M&~(J&~ce),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(k=!0,xk(C,P))}else P=hi,P=ni(C,C===Qi?P:0,C.cancelPendingCommit!==null||C.timeoutHandle!==-1),(P&3)===0||Xn(C,P)||(k=!0,xk(C,P));C=C.next}while(k);pc=!1}}function Pw(){wk()}function wk(){Nf=sg=!1;var d=0;Jd!==0&&(Dk()&&(d=Jd),Jd=0);for(var m=Pt(),k=null,C=Af;C!==null;){var M=C.next,P=yk(C,m);P===0?(C.next=null,k===null?Af=M:k.next=M,M===null&&(eh=k)):(k=C,(d!==0||(P&3)!==0)&&(Nf=!0)),C=M}th(d)}function yk(d,m){for(var k=d.suspendedLanes,C=d.pingedLanes,M=d.expirationTimes,P=d.pendingLanes&-62914561;0<P;){var J=31-Rn(P),ce=1<<J,Ne=M[J];Ne===-1?((ce&k)===0||(ce&C)!==0)&&(M[J]=$s(ce,m)):Ne<=m&&(d.expiredLanes|=ce),P&=~ce}if(m=Qi,k=hi,k=ni(d,d===m?k:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),C=d.callbackNode,k===0||d===m&&(Oi===2||Oi===9)||d.cancelPendingCommit!==null)return C!==null&&C!==null&&ut(C),d.callbackNode=null,d.callbackPriority=0;if((k&3)===0||Xn(d,k)){if(m=k&-k,m===d.callbackPriority)return m;switch(C!==null&&ut(C),Re(k)){case 2:case 8:k=jt;break;case 32:k=Dt;break;case 268435456:k=Tt;break;default:k=Dt}return C=og.bind(null,d),k=Oe(k,C),d.callbackPriority=m,d.callbackNode=k,m}return C!==null&&C!==null&&ut(C),d.callbackPriority=2,d.callbackNode=null,2}function og(d,m){if(ws!==0&&ws!==5)return d.callbackNode=null,d.callbackPriority=0,null;var k=d.callbackNode;if(id()&&d.callbackNode!==k)return null;var C=hi;return C=ni(d,d===Qi?C:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),C===0?null:(Zp(d,C,m),yk(d,Pt()),d.callbackNode!=null&&d.callbackNode===k?og.bind(null,d):null)}function xk(d,m){if(id())return null;Zp(d,m,!0)}function zw(){Hw(function(){(zi&6)!==0?Oe(at,Pw):wk()})}function Ef(){return Jd===0&&(Jd=di()),Jd}function Ck(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:nn(""+d)}function Ak(d,m){var k=m.ownerDocument.createElement("input");return k.name=m.name,k.value=m.value,d.id&&k.setAttribute("form",d.id),m.parentNode.insertBefore(k,m),d=new FormData(d),k.parentNode.removeChild(k),d}function Fw(d,m,k,C,M){if(m==="submit"&&k&&k.stateNode===M){var P=Ck((M[On]||null).action),J=C.submitter;J&&(m=(m=J[On]||null)?Ck(m.formAction):J.getAttribute("formAction"),m!==null&&(P=m,J=null));var ce=new ea("action","action",null,C,M);d.push({event:ce,listeners:[{instance:null,listener:function(){if(C.defaultPrevented){if(Jd!==0){var Ne=J?Ak(M,J):new FormData(M);Rt(k,{pending:!0,data:Ne,method:M.method,action:P},null,Ne)}}else typeof P=="function"&&(ce.preventDefault(),Ne=J?Ak(M,J):new FormData(M),Rt(k,{pending:!0,data:Ne,method:M.method,action:P},P,Ne))},currentTarget:M}]})}}for(var ag=0;ag<Ro.length;ag++){var lg=Ro[ag],cg=lg.toLowerCase(),Nk=lg[0].toUpperCase()+lg.slice(1);to(cg,"on"+Nk)}to(Jr,"onAnimationEnd"),to(sr,"onAnimationIteration"),to(Ja,"onAnimationStart"),to("dblclick","onDoubleClick"),to("focusin","onFocus"),to("focusout","onBlur"),to(eo,"onTransitionRun"),to(Ql,"onTransitionStart"),to(Rd,"onTransitionCancel"),to(Zl,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zs));function ug(d,m){m=(m&4)!==0;for(var k=0;k<d.length;k++){var C=d[k],M=C.event;C=C.listeners;e:{var P=void 0;if(m)for(var J=C.length-1;0<=J;J--){var ce=C[J],Ne=ce.instance,Xe=ce.currentTarget;if(ce=ce.listener,Ne!==P&&M.isPropagationStopped())break e;P=ce,M.currentTarget=Xe;try{P(M)}catch(gt){oo(gt)}M.currentTarget=null,P=Ne}else for(J=0;J<C.length;J++){if(ce=C[J],Ne=ce.instance,Xe=ce.currentTarget,ce=ce.listener,Ne!==P&&M.isPropagationStopped())break e;P=ce,M.currentTarget=Xe;try{P(M)}catch(gt){oo(gt)}M.currentTarget=null,P=Ne}}}}function Hn(d,m){var k=m[fi];k===void 0&&(k=m[fi]=new Set);var C=d+"__bubble";k.has(C)||(hg(m,d,2,!1),k.add(C))}function Sf(d,m,k){var C=0;m&&(C|=4),hg(k,d,C,m)}var rd="_reactListening"+Math.random().toString(36).slice(2);function eu(d){if(!d[rd]){d[rd]=!0,jn.forEach(function(k){k!=="selectionchange"&&(dg.has(k)||Sf(k,!1,d),Sf(k,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[rd]||(m[rd]=!0,Sf("selectionchange",!1,m))}}function hg(d,m,k,C){switch(Zk(m)){case 2:var M=Cg;break;case 8:M=bc;break;default:M=Ag}k=M.bind(null,m,k,d),M=void 0,!go||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(M=!0),C?M!==void 0?d.addEventListener(m,k,{capture:!0,passive:M}):d.addEventListener(m,k,!0):M!==void 0?d.addEventListener(m,k,{passive:M}):d.addEventListener(m,k,!1)}function mi(d,m,k,C,M){var P=C;if((m&1)===0&&(m&2)===0&&C!==null)e:for(;;){if(C===null)return;var J=C.tag;if(J===3||J===4){var ce=C.stateNode.containerInfo;if(ce===M)break;if(J===4)for(J=C.return;J!==null;){var Ne=J.tag;if((Ne===3||Ne===4)&&J.stateNode.containerInfo===M)return;J=J.return}for(;ce!==null;){if(J=Te(ce),J===null)return;if(Ne=J.tag,Ne===5||Ne===6||Ne===26||Ne===27){C=P=J;continue e}ce=ce.parentNode}}C=C.return}qi(function(){var Xe=P,gt=vi(k),vt=[];e:{var tt=Yi.get(d);if(tt!==void 0){var it=ea,In=d;switch(d){case"keypress":if(Tn(k)===0)break e;case"keydown":case"keyup":it=Ed;break;case"focusin":In="focus",it=Ua;break;case"focusout":In="blur",it=Ua;break;case"beforeblur":case"afterblur":it=Ua;break;case"click":if(k.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=Ns;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=Du;break;case Jr:case sr:case Ja:it=Su;break;case Zl:it=Nh;break;case"scroll":case"scrollend":it=Cd;break;case"wheel":it=Td;break;case"copy":case"cut":case"paste":it=Sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=Oo;break;case"toggle":case"beforetoggle":it=ta}var kn=(m&4)!==0,Vi=!kn&&(d==="scroll"||d==="scrollend"),Ue=kn?tt!==null?tt+"Capture":null:tt;kn=[];for(var Be=Xe,Ke;Be!==null;){var _t=Be;if(Ke=_t.stateNode,_t=_t.tag,_t!==5&&_t!==26&&_t!==27||Ke===null||Ue===null||(_t=Jn(Be,Ue),_t!=null&&kn.push(yr(Be,_t,Ke))),Vi)break;Be=Be.return}0<kn.length&&(tt=new it(tt,In,null,k,gt),vt.push({event:tt,listeners:kn}))}}if((m&7)===0){e:{if(tt=d==="mouseover"||d==="pointerover",it=d==="mouseout"||d==="pointerout",tt&&k!==Dn&&(In=k.relatedTarget||k.fromElement)&&(Te(In)||In[Sn]))break e;if((it||tt)&&(tt=gt.window===gt?gt:(tt=gt.ownerDocument)?tt.defaultView||tt.parentWindow:window,it?(In=k.relatedTarget||k.toElement,it=Xe,In=In?Te(In):null,In!==null&&(Vi=g(In),kn=In.tag,In!==Vi||kn!==5&&kn!==27&&kn!==6)&&(In=null)):(it=null,In=Xe),it!==In)){if(kn=Ns,_t="onMouseLeave",Ue="onMouseEnter",Be="mouse",(d==="pointerout"||d==="pointerover")&&(kn=Oo,_t="onPointerLeave",Ue="onPointerEnter",Be="pointer"),Vi=it==null?tt:Mt(it),Ke=In==null?tt:Mt(In),tt=new kn(_t,Be+"leave",it,k,gt),tt.target=Vi,tt.relatedTarget=Ke,_t=null,Te(gt)===Xe&&(kn=new kn(Ue,Be+"enter",In,k,gt),kn.target=Ke,kn.relatedTarget=Vi,_t=kn),Vi=_t,it&&In)t:{for(kn=it,Ue=In,Be=0,Ke=kn;Ke;Ke=Xi(Ke))Be++;for(Ke=0,_t=Ue;_t;_t=Xi(_t))Ke++;for(;0<Be-Ke;)kn=Xi(kn),Be--;for(;0<Ke-Be;)Ue=Xi(Ue),Ke--;for(;Be--;){if(kn===Ue||Ue!==null&&kn===Ue.alternate)break t;kn=Xi(kn),Ue=Xi(Ue)}kn=null}else kn=null;it!==null&&Eo(vt,tt,it,kn,!1),In!==null&&Vi!==null&&Eo(vt,Vi,In,kn,!0)}}e:{if(tt=Xe?Mt(Xe):window,it=tt.nodeName&&tt.nodeName.toLowerCase(),it==="select"||it==="input"&&tt.type==="file")var on=pl;else if(Ga(tt))if(Ka)on=Mu;else{on=Tu;var ei=Ic}else it=tt.nodeName,!it||it.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?Xe&&Gs(Xe.elementType)&&(on=pl):on=wo;if(on&&(on=on(d,Xe))){Zs(vt,on,k,gt);break e}ei&&ei(d,tt,Xe),d==="focusout"&&Xe&&tt.type==="number"&&Xe.memoizedProps.value!=null&&Ws(tt,"number",tt.value)}switch(ei=Xe?Mt(Xe):window,d){case"focusin":(Ga(ei)||ei.contentEditable==="true")&&(Js=ei,Za=Xe,wa=null);break;case"focusout":wa=Za=Js=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,Rc(vt,k,gt);break;case"selectionchange":if(Bc)break;case"keydown":case"keyup":Rc(vt,k,gt)}var un;if(qa)e:{switch(d){case"compositionstart":var An="onCompositionStart";break e;case"compositionend":An="onCompositionEnd";break e;case"compositionupdate":An="onCompositionUpdate";break e}An=void 0}else Ya?Kl(d,k)&&(An="onCompositionEnd"):d==="keydown"&&k.keyCode===229&&(An="onCompositionStart");An&&(Yl&&k.locale!=="ko"&&(Ya||An!=="onCompositionStart"?An==="onCompositionEnd"&&Ya&&(un=Mo()):(Zr=gt,bo="value"in Zr?Zr.value:Zr.textContent,Ya=!0)),ei=Si(Xe,An),0<ei.length&&(An=new Fr(An,d,null,k,gt),vt.push({event:An,listeners:ei}),un?An.data=un:(un=Md(k),un!==null&&(An.data=un)))),(un=Lo?Id(d,k):Eh(d,k))&&(An=Si(Xe,"onBeforeInput"),0<An.length&&(ei=new Fr("onBeforeInput","beforeinput",null,k,gt),vt.push({event:ei,listeners:An}),ei.data=un)),Fw(vt,d,Xe,k,gt)}ug(vt,m)})}function yr(d,m,k){return{instance:d,listener:m,currentTarget:k}}function Si(d,m){for(var k=m+"Capture",C=[];d!==null;){var M=d,P=M.stateNode;if(M=M.tag,M!==5&&M!==26&&M!==27||P===null||(M=Jn(d,k),M!=null&&C.unshift(yr(d,M,P)),M=Jn(d,m),M!=null&&C.push(yr(d,M,P))),d.tag===3)return C;d=d.return}return[]}function Xi(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function Eo(d,m,k,C,M){for(var P=m._reactName,J=[];k!==null&&k!==C;){var ce=k,Ne=ce.alternate,Xe=ce.stateNode;if(ce=ce.tag,Ne!==null&&Ne===C)break;ce!==5&&ce!==26&&ce!==27||Xe===null||(Ne=Xe,M?(Xe=Jn(k,P),Xe!=null&&J.unshift(yr(k,Xe,Ne))):M||(Xe=Jn(k,P),Xe!=null&&J.push(yr(k,Xe,Ne)))),k=k.return}J.length!==0&&d.push({event:m,listeners:J})}var Ek=/\r\n?/g,Or=/\u0000|\uFFFD/g;function qr(d){return(typeof d=="string"?d:""+d).replace(Ek,`
`).replace(Or,"")}function So(d,m){return m=qr(m),qr(d)===m}function Da(){}function si(d,m,k,C,M,P){switch(k){case"children":typeof C=="string"?m==="body"||m==="textarea"&&C===""||Sr(d,C):(typeof C=="number"||typeof C=="bigint")&&m!=="body"&&Sr(d,""+C);break;case"className":fo(d,"class",C);break;case"tabIndex":fo(d,"tabindex",C);break;case"dir":case"role":case"viewBox":case"width":case"height":fo(d,k,C);break;case"style":xs(d,C,P);break;case"data":if(m!=="object"){fo(d,"data",C);break}case"src":case"href":if(C===""&&(m!=="a"||k!=="href")){d.removeAttribute(k);break}if(C==null||typeof C=="function"||typeof C=="symbol"||typeof C=="boolean"){d.removeAttribute(k);break}C=nn(""+C),d.setAttribute(k,C);break;case"action":case"formAction":if(typeof C=="function"){d.setAttribute(k,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(k==="formAction"?(m!=="input"&&si(d,m,"name",M.name,M,null),si(d,m,"formEncType",M.formEncType,M,null),si(d,m,"formMethod",M.formMethod,M,null),si(d,m,"formTarget",M.formTarget,M,null)):(si(d,m,"encType",M.encType,M,null),si(d,m,"method",M.method,M,null),si(d,m,"target",M.target,M,null)));if(C==null||typeof C=="symbol"||typeof C=="boolean"){d.removeAttribute(k);break}C=nn(""+C),d.setAttribute(k,C);break;case"onClick":C!=null&&(d.onclick=Da);break;case"onScroll":C!=null&&Hn("scroll",d);break;case"onScrollEnd":C!=null&&Hn("scrollend",d);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(o(61));if(k=C.__html,k!=null){if(M.children!=null)throw Error(o(60));d.innerHTML=k}}break;case"multiple":d.multiple=C&&typeof C!="function"&&typeof C!="symbol";break;case"muted":d.muted=C&&typeof C!="function"&&typeof C!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(C==null||typeof C=="function"||typeof C=="boolean"||typeof C=="symbol"){d.removeAttribute("xlink:href");break}k=nn(""+C),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",k);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":C!=null&&typeof C!="function"&&typeof C!="symbol"?d.setAttribute(k,""+C):d.removeAttribute(k);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":C&&typeof C!="function"&&typeof C!="symbol"?d.setAttribute(k,""):d.removeAttribute(k);break;case"capture":case"download":C===!0?d.setAttribute(k,""):C!==!1&&C!=null&&typeof C!="function"&&typeof C!="symbol"?d.setAttribute(k,C):d.removeAttribute(k);break;case"cols":case"rows":case"size":case"span":C!=null&&typeof C!="function"&&typeof C!="symbol"&&!isNaN(C)&&1<=C?d.setAttribute(k,C):d.removeAttribute(k);break;case"rowSpan":case"start":C==null||typeof C=="function"||typeof C=="symbol"||isNaN(C)?d.removeAttribute(k):d.setAttribute(k,C);break;case"popover":Hn("beforetoggle",d),Hn("toggle",d),_a(d,"popover",C);break;case"xlinkActuate":qs(d,"http://www.w3.org/1999/xlink","xlink:actuate",C);break;case"xlinkArcrole":qs(d,"http://www.w3.org/1999/xlink","xlink:arcrole",C);break;case"xlinkRole":qs(d,"http://www.w3.org/1999/xlink","xlink:role",C);break;case"xlinkShow":qs(d,"http://www.w3.org/1999/xlink","xlink:show",C);break;case"xlinkTitle":qs(d,"http://www.w3.org/1999/xlink","xlink:title",C);break;case"xlinkType":qs(d,"http://www.w3.org/1999/xlink","xlink:type",C);break;case"xmlBase":qs(d,"http://www.w3.org/XML/1998/namespace","xml:base",C);break;case"xmlLang":qs(d,"http://www.w3.org/XML/1998/namespace","xml:lang",C);break;case"xmlSpace":qs(d,"http://www.w3.org/XML/1998/namespace","xml:space",C);break;case"is":_a(d,"is",C);break;case"innerText":case"textContent":break;default:(!(2<k.length)||k[0]!=="o"&&k[0]!=="O"||k[1]!=="n"&&k[1]!=="N")&&(k=xe.get(k)||k,_a(d,k,C))}}function Yo(d,m,k,C,M,P){switch(k){case"style":xs(d,C,P);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(o(61));if(k=C.__html,k!=null){if(M.children!=null)throw Error(o(60));d.innerHTML=k}}break;case"children":typeof C=="string"?Sr(d,C):(typeof C=="number"||typeof C=="bigint")&&Sr(d,""+C);break;case"onScroll":C!=null&&Hn("scroll",d);break;case"onScrollEnd":C!=null&&Hn("scrollend",d);break;case"onClick":C!=null&&(d.onclick=Da);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wn.hasOwnProperty(k))e:{if(k[0]==="o"&&k[1]==="n"&&(M=k.endsWith("Capture"),m=k.slice(2,M?k.length-7:void 0),P=d[On]||null,P=P!=null?P[k]:null,typeof P=="function"&&d.removeEventListener(m,P,M),typeof C=="function")){typeof P!="function"&&P!==null&&(k in d?d[k]=null:d.hasAttribute(k)&&d.removeAttribute(k)),d.addEventListener(m,C,M);break e}k in d?d[k]=C:C===!0?d.setAttribute(k,""):_a(d,k,C)}}}function Fs(d,m,k){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Hn("error",d),Hn("load",d);var C=!1,M=!1,P;for(P in k)if(k.hasOwnProperty(P)){var J=k[P];if(J!=null)switch(P){case"src":C=!0;break;case"srcSet":M=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,m));default:si(d,m,P,J,k,null)}}M&&si(d,m,"srcSet",k.srcSet,k,null),C&&si(d,m,"src",k.src,k,null);return;case"input":Hn("invalid",d);var ce=P=J=M=null,Ne=null,Xe=null;for(C in k)if(k.hasOwnProperty(C)){var gt=k[C];if(gt!=null)switch(C){case"name":M=gt;break;case"type":J=gt;break;case"checked":Ne=gt;break;case"defaultChecked":Xe=gt;break;case"value":P=gt;break;case"defaultValue":ce=gt;break;case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(o(137,m));break;default:si(d,m,C,gt,k,null)}}Ha(d,P,ce,Ne,Xe,J,M,!1),Qr(d);return;case"select":Hn("invalid",d),C=J=P=null;for(M in k)if(k.hasOwnProperty(M)&&(ce=k[M],ce!=null))switch(M){case"value":P=ce;break;case"defaultValue":J=ce;break;case"multiple":C=ce;default:si(d,m,M,ce,k,null)}m=P,k=J,d.multiple=!!C,m!=null?$i(d,!!C,m,!1):k!=null&&$i(d,!!C,k,!0);return;case"textarea":Hn("invalid",d),P=M=C=null;for(J in k)if(k.hasOwnProperty(J)&&(ce=k[J],ce!=null))switch(J){case"value":C=ce;break;case"defaultValue":M=ce;break;case"children":P=ce;break;case"dangerouslySetInnerHTML":if(ce!=null)throw Error(o(91));break;default:si(d,m,J,ce,k,null)}zr(d,C,M,P),Qr(d);return;case"option":for(Ne in k)if(k.hasOwnProperty(Ne)&&(C=k[Ne],C!=null))switch(Ne){case"selected":d.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:si(d,m,Ne,C,k,null)}return;case"dialog":Hn("beforetoggle",d),Hn("toggle",d),Hn("cancel",d),Hn("close",d);break;case"iframe":case"object":Hn("load",d);break;case"video":case"audio":for(C=0;C<zs.length;C++)Hn(zs[C],d);break;case"image":Hn("error",d),Hn("load",d);break;case"details":Hn("toggle",d);break;case"embed":case"source":case"link":Hn("error",d),Hn("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Xe in k)if(k.hasOwnProperty(Xe)&&(C=k[Xe],C!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,m));default:si(d,m,Xe,C,k,null)}return;default:if(Gs(m)){for(gt in k)k.hasOwnProperty(gt)&&(C=k[gt],C!==void 0&&Yo(d,m,gt,C,k,void 0));return}}for(ce in k)k.hasOwnProperty(ce)&&(C=k[ce],C!=null&&si(d,m,ce,C,k,null))}function mg(d,m,k,C){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var M=null,P=null,J=null,ce=null,Ne=null,Xe=null,gt=null;for(it in k){var vt=k[it];if(k.hasOwnProperty(it)&&vt!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":Ne=vt;default:C.hasOwnProperty(it)||si(d,m,it,null,C,vt)}}for(var tt in C){var it=C[tt];if(vt=k[tt],C.hasOwnProperty(tt)&&(it!=null||vt!=null))switch(tt){case"type":P=it;break;case"name":M=it;break;case"checked":Xe=it;break;case"defaultChecked":gt=it;break;case"value":J=it;break;case"defaultValue":ce=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(o(137,m));break;default:it!==vt&&si(d,m,tt,it,C,vt)}}Ei(d,J,ce,Ne,Xe,gt,P,M);return;case"select":it=J=ce=tt=null;for(P in k)if(Ne=k[P],k.hasOwnProperty(P)&&Ne!=null)switch(P){case"value":break;case"multiple":it=Ne;default:C.hasOwnProperty(P)||si(d,m,P,null,C,Ne)}for(M in C)if(P=C[M],Ne=k[M],C.hasOwnProperty(M)&&(P!=null||Ne!=null))switch(M){case"value":tt=P;break;case"defaultValue":ce=P;break;case"multiple":J=P;default:P!==Ne&&si(d,m,M,P,C,Ne)}m=ce,k=J,C=it,tt!=null?$i(d,!!k,tt,!1):!!C!=!!k&&(m!=null?$i(d,!!k,m,!0):$i(d,!!k,k?[]:"",!1));return;case"textarea":it=tt=null;for(ce in k)if(M=k[ce],k.hasOwnProperty(ce)&&M!=null&&!C.hasOwnProperty(ce))switch(ce){case"value":break;case"children":break;default:si(d,m,ce,null,C,M)}for(J in C)if(M=C[J],P=k[J],C.hasOwnProperty(J)&&(M!=null||P!=null))switch(J){case"value":tt=M;break;case"defaultValue":it=M;break;case"children":break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(o(91));break;default:M!==P&&si(d,m,J,M,C,P)}Vn(d,tt,it);return;case"option":for(var In in k)if(tt=k[In],k.hasOwnProperty(In)&&tt!=null&&!C.hasOwnProperty(In))switch(In){case"selected":d.selected=!1;break;default:si(d,m,In,null,C,tt)}for(Ne in C)if(tt=C[Ne],it=k[Ne],C.hasOwnProperty(Ne)&&tt!==it&&(tt!=null||it!=null))switch(Ne){case"selected":d.selected=tt&&typeof tt!="function"&&typeof tt!="symbol";break;default:si(d,m,Ne,tt,C,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kn in k)tt=k[kn],k.hasOwnProperty(kn)&&tt!=null&&!C.hasOwnProperty(kn)&&si(d,m,kn,null,C,tt);for(Xe in C)if(tt=C[Xe],it=k[Xe],C.hasOwnProperty(Xe)&&tt!==it&&(tt!=null||it!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(o(137,m));break;default:si(d,m,Xe,tt,C,it)}return;default:if(Gs(m)){for(var Vi in k)tt=k[Vi],k.hasOwnProperty(Vi)&&tt!==void 0&&!C.hasOwnProperty(Vi)&&Yo(d,m,Vi,void 0,C,tt);for(gt in C)tt=C[gt],it=k[gt],!C.hasOwnProperty(gt)||tt===it||tt===void 0&&it===void 0||Yo(d,m,gt,tt,C,it);return}}for(var Ue in k)tt=k[Ue],k.hasOwnProperty(Ue)&&tt!=null&&!C.hasOwnProperty(Ue)&&si(d,m,Ue,null,C,tt);for(vt in C)tt=C[vt],it=k[vt],!C.hasOwnProperty(vt)||tt===it||tt==null&&it==null||si(d,m,vt,tt,C,it)}var li=null,fg=null;function im(d){return d.nodeType===9?d:d.ownerDocument}function Sk(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jk(d,m){if(d===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&m==="foreignObject"?0:d}function jf(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var Df=null;function Dk(){var d=window.event;return d&&d.type==="popstate"?d===Df?!1:(Df=d,!0):(Df=null,!1)}var tu=typeof setTimeout=="function"?setTimeout:void 0,Hs=typeof clearTimeout=="function"?clearTimeout:void 0,Tk=typeof Promise=="function"?Promise:void 0,Hw=typeof queueMicrotask=="function"?queueMicrotask:typeof Tk<"u"?function(d){return Tk.resolve(null).then(d).catch(nh)}:tu;function nh(d){setTimeout(function(){throw d})}function sd(d){return d==="head"}function Mk(d,m){var k=m,C=0,M=0;do{var P=k.nextSibling;if(d.removeChild(k),P&&P.nodeType===8)if(k=P.data,k==="/$"){if(0<C&&8>C){k=C;var J=d.ownerDocument;if(k&1&&rm(J.documentElement),k&2&&rm(J.body),k&4)for(k=J.head,rm(k),J=k.firstChild;J;){var ce=J.nextSibling,Ne=J.nodeName;J[ln]||Ne==="SCRIPT"||Ne==="STYLE"||Ne==="LINK"&&J.rel.toLowerCase()==="stylesheet"||k.removeChild(J),J=ce}}if(M===0){d.removeChild(P),lh(m);return}M--}else k==="$"||k==="$?"||k==="$!"?M++:C=k.charCodeAt(0)-48;else C=0;k=P}while(k);lh(m)}function pg(d){var m=d.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var k=m;switch(m=m.nextSibling,k.nodeName){case"HTML":case"HEAD":case"BODY":pg(k),qn(k);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(k.rel.toLowerCase()==="stylesheet")continue}d.removeChild(k)}}function Ik(d,m,k,C){for(;d.nodeType===1;){var M=k;if(d.nodeName.toLowerCase()!==m.toLowerCase()){if(!C&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(C){if(!d[ln])switch(m){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(P=d.getAttribute("rel"),P==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(P!==M.rel||d.getAttribute("href")!==(M.href==null||M.href===""?null:M.href)||d.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin)||d.getAttribute("title")!==(M.title==null?null:M.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(P=d.getAttribute("src"),(P!==(M.src==null?null:M.src)||d.getAttribute("type")!==(M.type==null?null:M.type)||d.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin))&&P&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(m==="input"&&d.type==="hidden"){var P=M.name==null?null:""+M.name;if(M.type==="hidden"&&d.getAttribute("name")===P)return d}else return d;if(d=Ta(d.nextSibling),d===null)break}return null}function Vw(d,m,k){if(m==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!k||(d=Ta(d.nextSibling),d===null))return null;return d}function gg(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState==="complete"}function Ok(d,m){var k=d.ownerDocument;if(d.data!=="$?"||k.readyState==="complete")m();else{var C=function(){m(),k.removeEventListener("DOMContentLoaded",C)};k.addEventListener("DOMContentLoaded",C),d._reactRetry=C}}function Ta(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?"||m==="F!"||m==="F")break;if(m==="/$")return null}}return d}var bg=null;function kg(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var k=d.data;if(k==="$"||k==="$!"||k==="$?"){if(m===0)return d;m--}else k==="/$"&&m++}d=d.previousSibling}return null}function Lk(d,m,k){switch(m=im(k),d){case"html":if(d=m.documentElement,!d)throw Error(o(452));return d;case"head":if(d=m.head,!d)throw Error(o(453));return d;case"body":if(d=m.body,!d)throw Error(o(454));return d;default:throw Error(o(451))}}function rm(d){for(var m=d.attributes;m.length;)d.removeAttributeNode(m[0]);qn(d)}var Ma=new Map,sm=new Set;function Tf(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var gc=ve.d;ve.d={f:Uw,r:Bk,D:Pk,C:zk,L:Fk,m:Hk,X:Vk,S:$w,M:qw};function Uw(){var d=gc.f(),m=em();return d||m}function Bk(d){var m=Et(d);m!==null&&m.tag===5&&m.type==="form"?Ph(m):gc.r(d)}var ih=typeof document>"u"?null:document;function Rk(d,m,k){var C=ih;if(C&&typeof m=="string"&&m){var M=Mi(m);M='link[rel="'+d+'"][href="'+M+'"]',typeof k=="string"&&(M+='[crossorigin="'+k+'"]'),sm.has(M)||(sm.add(M),d={rel:d,crossOrigin:k,href:m},C.querySelector(M)===null&&(m=C.createElement("link"),Fs(m,"link",d),qt(m),C.head.appendChild(m)))}}function Pk(d){gc.D(d),Rk("dns-prefetch",d,null)}function zk(d,m){gc.C(d,m),Rk("preconnect",d,m)}function Fk(d,m,k){gc.L(d,m,k);var C=ih;if(C&&d&&m){var M='link[rel="preload"][as="'+Mi(m)+'"]';m==="image"&&k&&k.imageSrcSet?(M+='[imagesrcset="'+Mi(k.imageSrcSet)+'"]',typeof k.imageSizes=="string"&&(M+='[imagesizes="'+Mi(k.imageSizes)+'"]')):M+='[href="'+Mi(d)+'"]';var P=M;switch(m){case"style":P=rh(d);break;case"script":P=nu(d)}Ma.has(P)||(d=S({rel:"preload",href:m==="image"&&k&&k.imageSrcSet?void 0:d,as:m},k),Ma.set(P,d),C.querySelector(M)!==null||m==="style"&&C.querySelector(sh(P))||m==="script"&&C.querySelector(om(P))||(m=C.createElement("link"),Fs(m,"link",d),qt(m),C.head.appendChild(m)))}}function Hk(d,m){gc.m(d,m);var k=ih;if(k&&d){var C=m&&typeof m.as=="string"?m.as:"script",M='link[rel="modulepreload"][as="'+Mi(C)+'"][href="'+Mi(d)+'"]',P=M;switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=nu(d)}if(!Ma.has(P)&&(d=S({rel:"modulepreload",href:d},m),Ma.set(P,d),k.querySelector(M)===null)){switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(k.querySelector(om(P)))return}C=k.createElement("link"),Fs(C,"link",d),qt(C),k.head.appendChild(C)}}}function $w(d,m,k){gc.S(d,m,k);var C=ih;if(C&&d){var M=wn(C).hoistableStyles,P=rh(d);m=m||"default";var J=M.get(P);if(!J){var ce={loading:0,preload:null};if(J=C.querySelector(sh(P)))ce.loading=5;else{d=S({rel:"stylesheet",href:d,"data-precedence":m},k),(k=Ma.get(P))&&ll(d,k);var Ne=J=C.createElement("link");qt(Ne),Fs(Ne,"link",d),Ne._p=new Promise(function(Xe,gt){Ne.onload=Xe,Ne.onerror=gt}),Ne.addEventListener("load",function(){ce.loading|=1}),Ne.addEventListener("error",function(){ce.loading|=2}),ce.loading|=4,Mf(J,m,C)}J={type:"stylesheet",instance:J,count:1,state:ce},M.set(P,J)}}}function Vk(d,m){gc.X(d,m);var k=ih;if(k&&d){var C=wn(k).hoistableScripts,M=nu(d),P=C.get(M);P||(P=k.querySelector(om(M)),P||(d=S({src:d,async:!0},m),(m=Ma.get(M))&&_g(d,m),P=k.createElement("script"),qt(P),Fs(P,"link",d),k.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},C.set(M,P))}}function qw(d,m){gc.M(d,m);var k=ih;if(k&&d){var C=wn(k).hoistableScripts,M=nu(d),P=C.get(M);P||(P=k.querySelector(om(M)),P||(d=S({src:d,async:!0,type:"module"},m),(m=Ma.get(M))&&_g(d,m),P=k.createElement("script"),qt(P),Fs(P,"link",d),k.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},C.set(M,P))}}function Uk(d,m,k,C){var M=(M=pe.current)?Tf(M):null;if(!M)throw Error(o(446));switch(d){case"meta":case"title":return null;case"style":return typeof k.precedence=="string"&&typeof k.href=="string"?(m=rh(k.href),k=wn(M).hoistableStyles,C=k.get(m),C||(C={type:"style",instance:null,count:0,state:null},k.set(m,C)),C):{type:"void",instance:null,count:0,state:null};case"link":if(k.rel==="stylesheet"&&typeof k.href=="string"&&typeof k.precedence=="string"){d=rh(k.href);var P=wn(M).hoistableStyles,J=P.get(d);if(J||(M=M.ownerDocument||M,J={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(d,J),(P=M.querySelector(sh(d)))&&!P._p&&(J.instance=P,J.state.loading=5),Ma.has(d)||(k={rel:"preload",as:"style",href:k.href,crossOrigin:k.crossOrigin,integrity:k.integrity,media:k.media,hrefLang:k.hrefLang,referrerPolicy:k.referrerPolicy},Ma.set(d,k),P||Ww(M,d,k,J.state))),m&&C===null)throw Error(o(528,""));return J}if(m&&C!==null)throw Error(o(529,""));return null;case"script":return m=k.async,k=k.src,typeof k=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=nu(k),k=wn(M).hoistableScripts,C=k.get(m),C||(C={type:"script",instance:null,count:0,state:null},k.set(m,C)),C):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,d))}}function rh(d){return'href="'+Mi(d)+'"'}function sh(d){return'link[rel="stylesheet"]['+d+"]"}function $k(d){return S({},d,{"data-precedence":d.precedence,precedence:null})}function Ww(d,m,k,C){d.querySelector('link[rel="preload"][as="style"]['+m+"]")?C.loading=1:(m=d.createElement("link"),C.preload=m,m.addEventListener("load",function(){return C.loading|=1}),m.addEventListener("error",function(){return C.loading|=2}),Fs(m,"link",k),qt(m),d.head.appendChild(m))}function nu(d){return'[src="'+Mi(d)+'"]'}function om(d){return"script[async]"+d}function iu(d,m,k){if(m.count++,m.instance===null)switch(m.type){case"style":var C=d.querySelector('style[data-href~="'+Mi(k.href)+'"]');if(C)return m.instance=C,qt(C),C;var M=S({},k,{"data-href":k.href,"data-precedence":k.precedence,href:null,precedence:null});return C=(d.ownerDocument||d).createElement("style"),qt(C),Fs(C,"style",M),Mf(C,k.precedence,d),m.instance=C;case"stylesheet":M=rh(k.href);var P=d.querySelector(sh(M));if(P)return m.state.loading|=4,m.instance=P,qt(P),P;C=$k(k),(M=Ma.get(M))&&ll(C,M),P=(d.ownerDocument||d).createElement("link"),qt(P);var J=P;return J._p=new Promise(function(ce,Ne){J.onload=ce,J.onerror=Ne}),Fs(P,"link",C),m.state.loading|=4,Mf(P,k.precedence,d),m.instance=P;case"script":return P=nu(k.src),(M=d.querySelector(om(P)))?(m.instance=M,qt(M),M):(C=k,(M=Ma.get(P))&&(C=S({},k),_g(C,M)),d=d.ownerDocument||d,M=d.createElement("script"),qt(M),Fs(M,"link",C),d.head.appendChild(M),m.instance=M);case"void":return null;default:throw Error(o(443,m.type))}else m.type==="stylesheet"&&(m.state.loading&4)===0&&(C=m.instance,m.state.loading|=4,Mf(C,k.precedence,d));return m.instance}function Mf(d,m,k){for(var C=k.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),M=C.length?C[C.length-1]:null,P=M,J=0;J<C.length;J++){var ce=C[J];if(ce.dataset.precedence===m)P=ce;else if(P!==M)break}P?P.parentNode.insertBefore(d,P.nextSibling):(m=k.nodeType===9?k.head:k,m.insertBefore(d,m.firstChild))}function ll(d,m){d.crossOrigin==null&&(d.crossOrigin=m.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=m.referrerPolicy),d.title==null&&(d.title=m.title)}function _g(d,m){d.crossOrigin==null&&(d.crossOrigin=m.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=m.referrerPolicy),d.integrity==null&&(d.integrity=m.integrity)}var am=null;function vg(d,m,k){if(am===null){var C=new Map,M=am=new Map;M.set(k,C)}else M=am,C=M.get(k),C||(C=new Map,M.set(k,C));if(C.has(d))return C;for(C.set(d,null),k=k.getElementsByTagName(d),M=0;M<k.length;M++){var P=k[M];if(!(P[ln]||P[an]||d==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var J=P.getAttribute(m)||"";J=d+J;var ce=C.get(J);ce?ce.push(P):C.set(J,[P])}}return C}function oh(d,m,k){d=d.ownerDocument||d,d.head.insertBefore(k,m==="title"?d.querySelector("head > title"):null)}function Yw(d,m,k){if(k===1||m.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;switch(m.rel){case"stylesheet":return d=m.disabled,typeof m.precedence=="string"&&d==null;default:return!0}case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function wg(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}var lm=null;function qk(){}function Wk(d,m,k){if(lm===null)throw Error(o(475));var C=lm;if(m.type==="stylesheet"&&(typeof k.media!="string"||matchMedia(k.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var M=rh(k.href),P=d.querySelector(sh(M));if(P){d=P._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(C.count++,C=cm.bind(C),d.then(C,C)),m.state.loading|=4,m.instance=P,qt(P);return}P=d.ownerDocument||d,k=$k(k),(M=Ma.get(M))&&ll(k,M),P=P.createElement("link"),qt(P);var J=P;J._p=new Promise(function(ce,Ne){J.onload=ce,J.onerror=Ne}),Fs(P,"link",k),m.instance=P}C.stylesheets===null&&(C.stylesheets=new Map),C.stylesheets.set(m,d),(d=m.state.preload)&&(m.state.loading&3)===0&&(C.count++,m=cm.bind(C),d.addEventListener("load",m),d.addEventListener("error",m))}}function yg(){if(lm===null)throw Error(o(475));var d=lm;return d.stylesheets&&d.count===0&&If(d,d.stylesheets),0<d.count?function(m){var k=setTimeout(function(){if(d.stylesheets&&If(d,d.stylesheets),d.unsuspend){var C=d.unsuspend;d.unsuspend=null,C()}},6e4);return d.unsuspend=m,function(){d.unsuspend=null,clearTimeout(k)}}:null}function cm(){if(this.count--,this.count===0){if(this.stylesheets)If(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var dm=null;function If(d,m){d.stylesheets=null,d.unsuspend!==null&&(d.count++,dm=new Map,m.forEach(Gw,d),dm=null,cm.call(d))}function Gw(d,m){if(!(m.state.loading&4)){var k=dm.get(d);if(k)var C=k.get(null);else{k=new Map,dm.set(d,k);for(var M=d.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<M.length;P++){var J=M[P];(J.nodeName==="LINK"||J.getAttribute("media")!=="not all")&&(k.set(J.dataset.precedence,J),C=J)}C&&k.set(null,C)}M=m.instance,J=M.getAttribute("data-precedence"),P=k.get(J)||C,P===C&&k.set(null,M),k.set(J,M),this.count++,C=cm.bind(this),M.addEventListener("load",C),M.addEventListener("error",C),P?P.parentNode.insertBefore(M,P.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(M,d.firstChild)),m.state.loading|=4}}var um={$$typeof:ee,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function Kw(d,m,k,C,M,P,J,ce){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.hiddenUpdates=kr(null),this.identifierPrefix=C,this.onUncaughtError=M,this.onCaughtError=P,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ce,this.incompleteTransitions=new Map}function Yk(d,m,k,C,M,P,J,ce,Ne,Xe,gt,vt){return d=new Kw(d,m,k,J,ce,Ne,Xe,vt),m=1,P===!0&&(m|=24),P=ur(3,null,null,m),d.current=P,P.stateNode=d,m=mr(),m.refCount++,d.pooledCache=m,m.refCount++,P.memoizedState={element:C,isDehydrated:k,cache:m},ot(P),d}function Gk(d){return d?(d=Ca,d):Ca}function Kk(d,m,k,C,M,P){M=Gk(M),C.context===null?C.context=M:C.pendingContext=M,C=It(m),C.payload={element:k},P=P===void 0?null:P,P!==null&&(C.callback=P),k=Wt(d,C,m),k!==null&&(Wo(k,d,m),Kt(k,d,m))}function Qk(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var k=d.retryLane;d.retryLane=k!==0&&k<m?k:m}}function xg(d,m){Qk(d,m),(d=d.alternate)&&Qk(d,m)}function Of(d){if(d.tag===13){var m=es(d,67108864);m!==null&&Wo(m,d,67108864),xg(d,67108864)}}var Lf=!0;function Cg(d,m,k,C){var M=oe.T;oe.T=null;var P=ve.p;try{ve.p=2,Ag(d,m,k,C)}finally{ve.p=P,oe.T=M}}function bc(d,m,k,C){var M=oe.T;oe.T=null;var P=ve.p;try{ve.p=8,Ag(d,m,k,C)}finally{ve.p=P,oe.T=M}}function Ag(d,m,k,C){if(Lf){var M=Ng(C);if(M===null)mi(d,m,C,hm,k),Jk(d,C);else if(e_(M,d,m,k,C))C.stopPropagation();else if(Jk(d,C),m&4&&-1<Xk.indexOf(d)){for(;M!==null;){var P=Et(M);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var J=Li(P.pendingLanes);if(J!==0){var ce=P;for(ce.pendingLanes|=2,ce.entangledLanes|=2;J;){var Ne=1<<31-Rn(J);ce.entanglements[1]|=Ne,J&=~Ne}Tl(P),(zi&6)===0&&(ed=Pt()+500,th(0))}}break;case 13:ce=es(P,2),ce!==null&&Wo(ce,P,2),em(),xg(P,2)}if(P=Ng(C),P===null&&mi(d,m,C,hm,k),P===M)break;M=P}M!==null&&C.stopPropagation()}else mi(d,m,C,null,k)}}function Ng(d){return d=vi(d),Eg(d)}var hm=null;function Eg(d){if(hm=null,d=Te(d),d!==null){var m=g(d);if(m===null)d=null;else{var k=m.tag;if(k===13){if(d=_(m),d!==null)return d;d=null}else if(k===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null)}}return hm=d,null}function Zk(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(en()){case at:return 2;case jt:return 8;case Dt:case Qe:return 32;case Tt:return 268435456;default:return 32}default:return 32}}var Bf=!1,Ml=null,kc=null,od=null,ah=new Map,mm=new Map,ad=[],Xk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jk(d,m){switch(d){case"focusin":case"focusout":Ml=null;break;case"dragenter":case"dragleave":kc=null;break;case"mouseover":case"mouseout":od=null;break;case"pointerover":case"pointerout":ah.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":mm.delete(m.pointerId)}}function ru(d,m,k,C,M,P){return d===null||d.nativeEvent!==P?(d={blockedOn:m,domEventName:k,eventSystemFlags:C,nativeEvent:P,targetContainers:[M]},m!==null&&(m=Et(m),m!==null&&Of(m)),d):(d.eventSystemFlags|=C,m=d.targetContainers,M!==null&&m.indexOf(M)===-1&&m.push(M),d)}function e_(d,m,k,C,M){switch(m){case"focusin":return Ml=ru(Ml,d,m,k,C,M),!0;case"dragenter":return kc=ru(kc,d,m,k,C,M),!0;case"mouseover":return od=ru(od,d,m,k,C,M),!0;case"pointerover":var P=M.pointerId;return ah.set(P,ru(ah.get(P)||null,d,m,k,C,M)),!0;case"gotpointercapture":return P=M.pointerId,mm.set(P,ru(mm.get(P)||null,d,m,k,C,M)),!0}return!1}function Mn(d){var m=Te(d.target);if(m!==null){var k=g(m);if(k!==null){if(m=k.tag,m===13){if(m=_(k),m!==null){d.blockedOn=m,ft(d.priority,function(){if(k.tag===13){var C=No();C=rt(C);var M=es(k,C);M!==null&&Wo(M,k,C),xg(k,C)}});return}}else if(m===3&&k.stateNode.current.memoizedState.isDehydrated){d.blockedOn=k.tag===3?k.stateNode.containerInfo:null;return}}}d.blockedOn=null}function fm(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var k=Ng(d.nativeEvent);if(k===null){k=d.nativeEvent;var C=new k.constructor(k.type,k);Dn=C,k.target.dispatchEvent(C),Dn=null}else return m=Et(k),m!==null&&Of(m),d.blockedOn=k,!1;m.shift()}return!0}function t_(d,m,k){fm(d)&&k.delete(m)}function Rf(){Bf=!1,Ml!==null&&fm(Ml)&&(Ml=null),kc!==null&&fm(kc)&&(kc=null),od!==null&&fm(od)&&(od=null),ah.forEach(t_),mm.forEach(t_)}function Pf(d,m){d.blockedOn===m&&(d.blockedOn=null,Bf||(Bf=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Rf)))}var zf=null;function Sg(d){zf!==d&&(zf=d,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){zf===d&&(zf=null);for(var m=0;m<d.length;m+=3){var k=d[m],C=d[m+1],M=d[m+2];if(typeof C!="function"){if(Eg(C||k)===null)continue;break}var P=Et(k);P!==null&&(d.splice(m,3),m-=3,Rt(P,{pending:!0,data:M,method:k.method,action:C},C,M))}}))}function lh(d){function m(Ne){return Pf(Ne,d)}Ml!==null&&Pf(Ml,d),kc!==null&&Pf(kc,d),od!==null&&Pf(od,d),ah.forEach(m),mm.forEach(m);for(var k=0;k<ad.length;k++){var C=ad[k];C.blockedOn===d&&(C.blockedOn=null)}for(;0<ad.length&&(k=ad[0],k.blockedOn===null);)Mn(k),k.blockedOn===null&&ad.shift();if(k=(d.ownerDocument||d).$$reactFormReplay,k!=null)for(C=0;C<k.length;C+=3){var M=k[C],P=k[C+1],J=M[On]||null;if(typeof P=="function")J||Sg(k);else if(J){var ce=null;if(P&&P.hasAttribute("formAction")){if(M=P,J=P[On]||null)ce=J.formAction;else if(Eg(M)!==null)continue}else ce=J.action;typeof ce=="function"?k[C+1]=ce:(k.splice(C,3),C-=3),Sg(k)}}}function jg(d){this._internalRoot=d}Ff.prototype.render=jg.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(o(409));var k=m.current,C=No();Kk(k,C,d,m,null,null)},Ff.prototype.unmount=jg.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;Kk(d.current,2,null,d,null,null),em(),m[Sn]=null}};function Ff(d){this._internalRoot=d}Ff.prototype.unstable_scheduleHydration=function(d){if(d){var m=Lt();d={blockedOn:null,target:d,priority:m};for(var k=0;k<ad.length&&m!==0&&m<ad[k].priority;k++);ad.splice(k,0,d),k===0&&Mn(d)}};var n_=c.version;if(n_!=="19.1.0")throw Error(o(527,n_,"19.1.0"));ve.findDOMNode=function(d){var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=v(m),d=d!==null?N(d):null,d=d===null?null:d.stateNode,d};var i_={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:oe,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hf.isDisabled&&Hf.supportsFiber)try{bt=Hf.inject(i_),$t=Hf}catch{}}return Yg.createRoot=function(d,m){if(!h(d))throw Error(o(299));var k=!1,C="",M=Gd,P=Ip,J=qb,ce=null;return m!=null&&(m.unstable_strictMode===!0&&(k=!0),m.identifierPrefix!==void 0&&(C=m.identifierPrefix),m.onUncaughtError!==void 0&&(M=m.onUncaughtError),m.onCaughtError!==void 0&&(P=m.onCaughtError),m.onRecoverableError!==void 0&&(J=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(ce=m.unstable_transitionCallbacks)),m=Yk(d,1,!1,null,null,k,C,M,P,J,ce,null),d[Sn]=m.current,eu(d),new jg(m)},Yg.hydrateRoot=function(d,m,k){if(!h(d))throw Error(o(299));var C=!1,M="",P=Gd,J=Ip,ce=qb,Ne=null,Xe=null;return k!=null&&(k.unstable_strictMode===!0&&(C=!0),k.identifierPrefix!==void 0&&(M=k.identifierPrefix),k.onUncaughtError!==void 0&&(P=k.onUncaughtError),k.onCaughtError!==void 0&&(J=k.onCaughtError),k.onRecoverableError!==void 0&&(ce=k.onRecoverableError),k.unstable_transitionCallbacks!==void 0&&(Ne=k.unstable_transitionCallbacks),k.formState!==void 0&&(Xe=k.formState)),m=Yk(d,1,!0,m,k??null,C,M,P,J,ce,Ne,Xe),m.context=Gk(null),k=m.current,C=No(),C=rt(C),M=It(C),M.callback=null,Wt(k,M,C),k=C,m.current.lanes=k,rr(m,k),Tl(m),d[Sn]=m.current,eu(d),new Ff(m)},Yg.version="19.1.0",Yg}var j2;function s7(){if(j2)return t0.exports;j2=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(c){console.error(c)}}return l(),t0.exports=r7(),t0.exports}var o7=s7(),Gg={},D2;function a7(){if(D2)return Gg;D2=1,Object.defineProperty(Gg,"__esModule",{value:!0}),Gg.parse=_,Gg.serialize=N;const l=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,c=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,h=Object.prototype.toString,g=(()=>{const j=function(){};return j.prototype=Object.create(null),j})();function _(j,B){const F=new g,V=j.length;if(V<2)return F;const $=(B==null?void 0:B.decode)||S;let K=0;do{const Q=j.indexOf("=",K);if(Q===-1)break;const ee=j.indexOf(";",K),ne=ee===-1?V:ee;if(Q>ne){K=j.lastIndexOf(";",Q-1)+1;continue}const le=y(j,K,Q),se=v(j,Q,le),q=j.slice(le,se);if(F[q]===void 0){let de=y(j,Q+1,ne),re=v(j,ne,de);const be=$(j.slice(de,re));F[q]=be}K=ne+1}while(K<V);return F}function y(j,B,F){do{const V=j.charCodeAt(B);if(V!==32&&V!==9)return B}while(++B<F);return F}function v(j,B,F){for(;B>F;){const V=j.charCodeAt(--B);if(V!==32&&V!==9)return B+1}return F}function N(j,B,F){const V=(F==null?void 0:F.encode)||encodeURIComponent;if(!l.test(j))throw new TypeError(`argument name is invalid: ${j}`);const $=V(B);if(!c.test($))throw new TypeError(`argument val is invalid: ${B}`);let K=j+"="+$;if(!F)return K;if(F.maxAge!==void 0){if(!Number.isInteger(F.maxAge))throw new TypeError(`option maxAge is invalid: ${F.maxAge}`);K+="; Max-Age="+F.maxAge}if(F.domain){if(!s.test(F.domain))throw new TypeError(`option domain is invalid: ${F.domain}`);K+="; Domain="+F.domain}if(F.path){if(!o.test(F.path))throw new TypeError(`option path is invalid: ${F.path}`);K+="; Path="+F.path}if(F.expires){if(!D(F.expires)||!Number.isFinite(F.expires.valueOf()))throw new TypeError(`option expires is invalid: ${F.expires}`);K+="; Expires="+F.expires.toUTCString()}if(F.httpOnly&&(K+="; HttpOnly"),F.secure&&(K+="; Secure"),F.partitioned&&(K+="; Partitioned"),F.priority)switch(typeof F.priority=="string"?F.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${F.priority}`)}if(F.sameSite)switch(typeof F.sameSite=="string"?F.sameSite.toLowerCase():F.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${F.sameSite}`)}return K}function S(j){if(j.indexOf("%")===-1)return j;try{return decodeURIComponent(j)}catch{return j}}function D(j){return h.call(j)==="[object Date]"}return Gg}a7();var T2="popstate";function l7(l={}){function c(h,g){let{pathname:_="/",search:y="",hash:v=""}=Um(h.location.hash.substring(1));return!_.startsWith("/")&&!_.startsWith(".")&&(_="/"+_),JC("",{pathname:_,search:y,hash:v},g.state&&g.state.usr||null,g.state&&g.state.key||"default")}function s(h,g){let _=h.document.querySelector("base"),y="";if(_&&_.getAttribute("href")){let v=h.location.href,N=v.indexOf("#");y=N===-1?v:v.slice(0,N)}return y+"#"+(typeof g=="string"?g:mb(g))}function o(h,g){ul(h.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(g)})`)}return d7(c,s,o,l)}function Cr(l,c){if(l===!1||l===null||typeof l>"u")throw new Error(c)}function ul(l,c){if(!l){typeof console<"u"&&console.warn(c);try{throw new Error(c)}catch{}}}function c7(){return Math.random().toString(36).substring(2,10)}function M2(l,c){return{usr:l.state,key:l.key,idx:c}}function JC(l,c,s=null,o){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof c=="string"?Um(c):c,state:s,key:c&&c.key||o||c7()}}function mb({pathname:l="/",search:c="",hash:s=""}){return c&&c!=="?"&&(l+=c.charAt(0)==="?"?c:"?"+c),s&&s!=="#"&&(l+=s.charAt(0)==="#"?s:"#"+s),l}function Um(l){let c={};if(l){let s=l.indexOf("#");s>=0&&(c.hash=l.substring(s),l=l.substring(0,s));let o=l.indexOf("?");o>=0&&(c.search=l.substring(o),l=l.substring(0,o)),l&&(c.pathname=l)}return c}function d7(l,c,s,o={}){let{window:h=document.defaultView,v5Compat:g=!1}=o,_=h.history,y="POP",v=null,N=S();N==null&&(N=0,_.replaceState({..._.state,idx:N},""));function S(){return(_.state||{idx:null}).idx}function D(){y="POP";let $=S(),K=$==null?null:$-N;N=$,v&&v({action:y,location:V.location,delta:K})}function j($,K){y="PUSH";let Q=JC(V.location,$,K);s&&s(Q,$),N=S()+1;let ee=M2(Q,N),ne=V.createHref(Q);try{_.pushState(ee,"",ne)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;h.location.assign(ne)}g&&v&&v({action:y,location:V.location,delta:1})}function B($,K){y="REPLACE";let Q=JC(V.location,$,K);s&&s(Q,$),N=S();let ee=M2(Q,N),ne=V.createHref(Q);_.replaceState(ee,"",ne),g&&v&&v({action:y,location:V.location,delta:0})}function F($){return u7($)}let V={get action(){return y},get location(){return l(h,_)},listen($){if(v)throw new Error("A history only accepts one active listener");return h.addEventListener(T2,D),v=$,()=>{h.removeEventListener(T2,D),v=null}},createHref($){return c(h,$)},createURL:F,encodeLocation($){let K=F($);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:j,replace:B,go($){return _.go($)}};return V}function u7(l,c=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Cr(s,"No window.location.(origin|href) available to create URL");let o=typeof l=="string"?l:mb(l);return o=o.replace(/ $/,"%20"),!c&&o.startsWith("//")&&(o=s+o),new URL(o,s)}function JO(l,c,s="/"){return h7(l,c,s,!1)}function h7(l,c,s,o){let h=typeof c=="string"?Um(c):c,g=_u(h.pathname||"/",s);if(g==null)return null;let _=e5(l);m7(_);let y=null;for(let v=0;y==null&&v<_.length;++v){let N=C7(g);y=y7(_[v],N,o)}return y}function e5(l,c=[],s=[],o=""){let h=(g,_,y)=>{let v={relativePath:y===void 0?g.path||"":y,caseSensitive:g.caseSensitive===!0,childrenIndex:_,route:g};v.relativePath.startsWith("/")&&(Cr(v.relativePath.startsWith(o),`Absolute route path "${v.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(o.length));let N=mu([o,v.relativePath]),S=s.concat(v);g.children&&g.children.length>0&&(Cr(g.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${N}".`),e5(g.children,c,S,N)),!(g.path==null&&!g.index)&&c.push({path:N,score:v7(N,g.index),routesMeta:S})};return l.forEach((g,_)=>{var y;if(g.path===""||!((y=g.path)!=null&&y.includes("?")))h(g,_);else for(let v of t5(g.path))h(g,_,v)}),c}function t5(l){let c=l.split("/");if(c.length===0)return[];let[s,...o]=c,h=s.endsWith("?"),g=s.replace(/\?$/,"");if(o.length===0)return h?[g,""]:[g];let _=t5(o.join("/")),y=[];return y.push(..._.map(v=>v===""?g:[g,v].join("/"))),h&&y.push(..._),y.map(v=>l.startsWith("/")&&v===""?"/":v)}function m7(l){l.sort((c,s)=>c.score!==s.score?s.score-c.score:w7(c.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}var f7=/^:[\w-]+$/,p7=3,g7=2,b7=1,k7=10,_7=-2,I2=l=>l==="*";function v7(l,c){let s=l.split("/"),o=s.length;return s.some(I2)&&(o+=_7),c&&(o+=g7),s.filter(h=>!I2(h)).reduce((h,g)=>h+(f7.test(g)?p7:g===""?b7:k7),o)}function w7(l,c){return l.length===c.length&&l.slice(0,-1).every((o,h)=>o===c[h])?l[l.length-1]-c[c.length-1]:0}function y7(l,c,s=!1){let{routesMeta:o}=l,h={},g="/",_=[];for(let y=0;y<o.length;++y){let v=o[y],N=y===o.length-1,S=g==="/"?c:c.slice(g.length)||"/",D=gv({path:v.relativePath,caseSensitive:v.caseSensitive,end:N},S),j=v.route;if(!D&&N&&s&&!o[o.length-1].route.index&&(D=gv({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},S)),!D)return null;Object.assign(h,D.params),_.push({params:h,pathname:mu([g,D.pathname]),pathnameBase:S7(mu([g,D.pathnameBase])),route:j}),D.pathnameBase!=="/"&&(g=mu([g,D.pathnameBase]))}return _}function gv(l,c){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[s,o]=x7(l.path,l.caseSensitive,l.end),h=c.match(s);if(!h)return null;let g=h[0],_=g.replace(/(.)\/+$/,"$1"),y=h.slice(1);return{params:o.reduce((N,{paramName:S,isOptional:D},j)=>{if(S==="*"){let F=y[j]||"";_=g.slice(0,g.length-F.length).replace(/(.)\/+$/,"$1")}const B=y[j];return D&&!B?N[S]=void 0:N[S]=(B||"").replace(/%2F/g,"/"),N},{}),pathname:g,pathnameBase:_,pattern:l}}function x7(l,c=!1,s=!0){ul(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let o=[],h="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(_,y,v)=>(o.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(o.push({paramName:"*"}),h+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?h+="\\/*$":l!==""&&l!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,c?void 0:"i"),o]}function C7(l){try{return l.split("/").map(c=>decodeURIComponent(c).replace(/\//g,"%2F")).join("/")}catch(c){return ul(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${c}).`),l}}function _u(l,c){if(c==="/")return l;if(!l.toLowerCase().startsWith(c.toLowerCase()))return null;let s=c.endsWith("/")?c.length-1:c.length,o=l.charAt(s);return o&&o!=="/"?null:l.slice(s)||"/"}function A7(l,c="/"){let{pathname:s,search:o="",hash:h=""}=typeof l=="string"?Um(l):l;return{pathname:s?s.startsWith("/")?s:N7(s,c):c,search:j7(o),hash:D7(h)}}function N7(l,c){let s=c.replace(/\/+$/,"").split("/");return l.split("/").forEach(h=>{h===".."?s.length>1&&s.pop():h!=="."&&s.push(h)}),s.length>1?s.join("/"):"/"}function s0(l,c,s,o){return`Cannot include a '${l}' character in a manually specified \`to.${c}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function E7(l){return l.filter((c,s)=>s===0||c.route.path&&c.route.path.length>0)}function SA(l){let c=E7(l);return c.map((s,o)=>o===c.length-1?s.pathname:s.pathnameBase)}function jA(l,c,s,o=!1){let h;typeof l=="string"?h=Um(l):(h={...l},Cr(!h.pathname||!h.pathname.includes("?"),s0("?","pathname","search",h)),Cr(!h.pathname||!h.pathname.includes("#"),s0("#","pathname","hash",h)),Cr(!h.search||!h.search.includes("#"),s0("#","search","hash",h)));let g=l===""||h.pathname==="",_=g?"/":h.pathname,y;if(_==null)y=s;else{let D=c.length-1;if(!o&&_.startsWith("..")){let j=_.split("/");for(;j[0]==="..";)j.shift(),D-=1;h.pathname=j.join("/")}y=D>=0?c[D]:"/"}let v=A7(h,y),N=_&&_!=="/"&&_.endsWith("/"),S=(g||_===".")&&s.endsWith("/");return!v.pathname.endsWith("/")&&(N||S)&&(v.pathname+="/"),v}var mu=l=>l.join("/").replace(/\/\/+/g,"/"),S7=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),j7=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,D7=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function T7(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}var n5=["POST","PUT","PATCH","DELETE"];new Set(n5);var M7=["GET",...n5];new Set(M7);var bp=I.createContext(null);bp.displayName="DataRouter";var Vv=I.createContext(null);Vv.displayName="DataRouterState";var i5=I.createContext({isTransitioning:!1});i5.displayName="ViewTransition";var I7=I.createContext(new Map);I7.displayName="Fetchers";var O7=I.createContext(null);O7.displayName="Await";var xc=I.createContext(null);xc.displayName="Navigation";var Cb=I.createContext(null);Cb.displayName="Location";var Cc=I.createContext({outlet:null,matches:[],isDataRoute:!1});Cc.displayName="Route";var DA=I.createContext(null);DA.displayName="RouteError";function L7(l,{relative:c}={}){Cr(kp(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:o}=I.useContext(xc),{hash:h,pathname:g,search:_}=Nb(l,{relative:c}),y=g;return s!=="/"&&(y=g==="/"?s:mu([s,g])),o.createHref({pathname:y,search:_,hash:h})}function kp(){return I.useContext(Cb)!=null}function $l(){return Cr(kp(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Cb).location}var r5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function s5(l){I.useContext(xc).static||I.useLayoutEffect(l)}function ka(){let{isDataRoute:l}=I.useContext(Cc);return l?G7():B7()}function B7(){Cr(kp(),"useNavigate() may be used only in the context of a <Router> component.");let l=I.useContext(bp),{basename:c,navigator:s}=I.useContext(xc),{matches:o}=I.useContext(Cc),{pathname:h}=$l(),g=JSON.stringify(SA(o)),_=I.useRef(!1);return s5(()=>{_.current=!0}),I.useCallback((v,N={})=>{if(ul(_.current,r5),!_.current)return;if(typeof v=="number"){s.go(v);return}let S=jA(v,JSON.parse(g),h,N.relative==="path");l==null&&c!=="/"&&(S.pathname=S.pathname==="/"?c:mu([c,S.pathname])),(N.replace?s.replace:s.push)(S,N.state,N)},[c,s,g,h,l])}I.createContext(null);function Ab(){let{matches:l}=I.useContext(Cc),c=l[l.length-1];return c?c.params:{}}function Nb(l,{relative:c}={}){let{matches:s}=I.useContext(Cc),{pathname:o}=$l(),h=JSON.stringify(SA(s));return I.useMemo(()=>jA(l,JSON.parse(h),o,c==="path"),[l,h,o,c])}function R7(l,c){return o5(l,c)}function o5(l,c,s,o){var K;Cr(kp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=I.useContext(xc),{matches:g}=I.useContext(Cc),_=g[g.length-1],y=_?_.params:{},v=_?_.pathname:"/",N=_?_.pathnameBase:"/",S=_&&_.route;{let Q=S&&S.path||"";a5(v,!S||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let D=$l(),j;if(c){let Q=typeof c=="string"?Um(c):c;Cr(N==="/"||((K=Q.pathname)==null?void 0:K.startsWith(N)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${N}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),j=Q}else j=D;let B=j.pathname||"/",F=B;if(N!=="/"){let Q=N.replace(/^\//,"").split("/");F="/"+B.replace(/^\//,"").split("/").slice(Q.length).join("/")}let V=JO(l,{pathname:F});ul(S||V!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),ul(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=V7(V&&V.map(Q=>Object.assign({},Q,{params:Object.assign({},y,Q.params),pathname:mu([N,h.encodeLocation?h.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?N:mu([N,h.encodeLocation?h.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),g,s,o);return c&&$?I.createElement(Cb.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},$):$}function P7(){let l=Y7(),c=T7(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),s=l instanceof Error?l.stack:null,o="rgba(200,200,200, 0.5)",h={padding:"0.5rem",backgroundColor:o},g={padding:"2px 4px",backgroundColor:o},_=null;return console.error("Error handled by React Router default ErrorBoundary:",l),_=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:g},"ErrorBoundary")," or"," ",I.createElement("code",{style:g},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},c),s?I.createElement("pre",{style:h},s):null,_)}var z7=I.createElement(P7,null),F7=class extends I.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,c){return c.location!==l.location||c.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:c.error,location:c.location,revalidation:l.revalidation||c.revalidation}}componentDidCatch(l,c){console.error("React Router caught the following error during render",l,c)}render(){return this.state.error!==void 0?I.createElement(Cc.Provider,{value:this.props.routeContext},I.createElement(DA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function H7({routeContext:l,match:c,children:s}){let o=I.useContext(bp);return o&&o.static&&o.staticContext&&(c.route.errorElement||c.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=c.route.id),I.createElement(Cc.Provider,{value:l},s)}function V7(l,c=[],s=null,o=null){if(l==null){if(!s)return null;if(s.errors)l=s.matches;else if(c.length===0&&!s.initialized&&s.matches.length>0)l=s.matches;else return null}let h=l,g=s==null?void 0:s.errors;if(g!=null){let v=h.findIndex(N=>N.route.id&&(g==null?void 0:g[N.route.id])!==void 0);Cr(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(g).join(",")}`),h=h.slice(0,Math.min(h.length,v+1))}let _=!1,y=-1;if(s)for(let v=0;v<h.length;v++){let N=h[v];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(y=v),N.route.id){let{loaderData:S,errors:D}=s,j=N.route.loader&&!S.hasOwnProperty(N.route.id)&&(!D||D[N.route.id]===void 0);if(N.route.lazy||j){_=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}return h.reduceRight((v,N,S)=>{let D,j=!1,B=null,F=null;s&&(D=g&&N.route.id?g[N.route.id]:void 0,B=N.route.errorElement||z7,_&&(y<0&&S===0?(a5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,F=null):y===S&&(j=!0,F=N.route.hydrateFallbackElement||null)));let V=c.concat(h.slice(0,S+1)),$=()=>{let K;return D?K=B:j?K=F:N.route.Component?K=I.createElement(N.route.Component,null):N.route.element?K=N.route.element:K=v,I.createElement(H7,{match:N,routeContext:{outlet:v,matches:V,isDataRoute:s!=null},children:K})};return s&&(N.route.ErrorBoundary||N.route.errorElement||S===0)?I.createElement(F7,{location:s.location,revalidation:s.revalidation,component:B,error:D,children:$(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):$()},null)}function TA(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U7(l){let c=I.useContext(bp);return Cr(c,TA(l)),c}function $7(l){let c=I.useContext(Vv);return Cr(c,TA(l)),c}function q7(l){let c=I.useContext(Cc);return Cr(c,TA(l)),c}function MA(l){let c=q7(l),s=c.matches[c.matches.length-1];return Cr(s.route.id,`${l} can only be used on routes that contain a unique "id"`),s.route.id}function W7(){return MA("useRouteId")}function Y7(){var o;let l=I.useContext(DA),c=$7("useRouteError"),s=MA("useRouteError");return l!==void 0?l:(o=c.errors)==null?void 0:o[s]}function G7(){let{router:l}=U7("useNavigate"),c=MA("useNavigate"),s=I.useRef(!1);return s5(()=>{s.current=!0}),I.useCallback(async(h,g={})=>{ul(s.current,r5),s.current&&(typeof h=="number"?l.navigate(h):await l.navigate(h,{fromRouteId:c,...g}))},[l,c])}var O2={};function a5(l,c,s){!c&&!O2[l]&&(O2[l]=!0,ul(!1,s))}I.memo(K7);function K7({routes:l,future:c,state:s}){return o5(l,void 0,s,c)}function l5({to:l,replace:c,state:s,relative:o}){Cr(kp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:h}=I.useContext(xc);ul(!h,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:g}=I.useContext(Cc),{pathname:_}=$l(),y=ka(),v=jA(l,SA(g),_,o==="path"),N=JSON.stringify(v);return I.useEffect(()=>{y(JSON.parse(N),{replace:c,state:s,relative:o})},[y,N,o,c,s]),null}function Ai(l){Cr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Q7({basename:l="/",children:c=null,location:s,navigationType:o="POP",navigator:h,static:g=!1}){Cr(!kp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let _=l.replace(/^\/*/,"/"),y=I.useMemo(()=>({basename:_,navigator:h,static:g,future:{}}),[_,h,g]);typeof s=="string"&&(s=Um(s));let{pathname:v="/",search:N="",hash:S="",state:D=null,key:j="default"}=s,B=I.useMemo(()=>{let F=_u(v,_);return F==null?null:{location:{pathname:F,search:N,hash:S,state:D,key:j},navigationType:o}},[_,v,N,S,D,j,o]);return ul(B!=null,`<Router basename="${_}"> is not able to match the URL "${v}${N}${S}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:I.createElement(xc.Provider,{value:y},I.createElement(Cb.Provider,{children:c,value:B}))}function Z7({children:l,location:c}){return R7(eA(l),c)}function eA(l,c=[]){let s=[];return I.Children.forEach(l,(o,h)=>{if(!I.isValidElement(o))return;let g=[...c,h];if(o.type===I.Fragment){s.push.apply(s,eA(o.props.children,g));return}Cr(o.type===Ai,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Cr(!o.props.index||!o.props.children,"An index route cannot have child routes.");let _={id:o.props.id||g.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(_.children=eA(o.props.children,g)),s.push(_)}),s}var nv="get",iv="application/x-www-form-urlencoded";function Uv(l){return l!=null&&typeof l.tagName=="string"}function X7(l){return Uv(l)&&l.tagName.toLowerCase()==="button"}function J7(l){return Uv(l)&&l.tagName.toLowerCase()==="form"}function e9(l){return Uv(l)&&l.tagName.toLowerCase()==="input"}function t9(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function n9(l,c){return l.button===0&&(!c||c==="_self")&&!t9(l)}function tA(l=""){return new URLSearchParams(typeof l=="string"||Array.isArray(l)||l instanceof URLSearchParams?l:Object.keys(l).reduce((c,s)=>{let o=l[s];return c.concat(Array.isArray(o)?o.map(h=>[s,h]):[[s,o]])},[]))}function i9(l,c){let s=tA(l);return c&&c.forEach((o,h)=>{s.has(h)||c.getAll(h).forEach(g=>{s.append(h,g)})}),s}var z_=null;function r9(){if(z_===null)try{new FormData(document.createElement("form"),0),z_=!1}catch{z_=!0}return z_}var s9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function o0(l){return l!=null&&!s9.has(l)?(ul(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${iv}"`),null):l}function o9(l,c){let s,o,h,g,_;if(J7(l)){let y=l.getAttribute("action");o=y?_u(y,c):null,s=l.getAttribute("method")||nv,h=o0(l.getAttribute("enctype"))||iv,g=new FormData(l)}else if(X7(l)||e9(l)&&(l.type==="submit"||l.type==="image")){let y=l.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=l.getAttribute("formaction")||y.getAttribute("action");if(o=v?_u(v,c):null,s=l.getAttribute("formmethod")||y.getAttribute("method")||nv,h=o0(l.getAttribute("formenctype"))||o0(y.getAttribute("enctype"))||iv,g=new FormData(y,l),!r9()){let{name:N,type:S,value:D}=l;if(S==="image"){let j=N?`${N}.`:"";g.append(`${j}x`,"0"),g.append(`${j}y`,"0")}else N&&g.append(N,D)}}else{if(Uv(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=nv,o=null,h=iv,_=l}return g&&h==="text/plain"&&(_=g,g=void 0),{action:o,method:s.toLowerCase(),encType:h,formData:g,body:_}}function IA(l,c){if(l===!1||l===null||typeof l>"u")throw new Error(c)}async function a9(l,c){if(l.id in c)return c[l.id];try{let s=await import(l.module);return c[l.id]=s,s}catch(s){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function l9(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function c9(l,c,s){let o=await Promise.all(l.map(async h=>{let g=c.routes[h.route.id];if(g){let _=await a9(g,s);return _.links?_.links():[]}return[]}));return m9(o.flat(1).filter(l9).filter(h=>h.rel==="stylesheet"||h.rel==="preload").map(h=>h.rel==="stylesheet"?{...h,rel:"prefetch",as:"style"}:{...h,rel:"prefetch"}))}function L2(l,c,s,o,h,g){let _=(v,N)=>s[N]?v.route.id!==s[N].route.id:!0,y=(v,N)=>{var S;return s[N].pathname!==v.pathname||((S=s[N].route.path)==null?void 0:S.endsWith("*"))&&s[N].params["*"]!==v.params["*"]};return g==="assets"?c.filter((v,N)=>_(v,N)||y(v,N)):g==="data"?c.filter((v,N)=>{var D;let S=o.routes[v.route.id];if(!S||!S.hasLoader)return!1;if(_(v,N)||y(v,N))return!0;if(v.route.shouldRevalidate){let j=v.route.shouldRevalidate({currentUrl:new URL(h.pathname+h.search+h.hash,window.origin),currentParams:((D=s[0])==null?void 0:D.params)||{},nextUrl:new URL(l,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function d9(l,c,{includeHydrateFallback:s}={}){return u9(l.map(o=>{let h=c.routes[o.route.id];if(!h)return[];let g=[h.module];return h.clientActionModule&&(g=g.concat(h.clientActionModule)),h.clientLoaderModule&&(g=g.concat(h.clientLoaderModule)),s&&h.hydrateFallbackModule&&(g=g.concat(h.hydrateFallbackModule)),h.imports&&(g=g.concat(h.imports)),g}).flat(1))}function u9(l){return[...new Set(l)]}function h9(l){let c={},s=Object.keys(l).sort();for(let o of s)c[o]=l[o];return c}function m9(l,c){let s=new Set;return new Set(c),l.reduce((o,h)=>{let g=JSON.stringify(h9(h));return s.has(g)||(s.add(g),o.push({key:g,link:h})),o},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var f9=new Set([100,101,204,205]);function p9(l,c){let s=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return s.pathname==="/"?s.pathname="_root.data":c&&_u(s.pathname,c)==="/"?s.pathname=`${c.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function c5(){let l=I.useContext(bp);return IA(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function g9(){let l=I.useContext(Vv);return IA(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var OA=I.createContext(void 0);OA.displayName="FrameworkContext";function d5(){let l=I.useContext(OA);return IA(l,"You must render this element inside a <HydratedRouter> element"),l}function b9(l,c){let s=I.useContext(OA),[o,h]=I.useState(!1),[g,_]=I.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:N,onMouseLeave:S,onTouchStart:D}=c,j=I.useRef(null);I.useEffect(()=>{if(l==="render"&&_(!0),l==="viewport"){let V=K=>{K.forEach(Q=>{_(Q.isIntersecting)})},$=new IntersectionObserver(V,{threshold:.5});return j.current&&$.observe(j.current),()=>{$.disconnect()}}},[l]),I.useEffect(()=>{if(o){let V=setTimeout(()=>{_(!0)},100);return()=>{clearTimeout(V)}}},[o]);let B=()=>{h(!0)},F=()=>{h(!1),_(!1)};return s?l!=="intent"?[g,j,{}]:[g,j,{onFocus:Kg(y,B),onBlur:Kg(v,F),onMouseEnter:Kg(N,B),onMouseLeave:Kg(S,F),onTouchStart:Kg(D,B)}]:[!1,j,{}]}function Kg(l,c){return s=>{l&&l(s),s.defaultPrevented||c(s)}}function k9({page:l,...c}){let{router:s}=c5(),o=I.useMemo(()=>JO(s.routes,l,s.basename),[s.routes,l,s.basename]);return o?I.createElement(v9,{page:l,matches:o,...c}):null}function _9(l){let{manifest:c,routeModules:s}=d5(),[o,h]=I.useState([]);return I.useEffect(()=>{let g=!1;return c9(l,c,s).then(_=>{g||h(_)}),()=>{g=!0}},[l,c,s]),o}function v9({page:l,matches:c,...s}){let o=$l(),{manifest:h,routeModules:g}=d5(),{basename:_}=c5(),{loaderData:y,matches:v}=g9(),N=I.useMemo(()=>L2(l,c,v,h,o,"data"),[l,c,v,h,o]),S=I.useMemo(()=>L2(l,c,v,h,o,"assets"),[l,c,v,h,o]),D=I.useMemo(()=>{if(l===o.pathname+o.search+o.hash)return[];let F=new Set,V=!1;if(c.forEach(K=>{var ee;let Q=h.routes[K.route.id];!Q||!Q.hasLoader||(!N.some(ne=>ne.route.id===K.route.id)&&K.route.id in y&&((ee=g[K.route.id])!=null&&ee.shouldRevalidate)||Q.hasClientLoader?V=!0:F.add(K.route.id))}),F.size===0)return[];let $=p9(l,_);return V&&F.size>0&&$.searchParams.set("_routes",c.filter(K=>F.has(K.route.id)).map(K=>K.route.id).join(",")),[$.pathname+$.search]},[_,y,o,h,N,c,l,g]),j=I.useMemo(()=>d9(S,h),[S,h]),B=_9(S);return I.createElement(I.Fragment,null,D.map(F=>I.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...s})),j.map(F=>I.createElement("link",{key:F,rel:"modulepreload",href:F,...s})),B.map(({key:F,link:V})=>I.createElement("link",{key:F,...V})))}function w9(...l){return c=>{l.forEach(s=>{typeof s=="function"?s(c):s!=null&&(s.current=c)})}}var u5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u5&&(window.__reactRouterVersion="7.6.2")}catch{}function y9({basename:l,children:c,window:s}){let o=I.useRef();o.current==null&&(o.current=l7({window:s,v5Compat:!0}));let h=o.current,[g,_]=I.useState({action:h.action,location:h.location}),y=I.useCallback(v=>{I.startTransition(()=>_(v))},[_]);return I.useLayoutEffect(()=>h.listen(y),[h,y]),I.createElement(Q7,{basename:l,children:c,location:g.location,navigationType:g.action,navigator:h})}var h5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tn=I.forwardRef(function({onClick:c,discover:s="render",prefetch:o="none",relative:h,reloadDocument:g,replace:_,state:y,target:v,to:N,preventScrollReset:S,viewTransition:D,...j},B){let{basename:F}=I.useContext(xc),V=typeof N=="string"&&h5.test(N),$,K=!1;if(typeof N=="string"&&V&&($=N,u5))try{let re=new URL(window.location.href),be=N.startsWith("//")?new URL(re.protocol+N):new URL(N),ke=_u(be.pathname,F);be.origin===re.origin&&ke!=null?N=ke+be.search+be.hash:K=!0}catch{ul(!1,`<Link to="${N}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=L7(N,{relative:h}),[ee,ne,le]=b9(o,j),se=N9(N,{replace:_,state:y,target:v,preventScrollReset:S,relative:h,viewTransition:D});function q(re){c&&c(re),re.defaultPrevented||se(re)}let de=I.createElement("a",{...j,...le,href:$||Q,onClick:K||g?c:q,ref:w9(B,ne),target:v,"data-discover":!V&&s==="render"?"true":void 0});return ee&&!V?I.createElement(I.Fragment,null,de,I.createElement(k9,{page:Q})):de});tn.displayName="Link";var x9=I.forwardRef(function({"aria-current":c="page",caseSensitive:s=!1,className:o="",end:h=!1,style:g,to:_,viewTransition:y,children:v,...N},S){let D=Nb(_,{relative:N.relative}),j=$l(),B=I.useContext(Vv),{navigator:F,basename:V}=I.useContext(xc),$=B!=null&&T9(D)&&y===!0,K=F.encodeLocation?F.encodeLocation(D).pathname:D.pathname,Q=j.pathname,ee=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;s||(Q=Q.toLowerCase(),ee=ee?ee.toLowerCase():null,K=K.toLowerCase()),ee&&V&&(ee=_u(ee,V)||ee);const ne=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let le=Q===K||!h&&Q.startsWith(K)&&Q.charAt(ne)==="/",se=ee!=null&&(ee===K||!h&&ee.startsWith(K)&&ee.charAt(K.length)==="/"),q={isActive:le,isPending:se,isTransitioning:$},de=le?c:void 0,re;typeof o=="function"?re=o(q):re=[o,le?"active":null,se?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let be=typeof g=="function"?g(q):g;return I.createElement(tn,{...N,"aria-current":de,className:re,ref:S,style:be,to:_,viewTransition:y},typeof v=="function"?v(q):v)});x9.displayName="NavLink";var C9=I.forwardRef(({discover:l="render",fetcherKey:c,navigate:s,reloadDocument:o,replace:h,state:g,method:_=nv,action:y,onSubmit:v,relative:N,preventScrollReset:S,viewTransition:D,...j},B)=>{let F=j9(),V=D9(y,{relative:N}),$=_.toLowerCase()==="get"?"get":"post",K=typeof y=="string"&&h5.test(y),Q=ee=>{if(v&&v(ee),ee.defaultPrevented)return;ee.preventDefault();let ne=ee.nativeEvent.submitter,le=(ne==null?void 0:ne.getAttribute("formmethod"))||_;F(ne||ee.currentTarget,{fetcherKey:c,method:le,navigate:s,replace:h,state:g,relative:N,preventScrollReset:S,viewTransition:D})};return I.createElement("form",{ref:B,method:$,action:V,onSubmit:o?v:Q,...j,"data-discover":!K&&l==="render"?"true":void 0})});C9.displayName="Form";function A9(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m5(l){let c=I.useContext(bp);return Cr(c,A9(l)),c}function N9(l,{target:c,replace:s,state:o,preventScrollReset:h,relative:g,viewTransition:_}={}){let y=ka(),v=$l(),N=Nb(l,{relative:g});return I.useCallback(S=>{if(n9(S,c)){S.preventDefault();let D=s!==void 0?s:mb(v)===mb(N);y(l,{replace:D,state:o,preventScrollReset:h,relative:g,viewTransition:_})}},[v,y,N,s,o,c,l,h,g,_])}function f5(l){ul(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let c=I.useRef(tA(l)),s=I.useRef(!1),o=$l(),h=I.useMemo(()=>i9(o.search,s.current?null:c.current),[o.search]),g=ka(),_=I.useCallback((y,v)=>{const N=tA(typeof y=="function"?y(h):y);s.current=!0,g("?"+N,v)},[g,h]);return[h,_]}var E9=0,S9=()=>`__${String(++E9)}__`;function j9(){let{router:l}=m5("useSubmit"),{basename:c}=I.useContext(xc),s=W7();return I.useCallback(async(o,h={})=>{let{action:g,method:_,encType:y,formData:v,body:N}=o9(o,c);if(h.navigate===!1){let S=h.fetcherKey||S9();await l.fetch(S,s,h.action||g,{preventScrollReset:h.preventScrollReset,formData:v,body:N,formMethod:h.method||_,formEncType:h.encType||y,flushSync:h.flushSync})}else await l.navigate(h.action||g,{preventScrollReset:h.preventScrollReset,formData:v,body:N,formMethod:h.method||_,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:s,flushSync:h.flushSync,viewTransition:h.viewTransition})},[l,c,s])}function D9(l,{relative:c}={}){let{basename:s}=I.useContext(xc),o=I.useContext(Cc);Cr(o,"useFormAction must be used inside a RouteContext");let[h]=o.matches.slice(-1),g={...Nb(l||".",{relative:c})},_=$l();if(l==null){g.search=_.search;let y=new URLSearchParams(g.search),v=y.getAll("index");if(v.some(S=>S==="")){y.delete("index"),v.filter(D=>D).forEach(D=>y.append("index",D));let S=y.toString();g.search=S?`?${S}`:""}}return(!l||l===".")&&h.route.index&&(g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(g.pathname=g.pathname==="/"?s:mu([s,g.pathname])),mb(g)}function T9(l,c={}){let s=I.useContext(i5);Cr(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=m5("useViewTransitionState"),h=Nb(l,{relative:c.relative});if(!s.isTransitioning)return!1;let g=_u(s.currentLocation.pathname,o)||s.currentLocation.pathname,_=_u(s.nextLocation.pathname,o)||s.nextLocation.pathname;return gv(h.pathname,_)!=null||gv(h.pathname,g)!=null}[...f9];var LA=XO();const Em=Vm(LA);function p5(l,c){return function(){return l.apply(c,arguments)}}const{toString:M9}=Object.prototype,{getPrototypeOf:BA}=Object,{iterator:$v,toStringTag:g5}=Symbol,qv=(l=>c=>{const s=M9.call(c);return l[s]||(l[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Ac=l=>(l=l.toLowerCase(),c=>qv(c)===l),Wv=l=>c=>typeof c===l,{isArray:_p}=Array,fb=Wv("undefined");function I9(l){return l!==null&&!fb(l)&&l.constructor!==null&&!fb(l.constructor)&&Pa(l.constructor.isBuffer)&&l.constructor.isBuffer(l)}const b5=Ac("ArrayBuffer");function O9(l){let c;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?c=ArrayBuffer.isView(l):c=l&&l.buffer&&b5(l.buffer),c}const L9=Wv("string"),Pa=Wv("function"),k5=Wv("number"),Yv=l=>l!==null&&typeof l=="object",B9=l=>l===!0||l===!1,rv=l=>{if(qv(l)!=="object")return!1;const c=BA(l);return(c===null||c===Object.prototype||Object.getPrototypeOf(c)===null)&&!(g5 in l)&&!($v in l)},R9=Ac("Date"),P9=Ac("File"),z9=Ac("Blob"),F9=Ac("FileList"),H9=l=>Yv(l)&&Pa(l.pipe),V9=l=>{let c;return l&&(typeof FormData=="function"&&l instanceof FormData||Pa(l.append)&&((c=qv(l))==="formdata"||c==="object"&&Pa(l.toString)&&l.toString()==="[object FormData]"))},U9=Ac("URLSearchParams"),[$9,q9,W9,Y9]=["ReadableStream","Request","Response","Headers"].map(Ac),G9=l=>l.trim?l.trim():l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Eb(l,c,{allOwnKeys:s=!1}={}){if(l===null||typeof l>"u")return;let o,h;if(typeof l!="object"&&(l=[l]),_p(l))for(o=0,h=l.length;o<h;o++)c.call(null,l[o],o,l);else{const g=s?Object.getOwnPropertyNames(l):Object.keys(l),_=g.length;let y;for(o=0;o<_;o++)y=g[o],c.call(null,l[y],y,l)}}function _5(l,c){c=c.toLowerCase();const s=Object.keys(l);let o=s.length,h;for(;o-- >0;)if(h=s[o],c===h.toLowerCase())return h;return null}const Sm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,v5=l=>!fb(l)&&l!==Sm;function nA(){const{caseless:l}=v5(this)&&this||{},c={},s=(o,h)=>{const g=l&&_5(c,h)||h;rv(c[g])&&rv(o)?c[g]=nA(c[g],o):rv(o)?c[g]=nA({},o):_p(o)?c[g]=o.slice():c[g]=o};for(let o=0,h=arguments.length;o<h;o++)arguments[o]&&Eb(arguments[o],s);return c}const K9=(l,c,s,{allOwnKeys:o}={})=>(Eb(c,(h,g)=>{s&&Pa(h)?l[g]=p5(h,s):l[g]=h},{allOwnKeys:o}),l),Q9=l=>(l.charCodeAt(0)===65279&&(l=l.slice(1)),l),Z9=(l,c,s,o)=>{l.prototype=Object.create(c.prototype,o),l.prototype.constructor=l,Object.defineProperty(l,"super",{value:c.prototype}),s&&Object.assign(l.prototype,s)},X9=(l,c,s,o)=>{let h,g,_;const y={};if(c=c||{},l==null)return c;do{for(h=Object.getOwnPropertyNames(l),g=h.length;g-- >0;)_=h[g],(!o||o(_,l,c))&&!y[_]&&(c[_]=l[_],y[_]=!0);l=s!==!1&&BA(l)}while(l&&(!s||s(l,c))&&l!==Object.prototype);return c},J9=(l,c,s)=>{l=String(l),(s===void 0||s>l.length)&&(s=l.length),s-=c.length;const o=l.indexOf(c,s);return o!==-1&&o===s},eH=l=>{if(!l)return null;if(_p(l))return l;let c=l.length;if(!k5(c))return null;const s=new Array(c);for(;c-- >0;)s[c]=l[c];return s},tH=(l=>c=>l&&c instanceof l)(typeof Uint8Array<"u"&&BA(Uint8Array)),nH=(l,c)=>{const o=(l&&l[$v]).call(l);let h;for(;(h=o.next())&&!h.done;){const g=h.value;c.call(l,g[0],g[1])}},iH=(l,c)=>{let s;const o=[];for(;(s=l.exec(c))!==null;)o.push(s);return o},rH=Ac("HTMLFormElement"),sH=l=>l.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,o,h){return o.toUpperCase()+h}),B2=(({hasOwnProperty:l})=>(c,s)=>l.call(c,s))(Object.prototype),oH=Ac("RegExp"),w5=(l,c)=>{const s=Object.getOwnPropertyDescriptors(l),o={};Eb(s,(h,g)=>{let _;(_=c(h,g,l))!==!1&&(o[g]=_||h)}),Object.defineProperties(l,o)},aH=l=>{w5(l,(c,s)=>{if(Pa(l)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const o=l[s];if(Pa(o)){if(c.enumerable=!1,"writable"in c){c.writable=!1;return}c.set||(c.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},lH=(l,c)=>{const s={},o=h=>{h.forEach(g=>{s[g]=!0})};return _p(l)?o(l):o(String(l).split(c)),s},cH=()=>{},dH=(l,c)=>l!=null&&Number.isFinite(l=+l)?l:c;function uH(l){return!!(l&&Pa(l.append)&&l[g5]==="FormData"&&l[$v])}const hH=l=>{const c=new Array(10),s=(o,h)=>{if(Yv(o)){if(c.indexOf(o)>=0)return;if(!("toJSON"in o)){c[h]=o;const g=_p(o)?[]:{};return Eb(o,(_,y)=>{const v=s(_,h+1);!fb(v)&&(g[y]=v)}),c[h]=void 0,g}}return o};return s(l,0)},mH=Ac("AsyncFunction"),fH=l=>l&&(Yv(l)||Pa(l))&&Pa(l.then)&&Pa(l.catch),y5=((l,c)=>l?setImmediate:c?((s,o)=>(Sm.addEventListener("message",({source:h,data:g})=>{h===Sm&&g===s&&o.length&&o.shift()()},!1),h=>{o.push(h),Sm.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Pa(Sm.postMessage)),pH=typeof queueMicrotask<"u"?queueMicrotask.bind(Sm):typeof process<"u"&&process.nextTick||y5,gH=l=>l!=null&&Pa(l[$v]),ct={isArray:_p,isArrayBuffer:b5,isBuffer:I9,isFormData:V9,isArrayBufferView:O9,isString:L9,isNumber:k5,isBoolean:B9,isObject:Yv,isPlainObject:rv,isReadableStream:$9,isRequest:q9,isResponse:W9,isHeaders:Y9,isUndefined:fb,isDate:R9,isFile:P9,isBlob:z9,isRegExp:oH,isFunction:Pa,isStream:H9,isURLSearchParams:U9,isTypedArray:tH,isFileList:F9,forEach:Eb,merge:nA,extend:K9,trim:G9,stripBOM:Q9,inherits:Z9,toFlatObject:X9,kindOf:qv,kindOfTest:Ac,endsWith:J9,toArray:eH,forEachEntry:nH,matchAll:iH,isHTMLForm:rH,hasOwnProperty:B2,hasOwnProp:B2,reduceDescriptors:w5,freezeMethods:aH,toObjectSet:lH,toCamelCase:sH,noop:cH,toFiniteNumber:dH,findKey:_5,global:Sm,isContextDefined:v5,isSpecCompliantForm:uH,toJSONObject:hH,isAsyncFn:mH,isThenable:fH,setImmediate:y5,asap:pH,isIterable:gH};function $n(l,c,s,o,h){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=l,this.name="AxiosError",c&&(this.code=c),s&&(this.config=s),o&&(this.request=o),h&&(this.response=h,this.status=h.status?h.status:null)}ct.inherits($n,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ct.toJSONObject(this.config),code:this.code,status:this.status}}});const x5=$n.prototype,C5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(l=>{C5[l]={value:l}});Object.defineProperties($n,C5);Object.defineProperty(x5,"isAxiosError",{value:!0});$n.from=(l,c,s,o,h,g)=>{const _=Object.create(x5);return ct.toFlatObject(l,_,function(v){return v!==Error.prototype},y=>y!=="isAxiosError"),$n.call(_,l.message,c,s,o,h),_.cause=l,_.name=l.name,g&&Object.assign(_,g),_};const bH=null;function iA(l){return ct.isPlainObject(l)||ct.isArray(l)}function A5(l){return ct.endsWith(l,"[]")?l.slice(0,-2):l}function R2(l,c,s){return l?l.concat(c).map(function(h,g){return h=A5(h),!s&&g?"["+h+"]":h}).join(s?".":""):c}function kH(l){return ct.isArray(l)&&!l.some(iA)}const _H=ct.toFlatObject(ct,{},null,function(c){return/^is[A-Z]/.test(c)});function Gv(l,c,s){if(!ct.isObject(l))throw new TypeError("target must be an object");c=c||new FormData,s=ct.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(V,$){return!ct.isUndefined($[V])});const o=s.metaTokens,h=s.visitor||S,g=s.dots,_=s.indexes,v=(s.Blob||typeof Blob<"u"&&Blob)&&ct.isSpecCompliantForm(c);if(!ct.isFunction(h))throw new TypeError("visitor must be a function");function N(F){if(F===null)return"";if(ct.isDate(F))return F.toISOString();if(ct.isBoolean(F))return F.toString();if(!v&&ct.isBlob(F))throw new $n("Blob is not supported. Use a Buffer instead.");return ct.isArrayBuffer(F)||ct.isTypedArray(F)?v&&typeof Blob=="function"?new Blob([F]):Buffer.from(F):F}function S(F,V,$){let K=F;if(F&&!$&&typeof F=="object"){if(ct.endsWith(V,"{}"))V=o?V:V.slice(0,-2),F=JSON.stringify(F);else if(ct.isArray(F)&&kH(F)||(ct.isFileList(F)||ct.endsWith(V,"[]"))&&(K=ct.toArray(F)))return V=A5(V),K.forEach(function(ee,ne){!(ct.isUndefined(ee)||ee===null)&&c.append(_===!0?R2([V],ne,g):_===null?V:V+"[]",N(ee))}),!1}return iA(F)?!0:(c.append(R2($,V,g),N(F)),!1)}const D=[],j=Object.assign(_H,{defaultVisitor:S,convertValue:N,isVisitable:iA});function B(F,V){if(!ct.isUndefined(F)){if(D.indexOf(F)!==-1)throw Error("Circular reference detected in "+V.join("."));D.push(F),ct.forEach(F,function(K,Q){(!(ct.isUndefined(K)||K===null)&&h.call(c,K,ct.isString(Q)?Q.trim():Q,V,j))===!0&&B(K,V?V.concat(Q):[Q])}),D.pop()}}if(!ct.isObject(l))throw new TypeError("data must be an object");return B(l),c}function P2(l){const c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(l).replace(/[!'()~]|%20|%00/g,function(o){return c[o]})}function RA(l,c){this._pairs=[],l&&Gv(l,this,c)}const N5=RA.prototype;N5.append=function(c,s){this._pairs.push([c,s])};N5.toString=function(c){const s=c?function(o){return c.call(this,o,P2)}:P2;return this._pairs.map(function(h){return s(h[0])+"="+s(h[1])},"").join("&")};function vH(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function E5(l,c,s){if(!c)return l;const o=s&&s.encode||vH;ct.isFunction(s)&&(s={serialize:s});const h=s&&s.serialize;let g;if(h?g=h(c,s):g=ct.isURLSearchParams(c)?c.toString():new RA(c,s).toString(o),g){const _=l.indexOf("#");_!==-1&&(l=l.slice(0,_)),l+=(l.indexOf("?")===-1?"?":"&")+g}return l}class z2{constructor(){this.handlers=[]}use(c,s,o){return this.handlers.push({fulfilled:c,rejected:s,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(c){this.handlers[c]&&(this.handlers[c]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(c){ct.forEach(this.handlers,function(o){o!==null&&c(o)})}}const S5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wH=typeof URLSearchParams<"u"?URLSearchParams:RA,yH=typeof FormData<"u"?FormData:null,xH=typeof Blob<"u"?Blob:null,CH={isBrowser:!0,classes:{URLSearchParams:wH,FormData:yH,Blob:xH},protocols:["http","https","file","blob","url","data"]},PA=typeof window<"u"&&typeof document<"u",rA=typeof navigator=="object"&&navigator||void 0,AH=PA&&(!rA||["ReactNative","NativeScript","NS"].indexOf(rA.product)<0),NH=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",EH=PA&&window.location.href||"http://localhost",SH=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:PA,hasStandardBrowserEnv:AH,hasStandardBrowserWebWorkerEnv:NH,navigator:rA,origin:EH},Symbol.toStringTag,{value:"Module"})),Qo={...SH,...CH};function jH(l,c){return Gv(l,new Qo.classes.URLSearchParams,Object.assign({visitor:function(s,o,h,g){return Qo.isNode&&ct.isBuffer(s)?(this.append(o,s.toString("base64")),!1):g.defaultVisitor.apply(this,arguments)}},c))}function DH(l){return ct.matchAll(/\w+|\[(\w*)]/g,l).map(c=>c[0]==="[]"?"":c[1]||c[0])}function TH(l){const c={},s=Object.keys(l);let o;const h=s.length;let g;for(o=0;o<h;o++)g=s[o],c[g]=l[g];return c}function j5(l){function c(s,o,h,g){let _=s[g++];if(_==="__proto__")return!0;const y=Number.isFinite(+_),v=g>=s.length;return _=!_&&ct.isArray(h)?h.length:_,v?(ct.hasOwnProp(h,_)?h[_]=[h[_],o]:h[_]=o,!y):((!h[_]||!ct.isObject(h[_]))&&(h[_]=[]),c(s,o,h[_],g)&&ct.isArray(h[_])&&(h[_]=TH(h[_])),!y)}if(ct.isFormData(l)&&ct.isFunction(l.entries)){const s={};return ct.forEachEntry(l,(o,h)=>{c(DH(o),h,s,0)}),s}return null}function MH(l,c,s){if(ct.isString(l))try{return(c||JSON.parse)(l),ct.trim(l)}catch(o){if(o.name!=="SyntaxError")throw o}return(s||JSON.stringify)(l)}const Sb={transitional:S5,adapter:["xhr","http","fetch"],transformRequest:[function(c,s){const o=s.getContentType()||"",h=o.indexOf("application/json")>-1,g=ct.isObject(c);if(g&&ct.isHTMLForm(c)&&(c=new FormData(c)),ct.isFormData(c))return h?JSON.stringify(j5(c)):c;if(ct.isArrayBuffer(c)||ct.isBuffer(c)||ct.isStream(c)||ct.isFile(c)||ct.isBlob(c)||ct.isReadableStream(c))return c;if(ct.isArrayBufferView(c))return c.buffer;if(ct.isURLSearchParams(c))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),c.toString();let y;if(g){if(o.indexOf("application/x-www-form-urlencoded")>-1)return jH(c,this.formSerializer).toString();if((y=ct.isFileList(c))||o.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return Gv(y?{"files[]":c}:c,v&&new v,this.formSerializer)}}return g||h?(s.setContentType("application/json",!1),MH(c)):c}],transformResponse:[function(c){const s=this.transitional||Sb.transitional,o=s&&s.forcedJSONParsing,h=this.responseType==="json";if(ct.isResponse(c)||ct.isReadableStream(c))return c;if(c&&ct.isString(c)&&(o&&!this.responseType||h)){const _=!(s&&s.silentJSONParsing)&&h;try{return JSON.parse(c)}catch(y){if(_)throw y.name==="SyntaxError"?$n.from(y,$n.ERR_BAD_RESPONSE,this,null,this.response):y}}return c}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qo.classes.FormData,Blob:Qo.classes.Blob},validateStatus:function(c){return c>=200&&c<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ct.forEach(["delete","get","head","post","put","patch"],l=>{Sb.headers[l]={}});const IH=ct.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),OH=l=>{const c={};let s,o,h;return l&&l.split(`
`).forEach(function(_){h=_.indexOf(":"),s=_.substring(0,h).trim().toLowerCase(),o=_.substring(h+1).trim(),!(!s||c[s]&&IH[s])&&(s==="set-cookie"?c[s]?c[s].push(o):c[s]=[o]:c[s]=c[s]?c[s]+", "+o:o)}),c},F2=Symbol("internals");function Qg(l){return l&&String(l).trim().toLowerCase()}function sv(l){return l===!1||l==null?l:ct.isArray(l)?l.map(sv):String(l)}function LH(l){const c=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=s.exec(l);)c[o[1]]=o[2];return c}const BH=l=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(l.trim());function a0(l,c,s,o,h){if(ct.isFunction(o))return o.call(this,c,s);if(h&&(c=s),!!ct.isString(c)){if(ct.isString(o))return c.indexOf(o)!==-1;if(ct.isRegExp(o))return o.test(c)}}function RH(l){return l.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(c,s,o)=>s.toUpperCase()+o)}function PH(l,c){const s=ct.toCamelCase(" "+c);["get","set","has"].forEach(o=>{Object.defineProperty(l,o+s,{value:function(h,g,_){return this[o].call(this,c,h,g,_)},configurable:!0})})}let za=class{constructor(c){c&&this.set(c)}set(c,s,o){const h=this;function g(y,v,N){const S=Qg(v);if(!S)throw new Error("header name must be a non-empty string");const D=ct.findKey(h,S);(!D||h[D]===void 0||N===!0||N===void 0&&h[D]!==!1)&&(h[D||v]=sv(y))}const _=(y,v)=>ct.forEach(y,(N,S)=>g(N,S,v));if(ct.isPlainObject(c)||c instanceof this.constructor)_(c,s);else if(ct.isString(c)&&(c=c.trim())&&!BH(c))_(OH(c),s);else if(ct.isObject(c)&&ct.isIterable(c)){let y={},v,N;for(const S of c){if(!ct.isArray(S))throw TypeError("Object iterator must return a key-value pair");y[N=S[0]]=(v=y[N])?ct.isArray(v)?[...v,S[1]]:[v,S[1]]:S[1]}_(y,s)}else c!=null&&g(s,c,o);return this}get(c,s){if(c=Qg(c),c){const o=ct.findKey(this,c);if(o){const h=this[o];if(!s)return h;if(s===!0)return LH(h);if(ct.isFunction(s))return s.call(this,h,o);if(ct.isRegExp(s))return s.exec(h);throw new TypeError("parser must be boolean|regexp|function")}}}has(c,s){if(c=Qg(c),c){const o=ct.findKey(this,c);return!!(o&&this[o]!==void 0&&(!s||a0(this,this[o],o,s)))}return!1}delete(c,s){const o=this;let h=!1;function g(_){if(_=Qg(_),_){const y=ct.findKey(o,_);y&&(!s||a0(o,o[y],y,s))&&(delete o[y],h=!0)}}return ct.isArray(c)?c.forEach(g):g(c),h}clear(c){const s=Object.keys(this);let o=s.length,h=!1;for(;o--;){const g=s[o];(!c||a0(this,this[g],g,c,!0))&&(delete this[g],h=!0)}return h}normalize(c){const s=this,o={};return ct.forEach(this,(h,g)=>{const _=ct.findKey(o,g);if(_){s[_]=sv(h),delete s[g];return}const y=c?RH(g):String(g).trim();y!==g&&delete s[g],s[y]=sv(h),o[y]=!0}),this}concat(...c){return this.constructor.concat(this,...c)}toJSON(c){const s=Object.create(null);return ct.forEach(this,(o,h)=>{o!=null&&o!==!1&&(s[h]=c&&ct.isArray(o)?o.join(", "):o)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([c,s])=>c+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(c){return c instanceof this?c:new this(c)}static concat(c,...s){const o=new this(c);return s.forEach(h=>o.set(h)),o}static accessor(c){const o=(this[F2]=this[F2]={accessors:{}}).accessors,h=this.prototype;function g(_){const y=Qg(_);o[y]||(PH(h,_),o[y]=!0)}return ct.isArray(c)?c.forEach(g):g(c),this}};za.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ct.reduceDescriptors(za.prototype,({value:l},c)=>{let s=c[0].toUpperCase()+c.slice(1);return{get:()=>l,set(o){this[s]=o}}});ct.freezeMethods(za);function l0(l,c){const s=this||Sb,o=c||s,h=za.from(o.headers);let g=o.data;return ct.forEach(l,function(y){g=y.call(s,g,h.normalize(),c?c.status:void 0)}),h.normalize(),g}function D5(l){return!!(l&&l.__CANCEL__)}function vp(l,c,s){$n.call(this,l??"canceled",$n.ERR_CANCELED,c,s),this.name="CanceledError"}ct.inherits(vp,$n,{__CANCEL__:!0});function T5(l,c,s){const o=s.config.validateStatus;!s.status||!o||o(s.status)?l(s):c(new $n("Request failed with status code "+s.status,[$n.ERR_BAD_REQUEST,$n.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function zH(l){const c=/^([-+\w]{1,25})(:?\/\/|:)/.exec(l);return c&&c[1]||""}function FH(l,c){l=l||10;const s=new Array(l),o=new Array(l);let h=0,g=0,_;return c=c!==void 0?c:1e3,function(v){const N=Date.now(),S=o[g];_||(_=N),s[h]=v,o[h]=N;let D=g,j=0;for(;D!==h;)j+=s[D++],D=D%l;if(h=(h+1)%l,h===g&&(g=(g+1)%l),N-_<c)return;const B=S&&N-S;return B?Math.round(j*1e3/B):void 0}}function HH(l,c){let s=0,o=1e3/c,h,g;const _=(N,S=Date.now())=>{s=S,h=null,g&&(clearTimeout(g),g=null),l.apply(null,N)};return[(...N)=>{const S=Date.now(),D=S-s;D>=o?_(N,S):(h=N,g||(g=setTimeout(()=>{g=null,_(h)},o-D)))},()=>h&&_(h)]}const bv=(l,c,s=3)=>{let o=0;const h=FH(50,250);return HH(g=>{const _=g.loaded,y=g.lengthComputable?g.total:void 0,v=_-o,N=h(v),S=_<=y;o=_;const D={loaded:_,total:y,progress:y?_/y:void 0,bytes:v,rate:N||void 0,estimated:N&&y&&S?(y-_)/N:void 0,event:g,lengthComputable:y!=null,[c?"download":"upload"]:!0};l(D)},s)},H2=(l,c)=>{const s=l!=null;return[o=>c[0]({lengthComputable:s,total:l,loaded:o}),c[1]]},V2=l=>(...c)=>ct.asap(()=>l(...c)),VH=Qo.hasStandardBrowserEnv?((l,c)=>s=>(s=new URL(s,Qo.origin),l.protocol===s.protocol&&l.host===s.host&&(c||l.port===s.port)))(new URL(Qo.origin),Qo.navigator&&/(msie|trident)/i.test(Qo.navigator.userAgent)):()=>!0,UH=Qo.hasStandardBrowserEnv?{write(l,c,s,o,h,g){const _=[l+"="+encodeURIComponent(c)];ct.isNumber(s)&&_.push("expires="+new Date(s).toGMTString()),ct.isString(o)&&_.push("path="+o),ct.isString(h)&&_.push("domain="+h),g===!0&&_.push("secure"),document.cookie=_.join("; ")},read(l){const c=document.cookie.match(new RegExp("(^|;\\s*)("+l+")=([^;]*)"));return c?decodeURIComponent(c[3]):null},remove(l){this.write(l,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $H(l){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(l)}function qH(l,c){return c?l.replace(/\/?\/$/,"")+"/"+c.replace(/^\/+/,""):l}function M5(l,c,s){let o=!$H(c);return l&&(o||s==!1)?qH(l,c):c}const U2=l=>l instanceof za?{...l}:l;function Pm(l,c){c=c||{};const s={};function o(N,S,D,j){return ct.isPlainObject(N)&&ct.isPlainObject(S)?ct.merge.call({caseless:j},N,S):ct.isPlainObject(S)?ct.merge({},S):ct.isArray(S)?S.slice():S}function h(N,S,D,j){if(ct.isUndefined(S)){if(!ct.isUndefined(N))return o(void 0,N,D,j)}else return o(N,S,D,j)}function g(N,S){if(!ct.isUndefined(S))return o(void 0,S)}function _(N,S){if(ct.isUndefined(S)){if(!ct.isUndefined(N))return o(void 0,N)}else return o(void 0,S)}function y(N,S,D){if(D in c)return o(N,S);if(D in l)return o(void 0,N)}const v={url:g,method:g,data:g,baseURL:_,transformRequest:_,transformResponse:_,paramsSerializer:_,timeout:_,timeoutMessage:_,withCredentials:_,withXSRFToken:_,adapter:_,responseType:_,xsrfCookieName:_,xsrfHeaderName:_,onUploadProgress:_,onDownloadProgress:_,decompress:_,maxContentLength:_,maxBodyLength:_,beforeRedirect:_,transport:_,httpAgent:_,httpsAgent:_,cancelToken:_,socketPath:_,responseEncoding:_,validateStatus:y,headers:(N,S,D)=>h(U2(N),U2(S),D,!0)};return ct.forEach(Object.keys(Object.assign({},l,c)),function(S){const D=v[S]||h,j=D(l[S],c[S],S);ct.isUndefined(j)&&D!==y||(s[S]=j)}),s}const I5=l=>{const c=Pm({},l);let{data:s,withXSRFToken:o,xsrfHeaderName:h,xsrfCookieName:g,headers:_,auth:y}=c;c.headers=_=za.from(_),c.url=E5(M5(c.baseURL,c.url,c.allowAbsoluteUrls),l.params,l.paramsSerializer),y&&_.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):"")));let v;if(ct.isFormData(s)){if(Qo.hasStandardBrowserEnv||Qo.hasStandardBrowserWebWorkerEnv)_.setContentType(void 0);else if((v=_.getContentType())!==!1){const[N,...S]=v?v.split(";").map(D=>D.trim()).filter(Boolean):[];_.setContentType([N||"multipart/form-data",...S].join("; "))}}if(Qo.hasStandardBrowserEnv&&(o&&ct.isFunction(o)&&(o=o(c)),o||o!==!1&&VH(c.url))){const N=h&&g&&UH.read(g);N&&_.set(h,N)}return c},WH=typeof XMLHttpRequest<"u",YH=WH&&function(l){return new Promise(function(s,o){const h=I5(l);let g=h.data;const _=za.from(h.headers).normalize();let{responseType:y,onUploadProgress:v,onDownloadProgress:N}=h,S,D,j,B,F;function V(){B&&B(),F&&F(),h.cancelToken&&h.cancelToken.unsubscribe(S),h.signal&&h.signal.removeEventListener("abort",S)}let $=new XMLHttpRequest;$.open(h.method.toUpperCase(),h.url,!0),$.timeout=h.timeout;function K(){if(!$)return;const ee=za.from("getAllResponseHeaders"in $&&$.getAllResponseHeaders()),le={data:!y||y==="text"||y==="json"?$.responseText:$.response,status:$.status,statusText:$.statusText,headers:ee,config:l,request:$};T5(function(q){s(q),V()},function(q){o(q),V()},le),$=null}"onloadend"in $?$.onloadend=K:$.onreadystatechange=function(){!$||$.readyState!==4||$.status===0&&!($.responseURL&&$.responseURL.indexOf("file:")===0)||setTimeout(K)},$.onabort=function(){$&&(o(new $n("Request aborted",$n.ECONNABORTED,l,$)),$=null)},$.onerror=function(){o(new $n("Network Error",$n.ERR_NETWORK,l,$)),$=null},$.ontimeout=function(){let ne=h.timeout?"timeout of "+h.timeout+"ms exceeded":"timeout exceeded";const le=h.transitional||S5;h.timeoutErrorMessage&&(ne=h.timeoutErrorMessage),o(new $n(ne,le.clarifyTimeoutError?$n.ETIMEDOUT:$n.ECONNABORTED,l,$)),$=null},g===void 0&&_.setContentType(null),"setRequestHeader"in $&&ct.forEach(_.toJSON(),function(ne,le){$.setRequestHeader(le,ne)}),ct.isUndefined(h.withCredentials)||($.withCredentials=!!h.withCredentials),y&&y!=="json"&&($.responseType=h.responseType),N&&([j,F]=bv(N,!0),$.addEventListener("progress",j)),v&&$.upload&&([D,B]=bv(v),$.upload.addEventListener("progress",D),$.upload.addEventListener("loadend",B)),(h.cancelToken||h.signal)&&(S=ee=>{$&&(o(!ee||ee.type?new vp(null,l,$):ee),$.abort(),$=null)},h.cancelToken&&h.cancelToken.subscribe(S),h.signal&&(h.signal.aborted?S():h.signal.addEventListener("abort",S)));const Q=zH(h.url);if(Q&&Qo.protocols.indexOf(Q)===-1){o(new $n("Unsupported protocol "+Q+":",$n.ERR_BAD_REQUEST,l));return}$.send(g||null)})},GH=(l,c)=>{const{length:s}=l=l?l.filter(Boolean):[];if(c||s){let o=new AbortController,h;const g=function(N){if(!h){h=!0,y();const S=N instanceof Error?N:this.reason;o.abort(S instanceof $n?S:new vp(S instanceof Error?S.message:S))}};let _=c&&setTimeout(()=>{_=null,g(new $n(`timeout ${c} of ms exceeded`,$n.ETIMEDOUT))},c);const y=()=>{l&&(_&&clearTimeout(_),_=null,l.forEach(N=>{N.unsubscribe?N.unsubscribe(g):N.removeEventListener("abort",g)}),l=null)};l.forEach(N=>N.addEventListener("abort",g));const{signal:v}=o;return v.unsubscribe=()=>ct.asap(y),v}},KH=function*(l,c){let s=l.byteLength;if(s<c){yield l;return}let o=0,h;for(;o<s;)h=o+c,yield l.slice(o,h),o=h},QH=async function*(l,c){for await(const s of ZH(l))yield*KH(s,c)},ZH=async function*(l){if(l[Symbol.asyncIterator]){yield*l;return}const c=l.getReader();try{for(;;){const{done:s,value:o}=await c.read();if(s)break;yield o}}finally{await c.cancel()}},$2=(l,c,s,o)=>{const h=QH(l,c);let g=0,_,y=v=>{_||(_=!0,o&&o(v))};return new ReadableStream({async pull(v){try{const{done:N,value:S}=await h.next();if(N){y(),v.close();return}let D=S.byteLength;if(s){let j=g+=D;s(j)}v.enqueue(new Uint8Array(S))}catch(N){throw y(N),N}},cancel(v){return y(v),h.return()}},{highWaterMark:2})},Kv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",O5=Kv&&typeof ReadableStream=="function",XH=Kv&&(typeof TextEncoder=="function"?(l=>c=>l.encode(c))(new TextEncoder):async l=>new Uint8Array(await new Response(l).arrayBuffer())),L5=(l,...c)=>{try{return!!l(...c)}catch{return!1}},JH=O5&&L5(()=>{let l=!1;const c=new Request(Qo.origin,{body:new ReadableStream,method:"POST",get duplex(){return l=!0,"half"}}).headers.has("Content-Type");return l&&!c}),q2=64*1024,sA=O5&&L5(()=>ct.isReadableStream(new Response("").body)),kv={stream:sA&&(l=>l.body)};Kv&&(l=>{["text","arrayBuffer","blob","formData","stream"].forEach(c=>{!kv[c]&&(kv[c]=ct.isFunction(l[c])?s=>s[c]():(s,o)=>{throw new $n(`Response type '${c}' is not supported`,$n.ERR_NOT_SUPPORT,o)})})})(new Response);const eV=async l=>{if(l==null)return 0;if(ct.isBlob(l))return l.size;if(ct.isSpecCompliantForm(l))return(await new Request(Qo.origin,{method:"POST",body:l}).arrayBuffer()).byteLength;if(ct.isArrayBufferView(l)||ct.isArrayBuffer(l))return l.byteLength;if(ct.isURLSearchParams(l)&&(l=l+""),ct.isString(l))return(await XH(l)).byteLength},tV=async(l,c)=>{const s=ct.toFiniteNumber(l.getContentLength());return s??eV(c)},nV=Kv&&(async l=>{let{url:c,method:s,data:o,signal:h,cancelToken:g,timeout:_,onDownloadProgress:y,onUploadProgress:v,responseType:N,headers:S,withCredentials:D="same-origin",fetchOptions:j}=I5(l);N=N?(N+"").toLowerCase():"text";let B=GH([h,g&&g.toAbortSignal()],_),F;const V=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let $;try{if(v&&JH&&s!=="get"&&s!=="head"&&($=await tV(S,o))!==0){let le=new Request(c,{method:"POST",body:o,duplex:"half"}),se;if(ct.isFormData(o)&&(se=le.headers.get("content-type"))&&S.setContentType(se),le.body){const[q,de]=H2($,bv(V2(v)));o=$2(le.body,q2,q,de)}}ct.isString(D)||(D=D?"include":"omit");const K="credentials"in Request.prototype;F=new Request(c,{...j,signal:B,method:s.toUpperCase(),headers:S.normalize().toJSON(),body:o,duplex:"half",credentials:K?D:void 0});let Q=await fetch(F,j);const ee=sA&&(N==="stream"||N==="response");if(sA&&(y||ee&&V)){const le={};["status","statusText","headers"].forEach(re=>{le[re]=Q[re]});const se=ct.toFiniteNumber(Q.headers.get("content-length")),[q,de]=y&&H2(se,bv(V2(y),!0))||[];Q=new Response($2(Q.body,q2,q,()=>{de&&de(),V&&V()}),le)}N=N||"text";let ne=await kv[ct.findKey(kv,N)||"text"](Q,l);return!ee&&V&&V(),await new Promise((le,se)=>{T5(le,se,{data:ne,headers:za.from(Q.headers),status:Q.status,statusText:Q.statusText,config:l,request:F})})}catch(K){throw V&&V(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new $n("Network Error",$n.ERR_NETWORK,l,F),{cause:K.cause||K}):$n.from(K,K&&K.code,l,F)}}),oA={http:bH,xhr:YH,fetch:nV};ct.forEach(oA,(l,c)=>{if(l){try{Object.defineProperty(l,"name",{value:c})}catch{}Object.defineProperty(l,"adapterName",{value:c})}});const W2=l=>`- ${l}`,iV=l=>ct.isFunction(l)||l===null||l===!1,B5={getAdapter:l=>{l=ct.isArray(l)?l:[l];const{length:c}=l;let s,o;const h={};for(let g=0;g<c;g++){s=l[g];let _;if(o=s,!iV(s)&&(o=oA[(_=String(s)).toLowerCase()],o===void 0))throw new $n(`Unknown adapter '${_}'`);if(o)break;h[_||"#"+g]=o}if(!o){const g=Object.entries(h).map(([y,v])=>`adapter ${y} `+(v===!1?"is not supported by the environment":"is not available in the build"));let _=c?g.length>1?`since :
`+g.map(W2).join(`
`):" "+W2(g[0]):"as no adapter specified";throw new $n("There is no suitable adapter to dispatch the request "+_,"ERR_NOT_SUPPORT")}return o},adapters:oA};function c0(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new vp(null,l)}function Y2(l){return c0(l),l.headers=za.from(l.headers),l.data=l0.call(l,l.transformRequest),["post","put","patch"].indexOf(l.method)!==-1&&l.headers.setContentType("application/x-www-form-urlencoded",!1),B5.getAdapter(l.adapter||Sb.adapter)(l).then(function(o){return c0(l),o.data=l0.call(l,l.transformResponse,o),o.headers=za.from(o.headers),o},function(o){return D5(o)||(c0(l),o&&o.response&&(o.response.data=l0.call(l,l.transformResponse,o.response),o.response.headers=za.from(o.response.headers))),Promise.reject(o)})}const R5="1.10.0",Qv={};["object","boolean","number","function","string","symbol"].forEach((l,c)=>{Qv[l]=function(o){return typeof o===l||"a"+(c<1?"n ":" ")+l}});const G2={};Qv.transitional=function(c,s,o){function h(g,_){return"[Axios v"+R5+"] Transitional option '"+g+"'"+_+(o?". "+o:"")}return(g,_,y)=>{if(c===!1)throw new $n(h(_," has been removed"+(s?" in "+s:"")),$n.ERR_DEPRECATED);return s&&!G2[_]&&(G2[_]=!0,console.warn(h(_," has been deprecated since v"+s+" and will be removed in the near future"))),c?c(g,_,y):!0}};Qv.spelling=function(c){return(s,o)=>(console.warn(`${o} is likely a misspelling of ${c}`),!0)};function rV(l,c,s){if(typeof l!="object")throw new $n("options must be an object",$n.ERR_BAD_OPTION_VALUE);const o=Object.keys(l);let h=o.length;for(;h-- >0;){const g=o[h],_=c[g];if(_){const y=l[g],v=y===void 0||_(y,g,l);if(v!==!0)throw new $n("option "+g+" must be "+v,$n.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new $n("Unknown option "+g,$n.ERR_BAD_OPTION)}}const ov={assertOptions:rV,validators:Qv},dd=ov.validators;let Mm=class{constructor(c){this.defaults=c||{},this.interceptors={request:new z2,response:new z2}}async request(c,s){try{return await this._request(c,s)}catch(o){if(o instanceof Error){let h={};Error.captureStackTrace?Error.captureStackTrace(h):h=new Error;const g=h.stack?h.stack.replace(/^.+\n/,""):"";try{o.stack?g&&!String(o.stack).endsWith(g.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+g):o.stack=g}catch{}}throw o}}_request(c,s){typeof c=="string"?(s=s||{},s.url=c):s=c||{},s=Pm(this.defaults,s);const{transitional:o,paramsSerializer:h,headers:g}=s;o!==void 0&&ov.assertOptions(o,{silentJSONParsing:dd.transitional(dd.boolean),forcedJSONParsing:dd.transitional(dd.boolean),clarifyTimeoutError:dd.transitional(dd.boolean)},!1),h!=null&&(ct.isFunction(h)?s.paramsSerializer={serialize:h}:ov.assertOptions(h,{encode:dd.function,serialize:dd.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),ov.assertOptions(s,{baseUrl:dd.spelling("baseURL"),withXsrfToken:dd.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let _=g&&ct.merge(g.common,g[s.method]);g&&ct.forEach(["delete","get","head","post","put","patch","common"],F=>{delete g[F]}),s.headers=za.concat(_,g);const y=[];let v=!0;this.interceptors.request.forEach(function(V){typeof V.runWhen=="function"&&V.runWhen(s)===!1||(v=v&&V.synchronous,y.unshift(V.fulfilled,V.rejected))});const N=[];this.interceptors.response.forEach(function(V){N.push(V.fulfilled,V.rejected)});let S,D=0,j;if(!v){const F=[Y2.bind(this),void 0];for(F.unshift.apply(F,y),F.push.apply(F,N),j=F.length,S=Promise.resolve(s);D<j;)S=S.then(F[D++],F[D++]);return S}j=y.length;let B=s;for(D=0;D<j;){const F=y[D++],V=y[D++];try{B=F(B)}catch($){V.call(this,$);break}}try{S=Y2.call(this,B)}catch(F){return Promise.reject(F)}for(D=0,j=N.length;D<j;)S=S.then(N[D++],N[D++]);return S}getUri(c){c=Pm(this.defaults,c);const s=M5(c.baseURL,c.url,c.allowAbsoluteUrls);return E5(s,c.params,c.paramsSerializer)}};ct.forEach(["delete","get","head","options"],function(c){Mm.prototype[c]=function(s,o){return this.request(Pm(o||{},{method:c,url:s,data:(o||{}).data}))}});ct.forEach(["post","put","patch"],function(c){function s(o){return function(g,_,y){return this.request(Pm(y||{},{method:c,headers:o?{"Content-Type":"multipart/form-data"}:{},url:g,data:_}))}}Mm.prototype[c]=s(),Mm.prototype[c+"Form"]=s(!0)});let sV=class P5{constructor(c){if(typeof c!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(g){s=g});const o=this;this.promise.then(h=>{if(!o._listeners)return;let g=o._listeners.length;for(;g-- >0;)o._listeners[g](h);o._listeners=null}),this.promise.then=h=>{let g;const _=new Promise(y=>{o.subscribe(y),g=y}).then(h);return _.cancel=function(){o.unsubscribe(g)},_},c(function(g,_,y){o.reason||(o.reason=new vp(g,_,y),s(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(c){if(this.reason){c(this.reason);return}this._listeners?this._listeners.push(c):this._listeners=[c]}unsubscribe(c){if(!this._listeners)return;const s=this._listeners.indexOf(c);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const c=new AbortController,s=o=>{c.abort(o)};return this.subscribe(s),c.signal.unsubscribe=()=>this.unsubscribe(s),c.signal}static source(){let c;return{token:new P5(function(h){c=h}),cancel:c}}};function oV(l){return function(s){return l.apply(null,s)}}function aV(l){return ct.isObject(l)&&l.isAxiosError===!0}const aA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(aA).forEach(([l,c])=>{aA[c]=l});function z5(l){const c=new Mm(l),s=p5(Mm.prototype.request,c);return ct.extend(s,Mm.prototype,c,{allOwnKeys:!0}),ct.extend(s,c,null,{allOwnKeys:!0}),s.create=function(h){return z5(Pm(l,h))},s}const kt=z5(Sb);kt.Axios=Mm;kt.CanceledError=vp;kt.CancelToken=sV;kt.isCancel=D5;kt.VERSION=R5;kt.toFormData=Gv;kt.AxiosError=$n;kt.Cancel=kt.CanceledError;kt.all=function(c){return Promise.all(c)};kt.spread=oV;kt.isAxiosError=aV;kt.mergeConfig=Pm;kt.AxiosHeaders=za;kt.formToJSON=l=>j5(ct.isHTMLForm(l)?new FormData(l):l);kt.getAdapter=B5.getAdapter;kt.HttpStatusCode=aA;kt.default=kt;const{Axios:$J,AxiosError:qJ,CanceledError:WJ,isCancel:YJ,CancelToken:GJ,VERSION:KJ,all:QJ,Cancel:ZJ,isAxiosError:XJ,spread:JJ,toFormData:eee,AxiosHeaders:tee,HttpStatusCode:nee,formToJSON:iee,getAdapter:ree,mergeConfig:see}=kt,lV=(l,c,s,o)=>{var g,_,y,v;const h=[s,{code:c,...o||{}}];if((_=(g=l==null?void 0:l.services)==null?void 0:g.logger)!=null&&_.forward)return l.services.logger.forward(h,"warn","react-i18next::",!0);Im(h[0])&&(h[0]=`react-i18next:: ${h[0]}`),(v=(y=l==null?void 0:l.services)==null?void 0:y.logger)!=null&&v.warn?l.services.logger.warn(...h):console!=null&&console.warn&&console.warn(...h)},K2={},lA=(l,c,s,o)=>{Im(s)&&K2[s]||(Im(s)&&(K2[s]=new Date),lV(l,c,s,o))},F5=(l,c)=>()=>{if(l.isInitialized)c();else{const s=()=>{setTimeout(()=>{l.off("initialized",s)},0),c()};l.on("initialized",s)}},cA=(l,c,s)=>{l.loadNamespaces(c,F5(l,s))},Q2=(l,c,s,o)=>{if(Im(s)&&(s=[s]),l.options.preload&&l.options.preload.indexOf(c)>-1)return cA(l,s,o);s.forEach(h=>{l.options.ns.indexOf(h)<0&&l.options.ns.push(h)}),l.loadLanguages(c,F5(l,o))},cV=(l,c,s={})=>!c.languages||!c.languages.length?(lA(c,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:c.languages}),!0):c.hasLoadedNamespace(l,{lng:s.lng,precheck:(o,h)=>{var g;if(((g=s.bindI18n)==null?void 0:g.indexOf("languageChanging"))>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!h(o.isLanguageChangingTo,l))return!1}}),Im=l=>typeof l=="string",dV=l=>typeof l=="object"&&l!==null,uV=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,hV={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},mV=l=>hV[l],fV=l=>l.replace(uV,mV);let dA={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:fV};const pV=(l={})=>{dA={...dA,...l}},gV=()=>dA;let H5;const bV=l=>{H5=l},kV=()=>H5,_V={type:"3rdParty",init(l){pV(l.options.react),bV(l)}},vV=I.createContext();class wV{constructor(){this.usedNamespaces={}}addUsedNamespaces(c){c.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const yV=(l,c)=>{const s=I.useRef();return I.useEffect(()=>{s.current=l},[l,c]),s.current},V5=(l,c,s,o)=>l.getFixedT(c,s,o),xV=(l,c,s,o)=>I.useCallback(V5(l,c,s,o),[l,c,s,o]),xh=(l,c={})=>{var ne,le,se,q;const{i18n:s}=c,{i18n:o,defaultNS:h}=I.useContext(vV)||{},g=s||o||kV();if(g&&!g.reportNamespaces&&(g.reportNamespaces=new wV),!g){lA(g,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const de=(be,ke)=>Im(ke)?ke:dV(ke)&&Im(ke.defaultValue)?ke.defaultValue:Array.isArray(be)?be[be.length-1]:be,re=[de,{},!1];return re.t=de,re.i18n={},re.ready=!1,re}(ne=g.options.react)!=null&&ne.wait&&lA(g,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const _={...gV(),...g.options.react,...c},{useSuspense:y,keyPrefix:v}=_;let N=h||((le=g.options)==null?void 0:le.defaultNS);N=Im(N)?[N]:N||["translation"],(q=(se=g.reportNamespaces).addUsedNamespaces)==null||q.call(se,N);const S=(g.isInitialized||g.initializedStoreOnce)&&N.every(de=>cV(de,g,_)),D=xV(g,c.lng||null,_.nsMode==="fallback"?N:N[0],v),j=()=>D,B=()=>V5(g,c.lng||null,_.nsMode==="fallback"?N:N[0],v),[F,V]=I.useState(j);let $=N.join();c.lng&&($=`${c.lng}${$}`);const K=yV($),Q=I.useRef(!0);I.useEffect(()=>{const{bindI18n:de,bindI18nStore:re}=_;Q.current=!0,!S&&!y&&(c.lng?Q2(g,c.lng,N,()=>{Q.current&&V(B)}):cA(g,N,()=>{Q.current&&V(B)})),S&&K&&K!==$&&Q.current&&V(B);const be=()=>{Q.current&&V(B)};return de&&(g==null||g.on(de,be)),re&&(g==null||g.store.on(re,be)),()=>{Q.current=!1,g&&(de==null||de.split(" ").forEach(ke=>g.off(ke,be))),re&&g&&re.split(" ").forEach(ke=>g.store.off(ke,be))}},[g,$]),I.useEffect(()=>{Q.current&&S&&V(j)},[g,v,S]);const ee=[F,g,S];if(ee.t=F,ee.i18n=g,ee.ready=S,S||!S&&!y)return ee;throw new Promise(de=>{c.lng?Q2(g,c.lng,N,()=>de()):cA(g,N,()=>de())})},Ft=kt.create({baseURL:"https://walkingguide.onrender.com/api",headers:{"Content-Type":"application/json"}});Ft.interceptors.request.use(l=>{const c=localStorage.getItem("token");return c&&(l.headers.Authorization=`Bearer ${c}`),l},l=>Promise.reject(l));Ft.interceptors.response.use(l=>l,l=>{var c,s;return(((c=l.response)==null?void 0:c.status)===401||((s=l.response)==null?void 0:s.status)===403)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(l)});const mh="https://walkingguide.onrender.com/api",jm={getAll:()=>Ft.get(`${mh}/users`),getById:l=>Ft.get(`${mh}/users/${l}`),create:l=>Ft.post(`${mh}/users`,l),update:(l,c)=>Ft.put(`${mh}/users/${l}`,c),delete:l=>Ft.delete(`${mh}/users/${l}`),getProfile:()=>Ft.get(`${mh}/users/profile/me`),updateProfile:l=>Ft.put(`${mh}/users/profile/me`,l),changePassword:l=>Ft.put(`${mh}/users/profile/change-password`,l)},ds=I.createContext();function jb(){return I.useContext(ds)}function CV({children:l}){const[c,s]=I.useState(()=>{const v=localStorage.getItem("user"),N=localStorage.getItem("token");return!N||N==="null"?null:v?{...JSON.parse(v),token:N}:null}),[o,h]=I.useState(0);I.useEffect(()=>{(async()=>{if(localStorage.getItem("token")&&c)try{const S=await jm.getProfile();s(S.data)}catch(S){console.error("Failed to refresh user data:",S)}})()},[]),I.useEffect(()=>{c?localStorage.setItem("user",JSON.stringify(c)):localStorage.removeItem("user")},[c]);const g=v=>{const N=localStorage.getItem("token");s({...v,token:N})},_=()=>{s(null),localStorage.removeItem("token")},y=()=>{console.log("[AuthContext] refreshNotifications function called"),h(v=>{const N=v+1;return console.log("[AuthContext] refreshNotifications called, new trigger:",N),N})};return I.useEffect(()=>{console.log("[AuthContext] notificationRefreshTrigger changed:",o)},[o]),i.jsx(ds.Provider,{value:{user:c,login:g,logout:_,notificationRefreshTrigger:o,refreshNotifications:y},children:l})}function U5({open:l,onClose:c,children:s}){return l?i.jsx("div",{className:"auth-modal-overlay",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsxs("div",{className:"auth-modal-content",style:{background:"#fff",borderRadius:16,boxShadow:"0 8px 32px 0 rgba(31,38,135,0.15)",padding:32,minWidth:340,maxWidth:420,width:"100%",position:"relative"},children:[i.jsx("button",{onClick:c,style:{position:"absolute",top:12,right:16,border:"none",background:"none",fontSize:22,color:"#888",cursor:"pointer"},"aria-label":"Đóng",children:"×"}),s]})}):null}function AV({onSuccess:l,onSwitch:c,onForgotPassword:s,onLoginSuccess:o}){const[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(""),{login:S}=I.useContext(ds),D="https://walkingguide.onrender.com",j=async B=>{var F,V;B.preventDefault();try{const $=await kt.post(`${D}/api/auth/login`,{email:h,password:_});localStorage.setItem("token",$.data.token),S({...$.data.user,token:$.data.token}),o&&o($.data.user),l&&l()}catch($){N(((V=(F=$.response)==null?void 0:F.data)==null?void 0:V.message)||"Đăng nhập thất bại")}};return i.jsxs("form",{onSubmit:j,className:"w-100",children:[v&&i.jsx("div",{className:"alert alert-danger",children:v}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Email:"}),i.jsx("input",{type:"email",className:"form-control",value:h,onChange:B=>g(B.target.value),required:!0})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mật khẩu:"}),i.jsx("input",{type:"password",className:"form-control",value:_,onChange:B=>y(B.target.value),required:!0})]}),i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[i.jsx("button",{type:"submit",className:"btn btn-main w-50",children:"Đăng nhập"}),i.jsx("button",{type:"button",className:"btn btn-link p-0",style:{fontSize:"0.95rem"},onClick:s,children:"Quên mật khẩu?"})]}),i.jsxs("p",{className:"mt-3 text-center",children:["Chưa có tài khoản? ",i.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:c,children:"Đăng ký"})]})]})}function NV({onSuccess:l,onSwitch:c}){const[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(""),[S,D]=I.useState(""),[j,B]=I.useState(""),[F,V]=I.useState(!1),[$,K]=I.useState(!1),[Q,ee]=I.useState(""),[ne,le]=I.useState(""),[se,q]=I.useState(""),de="https://walkingguide.onrender.com",re=async we=>{var De,_e;if(we.preventDefault(),D(""),B(""),V(!0),ee(""),le(""),q(""),_!==v){D("Mật khẩu xác nhận không khớp."),V(!1);return}if(_.length<6){D("Mật khẩu phải có ít nhất 6 ký tự."),V(!1);return}try{const je=await kt.post(`${de}/api/auth/register`,{full_name:s,email:h,password:_,confirmPassword:v});je.data.success&&(B(je.data.message),q(h),o(""),g(""),y(""),N(""))}catch(je){D(((_e=(De=je.response)==null?void 0:De.data)==null?void 0:_e.message)||"Lỗi đăng ký")}finally{V(!1)}},be=async()=>{var we,De;K(!0),ee(""),le("");try{const _e=await kt.post("https://walkingguide.onrender.com/api/auth/resend-verification",{email:se});ee(_e.data.message||"Email xác thực đã được gửi lại. Vui lòng kiểm tra hộp thư của bạn.")}catch(_e){le(((De=(we=_e.response)==null?void 0:we.data)==null?void 0:De.message)||"Lỗi gửi lại email xác thực")}finally{K(!1)}},ke=()=>{B(""),D(""),ee(""),le(""),q("")};return i.jsxs("form",{onSubmit:re,className:"w-100",children:[S&&i.jsx("div",{className:"alert alert-danger",children:S}),j?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"alert alert-success",children:j}),i.jsx("button",{type:"button",className:"btn btn-link p-0 mt-2 text-decoration-none",onClick:be,disabled:$||!se,children:$?"Đang gửi lại...":"Gửi lại email xác thực"}),Q&&i.jsx("div",{className:"alert alert-success mt-2",children:Q}),ne&&i.jsx("div",{className:"alert alert-danger mt-2",children:ne}),i.jsx("div",{className:"text-center mt-3",children:i.jsx("button",{type:"button",className:"btn btn-link p-0 text-decoration-underline",onClick:ke,children:"Nhập email khác"})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Họ và tên:"}),i.jsx("input",{type:"text",className:"form-control",value:s,onChange:we=>o(we.target.value),required:!0,disabled:F})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Email:"}),i.jsx("input",{type:"email",className:"form-control",value:h,onChange:we=>g(we.target.value),required:!0,disabled:F})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mật khẩu:"}),i.jsx("input",{type:"password",className:"form-control",value:_,onChange:we=>y(we.target.value),required:!0,disabled:F,minLength:6}),i.jsx("small",{className:"text-muted",children:"Mật khẩu phải có ít nhất 6 ký tự"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Xác nhận mật khẩu:"}),i.jsx("input",{type:"password",className:"form-control",value:v,onChange:we=>N(we.target.value),required:!0,disabled:F,minLength:6}),v&&_!==v&&i.jsx("small",{className:"text-danger",children:"Mật khẩu xác nhận không khớp"}),v&&_===v&&i.jsx("small",{className:"text-success",children:"✓ Mật khẩu khớp"})]}),i.jsx("button",{type:"submit",className:"btn btn-success w-100",disabled:F||!s||!h||!_||!v,children:F?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Đang đăng ký..."]}):"Đăng ký"}),i.jsxs("p",{className:"mt-3 text-center",children:["Đã có tài khoản? ",i.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:c,children:"Đăng nhập"})]})]})]})}function EV({open:l,title:c,message:s,onConfirm:o,onCancel:h}){return l?i.jsx("div",{className:"modal fade show",tabIndex:"-1",style:{display:"block",background:"rgba(0,0,0,0.25)",zIndex:2e3},children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",style:{borderRadius:"1.2rem"},children:[i.jsx("div",{className:"modal-header border-0 pb-0",children:i.jsx("h5",{className:"modal-title",style:{fontWeight:700,color:"#1a5bb8"},children:c||"Xác nhận"})}),i.jsxs("div",{className:"modal-body text-center",children:[i.jsx("div",{className:"mb-3",style:{fontSize:"1.08rem"},children:s}),i.jsxs("div",{className:"d-flex justify-content-center gap-3",children:[i.jsx("button",{className:"btn btn-main px-4",onClick:o,children:"Đồng ý"}),i.jsx("button",{className:"btn btn-outline-secondary px-4",onClick:h,children:"Huỷ"})]})]})]})})}):null}const $5=l=>Ft.get(`/notifications/user/${l}`),SV=l=>Ft.get(`/notifications/user/${l}/unread-count`),q5=(l,c)=>Ft.put(`/notifications/${l}`,c),uA=l=>Ft.put(`/notifications/user/${l}/mark-all-read`),W5=l=>Ft.delete(`/notifications/${l}`);console.log("[NotificationIcon] File loaded");const Z2=()=>{const{user:l,notificationRefreshTrigger:c}=I.useContext(ds),[s,o]=I.useState([]),[h,g]=I.useState(0),[_,y]=I.useState(!1),[v,N]=I.useState(!1),[S,D]=I.useState(!1),[j,B]=I.useState(null),F=ka();I.useEffect(()=>{console.log("[NotificationIcon] notificationRefreshTrigger:",c),l&&(V(),$())},[l,c]),I.useEffect(()=>{_&&h>0&&l&&uA(l.id).then(()=>{o(re=>re.map(be=>({...be,is_read:!0}))),g(0)})},[_]);const V=async()=>{try{N(!0);const re=await $5(l.id);o(re.data)}catch(re){console.error("Error fetching notifications:",re)}finally{N(!1)}},$=async()=>{try{const re=await SV(l.id);g(re.data.count)}catch(re){console.error("Error fetching unread count:",re)}},K=async re=>{try{await q5(re,{is_read:!0}),o(be=>be.map(ke=>ke.notification_id===re?{...ke,is_read:!0}:ke)),g(be=>Math.max(0,be-1))}catch(be){console.error("Error marking notification as read:",be)}},Q=async()=>{try{await uA(l.id),o(re=>re.map(be=>({...be,is_read:!0}))),g(0)}catch(re){console.error("Error marking all notifications as read:",re)}},ee=async(re,be)=>{be.stopPropagation(),B(re),D(!0)},ne=async()=>{if(j)try{await W5(j);const re=s.find(be=>be.notification_id===j);o(be=>be.filter(ke=>ke.notification_id!==j)),re&&!re.is_read&&g(be=>Math.max(0,be-1)),D(!1),B(null)}catch(re){console.error("Error deleting notification:",re)}},le=()=>{D(!1),B(null)},se=re=>{try{return new Date(re).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return re}},q=re=>{switch(re){case"tour_reminder":return"bi bi-calendar-event text-warning";case"tour_completion":return"bi bi-check-circle text-success";case"tour_created":return"bi bi-plus-circle text-primary";default:return"bi bi-bell text-info"}},de=re=>{re.article_id&&re.comment_id?F(`/articles/${re.article_id}#comment-${re.comment_id}`):re.article_id?F(`/articles/${re.article_id}`):re.tour_id?F(`/tours/${re.tour_id}`):re.place_id&&F(`/places/${re.place_id}`)};return l?i.jsxs("div",{className:"position-relative",children:[i.jsxs("button",{className:"btn rounded-circle p-0 d-flex align-items-center justify-content-center border-0 position-relative",style:{width:48,height:48,background:"none",boxShadow:"none"},onClick:()=>y(!_),"aria-label":"Notifications",children:[i.jsx("i",{className:"bi bi-bell",style:{fontSize:24,color:"#1a5bb8"}}),h>0&&!_&&i.jsx("span",{className:"position-absolute badge rounded-pill bg-danger",style:{fontSize:"0.7rem",top:"2px",right:"-8px",minWidth:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center",padding:"2px 6px"},children:h>99?"99+":h})]}),_&&i.jsxs("div",{className:"dropdown-menu show position-absolute d-flex flex-column",style:{minWidth:350,maxWidth:400,maxHeight:500,overflowY:"auto",right:0,left:"auto",zIndex:1e3,boxShadow:"0 4px 20px rgba(0,0,0,0.15)",border:"none",borderRadius:"12px",padding:0},children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-center p-3 border-bottom",children:[i.jsx("h6",{className:"mb-0 fw-bold",children:"Thông báo"}),h>0&&i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:Q,children:"Đánh dấu đã đọc"})]}),i.jsxs("div",{className:"flex-grow-1 p-0",style:{overflowY:"auto"},children:[v?i.jsx("div",{className:"text-center p-3",children:i.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):s.length===0?i.jsxs("div",{className:"text-center p-4 text-muted",children:[i.jsx("i",{className:"bi bi-bell-slash",style:{fontSize:"2rem"}}),i.jsx("p",{className:"mt-2 mb-0",children:"Không có thông báo nào"})]}):s.map(re=>i.jsx("div",{className:`p-3 border-bottom ${re.is_read?"":"bg-light"}`,style:{cursor:"pointer"},onClick:be=>{be.stopPropagation(),K(re.notification_id),de(re)},children:i.jsxs("div",{className:"d-flex align-items-start",children:[i.jsx("div",{className:"me-3 mt-1",children:i.jsx("i",{className:q(re.type),style:{fontSize:"1.2rem"}})}),i.jsxs("div",{className:"flex-grow-1",children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[i.jsx("p",{className:"mb-1",style:{fontSize:"0.9rem",lineHeight:"1.4"},children:re.content}),!re.is_read&&i.jsx("span",{className:"badge bg-primary rounded-pill ms-2",style:{fontSize:"0.6rem"},children:"Mới"})]}),i.jsx("small",{className:"text-muted",children:se(re.created_at)}),!re.is_read&&i.jsxs("button",{className:"btn btn-sm btn-outline-primary mt-2",style:{fontSize:"0.8rem",padding:"2px 8px"},onClick:be=>{be.stopPropagation(),K(re.notification_id)},children:[i.jsx("i",{className:"bi bi-check me-1"}),"Đánh dấu đã đọc"]})]}),i.jsx("div",{className:"ms-2",children:i.jsx("i",{className:"bi bi-trash",style:{fontSize:"1.2rem",color:"#dc3545",cursor:"pointer"},onClick:be=>{be.stopPropagation(),ee(re.notification_id,be)}})})]})},re.notification_id)),s.length>0&&i.jsx("div",{className:"p-2 text-center",children:i.jsxs("small",{className:"text-muted",children:[s.length," thông báo"]})})]}),i.jsx("div",{className:"border-top bg-white text-center",style:{position:"sticky",bottom:0,zIndex:3,padding:"16px 0"},children:i.jsxs(tn,{to:"/notifications",className:"btn btn-link fw-bold text-decoration-none",style:{color:"#1a5bb8"},children:[i.jsx("i",{className:"bi bi-arrow-right-circle me-2"}),"Xem tất cả thông báo"]})})]}),_&&i.jsx("div",{className:"position-fixed",style:{top:0,left:0,right:0,bottom:0,zIndex:999},onClick:()=>y(!1)}),i.jsx("div",{className:`modal fade ${S?"show":""}`,style:{display:S?"block":"none"},tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content border-0 shadow-lg",children:[i.jsxs("div",{className:"modal-header bg-danger text-white",children:[i.jsxs("h5",{className:"modal-title",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),"Xác nhận xóa"]}),i.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:le})]}),i.jsx("div",{className:"modal-body",children:i.jsx("p",{className:"mb-0",children:"Bạn có chắc muốn xóa thông báo này? Hành động này không thể hoàn tác."})}),i.jsxs("div",{className:"modal-footer",children:[i.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:le,children:[i.jsx("i",{className:"bi bi-x-circle me-1"}),"Hủy"]}),i.jsxs("button",{type:"button",className:"btn btn-danger",onClick:ne,children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xóa"]})]})]})})}),S&&i.jsx("div",{className:"modal-backdrop fade show"})]}):null},Y5=I.createContext(),jV=[{code:"en",icon:"en"},{code:"vi",icon:"🇻🇳"}],DV=({children:l})=>{const[c,s]=I.useState("en"),o=h=>{s(h)};return i.jsx(Y5.Provider,{value:{language:c,switchLanguage:o,languages:jV},children:l})},TV=()=>I.useContext(Y5),MV="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='24'%20viewBox='0%200%2032%2024'%3e%3crect%20width='32'%20height='24'%20fill='%23b22234'/%3e%3cg%20fill='%23fff'%3e%3crect%20y='2.18'%20width='32'%20height='2.18'/%3e%3crect%20y='6.54'%20width='32'%20height='2.18'/%3e%3crect%20y='10.9'%20width='32'%20height='2.18'/%3e%3crect%20y='15.26'%20width='32'%20height='2.18'/%3e%3crect%20y='19.62'%20width='32'%20height='2.18'/%3e%3c/g%3e%3crect%20width='13.7'%20height='9.6'%20fill='%233c3b6e'/%3e%3cg%20fill='%23fff'%3e%3cg%20id='s18'%3e%3cg%20id='s9'%3e%3cpolygon%20points='1.37,1.44%201.68,2.36%202.65,2.36%201.87,2.93%202.18,3.85%201.37,3.28%200.56,3.85%200.87,2.93%200.09,2.36%201.06,2.36'/%3e%3c/g%3e%3cuse%20xlink:href='%23s9'%20x='2.74'/%3e%3cuse%20xlink:href='%23s9'%20x='5.48'/%3e%3cuse%20xlink:href='%23s9'%20x='8.22'/%3e%3cuse%20xlink:href='%23s9'%20x='10.96'/%3e%3c/g%3e%3cuse%20xlink:href='%23s18'%20y='1.92'/%3e%3cuse%20xlink:href='%23s18'%20y='3.84'/%3e%3cuse%20xlink:href='%23s18'%20y='5.76'/%3e%3cuse%20xlink:href='%23s18'%20y='7.68'/%3e%3c/g%3e%3c/svg%3e",IV="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='24'%20viewBox='0%200%2032%2024'%3e%3crect%20width='32'%20height='24'%20fill='%23da251d'/%3e%3cpolygon%20fill='%23ff0'%20points='16,5%2017.76,11.09%2024.18,11.09%2018.71,14.41%2020.47,20.5%2016,17.18%2011.53,20.5%2013.29,14.41%207.82,11.09%2014.24,11.09'/%3e%3c/svg%3e",X2={en:MV,vi:IV},F_={en:"English",vi:"Tiếng Việt"},J2=()=>{const{language:l,switchLanguage:c,languages:s}=TV(),{i18n:o}=xh(),[h,g]=I.useState(!1),_=I.useRef();return I.useEffect(()=>{o.changeLanguage(l)},[l,o]),I.useEffect(()=>{const y=v=>{_.current&&!_.current.contains(v.target)&&g(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]),s.find(y=>y.code===l),i.jsxs("div",{className:"language-switcher-dropdown",ref:_,style:{position:"relative",display:"inline-block"},children:[i.jsx("button",{className:"lang-dropdown-btn",style:{background:"none",border:"none",borderRadius:0,padding:0,width:38,height:28,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},onClick:()=>g(y=>!y),"aria-label":F_[l],children:i.jsx("img",{src:X2[l],alt:F_[l],style:{width:28,height:20,borderRadius:3,objectFit:"cover"},onError:y=>{y.target.onerror=null,y.target.src="https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg"}})}),h&&i.jsx("div",{className:"lang-dropdown-menu",style:{position:"absolute",top:34,left:0,background:"#fff",border:"none",borderRadius:6,boxShadow:"0 2px 8px rgba(0,0,0,0.08)",zIndex:100,width:35,padding:0},children:s.filter(y=>y.code!==l).map(y=>i.jsx("button",{className:"lang-dropdown-item",style:{background:"none",border:"none",width:"100%",display:"flex",alignItems:"center",gap:8,padding:4,cursor:"pointer",borderRadius:4,transition:"background 0.2s"},onClick:()=>{c(y.code),g(!1)},"aria-label":F_[y.code],children:i.jsx("img",{src:X2[y.code],alt:F_[y.code],style:{width:28,height:20,borderRadius:3,objectFit:"cover"},onError:v=>{v.target.onerror=null,v.target.src="https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg"}})},y.code))})]})};var d0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var eT;function OV(){return eT||(eT=1,function(l){(function(){var c={}.hasOwnProperty;function s(){for(var g="",_=0;_<arguments.length;_++){var y=arguments[_];y&&(g=h(g,o(y)))}return g}function o(g){if(typeof g=="string"||typeof g=="number")return g;if(typeof g!="object")return"";if(Array.isArray(g))return s.apply(null,g);if(g.toString!==Object.prototype.toString&&!g.toString.toString().includes("[native code]"))return g.toString();var _="";for(var y in g)c.call(g,y)&&g[y]&&(_=h(_,y));return _}function h(g,_){return _?g?g+" "+_:g+_:g}l.exports?(s.default=s,l.exports=s):window.classNames=s})()}(d0)),d0.exports}var LV=OV();const Zn=Vm(LV);function hA(){return hA=Object.assign?Object.assign.bind():function(l){for(var c=1;c<arguments.length;c++){var s=arguments[c];for(var o in s)({}).hasOwnProperty.call(s,o)&&(l[o]=s[o])}return l},hA.apply(null,arguments)}function G5(l,c){if(l==null)return{};var s={};for(var o in l)if({}.hasOwnProperty.call(l,o)){if(c.indexOf(o)!==-1)continue;s[o]=l[o]}return s}function tT(l){return"default"+l.charAt(0).toUpperCase()+l.substr(1)}function BV(l){var c=RV(l,"string");return typeof c=="symbol"?c:String(c)}function RV(l,c){if(typeof l!="object"||l===null)return l;var s=l[Symbol.toPrimitive];if(s!==void 0){var o=s.call(l,c);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(l)}function PV(l,c,s){var o=I.useRef(l!==void 0),h=I.useState(c),g=h[0],_=h[1],y=l!==void 0,v=o.current;return o.current=y,!y&&v&&g!==c&&_(c),[y?l:g,I.useCallback(function(N){for(var S=arguments.length,D=new Array(S>1?S-1:0),j=1;j<S;j++)D[j-1]=arguments[j];s&&s.apply(void 0,[N].concat(D)),_(N)},[s])]}function zV(l,c){return Object.keys(c).reduce(function(s,o){var h,g=s,_=g[tT(o)],y=g[o],v=G5(g,[tT(o),o].map(BV)),N=c[o],S=PV(y,_,l[N]),D=S[0],j=S[1];return hA({},v,(h={},h[o]=D,h[N]=j,h))},l)}function mA(l,c){return mA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},mA(l,c)}function FV(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,mA(l,c)}const HV=["xxl","xl","lg","md","sm","xs"],VV="xs",Db=I.createContext({prefixes:{},breakpoints:HV,minBreakpoint:VV}),{Consumer:oee,Provider:aee}=Db;function Ni(l,c){const{prefixes:s}=I.useContext(Db);return l||s[c]||c}function UV(){const{breakpoints:l}=I.useContext(Db);return l}function $V(){const{minBreakpoint:l}=I.useContext(Db);return l}function qV(){const{dir:l}=I.useContext(Db);return l==="rtl"}function Zv(l){return l&&l.ownerDocument||document}function WV(l){var c=Zv(l);return c&&c.defaultView||window}function YV(l,c){return WV(l).getComputedStyle(l,c)}var GV=/([A-Z])/g;function KV(l){return l.replace(GV,"-$1").toLowerCase()}var QV=/^ms-/;function H_(l){return KV(l).replace(QV,"-ms-")}var ZV=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function XV(l){return!!(l&&ZV.test(l))}function Om(l,c){var s="",o="";if(typeof c=="string")return l.style.getPropertyValue(H_(c))||YV(l).getPropertyValue(H_(c));Object.keys(c).forEach(function(h){var g=c[h];!g&&g!==0?l.style.removeProperty(H_(h)):XV(h)?o+=h+"("+g+") ":s+=H_(h)+": "+g+";"}),o&&(s+="transform: "+o+";"),l.style.cssText+=";"+s}var u0={exports:{}},h0,nT;function JV(){if(nT)return h0;nT=1;var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return h0=l,h0}var m0,iT;function eU(){if(iT)return m0;iT=1;var l=JV();function c(){}function s(){}return s.resetWarningCache=c,m0=function(){function o(_,y,v,N,S,D){if(D!==l){var j=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw j.name="Invariant Violation",j}}o.isRequired=o;function h(){return o}var g={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:h,element:o,elementType:o,instanceOf:h,node:o,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h,checkPropTypes:s,resetWarningCache:c};return g.PropTypes=g,g},m0}var rT;function tU(){return rT||(rT=1,u0.exports=eU()()),u0.exports}var nU=tU();const ti=Vm(nU),sT={disabled:!1},K5=nt.createContext(null);var iU=function(c){return c.scrollTop},sb="unmounted",xm="exited",ph="entering",Nm="entered",fA="exiting",yu=function(l){FV(c,l);function c(o,h){var g;g=l.call(this,o,h)||this;var _=h,y=_&&!_.isMounting?o.enter:o.appear,v;return g.appearStatus=null,o.in?y?(v=xm,g.appearStatus=ph):v=Nm:o.unmountOnExit||o.mountOnEnter?v=sb:v=xm,g.state={status:v},g.nextCallback=null,g}c.getDerivedStateFromProps=function(h,g){var _=h.in;return _&&g.status===sb?{status:xm}:null};var s=c.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(h){var g=null;if(h!==this.props){var _=this.state.status;this.props.in?_!==ph&&_!==Nm&&(g=ph):(_===ph||_===Nm)&&(g=fA)}this.updateStatus(!1,g)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var h=this.props.timeout,g,_,y;return g=_=y=h,h!=null&&typeof h!="number"&&(g=h.exit,_=h.enter,y=h.appear!==void 0?h.appear:_),{exit:g,enter:_,appear:y}},s.updateStatus=function(h,g){if(h===void 0&&(h=!1),g!==null)if(this.cancelNextCallback(),g===ph){if(this.props.unmountOnExit||this.props.mountOnEnter){var _=this.props.nodeRef?this.props.nodeRef.current:Em.findDOMNode(this);_&&iU(_)}this.performEnter(h)}else this.performExit();else this.props.unmountOnExit&&this.state.status===xm&&this.setState({status:sb})},s.performEnter=function(h){var g=this,_=this.props.enter,y=this.context?this.context.isMounting:h,v=this.props.nodeRef?[y]:[Em.findDOMNode(this),y],N=v[0],S=v[1],D=this.getTimeouts(),j=y?D.appear:D.enter;if(!h&&!_||sT.disabled){this.safeSetState({status:Nm},function(){g.props.onEntered(N)});return}this.props.onEnter(N,S),this.safeSetState({status:ph},function(){g.props.onEntering(N,S),g.onTransitionEnd(j,function(){g.safeSetState({status:Nm},function(){g.props.onEntered(N,S)})})})},s.performExit=function(){var h=this,g=this.props.exit,_=this.getTimeouts(),y=this.props.nodeRef?void 0:Em.findDOMNode(this);if(!g||sT.disabled){this.safeSetState({status:xm},function(){h.props.onExited(y)});return}this.props.onExit(y),this.safeSetState({status:fA},function(){h.props.onExiting(y),h.onTransitionEnd(_.exit,function(){h.safeSetState({status:xm},function(){h.props.onExited(y)})})})},s.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(h,g){g=this.setNextCallback(g),this.setState(h,g)},s.setNextCallback=function(h){var g=this,_=!0;return this.nextCallback=function(y){_&&(_=!1,g.nextCallback=null,h(y))},this.nextCallback.cancel=function(){_=!1},this.nextCallback},s.onTransitionEnd=function(h,g){this.setNextCallback(g);var _=this.props.nodeRef?this.props.nodeRef.current:Em.findDOMNode(this),y=h==null&&!this.props.addEndListener;if(!_||y){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var v=this.props.nodeRef?[this.nextCallback]:[_,this.nextCallback],N=v[0],S=v[1];this.props.addEndListener(N,S)}h!=null&&setTimeout(this.nextCallback,h)},s.render=function(){var h=this.state.status;if(h===sb)return null;var g=this.props,_=g.children;g.in,g.mountOnEnter,g.unmountOnExit,g.appear,g.enter,g.exit,g.timeout,g.addEndListener,g.onEnter,g.onEntering,g.onEntered,g.onExit,g.onExiting,g.onExited,g.nodeRef;var y=G5(g,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return nt.createElement(K5.Provider,{value:null},typeof _=="function"?_(h,y):nt.cloneElement(nt.Children.only(_),y))},c}(nt.Component);yu.contextType=K5;yu.propTypes={};function ep(){}yu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ep,onEntering:ep,onEntered:ep,onExit:ep,onExiting:ep,onExited:ep};yu.UNMOUNTED=sb;yu.EXITED=xm;yu.ENTERING=ph;yu.ENTERED=Nm;yu.EXITING=fA;function rU(l){return l.code==="Escape"||l.keyCode===27}function sU(){const l=I.version.split(".");return{major:+l[0],minor:+l[1],patch:+l[2]}}function Xv(l){if(!l||typeof l=="function")return null;const{major:c}=sU();return c>=19?l.props.ref:l.ref}const wp=!!(typeof window<"u"&&window.document&&window.document.createElement);var pA=!1,gA=!1;try{var f0={get passive(){return pA=!0},get once(){return gA=pA=!0}};wp&&(window.addEventListener("test",f0,f0),window.removeEventListener("test",f0,!0))}catch{}function Q5(l,c,s,o){if(o&&typeof o!="boolean"&&!gA){var h=o.once,g=o.capture,_=s;!gA&&h&&(_=s.__once||function y(v){this.removeEventListener(c,y,g),s.call(this,v)},s.__once=_),l.addEventListener(c,_,pA?o:g)}l.addEventListener(c,s,o)}function bA(l,c,s,o){var h=o&&typeof o!="boolean"?o.capture:o;l.removeEventListener(c,s,h),s.__once&&l.removeEventListener(c,s.__once,h)}function _v(l,c,s,o){return Q5(l,c,s,o),function(){bA(l,c,s,o)}}function oU(l,c,s,o){if(o===void 0&&(o=!0),l){var h=document.createEvent("HTMLEvents");h.initEvent(c,s,o),l.dispatchEvent(h)}}function aU(l){var c=Om(l,"transitionDuration")||"",s=c.indexOf("ms")===-1?1e3:1;return parseFloat(c)*s}function lU(l,c,s){s===void 0&&(s=5);var o=!1,h=setTimeout(function(){o||oU(l,"transitionend",!0)},c+s),g=_v(l,"transitionend",function(){o=!0},{once:!0});return function(){clearTimeout(h),g()}}function Z5(l,c,s,o){s==null&&(s=aU(l)||0);var h=lU(l,s,o),g=_v(l,"transitionend",c);return function(){h(),g()}}function oT(l,c){const s=Om(l,c)||"",o=s.indexOf("ms")===-1?1e3:1;return parseFloat(s)*o}function cU(l,c){const s=oT(l,"transitionDuration"),o=oT(l,"transitionDelay"),h=Z5(l,g=>{g.target===l&&(h(),c(g))},s+o)}function dU(l){l.offsetHeight}const aT=l=>!l||typeof l=="function"?l:c=>{l.current=c};function uU(l,c){const s=aT(l),o=aT(c);return h=>{s&&s(h),o&&o(h)}}function X5(l,c){return I.useMemo(()=>uU(l,c),[l,c])}function hU(l){return l&&"setState"in l?Em.findDOMNode(l):l??null}const J5=nt.forwardRef(({onEnter:l,onEntering:c,onEntered:s,onExit:o,onExiting:h,onExited:g,addEndListener:_,children:y,childRef:v,...N},S)=>{const D=I.useRef(null),j=X5(D,v),B=se=>{j(hU(se))},F=se=>q=>{se&&D.current&&se(D.current,q)},V=I.useCallback(F(l),[l]),$=I.useCallback(F(c),[c]),K=I.useCallback(F(s),[s]),Q=I.useCallback(F(o),[o]),ee=I.useCallback(F(h),[h]),ne=I.useCallback(F(g),[g]),le=I.useCallback(F(_),[_]);return i.jsx(yu,{ref:S,...N,onEnter:V,onEntered:K,onEntering:$,onExit:Q,onExited:ne,onExiting:ee,addEndListener:le,nodeRef:D,children:typeof y=="function"?(se,q)=>y(se,{...q,ref:B}):nt.cloneElement(y,{ref:B})})});J5.displayName="TransitionWrapper";function mU(l){const c=I.useRef(l);return I.useEffect(()=>{c.current=l},[l]),c}function vv(l){const c=mU(l);return I.useCallback(function(...s){return c.current&&c.current(...s)},[c])}const Jv=l=>I.forwardRef((c,s)=>i.jsx("div",{...c,ref:s,className:Zn(c.className,l)})),e3=Jv("h4");e3.displayName="DivStyledAsH4";const t3=I.forwardRef(({className:l,bsPrefix:c,as:s=e3,...o},h)=>(c=Ni(c,"alert-heading"),i.jsx(s,{ref:h,className:Zn(l,c),...o})));t3.displayName="AlertHeading";function fU(l){const c=I.useRef(l);return I.useEffect(()=>{c.current=l},[l]),c}function gh(l){const c=fU(l);return I.useCallback(function(...s){return c.current&&c.current(...s)},[c])}function pU(){const l=I.useRef(!0),c=I.useRef(()=>l.current);return I.useEffect(()=>(l.current=!0,()=>{l.current=!1}),[]),c.current}function gU(l){const c=I.useRef(null);return I.useEffect(()=>{c.current=l}),c.current}const bU=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",kU=typeof document<"u",lT=kU||bU?I.useLayoutEffect:I.useEffect,_U=["as","disabled"];function vU(l,c){if(l==null)return{};var s={};for(var o in l)if({}.hasOwnProperty.call(l,o)){if(c.indexOf(o)>=0)continue;s[o]=l[o]}return s}function wU(l){return!l||l.trim()==="#"}function zA({tagName:l,disabled:c,href:s,target:o,rel:h,role:g,onClick:_,tabIndex:y=0,type:v}){l||(s!=null||o!=null||h!=null?l="a":l="button");const N={tagName:l};if(l==="button")return[{type:v||"button",disabled:c},N];const S=j=>{if((c||l==="a"&&wU(s))&&j.preventDefault(),c){j.stopPropagation();return}_==null||_(j)},D=j=>{j.key===" "&&(j.preventDefault(),S(j))};return l==="a"&&(s||(s="#"),c&&(s=void 0)),[{role:g??"button",disabled:void 0,tabIndex:c?void 0:y,href:s,target:l==="a"?o:void 0,"aria-disabled":c||void 0,rel:l==="a"?h:void 0,onClick:S,onKeyDown:D},N]}const yU=I.forwardRef((l,c)=>{let{as:s,disabled:o}=l,h=vU(l,_U);const[g,{tagName:_}]=zA(Object.assign({tagName:s,disabled:o},h));return i.jsx(_,Object.assign({},h,g,{ref:c}))});yU.displayName="Button";const xU=["onKeyDown"];function CU(l,c){if(l==null)return{};var s={};for(var o in l)if({}.hasOwnProperty.call(l,o)){if(c.indexOf(o)>=0)continue;s[o]=l[o]}return s}function AU(l){return!l||l.trim()==="#"}const n3=I.forwardRef((l,c)=>{let{onKeyDown:s}=l,o=CU(l,xU);const[h]=zA(Object.assign({tagName:"a"},o)),g=gh(_=>{h.onKeyDown(_),s==null||s(_)});return AU(o.href)||o.role==="button"?i.jsx("a",Object.assign({ref:c},o,h,{onKeyDown:g})):i.jsx("a",Object.assign({ref:c},o,{onKeyDown:s}))});n3.displayName="Anchor";const i3=I.forwardRef(({className:l,bsPrefix:c,as:s=n3,...o},h)=>(c=Ni(c,"alert-link"),i.jsx(s,{ref:h,className:Zn(l,c),...o})));i3.displayName="AlertLink";const NU={[ph]:"show",[Nm]:"show"},pb=I.forwardRef(({className:l,children:c,transitionClasses:s={},onEnter:o,...h},g)=>{const _={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...h},y=I.useCallback((v,N)=>{dU(v),o==null||o(v,N)},[o]);return i.jsx(J5,{ref:g,addEndListener:cU,..._,onEnter:y,childRef:Xv(c),children:(v,N)=>I.cloneElement(c,{...N,className:Zn("fade",l,c.props.className,NU[v],s[v])})})});pb.displayName="Fade";const EU={"aria-label":ti.string,onClick:ti.func,variant:ti.oneOf(["white"])},ew=I.forwardRef(({className:l,variant:c,"aria-label":s="Close",...o},h)=>i.jsx("button",{ref:h,type:"button",className:Zn("btn-close",c&&`btn-close-${c}`,l),"aria-label":s,...o}));ew.displayName="CloseButton";ew.propTypes=EU;const r3=I.forwardRef((l,c)=>{const{bsPrefix:s,show:o=!0,closeLabel:h="Close alert",closeVariant:g,className:_,children:y,variant:v="primary",onClose:N,dismissible:S,transition:D=pb,...j}=zV(l,{show:"onClose"}),B=Ni(s,"alert"),F=vv(K=>{N&&N(!1,K)}),V=D===!0?pb:D,$=i.jsxs("div",{role:"alert",...V?void 0:j,ref:c,className:Zn(_,B,v&&`${B}-${v}`,S&&`${B}-dismissible`),children:[S&&i.jsx(ew,{onClick:F,"aria-label":h,variant:g}),y]});return V?i.jsx(V,{unmountOnExit:!0,...j,ref:void 0,in:o,children:$}):o?$:null});r3.displayName="Alert";const av=Object.assign(r3,{Link:i3,Heading:t3}),s3=I.forwardRef(({bsPrefix:l,bg:c="primary",pill:s=!1,text:o,className:h,as:g="span",..._},y)=>{const v=Ni(l,"badge");return i.jsx(g,{ref:y,..._,className:Zn(h,v,s&&"rounded-pill",o&&`text-${o}`,c&&`bg-${c}`)})});s3.displayName="Badge";const Ut=I.forwardRef(({as:l,bsPrefix:c,variant:s="primary",size:o,active:h=!1,disabled:g=!1,className:_,...y},v)=>{const N=Ni(c,"btn"),[S,{tagName:D}]=zA({tagName:l,disabled:g,...y}),j=D;return i.jsx(j,{...S,...y,ref:v,disabled:g,className:Zn(_,N,h&&"active",s&&`${N}-${s}`,o&&`${N}-${o}`,y.href&&g&&"disabled")})});Ut.displayName="Button";const FA=I.forwardRef(({className:l,bsPrefix:c,as:s="div",...o},h)=>(c=Ni(c,"card-body"),i.jsx(s,{ref:h,className:Zn(l,c),...o})));FA.displayName="CardBody";const o3=I.forwardRef(({className:l,bsPrefix:c,as:s="div",...o},h)=>(c=Ni(c,"card-footer"),i.jsx(s,{ref:h,className:Zn(l,c),...o})));o3.displayName="CardFooter";const a3=I.createContext(null);a3.displayName="CardHeaderContext";const l3=I.forwardRef(({bsPrefix:l,className:c,as:s="div",...o},h)=>{const g=Ni(l,"card-header"),_=I.useMemo(()=>({cardHeaderBsPrefix:g}),[g]);return i.jsx(a3.Provider,{value:_,children:i.jsx(s,{ref:h,...o,className:Zn(c,g)})})});l3.displayName="CardHeader";const c3=I.forwardRef(({bsPrefix:l,className:c,variant:s,as:o="img",...h},g)=>{const _=Ni(l,"card-img");return i.jsx(o,{ref:g,className:Zn(s?`${_}-${s}`:_,c),...h})});c3.displayName="CardImg";const d3=I.forwardRef(({className:l,bsPrefix:c,as:s="div",...o},h)=>(c=Ni(c,"card-img-overlay"),i.jsx(s,{ref:h,className:Zn(l,c),...o})));d3.displayName="CardImgOverlay";const u3=I.forwardRef(({className:l,bsPrefix:c,as:s="a",...o},h)=>(c=Ni(c,"card-link"),i.jsx(s,{ref:h,className:Zn(l,c),...o})));u3.displayName="CardLink";const SU=Jv("h6"),h3=I.forwardRef(({className:l,bsPrefix:c,as:s=SU,...o},h)=>(c=Ni(c,"card-subtitle"),i.jsx(s,{ref:h,className:Zn(l,c),...o})));h3.displayName="CardSubtitle";const m3=I.forwardRef(({className:l,bsPrefix:c,as:s="p",...o},h)=>(c=Ni(c,"card-text"),i.jsx(s,{ref:h,className:Zn(l,c),...o})));m3.displayName="CardText";const jU=Jv("h5"),f3=I.forwardRef(({className:l,bsPrefix:c,as:s=jU,...o},h)=>(c=Ni(c,"card-title"),i.jsx(s,{ref:h,className:Zn(l,c),...o})));f3.displayName="CardTitle";const p3=I.forwardRef(({bsPrefix:l,className:c,bg:s,text:o,border:h,body:g=!1,children:_,as:y="div",...v},N)=>{const S=Ni(l,"card");return i.jsx(y,{ref:N,...v,className:Zn(c,S,s&&`bg-${s}`,o&&`text-${o}`,h&&`border-${h}`),children:g?i.jsx(FA,{children:_}):_})});p3.displayName="Card";const ys=Object.assign(p3,{Img:c3,Title:f3,Subtitle:h3,Body:FA,Link:u3,Text:m3,Header:l3,Footer:o3,ImgOverlay:d3});function DU(l){const c=I.useRef(l);return c.current=l,c}function TU(l){const c=DU(l);I.useEffect(()=>()=>c.current(),[])}function MU(l,c){return I.Children.toArray(l).some(s=>I.isValidElement(s)&&s.type===c)}function IU({as:l,bsPrefix:c,className:s,...o}){c=Ni(c,"col");const h=UV(),g=$V(),_=[],y=[];return h.forEach(v=>{const N=o[v];delete o[v];let S,D,j;typeof N=="object"&&N!=null?{span:S,offset:D,order:j}=N:S=N;const B=v!==g?`-${v}`:"";S&&_.push(S===!0?`${c}${B}`:`${c}${B}-${S}`),j!=null&&y.push(`order${B}-${j}`),D!=null&&y.push(`offset${B}-${D}`)}),[{...o,className:Zn(s,..._,...y)},{as:l,bsPrefix:c,spans:_}]}const g3=I.forwardRef((l,c)=>{const[{className:s,...o},{as:h="div",bsPrefix:g,spans:_}]=IU(l);return i.jsx(h,{...o,ref:c,className:Zn(s,!_.length&&g)})});g3.displayName="Col";var OU=Function.prototype.bind.call(Function.prototype.call,[].slice);function tp(l,c){return OU(l.querySelectorAll(c))}function cT(l,c){if(l.contains)return l.contains(c);if(l.compareDocumentPosition)return l===c||!!(l.compareDocumentPosition(c)&16)}const LU="data-rr-ui-";function BU(l){return`${LU}${l}`}const b3=I.createContext(wp?window:void 0);b3.Provider;function HA(){return I.useContext(b3)}const RU={type:ti.string,tooltip:ti.bool,as:ti.elementType},tw=I.forwardRef(({as:l="div",className:c,type:s="valid",tooltip:o=!1,...h},g)=>i.jsx(l,{...h,ref:g,className:Zn(c,`${s}-${o?"tooltip":"feedback"}`)}));tw.displayName="Feedback";tw.propTypes=RU;const vu=I.createContext({}),VA=I.forwardRef(({id:l,bsPrefix:c,className:s,type:o="checkbox",isValid:h=!1,isInvalid:g=!1,as:_="input",...y},v)=>{const{controlId:N}=I.useContext(vu);return c=Ni(c,"form-check-input"),i.jsx(_,{...y,ref:v,type:o,id:l||N,className:Zn(s,c,h&&"is-valid",g&&"is-invalid")})});VA.displayName="FormCheckInput";const wv=I.forwardRef(({bsPrefix:l,className:c,htmlFor:s,...o},h)=>{const{controlId:g}=I.useContext(vu);return l=Ni(l,"form-check-label"),i.jsx("label",{...o,ref:h,htmlFor:s||g,className:Zn(c,l)})});wv.displayName="FormCheckLabel";const k3=I.forwardRef(({id:l,bsPrefix:c,bsSwitchPrefix:s,inline:o=!1,reverse:h=!1,disabled:g=!1,isValid:_=!1,isInvalid:y=!1,feedbackTooltip:v=!1,feedback:N,feedbackType:S,className:D,style:j,title:B="",type:F="checkbox",label:V,children:$,as:K="input",...Q},ee)=>{c=Ni(c,"form-check"),s=Ni(s,"form-switch");const{controlId:ne}=I.useContext(vu),le=I.useMemo(()=>({controlId:l||ne}),[ne,l]),se=!$&&V!=null&&V!==!1||MU($,wv),q=i.jsx(VA,{...Q,type:F==="switch"?"checkbox":F,ref:ee,isValid:_,isInvalid:y,disabled:g,as:K});return i.jsx(vu.Provider,{value:le,children:i.jsx("div",{style:j,className:Zn(D,se&&c,o&&`${c}-inline`,h&&`${c}-reverse`,F==="switch"&&s),children:$||i.jsxs(i.Fragment,{children:[q,se&&i.jsx(wv,{title:B,children:V}),N&&i.jsx(tw,{type:S,tooltip:v,children:N})]})})})});k3.displayName="FormCheck";const yv=Object.assign(k3,{Input:VA,Label:wv}),_3=I.forwardRef(({bsPrefix:l,type:c,size:s,htmlSize:o,id:h,className:g,isValid:_=!1,isInvalid:y=!1,plaintext:v,readOnly:N,as:S="input",...D},j)=>{const{controlId:B}=I.useContext(vu);return l=Ni(l,"form-control"),i.jsx(S,{...D,type:c,size:o,ref:j,readOnly:N,id:h||B,className:Zn(g,v?`${l}-plaintext`:l,s&&`${l}-${s}`,c==="color"&&`${l}-color`,_&&"is-valid",y&&"is-invalid")})});_3.displayName="FormControl";const PU=Object.assign(_3,{Feedback:tw}),v3=I.forwardRef(({className:l,bsPrefix:c,as:s="div",...o},h)=>(c=Ni(c,"form-floating"),i.jsx(s,{ref:h,className:Zn(l,c),...o})));v3.displayName="FormFloating";const UA=I.forwardRef(({controlId:l,as:c="div",...s},o)=>{const h=I.useMemo(()=>({controlId:l}),[l]);return i.jsx(vu.Provider,{value:h,children:i.jsx(c,{...s,ref:o})})});UA.displayName="FormGroup";const w3=I.forwardRef(({as:l="label",bsPrefix:c,column:s=!1,visuallyHidden:o=!1,className:h,htmlFor:g,..._},y)=>{const{controlId:v}=I.useContext(vu);c=Ni(c,"form-label");let N="col-form-label";typeof s=="string"&&(N=`${N} ${N}-${s}`);const S=Zn(h,c,o&&"visually-hidden",s&&N);return g=g||v,s?i.jsx(g3,{ref:y,as:"label",className:S,htmlFor:g,..._}):i.jsx(l,{ref:y,className:S,htmlFor:g,..._})});w3.displayName="FormLabel";const y3=I.forwardRef(({bsPrefix:l,className:c,id:s,...o},h)=>{const{controlId:g}=I.useContext(vu);return l=Ni(l,"form-range"),i.jsx("input",{...o,type:"range",ref:h,className:Zn(c,l),id:s||g})});y3.displayName="FormRange";const x3=I.forwardRef(({bsPrefix:l,size:c,htmlSize:s,className:o,isValid:h=!1,isInvalid:g=!1,id:_,...y},v)=>{const{controlId:N}=I.useContext(vu);return l=Ni(l,"form-select"),i.jsx("select",{...y,size:s,ref:v,className:Zn(o,l,c&&`${l}-${c}`,h&&"is-valid",g&&"is-invalid"),id:_||N})});x3.displayName="FormSelect";const C3=I.forwardRef(({bsPrefix:l,className:c,as:s="small",muted:o,...h},g)=>(l=Ni(l,"form-text"),i.jsx(s,{...h,ref:g,className:Zn(c,l,o&&"text-muted")})));C3.displayName="FormText";const A3=I.forwardRef((l,c)=>i.jsx(yv,{...l,ref:c,type:"switch"}));A3.displayName="Switch";const zU=Object.assign(A3,{Input:yv.Input,Label:yv.Label}),N3=I.forwardRef(({bsPrefix:l,className:c,children:s,controlId:o,label:h,...g},_)=>(l=Ni(l,"form-floating"),i.jsxs(UA,{ref:_,className:Zn(c,l),controlId:o,...g,children:[s,i.jsx("label",{htmlFor:o,children:h})]})));N3.displayName="FloatingLabel";const FU={_ref:ti.any,validated:ti.bool,as:ti.elementType},$A=I.forwardRef(({className:l,validated:c,as:s="form",...o},h)=>i.jsx(s,{...o,ref:h,className:Zn(l,c&&"was-validated")}));$A.displayName="Form";$A.propTypes=FU;const mn=Object.assign($A,{Group:UA,Control:PU,Floating:v3,Check:yv,Switch:zU,Label:w3,Text:C3,Range:y3,Select:x3,FloatingLabel:N3}),dT=l=>!l||typeof l=="function"?l:c=>{l.current=c};function HU(l,c){const s=dT(l),o=dT(c);return h=>{s&&s(h),o&&o(h)}}function qA(l,c){return I.useMemo(()=>HU(l,c),[l,c])}var V_;function uT(l){if((!V_&&V_!==0||l)&&wp){var c=document.createElement("div");c.style.position="absolute",c.style.top="-9999px",c.style.width="50px",c.style.height="50px",c.style.overflow="scroll",document.body.appendChild(c),V_=c.offsetWidth-c.clientWidth,document.body.removeChild(c)}return V_}function VU(){return I.useState(null)}function p0(l){l===void 0&&(l=Zv());try{var c=l.activeElement;return!c||!c.nodeName?null:c}catch{return l.body}}function UU(l){const c=I.useRef(l);return c.current=l,c}function $U(l){const c=UU(l);I.useEffect(()=>()=>c.current(),[])}function qU(l=document){const c=l.defaultView;return Math.abs(c.innerWidth-l.documentElement.clientWidth)}const hT=BU("modal-open");class WA{constructor({ownerDocument:c,handleContainerOverflow:s=!0,isRTL:o=!1}={}){this.handleContainerOverflow=s,this.isRTL=o,this.modals=[],this.ownerDocument=c}getScrollbarWidth(){return qU(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(c){}removeModalAttributes(c){}setContainerStyle(c){const s={overflow:"hidden"},o=this.isRTL?"paddingLeft":"paddingRight",h=this.getElement();c.style={overflow:h.style.overflow,[o]:h.style[o]},c.scrollBarWidth&&(s[o]=`${parseInt(Om(h,o)||"0",10)+c.scrollBarWidth}px`),h.setAttribute(hT,""),Om(h,s)}reset(){[...this.modals].forEach(c=>this.remove(c))}removeContainerStyle(c){const s=this.getElement();s.removeAttribute(hT),Object.assign(s.style,c.style)}add(c){let s=this.modals.indexOf(c);return s!==-1||(s=this.modals.length,this.modals.push(c),this.setModalAttributes(c),s!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),s}remove(c){const s=this.modals.indexOf(c);s!==-1&&(this.modals.splice(s,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(c))}isTopModal(c){return!!this.modals.length&&this.modals[this.modals.length-1]===c}}const g0=(l,c)=>wp?l==null?(c||Zv()).body:(typeof l=="function"&&(l=l()),l&&"current"in l&&(l=l.current),l&&("nodeType"in l||l.getBoundingClientRect)?l:null):null;function WU(l,c){const s=HA(),[o,h]=I.useState(()=>g0(l,s==null?void 0:s.document));if(!o){const g=g0(l);g&&h(g)}return I.useEffect(()=>{},[c,o]),I.useEffect(()=>{const g=g0(l);g!==o&&h(g)},[l,o]),o}function YU({children:l,in:c,onExited:s,mountOnEnter:o,unmountOnExit:h}){const g=I.useRef(null),_=I.useRef(c),y=gh(s);I.useEffect(()=>{c?_.current=!0:y(g.current)},[c,y]);const v=qA(g,Xv(l)),N=I.cloneElement(l,{ref:v});return c?N:h||!_.current&&o?null:N}const GU=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function KU(l,c){if(l==null)return{};var s={};for(var o in l)if({}.hasOwnProperty.call(l,o)){if(c.indexOf(o)>=0)continue;s[o]=l[o]}return s}function QU(l){let{onEnter:c,onEntering:s,onEntered:o,onExit:h,onExiting:g,onExited:_,addEndListener:y,children:v}=l,N=KU(l,GU);const S=I.useRef(null),D=qA(S,Xv(v)),j=ne=>le=>{ne&&S.current&&ne(S.current,le)},B=I.useCallback(j(c),[c]),F=I.useCallback(j(s),[s]),V=I.useCallback(j(o),[o]),$=I.useCallback(j(h),[h]),K=I.useCallback(j(g),[g]),Q=I.useCallback(j(_),[_]),ee=I.useCallback(j(y),[y]);return Object.assign({},N,{nodeRef:S},c&&{onEnter:B},s&&{onEntering:F},o&&{onEntered:V},h&&{onExit:$},g&&{onExiting:K},_&&{onExited:Q},y&&{addEndListener:ee},{children:typeof v=="function"?(ne,le)=>v(ne,Object.assign({},le,{ref:D})):I.cloneElement(v,{ref:D})})}const ZU=["component"];function XU(l,c){if(l==null)return{};var s={};for(var o in l)if({}.hasOwnProperty.call(l,o)){if(c.indexOf(o)>=0)continue;s[o]=l[o]}return s}const JU=I.forwardRef((l,c)=>{let{component:s}=l,o=XU(l,ZU);const h=QU(o);return i.jsx(s,Object.assign({ref:c},h))});function e$({in:l,onTransition:c}){const s=I.useRef(null),o=I.useRef(!0),h=gh(c);return lT(()=>{if(!s.current)return;let g=!1;return h({in:l,element:s.current,initial:o.current,isStale:()=>g}),()=>{g=!0}},[l,h]),lT(()=>(o.current=!1,()=>{o.current=!0}),[]),s}function t$({children:l,in:c,onExited:s,onEntered:o,transition:h}){const[g,_]=I.useState(!c);c&&g&&_(!1);const y=e$({in:!!c,onTransition:N=>{const S=()=>{N.isStale()||(N.in?o==null||o(N.element,N.initial):(_(!0),s==null||s(N.element)))};Promise.resolve(h(N)).then(S,D=>{throw N.in||_(!0),D})}}),v=qA(y,Xv(l));return g&&!c?null:I.cloneElement(l,{ref:v})}function mT(l,c,s){return l?i.jsx(JU,Object.assign({},s,{component:l})):c?i.jsx(t$,Object.assign({},s,{transition:c})):i.jsx(YU,Object.assign({},s))}const n$=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function i$(l,c){if(l==null)return{};var s={};for(var o in l)if({}.hasOwnProperty.call(l,o)){if(c.indexOf(o)>=0)continue;s[o]=l[o]}return s}let b0;function r$(l){return b0||(b0=new WA({ownerDocument:l==null?void 0:l.document})),b0}function s$(l){const c=HA(),s=l||r$(c),o=I.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>s.add(o.current),remove:()=>s.remove(o.current),isTopModal:()=>s.isTopModal(o.current),setDialogRef:I.useCallback(h=>{o.current.dialog=h},[]),setBackdropRef:I.useCallback(h=>{o.current.backdrop=h},[])})}const E3=I.forwardRef((l,c)=>{let{show:s=!1,role:o="dialog",className:h,style:g,children:_,backdrop:y=!0,keyboard:v=!0,onBackdropClick:N,onEscapeKeyDown:S,transition:D,runTransition:j,backdropTransition:B,runBackdropTransition:F,autoFocus:V=!0,enforceFocus:$=!0,restoreFocus:K=!0,restoreFocusOptions:Q,renderDialog:ee,renderBackdrop:ne=Fe=>i.jsx("div",Object.assign({},Fe)),manager:le,container:se,onShow:q,onHide:de=()=>{},onExit:re,onExited:be,onExiting:ke,onEnter:we,onEntering:De,onEntered:_e}=l,je=i$(l,n$);const oe=HA(),ve=WU(se),he=s$(le),Ee=pU(),Z=gU(s),[fe,Ce]=I.useState(!s),Se=I.useRef(null);I.useImperativeHandle(c,()=>he,[he]),wp&&!Z&&s&&(Se.current=p0(oe==null?void 0:oe.document)),s&&fe&&Ce(!1);const He=gh(()=>{if(he.add(),Le.current=_v(document,"keydown",Ie),We.current=_v(document,"focus",()=>setTimeout(pe),!0),q&&q(),V){var Fe,ht;const Pt=p0((Fe=(ht=he.dialog)==null?void 0:ht.ownerDocument)!=null?Fe:oe==null?void 0:oe.document);he.dialog&&Pt&&!cT(he.dialog,Pt)&&(Se.current=Pt,he.dialog.focus())}}),et=gh(()=>{if(he.remove(),Le.current==null||Le.current(),We.current==null||We.current(),K){var Fe;(Fe=Se.current)==null||Fe.focus==null||Fe.focus(Q),Se.current=null}});I.useEffect(()=>{!s||!ve||He()},[s,ve,He]),I.useEffect(()=>{fe&&et()},[fe,et]),$U(()=>{et()});const pe=gh(()=>{if(!$||!Ee()||!he.isTopModal())return;const Fe=p0(oe==null?void 0:oe.document);he.dialog&&Fe&&!cT(he.dialog,Fe)&&he.dialog.focus()}),me=gh(Fe=>{Fe.target===Fe.currentTarget&&(N==null||N(Fe),y===!0&&de())}),Ie=gh(Fe=>{v&&rU(Fe)&&he.isTopModal()&&(S==null||S(Fe),Fe.defaultPrevented||de())}),We=I.useRef(),Le=I.useRef(),st=(...Fe)=>{Ce(!0),be==null||be(...Fe)};if(!ve)return null;const Ge=Object.assign({role:o,ref:he.setDialogRef,"aria-modal":o==="dialog"?!0:void 0},je,{style:g,className:h,tabIndex:-1});let Oe=ee?ee(Ge):i.jsx("div",Object.assign({},Ge,{children:I.cloneElement(_,{role:"document"})}));Oe=mT(D,j,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!s,onExit:re,onExiting:ke,onExited:st,onEnter:we,onEntering:De,onEntered:_e,children:Oe});let ut=null;return y&&(ut=ne({ref:he.setBackdropRef,onClick:me}),ut=mT(B,F,{in:!!s,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ut})),i.jsx(i.Fragment,{children:Em.createPortal(i.jsxs(i.Fragment,{children:[ut,Oe]}),ve)})});E3.displayName="Modal";const o$=Object.assign(E3,{Manager:WA});function a$(l,c){return l.classList?l.classList.contains(c):(" "+(l.className.baseVal||l.className)+" ").indexOf(" "+c+" ")!==-1}function l$(l,c){l.classList?l.classList.add(c):a$(l,c)||(typeof l.className=="string"?l.className=l.className+" "+c:l.setAttribute("class",(l.className&&l.className.baseVal||"")+" "+c))}function fT(l,c){return l.replace(new RegExp("(^|\\s)"+c+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function c$(l,c){l.classList?l.classList.remove(c):typeof l.className=="string"?l.className=fT(l.className,c):l.setAttribute("class",fT(l.className&&l.className.baseVal||"",c))}const np={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class d$ extends WA{adjustAndStore(c,s,o){const h=s.style[c];s.dataset[c]=h,Om(s,{[c]:`${parseFloat(Om(s,c))+o}px`})}restore(c,s){const o=s.dataset[c];o!==void 0&&(delete s.dataset[c],Om(s,{[c]:o}))}setContainerStyle(c){super.setContainerStyle(c);const s=this.getElement();if(l$(s,"modal-open"),!c.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",h=this.isRTL?"marginLeft":"marginRight";tp(s,np.FIXED_CONTENT).forEach(g=>this.adjustAndStore(o,g,c.scrollBarWidth)),tp(s,np.STICKY_CONTENT).forEach(g=>this.adjustAndStore(h,g,-c.scrollBarWidth)),tp(s,np.NAVBAR_TOGGLER).forEach(g=>this.adjustAndStore(h,g,c.scrollBarWidth))}removeContainerStyle(c){super.removeContainerStyle(c);const s=this.getElement();c$(s,"modal-open");const o=this.isRTL?"paddingLeft":"paddingRight",h=this.isRTL?"marginLeft":"marginRight";tp(s,np.FIXED_CONTENT).forEach(g=>this.restore(o,g)),tp(s,np.STICKY_CONTENT).forEach(g=>this.restore(h,g)),tp(s,np.NAVBAR_TOGGLER).forEach(g=>this.restore(h,g))}}let k0;function u$(l){return k0||(k0=new d$(l)),k0}const S3=I.forwardRef(({className:l,bsPrefix:c,as:s="div",...o},h)=>(c=Ni(c,"modal-body"),i.jsx(s,{ref:h,className:Zn(l,c),...o})));S3.displayName="ModalBody";const j3=I.createContext({onHide(){}}),YA=I.forwardRef(({bsPrefix:l,className:c,contentClassName:s,centered:o,size:h,fullscreen:g,children:_,scrollable:y,...v},N)=>{l=Ni(l,"modal");const S=`${l}-dialog`,D=typeof g=="string"?`${l}-fullscreen-${g}`:`${l}-fullscreen`;return i.jsx("div",{...v,ref:N,className:Zn(S,c,h&&`${l}-${h}`,o&&`${S}-centered`,y&&`${S}-scrollable`,g&&D),children:i.jsx("div",{className:Zn(`${l}-content`,s),children:_})})});YA.displayName="ModalDialog";const D3=I.forwardRef(({className:l,bsPrefix:c,as:s="div",...o},h)=>(c=Ni(c,"modal-footer"),i.jsx(s,{ref:h,className:Zn(l,c),...o})));D3.displayName="ModalFooter";const T3=I.forwardRef(({closeLabel:l="Close",closeVariant:c,closeButton:s=!1,onHide:o,children:h,...g},_)=>{const y=I.useContext(j3),v=vv(()=>{y==null||y.onHide(),o==null||o()});return i.jsxs("div",{ref:_,...g,children:[h,s&&i.jsx(ew,{"aria-label":l,variant:c,onClick:v})]})});T3.displayName="AbstractModalHeader";const M3=I.forwardRef(({bsPrefix:l,className:c,closeLabel:s="Close",closeButton:o=!1,...h},g)=>(l=Ni(l,"modal-header"),i.jsx(T3,{ref:g,...h,className:Zn(c,l),closeLabel:s,closeButton:o})));M3.displayName="ModalHeader";const h$=Jv("h4"),I3=I.forwardRef(({className:l,bsPrefix:c,as:s=h$,...o},h)=>(c=Ni(c,"modal-title"),i.jsx(s,{ref:h,className:Zn(l,c),...o})));I3.displayName="ModalTitle";function m$(l){return i.jsx(pb,{...l,timeout:null})}function f$(l){return i.jsx(pb,{...l,timeout:null})}const O3=I.forwardRef(({bsPrefix:l,className:c,style:s,dialogClassName:o,contentClassName:h,children:g,dialogAs:_=YA,"data-bs-theme":y,"aria-labelledby":v,"aria-describedby":N,"aria-label":S,show:D=!1,animation:j=!0,backdrop:B=!0,keyboard:F=!0,onEscapeKeyDown:V,onShow:$,onHide:K,container:Q,autoFocus:ee=!0,enforceFocus:ne=!0,restoreFocus:le=!0,restoreFocusOptions:se,onEntered:q,onExit:de,onExiting:re,onEnter:be,onEntering:ke,onExited:we,backdropClassName:De,manager:_e,...je},oe)=>{const[ve,he]=I.useState({}),[Ee,Z]=I.useState(!1),fe=I.useRef(!1),Ce=I.useRef(!1),Se=I.useRef(null),[He,et]=VU(),pe=X5(oe,et),me=vv(K),Ie=qV();l=Ni(l,"modal");const We=I.useMemo(()=>({onHide:me}),[me]);function Le(){return _e||u$({isRTL:Ie})}function st(bt){if(!wp)return;const $t=Le().getScrollbarWidth()>0,fn=bt.scrollHeight>Zv(bt).documentElement.clientHeight;he({paddingRight:$t&&!fn?uT():void 0,paddingLeft:!$t&&fn?uT():void 0})}const Ge=vv(()=>{He&&st(He.dialog)});TU(()=>{bA(window,"resize",Ge),Se.current==null||Se.current()});const Oe=()=>{fe.current=!0},ut=bt=>{fe.current&&He&&bt.target===He.dialog&&(Ce.current=!0),fe.current=!1},Fe=()=>{Z(!0),Se.current=Z5(He.dialog,()=>{Z(!1)})},ht=bt=>{bt.target===bt.currentTarget&&Fe()},Pt=bt=>{if(B==="static"){ht(bt);return}if(Ce.current||bt.target!==bt.currentTarget){Ce.current=!1;return}K==null||K()},en=bt=>{F?V==null||V(bt):(bt.preventDefault(),B==="static"&&Fe())},at=(bt,$t)=>{bt&&st(bt),be==null||be(bt,$t)},jt=bt=>{Se.current==null||Se.current(),de==null||de(bt)},Dt=(bt,$t)=>{ke==null||ke(bt,$t),Q5(window,"resize",Ge)},Qe=bt=>{bt&&(bt.style.display=""),we==null||we(bt),bA(window,"resize",Ge)},Tt=I.useCallback(bt=>i.jsx("div",{...bt,className:Zn(`${l}-backdrop`,De,!j&&"show")}),[j,De,l]),Ot={...s,...ve};Ot.display="block";const $e=bt=>i.jsx("div",{role:"dialog",...bt,style:Ot,className:Zn(c,l,Ee&&`${l}-static`,!j&&"show"),onClick:B?Pt:void 0,onMouseUp:ut,"data-bs-theme":y,"aria-label":S,"aria-labelledby":v,"aria-describedby":N,children:i.jsx(_,{...je,onMouseDown:Oe,className:o,contentClassName:h,children:g})});return i.jsx(j3.Provider,{value:We,children:i.jsx(o$,{show:D,ref:pe,backdrop:B,container:Q,keyboard:!0,autoFocus:ee,enforceFocus:ne,restoreFocus:le,restoreFocusOptions:se,onEscapeKeyDown:en,onShow:$,onHide:K,onEnter:at,onEntering:Dt,onEntered:q,onExit:jt,onExiting:re,onExited:Qe,manager:Le(),transition:j?m$:void 0,backdropTransition:j?f$:void 0,renderBackdrop:Tt,renderDialog:$e})})});O3.displayName="Modal";const yt=Object.assign(O3,{Body:S3,Header:M3,Title:I3,Footer:D3,Dialog:YA,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),L3=I.forwardRef(({bsPrefix:l,variant:c,animation:s="border",size:o,as:h="div",className:g,..._},y)=>{l=Ni(l,"spinner");const v=`${l}-${s}`;return i.jsx(h,{ref:y,..._,className:Zn(g,v,o&&`${v}-${o}`,c&&`text-${c}`)})});L3.displayName="Spinner";function B3({show:l,onClose:c}){const[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(!1),[S,D]=I.useState(!1),[j,B]=I.useState(""),[F,V]=I.useState(""),$=async ee=>{var ne,le;ee.preventDefault(),g(""),y(""),B(""),V(""),N(!0);try{const se=await kt.post("http://localhost:3000/api/auth/forgot-password",{email:s});g(se.data.message||"Nếu email tồn tại, hướng dẫn đặt lại mật khẩu đã được gửi.")}catch(se){y(((le=(ne=se.response)==null?void 0:ne.data)==null?void 0:le.message)||"Lỗi gửi email đặt lại mật khẩu")}finally{N(!1)}},K=async()=>{var ee,ne;D(!0),B(""),V("");try{const le=await kt.post("http://localhost:3000/api/auth/forgot-password",{email:s});B(le.data.message||"Email đặt lại mật khẩu đã được gửi lại.")}catch(le){V(((ne=(ee=le.response)==null?void 0:ee.data)==null?void 0:ne.message)||"Lỗi gửi lại email đặt lại mật khẩu")}finally{D(!1)}},Q=()=>{g(""),y(""),B(""),V(""),o("")};return i.jsxs(yt,{show:l,onHide:c,centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Quên mật khẩu"})}),i.jsx(yt.Body,{children:h?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"alert alert-success",children:h}),i.jsx("button",{type:"button",className:"btn btn-link p-0 mt-2 text-decoration-none",onClick:K,disabled:S||!s,children:S?"Đang gửi lại...":"Gửi lại email đặt lại mật khẩu"}),j&&i.jsx("div",{className:"alert alert-success mt-2",children:j}),F&&i.jsx("div",{className:"alert alert-danger mt-2",children:F}),i.jsx("div",{className:"text-center mt-3",children:i.jsx("button",{type:"button",className:"btn btn-link p-0 text-decoration-underline",onClick:Q,children:"Nhập email khác"})})]}):i.jsxs("form",{onSubmit:$,children:[_&&i.jsx("div",{className:"alert alert-danger",children:_}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Nhập email của bạn:"}),i.jsx("input",{type:"email",className:"form-control",value:s,onChange:ee=>o(ee.target.value),required:!0,disabled:v})]}),i.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:v||!s,children:v?"Đang gửi...":"Gửi email đặt lại mật khẩu"})]})})]})}var U_={},pT;function p$(){if(pT)return U_;pT=1,U_.match=g,U_.parse=_;var l=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,c=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,s=/^(?:(min|max)-)?(.+)/,o=/(em|rem|px|cm|mm|in|pt|pc)?$/,h=/(dpi|dpcm|dppx)?$/;function g(S,D){return _(S).some(function(j){var B=j.inverse,F=j.type==="all"||D.type===j.type;if(F&&B||!(F||B))return!1;var V=j.expressions.every(function($){var K=$.feature,Q=$.modifier,ee=$.value,ne=D[K];if(!ne)return!1;switch(K){case"orientation":case"scan":return ne.toLowerCase()===ee.toLowerCase();case"width":case"height":case"device-width":case"device-height":ee=N(ee),ne=N(ne);break;case"resolution":ee=v(ee),ne=v(ne);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":ee=y(ee),ne=y(ne);break;case"grid":case"color":case"color-index":case"monochrome":ee=parseInt(ee,10)||1,ne=parseInt(ne,10)||0;break}switch(Q){case"min":return ne>=ee;case"max":return ne<=ee;default:return ne===ee}});return V&&!B||!V&&B})}function _(S){return S.split(",").map(function(D){D=D.trim();var j=D.match(l),B=j[1],F=j[2],V=j[3]||"",$={};return $.inverse=!!B&&B.toLowerCase()==="not",$.type=F?F.toLowerCase():"all",V=V.match(/\([^\)]+\)/g)||[],$.expressions=V.map(function(K){var Q=K.match(c),ee=Q[1].toLowerCase().match(s);return{modifier:ee[1],feature:ee[2],value:Q[2]}}),$})}function y(S){var D=Number(S),j;return D||(j=S.match(/^(\d+)\s*\/\s*(\d+)$/),D=j[1]/j[2]),D}function v(S){var D=parseFloat(S),j=String(S).match(h)[1];switch(j){case"dpcm":return D/2.54;case"dppx":return D*96;default:return D}}function N(S){var D=parseFloat(S),j=String(S).match(o)[1];switch(j){case"em":return D*16;case"rem":return D*16;case"cm":return D*96/2.54;case"mm":return D*96/2.54/10;case"in":return D*96;case"pt":return D*72;case"pc":return D*72/12;default:return D}}return U_}var _0,gT;function g$(){if(gT)return _0;gT=1;var l=p$().match,c=typeof window<"u"?window.matchMedia:null;function s(h,g,_){var y=this,v;c&&!_&&(v=c.call(window,h)),v?(this.matches=v.matches,this.media=v.media,v.addListener(D)):(this.matches=l(h,g),this.media=h),this.addListener=N,this.removeListener=S,this.dispose=j;function N(B){v&&v.addListener(B)}function S(B){v&&v.removeListener(B)}function D(B){y.matches=B.matches,y.media=B.media}function j(){v&&v.removeListener(D)}}function o(h,g,_){return new s(h,g,_)}return _0=o,_0}var b$=g$();const k$=Vm(b$);var _$=/[A-Z]/g,v$=/^ms-/,v0={};function w$(l){return"-"+l.toLowerCase()}function R3(l){if(v0.hasOwnProperty(l))return v0[l];var c=l.replace(_$,w$);return v0[l]=v$.test(c)?"-"+c:c}function y$(l,c){if(l===c)return!0;if(!l||!c)return!1;const s=Object.keys(l),o=Object.keys(c),h=s.length;if(o.length!==h)return!1;for(let g=0;g<h;g++){const _=s[g];if(l[_]!==c[_]||!Object.prototype.hasOwnProperty.call(c,_))return!1}return!0}const pa=ti.oneOfType([ti.string,ti.number]),P3={all:ti.bool,grid:ti.bool,aural:ti.bool,braille:ti.bool,handheld:ti.bool,print:ti.bool,projection:ti.bool,screen:ti.bool,tty:ti.bool,tv:ti.bool,embossed:ti.bool},x$={orientation:ti.oneOf(["portrait","landscape"]),scan:ti.oneOf(["progressive","interlace"]),aspectRatio:ti.string,deviceAspectRatio:ti.string,height:pa,deviceHeight:pa,width:pa,deviceWidth:pa,color:ti.bool,colorIndex:ti.bool,monochrome:ti.bool,resolution:pa,type:Object.keys(P3)},{type:lee,...C$}=x$,A$={minAspectRatio:ti.string,maxAspectRatio:ti.string,minDeviceAspectRatio:ti.string,maxDeviceAspectRatio:ti.string,minHeight:pa,maxHeight:pa,minDeviceHeight:pa,maxDeviceHeight:pa,minWidth:pa,maxWidth:pa,minDeviceWidth:pa,maxDeviceWidth:pa,minColor:ti.number,maxColor:ti.number,minColorIndex:ti.number,maxColorIndex:ti.number,minMonochrome:ti.number,maxMonochrome:ti.number,minResolution:pa,maxResolution:pa,...C$},N$={...P3,...A$};var E$={all:N$};const S$=l=>`not ${l}`,j$=(l,c)=>{const s=R3(l);return typeof c=="number"&&(c=`${c}px`),c===!0?s:c===!1?S$(s):`(${s}: ${c})`},D$=l=>l.join(" and "),T$=l=>{const c=[];return Object.keys(E$.all).forEach(s=>{const o=l[s];o!=null&&c.push(j$(s,o))}),D$(c)},M$=I.createContext(void 0),I$=l=>l.query||T$(l),bT=l=>l?Object.keys(l).reduce((s,o)=>(s[R3(o)]=l[o],s),{}):void 0,z3=()=>{const l=I.useRef(!1);return I.useEffect(()=>{l.current=!0},[]),l.current},O$=l=>{const c=I.useContext(M$),s=()=>bT(l)||bT(c),[o,h]=I.useState(s);return I.useEffect(()=>{const g=s();y$(o,g)||h(g)},[l,c]),o},L$=l=>{const c=()=>I$(l),[s,o]=I.useState(c);return I.useEffect(()=>{const h=c();s!==h&&o(h)},[l]),s},B$=(l,c)=>{const s=()=>k$(l,c||{},!!c),[o,h]=I.useState(s),g=z3();return I.useEffect(()=>{if(g){const _=s();return h(_),()=>{_&&_.dispose()}}},[l,c]),o},R$=l=>{const[c,s]=I.useState(l.matches);return I.useEffect(()=>{const o=h=>{s(h.matches)};return l.addListener(o),s(l.matches),()=>{l.removeListener(o)}},[l]),c},P$=(l,c,s)=>{const o=O$(c),h=L$(l);if(!h)throw new Error("Invalid or missing MediaQuery!");const g=B$(h,o),_=R$(g);return z3(),I.useEffect(()=>{},[_]),I.useEffect(()=>()=>{g&&g.dispose()},[]),_},F3=()=>{const[l,c]=I.useState({show:!1,message:"",title:"",type:"info",confirmText:"Đóng"}),[s,o]=I.useState({show:!1,message:"",title:"Xác nhận",onConfirm:null,confirmText:"Xác nhận",cancelText:"Hủy",type:"warning",confirmVariant:"danger"}),h=(V,$="Thông báo",K="info",Q="Đóng")=>{c({show:!0,message:V,title:$,type:K,confirmText:Q})},g=()=>{c({show:!1,message:"",title:"",type:"info",confirmText:"Đóng"})},_=(V,$,K="Xác nhận",Q="Xác nhận",ee="Hủy",ne="warning",le="danger")=>{o({show:!0,message:V,title:K,onConfirm:$,confirmText:Q,cancelText:ee,type:ne,confirmVariant:le})},y=()=>{o({show:!1,message:"",title:"Xác nhận",onConfirm:null,confirmText:"Xác nhận",cancelText:"Hủy",type:"warning",confirmVariant:"danger"})};return{alertModal:l,confirmModal:s,showAlert:h,hideAlert:g,showConfirm:_,hideConfirm:y,handleConfirm:()=>{s.onConfirm&&s.onConfirm(),y()},showSuccess:(V,$="Thành công")=>{h(V,$,"success","Đóng")},showError:(V,$="Lỗi")=>{h(V,$,"error","Đóng")},showWarning:(V,$="Cảnh báo")=>{h(V,$,"warning","Đóng")},showInfo:(V,$="Thông tin")=>{h(V,$,"info","Đóng")},showDeleteConfirm:(V,$,K="Xác nhận xóa")=>{_(V,$,K,"Xóa","Hủy","danger","danger")},showCancelConfirm:(V,$,K="Xác nhận hủy")=>{_(V,$,K,"Hủy","Không","warning","warning")}}},kA=({show:l,onClose:c,title:s="Thông báo",message:o,type:h="info",confirmText:g="Đóng"})=>{const _=()=>{switch(h){case"success":return i.jsx("i",{className:"bi bi-check-circle-fill text-success me-2"});case"error":return i.jsx("i",{className:"bi bi-exclamation-triangle-fill text-danger me-2"});case"warning":return i.jsx("i",{className:"bi bi-exclamation-triangle-fill text-warning me-2"});default:return i.jsx("i",{className:"bi bi-info-circle-fill text-info me-2"})}},y=()=>{switch(h){case"success":return"success";case"error":return"danger";case"warning":return"warning";default:return"primary"}};return i.jsxs(yt,{show:l,onHide:c,centered:!0,className:"luxury-modal",children:[i.jsx(yt.Header,{closeButton:!0,className:"luxury-modal-header",children:i.jsxs(yt.Title,{className:"luxury-modal-title d-flex align-items-center",children:[_(),s]})}),i.jsx(yt.Body,{className:"luxury-modal-body",children:i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"mb-0",style:{fontSize:"1.1rem",lineHeight:"1.6"},children:o})})}),i.jsx(yt.Footer,{className:"luxury-modal-footer",children:i.jsx(Ut,{variant:y(),onClick:c,className:"btn-main",style:{minWidth:"100px"},children:g})})]})};function Br(){const{user:l,logout:c}=I.useContext(ds);ka();const[s,o]=I.useState(!1),[h,g]=I.useState("login"),[_,y]=I.useState(!1),[v,N]=I.useState(!1),[S,D]=I.useState(!1),j=I.useRef(),B=I.useRef(),{t:F}=xh(),[V,$]=I.useState(!1),K=P$({maxWidth:768}),{showSuccess:Q}=F3(),[ee,ne]=I.useState(!1),[le,se]=I.useState(!1),[q,de]=I.useState(""),re="https://walkingguide.onrender.com",be=()=>{c(),ne(!0)},ke=()=>{c(),y(!1),N(!1),Q("Đăng xuất thành công!")},we=()=>N(!1),De=()=>{g("login"),o(!0),y(!1)},_e=()=>{g("register"),o(!0),y(!1)},je=()=>o(!1),oe=()=>{ne(!1)},ve=he=>{de(`Chào mừng trở lại, ${he.full_name}!`),se(!0)};return nt.useEffect(()=>{function he(Ee){j.current&&!j.current.contains(Ee.target)&&y(!1),B.current&&!B.current.contains(Ee.target)&&$(!1)}return _||V?document.addEventListener("mousedown",he):document.removeEventListener("mousedown",he),()=>document.removeEventListener("mousedown",he)},[_,V]),i.jsxs(i.Fragment,{children:[i.jsx("header",{className:"luxury-navbar luxury-header navbar navbar-expand-lg fixed-top app-header-mobile",style:{marginBottom:0},children:i.jsxs("div",{className:"container d-flex align-items-center justify-content-between header-content-mobile",children:[i.jsx("div",{className:"d-flex align-items-center",children:i.jsx(tn,{to:"/",children:i.jsx("img",{src:"/banner.png",alt:"Walking Guide Banner",className:"header-logo-mobile",style:{height:K?56:180,width:"auto",objectFit:"contain",display:"block"}})})}),K?i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"btn btn-link p-0 ms-auto",style:{fontSize:32,color:"#1a5bb8",background:"none",border:"none"},onClick:()=>$(he=>!he),"aria-label":"Open navigation menu",children:i.jsx("i",{className:"bi bi-list"})}),V&&i.jsxs("div",{ref:B,style:{position:"absolute",top:56,right:8,background:"#fff",boxShadow:"0 4px 16px rgba(60,72,100,0.15)",borderRadius:12,zIndex:1e4,minWidth:180,padding:12,display:"flex",flexDirection:"column",gap:10},children:[i.jsx(J2,{}),l&&i.jsxs(tn,{to:"/my-tours",className:"btn d-flex align-items-center text-decoration-none",style:{gap:8,fontSize:16,padding:6},onClick:()=>$(!1),children:[i.jsx("i",{className:"bi bi-person-walking",style:{fontSize:20,color:"#1a5bb8"}}),i.jsx("span",{style:{color:"#1a5bb8"},children:F("Your Bookings")})]}),l&&i.jsx(Z2,{}),i.jsxs("div",{className:"dropdown mt-2",children:[i.jsx("button",{className:"btn rounded-circle p-0 d-flex align-items-center justify-content-center border-0",style:{width:40,height:40,background:"none",boxShadow:"none"},onClick:()=>y(he=>!he),"aria-label":"User menu",children:l&&l.image_url?i.jsx("img",{src:l.image_url.startsWith("http")?l.image_url:`${re}${l.image_url}`,alt:"User Avatar",style:{width:36,height:36,objectFit:"cover",borderRadius:"50%",border:"2px solid #fff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}):i.jsx("i",{className:"bi bi-person-circle",style:{fontSize:28,color:"#1a5bb8",padding:0,background:"none"}})}),_&&i.jsx("div",{className:"dropdown-menu dropdown-menu-end show mt-2 p-3 shadow",style:{minWidth:220,right:0,left:"auto",position:"absolute",zIndex:10001},children:l?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-3 text-center",children:[l.image_url&&i.jsx("div",{className:"mb-2",children:i.jsx("img",{src:l.image_url.startsWith("http")?l.image_url:`${re}${l.image_url}`,alt:"User Avatar",style:{width:60,height:60,objectFit:"cover",borderRadius:"50%",border:"3px solid #fff",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}})}),i.jsx("div",{className:"fw-bold",style:{fontSize:"1.1rem"},children:l.full_name}),i.jsx("div",{className:"text-muted",style:{fontSize:"0.95rem"},children:l.email})]}),i.jsx("hr",{className:"my-2"}),l.role==="ADMIN"&&i.jsxs(tn,{to:"/admin",className:"dropdown-item text-decoration-none",onClick:()=>{y(!1),$(!1)},children:[i.jsx("i",{className:"bi bi-gear-wide-connected me-2"}),F("Admin Dashboard")]}),i.jsxs(tn,{to:"/users",className:"dropdown-item text-decoration-none me-2",onClick:()=>{y(!1),$(!1)},children:[i.jsx("i",{className:"bi bi-person-circle me-2"}),F("Profile")]}),i.jsxs(tn,{to:"/notifications",className:"dropdown-item text-decoration-none me-2",onClick:()=>{y(!1),$(!1)},children:[i.jsx("i",{className:"bi bi-bell me-2"}),F("Notifications")]}),i.jsxs("button",{className:"dropdown-item text-danger mt-2",onClick:()=>{be(),y(!1),$(!1)},children:[i.jsx("i",{className:"bi bi-box-arrow-right me-2"}),F("Logout")]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("button",{className:"dropdown-item",onClick:()=>{De(),$(!1)},children:[i.jsx("i",{className:"bi bi-box-arrow-in-right me-2"}),F("Login")]}),i.jsxs("button",{className:"dropdown-item",onClick:()=>{_e(),$(!1)},children:[i.jsx("i",{className:"bi bi-person-plus me-2"}),F("Register")]})]})})]})]})]}):i.jsxs("div",{className:"d-flex align-items-center gap-2 position-relative",ref:j,children:[i.jsx(J2,{}),l&&i.jsxs(tn,{to:"/my-tours",className:"btn d-flex align-items-center me-2 text-decoration-none",style:{gap:8},children:[i.jsx("i",{className:"bi bi-person-walking",style:{fontSize:20,color:"#1a5bb8"}}),i.jsx("span",{style:{color:"#1a5bb8"},children:F("Your Bookings")})]}),l&&i.jsx(Z2,{}),i.jsxs("div",{className:"dropdown",children:[i.jsx("button",{className:"btn rounded-circle p-0 d-flex align-items-center justify-content-center border-0",style:{width:48,height:48,background:"none",boxShadow:"none"},onClick:()=>y(he=>!he),"aria-label":"User menu",children:l&&l.image_url?i.jsx("img",{src:l.image_url.startsWith("http")?l.image_url:`${re}${l.image_url}`,alt:"User Avatar",style:{width:40,height:40,objectFit:"cover",borderRadius:"50%",border:"2px solid #fff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}):i.jsx("i",{className:"bi bi-person-circle",style:{fontSize:32,color:"#1a5bb8",padding:0,background:"none"}})}),_&&i.jsx("div",{className:"dropdown-menu dropdown-menu-end show mt-2 p-3 shadow",style:{minWidth:220,right:0,left:"auto"},children:l?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-3 text-center",children:[l.image_url&&i.jsx("div",{className:"mb-2",children:i.jsx("img",{src:l.image_url.startsWith("http")?l.image_url:`${re}${l.image_url}`,alt:"User Avatar",style:{width:60,height:60,objectFit:"cover",borderRadius:"50%",border:"3px solid #fff",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}})}),i.jsx("div",{className:"fw-bold",style:{fontSize:"1.1rem"},children:l.full_name}),i.jsx("div",{className:"text-muted",style:{fontSize:"0.95rem"},children:l.email})]}),i.jsx("hr",{className:"my-2"}),l.role==="ADMIN"&&i.jsxs(tn,{to:"/admin",className:"dropdown-item text-decoration-none",onClick:()=>y(!1),children:[i.jsx("i",{className:"bi bi-gear-wide-connected me-2"}),F("Admin Dashboard")]}),i.jsxs(tn,{to:"/users",className:"dropdown-item text-decoration-none me-2",onClick:()=>y(!1),children:[i.jsx("i",{className:"bi bi-person-circle me-2"}),F("Profile")]}),i.jsxs(tn,{to:"/notifications",className:"dropdown-item text-decoration-none me-2",onClick:()=>y(!1),children:[i.jsx("i",{className:"bi bi-bell me-2"}),F("Notifications")]}),i.jsxs("button",{className:"dropdown-item text-danger mt-2",onClick:be,children:[i.jsx("i",{className:"bi bi-box-arrow-right me-2"}),F("Logout")]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("button",{className:"dropdown-item",onClick:De,children:[i.jsx("i",{className:"bi bi-box-arrow-in-right me-2"}),F("Login")]}),i.jsxs("button",{className:"dropdown-item",onClick:_e,children:[i.jsx("i",{className:"bi bi-person-plus me-2"}),F("Register")]})]})})]})]})]})}),i.jsx(U5,{open:s,onClose:je,children:h==="login"?i.jsx(AV,{onSuccess:je,onLoginSuccess:ve,onSwitch:()=>g("register"),onForgotPassword:()=>D(!0)}):i.jsx(NV,{onSuccess:je,onSwitch:()=>g("login")})}),i.jsx(B3,{show:S,onClose:()=>D(!1)}),i.jsx(EV,{open:v,title:"Xác nhận đăng xuất",message:"Bạn có chắc chắn muốn đăng xuất?",onConfirm:ke,onCancel:we}),i.jsx(kA,{show:ee,onClose:oe,title:"Thành công",message:"Đăng xuất thành công!",type:"success",confirmText:"Đóng"}),i.jsx(kA,{show:le,onClose:()=>se(!1),title:"Thành công",message:q,type:"success",confirmText:"Đóng"})]})}const H3=()=>Ft.get("/settings/footer"),z$=l=>Ft.put("/settings/footer",l);function Yr(){const[l,c]=I.useState({}),{t:s}=xh();I.useEffect(()=>{let j=!0;return H3().then(B=>{j&&B.data&&B.data.success&&c(B.data.data||{})}).catch(()=>{}),()=>{j=!1}},[]);const o=l.footerDescription||s("Walking Guide là một trang web giúp bạn lên kế hoạch du lịch, và tìm kiếm các địa điểm du lịch gần bạn."),h=l.footerCopyright||s(`© ${new Date().getFullYear()} Walking Guide. All rights reserved.`),g=l.contactEmail||s("info@walkingguide.com"),_=l.contactPhone||s("+1 234 567 890"),y=l.contactAddress||s(""),v=l.facebookUrl||s("https://facebook.com"),N=l.instagramUrl||s("https://instagram.com"),S=l.twitterUrl||"https://twitter.com",D=l.youtubeUrl||"";return i.jsx("footer",{className:"luxury-footer",children:i.jsxs("div",{className:"container",children:[i.jsxs("div",{className:"row text-center text-md-start gy-4 align-items-start",children:[i.jsxs("div",{className:"col-12 col-md-3 mb-3 mb-md-0",children:[i.jsx("h5",{className:"mb-3",style:{color:"#b6e0fe"},children:s("About")}),i.jsx("p",{style:{fontSize:"1rem",color:"#e3f0ff",margin:0},children:o})]}),i.jsxs("div",{className:"col-12 col-md-3 mb-3 mb-md-0",children:[i.jsx("h5",{className:"mb-3",style:{color:"#b6e0fe"},children:s("Quick Links")}),i.jsxs("ul",{className:"list-unstyled",style:{fontSize:"1rem",color:"#e3f0ff",margin:0},children:[i.jsx("li",{children:i.jsx("a",{href:"/",style:{color:"#fff",textDecoration:"underline"},children:s("Home")})}),i.jsx("li",{children:i.jsx("a",{href:"/tours",style:{color:"#fff",textDecoration:"underline"},children:s("Tours")})}),i.jsx("li",{children:i.jsx("a",{href:"/places",style:{color:"#fff",textDecoration:"underline"},children:s("Places")})}),i.jsx("li",{children:i.jsx("a",{href:"/articles",style:{color:"#fff",textDecoration:"underline"},children:s("Articles")})})]})]}),i.jsxs("div",{className:"col-12 col-md-3 mb-3 mb-md-0",children:[i.jsx("h5",{className:"mb-3",style:{color:"#b6e0fe"},children:s("Contact")}),i.jsxs("p",{style:{fontSize:"1rem",color:"#e3f0ff",margin:0},children:[s("Email:")," ",i.jsx("a",{href:`mailto:${g}`,style:{color:"#fff",textDecoration:"underline"},children:g}),i.jsx("br",{}),s("Phone:")," ",i.jsx("a",{href:`tel:${_}`,style:{color:"#fff",textDecoration:"underline"},children:_}),y&&i.jsxs(i.Fragment,{children:[i.jsx("br",{}),s("Address:")," ",i.jsx("span",{style:{color:"#fff"},children:y})]})]})]}),i.jsxs("div",{className:"col-12 col-md-3 mb-3 mb-md-0",children:[i.jsx("h5",{className:"mb-3",style:{color:"#b6e0fe"},children:s("Follow Us")}),i.jsxs("div",{style:{fontSize:"1.5rem"},children:[v&&i.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",style:{margin:"0 8px",color:"#fff"},children:i.jsx("i",{className:"bi bi-facebook"})}),N&&i.jsx("a",{href:N,target:"_blank",rel:"noopener noreferrer",style:{margin:"0 8px",color:"#fff"},children:i.jsx("i",{className:"bi bi-instagram"})}),i.jsx("a",{href:S,target:"_blank",rel:"noopener noreferrer",style:{margin:"0 8px",color:"#fff"},children:i.jsx("i",{className:"bi bi-twitter-x"})}),D&&i.jsx("a",{href:D,target:"_blank",rel:"noopener noreferrer",style:{margin:"0 8px",color:"#fff"},children:i.jsx("i",{className:"bi bi-youtube"})})]}),i.jsxs("div",{style:{fontSize:"0.95rem",color:"#b6e0fe",marginTop:8},children:[s("Developed by")," ",i.jsx("a",{href:"https://github.com/yourteam",target:"_blank",rel:"noopener noreferrer",style:{color:"#fff",textDecoration:"underline"},children:"Walking Guide Team"})]})]})]}),i.jsx("hr",{style:{borderColor:"#b6e0fe",opacity:.3,margin:"1.5rem 0"}}),i.jsx("div",{className:"text-center",style:{fontSize:"1rem",color:"#e3f0ff"},children:h})]})})}class F$ extends nt.Component{constructor(){super(...arguments);rn(this,"state",{hasError:!1})}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?i.jsx("div",{className:"text-danger text-center",children:"Lỗi hiển thị bản đồ. Vui lòng thử lại sau."}):this.props.children}}function V3(l,c){const s=I.useRef(c);I.useEffect(function(){c!==s.current&&l.attributionControl!=null&&(s.current!=null&&l.attributionControl.removeAttribution(s.current),c!=null&&l.attributionControl.addAttribution(c)),s.current=c},[l,c])}const H$=1;function V$(l){return Object.freeze({__version:H$,map:l})}function U3(l,c){return Object.freeze({...l,...c})}const GA=I.createContext(null);function nw(){const l=I.use(GA);if(l==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return l}function $3(l){function c(s,o){const{instance:h,context:g}=l(s).current;I.useImperativeHandle(o,()=>h);const{children:_}=s;return _==null?null:nt.createElement(GA,{value:g},_)}return I.forwardRef(c)}function U$(l){function c(s,o){const[h,g]=I.useState(!1),{instance:_}=l(s,g).current;I.useImperativeHandle(o,()=>_),I.useEffect(function(){h&&_.update()},[_,h,s.children]);const y=_._contentNode;return y?LA.createPortal(s.children,y):null}return I.forwardRef(c)}function $$(l){function c(s,o){const{instance:h}=l(s).current;return I.useImperativeHandle(o,()=>h),null}return I.forwardRef(c)}function KA(l,c){const s=I.useRef(void 0);I.useEffect(function(){return c!=null&&l.instance.on(c),s.current=c,function(){s.current!=null&&l.instance.off(s.current),s.current=null}},[l,c])}function iw(l,c){const s=l.pane??c.pane;return s?{...l,pane:s}:l}function q$(l,c){return function(o,h){const g=nw(),_=l(iw(o,g),g);return V3(g.map,o.attribution),KA(_.current,o.eventHandlers),c(_.current,g,o,h),_}}var ob={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var W$=ob.exports,kT;function Y$(){return kT||(kT=1,function(l,c){(function(s,o){o(c)})(W$,function(s){var o="1.9.4";function h(p){var x,T,H,G;for(T=1,H=arguments.length;T<H;T++){G=arguments[T];for(x in G)p[x]=G[x]}return p}var g=Object.create||function(){function p(){}return function(x){return p.prototype=x,new p}}();function _(p,x){var T=Array.prototype.slice;if(p.bind)return p.bind.apply(p,T.call(arguments,1));var H=T.call(arguments,2);return function(){return p.apply(x,H.length?H.concat(T.call(arguments)):arguments)}}var y=0;function v(p){return"_leaflet_id"in p||(p._leaflet_id=++y),p._leaflet_id}function N(p,x,T){var H,G,ie,Ae;return Ae=function(){H=!1,G&&(ie.apply(T,G),G=!1)},ie=function(){H?G=arguments:(p.apply(T,arguments),setTimeout(Ae,x),H=!0)},ie}function S(p,x,T){var H=x[1],G=x[0],ie=H-G;return p===H&&T?p:((p-G)%ie+ie)%ie+G}function D(){return!1}function j(p,x){if(x===!1)return p;var T=Math.pow(10,x===void 0?6:x);return Math.round(p*T)/T}function B(p){return p.trim?p.trim():p.replace(/^\s+|\s+$/g,"")}function F(p){return B(p).split(/\s+/)}function V(p,x){Object.prototype.hasOwnProperty.call(p,"options")||(p.options=p.options?g(p.options):{});for(var T in x)p.options[T]=x[T];return p.options}function $(p,x,T){var H=[];for(var G in p)H.push(encodeURIComponent(T?G.toUpperCase():G)+"="+encodeURIComponent(p[G]));return(!x||x.indexOf("?")===-1?"?":"&")+H.join("&")}var K=/\{ *([\w_ -]+) *\}/g;function Q(p,x){return p.replace(K,function(T,H){var G=x[H];if(G===void 0)throw new Error("No value provided for variable "+T);return typeof G=="function"&&(G=G(x)),G})}var ee=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"};function ne(p,x){for(var T=0;T<p.length;T++)if(p[T]===x)return T;return-1}var le="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function se(p){return window["webkit"+p]||window["moz"+p]||window["ms"+p]}var q=0;function de(p){var x=+new Date,T=Math.max(0,16-(x-q));return q=x+T,window.setTimeout(p,T)}var re=window.requestAnimationFrame||se("RequestAnimationFrame")||de,be=window.cancelAnimationFrame||se("CancelAnimationFrame")||se("CancelRequestAnimationFrame")||function(p){window.clearTimeout(p)};function ke(p,x,T){if(T&&re===de)p.call(x);else return re.call(window,_(p,x))}function we(p){p&&be.call(window,p)}var De={__proto__:null,extend:h,create:g,bind:_,get lastId(){return y},stamp:v,throttle:N,wrapNum:S,falseFn:D,formatNum:j,trim:B,splitWords:F,setOptions:V,getParamString:$,template:Q,isArray:ee,indexOf:ne,emptyImageUrl:le,requestFn:re,cancelFn:be,requestAnimFrame:ke,cancelAnimFrame:we};function _e(){}_e.extend=function(p){var x=function(){V(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},T=x.__super__=this.prototype,H=g(T);H.constructor=x,x.prototype=H;for(var G in this)Object.prototype.hasOwnProperty.call(this,G)&&G!=="prototype"&&G!=="__super__"&&(x[G]=this[G]);return p.statics&&h(x,p.statics),p.includes&&(je(p.includes),h.apply(null,[H].concat(p.includes))),h(H,p),delete H.statics,delete H.includes,H.options&&(H.options=T.options?g(T.options):{},h(H.options,p.options)),H._initHooks=[],H.callInitHooks=function(){if(!this._initHooksCalled){T.callInitHooks&&T.callInitHooks.call(this),this._initHooksCalled=!0;for(var ie=0,Ae=H._initHooks.length;ie<Ae;ie++)H._initHooks[ie].call(this)}},x},_e.include=function(p){var x=this.prototype.options;return h(this.prototype,p),p.options&&(this.prototype.options=x,this.mergeOptions(p.options)),this},_e.mergeOptions=function(p){return h(this.prototype.options,p),this},_e.addInitHook=function(p){var x=Array.prototype.slice.call(arguments,1),T=typeof p=="function"?p:function(){this[p].apply(this,x)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(T),this};function je(p){if(!(typeof L>"u"||!L||!L.Mixin)){p=ee(p)?p:[p];for(var x=0;x<p.length;x++)p[x]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var oe={on:function(p,x,T){if(typeof p=="object")for(var H in p)this._on(H,p[H],x);else{p=F(p);for(var G=0,ie=p.length;G<ie;G++)this._on(p[G],x,T)}return this},off:function(p,x,T){if(!arguments.length)delete this._events;else if(typeof p=="object")for(var H in p)this._off(H,p[H],x);else{p=F(p);for(var G=arguments.length===1,ie=0,Ae=p.length;ie<Ae;ie++)G?this._off(p[ie]):this._off(p[ie],x,T)}return this},_on:function(p,x,T,H){if(typeof x!="function"){console.warn("wrong listener type: "+typeof x);return}if(this._listens(p,x,T)===!1){T===this&&(T=void 0);var G={fn:x,ctx:T};H&&(G.once=!0),this._events=this._events||{},this._events[p]=this._events[p]||[],this._events[p].push(G)}},_off:function(p,x,T){var H,G,ie;if(this._events&&(H=this._events[p],!!H)){if(arguments.length===1){if(this._firingCount)for(G=0,ie=H.length;G<ie;G++)H[G].fn=D;delete this._events[p];return}if(typeof x!="function"){console.warn("wrong listener type: "+typeof x);return}var Ae=this._listens(p,x,T);if(Ae!==!1){var Ye=H[Ae];this._firingCount&&(Ye.fn=D,this._events[p]=H=H.slice()),H.splice(Ae,1)}}},fire:function(p,x,T){if(!this.listens(p,T))return this;var H=h({},x,{type:p,target:this,sourceTarget:x&&x.sourceTarget||this});if(this._events){var G=this._events[p];if(G){this._firingCount=this._firingCount+1||1;for(var ie=0,Ae=G.length;ie<Ae;ie++){var Ye=G[ie],Ve=Ye.fn;Ye.once&&this.off(p,Ve,Ye.ctx),Ve.call(Ye.ctx||this,H)}this._firingCount--}}return T&&this._propagateEvent(H),this},listens:function(p,x,T,H){typeof p!="string"&&console.warn('"string" type argument expected');var G=x;typeof x!="function"&&(H=!!x,G=void 0,T=void 0);var ie=this._events&&this._events[p];if(ie&&ie.length&&this._listens(p,G,T)!==!1)return!0;if(H){for(var Ae in this._eventParents)if(this._eventParents[Ae].listens(p,x,T,H))return!0}return!1},_listens:function(p,x,T){if(!this._events)return!1;var H=this._events[p]||[];if(!x)return!!H.length;T===this&&(T=void 0);for(var G=0,ie=H.length;G<ie;G++)if(H[G].fn===x&&H[G].ctx===T)return G;return!1},once:function(p,x,T){if(typeof p=="object")for(var H in p)this._on(H,p[H],x,!0);else{p=F(p);for(var G=0,ie=p.length;G<ie;G++)this._on(p[G],x,T,!0)}return this},addEventParent:function(p){return this._eventParents=this._eventParents||{},this._eventParents[v(p)]=p,this},removeEventParent:function(p){return this._eventParents&&delete this._eventParents[v(p)],this},_propagateEvent:function(p){for(var x in this._eventParents)this._eventParents[x].fire(p.type,h({layer:p.target,propagatedFrom:p.target},p),!0)}};oe.addEventListener=oe.on,oe.removeEventListener=oe.clearAllEventListeners=oe.off,oe.addOneTimeEventListener=oe.once,oe.fireEvent=oe.fire,oe.hasEventListeners=oe.listens;var ve=_e.extend(oe);function he(p,x,T){this.x=T?Math.round(p):p,this.y=T?Math.round(x):x}var Ee=Math.trunc||function(p){return p>0?Math.floor(p):Math.ceil(p)};he.prototype={clone:function(){return new he(this.x,this.y)},add:function(p){return this.clone()._add(Z(p))},_add:function(p){return this.x+=p.x,this.y+=p.y,this},subtract:function(p){return this.clone()._subtract(Z(p))},_subtract:function(p){return this.x-=p.x,this.y-=p.y,this},divideBy:function(p){return this.clone()._divideBy(p)},_divideBy:function(p){return this.x/=p,this.y/=p,this},multiplyBy:function(p){return this.clone()._multiplyBy(p)},_multiplyBy:function(p){return this.x*=p,this.y*=p,this},scaleBy:function(p){return new he(this.x*p.x,this.y*p.y)},unscaleBy:function(p){return new he(this.x/p.x,this.y/p.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ee(this.x),this.y=Ee(this.y),this},distanceTo:function(p){p=Z(p);var x=p.x-this.x,T=p.y-this.y;return Math.sqrt(x*x+T*T)},equals:function(p){return p=Z(p),p.x===this.x&&p.y===this.y},contains:function(p){return p=Z(p),Math.abs(p.x)<=Math.abs(this.x)&&Math.abs(p.y)<=Math.abs(this.y)},toString:function(){return"Point("+j(this.x)+", "+j(this.y)+")"}};function Z(p,x,T){return p instanceof he?p:ee(p)?new he(p[0],p[1]):p==null?p:typeof p=="object"&&"x"in p&&"y"in p?new he(p.x,p.y):new he(p,x,T)}function fe(p,x){if(p)for(var T=x?[p,x]:p,H=0,G=T.length;H<G;H++)this.extend(T[H])}fe.prototype={extend:function(p){var x,T;if(!p)return this;if(p instanceof he||typeof p[0]=="number"||"x"in p)x=T=Z(p);else if(p=Ce(p),x=p.min,T=p.max,!x||!T)return this;return!this.min&&!this.max?(this.min=x.clone(),this.max=T.clone()):(this.min.x=Math.min(x.x,this.min.x),this.max.x=Math.max(T.x,this.max.x),this.min.y=Math.min(x.y,this.min.y),this.max.y=Math.max(T.y,this.max.y)),this},getCenter:function(p){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,p)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(p){var x,T;return typeof p[0]=="number"||p instanceof he?p=Z(p):p=Ce(p),p instanceof fe?(x=p.min,T=p.max):x=T=p,x.x>=this.min.x&&T.x<=this.max.x&&x.y>=this.min.y&&T.y<=this.max.y},intersects:function(p){p=Ce(p);var x=this.min,T=this.max,H=p.min,G=p.max,ie=G.x>=x.x&&H.x<=T.x,Ae=G.y>=x.y&&H.y<=T.y;return ie&&Ae},overlaps:function(p){p=Ce(p);var x=this.min,T=this.max,H=p.min,G=p.max,ie=G.x>x.x&&H.x<T.x,Ae=G.y>x.y&&H.y<T.y;return ie&&Ae},isValid:function(){return!!(this.min&&this.max)},pad:function(p){var x=this.min,T=this.max,H=Math.abs(x.x-T.x)*p,G=Math.abs(x.y-T.y)*p;return Ce(Z(x.x-H,x.y-G),Z(T.x+H,T.y+G))},equals:function(p){return p?(p=Ce(p),this.min.equals(p.getTopLeft())&&this.max.equals(p.getBottomRight())):!1}};function Ce(p,x){return!p||p instanceof fe?p:new fe(p,x)}function Se(p,x){if(p)for(var T=x?[p,x]:p,H=0,G=T.length;H<G;H++)this.extend(T[H])}Se.prototype={extend:function(p){var x=this._southWest,T=this._northEast,H,G;if(p instanceof et)H=p,G=p;else if(p instanceof Se){if(H=p._southWest,G=p._northEast,!H||!G)return this}else return p?this.extend(pe(p)||He(p)):this;return!x&&!T?(this._southWest=new et(H.lat,H.lng),this._northEast=new et(G.lat,G.lng)):(x.lat=Math.min(H.lat,x.lat),x.lng=Math.min(H.lng,x.lng),T.lat=Math.max(G.lat,T.lat),T.lng=Math.max(G.lng,T.lng)),this},pad:function(p){var x=this._southWest,T=this._northEast,H=Math.abs(x.lat-T.lat)*p,G=Math.abs(x.lng-T.lng)*p;return new Se(new et(x.lat-H,x.lng-G),new et(T.lat+H,T.lng+G))},getCenter:function(){return new et((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new et(this.getNorth(),this.getWest())},getSouthEast:function(){return new et(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(p){typeof p[0]=="number"||p instanceof et||"lat"in p?p=pe(p):p=He(p);var x=this._southWest,T=this._northEast,H,G;return p instanceof Se?(H=p.getSouthWest(),G=p.getNorthEast()):H=G=p,H.lat>=x.lat&&G.lat<=T.lat&&H.lng>=x.lng&&G.lng<=T.lng},intersects:function(p){p=He(p);var x=this._southWest,T=this._northEast,H=p.getSouthWest(),G=p.getNorthEast(),ie=G.lat>=x.lat&&H.lat<=T.lat,Ae=G.lng>=x.lng&&H.lng<=T.lng;return ie&&Ae},overlaps:function(p){p=He(p);var x=this._southWest,T=this._northEast,H=p.getSouthWest(),G=p.getNorthEast(),ie=G.lat>x.lat&&H.lat<T.lat,Ae=G.lng>x.lng&&H.lng<T.lng;return ie&&Ae},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(p,x){return p?(p=He(p),this._southWest.equals(p.getSouthWest(),x)&&this._northEast.equals(p.getNorthEast(),x)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function He(p,x){return p instanceof Se?p:new Se(p,x)}function et(p,x,T){if(isNaN(p)||isNaN(x))throw new Error("Invalid LatLng object: ("+p+", "+x+")");this.lat=+p,this.lng=+x,T!==void 0&&(this.alt=+T)}et.prototype={equals:function(p,x){if(!p)return!1;p=pe(p);var T=Math.max(Math.abs(this.lat-p.lat),Math.abs(this.lng-p.lng));return T<=(x===void 0?1e-9:x)},toString:function(p){return"LatLng("+j(this.lat,p)+", "+j(this.lng,p)+")"},distanceTo:function(p){return Ie.distance(this,pe(p))},wrap:function(){return Ie.wrapLatLng(this)},toBounds:function(p){var x=180*p/40075017,T=x/Math.cos(Math.PI/180*this.lat);return He([this.lat-x,this.lng-T],[this.lat+x,this.lng+T])},clone:function(){return new et(this.lat,this.lng,this.alt)}};function pe(p,x,T){return p instanceof et?p:ee(p)&&typeof p[0]!="object"?p.length===3?new et(p[0],p[1],p[2]):p.length===2?new et(p[0],p[1]):null:p==null?p:typeof p=="object"&&"lat"in p?new et(p.lat,"lng"in p?p.lng:p.lon,p.alt):x===void 0?null:new et(p,x,T)}var me={latLngToPoint:function(p,x){var T=this.projection.project(p),H=this.scale(x);return this.transformation._transform(T,H)},pointToLatLng:function(p,x){var T=this.scale(x),H=this.transformation.untransform(p,T);return this.projection.unproject(H)},project:function(p){return this.projection.project(p)},unproject:function(p){return this.projection.unproject(p)},scale:function(p){return 256*Math.pow(2,p)},zoom:function(p){return Math.log(p/256)/Math.LN2},getProjectedBounds:function(p){if(this.infinite)return null;var x=this.projection.bounds,T=this.scale(p),H=this.transformation.transform(x.min,T),G=this.transformation.transform(x.max,T);return new fe(H,G)},infinite:!1,wrapLatLng:function(p){var x=this.wrapLng?S(p.lng,this.wrapLng,!0):p.lng,T=this.wrapLat?S(p.lat,this.wrapLat,!0):p.lat,H=p.alt;return new et(T,x,H)},wrapLatLngBounds:function(p){var x=p.getCenter(),T=this.wrapLatLng(x),H=x.lat-T.lat,G=x.lng-T.lng;if(H===0&&G===0)return p;var ie=p.getSouthWest(),Ae=p.getNorthEast(),Ye=new et(ie.lat-H,ie.lng-G),Ve=new et(Ae.lat-H,Ae.lng-G);return new Se(Ye,Ve)}},Ie=h({},me,{wrapLng:[-180,180],R:6371e3,distance:function(p,x){var T=Math.PI/180,H=p.lat*T,G=x.lat*T,ie=Math.sin((x.lat-p.lat)*T/2),Ae=Math.sin((x.lng-p.lng)*T/2),Ye=ie*ie+Math.cos(H)*Math.cos(G)*Ae*Ae,Ve=2*Math.atan2(Math.sqrt(Ye),Math.sqrt(1-Ye));return this.R*Ve}}),We=6378137,Le={R:We,MAX_LATITUDE:85.0511287798,project:function(p){var x=Math.PI/180,T=this.MAX_LATITUDE,H=Math.max(Math.min(T,p.lat),-T),G=Math.sin(H*x);return new he(this.R*p.lng*x,this.R*Math.log((1+G)/(1-G))/2)},unproject:function(p){var x=180/Math.PI;return new et((2*Math.atan(Math.exp(p.y/this.R))-Math.PI/2)*x,p.x*x/this.R)},bounds:function(){var p=We*Math.PI;return new fe([-p,-p],[p,p])}()};function st(p,x,T,H){if(ee(p)){this._a=p[0],this._b=p[1],this._c=p[2],this._d=p[3];return}this._a=p,this._b=x,this._c=T,this._d=H}st.prototype={transform:function(p,x){return this._transform(p.clone(),x)},_transform:function(p,x){return x=x||1,p.x=x*(this._a*p.x+this._b),p.y=x*(this._c*p.y+this._d),p},untransform:function(p,x){return x=x||1,new he((p.x/x-this._b)/this._a,(p.y/x-this._d)/this._c)}};function Ge(p,x,T,H){return new st(p,x,T,H)}var Oe=h({},Ie,{code:"EPSG:3857",projection:Le,transformation:function(){var p=.5/(Math.PI*Le.R);return Ge(p,.5,-p,.5)}()}),ut=h({},Oe,{code:"EPSG:900913"});function Fe(p){return document.createElementNS("http://www.w3.org/2000/svg",p)}function ht(p,x){var T="",H,G,ie,Ae,Ye,Ve;for(H=0,ie=p.length;H<ie;H++){for(Ye=p[H],G=0,Ae=Ye.length;G<Ae;G++)Ve=Ye[G],T+=(G?"L":"M")+Ve.x+" "+Ve.y;T+=x?ye.svg?"z":"x":""}return T||"M0 0"}var Pt=document.documentElement.style,en="ActiveXObject"in window,at=en&&!document.addEventListener,jt="msLaunchUri"in navigator&&!("documentMode"in document),Dt=fi("webkit"),Qe=fi("android"),Tt=fi("android 2")||fi("android 3"),Ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),$e=Qe&&fi("Google")&&Ot<537&&!("AudioNode"in window),bt=!!window.opera,$t=!jt&&fi("chrome"),fn=fi("gecko")&&!Dt&&!bt&&!en,Rn=!$t&&fi("safari"),vn=fi("phantom"),ai="OTransition"in Pt,ci=navigator.platform.indexOf("Win")===0,Ar=en&&"transition"in Pt,nr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Tt,Li="MozPerspective"in Pt,ni=!window.L_DISABLE_3D&&(Ar||nr||Li)&&!ai&&!vn,Xn=typeof orientation<"u"||fi("mobile"),$s=Xn&&Dt,di=Xn&&nr,ir=!window.PointerEvent&&window.MSPointerEvent,kr=!!(window.PointerEvent||ir),rr="ontouchstart"in window||!!window.TouchEvent,Nr=!window.L_NO_TOUCH&&(rr||kr),qe=Xn&&bt,Zt=Xn&&fn,rt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Re=function(){var p=!1;try{var x=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("testPassiveEventSupport",D,x),window.removeEventListener("testPassiveEventSupport",D,x)}catch{}return p}(),Lt=function(){return!!document.createElement("canvas").getContext}(),ft=!!(document.createElementNS&&Fe("svg").createSVGRect),Bt=!!ft&&function(){var p=document.createElement("div");return p.innerHTML="<svg/>",(p.firstChild&&p.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),an=!ft&&function(){try{var p=document.createElement("div");p.innerHTML='<v:shape adj="1"/>';var x=p.firstChild;return x.style.behavior="url(#default#VML)",x&&typeof x.adj=="object"}catch{return!1}}(),On=navigator.platform.indexOf("Mac")===0,Sn=navigator.platform.indexOf("Linux")===0;function fi(p){return navigator.userAgent.toLowerCase().indexOf(p)>=0}var ye={ie:en,ielt9:at,edge:jt,webkit:Dt,android:Qe,android23:Tt,androidStock:$e,opera:bt,chrome:$t,gecko:fn,safari:Rn,phantom:vn,opera12:ai,win:ci,ie3d:Ar,webkit3d:nr,gecko3d:Li,any3d:ni,mobile:Xn,mobileWebkit:$s,mobileWebkit3d:di,msPointer:ir,pointer:kr,touch:Nr,touchNative:rr,mobileOpera:qe,mobileGecko:Zt,retina:rt,passiveEvents:Re,canvas:Lt,svg:ft,vml:an,inlineSvg:Bt,mac:On,linux:Sn},dt=ye.msPointer?"MSPointerDown":"pointerdown",xt=ye.msPointer?"MSPointerMove":"pointermove",ln=ye.msPointer?"MSPointerUp":"pointerup",qn=ye.msPointer?"MSPointerCancel":"pointercancel",Te={touchstart:dt,touchmove:xt,touchend:ln,touchcancel:qn},Et={touchstart:mo,touchmove:Pr,touchend:Pr,touchcancel:Pr},Mt={},wn=!1;function qt(p,x,T){return x==="touchstart"&&Rr(),Et[x]?(T=Et[x].bind(this,T),p.addEventListener(Te[x],T,!1),T):(console.warn("wrong event specified:",x),D)}function jn(p,x,T){if(!Te[x]){console.warn("wrong event specified:",x);return}p.removeEventListener(Te[x],T,!1)}function Wn(p){Mt[p.pointerId]=p}function ii(p){Mt[p.pointerId]&&(Mt[p.pointerId]=p)}function pi(p){delete Mt[p.pointerId]}function Rr(){wn||(document.addEventListener(dt,Wn,!0),document.addEventListener(xt,ii,!0),document.addEventListener(ln,pi,!0),document.addEventListener(qn,pi,!0),wn=!0)}function Pr(p,x){if(x.pointerType!==(x.MSPOINTER_TYPE_MOUSE||"mouse")){x.touches=[];for(var T in Mt)x.touches.push(Mt[T]);x.changedTouches=[x],p(x)}}function mo(p,x){x.MSPOINTER_TYPE_TOUCH&&x.pointerType===x.MSPOINTER_TYPE_TOUCH&&Tn(x),Pr(p,x)}function Nc(p){var x={},T,H;for(H in p)T=p[H],x[H]=T&&T.bind?T.bind(p):T;return p=x,x.type="dblclick",x.detail=2,x.isTrusted=!1,x._simulated=!0,x}var _a=200;function fo(p,x){p.addEventListener("dblclick",x);var T=0,H;function G(ie){if(ie.detail!==1){H=ie.detail;return}if(!(ie.pointerType==="mouse"||ie.sourceCapabilities&&!ie.sourceCapabilities.firesTouchEvents)){var Ae=ql(ie);if(!(Ae.some(function(Ve){return Ve instanceof HTMLLabelElement&&Ve.attributes.for})&&!Ae.some(function(Ve){return Ve instanceof HTMLInputElement||Ve instanceof HTMLSelectElement}))){var Ye=Date.now();Ye-T<=_a?(H++,H===2&&x(Nc(ie))):H=1,T=Ye}}}return p.addEventListener("click",G),{dblclick:x,simDblclick:G}}function qs(p,x){p.removeEventListener("dblclick",x.dblclick),p.removeEventListener("click",x.simDblclick)}var Kr=Ws(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),us=Ws(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),hs=us==="webkitTransition"||us==="OTransition"?us+"End":"transitionend";function Fa(p){return typeof p=="string"?document.getElementById(p):p}function po(p,x){var T=p.style[x]||p.currentStyle&&p.currentStyle[x];if((!T||T==="auto")&&document.defaultView){var H=document.defaultView.getComputedStyle(p,null);T=H?H[x]:null}return T==="auto"?null:T}function Yn(p,x,T){var H=document.createElement(p);return H.className=x||"",T&&T.appendChild(H),H}function _i(p){var x=p.parentNode;x&&x.removeChild(p)}function _r(p){for(;p.firstChild;)p.removeChild(p.firstChild)}function To(p){var x=p.parentNode;x&&x.lastChild!==p&&x.appendChild(p)}function Jo(p){var x=p.parentNode;x&&x.firstChild!==p&&x.insertBefore(p,x.firstChild)}function Qr(p,x){if(p.classList!==void 0)return p.classList.contains(x);var T=Mi(p);return T.length>0&&new RegExp("(^|\\s)"+x+"(\\s|$)").test(T)}function Nn(p,x){if(p.classList!==void 0)for(var T=F(x),H=0,G=T.length;H<G;H++)p.classList.add(T[H]);else if(!Qr(p,x)){var ie=Mi(p);Er(p,(ie?ie+" ":"")+x)}}function Gn(p,x){p.classList!==void 0?p.classList.remove(x):Er(p,B((" "+Mi(p)+" ").replace(" "+x+" "," ")))}function Er(p,x){p.className.baseVal===void 0?p.className=x:p.className.baseVal=x}function Mi(p){return p.correspondingElement&&(p=p.correspondingElement),p.className.baseVal===void 0?p.className:p.className.baseVal}function Ei(p,x){"opacity"in p.style?p.style.opacity=x:"filter"in p.style&&Ha(p,x)}function Ha(p,x){var T=!1,H="DXImageTransform.Microsoft.Alpha";try{T=p.filters.item(H)}catch{if(x===1)return}x=Math.round(x*100),T?(T.Enabled=x!==100,T.Opacity=x):p.style.filter+=" progid:"+H+"(opacity="+x+")"}function Ws(p){for(var x=document.documentElement.style,T=0;T<p.length;T++)if(p[T]in x)return p[T];return!1}function $i(p,x,T){var H=x||new he(0,0);p.style[Kr]=(ye.ie3d?"translate("+H.x+"px,"+H.y+"px)":"translate3d("+H.x+"px,"+H.y+"px,0)")+(T?" scale("+T+")":"")}function Vn(p,x){p._leaflet_pos=x,ye.any3d?$i(p,x):(p.style.left=x.x+"px",p.style.top=x.y+"px")}function zr(p){return p._leaflet_pos||new he(0,0)}var Sr,ms,Ys;if("onselectstart"in document)Sr=function(){Xt(window,"selectstart",Tn)},ms=function(){Jn(window,"selectstart",Tn)};else{var xs=Ws(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Sr=function(){if(xs){var p=document.documentElement.style;Ys=p[xs],p[xs]="none"}},ms=function(){xs&&(document.documentElement.style[xs]=Ys,Ys=void 0)}}function Gs(){Xt(window,"dragstart",Tn)}function xe(){Jn(window,"dragstart",Tn)}var Ct,nn;function Dn(p){for(;p.tabIndex===-1;)p=p.parentNode;p.style&&(vi(),Ct=p,nn=p.style.outlineStyle,p.style.outlineStyle="none",Xt(window,"keydown",vi))}function vi(){Ct&&(Ct.style.outlineStyle=nn,Ct=void 0,nn=void 0,Jn(window,"keydown",vi))}function Hi(p){do p=p.parentNode;while((!p.offsetWidth||!p.offsetHeight)&&p!==document.body);return p}function wi(p){var x=p.getBoundingClientRect();return{x:x.width/p.offsetWidth||1,y:x.height/p.offsetHeight||1,boundingClientRect:x}}var hl={__proto__:null,TRANSFORM:Kr,TRANSITION:us,TRANSITION_END:hs,get:Fa,getStyle:po,create:Yn,remove:_i,empty:_r,toFront:To,toBack:Jo,hasClass:Qr,addClass:Nn,removeClass:Gn,setClass:Er,getClass:Mi,setOpacity:Ei,testProp:Ws,setTransform:$i,setPosition:Vn,getPosition:zr,get disableTextSelection(){return Sr},get enableTextSelection(){return ms},disableImageDrag:Gs,enableImageDrag:xe,preventOutline:Dn,restoreOutline:vi,getSizedParentNode:Hi,getScale:wi};function Xt(p,x,T,H){if(x&&typeof x=="object")for(var G in x)va(p,G,x[G],T);else{x=F(x);for(var ie=0,Ae=x.length;ie<Ae;ie++)va(p,x[ie],T,H)}return this}var qi="_leaflet_events";function Jn(p,x,T,H){if(arguments.length===1)fs(p),delete p[qi];else if(x&&typeof x=="object")for(var G in x)Zr(p,G,x[G],T);else if(x=F(x),arguments.length===2)fs(p,function(Ye){return ne(x,Ye)!==-1});else for(var ie=0,Ae=x.length;ie<Ae;ie++)Zr(p,x[ie],T,H);return this}function fs(p,x){for(var T in p[qi]){var H=T.split(/\d/)[0];(!x||x(H))&&Zr(p,H,null,null,T)}}var go={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function va(p,x,T,H){var G=x+v(T)+(H?"_"+v(H):"");if(p[qi]&&p[qi][G])return this;var ie=function(Ye){return T.call(H||p,Ye||window.event)},Ae=ie;!ye.touchNative&&ye.pointer&&x.indexOf("touch")===0?ie=qt(p,x,ie):ye.touch&&x==="dblclick"?ie=fo(p,ie):"addEventListener"in p?x==="touchstart"||x==="touchmove"||x==="wheel"||x==="mousewheel"?p.addEventListener(go[x]||x,ie,ye.passiveEvents?{passive:!1}:!1):x==="mouseenter"||x==="mouseleave"?(ie=function(Ye){Ye=Ye||window.event,ps(p,Ye)&&Ae(Ye)},p.addEventListener(go[x],ie,!1)):p.addEventListener(x,Ae,!1):p.attachEvent("on"+x,ie),p[qi]=p[qi]||{},p[qi][G]=ie}function Zr(p,x,T,H,G){G=G||x+v(T)+(H?"_"+v(H):"");var ie=p[qi]&&p[qi][G];if(!ie)return this;!ye.touchNative&&ye.pointer&&x.indexOf("touch")===0?jn(p,x,ie):ye.touch&&x==="dblclick"?qs(p,ie):"removeEventListener"in p?p.removeEventListener(go[x]||x,ie,!1):p.detachEvent("on"+x,ie),p[qi][G]=null}function bo(p){return p.stopPropagation?p.stopPropagation():p.originalEvent?p.originalEvent._stopped=!0:p.cancelBubble=!0,this}function Ks(p){return va(p,"wheel",bo),this}function Mo(p){return Xt(p,"mousedown touchstart dblclick contextmenu",bo),p._leaflet_disable_click=!0,this}function Tn(p){return p.preventDefault?p.preventDefault():p.returnValue=!1,this}function Cs(p){return Tn(p),bo(p),this}function ql(p){if(p.composedPath)return p.composedPath();for(var x=[],T=p.target;T;)x.push(T),T=T.parentNode;return x}function jr(p,x){if(!x)return new he(p.clientX,p.clientY);var T=wi(x),H=T.boundingClientRect;return new he((p.clientX-H.left)/T.x-x.clientLeft,(p.clientY-H.top)/T.y-x.clientTop)}var As=ye.linux&&ye.chrome?window.devicePixelRatio:ye.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ea(p){return ye.edge?p.wheelDeltaY/2:p.deltaY&&p.deltaMode===0?-p.deltaY/As:p.deltaY&&p.deltaMode===1?-p.deltaY*20:p.deltaY&&p.deltaMode===2?-p.deltaY*60:p.deltaX||p.deltaZ?0:p.wheelDelta?(p.wheelDeltaY||p.wheelDelta)/2:p.detail&&Math.abs(p.detail)<32765?-p.detail*20:p.detail?p.detail/-32765*60:0}function ps(p,x){var T=x.relatedTarget;if(!T)return!0;try{for(;T&&T!==p;)T=T.parentNode}catch{return!1}return T!==p}var Cd={__proto__:null,on:Xt,off:Jn,stopPropagation:bo,disableScrollPropagation:Ks,disableClickPropagation:Mo,preventDefault:Tn,stop:Cs,getPropagationPath:ql,getMousePosition:jr,getWheelDelta:ea,isExternalTarget:ps,addListener:Xt,removeListener:Jn},Io=ve.extend({run:function(p,x,T,H){this.stop(),this._el=p,this._inProgress=!0,this._duration=T||.25,this._easeOutPower=1/Math.max(H||.5,.2),this._startPos=zr(p),this._offset=x.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ke(this._animate,this),this._step()},_step:function(p){var x=+new Date-this._startTime,T=this._duration*1e3;x<T?this._runFrame(this._easeOut(x/T),p):(this._runFrame(1),this._complete())},_runFrame:function(p,x){var T=this._startPos.add(this._offset.multiplyBy(p));x&&T._round(),Vn(this._el,T),this.fire("step")},_complete:function(){we(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(p){return 1-Math.pow(1-p,this._easeOutPower)}}),Pn=ve.extend({options:{crs:Oe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(p,x){x=V(this,x),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(p),this._initLayout(),this._onResize=_(this._onResize,this),this._initEvents(),x.maxBounds&&this.setMaxBounds(x.maxBounds),x.zoom!==void 0&&(this._zoom=this._limitZoom(x.zoom)),x.center&&x.zoom!==void 0&&this.setView(pe(x.center),x.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=us&&ye.any3d&&!ye.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Xt(this._proxy,hs,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(p,x,T){if(x=x===void 0?this._zoom:this._limitZoom(x),p=this._limitCenter(pe(p),x,this.options.maxBounds),T=T||{},this._stop(),this._loaded&&!T.reset&&T!==!0){T.animate!==void 0&&(T.zoom=h({animate:T.animate},T.zoom),T.pan=h({animate:T.animate,duration:T.duration},T.pan));var H=this._zoom!==x?this._tryAnimatedZoom&&this._tryAnimatedZoom(p,x,T.zoom):this._tryAnimatedPan(p,T.pan);if(H)return clearTimeout(this._sizeTimer),this}return this._resetView(p,x,T.pan&&T.pan.noMoveStart),this},setZoom:function(p,x){return this._loaded?this.setView(this.getCenter(),p,{zoom:x}):(this._zoom=p,this)},zoomIn:function(p,x){return p=p||(ye.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+p,x)},zoomOut:function(p,x){return p=p||(ye.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-p,x)},setZoomAround:function(p,x,T){var H=this.getZoomScale(x),G=this.getSize().divideBy(2),ie=p instanceof he?p:this.latLngToContainerPoint(p),Ae=ie.subtract(G).multiplyBy(1-1/H),Ye=this.containerPointToLatLng(G.add(Ae));return this.setView(Ye,x,{zoom:T})},_getBoundsCenterZoom:function(p,x){x=x||{},p=p.getBounds?p.getBounds():He(p);var T=Z(x.paddingTopLeft||x.padding||[0,0]),H=Z(x.paddingBottomRight||x.padding||[0,0]),G=this.getBoundsZoom(p,!1,T.add(H));if(G=typeof x.maxZoom=="number"?Math.min(x.maxZoom,G):G,G===1/0)return{center:p.getCenter(),zoom:G};var ie=H.subtract(T).divideBy(2),Ae=this.project(p.getSouthWest(),G),Ye=this.project(p.getNorthEast(),G),Ve=this.unproject(Ae.add(Ye).divideBy(2).add(ie),G);return{center:Ve,zoom:G}},fitBounds:function(p,x){if(p=He(p),!p.isValid())throw new Error("Bounds are not valid.");var T=this._getBoundsCenterZoom(p,x);return this.setView(T.center,T.zoom,x)},fitWorld:function(p){return this.fitBounds([[-90,-180],[90,180]],p)},panTo:function(p,x){return this.setView(p,this._zoom,{pan:x})},panBy:function(p,x){if(p=Z(p).round(),x=x||{},!p.x&&!p.y)return this.fire("moveend");if(x.animate!==!0&&!this.getSize().contains(p))return this._resetView(this.unproject(this.project(this.getCenter()).add(p)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Io,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),x.noMoveStart||this.fire("movestart"),x.animate!==!1){Nn(this._mapPane,"leaflet-pan-anim");var T=this._getMapPanePos().subtract(p).round();this._panAnim.run(this._mapPane,T,x.duration||.25,x.easeLinearity)}else this._rawPanBy(p),this.fire("move").fire("moveend");return this},flyTo:function(p,x,T){if(T=T||{},T.animate===!1||!ye.any3d)return this.setView(p,x,T);this._stop();var H=this.project(this.getCenter()),G=this.project(p),ie=this.getSize(),Ae=this._zoom;p=pe(p),x=x===void 0?Ae:x;var Ye=Math.max(ie.x,ie.y),Ve=Ye*this.getZoomScale(Ae,x),Nt=G.distanceTo(H)||1,zt=1.42,Gt=zt*zt;function sn(Gi){var zo=Gi?-1:1,ra=Gi?Ve:Ye,Na=Ve*Ve-Ye*Ye+zo*Gt*Gt*Nt*Nt,sa=2*ra*Gt*Nt,Fc=Na/sa,Hc=Math.sqrt(Fc*Fc+1)-Fc,xl=Hc<1e-9?-18:Math.log(Hc);return xl}function bn(Gi){return(Math.exp(Gi)-Math.exp(-Gi))/2}function gn(Gi){return(Math.exp(Gi)+Math.exp(-Gi))/2}function yi(Gi){return bn(Gi)/gn(Gi)}var hr=sn(0);function Ts(Gi){return Ye*(gn(hr)/gn(hr+zt*Gi))}function Pd(Gi){return Ye*(gn(hr)*yi(hr+zt*Gi)-bn(hr))/Gt}function Iu(Gi){return 1-Math.pow(1-Gi,1.5)}var Jl=Date.now(),Po=(sn(1)-hr)/zt,ts=T.duration?1e3*T.duration:1e3*Po*.8;function yl(){var Gi=(Date.now()-Jl)/ts,zo=Iu(Gi)*Po;Gi<=1?(this._flyToFrame=ke(yl,this),this._move(this.unproject(H.add(G.subtract(H).multiplyBy(Pd(zo)/Nt)),Ae),this.getScaleZoom(Ye/Ts(zo),Ae),{flyTo:!0})):this._move(p,x)._moveEnd(!0)}return this._moveStart(!0,T.noMoveStart),yl.call(this),this},flyToBounds:function(p,x){var T=this._getBoundsCenterZoom(p,x);return this.flyTo(T.center,T.zoom,x)},setMaxBounds:function(p){return p=He(p),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),p.isValid()?(this.options.maxBounds=p,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(p){var x=this.options.minZoom;return this.options.minZoom=p,this._loaded&&x!==p&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(p):this},setMaxZoom:function(p){var x=this.options.maxZoom;return this.options.maxZoom=p,this._loaded&&x!==p&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(p):this},panInsideBounds:function(p,x){this._enforcingBounds=!0;var T=this.getCenter(),H=this._limitCenter(T,this._zoom,He(p));return T.equals(H)||this.panTo(H,x),this._enforcingBounds=!1,this},panInside:function(p,x){x=x||{};var T=Z(x.paddingTopLeft||x.padding||[0,0]),H=Z(x.paddingBottomRight||x.padding||[0,0]),G=this.project(this.getCenter()),ie=this.project(p),Ae=this.getPixelBounds(),Ye=Ce([Ae.min.add(T),Ae.max.subtract(H)]),Ve=Ye.getSize();if(!Ye.contains(ie)){this._enforcingBounds=!0;var Nt=ie.subtract(Ye.getCenter()),zt=Ye.extend(ie).getSize().subtract(Ve);G.x+=Nt.x<0?-zt.x:zt.x,G.y+=Nt.y<0?-zt.y:zt.y,this.panTo(this.unproject(G),x),this._enforcingBounds=!1}return this},invalidateSize:function(p){if(!this._loaded)return this;p=h({animate:!1,pan:!0},p===!0?{animate:!0}:p);var x=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var T=this.getSize(),H=x.divideBy(2).round(),G=T.divideBy(2).round(),ie=H.subtract(G);return!ie.x&&!ie.y?this:(p.animate&&p.pan?this.panBy(ie):(p.pan&&this._rawPanBy(ie),this.fire("move"),p.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(_(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:x,newSize:T}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(p){if(p=this._locateOptions=h({timeout:1e4,watch:!1},p),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var x=_(this._handleGeolocationResponse,this),T=_(this._handleGeolocationError,this);return p.watch?this._locationWatchId=navigator.geolocation.watchPosition(x,T,p):navigator.geolocation.getCurrentPosition(x,T,p),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(p){if(this._container._leaflet_id){var x=p.code,T=p.message||(x===1?"permission denied":x===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:x,message:"Geolocation error: "+T+"."})}},_handleGeolocationResponse:function(p){if(this._container._leaflet_id){var x=p.coords.latitude,T=p.coords.longitude,H=new et(x,T),G=H.toBounds(p.coords.accuracy*2),ie=this._locateOptions;if(ie.setView){var Ae=this.getBoundsZoom(G);this.setView(H,ie.maxZoom?Math.min(Ae,ie.maxZoom):Ae)}var Ye={latlng:H,bounds:G,timestamp:p.timestamp};for(var Ve in p.coords)typeof p.coords[Ve]=="number"&&(Ye[Ve]=p.coords[Ve]);this.fire("locationfound",Ye)}},addHandler:function(p,x){if(!x)return this;var T=this[p]=new x(this);return this._handlers.push(T),this.options[p]&&T.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),_i(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(we(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var p;for(p in this._layers)this._layers[p].remove();for(p in this._panes)_i(this._panes[p]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(p,x){var T="leaflet-pane"+(p?" leaflet-"+p.replace("Pane","")+"-pane":""),H=Yn("div",T,x||this._mapPane);return p&&(this._panes[p]=H),H},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var p=this.getPixelBounds(),x=this.unproject(p.getBottomLeft()),T=this.unproject(p.getTopRight());return new Se(x,T)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(p,x,T){p=He(p),T=Z(T||[0,0]);var H=this.getZoom()||0,G=this.getMinZoom(),ie=this.getMaxZoom(),Ae=p.getNorthWest(),Ye=p.getSouthEast(),Ve=this.getSize().subtract(T),Nt=Ce(this.project(Ye,H),this.project(Ae,H)).getSize(),zt=ye.any3d?this.options.zoomSnap:1,Gt=Ve.x/Nt.x,sn=Ve.y/Nt.y,bn=x?Math.max(Gt,sn):Math.min(Gt,sn);return H=this.getScaleZoom(bn,H),zt&&(H=Math.round(H/(zt/100))*(zt/100),H=x?Math.ceil(H/zt)*zt:Math.floor(H/zt)*zt),Math.max(G,Math.min(ie,H))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new he(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(p,x){var T=this._getTopLeftPoint(p,x);return new fe(T,T.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(p){return this.options.crs.getProjectedBounds(p===void 0?this.getZoom():p)},getPane:function(p){return typeof p=="string"?this._panes[p]:p},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(p,x){var T=this.options.crs;return x=x===void 0?this._zoom:x,T.scale(p)/T.scale(x)},getScaleZoom:function(p,x){var T=this.options.crs;x=x===void 0?this._zoom:x;var H=T.zoom(p*T.scale(x));return isNaN(H)?1/0:H},project:function(p,x){return x=x===void 0?this._zoom:x,this.options.crs.latLngToPoint(pe(p),x)},unproject:function(p,x){return x=x===void 0?this._zoom:x,this.options.crs.pointToLatLng(Z(p),x)},layerPointToLatLng:function(p){var x=Z(p).add(this.getPixelOrigin());return this.unproject(x)},latLngToLayerPoint:function(p){var x=this.project(pe(p))._round();return x._subtract(this.getPixelOrigin())},wrapLatLng:function(p){return this.options.crs.wrapLatLng(pe(p))},wrapLatLngBounds:function(p){return this.options.crs.wrapLatLngBounds(He(p))},distance:function(p,x){return this.options.crs.distance(pe(p),pe(x))},containerPointToLayerPoint:function(p){return Z(p).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(p){return Z(p).add(this._getMapPanePos())},containerPointToLatLng:function(p){var x=this.containerPointToLayerPoint(Z(p));return this.layerPointToLatLng(x)},latLngToContainerPoint:function(p){return this.layerPointToContainerPoint(this.latLngToLayerPoint(pe(p)))},mouseEventToContainerPoint:function(p){return jr(p,this._container)},mouseEventToLayerPoint:function(p){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(p))},mouseEventToLatLng:function(p){return this.layerPointToLatLng(this.mouseEventToLayerPoint(p))},_initContainer:function(p){var x=this._container=Fa(p);if(x){if(x._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Xt(x,"scroll",this._onScroll,this),this._containerId=v(x)},_initLayout:function(){var p=this._container;this._fadeAnimated=this.options.fadeAnimation&&ye.any3d,Nn(p,"leaflet-container"+(ye.touch?" leaflet-touch":"")+(ye.retina?" leaflet-retina":"")+(ye.ielt9?" leaflet-oldie":"")+(ye.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var x=po(p,"position");x!=="absolute"&&x!=="relative"&&x!=="fixed"&&x!=="sticky"&&(p.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var p=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Vn(this._mapPane,new he(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Nn(p.markerPane,"leaflet-zoom-hide"),Nn(p.shadowPane,"leaflet-zoom-hide"))},_resetView:function(p,x,T){Vn(this._mapPane,new he(0,0));var H=!this._loaded;this._loaded=!0,x=this._limitZoom(x),this.fire("viewprereset");var G=this._zoom!==x;this._moveStart(G,T)._move(p,x)._moveEnd(G),this.fire("viewreset"),H&&this.fire("load")},_moveStart:function(p,x){return p&&this.fire("zoomstart"),x||this.fire("movestart"),this},_move:function(p,x,T,H){x===void 0&&(x=this._zoom);var G=this._zoom!==x;return this._zoom=x,this._lastCenter=p,this._pixelOrigin=this._getNewPixelOrigin(p),H?T&&T.pinch&&this.fire("zoom",T):((G||T&&T.pinch)&&this.fire("zoom",T),this.fire("move",T)),this},_moveEnd:function(p){return p&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return we(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(p){Vn(this._mapPane,this._getMapPanePos().subtract(p))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(p){this._targets={},this._targets[v(this._container)]=this;var x=p?Jn:Xt;x(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&x(window,"resize",this._onResize,this),ye.any3d&&this.options.transform3DLimit&&(p?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){we(this._resizeRequest),this._resizeRequest=ke(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var p=this._getMapPanePos();Math.max(Math.abs(p.x),Math.abs(p.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(p,x){for(var T=[],H,G=x==="mouseout"||x==="mouseover",ie=p.target||p.srcElement,Ae=!1;ie;){if(H=this._targets[v(ie)],H&&(x==="click"||x==="preclick")&&this._draggableMoved(H)){Ae=!0;break}if(H&&H.listens(x,!0)&&(G&&!ps(ie,p)||(T.push(H),G))||ie===this._container)break;ie=ie.parentNode}return!T.length&&!Ae&&!G&&this.listens(x,!0)&&(T=[this]),T},_isClickDisabled:function(p){for(;p&&p!==this._container;){if(p._leaflet_disable_click)return!0;p=p.parentNode}},_handleDOMEvent:function(p){var x=p.target||p.srcElement;if(!(!this._loaded||x._leaflet_disable_events||p.type==="click"&&this._isClickDisabled(x))){var T=p.type;T==="mousedown"&&Dn(x),this._fireDOMEvent(p,T)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(p,x,T){if(p.type==="click"){var H=h({},p);H.type="preclick",this._fireDOMEvent(H,H.type,T)}var G=this._findEventTargets(p,x);if(T){for(var ie=[],Ae=0;Ae<T.length;Ae++)T[Ae].listens(x,!0)&&ie.push(T[Ae]);G=ie.concat(G)}if(G.length){x==="contextmenu"&&Tn(p);var Ye=G[0],Ve={originalEvent:p};if(p.type!=="keypress"&&p.type!=="keydown"&&p.type!=="keyup"){var Nt=Ye.getLatLng&&(!Ye._radius||Ye._radius<=10);Ve.containerPoint=Nt?this.latLngToContainerPoint(Ye.getLatLng()):this.mouseEventToContainerPoint(p),Ve.layerPoint=this.containerPointToLayerPoint(Ve.containerPoint),Ve.latlng=Nt?Ye.getLatLng():this.layerPointToLatLng(Ve.layerPoint)}for(Ae=0;Ae<G.length;Ae++)if(G[Ae].fire(x,Ve,!0),Ve.originalEvent._stopped||G[Ae].options.bubblingMouseEvents===!1&&ne(this._mouseEvents,x)!==-1)return}},_draggableMoved:function(p){return p=p.dragging&&p.dragging.enabled()?p:this,p.dragging&&p.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var p=0,x=this._handlers.length;p<x;p++)this._handlers[p].disable()},whenReady:function(p,x){return this._loaded?p.call(x||this,{target:this}):this.on("load",p,x),this},_getMapPanePos:function(){return zr(this._mapPane)||new he(0,0)},_moved:function(){var p=this._getMapPanePos();return p&&!p.equals([0,0])},_getTopLeftPoint:function(p,x){var T=p&&x!==void 0?this._getNewPixelOrigin(p,x):this.getPixelOrigin();return T.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(p,x){var T=this.getSize()._divideBy(2);return this.project(p,x)._subtract(T)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(p,x,T){var H=this._getNewPixelOrigin(T,x);return this.project(p,x)._subtract(H)},_latLngBoundsToNewLayerBounds:function(p,x,T){var H=this._getNewPixelOrigin(T,x);return Ce([this.project(p.getSouthWest(),x)._subtract(H),this.project(p.getNorthWest(),x)._subtract(H),this.project(p.getSouthEast(),x)._subtract(H),this.project(p.getNorthEast(),x)._subtract(H)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(p){return this.latLngToLayerPoint(p).subtract(this._getCenterLayerPoint())},_limitCenter:function(p,x,T){if(!T)return p;var H=this.project(p,x),G=this.getSize().divideBy(2),ie=new fe(H.subtract(G),H.add(G)),Ae=this._getBoundsOffset(ie,T,x);return Math.abs(Ae.x)<=1&&Math.abs(Ae.y)<=1?p:this.unproject(H.add(Ae),x)},_limitOffset:function(p,x){if(!x)return p;var T=this.getPixelBounds(),H=new fe(T.min.add(p),T.max.add(p));return p.add(this._getBoundsOffset(H,x))},_getBoundsOffset:function(p,x,T){var H=Ce(this.project(x.getNorthEast(),T),this.project(x.getSouthWest(),T)),G=H.min.subtract(p.min),ie=H.max.subtract(p.max),Ae=this._rebound(G.x,-ie.x),Ye=this._rebound(G.y,-ie.y);return new he(Ae,Ye)},_rebound:function(p,x){return p+x>0?Math.round(p-x)/2:Math.max(0,Math.ceil(p))-Math.max(0,Math.floor(x))},_limitZoom:function(p){var x=this.getMinZoom(),T=this.getMaxZoom(),H=ye.any3d?this.options.zoomSnap:1;return H&&(p=Math.round(p/H)*H),Math.max(x,Math.min(T,p))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Gn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(p,x){var T=this._getCenterOffset(p)._trunc();return(x&&x.animate)!==!0&&!this.getSize().contains(T)?!1:(this.panBy(T,x),!0)},_createAnimProxy:function(){var p=this._proxy=Yn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(p),this.on("zoomanim",function(x){var T=Kr,H=this._proxy.style[T];$i(this._proxy,this.project(x.center,x.zoom),this.getZoomScale(x.zoom,1)),H===this._proxy.style[T]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){_i(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var p=this.getCenter(),x=this.getZoom();$i(this._proxy,this.project(p,x),this.getZoomScale(x,1))},_catchTransitionEnd:function(p){this._animatingZoom&&p.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(p,x,T){if(this._animatingZoom)return!0;if(T=T||{},!this._zoomAnimated||T.animate===!1||this._nothingToAnimate()||Math.abs(x-this._zoom)>this.options.zoomAnimationThreshold)return!1;var H=this.getZoomScale(x),G=this._getCenterOffset(p)._divideBy(1-1/H);return T.animate!==!0&&!this.getSize().contains(G)?!1:(ke(function(){this._moveStart(!0,T.noMoveStart||!1)._animateZoom(p,x,!0)},this),!0)},_animateZoom:function(p,x,T,H){this._mapPane&&(T&&(this._animatingZoom=!0,this._animateToCenter=p,this._animateToZoom=x,Nn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:p,zoom:x,noUpdate:H}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(_(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Gn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Va(p,x){return new Pn(p,x)}var Xr=_e.extend({options:{position:"topright"},initialize:function(p){V(this,p)},getPosition:function(){return this.options.position},setPosition:function(p){var x=this._map;return x&&x.removeControl(this),this.options.position=p,x&&x.addControl(this),this},getContainer:function(){return this._container},addTo:function(p){this.remove(),this._map=p;var x=this._container=this.onAdd(p),T=this.getPosition(),H=p._controlCorners[T];return Nn(x,"leaflet-control"),T.indexOf("bottom")!==-1?H.insertBefore(x,H.firstChild):H.appendChild(x),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(_i(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(p){this._map&&p&&p.screenX>0&&p.screenY>0&&this._map.getContainer().focus()}}),Ns=function(p){return new Xr(p)};Pn.include({addControl:function(p){return p.addTo(this),this},removeControl:function(p){return p.remove(),this},_initControlPos:function(){var p=this._controlCorners={},x="leaflet-",T=this._controlContainer=Yn("div",x+"control-container",this._container);function H(G,ie){var Ae=x+G+" "+x+ie;p[G+ie]=Yn("div",Ae,T)}H("top","left"),H("top","right"),H("bottom","left"),H("bottom","right")},_clearControlPos:function(){for(var p in this._controlCorners)_i(this._controlCorners[p]);_i(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Nu=Xr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(p,x,T,H){return T<H?-1:H<T?1:0}},initialize:function(p,x,T){V(this,T),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var H in p)this._addLayer(p[H],H);for(H in x)this._addLayer(x[H],H,!0)},onAdd:function(p){this._initLayout(),this._update(),this._map=p,p.on("zoomend",this._checkDisabledLayers,this);for(var x=0;x<this._layers.length;x++)this._layers[x].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(p){return Xr.prototype.addTo.call(this,p),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(p,x){return this._addLayer(p,x),this._map?this._update():this},addOverlay:function(p,x){return this._addLayer(p,x,!0),this._map?this._update():this},removeLayer:function(p){p.off("add remove",this._onLayerChange,this);var x=this._getLayer(v(p));return x&&this._layers.splice(this._layers.indexOf(x),1),this._map?this._update():this},expand:function(){Nn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var p=this._map.getSize().y-(this._container.offsetTop+50);return p<this._section.clientHeight?(Nn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=p+"px"):Gn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Gn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var p="leaflet-control-layers",x=this._container=Yn("div",p),T=this.options.collapsed;x.setAttribute("aria-haspopup",!0),Mo(x),Ks(x);var H=this._section=Yn("section",p+"-list");T&&(this._map.on("click",this.collapse,this),Xt(x,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var G=this._layersLink=Yn("a",p+"-toggle",x);G.href="#",G.title="Layers",G.setAttribute("role","button"),Xt(G,{keydown:function(ie){ie.keyCode===13&&this._expandSafely()},click:function(ie){Tn(ie),this._expandSafely()}},this),T||this.expand(),this._baseLayersList=Yn("div",p+"-base",H),this._separator=Yn("div",p+"-separator",H),this._overlaysList=Yn("div",p+"-overlays",H),x.appendChild(H)},_getLayer:function(p){for(var x=0;x<this._layers.length;x++)if(this._layers[x]&&v(this._layers[x].layer)===p)return this._layers[x]},_addLayer:function(p,x,T){this._map&&p.on("add remove",this._onLayerChange,this),this._layers.push({layer:p,name:x,overlay:T}),this.options.sortLayers&&this._layers.sort(_(function(H,G){return this.options.sortFunction(H.layer,G.layer,H.name,G.name)},this)),this.options.autoZIndex&&p.setZIndex&&(this._lastZIndex++,p.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;_r(this._baseLayersList),_r(this._overlaysList),this._layerControlInputs=[];var p,x,T,H,G=0;for(T=0;T<this._layers.length;T++)H=this._layers[T],this._addItem(H),x=x||H.overlay,p=p||!H.overlay,G+=H.overlay?0:1;return this.options.hideSingleBase&&(p=p&&G>1,this._baseLayersList.style.display=p?"":"none"),this._separator.style.display=x&&p?"":"none",this},_onLayerChange:function(p){this._handlingClick||this._update();var x=this._getLayer(v(p.target)),T=x.overlay?p.type==="add"?"overlayadd":"overlayremove":p.type==="add"?"baselayerchange":null;T&&this._map.fire(T,x)},_createRadioElement:function(p,x){var T='<input type="radio" class="leaflet-control-layers-selector" name="'+p+'"'+(x?' checked="checked"':"")+"/>",H=document.createElement("div");return H.innerHTML=T,H.firstChild},_addItem:function(p){var x=document.createElement("label"),T=this._map.hasLayer(p.layer),H;p.overlay?(H=document.createElement("input"),H.type="checkbox",H.className="leaflet-control-layers-selector",H.defaultChecked=T):H=this._createRadioElement("leaflet-base-layers_"+v(this),T),this._layerControlInputs.push(H),H.layerId=v(p.layer),Xt(H,"click",this._onInputClick,this);var G=document.createElement("span");G.innerHTML=" "+p.name;var ie=document.createElement("span");x.appendChild(ie),ie.appendChild(H),ie.appendChild(G);var Ae=p.overlay?this._overlaysList:this._baseLayersList;return Ae.appendChild(x),this._checkDisabledLayers(),x},_onInputClick:function(){if(!this._preventClick){var p=this._layerControlInputs,x,T,H=[],G=[];this._handlingClick=!0;for(var ie=p.length-1;ie>=0;ie--)x=p[ie],T=this._getLayer(x.layerId).layer,x.checked?H.push(T):x.checked||G.push(T);for(ie=0;ie<G.length;ie++)this._map.hasLayer(G[ie])&&this._map.removeLayer(G[ie]);for(ie=0;ie<H.length;ie++)this._map.hasLayer(H[ie])||this._map.addLayer(H[ie]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var p=this._layerControlInputs,x,T,H=this._map.getZoom(),G=p.length-1;G>=0;G--)x=p[G],T=this._getLayer(x.layerId).layer,x.disabled=T.options.minZoom!==void 0&&H<T.options.minZoom||T.options.maxZoom!==void 0&&H>T.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var p=this._section;this._preventClick=!0,Xt(p,"click",Tn),this.expand();var x=this;setTimeout(function(){Jn(p,"click",Tn),x._preventClick=!1})}}),Eu=function(p,x,T){return new Nu(p,x,T)},Ec=Xr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(p){var x="leaflet-control-zoom",T=Yn("div",x+" leaflet-bar"),H=this.options;return this._zoomInButton=this._createButton(H.zoomInText,H.zoomInTitle,x+"-in",T,this._zoomIn),this._zoomOutButton=this._createButton(H.zoomOutText,H.zoomOutTitle,x+"-out",T,this._zoomOut),this._updateDisabled(),p.on("zoomend zoomlevelschange",this._updateDisabled,this),T},onRemove:function(p){p.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(p){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(p.shiftKey?3:1))},_zoomOut:function(p){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(p.shiftKey?3:1))},_createButton:function(p,x,T,H,G){var ie=Yn("a",T,H);return ie.innerHTML=p,ie.href="#",ie.title=x,ie.setAttribute("role","button"),ie.setAttribute("aria-label",x),Mo(ie),Xt(ie,"click",Cs),Xt(ie,"click",G,this),Xt(ie,"click",this._refocusOnMap,this),ie},_updateDisabled:function(){var p=this._map,x="leaflet-disabled";Gn(this._zoomInButton,x),Gn(this._zoomOutButton,x),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||p._zoom===p.getMinZoom())&&(Nn(this._zoomOutButton,x),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||p._zoom===p.getMaxZoom())&&(Nn(this._zoomInButton,x),this._zoomInButton.setAttribute("aria-disabled","true"))}});Pn.mergeOptions({zoomControl:!0}),Pn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ec,this.addControl(this.zoomControl))});var Ua=function(p){return new Ec(p)},$a=Xr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(p){var x="leaflet-control-scale",T=Yn("div",x),H=this.options;return this._addScales(H,x+"-line",T),p.on(H.updateWhenIdle?"moveend":"move",this._update,this),p.whenReady(this._update,this),T},onRemove:function(p){p.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(p,x,T){p.metric&&(this._mScale=Yn("div",x,T)),p.imperial&&(this._iScale=Yn("div",x,T))},_update:function(){var p=this._map,x=p.getSize().y/2,T=p.distance(p.containerPointToLatLng([0,x]),p.containerPointToLatLng([this.options.maxWidth,x]));this._updateScales(T)},_updateScales:function(p){this.options.metric&&p&&this._updateMetric(p),this.options.imperial&&p&&this._updateImperial(p)},_updateMetric:function(p){var x=this._getRoundNum(p),T=x<1e3?x+" m":x/1e3+" km";this._updateScale(this._mScale,T,x/p)},_updateImperial:function(p){var x=p*3.2808399,T,H,G;x>5280?(T=x/5280,H=this._getRoundNum(T),this._updateScale(this._iScale,H+" mi",H/T)):(G=this._getRoundNum(x),this._updateScale(this._iScale,G+" ft",G/x))},_updateScale:function(p,x,T){p.style.width=Math.round(this.options.maxWidth*T)+"px",p.innerHTML=x},_getRoundNum:function(p){var x=Math.pow(10,(Math.floor(p)+"").length-1),T=p/x;return T=T>=10?10:T>=5?5:T>=3?3:T>=2?2:1,x*T}}),Su=function(p){return new $a(p)},Ad='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Sc=Xr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ye.inlineSvg?Ad+" ":"")+"Leaflet</a>"},initialize:function(p){V(this,p),this._attributions={}},onAdd:function(p){p.attributionControl=this,this._container=Yn("div","leaflet-control-attribution"),Mo(this._container);for(var x in p._layers)p._layers[x].getAttribution&&this.addAttribution(p._layers[x].getAttribution());return this._update(),p.on("layeradd",this._addAttribution,this),this._container},onRemove:function(p){p.off("layeradd",this._addAttribution,this)},_addAttribution:function(p){p.layer.getAttribution&&(this.addAttribution(p.layer.getAttribution()),p.layer.once("remove",function(){this.removeAttribution(p.layer.getAttribution())},this))},setPrefix:function(p){return this.options.prefix=p,this._update(),this},addAttribution:function(p){return p?(this._attributions[p]||(this._attributions[p]=0),this._attributions[p]++,this._update(),this):this},removeAttribution:function(p){return p?(this._attributions[p]&&(this._attributions[p]--,this._update()),this):this},_update:function(){if(this._map){var p=[];for(var x in this._attributions)this._attributions[x]&&p.push(x);var T=[];this.options.prefix&&T.push(this.options.prefix),p.length&&T.push(p.join(", ")),this._container.innerHTML=T.join(' <span aria-hidden="true">|</span> ')}}});Pn.mergeOptions({attributionControl:!0}),Pn.addInitHook(function(){this.options.attributionControl&&new Sc().addTo(this)});var Ah=function(p){return new Sc(p)};Xr.Layers=Nu,Xr.Zoom=Ec,Xr.Scale=$a,Xr.Attribution=Sc,Ns.layers=Eu,Ns.zoom=Ua,Ns.scale=Su,Ns.attribution=Ah;var Fr=_e.extend({initialize:function(p){this._map=p},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Fr.addTo=function(p,x){return p.addHandler(x,this),this};var ju={Events:oe},jc=ye.touch?"touchstart mousedown":"mousedown",Qs=ve.extend({options:{clickTolerance:3},initialize:function(p,x,T,H){V(this,H),this._element=p,this._dragStartTarget=x||p,this._preventOutline=T},enable:function(){this._enabled||(Xt(this._dragStartTarget,jc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qs._dragging===this&&this.finishDrag(!0),Jn(this._dragStartTarget,jc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(p){if(this._enabled&&(this._moved=!1,!Qr(this._element,"leaflet-zoom-anim"))){if(p.touches&&p.touches.length!==1){Qs._dragging===this&&this.finishDrag();return}if(!(Qs._dragging||p.shiftKey||p.which!==1&&p.button!==1&&!p.touches)&&(Qs._dragging=this,this._preventOutline&&Dn(this._element),Gs(),Sr(),!this._moving)){this.fire("down");var x=p.touches?p.touches[0]:p,T=Hi(this._element);this._startPoint=new he(x.clientX,x.clientY),this._startPos=zr(this._element),this._parentScale=wi(T);var H=p.type==="mousedown";Xt(document,H?"mousemove":"touchmove",this._onMove,this),Xt(document,H?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(p){if(this._enabled){if(p.touches&&p.touches.length>1){this._moved=!0;return}var x=p.touches&&p.touches.length===1?p.touches[0]:p,T=new he(x.clientX,x.clientY)._subtract(this._startPoint);!T.x&&!T.y||Math.abs(T.x)+Math.abs(T.y)<this.options.clickTolerance||(T.x/=this._parentScale.x,T.y/=this._parentScale.y,Tn(p),this._moved||(this.fire("dragstart"),this._moved=!0,Nn(document.body,"leaflet-dragging"),this._lastTarget=p.target||p.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Nn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(T),this._moving=!0,this._lastEvent=p,this._updatePosition())}},_updatePosition:function(){var p={originalEvent:this._lastEvent};this.fire("predrag",p),Vn(this._element,this._newPos),this.fire("drag",p)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(p){Gn(document.body,"leaflet-dragging"),this._lastTarget&&(Gn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Jn(document,"mousemove touchmove",this._onMove,this),Jn(document,"mouseup touchend touchcancel",this._onUp,this),xe(),ms();var x=this._moved&&this._moving;this._moving=!1,Qs._dragging=!1,x&&this.fire("dragend",{noInertia:p,distance:this._newPos.distanceTo(this._startPos)})}});function Nd(p,x,T){var H,G=[1,4,2,8],ie,Ae,Ye,Ve,Nt,zt,Gt,sn;for(ie=0,zt=p.length;ie<zt;ie++)p[ie]._code=ta(p[ie],x);for(Ye=0;Ye<4;Ye++){for(Gt=G[Ye],H=[],ie=0,zt=p.length,Ae=zt-1;ie<zt;Ae=ie++)Ve=p[ie],Nt=p[Ae],Ve._code&Gt?Nt._code&Gt||(sn=Dc(Nt,Ve,Gt,x,T),sn._code=ta(sn,x),H.push(sn)):(Nt._code&Gt&&(sn=Dc(Nt,Ve,Gt,x,T),sn._code=ta(sn,x),H.push(sn)),H.push(Ve));p=H}return p}function Wl(p,x){var T,H,G,ie,Ae,Ye,Ve,Nt,zt;if(!p||p.length===0)throw new Error("latlngs not passed");Wi(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var Gt=pe([0,0]),sn=He(p),bn=sn.getNorthWest().distanceTo(sn.getSouthWest())*sn.getNorthEast().distanceTo(sn.getNorthWest());bn<1700&&(Gt=ml(p));var gn=p.length,yi=[];for(T=0;T<gn;T++){var hr=pe(p[T]);yi.push(x.project(pe([hr.lat-Gt.lat,hr.lng-Gt.lng])))}for(Ye=Ve=Nt=0,T=0,H=gn-1;T<gn;H=T++)G=yi[T],ie=yi[H],Ae=G.y*ie.x-ie.y*G.x,Ve+=(G.x+ie.x)*Ae,Nt+=(G.y+ie.y)*Ae,Ye+=Ae*3;Ye===0?zt=yi[0]:zt=[Ve/Ye,Nt/Ye];var Ts=x.unproject(Z(zt));return pe([Ts.lat+Gt.lat,Ts.lng+Gt.lng])}function ml(p){for(var x=0,T=0,H=0,G=0;G<p.length;G++){var ie=pe(p[G]);x+=ie.lat,T+=ie.lng,H++}return pe([x/H,T/H])}var Ed={__proto__:null,clipPolygon:Nd,polygonCenter:Wl,centroid:ml};function Sd(p,x){if(!x||!p.length)return p.slice();var T=x*x;return p=Nh(p,T),p=Du(p,T),p}function Oo(p,x,T){return Math.sqrt(qa(p,x,T,!0))}function jd(p,x,T){return qa(p,x,T)}function Du(p,x){var T=p.length,H=typeof Uint8Array<"u"?Uint8Array:Array,G=new H(T);G[0]=G[T-1]=1,fl(p,G,x,0,T-1);var ie,Ae=[];for(ie=0;ie<T;ie++)G[ie]&&Ae.push(p[ie]);return Ae}function fl(p,x,T,H,G){var ie=0,Ae,Ye,Ve;for(Ye=H+1;Ye<=G-1;Ye++)Ve=qa(p[Ye],p[H],p[G],!0),Ve>ie&&(Ae=Ye,ie=Ve);ie>T&&(x[Ae]=1,fl(p,x,T,H,Ae),fl(p,x,T,Ae,G))}function Nh(p,x){for(var T=[p[0]],H=1,G=0,ie=p.length;H<ie;H++)Tc(p[H],p[G])>x&&(T.push(p[H]),G=H);return G<ie-1&&T.push(p[ie-1]),T}var Dd;function Td(p,x,T,H,G){var ie=H?Dd:ta(p,T),Ae=ta(x,T),Ye,Ve,Nt;for(Dd=Ae;;){if(!(ie|Ae))return[p,x];if(ie&Ae)return!1;Ye=ie||Ae,Ve=Dc(p,x,Ye,T,G),Nt=ta(Ve,T),Ye===ie?(p=Ve,ie=Nt):(x=Ve,Ae=Nt)}}function Dc(p,x,T,H,G){var ie=x.x-p.x,Ae=x.y-p.y,Ye=H.min,Ve=H.max,Nt,zt;return T&8?(Nt=p.x+ie*(Ve.y-p.y)/Ae,zt=Ve.y):T&4?(Nt=p.x+ie*(Ye.y-p.y)/Ae,zt=Ye.y):T&2?(Nt=Ve.x,zt=p.y+Ae*(Ve.x-p.x)/ie):T&1&&(Nt=Ye.x,zt=p.y+Ae*(Ye.x-p.x)/ie),new he(Nt,zt,G)}function ta(p,x){var T=0;return p.x<x.min.x?T|=1:p.x>x.max.x&&(T|=2),p.y<x.min.y?T|=4:p.y>x.max.y&&(T|=8),T}function Tc(p,x){var T=x.x-p.x,H=x.y-p.y;return T*T+H*H}function qa(p,x,T,H){var G=x.x,ie=x.y,Ae=T.x-G,Ye=T.y-ie,Ve=Ae*Ae+Ye*Ye,Nt;return Ve>0&&(Nt=((p.x-G)*Ae+(p.y-ie)*Ye)/Ve,Nt>1?(G=T.x,ie=T.y):Nt>0&&(G+=Ae*Nt,ie+=Ye*Nt)),Ae=p.x-G,Ye=p.y-ie,H?Ae*Ae+Ye*Ye:new he(G,ie)}function Wi(p){return!ee(p[0])||typeof p[0][0]!="object"&&typeof p[0][0]<"u"}function Lo(p){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Wi(p)}function Yl(p,x){var T,H,G,ie,Ae,Ye,Ve,Nt;if(!p||p.length===0)throw new Error("latlngs not passed");Wi(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var zt=pe([0,0]),Gt=He(p),sn=Gt.getNorthWest().distanceTo(Gt.getSouthWest())*Gt.getNorthEast().distanceTo(Gt.getNorthWest());sn<1700&&(zt=ml(p));var bn=p.length,gn=[];for(T=0;T<bn;T++){var yi=pe(p[T]);gn.push(x.project(pe([yi.lat-zt.lat,yi.lng-zt.lng])))}for(T=0,H=0;T<bn-1;T++)H+=gn[T].distanceTo(gn[T+1])/2;if(H===0)Nt=gn[0];else for(T=0,ie=0;T<bn-1;T++)if(Ae=gn[T],Ye=gn[T+1],G=Ae.distanceTo(Ye),ie+=G,ie>H){Ve=(ie-H)/G,Nt=[Ye.x-Ve*(Ye.x-Ae.x),Ye.y-Ve*(Ye.y-Ae.y)];break}var hr=x.unproject(Z(Nt));return pe([hr.lat+zt.lat,hr.lng+zt.lng])}var Wa={__proto__:null,simplify:Sd,pointToSegmentDistance:Oo,closestPointOnSegment:jd,clipSegment:Td,_getEdgeIntersection:Dc,_getBitCode:ta,_sqClosestPointOnSegment:qa,isFlat:Wi,_flat:Lo,polylineCenter:Yl},Gl={project:function(p){return new he(p.lng,p.lat)},unproject:function(p){return new et(p.y,p.x)},bounds:new fe([-180,-90],[180,90])},Kl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new fe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(p){var x=Math.PI/180,T=this.R,H=p.lat*x,G=this.R_MINOR/T,ie=Math.sqrt(1-G*G),Ae=ie*Math.sin(H),Ye=Math.tan(Math.PI/4-H/2)/Math.pow((1-Ae)/(1+Ae),ie/2);return H=-T*Math.log(Math.max(Ye,1e-10)),new he(p.lng*x*T,H)},unproject:function(p){for(var x=180/Math.PI,T=this.R,H=this.R_MINOR/T,G=Math.sqrt(1-H*H),ie=Math.exp(-p.y/T),Ae=Math.PI/2-2*Math.atan(ie),Ye=0,Ve=.1,Nt;Ye<15&&Math.abs(Ve)>1e-7;Ye++)Nt=G*Math.sin(Ae),Nt=Math.pow((1-Nt)/(1+Nt),G/2),Ve=Math.PI/2-2*Math.atan(ie*Nt)-Ae,Ae+=Ve;return new et(Ae*x,p.x*x/T)}},Md={__proto__:null,LonLat:Gl,Mercator:Kl,SphericalMercator:Le},Ya=h({},Ie,{code:"EPSG:3395",projection:Kl,transformation:function(){var p=.5/(Math.PI*Kl.R);return Ge(p,.5,-p,.5)}()}),Id=h({},Ie,{code:"EPSG:4326",projection:Gl,transformation:Ge(1/180,1,-1/180,.5)}),Eh=h({},me,{projection:Gl,transformation:Ge(1,0,-1,0),scale:function(p){return Math.pow(2,p)},zoom:function(p){return Math.log(p)/Math.LN2},distance:function(p,x){var T=x.lng-p.lng,H=x.lat-p.lat;return Math.sqrt(T*T+H*H)},infinite:!0});me.Earth=Ie,me.EPSG3395=Ya,me.EPSG3857=Oe,me.EPSG900913=ut,me.EPSG4326=Id,me.Simple=Eh;var ko=ve.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(p){return p.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(p){return p&&p.removeLayer(this),this},getPane:function(p){return this._map.getPane(p?this.options[p]||p:this.options.pane)},addInteractiveTarget:function(p){return this._map._targets[v(p)]=this,this},removeInteractiveTarget:function(p){return delete this._map._targets[v(p)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(p){var x=p.target;if(x.hasLayer(this)){if(this._map=x,this._zoomAnimated=x._zoomAnimated,this.getEvents){var T=this.getEvents();x.on(T,this),this.once("remove",function(){x.off(T,this)},this)}this.onAdd(x),this.fire("add"),x.fire("layeradd",{layer:this})}}});Pn.include({addLayer:function(p){if(!p._layerAdd)throw new Error("The provided object is not a Layer.");var x=v(p);return this._layers[x]?this:(this._layers[x]=p,p._mapToAdd=this,p.beforeAdd&&p.beforeAdd(this),this.whenReady(p._layerAdd,p),this)},removeLayer:function(p){var x=v(p);return this._layers[x]?(this._loaded&&p.onRemove(this),delete this._layers[x],this._loaded&&(this.fire("layerremove",{layer:p}),p.fire("remove")),p._map=p._mapToAdd=null,this):this},hasLayer:function(p){return v(p)in this._layers},eachLayer:function(p,x){for(var T in this._layers)p.call(x,this._layers[T]);return this},_addLayers:function(p){p=p?ee(p)?p:[p]:[];for(var x=0,T=p.length;x<T;x++)this.addLayer(p[x])},_addZoomLimit:function(p){(!isNaN(p.options.maxZoom)||!isNaN(p.options.minZoom))&&(this._zoomBoundLayers[v(p)]=p,this._updateZoomLevels())},_removeZoomLimit:function(p){var x=v(p);this._zoomBoundLayers[x]&&(delete this._zoomBoundLayers[x],this._updateZoomLevels())},_updateZoomLevels:function(){var p=1/0,x=-1/0,T=this._getZoomSpan();for(var H in this._zoomBoundLayers){var G=this._zoomBoundLayers[H].options;p=G.minZoom===void 0?p:Math.min(p,G.minZoom),x=G.maxZoom===void 0?x:Math.max(x,G.maxZoom)}this._layersMaxZoom=x===-1/0?void 0:x,this._layersMinZoom=p===1/0?void 0:p,T!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ga=ko.extend({initialize:function(p,x){V(this,x),this._layers={};var T,H;if(p)for(T=0,H=p.length;T<H;T++)this.addLayer(p[T])},addLayer:function(p){var x=this.getLayerId(p);return this._layers[x]=p,this._map&&this._map.addLayer(p),this},removeLayer:function(p){var x=p in this._layers?p:this.getLayerId(p);return this._map&&this._layers[x]&&this._map.removeLayer(this._layers[x]),delete this._layers[x],this},hasLayer:function(p){var x=typeof p=="number"?p:this.getLayerId(p);return x in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(p){var x=Array.prototype.slice.call(arguments,1),T,H;for(T in this._layers)H=this._layers[T],H[p]&&H[p].apply(H,x);return this},onAdd:function(p){this.eachLayer(p.addLayer,p)},onRemove:function(p){this.eachLayer(p.removeLayer,p)},eachLayer:function(p,x){for(var T in this._layers)p.call(x,this._layers[T]);return this},getLayer:function(p){return this._layers[p]},getLayers:function(){var p=[];return this.eachLayer(p.push,p),p},setZIndex:function(p){return this.invoke("setZIndex",p)},getLayerId:function(p){return v(p)}}),Zs=function(p,x){return new Ga(p,x)},gs=Ga.extend({addLayer:function(p){return this.hasLayer(p)?this:(p.addEventParent(this),Ga.prototype.addLayer.call(this,p),this.fire("layeradd",{layer:p}))},removeLayer:function(p){return this.hasLayer(p)?(p in this._layers&&(p=this._layers[p]),p.removeEventParent(this),Ga.prototype.removeLayer.call(this,p),this.fire("layerremove",{layer:p})):this},setStyle:function(p){return this.invoke("setStyle",p)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var p=new Se;for(var x in this._layers){var T=this._layers[x];p.extend(T.getBounds?T.getBounds():T.getLatLng())}return p}}),Xs=function(p,x){return new gs(p,x)},_o=_e.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(p){V(this,p)},createIcon:function(p){return this._createIcon("icon",p)},createShadow:function(p){return this._createIcon("shadow",p)},_createIcon:function(p,x){var T=this._getIconUrl(p);if(!T){if(p==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var H=this._createImg(T,x&&x.tagName==="IMG"?x:null);return this._setIconStyles(H,p),(this.options.crossOrigin||this.options.crossOrigin==="")&&(H.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),H},_setIconStyles:function(p,x){var T=this.options,H=T[x+"Size"];typeof H=="number"&&(H=[H,H]);var G=Z(H),ie=Z(x==="shadow"&&T.shadowAnchor||T.iconAnchor||G&&G.divideBy(2,!0));p.className="leaflet-marker-"+x+" "+(T.className||""),ie&&(p.style.marginLeft=-ie.x+"px",p.style.marginTop=-ie.y+"px"),G&&(p.style.width=G.x+"px",p.style.height=G.y+"px")},_createImg:function(p,x){return x=x||document.createElement("img"),x.src=p,x},_getIconUrl:function(p){return ye.retina&&this.options[p+"RetinaUrl"]||this.options[p+"Url"]}});function Mc(p){return new _o(p)}var pl=_o.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(p){return typeof pl.imagePath!="string"&&(pl.imagePath=this._detectIconPath()),(this.options.imagePath||pl.imagePath)+_o.prototype._getIconUrl.call(this,p)},_stripUrl:function(p){var x=function(T,H,G){var ie=H.exec(T);return ie&&ie[G]};return p=x(p,/^url\((['"])?(.+)\1\)$/,2),p&&x(p,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var p=Yn("div","leaflet-default-icon-path",document.body),x=po(p,"background-image")||po(p,"backgroundImage");if(document.body.removeChild(p),x=this._stripUrl(x),x)return x;var T=document.querySelector('link[href$="leaflet.css"]');return T?T.href.substring(0,T.href.length-11-1):""}}),Ka=Fr.extend({initialize:function(p){this._marker=p},addHooks:function(){var p=this._marker._icon;this._draggable||(this._draggable=new Qs(p,p,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Nn(p,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Gn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(p){var x=this._marker,T=x._map,H=this._marker.options.autoPanSpeed,G=this._marker.options.autoPanPadding,ie=zr(x._icon),Ae=T.getPixelBounds(),Ye=T.getPixelOrigin(),Ve=Ce(Ae.min._subtract(Ye).add(G),Ae.max._subtract(Ye).subtract(G));if(!Ve.contains(ie)){var Nt=Z((Math.max(Ve.max.x,ie.x)-Ve.max.x)/(Ae.max.x-Ve.max.x)-(Math.min(Ve.min.x,ie.x)-Ve.min.x)/(Ae.min.x-Ve.min.x),(Math.max(Ve.max.y,ie.y)-Ve.max.y)/(Ae.max.y-Ve.max.y)-(Math.min(Ve.min.y,ie.y)-Ve.min.y)/(Ae.min.y-Ve.min.y)).multiplyBy(H);T.panBy(Nt,{animate:!1}),this._draggable._newPos._add(Nt),this._draggable._startPos._add(Nt),Vn(x._icon,this._draggable._newPos),this._onDrag(p),this._panRequest=ke(this._adjustPan.bind(this,p))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(p){this._marker.options.autoPan&&(we(this._panRequest),this._panRequest=ke(this._adjustPan.bind(this,p)))},_onDrag:function(p){var x=this._marker,T=x._shadow,H=zr(x._icon),G=x._map.layerPointToLatLng(H);T&&Vn(T,H),x._latlng=G,p.latlng=G,p.oldLatLng=this._oldLatLng,x.fire("move",p).fire("drag",p)},_onDragEnd:function(p){we(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",p)}}),vo=ko.extend({options:{icon:new pl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(p,x){V(this,x),this._latlng=pe(p)},onAdd:function(p){this._zoomAnimated=this._zoomAnimated&&p.options.markerZoomAnimation,this._zoomAnimated&&p.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(p){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&p.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(p){var x=this._latlng;return this._latlng=pe(p),this.update(),this.fire("move",{oldLatLng:x,latlng:this._latlng})},setZIndexOffset:function(p){return this.options.zIndexOffset=p,this.update()},getIcon:function(){return this.options.icon},setIcon:function(p){return this.options.icon=p,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var p=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(p)}return this},_initIcon:function(){var p=this.options,x="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),T=p.icon.createIcon(this._icon),H=!1;T!==this._icon&&(this._icon&&this._removeIcon(),H=!0,p.title&&(T.title=p.title),T.tagName==="IMG"&&(T.alt=p.alt||"")),Nn(T,x),p.keyboard&&(T.tabIndex="0",T.setAttribute("role","button")),this._icon=T,p.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Xt(T,"focus",this._panOnFocus,this);var G=p.icon.createShadow(this._shadow),ie=!1;G!==this._shadow&&(this._removeShadow(),ie=!0),G&&(Nn(G,x),G.alt=""),this._shadow=G,p.opacity<1&&this._updateOpacity(),H&&this.getPane().appendChild(this._icon),this._initInteraction(),G&&ie&&this.getPane(p.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Jn(this._icon,"focus",this._panOnFocus,this),_i(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&_i(this._shadow),this._shadow=null},_setPos:function(p){this._icon&&Vn(this._icon,p),this._shadow&&Vn(this._shadow,p),this._zIndex=p.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(p){this._icon&&(this._icon.style.zIndex=this._zIndex+p)},_animateZoom:function(p){var x=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center).round();this._setPos(x)},_initInteraction:function(){if(this.options.interactive&&(Nn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ka)){var p=this.options.draggable;this.dragging&&(p=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ka(this),p&&this.dragging.enable()}},setOpacity:function(p){return this.options.opacity=p,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var p=this.options.opacity;this._icon&&Ei(this._icon,p),this._shadow&&Ei(this._shadow,p)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var p=this._map;if(p){var x=this.options.icon.options,T=x.iconSize?Z(x.iconSize):Z(0,0),H=x.iconAnchor?Z(x.iconAnchor):Z(0,0);p.panInside(this._latlng,{paddingTopLeft:H,paddingBottomRight:T.subtract(H)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Od(p,x){return new vo(p,x)}var na=ko.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(p){this._renderer=p.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(p){return V(this,p),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&p&&Object.prototype.hasOwnProperty.call(p,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),gl=na.extend({options:{fill:!0,radius:10},initialize:function(p,x){V(this,x),this._latlng=pe(p),this._radius=this.options.radius},setLatLng:function(p){var x=this._latlng;return this._latlng=pe(p),this.redraw(),this.fire("move",{oldLatLng:x,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(p){return this.options.radius=this._radius=p,this.redraw()},getRadius:function(){return this._radius},setStyle:function(p){var x=p&&p.radius||this._radius;return na.prototype.setStyle.call(this,p),this.setRadius(x),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var p=this._radius,x=this._radiusY||p,T=this._clickTolerance(),H=[p+T,x+T];this._pxBounds=new fe(this._point.subtract(H),this._point.add(H))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(p){return p.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ld(p,x){return new gl(p,x)}var Ic=gl.extend({initialize:function(p,x,T){if(typeof x=="number"&&(x=h({},T,{radius:x})),V(this,x),this._latlng=pe(p),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(p){return this._mRadius=p,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var p=[this._radius,this._radiusY||this._radius];return new Se(this._map.layerPointToLatLng(this._point.subtract(p)),this._map.layerPointToLatLng(this._point.add(p)))},setStyle:na.prototype.setStyle,_project:function(){var p=this._latlng.lng,x=this._latlng.lat,T=this._map,H=T.options.crs;if(H.distance===Ie.distance){var G=Math.PI/180,ie=this._mRadius/Ie.R/G,Ae=T.project([x+ie,p]),Ye=T.project([x-ie,p]),Ve=Ae.add(Ye).divideBy(2),Nt=T.unproject(Ve).lat,zt=Math.acos((Math.cos(ie*G)-Math.sin(x*G)*Math.sin(Nt*G))/(Math.cos(x*G)*Math.cos(Nt*G)))/G;(isNaN(zt)||zt===0)&&(zt=ie/Math.cos(Math.PI/180*x)),this._point=Ve.subtract(T.getPixelOrigin()),this._radius=isNaN(zt)?0:Ve.x-T.project([Nt,p-zt]).x,this._radiusY=Ve.y-Ae.y}else{var Gt=H.unproject(H.project(this._latlng).subtract([this._mRadius,0]));this._point=T.latLngToLayerPoint(this._latlng),this._radius=this._point.x-T.latLngToLayerPoint(Gt).x}this._updateBounds()}});function Tu(p,x,T){return new Ic(p,x,T)}var wo=na.extend({options:{smoothFactor:1,noClip:!1},initialize:function(p,x){V(this,x),this._setLatLngs(p)},getLatLngs:function(){return this._latlngs},setLatLngs:function(p){return this._setLatLngs(p),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(p){for(var x=1/0,T=null,H=qa,G,ie,Ae=0,Ye=this._parts.length;Ae<Ye;Ae++)for(var Ve=this._parts[Ae],Nt=1,zt=Ve.length;Nt<zt;Nt++){G=Ve[Nt-1],ie=Ve[Nt];var Gt=H(p,G,ie,!0);Gt<x&&(x=Gt,T=H(p,G,ie))}return T&&(T.distance=Math.sqrt(x)),T},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Yl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(p,x){return x=x||this._defaultShape(),p=pe(p),x.push(p),this._bounds.extend(p),this.redraw()},_setLatLngs:function(p){this._bounds=new Se,this._latlngs=this._convertLatLngs(p)},_defaultShape:function(){return Wi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(p){for(var x=[],T=Wi(p),H=0,G=p.length;H<G;H++)T?(x[H]=pe(p[H]),this._bounds.extend(x[H])):x[H]=this._convertLatLngs(p[H]);return x},_project:function(){var p=new fe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,p),this._bounds.isValid()&&p.isValid()&&(this._rawPxBounds=p,this._updateBounds())},_updateBounds:function(){var p=this._clickTolerance(),x=new he(p,p);this._rawPxBounds&&(this._pxBounds=new fe([this._rawPxBounds.min.subtract(x),this._rawPxBounds.max.add(x)]))},_projectLatlngs:function(p,x,T){var H=p[0]instanceof et,G=p.length,ie,Ae;if(H){for(Ae=[],ie=0;ie<G;ie++)Ae[ie]=this._map.latLngToLayerPoint(p[ie]),T.extend(Ae[ie]);x.push(Ae)}else for(ie=0;ie<G;ie++)this._projectLatlngs(p[ie],x,T)},_clipPoints:function(){var p=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}var x=this._parts,T,H,G,ie,Ae,Ye,Ve;for(T=0,G=0,ie=this._rings.length;T<ie;T++)for(Ve=this._rings[T],H=0,Ae=Ve.length;H<Ae-1;H++)Ye=Td(Ve[H],Ve[H+1],p,H,!0),Ye&&(x[G]=x[G]||[],x[G].push(Ye[0]),(Ye[1]!==Ve[H+1]||H===Ae-2)&&(x[G].push(Ye[1]),G++))}},_simplifyPoints:function(){for(var p=this._parts,x=this.options.smoothFactor,T=0,H=p.length;T<H;T++)p[T]=Sd(p[T],x)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(p,x){var T,H,G,ie,Ae,Ye,Ve=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(T=0,ie=this._parts.length;T<ie;T++)for(Ye=this._parts[T],H=0,Ae=Ye.length,G=Ae-1;H<Ae;G=H++)if(!(!x&&H===0)&&Oo(p,Ye[G],Ye[H])<=Ve)return!0;return!1}});function Mu(p,x){return new wo(p,x)}wo._flat=Lo;var Bo=wo.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Wl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(p){var x=wo.prototype._convertLatLngs.call(this,p),T=x.length;return T>=2&&x[0]instanceof et&&x[0].equals(x[T-1])&&x.pop(),x},_setLatLngs:function(p){wo.prototype._setLatLngs.call(this,p),Wi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Wi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var p=this._renderer._bounds,x=this.options.weight,T=new he(x,x);if(p=new fe(p.min.subtract(T),p.max.add(T)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}for(var H=0,G=this._rings.length,ie;H<G;H++)ie=Nd(this._rings[H],p,!0),ie.length&&this._parts.push(ie)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(p){var x=!1,T,H,G,ie,Ae,Ye,Ve,Nt;if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(ie=0,Ve=this._parts.length;ie<Ve;ie++)for(T=this._parts[ie],Ae=0,Nt=T.length,Ye=Nt-1;Ae<Nt;Ye=Ae++)H=T[Ae],G=T[Ye],H.y>p.y!=G.y>p.y&&p.x<(G.x-H.x)*(p.y-H.y)/(G.y-H.y)+H.x&&(x=!x);return x||wo.prototype._containsPoint.call(this,p,!0)}});function bs(p,x){return new Bo(p,x)}var Hr=gs.extend({initialize:function(p,x){V(this,x),this._layers={},p&&this.addData(p)},addData:function(p){var x=ee(p)?p:p.features,T,H,G;if(x){for(T=0,H=x.length;T<H;T++)G=x[T],(G.geometries||G.geometry||G.features||G.coordinates)&&this.addData(G);return this}var ie=this.options;if(ie.filter&&!ie.filter(p))return this;var Ae=Vr(p,ie);return Ae?(Ae.feature=Za(p),Ae.defaultOptions=Ae.options,this.resetStyle(Ae),ie.onEachFeature&&ie.onEachFeature(p,Ae),this.addLayer(Ae)):this},resetStyle:function(p){return p===void 0?this.eachLayer(this.resetStyle,this):(p.options=h({},p.defaultOptions),this._setLayerStyle(p,this.options.style),this)},setStyle:function(p){return this.eachLayer(function(x){this._setLayerStyle(x,p)},this)},_setLayerStyle:function(p,x){p.setStyle&&(typeof x=="function"&&(x=x(p.feature)),p.setStyle(x))}});function Vr(p,x){var T=p.type==="Feature"?p.geometry:p,H=T?T.coordinates:null,G=[],ie=x&&x.pointToLayer,Ae=x&&x.coordsToLatLng||Lc,Ye,Ve,Nt,zt;if(!H&&!T)return null;switch(T.type){case"Point":return Ye=Ae(H),Oc(ie,p,Ye,x);case"MultiPoint":for(Nt=0,zt=H.length;Nt<zt;Nt++)Ye=Ae(H[Nt]),G.push(Oc(ie,p,Ye,x));return new gs(G);case"LineString":case"MultiLineString":return Ve=bl(H,T.type==="LineString"?0:1,Ae),new wo(Ve,x);case"Polygon":case"MultiPolygon":return Ve=bl(H,T.type==="Polygon"?1:2,Ae),new Bo(Ve,x);case"GeometryCollection":for(Nt=0,zt=T.geometries.length;Nt<zt;Nt++){var Gt=Vr({geometry:T.geometries[Nt],type:"Feature",properties:p.properties},x);Gt&&G.push(Gt)}return new gs(G);case"FeatureCollection":for(Nt=0,zt=T.features.length;Nt<zt;Nt++){var sn=Vr(T.features[Nt],x);sn&&G.push(sn)}return new gs(G);default:throw new Error("Invalid GeoJSON object.")}}function Oc(p,x,T,H){return p?p(x,T):new vo(T,H&&H.markersInheritOptions&&H)}function Lc(p){return new et(p[1],p[0],p[2])}function bl(p,x,T){for(var H=[],G=0,ie=p.length,Ae;G<ie;G++)Ae=x?bl(p[G],x-1,T):(T||Lc)(p[G]),H.push(Ae);return H}function Qa(p,x){return p=pe(p),p.alt!==void 0?[j(p.lng,x),j(p.lat,x),j(p.alt,x)]:[j(p.lng,x),j(p.lat,x)]}function Bc(p,x,T,H){for(var G=[],ie=0,Ae=p.length;ie<Ae;ie++)G.push(x?Bc(p[ie],Wi(p[ie])?0:x-1,T,H):Qa(p[ie],H));return!x&&T&&G.length>0&&G.push(G[0].slice()),G}function Js(p,x){return p.feature?h({},p.feature,{geometry:x}):Za(x)}function Za(p){return p.type==="Feature"||p.type==="FeatureCollection"?p:{type:"Feature",properties:{},geometry:p}}var wa={toGeoJSON:function(p){return Js(this,{type:"Point",coordinates:Qa(this.getLatLng(),p)})}};vo.include(wa),Ic.include(wa),gl.include(wa),wo.include({toGeoJSON:function(p){var x=!Wi(this._latlngs),T=Bc(this._latlngs,x?1:0,!1,p);return Js(this,{type:(x?"Multi":"")+"LineString",coordinates:T})}}),Bo.include({toGeoJSON:function(p){var x=!Wi(this._latlngs),T=x&&!Wi(this._latlngs[0]),H=Bc(this._latlngs,T?2:x?1:0,!0,p);return x||(H=[H]),Js(this,{type:(T?"Multi":"")+"Polygon",coordinates:H})}}),Ga.include({toMultiPoint:function(p){var x=[];return this.eachLayer(function(T){x.push(T.toGeoJSON(p).geometry.coordinates)}),Js(this,{type:"MultiPoint",coordinates:x})},toGeoJSON:function(p){var x=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(x==="MultiPoint")return this.toMultiPoint(p);var T=x==="GeometryCollection",H=[];return this.eachLayer(function(G){if(G.toGeoJSON){var ie=G.toGeoJSON(p);if(T)H.push(ie.geometry);else{var Ae=Za(ie);Ae.type==="FeatureCollection"?H.push.apply(H,Ae.features):H.push(Ae)}}}),T?Js(this,{geometries:H,type:"GeometryCollection"}):{type:"FeatureCollection",features:H}}});function bi(p,x){return new Hr(p,x)}var Rc=bi,Es=ko.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(p,x,T){this._url=p,this._bounds=He(x),V(this,T)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Nn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){_i(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(p){return this.options.opacity=p,this._image&&this._updateOpacity(),this},setStyle:function(p){return p.opacity&&this.setOpacity(p.opacity),this},bringToFront:function(){return this._map&&To(this._image),this},bringToBack:function(){return this._map&&Jo(this._image),this},setUrl:function(p){return this._url=p,this._image&&(this._image.src=p),this},setBounds:function(p){return this._bounds=He(p),this._map&&this._reset(),this},getEvents:function(){var p={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var p=this._url.tagName==="IMG",x=this._image=p?this._url:Yn("img");if(Nn(x,"leaflet-image-layer"),this._zoomAnimated&&Nn(x,"leaflet-zoom-animated"),this.options.className&&Nn(x,this.options.className),x.onselectstart=D,x.onmousemove=D,x.onload=_(this.fire,this,"load"),x.onerror=_(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),p){this._url=x.src;return}x.src=this._url,x.alt=this.options.alt},_animateZoom:function(p){var x=this._map.getZoomScale(p.zoom),T=this._map._latLngBoundsToNewLayerBounds(this._bounds,p.zoom,p.center).min;$i(this._image,T,x)},_reset:function(){var p=this._image,x=new fe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),T=x.getSize();Vn(p,x.min),p.style.width=T.x+"px",p.style.height=T.y+"px"},_updateOpacity:function(){Ei(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var p=this.options.errorOverlayUrl;p&&this._url!==p&&(this._url=p,this._image.src=p)},getCenter:function(){return this._bounds.getCenter()}}),Ss=function(p,x,T){return new Es(p,x,T)},Xa=Es.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var p=this._url.tagName==="VIDEO",x=this._image=p?this._url:Yn("video");if(Nn(x,"leaflet-image-layer"),this._zoomAnimated&&Nn(x,"leaflet-zoom-animated"),this.options.className&&Nn(x,this.options.className),x.onselectstart=D,x.onmousemove=D,x.onloadeddata=_(this.fire,this,"load"),p){for(var T=x.getElementsByTagName("source"),H=[],G=0;G<T.length;G++)H.push(T[G].src);this._url=T.length>0?H:[x.src];return}ee(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(x.style,"objectFit")&&(x.style.objectFit="fill"),x.autoplay=!!this.options.autoplay,x.loop=!!this.options.loop,x.muted=!!this.options.muted,x.playsInline=!!this.options.playsInline;for(var ie=0;ie<this._url.length;ie++){var Ae=Yn("source");Ae.src=this._url[ie],x.appendChild(Ae)}}});function Bd(p,x,T){return new Xa(p,x,T)}var ya=Es.extend({_initImage:function(){var p=this._image=this._url;Nn(p,"leaflet-image-layer"),this._zoomAnimated&&Nn(p,"leaflet-zoom-animated"),this.options.className&&Nn(p,this.options.className),p.onselectstart=D,p.onmousemove=D}});function Jr(p,x,T){return new ya(p,x,T)}var sr=ko.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(p,x){p&&(p instanceof et||ee(p))?(this._latlng=pe(p),V(this,x)):(V(this,p),this._source=x),this.options.content&&(this._content=this.options.content)},openOn:function(p){return p=arguments.length?p:this._source._map,p.hasLayer(this)||p.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(p){return this._map?this.close():(arguments.length?this._source=p:p=this._source,this._prepareOpen(),this.openOn(p._map)),this},onAdd:function(p){this._zoomAnimated=p._zoomAnimated,this._container||this._initLayout(),p._fadeAnimated&&Ei(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),p._fadeAnimated&&Ei(this._container,1),this.bringToFront(),this.options.interactive&&(Nn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(p){p._fadeAnimated?(Ei(this._container,0),this._removeTimeout=setTimeout(_(_i,void 0,this._container),200)):_i(this._container),this.options.interactive&&(Gn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(p){return this._latlng=pe(p),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(p){return this._content=p,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var p={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&To(this._container),this},bringToBack:function(){return this._map&&Jo(this._container),this},_prepareOpen:function(p){var x=this._source;if(!x._map)return!1;if(x instanceof gs){x=null;var T=this._source._layers;for(var H in T)if(T[H]._map){x=T[H];break}if(!x)return!1;this._source=x}if(!p)if(x.getCenter)p=x.getCenter();else if(x.getLatLng)p=x.getLatLng();else if(x.getBounds)p=x.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(p),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var p=this._contentNode,x=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof x=="string")p.innerHTML=x;else{for(;p.hasChildNodes();)p.removeChild(p.firstChild);p.appendChild(x)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var p=this._map.latLngToLayerPoint(this._latlng),x=Z(this.options.offset),T=this._getAnchor();this._zoomAnimated?Vn(this._container,p.add(T)):x=x.add(p).add(T);var H=this._containerBottom=-x.y,G=this._containerLeft=-Math.round(this._containerWidth/2)+x.x;this._container.style.bottom=H+"px",this._container.style.left=G+"px"}},_getAnchor:function(){return[0,0]}});Pn.include({_initOverlay:function(p,x,T,H){var G=x;return G instanceof p||(G=new p(H).setContent(x)),T&&G.setLatLng(T),G}}),ko.include({_initOverlay:function(p,x,T,H){var G=T;return G instanceof p?(V(G,H),G._source=this):(G=x&&!H?x:new p(H,this),G.setContent(T)),G}});var Ja=sr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(p){return p=arguments.length?p:this._source._map,!p.hasLayer(this)&&p._popup&&p._popup.options.autoClose&&p.removeLayer(p._popup),p._popup=this,sr.prototype.openOn.call(this,p)},onAdd:function(p){sr.prototype.onAdd.call(this,p),p.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof na||this._source.on("preclick",bo))},onRemove:function(p){sr.prototype.onRemove.call(this,p),p.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof na||this._source.off("preclick",bo))},getEvents:function(){var p=sr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(p.preclick=this.close),this.options.keepInView&&(p.moveend=this._adjustPan),p},_initLayout:function(){var p="leaflet-popup",x=this._container=Yn("div",p+" "+(this.options.className||"")+" leaflet-zoom-animated"),T=this._wrapper=Yn("div",p+"-content-wrapper",x);if(this._contentNode=Yn("div",p+"-content",T),Mo(x),Ks(this._contentNode),Xt(x,"contextmenu",bo),this._tipContainer=Yn("div",p+"-tip-container",x),this._tip=Yn("div",p+"-tip",this._tipContainer),this.options.closeButton){var H=this._closeButton=Yn("a",p+"-close-button",x);H.setAttribute("role","button"),H.setAttribute("aria-label","Close popup"),H.href="#close",H.innerHTML='<span aria-hidden="true">&#215;</span>',Xt(H,"click",function(G){Tn(G),this.close()},this)}},_updateLayout:function(){var p=this._contentNode,x=p.style;x.width="",x.whiteSpace="nowrap";var T=p.offsetWidth;T=Math.min(T,this.options.maxWidth),T=Math.max(T,this.options.minWidth),x.width=T+1+"px",x.whiteSpace="",x.height="";var H=p.offsetHeight,G=this.options.maxHeight,ie="leaflet-popup-scrolled";G&&H>G?(x.height=G+"px",Nn(p,ie)):Gn(p,ie),this._containerWidth=this._container.offsetWidth},_animateZoom:function(p){var x=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center),T=this._getAnchor();Vn(this._container,x.add(T))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var p=this._map,x=parseInt(po(this._container,"marginBottom"),10)||0,T=this._container.offsetHeight+x,H=this._containerWidth,G=new he(this._containerLeft,-T-this._containerBottom);G._add(zr(this._container));var ie=p.layerPointToContainerPoint(G),Ae=Z(this.options.autoPanPadding),Ye=Z(this.options.autoPanPaddingTopLeft||Ae),Ve=Z(this.options.autoPanPaddingBottomRight||Ae),Nt=p.getSize(),zt=0,Gt=0;ie.x+H+Ve.x>Nt.x&&(zt=ie.x+H-Nt.x+Ve.x),ie.x-zt-Ye.x<0&&(zt=ie.x-Ye.x),ie.y+T+Ve.y>Nt.y&&(Gt=ie.y+T-Nt.y+Ve.y),ie.y-Gt-Ye.y<0&&(Gt=ie.y-Ye.y),(zt||Gt)&&(this.options.keepInView&&(this._autopanning=!0),p.fire("autopanstart").panBy([zt,Gt]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),eo=function(p,x){return new Ja(p,x)};Pn.mergeOptions({closePopupOnClick:!0}),Pn.include({openPopup:function(p,x,T){return this._initOverlay(Ja,p,x,T).openOn(this),this},closePopup:function(p){return p=arguments.length?p:this._popup,p&&p.close(),this}}),ko.include({bindPopup:function(p,x){return this._popup=this._initOverlay(Ja,this._popup,p,x),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(p){return this._popup&&(this instanceof gs||(this._popup._source=this),this._popup._prepareOpen(p||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(p){return this._popup&&this._popup.setContent(p),this},getPopup:function(){return this._popup},_openPopup:function(p){if(!(!this._popup||!this._map)){Cs(p);var x=p.layer||p.target;if(this._popup._source===x&&!(x instanceof na)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(p.latlng);return}this._popup._source=x,this.openPopup(p.latlng)}},_movePopup:function(p){this._popup.setLatLng(p.latlng)},_onKeyPress:function(p){p.originalEvent.keyCode===13&&this._openPopup(p)}});var Ql=sr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(p){sr.prototype.onAdd.call(this,p),this.setOpacity(this.options.opacity),p.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(p){sr.prototype.onRemove.call(this,p),p.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var p=sr.prototype.getEvents.call(this);return this.options.permanent||(p.preclick=this.close),p},_initLayout:function(){var p="leaflet-tooltip",x=p+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Yn("div",x),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(p){var x,T,H=this._map,G=this._container,ie=H.latLngToContainerPoint(H.getCenter()),Ae=H.layerPointToContainerPoint(p),Ye=this.options.direction,Ve=G.offsetWidth,Nt=G.offsetHeight,zt=Z(this.options.offset),Gt=this._getAnchor();Ye==="top"?(x=Ve/2,T=Nt):Ye==="bottom"?(x=Ve/2,T=0):Ye==="center"?(x=Ve/2,T=Nt/2):Ye==="right"?(x=0,T=Nt/2):Ye==="left"?(x=Ve,T=Nt/2):Ae.x<ie.x?(Ye="right",x=0,T=Nt/2):(Ye="left",x=Ve+(zt.x+Gt.x)*2,T=Nt/2),p=p.subtract(Z(x,T,!0)).add(zt).add(Gt),Gn(G,"leaflet-tooltip-right"),Gn(G,"leaflet-tooltip-left"),Gn(G,"leaflet-tooltip-top"),Gn(G,"leaflet-tooltip-bottom"),Nn(G,"leaflet-tooltip-"+Ye),Vn(G,p)},_updatePosition:function(){var p=this._map.latLngToLayerPoint(this._latlng);this._setPosition(p)},setOpacity:function(p){this.options.opacity=p,this._container&&Ei(this._container,p)},_animateZoom:function(p){var x=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center);this._setPosition(x)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Rd=function(p,x){return new Ql(p,x)};Pn.include({openTooltip:function(p,x,T){return this._initOverlay(Ql,p,x,T).openOn(this),this},closeTooltip:function(p){return p.close(),this}}),ko.include({bindTooltip:function(p,x){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ql,this._tooltip,p,x),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(p){if(!(!p&&this._tooltipHandlersAdded)){var x=p?"off":"on",T={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?T.add=this._openTooltip:(T.mouseover=this._openTooltip,T.mouseout=this.closeTooltip,T.click=this._openTooltip,this._map?this._addFocusListeners():T.add=this._addFocusListeners),this._tooltip.options.sticky&&(T.mousemove=this._moveTooltip),this[x](T),this._tooltipHandlersAdded=!p}},openTooltip:function(p){return this._tooltip&&(this instanceof gs||(this._tooltip._source=this),this._tooltip._prepareOpen(p)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(p){return this._tooltip&&this._tooltip.setContent(p),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(p){var x=typeof p.getElement=="function"&&p.getElement();x&&(Xt(x,"focus",function(){this._tooltip._source=p,this.openTooltip()},this),Xt(x,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(p){var x=typeof p.getElement=="function"&&p.getElement();x&&x.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(p){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var x=this;this._map.once("moveend",function(){x._openOnceFlag=!1,x._openTooltip(p)});return}this._tooltip._source=p.layer||p.target,this.openTooltip(this._tooltip.options.sticky?p.latlng:void 0)}},_moveTooltip:function(p){var x=p.latlng,T,H;this._tooltip.options.sticky&&p.originalEvent&&(T=this._map.mouseEventToContainerPoint(p.originalEvent),H=this._map.containerPointToLayerPoint(T),x=this._map.layerPointToLatLng(H)),this._tooltip.setLatLng(x)}});var Zl=_o.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(p){var x=p&&p.tagName==="DIV"?p:document.createElement("div"),T=this.options;if(T.html instanceof Element?(_r(x),x.appendChild(T.html)):x.innerHTML=T.html!==!1?T.html:"",T.bgPos){var H=Z(T.bgPos);x.style.backgroundPosition=-H.x+"px "+-H.y+"px"}return this._setIconStyles(x,"icon"),x},createShadow:function(){return null}});function Yi(p){return new Zl(p)}_o.Default=pl;var Ro=ko.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ye.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(p){V(this,p)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(p){p._addZoomLimit(this)},onRemove:function(p){this._removeAllTiles(),_i(this._container),p._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(To(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Jo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(p){return this.options.opacity=p,this._updateOpacity(),this},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var p=this._clampZoom(this._map.getZoom());p!==this._tileZoom&&(this._tileZoom=p,this._updateLevels()),this._update()}return this},getEvents:function(){var p={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=N(this._onMoveEnd,this.options.updateInterval,this)),p.move=this._onMove),this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},createTile:function(){return document.createElement("div")},getTileSize:function(){var p=this.options.tileSize;return p instanceof he?p:new he(p,p)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(p){for(var x=this.getPane().children,T=-p(-1/0,1/0),H=0,G=x.length,ie;H<G;H++)ie=x[H].style.zIndex,x[H]!==this._container&&ie&&(T=p(T,+ie));isFinite(T)&&(this.options.zIndex=T+p(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ye.ielt9){Ei(this._container,this.options.opacity);var p=+new Date,x=!1,T=!1;for(var H in this._tiles){var G=this._tiles[H];if(!(!G.current||!G.loaded)){var ie=Math.min(1,(p-G.loaded)/200);Ei(G.el,ie),ie<1?x=!0:(G.active?T=!0:this._onOpaqueTile(G),G.active=!0)}}T&&!this._noPrune&&this._pruneTiles(),x&&(we(this._fadeFrame),this._fadeFrame=ke(this._updateOpacity,this))}},_onOpaqueTile:D,_initContainer:function(){this._container||(this._container=Yn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var p=this._tileZoom,x=this.options.maxZoom;if(p!==void 0){for(var T in this._levels)T=Number(T),this._levels[T].el.children.length||T===p?(this._levels[T].el.style.zIndex=x-Math.abs(p-T),this._onUpdateLevel(T)):(_i(this._levels[T].el),this._removeTilesAtZoom(T),this._onRemoveLevel(T),delete this._levels[T]);var H=this._levels[p],G=this._map;return H||(H=this._levels[p]={},H.el=Yn("div","leaflet-tile-container leaflet-zoom-animated",this._container),H.el.style.zIndex=x,H.origin=G.project(G.unproject(G.getPixelOrigin()),p).round(),H.zoom=p,this._setZoomTransform(H,G.getCenter(),G.getZoom()),D(H.el.offsetWidth),this._onCreateLevel(H)),this._level=H,H}},_onUpdateLevel:D,_onRemoveLevel:D,_onCreateLevel:D,_pruneTiles:function(){if(this._map){var p,x,T=this._map.getZoom();if(T>this.options.maxZoom||T<this.options.minZoom){this._removeAllTiles();return}for(p in this._tiles)x=this._tiles[p],x.retain=x.current;for(p in this._tiles)if(x=this._tiles[p],x.current&&!x.active){var H=x.coords;this._retainParent(H.x,H.y,H.z,H.z-5)||this._retainChildren(H.x,H.y,H.z,H.z+2)}for(p in this._tiles)this._tiles[p].retain||this._removeTile(p)}},_removeTilesAtZoom:function(p){for(var x in this._tiles)this._tiles[x].coords.z===p&&this._removeTile(x)},_removeAllTiles:function(){for(var p in this._tiles)this._removeTile(p)},_invalidateAll:function(){for(var p in this._levels)_i(this._levels[p].el),this._onRemoveLevel(Number(p)),delete this._levels[p];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(p,x,T,H){var G=Math.floor(p/2),ie=Math.floor(x/2),Ae=T-1,Ye=new he(+G,+ie);Ye.z=+Ae;var Ve=this._tileCoordsToKey(Ye),Nt=this._tiles[Ve];return Nt&&Nt.active?(Nt.retain=!0,!0):(Nt&&Nt.loaded&&(Nt.retain=!0),Ae>H?this._retainParent(G,ie,Ae,H):!1)},_retainChildren:function(p,x,T,H){for(var G=2*p;G<2*p+2;G++)for(var ie=2*x;ie<2*x+2;ie++){var Ae=new he(G,ie);Ae.z=T+1;var Ye=this._tileCoordsToKey(Ae),Ve=this._tiles[Ye];if(Ve&&Ve.active){Ve.retain=!0;continue}else Ve&&Ve.loaded&&(Ve.retain=!0);T+1<H&&this._retainChildren(G,ie,T+1,H)}},_resetView:function(p){var x=p&&(p.pinch||p.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),x,x)},_animateZoom:function(p){this._setView(p.center,p.zoom,!0,p.noUpdate)},_clampZoom:function(p){var x=this.options;return x.minNativeZoom!==void 0&&p<x.minNativeZoom?x.minNativeZoom:x.maxNativeZoom!==void 0&&x.maxNativeZoom<p?x.maxNativeZoom:p},_setView:function(p,x,T,H){var G=Math.round(x);this.options.maxZoom!==void 0&&G>this.options.maxZoom||this.options.minZoom!==void 0&&G<this.options.minZoom?G=void 0:G=this._clampZoom(G);var ie=this.options.updateWhenZooming&&G!==this._tileZoom;(!H||ie)&&(this._tileZoom=G,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),G!==void 0&&this._update(p),T||this._pruneTiles(),this._noPrune=!!T),this._setZoomTransforms(p,x)},_setZoomTransforms:function(p,x){for(var T in this._levels)this._setZoomTransform(this._levels[T],p,x)},_setZoomTransform:function(p,x,T){var H=this._map.getZoomScale(T,p.zoom),G=p.origin.multiplyBy(H).subtract(this._map._getNewPixelOrigin(x,T)).round();ye.any3d?$i(p.el,G,H):Vn(p.el,G)},_resetGrid:function(){var p=this._map,x=p.options.crs,T=this._tileSize=this.getTileSize(),H=this._tileZoom,G=this._map.getPixelWorldBounds(this._tileZoom);G&&(this._globalTileRange=this._pxBoundsToTileRange(G)),this._wrapX=x.wrapLng&&!this.options.noWrap&&[Math.floor(p.project([0,x.wrapLng[0]],H).x/T.x),Math.ceil(p.project([0,x.wrapLng[1]],H).x/T.y)],this._wrapY=x.wrapLat&&!this.options.noWrap&&[Math.floor(p.project([x.wrapLat[0],0],H).y/T.x),Math.ceil(p.project([x.wrapLat[1],0],H).y/T.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(p){var x=this._map,T=x._animatingZoom?Math.max(x._animateToZoom,x.getZoom()):x.getZoom(),H=x.getZoomScale(T,this._tileZoom),G=x.project(p,this._tileZoom).floor(),ie=x.getSize().divideBy(H*2);return new fe(G.subtract(ie),G.add(ie))},_update:function(p){var x=this._map;if(x){var T=this._clampZoom(x.getZoom());if(p===void 0&&(p=x.getCenter()),this._tileZoom!==void 0){var H=this._getTiledPixelBounds(p),G=this._pxBoundsToTileRange(H),ie=G.getCenter(),Ae=[],Ye=this.options.keepBuffer,Ve=new fe(G.getBottomLeft().subtract([Ye,-Ye]),G.getTopRight().add([Ye,-Ye]));if(!(isFinite(G.min.x)&&isFinite(G.min.y)&&isFinite(G.max.x)&&isFinite(G.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Nt in this._tiles){var zt=this._tiles[Nt].coords;(zt.z!==this._tileZoom||!Ve.contains(new he(zt.x,zt.y)))&&(this._tiles[Nt].current=!1)}if(Math.abs(T-this._tileZoom)>1){this._setView(p,T);return}for(var Gt=G.min.y;Gt<=G.max.y;Gt++)for(var sn=G.min.x;sn<=G.max.x;sn++){var bn=new he(sn,Gt);if(bn.z=this._tileZoom,!!this._isValidTile(bn)){var gn=this._tiles[this._tileCoordsToKey(bn)];gn?gn.current=!0:Ae.push(bn)}}if(Ae.sort(function(hr,Ts){return hr.distanceTo(ie)-Ts.distanceTo(ie)}),Ae.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var yi=document.createDocumentFragment();for(sn=0;sn<Ae.length;sn++)this._addTile(Ae[sn],yi);this._level.el.appendChild(yi)}}}},_isValidTile:function(p){var x=this._map.options.crs;if(!x.infinite){var T=this._globalTileRange;if(!x.wrapLng&&(p.x<T.min.x||p.x>T.max.x)||!x.wrapLat&&(p.y<T.min.y||p.y>T.max.y))return!1}if(!this.options.bounds)return!0;var H=this._tileCoordsToBounds(p);return He(this.options.bounds).overlaps(H)},_keyToBounds:function(p){return this._tileCoordsToBounds(this._keyToTileCoords(p))},_tileCoordsToNwSe:function(p){var x=this._map,T=this.getTileSize(),H=p.scaleBy(T),G=H.add(T),ie=x.unproject(H,p.z),Ae=x.unproject(G,p.z);return[ie,Ae]},_tileCoordsToBounds:function(p){var x=this._tileCoordsToNwSe(p),T=new Se(x[0],x[1]);return this.options.noWrap||(T=this._map.wrapLatLngBounds(T)),T},_tileCoordsToKey:function(p){return p.x+":"+p.y+":"+p.z},_keyToTileCoords:function(p){var x=p.split(":"),T=new he(+x[0],+x[1]);return T.z=+x[2],T},_removeTile:function(p){var x=this._tiles[p];x&&(_i(x.el),delete this._tiles[p],this.fire("tileunload",{tile:x.el,coords:this._keyToTileCoords(p)}))},_initTile:function(p){Nn(p,"leaflet-tile");var x=this.getTileSize();p.style.width=x.x+"px",p.style.height=x.y+"px",p.onselectstart=D,p.onmousemove=D,ye.ielt9&&this.options.opacity<1&&Ei(p,this.options.opacity)},_addTile:function(p,x){var T=this._getTilePos(p),H=this._tileCoordsToKey(p),G=this.createTile(this._wrapCoords(p),_(this._tileReady,this,p));this._initTile(G),this.createTile.length<2&&ke(_(this._tileReady,this,p,null,G)),Vn(G,T),this._tiles[H]={el:G,coords:p,current:!0},x.appendChild(G),this.fire("tileloadstart",{tile:G,coords:p})},_tileReady:function(p,x,T){x&&this.fire("tileerror",{error:x,tile:T,coords:p});var H=this._tileCoordsToKey(p);T=this._tiles[H],T&&(T.loaded=+new Date,this._map._fadeAnimated?(Ei(T.el,0),we(this._fadeFrame),this._fadeFrame=ke(this._updateOpacity,this)):(T.active=!0,this._pruneTiles()),x||(Nn(T.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:T.el,coords:p})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ye.ielt9||!this._map._fadeAnimated?ke(this._pruneTiles,this):setTimeout(_(this._pruneTiles,this),250)))},_getTilePos:function(p){return p.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(p){var x=new he(this._wrapX?S(p.x,this._wrapX):p.x,this._wrapY?S(p.y,this._wrapY):p.y);return x.z=p.z,x},_pxBoundsToTileRange:function(p){var x=this.getTileSize();return new fe(p.min.unscaleBy(x).floor(),p.max.unscaleBy(x).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var p in this._tiles)if(!this._tiles[p].loaded)return!1;return!0}});function to(p){return new Ro(p)}var xa=Ro.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(p,x){this._url=p,x=V(this,x),x.detectRetina&&ye.retina&&x.maxZoom>0?(x.tileSize=Math.floor(x.tileSize/2),x.zoomReverse?(x.zoomOffset--,x.minZoom=Math.min(x.maxZoom,x.minZoom+1)):(x.zoomOffset++,x.maxZoom=Math.max(x.minZoom,x.maxZoom-1)),x.minZoom=Math.max(0,x.minZoom)):x.zoomReverse?x.minZoom=Math.min(x.maxZoom,x.minZoom):x.maxZoom=Math.max(x.minZoom,x.maxZoom),typeof x.subdomains=="string"&&(x.subdomains=x.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(p,x){return this._url===p&&x===void 0&&(x=!0),this._url=p,x||this.redraw(),this},createTile:function(p,x){var T=document.createElement("img");return Xt(T,"load",_(this._tileOnLoad,this,x,T)),Xt(T,"error",_(this._tileOnError,this,x,T)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(T.referrerPolicy=this.options.referrerPolicy),T.alt="",T.src=this.getTileUrl(p),T},getTileUrl:function(p){var x={r:ye.retina?"@2x":"",s:this._getSubdomain(p),x:p.x,y:p.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var T=this._globalTileRange.max.y-p.y;this.options.tms&&(x.y=T),x["-y"]=T}return Q(this._url,h(x,this.options))},_tileOnLoad:function(p,x){ye.ielt9?setTimeout(_(p,this,null,x),0):p(null,x)},_tileOnError:function(p,x,T){var H=this.options.errorTileUrl;H&&x.getAttribute("src")!==H&&(x.src=H),p(T,x)},_onTileRemove:function(p){p.tile.onload=null},_getZoomForUrl:function(){var p=this._tileZoom,x=this.options.maxZoom,T=this.options.zoomReverse,H=this.options.zoomOffset;return T&&(p=x-p),p+H},_getSubdomain:function(p){var x=Math.abs(p.x+p.y)%this.options.subdomains.length;return this.options.subdomains[x]},_abortLoading:function(){var p,x;for(p in this._tiles)if(this._tiles[p].coords.z!==this._tileZoom&&(x=this._tiles[p].el,x.onload=D,x.onerror=D,!x.complete)){x.src=le;var T=this._tiles[p].coords;_i(x),delete this._tiles[p],this.fire("tileabort",{tile:x,coords:T})}},_removeTile:function(p){var x=this._tiles[p];if(x)return x.el.setAttribute("src",le),Ro.prototype._removeTile.call(this,p)},_tileReady:function(p,x,T){if(!(!this._map||T&&T.getAttribute("src")===le))return Ro.prototype._tileReady.call(this,p,x,T)}});function pn(p,x){return new xa(p,x)}var Dr=xa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(p,x){this._url=p;var T=h({},this.defaultWmsParams);for(var H in x)H in this.options||(T[H]=x[H]);x=V(this,x);var G=x.detectRetina&&ye.retina?2:1,ie=this.getTileSize();T.width=ie.x*G,T.height=ie.y*G,this.wmsParams=T},onAdd:function(p){this._crs=this.options.crs||p.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var x=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[x]=this._crs.code,xa.prototype.onAdd.call(this,p)},getTileUrl:function(p){var x=this._tileCoordsToNwSe(p),T=this._crs,H=Ce(T.project(x[0]),T.project(x[1])),G=H.min,ie=H.max,Ae=(this._wmsVersion>=1.3&&this._crs===Id?[G.y,G.x,ie.y,ie.x]:[G.x,G.y,ie.x,ie.y]).join(","),Ye=xa.prototype.getTileUrl.call(this,p);return Ye+$(this.wmsParams,Ye,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ae},setParams:function(p,x){return h(this.wmsParams,p),x||this.redraw(),this}});function el(p,x){return new Dr(p,x)}xa.WMS=Dr,pn.wms=el;var js=ko.extend({options:{padding:.1},initialize:function(p){V(this,p),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Nn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var p={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(p.zoomanim=this._onAnimZoom),p},_onAnimZoom:function(p){this._updateTransform(p.center,p.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(p,x){var T=this._map.getZoomScale(x,this._zoom),H=this._map.getSize().multiplyBy(.5+this.options.padding),G=this._map.project(this._center,x),ie=H.multiplyBy(-T).add(G).subtract(this._map._getNewPixelOrigin(p,x));ye.any3d?$i(this._container,ie,T):Vn(this._container,ie)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var p in this._layers)this._layers[p]._reset()},_onZoomEnd:function(){for(var p in this._layers)this._layers[p]._project()},_updatePaths:function(){for(var p in this._layers)this._layers[p]._update()},_update:function(){var p=this.options.padding,x=this._map.getSize(),T=this._map.containerPointToLayerPoint(x.multiplyBy(-p)).round();this._bounds=new fe(T,T.add(x.multiplyBy(1+p*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),kl=js.extend({options:{tolerance:0},getEvents:function(){var p=js.prototype.getEvents.call(this);return p.viewprereset=this._onViewPreReset,p},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){js.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var p=this._container=document.createElement("canvas");Xt(p,"mousemove",this._onMouseMove,this),Xt(p,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Xt(p,"mouseout",this._handleMouseOut,this),p._leaflet_disable_events=!0,this._ctx=p.getContext("2d")},_destroyContainer:function(){we(this._redrawRequest),delete this._ctx,_i(this._container),Jn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var p;this._redrawBounds=null;for(var x in this._layers)p=this._layers[x],p._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){js.prototype._update.call(this);var p=this._bounds,x=this._container,T=p.getSize(),H=ye.retina?2:1;Vn(x,p.min),x.width=H*T.x,x.height=H*T.y,x.style.width=T.x+"px",x.style.height=T.y+"px",ye.retina&&this._ctx.scale(2,2),this._ctx.translate(-p.min.x,-p.min.y),this.fire("update")}},_reset:function(){js.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(p){this._updateDashArray(p),this._layers[v(p)]=p;var x=p._order={layer:p,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=x),this._drawLast=x,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(p){this._requestRedraw(p)},_removePath:function(p){var x=p._order,T=x.next,H=x.prev;T?T.prev=H:this._drawLast=H,H?H.next=T:this._drawFirst=T,delete p._order,delete this._layers[v(p)],this._requestRedraw(p)},_updatePath:function(p){this._extendRedrawBounds(p),p._project(),p._update(),this._requestRedraw(p)},_updateStyle:function(p){this._updateDashArray(p),this._requestRedraw(p)},_updateDashArray:function(p){if(typeof p.options.dashArray=="string"){var x=p.options.dashArray.split(/[, ]+/),T=[],H,G;for(G=0;G<x.length;G++){if(H=Number(x[G]),isNaN(H))return;T.push(H)}p.options._dashArray=T}else p.options._dashArray=p.options.dashArray},_requestRedraw:function(p){this._map&&(this._extendRedrawBounds(p),this._redrawRequest=this._redrawRequest||ke(this._redraw,this))},_extendRedrawBounds:function(p){if(p._pxBounds){var x=(p.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new fe,this._redrawBounds.extend(p._pxBounds.min.subtract([x,x])),this._redrawBounds.extend(p._pxBounds.max.add([x,x]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var p=this._redrawBounds;if(p){var x=p.getSize();this._ctx.clearRect(p.min.x,p.min.y,x.x,x.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var p,x=this._redrawBounds;if(this._ctx.save(),x){var T=x.getSize();this._ctx.beginPath(),this._ctx.rect(x.min.x,x.min.y,T.x,T.y),this._ctx.clip()}this._drawing=!0;for(var H=this._drawFirst;H;H=H.next)p=H.layer,(!x||p._pxBounds&&p._pxBounds.intersects(x))&&p._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(p,x){if(this._drawing){var T,H,G,ie,Ae=p._parts,Ye=Ae.length,Ve=this._ctx;if(Ye){for(Ve.beginPath(),T=0;T<Ye;T++){for(H=0,G=Ae[T].length;H<G;H++)ie=Ae[T][H],Ve[H?"lineTo":"moveTo"](ie.x,ie.y);x&&Ve.closePath()}this._fillStroke(Ve,p)}}},_updateCircle:function(p){if(!(!this._drawing||p._empty())){var x=p._point,T=this._ctx,H=Math.max(Math.round(p._radius),1),G=(Math.max(Math.round(p._radiusY),1)||H)/H;G!==1&&(T.save(),T.scale(1,G)),T.beginPath(),T.arc(x.x,x.y/G,H,0,Math.PI*2,!1),G!==1&&T.restore(),this._fillStroke(T,p)}},_fillStroke:function(p,x){var T=x.options;T.fill&&(p.globalAlpha=T.fillOpacity,p.fillStyle=T.fillColor||T.color,p.fill(T.fillRule||"evenodd")),T.stroke&&T.weight!==0&&(p.setLineDash&&p.setLineDash(x.options&&x.options._dashArray||[]),p.globalAlpha=T.opacity,p.lineWidth=T.weight,p.strokeStyle=T.color,p.lineCap=T.lineCap,p.lineJoin=T.lineJoin,p.stroke())},_onClick:function(p){for(var x=this._map.mouseEventToLayerPoint(p),T,H,G=this._drawFirst;G;G=G.next)T=G.layer,T.options.interactive&&T._containsPoint(x)&&(!(p.type==="click"||p.type==="preclick")||!this._map._draggableMoved(T))&&(H=T);this._fireEvent(H?[H]:!1,p)},_onMouseMove:function(p){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var x=this._map.mouseEventToLayerPoint(p);this._handleMouseHover(p,x)}},_handleMouseOut:function(p){var x=this._hoveredLayer;x&&(Gn(this._container,"leaflet-interactive"),this._fireEvent([x],p,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(p,x){if(!this._mouseHoverThrottled){for(var T,H,G=this._drawFirst;G;G=G.next)T=G.layer,T.options.interactive&&T._containsPoint(x)&&(H=T);H!==this._hoveredLayer&&(this._handleMouseOut(p),H&&(Nn(this._container,"leaflet-interactive"),this._fireEvent([H],p,"mouseover"),this._hoveredLayer=H)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,p),this._mouseHoverThrottled=!0,setTimeout(_(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(p,x,T){this._map._fireDOMEvent(x,T||x.type,p)},_bringToFront:function(p){var x=p._order;if(x){var T=x.next,H=x.prev;if(T)T.prev=H;else return;H?H.next=T:T&&(this._drawFirst=T),x.prev=this._drawLast,this._drawLast.next=x,x.next=null,this._drawLast=x,this._requestRedraw(p)}},_bringToBack:function(p){var x=p._order;if(x){var T=x.next,H=x.prev;if(H)H.next=T;else return;T?T.prev=H:H&&(this._drawLast=H),x.prev=null,x.next=this._drawFirst,this._drawFirst.prev=x,this._drawFirst=x,this._requestRedraw(p)}}});function Bi(p){return ye.canvas?new kl(p):null}var yo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(p){return document.createElement("<lvml:"+p+' class="lvml">')}}catch{}return function(p){return document.createElement("<"+p+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),es={_initContainer:function(){this._container=Yn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(js.prototype._update.call(this),this.fire("update"))},_initPath:function(p){var x=p._container=yo("shape");Nn(x,"leaflet-vml-shape "+(this.options.className||"")),x.coordsize="1 1",p._path=yo("path"),x.appendChild(p._path),this._updateStyle(p),this._layers[v(p)]=p},_addPath:function(p){var x=p._container;this._container.appendChild(x),p.options.interactive&&p.addInteractiveTarget(x)},_removePath:function(p){var x=p._container;_i(x),p.removeInteractiveTarget(x),delete this._layers[v(p)]},_updateStyle:function(p){var x=p._stroke,T=p._fill,H=p.options,G=p._container;G.stroked=!!H.stroke,G.filled=!!H.fill,H.stroke?(x||(x=p._stroke=yo("stroke")),G.appendChild(x),x.weight=H.weight+"px",x.color=H.color,x.opacity=H.opacity,H.dashArray?x.dashStyle=ee(H.dashArray)?H.dashArray.join(" "):H.dashArray.replace(/( *, *)/g," "):x.dashStyle="",x.endcap=H.lineCap.replace("butt","flat"),x.joinstyle=H.lineJoin):x&&(G.removeChild(x),p._stroke=null),H.fill?(T||(T=p._fill=yo("fill")),G.appendChild(T),T.color=H.fillColor||H.color,T.opacity=H.fillOpacity):T&&(G.removeChild(T),p._fill=null)},_updateCircle:function(p){var x=p._point.round(),T=Math.round(p._radius),H=Math.round(p._radiusY||T);this._setPath(p,p._empty()?"M0 0":"AL "+x.x+","+x.y+" "+T+","+H+" 0,"+65535*360)},_setPath:function(p,x){p._path.v=x},_bringToFront:function(p){To(p._container)},_bringToBack:function(p){Jo(p._container)}},xo=ye.vml?yo:Fe,no=js.extend({_initContainer:function(){this._container=xo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=xo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){_i(this._container),Jn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){js.prototype._update.call(this);var p=this._bounds,x=p.getSize(),T=this._container;(!this._svgSize||!this._svgSize.equals(x))&&(this._svgSize=x,T.setAttribute("width",x.x),T.setAttribute("height",x.y)),Vn(T,p.min),T.setAttribute("viewBox",[p.min.x,p.min.y,x.x,x.y].join(" ")),this.fire("update")}},_initPath:function(p){var x=p._path=xo("path");p.options.className&&Nn(x,p.options.className),p.options.interactive&&Nn(x,"leaflet-interactive"),this._updateStyle(p),this._layers[v(p)]=p},_addPath:function(p){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(p._path),p.addInteractiveTarget(p._path)},_removePath:function(p){_i(p._path),p.removeInteractiveTarget(p._path),delete this._layers[v(p)]},_updatePath:function(p){p._project(),p._update()},_updateStyle:function(p){var x=p._path,T=p.options;x&&(T.stroke?(x.setAttribute("stroke",T.color),x.setAttribute("stroke-opacity",T.opacity),x.setAttribute("stroke-width",T.weight),x.setAttribute("stroke-linecap",T.lineCap),x.setAttribute("stroke-linejoin",T.lineJoin),T.dashArray?x.setAttribute("stroke-dasharray",T.dashArray):x.removeAttribute("stroke-dasharray"),T.dashOffset?x.setAttribute("stroke-dashoffset",T.dashOffset):x.removeAttribute("stroke-dashoffset")):x.setAttribute("stroke","none"),T.fill?(x.setAttribute("fill",T.fillColor||T.color),x.setAttribute("fill-opacity",T.fillOpacity),x.setAttribute("fill-rule",T.fillRule||"evenodd")):x.setAttribute("fill","none"))},_updatePoly:function(p,x){this._setPath(p,ht(p._parts,x))},_updateCircle:function(p){var x=p._point,T=Math.max(Math.round(p._radius),1),H=Math.max(Math.round(p._radiusY),1)||T,G="a"+T+","+H+" 0 1,0 ",ie=p._empty()?"M0 0":"M"+(x.x-T)+","+x.y+G+T*2+",0 "+G+-T*2+",0 ";this._setPath(p,ie)},_setPath:function(p,x){p._path.setAttribute("d",x)},_bringToFront:function(p){To(p._path)},_bringToBack:function(p){Jo(p._path)}});ye.vml&&no.include(es);function Ca(p){return ye.svg||ye.vml?new no(p):null}Pn.include({getRenderer:function(p){var x=p.options.renderer||this._getPaneRenderer(p.options.pane)||this.options.renderer||this._renderer;return x||(x=this._renderer=this._createRenderer()),this.hasLayer(x)||this.addLayer(x),x},_getPaneRenderer:function(p){if(p==="overlayPane"||p===void 0)return!1;var x=this._paneRenderers[p];return x===void 0&&(x=this._createRenderer({pane:p}),this._paneRenderers[p]=x),x},_createRenderer:function(p){return this.options.preferCanvas&&Bi(p)||Ca(p)}});var _l=Bo.extend({initialize:function(p,x){Bo.prototype.initialize.call(this,this._boundsToLatLngs(p),x)},setBounds:function(p){return this.setLatLngs(this._boundsToLatLngs(p))},_boundsToLatLngs:function(p){return p=He(p),[p.getSouthWest(),p.getNorthWest(),p.getNorthEast(),p.getSouthEast()]}});function ur(p,x){return new _l(p,x)}no.create=xo,no.pointsToPath=ht,Hr.geometryToLayer=Vr,Hr.coordsToLatLng=Lc,Hr.coordsToLatLngs=bl,Hr.latLngToCoords=Qa,Hr.latLngsToCoords=Bc,Hr.getFeature=Js,Hr.asFeature=Za,Pn.mergeOptions({boxZoom:!0});var Xl=Fr.extend({initialize:function(p){this._map=p,this._container=p._container,this._pane=p._panes.overlayPane,this._resetStateTimeout=0,p.on("unload",this._destroy,this)},addHooks:function(){Xt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Jn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){_i(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(p){if(!p.shiftKey||p.which!==1&&p.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Sr(),Gs(),this._startPoint=this._map.mouseEventToContainerPoint(p),Xt(document,{contextmenu:Cs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(p){this._moved||(this._moved=!0,this._box=Yn("div","leaflet-zoom-box",this._container),Nn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(p);var x=new fe(this._point,this._startPoint),T=x.getSize();Vn(this._box,x.min),this._box.style.width=T.x+"px",this._box.style.height=T.y+"px"},_finish:function(){this._moved&&(_i(this._box),Gn(this._container,"leaflet-crosshair")),ms(),xe(),Jn(document,{contextmenu:Cs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(p){if(!(p.which!==1&&p.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(_(this._resetState,this),0);var x=new Se(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(x).fire("boxzoomend",{boxZoomBounds:x})}},_onKeyDown:function(p){p.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Pn.addInitHook("addHandler","boxZoom",Xl),Pn.mergeOptions({doubleClickZoom:!0});var Ds=Fr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(p){var x=this._map,T=x.getZoom(),H=x.options.zoomDelta,G=p.originalEvent.shiftKey?T-H:T+H;x.options.doubleClickZoom==="center"?x.setZoom(G):x.setZoomAround(p.containerPoint,G)}});Pn.addInitHook("addHandler","doubleClickZoom",Ds),Pn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Pc=Fr.extend({addHooks:function(){if(!this._draggable){var p=this._map;this._draggable=new Qs(p._mapPane,p._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),p.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),p.on("zoomend",this._onZoomEnd,this),p.whenReady(this._onZoomEnd,this))}Nn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Gn(this._map._container,"leaflet-grab"),Gn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var p=this._map;if(p._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var x=He(this._map.options.maxBounds);this._offsetLimit=Ce(this._map.latLngToContainerPoint(x.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(x.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;p.fire("movestart").fire("dragstart"),p.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(p){if(this._map.options.inertia){var x=this._lastTime=+new Date,T=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(T),this._times.push(x),this._prunePositions(x)}this._map.fire("move",p).fire("drag",p)},_prunePositions:function(p){for(;this._positions.length>1&&p-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var p=this._map.getSize().divideBy(2),x=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=x.subtract(p).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(p,x){return p-(p-x)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var p=this._draggable._newPos.subtract(this._draggable._startPos),x=this._offsetLimit;p.x<x.min.x&&(p.x=this._viscousLimit(p.x,x.min.x)),p.y<x.min.y&&(p.y=this._viscousLimit(p.y,x.min.y)),p.x>x.max.x&&(p.x=this._viscousLimit(p.x,x.max.x)),p.y>x.max.y&&(p.y=this._viscousLimit(p.y,x.max.y)),this._draggable._newPos=this._draggable._startPos.add(p)}},_onPreDragWrap:function(){var p=this._worldWidth,x=Math.round(p/2),T=this._initialWorldOffset,H=this._draggable._newPos.x,G=(H-x+T)%p+x-T,ie=(H+x+T)%p-x-T,Ae=Math.abs(G+T)<Math.abs(ie+T)?G:ie;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ae},_onDragEnd:function(p){var x=this._map,T=x.options,H=!T.inertia||p.noInertia||this._times.length<2;if(x.fire("dragend",p),H)x.fire("moveend");else{this._prunePositions(+new Date);var G=this._lastPos.subtract(this._positions[0]),ie=(this._lastTime-this._times[0])/1e3,Ae=T.easeLinearity,Ye=G.multiplyBy(Ae/ie),Ve=Ye.distanceTo([0,0]),Nt=Math.min(T.inertiaMaxSpeed,Ve),zt=Ye.multiplyBy(Nt/Ve),Gt=Nt/(T.inertiaDeceleration*Ae),sn=zt.multiplyBy(-Gt/2).round();!sn.x&&!sn.y?x.fire("moveend"):(sn=x._limitOffset(sn,x.options.maxBounds),ke(function(){x.panBy(sn,{duration:Gt,easeLinearity:Ae,noMoveStart:!0,animate:!0})}))}}});Pn.addInitHook("addHandler","dragging",Pc),Pn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var vl=Fr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(p){this._map=p,this._setPanDelta(p.options.keyboardPanDelta),this._setZoomDelta(p.options.zoomDelta)},addHooks:function(){var p=this._map._container;p.tabIndex<=0&&(p.tabIndex="0"),Xt(p,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Jn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var p=document.body,x=document.documentElement,T=p.scrollTop||x.scrollTop,H=p.scrollLeft||x.scrollLeft;this._map._container.focus(),window.scrollTo(H,T)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(p){var x=this._panKeys={},T=this.keyCodes,H,G;for(H=0,G=T.left.length;H<G;H++)x[T.left[H]]=[-1*p,0];for(H=0,G=T.right.length;H<G;H++)x[T.right[H]]=[p,0];for(H=0,G=T.down.length;H<G;H++)x[T.down[H]]=[0,p];for(H=0,G=T.up.length;H<G;H++)x[T.up[H]]=[0,-1*p]},_setZoomDelta:function(p){var x=this._zoomKeys={},T=this.keyCodes,H,G;for(H=0,G=T.zoomIn.length;H<G;H++)x[T.zoomIn[H]]=p;for(H=0,G=T.zoomOut.length;H<G;H++)x[T.zoomOut[H]]=-p},_addHooks:function(){Xt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Jn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(p){if(!(p.altKey||p.ctrlKey||p.metaKey)){var x=p.keyCode,T=this._map,H;if(x in this._panKeys){if(!T._panAnim||!T._panAnim._inProgress)if(H=this._panKeys[x],p.shiftKey&&(H=Z(H).multiplyBy(3)),T.options.maxBounds&&(H=T._limitOffset(Z(H),T.options.maxBounds)),T.options.worldCopyJump){var G=T.wrapLatLng(T.unproject(T.project(T.getCenter()).add(H)));T.panTo(G)}else T.panBy(H)}else if(x in this._zoomKeys)T.setZoom(T.getZoom()+(p.shiftKey?3:1)*this._zoomKeys[x]);else if(x===27&&T._popup&&T._popup.options.closeOnEscapeKey)T.closePopup();else return;Cs(p)}}});Pn.addInitHook("addHandler","keyboard",vl),Pn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Co=Fr.extend({addHooks:function(){Xt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Jn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(p){var x=ea(p),T=this._map.options.wheelDebounceTime;this._delta+=x,this._lastMousePos=this._map.mouseEventToContainerPoint(p),this._startTime||(this._startTime=+new Date);var H=Math.max(T-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(_(this._performZoom,this),H),Cs(p)},_performZoom:function(){var p=this._map,x=p.getZoom(),T=this._map.options.zoomSnap||0;p._stop();var H=this._delta/(this._map.options.wheelPxPerZoomLevel*4),G=4*Math.log(2/(1+Math.exp(-Math.abs(H))))/Math.LN2,ie=T?Math.ceil(G/T)*T:G,Ae=p._limitZoom(x+(this._delta>0?ie:-ie))-x;this._delta=0,this._startTime=null,Ae&&(p.options.scrollWheelZoom==="center"?p.setZoom(x+Ae):p.setZoomAround(this._lastMousePos,x+Ae))}});Pn.addInitHook("addHandler","scrollWheelZoom",Co);var wl=600;Pn.mergeOptions({tapHold:ye.touchNative&&ye.safari&&ye.mobile,tapTolerance:15});var zc=Fr.extend({addHooks:function(){Xt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Jn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(p){if(clearTimeout(this._holdTimeout),p.touches.length===1){var x=p.touches[0];this._startPos=this._newPos=new he(x.clientX,x.clientY),this._holdTimeout=setTimeout(_(function(){this._cancel(),this._isTapValid()&&(Xt(document,"touchend",Tn),Xt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",x))},this),wl),Xt(document,"touchend touchcancel contextmenu",this._cancel,this),Xt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function p(){Jn(document,"touchend",Tn),Jn(document,"touchend touchcancel",p)},_cancel:function(){clearTimeout(this._holdTimeout),Jn(document,"touchend touchcancel contextmenu",this._cancel,this),Jn(document,"touchmove",this._onMove,this)},_onMove:function(p){var x=p.touches[0];this._newPos=new he(x.clientX,x.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(p,x){var T=new MouseEvent(p,{bubbles:!0,cancelable:!0,view:window,screenX:x.screenX,screenY:x.screenY,clientX:x.clientX,clientY:x.clientY});T._simulated=!0,x.target.dispatchEvent(T)}});Pn.addInitHook("addHandler","tapHold",zc),Pn.mergeOptions({touchZoom:ye.touch,bounceAtZoomLimits:!0});var ia=Fr.extend({addHooks:function(){Nn(this._map._container,"leaflet-touch-zoom"),Xt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Gn(this._map._container,"leaflet-touch-zoom"),Jn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(p){var x=this._map;if(!(!p.touches||p.touches.length!==2||x._animatingZoom||this._zooming)){var T=x.mouseEventToContainerPoint(p.touches[0]),H=x.mouseEventToContainerPoint(p.touches[1]);this._centerPoint=x.getSize()._divideBy(2),this._startLatLng=x.containerPointToLatLng(this._centerPoint),x.options.touchZoom!=="center"&&(this._pinchStartLatLng=x.containerPointToLatLng(T.add(H)._divideBy(2))),this._startDist=T.distanceTo(H),this._startZoom=x.getZoom(),this._moved=!1,this._zooming=!0,x._stop(),Xt(document,"touchmove",this._onTouchMove,this),Xt(document,"touchend touchcancel",this._onTouchEnd,this),Tn(p)}},_onTouchMove:function(p){if(!(!p.touches||p.touches.length!==2||!this._zooming)){var x=this._map,T=x.mouseEventToContainerPoint(p.touches[0]),H=x.mouseEventToContainerPoint(p.touches[1]),G=T.distanceTo(H)/this._startDist;if(this._zoom=x.getScaleZoom(G,this._startZoom),!x.options.bounceAtZoomLimits&&(this._zoom<x.getMinZoom()&&G<1||this._zoom>x.getMaxZoom()&&G>1)&&(this._zoom=x._limitZoom(this._zoom)),x.options.touchZoom==="center"){if(this._center=this._startLatLng,G===1)return}else{var ie=T._add(H)._divideBy(2)._subtract(this._centerPoint);if(G===1&&ie.x===0&&ie.y===0)return;this._center=x.unproject(x.project(this._pinchStartLatLng,this._zoom).subtract(ie),this._zoom)}this._moved||(x._moveStart(!0,!1),this._moved=!0),we(this._animRequest);var Ae=_(x._move,x,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ke(Ae,this,!0),Tn(p)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,we(this._animRequest),Jn(document,"touchmove",this._onTouchMove,this),Jn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Pn.addInitHook("addHandler","touchZoom",ia),Pn.BoxZoom=Xl,Pn.DoubleClickZoom=Ds,Pn.Drag=Pc,Pn.Keyboard=vl,Pn.ScrollWheelZoom=Co,Pn.TapHold=zc,Pn.TouchZoom=ia,s.Bounds=fe,s.Browser=ye,s.CRS=me,s.Canvas=kl,s.Circle=Ic,s.CircleMarker=gl,s.Class=_e,s.Control=Xr,s.DivIcon=Zl,s.DivOverlay=sr,s.DomEvent=Cd,s.DomUtil=hl,s.Draggable=Qs,s.Evented=ve,s.FeatureGroup=gs,s.GeoJSON=Hr,s.GridLayer=Ro,s.Handler=Fr,s.Icon=_o,s.ImageOverlay=Es,s.LatLng=et,s.LatLngBounds=Se,s.Layer=ko,s.LayerGroup=Ga,s.LineUtil=Wa,s.Map=Pn,s.Marker=vo,s.Mixin=ju,s.Path=na,s.Point=he,s.PolyUtil=Ed,s.Polygon=Bo,s.Polyline=wo,s.Popup=Ja,s.PosAnimation=Io,s.Projection=Md,s.Rectangle=_l,s.Renderer=js,s.SVG=no,s.SVGOverlay=ya,s.TileLayer=xa,s.Tooltip=Ql,s.Transformation=st,s.Util=De,s.VideoOverlay=Xa,s.bind=_,s.bounds=Ce,s.canvas=Bi,s.circle=Tu,s.circleMarker=Ld,s.control=Ns,s.divIcon=Yi,s.extend=h,s.featureGroup=Xs,s.geoJSON=bi,s.geoJson=Rc,s.gridLayer=to,s.icon=Mc,s.imageOverlay=Ss,s.latLng=pe,s.latLngBounds=He,s.layerGroup=Zs,s.map=Va,s.marker=Od,s.point=Z,s.polygon=bs,s.polyline=Mu,s.popup=eo,s.rectangle=ur,s.setOptions=V,s.stamp=v,s.svg=Ca,s.svgOverlay=Jr,s.tileLayer=pn,s.tooltip=Rd,s.transformation=Ge,s.version=o,s.videoOverlay=Bd;var Aa=window.L;s.noConflict=function(){return window.L=Aa,this},window.L=s})}(ob,ob.exports)),ob.exports}var yp=Y$();const lr=Vm(yp);function rw(l,c,s){return Object.freeze({instance:l,context:c,container:s})}function sw(l,c){return c==null?function(o,h){const g=I.useRef(void 0);return g.current||(g.current=l(o,h)),g}:function(o,h){const g=I.useRef(void 0);g.current||(g.current=l(o,h));const _=I.useRef(o),{instance:y}=g.current;return I.useEffect(function(){_.current!==o&&(c(y,o,_.current),_.current=o)},[y,o,c]),g}}function q3(l,c){I.useEffect(function(){return(c.layerContainer??c.map).addLayer(l.instance),function(){var g;(g=c.layerContainer)==null||g.removeLayer(l.instance),c.map.removeLayer(l.instance)}},[c,l])}function W3(l){return function(s){const o=nw(),h=l(iw(s,o),o);return V3(o.map,s.attribution),KA(h.current,s.eventHandlers),q3(h.current,o),h}}function G$(l,c){const s=I.useRef(void 0);I.useEffect(function(){if(c.pathOptions!==s.current){const h=c.pathOptions??{};l.instance.setStyle(h),s.current=h}},[l,c])}function K$(l){return function(s){const o=nw(),h=l(iw(s,o),o);return KA(h.current,s.eventHandlers),q3(h.current,o),G$(h.current,s),h}}function Q$(l,c){const s=sw(l,c),o=W3(s);return $3(o)}function Z$(l,c){const s=sw(l),o=q$(s,c);return U$(o)}function X$(l,c){const s=sw(l,c),o=K$(s);return $3(o)}function J$(l,c){const s=sw(l,c),o=W3(s);return $$(o)}function eq(l,c,s){const{opacity:o,zIndex:h}=c;o!=null&&o!==s.opacity&&l.setOpacity(o),h!=null&&h!==s.zIndex&&l.setZIndex(h)}function Ch(){return nw().map}function tq({bounds:l,boundsOptions:c,center:s,children:o,className:h,id:g,placeholder:_,style:y,whenReady:v,zoom:N,...S},D){const[j]=I.useState({className:h,id:g,style:y}),[B,F]=I.useState(null),V=I.useRef(void 0);I.useImperativeHandle(D,()=>(B==null?void 0:B.map)??null,[B]);const $=I.useCallback(Q=>{if(Q!==null&&!V.current){const ee=new yp.Map(Q,S);V.current=ee,s!=null&&N!=null?ee.setView(s,N):l!=null&&ee.fitBounds(l,c),v!=null&&ee.whenReady(v),F(V$(ee))}},[]);I.useEffect(()=>()=>{B==null||B.map.remove()},[B]);const K=B?nt.createElement(GA,{value:B},o):_??null;return nt.createElement("div",{...j,ref:$},K)}const gb=I.forwardRef(tq),co=Q$(function({position:c,...s},o){const h=new yp.Marker(c,s);return rw(h,U3(o,{overlayContainer:h}))},function(c,s,o){s.position!==o.position&&c.setLatLng(s.position),s.icon!=null&&s.icon!==o.icon&&c.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==o.zIndexOffset&&c.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==o.opacity&&c.setOpacity(s.opacity),c.dragging!=null&&s.draggable!==o.draggable&&(s.draggable===!0?c.dragging.enable():c.dragging.disable())}),nq=X$(function({positions:c,...s},o){const h=new yp.Polyline(c,s);return rw(h,U3(o,{overlayContainer:h}))},function(c,s,o){s.positions!==o.positions&&c.setLatLngs(s.positions)}),uo=Z$(function(c,s){const o=new yp.Popup(c,s.overlayContainer);return rw(o,s)},function(c,s,{position:o},h){I.useEffect(function(){const{instance:_}=c;function y(N){N.popup===_&&(_.update(),h(!0))}function v(N){N.popup===_&&h(!1)}return s.map.on({popupopen:y,popupclose:v}),s.overlayContainer==null?(o!=null&&_.setLatLng(o),_.openOn(s.map)):s.overlayContainer.bindPopup(_),function(){var S;s.map.off({popupopen:y,popupclose:v}),(S=s.overlayContainer)==null||S.unbindPopup(),s.map.removeLayer(_)}},[c,s,h,o])}),bb=J$(function({url:c,...s},o){const h=new yp.TileLayer(c,iw(s,o));return rw(h,o)},function(c,s,o){eq(c,s,o);const{url:h}=s;h!=null&&h!==o.url&&c.setUrl(h)}),ow="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%201024%201024'%20class='icon'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M533.333333%20277.333333m-149.333333%200a149.333333%20149.333333%200%201%200%20298.666667%200%20149.333333%20149.333333%200%201%200-298.666667%200Z'%20fill='%234CAF50'%20/%3e%3cpath%20d='M298.666667%20469.333333a85.333333%2085.333333%200%201%201-0.042667%20170.709334A85.333333%2085.333333%200%200%201%20298.666667%20469.333333'%20fill='%23FFB74D'%20/%3e%3cpath%20d='M426.666667%20746.666667H170.666667a21.333333%2021.333333%200%200%201-21.333334-21.333334v-64a21.333333%2021.333333%200%200%201%2021.333334-21.333333h256a21.333333%2021.333333%200%200%201%2021.333333%2021.333333v64a21.333333%2021.333333%200%200%201-21.333333%2021.333334z'%20fill='%23E1BEE7'%20/%3e%3cpath%20d='M917.333333%20725.333333H426.666667a21.333333%2021.333333%200%200%201-21.333334-21.333333v-192h476.096C914.602667%20512%20938.666667%20536.192%20938.666667%20569.514667V704a21.333333%2021.333333%200%200%201-21.333334%2021.333333z'%20fill='%239C27B0'%20/%3e%3cpath%20d='M192%20896H85.333333V384h106.666667v320h746.666667v192h-106.666667v-85.333333H192v85.333333z'%20fill='%23FF9800'%20/%3e%3cpath%20d='M512%20234.666667h42.666667v149.333333h-42.666667z'%20fill='%23FFFFFF'%20/%3e%3cpath%20d='M533.333333%20192m-21.333333%200a21.333333%2021.333333%200%201%200%2042.666667%200%2021.333333%2021.333333%200%201%200-42.666667%200Z'%20fill='%23FFFFFF'%20/%3e%3c/svg%3e",aw="/assets/restaurant-marker-Bubo7wyi.svg",iq="https://walkingguide.onrender.com";new lr.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]});const rq=new lr.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),sq=l=>{if(l.image_url){const o=l.image_url.startsWith("http")?l.image_url:`${iq}${l.image_url}`;return new lr.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          overflow: hidden;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
          <img 
            src="${o}" 
            alt="${l.name}"
            style="
              width: 100%;
              height: 100%;
              margin-left: 11px;
              object-fit: cover;
            "
            onerror="this.style.display='none'; this.parentElement.innerHTML='<i class=\\"bi bi-geo-alt-fill\\" style=\\"font-size: 20px; color: #3498db;\\"></i>';"
          />
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})}else return new lr.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
          <i className="bi bi-geo-alt-fill" style="fontSize: 24, color: '#3498db'"></i>
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})},oq=new lr.Icon({iconUrl:ow,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]}),aq=new lr.Icon({iconUrl:aw,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]});function lq({onLocationUpdate:l}){const c=Ch(),s=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(o=>{const h=o.coords.latitude,g=o.coords.longitude;c.setView([h,g],15),l&&l({lat:h,lng:g})},o=>{console.error("Error getting current location:",o),alert("Không thể lấy vị trí hiện tại. Vui lòng kiểm tra quyền truy cập vị trí.")}):alert("Trình duyệt của bạn không hỗ trợ định vị.")};return i.jsx("div",{className:"leaflet-control leaflet-bar location-control",children:i.jsx("button",{onClick:s,title:"Đến vị trí hiện tại",children:i.jsx("i",{className:"bi bi-geo-alt-fill"})})})}function cq(){const l=Ch(),c=()=>{l.zoomIn()},s=()=>{l.zoomOut()};return i.jsxs("div",{className:"leaflet-control leaflet-bar zoom-controls",children:[i.jsx("button",{onClick:c,title:"Phóng to",className:"zoom-in-btn",children:i.jsx("i",{className:"bi bi-plus-lg"})}),i.jsx("button",{onClick:s,title:"Thu nhỏ",className:"zoom-out-btn",children:i.jsx("i",{className:"bi bi-dash-lg"})})]})}function dq({locations:l,selectedCity:c,currentLocation:s}){const o=Ch();return I.useEffect(()=>{if(l.length>0){const h=lr.latLngBounds(l.map(g=>[g.lat,g.lng]));s&&h.extend([s.lat,s.lng]),o.fitBounds(h,{padding:[20,20],maxZoom:15,animate:!0})}},[c,l,s,o]),null}function uq({locations:l,currentLocation:c}){const s=Ch(),o=()=>{if(l.length>0){const h=lr.latLngBounds(l.map(g=>[g.lat,g.lng]));c&&h.extend([c.lat,c.lng]),s.fitBounds(h,{padding:[20,20],maxZoom:15,animate:!0})}};return i.jsx("div",{className:"leaflet-control leaflet-bar fit-markers-control",children:i.jsx("button",{onClick:o,title:"Hiển thị tất cả địa điểm",children:i.jsx("i",{className:"bi bi-grid-3x3-gap"})})})}function hq({locations:l=[],hotels:c=[],restaurants:s=[],className:o,selectedCity:h}){let _=[10.8231,106.6297],y=13;const[v,N]=I.useState(null),[S,D]=I.useState(!1),[j,B]=I.useState("");I.useEffect(()=>{F()},[]);const F=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(ne=>{const{latitude:le,longitude:se}=ne.coords;N({lat:le,lng:se})},ne=>{console.error("Error getting location:",ne),B("Không thể lấy vị trí hiện tại. Vui lòng kiểm tra quyền truy cập vị trí."),D(!0)}):(B("Trình duyệt của bạn không hỗ trợ định vị."),D(!0))},V=ne=>{N(ne)},$=l.filter(ne=>typeof ne.lat=="number"&&typeof ne.lng=="number"&&!isNaN(ne.lat)&&!isNaN(ne.lng)),K=c.filter(ne=>typeof ne.latitude=="number"&&typeof ne.longitude=="number"&&!isNaN(ne.latitude)&&!isNaN(ne.longitude)),Q=s.filter(ne=>typeof ne.latitude=="number"&&typeof ne.longitude=="number"&&!isNaN(ne.latitude)&&!isNaN(ne.longitude));console.log("validHotels",K),console.log("validRestaurants",Q);const ee=[...$.map(ne=>[ne.lat,ne.lng]),...K.map(ne=>[ne.latitude,ne.longitude]),...Q.map(ne=>[ne.latitude,ne.longitude])];return ee.length>0&&(ee.length===1?(_=ee[0],y=15):(_=lr.latLngBounds(ee).getCenter(),y=10)),i.jsxs("div",{className:o,style:{height:"24rem",width:"100%",background:"#e9ecef",overflow:"hidden"},children:[S&&i.jsxs("div",{className:"alert alert-warning alert-dismissible fade show position-absolute top-0 start-0 m-3",style:{zIndex:1e3},role:"alert",children:[i.jsx("i",{className:"bi bi-geo-alt me-2"}),j,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>D(!1)})]}),ee.length===0?i.jsx("div",{className:"text-center text-muted h-100 d-flex align-items-center justify-content-center",children:"Không có địa điểm hợp lệ để hiển thị"}):i.jsxs(gb,{center:_,zoom:y,style:{height:"100%",width:"100%"},scrollWheelZoom:!1,children:[i.jsx(bb,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),i.jsx(dq,{locations:$,selectedCity:h,currentLocation:v}),i.jsx(uq,{locations:$,currentLocation:v}),i.jsx(lq,{onLocationUpdate:V}),i.jsx(cq,{}),v&&i.jsx(co,{position:[v.lat,v.lng],icon:rq,children:i.jsx(uo,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("h6",{className:"text-primary mb-1",children:"Vị trí hiện tại"}),i.jsxs("small",{className:"text-muted",children:[v.lat.toFixed(6),", ",v.lng.toFixed(6)]})]})})}),$.map(ne=>i.jsx(co,{position:[ne.lat,ne.lng],icon:sq(ne),children:i.jsx(uo,{children:ne.name})},ne.id)),K.map(ne=>i.jsx(co,{position:[ne.latitude,ne.longitude],icon:oq,children:i.jsx(uo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:ne.name}),i.jsx("br",{}),ne.address&&i.jsxs("span",{children:[ne.address,i.jsx("br",{})]}),ne.city&&i.jsxs("span",{children:[ne.city,i.jsx("br",{})]}),ne.price_range&&i.jsxs("span",{children:["Giá: ",ne.price_range,i.jsx("br",{})]}),ne.rating&&i.jsxs("span",{children:["Đánh giá: ",ne.rating.toFixed(1)," / 5"]})]})})},`hotel-${ne.id}`)),Q.map(ne=>i.jsx(co,{position:[ne.latitude,ne.longitude],icon:aq,children:i.jsx(uo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:ne.name}),i.jsx("br",{}),ne.address&&i.jsxs("span",{children:[ne.address,i.jsx("br",{})]}),ne.city&&i.jsxs("span",{children:[ne.city,i.jsx("br",{})]}),ne.price_range&&i.jsxs("span",{children:["Giá: ",ne.price_range,i.jsx("br",{})]}),ne.rating&&i.jsxs("span",{children:["Đánh giá: ",ne.rating.toFixed(1)," / 5"]})]})})},`restaurant-${ne.id}`))]})]})}const mq=({activePage:l,isAuthenticated:c})=>i.jsx("aside",{className:"luxury-sidebar d-none d-lg-block luxury-sidebar-collapsed",children:i.jsx("nav",{children:i.jsxs("ul",{className:"luxury-sidebar-nav list-unstyled mb-0",children:[i.jsx("li",{children:i.jsxs(tn,{to:"/explore",className:`luxury-sidebar-link${l==="explore"?" active":""}`,style:{textDecoration:"none"},children:[i.jsx("i",{className:"bi bi-map luxury-sidebar-icon"}),i.jsx("span",{className:"luxury-sidebar-label",children:"Khám phá"})]})}),i.jsx("li",{children:i.jsxs(tn,{to:"/manual-planner",className:`luxury-sidebar-link${l==="/manual-planner"?" active":""}`,style:{textDecoration:"none"},children:[i.jsx("i",{className:"bi bi-calendar2-check luxury-sidebar-icon"}),i.jsx("span",{className:"luxury-sidebar-label",children:"Lên kế hoạch"})]})}),i.jsx("li",{children:i.jsxs(tn,{to:"/my-tours",className:`luxury-sidebar-link${l==="mytours"?" active":""}`,style:{textDecoration:"none"},children:[i.jsx("i",{className:"bi bi-person-walking luxury-sidebar-icon"}),i.jsx("span",{className:"luxury-sidebar-label",children:"Tour của tôi"})]})}),c&&i.jsx("li",{children:i.jsxs(tn,{to:"/users",className:`luxury-sidebar-link${l==="profile"?" active":""}`,style:{textDecoration:"none"},children:[i.jsx("i",{className:"bi bi-person-circle luxury-sidebar-icon"}),i.jsx("span",{className:"luxury-sidebar-label",children:"Hồ sơ"})]})})]})})}),QA=({value:l,onChange:c,placeholder:s="Nhập địa điểm..."})=>{const[o,h]=I.useState([]),[g,_]=I.useState(!1),[y,v]=I.useState(l),[N,S]=I.useState(!1),[D,j]=I.useState(null),[B,F]=I.useState(!1),V=I.useRef(null),$=I.useRef(null);I.useEffect(()=>{v(l)},[l]),I.useEffect(()=>{const se=q=>{V.current&&!V.current.contains(q.target)&&_(!1)};return document.addEventListener("mousedown",se),()=>{document.removeEventListener("mousedown",se)}},[]);const K=async se=>{if(!se||se.length<3){h([]),_(!1);return}S(!0);try{const q=await fetch(`https://walkingguide.onrender.com/api/geocoding/search?q=${encodeURIComponent(se)}&limit=8&addressdetails=1`);if(!q.ok)throw new Error("Network response was not ok");const re=(await q.json()).filter(be=>{const ke=be.address;return ke&&(ke.country==="Việt Nam"||ke.country==="Vietnam")&&(ke.city||ke.town||ke.state||ke.suburb||ke.neighbourhood)}).map(be=>{const ke=be.address,we=ke.city||ke.town||ke.state,De=ke.suburb||ke.neighbourhood||ke.district;let _e=be.display_name;return we&&De?_e=`${De}, ${we}`:we&&(_e=we),{id:be.place_id,name:_e,full_name:be.display_name,city:we,district:De,country:ke.country,coordinates:{lat:parseFloat(be.lat),lon:parseFloat(be.lon)}}}).filter((be,ke,we)=>ke===we.findIndex(De=>De.name===be.name)).slice(0,8);h(re),_(re.length>0)}catch(q){console.error("Error searching locations:",q),h([]),_(!1)}finally{S(!1)}},Q=()=>{if(!navigator.geolocation){alert("Trình duyệt của bạn không hỗ trợ định vị.");return}F(!0),navigator.geolocation.getCurrentPosition(async se=>{const{latitude:q,longitude:de}=se.coords;j({lat:q,lng:de});try{const re=await fetch(`https://walkingguide.onrender.com/api/geocoding/reverse?lat=${q}&lon=${de}&format=json&addressdetails=1`);if(re.ok){const be=await re.json(),ke=be.address,we=ke.city||ke.town||ke.state,De=ke.suburb||ke.neighbourhood||ke.district;let _e="Vị trí hiện tại";we&&De?_e=`${De}, ${we}`:we&&(_e=we);const je={id:"current-location",name:_e,full_name:be.display_name,city:we,district:De,country:ke.country,coordinates:{lat:q,lon:de},isCurrentLocation:!0};v(_e),c(_e),h([je]),_(!0)}}catch(re){console.error("Error reverse geocoding:",re);const be=`Vị trí hiện tại (${q.toFixed(4)}, ${de.toFixed(4)})`;v(be),c(be)}},se=>{console.error("Error getting current location:",se);let q="Không thể lấy vị trí hiện tại.";switch(se.code){case se.PERMISSION_DENIED:q="Quyền truy cập vị trí bị từ chối. Vui lòng cho phép truy cập vị trí trong trình duyệt.";break;case se.POSITION_UNAVAILABLE:q="Thông tin vị trí không khả dụng.";break;case se.TIMEOUT:q="Hết thời gian lấy vị trí.";break}alert(q)})},ee=se=>{const q=se.target.value;v(q),c(q),$.current&&clearTimeout($.current),$.current=setTimeout(()=>{K(q)},300)},ne=se=>{const q=(se.isCurrentLocation,se.name);v(q),c(q),_(!1),h([])},le=se=>{se.key==="Enter"&&o.length>0?ne(o[0]):se.key==="Escape"&&_(!1)};return i.jsxs("div",{ref:V,className:"position-relative",children:[i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"text",value:y,onChange:ee,onKeyDown:le,onFocus:()=>{o.length>0&&_(!0)},className:"form-control",placeholder:s,autoComplete:"off"}),i.jsxs("div",{className:"position-absolute",style:{right:"10px",top:"50%",transform:"translateY(-50%)"},children:[N&&i.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),!N&&i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:Q,disabled:B,title:"Sử dụng vị trí hiện tại",style:{padding:"0.25rem 0.5rem",fontSize:"0.875rem"},children:B?i.jsx("div",{className:"spinner-border spinner-border-sm",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}):i.jsx("i",{className:"bi bi-geo-alt-fill"})})]})]}),g&&i.jsx("div",{className:"position-absolute w-100 mt-1 bg-white border rounded shadow-lg",style:{zIndex:1e3},children:i.jsx("ul",{className:"list-group list-group-flush",children:o.map((se,q)=>i.jsxs("li",{className:"list-group-item list-group-item-action d-flex align-items-center gap-2 py-2 px-3",onClick:()=>ne(se),style:{cursor:"pointer"},children:[i.jsx("i",{className:`bi ${se.isCurrentLocation?"bi-geo-alt-fill text-primary":"bi-geo-alt text-muted"}`,style:{fontSize:"1rem"}}),i.jsxs("div",{className:"flex-grow-1",children:[i.jsx("div",{className:"fw-semibold",children:se.name}),se.full_name&&se.full_name!==se.name&&i.jsx("small",{className:"text-muted",children:se.full_name})]}),se.isCurrentLocation&&i.jsx("span",{className:"badge bg-primary",children:"Hiện tại"})]},se.id))})})]})},Tb=({value:l,onChange:c,onKeyPress:s,placeholder:o="Thành phố"})=>{const[h,g]=I.useState([]),[_,y]=I.useState(!1),[v,N]=I.useState(l),[S,D]=I.useState(!1),j=I.useRef(null),B=I.useRef(null);I.useEffect(()=>{N(l)},[l]),I.useEffect(()=>{const Q=ee=>{j.current&&!j.current.contains(ee.target)&&y(!1)};return document.addEventListener("mousedown",Q),()=>{document.removeEventListener("mousedown",Q)}},[]);const F=async Q=>{if(!Q||Q.length<3){g([]),y(!1);return}D(!0);try{const ee=await fetch(`https://walkingguide.onrender.com/api/geocoding/search?q=${encodeURIComponent(Q)}&limit=10&addressdetails=1`);if(!ee.ok)throw new Error("Network response was not ok");const le=(await ee.json()).filter(se=>{const q=se.address;return q&&(q.country==="Việt Nam"||q.country==="Vietnam")&&(q.city||q.town||q.state)&&(q.city||q.town||q.state).toLowerCase().includes(Q.toLowerCase())}).map(se=>{const q=se.address,de=q.city||q.town||q.state;return{id:se.place_id,name:de,display_name:se.display_name,state:q.state,country:q.country}}).filter((se,q,de)=>q===de.findIndex(re=>re.name===se.name)).slice(0,10);g(le),y(le.length>0)}catch(ee){console.error("Error searching cities:",ee),g([]),y(!1)}finally{D(!1)}},V=Q=>{const ee=Q.target.value;N(ee),c(ee),B.current&&clearTimeout(B.current),B.current=setTimeout(()=>{F(ee)},300)},$=Q=>{const ee=typeof Q=="string"?Q:Q.name;N(ee),c(ee),y(!1),g([])},K=Q=>{Q.key==="Enter"?s&&s(Q):Q.key==="Escape"&&y(!1)};return i.jsxs("div",{ref:j,className:"position-relative",children:[i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"text",value:v,onChange:V,onKeyDown:K,onFocus:()=>{h.length>0&&y(!0)},className:"form-control mb-2",placeholder:o,autoComplete:"off"}),S&&i.jsx("div",{className:"position-absolute",style:{right:"10px",top:"50%",transform:"translateY(-50%)"},children:i.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})})]}),_&&i.jsx("div",{className:"position-absolute w-100 bg-white border rounded shadow-sm",style:{zIndex:1e3,maxHeight:"200px",overflowY:"auto",top:"100%",left:0},children:h.length>0?h.map((Q,ee)=>i.jsx("div",{className:"px-3 py-2 cursor-pointer hover-bg-light",style:{cursor:"pointer"},onClick:()=>$(Q),onMouseEnter:ne=>ne.target.style.backgroundColor="#f8f9fa",onMouseLeave:ne=>ne.target.style.backgroundColor="white",children:Q.display_name},ee)):i.jsx("div",{className:"px-3 py-2 text-muted",children:"Không tìm thấy thành phố"})})]})};var w0,_T;function Y3(){if(_T)return w0;_T=1;var l=typeof Hl=="object"&&Hl&&Hl.Object===Object&&Hl;return w0=l,w0}var y0,vT;function xu(){if(vT)return y0;vT=1;var l=Y3(),c=typeof self=="object"&&self&&self.Object===Object&&self,s=l||c||Function("return this")();return y0=s,y0}var x0,wT;function lw(){if(wT)return x0;wT=1;var l=xu(),c=l.Symbol;return x0=c,x0}var C0,yT;function fq(){if(yT)return C0;yT=1;var l=lw(),c=Object.prototype,s=c.hasOwnProperty,o=c.toString,h=l?l.toStringTag:void 0;function g(_){var y=s.call(_,h),v=_[h];try{_[h]=void 0;var N=!0}catch{}var S=o.call(_);return N&&(y?_[h]=v:delete _[h]),S}return C0=g,C0}var A0,xT;function pq(){if(xT)return A0;xT=1;var l=Object.prototype,c=l.toString;function s(o){return c.call(o)}return A0=s,A0}var N0,CT;function Mb(){if(CT)return N0;CT=1;var l=lw(),c=fq(),s=pq(),o="[object Null]",h="[object Undefined]",g=l?l.toStringTag:void 0;function _(y){return y==null?y===void 0?h:o:g&&g in Object(y)?c(y):s(y)}return N0=_,N0}var E0,AT;function ZA(){if(AT)return E0;AT=1;function l(c){var s=typeof c;return c!=null&&(s=="object"||s=="function")}return E0=l,E0}var S0,NT;function G3(){if(NT)return S0;NT=1;var l=Mb(),c=ZA(),s="[object AsyncFunction]",o="[object Function]",h="[object GeneratorFunction]",g="[object Proxy]";function _(y){if(!c(y))return!1;var v=l(y);return v==o||v==h||v==s||v==g}return S0=_,S0}var j0,ET;function gq(){if(ET)return j0;ET=1;var l=xu(),c=l["__core-js_shared__"];return j0=c,j0}var D0,ST;function bq(){if(ST)return D0;ST=1;var l=gq(),c=function(){var o=/[^.]+$/.exec(l&&l.keys&&l.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();function s(o){return!!c&&c in o}return D0=s,D0}var T0,jT;function K3(){if(jT)return T0;jT=1;var l=Function.prototype,c=l.toString;function s(o){if(o!=null){try{return c.call(o)}catch{}try{return o+""}catch{}}return""}return T0=s,T0}var M0,DT;function kq(){if(DT)return M0;DT=1;var l=G3(),c=bq(),s=ZA(),o=K3(),h=/[\\^$.*+?()[\]{}|]/g,g=/^\[object .+?Constructor\]$/,_=Function.prototype,y=Object.prototype,v=_.toString,N=y.hasOwnProperty,S=RegExp("^"+v.call(N).replace(h,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function D(j){if(!s(j)||c(j))return!1;var B=l(j)?S:g;return B.test(o(j))}return M0=D,M0}var I0,TT;function _q(){if(TT)return I0;TT=1;function l(c,s){return c==null?void 0:c[s]}return I0=l,I0}var O0,MT;function $m(){if(MT)return O0;MT=1;var l=kq(),c=_q();function s(o,h){var g=c(o,h);return l(g)?g:void 0}return O0=s,O0}var L0,IT;function vq(){if(IT)return L0;IT=1;var l=$m(),c=function(){try{var s=l(Object,"defineProperty");return s({},"",{}),s}catch{}}();return L0=c,L0}var B0,OT;function wq(){if(OT)return B0;OT=1;var l=vq();function c(s,o,h){o=="__proto__"&&l?l(s,o,{configurable:!0,enumerable:!0,value:h,writable:!0}):s[o]=h}return B0=c,B0}var R0,LT;function yq(){if(LT)return R0;LT=1;function l(c,s,o,h){for(var g=-1,_=c==null?0:c.length;++g<_;){var y=c[g];s(h,y,o(y),c)}return h}return R0=l,R0}var P0,BT;function xq(){if(BT)return P0;BT=1;function l(c){return function(s,o,h){for(var g=-1,_=Object(s),y=h(s),v=y.length;v--;){var N=y[c?v:++g];if(o(_[N],N,_)===!1)break}return s}}return P0=l,P0}var z0,RT;function Cq(){if(RT)return z0;RT=1;var l=xq(),c=l();return z0=c,z0}var F0,PT;function Aq(){if(PT)return F0;PT=1;function l(c,s){for(var o=-1,h=Array(c);++o<c;)h[o]=s(o);return h}return F0=l,F0}var H0,zT;function Ib(){if(zT)return H0;zT=1;function l(c){return c!=null&&typeof c=="object"}return H0=l,H0}var V0,FT;function Nq(){if(FT)return V0;FT=1;var l=Mb(),c=Ib(),s="[object Arguments]";function o(h){return c(h)&&l(h)==s}return V0=o,V0}var U0,HT;function Q3(){if(HT)return U0;HT=1;var l=Nq(),c=Ib(),s=Object.prototype,o=s.hasOwnProperty,h=s.propertyIsEnumerable,g=l(function(){return arguments}())?l:function(_){return c(_)&&o.call(_,"callee")&&!h.call(_,"callee")};return U0=g,U0}var $0,VT;function Cu(){if(VT)return $0;VT=1;var l=Array.isArray;return $0=l,$0}var ab={exports:{}},q0,UT;function Eq(){if(UT)return q0;UT=1;function l(){return!1}return q0=l,q0}ab.exports;var $T;function Z3(){return $T||($T=1,function(l,c){var s=xu(),o=Eq(),h=c&&!c.nodeType&&c,g=h&&!0&&l&&!l.nodeType&&l,_=g&&g.exports===h,y=_?s.Buffer:void 0,v=y?y.isBuffer:void 0,N=v||o;l.exports=N}(ab,ab.exports)),ab.exports}var W0,qT;function X3(){if(qT)return W0;qT=1;var l=9007199254740991,c=/^(?:0|[1-9]\d*)$/;function s(o,h){var g=typeof o;return h=h??l,!!h&&(g=="number"||g!="symbol"&&c.test(o))&&o>-1&&o%1==0&&o<h}return W0=s,W0}var Y0,WT;function XA(){if(WT)return Y0;WT=1;var l=9007199254740991;function c(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=l}return Y0=c,Y0}var G0,YT;function Sq(){if(YT)return G0;YT=1;var l=Mb(),c=XA(),s=Ib(),o="[object Arguments]",h="[object Array]",g="[object Boolean]",_="[object Date]",y="[object Error]",v="[object Function]",N="[object Map]",S="[object Number]",D="[object Object]",j="[object RegExp]",B="[object Set]",F="[object String]",V="[object WeakMap]",$="[object ArrayBuffer]",K="[object DataView]",Q="[object Float32Array]",ee="[object Float64Array]",ne="[object Int8Array]",le="[object Int16Array]",se="[object Int32Array]",q="[object Uint8Array]",de="[object Uint8ClampedArray]",re="[object Uint16Array]",be="[object Uint32Array]",ke={};ke[Q]=ke[ee]=ke[ne]=ke[le]=ke[se]=ke[q]=ke[de]=ke[re]=ke[be]=!0,ke[o]=ke[h]=ke[$]=ke[g]=ke[K]=ke[_]=ke[y]=ke[v]=ke[N]=ke[S]=ke[D]=ke[j]=ke[B]=ke[F]=ke[V]=!1;function we(De){return s(De)&&c(De.length)&&!!ke[l(De)]}return G0=we,G0}var K0,GT;function jq(){if(GT)return K0;GT=1;function l(c){return function(s){return c(s)}}return K0=l,K0}var lb={exports:{}};lb.exports;var KT;function Dq(){return KT||(KT=1,function(l,c){var s=Y3(),o=c&&!c.nodeType&&c,h=o&&!0&&l&&!l.nodeType&&l,g=h&&h.exports===o,_=g&&s.process,y=function(){try{var v=h&&h.require&&h.require("util").types;return v||_&&_.binding&&_.binding("util")}catch{}}();l.exports=y}(lb,lb.exports)),lb.exports}var Q0,QT;function J3(){if(QT)return Q0;QT=1;var l=Sq(),c=jq(),s=Dq(),o=s&&s.isTypedArray,h=o?c(o):l;return Q0=h,Q0}var Z0,ZT;function Tq(){if(ZT)return Z0;ZT=1;var l=Aq(),c=Q3(),s=Cu(),o=Z3(),h=X3(),g=J3(),_=Object.prototype,y=_.hasOwnProperty;function v(N,S){var D=s(N),j=!D&&c(N),B=!D&&!j&&o(N),F=!D&&!j&&!B&&g(N),V=D||j||B||F,$=V?l(N.length,String):[],K=$.length;for(var Q in N)(S||y.call(N,Q))&&!(V&&(Q=="length"||B&&(Q=="offset"||Q=="parent")||F&&(Q=="buffer"||Q=="byteLength"||Q=="byteOffset")||h(Q,K)))&&$.push(Q);return $}return Z0=v,Z0}var X0,XT;function Mq(){if(XT)return X0;XT=1;var l=Object.prototype;function c(s){var o=s&&s.constructor,h=typeof o=="function"&&o.prototype||l;return s===h}return X0=c,X0}var J0,JT;function Iq(){if(JT)return J0;JT=1;function l(c,s){return function(o){return c(s(o))}}return J0=l,J0}var ex,eM;function Oq(){if(eM)return ex;eM=1;var l=Iq(),c=l(Object.keys,Object);return ex=c,ex}var tx,tM;function Lq(){if(tM)return tx;tM=1;var l=Mq(),c=Oq(),s=Object.prototype,o=s.hasOwnProperty;function h(g){if(!l(g))return c(g);var _=[];for(var y in Object(g))o.call(g,y)&&y!="constructor"&&_.push(y);return _}return tx=h,tx}var nx,nM;function eL(){if(nM)return nx;nM=1;var l=G3(),c=XA();function s(o){return o!=null&&c(o.length)&&!l(o)}return nx=s,nx}var ix,iM;function JA(){if(iM)return ix;iM=1;var l=Tq(),c=Lq(),s=eL();function o(h){return s(h)?l(h):c(h)}return ix=o,ix}var rx,rM;function Bq(){if(rM)return rx;rM=1;var l=Cq(),c=JA();function s(o,h){return o&&l(o,h,c)}return rx=s,rx}var sx,sM;function Rq(){if(sM)return sx;sM=1;var l=eL();function c(s,o){return function(h,g){if(h==null)return h;if(!l(h))return s(h,g);for(var _=h.length,y=o?_:-1,v=Object(h);(o?y--:++y<_)&&g(v[y],y,v)!==!1;);return h}}return sx=c,sx}var ox,oM;function Pq(){if(oM)return ox;oM=1;var l=Bq(),c=Rq(),s=c(l);return ox=s,ox}var ax,aM;function zq(){if(aM)return ax;aM=1;var l=Pq();function c(s,o,h,g){return l(s,function(_,y,v){o(g,_,h(_),v)}),g}return ax=c,ax}var lx,lM;function Fq(){if(lM)return lx;lM=1;function l(){this.__data__=[],this.size=0}return lx=l,lx}var cx,cM;function tL(){if(cM)return cx;cM=1;function l(c,s){return c===s||c!==c&&s!==s}return cx=l,cx}var dx,dM;function cw(){if(dM)return dx;dM=1;var l=tL();function c(s,o){for(var h=s.length;h--;)if(l(s[h][0],o))return h;return-1}return dx=c,dx}var ux,uM;function Hq(){if(uM)return ux;uM=1;var l=cw(),c=Array.prototype,s=c.splice;function o(h){var g=this.__data__,_=l(g,h);if(_<0)return!1;var y=g.length-1;return _==y?g.pop():s.call(g,_,1),--this.size,!0}return ux=o,ux}var hx,hM;function Vq(){if(hM)return hx;hM=1;var l=cw();function c(s){var o=this.__data__,h=l(o,s);return h<0?void 0:o[h][1]}return hx=c,hx}var mx,mM;function Uq(){if(mM)return mx;mM=1;var l=cw();function c(s){return l(this.__data__,s)>-1}return mx=c,mx}var fx,fM;function $q(){if(fM)return fx;fM=1;var l=cw();function c(s,o){var h=this.__data__,g=l(h,s);return g<0?(++this.size,h.push([s,o])):h[g][1]=o,this}return fx=c,fx}var px,pM;function dw(){if(pM)return px;pM=1;var l=Fq(),c=Hq(),s=Vq(),o=Uq(),h=$q();function g(_){var y=-1,v=_==null?0:_.length;for(this.clear();++y<v;){var N=_[y];this.set(N[0],N[1])}}return g.prototype.clear=l,g.prototype.delete=c,g.prototype.get=s,g.prototype.has=o,g.prototype.set=h,px=g,px}var gx,gM;function qq(){if(gM)return gx;gM=1;var l=dw();function c(){this.__data__=new l,this.size=0}return gx=c,gx}var bx,bM;function Wq(){if(bM)return bx;bM=1;function l(c){var s=this.__data__,o=s.delete(c);return this.size=s.size,o}return bx=l,bx}var kx,kM;function Yq(){if(kM)return kx;kM=1;function l(c){return this.__data__.get(c)}return kx=l,kx}var _x,_M;function Gq(){if(_M)return _x;_M=1;function l(c){return this.__data__.has(c)}return _x=l,_x}var vx,vM;function e1(){if(vM)return vx;vM=1;var l=$m(),c=xu(),s=l(c,"Map");return vx=s,vx}var wx,wM;function uw(){if(wM)return wx;wM=1;var l=$m(),c=l(Object,"create");return wx=c,wx}var yx,yM;function Kq(){if(yM)return yx;yM=1;var l=uw();function c(){this.__data__=l?l(null):{},this.size=0}return yx=c,yx}var xx,xM;function Qq(){if(xM)return xx;xM=1;function l(c){var s=this.has(c)&&delete this.__data__[c];return this.size-=s?1:0,s}return xx=l,xx}var Cx,CM;function Zq(){if(CM)return Cx;CM=1;var l=uw(),c="__lodash_hash_undefined__",s=Object.prototype,o=s.hasOwnProperty;function h(g){var _=this.__data__;if(l){var y=_[g];return y===c?void 0:y}return o.call(_,g)?_[g]:void 0}return Cx=h,Cx}var Ax,AM;function Xq(){if(AM)return Ax;AM=1;var l=uw(),c=Object.prototype,s=c.hasOwnProperty;function o(h){var g=this.__data__;return l?g[h]!==void 0:s.call(g,h)}return Ax=o,Ax}var Nx,NM;function Jq(){if(NM)return Nx;NM=1;var l=uw(),c="__lodash_hash_undefined__";function s(o,h){var g=this.__data__;return this.size+=this.has(o)?0:1,g[o]=l&&h===void 0?c:h,this}return Nx=s,Nx}var Ex,EM;function eW(){if(EM)return Ex;EM=1;var l=Kq(),c=Qq(),s=Zq(),o=Xq(),h=Jq();function g(_){var y=-1,v=_==null?0:_.length;for(this.clear();++y<v;){var N=_[y];this.set(N[0],N[1])}}return g.prototype.clear=l,g.prototype.delete=c,g.prototype.get=s,g.prototype.has=o,g.prototype.set=h,Ex=g,Ex}var Sx,SM;function tW(){if(SM)return Sx;SM=1;var l=eW(),c=dw(),s=e1();function o(){this.size=0,this.__data__={hash:new l,map:new(s||c),string:new l}}return Sx=o,Sx}var jx,jM;function nW(){if(jM)return jx;jM=1;function l(c){var s=typeof c;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?c!=="__proto__":c===null}return jx=l,jx}var Dx,DM;function hw(){if(DM)return Dx;DM=1;var l=nW();function c(s,o){var h=s.__data__;return l(o)?h[typeof o=="string"?"string":"hash"]:h.map}return Dx=c,Dx}var Tx,TM;function iW(){if(TM)return Tx;TM=1;var l=hw();function c(s){var o=l(this,s).delete(s);return this.size-=o?1:0,o}return Tx=c,Tx}var Mx,MM;function rW(){if(MM)return Mx;MM=1;var l=hw();function c(s){return l(this,s).get(s)}return Mx=c,Mx}var Ix,IM;function sW(){if(IM)return Ix;IM=1;var l=hw();function c(s){return l(this,s).has(s)}return Ix=c,Ix}var Ox,OM;function oW(){if(OM)return Ox;OM=1;var l=hw();function c(s,o){var h=l(this,s),g=h.size;return h.set(s,o),this.size+=h.size==g?0:1,this}return Ox=c,Ox}var Lx,LM;function t1(){if(LM)return Lx;LM=1;var l=tW(),c=iW(),s=rW(),o=sW(),h=oW();function g(_){var y=-1,v=_==null?0:_.length;for(this.clear();++y<v;){var N=_[y];this.set(N[0],N[1])}}return g.prototype.clear=l,g.prototype.delete=c,g.prototype.get=s,g.prototype.has=o,g.prototype.set=h,Lx=g,Lx}var Bx,BM;function aW(){if(BM)return Bx;BM=1;var l=dw(),c=e1(),s=t1(),o=200;function h(g,_){var y=this.__data__;if(y instanceof l){var v=y.__data__;if(!c||v.length<o-1)return v.push([g,_]),this.size=++y.size,this;y=this.__data__=new s(v)}return y.set(g,_),this.size=y.size,this}return Bx=h,Bx}var Rx,RM;function nL(){if(RM)return Rx;RM=1;var l=dw(),c=qq(),s=Wq(),o=Yq(),h=Gq(),g=aW();function _(y){var v=this.__data__=new l(y);this.size=v.size}return _.prototype.clear=c,_.prototype.delete=s,_.prototype.get=o,_.prototype.has=h,_.prototype.set=g,Rx=_,Rx}var Px,PM;function lW(){if(PM)return Px;PM=1;var l="__lodash_hash_undefined__";function c(s){return this.__data__.set(s,l),this}return Px=c,Px}var zx,zM;function cW(){if(zM)return zx;zM=1;function l(c){return this.__data__.has(c)}return zx=l,zx}var Fx,FM;function dW(){if(FM)return Fx;FM=1;var l=t1(),c=lW(),s=cW();function o(h){var g=-1,_=h==null?0:h.length;for(this.__data__=new l;++g<_;)this.add(h[g])}return o.prototype.add=o.prototype.push=c,o.prototype.has=s,Fx=o,Fx}var Hx,HM;function uW(){if(HM)return Hx;HM=1;function l(c,s){for(var o=-1,h=c==null?0:c.length;++o<h;)if(s(c[o],o,c))return!0;return!1}return Hx=l,Hx}var Vx,VM;function hW(){if(VM)return Vx;VM=1;function l(c,s){return c.has(s)}return Vx=l,Vx}var Ux,UM;function iL(){if(UM)return Ux;UM=1;var l=dW(),c=uW(),s=hW(),o=1,h=2;function g(_,y,v,N,S,D){var j=v&o,B=_.length,F=y.length;if(B!=F&&!(j&&F>B))return!1;var V=D.get(_),$=D.get(y);if(V&&$)return V==y&&$==_;var K=-1,Q=!0,ee=v&h?new l:void 0;for(D.set(_,y),D.set(y,_);++K<B;){var ne=_[K],le=y[K];if(N)var se=j?N(le,ne,K,y,_,D):N(ne,le,K,_,y,D);if(se!==void 0){if(se)continue;Q=!1;break}if(ee){if(!c(y,function(q,de){if(!s(ee,de)&&(ne===q||S(ne,q,v,N,D)))return ee.push(de)})){Q=!1;break}}else if(!(ne===le||S(ne,le,v,N,D))){Q=!1;break}}return D.delete(_),D.delete(y),Q}return Ux=g,Ux}var $x,$M;function mW(){if($M)return $x;$M=1;var l=xu(),c=l.Uint8Array;return $x=c,$x}var qx,qM;function fW(){if(qM)return qx;qM=1;function l(c){var s=-1,o=Array(c.size);return c.forEach(function(h,g){o[++s]=[g,h]}),o}return qx=l,qx}var Wx,WM;function pW(){if(WM)return Wx;WM=1;function l(c){var s=-1,o=Array(c.size);return c.forEach(function(h){o[++s]=h}),o}return Wx=l,Wx}var Yx,YM;function gW(){if(YM)return Yx;YM=1;var l=lw(),c=mW(),s=tL(),o=iL(),h=fW(),g=pW(),_=1,y=2,v="[object Boolean]",N="[object Date]",S="[object Error]",D="[object Map]",j="[object Number]",B="[object RegExp]",F="[object Set]",V="[object String]",$="[object Symbol]",K="[object ArrayBuffer]",Q="[object DataView]",ee=l?l.prototype:void 0,ne=ee?ee.valueOf:void 0;function le(se,q,de,re,be,ke,we){switch(de){case Q:if(se.byteLength!=q.byteLength||se.byteOffset!=q.byteOffset)return!1;se=se.buffer,q=q.buffer;case K:return!(se.byteLength!=q.byteLength||!ke(new c(se),new c(q)));case v:case N:case j:return s(+se,+q);case S:return se.name==q.name&&se.message==q.message;case B:case V:return se==q+"";case D:var De=h;case F:var _e=re&_;if(De||(De=g),se.size!=q.size&&!_e)return!1;var je=we.get(se);if(je)return je==q;re|=y,we.set(se,q);var oe=o(De(se),De(q),re,be,ke,we);return we.delete(se),oe;case $:if(ne)return ne.call(se)==ne.call(q)}return!1}return Yx=le,Yx}var Gx,GM;function bW(){if(GM)return Gx;GM=1;function l(c,s){for(var o=-1,h=s.length,g=c.length;++o<h;)c[g+o]=s[o];return c}return Gx=l,Gx}var Kx,KM;function kW(){if(KM)return Kx;KM=1;var l=bW(),c=Cu();function s(o,h,g){var _=h(o);return c(o)?_:l(_,g(o))}return Kx=s,Kx}var Qx,QM;function _W(){if(QM)return Qx;QM=1;function l(c,s){for(var o=-1,h=c==null?0:c.length,g=0,_=[];++o<h;){var y=c[o];s(y,o,c)&&(_[g++]=y)}return _}return Qx=l,Qx}var Zx,ZM;function vW(){if(ZM)return Zx;ZM=1;function l(){return[]}return Zx=l,Zx}var Xx,XM;function wW(){if(XM)return Xx;XM=1;var l=_W(),c=vW(),s=Object.prototype,o=s.propertyIsEnumerable,h=Object.getOwnPropertySymbols,g=h?function(_){return _==null?[]:(_=Object(_),l(h(_),function(y){return o.call(_,y)}))}:c;return Xx=g,Xx}var Jx,JM;function yW(){if(JM)return Jx;JM=1;var l=kW(),c=wW(),s=JA();function o(h){return l(h,s,c)}return Jx=o,Jx}var eC,eI;function xW(){if(eI)return eC;eI=1;var l=yW(),c=1,s=Object.prototype,o=s.hasOwnProperty;function h(g,_,y,v,N,S){var D=y&c,j=l(g),B=j.length,F=l(_),V=F.length;if(B!=V&&!D)return!1;for(var $=B;$--;){var K=j[$];if(!(D?K in _:o.call(_,K)))return!1}var Q=S.get(g),ee=S.get(_);if(Q&&ee)return Q==_&&ee==g;var ne=!0;S.set(g,_),S.set(_,g);for(var le=D;++$<B;){K=j[$];var se=g[K],q=_[K];if(v)var de=D?v(q,se,K,_,g,S):v(se,q,K,g,_,S);if(!(de===void 0?se===q||N(se,q,y,v,S):de)){ne=!1;break}le||(le=K=="constructor")}if(ne&&!le){var re=g.constructor,be=_.constructor;re!=be&&"constructor"in g&&"constructor"in _&&!(typeof re=="function"&&re instanceof re&&typeof be=="function"&&be instanceof be)&&(ne=!1)}return S.delete(g),S.delete(_),ne}return eC=h,eC}var tC,tI;function CW(){if(tI)return tC;tI=1;var l=$m(),c=xu(),s=l(c,"DataView");return tC=s,tC}var nC,nI;function AW(){if(nI)return nC;nI=1;var l=$m(),c=xu(),s=l(c,"Promise");return nC=s,nC}var iC,iI;function NW(){if(iI)return iC;iI=1;var l=$m(),c=xu(),s=l(c,"Set");return iC=s,iC}var rC,rI;function EW(){if(rI)return rC;rI=1;var l=$m(),c=xu(),s=l(c,"WeakMap");return rC=s,rC}var sC,sI;function SW(){if(sI)return sC;sI=1;var l=CW(),c=e1(),s=AW(),o=NW(),h=EW(),g=Mb(),_=K3(),y="[object Map]",v="[object Object]",N="[object Promise]",S="[object Set]",D="[object WeakMap]",j="[object DataView]",B=_(l),F=_(c),V=_(s),$=_(o),K=_(h),Q=g;return(l&&Q(new l(new ArrayBuffer(1)))!=j||c&&Q(new c)!=y||s&&Q(s.resolve())!=N||o&&Q(new o)!=S||h&&Q(new h)!=D)&&(Q=function(ee){var ne=g(ee),le=ne==v?ee.constructor:void 0,se=le?_(le):"";if(se)switch(se){case B:return j;case F:return y;case V:return N;case $:return S;case K:return D}return ne}),sC=Q,sC}var oC,oI;function jW(){if(oI)return oC;oI=1;var l=nL(),c=iL(),s=gW(),o=xW(),h=SW(),g=Cu(),_=Z3(),y=J3(),v=1,N="[object Arguments]",S="[object Array]",D="[object Object]",j=Object.prototype,B=j.hasOwnProperty;function F(V,$,K,Q,ee,ne){var le=g(V),se=g($),q=le?S:h(V),de=se?S:h($);q=q==N?D:q,de=de==N?D:de;var re=q==D,be=de==D,ke=q==de;if(ke&&_(V)){if(!_($))return!1;le=!0,re=!1}if(ke&&!re)return ne||(ne=new l),le||y(V)?c(V,$,K,Q,ee,ne):s(V,$,q,K,Q,ee,ne);if(!(K&v)){var we=re&&B.call(V,"__wrapped__"),De=be&&B.call($,"__wrapped__");if(we||De){var _e=we?V.value():V,je=De?$.value():$;return ne||(ne=new l),ee(_e,je,K,Q,ne)}}return ke?(ne||(ne=new l),o(V,$,K,Q,ee,ne)):!1}return oC=F,oC}var aC,aI;function rL(){if(aI)return aC;aI=1;var l=jW(),c=Ib();function s(o,h,g,_,y){return o===h?!0:o==null||h==null||!c(o)&&!c(h)?o!==o&&h!==h:l(o,h,g,_,s,y)}return aC=s,aC}var lC,lI;function DW(){if(lI)return lC;lI=1;var l=nL(),c=rL(),s=1,o=2;function h(g,_,y,v){var N=y.length,S=N,D=!v;if(g==null)return!S;for(g=Object(g);N--;){var j=y[N];if(D&&j[2]?j[1]!==g[j[0]]:!(j[0]in g))return!1}for(;++N<S;){j=y[N];var B=j[0],F=g[B],V=j[1];if(D&&j[2]){if(F===void 0&&!(B in g))return!1}else{var $=new l;if(v)var K=v(F,V,B,g,_,$);if(!(K===void 0?c(V,F,s|o,v,$):K))return!1}}return!0}return lC=h,lC}var cC,cI;function sL(){if(cI)return cC;cI=1;var l=ZA();function c(s){return s===s&&!l(s)}return cC=c,cC}var dC,dI;function TW(){if(dI)return dC;dI=1;var l=sL(),c=JA();function s(o){for(var h=c(o),g=h.length;g--;){var _=h[g],y=o[_];h[g]=[_,y,l(y)]}return h}return dC=s,dC}var uC,uI;function oL(){if(uI)return uC;uI=1;function l(c,s){return function(o){return o==null?!1:o[c]===s&&(s!==void 0||c in Object(o))}}return uC=l,uC}var hC,hI;function MW(){if(hI)return hC;hI=1;var l=DW(),c=TW(),s=oL();function o(h){var g=c(h);return g.length==1&&g[0][2]?s(g[0][0],g[0][1]):function(_){return _===h||l(_,h,g)}}return hC=o,hC}var mC,mI;function n1(){if(mI)return mC;mI=1;var l=Mb(),c=Ib(),s="[object Symbol]";function o(h){return typeof h=="symbol"||c(h)&&l(h)==s}return mC=o,mC}var fC,fI;function i1(){if(fI)return fC;fI=1;var l=Cu(),c=n1(),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;function h(g,_){if(l(g))return!1;var y=typeof g;return y=="number"||y=="symbol"||y=="boolean"||g==null||c(g)?!0:o.test(g)||!s.test(g)||_!=null&&g in Object(_)}return fC=h,fC}var pC,pI;function IW(){if(pI)return pC;pI=1;var l=t1(),c="Expected a function";function s(o,h){if(typeof o!="function"||h!=null&&typeof h!="function")throw new TypeError(c);var g=function(){var _=arguments,y=h?h.apply(this,_):_[0],v=g.cache;if(v.has(y))return v.get(y);var N=o.apply(this,_);return g.cache=v.set(y,N)||v,N};return g.cache=new(s.Cache||l),g}return s.Cache=l,pC=s,pC}var gC,gI;function OW(){if(gI)return gC;gI=1;var l=IW(),c=500;function s(o){var h=l(o,function(_){return g.size===c&&g.clear(),_}),g=h.cache;return h}return gC=s,gC}var bC,bI;function LW(){if(bI)return bC;bI=1;var l=OW(),c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,o=l(function(h){var g=[];return h.charCodeAt(0)===46&&g.push(""),h.replace(c,function(_,y,v,N){g.push(v?N.replace(s,"$1"):y||_)}),g});return bC=o,bC}var kC,kI;function BW(){if(kI)return kC;kI=1;function l(c,s){for(var o=-1,h=c==null?0:c.length,g=Array(h);++o<h;)g[o]=s(c[o],o,c);return g}return kC=l,kC}var _C,_I;function RW(){if(_I)return _C;_I=1;var l=lw(),c=BW(),s=Cu(),o=n1(),h=l?l.prototype:void 0,g=h?h.toString:void 0;function _(y){if(typeof y=="string")return y;if(s(y))return c(y,_)+"";if(o(y))return g?g.call(y):"";var v=y+"";return v=="0"&&1/y==-1/0?"-0":v}return _C=_,_C}var vC,vI;function PW(){if(vI)return vC;vI=1;var l=RW();function c(s){return s==null?"":l(s)}return vC=c,vC}var wC,wI;function aL(){if(wI)return wC;wI=1;var l=Cu(),c=i1(),s=LW(),o=PW();function h(g,_){return l(g)?g:c(g,_)?[g]:s(o(g))}return wC=h,wC}var yC,yI;function mw(){if(yI)return yC;yI=1;var l=n1();function c(s){if(typeof s=="string"||l(s))return s;var o=s+"";return o=="0"&&1/s==-1/0?"-0":o}return yC=c,yC}var xC,xI;function lL(){if(xI)return xC;xI=1;var l=aL(),c=mw();function s(o,h){h=l(h,o);for(var g=0,_=h.length;o!=null&&g<_;)o=o[c(h[g++])];return g&&g==_?o:void 0}return xC=s,xC}var CC,CI;function zW(){if(CI)return CC;CI=1;var l=lL();function c(s,o,h){var g=s==null?void 0:l(s,o);return g===void 0?h:g}return CC=c,CC}var AC,AI;function FW(){if(AI)return AC;AI=1;function l(c,s){return c!=null&&s in Object(c)}return AC=l,AC}var NC,NI;function HW(){if(NI)return NC;NI=1;var l=aL(),c=Q3(),s=Cu(),o=X3(),h=XA(),g=mw();function _(y,v,N){v=l(v,y);for(var S=-1,D=v.length,j=!1;++S<D;){var B=g(v[S]);if(!(j=y!=null&&N(y,B)))break;y=y[B]}return j||++S!=D?j:(D=y==null?0:y.length,!!D&&h(D)&&o(B,D)&&(s(y)||c(y)))}return NC=_,NC}var EC,EI;function VW(){if(EI)return EC;EI=1;var l=FW(),c=HW();function s(o,h){return o!=null&&c(o,h,l)}return EC=s,EC}var SC,SI;function UW(){if(SI)return SC;SI=1;var l=rL(),c=zW(),s=VW(),o=i1(),h=sL(),g=oL(),_=mw(),y=1,v=2;function N(S,D){return o(S)&&h(D)?g(_(S),D):function(j){var B=c(j,S);return B===void 0&&B===D?s(j,S):l(D,B,y|v)}}return SC=N,SC}var jC,jI;function $W(){if(jI)return jC;jI=1;function l(c){return c}return jC=l,jC}var DC,DI;function qW(){if(DI)return DC;DI=1;function l(c){return function(s){return s==null?void 0:s[c]}}return DC=l,DC}var TC,TI;function WW(){if(TI)return TC;TI=1;var l=lL();function c(s){return function(o){return l(o,s)}}return TC=c,TC}var MC,MI;function YW(){if(MI)return MC;MI=1;var l=qW(),c=WW(),s=i1(),o=mw();function h(g){return s(g)?l(o(g)):c(g)}return MC=h,MC}var IC,II;function GW(){if(II)return IC;II=1;var l=MW(),c=UW(),s=$W(),o=Cu(),h=YW();function g(_){return typeof _=="function"?_:_==null?s:typeof _=="object"?o(_)?c(_[0],_[1]):l(_):h(_)}return IC=g,IC}var OC,OI;function KW(){if(OI)return OC;OI=1;var l=yq(),c=zq(),s=GW(),o=Cu();function h(g,_){return function(y,v){var N=o(y)?l:c,S=_?_():{};return N(y,g,s(v,2),S)}}return OC=h,OC}var LC,LI;function QW(){if(LI)return LC;LI=1;var l=wq(),c=KW(),s=Object.prototype,o=s.hasOwnProperty,h=c(function(g,_,y){o.call(g,y)?g[y].push(_):l(g,y,[_])});return LC=h,LC}QW();const bh={bookHotel:l=>Ft.post("/hotels/hotel-bookings",l),getUserHotelBookings:l=>Ft.get(`/hotels/hotel-bookings/user/${l}`),searchByCity:l=>kt.get(`https://walkingguide.onrender.com/api/hotels/search?city=${encodeURIComponent(l)}`)};function lo(l){return typeof l!="number"&&(l=Number(l)),isNaN(l)?"":l.toLocaleString("vi-VN").replace(/,/g,".")+" VNĐ"}const du="https://walkingguide.onrender.com";function cL({noLayout:l}){var fi;const[c,s]=I.useState([]),[o,h]=I.useState(""),[g,_]=I.useState(""),[y,v]=I.useState(0),[N,S]=I.useState([]),[D,j]=I.useState(!1),{user:B,logout:F,refreshNotifications:V}=I.useContext(ds),[$,K]=I.useState(""),[Q,ee]=I.useState(""),[ne,le]=I.useState(""),[se,q]=I.useState([]),[de,re]=I.useState(""),[be,ke]=I.useState([]),[we,De]=I.useState([]),[_e,je]=I.useState([]),[oe,ve]=I.useState(!1),he=ka(),[Ee,Z]=I.useState(null),[fe,Ce]=I.useState(!1),Se=B?B.id:null,[He,et]=I.useState(!1),[pe,me]=I.useState(""),[Ie,We]=I.useState("danger"),[Le,st]=I.useState([]),[Ge,Oe]=I.useState(null),[ut,Fe]=I.useState(""),[ht,Pt]=I.useState(""),[en,at]=I.useState(null),[jt,Dt]=I.useState({}),[Qe,Tt]=I.useState(!1),[Ot,$e]=I.useState(null),[bt,$t]=I.useState(""),[fn,Rn]=I.useState(""),[vn,ai]=I.useState(null),[ci,Ar]=I.useState("");I.useEffect(()=>{Ft.get("/places").then(ye=>{s(ye.data)}),Ft.get("/tags").then(ye=>ke(ye.data))},[]),I.useEffect(()=>{Ft.get("/hotels").then(ye=>{st(ye.data.data||ye.data)})},[]),I.useEffect(()=>{$&&Q&&(Fe($),Pt(Q))},[$,Q]);const nr=ye=>ye?ye.startsWith("http")?ye:`${du}${ye}`:"/default-hotel.jpg",Li=ye=>ye&&ye.image_url?ye.image_url.startsWith("http")?ye.image_url:`${du}${ye.image_url}`:"/default-place.jpg";I.useEffect(()=>{en&&en.latitude&&en.longitude?Ft.get(`${du}/api/hotels/search?latitude=${en.latitude}&longitude=${en.longitude}&radius=10`).then(ye=>{st(ye.data.data||ye.data)}):en&&en.city&&Ft.get(`${du}/api/hotels/search?city=${encodeURIComponent(en.city)}`).then(ye=>{st(ye.data.data||ye.data)})},[en]),I.useEffect(()=>{se.length>0?Promise.all(se.map(ye=>Ft.get(`${du}/api/hotels/search?city=${encodeURIComponent(ye)}`).then(dt=>({city:ye,hotels:dt.data.data||dt.data})).catch(()=>({city:ye,hotels:[]})))).then(ye=>{const dt={};ye.forEach(({city:xt,hotels:ln})=>{dt[xt]=ln}),Dt(dt)}):Ft.get(`${du}/api/hotels`).then(ye=>{Dt({All:ye.data.data||ye.data})})},[se]);const ni=async ye=>{if(!ye||ye.length===0){je([]);return}ve(!0);try{const dt=[];console.log("Searching places for cities:",ye);for(const xt of ye)try{console.log(`Searching places for city: "${xt}"`);const ln=await Ft.get(`${du}/api/places/search?city=${encodeURIComponent(xt)}`);if(console.log(`Response for "${xt}":`,ln.data),ln.data&&ln.data.length>0){const qn=ln.data.map(Te=>({...Te,sourceCity:xt}));dt.push(...qn),console.log(`Found ${ln.data.length} places for "${xt}"`)}else{console.log(`No places found for "${xt}"`);try{const Te=(await Ft.get(`${du}/api/places`)).data,Et=xt.toLowerCase(),Mt=Te.filter(wn=>{if(!wn.city)return!1;const qt=wn.city.toLowerCase();return qt.includes(Et)||Et.includes(qt)});if(Mt.length>0){console.log(`Found ${Mt.length} places with similar city names for "${xt}"`);const wn=Mt.map(qt=>({...qt,sourceCity:xt}));dt.push(...wn)}}catch(qn){console.error("Error in fallback search:",qn)}}}catch(ln){console.error(`Error searching places for city "${xt}":`,ln)}console.log("Total places found:",dt.length),je(dt)}catch(dt){console.error("Error searching places by cities:",dt),je([])}finally{ve(!1)}},Xn=ye=>{const dt=se.filter(xt=>xt!==ye);q(dt),ne===ye&&le(dt.length>0?dt[0]:""),ni(dt)},$s=()=>{const ye={};return _e.forEach(dt=>{const xt=dt.sourceCity||dt.city;ye[xt]||(ye[xt]=[]),ye[xt].push(dt)}),ye},di=()=>{const ye=document.getElementById("tagSelect"),dt=ye.value;dt&&!we.includes(dt)&&(De([...we,dt]),ye.value="")},ir=ye=>{De(we.filter(dt=>dt!==ye))},kr=()=>{if($&&Q){const ye=new Date($),dt=new Date(Q),xt=Math.abs(dt-ye),ln=Math.ceil(xt/(1e3*60*60*24));return Math.max(1,ln)}return Math.max(1,Math.ceil(N.length/3))},rr=ye=>ye?new Date(ye).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"",Nr=()=>new Date().toISOString().split("T")[0],qe=()=>{if(!$)return Nr();const ye=new Date($),dt=new Date(ye);return dt.setDate(ye.getDate()+1),dt.toISOString().split("T")[0]},Zt=()=>{S([...N,{place_id:"",step_order:N.length+1,start_time:"",end_time:"",day:1}])},rt=ye=>{const xt=N.filter((ln,qn)=>qn!==ye).map((ln,qn)=>({...ln,step_order:qn+1}));S(xt)},Re=(ye,dt)=>{if(dt==="up"&&ye===0||dt==="down"&&ye===N.length-1)return;const xt=[...N],ln=dt==="up"?ye-1:ye+1;[xt[ye],xt[ln]]=[xt[ln],xt[ye]],xt.forEach((qn,Te)=>{qn.step_order=Te+1}),S(xt)},Lt=(ye,dt,xt)=>{const ln=[...N];dt==="step_order"||dt==="day"?ln[ye][dt]=parseInt(xt)||1:ln[ye][dt]=xt,S(ln)},ft=async ye=>{if(ye.preventDefault(),N.length===0){me("Vui lòng thêm ít nhất một địa điểm!"),We("warning"),et(!0);return}if(N.some(Te=>!Te.place_id)){me("Vui lòng chọn địa điểm cho tất cả các bước!"),We("warning"),et(!0);return}const dt=N[0],xt=Bt(dt.place_id),ln=xt?xt.name:o,qn=xt&&xt.image_url?xt.image_url:"";j(!0);try{const Te=await Ft.post(`${du}/api/tours`,{name:ln,description:g,user_id:Se,total_cost:parseFloat(y)||0,start_time:$,end_time:Q,steps:N,image_url:qn});Z(Te.data.tour||Te.data),Ce(!0),h(""),_(""),v(0),S([]),V(),setTimeout(()=>he("/my-tours"),1200)}catch{me("Lỗi khi tạo tour"),We("danger"),et(!0)}finally{j(!1)}},Bt=ye=>c.find(dt=>dt.id==ye),an=N.reduce((ye,dt)=>{const xt=dt.day||1;return ye[xt]||(ye[xt]=[]),ye[xt].push(dt),ye},{}),On=Object.keys(an).sort((ye,dt)=>ye-dt);if(!B){const ye=i.jsx("div",{className:"container py-4",children:i.jsx("div",{className:"alert alert-warning mt-3",children:"Bạn cần đăng nhập để sử dụng chức năng này."})});return l?ye:i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Br,{}),i.jsx(mq,{activePage:"plan"}),i.jsx("main",{className:"container py-4 flex-grow-1",children:ye}),i.jsx(Yr,{})]})}const Sn=i.jsxs("div",{className:"luxury-planner-container",children:[He&&i.jsxs("div",{className:`alert alert-${Ie} alert-dismissible fade show`,role:"alert",children:[i.jsx("i",{className:`bi ${Ie==="danger"?"bi-exclamation-triangle-fill":"bi-exclamation-circle-fill"} me-2`}),pe,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>et(!1)})]}),i.jsx("div",{className:"luxury-card mb-4",children:i.jsx("div",{className:"luxury-card-body",children:i.jsxs("div",{className:"row g-3",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:["Khởi hành từ ",i.jsx("span",{className:"text-danger",children:"*"})]}),i.jsx(QA,{value:o,onChange:h,placeholder:"Nhập điểm khởi hành"})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:[i.jsx("i",{className:"bi bi-geo-alt me-2 text-primary"}),"Thành phố muốn đi"]}),i.jsxs("div",{className:"d-flex gap-2 mb-2",children:[i.jsx(Tb,{value:de,onChange:ye=>{re(ye)},onKeyPress:ye=>{if(ye.key==="Enter"&&de.trim()&&!se.includes(de.trim())){ye.preventDefault();const dt=[...se,de.trim()];q(dt),re(""),ni(dt)}},placeholder:"Chọn hoặc nhập thành phố..."}),i.jsx("button",{type:"button",className:"btn btn-outline-success",onClick:()=>{if(de.trim()&&!se.includes(de.trim())){const ye=[...se,de.trim()];q(ye),re(""),ni(ye)}},disabled:!de.trim(),children:i.jsx("i",{className:"bi bi-plus"})})]}),se.length>0&&i.jsx("div",{className:"mt-2",children:se.map((ye,dt)=>i.jsxs("span",{className:"badge bg-success me-2 mb-1",style:{fontSize:"1em"},children:[i.jsx("i",{className:"bi bi-geo-alt me-1"}),ye,i.jsx("button",{type:"button",className:"btn btn-sm btn-link text-white ms-1 p-0 text-decoration-none",style:{fontSize:"1em"},title:"Xóa thành phố",onClick:()=>Xn(ye),children:"×"})]},dt))})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:[i.jsx("i",{className:"bi bi-tags me-2 text-info"}),"Loại địa điểm muốn khám phá"]}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsxs("select",{id:"tagSelect",className:"form-select",onChange:di,children:[i.jsx("option",{value:"",children:"Chọn loại địa điểm..."}),be.filter(ye=>!we.includes(String(ye.id))).map(ye=>i.jsx("option",{value:ye.id,children:ye.name},ye.id))]}),i.jsx("button",{type:"button",className:"btn btn-outline-info",onClick:di,disabled:!((fi=document.getElementById("tagSelect"))!=null&&fi.value),children:i.jsx("i",{className:"bi bi-plus"})})]}),we.length>0&&i.jsx("div",{className:"mt-2",children:we.map(ye=>{const dt=be.find(xt=>String(xt.id)===String(ye));return dt?i.jsxs("span",{className:"badge bg-info me-2 mb-1",style:{fontSize:"1em"},children:[i.jsx("i",{className:"bi bi-tag me-1"}),dt.name,i.jsx("button",{type:"button",className:"btn btn-sm btn-link text-white ms-1 p-0 text-decoration-none",style:{fontSize:"1em"},title:"Xóa loại địa điểm",onClick:()=>ir(String(dt.id)),children:"×"})]},dt.id):null})})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:[i.jsx("i",{className:"bi bi-currency-dollar me-2 text-success"}),"Tổng chi phí (VND)"]}),i.jsx("input",{className:"form-control",type:"text",value:y?parseInt(y).toLocaleString("vi-VN"):"",onChange:ye=>{const dt=ye.target.value.replace(/\D/g,"");v(dt)},placeholder:"Nhập chi phí dự kiến"}),y&&i.jsxs("div",{className:"form-text",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),"Chi phí: ",lo(parseInt(y))," VNĐ"]}),y&&y.length>0&&y.length<=3&&!y.endsWith("000")&&i.jsxs("div",{className:"mt-2",children:[i.jsx("small",{className:"text-muted",children:"Gợi ý:"}),i.jsx("div",{className:"d-flex flex-wrap gap-1 mt-1",children:(()=>{const ye=y.replace(/\D/g,"");return[{value:ye+"000",label:ye+".000 VNĐ"},{value:ye+"0000",label:ye+"0.000 VNĐ"},{value:ye+"00000",label:ye+"00.000 VNĐ"},{value:ye+"000000",label:ye+".000.000 VNĐ"},{value:ye+"0000000",label:ye+"0.000.000 VNĐ"}].filter(xt=>xt.value!==y).map((xt,ln)=>i.jsx("button",{type:"button",className:"btn btn-outline-success btn-sm",style:{fontSize:"0.8rem",padding:"0.25rem 0.5rem"},onClick:()=>v(xt.value),children:xt.label},ln))})()})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:[i.jsx("i",{className:"bi bi-calendar-event me-2 text-primary"}),"Ngày bắt đầu"]}),i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"date",className:"form-control",value:$,onChange:ye=>K(ye.target.value),min:Nr()}),$&&i.jsxs("div",{className:"form-text mt-1",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),rr($)]})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:[i.jsx("i",{className:"bi bi-calendar-check me-2 text-primary"}),"Ngày kết thúc"]}),i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"date",className:"form-control",value:Q,onChange:ye=>ee(ye.target.value),min:qe(),disabled:!$}),Q&&i.jsxs("div",{className:"form-text mt-1",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),rr(Q)," (",kr()," ngày)"]}),!$&&i.jsxs("div",{className:"form-text mt-1",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-1 text-warning"}),"Vui lòng chọn ngày bắt đầu trước"]})]})]}),i.jsxs("div",{className:"col-12",children:[i.jsx("label",{className:"form-label fw-bold",children:"Mô tả"}),i.jsx("textarea",{className:"form-control",rows:"3",value:g,onChange:ye=>_(ye.target.value),placeholder:"Mô tả chi tiết về tour của bạn"})]})]})})}),i.jsx("div",{className:"luxury-card",children:i.jsxs("div",{className:"luxury-card-body",children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[i.jsx("h4",{className:"mb-0",children:"Hành trình chuyến đi"}),i.jsx("div",{className:"d-flex gap-2",children:i.jsx("button",{className:"btn btn-main btn-sm",onClick:Zt,children:"Thêm địa điểm"})})]}),(ne||se.length>0||we.length>0)&&i.jsx("div",{className:"mt-4",children:i.jsxs("div",{className:"alert alert-info border-0 shadow-sm",children:[i.jsxs("h6",{className:"mb-3",children:[i.jsx("i",{className:"bi bi-info-circle me-2"}),"Tóm tắt lựa chọn của bạn"]}),i.jsxs("div",{className:"row",children:[(ne||se.length>0)&&i.jsxs("div",{className:"col-md-6 mb-2",children:[i.jsxs("strong",{className:"text-primary",children:[i.jsx("i",{className:"bi bi-geo-alt me-1"}),"Thành phố:"]}),i.jsxs("div",{className:"mt-1",children:[ne&&i.jsx("span",{className:"badge bg-primary me-1 mb-1",children:ne}),se.map((ye,dt)=>i.jsx("span",{className:"badge bg-success me-1 mb-1",children:ye},dt))]})]}),we.length>0&&i.jsxs("div",{className:"col-md-6 mb-2",children:[i.jsxs("strong",{className:"text-info",children:[i.jsx("i",{className:"bi bi-tags me-1"}),"Loại địa điểm:"]}),i.jsx("div",{className:"mt-1",children:we.map(ye=>{const dt=be.find(xt=>String(xt.id)===String(ye));return dt?i.jsx("span",{className:"badge bg-info me-1 mb-1",children:dt.name},dt.id):null})})]})]})]})}),se.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("h5",{className:"form-label",children:"Gợi ý địa điểm từ thành phố đã chọn"}),i.jsxs("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:[_e.length===0&&i.jsx("div",{className:"col",children:"Không có địa điểm gợi ý cho thành phố này."}),_e.map(ye=>{const dt=N.some(xt=>xt.place_id===ye.id);return i.jsx("div",{className:"col",children:i.jsxs(ys,{style:{border:dt?"2px solid #1a5bb8":void 0,boxShadow:dt?"0 0 10px #1a5bb844":void 0,cursor:"pointer",transition:"box-shadow 0.2s, border 0.2s"},className:dt?"shadow-lg":"shadow-sm",onClick:()=>{dt||S([...N,{place_id:ye.id,step_order:N.length+1,day:1+Math.floor(N.length/3),start_time:"",end_time:""}])},children:[i.jsx(ys.Img,{variant:"top",src:Li(ye),style:{height:140,objectFit:"cover",borderTopLeftRadius:12,borderTopRightRadius:12},onError:xt=>{xt.target.style.display="none"}}),i.jsxs(ys.Body,{children:[i.jsx(ys.Title,{className:"fw-bold",style:{color:dt?"#1a5bb8":void 0},children:ye.name}),i.jsxs(ys.Text,{children:[i.jsx("span",{children:ye.address}),i.jsx("br",{}),i.jsx("span",{className:"text-muted",children:ye.city}),i.jsx("br",{}),ye.description&&i.jsxs("span",{className:"text-muted small",children:[ye.description.substring(0,60),"..."]})]}),i.jsxs("div",{className:"d-flex gap-2 mt-2",children:[dt?i.jsx(Ut,{variant:"primary",size:"sm",disabled:!0,children:"Đã thêm"}):i.jsx(Ut,{variant:"outline-primary",size:"sm",onClick:xt=>{xt.stopPropagation(),S([...N,{place_id:ye.id,step_order:N.length+1,day:1+Math.floor(N.length/3),start_time:"",end_time:""}])},children:"Thêm vào kế hoạch"}),i.jsx(tn,{to:`/places/${ye.id}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline-info btn-sm",onClick:xt=>xt.stopPropagation(),children:"Xem chi tiết"})]})]})]})},ye.id)})]})]}),N.length===0?i.jsxs("div",{className:"text-center py-4",children:[i.jsx("i",{className:"bi bi-map-marker-alt fa-3x text-muted mb-3"}),i.jsx("p",{className:"text-muted",children:"Chưa có địa điểm nào. Hãy thêm địa điểm đầu tiên!"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"tour-steps-container",children:[On.map(ye=>i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"fw-bold mb-3",children:["Ngày ",ye]}),an[ye].map((dt,xt)=>{const ln=Bt(dt.place_id),qn=N.findIndex(Te=>Te===dt);return i.jsxs("div",{className:"tour-step-card mb-3",children:[i.jsxs("div",{className:"tour-step-header",children:[i.jsx("div",{className:"step-number",children:dt.step_order}),i.jsxs("div",{className:"step-controls",children:[i.jsx("button",{className:"btn btn-sm btn-outline-secondary me-1",onClick:()=>Re(qn,"up"),disabled:qn===0,title:"Di chuyển lên",children:i.jsx("i",{className:"bi bi-arrow-up"})}),i.jsx("button",{className:"btn btn-sm btn-outline-secondary me-1",onClick:()=>Re(qn,"down"),disabled:qn===N.length-1,title:"Di chuyển xuống",children:i.jsx("i",{className:"bi bi-arrow-down"})}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>rt(qn),title:"Xóa địa điểm",children:i.jsx("i",{className:"bi bi-trash"})})]})]}),i.jsx("div",{className:"tour-step-content",children:i.jsxs("div",{className:"row g-3",children:[i.jsxs("div",{className:"col-md-8",children:[i.jsxs("label",{className:"form-label fw-bold",children:["Địa điểm ",i.jsx("span",{className:"text-danger",children:"*"})]}),i.jsxs("select",{className:"form-select",value:dt.place_id,onChange:Te=>Lt(qn,"place_id",Te.target.value),children:[i.jsx("option",{value:"",children:"-- Chọn địa điểm --"}),Object.entries($s()).map(([Te,Et])=>i.jsx("optgroup",{label:`${Te} (${Et.length} địa điểm)`,children:Et.map(Mt=>i.jsx("option",{value:Mt.id,children:Mt.name},`suggested-${Mt.id}`))},Te)),i.jsx("optgroup",{label:"Tất cả địa điểm khác",children:c.filter(Te=>!_e.some(Et=>Et.id===Te.id)).map(Te=>i.jsxs("option",{value:Te.id,children:[Te.name," - ",Te.city]},Te.id))})]}),ln&&i.jsx("div",{className:"mt-2 p-2 bg-light rounded",children:i.jsxs("small",{className:"text-muted",children:[i.jsx("i",{className:"bi bi-map-marker-alt me-1"}),ln.address]})})]}),i.jsxs("div",{className:"col-md-2",children:[i.jsx("label",{className:"form-label fw-bold",children:"Ngày"}),i.jsx("select",{className:"form-select",value:dt.day||1,onChange:Te=>Lt(qn,"day",Te.target.value),children:Array.from({length:kr()},(Te,Et)=>i.jsxs("option",{value:Et+1,children:["Ngày ",Et+1]},Et+1))})]}),i.jsxs("div",{className:"col-md-2",children:[i.jsx("label",{className:"form-label fw-bold",children:"Thứ tự"}),i.jsx("input",{type:"number",className:"form-control",min:"1",value:dt.step_order,onChange:Te=>Lt(qn,"step_order",Te.target.value)})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Thời gian bắt đầu"}),i.jsx("input",{type:"time",className:"form-control",value:dt.start_time||"",onChange:Te=>Lt(qn,"start_time",Te.target.value)})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Thời gian kết thúc"}),i.jsx("input",{type:"time",className:"form-control",value:dt.end_time||"",onChange:Te=>Lt(qn,"end_time",Te.target.value)})]})]})})]},qn)})]},ye)),i.jsx("button",{className:"btn btn-main btn-sm mb-3",onClick:()=>Zt(),title:"Thêm địa điểm",children:"Thêm"})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("h5",{className:"fw-bold",children:"Tóm tắt kế hoạch:"}),i.jsx("ul",{children:On.map(ye=>i.jsxs("li",{children:[i.jsxs("b",{children:["Ngày ",ye,":"]})," ",an[ye].map(dt=>{const xt=Bt(dt.place_id);return xt?xt.name:"(Chưa chọn địa điểm)"}).join(", ")]},ye))})]})]})]})}),i.jsxs("div",{className:"mb-4 mt-4",children:[i.jsx("h5",{className:"form-label",children:"Bạn có thể chọn khách sạn"}),i.jsx("div",{children:se.length>0?Object.entries(jt).map(([ye,dt])=>i.jsxs("div",{className:"mb-3",children:[i.jsxs("h6",{className:"fw-bold text-primary mb-2",children:["Khách sạn tại ",ye]}),i.jsxs("div",{style:{overflowX:"auto",whiteSpace:"nowrap",paddingBottom:8},children:[dt.length===0&&i.jsx("div",{className:"d-flex align-items-center",children:"Không tìm thấy khách sạn phù hợp."}),dt.map(xt=>i.jsx("div",{style:{display:"inline-block",minWidth:280,maxWidth:320},children:i.jsxs(ys,{style:{border:(Ge==null?void 0:Ge.id)===xt.id?"2px solid #007bff":void 0,boxShadow:(Ge==null?void 0:Ge.id)===xt.id?"0 0 10px #007bff44":void 0,cursor:"pointer",transition:"box-shadow 0.2s, border 0.2s"},className:(Ge==null?void 0:Ge.id)===xt.id?"shadow-lg":"shadow-sm",onClick:ln=>{ln.target.tagName!=="A"&&ln.target.tagName!=="BUTTON"&&Oe(xt)},children:[i.jsx(ys.Img,{variant:"top",src:xt.images&&xt.images[0]?nr(xt.images[0].image_url):"/default-hotel.jpg",style:{height:180,objectFit:"cover",borderTopLeftRadius:12,borderTopRightRadius:12},onError:ln=>{ln.target.style.display="none"}}),i.jsxs(ys.Body,{children:[i.jsx(ys.Title,{className:"fw-bold",style:{color:(Ge==null?void 0:Ge.id)===xt.id?"#1a5bb8":void 0},children:xt.name}),i.jsxs(ys.Text,{children:[i.jsx("span",{children:xt.address}),i.jsx("br",{}),i.jsx("span",{className:"text-muted",children:xt.city}),i.jsx("br",{}),xt.min_price&&xt.max_price&&i.jsxs("span",{children:["Giá: ",lo(xt.min_price)," - ",lo(xt.max_price)," VND"]})]}),i.jsxs("div",{className:"d-flex gap-2 mt-2",children:[i.jsx(Ut,{variant:(Ge==null?void 0:Ge.id)===xt.id?"primary":"outline-primary",size:"sm",onClick:ln=>{ln.stopPropagation(),Oe(xt)},children:(Ge==null?void 0:Ge.id)===xt.id?"Đã chọn":"Chọn"}),i.jsx(Ut,{variant:"success",size:"sm",className:"ms-2",onClick:ln=>{ln.stopPropagation(),$e(xt),Tt(!0),$t(""),Rn(""),ai(null)},children:"Booking now"}),i.jsx(tn,{to:`/hotels/${xt.id}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline-info btn-sm",onClick:ln=>ln.stopPropagation(),children:"Xem chi tiết"})]})]})]})},xt.id))]})]},ye)):i.jsxs("div",{style:{overflowX:"auto",whiteSpace:"nowrap",paddingBottom:8},children:[jt.All&&jt.All.length===0&&i.jsx("div",{className:"d-flex align-items-center",children:"Không tìm thấy khách sạn phù hợp."}),jt.All&&jt.All.map(ye=>i.jsx("div",{style:{display:"inline-block",minWidth:280,maxWidth:320},children:i.jsxs(ys,{style:{border:(Ge==null?void 0:Ge.id)===ye.id?"2px solid #007bff":void 0,boxShadow:(Ge==null?void 0:Ge.id)===ye.id?"0 0 10px #007bff44":void 0,cursor:"pointer",transition:"box-shadow 0.2s, border 0.2s",borderRadius:"15px"},className:(Ge==null?void 0:Ge.id)===ye.id?"shadow-lg me-2":"shadow-sm me-2",onClick:dt=>{dt.target.tagName!=="A"&&dt.target.tagName!=="BUTTON"&&Oe(ye)},children:[i.jsx(ys.Img,{variant:"top",src:ye.images&&ye.images[0]?nr(ye.images[0].image_url):"/default-hotel.jpg",style:{height:180,objectFit:"cover"},onError:dt=>{dt.target.style.display="none"}}),i.jsxs(ys.Body,{children:[i.jsx(ys.Title,{className:"fw-bold",style:{color:(Ge==null?void 0:Ge.id)===ye.id?"#1a5bb8":void 0},children:ye.name}),i.jsxs(ys.Text,{children:[i.jsx("span",{children:ye.address}),i.jsx("br",{}),i.jsx("span",{className:"text-muted",children:ye.city})]}),i.jsxs("div",{className:"d-flex gap-2 mt-2",children:[i.jsx(Ut,{variant:(Ge==null?void 0:Ge.id)===ye.id?"primary":"outline-primary",size:"sm",onClick:dt=>{dt.stopPropagation(),Oe(ye)},children:(Ge==null?void 0:Ge.id)===ye.id?"Đã chọn":"Chọn"}),i.jsx(Ut,{variant:"success",size:"sm",className:"ms-2",onClick:dt=>{dt.stopPropagation(),$e(ye),Tt(!0),$t(""),Rn(""),ai(null)},children:"Booking now"}),i.jsx(tn,{to:`/hotels/${ye.id}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline-info btn-sm",onClick:dt=>dt.stopPropagation(),children:"Xem chi tiết"})]})]})]})},ye.id))]})})]}),"In trip summary, show selected hotel as a card",Ge&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h6",{children:"Khách sạn đã chọn"}),i.jsxs(ys,{style:{width:"18rem"},children:[i.jsx(ys.Img,{variant:"top",src:Ge.images&&Ge.images[0]?nr(Ge.images[0].image_url):"/default-hotel.jpg",style:{height:120,objectFit:"cover"},onError:ye=>{ye.target.style.display="none"}}),i.jsxs(ys.Body,{children:[i.jsx(ys.Title,{children:Ge.name}),i.jsxs(ys.Text,{children:[i.jsx("span",{children:Ge.address}),i.jsx("br",{}),i.jsx("span",{className:"text-muted",children:Ge.city})]})]})]})]}),i.jsx("div",{className:"text-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:ft,disabled:D,children:D?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-spinner fa-spin me-2"}),"Đang tạo tour..."]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-save me-2"}),"Tạo tour"]})})}),i.jsxs(yt,{show:Qe,onHide:()=>Tt(!1),centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Đặt phòng khách sạn"})}),i.jsx(yt.Body,{children:i.jsxs(mn,{children:[i.jsxs(mn.Group,{className:"mb-3",children:[i.jsx(mn.Label,{children:"Ngày nhận phòng"}),i.jsx(mn.Control,{type:"date",value:bt,onChange:ye=>$t(ye.target.value)})]}),i.jsxs(mn.Group,{className:"mb-3",children:[i.jsx(mn.Label,{children:"Ngày trả phòng"}),i.jsx(mn.Control,{type:"date",value:fn,onChange:ye=>Rn(ye.target.value)})]}),Ot&&Ot.room_types&&i.jsxs(mn.Group,{className:"mb-3",children:[i.jsx(mn.Label,{children:"Loại phòng"}),i.jsxs(mn.Select,{value:ci,onChange:ye=>Ar(ye.target.value),children:[i.jsx("option",{value:"",children:"Chọn loại phòng"}),Array.isArray(Ot.room_types)?Ot.room_types.map((ye,dt)=>i.jsx("option",{value:ye,children:ye},dt)):JSON.parse(Ot.room_types||"[]").map((ye,dt)=>i.jsx("option",{value:ye,children:ye},dt))]})]}),vn==="success"&&i.jsx("div",{className:"alert alert-success",children:"Đặt phòng thành công!"}),vn==="error"&&i.jsx("div",{className:"alert alert-danger",children:"Đặt phòng thất bại. Vui lòng thử lại."})]})}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:()=>Tt(!1),children:"Đóng"}),i.jsx(Ut,{variant:"success",onClick:async()=>{ai(null);try{await bh.bookHotel({user_id:B==null?void 0:B.id,hotel_id:Ot==null?void 0:Ot.id,check_in:bt,check_out:fn,room_type:ci}),ai("success")}catch{ai("error")}},disabled:!bt||!fn,children:"Xác nhận đặt phòng"})]})]})]});return l?Sn:i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Br,{}),i.jsxs("main",{className:"container py-4 flex-grow-1",children:[Sn,fe&&Ee&&i.jsx("div",{className:"planner-modal-overlay",tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:"Tạo tour thành công!"}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>{Ce(!1),he("/my-tours")}})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("p",{children:["Bạn đã tạo tour bắt đầu từ ",i.jsx("b",{children:Ee.name})," thành công."]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Thời gian:"})," ",Ee.start_time||"-"," đến ",Ee.end_time||"-"]}),(ne||se.length>0||we.length>0)&&i.jsxs("div",{className:"mb-3",children:[i.jsx("b",{children:"Lựa chọn của bạn:"}),i.jsxs("div",{className:"mt-2",children:[(ne||se.length>0)&&i.jsxs("div",{className:"mb-2",children:[i.jsxs("small",{className:"text-muted",children:[i.jsx("i",{className:"bi bi-geo-alt me-1"}),i.jsx("strong",{children:"Thành phố:"})]}),i.jsxs("div",{className:"mt-1",children:[ne&&i.jsx("span",{className:"badge bg-primary me-1 mb-1",children:ne}),se.map((ye,dt)=>i.jsx("span",{className:"badge bg-success me-1 mb-1",children:ye},dt))]})]}),we.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsxs("small",{className:"text-muted",children:[i.jsx("i",{className:"bi bi-tags me-1"}),i.jsx("strong",{children:"Loại địa điểm:"})]}),i.jsx("div",{className:"mt-1",children:we.map(ye=>{const dt=be.find(xt=>String(xt.id)===String(ye));return dt?i.jsx("span",{className:"badge bg-info me-1 mb-1",children:dt.name},dt.id):null})})]})]})]}),Ee.start_time&&i.jsxs("div",{className:"alert alert-info mt-3",children:[i.jsx("i",{className:"bi bi-bell me-2"}),i.jsx("strong",{children:"Nhắc nhở tự động:"})," Bạn sẽ nhận được thông báo nhắc nhở trước khi tour bắt đầu."]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Kế hoạch:"}),i.jsx("ul",{children:On.map(ye=>i.jsxs("li",{children:[i.jsxs("b",{children:["Ngày ",ye,":"]})," ",an[ye].map(dt=>{const xt=Bt(dt.place_id);return xt?xt.name:"(Chưa chọn địa điểm)"}).join(", ")]},ye))})]})]}),i.jsxs("div",{className:"modal-footer",children:[Ee.id&&i.jsx("button",{className:"btn btn-main",onClick:()=>he(`/tours/${Ee.id}`),children:"Xem chi tiết tour"}),i.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>he("/my-tours"),children:"Đến trang My Tours"}),i.jsx("button",{className:"btn btn-link",onClick:()=>Ce(!1),children:"Đóng"})]})]})})})]}),i.jsx(Yr,{})]})}const $_="https://walkingguide.onrender.com/api/places",kb={getAll:()=>kt.get($_),getById:l=>kt.get(`${$_}/${l}`),searchByCity:l=>kt.get(`${$_}/search?city=${encodeURIComponent(l)}`),create:l=>kt.post($_,l)},q_="https://walkingguide.onrender.com",dL=({noLayout:l})=>{const[c,s]=I.useState(""),[o,h]=I.useState(""),[g,_]=I.useState(null),[y,v]=I.useState(""),[N,S]=I.useState(""),[D,j]=I.useState(!1),[B,F]=I.useState(!1),[V,$]=I.useState(!1),[K,Q]=I.useState(null),{user:ee,refreshNotifications:ne}=I.useContext(ds),[le,se]=I.useState([]),[q,de]=I.useState([]),[re,be]=I.useState(""),[ke,we]=I.useState(""),[De,_e]=I.useState(!1),[je,oe]=I.useState(""),[ve,he]=I.useState(""),[Ee,Z]=I.useState([]),[fe,Ce]=I.useState(!1),[Se,He]=I.useState(!1),[et,pe]=I.useState(!1),[me,Ie]=I.useState({name:"",description:"",address:"",opening_hours:"",service:""}),We=ka();I.useEffect(()=>{kt.get("https://walkingguide.onrender.com/api/tags").then(at=>se(at.data))},[]);const Le=async at=>{if(at){He(!0);try{const jt=await kb.searchByCity(at);Z(jt.data),Ce(!0)}catch(jt){console.error("Error searching places by city:",jt),Z([])}finally{He(!1)}}},st=at=>{he(at),at?Le(at):(Z([]),Ce(!1))},Ge=async()=>{if(!ve||!me.name||!me.description){oe("Vui lòng nhập đầy đủ thông tin cho địa điểm mới!"),_e(!0);return}try{const jt=await(await fetch(`${q_}/api/geocoding/coordinates?q=${encodeURIComponent(ve)}&limit=1`)).json();let Dt=10.8231,Qe=106.6297;jt.success&&jt.data&&(Dt=jt.data.latitude,Qe=jt.data.longitude);const Tt={name:me.name,description:me.description,latitude:Dt,longitude:Qe,city:ve,address:me.address,opening_hours:me.opening_hours,service:me.service,image_url:""};await kb.create(Tt),await Le(ve),Ie({name:"",description:"",address:"",opening_hours:"",service:""}),pe(!1),oe("Đã tạo địa điểm mới thành công!"),_e(!0)}catch(at){console.error("Error creating place:",at),oe("Có lỗi xảy ra khi tạo địa điểm mới!"),_e(!0)}},Oe=async()=>{var at,jt;if(!(ee!=null&&ee.id)||isNaN(Number(ee.id))){v("Vui lòng nhập đầy đủ thông tin!");return}if(!ve&&q.length===0&&!c.trim()){v("Vui lòng chọn ít nhất một thành phố hoặc thẻ địa điểm!");return}try{v(""),j(!0);const Dt={interests:c.split(",").map(Tt=>Tt.trim()).filter(Boolean),total_cost:o?parseFloat(o):0,user_id:Number(ee.id),tag_ids:q.map(Number),start_time:re,end_time:ke,city:ve};console.log("Generating tour with:",{city:ve,tags:q,interests:Dt.interests});const Qe=await kt.post("https://walkingguide.onrender.com/api/ai/generate-tour",Dt);_(Qe.data)}catch(Dt){console.error(Dt),(jt=(at=Dt.response)==null?void 0:at.data)!=null&&jt.error?v(Dt.response.data.error):v("Không thể tạo tour. Hãy kiểm tra lại dữ liệu.")}finally{j(!1)}},ut=async()=>{if(g){F(!0);try{let at=1;if(re&&ke){const Tt=new Date(re),Ot=new Date(ke),$e=Math.abs(Ot-Tt),bt=Math.ceil($e/(1e3*60*60*24));at=Math.max(1,bt)}else at=parseInt(days)||1;const jt=Math.ceil(g.steps.length/at);let Dt="";if(g.steps&&g.steps.length>0){const Tt=g.steps.find(Ot=>Ot.place&&Ot.place.image_url);Tt&&(Dt=Tt.place.image_url)}const Qe=await kt.post(`${q_}/api/tours`,{name:N||g.tour.name,description:g.tour.description,image_url:Dt,user_id:ee.id,total_cost:o?parseFloat(o):0,steps:g.steps.map((Tt,Ot)=>({place_id:Tt.place_id,step_order:Ot+1,stay_duration:Tt.stay_duration,start_time:Tt.start_time||null,end_time:Tt.end_time||null,day:Math.floor(Ot/jt)+1})),start_time:re,end_time:ke,start_from:N});Q(Qe.data.tour),$(!0),_(null),S(""),ne(),setTimeout(()=>We("/my-tours"),1200)}catch(at){console.error("Error saving tour:",at),oe("Lỗi khi lưu tour vào hệ thống!"),_e(!0)}finally{F(!1)}}};function Fe(at,jt){if(!at||!jt||jt.length===0)return"";const Dt=at.split(",").map(Ot=>Ot.trim()).filter(Boolean),Qe=jt.map(Ot=>{var $e;return($e=Ot.place)==null?void 0:$e.name}).filter(Boolean);if(Dt.length===0||Qe.length===0)return"";let Tt="";return Dt.length===1?Tt+=`Nếu bạn yêu thích ${Dt[0]}, bạn không thể bỏ qua những địa điểm như ${Qe.slice(0,2).join(", ")}`:Tt+=`Dựa trên sở thích của bạn (${Dt.join(", ")}), các địa điểm nổi bật gồm: ${Qe.slice(0,3).join(", ")}`,Tt}function ht(at){if(!at)return"";const jt=document.createElement("div");return jt.innerHTML=at,jt.textContent||jt.innerText||""}function Pt(at){const jt={};return at.forEach(Dt=>{const Qe=Dt.day||1;jt[Qe]||(jt[Qe]=[]),jt[Qe].push(Dt)}),jt}if(!ee){const at=i.jsxs("div",{className:"container py-4",children:[i.jsx("h2",{children:"Tạo lộ trình tự động"}),i.jsx("div",{className:"alert alert-warning mt-3",children:"Bạn cần đăng nhập để sử dụng chức năng này."})]});return l?at:i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Br,{}),i.jsx("main",{className:"container py-4 flex-grow-1",children:at}),i.jsx(Yr,{})]})}const en=i.jsxs("div",{className:"luxury-planner-container",children:[De&&i.jsxs("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),je,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>_e(!1)})]}),i.jsx("div",{className:"luxury-card mb-4",children:i.jsxs("div",{className:"luxury-card-body",children:[i.jsxs("div",{className:"row g-3",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Khởi hành từ"}),i.jsx(QA,{value:N,onChange:S,placeholder:"Nhập điểm khởi hành"})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Thành phố muốn đi"}),i.jsx(Tb,{value:ve,onChange:st,placeholder:"Chọn thành phố..."})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:[i.jsx("i",{className:"bi bi-calendar-event me-2 text-primary"}),"Ngày bắt đầu"]}),i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"date",className:"form-control",value:re,onChange:at=>be(at.target.value),min:new Date().toISOString().split("T")[0]}),re&&i.jsxs("div",{className:"form-text mt-1",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),new Date(re).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:[i.jsx("i",{className:"bi bi-calendar-check me-2 text-primary"}),"Ngày kết thúc"]}),i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"date",className:"form-control",value:ke,onChange:at=>we(at.target.value),min:re||new Date().toISOString().split("T")[0],disabled:!re}),ke&&i.jsxs("div",{className:"form-text mt-1",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),new Date(ke).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," (",(()=>{const at=new Date(re),jt=new Date(ke),Dt=Math.abs(jt-at),Qe=Math.ceil(Dt/(1e3*60*60*24));return Math.max(1,Qe)})()," ngày)"]}),!re&&i.jsxs("div",{className:"form-text mt-1",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-1 text-warning"}),"Vui lòng chọn ngày bắt đầu trước"]})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Bạn thích đi đâu?"}),i.jsxs("div",{children:[i.jsx("div",{className:"d-flex align-items-center gap-2",children:i.jsxs("select",{className:"form-select",value:"",onChange:at=>{const jt=at.target.value;jt&&!q.includes(jt)&&de([...q,jt])},children:[i.jsx("option",{value:"",children:"Có thể bạn muốn khám phá..."}),le.filter(at=>!q.includes(String(at.id))).map(at=>i.jsx("option",{value:at.id,children:at.name},at.id))]})}),i.jsx("div",{className:"mt-2",children:q.map(at=>{const jt=le.find(Dt=>String(Dt.id)===String(at));return jt?i.jsxs("span",{className:"badge bg-primary me-2 mb-1",style:{fontSize:"1em"},children:[jt.name,i.jsx("button",{type:"button",className:"btn btn-sm btn-link text-white ms-1 p-0 text-decoration-none",style:{fontSize:"1em"},title:"Xóa thẻ",onClick:()=>de(q.filter(Dt=>Dt!==String(jt.id))),children:"×"})]},jt.id):null})})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Ngân sách (VNĐ)"}),i.jsx("input",{type:"text",placeholder:"Nhập ngân sách",value:o,onChange:at=>{const jt=at.target.value.replace(/\D/g,"");h(jt)},className:"form-control"}),o&&i.jsxs("div",{className:"form-text",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),"Ngân sách: ",parseInt(o).toLocaleString("vi-VN")," VNĐ"]}),o&&o.length>0&&o.length<=3&&!o.endsWith("000")&&i.jsxs("div",{className:"mt-2",children:[i.jsx("small",{className:"text-muted",children:"Gợi ý:"}),i.jsx("div",{className:"d-flex flex-wrap gap-1 mt-1",children:(()=>{const at=o.replace(/\D/g,"");return[{value:at+"000",label:at+".000 VNĐ"},{value:at+"0000",label:at+"0.000 VNĐ"},{value:at+"00000",label:at+"00.000 VNĐ"},{value:at+"000000",label:at+".000.000 VNĐ"},{value:at+"0000000",label:at+"0.000.000 VNĐ"}].filter(Dt=>Dt.value!==o).map((Dt,Qe)=>i.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",style:{fontSize:"0.8rem",padding:"0.25rem 0.5rem"},onClick:()=>h(Dt.value),children:Dt.label},Qe))})()})]})]})]}),fe&&i.jsxs("div",{className:"mt-4",children:[i.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:i.jsxs("h5",{className:"mb-0",children:[i.jsx("i",{className:"bi bi-geo-alt me-2 text-primary"}),"Địa điểm tại ",ve]})}),Se?i.jsxs("div",{className:"text-center py-3",children:[i.jsx("div",{className:"spinner-border text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("p",{className:"mt-2 text-muted",children:"Đang tìm địa điểm..."})]}):Ee.length>0?i.jsx("div",{className:"row g-3",children:Ee.map(at=>i.jsx("div",{className:"col-md-6 col-lg-4",children:i.jsxs("div",{className:"card h-100 border-0 shadow-sm",children:[at.image_url&&i.jsx("img",{src:at.image_url.startsWith("http")?at.image_url:`${q_}${at.image_url}`,className:"card-img-top",alt:at.name,style:{height:"150px",objectFit:"cover"}}),i.jsxs("div",{className:"card-body",children:[i.jsx("h6",{className:"card-title text-primary",children:at.name}),i.jsxs("p",{className:"card-text small text-muted",children:[ht(at.description).substring(0,100),"..."]}),at.address&&i.jsxs("p",{className:"card-text small",children:[i.jsx("i",{className:"bi bi-geo-alt me-1"}),at.address]})]})]})},at.id))}):i.jsxs("div",{className:"text-center py-4",children:[i.jsx("i",{className:"bi bi-map text-muted",style:{fontSize:"3rem"}}),i.jsxs("p",{className:"mt-2 text-muted",children:["Chưa có địa điểm nào tại ",ve]}),i.jsxs("button",{className:"btn btn-primary",onClick:()=>pe(!0),children:[i.jsx("i",{className:"bi bi-plus-circle me-1"}),"Tạo địa điểm đầu tiên"]})]})]}),(ve||q.length>0)&&i.jsx("div",{className:"mt-4",children:i.jsxs("div",{className:"alert alert-info border-0 shadow-sm",children:[i.jsxs("h6",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-funnel me-2"}),"Bộ lọc tour"]}),i.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[ve&&i.jsxs("span",{className:"badge bg-primary",children:[i.jsx("i",{className:"bi bi-geo-alt me-1"}),"Thành phố: ",ve]}),q.map(at=>{const jt=le.find(Dt=>String(Dt.id)===String(at));return jt?i.jsxs("span",{className:"badge bg-success",children:[i.jsx("i",{className:"bi bi-tag me-1"}),jt.name]},jt.id):null})]}),i.jsx("small",{className:"text-muted mt-2 d-block",children:"Tour sẽ được tạo với các địa điểm phù hợp với bộ lọc trên"})]})}),i.jsx("div",{className:"text-center mt-4",children:i.jsx("button",{onClick:Oe,className:"btn btn-main btn-lg px-5",disabled:D,children:D?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-magic fa-spin me-2"}),"Đang tạo tour..."]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-magic text-white me-2"}),"Tạo tour"]})})})]})}),y&&i.jsxs("div",{className:"alert alert-danger",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),y]}),g&&i.jsx("div",{className:"luxury-card",children:i.jsxs("div",{className:"luxury-card-body",children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[i.jsx("h4",{className:"mb-0",children:"Tour được tạo"}),i.jsx("button",{onClick:ut,className:"btn btn-main",disabled:B,children:B?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-spinner fa-spin me-2"}),"Đang lưu..."]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-save me-2"}),"Lưu tour"]})})]}),i.jsxs("div",{className:"tour-info mb-4",children:[i.jsx("h5",{className:"text-primary mb-2",children:i.jsx("i",{className:"bi bi-route me-2"})}),i.jsx("p",{className:"text-muted mb-2",children:Fe(c,g.steps)||ht(g.tour.description)}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-4",children:i.jsxs("small",{className:"text-muted",children:[i.jsx("i",{className:"bi bi-calendar me-1"}),re&&ke?`${re} → ${ke}`:`${g.steps.length} địa điểm`]})}),i.jsx("div",{className:"col-md-4",children:i.jsxs("small",{className:"text-muted",children:[i.jsx("i",{className:"bi bi-clock me-1"}),g.steps.reduce((at,jt)=>at+(jt.stay_duration||0),0)," phút"]})})]})]}),g&&g.steps&&g.steps.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"fw-bold mb-3",children:"Hành trình gợi ý"}),Object.entries(Pt(g.steps)).map(([at,jt])=>i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"mb-3",style:{color:"#1a5bb8"},children:["Ngày ",at]}),i.jsx("div",{className:"row g-3",children:jt.map((Dt,Qe)=>{var Tt,Ot;return i.jsx("div",{className:"col-md-6 col-lg-4",children:i.jsx(tn,{to:Dt.place?`/places/${Dt.place.id}`:"#",className:"text-decoration-none",children:i.jsxs("div",{className:"card h-100 shadow-sm",children:[Dt.place&&Dt.place.image_url&&i.jsx("img",{src:Dt.place.image_url.startsWith("http")?Dt.place.image_url:`${q_}${Dt.place.image_url}`,alt:Dt.place.name,className:"card-img-top",style:{height:140,objectFit:"cover"}}),i.jsxs("div",{className:"card-body",children:[i.jsx("h6",{className:"card-title mb-1 fw-bold",children:(Tt=Dt.place)==null?void 0:Tt.name}),i.jsx("div",{className:"card-text text-muted",style:{fontSize:"0.95em"},children:ht((Ot=Dt.place)==null?void 0:Ot.description)})]})]})})},Dt.place_id||Qe)})})]},at))]})]})}),et&&i.jsx("div",{className:"planner-modal-overlay",tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-lg",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsxs("h5",{className:"modal-title",children:[i.jsx("i",{className:"bi bi-plus-circle me-2 text-primary"}),"Thêm địa điểm mới tại ",ve]}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>pe(!1)})]}),i.jsx("div",{className:"modal-body",children:i.jsxs("div",{className:"row g-3",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Tên địa điểm *"}),i.jsx("input",{type:"text",className:"form-control",value:me.name,onChange:at=>Ie({...me,name:at.target.value}),placeholder:"Nhập tên địa điểm"})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Địa chỉ"}),i.jsx("input",{type:"text",className:"form-control",value:me.address,onChange:at=>Ie({...me,address:at.target.value}),placeholder:"Nhập địa chỉ chi tiết"})]}),i.jsxs("div",{className:"col-12",children:[i.jsx("label",{className:"form-label fw-bold",children:"Mô tả *"}),i.jsx("textarea",{className:"form-control",rows:"3",value:me.description,onChange:at=>Ie({...me,description:at.target.value}),placeholder:"Mô tả về địa điểm này..."})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Giờ mở cửa"}),i.jsx("textarea",{className:"form-control",rows:"2",value:me.opening_hours,onChange:at=>Ie({...me,opening_hours:at.target.value}),placeholder:"VD: 8:00 - 22:00 hàng ngày"})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Dịch vụ"}),i.jsx("textarea",{className:"form-control",rows:"2",value:me.service,onChange:at=>Ie({...me,service:at.target.value}),placeholder:"VD: Ăn uống, Giải trí, Mua sắm"})]})]})}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>pe(!1),children:"Hủy"}),i.jsxs("button",{type:"button",className:"btn btn-primary",onClick:Ge,children:[i.jsx("i",{className:"bi bi-plus-circle me-1"}),"Tạo địa điểm"]})]})]})})})]});return l?en:i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Br,{}),i.jsxs("main",{className:"container py-4 flex-grow-1",children:[en,V&&K&&i.jsx("div",{className:"modal show d-block",tabIndex:"-1",style:{background:"rgba(0,0,0,0.4)"},children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:"Tạo tour thành công!"}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>{$(!1),We("/my-tours")}})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("p",{children:["Bạn đã tạo tour bắt đầu từ ",i.jsx("b",{children:K.name})," thành công."]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("b",{children:"Thời gian:"})," ",K.start_time||"-"," đến ",K.end_time||"-"]}),K.start_time&&i.jsxs("div",{className:"alert alert-info mt-3",children:[i.jsx("i",{className:"bi bi-bell me-2"}),i.jsx("strong",{children:"Nhắc nhở tự động:"})," Bạn sẽ nhận được thông báo nhắc nhở trước khi tour bắt đầu."]})]}),i.jsxs("div",{className:"modal-footer",children:[K.id&&i.jsx("button",{className:"btn btn-main",onClick:()=>window.location.href=`/tours/${K.id}`,children:"Xem chi tiết tour"}),i.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>window.location.href="/my-tours",children:"Đến trang My Tours"}),i.jsx("button",{className:"btn btn-link",onClick:()=>$(!1),children:"Đóng"})]})]})})})]}),i.jsx(Yr,{})]})},hd="https://walkingguide.onrender.com";delete lr.Icon.Default.prototype._getIconUrl;lr.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const ZW=l=>{if(l.image_url){const o=l.image_url.startsWith("http")?l.image_url:`${hd}${l.image_url}`;return new lr.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          overflow: hidden;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
          <img 
            src="${o}" 
            alt="${l.name}"
            style="
              width: 100%;
              height: 100%;
              margin-left: 11px;
              object-fit: cover;
            "
            onerror="this.style.display='none'; this.parentElement.innerHTML='<i class=\\"bi bi-geo-alt-fill\\" style=\\"font-size: 20px; color: #3498db;\\"></i>';"
          />
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})}else return new lr.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
          <i class="bi bi-geo-alt-fill" style="font-size: 24px; color: #3498db;"></i>
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})},XW=new lr.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),JW=new lr.Icon({iconUrl:ow,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]}),eY=new lr.Icon({iconUrl:aw,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]});function BI({defaultCenter:l,zoom:c}){const s=Ch();return I.useEffect(()=>{l&&l.length===2&&s.setView(l,c)},[l,c,s]),null}function RI({onLocationClick:l}){const c=Ch(),s=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(o=>{const h=o.coords.latitude,g=o.coords.longitude;c.setView([h,g],15),l({lat:h,lng:g})},o=>{console.error("Error getting current location:",o),alert("Không thể lấy vị trí hiện tại. Vui lòng kiểm tra quyền truy cập vị trí.")}):alert("Trình duyệt của bạn không hỗ trợ định vị.")};return i.jsx("div",{className:"leaflet-control leaflet-bar location-control",children:i.jsx("button",{onClick:s,title:"Đến vị trí hiện tại",children:i.jsx("i",{className:"bi bi-geo-alt-fill"})})})}function PI(){const l=Ch(),c=()=>{l.zoomIn()},s=()=>{l.zoomOut()};return i.jsxs("div",{className:"leaflet-control leaflet-bar zoom-controls",children:[i.jsx("button",{onClick:c,title:"Phóng to",className:"zoom-in-btn",children:i.jsx("i",{className:"bi bi-plus-lg"})}),i.jsx("button",{onClick:s,title:"Thu nhỏ",className:"zoom-out-btn",children:i.jsx("i",{className:"bi bi-dash-lg"})})]})}function tY({place:l,onClose:c}){var Se,He,et,pe;const[s,o]=I.useState(!1),[h,g]=I.useState("overview"),[_,y]=I.useState([]),[v,N]=I.useState(null),[S,D]=I.useState(l),[j,B]=I.useState([10.8231,106.6297]),[F,V]=I.useState(!0),$=I.useRef(null),[K,Q]=I.useState(!1),[ee,ne]=I.useState(""),[le,se]=I.useState([]),[q,de]=I.useState([]),[re,be]=I.useState((l==null?void 0:l.type)||"place"),ke=()=>window.matchMedia("(max-width: 600px)").matches,[we,De]=I.useState(!ke());I.useEffect(()=>{const me=()=>{ke()?De(!1):De(!0)};return window.addEventListener("resize",me),()=>window.removeEventListener("resize",me)},[]),I.useEffect(()=>{l&&(D(l),B([parseFloat(l.latitude),parseFloat(l.longitude)]))},[l]),I.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(me=>{const Ie={lat:me.coords.latitude,lng:me.coords.longitude};N(Ie),S||B([Ie.lat,Ie.lng]),_e(Ie)},me=>{console.error("Error getting current location:",me)})},[_,S]),I.useEffect(()=>{(async()=>{try{V(!0);const Ie=await Ft.get("/places");y(Ie.data),!S&&Ie.data.length>0&&D(Ie.data[0])}catch(Ie){console.error("Error fetching places:",Ie)}finally{V(!1)}})()},[S]),I.useEffect(()=>{const me=async()=>{try{const We=await Ft.get("/hotels");se(We.data.data||We.data)}catch{se([])}},Ie=async()=>{try{const We=await Ft.get("/restaurants");de(We.data.data||We.data)}catch{de([])}};me(),Ie()},[]);const _e=me=>{if(_.length===0)return;let Ie=_[0],We=je(me.lat,me.lng,Ie.latitude,Ie.longitude);_.forEach(Le=>{const st=je(me.lat,me.lng,Le.latitude,Le.longitude);st<We&&(We=st,Ie=Le)}),S||D(Ie)},je=(me,Ie,We,Le)=>{const Ge=(We-me)*Math.PI/180,Oe=(Le-Ie)*Math.PI/180,ut=Math.sin(Ge/2)*Math.sin(Ge/2)+Math.cos(me*Math.PI/180)*Math.cos(We*Math.PI/180)*Math.sin(Oe/2)*Math.sin(Oe/2);return 6371*(2*Math.atan2(Math.sqrt(ut),Math.sqrt(1-ut)))},oe=(me,Ie="place")=>{D(me),be(Ie),ke()&&De(!0)},ve=me=>{N(me)};I.useEffect(()=>{const me=Ie=>{Ie.key==="Escape"&&s&&o(!1)};return document.addEventListener("keydown",me),()=>{document.removeEventListener("keydown",me)}},[s]);const he=me=>me?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(me):"",Ee=me=>{if(!me)return"";const Ie=document.createElement("div");return Ie.innerHTML=me,Ie.textContent||Ie.innerText||""},Z=(me,Ie)=>{if(Ie)return me.find(We=>We.id===Ie.id)},fe=Z(le,S),Ce=Z(q,S);return F||!S?i.jsxs("div",{className:"place-detail-map-fullscreen",children:[i.jsx("div",{className:"map-container",children:i.jsxs(gb,{center:j,zoom:13,className:"fullscreen-map",zoomControl:!1,ref:$,children:[i.jsx(bb,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),i.jsx(BI,{defaultCenter:j,zoom:13}),i.jsx(RI,{onLocationClick:ve}),i.jsx(PI,{})]})}),i.jsx("div",{className:"info-overlay",children:i.jsx("div",{className:"overlay-content",children:i.jsx("div",{className:"tab-content",children:i.jsx("div",{className:"place-basic-info",children:i.jsx("div",{className:"d-flex align-items-center justify-content-center",style:{height:"200px"},children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("h5",{className:"text-muted",children:"Đang tải thông tin địa điểm..."})]})})})})})})]}):i.jsxs("div",{className:"place-detail-map-fullscreen",children:[i.jsx("div",{className:"map-container",children:i.jsxs(gb,{center:j,zoom:13,className:"fullscreen-map",zoomControl:!1,ref:$,children:[i.jsx(bb,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),v&&i.jsx(co,{position:[v.lat,v.lng],icon:XW,children:i.jsx(uo,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("h6",{className:"text-primary mb-1",children:"Vị trí hiện tại"}),i.jsxs("small",{className:"text-muted",children:[v.lat.toFixed(6),", ",v.lng.toFixed(6)]})]})})}),_.map(me=>i.jsx(co,{position:[parseFloat(me.latitude),parseFloat(me.longitude)],icon:ZW(me),eventHandlers:{click:()=>oe(me,"place")},children:i.jsx(uo,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("h6",{className:"text-primary mb-1",children:me.name}),me.address&&i.jsx("p",{className:"mb-1 small",children:me.address}),me.city&&i.jsx("p",{className:"mb-0 text-muted small",children:me.city})]})})},me.id)),le.filter(me=>me.latitude&&me.longitude).map(me=>i.jsx(co,{position:[me.latitude,me.longitude],icon:JW,eventHandlers:{click:()=>oe(me,"hotel")},children:i.jsx(uo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:me.name}),i.jsx("br",{}),me.address&&i.jsxs("span",{children:[me.address,i.jsx("br",{})]}),me.city&&i.jsxs("span",{children:[me.city,i.jsx("br",{})]}),me.price_range&&i.jsxs("span",{children:["Giá: ",me.price_range,i.jsx("br",{})]}),me.rating&&i.jsxs("span",{children:["Đánh giá: ",me.rating.toFixed(1)," / 5"]})]})})},`hotel-${me.id}`)),q.filter(me=>me.latitude&&me.longitude).map(me=>i.jsx(co,{position:[me.latitude,me.longitude],icon:eY,eventHandlers:{click:()=>oe(me,"restaurant")},children:i.jsx(uo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:me.name}),i.jsx("br",{}),me.address&&i.jsxs("span",{children:[me.address,i.jsx("br",{})]}),me.city&&i.jsxs("span",{children:[me.city,i.jsx("br",{})]}),me.price_range&&i.jsxs("span",{children:["Giá: ",me.price_range,i.jsx("br",{})]}),me.rating&&i.jsxs("span",{children:["Đánh giá: ",me.rating.toFixed(1)," / 5"]})]})})},`restaurant-${me.id}`)),i.jsx(BI,{defaultCenter:j,zoom:13}),i.jsx(RI,{onLocationClick:ve}),i.jsx(PI,{})]})}),we||!ke()?i.jsxs("div",{className:`info-overlay ${ke()?we?"mobile-visible":"mobile-hidden":""}`,children:[ke()&&i.jsx("button",{className:"close-overlay-btn",onClick:()=>De(!1),style:{position:"absolute",top:10,right:16,zIndex:10,fontSize:"2rem",background:"#fff",border:"none",borderRadius:"50%",width:36,height:36,color:"#888",boxShadow:"0 2px 8px rgba(0,0,0,0.07)"},children:"×"}),i.jsx("div",{className:"overlay-content",children:i.jsx("div",{className:"tab-content",children:i.jsxs("div",{className:"place-basic-info",children:[re==="hotel"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"position-relative",style:{height:"250px"},children:[i.jsx("img",{src:(()=>{var me;return fe.image_url?fe.image_url.startsWith("http")?fe.image_url:`${hd}${fe.image_url}`:fe.images&&((me=fe.images[0])!=null&&me.image_url)?fe.images[0].image_url.startsWith("http")?fe.images[0].image_url:`${hd}${fe.images[0].image_url}`:"/default-place.jpg"})(),alt:fe.name,className:"w-100 h-100",style:{objectFit:"cover"},onError:me=>{me.target.src="/default-place.jpg"}}),i.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"linear-gradient(180deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.4) 100%)"}}),i.jsxs("div",{className:"position-absolute bottom-0 start-0 w-100 p-3",children:[i.jsx("h2",{className:"text-white fw-bold mb-2 text-shadow",style:{fontSize:"1.8rem"},children:fe.name}),i.jsxs("div",{className:"d-flex flex-wrap gap-2 align-items-center",children:[fe.city&&i.jsxs("span",{className:"badge bg-primary bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),fe.city]}),fe.rating&&i.jsxs("span",{className:"badge bg-warning bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-star-fill me-1"}),(Se=fe.rating)!=null&&Se.toFixed?fe.rating.toFixed(1):fe.rating,"/5"]})]})]})]}),fe.images&&fe.images.length>1&&i.jsx("div",{className:"mb-3",children:i.jsx("div",{className:"d-flex flex-wrap gap-2",children:fe.images.map((me,Ie)=>(me==null?void 0:me.image_url)&&i.jsx("img",{src:me.image_url.startsWith("http")?me.image_url:`${hd}${me.image_url}`,alt:"Gallery",style:{width:80,height:80,objectFit:"cover",borderRadius:8}},Ie))})}),i.jsxs("div",{className:"mb-4",children:[fe.address&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-house me-2 text-primary"}),i.jsx("span",{className:"fw-medium",children:"Địa chỉ:"})," ",fe.address]}),fe.city&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-geo-alt me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Thành phố:"})," ",fe.city]}),fe.stars&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-star-fill me-2 text-warning"}),i.jsx("span",{className:"fw-medium",children:"Hạng sao:"})," ",fe.stars," / 5"]}),fe.price_range&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-currency-dollar me-2 text-warning"}),i.jsx("span",{className:"fw-medium",children:"Mức giá:"})," ",fe.price_range]}),(fe.min_price||fe.max_price)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-cash-coin me-2 text-success"}),i.jsx("span",{className:"fw-medium",children:"Giá:"})," ",fe.min_price?he(fe.min_price):"",fe.min_price&&fe.max_price?" - ":"",fe.max_price?he(fe.max_price):""]}),fe.phone&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-telephone me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Điện thoại:"})," ",fe.phone]}),fe.email&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-envelope me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Email:"})," ",fe.email]}),fe.website&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-globe me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Website:"})," ",i.jsx("a",{href:fe.website,target:"_blank",rel:"noopener noreferrer",children:fe.website})]}),(fe.check_in_time||fe.check_out_time)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-clock me-2 text-success"}),fe.check_in_time&&i.jsxs("span",{className:"fw-medium me-3",children:["Nhận phòng: ",i.jsx("span",{className:"text-dark",children:fe.check_in_time})]}),fe.check_out_time&&i.jsxs("span",{className:"fw-medium",children:["Trả phòng: ",i.jsx("span",{className:"text-dark",children:fe.check_out_time})]})]}),fe.amenities&&(()=>{let me=fe.amenities;try{const Ie=JSON.parse(me);if(Array.isArray(Ie))return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Tiện nghi:"})," ",Ie.join(", ")]})}catch{}return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Tiện nghi:"})," ",me]})})(),fe.room_types&&(()=>{let me=fe.room_types;try{const Ie=JSON.parse(me);if(Array.isArray(Ie))return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Loại phòng:"})," ",Ie.join(", ")]})}catch{}return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Loại phòng:"})," ",me]})})()]}),fe.description&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"text-primary mb-3",children:[i.jsx("i",{className:"bi bi-info-circle me-2"}),"Mô tả"]}),i.jsx("div",{className:"p-3 bg-light rounded-3 description-text",style:{fontSize:"0.95rem",maxHeight:"150px",overflowY:"auto"},children:i.jsx("div",{children:Ee(fe.description)})})]})]}):re==="restaurant"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"position-relative",style:{height:"250px"},children:[Ce.image_url||Ce.images&&((He=Ce.images[0])!=null&&He.image_url)?i.jsx("img",{src:(()=>{var me;return Ce.image_url?Ce.image_url.startsWith("http")?Ce.image_url:`${hd}${Ce.image_url}`:Ce.images&&((me=Ce.images[0])!=null&&me.image_url)?Ce.images[0].image_url.startsWith("http")?Ce.images[0].image_url:`${hd}${Ce.images[0].image_url}`:""})(),alt:Ce.name,className:"w-100 h-100",style:{objectFit:"cover"},onError:me=>{me.target.style.display="none"}}):i.jsx("div",{className:"w-100 h-100 d-flex align-items-center justify-content-center bg-danger",style:{height:"250px",color:"white",fontSize:"3rem",borderRadius:"1.5rem"},children:i.jsx("i",{className:"bi bi-cup-hot"})}),i.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"linear-gradient(180deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.4) 100%)"}}),i.jsxs("div",{className:"position-absolute bottom-0 start-0 w-100 p-3",children:[i.jsx("h2",{className:"text-white fw-bold mb-2 text-shadow",style:{fontSize:"1.8rem"},children:Ce.name}),i.jsxs("div",{className:"d-flex flex-wrap gap-2 align-items-center",children:[Ce.city&&i.jsxs("span",{className:"badge bg-primary bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),Ce.city]}),Ce.rating&&i.jsxs("span",{className:"badge bg-warning bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-star-fill me-1"}),(et=Ce.rating)!=null&&et.toFixed?Ce.rating.toFixed(1):Ce.rating,"/5"]})]})]})]}),Ce.images&&Ce.images.length>1&&i.jsx("div",{className:"mb-3",children:i.jsx("div",{className:"d-flex flex-wrap gap-2",children:Ce.images.map((me,Ie)=>(me==null?void 0:me.image_url)&&i.jsx("img",{src:me.image_url.startsWith("http")?me.image_url:`${hd}${me.image_url}`,alt:"Gallery",style:{width:80,height:80,objectFit:"cover",borderRadius:8}},Ie))})}),i.jsxs("div",{className:"mb-4",children:[Ce.address&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-house me-2 text-primary"}),i.jsx("span",{className:"fw-medium",children:"Địa chỉ:"})," ",Ce.address]}),Ce.city&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-geo-alt me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Thành phố:"})," ",Ce.city]}),Ce.cuisine_type&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-egg-fried me-2 text-warning"}),i.jsx("span",{className:"fw-medium",children:"Ẩm thực:"})," ",Ce.cuisine_type]}),Ce.price_range&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-currency-dollar me-2 text-warning"}),i.jsx("span",{className:"fw-medium",children:"Mức giá:"})," ",Ce.price_range]}),(Ce.min_price||Ce.max_price)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-cash-coin me-2 text-success"}),i.jsx("span",{className:"fw-medium",children:"Giá:"})," ",Ce.min_price?he(Ce.min_price):"",Ce.min_price&&Ce.max_price?" - ":"",Ce.max_price?he(Ce.max_price):""]}),Ce.phone&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-telephone me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Điện thoại:"})," ",Ce.phone]}),Ce.email&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-envelope me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Email:"})," ",Ce.email]}),Ce.website&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-globe me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Website:"})," ",i.jsx("a",{href:Ce.website,target:"_blank",rel:"noopener noreferrer",children:Ce.website})]}),Ce.opening_hours&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-clock me-2 text-success"}),i.jsx("span",{className:"fw-medium",children:"Giờ mở cửa:"})," ",(()=>{let me=Ce.opening_hours;try{const Ie=JSON.parse(me);if(Array.isArray(Ie))return Ie.map((We,Le)=>i.jsxs("span",{className:"ms-2",children:[We.day,": ",We.hours]},Le))}catch{}return me})()]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium me-2",children:"Dịch vụ:"}),i.jsxs("span",{className:"me-2",children:[i.jsx("i",{className:`bi bi-bag-check${Ce.delivery_available?"":"-fill text-secondary"}`})," Giao hàng: ",Ce.delivery_available?"Có":"Không"]}),i.jsxs("span",{className:"me-2",children:[i.jsx("i",{className:`bi bi-bag${Ce.takeout_available?"":"-fill text-secondary"}`})," Mang đi: ",Ce.takeout_available?"Có":"Không"]}),i.jsxs("span",{children:[i.jsx("i",{className:`bi bi-people${Ce.dine_in_available?"":"-fill text-secondary"}`})," Ăn tại chỗ: ",Ce.dine_in_available?"Có":"Không"]})]}),Ce.dietary_options&&(()=>{let me=Ce.dietary_options;try{const Ie=JSON.parse(me);if(Array.isArray(Ie))return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Tùy chọn ăn kiêng:"})," ",Ie.join(", ")]})}catch{}return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Tùy chọn ăn kiêng:"})," ",me]})})(),Ce.features&&(()=>{let me=Ce.features;try{const Ie=JSON.parse(me);if(Array.isArray(Ie))return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Tiện ích:"})," ",Ie.join(", ")]})}catch{}return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Tiện ích:"})," ",me]})})()]}),Ce.description&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"text-primary mb-3",children:[i.jsx("i",{className:"bi bi-info-circle me-2"}),"Mô tả"]}),i.jsx("div",{className:"p-3 bg-light rounded-3 description-text",style:{fontSize:"0.95rem",maxHeight:"150px",overflowY:"auto"},children:i.jsx("div",{children:Ee(Ce.description)})})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"position-relative",style:{height:"250px"},children:[i.jsx("img",{src:(()=>{var me;return S!=null&&S.image_url?S.image_url.startsWith("http")?S.image_url:`${hd}${S.image_url}`:S!=null&&S.images&&((me=S.images[0])!=null&&me.image_url)?S.images[0].image_url.startsWith("http")?S.images[0].image_url:`${hd}${S.images[0].image_url}`:"/default-place.jpg"})(),alt:S==null?void 0:S.name,className:"w-100 h-100",style:{objectFit:"cover"},onError:me=>{me.target.src="/default-place.jpg"}}),i.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"linear-gradient(180deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.4) 100%)"}}),i.jsxs("div",{className:"position-absolute bottom-0 start-0 w-100 p-3",children:[i.jsx("h2",{className:"text-white fw-bold mb-2 text-shadow",style:{fontSize:"1.8rem"},children:S==null?void 0:S.name}),i.jsxs("div",{className:"d-flex flex-wrap gap-2 align-items-center",children:[(S==null?void 0:S.city)&&i.jsxs("span",{className:"badge bg-primary bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),S.city]}),(S==null?void 0:S.rating)&&i.jsxs("span",{className:"badge bg-warning bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-star-fill me-1"}),(pe=S.rating)!=null&&pe.toFixed?S.rating.toFixed(1):S.rating,"/5"]})]})]})]}),(S==null?void 0:S.images)&&S.images.length>1&&i.jsx("div",{className:"mb-3",children:i.jsx("div",{className:"d-flex flex-wrap gap-2",children:S.images.map((me,Ie)=>(me==null?void 0:me.image_url)&&i.jsx("img",{src:me.image_url.startsWith("http")?me.image_url:`${hd}${me.image_url}`,alt:"Gallery",style:{width:80,height:80,objectFit:"cover",borderRadius:8}},Ie))})}),i.jsxs("div",{className:"mb-4",children:[(S==null?void 0:S.address)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-house me-2 text-primary"}),i.jsx("span",{className:"fw-medium",children:"Địa chỉ:"})," ",S.address]}),(S==null?void 0:S.city)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-geo-alt me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Thành phố:"})," ",S.city]}),(S==null?void 0:S.opening_hours)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-clock me-2 text-success"}),i.jsx("span",{className:"fw-medium",children:"Giờ mở cửa:"})," ",S.opening_hours]}),(S==null?void 0:S.service)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-activity me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Dịch vụ:"})," ",S.service]}),(S==null?void 0:S.phone)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-telephone me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Điện thoại:"})," ",S.phone]}),(S==null?void 0:S.email)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-envelope me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Email:"})," ",S.email]}),(S==null?void 0:S.website)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-globe me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Website:"})," ",i.jsx("a",{href:S.website,target:"_blank",rel:"noopener noreferrer",children:S.website})]})]}),(S==null?void 0:S.description)&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"text-primary mb-3",children:[i.jsx("i",{className:"bi bi-info-circle me-2"}),"Mô tả"]}),i.jsx("div",{className:"p-3 bg-light rounded-3 description-text",style:{fontSize:"0.95rem",maxHeight:"150px",overflowY:"auto"},children:i.jsx("div",{children:Ee(S.description)})})]}),S&&S.service&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"text-primary mb-3",children:[i.jsx("i",{className:"bi bi-activity me-2"}),"Dịch vụ"]}),i.jsx("div",{className:"p-3 service-section",children:i.jsx("p",{className:"text-dark mb-0 fw-medium",style:{fontSize:"0.95rem"},children:S.service})})]})]}),i.jsxs("div",{className:"d-flex gap-2 justify-content-center pt-3",children:[i.jsxs("button",{onClick:c,className:"btn btn-outline-primary px-3 py-2 rounded-pill",style:{fontSize:"0.9rem"},children:[i.jsx("i",{className:"bi bi-arrow-left me-2"}),"Quay lại"]}),i.jsxs("button",{className:"btn btn-primary px-3 py-2 rounded-pill",style:{fontSize:"0.9rem"},children:[i.jsx("i",{className:"bi bi-share me-2"}),"Chia sẻ"]})]})]})})})]}):null,K&&i.jsxs("div",{className:"alert alert-warning alert-dismissible fade show position-absolute top-0 start-0 m-3",style:{zIndex:1e3},role:"alert",children:[i.jsx("i",{className:"bi bi-geo-alt me-2"}),ee,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>Q(!1)})]})]})}var uL={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zI=nt.createContext&&nt.createContext(uL),nY=["attr","size","title"];function iY(l,c){if(l==null)return{};var s=rY(l,c),o,h;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(l);for(h=0;h<g.length;h++)o=g[h],!(c.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(l,o)&&(s[o]=l[o])}return s}function rY(l,c){if(l==null)return{};var s={};for(var o in l)if(Object.prototype.hasOwnProperty.call(l,o)){if(c.indexOf(o)>=0)continue;s[o]=l[o]}return s}function xv(){return xv=Object.assign?Object.assign.bind():function(l){for(var c=1;c<arguments.length;c++){var s=arguments[c];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(l[o]=s[o])}return l},xv.apply(this,arguments)}function FI(l,c){var s=Object.keys(l);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(l);c&&(o=o.filter(function(h){return Object.getOwnPropertyDescriptor(l,h).enumerable})),s.push.apply(s,o)}return s}function Cv(l){for(var c=1;c<arguments.length;c++){var s=arguments[c]!=null?arguments[c]:{};c%2?FI(Object(s),!0).forEach(function(o){sY(l,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(s)):FI(Object(s)).forEach(function(o){Object.defineProperty(l,o,Object.getOwnPropertyDescriptor(s,o))})}return l}function sY(l,c,s){return c=oY(c),c in l?Object.defineProperty(l,c,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[c]=s,l}function oY(l){var c=aY(l,"string");return typeof c=="symbol"?c:c+""}function aY(l,c){if(typeof l!="object"||!l)return l;var s=l[Symbol.toPrimitive];if(s!==void 0){var o=s.call(l,c);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(l)}function hL(l){return l&&l.map((c,s)=>nt.createElement(c.tag,Cv({key:s},c.attr),hL(c.child)))}function r1(l){return c=>nt.createElement(lY,xv({attr:Cv({},l.attr)},c),hL(l.child))}function lY(l){var c=s=>{var{attr:o,size:h,title:g}=l,_=iY(l,nY),y=h||s.size||"1em",v;return s.className&&(v=s.className),l.className&&(v=(v?v+" ":"")+l.className),nt.createElement("svg",xv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,o,_,{className:v,style:Cv(Cv({color:l.color||s.color},s.style),l.style),height:y,width:y,xmlns:"http://www.w3.org/2000/svg"}),g&&nt.createElement("title",null,g),l.children)};return zI!==void 0?nt.createElement(zI.Consumer,null,s=>c(s)):c(uL)}function cY(l){return r1({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(l)}function dY(l){return r1({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(l)}function uY(l){return r1({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(l)}const Vl=({id:l,type:c="place"})=>{const{user:s}=jb(),[o,h]=I.useState(0),[g,_]=I.useState(0),[y,v]=I.useState(null),[N,S]=I.useState(!1),D=B=>B==="tour"?"tour-ratings":B==="hotel"?"hotel-ratings":B==="restaurant"?"restaurant-ratings":"place-ratings";I.useEffect(()=>{if(!l)return;const B=D(c);Ft.get(`${B}/average`,{params:{[`${c}_id`]:l}}).then(F=>h(F.data.average)).catch(F=>{F.response&&F.response.status===404&&h(0)}),s&&Ft.get(`${B}/user`,{params:{[`${c}_id`]:l}}).then(F=>_(F.data.rating||0)).catch(F=>{F.response&&F.response.status===404&&_(0)})},[l,s,c]);const j=async B=>{if(!s)return alert("Bạn cần đăng nhập để đánh giá!");S(!0);const F=D(c);try{await Ft.post(`${F}/rate`,{[`${c}_id`]:l,rating:B}),_(B);const V=await Ft.get(`${F}/average`,{params:{[`${c}_id`]:l}});h(V.data.average)}catch{alert("Có lỗi khi gửi đánh giá.")}S(!1)};return i.jsxs("div",{className:"d-flex align-items-center gap-2",children:[[1,2,3,4,5].map(B=>i.jsx(uY,{size:24,style:{cursor:s?"pointer":"default",color:(y||g)>=B?"#f1c40f":"#ddd",transition:"color 0.2s, transform 0.1s",transform:y===B?"scale(1.2)":"scale(1)",filter:(y||g)>=B?"drop-shadow(0 0 4px #f1c40f88)":"none"},onMouseEnter:()=>s&&v(B),onMouseLeave:()=>s&&v(null),onClick:()=>s&&j(B)},B)),i.jsx("span",{style:{fontWeight:500,color:"#888",fontSize:15,minWidth:40},children:o?o.toFixed(1):"Chưa có đánh giá"})]})};var lv={exports:{}},hY=lv.exports,HI;function mY(){return HI||(HI=1,function(l,c){(function(s,o){l.exports=o()})(hY,function(){var s=1e3,o=6e4,h=36e5,g="millisecond",_="second",y="minute",v="hour",N="day",S="week",D="month",j="quarter",B="year",F="date",V="Invalid Date",$=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,K=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Q={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_e){var je=["th","st","nd","rd"],oe=_e%100;return"["+_e+(je[(oe-20)%10]||je[oe]||je[0])+"]"}},ee=function(_e,je,oe){var ve=String(_e);return!ve||ve.length>=je?_e:""+Array(je+1-ve.length).join(oe)+_e},ne={s:ee,z:function(_e){var je=-_e.utcOffset(),oe=Math.abs(je),ve=Math.floor(oe/60),he=oe%60;return(je<=0?"+":"-")+ee(ve,2,"0")+":"+ee(he,2,"0")},m:function _e(je,oe){if(je.date()<oe.date())return-_e(oe,je);var ve=12*(oe.year()-je.year())+(oe.month()-je.month()),he=je.clone().add(ve,D),Ee=oe-he<0,Z=je.clone().add(ve+(Ee?-1:1),D);return+(-(ve+(oe-he)/(Ee?he-Z:Z-he))||0)},a:function(_e){return _e<0?Math.ceil(_e)||0:Math.floor(_e)},p:function(_e){return{M:D,y:B,w:S,d:N,D:F,h:v,m:y,s:_,ms:g,Q:j}[_e]||String(_e||"").toLowerCase().replace(/s$/,"")},u:function(_e){return _e===void 0}},le="en",se={};se[le]=Q;var q="$isDayjsObject",de=function(_e){return _e instanceof we||!(!_e||!_e[q])},re=function _e(je,oe,ve){var he;if(!je)return le;if(typeof je=="string"){var Ee=je.toLowerCase();se[Ee]&&(he=Ee),oe&&(se[Ee]=oe,he=Ee);var Z=je.split("-");if(!he&&Z.length>1)return _e(Z[0])}else{var fe=je.name;se[fe]=je,he=fe}return!ve&&he&&(le=he),he||!ve&&le},be=function(_e,je){if(de(_e))return _e.clone();var oe=typeof je=="object"?je:{};return oe.date=_e,oe.args=arguments,new we(oe)},ke=ne;ke.l=re,ke.i=de,ke.w=function(_e,je){return be(_e,{locale:je.$L,utc:je.$u,x:je.$x,$offset:je.$offset})};var we=function(){function _e(oe){this.$L=re(oe.locale,null,!0),this.parse(oe),this.$x=this.$x||oe.x||{},this[q]=!0}var je=_e.prototype;return je.parse=function(oe){this.$d=function(ve){var he=ve.date,Ee=ve.utc;if(he===null)return new Date(NaN);if(ke.u(he))return new Date;if(he instanceof Date)return new Date(he);if(typeof he=="string"&&!/Z$/i.test(he)){var Z=he.match($);if(Z){var fe=Z[2]-1||0,Ce=(Z[7]||"0").substring(0,3);return Ee?new Date(Date.UTC(Z[1],fe,Z[3]||1,Z[4]||0,Z[5]||0,Z[6]||0,Ce)):new Date(Z[1],fe,Z[3]||1,Z[4]||0,Z[5]||0,Z[6]||0,Ce)}}return new Date(he)}(oe),this.init()},je.init=function(){var oe=this.$d;this.$y=oe.getFullYear(),this.$M=oe.getMonth(),this.$D=oe.getDate(),this.$W=oe.getDay(),this.$H=oe.getHours(),this.$m=oe.getMinutes(),this.$s=oe.getSeconds(),this.$ms=oe.getMilliseconds()},je.$utils=function(){return ke},je.isValid=function(){return this.$d.toString()!==V},je.isSame=function(oe,ve){var he=be(oe);return this.startOf(ve)<=he&&he<=this.endOf(ve)},je.isAfter=function(oe,ve){return be(oe)<this.startOf(ve)},je.isBefore=function(oe,ve){return this.endOf(ve)<be(oe)},je.$g=function(oe,ve,he){return ke.u(oe)?this[ve]:this.set(he,oe)},je.unix=function(){return Math.floor(this.valueOf()/1e3)},je.valueOf=function(){return this.$d.getTime()},je.startOf=function(oe,ve){var he=this,Ee=!!ke.u(ve)||ve,Z=ke.p(oe),fe=function(We,Le){var st=ke.w(he.$u?Date.UTC(he.$y,Le,We):new Date(he.$y,Le,We),he);return Ee?st:st.endOf(N)},Ce=function(We,Le){return ke.w(he.toDate()[We].apply(he.toDate("s"),(Ee?[0,0,0,0]:[23,59,59,999]).slice(Le)),he)},Se=this.$W,He=this.$M,et=this.$D,pe="set"+(this.$u?"UTC":"");switch(Z){case B:return Ee?fe(1,0):fe(31,11);case D:return Ee?fe(1,He):fe(0,He+1);case S:var me=this.$locale().weekStart||0,Ie=(Se<me?Se+7:Se)-me;return fe(Ee?et-Ie:et+(6-Ie),He);case N:case F:return Ce(pe+"Hours",0);case v:return Ce(pe+"Minutes",1);case y:return Ce(pe+"Seconds",2);case _:return Ce(pe+"Milliseconds",3);default:return this.clone()}},je.endOf=function(oe){return this.startOf(oe,!1)},je.$set=function(oe,ve){var he,Ee=ke.p(oe),Z="set"+(this.$u?"UTC":""),fe=(he={},he[N]=Z+"Date",he[F]=Z+"Date",he[D]=Z+"Month",he[B]=Z+"FullYear",he[v]=Z+"Hours",he[y]=Z+"Minutes",he[_]=Z+"Seconds",he[g]=Z+"Milliseconds",he)[Ee],Ce=Ee===N?this.$D+(ve-this.$W):ve;if(Ee===D||Ee===B){var Se=this.clone().set(F,1);Se.$d[fe](Ce),Se.init(),this.$d=Se.set(F,Math.min(this.$D,Se.daysInMonth())).$d}else fe&&this.$d[fe](Ce);return this.init(),this},je.set=function(oe,ve){return this.clone().$set(oe,ve)},je.get=function(oe){return this[ke.p(oe)]()},je.add=function(oe,ve){var he,Ee=this;oe=Number(oe);var Z=ke.p(ve),fe=function(He){var et=be(Ee);return ke.w(et.date(et.date()+Math.round(He*oe)),Ee)};if(Z===D)return this.set(D,this.$M+oe);if(Z===B)return this.set(B,this.$y+oe);if(Z===N)return fe(1);if(Z===S)return fe(7);var Ce=(he={},he[y]=o,he[v]=h,he[_]=s,he)[Z]||1,Se=this.$d.getTime()+oe*Ce;return ke.w(Se,this)},je.subtract=function(oe,ve){return this.add(-1*oe,ve)},je.format=function(oe){var ve=this,he=this.$locale();if(!this.isValid())return he.invalidDate||V;var Ee=oe||"YYYY-MM-DDTHH:mm:ssZ",Z=ke.z(this),fe=this.$H,Ce=this.$m,Se=this.$M,He=he.weekdays,et=he.months,pe=he.meridiem,me=function(Le,st,Ge,Oe){return Le&&(Le[st]||Le(ve,Ee))||Ge[st].slice(0,Oe)},Ie=function(Le){return ke.s(fe%12||12,Le,"0")},We=pe||function(Le,st,Ge){var Oe=Le<12?"AM":"PM";return Ge?Oe.toLowerCase():Oe};return Ee.replace(K,function(Le,st){return st||function(Ge){switch(Ge){case"YY":return String(ve.$y).slice(-2);case"YYYY":return ke.s(ve.$y,4,"0");case"M":return Se+1;case"MM":return ke.s(Se+1,2,"0");case"MMM":return me(he.monthsShort,Se,et,3);case"MMMM":return me(et,Se);case"D":return ve.$D;case"DD":return ke.s(ve.$D,2,"0");case"d":return String(ve.$W);case"dd":return me(he.weekdaysMin,ve.$W,He,2);case"ddd":return me(he.weekdaysShort,ve.$W,He,3);case"dddd":return He[ve.$W];case"H":return String(fe);case"HH":return ke.s(fe,2,"0");case"h":return Ie(1);case"hh":return Ie(2);case"a":return We(fe,Ce,!0);case"A":return We(fe,Ce,!1);case"m":return String(Ce);case"mm":return ke.s(Ce,2,"0");case"s":return String(ve.$s);case"ss":return ke.s(ve.$s,2,"0");case"SSS":return ke.s(ve.$ms,3,"0");case"Z":return Z}return null}(Le)||Z.replace(":","")})},je.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},je.diff=function(oe,ve,he){var Ee,Z=this,fe=ke.p(ve),Ce=be(oe),Se=(Ce.utcOffset()-this.utcOffset())*o,He=this-Ce,et=function(){return ke.m(Z,Ce)};switch(fe){case B:Ee=et()/12;break;case D:Ee=et();break;case j:Ee=et()/3;break;case S:Ee=(He-Se)/6048e5;break;case N:Ee=(He-Se)/864e5;break;case v:Ee=He/h;break;case y:Ee=He/o;break;case _:Ee=He/s;break;default:Ee=He}return he?Ee:ke.a(Ee)},je.daysInMonth=function(){return this.endOf(D).$D},je.$locale=function(){return se[this.$L]},je.locale=function(oe,ve){if(!oe)return this.$L;var he=this.clone(),Ee=re(oe,ve,!0);return Ee&&(he.$L=Ee),he},je.clone=function(){return ke.w(this.$d,this)},je.toDate=function(){return new Date(this.valueOf())},je.toJSON=function(){return this.isValid()?this.toISOString():null},je.toISOString=function(){return this.$d.toISOString()},je.toString=function(){return this.$d.toUTCString()},_e}(),De=we.prototype;return be.prototype=De,[["$ms",g],["$s",_],["$m",y],["$H",v],["$W",N],["$M",D],["$y",B],["$D",F]].forEach(function(_e){De[_e[1]]=function(je){return this.$g(je,_e[0],_e[1])}}),be.extend=function(_e,je){return _e.$i||(_e(je,we,be),_e.$i=!0),be},be.locale=re,be.isDayjs=de,be.unix=function(_e){return be(1e3*_e)},be.en=se[le],be.Ls=se,be.p={},be})}(lv)),lv.exports}mY();function mL(l){var c,s,o="";if(typeof l=="string"||typeof l=="number")o+=l;else if(typeof l=="object")if(Array.isArray(l)){var h=l.length;for(c=0;c<h;c++)l[c]&&(s=mL(l[c]))&&(o&&(o+=" "),o+=s)}else for(s in l)l[s]&&(o&&(o+=" "),o+=s);return o}function Do(){for(var l,c,s=0,o="",h=arguments.length;s<h;s++)(l=arguments[s])&&(c=mL(l))&&(o&&(o+=" "),o+=c);return o}const fL=6048e5,fY=864e5,fw=6e4,pw=36e5,pY=1e3,VI=Symbol.for("constructDateFrom");function tr(l,c){return typeof l=="function"?l(c):l&&typeof l=="object"&&VI in l?l[VI](c):l instanceof Date?new l.constructor(c):new Date(c)}function dn(l,c){return tr(c||l,l)}function wc(l,c,s){const o=dn(l,s==null?void 0:s.in);return isNaN(c)?tr((s==null?void 0:s.in)||l,NaN):(c&&o.setDate(o.getDate()+c),o)}function yc(l,c,s){const o=dn(l,s==null?void 0:s.in);if(isNaN(c))return tr(l,NaN);if(!c)return o;const h=o.getDate(),g=tr(l,o.getTime());g.setMonth(o.getMonth()+c+1,0);const _=g.getDate();return h>=_?g:(o.setFullYear(g.getFullYear(),g.getMonth(),h),o)}function pL(l,c,s){return tr(l,+dn(l)+c)}function gY(l,c,s){return pL(l,c*pw)}let bY={};function qm(){return bY}function wu(l,c){var y,v,N,S;const s=qm(),o=(c==null?void 0:c.weekStartsOn)??((v=(y=c==null?void 0:c.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??s.weekStartsOn??((S=(N=s.locale)==null?void 0:N.options)==null?void 0:S.weekStartsOn)??0,h=dn(l,c==null?void 0:c.in),g=h.getDay(),_=(g<o?7:0)+g-o;return h.setDate(h.getDate()-_),h.setHours(0,0,0,0),h}function dp(l,c){return wu(l,{...c,weekStartsOn:1})}function gL(l,c){const s=dn(l,c==null?void 0:c.in),o=s.getFullYear(),h=tr(s,0);h.setFullYear(o+1,0,4),h.setHours(0,0,0,0);const g=dp(h),_=tr(s,0);_.setFullYear(o,0,4),_.setHours(0,0,0,0);const y=dp(_);return s.getTime()>=g.getTime()?o+1:s.getTime()>=y.getTime()?o:o-1}function Av(l){const c=dn(l),s=new Date(Date.UTC(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds()));return s.setUTCFullYear(c.getFullYear()),+l-+s}function Au(l,...c){const s=tr.bind(null,c.find(o=>typeof o=="object"));return c.map(s)}function zm(l,c){const s=dn(l,c==null?void 0:c.in);return s.setHours(0,0,0,0),s}function up(l,c,s){const[o,h]=Au(s==null?void 0:s.in,l,c),g=zm(o),_=zm(h),y=+g-Av(g),v=+_-Av(_);return Math.round((y-v)/fY)}function kY(l,c){const s=gL(l,c),o=tr(l,0);return o.setFullYear(s,0,4),o.setHours(0,0,0,0),dp(o)}function _A(l,c,s){const o=dn(l,s==null?void 0:s.in);return o.setTime(o.getTime()+c*fw),o}function s1(l,c,s){return yc(l,c*3,s)}function _Y(l,c,s){return pL(l,c*1e3)}function Nv(l,c,s){return wc(l,c*7,s)}function fu(l,c,s){return yc(l,c*12,s)}function UI(l,c){let s,o=c==null?void 0:c.in;return l.forEach(h=>{!o&&typeof h=="object"&&(o=tr.bind(null,h));const g=dn(h,o);(!s||s<g||isNaN(+g))&&(s=g)}),tr(o,s||NaN)}function $I(l,c){let s,o=c==null?void 0:c.in;return l.forEach(h=>{!o&&typeof h=="object"&&(o=tr.bind(null,h));const g=dn(h,o);(!s||s>g||isNaN(+g))&&(s=g)}),tr(o,s||NaN)}function vY(l,c,s){const[o,h]=Au(s==null?void 0:s.in,l,c);return+zm(o)==+zm(h)}function pu(l){return l instanceof Date||typeof l=="object"&&Object.prototype.toString.call(l)==="[object Date]"}function Ev(l){return!(!pu(l)&&typeof l!="number"||isNaN(+dn(l)))}function Sv(l,c,s){const[o,h]=Au(s==null?void 0:s.in,l,c),g=o.getFullYear()-h.getFullYear(),_=o.getMonth()-h.getMonth();return g*12+_}function Lm(l,c){const s=dn(l,c==null?void 0:c.in);return Math.trunc(s.getMonth()/3)+1}function jv(l,c,s){const[o,h]=Au(s==null?void 0:s.in,l,c),g=o.getFullYear()-h.getFullYear(),_=Lm(o)-Lm(h);return g*4+_}function Dv(l,c,s){const[o,h]=Au(s==null?void 0:s.in,l,c);return o.getFullYear()-h.getFullYear()}function wY(l,c,s){const[o,h]=Au(s==null?void 0:s.in,l,c),g=qI(o,h),_=Math.abs(up(o,h));o.setDate(o.getDate()-g*_);const y=+(qI(o,h)===-g),v=g*(_-y);return v===0?0:v}function qI(l,c){const s=l.getFullYear()-c.getFullYear()||l.getMonth()-c.getMonth()||l.getDate()-c.getDate()||l.getHours()-c.getHours()||l.getMinutes()-c.getMinutes()||l.getSeconds()-c.getSeconds()||l.getMilliseconds()-c.getMilliseconds();return s<0?-1:s>0?1:s}function bL(l,c){const s=dn(l,c==null?void 0:c.in);return s.setHours(23,59,59,999),s}function kL(l,c){const s=dn(l,c==null?void 0:c.in),o=s.getMonth();return s.setFullYear(s.getFullYear(),o+1,0),s.setHours(23,59,59,999),s}function vA(l,c){const s=dn(l,c==null?void 0:c.in),o=s.getMonth(),h=o-o%3;return s.setMonth(h,1),s.setHours(0,0,0,0),s}function _L(l,c){const s=dn(l,c==null?void 0:c.in);return s.setDate(1),s.setHours(0,0,0,0),s}function vL(l,c){const s=dn(l,c==null?void 0:c.in),o=s.getFullYear();return s.setFullYear(o+1,0,0),s.setHours(23,59,59,999),s}function gw(l,c){const s=dn(l,c==null?void 0:c.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}function yY(l,c){var y,v;const s=qm(),o=s.weekStartsOn??((v=(y=s.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??0,h=dn(l,c==null?void 0:c.in),g=h.getDay(),_=(g<o?-7:0)+6-(g-o);return h.setDate(h.getDate()+_),h.setHours(23,59,59,999),h}const xY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},CY=(l,c,s)=>{let o;const h=xY[l];return typeof h=="string"?o=h:c===1?o=h.one:o=h.other.replace("{{count}}",c.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+o:o+" ago":o};function BC(l){return(c={})=>{const s=c.width?String(c.width):l.defaultWidth;return l.formats[s]||l.formats[l.defaultWidth]}}const AY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},NY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},EY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},SY={date:BC({formats:AY,defaultWidth:"full"}),time:BC({formats:NY,defaultWidth:"full"}),dateTime:BC({formats:EY,defaultWidth:"full"})},jY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},DY=(l,c,s,o)=>jY[l];function Zg(l){return(c,s)=>{const o=s!=null&&s.context?String(s.context):"standalone";let h;if(o==="formatting"&&l.formattingValues){const _=l.defaultFormattingWidth||l.defaultWidth,y=s!=null&&s.width?String(s.width):_;h=l.formattingValues[y]||l.formattingValues[_]}else{const _=l.defaultWidth,y=s!=null&&s.width?String(s.width):l.defaultWidth;h=l.values[y]||l.values[_]}const g=l.argumentCallback?l.argumentCallback(c):c;return h[g]}}const TY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},MY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},IY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},OY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},LY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},BY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},RY=(l,c)=>{const s=Number(l),o=s%100;if(o>20||o<10)switch(o%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},PY={ordinalNumber:RY,era:Zg({values:TY,defaultWidth:"wide"}),quarter:Zg({values:MY,defaultWidth:"wide",argumentCallback:l=>l-1}),month:Zg({values:IY,defaultWidth:"wide"}),day:Zg({values:OY,defaultWidth:"wide"}),dayPeriod:Zg({values:LY,defaultWidth:"wide",formattingValues:BY,defaultFormattingWidth:"wide"})};function Xg(l){return(c,s={})=>{const o=s.width,h=o&&l.matchPatterns[o]||l.matchPatterns[l.defaultMatchWidth],g=c.match(h);if(!g)return null;const _=g[0],y=o&&l.parsePatterns[o]||l.parsePatterns[l.defaultParseWidth],v=Array.isArray(y)?FY(y,D=>D.test(_)):zY(y,D=>D.test(_));let N;N=l.valueCallback?l.valueCallback(v):v,N=s.valueCallback?s.valueCallback(N):N;const S=c.slice(_.length);return{value:N,rest:S}}}function zY(l,c){for(const s in l)if(Object.prototype.hasOwnProperty.call(l,s)&&c(l[s]))return s}function FY(l,c){for(let s=0;s<l.length;s++)if(c(l[s]))return s}function HY(l){return(c,s={})=>{const o=c.match(l.matchPattern);if(!o)return null;const h=o[0],g=c.match(l.parsePattern);if(!g)return null;let _=l.valueCallback?l.valueCallback(g[0]):g[0];_=s.valueCallback?s.valueCallback(_):_;const y=c.slice(h.length);return{value:_,rest:y}}}const VY=/^(\d+)(th|st|nd|rd)?/i,UY=/\d+/i,$Y={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qY={any:[/^b/i,/^(a|c)/i]},WY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},YY={any:[/1/i,/2/i,/3/i,/4/i]},GY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},KY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},QY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ZY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},XY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},JY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},eG={ordinalNumber:HY({matchPattern:VY,parsePattern:UY,valueCallback:l=>parseInt(l,10)}),era:Xg({matchPatterns:$Y,defaultMatchWidth:"wide",parsePatterns:qY,defaultParseWidth:"any"}),quarter:Xg({matchPatterns:WY,defaultMatchWidth:"wide",parsePatterns:YY,defaultParseWidth:"any",valueCallback:l=>l+1}),month:Xg({matchPatterns:GY,defaultMatchWidth:"wide",parsePatterns:KY,defaultParseWidth:"any"}),day:Xg({matchPatterns:QY,defaultMatchWidth:"wide",parsePatterns:ZY,defaultParseWidth:"any"}),dayPeriod:Xg({matchPatterns:XY,defaultMatchWidth:"any",parsePatterns:JY,defaultParseWidth:"any"})},wL={code:"en-US",formatDistance:CY,formatLong:SY,formatRelative:DY,localize:PY,match:eG,options:{weekStartsOn:0,firstWeekContainsDate:1}};function tG(l,c){const s=dn(l,c==null?void 0:c.in);return up(s,gw(s))+1}function o1(l,c){const s=dn(l,c==null?void 0:c.in),o=+dp(s)-+kY(s);return Math.round(o/fL)+1}function a1(l,c){var S,D,j,B;const s=dn(l,c==null?void 0:c.in),o=s.getFullYear(),h=qm(),g=(c==null?void 0:c.firstWeekContainsDate)??((D=(S=c==null?void 0:c.locale)==null?void 0:S.options)==null?void 0:D.firstWeekContainsDate)??h.firstWeekContainsDate??((B=(j=h.locale)==null?void 0:j.options)==null?void 0:B.firstWeekContainsDate)??1,_=tr((c==null?void 0:c.in)||l,0);_.setFullYear(o+1,0,g),_.setHours(0,0,0,0);const y=wu(_,c),v=tr((c==null?void 0:c.in)||l,0);v.setFullYear(o,0,g),v.setHours(0,0,0,0);const N=wu(v,c);return+s>=+y?o+1:+s>=+N?o:o-1}function nG(l,c){var y,v,N,S;const s=qm(),o=(c==null?void 0:c.firstWeekContainsDate)??((v=(y=c==null?void 0:c.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??s.firstWeekContainsDate??((S=(N=s.locale)==null?void 0:N.options)==null?void 0:S.firstWeekContainsDate)??1,h=a1(l,c),g=tr((c==null?void 0:c.in)||l,0);return g.setFullYear(h,0,o),g.setHours(0,0,0,0),wu(g,c)}function yL(l,c){const s=dn(l,c==null?void 0:c.in),o=+wu(s,c)-+nG(s,c);return Math.round(o/fL)+1}function er(l,c){const s=l<0?"-":"",o=Math.abs(l).toString().padStart(c,"0");return s+o}const fh={y(l,c){const s=l.getFullYear(),o=s>0?s:1-s;return er(c==="yy"?o%100:o,c.length)},M(l,c){const s=l.getMonth();return c==="M"?String(s+1):er(s+1,2)},d(l,c){return er(l.getDate(),c.length)},a(l,c){const s=l.getHours()/12>=1?"pm":"am";switch(c){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(l,c){return er(l.getHours()%12||12,c.length)},H(l,c){return er(l.getHours(),c.length)},m(l,c){return er(l.getMinutes(),c.length)},s(l,c){return er(l.getSeconds(),c.length)},S(l,c){const s=c.length,o=l.getMilliseconds(),h=Math.trunc(o*Math.pow(10,s-3));return er(h,c.length)}},ip={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},WI={G:function(l,c,s){const o=l.getFullYear()>0?1:0;switch(c){case"G":case"GG":case"GGG":return s.era(o,{width:"abbreviated"});case"GGGGG":return s.era(o,{width:"narrow"});case"GGGG":default:return s.era(o,{width:"wide"})}},y:function(l,c,s){if(c==="yo"){const o=l.getFullYear(),h=o>0?o:1-o;return s.ordinalNumber(h,{unit:"year"})}return fh.y(l,c)},Y:function(l,c,s,o){const h=a1(l,o),g=h>0?h:1-h;if(c==="YY"){const _=g%100;return er(_,2)}return c==="Yo"?s.ordinalNumber(g,{unit:"year"}):er(g,c.length)},R:function(l,c){const s=gL(l);return er(s,c.length)},u:function(l,c){const s=l.getFullYear();return er(s,c.length)},Q:function(l,c,s){const o=Math.ceil((l.getMonth()+1)/3);switch(c){case"Q":return String(o);case"QQ":return er(o,2);case"Qo":return s.ordinalNumber(o,{unit:"quarter"});case"QQQ":return s.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(o,{width:"wide",context:"formatting"})}},q:function(l,c,s){const o=Math.ceil((l.getMonth()+1)/3);switch(c){case"q":return String(o);case"qq":return er(o,2);case"qo":return s.ordinalNumber(o,{unit:"quarter"});case"qqq":return s.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(o,{width:"wide",context:"standalone"})}},M:function(l,c,s){const o=l.getMonth();switch(c){case"M":case"MM":return fh.M(l,c);case"Mo":return s.ordinalNumber(o+1,{unit:"month"});case"MMM":return s.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(o,{width:"wide",context:"formatting"})}},L:function(l,c,s){const o=l.getMonth();switch(c){case"L":return String(o+1);case"LL":return er(o+1,2);case"Lo":return s.ordinalNumber(o+1,{unit:"month"});case"LLL":return s.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(o,{width:"wide",context:"standalone"})}},w:function(l,c,s,o){const h=yL(l,o);return c==="wo"?s.ordinalNumber(h,{unit:"week"}):er(h,c.length)},I:function(l,c,s){const o=o1(l);return c==="Io"?s.ordinalNumber(o,{unit:"week"}):er(o,c.length)},d:function(l,c,s){return c==="do"?s.ordinalNumber(l.getDate(),{unit:"date"}):fh.d(l,c)},D:function(l,c,s){const o=tG(l);return c==="Do"?s.ordinalNumber(o,{unit:"dayOfYear"}):er(o,c.length)},E:function(l,c,s){const o=l.getDay();switch(c){case"E":case"EE":case"EEE":return s.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(o,{width:"short",context:"formatting"});case"EEEE":default:return s.day(o,{width:"wide",context:"formatting"})}},e:function(l,c,s,o){const h=l.getDay(),g=(h-o.weekStartsOn+8)%7||7;switch(c){case"e":return String(g);case"ee":return er(g,2);case"eo":return s.ordinalNumber(g,{unit:"day"});case"eee":return s.day(h,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(h,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(h,{width:"short",context:"formatting"});case"eeee":default:return s.day(h,{width:"wide",context:"formatting"})}},c:function(l,c,s,o){const h=l.getDay(),g=(h-o.weekStartsOn+8)%7||7;switch(c){case"c":return String(g);case"cc":return er(g,c.length);case"co":return s.ordinalNumber(g,{unit:"day"});case"ccc":return s.day(h,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(h,{width:"narrow",context:"standalone"});case"cccccc":return s.day(h,{width:"short",context:"standalone"});case"cccc":default:return s.day(h,{width:"wide",context:"standalone"})}},i:function(l,c,s){const o=l.getDay(),h=o===0?7:o;switch(c){case"i":return String(h);case"ii":return er(h,c.length);case"io":return s.ordinalNumber(h,{unit:"day"});case"iii":return s.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(o,{width:"short",context:"formatting"});case"iiii":default:return s.day(o,{width:"wide",context:"formatting"})}},a:function(l,c,s){const h=l.getHours()/12>=1?"pm":"am";switch(c){case"a":case"aa":return s.dayPeriod(h,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(h,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(h,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(h,{width:"wide",context:"formatting"})}},b:function(l,c,s){const o=l.getHours();let h;switch(o===12?h=ip.noon:o===0?h=ip.midnight:h=o/12>=1?"pm":"am",c){case"b":case"bb":return s.dayPeriod(h,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(h,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(h,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(h,{width:"wide",context:"formatting"})}},B:function(l,c,s){const o=l.getHours();let h;switch(o>=17?h=ip.evening:o>=12?h=ip.afternoon:o>=4?h=ip.morning:h=ip.night,c){case"B":case"BB":case"BBB":return s.dayPeriod(h,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(h,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(h,{width:"wide",context:"formatting"})}},h:function(l,c,s){if(c==="ho"){let o=l.getHours()%12;return o===0&&(o=12),s.ordinalNumber(o,{unit:"hour"})}return fh.h(l,c)},H:function(l,c,s){return c==="Ho"?s.ordinalNumber(l.getHours(),{unit:"hour"}):fh.H(l,c)},K:function(l,c,s){const o=l.getHours()%12;return c==="Ko"?s.ordinalNumber(o,{unit:"hour"}):er(o,c.length)},k:function(l,c,s){let o=l.getHours();return o===0&&(o=24),c==="ko"?s.ordinalNumber(o,{unit:"hour"}):er(o,c.length)},m:function(l,c,s){return c==="mo"?s.ordinalNumber(l.getMinutes(),{unit:"minute"}):fh.m(l,c)},s:function(l,c,s){return c==="so"?s.ordinalNumber(l.getSeconds(),{unit:"second"}):fh.s(l,c)},S:function(l,c){return fh.S(l,c)},X:function(l,c,s){const o=l.getTimezoneOffset();if(o===0)return"Z";switch(c){case"X":return GI(o);case"XXXX":case"XX":return Cm(o);case"XXXXX":case"XXX":default:return Cm(o,":")}},x:function(l,c,s){const o=l.getTimezoneOffset();switch(c){case"x":return GI(o);case"xxxx":case"xx":return Cm(o);case"xxxxx":case"xxx":default:return Cm(o,":")}},O:function(l,c,s){const o=l.getTimezoneOffset();switch(c){case"O":case"OO":case"OOO":return"GMT"+YI(o,":");case"OOOO":default:return"GMT"+Cm(o,":")}},z:function(l,c,s){const o=l.getTimezoneOffset();switch(c){case"z":case"zz":case"zzz":return"GMT"+YI(o,":");case"zzzz":default:return"GMT"+Cm(o,":")}},t:function(l,c,s){const o=Math.trunc(+l/1e3);return er(o,c.length)},T:function(l,c,s){return er(+l,c.length)}};function YI(l,c=""){const s=l>0?"-":"+",o=Math.abs(l),h=Math.trunc(o/60),g=o%60;return g===0?s+String(h):s+String(h)+c+er(g,2)}function GI(l,c){return l%60===0?(l>0?"-":"+")+er(Math.abs(l)/60,2):Cm(l,c)}function Cm(l,c=""){const s=l>0?"-":"+",o=Math.abs(l),h=er(Math.trunc(o/60),2),g=er(o%60,2);return s+h+c+g}const KI=(l,c)=>{switch(l){case"P":return c.date({width:"short"});case"PP":return c.date({width:"medium"});case"PPP":return c.date({width:"long"});case"PPPP":default:return c.date({width:"full"})}},xL=(l,c)=>{switch(l){case"p":return c.time({width:"short"});case"pp":return c.time({width:"medium"});case"ppp":return c.time({width:"long"});case"pppp":default:return c.time({width:"full"})}},iG=(l,c)=>{const s=l.match(/(P+)(p+)?/)||[],o=s[1],h=s[2];if(!h)return KI(l,c);let g;switch(o){case"P":g=c.dateTime({width:"short"});break;case"PP":g=c.dateTime({width:"medium"});break;case"PPP":g=c.dateTime({width:"long"});break;case"PPPP":default:g=c.dateTime({width:"full"});break}return g.replace("{{date}}",KI(o,c)).replace("{{time}}",xL(h,c))},wA={p:xL,P:iG},rG=/^D+$/,sG=/^Y+$/,oG=["D","DD","YY","YYYY"];function aG(l){return rG.test(l)}function lG(l){return sG.test(l)}function cG(l,c,s){const o=dG(l,c,s);if(console.warn(o),oG.includes(l))throw new RangeError(o)}function dG(l,c,s){const o=l[0]==="Y"?"years":"days of the month";return`Use \`${l.toLowerCase()}\` instead of \`${l}\` (in \`${c}\`) for formatting ${o} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const uG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mG=/^'([^]*?)'?$/,fG=/''/g,pG=/[a-zA-Z]/;function QI(l,c,s){var S,D,j,B,F,V,$,K;const o=qm(),h=(s==null?void 0:s.locale)??o.locale??wL,g=(s==null?void 0:s.firstWeekContainsDate)??((D=(S=s==null?void 0:s.locale)==null?void 0:S.options)==null?void 0:D.firstWeekContainsDate)??o.firstWeekContainsDate??((B=(j=o.locale)==null?void 0:j.options)==null?void 0:B.firstWeekContainsDate)??1,_=(s==null?void 0:s.weekStartsOn)??((V=(F=s==null?void 0:s.locale)==null?void 0:F.options)==null?void 0:V.weekStartsOn)??o.weekStartsOn??((K=($=o.locale)==null?void 0:$.options)==null?void 0:K.weekStartsOn)??0,y=dn(l,s==null?void 0:s.in);if(!Ev(y))throw new RangeError("Invalid time value");let v=c.match(hG).map(Q=>{const ee=Q[0];if(ee==="p"||ee==="P"){const ne=wA[ee];return ne(Q,h.formatLong)}return Q}).join("").match(uG).map(Q=>{if(Q==="''")return{isToken:!1,value:"'"};const ee=Q[0];if(ee==="'")return{isToken:!1,value:gG(Q)};if(WI[ee])return{isToken:!0,value:Q};if(ee.match(pG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ee+"`");return{isToken:!1,value:Q}});h.localize.preprocessor&&(v=h.localize.preprocessor(y,v));const N={firstWeekContainsDate:g,weekStartsOn:_,locale:h};return v.map(Q=>{if(!Q.isToken)return Q.value;const ee=Q.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&lG(ee)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&aG(ee))&&cG(ee,c,String(l));const ne=WI[ee[0]];return ne(y,ee,h.localize,N)}).join("")}function gG(l){const c=l.match(mG);return c?c[1].replace(fG,"'"):l}function ZI(l,c){return dn(l,c==null?void 0:c.in).getDate()}function bG(l,c){return dn(l,c==null?void 0:c.in).getDay()}function kG(l,c){const s=dn(l,c==null?void 0:c.in),o=s.getFullYear(),h=s.getMonth(),g=tr(s,0);return g.setFullYear(o,h+1,0),g.setHours(0,0,0,0),g.getDate()}function _G(){return Object.assign({},qm())}function gu(l,c){return dn(l,c==null?void 0:c.in).getHours()}function vG(l,c){const s=dn(l,c==null?void 0:c.in).getDay();return s===0?7:s}function bu(l,c){return dn(l,c==null?void 0:c.in).getMinutes()}function Zo(l,c){return dn(l,c==null?void 0:c.in).getMonth()}function _h(l){return dn(l).getSeconds()}function yA(l){return+dn(l)}function oi(l,c){return dn(l,c==null?void 0:c.in).getFullYear()}function wh(l,c){return+dn(l)>+dn(c)}function Fm(l,c){return+dn(l)<+dn(c)}function wG(l,c){return+dn(l)==+dn(c)}function yG(l,c){const s=xG(c)?new c(0):tr(c,0);return s.setFullYear(l.getFullYear(),l.getMonth(),l.getDate()),s.setHours(l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()),s}function xG(l){var c;return typeof l=="function"&&((c=l.prototype)==null?void 0:c.constructor)===l}const CG=10;class CL{constructor(){rn(this,"subPriority",0)}validate(c,s){return!0}}class AG extends CL{constructor(c,s,o,h,g){super(),this.value=c,this.validateValue=s,this.setValue=o,this.priority=h,g&&(this.subPriority=g)}validate(c,s){return this.validateValue(c,this.value,s)}set(c,s,o){return this.setValue(c,s,this.value,o)}}class NG extends CL{constructor(s,o){super();rn(this,"priority",CG);rn(this,"subPriority",-1);this.context=s||(h=>tr(o,h))}set(s,o){return o.timestampIsSet?s:tr(s,yG(s,this.context))}}class Fi{run(c,s,o,h){const g=this.parse(c,s,o,h);return g?{setter:new AG(g.value,this.validate,this.set,this.priority,this.subPriority),rest:g.rest}:null}validate(c,s,o){return!0}}class EG extends Fi{constructor(){super(...arguments);rn(this,"priority",140);rn(this,"incompatibleTokens",["R","u","t","T"])}parse(s,o,h){switch(o){case"G":case"GG":case"GGG":return h.era(s,{width:"abbreviated"})||h.era(s,{width:"narrow"});case"GGGGG":return h.era(s,{width:"narrow"});case"GGGG":default:return h.era(s,{width:"wide"})||h.era(s,{width:"abbreviated"})||h.era(s,{width:"narrow"})}}set(s,o,h){return o.era=h,s.setFullYear(h,0,1),s.setHours(0,0,0,0),s}}const ls={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},pd={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function cs(l,c){return l&&{value:c(l.value),rest:l.rest}}function Lr(l,c){const s=c.match(l);return s?{value:parseInt(s[0],10),rest:c.slice(s[0].length)}:null}function gd(l,c){const s=c.match(l);if(!s)return null;if(s[0]==="Z")return{value:0,rest:c.slice(1)};const o=s[1]==="+"?1:-1,h=s[2]?parseInt(s[2],10):0,g=s[3]?parseInt(s[3],10):0,_=s[5]?parseInt(s[5],10):0;return{value:o*(h*pw+g*fw+_*pY),rest:c.slice(s[0].length)}}function AL(l){return Lr(ls.anyDigitsSigned,l)}function Gr(l,c){switch(l){case 1:return Lr(ls.singleDigit,c);case 2:return Lr(ls.twoDigits,c);case 3:return Lr(ls.threeDigits,c);case 4:return Lr(ls.fourDigits,c);default:return Lr(new RegExp("^\\d{1,"+l+"}"),c)}}function Tv(l,c){switch(l){case 1:return Lr(ls.singleDigitSigned,c);case 2:return Lr(ls.twoDigitsSigned,c);case 3:return Lr(ls.threeDigitsSigned,c);case 4:return Lr(ls.fourDigitsSigned,c);default:return Lr(new RegExp("^-?\\d{1,"+l+"}"),c)}}function l1(l){switch(l){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function NL(l,c){const s=c>0,o=s?c:1-c;let h;if(o<=50)h=l||100;else{const g=o+50,_=Math.trunc(g/100)*100,y=l>=g%100;h=l+_-(y?100:0)}return s?h:1-h}function EL(l){return l%400===0||l%4===0&&l%100!==0}class SG extends Fi{constructor(){super(...arguments);rn(this,"priority",130);rn(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(s,o,h){const g=_=>({year:_,isTwoDigitYear:o==="yy"});switch(o){case"y":return cs(Gr(4,s),g);case"yo":return cs(h.ordinalNumber(s,{unit:"year"}),g);default:return cs(Gr(o.length,s),g)}}validate(s,o){return o.isTwoDigitYear||o.year>0}set(s,o,h){const g=s.getFullYear();if(h.isTwoDigitYear){const y=NL(h.year,g);return s.setFullYear(y,0,1),s.setHours(0,0,0,0),s}const _=!("era"in o)||o.era===1?h.year:1-h.year;return s.setFullYear(_,0,1),s.setHours(0,0,0,0),s}}class jG extends Fi{constructor(){super(...arguments);rn(this,"priority",130);rn(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(s,o,h){const g=_=>({year:_,isTwoDigitYear:o==="YY"});switch(o){case"Y":return cs(Gr(4,s),g);case"Yo":return cs(h.ordinalNumber(s,{unit:"year"}),g);default:return cs(Gr(o.length,s),g)}}validate(s,o){return o.isTwoDigitYear||o.year>0}set(s,o,h,g){const _=a1(s,g);if(h.isTwoDigitYear){const v=NL(h.year,_);return s.setFullYear(v,0,g.firstWeekContainsDate),s.setHours(0,0,0,0),wu(s,g)}const y=!("era"in o)||o.era===1?h.year:1-h.year;return s.setFullYear(y,0,g.firstWeekContainsDate),s.setHours(0,0,0,0),wu(s,g)}}class DG extends Fi{constructor(){super(...arguments);rn(this,"priority",130);rn(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(s,o){return Tv(o==="R"?4:o.length,s)}set(s,o,h){const g=tr(s,0);return g.setFullYear(h,0,4),g.setHours(0,0,0,0),dp(g)}}class TG extends Fi{constructor(){super(...arguments);rn(this,"priority",130);rn(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(s,o){return Tv(o==="u"?4:o.length,s)}set(s,o,h){return s.setFullYear(h,0,1),s.setHours(0,0,0,0),s}}class MG extends Fi{constructor(){super(...arguments);rn(this,"priority",120);rn(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(s,o,h){switch(o){case"Q":case"QQ":return Gr(o.length,s);case"Qo":return h.ordinalNumber(s,{unit:"quarter"});case"QQQ":return h.quarter(s,{width:"abbreviated",context:"formatting"})||h.quarter(s,{width:"narrow",context:"formatting"});case"QQQQQ":return h.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return h.quarter(s,{width:"wide",context:"formatting"})||h.quarter(s,{width:"abbreviated",context:"formatting"})||h.quarter(s,{width:"narrow",context:"formatting"})}}validate(s,o){return o>=1&&o<=4}set(s,o,h){return s.setMonth((h-1)*3,1),s.setHours(0,0,0,0),s}}class IG extends Fi{constructor(){super(...arguments);rn(this,"priority",120);rn(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(s,o,h){switch(o){case"q":case"qq":return Gr(o.length,s);case"qo":return h.ordinalNumber(s,{unit:"quarter"});case"qqq":return h.quarter(s,{width:"abbreviated",context:"standalone"})||h.quarter(s,{width:"narrow",context:"standalone"});case"qqqqq":return h.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return h.quarter(s,{width:"wide",context:"standalone"})||h.quarter(s,{width:"abbreviated",context:"standalone"})||h.quarter(s,{width:"narrow",context:"standalone"})}}validate(s,o){return o>=1&&o<=4}set(s,o,h){return s.setMonth((h-1)*3,1),s.setHours(0,0,0,0),s}}class OG extends Fi{constructor(){super(...arguments);rn(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);rn(this,"priority",110)}parse(s,o,h){const g=_=>_-1;switch(o){case"M":return cs(Lr(ls.month,s),g);case"MM":return cs(Gr(2,s),g);case"Mo":return cs(h.ordinalNumber(s,{unit:"month"}),g);case"MMM":return h.month(s,{width:"abbreviated",context:"formatting"})||h.month(s,{width:"narrow",context:"formatting"});case"MMMMM":return h.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return h.month(s,{width:"wide",context:"formatting"})||h.month(s,{width:"abbreviated",context:"formatting"})||h.month(s,{width:"narrow",context:"formatting"})}}validate(s,o){return o>=0&&o<=11}set(s,o,h){return s.setMonth(h,1),s.setHours(0,0,0,0),s}}class LG extends Fi{constructor(){super(...arguments);rn(this,"priority",110);rn(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(s,o,h){const g=_=>_-1;switch(o){case"L":return cs(Lr(ls.month,s),g);case"LL":return cs(Gr(2,s),g);case"Lo":return cs(h.ordinalNumber(s,{unit:"month"}),g);case"LLL":return h.month(s,{width:"abbreviated",context:"standalone"})||h.month(s,{width:"narrow",context:"standalone"});case"LLLLL":return h.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return h.month(s,{width:"wide",context:"standalone"})||h.month(s,{width:"abbreviated",context:"standalone"})||h.month(s,{width:"narrow",context:"standalone"})}}validate(s,o){return o>=0&&o<=11}set(s,o,h){return s.setMonth(h,1),s.setHours(0,0,0,0),s}}function BG(l,c,s){const o=dn(l,s==null?void 0:s.in),h=yL(o,s)-c;return o.setDate(o.getDate()-h*7),dn(o,s==null?void 0:s.in)}class RG extends Fi{constructor(){super(...arguments);rn(this,"priority",100);rn(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(s,o,h){switch(o){case"w":return Lr(ls.week,s);case"wo":return h.ordinalNumber(s,{unit:"week"});default:return Gr(o.length,s)}}validate(s,o){return o>=1&&o<=53}set(s,o,h,g){return wu(BG(s,h,g),g)}}function PG(l,c,s){const o=dn(l,s==null?void 0:s.in),h=o1(o,s)-c;return o.setDate(o.getDate()-h*7),o}class zG extends Fi{constructor(){super(...arguments);rn(this,"priority",100);rn(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(s,o,h){switch(o){case"I":return Lr(ls.week,s);case"Io":return h.ordinalNumber(s,{unit:"week"});default:return Gr(o.length,s)}}validate(s,o){return o>=1&&o<=53}set(s,o,h){return dp(PG(s,h))}}const FG=[31,28,31,30,31,30,31,31,30,31,30,31],HG=[31,29,31,30,31,30,31,31,30,31,30,31];class VG extends Fi{constructor(){super(...arguments);rn(this,"priority",90);rn(this,"subPriority",1);rn(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(s,o,h){switch(o){case"d":return Lr(ls.date,s);case"do":return h.ordinalNumber(s,{unit:"date"});default:return Gr(o.length,s)}}validate(s,o){const h=s.getFullYear(),g=EL(h),_=s.getMonth();return g?o>=1&&o<=HG[_]:o>=1&&o<=FG[_]}set(s,o,h){return s.setDate(h),s.setHours(0,0,0,0),s}}class UG extends Fi{constructor(){super(...arguments);rn(this,"priority",90);rn(this,"subpriority",1);rn(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(s,o,h){switch(o){case"D":case"DD":return Lr(ls.dayOfYear,s);case"Do":return h.ordinalNumber(s,{unit:"date"});default:return Gr(o.length,s)}}validate(s,o){const h=s.getFullYear();return EL(h)?o>=1&&o<=366:o>=1&&o<=365}set(s,o,h){return s.setMonth(0,h),s.setHours(0,0,0,0),s}}function c1(l,c,s){var D,j,B,F;const o=qm(),h=(s==null?void 0:s.weekStartsOn)??((j=(D=s==null?void 0:s.locale)==null?void 0:D.options)==null?void 0:j.weekStartsOn)??o.weekStartsOn??((F=(B=o.locale)==null?void 0:B.options)==null?void 0:F.weekStartsOn)??0,g=dn(l,s==null?void 0:s.in),_=g.getDay(),v=(c%7+7)%7,N=7-h,S=c<0||c>6?c-(_+N)%7:(v+N)%7-(_+N)%7;return wc(g,S,s)}class $G extends Fi{constructor(){super(...arguments);rn(this,"priority",90);rn(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(s,o,h){switch(o){case"E":case"EE":case"EEE":return h.day(s,{width:"abbreviated",context:"formatting"})||h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"});case"EEEEE":return h.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"});case"EEEE":default:return h.day(s,{width:"wide",context:"formatting"})||h.day(s,{width:"abbreviated",context:"formatting"})||h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"})}}validate(s,o){return o>=0&&o<=6}set(s,o,h,g){return s=c1(s,h,g),s.setHours(0,0,0,0),s}}class qG extends Fi{constructor(){super(...arguments);rn(this,"priority",90);rn(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(s,o,h,g){const _=y=>{const v=Math.floor((y-1)/7)*7;return(y+g.weekStartsOn+6)%7+v};switch(o){case"e":case"ee":return cs(Gr(o.length,s),_);case"eo":return cs(h.ordinalNumber(s,{unit:"day"}),_);case"eee":return h.day(s,{width:"abbreviated",context:"formatting"})||h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"});case"eeeee":return h.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"});case"eeee":default:return h.day(s,{width:"wide",context:"formatting"})||h.day(s,{width:"abbreviated",context:"formatting"})||h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"})}}validate(s,o){return o>=0&&o<=6}set(s,o,h,g){return s=c1(s,h,g),s.setHours(0,0,0,0),s}}class WG extends Fi{constructor(){super(...arguments);rn(this,"priority",90);rn(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(s,o,h,g){const _=y=>{const v=Math.floor((y-1)/7)*7;return(y+g.weekStartsOn+6)%7+v};switch(o){case"c":case"cc":return cs(Gr(o.length,s),_);case"co":return cs(h.ordinalNumber(s,{unit:"day"}),_);case"ccc":return h.day(s,{width:"abbreviated",context:"standalone"})||h.day(s,{width:"short",context:"standalone"})||h.day(s,{width:"narrow",context:"standalone"});case"ccccc":return h.day(s,{width:"narrow",context:"standalone"});case"cccccc":return h.day(s,{width:"short",context:"standalone"})||h.day(s,{width:"narrow",context:"standalone"});case"cccc":default:return h.day(s,{width:"wide",context:"standalone"})||h.day(s,{width:"abbreviated",context:"standalone"})||h.day(s,{width:"short",context:"standalone"})||h.day(s,{width:"narrow",context:"standalone"})}}validate(s,o){return o>=0&&o<=6}set(s,o,h,g){return s=c1(s,h,g),s.setHours(0,0,0,0),s}}function YG(l,c,s){const o=dn(l,s==null?void 0:s.in),h=vG(o,s),g=c-h;return wc(o,g,s)}class GG extends Fi{constructor(){super(...arguments);rn(this,"priority",90);rn(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(s,o,h){const g=_=>_===0?7:_;switch(o){case"i":case"ii":return Gr(o.length,s);case"io":return h.ordinalNumber(s,{unit:"day"});case"iii":return cs(h.day(s,{width:"abbreviated",context:"formatting"})||h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"}),g);case"iiiii":return cs(h.day(s,{width:"narrow",context:"formatting"}),g);case"iiiiii":return cs(h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"}),g);case"iiii":default:return cs(h.day(s,{width:"wide",context:"formatting"})||h.day(s,{width:"abbreviated",context:"formatting"})||h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"}),g)}}validate(s,o){return o>=1&&o<=7}set(s,o,h){return s=YG(s,h),s.setHours(0,0,0,0),s}}class KG extends Fi{constructor(){super(...arguments);rn(this,"priority",80);rn(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(s,o,h){switch(o){case"a":case"aa":case"aaa":return h.dayPeriod(s,{width:"abbreviated",context:"formatting"})||h.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaaa":return h.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return h.dayPeriod(s,{width:"wide",context:"formatting"})||h.dayPeriod(s,{width:"abbreviated",context:"formatting"})||h.dayPeriod(s,{width:"narrow",context:"formatting"})}}set(s,o,h){return s.setHours(l1(h),0,0,0),s}}class QG extends Fi{constructor(){super(...arguments);rn(this,"priority",80);rn(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(s,o,h){switch(o){case"b":case"bb":case"bbb":return h.dayPeriod(s,{width:"abbreviated",context:"formatting"})||h.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbbb":return h.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return h.dayPeriod(s,{width:"wide",context:"formatting"})||h.dayPeriod(s,{width:"abbreviated",context:"formatting"})||h.dayPeriod(s,{width:"narrow",context:"formatting"})}}set(s,o,h){return s.setHours(l1(h),0,0,0),s}}class ZG extends Fi{constructor(){super(...arguments);rn(this,"priority",80);rn(this,"incompatibleTokens",["a","b","t","T"])}parse(s,o,h){switch(o){case"B":case"BB":case"BBB":return h.dayPeriod(s,{width:"abbreviated",context:"formatting"})||h.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBBB":return h.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return h.dayPeriod(s,{width:"wide",context:"formatting"})||h.dayPeriod(s,{width:"abbreviated",context:"formatting"})||h.dayPeriod(s,{width:"narrow",context:"formatting"})}}set(s,o,h){return s.setHours(l1(h),0,0,0),s}}class XG extends Fi{constructor(){super(...arguments);rn(this,"priority",70);rn(this,"incompatibleTokens",["H","K","k","t","T"])}parse(s,o,h){switch(o){case"h":return Lr(ls.hour12h,s);case"ho":return h.ordinalNumber(s,{unit:"hour"});default:return Gr(o.length,s)}}validate(s,o){return o>=1&&o<=12}set(s,o,h){const g=s.getHours()>=12;return g&&h<12?s.setHours(h+12,0,0,0):!g&&h===12?s.setHours(0,0,0,0):s.setHours(h,0,0,0),s}}class JG extends Fi{constructor(){super(...arguments);rn(this,"priority",70);rn(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(s,o,h){switch(o){case"H":return Lr(ls.hour23h,s);case"Ho":return h.ordinalNumber(s,{unit:"hour"});default:return Gr(o.length,s)}}validate(s,o){return o>=0&&o<=23}set(s,o,h){return s.setHours(h,0,0,0),s}}class eK extends Fi{constructor(){super(...arguments);rn(this,"priority",70);rn(this,"incompatibleTokens",["h","H","k","t","T"])}parse(s,o,h){switch(o){case"K":return Lr(ls.hour11h,s);case"Ko":return h.ordinalNumber(s,{unit:"hour"});default:return Gr(o.length,s)}}validate(s,o){return o>=0&&o<=11}set(s,o,h){return s.getHours()>=12&&h<12?s.setHours(h+12,0,0,0):s.setHours(h,0,0,0),s}}class tK extends Fi{constructor(){super(...arguments);rn(this,"priority",70);rn(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(s,o,h){switch(o){case"k":return Lr(ls.hour24h,s);case"ko":return h.ordinalNumber(s,{unit:"hour"});default:return Gr(o.length,s)}}validate(s,o){return o>=1&&o<=24}set(s,o,h){const g=h<=24?h%24:h;return s.setHours(g,0,0,0),s}}class nK extends Fi{constructor(){super(...arguments);rn(this,"priority",60);rn(this,"incompatibleTokens",["t","T"])}parse(s,o,h){switch(o){case"m":return Lr(ls.minute,s);case"mo":return h.ordinalNumber(s,{unit:"minute"});default:return Gr(o.length,s)}}validate(s,o){return o>=0&&o<=59}set(s,o,h){return s.setMinutes(h,0,0),s}}class iK extends Fi{constructor(){super(...arguments);rn(this,"priority",50);rn(this,"incompatibleTokens",["t","T"])}parse(s,o,h){switch(o){case"s":return Lr(ls.second,s);case"so":return h.ordinalNumber(s,{unit:"second"});default:return Gr(o.length,s)}}validate(s,o){return o>=0&&o<=59}set(s,o,h){return s.setSeconds(h,0),s}}class rK extends Fi{constructor(){super(...arguments);rn(this,"priority",30);rn(this,"incompatibleTokens",["t","T"])}parse(s,o){const h=g=>Math.trunc(g*Math.pow(10,-o.length+3));return cs(Gr(o.length,s),h)}set(s,o,h){return s.setMilliseconds(h),s}}class sK extends Fi{constructor(){super(...arguments);rn(this,"priority",10);rn(this,"incompatibleTokens",["t","T","x"])}parse(s,o){switch(o){case"X":return gd(pd.basicOptionalMinutes,s);case"XX":return gd(pd.basic,s);case"XXXX":return gd(pd.basicOptionalSeconds,s);case"XXXXX":return gd(pd.extendedOptionalSeconds,s);case"XXX":default:return gd(pd.extended,s)}}set(s,o,h){return o.timestampIsSet?s:tr(s,s.getTime()-Av(s)-h)}}class oK extends Fi{constructor(){super(...arguments);rn(this,"priority",10);rn(this,"incompatibleTokens",["t","T","X"])}parse(s,o){switch(o){case"x":return gd(pd.basicOptionalMinutes,s);case"xx":return gd(pd.basic,s);case"xxxx":return gd(pd.basicOptionalSeconds,s);case"xxxxx":return gd(pd.extendedOptionalSeconds,s);case"xxx":default:return gd(pd.extended,s)}}set(s,o,h){return o.timestampIsSet?s:tr(s,s.getTime()-Av(s)-h)}}class aK extends Fi{constructor(){super(...arguments);rn(this,"priority",40);rn(this,"incompatibleTokens","*")}parse(s){return AL(s)}set(s,o,h){return[tr(s,h*1e3),{timestampIsSet:!0}]}}class lK extends Fi{constructor(){super(...arguments);rn(this,"priority",20);rn(this,"incompatibleTokens","*")}parse(s){return AL(s)}set(s,o,h){return[tr(s,h),{timestampIsSet:!0}]}}const cK={G:new EG,y:new SG,Y:new jG,R:new DG,u:new TG,Q:new MG,q:new IG,M:new OG,L:new LG,w:new RG,I:new zG,d:new VG,D:new UG,E:new $G,e:new qG,c:new WG,i:new GG,a:new KG,b:new QG,B:new ZG,h:new XG,H:new JG,K:new eK,k:new tK,m:new nK,s:new iK,S:new rK,X:new sK,x:new oK,t:new aK,T:new lK},dK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hK=/^'([^]*?)'?$/,mK=/''/g,fK=/\S/,pK=/[a-zA-Z]/;function gK(l,c,s,o){var $,K,Q,ee,ne,le,se,q;const h=()=>tr((o==null?void 0:o.in)||s,NaN),g=_G(),_=(o==null?void 0:o.locale)??g.locale??wL,y=(o==null?void 0:o.firstWeekContainsDate)??((K=($=o==null?void 0:o.locale)==null?void 0:$.options)==null?void 0:K.firstWeekContainsDate)??g.firstWeekContainsDate??((ee=(Q=g.locale)==null?void 0:Q.options)==null?void 0:ee.firstWeekContainsDate)??1,v=(o==null?void 0:o.weekStartsOn)??((le=(ne=o==null?void 0:o.locale)==null?void 0:ne.options)==null?void 0:le.weekStartsOn)??g.weekStartsOn??((q=(se=g.locale)==null?void 0:se.options)==null?void 0:q.weekStartsOn)??0;if(!c)return l?h():dn(s,o==null?void 0:o.in);const N={firstWeekContainsDate:y,weekStartsOn:v,locale:_},S=[new NG(o==null?void 0:o.in,s)],D=c.match(uK).map(de=>{const re=de[0];if(re in wA){const be=wA[re];return be(de,_.formatLong)}return de}).join("").match(dK),j=[];for(let de of D){const re=de[0],be=cK[re];if(be){const{incompatibleTokens:ke}=be;if(Array.isArray(ke)){const De=j.find(_e=>ke.includes(_e.token)||_e.token===re);if(De)throw new RangeError(`The format string mustn't contain \`${De.fullToken}\` and \`${de}\` at the same time`)}else if(be.incompatibleTokens==="*"&&j.length>0)throw new RangeError(`The format string mustn't contain \`${de}\` and any other token at the same time`);j.push({token:re,fullToken:de});const we=be.run(l,de,_.match,N);if(!we)return h();S.push(we.setter),l=we.rest}else{if(re.match(pK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+re+"`");if(de==="''"?de="'":re==="'"&&(de=bK(de)),l.indexOf(de)===0)l=l.slice(de.length);else return h()}}if(l.length>0&&fK.test(l))return h();const B=S.map(de=>de.priority).sort((de,re)=>re-de).filter((de,re,be)=>be.indexOf(de)===re).map(de=>S.filter(re=>re.priority===de).sort((re,be)=>be.subPriority-re.subPriority)).map(de=>de[0]);let F=dn(s,o==null?void 0:o.in);if(isNaN(+F))return h();const V={};for(const de of B){if(!de.validate(F,N))return h();const re=de.set(F,V,N);Array.isArray(re)?(F=re[0],Object.assign(V,re[1])):F=re}return F}function bK(l){return l.match(hK)[1].replace(mK,"'")}function kK(l,c,s){const[o,h]=Au(s==null?void 0:s.in,l,c);return o.getFullYear()===h.getFullYear()&&o.getMonth()===h.getMonth()}function _K(l,c,s){const[o,h]=Au(s==null?void 0:s.in,l,c);return+vA(o)==+vA(h)}function vK(l,c,s){const[o,h]=Au(s==null?void 0:s.in,l,c);return o.getFullYear()===h.getFullYear()}function _b(l,c,s){const o=+dn(l,s==null?void 0:s.in),[h,g]=[+dn(c.start,s==null?void 0:s.in),+dn(c.end,s==null?void 0:s.in)].sort((_,y)=>_-y);return o>=h&&o<=g}function wK(l,c,s){return wc(l,-1,s)}function yK(l,c){const s=()=>tr(c==null?void 0:c.in,NaN),h=NK(l);let g;if(h.date){const N=EK(h.date,2);g=SK(N.restDateString,N.year)}if(!g||isNaN(+g))return s();const _=+g;let y=0,v;if(h.time&&(y=jK(h.time),isNaN(y)))return s();if(h.timezone){if(v=DK(h.timezone),isNaN(v))return s()}else{const N=new Date(_+y),S=dn(0,c==null?void 0:c.in);return S.setFullYear(N.getUTCFullYear(),N.getUTCMonth(),N.getUTCDate()),S.setHours(N.getUTCHours(),N.getUTCMinutes(),N.getUTCSeconds(),N.getUTCMilliseconds()),S}return dn(_+y+v,c==null?void 0:c.in)}const W_={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},xK=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,CK=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,AK=/^([+-])(\d{2})(?::?(\d{2}))?$/;function NK(l){const c={},s=l.split(W_.dateTimeDelimiter);let o;if(s.length>2)return c;if(/:/.test(s[0])?o=s[0]:(c.date=s[0],o=s[1],W_.timeZoneDelimiter.test(c.date)&&(c.date=l.split(W_.timeZoneDelimiter)[0],o=l.substr(c.date.length,l.length))),o){const h=W_.timezone.exec(o);h?(c.time=o.replace(h[1],""),c.timezone=h[1]):c.time=o}return c}function EK(l,c){const s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+c)+"})|(\\d{2}|[+-]\\d{"+(2+c)+"})$)"),o=l.match(s);if(!o)return{year:NaN,restDateString:""};const h=o[1]?parseInt(o[1]):null,g=o[2]?parseInt(o[2]):null;return{year:g===null?h:g*100,restDateString:l.slice((o[1]||o[2]).length)}}function SK(l,c){if(c===null)return new Date(NaN);const s=l.match(xK);if(!s)return new Date(NaN);const o=!!s[4],h=Jg(s[1]),g=Jg(s[2])-1,_=Jg(s[3]),y=Jg(s[4]),v=Jg(s[5])-1;if(o)return LK(c,y,v)?TK(c,y,v):new Date(NaN);{const N=new Date(0);return!IK(c,g,_)||!OK(c,h)?new Date(NaN):(N.setUTCFullYear(c,g,Math.max(h,_)),N)}}function Jg(l){return l?parseInt(l):1}function jK(l){const c=l.match(CK);if(!c)return NaN;const s=RC(c[1]),o=RC(c[2]),h=RC(c[3]);return BK(s,o,h)?s*pw+o*fw+h*1e3:NaN}function RC(l){return l&&parseFloat(l.replace(",","."))||0}function DK(l){if(l==="Z")return 0;const c=l.match(AK);if(!c)return 0;const s=c[1]==="+"?-1:1,o=parseInt(c[2]),h=c[3]&&parseInt(c[3])||0;return RK(o,h)?s*(o*pw+h*fw):NaN}function TK(l,c,s){const o=new Date(0);o.setUTCFullYear(l,0,4);const h=o.getUTCDay()||7,g=(c-1)*7+s+1-h;return o.setUTCDate(o.getUTCDate()+g),o}const MK=[31,null,31,30,31,30,31,31,30,31,30,31];function SL(l){return l%400===0||l%4===0&&l%100!==0}function IK(l,c,s){return c>=0&&c<=11&&s>=1&&s<=(MK[c]||(SL(l)?29:28))}function OK(l,c){return c>=1&&c<=(SL(l)?366:365)}function LK(l,c,s){return c>=1&&c<=53&&s>=0&&s<=6}function BK(l,c,s){return l===24?c===0&&s===0:s>=0&&s<60&&c>=0&&c<60&&l>=0&&l<25}function RK(l,c){return c>=0&&c<=59}function zl(l,c,s){const o=dn(l,s==null?void 0:s.in),h=o.getFullYear(),g=o.getDate(),_=tr(l,0);_.setFullYear(h,c,15),_.setHours(0,0,0,0);const y=kG(_);return o.setMonth(c,Math.min(g,y)),o}function cv(l,c,s){const o=dn(l,s==null?void 0:s.in);return o.setHours(c),o}function dv(l,c,s){const o=dn(l,s==null?void 0:s.in);return o.setMinutes(c),o}function ap(l,c,s){const o=dn(l,s==null?void 0:s.in),h=Math.trunc(o.getMonth()/3)+1,g=c-h;return zl(o,o.getMonth()+g*3)}function uv(l,c,s){const o=dn(l,s==null?void 0:s.in);return o.setSeconds(c),o}function md(l,c,s){const o=dn(l,s==null?void 0:s.in);return isNaN(+o)?tr(l,NaN):(o.setFullYear(c),o)}function Bm(l,c,s){return yc(l,-c,s)}function jL(l,c,s){return s1(l,-1,s)}function XI(l,c,s){return Nv(l,-1,s)}function hp(l,c,s){return fu(l,-c,s)}function bw(){return typeof window<"u"}function xp(l){return DL(l)?(l.nodeName||"").toLowerCase():"#document"}function dl(l){var c;return(l==null||(c=l.ownerDocument)==null?void 0:c.defaultView)||window}function wd(l){var c;return(c=(DL(l)?l.ownerDocument:l.document)||window.document)==null?void 0:c.documentElement}function DL(l){return bw()?l instanceof Node||l instanceof dl(l).Node:!1}function ba(l){return bw()?l instanceof Element||l instanceof dl(l).Element:!1}function vd(l){return bw()?l instanceof HTMLElement||l instanceof dl(l).HTMLElement:!1}function JI(l){return!bw()||typeof ShadowRoot>"u"?!1:l instanceof ShadowRoot||l instanceof dl(l).ShadowRoot}const PK=new Set(["inline","contents"]);function Ob(l){const{overflow:c,overflowX:s,overflowY:o,display:h}=Ul(l);return/auto|scroll|overlay|hidden|clip/.test(c+o+s)&&!PK.has(h)}const zK=new Set(["table","td","th"]);function FK(l){return zK.has(xp(l))}const HK=[":popover-open",":modal"];function kw(l){return HK.some(c=>{try{return l.matches(c)}catch{return!1}})}const VK=["transform","translate","scale","rotate","perspective"],UK=["transform","translate","scale","rotate","perspective","filter"],$K=["paint","layout","strict","content"];function d1(l){const c=u1(),s=ba(l)?Ul(l):l;return VK.some(o=>s[o]?s[o]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!c&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!c&&(s.filter?s.filter!=="none":!1)||UK.some(o=>(s.willChange||"").includes(o))||$K.some(o=>(s.contain||"").includes(o))}function qK(l){let c=yh(l);for(;vd(c)&&!mp(c);){if(d1(c))return c;if(kw(c))return null;c=yh(c)}return null}function u1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const WK=new Set(["html","body","#document"]);function mp(l){return WK.has(xp(l))}function Ul(l){return dl(l).getComputedStyle(l)}function _w(l){return ba(l)?{scrollLeft:l.scrollLeft,scrollTop:l.scrollTop}:{scrollLeft:l.scrollX,scrollTop:l.scrollY}}function yh(l){if(xp(l)==="html")return l;const c=l.assignedSlot||l.parentNode||JI(l)&&l.host||wd(l);return JI(c)?c.host:c}function TL(l){const c=yh(l);return mp(c)?l.ownerDocument?l.ownerDocument.body:l.body:vd(c)&&Ob(c)?c:TL(c)}function vb(l,c,s){var o;c===void 0&&(c=[]),s===void 0&&(s=!0);const h=TL(l),g=h===((o=l.ownerDocument)==null?void 0:o.body),_=dl(h);if(g){const y=xA(_);return c.concat(_,_.visualViewport||[],Ob(h)?h:[],y&&s?vb(y):[])}return c.concat(h,vb(h,[],s))}function xA(l){return l.parent&&Object.getPrototypeOf(l.parent)?l.frameElement:null}const fp=Math.min,Rm=Math.max,Mv=Math.round,Y_=Math.floor,_d=l=>({x:l,y:l}),YK={left:"right",right:"left",bottom:"top",top:"bottom"},GK={start:"end",end:"start"};function KK(l,c,s){return Rm(l,fp(c,s))}function vw(l,c){return typeof l=="function"?l(c):l}function pp(l){return l.split("-")[0]}function Lb(l){return l.split("-")[1]}function QK(l){return l==="x"?"y":"x"}function h1(l){return l==="y"?"height":"width"}const ZK=new Set(["top","bottom"]);function Dm(l){return ZK.has(pp(l))?"y":"x"}function m1(l){return QK(Dm(l))}function XK(l,c,s){s===void 0&&(s=!1);const o=Lb(l),h=m1(l),g=h1(h);let _=h==="x"?o===(s?"end":"start")?"right":"left":o==="start"?"bottom":"top";return c.reference[g]>c.floating[g]&&(_=Iv(_)),[_,Iv(_)]}function JK(l){const c=Iv(l);return[CA(l),c,CA(c)]}function CA(l){return l.replace(/start|end/g,c=>GK[c])}const eO=["left","right"],tO=["right","left"],eQ=["top","bottom"],tQ=["bottom","top"];function nQ(l,c,s){switch(l){case"top":case"bottom":return s?c?tO:eO:c?eO:tO;case"left":case"right":return c?eQ:tQ;default:return[]}}function iQ(l,c,s,o){const h=Lb(l);let g=nQ(pp(l),s==="start",o);return h&&(g=g.map(_=>_+"-"+h),c&&(g=g.concat(g.map(CA)))),g}function Iv(l){return l.replace(/left|right|bottom|top/g,c=>YK[c])}function rQ(l){return{top:0,right:0,bottom:0,left:0,...l}}function ML(l){return typeof l!="number"?rQ(l):{top:l,right:l,bottom:l,left:l}}function Ov(l){const{x:c,y:s,width:o,height:h}=l;return{width:o,height:h,top:s,left:c,right:c+o,bottom:s+h,x:c,y:s}}var sQ=typeof document<"u",oQ=function(){},Lv=sQ?I.useLayoutEffect:oQ;const aQ={...ZO},lQ=aQ.useInsertionEffect,cQ=lQ||(l=>l());function dQ(l){const c=I.useRef(()=>{});return cQ(()=>{c.current=l}),I.useCallback(function(){for(var s=arguments.length,o=new Array(s),h=0;h<s;h++)o[h]=arguments[h];return c.current==null?void 0:c.current(...o)},[])}function nO(l,c,s){let{reference:o,floating:h}=l;const g=Dm(c),_=m1(c),y=h1(_),v=pp(c),N=g==="y",S=o.x+o.width/2-h.width/2,D=o.y+o.height/2-h.height/2,j=o[y]/2-h[y]/2;let B;switch(v){case"top":B={x:S,y:o.y-h.height};break;case"bottom":B={x:S,y:o.y+o.height};break;case"right":B={x:o.x+o.width,y:D};break;case"left":B={x:o.x-h.width,y:D};break;default:B={x:o.x,y:o.y}}switch(Lb(c)){case"start":B[_]-=j*(s&&N?-1:1);break;case"end":B[_]+=j*(s&&N?-1:1);break}return B}const uQ=async(l,c,s)=>{const{placement:o="bottom",strategy:h="absolute",middleware:g=[],platform:_}=s,y=g.filter(Boolean),v=await(_.isRTL==null?void 0:_.isRTL(c));let N=await _.getElementRects({reference:l,floating:c,strategy:h}),{x:S,y:D}=nO(N,o,v),j=o,B={},F=0;for(let V=0;V<y.length;V++){const{name:$,fn:K}=y[V],{x:Q,y:ee,data:ne,reset:le}=await K({x:S,y:D,initialPlacement:o,placement:j,strategy:h,middlewareData:B,rects:N,platform:_,elements:{reference:l,floating:c}});S=Q??S,D=ee??D,B={...B,[$]:{...B[$],...ne}},le&&F<=50&&(F++,typeof le=="object"&&(le.placement&&(j=le.placement),le.rects&&(N=le.rects===!0?await _.getElementRects({reference:l,floating:c,strategy:h}):le.rects),{x:S,y:D}=nO(N,j,v)),V=-1)}return{x:S,y:D,placement:j,strategy:h,middlewareData:B}};async function hQ(l,c){var s;c===void 0&&(c={});const{x:o,y:h,platform:g,rects:_,elements:y,strategy:v}=l,{boundary:N="clippingAncestors",rootBoundary:S="viewport",elementContext:D="floating",altBoundary:j=!1,padding:B=0}=vw(c,l),F=ML(B),$=y[j?D==="floating"?"reference":"floating":D],K=Ov(await g.getClippingRect({element:(s=await(g.isElement==null?void 0:g.isElement($)))==null||s?$:$.contextElement||await(g.getDocumentElement==null?void 0:g.getDocumentElement(y.floating)),boundary:N,rootBoundary:S,strategy:v})),Q=D==="floating"?{x:o,y:h,width:_.floating.width,height:_.floating.height}:_.reference,ee=await(g.getOffsetParent==null?void 0:g.getOffsetParent(y.floating)),ne=await(g.isElement==null?void 0:g.isElement(ee))?await(g.getScale==null?void 0:g.getScale(ee))||{x:1,y:1}:{x:1,y:1},le=Ov(g.convertOffsetParentRelativeRectToViewportRelativeRect?await g.convertOffsetParentRelativeRectToViewportRelativeRect({elements:y,rect:Q,offsetParent:ee,strategy:v}):Q);return{top:(K.top-le.top+F.top)/ne.y,bottom:(le.bottom-K.bottom+F.bottom)/ne.y,left:(K.left-le.left+F.left)/ne.x,right:(le.right-K.right+F.right)/ne.x}}const mQ=l=>({name:"arrow",options:l,async fn(c){const{x:s,y:o,placement:h,rects:g,platform:_,elements:y,middlewareData:v}=c,{element:N,padding:S=0}=vw(l,c)||{};if(N==null)return{};const D=ML(S),j={x:s,y:o},B=m1(h),F=h1(B),V=await _.getDimensions(N),$=B==="y",K=$?"top":"left",Q=$?"bottom":"right",ee=$?"clientHeight":"clientWidth",ne=g.reference[F]+g.reference[B]-j[B]-g.floating[F],le=j[B]-g.reference[B],se=await(_.getOffsetParent==null?void 0:_.getOffsetParent(N));let q=se?se[ee]:0;(!q||!await(_.isElement==null?void 0:_.isElement(se)))&&(q=y.floating[ee]||g.floating[F]);const de=ne/2-le/2,re=q/2-V[F]/2-1,be=fp(D[K],re),ke=fp(D[Q],re),we=be,De=q-V[F]-ke,_e=q/2-V[F]/2+de,je=KK(we,_e,De),oe=!v.arrow&&Lb(h)!=null&&_e!==je&&g.reference[F]/2-(_e<we?be:ke)-V[F]/2<0,ve=oe?_e<we?_e-we:_e-De:0;return{[B]:j[B]+ve,data:{[B]:je,centerOffset:_e-je-ve,...oe&&{alignmentOffset:ve}},reset:oe}}}),fQ=function(l){return l===void 0&&(l={}),{name:"flip",options:l,async fn(c){var s,o;const{placement:h,middlewareData:g,rects:_,initialPlacement:y,platform:v,elements:N}=c,{mainAxis:S=!0,crossAxis:D=!0,fallbackPlacements:j,fallbackStrategy:B="bestFit",fallbackAxisSideDirection:F="none",flipAlignment:V=!0,...$}=vw(l,c);if((s=g.arrow)!=null&&s.alignmentOffset)return{};const K=pp(h),Q=Dm(y),ee=pp(y)===y,ne=await(v.isRTL==null?void 0:v.isRTL(N.floating)),le=j||(ee||!V?[Iv(y)]:JK(y)),se=F!=="none";!j&&se&&le.push(...iQ(y,V,F,ne));const q=[y,...le],de=await hQ(c,$),re=[];let be=((o=g.flip)==null?void 0:o.overflows)||[];if(S&&re.push(de[K]),D){const _e=XK(h,_,ne);re.push(de[_e[0]],de[_e[1]])}if(be=[...be,{placement:h,overflows:re}],!re.every(_e=>_e<=0)){var ke,we;const _e=(((ke=g.flip)==null?void 0:ke.index)||0)+1,je=q[_e];if(je&&(!(D==="alignment"?Q!==Dm(je):!1)||be.every(he=>he.overflows[0]>0&&Dm(he.placement)===Q)))return{data:{index:_e,overflows:be},reset:{placement:je}};let oe=(we=be.filter(ve=>ve.overflows[0]<=0).sort((ve,he)=>ve.overflows[1]-he.overflows[1])[0])==null?void 0:we.placement;if(!oe)switch(B){case"bestFit":{var De;const ve=(De=be.filter(he=>{if(se){const Ee=Dm(he.placement);return Ee===Q||Ee==="y"}return!0}).map(he=>[he.placement,he.overflows.filter(Ee=>Ee>0).reduce((Ee,Z)=>Ee+Z,0)]).sort((he,Ee)=>he[1]-Ee[1])[0])==null?void 0:De[0];ve&&(oe=ve);break}case"initialPlacement":oe=y;break}if(h!==oe)return{reset:{placement:oe}}}return{}}}},pQ=new Set(["left","top"]);async function gQ(l,c){const{placement:s,platform:o,elements:h}=l,g=await(o.isRTL==null?void 0:o.isRTL(h.floating)),_=pp(s),y=Lb(s),v=Dm(s)==="y",N=pQ.has(_)?-1:1,S=g&&v?-1:1,D=vw(c,l);let{mainAxis:j,crossAxis:B,alignmentAxis:F}=typeof D=="number"?{mainAxis:D,crossAxis:0,alignmentAxis:null}:{mainAxis:D.mainAxis||0,crossAxis:D.crossAxis||0,alignmentAxis:D.alignmentAxis};return y&&typeof F=="number"&&(B=y==="end"?F*-1:F),v?{x:B*S,y:j*N}:{x:j*N,y:B*S}}const bQ=function(l){return l===void 0&&(l=0),{name:"offset",options:l,async fn(c){var s,o;const{x:h,y:g,placement:_,middlewareData:y}=c,v=await gQ(c,l);return _===((s=y.offset)==null?void 0:s.placement)&&(o=y.arrow)!=null&&o.alignmentOffset?{}:{x:h+v.x,y:g+v.y,data:{...v,placement:_}}}}};function IL(l){const c=Ul(l);let s=parseFloat(c.width)||0,o=parseFloat(c.height)||0;const h=vd(l),g=h?l.offsetWidth:s,_=h?l.offsetHeight:o,y=Mv(s)!==g||Mv(o)!==_;return y&&(s=g,o=_),{width:s,height:o,$:y}}function f1(l){return ba(l)?l:l.contextElement}function lp(l){const c=f1(l);if(!vd(c))return _d(1);const s=c.getBoundingClientRect(),{width:o,height:h,$:g}=IL(c);let _=(g?Mv(s.width):s.width)/o,y=(g?Mv(s.height):s.height)/h;return(!_||!Number.isFinite(_))&&(_=1),(!y||!Number.isFinite(y))&&(y=1),{x:_,y}}const kQ=_d(0);function OL(l){const c=dl(l);return!u1()||!c.visualViewport?kQ:{x:c.visualViewport.offsetLeft,y:c.visualViewport.offsetTop}}function _Q(l,c,s){return c===void 0&&(c=!1),!s||c&&s!==dl(l)?!1:c}function Hm(l,c,s,o){c===void 0&&(c=!1),s===void 0&&(s=!1);const h=l.getBoundingClientRect(),g=f1(l);let _=_d(1);c&&(o?ba(o)&&(_=lp(o)):_=lp(l));const y=_Q(g,s,o)?OL(g):_d(0);let v=(h.left+y.x)/_.x,N=(h.top+y.y)/_.y,S=h.width/_.x,D=h.height/_.y;if(g){const j=dl(g),B=o&&ba(o)?dl(o):o;let F=j,V=xA(F);for(;V&&o&&B!==F;){const $=lp(V),K=V.getBoundingClientRect(),Q=Ul(V),ee=K.left+(V.clientLeft+parseFloat(Q.paddingLeft))*$.x,ne=K.top+(V.clientTop+parseFloat(Q.paddingTop))*$.y;v*=$.x,N*=$.y,S*=$.x,D*=$.y,v+=ee,N+=ne,F=dl(V),V=xA(F)}}return Ov({width:S,height:D,x:v,y:N})}function p1(l,c){const s=_w(l).scrollLeft;return c?c.left+s:Hm(wd(l)).left+s}function LL(l,c,s){s===void 0&&(s=!1);const o=l.getBoundingClientRect(),h=o.left+c.scrollLeft-(s?0:p1(l,o)),g=o.top+c.scrollTop;return{x:h,y:g}}function vQ(l){let{elements:c,rect:s,offsetParent:o,strategy:h}=l;const g=h==="fixed",_=wd(o),y=c?kw(c.floating):!1;if(o===_||y&&g)return s;let v={scrollLeft:0,scrollTop:0},N=_d(1);const S=_d(0),D=vd(o);if((D||!D&&!g)&&((xp(o)!=="body"||Ob(_))&&(v=_w(o)),vd(o))){const B=Hm(o);N=lp(o),S.x=B.x+o.clientLeft,S.y=B.y+o.clientTop}const j=_&&!D&&!g?LL(_,v,!0):_d(0);return{width:s.width*N.x,height:s.height*N.y,x:s.x*N.x-v.scrollLeft*N.x+S.x+j.x,y:s.y*N.y-v.scrollTop*N.y+S.y+j.y}}function wQ(l){return Array.from(l.getClientRects())}function yQ(l){const c=wd(l),s=_w(l),o=l.ownerDocument.body,h=Rm(c.scrollWidth,c.clientWidth,o.scrollWidth,o.clientWidth),g=Rm(c.scrollHeight,c.clientHeight,o.scrollHeight,o.clientHeight);let _=-s.scrollLeft+p1(l);const y=-s.scrollTop;return Ul(o).direction==="rtl"&&(_+=Rm(c.clientWidth,o.clientWidth)-h),{width:h,height:g,x:_,y}}function xQ(l,c){const s=dl(l),o=wd(l),h=s.visualViewport;let g=o.clientWidth,_=o.clientHeight,y=0,v=0;if(h){g=h.width,_=h.height;const N=u1();(!N||N&&c==="fixed")&&(y=h.offsetLeft,v=h.offsetTop)}return{width:g,height:_,x:y,y:v}}const CQ=new Set(["absolute","fixed"]);function AQ(l,c){const s=Hm(l,!0,c==="fixed"),o=s.top+l.clientTop,h=s.left+l.clientLeft,g=vd(l)?lp(l):_d(1),_=l.clientWidth*g.x,y=l.clientHeight*g.y,v=h*g.x,N=o*g.y;return{width:_,height:y,x:v,y:N}}function iO(l,c,s){let o;if(c==="viewport")o=xQ(l,s);else if(c==="document")o=yQ(wd(l));else if(ba(c))o=AQ(c,s);else{const h=OL(l);o={x:c.x-h.x,y:c.y-h.y,width:c.width,height:c.height}}return Ov(o)}function BL(l,c){const s=yh(l);return s===c||!ba(s)||mp(s)?!1:Ul(s).position==="fixed"||BL(s,c)}function NQ(l,c){const s=c.get(l);if(s)return s;let o=vb(l,[],!1).filter(y=>ba(y)&&xp(y)!=="body"),h=null;const g=Ul(l).position==="fixed";let _=g?yh(l):l;for(;ba(_)&&!mp(_);){const y=Ul(_),v=d1(_);!v&&y.position==="fixed"&&(h=null),(g?!v&&!h:!v&&y.position==="static"&&!!h&&CQ.has(h.position)||Ob(_)&&!v&&BL(l,_))?o=o.filter(S=>S!==_):h=y,_=yh(_)}return c.set(l,o),o}function EQ(l){let{element:c,boundary:s,rootBoundary:o,strategy:h}=l;const _=[...s==="clippingAncestors"?kw(c)?[]:NQ(c,this._c):[].concat(s),o],y=_[0],v=_.reduce((N,S)=>{const D=iO(c,S,h);return N.top=Rm(D.top,N.top),N.right=fp(D.right,N.right),N.bottom=fp(D.bottom,N.bottom),N.left=Rm(D.left,N.left),N},iO(c,y,h));return{width:v.right-v.left,height:v.bottom-v.top,x:v.left,y:v.top}}function SQ(l){const{width:c,height:s}=IL(l);return{width:c,height:s}}function jQ(l,c,s){const o=vd(c),h=wd(c),g=s==="fixed",_=Hm(l,!0,g,c);let y={scrollLeft:0,scrollTop:0};const v=_d(0);function N(){v.x=p1(h)}if(o||!o&&!g)if((xp(c)!=="body"||Ob(h))&&(y=_w(c)),o){const B=Hm(c,!0,g,c);v.x=B.x+c.clientLeft,v.y=B.y+c.clientTop}else h&&N();g&&!o&&h&&N();const S=h&&!o&&!g?LL(h,y):_d(0),D=_.left+y.scrollLeft-v.x-S.x,j=_.top+y.scrollTop-v.y-S.y;return{x:D,y:j,width:_.width,height:_.height}}function PC(l){return Ul(l).position==="static"}function rO(l,c){if(!vd(l)||Ul(l).position==="fixed")return null;if(c)return c(l);let s=l.offsetParent;return wd(l)===s&&(s=s.ownerDocument.body),s}function RL(l,c){const s=dl(l);if(kw(l))return s;if(!vd(l)){let h=yh(l);for(;h&&!mp(h);){if(ba(h)&&!PC(h))return h;h=yh(h)}return s}let o=rO(l,c);for(;o&&FK(o)&&PC(o);)o=rO(o,c);return o&&mp(o)&&PC(o)&&!d1(o)?s:o||qK(l)||s}const DQ=async function(l){const c=this.getOffsetParent||RL,s=this.getDimensions,o=await s(l.floating);return{reference:jQ(l.reference,await c(l.floating),l.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function TQ(l){return Ul(l).direction==="rtl"}const MQ={convertOffsetParentRelativeRectToViewportRelativeRect:vQ,getDocumentElement:wd,getClippingRect:EQ,getOffsetParent:RL,getElementRects:DQ,getClientRects:wQ,getDimensions:SQ,getScale:lp,isElement:ba,isRTL:TQ};function PL(l,c){return l.x===c.x&&l.y===c.y&&l.width===c.width&&l.height===c.height}function IQ(l,c){let s=null,o;const h=wd(l);function g(){var y;clearTimeout(o),(y=s)==null||y.disconnect(),s=null}function _(y,v){y===void 0&&(y=!1),v===void 0&&(v=1),g();const N=l.getBoundingClientRect(),{left:S,top:D,width:j,height:B}=N;if(y||c(),!j||!B)return;const F=Y_(D),V=Y_(h.clientWidth-(S+j)),$=Y_(h.clientHeight-(D+B)),K=Y_(S),ee={rootMargin:-F+"px "+-V+"px "+-$+"px "+-K+"px",threshold:Rm(0,fp(1,v))||1};let ne=!0;function le(se){const q=se[0].intersectionRatio;if(q!==v){if(!ne)return _();q?_(!1,q):o=setTimeout(()=>{_(!1,1e-7)},1e3)}q===1&&!PL(N,l.getBoundingClientRect())&&_(),ne=!1}try{s=new IntersectionObserver(le,{...ee,root:h.ownerDocument})}catch{s=new IntersectionObserver(le,ee)}s.observe(l)}return _(!0),g}function OQ(l,c,s,o){o===void 0&&(o={});const{ancestorScroll:h=!0,ancestorResize:g=!0,elementResize:_=typeof ResizeObserver=="function",layoutShift:y=typeof IntersectionObserver=="function",animationFrame:v=!1}=o,N=f1(l),S=h||g?[...N?vb(N):[],...vb(c)]:[];S.forEach(K=>{h&&K.addEventListener("scroll",s,{passive:!0}),g&&K.addEventListener("resize",s)});const D=N&&y?IQ(N,s):null;let j=-1,B=null;_&&(B=new ResizeObserver(K=>{let[Q]=K;Q&&Q.target===N&&B&&(B.unobserve(c),cancelAnimationFrame(j),j=requestAnimationFrame(()=>{var ee;(ee=B)==null||ee.observe(c)})),s()}),N&&!v&&B.observe(N),B.observe(c));let F,V=v?Hm(l):null;v&&$();function $(){const K=Hm(l);V&&!PL(V,K)&&s(),V=K,F=requestAnimationFrame($)}return s(),()=>{var K;S.forEach(Q=>{h&&Q.removeEventListener("scroll",s),g&&Q.removeEventListener("resize",s)}),D==null||D(),(K=B)==null||K.disconnect(),B=null,v&&cancelAnimationFrame(F)}}const LQ=bQ,BQ=fQ,sO=mQ,RQ=(l,c,s)=>{const o=new Map,h={platform:MQ,...s},g={...h.platform,_c:o};return uQ(l,c,{...h,platform:g})};var PQ=typeof document<"u",zQ=function(){},hv=PQ?I.useLayoutEffect:zQ;function Bv(l,c){if(l===c)return!0;if(typeof l!=typeof c)return!1;if(typeof l=="function"&&l.toString()===c.toString())return!0;let s,o,h;if(l&&c&&typeof l=="object"){if(Array.isArray(l)){if(s=l.length,s!==c.length)return!1;for(o=s;o--!==0;)if(!Bv(l[o],c[o]))return!1;return!0}if(h=Object.keys(l),s=h.length,s!==Object.keys(c).length)return!1;for(o=s;o--!==0;)if(!{}.hasOwnProperty.call(c,h[o]))return!1;for(o=s;o--!==0;){const g=h[o];if(!(g==="_owner"&&l.$$typeof)&&!Bv(l[g],c[g]))return!1}return!0}return l!==l&&c!==c}function zL(l){return typeof window>"u"?1:(l.ownerDocument.defaultView||window).devicePixelRatio||1}function oO(l,c){const s=zL(l);return Math.round(c*s)/s}function zC(l){const c=I.useRef(l);return hv(()=>{c.current=l}),c}function FQ(l){l===void 0&&(l={});const{placement:c="bottom",strategy:s="absolute",middleware:o=[],platform:h,elements:{reference:g,floating:_}={},transform:y=!0,whileElementsMounted:v,open:N}=l,[S,D]=I.useState({x:0,y:0,strategy:s,placement:c,middlewareData:{},isPositioned:!1}),[j,B]=I.useState(o);Bv(j,o)||B(o);const[F,V]=I.useState(null),[$,K]=I.useState(null),Q=I.useCallback(he=>{he!==se.current&&(se.current=he,V(he))},[]),ee=I.useCallback(he=>{he!==q.current&&(q.current=he,K(he))},[]),ne=g||F,le=_||$,se=I.useRef(null),q=I.useRef(null),de=I.useRef(S),re=v!=null,be=zC(v),ke=zC(h),we=zC(N),De=I.useCallback(()=>{if(!se.current||!q.current)return;const he={placement:c,strategy:s,middleware:j};ke.current&&(he.platform=ke.current),RQ(se.current,q.current,he).then(Ee=>{const Z={...Ee,isPositioned:we.current!==!1};_e.current&&!Bv(de.current,Z)&&(de.current=Z,LA.flushSync(()=>{D(Z)}))})},[j,c,s,ke,we]);hv(()=>{N===!1&&de.current.isPositioned&&(de.current.isPositioned=!1,D(he=>({...he,isPositioned:!1})))},[N]);const _e=I.useRef(!1);hv(()=>(_e.current=!0,()=>{_e.current=!1}),[]),hv(()=>{if(ne&&(se.current=ne),le&&(q.current=le),ne&&le){if(be.current)return be.current(ne,le,De);De()}},[ne,le,De,be,re]);const je=I.useMemo(()=>({reference:se,floating:q,setReference:Q,setFloating:ee}),[Q,ee]),oe=I.useMemo(()=>({reference:ne,floating:le}),[ne,le]),ve=I.useMemo(()=>{const he={position:s,left:0,top:0};if(!oe.floating)return he;const Ee=oO(oe.floating,S.x),Z=oO(oe.floating,S.y);return y?{...he,transform:"translate("+Ee+"px, "+Z+"px)",...zL(oe.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:Ee,top:Z}},[s,y,oe.floating,S.x,S.y]);return I.useMemo(()=>({...S,update:De,refs:je,elements:oe,floatingStyles:ve}),[S,De,je,oe,ve])}const HQ=l=>{function c(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:l,fn(s){const{element:o,padding:h}=typeof l=="function"?l(s):l;return o&&c(o)?o.current!=null?sO({element:o.current,padding:h}).fn(s):{}:o?sO({element:o,padding:h}).fn(s):{}}}},VQ=(l,c)=>({...LQ(l),options:[l,c]}),UQ=(l,c)=>({...BQ(l),options:[l,c]}),$Q=(l,c)=>({...HQ(l),options:[l,c]}),qQ={...ZO};let aO=!1,WQ=0;const lO=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+WQ++;function YQ(){const[l,c]=I.useState(()=>aO?lO():void 0);return Lv(()=>{l==null&&c(lO())},[]),I.useEffect(()=>{aO=!0},[]),l}const GQ=qQ.useId,FL=GQ||YQ,KQ=I.forwardRef(function(c,s){const{context:{placement:o,elements:{floating:h},middlewareData:{arrow:g,shift:_}},width:y=14,height:v=7,tipRadius:N=0,strokeWidth:S=0,staticOffset:D,stroke:j,d:B,style:{transform:F,...V}={},...$}=c,K=FL(),[Q,ee]=I.useState(!1);if(Lv(()=>{if(!h)return;Ul(h).direction==="rtl"&&ee(!0)},[h]),!h)return null;const[ne,le]=o.split("-"),se=ne==="top"||ne==="bottom";let q=D;(se&&_!=null&&_.x||!se&&_!=null&&_.y)&&(q=null);const de=S*2,re=de/2,be=y/2*(N/-8+1),ke=v/2*N/4,we=!!B,De=q&&le==="end"?"bottom":"top";let _e=q&&le==="end"?"right":"left";q&&Q&&(_e=le==="end"?"left":"right");const je=(g==null?void 0:g.x)!=null?q||g.x:"",oe=(g==null?void 0:g.y)!=null?q||g.y:"",ve=B||"M0,0"+(" H"+y)+(" L"+(y-be)+","+(v-ke))+(" Q"+y/2+","+v+" "+be+","+(v-ke))+" Z",he={top:we?"rotate(180deg)":"",left:we?"rotate(90deg)":"rotate(-90deg)",bottom:we?"":"rotate(180deg)",right:we?"rotate(-90deg)":"rotate(90deg)"}[ne];return i.jsxs("svg",{...$,"aria-hidden":!0,ref:s,width:we?y:y+de,height:y,viewBox:"0 0 "+y+" "+(v>y?v:y),style:{position:"absolute",pointerEvents:"none",[_e]:je,[De]:oe,[ne]:se||we?"100%":"calc(100% - "+de/2+"px)",transform:[he,F].filter(Ee=>!!Ee).join(" "),...V},children:[de>0&&i.jsx("path",{clipPath:"url(#"+K+")",fill:"none",stroke:j,strokeWidth:de+(B?0:1),d:ve}),i.jsx("path",{stroke:de&&!B?$.fill:"none",d:ve}),i.jsx("clipPath",{id:K,children:i.jsx("rect",{x:-re,y:re*(we?-1:1),width:y+de,height:y})})]})});function QQ(){const l=new Map;return{emit(c,s){var o;(o=l.get(c))==null||o.forEach(h=>h(s))},on(c,s){l.has(c)||l.set(c,new Set),l.get(c).add(s)},off(c,s){var o;(o=l.get(c))==null||o.delete(s)}}}const ZQ=I.createContext(null),XQ=I.createContext(null),JQ=()=>{var l;return((l=I.useContext(ZQ))==null?void 0:l.id)||null},eZ=()=>I.useContext(XQ);function tZ(l){const{open:c=!1,onOpenChange:s,elements:o}=l,h=FL(),g=I.useRef({}),[_]=I.useState(()=>QQ()),y=JQ()!=null,[v,N]=I.useState(o.reference),S=dQ((B,F,V)=>{g.current.openEvent=B?F:void 0,_.emit("openchange",{open:B,event:F,reason:V,nested:y}),s==null||s(B,F,V)}),D=I.useMemo(()=>({setPositionReference:N}),[]),j=I.useMemo(()=>({reference:v||o.reference||null,floating:o.floating||null,domReference:o.reference}),[v,o.reference,o.floating]);return I.useMemo(()=>({dataRef:g,open:c,onOpenChange:S,elements:j,events:_,floatingId:h,refs:D}),[c,S,j,_,h,D])}function nZ(l){l===void 0&&(l={});const{nodeId:c}=l,s=tZ({...l,elements:{reference:null,floating:null,...l.elements}}),o=l.rootContext||s,h=o.elements,[g,_]=I.useState(null),[y,v]=I.useState(null),S=(h==null?void 0:h.domReference)||g,D=I.useRef(null),j=eZ();Lv(()=>{S&&(D.current=S)},[S]);const B=FQ({...l,elements:{...h,...y&&{reference:y}}}),F=I.useCallback(ee=>{const ne=ba(ee)?{getBoundingClientRect:()=>ee.getBoundingClientRect(),getClientRects:()=>ee.getClientRects(),contextElement:ee}:ee;v(ne),B.refs.setReference(ne)},[B.refs]),V=I.useCallback(ee=>{(ba(ee)||ee===null)&&(D.current=ee,_(ee)),(ba(B.refs.reference.current)||B.refs.reference.current===null||ee!==null&&!ba(ee))&&B.refs.setReference(ee)},[B.refs]),$=I.useMemo(()=>({...B.refs,setReference:V,setPositionReference:F,domReference:D}),[B.refs,V,F]),K=I.useMemo(()=>({...B.elements,domReference:S}),[B.elements,S]),Q=I.useMemo(()=>({...B,...o,refs:$,elements:K,nodeId:c}),[B,$,K,c,o]);return Lv(()=>{o.dataRef.current.floatingContext=Q;const ee=j==null?void 0:j.nodesRef.current.find(ne=>ne.id===c);ee&&(ee.context=Q)}),I.useMemo(()=>({...B,context:Q,refs:$,elements:K}),[B,$,K,Q])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var AA=function(c,s){return AA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(o[g]=h[g])},AA(c,s)};function ho(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");AA(l,c);function s(){this.constructor=l}l.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}var Ti=function(){return Ti=Object.assign||function(s){for(var o,h=1,g=arguments.length;h<g;h++){o=arguments[h];for(var _ in o)Object.prototype.hasOwnProperty.call(o,_)&&(s[_]=o[_])}return s},Ti.apply(this,arguments)};function bd(l,c,s){if(s||arguments.length===2)for(var o=0,h=c.length,g;o<h;o++)(g||!(o in c))&&(g||(g=Array.prototype.slice.call(c,0,o)),g[o]=c[o]);return l.concat(g||Array.prototype.slice.call(c))}var iZ=function(l){var c=l.showTimeSelectOnly,s=c===void 0?!1:c,o=l.showTime,h=o===void 0?!1:o,g=l.className,_=l.children,y=s?"Choose Time":"Choose Date".concat(h?" and Time":"");return nt.createElement("div",{className:g,role:"dialog","aria-label":y,"aria-modal":"true"},_)},rZ=function(l,c){var s=I.useRef(null),o=I.useRef(l);o.current=l;var h=I.useCallback(function(g){var _,y=g.composed&&g.composedPath&&g.composedPath().find(function(v){return v instanceof Node})||g.target;s.current&&!s.current.contains(y)&&(c&&y instanceof HTMLElement&&y.classList.contains(c)||(_=o.current)===null||_===void 0||_.call(o,g))},[c]);return I.useEffect(function(){return document.addEventListener("mousedown",h),function(){document.removeEventListener("mousedown",h)}},[h]),s},ww=function(l){var c=l.children,s=l.onClickOutside,o=l.className,h=l.containerRef,g=l.style,_=l.ignoreClass,y=rZ(s,_);return nt.createElement("div",{className:o,style:g,ref:function(v){y.current=v,h&&(h.current=v)}},c)},Qt;(function(l){l.ArrowUp="ArrowUp",l.ArrowDown="ArrowDown",l.ArrowLeft="ArrowLeft",l.ArrowRight="ArrowRight",l.PageUp="PageUp",l.PageDown="PageDown",l.Home="Home",l.End="End",l.Enter="Enter",l.Space=" ",l.Tab="Tab",l.Escape="Escape",l.Backspace="Backspace",l.X="x"})(Qt||(Qt={}));function HL(){var l=typeof window<"u"?window:globalThis;return l}var Bb=12;function Ui(l){if(l==null)return new Date;var c=typeof l=="string"?yK(l):dn(l);return yw(c)?c:new Date}function FC(l,c,s,o,h){h===void 0&&(h=Ui());for(var g=gp(s)||gp(g1()),_=Array.isArray(c)?c:[c],y=0,v=_;y<v.length;y++){var N=v[y],S=gK(l,N,h,{locale:g});if(yw(S)&&(!o||l===xr(S,N,s)))return S}return null}function yw(l,c){return Ev(l)&&!Fm(l,new Date("1/1/1800"))}function xr(l,c,s){if(s==="en")return QI(l,c,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var o=s?gp(s):void 0;return s&&!o&&console.warn('A locale object was not found for the provided string ["'.concat(s,'"].')),o=o||gp(g1()),QI(l,c,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Pl(l,c){var s=c.dateFormat,o=c.locale,h=Array.isArray(s)&&s.length>0?s[0]:s;return l&&xr(l,h,o)||""}var VL=" - ";function sZ(l,c,s){if(!l)return"";var o=Pl(l,s),h=c?Pl(c,s):"";return"".concat(o).concat(VL).concat(h)}function oZ(l,c){if(!(l!=null&&l.length))return"";var s=l[0]?Pl(l[0],c):"";if(l.length===1)return s;if(l.length===2&&l[1]){var o=Pl(l[1],c);return"".concat(s,", ").concat(o)}var h=l.length-1;return"".concat(s," (+").concat(h,")")}function HC(l,c){var s=c.hour,o=s===void 0?0:s,h=c.minute,g=h===void 0?0:h,_=c.second,y=_===void 0?0:_;return cv(dv(uv(l,y),g),o)}function aZ(l){return o1(l)}function lZ(l,c){return xr(l,"ddd",c)}function mv(l){return zm(l)}function vh(l,c,s){var o=gp(c||g1());return wu(l,{locale:o,weekStartsOn:s})}function ku(l){return _L(l)}function cb(l){return gw(l)}function cO(l){return vA(l)}function dO(){return zm(Ui())}function uO(l){return bL(l)}function cZ(l){return yY(l)}function dZ(l){return kL(l)}function fd(l,c){return l&&c?vK(l,c):!l&&!c}function ga(l,c){return l&&c?kK(l,c):!l&&!c}function Rv(l,c){return l&&c?_K(l,c):!l&&!c}function Di(l,c){return l&&c?vY(l,c):!l&&!c}function Tm(l,c){return l&&c?wG(l,c):!l&&!c}function db(l,c,s){var o,h=zm(c),g=bL(s);try{o=_b(l,{start:h,end:g})}catch{o=!1}return o}function g1(){var l=HL();return l.__localeId__}function gp(l){if(typeof l=="string"){var c=HL();return c.__localeData__?c.__localeData__[l]:void 0}else return l}function uZ(l,c,s){return c(xr(l,"EEEE",s))}function hZ(l,c){return xr(l,"EEEEEE",c)}function mZ(l,c){return xr(l,"EEE",c)}function b1(l,c){return xr(zl(Ui(),l),"LLLL",c)}function UL(l,c){return xr(zl(Ui(),l),"LLL",c)}function fZ(l,c){return xr(ap(Ui(),l),"QQQ",c)}function Fl(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.maxDate,g=s.excludeDates,_=s.excludeDateIntervals,y=s.includeDates,v=s.includeDateIntervals,N=s.filterDate;return Rb(l,{minDate:o,maxDate:h})||g&&g.some(function(S){return S instanceof Date?Di(l,S):Di(l,S.date)})||_&&_.some(function(S){var D=S.start,j=S.end;return _b(l,{start:D,end:j})})||y&&!y.some(function(S){return Di(l,S)})||v&&!v.some(function(S){var D=S.start,j=S.end;return _b(l,{start:D,end:j})})||N&&!N(Ui(l))||!1}function k1(l,c){var s=c===void 0?{}:c,o=s.excludeDates,h=s.excludeDateIntervals;return h&&h.length>0?h.some(function(g){var _=g.start,y=g.end;return _b(l,{start:_,end:y})}):o&&o.some(function(g){var _;return g instanceof Date?Di(l,g):Di(l,(_=g.date)!==null&&_!==void 0?_:new Date)})||!1}function $L(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.maxDate,g=s.excludeDates,_=s.includeDates,y=s.filterDate;return Rb(l,{minDate:o?_L(o):void 0,maxDate:h?kL(h):void 0})||(g==null?void 0:g.some(function(v){return ga(l,v instanceof Date?v:v.date)}))||_&&!_.some(function(v){return ga(l,v)})||y&&!y(Ui(l))||!1}function G_(l,c,s,o){var h=oi(l),g=Zo(l),_=oi(c),y=Zo(c),v=oi(o);return h===_&&h===v?g<=s&&s<=y:h<_?v===h&&g<=s||v===_&&y>=s||v<_&&v>h:!1}function pZ(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.maxDate,g=s.excludeDates,_=s.includeDates;return Rb(l,{minDate:o,maxDate:h})||g&&g.some(function(y){return ga(y instanceof Date?y:y.date,l)})||_&&!_.some(function(y){return ga(y,l)})||!1}function K_(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.maxDate,g=s.excludeDates,_=s.includeDates,y=s.filterDate;return Rb(l,{minDate:o,maxDate:h})||(g==null?void 0:g.some(function(v){return Rv(l,v instanceof Date?v:v.date)}))||_&&!_.some(function(v){return Rv(l,v)})||y&&!y(Ui(l))||!1}function Q_(l,c,s){if(!c||!s||!Ev(c)||!Ev(s))return!1;var o=oi(c),h=oi(s);return o<=l&&h>=l}function fv(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.maxDate,g=s.excludeDates,_=s.includeDates,y=s.filterDate,v=new Date(l,0,1);return Rb(v,{minDate:o?gw(o):void 0,maxDate:h?vL(h):void 0})||(g==null?void 0:g.some(function(N){return fd(v,N instanceof Date?N:N.date)}))||_&&!_.some(function(N){return fd(v,N)})||y&&!y(Ui(v))||!1}function Z_(l,c,s,o){var h=oi(l),g=Lm(l),_=oi(c),y=Lm(c),v=oi(o);return h===_&&h===v?g<=s&&s<=y:h<_?v===h&&g<=s||v===_&&y>=s||v<_&&v>h:!1}function Rb(l,c){var s,o=c===void 0?{}:c,h=o.minDate,g=o.maxDate;return(s=h&&up(l,h)<0||g&&up(l,g)>0)!==null&&s!==void 0?s:!1}function hO(l,c){return c.some(function(s){return gu(s)===gu(l)&&bu(s)===bu(l)&&_h(s)===_h(l)})}function mO(l,c){var s=c===void 0?{}:c,o=s.excludeTimes,h=s.includeTimes,g=s.filterTime;return o&&hO(l,o)||h&&!hO(l,h)||g&&!g(l)||!1}function fO(l,c){var s=c.minTime,o=c.maxTime;if(!s||!o)throw new Error("Both minTime and maxTime props required");var h=Ui();h=cv(h,gu(l)),h=dv(h,bu(l)),h=uv(h,_h(l));var g=Ui();g=cv(g,gu(s)),g=dv(g,bu(s)),g=uv(g,_h(s));var _=Ui();_=cv(_,gu(o)),_=dv(_,bu(o)),_=uv(_,_h(o));var y;try{y=!_b(h,{start:g,end:_})}catch{y=!1}return y}function pO(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.includeDates,g=Bm(l,1);return o&&Sv(o,g)>0||h&&h.every(function(_){return Sv(_,g)>0})||!1}function gO(l,c){var s=c===void 0?{}:c,o=s.maxDate,h=s.includeDates,g=yc(l,1);return o&&Sv(g,o)>0||h&&h.every(function(_){return Sv(g,_)>0})||!1}function gZ(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.includeDates,g=gw(l),_=jL(g);return o&&jv(o,_)>0||h&&h.every(function(y){return jv(y,_)>0})||!1}function bZ(l,c){var s=c===void 0?{}:c,o=s.maxDate,h=s.includeDates,g=vL(l),_=s1(g,1);return o&&jv(_,o)>0||h&&h.every(function(y){return jv(_,y)>0})||!1}function bO(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.includeDates,g=hp(l,1);return o&&Dv(o,g)>0||h&&h.every(function(_){return Dv(_,g)>0})||!1}function kZ(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.yearItemNumber,g=h===void 0?Bb:h,_=cb(hp(l,g)),y=kh(_,g).endPeriod,v=o&&oi(o);return v&&v>y||!1}function kO(l,c){var s=c===void 0?{}:c,o=s.maxDate,h=s.includeDates,g=fu(l,1);return o&&Dv(g,o)>0||h&&h.every(function(_){return Dv(g,_)>0})||!1}function _Z(l,c){var s=c===void 0?{}:c,o=s.maxDate,h=s.yearItemNumber,g=h===void 0?Bb:h,_=fu(l,g),y=kh(_,g).startPeriod,v=o&&oi(o);return v&&v<y||!1}function qL(l){var c=l.minDate,s=l.includeDates;if(s&&c){var o=s.filter(function(h){return up(h,c)>=0});return $I(o)}else return s?$I(s):c}function WL(l){var c=l.maxDate,s=l.includeDates;if(s&&c){var o=s.filter(function(h){return up(h,c)<=0});return UI(o)}else return s?UI(s):c}function _O(l,c){var s;l===void 0&&(l=[]),c===void 0&&(c="react-datepicker__day--highlighted");for(var o=new Map,h=0,g=l.length;h<g;h++){var _=l[h];if(pu(_)){var y=xr(_,"MM.dd.yyyy"),v=o.get(y)||[];v.includes(c)||(v.push(c),o.set(y,v))}else if(typeof _=="object"){var N=Object.keys(_),S=(s=N[0])!==null&&s!==void 0?s:"",D=_[S];if(typeof S=="string"&&Array.isArray(D))for(var j=0,B=D.length;j<B;j++){var F=D[j];if(F){var y=xr(F,"MM.dd.yyyy"),v=o.get(y)||[];v.includes(S)||(v.push(S),o.set(y,v))}}}}return o}function vZ(l,c){return l.length!==c.length?!1:l.every(function(s,o){return s===c[o]})}function wZ(l,c){l===void 0&&(l=[]),c===void 0&&(c="react-datepicker__day--holidays");var s=new Map;return l.forEach(function(o){var h=o.date,g=o.holidayName;if(pu(h)){var _=xr(h,"MM.dd.yyyy"),y=s.get(_)||{className:"",holidayNames:[]};if(!("className"in y&&y.className===c&&vZ(y.holidayNames,[g]))){y.className=c;var v=y.holidayNames;y.holidayNames=v?bd(bd([],v,!0),[g],!1):[g],s.set(_,y)}}}),s}function yZ(l,c,s,o,h){for(var g=h.length,_=[],y=0;y<g;y++){var v=l,N=h[y];N&&(v=gY(v,gu(N)),v=_A(v,bu(N)),v=_Y(v,_h(N)));var S=_A(l,(s+1)*o);wh(v,c)&&Fm(v,S)&&N!=null&&_.push(N)}return _}function vO(l){return l<10?"0".concat(l):"".concat(l)}function kh(l,c){c===void 0&&(c=Bb);var s=Math.ceil(oi(l)/c)*c,o=s-(c-1);return{startPeriod:o,endPeriod:s}}function xZ(l){var c=new Date(l.getFullYear(),l.getMonth(),l.getDate()),s=new Date(l.getFullYear(),l.getMonth(),l.getDate(),24);return Math.round((+s-+c)/36e5)}function wO(l){var c=l.getSeconds(),s=l.getMilliseconds();return dn(l.getTime()-c*1e3-s)}function CZ(l,c){return wO(l).getTime()===wO(c).getTime()}function yO(l){if(!pu(l))throw new Error("Invalid date");var c=new Date(l);return c.setHours(0,0,0,0),c}function xO(l,c){if(!pu(l)||!pu(c))throw new Error("Invalid date received");var s=yO(l),o=yO(c);return Fm(s,o)}function YL(l){return l.key===Qt.Space}var AZ=function(l){ho(c,l);function c(s){var o=l.call(this,s)||this;return o.inputRef=nt.createRef(),o.onTimeChange=function(h){var g,_;o.setState({time:h});var y=o.props.date,v=y instanceof Date&&!isNaN(+y),N=v?y:new Date;if(h!=null&&h.includes(":")){var S=h.split(":"),D=S[0],j=S[1];N.setHours(Number(D)),N.setMinutes(Number(j))}(_=(g=o.props).onChange)===null||_===void 0||_.call(g,N)},o.renderTimeInput=function(){var h=o.state.time,g=o.props,_=g.date,y=g.timeString,v=g.customTimeInput;return v?I.cloneElement(v,{date:_,value:h,onChange:o.onTimeChange}):nt.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:o.inputRef,onClick:function(){var N;(N=o.inputRef.current)===null||N===void 0||N.focus()},required:!0,value:h,onChange:function(N){o.onTimeChange(N.target.value||y)}})},o.state={time:o.props.timeString},o}return c.getDerivedStateFromProps=function(s,o){return s.timeString!==o.time?{time:s.timeString}:null},c.prototype.render=function(){return nt.createElement("div",{className:"react-datepicker__input-time-container"},nt.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),nt.createElement("div",{className:"react-datepicker-time__input-container"},nt.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},c}(I.Component),NZ=function(l){ho(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.dayEl=I.createRef(),s.handleClick=function(o){!s.isDisabled()&&s.props.onClick&&s.props.onClick(o)},s.handleMouseEnter=function(o){!s.isDisabled()&&s.props.onMouseEnter&&s.props.onMouseEnter(o)},s.handleOnKeyDown=function(o){var h,g,_=o.key;_===Qt.Space&&(o.preventDefault(),o.key=Qt.Enter),(g=(h=s.props).handleOnKeyDown)===null||g===void 0||g.call(h,o)},s.isSameDay=function(o){return Di(s.props.day,o)},s.isKeyboardSelected=function(){var o;if(s.props.disabledKeyboardNavigation)return!1;var h=s.props.selectsMultiple?(o=s.props.selectedDates)===null||o===void 0?void 0:o.some(function(_){return s.isSameDayOrWeek(_)}):s.isSameDayOrWeek(s.props.selected),g=s.props.preSelection&&s.isDisabled(s.props.preSelection);return!h&&s.isSameDayOrWeek(s.props.preSelection)&&!g},s.isDisabled=function(o){return o===void 0&&(o=s.props.day),Fl(o,{minDate:s.props.minDate,maxDate:s.props.maxDate,excludeDates:s.props.excludeDates,excludeDateIntervals:s.props.excludeDateIntervals,includeDateIntervals:s.props.includeDateIntervals,includeDates:s.props.includeDates,filterDate:s.props.filterDate})},s.isExcluded=function(){return k1(s.props.day,{excludeDates:s.props.excludeDates,excludeDateIntervals:s.props.excludeDateIntervals})},s.isStartOfWeek=function(){return Di(s.props.day,vh(s.props.day,s.props.locale,s.props.calendarStartDay))},s.isSameWeek=function(o){return s.props.showWeekPicker&&Di(o,vh(s.props.day,s.props.locale,s.props.calendarStartDay))},s.isSameDayOrWeek=function(o){return s.isSameDay(o)||s.isSameWeek(o)},s.getHighLightedClass=function(){var o=s.props,h=o.day,g=o.highlightDates;if(!g)return!1;var _=xr(h,"MM.dd.yyyy");return g.get(_)},s.getHolidaysClass=function(){var o,h=s.props,g=h.day,_=h.holidays;if(!_)return[void 0];var y=xr(g,"MM.dd.yyyy");return _.has(y)?[(o=_.get(y))===null||o===void 0?void 0:o.className]:[void 0]},s.isInRange=function(){var o=s.props,h=o.day,g=o.startDate,_=o.endDate;return!g||!_?!1:db(h,g,_)},s.isInSelectingRange=function(){var o,h=s.props,g=h.day,_=h.selectsStart,y=h.selectsEnd,v=h.selectsRange,N=h.selectsDisabledDaysInRange,S=h.startDate,D=h.endDate,j=(o=s.props.selectingDate)!==null&&o!==void 0?o:s.props.preSelection;return!(_||y||v)||!j||!N&&s.isDisabled()?!1:_&&D&&(Fm(j,D)||Tm(j,D))?db(g,j,D):y&&S&&(wh(j,S)||Tm(j,S))||v&&S&&!D&&(wh(j,S)||Tm(j,S))?db(g,S,j):!1},s.isSelectingRangeStart=function(){var o;if(!s.isInSelectingRange())return!1;var h=s.props,g=h.day,_=h.startDate,y=h.selectsStart,v=(o=s.props.selectingDate)!==null&&o!==void 0?o:s.props.preSelection;return y?Di(g,v):Di(g,_)},s.isSelectingRangeEnd=function(){var o;if(!s.isInSelectingRange())return!1;var h=s.props,g=h.day,_=h.endDate,y=h.selectsEnd,v=h.selectsRange,N=(o=s.props.selectingDate)!==null&&o!==void 0?o:s.props.preSelection;return y||v?Di(g,N):Di(g,_)},s.isRangeStart=function(){var o=s.props,h=o.day,g=o.startDate,_=o.endDate;return!g||!_?!1:Di(g,h)},s.isRangeEnd=function(){var o=s.props,h=o.day,g=o.startDate,_=o.endDate;return!g||!_?!1:Di(_,h)},s.isWeekend=function(){var o=bG(s.props.day);return o===0||o===6},s.isAfterMonth=function(){return s.props.month!==void 0&&(s.props.month+1)%12===Zo(s.props.day)},s.isBeforeMonth=function(){return s.props.month!==void 0&&(Zo(s.props.day)+1)%12===s.props.month},s.isCurrentDay=function(){return s.isSameDay(Ui())},s.isSelected=function(){var o;return s.props.selectsMultiple?(o=s.props.selectedDates)===null||o===void 0?void 0:o.some(function(h){return s.isSameDayOrWeek(h)}):s.isSameDayOrWeek(s.props.selected)},s.getClassNames=function(o){var h=s.props.dayClassName?s.props.dayClassName(o):void 0;return Do("react-datepicker__day",h,"react-datepicker__day--"+lZ(s.props.day),{"react-datepicker__day--disabled":s.isDisabled(),"react-datepicker__day--excluded":s.isExcluded(),"react-datepicker__day--selected":s.isSelected(),"react-datepicker__day--keyboard-selected":s.isKeyboardSelected(),"react-datepicker__day--range-start":s.isRangeStart(),"react-datepicker__day--range-end":s.isRangeEnd(),"react-datepicker__day--in-range":s.isInRange(),"react-datepicker__day--in-selecting-range":s.isInSelectingRange(),"react-datepicker__day--selecting-range-start":s.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":s.isSelectingRangeEnd(),"react-datepicker__day--today":s.isCurrentDay(),"react-datepicker__day--weekend":s.isWeekend(),"react-datepicker__day--outside-month":s.isAfterMonth()||s.isBeforeMonth()},s.getHighLightedClass(),s.getHolidaysClass())},s.getAriaLabel=function(){var o=s.props,h=o.day,g=o.ariaLabelPrefixWhenEnabled,_=g===void 0?"Choose":g,y=o.ariaLabelPrefixWhenDisabled,v=y===void 0?"Not available":y,N=s.isDisabled()||s.isExcluded()?v:_;return"".concat(N," ").concat(xr(h,"PPPP",s.props.locale))},s.getTitle=function(){var o=s.props,h=o.day,g=o.holidays,_=g===void 0?new Map:g,y=o.excludeDates,v=xr(h,"MM.dd.yyyy"),N=[];return _.has(v)&&N.push.apply(N,_.get(v).holidayNames),s.isExcluded()&&N.push(y==null?void 0:y.filter(function(S){return S instanceof Date?Di(S,h):Di(S==null?void 0:S.date,h)}).map(function(S){if(!(S instanceof Date))return S==null?void 0:S.message})),N.join(", ")},s.getTabIndex=function(){var o=s.props.selected,h=s.props.preSelection,g=!(s.props.showWeekPicker&&(s.props.showWeekNumber||!s.isStartOfWeek()))&&(s.isKeyboardSelected()||s.isSameDay(o)&&Di(h,o))?0:-1;return g},s.handleFocusDay=function(){var o;s.shouldFocusDay()&&((o=s.dayEl.current)===null||o===void 0||o.focus({preventScroll:!0}))},s.renderDayContents=function(){return s.props.monthShowsDuplicateDaysEnd&&s.isAfterMonth()||s.props.monthShowsDuplicateDaysStart&&s.isBeforeMonth()?null:s.props.renderDayContents?s.props.renderDayContents(ZI(s.props.day),s.props.day):ZI(s.props.day)},s.render=function(){return nt.createElement("div",{ref:s.dayEl,className:s.getClassNames(s.props.day),onKeyDown:s.handleOnKeyDown,onClick:s.handleClick,onMouseEnter:s.props.usePointerEvent?void 0:s.handleMouseEnter,onPointerEnter:s.props.usePointerEvent?s.handleMouseEnter:void 0,tabIndex:s.getTabIndex(),"aria-label":s.getAriaLabel(),role:"option",title:s.getTitle(),"aria-disabled":s.isDisabled(),"aria-current":s.isCurrentDay()?"date":void 0,"aria-selected":s.isSelected()||s.isInRange()},s.renderDayContents(),s.getTitle()!==""&&nt.createElement("span",{className:"overlay"},s.getTitle()))},s}return c.prototype.componentDidMount=function(){this.handleFocusDay()},c.prototype.componentDidUpdate=function(){this.handleFocusDay()},c.prototype.shouldFocusDay=function(){var s=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(s=!1),this.isDayActiveElement()&&(s=!0),this.isDuplicateDay()&&(s=!1)),s},c.prototype.isDayActiveElement=function(){var s,o,h;return((o=(s=this.props.containerRef)===null||s===void 0?void 0:s.current)===null||o===void 0?void 0:o.contains(document.activeElement))&&((h=document.activeElement)===null||h===void 0?void 0:h.classList.contains("react-datepicker__day"))},c.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},c}(I.Component),EZ=function(l){ho(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.weekNumberEl=I.createRef(),s.handleClick=function(o){s.props.onClick&&s.props.onClick(o)},s.handleOnKeyDown=function(o){var h,g,_=o.key;_===Qt.Space&&(o.preventDefault(),o.key=Qt.Enter),(g=(h=s.props).handleOnKeyDown)===null||g===void 0||g.call(h,o)},s.isKeyboardSelected=function(){return!s.props.disabledKeyboardNavigation&&!Di(s.props.date,s.props.selected)&&Di(s.props.date,s.props.preSelection)},s.getTabIndex=function(){return s.props.showWeekPicker&&s.props.showWeekNumber&&(s.isKeyboardSelected()||Di(s.props.date,s.props.selected)&&Di(s.props.preSelection,s.props.selected))?0:-1},s.handleFocusWeekNumber=function(o){var h=!1;s.getTabIndex()===0&&!(o!=null&&o.isInputFocused)&&Di(s.props.date,s.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(h=!0),s.props.inline&&!s.props.shouldFocusDayInline&&(h=!1),s.props.containerRef&&s.props.containerRef.current&&s.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(h=!0)),h&&s.weekNumberEl.current&&s.weekNumberEl.current.focus({preventScroll:!0})},s}return Object.defineProperty(c,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),c.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},c.prototype.componentDidUpdate=function(s){this.handleFocusWeekNumber(s)},c.prototype.render=function(){var s=this.props,o=s.weekNumber,h=s.isWeekDisabled,g=s.ariaLabelPrefix,_=g===void 0?c.defaultProps.ariaLabelPrefix:g,y=s.onClick,v={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!y&&!h,"react-datepicker__week-number--selected":!!y&&Di(this.props.date,this.props.selected)};return nt.createElement("div",{ref:this.weekNumberEl,className:Do(v),"aria-label":"".concat(_," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},o)},c}(I.Component),SZ=function(l){ho(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.isDisabled=function(o){return Fl(o,{minDate:s.props.minDate,maxDate:s.props.maxDate,excludeDates:s.props.excludeDates,excludeDateIntervals:s.props.excludeDateIntervals,includeDateIntervals:s.props.includeDateIntervals,includeDates:s.props.includeDates,filterDate:s.props.filterDate})},s.handleDayClick=function(o,h){s.props.onDayClick&&s.props.onDayClick(o,h)},s.handleDayMouseEnter=function(o){s.props.onDayMouseEnter&&s.props.onDayMouseEnter(o)},s.handleWeekClick=function(o,h,g){for(var _,y,v,N=new Date(o),S=0;S<7;S++){var D=new Date(o);D.setDate(D.getDate()+S);var j=!s.isDisabled(D);if(j){N=D;break}}typeof s.props.onWeekSelect=="function"&&s.props.onWeekSelect(N,h,g),s.props.showWeekPicker&&s.handleDayClick(N,g),((_=s.props.shouldCloseOnSelect)!==null&&_!==void 0?_:c.defaultProps.shouldCloseOnSelect)&&((v=(y=s.props).setOpen)===null||v===void 0||v.call(y,!1))},s.formatWeekNumber=function(o){return s.props.formatWeekNumber?s.props.formatWeekNumber(o):aZ(o)},s.isWeekDisabled=function(){for(var o=s.startOfWeek(),h=wc(o,6),g=new Date(o);g<=h;){if(!s.isDisabled(g))return!1;g=wc(g,1)}return!0},s.renderDays=function(){var o=s.startOfWeek(),h=[],g=s.formatWeekNumber(o);if(s.props.showWeekNumber){var _=s.props.onWeekSelect||s.props.showWeekPicker?s.handleWeekClick.bind(s,o,g):void 0;h.push(nt.createElement(EZ,Ti({key:"W"},c.defaultProps,s.props,{weekNumber:g,isWeekDisabled:s.isWeekDisabled(),date:o,onClick:_})))}return h.concat([0,1,2,3,4,5,6].map(function(y){var v=wc(o,y);return nt.createElement(NZ,Ti({},c.defaultProps,s.props,{ariaLabelPrefixWhenEnabled:s.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:s.props.disabledDayAriaLabelPrefix,key:v.valueOf(),day:v,onClick:s.handleDayClick.bind(s,v),onMouseEnter:s.handleDayMouseEnter.bind(s,v)}))}))},s.startOfWeek=function(){return vh(s.props.day,s.props.locale,s.props.calendarStartDay)},s.isKeyboardSelected=function(){return!s.props.disabledKeyboardNavigation&&!Di(s.startOfWeek(),s.props.selected)&&Di(s.startOfWeek(),s.props.preSelection)},s}return Object.defineProperty(c,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),c.prototype.render=function(){var s={"react-datepicker__week":!0,"react-datepicker__week--selected":Di(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return nt.createElement("div",{className:Do(s)},this.renderDays())},c}(I.Component),eb,jZ=6,cp={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},VC=(eb={},eb[cp.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},eb[cp.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},eb[cp.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},eb),X_=1;function CO(l,c){return l?cp.FOUR_COLUMNS:c?cp.TWO_COLUMNS:cp.THREE_COLUMNS}var DZ=function(l){ho(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.MONTH_REFS=bd([],Array(12),!0).map(function(){return I.createRef()}),s.QUARTER_REFS=bd([],Array(4),!0).map(function(){return I.createRef()}),s.isDisabled=function(o){return Fl(o,{minDate:s.props.minDate,maxDate:s.props.maxDate,excludeDates:s.props.excludeDates,excludeDateIntervals:s.props.excludeDateIntervals,includeDateIntervals:s.props.includeDateIntervals,includeDates:s.props.includeDates,filterDate:s.props.filterDate})},s.isExcluded=function(o){return k1(o,{excludeDates:s.props.excludeDates,excludeDateIntervals:s.props.excludeDateIntervals})},s.handleDayClick=function(o,h){var g,_;(_=(g=s.props).onDayClick)===null||_===void 0||_.call(g,o,h,s.props.orderInDisplay)},s.handleDayMouseEnter=function(o){var h,g;(g=(h=s.props).onDayMouseEnter)===null||g===void 0||g.call(h,o)},s.handleMouseLeave=function(){var o,h;(h=(o=s.props).onMouseLeave)===null||h===void 0||h.call(o)},s.isRangeStartMonth=function(o){var h=s.props,g=h.day,_=h.startDate,y=h.endDate;return!_||!y?!1:ga(zl(g,o),_)},s.isRangeStartQuarter=function(o){var h=s.props,g=h.day,_=h.startDate,y=h.endDate;return!_||!y?!1:Rv(ap(g,o),_)},s.isRangeEndMonth=function(o){var h=s.props,g=h.day,_=h.startDate,y=h.endDate;return!_||!y?!1:ga(zl(g,o),y)},s.isRangeEndQuarter=function(o){var h=s.props,g=h.day,_=h.startDate,y=h.endDate;return!_||!y?!1:Rv(ap(g,o),y)},s.isInSelectingRangeMonth=function(o){var h,g=s.props,_=g.day,y=g.selectsStart,v=g.selectsEnd,N=g.selectsRange,S=g.startDate,D=g.endDate,j=(h=s.props.selectingDate)!==null&&h!==void 0?h:s.props.preSelection;return!(y||v||N)||!j?!1:y&&D?G_(j,D,o,_):v&&S||N&&S&&!D?G_(S,j,o,_):!1},s.isSelectingMonthRangeStart=function(o){var h;if(!s.isInSelectingRangeMonth(o))return!1;var g=s.props,_=g.day,y=g.startDate,v=g.selectsStart,N=zl(_,o),S=(h=s.props.selectingDate)!==null&&h!==void 0?h:s.props.preSelection;return v?ga(N,S):ga(N,y)},s.isSelectingMonthRangeEnd=function(o){var h;if(!s.isInSelectingRangeMonth(o))return!1;var g=s.props,_=g.day,y=g.endDate,v=g.selectsEnd,N=g.selectsRange,S=zl(_,o),D=(h=s.props.selectingDate)!==null&&h!==void 0?h:s.props.preSelection;return v||N?ga(S,D):ga(S,y)},s.isInSelectingRangeQuarter=function(o){var h,g=s.props,_=g.day,y=g.selectsStart,v=g.selectsEnd,N=g.selectsRange,S=g.startDate,D=g.endDate,j=(h=s.props.selectingDate)!==null&&h!==void 0?h:s.props.preSelection;return!(y||v||N)||!j?!1:y&&D?Z_(j,D,o,_):v&&S||N&&S&&!D?Z_(S,j,o,_):!1},s.isWeekInMonth=function(o){var h=s.props.day,g=wc(o,6);return ga(o,h)||ga(g,h)},s.isCurrentMonth=function(o,h){return oi(o)===oi(Ui())&&h===Zo(Ui())},s.isCurrentQuarter=function(o,h){return oi(o)===oi(Ui())&&h===Lm(Ui())},s.isSelectedMonth=function(o,h,g){return Zo(g)===h&&oi(o)===oi(g)},s.isSelectMonthInList=function(o,h,g){return g.some(function(_){return s.isSelectedMonth(o,h,_)})},s.isSelectedQuarter=function(o,h,g){return Lm(o)===h&&oi(o)===oi(g)},s.isMonthSelected=function(){var o=s.props,h=o.day,g=o.selected,_=o.selectedDates,y=o.selectsMultiple,v=Zo(h);return y?_==null?void 0:_.some(function(N){return s.isSelectedMonth(h,v,N)}):!!g&&s.isSelectedMonth(h,v,g)},s.renderWeeks=function(){for(var o=[],h=s.props.fixedHeight,g=0,_=!1,y=vh(ku(s.props.day),s.props.locale,s.props.calendarStartDay),v=function(F){return s.props.showWeekPicker?vh(F,s.props.locale,s.props.calendarStartDay):s.props.preSelection},N=function(F){return s.props.showWeekPicker?vh(F,s.props.locale,s.props.calendarStartDay):s.props.selected},S=s.props.selected?N(s.props.selected):void 0,D=s.props.preSelection?v(s.props.preSelection):void 0;o.push(nt.createElement(SZ,Ti({},s.props,{ariaLabelPrefix:s.props.weekAriaLabelPrefix,key:g,day:y,month:Zo(s.props.day),onDayClick:s.handleDayClick,onDayMouseEnter:s.handleDayMouseEnter,selected:S,preSelection:D,showWeekNumber:s.props.showWeekNumbers}))),!_;){g++,y=Nv(y,1);var j=h&&g>=jZ,B=!h&&!s.isWeekInMonth(y);if(j||B)if(s.props.peekNextMonth)_=!0;else break}return o},s.onMonthClick=function(o,h){var g=s.isMonthDisabledForLabelDate(h),_=g.isDisabled,y=g.labelDate;_||s.handleDayClick(ku(y),o)},s.onMonthMouseEnter=function(o){var h=s.isMonthDisabledForLabelDate(o),g=h.isDisabled,_=h.labelDate;g||s.handleDayMouseEnter(ku(_))},s.handleMonthNavigation=function(o,h){var g,_,y,v;(_=(g=s.props).setPreSelection)===null||_===void 0||_.call(g,h),(v=(y=s.MONTH_REFS[o])===null||y===void 0?void 0:y.current)===null||v===void 0||v.focus()},s.handleKeyboardNavigation=function(o,h,g){var _,y=s.props,v=y.selected,N=y.preSelection,S=y.setPreSelection,D=y.minDate,j=y.maxDate,B=y.showFourColumnMonthYearPicker,F=y.showTwoColumnMonthYearPicker;if(N){var V=CO(B,F),$=s.getVerticalOffset(V),K=(_=VC[V])===null||_===void 0?void 0:_.grid,Q=function(q,de,re){var be,ke,we=de,De=re;switch(q){case Qt.ArrowRight:we=yc(de,X_),De=re===11?0:re+X_;break;case Qt.ArrowLeft:we=Bm(de,X_),De=re===0?11:re-X_;break;case Qt.ArrowUp:we=Bm(de,$),De=!((be=K==null?void 0:K[0])===null||be===void 0)&&be.includes(re)?re+12-$:re-$;break;case Qt.ArrowDown:we=yc(de,$),De=!((ke=K==null?void 0:K[K.length-1])===null||ke===void 0)&&ke.includes(re)?re-12+$:re+$;break}return{newCalculatedDate:we,newCalculatedMonth:De}},ee=function(q,de,re){for(var be=40,ke=q,we=!1,De=0,_e=Q(ke,de,re),je=_e.newCalculatedDate,oe=_e.newCalculatedMonth;!we;){if(De>=be){je=de,oe=re;break}if(D&&je<D){ke=Qt.ArrowRight;var ve=Q(ke,je,oe);je=ve.newCalculatedDate,oe=ve.newCalculatedMonth}if(j&&je>j){ke=Qt.ArrowLeft;var ve=Q(ke,je,oe);je=ve.newCalculatedDate,oe=ve.newCalculatedMonth}if(pZ(je,s.props)){var ve=Q(ke,je,oe);je=ve.newCalculatedDate,oe=ve.newCalculatedMonth}else we=!0;De++}return{newCalculatedDate:je,newCalculatedMonth:oe}};if(h===Qt.Enter){s.isMonthDisabled(g)||(s.onMonthClick(o,g),S==null||S(v));return}var ne=ee(h,N,g),le=ne.newCalculatedDate,se=ne.newCalculatedMonth;switch(h){case Qt.ArrowRight:case Qt.ArrowLeft:case Qt.ArrowUp:case Qt.ArrowDown:s.handleMonthNavigation(se,le);break}}},s.getVerticalOffset=function(o){var h,g;return(g=(h=VC[o])===null||h===void 0?void 0:h.verticalNavigationOffset)!==null&&g!==void 0?g:0},s.onMonthKeyDown=function(o,h){var g=s.props,_=g.disabledKeyboardNavigation,y=g.handleOnMonthKeyDown,v=o.key;v!==Qt.Tab&&o.preventDefault(),_||s.handleKeyboardNavigation(o,v,h),y&&y(o)},s.onQuarterClick=function(o,h){var g=ap(s.props.day,h);K_(g,s.props)||s.handleDayClick(cO(g),o)},s.onQuarterMouseEnter=function(o){var h=ap(s.props.day,o);K_(h,s.props)||s.handleDayMouseEnter(cO(h))},s.handleQuarterNavigation=function(o,h){var g,_,y,v;s.isDisabled(h)||s.isExcluded(h)||((_=(g=s.props).setPreSelection)===null||_===void 0||_.call(g,h),(v=(y=s.QUARTER_REFS[o-1])===null||y===void 0?void 0:y.current)===null||v===void 0||v.focus())},s.onQuarterKeyDown=function(o,h){var g,_,y=o.key;if(!s.props.disabledKeyboardNavigation)switch(y){case Qt.Enter:s.onQuarterClick(o,h),(_=(g=s.props).setPreSelection)===null||_===void 0||_.call(g,s.props.selected);break;case Qt.ArrowRight:if(!s.props.preSelection)break;s.handleQuarterNavigation(h===4?1:h+1,s1(s.props.preSelection,1));break;case Qt.ArrowLeft:if(!s.props.preSelection)break;s.handleQuarterNavigation(h===1?4:h-1,jL(s.props.preSelection));break}},s.isMonthDisabledForLabelDate=function(o){var h,g=s.props,_=g.day,y=g.minDate,v=g.maxDate,N=g.excludeDates,S=g.includeDates,D=zl(_,o);return{isDisabled:(h=(y||v||N||S)&&$L(D,s.props))!==null&&h!==void 0?h:!1,labelDate:D}},s.isMonthDisabled=function(o){var h=s.isMonthDisabledForLabelDate(o).isDisabled;return h},s.getMonthClassNames=function(o){var h=s.props,g=h.day,_=h.startDate,y=h.endDate,v=h.preSelection,N=h.monthClassName,S=N?N(zl(g,o)):void 0,D=s.getSelection();return Do("react-datepicker__month-text","react-datepicker__month-".concat(o),S,{"react-datepicker__month-text--disabled":s.isMonthDisabled(o),"react-datepicker__month-text--selected":D?s.isSelectMonthInList(g,o,D):void 0,"react-datepicker__month-text--keyboard-selected":!s.props.disabledKeyboardNavigation&&v&&s.isSelectedMonth(g,o,v)&&!s.isMonthSelected()&&!s.isMonthDisabled(o),"react-datepicker__month-text--in-selecting-range":s.isInSelectingRangeMonth(o),"react-datepicker__month-text--in-range":_&&y?G_(_,y,o,g):void 0,"react-datepicker__month-text--range-start":s.isRangeStartMonth(o),"react-datepicker__month-text--range-end":s.isRangeEndMonth(o),"react-datepicker__month-text--selecting-range-start":s.isSelectingMonthRangeStart(o),"react-datepicker__month-text--selecting-range-end":s.isSelectingMonthRangeEnd(o),"react-datepicker__month-text--today":s.isCurrentMonth(g,o)})},s.getTabIndex=function(o){if(s.props.preSelection==null)return"-1";var h=Zo(s.props.preSelection),g=s.isMonthDisabledForLabelDate(h).isDisabled,_=o===h&&!(g||s.props.disabledKeyboardNavigation)?"0":"-1";return _},s.getQuarterTabIndex=function(o){if(s.props.preSelection==null)return"-1";var h=Lm(s.props.preSelection),g=K_(s.props.day,s.props),_=o===h&&!(g||s.props.disabledKeyboardNavigation)?"0":"-1";return _},s.getAriaLabel=function(o){var h=s.props,g=h.chooseDayAriaLabelPrefix,_=g===void 0?"Choose":g,y=h.disabledDayAriaLabelPrefix,v=y===void 0?"Not available":y,N=h.day,S=h.locale,D=zl(N,o),j=s.isDisabled(D)||s.isExcluded(D)?v:_;return"".concat(j," ").concat(xr(D,"MMMM yyyy",S))},s.getQuarterClassNames=function(o){var h=s.props,g=h.day,_=h.startDate,y=h.endDate,v=h.selected,N=h.minDate,S=h.maxDate,D=h.excludeDates,j=h.includeDates,B=h.filterDate,F=h.preSelection,V=h.disabledKeyboardNavigation,$=(N||S||D||j||B)&&K_(ap(g,o),s.props);return Do("react-datepicker__quarter-text","react-datepicker__quarter-".concat(o),{"react-datepicker__quarter-text--disabled":$,"react-datepicker__quarter-text--selected":v?s.isSelectedQuarter(g,o,v):void 0,"react-datepicker__quarter-text--keyboard-selected":!V&&F&&s.isSelectedQuarter(g,o,F)&&!$,"react-datepicker__quarter-text--in-selecting-range":s.isInSelectingRangeQuarter(o),"react-datepicker__quarter-text--in-range":_&&y?Z_(_,y,o,g):void 0,"react-datepicker__quarter-text--range-start":s.isRangeStartQuarter(o),"react-datepicker__quarter-text--range-end":s.isRangeEndQuarter(o),"react-datepicker__quarter-text--today":s.isCurrentQuarter(g,o)})},s.getMonthContent=function(o){var h=s.props,g=h.showFullMonthYearPicker,_=h.renderMonthContent,y=h.locale,v=h.day,N=UL(o,y),S=b1(o,y);return _?_(o,N,S,v):g?S:N},s.getQuarterContent=function(o){var h,g=s.props,_=g.renderQuarterContent,y=g.locale,v=fZ(o,y);return(h=_==null?void 0:_(o,v))!==null&&h!==void 0?h:v},s.renderMonths=function(){var o,h=s.props,g=h.showTwoColumnMonthYearPicker,_=h.showFourColumnMonthYearPicker,y=h.day,v=h.selected,N=(o=VC[CO(_,g)])===null||o===void 0?void 0:o.grid;return N==null?void 0:N.map(function(S,D){return nt.createElement("div",{className:"react-datepicker__month-wrapper",key:D},S.map(function(j,B){return nt.createElement("div",{ref:s.MONTH_REFS[j],key:B,onClick:function(F){s.onMonthClick(F,j)},onKeyDown:function(F){YL(F)&&(F.preventDefault(),F.key=Qt.Enter),s.onMonthKeyDown(F,j)},onMouseEnter:s.props.usePointerEvent?void 0:function(){return s.onMonthMouseEnter(j)},onPointerEnter:s.props.usePointerEvent?function(){return s.onMonthMouseEnter(j)}:void 0,tabIndex:Number(s.getTabIndex(j)),className:s.getMonthClassNames(j),"aria-disabled":s.isMonthDisabled(j),role:"option","aria-label":s.getAriaLabel(j),"aria-current":s.isCurrentMonth(y,j)?"date":void 0,"aria-selected":v?s.isSelectedMonth(y,j,v):void 0},s.getMonthContent(j))}))})},s.renderQuarters=function(){var o=s.props,h=o.day,g=o.selected,_=[1,2,3,4];return nt.createElement("div",{className:"react-datepicker__quarter-wrapper"},_.map(function(y,v){return nt.createElement("div",{key:v,ref:s.QUARTER_REFS[v],role:"option",onClick:function(N){s.onQuarterClick(N,y)},onKeyDown:function(N){s.onQuarterKeyDown(N,y)},onMouseEnter:s.props.usePointerEvent?void 0:function(){return s.onQuarterMouseEnter(y)},onPointerEnter:s.props.usePointerEvent?function(){return s.onQuarterMouseEnter(y)}:void 0,className:s.getQuarterClassNames(y),"aria-selected":g?s.isSelectedQuarter(h,y,g):void 0,tabIndex:Number(s.getQuarterTabIndex(y)),"aria-current":s.isCurrentQuarter(h,y)?"date":void 0},s.getQuarterContent(y))}))},s.getClassNames=function(){var o=s.props,h=o.selectingDate,g=o.selectsStart,_=o.selectsEnd,y=o.showMonthYearPicker,v=o.showQuarterYearPicker,N=o.showWeekPicker;return Do("react-datepicker__month",{"react-datepicker__month--selecting-range":h&&(g||_)},{"react-datepicker__monthPicker":y},{"react-datepicker__quarterPicker":v},{"react-datepicker__weekPicker":N})},s}return c.prototype.getSelection=function(){var s=this.props,o=s.selected,h=s.selectedDates,g=s.selectsMultiple;if(g)return h;if(o)return[o]},c.prototype.render=function(){var s=this.props,o=s.showMonthYearPicker,h=s.showQuarterYearPicker,g=s.day,_=s.ariaLabelPrefix,y=_===void 0?"Month ":_,v=y?y.trim()+" ":"";return nt.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(v).concat(xr(g,"MMMM, yyyy",this.props.locale)),role:"listbox"},o?this.renderMonths():h?this.renderQuarters():this.renderWeeks())},c}(I.Component),TZ=function(l){ho(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.isSelectedMonth=function(o){return s.props.month===o},s.renderOptions=function(){return s.props.monthNames.map(function(o,h){return nt.createElement("div",{className:s.isSelectedMonth(h)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:o,onClick:s.onChange.bind(s,h),"aria-selected":s.isSelectedMonth(h)?"true":void 0},s.isSelectedMonth(h)?nt.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",o)})},s.onChange=function(o){return s.props.onChange(o)},s.handleClickOutside=function(){return s.props.onCancel()},s}return c.prototype.render=function(){return nt.createElement(ww,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},c}(I.Component),MZ=function(l){ho(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.state={dropdownVisible:!1},s.renderSelectOptions=function(o){return o.map(function(h,g){return nt.createElement("option",{key:h,value:g},h)})},s.renderSelectMode=function(o){return nt.createElement("select",{value:s.props.month,className:"react-datepicker__month-select",onChange:function(h){return s.onChange(parseInt(h.target.value))}},s.renderSelectOptions(o))},s.renderReadView=function(o,h){return nt.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:s.toggleDropdown},nt.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),nt.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},h[s.props.month]))},s.renderDropdown=function(o){return nt.createElement(TZ,Ti({key:"dropdown"},s.props,{monthNames:o,onChange:s.onChange,onCancel:s.toggleDropdown}))},s.renderScrollMode=function(o){var h=s.state.dropdownVisible,g=[s.renderReadView(!h,o)];return h&&g.unshift(s.renderDropdown(o)),g},s.onChange=function(o){s.toggleDropdown(),o!==s.props.month&&s.props.onChange(o)},s.toggleDropdown=function(){return s.setState({dropdownVisible:!s.state.dropdownVisible})},s}return c.prototype.render=function(){var s=this,o=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(g){return UL(g,s.props.locale)}:function(g){return b1(g,s.props.locale)}),h;switch(this.props.dropdownMode){case"scroll":h=this.renderScrollMode(o);break;case"select":h=this.renderSelectMode(o);break}return nt.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},h)},c}(I.Component);function IZ(l,c){for(var s=[],o=ku(l),h=ku(c);!wh(o,h);)s.push(Ui(o)),o=yc(o,1);return s}var OZ=function(l){ho(c,l);function c(s){var o=l.call(this,s)||this;return o.renderOptions=function(){return o.state.monthYearsList.map(function(h){var g=yA(h),_=fd(o.props.date,h)&&ga(o.props.date,h);return nt.createElement("div",{className:_?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:g,onClick:o.onChange.bind(o,g),"aria-selected":_?"true":void 0},_?nt.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",xr(h,o.props.dateFormat,o.props.locale))})},o.onChange=function(h){return o.props.onChange(h)},o.handleClickOutside=function(){o.props.onCancel()},o.state={monthYearsList:IZ(o.props.minDate,o.props.maxDate)},o}return c.prototype.render=function(){var s=Do({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return nt.createElement(ww,{className:s,onClickOutside:this.handleClickOutside},this.renderOptions())},c}(I.Component),LZ=function(l){ho(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.state={dropdownVisible:!1},s.renderSelectOptions=function(){for(var o=ku(s.props.minDate),h=ku(s.props.maxDate),g=[];!wh(o,h);){var _=yA(o);g.push(nt.createElement("option",{key:_,value:_},xr(o,s.props.dateFormat,s.props.locale))),o=yc(o,1)}return g},s.onSelectChange=function(o){s.onChange(parseInt(o.target.value))},s.renderSelectMode=function(){return nt.createElement("select",{value:yA(ku(s.props.date)),className:"react-datepicker__month-year-select",onChange:s.onSelectChange},s.renderSelectOptions())},s.renderReadView=function(o){var h=xr(s.props.date,s.props.dateFormat,s.props.locale);return nt.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:s.toggleDropdown},nt.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),nt.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},h))},s.renderDropdown=function(){return nt.createElement(OZ,Ti({key:"dropdown"},s.props,{onChange:s.onChange,onCancel:s.toggleDropdown}))},s.renderScrollMode=function(){var o=s.state.dropdownVisible,h=[s.renderReadView(!o)];return o&&h.unshift(s.renderDropdown()),h},s.onChange=function(o){s.toggleDropdown();var h=Ui(o);fd(s.props.date,h)&&ga(s.props.date,h)||s.props.onChange(h)},s.toggleDropdown=function(){return s.setState({dropdownVisible:!s.state.dropdownVisible})},s}return c.prototype.render=function(){var s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode();break;case"select":s=this.renderSelectMode();break}return nt.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},s)},c}(I.Component),BZ=function(l){ho(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.state={height:null},s.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var o,h,g;s.list&&(s.list.scrollTop=(g=s.centerLi&&c.calcCenterPosition(s.props.monthRef?s.props.monthRef.clientHeight-((h=(o=s.header)===null||o===void 0?void 0:o.clientHeight)!==null&&h!==void 0?h:0):s.list.clientHeight,s.centerLi))!==null&&g!==void 0?g:0)})},s.handleClick=function(o){var h,g;(s.props.minTime||s.props.maxTime)&&fO(o,s.props)||(s.props.excludeTimes||s.props.includeTimes||s.props.filterTime)&&mO(o,s.props)||(g=(h=s.props).onChange)===null||g===void 0||g.call(h,o)},s.isSelectedTime=function(o){return s.props.selected&&CZ(s.props.selected,o)},s.isDisabledTime=function(o){return(s.props.minTime||s.props.maxTime)&&fO(o,s.props)||(s.props.excludeTimes||s.props.includeTimes||s.props.filterTime)&&mO(o,s.props)},s.liClasses=function(o){var h,g=["react-datepicker__time-list-item",s.props.timeClassName?s.props.timeClassName(o):void 0];return s.isSelectedTime(o)&&g.push("react-datepicker__time-list-item--selected"),s.isDisabledTime(o)&&g.push("react-datepicker__time-list-item--disabled"),s.props.injectTimes&&(gu(o)*3600+bu(o)*60+_h(o))%(((h=s.props.intervals)!==null&&h!==void 0?h:c.defaultProps.intervals)*60)!==0&&g.push("react-datepicker__time-list-item--injected"),g.join(" ")},s.handleOnKeyDown=function(o,h){var g,_;o.key===Qt.Space&&(o.preventDefault(),o.key=Qt.Enter),(o.key===Qt.ArrowUp||o.key===Qt.ArrowLeft)&&o.target instanceof HTMLElement&&o.target.previousSibling&&(o.preventDefault(),o.target.previousSibling instanceof HTMLElement&&o.target.previousSibling.focus()),(o.key===Qt.ArrowDown||o.key===Qt.ArrowRight)&&o.target instanceof HTMLElement&&o.target.nextSibling&&(o.preventDefault(),o.target.nextSibling instanceof HTMLElement&&o.target.nextSibling.focus()),o.key===Qt.Enter&&s.handleClick(h),(_=(g=s.props).handleOnKeyDown)===null||_===void 0||_.call(g,o)},s.renderTimes=function(){for(var o,h=[],g=typeof s.props.format=="string"?s.props.format:"p",_=(o=s.props.intervals)!==null&&o!==void 0?o:c.defaultProps.intervals,y=s.props.selected||s.props.openToDate||Ui(),v=mv(y),N=s.props.injectTimes&&s.props.injectTimes.sort(function($,K){return $.getTime()-K.getTime()}),S=60*xZ(y),D=S/_,j=0;j<D;j++){var B=_A(v,j*_);if(h.push(B),N){var F=yZ(v,B,j,_,N);h=h.concat(F)}}var V=h.reduce(function($,K){return K.getTime()<=y.getTime()?K:$},h[0]);return h.map(function($){return nt.createElement("li",{key:$.valueOf(),onClick:s.handleClick.bind(s,$),className:s.liClasses($),ref:function(K){$===V&&(s.centerLi=K)},onKeyDown:function(K){s.handleOnKeyDown(K,$)},tabIndex:$===V?0:-1,role:"option","aria-selected":s.isSelectedTime($)?"true":void 0,"aria-disabled":s.isDisabledTime($)?"true":void 0},xr($,g,s.props.locale))})},s.renderTimeCaption=function(){return s.props.showTimeCaption===!1?nt.createElement(nt.Fragment,null):nt.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(s.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(o){s.header=o}},nt.createElement("div",{className:"react-datepicker-time__header"},s.props.timeCaption))},s}return Object.defineProperty(c,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),c.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},c.prototype.componentWillUnmount=function(){var s;(s=this.resizeObserver)===null||s===void 0||s.disconnect()},c.prototype.observeDatePickerHeightChanges=function(){var s=this,o=this.props.monthRef;this.updateContainerHeight(),o&&(this.resizeObserver=new ResizeObserver(function(){s.updateContainerHeight()}),this.resizeObserver.observe(o))},c.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},c.prototype.render=function(){var s=this,o,h=this.state.height;return nt.createElement("div",{className:"react-datepicker__time-container ".concat(((o=this.props.todayButton)!==null&&o!==void 0?o:c.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),nt.createElement("div",{className:"react-datepicker__time"},nt.createElement("div",{className:"react-datepicker__time-box"},nt.createElement("ul",{className:"react-datepicker__time-list",ref:function(g){s.list=g},style:h?{height:h}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},c.calcCenterPosition=function(s,o){return o.offsetTop-(s/2-o.clientHeight/2)},c}(I.Component),AO=3,RZ=function(l){ho(c,l);function c(s){var o=l.call(this,s)||this;return o.YEAR_REFS=bd([],Array(o.props.yearItemNumber),!0).map(function(){return I.createRef()}),o.isDisabled=function(h){return Fl(h,{minDate:o.props.minDate,maxDate:o.props.maxDate,excludeDates:o.props.excludeDates,includeDates:o.props.includeDates,filterDate:o.props.filterDate})},o.isExcluded=function(h){return k1(h,{excludeDates:o.props.excludeDates})},o.selectingDate=function(){var h;return(h=o.props.selectingDate)!==null&&h!==void 0?h:o.props.preSelection},o.updateFocusOnPaginate=function(h){var g=function(){var _,y;(y=(_=o.YEAR_REFS[h])===null||_===void 0?void 0:_.current)===null||y===void 0||y.focus()};window.requestAnimationFrame(g)},o.handleYearClick=function(h,g){o.props.onDayClick&&o.props.onDayClick(h,g)},o.handleYearNavigation=function(h,g){var _,y,v,N,S=o.props,D=S.date,j=S.yearItemNumber;if(!(D===void 0||j===void 0)){var B=kh(D,j).startPeriod;o.isDisabled(g)||o.isExcluded(g)||((y=(_=o.props).setPreSelection)===null||y===void 0||y.call(_,g),h-B<0?o.updateFocusOnPaginate(j-(B-h)):h-B>=j?o.updateFocusOnPaginate(Math.abs(j-(h-B))):(N=(v=o.YEAR_REFS[h-B])===null||v===void 0?void 0:v.current)===null||N===void 0||N.focus())}},o.isSameDay=function(h,g){return Di(h,g)},o.isCurrentYear=function(h){return h===oi(Ui())},o.isRangeStart=function(h){return o.props.startDate&&o.props.endDate&&fd(md(Ui(),h),o.props.startDate)},o.isRangeEnd=function(h){return o.props.startDate&&o.props.endDate&&fd(md(Ui(),h),o.props.endDate)},o.isInRange=function(h){return Q_(h,o.props.startDate,o.props.endDate)},o.isInSelectingRange=function(h){var g=o.props,_=g.selectsStart,y=g.selectsEnd,v=g.selectsRange,N=g.startDate,S=g.endDate;return!(_||y||v)||!o.selectingDate()?!1:_&&S?Q_(h,o.selectingDate(),S):y&&N||v&&N&&!S?Q_(h,N,o.selectingDate()):!1},o.isSelectingRangeStart=function(h){var g;if(!o.isInSelectingRange(h))return!1;var _=o.props,y=_.startDate,v=_.selectsStart,N=md(Ui(),h);return v?fd(N,(g=o.selectingDate())!==null&&g!==void 0?g:null):fd(N,y??null)},o.isSelectingRangeEnd=function(h){var g;if(!o.isInSelectingRange(h))return!1;var _=o.props,y=_.endDate,v=_.selectsEnd,N=_.selectsRange,S=md(Ui(),h);return v||N?fd(S,(g=o.selectingDate())!==null&&g!==void 0?g:null):fd(S,y??null)},o.isKeyboardSelected=function(h){if(!(o.props.date===void 0||o.props.selected==null||o.props.preSelection==null)){var g=o.props,_=g.minDate,y=g.maxDate,v=g.excludeDates,N=g.includeDates,S=g.filterDate,D=cb(md(o.props.date,h)),j=(_||y||v||N||S)&&fv(h,o.props);return!o.props.disabledKeyboardNavigation&&!o.props.inline&&!Di(D,cb(o.props.selected))&&Di(D,cb(o.props.preSelection))&&!j}},o.isSelectedYear=function(h){var g=o.props,_=g.selectsMultiple,y=g.selected,v=g.selectedDates;return _?v==null?void 0:v.some(function(N){return h===oi(N)}):!!y&&h===oi(y)},o.onYearClick=function(h,g){var _=o.props.date;_!==void 0&&o.handleYearClick(cb(md(_,g)),h)},o.onYearKeyDown=function(h,g){var _,y,v=h.key,N=o.props,S=N.date,D=N.yearItemNumber,j=N.handleOnKeyDown;if(v!==Qt.Tab&&h.preventDefault(),!o.props.disabledKeyboardNavigation)switch(v){case Qt.Enter:if(o.props.selected==null)break;o.onYearClick(h,g),(y=(_=o.props).setPreSelection)===null||y===void 0||y.call(_,o.props.selected);break;case Qt.ArrowRight:if(o.props.preSelection==null)break;o.handleYearNavigation(g+1,fu(o.props.preSelection,1));break;case Qt.ArrowLeft:if(o.props.preSelection==null)break;o.handleYearNavigation(g-1,hp(o.props.preSelection,1));break;case Qt.ArrowUp:{if(S===void 0||D===void 0||o.props.preSelection==null)break;var B=kh(S,D).startPeriod,F=AO,V=g-F;if(V<B){var $=D%F;g>=B&&g<B+$?F=$:F+=$,V=g-F}o.handleYearNavigation(V,hp(o.props.preSelection,F));break}case Qt.ArrowDown:{if(S===void 0||D===void 0||o.props.preSelection==null)break;var K=kh(S,D).endPeriod,F=AO,V=g+F;if(V>K){var $=D%F;g<=K&&g>K-$?F=$:F+=$,V=g+F}o.handleYearNavigation(V,fu(o.props.preSelection,F));break}}j&&j(h)},o.getYearClassNames=function(h){var g=o.props,_=g.date,y=g.minDate,v=g.maxDate,N=g.excludeDates,S=g.includeDates,D=g.filterDate,j=g.yearClassName;return Do("react-datepicker__year-text","react-datepicker__year-".concat(h),_?j==null?void 0:j(md(_,h)):void 0,{"react-datepicker__year-text--selected":o.isSelectedYear(h),"react-datepicker__year-text--disabled":(y||v||N||S||D)&&fv(h,o.props),"react-datepicker__year-text--keyboard-selected":o.isKeyboardSelected(h),"react-datepicker__year-text--range-start":o.isRangeStart(h),"react-datepicker__year-text--range-end":o.isRangeEnd(h),"react-datepicker__year-text--in-range":o.isInRange(h),"react-datepicker__year-text--in-selecting-range":o.isInSelectingRange(h),"react-datepicker__year-text--selecting-range-start":o.isSelectingRangeStart(h),"react-datepicker__year-text--selecting-range-end":o.isSelectingRangeEnd(h),"react-datepicker__year-text--today":o.isCurrentYear(h)})},o.getYearTabIndex=function(h){if(o.props.disabledKeyboardNavigation||o.props.preSelection==null)return"-1";var g=oi(o.props.preSelection),_=fv(h,o.props);return h===g&&!_?"0":"-1"},o.getYearContent=function(h){return o.props.renderYearContent?o.props.renderYearContent(h):h},o}return c.prototype.render=function(){var s=this,o=[],h=this.props,g=h.date,_=h.yearItemNumber,y=h.onYearMouseEnter,v=h.onYearMouseLeave;if(g===void 0)return null;for(var N=kh(g,_),S=N.startPeriod,D=N.endPeriod,j=function(V){o.push(nt.createElement("div",{ref:B.YEAR_REFS[V-S],onClick:function($){s.onYearClick($,V)},onKeyDown:function($){YL($)&&($.preventDefault(),$.key=Qt.Enter),s.onYearKeyDown($,V)},tabIndex:Number(B.getYearTabIndex(V)),className:B.getYearClassNames(V),onMouseEnter:B.props.usePointerEvent?void 0:function($){return y($,V)},onPointerEnter:B.props.usePointerEvent?function($){return y($,V)}:void 0,onMouseLeave:B.props.usePointerEvent?void 0:function($){return v($,V)},onPointerLeave:B.props.usePointerEvent?function($){return v($,V)}:void 0,key:V,"aria-current":B.isCurrentYear(V)?"date":void 0},B.getYearContent(V)))},B=this,F=S;F<=D;F++)j(F);return nt.createElement("div",{className:"react-datepicker__year"},nt.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},o))},c}(I.Component);function PZ(l,c,s,o){for(var h=[],g=0;g<2*c+1;g++){var _=l+c-g,y=!0;s&&(y=oi(s)<=_),o&&y&&(y=oi(o)>=_),y&&h.push(_)}return h}var zZ=function(l){ho(c,l);function c(s){var o=l.call(this,s)||this;o.renderOptions=function(){var y=o.props.year,v=o.state.yearsList.map(function(D){return nt.createElement("div",{className:y===D?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:D,onClick:o.onChange.bind(o,D),"aria-selected":y===D?"true":void 0},y===D?nt.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",D)}),N=o.props.minDate?oi(o.props.minDate):null,S=o.props.maxDate?oi(o.props.maxDate):null;return(!S||!o.state.yearsList.find(function(D){return D===S}))&&v.unshift(nt.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:o.incrementYears},nt.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!N||!o.state.yearsList.find(function(D){return D===N}))&&v.push(nt.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:o.decrementYears},nt.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),v},o.onChange=function(y){o.props.onChange(y)},o.handleClickOutside=function(){o.props.onCancel()},o.shiftYears=function(y){var v=o.state.yearsList.map(function(N){return N+y});o.setState({yearsList:v})},o.incrementYears=function(){return o.shiftYears(1)},o.decrementYears=function(){return o.shiftYears(-1)};var h=s.yearDropdownItemNumber,g=s.scrollableYearDropdown,_=h||(g?10:5);return o.state={yearsList:PZ(o.props.year,_,o.props.minDate,o.props.maxDate)},o.dropdownRef=I.createRef(),o}return c.prototype.componentDidMount=function(){var s=this.dropdownRef.current;if(s){var o=s.children?Array.from(s.children):null,h=o?o.find(function(g){return g.ariaSelected}):null;s.scrollTop=h&&h instanceof HTMLElement?h.offsetTop+(h.clientHeight-s.clientHeight)/2:(s.scrollHeight-s.clientHeight)/2}},c.prototype.render=function(){var s=Do({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return nt.createElement(ww,{className:s,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},c}(I.Component),FZ=function(l){ho(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.state={dropdownVisible:!1},s.renderSelectOptions=function(){for(var o=s.props.minDate?oi(s.props.minDate):1900,h=s.props.maxDate?oi(s.props.maxDate):2100,g=[],_=o;_<=h;_++)g.push(nt.createElement("option",{key:_,value:_},_));return g},s.onSelectChange=function(o){s.onChange(parseInt(o.target.value))},s.renderSelectMode=function(){return nt.createElement("select",{value:s.props.year,className:"react-datepicker__year-select",onChange:s.onSelectChange},s.renderSelectOptions())},s.renderReadView=function(o){return nt.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(h){return s.toggleDropdown(h)}},nt.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),nt.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},s.props.year))},s.renderDropdown=function(){return nt.createElement(zZ,Ti({key:"dropdown"},s.props,{onChange:s.onChange,onCancel:s.toggleDropdown}))},s.renderScrollMode=function(){var o=s.state.dropdownVisible,h=[s.renderReadView(!o)];return o&&h.unshift(s.renderDropdown()),h},s.onChange=function(o){s.toggleDropdown(),o!==s.props.year&&s.props.onChange(o)},s.toggleDropdown=function(o){s.setState({dropdownVisible:!s.state.dropdownVisible},function(){s.props.adjustDateOnChange&&s.handleYearChange(s.props.date,o)})},s.handleYearChange=function(o,h){var g;(g=s.onSelect)===null||g===void 0||g.call(s,o,h),s.setOpen()},s.onSelect=function(o,h){var g,_;(_=(g=s.props).onSelect)===null||_===void 0||_.call(g,o,h)},s.setOpen=function(){var o,h;(h=(o=s.props).setOpen)===null||h===void 0||h.call(o,!0)},s}return c.prototype.render=function(){var s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode();break;case"select":s=this.renderSelectMode();break}return nt.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},s)},c}(I.Component),HZ=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],VZ=function(l){var c=(l.className||"").split(/\s+/);return HZ.some(function(s){return c.indexOf(s)>=0})},UZ=function(l){ho(c,l);function c(s){var o=l.call(this,s)||this;return o.monthContainer=void 0,o.handleClickOutside=function(h){o.props.onClickOutside(h)},o.setClickOutsideRef=function(){return o.containerRef.current},o.handleDropdownFocus=function(h){var g,_;VZ(h.target)&&((_=(g=o.props).onDropdownFocus)===null||_===void 0||_.call(g,h))},o.getDateInView=function(){var h=o.props,g=h.preSelection,_=h.selected,y=h.openToDate,v=qL(o.props),N=WL(o.props),S=Ui(),D=y||_||g;return D||(v&&Fm(S,v)?v:N&&wh(S,N)?N:S)},o.increaseMonth=function(){o.setState(function(h){var g=h.date;return{date:yc(g,1)}},function(){return o.handleMonthChange(o.state.date)})},o.decreaseMonth=function(){o.setState(function(h){var g=h.date;return{date:Bm(g,1)}},function(){return o.handleMonthChange(o.state.date)})},o.handleDayClick=function(h,g,_){o.props.onSelect(h,g,_),o.props.setPreSelection&&o.props.setPreSelection(h)},o.handleDayMouseEnter=function(h){o.setState({selectingDate:h}),o.props.onDayMouseEnter&&o.props.onDayMouseEnter(h)},o.handleMonthMouseLeave=function(){o.setState({selectingDate:void 0}),o.props.onMonthMouseLeave&&o.props.onMonthMouseLeave()},o.handleYearMouseEnter=function(h,g){o.setState({selectingDate:md(Ui(),g)}),o.props.onYearMouseEnter&&o.props.onYearMouseEnter(h,g)},o.handleYearMouseLeave=function(h,g){o.props.onYearMouseLeave&&o.props.onYearMouseLeave(h,g)},o.handleYearChange=function(h){var g,_,y,v;(_=(g=o.props).onYearChange)===null||_===void 0||_.call(g,h),o.setState({isRenderAriaLiveMessage:!0}),o.props.adjustDateOnChange&&(o.props.onSelect(h),(v=(y=o.props).setOpen)===null||v===void 0||v.call(y,!0)),o.props.setPreSelection&&o.props.setPreSelection(h)},o.getEnabledPreSelectionDateForMonth=function(h){if(!Fl(h,o.props))return h;for(var g=ku(h),_=dZ(h),y=wY(_,g),v=null,N=0;N<=y;N++){var S=wc(g,N);if(!Fl(S,o.props)){v=S;break}}return v},o.handleMonthChange=function(h){var g,_,y,v=(g=o.getEnabledPreSelectionDateForMonth(h))!==null&&g!==void 0?g:h;o.handleCustomMonthChange(v),o.props.adjustDateOnChange&&(o.props.onSelect(v),(y=(_=o.props).setOpen)===null||y===void 0||y.call(_,!0)),o.props.setPreSelection&&o.props.setPreSelection(v)},o.handleCustomMonthChange=function(h){var g,_;(_=(g=o.props).onMonthChange)===null||_===void 0||_.call(g,h),o.setState({isRenderAriaLiveMessage:!0})},o.handleMonthYearChange=function(h){o.handleYearChange(h),o.handleMonthChange(h)},o.changeYear=function(h){o.setState(function(g){var _=g.date;return{date:md(_,Number(h))}},function(){return o.handleYearChange(o.state.date)})},o.changeMonth=function(h){o.setState(function(g){var _=g.date;return{date:zl(_,Number(h))}},function(){return o.handleMonthChange(o.state.date)})},o.changeMonthYear=function(h){o.setState(function(g){var _=g.date;return{date:md(zl(_,Zo(h)),oi(h))}},function(){return o.handleMonthYearChange(o.state.date)})},o.header=function(h){h===void 0&&(h=o.state.date);var g=vh(h,o.props.locale,o.props.calendarStartDay),_=[];return o.props.showWeekNumbers&&_.push(nt.createElement("div",{key:"W",className:"react-datepicker__day-name"},o.props.weekLabel||"#")),_.concat([0,1,2,3,4,5,6].map(function(y){var v=wc(g,y),N=o.formatWeekday(v,o.props.locale),S=o.props.weekDayClassName?o.props.weekDayClassName(v):void 0;return nt.createElement("div",{key:y,"aria-label":xr(v,"EEEE",o.props.locale),className:Do("react-datepicker__day-name",S)},N)}))},o.formatWeekday=function(h,g){return o.props.formatWeekDay?uZ(h,o.props.formatWeekDay,g):o.props.useWeekdaysShort?mZ(h,g):hZ(h,g)},o.decreaseYear=function(){o.setState(function(h){var g,_=h.date;return{date:hp(_,o.props.showYearPicker?(g=o.props.yearItemNumber)!==null&&g!==void 0?g:c.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.clearSelectingDate=function(){o.setState({selectingDate:void 0})},o.renderPreviousButton=function(){var h,g,_;if(!o.props.renderCustomHeader){var y=(h=o.props.monthsShown)!==null&&h!==void 0?h:c.defaultProps.monthsShown,v=o.props.showPreviousMonths?y-1:0,N=(g=o.props.monthSelectedIn)!==null&&g!==void 0?g:v,S=Bm(o.state.date,N),D;switch(!0){case o.props.showMonthYearPicker:D=bO(o.state.date,o.props);break;case o.props.showYearPicker:D=kZ(o.state.date,o.props);break;case o.props.showQuarterYearPicker:D=gZ(o.state.date,o.props);break;default:D=pO(S,o.props);break}if(!(!((_=o.props.forceShowMonthNavigation)!==null&&_!==void 0?_:c.defaultProps.forceShowMonthNavigation)&&!o.props.showDisabledMonthNavigation&&D||o.props.showTimeSelectOnly)){var j=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],B=["react-datepicker__navigation","react-datepicker__navigation--previous"],F=o.decreaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(F=o.decreaseYear),D&&o.props.showDisabledMonthNavigation&&(B.push("react-datepicker__navigation--previous--disabled"),F=void 0);var V=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,$=o.props,K=$.previousMonthButtonLabel,Q=K===void 0?c.defaultProps.previousMonthButtonLabel:K,ee=$.previousYearButtonLabel,ne=ee===void 0?c.defaultProps.previousYearButtonLabel:ee,le=o.props,se=le.previousMonthAriaLabel,q=se===void 0?typeof Q=="string"?Q:"Previous Month":se,de=le.previousYearAriaLabel,re=de===void 0?typeof ne=="string"?ne:"Previous Year":de;return nt.createElement("button",{type:"button",className:B.join(" "),onClick:F,onKeyDown:o.props.handleOnKeyDown,"aria-label":V?re:q},nt.createElement("span",{className:j.join(" ")},V?ne:Q))}}},o.increaseYear=function(){o.setState(function(h){var g,_=h.date;return{date:fu(_,o.props.showYearPicker?(g=o.props.yearItemNumber)!==null&&g!==void 0?g:c.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.renderNextButton=function(){var h;if(!o.props.renderCustomHeader){var g;switch(!0){case o.props.showMonthYearPicker:g=kO(o.state.date,o.props);break;case o.props.showYearPicker:g=_Z(o.state.date,o.props);break;case o.props.showQuarterYearPicker:g=bZ(o.state.date,o.props);break;default:g=gO(o.state.date,o.props);break}if(!(!((h=o.props.forceShowMonthNavigation)!==null&&h!==void 0?h:c.defaultProps.forceShowMonthNavigation)&&!o.props.showDisabledMonthNavigation&&g||o.props.showTimeSelectOnly)){var _=["react-datepicker__navigation","react-datepicker__navigation--next"],y=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];o.props.showTimeSelect&&_.push("react-datepicker__navigation--next--with-time"),o.props.todayButton&&_.push("react-datepicker__navigation--next--with-today-button");var v=o.increaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(v=o.increaseYear),g&&o.props.showDisabledMonthNavigation&&(_.push("react-datepicker__navigation--next--disabled"),v=void 0);var N=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,S=o.props,D=S.nextMonthButtonLabel,j=D===void 0?c.defaultProps.nextMonthButtonLabel:D,B=S.nextYearButtonLabel,F=B===void 0?c.defaultProps.nextYearButtonLabel:B,V=o.props,$=V.nextMonthAriaLabel,K=$===void 0?typeof j=="string"?j:"Next Month":$,Q=V.nextYearAriaLabel,ee=Q===void 0?typeof F=="string"?F:"Next Year":Q;return nt.createElement("button",{type:"button",className:_.join(" "),onClick:v,onKeyDown:o.props.handleOnKeyDown,"aria-label":N?ee:K},nt.createElement("span",{className:y.join(" ")},N?F:j))}}},o.renderCurrentMonth=function(h){h===void 0&&(h=o.state.date);var g=["react-datepicker__current-month"];return o.props.showYearDropdown&&g.push("react-datepicker__current-month--hasYearDropdown"),o.props.showMonthDropdown&&g.push("react-datepicker__current-month--hasMonthDropdown"),o.props.showMonthYearDropdown&&g.push("react-datepicker__current-month--hasMonthYearDropdown"),nt.createElement("h2",{className:g.join(" ")},xr(h,o.props.dateFormat,o.props.locale))},o.renderYearDropdown=function(h){if(h===void 0&&(h=!1),!(!o.props.showYearDropdown||h))return nt.createElement(FZ,Ti({},c.defaultProps,o.props,{date:o.state.date,onChange:o.changeYear,year:oi(o.state.date)}))},o.renderMonthDropdown=function(h){if(h===void 0&&(h=!1),!(!o.props.showMonthDropdown||h))return nt.createElement(MZ,Ti({},c.defaultProps,o.props,{month:Zo(o.state.date),onChange:o.changeMonth}))},o.renderMonthYearDropdown=function(h){if(h===void 0&&(h=!1),!(!o.props.showMonthYearDropdown||h))return nt.createElement(LZ,Ti({},c.defaultProps,o.props,{date:o.state.date,onChange:o.changeMonthYear}))},o.handleTodayButtonClick=function(h){o.props.onSelect(dO(),h),o.props.setPreSelection&&o.props.setPreSelection(dO())},o.renderTodayButton=function(){if(!(!o.props.todayButton||o.props.showTimeSelectOnly))return nt.createElement("div",{className:"react-datepicker__today-button",onClick:o.handleTodayButtonClick},o.props.todayButton)},o.renderDefaultHeader=function(h){var g=h.monthDate,_=h.i;return nt.createElement("div",{className:"react-datepicker__header ".concat(o.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},o.renderCurrentMonth(g),nt.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(o.props.dropdownMode),onFocus:o.handleDropdownFocus},o.renderMonthDropdown(_!==0),o.renderMonthYearDropdown(_!==0),o.renderYearDropdown(_!==0)),nt.createElement("div",{className:"react-datepicker__day-names"},o.header(g)))},o.renderCustomHeader=function(h){var g,_,y=h.monthDate,v=h.i;if(o.props.showTimeSelect&&!o.state.monthContainer||o.props.showTimeSelectOnly)return null;var N=pO(o.state.date,o.props),S=gO(o.state.date,o.props),D=bO(o.state.date,o.props),j=kO(o.state.date,o.props),B=!o.props.showMonthYearPicker&&!o.props.showQuarterYearPicker&&!o.props.showYearPicker;return nt.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:o.props.onDropdownFocus},(_=(g=o.props).renderCustomHeader)===null||_===void 0?void 0:_.call(g,Ti(Ti({},o.state),{customHeaderCount:v,monthDate:y,changeMonth:o.changeMonth,changeYear:o.changeYear,decreaseMonth:o.decreaseMonth,increaseMonth:o.increaseMonth,decreaseYear:o.decreaseYear,increaseYear:o.increaseYear,prevMonthButtonDisabled:N,nextMonthButtonDisabled:S,prevYearButtonDisabled:D,nextYearButtonDisabled:j})),B&&nt.createElement("div",{className:"react-datepicker__day-names"},o.header(y)))},o.renderYearHeader=function(h){var g=h.monthDate,_=o.props,y=_.showYearPicker,v=_.yearItemNumber,N=v===void 0?c.defaultProps.yearItemNumber:v,S=kh(g,N),D=S.startPeriod,j=S.endPeriod;return nt.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},y?"".concat(D," - ").concat(j):oi(g))},o.renderHeader=function(h){var g=h.monthDate,_=h.i,y=_===void 0?0:_,v={monthDate:g,i:y};switch(!0){case o.props.renderCustomHeader!==void 0:return o.renderCustomHeader(v);case(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker):return o.renderYearHeader(v);default:return o.renderDefaultHeader(v)}},o.renderMonths=function(){var h,g;if(!(o.props.showTimeSelectOnly||o.props.showYearPicker)){for(var _=[],y=(h=o.props.monthsShown)!==null&&h!==void 0?h:c.defaultProps.monthsShown,v=o.props.showPreviousMonths?y-1:0,N=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?fu(o.state.date,v):Bm(o.state.date,v),S=(g=o.props.monthSelectedIn)!==null&&g!==void 0?g:v,D=0;D<y;++D){var j=D-S+v,B=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?fu(N,j):yc(N,j),F="month-".concat(D),V=D<y-1,$=D>0;_.push(nt.createElement("div",{key:F,ref:function(K){o.monthContainer=K??void 0},className:"react-datepicker__month-container"},o.renderHeader({monthDate:B,i:D}),nt.createElement(DZ,Ti({},c.defaultProps,o.props,{containerRef:o.containerRef,ariaLabelPrefix:o.props.monthAriaLabelPrefix,day:B,onDayClick:o.handleDayClick,handleOnKeyDown:o.props.handleOnDayKeyDown,handleOnMonthKeyDown:o.props.handleOnKeyDown,onDayMouseEnter:o.handleDayMouseEnter,onMouseLeave:o.handleMonthMouseLeave,orderInDisplay:D,selectingDate:o.state.selectingDate,monthShowsDuplicateDaysEnd:V,monthShowsDuplicateDaysStart:$}))))}return _}},o.renderYears=function(){if(!o.props.showTimeSelectOnly&&o.props.showYearPicker)return nt.createElement("div",{className:"react-datepicker__year--container"},o.renderHeader({monthDate:o.state.date}),nt.createElement(RZ,Ti({},c.defaultProps,o.props,{selectingDate:o.state.selectingDate,date:o.state.date,onDayClick:o.handleDayClick,clearSelectingDate:o.clearSelectingDate,onYearMouseEnter:o.handleYearMouseEnter,onYearMouseLeave:o.handleYearMouseLeave})))},o.renderTimeSection=function(){if(o.props.showTimeSelect&&(o.state.monthContainer||o.props.showTimeSelectOnly))return nt.createElement(BZ,Ti({},c.defaultProps,o.props,{onChange:o.props.onTimeChange,format:o.props.timeFormat,intervals:o.props.timeIntervals,monthRef:o.state.monthContainer}))},o.renderInputTimeSection=function(){var h=o.props.selected?new Date(o.props.selected):void 0,g=h&&yw(h)&&!!o.props.selected,_=g?"".concat(vO(h.getHours()),":").concat(vO(h.getMinutes())):"";if(o.props.showTimeInput)return nt.createElement(AZ,Ti({},c.defaultProps,o.props,{date:h,timeString:_,onChange:o.props.onTimeChange}))},o.renderAriaLiveRegion=function(){var h,g=kh(o.state.date,(h=o.props.yearItemNumber)!==null&&h!==void 0?h:c.defaultProps.yearItemNumber),_=g.startPeriod,y=g.endPeriod,v;return o.props.showYearPicker?v="".concat(_," - ").concat(y):o.props.showMonthYearPicker||o.props.showQuarterYearPicker?v=oi(o.state.date):v="".concat(b1(Zo(o.state.date),o.props.locale)," ").concat(oi(o.state.date)),nt.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},o.state.isRenderAriaLiveMessage&&v)},o.renderChildren=function(){if(o.props.children)return nt.createElement("div",{className:"react-datepicker__children-container"},o.props.children)},o.containerRef=I.createRef(),o.state={date:o.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},o}return Object.defineProperty(c,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Bb}},enumerable:!1,configurable:!0}),c.prototype.componentDidMount=function(){var s=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){s.setState({monthContainer:s.monthContainer})}())},c.prototype.componentDidUpdate=function(s){var o=this;if(this.props.preSelection&&(!Di(this.props.preSelection,s.preSelection)||this.props.monthSelectedIn!==s.monthSelectedIn)){var h=!ga(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return h&&o.handleCustomMonthChange(o.state.date)})}else this.props.openToDate&&!Di(this.props.openToDate,s.openToDate)&&this.setState({date:this.props.openToDate})},c.prototype.render=function(){var s=this.props.container||iZ;return nt.createElement(ww,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},nt.createElement("div",{style:{display:"contents"},ref:this.containerRef},nt.createElement(s,{className:Do("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},c}(I.Component),$Z=function(l){var c=l.icon,s=l.className,o=s===void 0?"":s,h=l.onClick,g="react-datepicker__calendar-icon";if(typeof c=="string")return nt.createElement("i",{className:"".concat(g," ").concat(c," ").concat(o),"aria-hidden":"true",onClick:h});if(nt.isValidElement(c)){var _=c;return nt.cloneElement(_,{className:"".concat(_.props.className||""," ").concat(g," ").concat(o),onClick:function(y){typeof _.props.onClick=="function"&&_.props.onClick(y),typeof h=="function"&&h(y)}})}return nt.createElement("svg",{className:"".concat(g," ").concat(o),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:h},nt.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},GL=function(l){ho(c,l);function c(s){var o=l.call(this,s)||this;return o.portalRoot=null,o.el=document.createElement("div"),o}return c.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},c.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},c.prototype.render=function(){return Em.createPortal(this.props.children,this.el)},c}(I.Component),qZ="[tabindex], a, button, input, select, textarea",WZ=function(l){return(l instanceof HTMLAnchorElement||!l.disabled)&&l.tabIndex!==-1},KL=function(l){ho(c,l);function c(s){var o=l.call(this,s)||this;return o.getTabChildren=function(){var h;return Array.prototype.slice.call((h=o.tabLoopRef.current)===null||h===void 0?void 0:h.querySelectorAll(qZ),1,-1).filter(WZ)},o.handleFocusStart=function(){var h=o.getTabChildren();h&&h.length>1&&h[h.length-1].focus()},o.handleFocusEnd=function(){var h=o.getTabChildren();h&&h.length>1&&h[0].focus()},o.tabLoopRef=I.createRef(),o}return c.prototype.render=function(){var s;return((s=this.props.enableTabLoop)!==null&&s!==void 0?s:c.defaultProps.enableTabLoop)?nt.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},nt.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,nt.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},c.defaultProps={enableTabLoop:!0},c}(I.Component);function YZ(l){var c=function(s){var o,h=typeof s.hidePopper=="boolean"?s.hidePopper:!0,g=I.useRef(null),_=nZ(Ti({open:!h,whileElementsMounted:OQ,placement:s.popperPlacement,middleware:bd([UQ({padding:15}),VQ(10),$Q({element:g})],(o=s.popperModifiers)!==null&&o!==void 0?o:[],!0)},s.popperProps)),y=Ti(Ti({},s),{hidePopper:h,popperProps:Ti(Ti({},_),{arrowRef:g})});return nt.createElement(l,Ti({},y))};return c}var GZ=function(l){ho(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(c,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),c.prototype.render=function(){var s=this.props,o=s.className,h=s.wrapperClassName,g=s.hidePopper,_=g===void 0?c.defaultProps.hidePopper:g,y=s.popperComponent,v=s.targetComponent,N=s.enableTabLoop,S=s.popperOnKeyDown,D=s.portalId,j=s.portalHost,B=s.popperProps,F=s.showArrow,V=void 0;if(!_){var $=Do("react-datepicker-popper",o);V=nt.createElement(KL,{enableTabLoop:N},nt.createElement("div",{ref:B.refs.setFloating,style:B.floatingStyles,className:$,"data-placement":B.placement,onKeyDown:S},y,F&&nt.createElement(KQ,{ref:B.arrowRef,context:B.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(V=I.createElement(this.props.popperContainer,{},V)),D&&!_&&(V=nt.createElement(GL,{portalId:D,portalHost:j},V));var K=Do("react-datepicker-wrapper",h);return nt.createElement(nt.Fragment,null,nt.createElement("div",{ref:B.refs.setReference,className:K},v),V)},c}(I.Component),KZ=YZ(GZ),NO="react-datepicker-ignore-onclickoutside";function QZ(l,c){return l&&c?Zo(l)!==Zo(c)||oi(l)!==oi(c):l!==c}var UC="Date input not valid.",Pv=function(l){ho(c,l);function c(s){var o=l.call(this,s)||this;return o.calendar=null,o.input=null,o.getPreSelection=function(){return o.props.openToDate?o.props.openToDate:o.props.selectsEnd&&o.props.startDate?o.props.startDate:o.props.selectsStart&&o.props.endDate?o.props.endDate:Ui()},o.modifyHolidays=function(){var h;return(h=o.props.holidays)===null||h===void 0?void 0:h.reduce(function(g,_){var y=new Date(_.date);return yw(y)?bd(bd([],g,!0),[Ti(Ti({},_),{date:y})],!1):g},[])},o.calcInitialState=function(){var h,g=o.getPreSelection(),_=qL(o.props),y=WL(o.props),v=_&&Fm(g,mv(_))?_:y&&wh(g,uO(y))?y:g;return{open:o.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(h=o.props.selectsRange?o.props.startDate:o.props.selected)!==null&&h!==void 0?h:v,highlightDates:_O(o.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},o.resetHiddenStatus=function(){o.setState(Ti(Ti({},o.state),{wasHidden:!1}))},o.setHiddenStatus=function(){o.setState(Ti(Ti({},o.state),{wasHidden:!0}))},o.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&o.setHiddenStatus()},o.clearPreventFocusTimeout=function(){o.preventFocusTimeout&&clearTimeout(o.preventFocusTimeout)},o.setFocus=function(){var h,g;(g=(h=o.input)===null||h===void 0?void 0:h.focus)===null||g===void 0||g.call(h,{preventScroll:!0})},o.setBlur=function(){var h,g;(g=(h=o.input)===null||h===void 0?void 0:h.blur)===null||g===void 0||g.call(h),o.cancelFocusInput()},o.deferBlur=function(){requestAnimationFrame(function(){o.setBlur()})},o.setOpen=function(h,g){g===void 0&&(g=!1),o.setState({open:h,preSelection:h&&o.state.open?o.state.preSelection:o.calcInitialState().preSelection,lastPreSelectChange:$C},function(){h||o.setState(function(_){return{focused:g?_.focused:!1}},function(){!g&&o.deferBlur(),o.setState({inputValue:null})})})},o.inputOk=function(){return pu(o.state.preSelection)},o.isCalendarOpen=function(){return o.props.open===void 0?o.state.open&&!o.props.disabled&&!o.props.readOnly:o.props.open},o.handleFocus=function(h){var g,_,y=o.state.wasHidden,v=y?o.state.open:!0;y&&o.resetHiddenStatus(),o.state.preventFocus||((_=(g=o.props).onFocus)===null||_===void 0||_.call(g,h),v&&!o.props.preventOpenOnFocus&&!o.props.readOnly&&o.setOpen(!0)),o.setState({focused:!0})},o.sendFocusBackToInput=function(){o.preventFocusTimeout&&o.clearPreventFocusTimeout(),o.setState({preventFocus:!0},function(){o.preventFocusTimeout=setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})})},o.cancelFocusInput=function(){clearTimeout(o.inputFocusTimeout),o.inputFocusTimeout=void 0},o.deferFocusInput=function(){o.cancelFocusInput(),o.inputFocusTimeout=setTimeout(function(){return o.setFocus()},1)},o.handleDropdownFocus=function(){o.cancelFocusInput()},o.handleBlur=function(h){var g,_;(!o.state.open||o.props.withPortal||o.props.showTimeInput)&&((_=(g=o.props).onBlur)===null||_===void 0||_.call(g,h)),o.state.open&&o.props.open===!1&&o.setOpen(!1),o.setState({focused:!1})},o.handleCalendarClickOutside=function(h){var g,_;o.props.inline||o.setOpen(!1),(_=(g=o.props).onClickOutside)===null||_===void 0||_.call(g,h),o.props.withPortal&&h.preventDefault()},o.handleChange=function(){for(var h,g,_,y,v,N=[],S=0;S<arguments.length;S++)N[S]=arguments[S];var D=N[0];if(!(o.props.onChangeRaw&&(o.props.onChangeRaw.apply(o,N),!D||typeof D.isDefaultPrevented!="function"||D.isDefaultPrevented()))){o.setState({inputValue:(D==null?void 0:D.target)instanceof HTMLInputElement?D.target.value:null,lastPreSelectChange:ZZ});var j=o.props,B=j.selectsRange,F=j.startDate,V=j.endDate,$=(h=o.props.dateFormat)!==null&&h!==void 0?h:c.defaultProps.dateFormat,K=(g=o.props.strictParsing)!==null&&g!==void 0?g:c.defaultProps.strictParsing,Q=(D==null?void 0:D.target)instanceof HTMLInputElement?D.target.value:"";if(B){var ee=Q.split($.includes("-")?VL:"-",2).map(function(ke){return ke.trim()}),ne=ee[0],le=ee[1],se=FC(ne??"",$,o.props.locale,K),q=FC(le??"",$,o.props.locale,K),de=(F==null?void 0:F.getTime())!==(se==null?void 0:se.getTime()),re=(V==null?void 0:V.getTime())!==(q==null?void 0:q.getTime());if(!de&&!re||se&&Fl(se,o.props)||q&&Fl(q,o.props))return;(y=(_=o.props).onChange)===null||y===void 0||y.call(_,[se,q],D)}else{var be=FC(Q,$,o.props.locale,K,(v=o.props.selected)!==null&&v!==void 0?v:void 0);(be||!Q)&&o.setSelected(be,D,!0)}}},o.handleSelect=function(h,g,_){if(!o.props.readOnly){if(o.props.shouldCloseOnSelect&&!o.props.showTimeSelect&&o.sendFocusBackToInput(),o.props.onChangeRaw&&o.props.onChangeRaw(g),o.setSelected(h,g,!1,_),o.props.showDateSelect&&o.setState({isRenderAriaLiveMessage:!0}),!o.props.shouldCloseOnSelect||o.props.showTimeSelect)o.setPreSelection(h);else if(!o.props.inline){o.props.selectsRange||o.setOpen(!1);var y=o.props,v=y.startDate,N=y.endDate;v&&!N&&(o.props.swapRange||!xO(h,v))&&o.setOpen(!1)}}},o.setSelected=function(h,g,_,y){var v,N,S=h;if(o.props.showYearPicker){if(S!==null&&fv(oi(S),o.props))return}else if(o.props.showMonthYearPicker){if(S!==null&&$L(S,o.props))return}else if(S!==null&&Fl(S,o.props))return;var D=o.props,j=D.onChange,B=D.selectsRange,F=D.startDate,V=D.endDate,$=D.selectsMultiple,K=D.selectedDates,Q=D.minTime,ee=D.swapRange;if(!Tm(o.props.selected,S)||o.props.allowSameDay||B||$)if(S!==null&&(o.props.selected&&(!_||!o.props.showTimeSelect&&!o.props.showTimeSelectOnly&&!o.props.showTimeInput)&&(S=HC(S,{hour:gu(o.props.selected),minute:bu(o.props.selected),second:_h(o.props.selected)})),!_&&(o.props.showTimeSelect||o.props.showTimeSelectOnly)&&Q&&(S=HC(S,{hour:Q.getHours(),minute:Q.getMinutes(),second:Q.getSeconds()})),o.props.inline||o.setState({preSelection:S}),o.props.focusSelectedMonth||o.setState({monthSelectedIn:y})),B){var ne=!F&&!V,le=F&&!V,se=F&&V;ne?j==null||j([S,null],g):le&&(S===null?j==null||j([null,null],g):xO(S,F)?ee?j==null||j([S,F],g):j==null||j([S,null],g):j==null||j([F,S],g)),se&&(j==null||j([S,null],g))}else if($){if(S!==null)if(!(K!=null&&K.length))j==null||j([S],g);else{var q=K.some(function(re){return Di(re,S)});if(q){var de=K.filter(function(re){return!Di(re,S)});j==null||j(de,g)}else j==null||j(bd(bd([],K,!0),[S],!1),g)}}else j==null||j(S,g);_||((N=(v=o.props).onSelect)===null||N===void 0||N.call(v,S,g),o.setState({inputValue:null}))},o.setPreSelection=function(h){if(!o.props.readOnly){var g=pu(o.props.minDate),_=pu(o.props.maxDate),y=!0;if(h){var v=mv(h);if(g&&_)y=db(h,o.props.minDate,o.props.maxDate);else if(g){var N=mv(o.props.minDate);y=wh(h,N)||Tm(v,N)}else if(_){var S=uO(o.props.maxDate);y=Fm(h,S)||Tm(v,S)}}y&&o.setState({preSelection:h})}},o.toggleCalendar=function(){o.setOpen(!o.state.open)},o.handleTimeChange=function(h){var g,_;if(!(o.props.selectsRange||o.props.selectsMultiple)){var y=o.props.selected?o.props.selected:o.getPreSelection(),v=o.props.selected?h:HC(y,{hour:gu(h),minute:bu(h)});o.setState({preSelection:v}),(_=(g=o.props).onChange)===null||_===void 0||_.call(g,v),o.props.shouldCloseOnSelect&&!o.props.showTimeInput&&(o.sendFocusBackToInput(),o.setOpen(!1)),o.props.showTimeInput&&o.setOpen(!0),(o.props.showTimeSelectOnly||o.props.showTimeSelect)&&o.setState({isRenderAriaLiveMessage:!0}),o.setState({inputValue:null})}},o.onInputClick=function(){var h,g;!o.props.disabled&&!o.props.readOnly&&o.setOpen(!0),(g=(h=o.props).onInputClick)===null||g===void 0||g.call(h)},o.onInputKeyDown=function(h){var g,_,y,v,N,S;(_=(g=o.props).onKeyDown)===null||_===void 0||_.call(g,h);var D=h.key;if(!o.state.open&&!o.props.inline&&!o.props.preventOpenOnFocus){(D===Qt.ArrowDown||D===Qt.ArrowUp||D===Qt.Enter)&&((y=o.onInputClick)===null||y===void 0||y.call(o));return}if(o.state.open){if(D===Qt.ArrowDown||D===Qt.ArrowUp){h.preventDefault();var j=o.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":o.props.showWeekPicker&&o.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':o.props.showFullMonthYearPicker||o.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',B=((v=o.calendar)===null||v===void 0?void 0:v.containerRef.current)instanceof Element&&o.calendar.containerRef.current.querySelector(j);B instanceof HTMLElement&&B.focus({preventScroll:!0});return}var F=Ui(o.state.preSelection);D===Qt.Enter?(h.preventDefault(),h.target.blur(),o.inputOk()&&o.state.lastPreSelectChange===$C?(o.handleSelect(F,h),!o.props.shouldCloseOnSelect&&o.setPreSelection(F)):o.setOpen(!1)):D===Qt.Escape?(h.preventDefault(),h.target.blur(),o.sendFocusBackToInput(),o.setOpen(!1)):D===Qt.Tab&&o.setOpen(!1),o.inputOk()||(S=(N=o.props).onInputError)===null||S===void 0||S.call(N,{code:1,msg:UC})}},o.onPortalKeyDown=function(h){var g=h.key;g===Qt.Escape&&(h.preventDefault(),o.setState({preventFocus:!0},function(){o.setOpen(!1),setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})}))},o.onDayKeyDown=function(h){var g,_,y,v,N,S,D=o.props,j=D.minDate,B=D.maxDate,F=D.disabledKeyboardNavigation,V=D.showWeekPicker,$=D.shouldCloseOnSelect,K=D.locale,Q=D.calendarStartDay,ee=D.adjustDateOnChange,ne=D.inline;if((_=(g=o.props).onKeyDown)===null||_===void 0||_.call(g,h),!F){var le=h.key,se=h.shiftKey,q=Ui(o.state.preSelection),de=function(je,oe){var ve=oe;switch(je){case Qt.ArrowRight:ve=V?Nv(oe,1):wc(oe,1);break;case Qt.ArrowLeft:ve=V?XI(oe):wK(oe);break;case Qt.ArrowUp:ve=XI(oe);break;case Qt.ArrowDown:ve=Nv(oe,1);break;case Qt.PageUp:ve=se?hp(oe,1):Bm(oe,1);break;case Qt.PageDown:ve=se?fu(oe,1):yc(oe,1);break;case Qt.Home:ve=vh(oe,K,Q);break;case Qt.End:ve=cZ(oe);break}return ve},re=function(je,oe){for(var ve=40,he=je,Ee=!1,Z=0,fe=de(je,oe);!Ee;){if(Z>=ve){fe=oe;break}j&&fe<j&&(he=Qt.ArrowRight,fe=Fl(j,o.props)?de(he,fe):j),B&&fe>B&&(he=Qt.ArrowLeft,fe=Fl(B,o.props)?de(he,fe):B),Fl(fe,o.props)?((he===Qt.PageUp||he===Qt.Home)&&(he=Qt.ArrowRight),(he===Qt.PageDown||he===Qt.End)&&(he=Qt.ArrowLeft),fe=de(he,fe)):Ee=!0,Z++}return fe};if(le===Qt.Enter){h.preventDefault(),o.handleSelect(q,h),!$&&o.setPreSelection(q);return}else if(le===Qt.Escape){h.preventDefault(),o.setOpen(!1),o.inputOk()||(v=(y=o.props).onInputError)===null||v===void 0||v.call(y,{code:1,msg:UC});return}var be=null;switch(le){case Qt.ArrowLeft:case Qt.ArrowRight:case Qt.ArrowUp:case Qt.ArrowDown:case Qt.PageUp:case Qt.PageDown:case Qt.Home:case Qt.End:be=re(le,q);break}if(!be){(S=(N=o.props).onInputError)===null||S===void 0||S.call(N,{code:1,msg:UC});return}if(h.preventDefault(),o.setState({lastPreSelectChange:$C}),ee&&o.setSelected(be),o.setPreSelection(be),ne){var ke=Zo(q),we=Zo(be),De=oi(q),_e=oi(be);ke!==we||De!==_e?o.setState({shouldFocusDayInline:!0}):o.setState({shouldFocusDayInline:!1})}}},o.onPopperKeyDown=function(h){var g=h.key;g===Qt.Escape&&(h.preventDefault(),o.sendFocusBackToInput(),o.setOpen(!1))},o.onClearClick=function(h){h&&h.preventDefault&&h.preventDefault(),o.sendFocusBackToInput();var g=o.props,_=g.selectsRange,y=g.onChange;_?y==null||y([null,null],h):y==null||y(null,h),o.setState({inputValue:null})},o.clear=function(){o.onClearClick()},o.onScroll=function(h){typeof o.props.closeOnScroll=="boolean"&&o.props.closeOnScroll?(h.target===document||h.target===document.documentElement||h.target===document.body)&&o.setOpen(!1):typeof o.props.closeOnScroll=="function"&&o.props.closeOnScroll(h)&&o.setOpen(!1)},o.renderCalendar=function(){var h,g;return!o.props.inline&&!o.isCalendarOpen()?null:nt.createElement(UZ,Ti({showMonthYearDropdown:void 0,ref:function(_){o.calendar=_}},o.props,o.state,{setOpen:o.setOpen,dateFormat:(h=o.props.dateFormatCalendar)!==null&&h!==void 0?h:c.defaultProps.dateFormatCalendar,onSelect:o.handleSelect,onClickOutside:o.handleCalendarClickOutside,holidays:wZ(o.modifyHolidays()),outsideClickIgnoreClass:NO,onDropdownFocus:o.handleDropdownFocus,onTimeChange:o.handleTimeChange,className:o.props.calendarClassName,container:o.props.calendarContainer,handleOnKeyDown:o.props.onKeyDown,handleOnDayKeyDown:o.onDayKeyDown,setPreSelection:o.setPreSelection,dropdownMode:(g=o.props.dropdownMode)!==null&&g!==void 0?g:c.defaultProps.dropdownMode}),o.props.children)},o.renderAriaLiveRegion=function(){var h=o.props,g=h.dateFormat,_=g===void 0?c.defaultProps.dateFormat:g,y=h.locale,v=o.props.showTimeInput||o.props.showTimeSelect,N=v?"PPPPp":"PPPP",S;return o.props.selectsRange?S="Selected start date: ".concat(Pl(o.props.startDate,{dateFormat:N,locale:y}),". ").concat(o.props.endDate?"End date: "+Pl(o.props.endDate,{dateFormat:N,locale:y}):""):o.props.showTimeSelectOnly?S="Selected time: ".concat(Pl(o.props.selected,{dateFormat:_,locale:y})):o.props.showYearPicker?S="Selected year: ".concat(Pl(o.props.selected,{dateFormat:"yyyy",locale:y})):o.props.showMonthYearPicker?S="Selected month: ".concat(Pl(o.props.selected,{dateFormat:"MMMM yyyy",locale:y})):o.props.showQuarterYearPicker?S="Selected quarter: ".concat(Pl(o.props.selected,{dateFormat:"yyyy, QQQ",locale:y})):S="Selected date: ".concat(Pl(o.props.selected,{dateFormat:N,locale:y})),nt.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},S)},o.renderDateInput=function(){var h,g,_,y=Do(o.props.className,(h={},h[NO]=o.state.open,h)),v=o.props.customInput||nt.createElement("input",{type:"text"}),N=o.props.customInputRef||"ref",S=o.props,D=S.dateFormat,j=D===void 0?c.defaultProps.dateFormat:D,B=S.locale,F=typeof o.props.value=="string"?o.props.value:typeof o.state.inputValue=="string"?o.state.inputValue:o.props.selectsRange?sZ(o.props.startDate,o.props.endDate,{dateFormat:j,locale:B}):o.props.selectsMultiple?oZ((_=o.props.selectedDates)!==null&&_!==void 0?_:[],{dateFormat:j,locale:B}):Pl(o.props.selected,{dateFormat:j,locale:B});return I.cloneElement(v,(g={},g[N]=function(V){o.input=V},g.value=F,g.onBlur=o.handleBlur,g.onChange=o.handleChange,g.onClick=o.onInputClick,g.onFocus=o.handleFocus,g.onKeyDown=o.onInputKeyDown,g.id=o.props.id,g.name=o.props.name,g.form=o.props.form,g.autoFocus=o.props.autoFocus,g.placeholder=o.props.placeholderText,g.disabled=o.props.disabled,g.autoComplete=o.props.autoComplete,g.className=Do(v.props.className,y),g.title=o.props.title,g.readOnly=o.props.readOnly,g.required=o.props.required,g.tabIndex=o.props.tabIndex,g["aria-describedby"]=o.props.ariaDescribedBy,g["aria-invalid"]=o.props.ariaInvalid,g["aria-labelledby"]=o.props.ariaLabelledBy,g["aria-required"]=o.props.ariaRequired,g))},o.renderClearButton=function(){var h=o.props,g=h.isClearable,_=h.disabled,y=h.selected,v=h.startDate,N=h.endDate,S=h.clearButtonTitle,D=h.clearButtonClassName,j=D===void 0?"":D,B=h.ariaLabelClose,F=B===void 0?"Close":B,V=h.selectedDates,$=h.readOnly;return g&&!$&&(y!=null||v!=null||N!=null||V!=null&&V.length)?nt.createElement("button",{type:"button",className:Do("react-datepicker__close-icon",j,{"react-datepicker__close-icon--disabled":_}),disabled:_,"aria-label":F,onClick:o.onClearClick,title:S,tabIndex:-1}):null},o.state=o.calcInitialState(),o.preventFocusTimeout=void 0,o}return Object.defineProperty(c,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Bb,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),c.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},c.prototype.componentDidUpdate=function(s,o){var h,g,_,y;s.inline&&QZ(s.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&s.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),s.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:_O(this.props.highlightDates)}),!o.focused&&!Tm(s.selected,this.props.selected)&&this.setState({inputValue:null}),o.open!==this.state.open&&(o.open===!1&&this.state.open===!0&&((g=(h=this.props).onCalendarOpen)===null||g===void 0||g.call(h)),o.open===!0&&this.state.open===!1&&((y=(_=this.props).onCalendarClose)===null||y===void 0||y.call(_)))},c.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},c.prototype.renderInputContainer=function(){var s=this.props,o=s.showIcon,h=s.icon,g=s.calendarIconClassname,_=s.calendarIconClassName,y=s.toggleCalendarOnIconClick,v=this.state.open;return g&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),nt.createElement("div",{className:"react-datepicker__input-container".concat(o?" react-datepicker__view-calendar-icon":"")},o&&nt.createElement($Z,Ti({icon:h,className:Do(_,!_&&g,v&&"react-datepicker-ignore-onclickoutside")},y?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},c.prototype.render=function(){var s=this.renderCalendar();if(this.props.inline)return s;if(this.props.withPortal){var o=this.state.open?nt.createElement(KL,{enableTabLoop:this.props.enableTabLoop},nt.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},s)):null;return this.state.open&&this.props.portalId&&(o=nt.createElement(GL,Ti({portalId:this.props.portalId},this.props),o)),nt.createElement("div",null,this.renderInputContainer(),o)}return nt.createElement(KZ,Ti({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:s,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},c}(I.Component),ZZ="input",$C="navigate";const tb="/tours",J_="/tour-likes",qC="/tour-ratings",wb={getAll:(l={role:"ADMIN"})=>Ft.get(tb,{params:l}),getById:l=>Ft.get(`${tb}/${l}`),getUserTours:l=>Ft.get(`${tb}/user/${l}`),cloneTour:(l,c)=>Ft.post(`${tb}/${l}/clone`,{user_id:c}),like:l=>Ft.post(`${J_}/like`,{tour_id:l}),unlike:l=>Ft.post(`${J_}/unlike`,{tour_id:l}),isLiked:l=>Ft.get(`${J_}/is-liked`,{params:{tour_id:l}}),countLikes:l=>Ft.get(`${J_}/count`,{params:{tour_id:l}}),rate:(l,c)=>Ft.post(`${qC}/rate`,{tour_id:l,rating:c}),getAverageRating:l=>Ft.get(`${qC}/average`,{params:{tour_id:l}}),getUserRating:l=>Ft.get(`${qC}/user`,{params:{tour_id:l}}),bookTour:(l,c,s,o,h)=>Ft.post(`${tb}/${l}/book`,{user_id:c,start_date:s,end_date:o,spots:h}),getUserBookedTours:l=>Ft.get(`/bookings/user/${l}`)},ym="https://walkingguide.onrender.com";function nb(l,c){const s=[];for(let o=0;o<l.length;o+=c)s.push(l.slice(o,o+c));return s}function XZ(){const{t:l}=xh(),[c,s]=I.useState([]),[o,h]=I.useState([]),[g,_]=I.useState([]),[y,v]=I.useState([]),[N,S]=I.useState([]),[D,j]=I.useState(!0),[B,F]=I.useState(null),[V,$]=I.useState(!1),[K,Q]=I.useState(!1),[ee,ne]=I.useState(""),[le,se]=I.useState([]),[q,de]=I.useState(null),[re,be]=I.useState(-1),[ke,we]=I.useState(!1),[De,_e]=I.useState(null),[je,oe]=I.useState(!1),[ve,he]=I.useState(!1),[Ee,Z]=I.useState(!1),[fe,Ce]=I.useState(!1),Se=I.useRef(),[He,et]=I.useState(!1),[pe,me]=I.useState(!1),[Ie,We]=I.useState(!1),[Le,st]=I.useState(null),[Ge,Oe]=I.useState(null),[ut,Fe]=I.useState(null),[ht,Pt]=I.useState(""),[en,at]=I.useState(!1),[jt,Dt]=I.useState(null),[Qe,Tt]=I.useState(""),[Ot,$e]=I.useState(""),[bt,$t]=I.useState(null),[fn,Rn]=I.useState(""),{user:vn}=I.useContext(ds),ai=qe=>qe?qe.startsWith("http")?qe:`${ym}${qe}`:null,ci=async()=>{var qe,Zt;if(Pt(""),!Ge||!ut){Pt("Vui lòng chọn cả ngày bắt đầu và kết thúc.");return}if(ut<Ge){Pt("Ngày kết thúc phải sau ngày bắt đầu.");return}if(!vn||!vn.id){Pt("Bạn cần đăng nhập để đặt tour.");return}try{await wb.bookTour(Le.id,vn.id,Ge,ut),We(!1),alert("Đặt tour thành công!")}catch(rt){Pt(((Zt=(qe=rt==null?void 0:rt.response)==null?void 0:qe.data)==null?void 0:Zt.error)||"Lỗi khi đặt tour. Vui lòng thử lại.")}};I.useEffect(()=>{(async()=>{try{j(!0);const[Zt,rt,Re,Lt,ft]=await Promise.all([Ft.get("/places"),Ft.get("/tours?adminOnly=true"),Ft.get("/articles"),Ft.get("/hotels"),Ft.get("/restaurants")]);s(Zt.data),h(rt.data),_(Re.data),v(Lt.data.data),S(ft.data.data)}catch{F("Không thể tải dữ liệu. Vui lòng thử lại.")}finally{j(!1)}})()},[]);const Ar=Array.isArray(c)?[...c].sort((qe,Zt)=>new Date(Zt.updated_at||0)-new Date(qe.updated_at||0)):[],nr=Array.isArray(o)?[...o].sort((qe,Zt)=>new Date(Zt.updated_at||0)-new Date(qe.updated_at||0)):[],Li=Array.isArray(g)?[...g].sort((qe,Zt)=>new Date(Zt.updated_at||0)-new Date(qe.updated_at||0)):[],ni=Array.isArray(y)?[...y].sort((qe,Zt)=>(Zt.rating||0)-(qe.rating||0)):[],Xn=Array.isArray(N)?[...N].sort((qe,Zt)=>(Zt.rating||0)-(qe.rating||0)):[];Array.from(new Set(c.map(qe=>qe.city).filter(Boolean)));const $s=qe=>{const Zt=qe.target.value;ne(Zt),se(Zt?c.filter(rt=>rt.name.toLowerCase().includes(Zt.toLowerCase())):[]),be(-1)},di=qe=>{de(qe),ne(qe.name),se([]),be(-1)},ir=qe=>{le.length!==0&&(qe.key==="ArrowDown"?be(Zt=>(Zt+1)%le.length):qe.key==="ArrowUp"?be(Zt=>(Zt-1+le.length)%le.length):qe.key==="Enter"&&re>=0&&di(le[re]))},kr=()=>{ne(""),se([]),de(null),be(-1)},rr=qe=>{qe.preventDefault(),_e(null),we(!0)},Nr=qe=>!qe.images||qe.images.length===0?null:(qe.images.find(rt=>rt.is_primary)||qe.images[0]).image_url;return i.jsxs(i.Fragment,{children:[i.jsx(Br,{}),i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsxs("div",{className:"bg-planner-map",id:"planner-section",children:[i.jsxs("section",{className:"hero-with-bg",children:[i.jsx("h1",{children:l("Discover & Plan Your Smart Trip")}),i.jsx("p",{children:l("Find places, create your own itinerary, or let us suggest the perfect trip for you!")}),i.jsx("a",{href:"#planner-section",className:"btn btn-main",children:l("Start Planning")})]}),i.jsxs("div",{className:"row mb-5 g-4 luxury-planner-row justify-content-center",children:[i.jsx("div",{className:"col-12 col-md-6 d-flex justify-content-center mb-4",children:i.jsxs("div",{className:"luxury-card luxury-planner-card manual-homepage p-4 d-flex flex-column align-items-center justify-content-center text-center hover-shadow",style:{maxWidth:"550px",cursor:"pointer"},onClick:()=>et(!0),children:[i.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2 justify-content-center",children:[i.jsx("h2",{className:"h5 fw-bold mb-0",children:l("Manual Planning")}),i.jsx("i",{className:"bi bi-car-front",style:{fontSize:20,marginLeft:6,color:"#3498db"},"aria-label":"manual icon"})]}),i.jsx("p",{className:"text-muted mb-0",children:l("Want to plan your own trip? Use manual mode to create your custom tour.")})]})}),i.jsx("div",{className:"col-12 col-md-6 d-flex justify-content-center mb-4",children:i.jsxs("div",{className:"luxury-card luxury-planner-card p-4 d-flex flex-column align-items-center justify-content-center text-center hover-shadow",style:{maxWidth:"550px",cursor:"pointer"},onClick:()=>me(!0),children:[i.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2 justify-content-center",children:[i.jsx("h2",{className:"h5 fw-bold mb-0",children:l("Auto Planning")}),i.jsx("i",{className:"bi bi-robot",style:{fontSize:20,marginLeft:6,color:"#3498db"},"aria-label":"autopilot icon"})]}),i.jsx("p",{className:"text-muted mb-0",children:l("Want us to create a suitable itinerary? Try auto mode for our suggestions!")})]})})]}),i.jsxs(yt,{show:He,onHide:()=>et(!1),size:"lg",centered:!0,dialogClassName:"luxury-modal",children:[i.jsxs(yt.Header,{closeButton:!0,className:"luxury-modal-header",children:[i.jsx("span",{className:"modal-icon me-2",children:i.jsx("i",{className:"bi bi-pencil-square"})}),i.jsx(yt.Title,{className:"luxury-modal-title",children:l("Manual Planning")})]}),i.jsx(yt.Body,{className:"luxury-modal-body",children:i.jsx(cL,{noLayout:!0})})]}),i.jsxs(yt,{show:pe,onHide:()=>me(!1),size:"lg",centered:!0,dialogClassName:"luxury-modal",children:[i.jsxs(yt.Header,{closeButton:!0,className:"luxury-modal-header",children:[i.jsx("span",{className:"modal-icon me-2",children:i.jsx("i",{className:"bi bi-robot"})}),i.jsx(yt.Title,{className:"luxury-modal-title",children:l("Auto Planning")})]}),i.jsx(yt.Body,{className:"luxury-modal-body",children:i.jsx(dL,{noLayout:!0})})]}),i.jsxs("section",{className:"mb-6",children:[i.jsxs("h2",{className:"h4 mb-3 fw-bold text-center text-light",children:[l("No plans yet? Explore the travel map!")," ",i.jsx("a",{href:"#",onClick:rr,className:"arrow-link ms-2",style:{textDecoration:"none"},children:i.jsx("i",{className:"bi bi-arrow-right",style:{fontSize:24,verticalAlign:"middle",color:"#fff"}})})]}),i.jsxs("div",{className:"mb-3 position-relative",style:{maxWidth:400,margin:"0 auto"},children:[i.jsxs("div",{className:"input-group shadow rounded-pill",children:[i.jsx("span",{className:"input-group-text bg-white border-0 rounded-start-pill",style:{paddingRight:0},children:i.jsx("i",{className:"bi bi-search text-primary",style:{fontSize:20}})}),i.jsx("input",{type:"text",className:"form-control border-0 rounded-end-pill",placeholder:l("Search for a place..."),value:ee,onChange:$s,onKeyDown:ir,style:{boxShadow:"none",background:"white"}}),ee&&i.jsx("button",{className:"btn btn-link px-2",style:{color:"#fff"},onClick:kr,tabIndex:-1,children:i.jsx("i",{className:"bi bi-x-circle",style:{fontSize:20}})})]}),le.length>0&&i.jsx("ul",{className:"list-group position-absolute shadow-lg rounded-4 mt-1",style:{zIndex:10,width:"100%",overflow:"hidden"},children:le.map((qe,Zt)=>i.jsxs("li",{className:`list-group-item list-group-item-action d-flex align-items-center gap-2 py-2 px-3 border-0 ${Zt===re?"bg-primary text-white":""}`,onClick:()=>di(qe),onMouseEnter:()=>be(Zt),style:{cursor:"pointer",fontWeight:500,fontSize:"1rem",borderBottom:Zt!==le.length-1?"1px solid #f1f3f4":"none",background:Zt===re?"#3498db":"white"},children:[i.jsx("i",{className:"bi bi-geo-alt-fill text-primary",style:{fontSize:18,color:Zt===re?"white":"#3498db"}}),i.jsx("span",{children:qe.name})]},qe.id))})]}),i.jsx("div",{id:"map-section",className:"card shadow-lg border-0 rounded-4",children:i.jsx("div",{className:"card-body",style:{height:"24rem"},children:i.jsx(F$,{children:i.jsx(hq,{ref:Se,locations:q?[{id:q.id,name:q.name,lat:q.latitude,lng:q.longitude,image_url:q.image_url}]:c.map(qe=>({id:qe.id,name:qe.name,lat:qe.latitude,lng:qe.longitude,image_url:qe.image_url})),hotels:y,restaurants:N,className:"w-100 h-100",selectedPlace:q})})})})]})]}),i.jsx("main",{className:"container flex-grow-1 main-content-mobile",style:{paddingTop:80},children:D?i.jsx("p",{className:"text-muted text-center",children:l("Loading data...")}):B?i.jsx("p",{className:"text-danger text-center",children:B}):i.jsxs(i.Fragment,{children:[i.jsxs("section",{className:"cards-section mb-6",children:[i.jsx("h2",{className:"h4 mb-4 fw-bold luxury-section-title",children:l("Featured Destinations")}),Ar.length===0?i.jsx("p",{className:"text-muted text-center",children:l("No destinations to display.")}):je?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:Ar.map(qe=>i.jsx("div",{className:"col",children:i.jsx("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:i.jsxs(tn,{to:`/places/${qe.id||qe._id}`,className:"text-decoration-none",children:[i.jsx("img",{src:qe.image_url?qe.image_url.startsWith("http")?qe.image_url:`${ym}${qe.image_url}`:void 0,alt:qe.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"},onError:Zt=>{Zt.target.src=void 0}}),!qe.image_url&&i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-geo-alt-fill"})}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:qe.name}),qe.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),qe.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:qe.description?`${qe.description.replace(/<[^>]+>/g,"").substring(0,100)}...`:l("No description available")}),qe.service&&i.jsxs("p",{className:"card-text text-muted mb-2 small",children:[i.jsx("i",{className:"bi bi-activity me-1"}),qe.service.length>80?`${qe.service.substring(0,80)}...`:qe.service]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"luxury-star",style:{color:"#f1c40f",fontSize:18},children:"★"}),i.jsx("span",{style:{fontWeight:600,marginLeft:4},children:qe.rating?qe.rating.toFixed(1):"0.0"}),i.jsx("span",{style:{color:"#888",marginLeft:2},children:"/ 5"})]})]})]})})},qe.id||qe._id||qe.name))}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>oe(!1),children:l("Show Less")})})]}):i.jsx(i.Fragment,{children:i.jsxs("div",{id:"placesCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[i.jsx("div",{className:"carousel-inner",children:nb(Ar,3).map((qe,Zt)=>i.jsx("div",{className:`carousel-item${Zt===0?" active":""}`,children:i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 justify-content-center",children:qe.map(rt=>i.jsx("div",{className:"col",children:i.jsx("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:i.jsxs(tn,{to:`/places/${rt.id||rt._id}`,className:"text-decoration-none",children:[i.jsx("img",{src:rt.image_url?rt.image_url.startsWith("http")?rt.image_url:`${ym}${rt.image_url}`:void 0,alt:rt.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"},onError:Re=>{Re.target.src=void 0}}),!rt.image_url&&i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-geo-alt-fill"})}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:rt.name}),rt.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),rt.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:rt.description?`${rt.description.replace(/<[^>]+>/g,"").substring(0,100)}...`:l("No description available")}),rt.service&&i.jsxs("p",{className:"card-text text-muted mb-2 small",children:[i.jsx("i",{className:"bi bi-activity me-1"}),rt.service.length>80?`${rt.service.substring(0,80)}...`:rt.service]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"luxury-star",style:{color:"#f1c40f",fontSize:18},children:"★"}),i.jsx("span",{style:{fontWeight:600,marginLeft:4},children:rt.rating?rt.rating.toFixed(1):"0.0"}),i.jsx("span",{style:{color:"#888",marginLeft:2},children:"/ 5"})]})]})]})})},rt.id||rt._id||rt.name))})},qe.map(rt=>rt.id||rt._id||rt.name).join("-")))}),i.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#placesCarousel","data-bs-slide":"prev",style:{width:"5rem",height:"5rem",top:"50%",left:"-4rem",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Previous"})]}),i.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#placesCarousel","data-bs-slide":"next",style:{width:"5rem",height:"5rem",top:"50%",right:"-4rem",left:"auto",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Next"})]}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>oe(!0),children:l("Explore More")})})]})})]}),i.jsx("hr",{className:"my-5 luxury-divider"}),i.jsxs("section",{className:"cards-section mb-6",children:[i.jsx("h2",{className:"h4 mb-4 fw-bold luxury-section-title",children:l("Trips & Itineraries")}),nr.length===0?i.jsx("p",{className:"text-muted",children:l("No tours to display.")}):ve?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:nr.map(qe=>i.jsx("div",{className:"col",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs(tn,{to:`/tours/${qe.id}`,className:"text-decoration-none",children:[qe.image_url?i.jsx("img",{src:qe.image_url.startsWith("http")?qe.image_url:`${ym}${qe.image_url}`,alt:qe.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"},onError:Zt=>{Zt.target.style.display="none"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-map"})}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:qe.name}),qe.description&&i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:`${qe.description.replace(/<[^>]+>/g,"").substring(0,100)}...`}),i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"luxury-star",style:{color:"#f1c40f",fontSize:18},children:"★"}),i.jsx("span",{style:{fontWeight:600,marginLeft:4},children:qe.rating?qe.rating.toFixed(1):"0.0"}),i.jsx("span",{style:{color:"#888",marginLeft:2},children:"/ 5"})]}),qe.total_cost&&i.jsxs("p",{className:"card-text text-muted small mb-0 luxury-rating",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",lo(qe.total_cost)]})]})]}),i.jsx("div",{className:"px-3 pb-3",children:i.jsx("button",{className:"btn btn-main w-100 mt-2",onClick:()=>{st(qe),We(!0)},children:l("Start Tour")})})]})},qe.id))}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>he(!1),children:l("Show Less")})})]}):i.jsx(i.Fragment,{children:i.jsxs("div",{id:"toursCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[i.jsx("div",{className:"carousel-inner",children:nb(nr,3).map((qe,Zt)=>i.jsx("div",{className:`carousel-item${Zt===0?" active":""}`,children:i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 justify-content-center",children:qe.map(rt=>i.jsx("div",{className:"col",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs(tn,{to:`/tours/${rt.id}`,className:"text-decoration-none",children:[rt.image_url?i.jsx("img",{src:rt.image_url.startsWith("http")?rt.image_url:`${ym}${rt.image_url}`,alt:rt.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"},onError:Re=>{Re.target.style.display="none"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-map"})}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:rt.name}),rt.description&&i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:`${rt.description.replace(/<[^>]+>/g,"").substring(0,100)}...`}),i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"luxury-star",style:{color:"#f1c40f",fontSize:18},children:"★"}),i.jsx("span",{style:{fontWeight:600,marginLeft:4},children:rt.rating?rt.rating.toFixed(1):"0.0"}),i.jsx("span",{style:{color:"#888",marginLeft:2},children:"/ 5"})]}),rt.total_cost&&i.jsxs("p",{className:"card-text text-muted small mb-0 luxury-rating",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",lo(rt.total_cost)]})]})]}),i.jsx("div",{className:"px-3 pb-3",children:i.jsx(tn,{to:`/tours/${rt.id}`,className:"btn btn-main w-100 mt-2",children:l("Start Tour")})})]})},rt.id))})},qe.map(rt=>rt.id).join("-")))}),i.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#toursCarousel","data-bs-slide":"prev",style:{width:"5rem",height:"5rem",top:"50%",left:"-4rem",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Previous"})]}),i.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#toursCarousel","data-bs-slide":"next",style:{width:"5rem",height:"5rem",top:"50%",right:"-4rem",left:"auto",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Next"})]}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>he(!0),children:l("Join Now")})})]})})]}),i.jsx("hr",{className:"my-5 luxury-divider"}),i.jsxs("section",{className:"cards-section mb-6",children:[i.jsxs("h2",{className:"h4 mb-4 fw-bold luxury-section-title",children:[i.jsx("i",{className:"bi bi-building me-2"}),l("Top Hotels")]}),ni.length===0?i.jsx("p",{className:"text-muted",children:l("No hotels to display.")}):Ee?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:ni.map(qe=>i.jsx("div",{className:"col",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs(tn,{to:`/hotels/${qe.id}`,className:"text-decoration-none",style:{display:"block",height:"100%"},children:[i.jsxs("div",{className:"position-relative",children:[qe.images&&qe.images.length>0?i.jsx("img",{src:ai(Nr(qe)),alt:qe.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"},onError:Zt=>{Zt.target.style.display="none"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-building"})}),i.jsx("div",{className:"position-absolute top-0 end-0 m-2",children:i.jsxs("span",{className:"badge bg-warning text-dark",children:[qe.stars," ",i.jsx("i",{className:"bi bi-star-fill"})]})})]}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:qe.name}),qe.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),qe.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:qe.description?`${qe.description.substring(0,100)}...`:l("No description available")}),i.jsx(Vl,{id:qe.id,type:"hotel"}),qe.price_range&&i.jsxs("p",{className:"card-text text-muted small mb-0",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",lo(qe.price_range),qe.min_price>0&&` (${lo(qe.min_price)})`]})]})]}),i.jsx("div",{className:"px-3 pb-3",children:i.jsxs(Ut,{className:"btn btn-main w-100 mt-2 ",onClick:()=>{Dt(qe),at(!0)},children:[i.jsx("i",{className:"bi bi-calendar-check me-2"}),"Đặt ngay"]})})]})},qe.id))}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>Z(!1),children:l("Show Less")})})]}):i.jsx(i.Fragment,{children:i.jsxs("div",{id:"hotelsCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[i.jsx("div",{className:"carousel-inner",children:nb(ni,3).map((qe,Zt)=>i.jsx("div",{className:`carousel-item${Zt===0?" active":""}`,children:i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 justify-content-center",children:qe.map(rt=>i.jsx("div",{className:"col",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs(tn,{to:`/hotels/${rt.id}`,className:"text-decoration-none",style:{display:"block",height:"100%"},children:[i.jsxs("div",{className:"position-relative",children:[rt.images&&rt.images.length>0?i.jsx("img",{src:ai(Nr(rt)),alt:rt.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"},onError:Re=>{Re.target.style.display="none"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-building"})}),i.jsx("div",{className:"position-absolute top-0 end-0 m-2",children:i.jsxs("span",{className:"badge bg-warning text-dark",children:[rt.stars," ",i.jsx("i",{className:"bi bi-star-fill"})]})})]}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:rt.name}),rt.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),rt.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:rt.description?`${rt.description.substring(0,100)}...`:l("No description available")}),i.jsx(Vl,{id:rt.id,type:"hotel"}),rt.price_range&&i.jsxs("p",{className:"card-text text-muted small mb-0",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",lo(rt.price_range),rt.min_price>0&&` (${lo(rt.min_price)})`]})]})]}),i.jsx("div",{className:"px-3 pb-3",children:i.jsxs(Ut,{className:"btn btn-main w-100 mt-2",onClick:()=>{Dt(rt),at(!0)},children:[i.jsx("i",{className:"bi bi-calendar-check me-2"}),l("Đặt ngay")]})})]})},rt.id))})},qe.map(rt=>rt.id).join("-")))}),i.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#hotelsCarousel","data-bs-slide":"prev",style:{width:"5rem",height:"5rem",top:"50%",left:"-4rem",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Previous"})]}),i.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#hotelsCarousel","data-bs-slide":"next",style:{width:"5rem",height:"5rem",top:"50%",right:"-4rem",left:"auto",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Next"})]}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>Z(!0),children:l("View All Hotels")})})]})})]}),i.jsx("hr",{className:"my-5 luxury-divider"}),i.jsxs("section",{className:"cards-section mb-6",children:[i.jsxs("h2",{className:"h4 mb-4 fw-bold luxury-section-title",children:[i.jsx("i",{className:"bi bi-cup-hot me-2"}),l("Top Restaurants")]}),Xn.length===0?i.jsx("p",{className:"text-muted",children:l("No restaurants to display.")}):fe?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:Xn.map(qe=>i.jsx("div",{className:"col",children:i.jsx(tn,{to:`/restaurants/${qe.id}`,className:"text-decoration-none",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs("div",{className:"position-relative",children:[qe.images&&qe.images.length>0?i.jsx("img",{src:ai(qe.images[0].image_url),alt:qe.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-cup-hot"})}),qe.cuisine_type&&i.jsx("div",{className:"position-absolute top-0 start-0 m-2",children:i.jsx("span",{className:"badge bg-primary",children:qe.cuisine_type})})]}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:qe.name}),qe.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),qe.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:qe.description?`${qe.description.substring(0,100)}...`:l("No description available")}),i.jsx(Vl,{id:qe.id,type:"restaurant"}),qe.price_range&&i.jsxs("p",{className:"card-text text-muted small mb-0",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",lo(qe.price_range),qe.min_price>0&&` (${lo(qe.min_price)})`]})]})]})})},qe.id))}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>Ce(!1),children:l("Show Less")})})]}):i.jsx(i.Fragment,{children:i.jsxs("div",{id:"restaurantsCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[i.jsx("div",{className:"carousel-inner",children:nb(Xn,3).map((qe,Zt)=>i.jsx("div",{className:`carousel-item${Zt===0?" active":""}`,children:i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 justify-content-center",children:qe.map(rt=>i.jsx("div",{className:"col",children:i.jsx(tn,{to:`/restaurants/${rt.id}`,className:"text-decoration-none",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs("div",{className:"position-relative",children:[rt.images&&rt.images.length>0?i.jsx("img",{src:ai(rt.images[0].image_url),alt:rt.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-cup-hot"})}),rt.cuisine_type&&i.jsx("div",{className:"position-absolute top-0 start-0 m-2",children:i.jsx("span",{className:"badge bg-primary",children:rt.cuisine_type})})]}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:rt.name}),rt.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),rt.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:rt.description?`${rt.description.substring(0,100)}...`:l("No description available")}),i.jsx(Vl,{id:rt.id,type:"restaurant"}),rt.price_range&&i.jsxs("p",{className:"card-text text-muted small mb-0",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",lo(rt.price_range),rt.min_price>0&&` (${lo(rt.min_price)})`]})]})]})})},rt.id))})},qe.map(rt=>rt.id).join("-")))}),i.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#restaurantsCarousel","data-bs-slide":"prev",style:{width:"5rem",height:"5rem",top:"50%",left:"-4rem",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Previous"})]}),i.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#restaurantsCarousel","data-bs-slide":"next",style:{width:"5rem",height:"5rem",top:"50%",right:"-4rem",left:"auto",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Next"})]}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>Ce(!0),children:l("View All Restaurants")})})]})})]}),i.jsxs("section",{className:"autoplanner-banner-section my-5 py-5 text-center rounded-4 shadow-lg",style:{background:"url('/banner2.jpg') center/cover no-repeat",position:"relative",boxShadow:"0 8px 32px 0 rgba(125, 127, 167, 0.13)"},children:[i.jsx("div",{style:{position:"absolute",inset:0,background:"rgba(23, 22, 22, 0.25)",borderRadius:"1.5rem",zIndex:1}}),i.jsxs("div",{className:"container py-4",style:{position:"relative",zIndex:2},children:[i.jsxs("h2",{className:"display-6 fw-bold mb-4",style:{color:"#fff"},children:[l("Plan Quickly with")," ",i.jsx("span",{style:{color:"#fff"},children:l("AutoPlanner")})]}),i.jsxs("div",{className:"route-banner position-relative mb-4",children:[i.jsxs("svg",{width:"100%",height:"100",viewBox:"0 0 1000 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute",top:30,left:0,zIndex:1},children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"routeGradient",x1:"0",y1:"0",x2:"1000",y2:"0",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#5b9df9"}),i.jsx("stop",{offset:"1",stopColor:"#b6e0fe"})]})}),i.jsx("path",{d:"M 50 50 Q 200 10, 350 50 T 650 50 T 950 50",stroke:"url(#routeGradient)",strokeWidth:"6",fill:"none",strokeLinecap:"round"})]}),(()=>{const qe=[...Ar].sort(()=>.5-Math.random()),Zt=qe.slice(0,Math.min(5,qe.length)),rt=[50,250,500,750,950];return Zt.map((Re,Lt)=>i.jsxs(tn,{to:`/places/${Re.id}`,className:"route-stop d-flex flex-column align-items-center position-absolute text-decoration-none route-stop-link",style:{zIndex:2,left:`${rt[Lt]/10}%`,top:Lt%2===0?0:60,minWidth:80,cursor:"pointer"},children:[i.jsx("div",{className:"route-img-wrapper mb-2 shadow-lg rounded-circle bg-white d-flex align-items-center justify-content-center",style:{width:64,height:64,overflow:"hidden",border:"3px solid #fff",transition:"box-shadow 0.2s, border-color 0.2s"},children:Re.image_url?i.jsx("img",{src:Re.image_url.startsWith("http")?Re.image_url:`${ym}${Re.image_url}`,alt:Re.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):i.jsx("i",{className:"bi bi-geo-alt-fill",style:{fontSize:36,color:"#fff"}})}),i.jsx("span",{className:"fw-semibold small",style:{color:"#fff",maxWidth:80,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:Re.name})]},Re.id))})()]}),i.jsx("p",{className:"lead mb-3",style:{color:"#fff",fontWeight:500},children:l("Your journey will be optimized with just one click!")}),i.jsx("a",{href:"#planner-section",className:"btn btn-main btn-lg mt-2 px-4 py-2",style:{fontSize:"1.2rem"},children:l("Get Started with AutoPlanner")})]})]}),i.jsxs("section",{className:"cards-section mb-6",children:[i.jsx("h2",{className:"h4 mb-4 fw-bold luxury-section-title",children:l("Read interesting shares from travelers")}),Li.length===0?i.jsx("p",{className:"text-muted",children:l("No articles to display.")}):i.jsxs("div",{id:"articlesCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[i.jsx("div",{className:"carousel-inner",children:nb(Li,3).map((qe,Zt)=>i.jsx("div",{className:`carousel-item${Zt===0?" active":""}`,children:i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 justify-content-center",children:qe.map(rt=>i.jsx("div",{className:"col",children:i.jsx("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:i.jsxs(tn,{to:`/articles/${rt.article_id}`,className:"text-decoration-none",children:[rt.image_url&&i.jsx("img",{src:rt.image_url.startsWith("http")?rt.image_url:`${ym}${rt.image_url}`,alt:"Ảnh",className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"}}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:rt.title}),rt.content&&i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:`${rt.content.replace(/<[^>]+>/g,"").substring(0,100)}...`})]})]})})},rt.article_id))})},qe.map(rt=>rt.article_id).join("-")))}),i.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#articlesCarousel","data-bs-slide":"prev",style:{width:"5rem",height:"5rem",top:"50%",left:"-4rem",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Previous"})]}),i.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#articlesCarousel","data-bs-slide":"next",style:{width:"5rem",height:"5rem",top:"50%",right:"-4rem",left:"auto",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Next"})]}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsxs(tn,{to:"/create-article",className:"btn btn-main btn-lg px-5",children:[i.jsx("i",{className:"bi bi-pencil-square me-2"}),l("Write Blog")]})})]})]})]})}),i.jsx(Yr,{}),ke&&i.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:2e3,background:"rgba(0,0,0,0.15)"},children:i.jsx(tY,{place:De,onClose:()=>we(!1)})}),Ie&&Le&&i.jsxs("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",role:"dialog",children:[i.jsx("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:"Chọn ngày bắt đầu và kết thúc tour"}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>We(!1),"aria-label":"Close"})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:i.jsx("strong",{children:"Ngày bắt đầu:"})}),i.jsx(Pv,{selected:Ge,onChange:qe=>Oe(qe),selectsStart:!0,startDate:Ge,endDate:ut,minDate:new Date,dateFormat:"dd/MM/yyyy",className:"form-control"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:i.jsx("strong",{children:"Ngày kết thúc:"})}),i.jsx(Pv,{selected:ut,onChange:qe=>Fe(qe),selectsEnd:!0,startDate:Ge,endDate:ut,minDate:Ge||new Date,dateFormat:"dd/MM/yyyy",className:"form-control"})]}),ht&&i.jsx("div",{className:"alert alert-danger py-2",children:ht})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>We(!1),children:"Đóng"}),i.jsx("button",{type:"button",className:"btn btn-main",onClick:ci,children:"Xác nhận"})]})]})}),i.jsx("div",{className:"modal-backdrop fade show",style:{zIndex:1040}})]}),en&&jt&&i.jsxs(yt,{show:en,onHide:()=>at(!1),centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Đặt phòng khách sạn"})}),i.jsx(yt.Body,{children:i.jsxs(mn,{children:[i.jsxs(mn.Group,{className:"mb-3",children:[i.jsx(mn.Label,{children:"Ngày nhận phòng"}),i.jsx(mn.Control,{type:"date",value:Qe,onChange:qe=>Tt(qe.target.value)})]}),i.jsxs(mn.Group,{className:"mb-3",children:[i.jsx(mn.Label,{children:"Ngày trả phòng"}),i.jsx(mn.Control,{type:"date",value:Ot,onChange:qe=>$e(qe.target.value)})]}),jt&&jt.room_types&&i.jsxs(mn.Group,{className:"mb-3",children:[i.jsx(mn.Label,{children:"Loại phòng"}),i.jsxs(mn.Select,{value:fn,onChange:qe=>Rn(qe.target.value),children:[i.jsx("option",{value:"",children:"Chọn loại phòng"}),Array.isArray(jt.room_types)?jt.room_types.map((qe,Zt)=>i.jsx("option",{value:qe,children:qe},Zt)):JSON.parse(jt.room_types||"[]").map((qe,Zt)=>i.jsx("option",{value:qe,children:qe},Zt))]})]}),bt==="success"&&i.jsx("div",{className:"alert alert-success",children:"Đặt phòng thành công!"}),bt==="error"&&i.jsx("div",{className:"alert alert-danger",children:"Đặt phòng thất bại. Vui lòng thử lại."})]})}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:()=>at(!1),children:"Đóng"}),i.jsx(Ut,{variant:"success",onClick:async()=>{$t(null);try{await bh.bookHotel({user_id:vn==null?void 0:vn.id,hotel_id:jt==null?void 0:jt.id,check_in:Qe,check_out:Ot,room_type:fn}),$t("success")}catch{$t("error")}},disabled:!Qe||!Ot||!fn,children:"Xác nhận đặt phòng"})]})]})]})]})}const EO="https://walkingguide.onrender.com";function JZ(){var Ie;const{user:l,login:c}=I.useContext(ds),[s,o]=I.useState(null),[h,g]=I.useState(!1),[_,y]=I.useState({full_name:"",email:""}),[v,N]=I.useState([]),[S,D]=I.useState(!0),[j,B]=I.useState(null),[F,V]=I.useState(!1),[$,K]=I.useState(!1),[Q,ee]=I.useState({currentPassword:"",newPassword:"",confirmNewPassword:""}),[ne,le]=I.useState(""),[se,q]=I.useState(""),[de,re]=I.useState(!1),[be,ke]=I.useState(null),[we,De]=I.useState(""),[_e,je]=I.useState(!1);I.useEffect(()=>{l&&(oe(),ve())},[l]);const oe=async()=>{try{D(!0);const We=await jm.getProfile();o(We.data),y({full_name:We.data.full_name,email:We.data.email})}catch(We){B("Failed to load profile"),console.error("Error loading profile:",We)}finally{D(!1)}},ve=async()=>{var We;try{const Le=await wb.getUserTours(l.id);console.log("UserPage - User tours:",Le.data),console.log("UserPage - First tour image_url:",(We=Le.data[0])==null?void 0:We.image_url),N(Le.data)}catch(Le){console.error("Error loading user tours:",Le)}},he=()=>{g(!0)},Ee=()=>{g(!1),y({full_name:s.full_name,email:s.email})},Z=async()=>{try{V(!0);const We=await jm.updateProfile(_);o(We.data),g(!1),c(We.data),B(null)}catch(We){B("Failed to update profile"),console.error("Error updating profile:",We)}finally{V(!1)}},fe=We=>{const{name:Le,value:st}=We.target;y(Ge=>({...Ge,[Le]:st}))},Ce=We=>{const{name:Le,value:st}=We.target;ee(Ge=>({...Ge,[Le]:st}))},Se=async We=>{var Le,st;if(We.preventDefault(),le(""),q(""),Q.newPassword!==Q.confirmNewPassword){le("New passwords do not match");return}if(!Q.currentPassword||!Q.newPassword){le("Please fill in all fields");return}try{re(!0),await jm.changePassword({currentPassword:Q.currentPassword,newPassword:Q.newPassword}),q("Password updated successfully"),ee({currentPassword:"",newPassword:"",confirmNewPassword:""}),K(!1)}catch(Ge){le(((st=(Le=Ge.response)==null?void 0:Le.data)==null?void 0:st.message)||"Failed to update password")}finally{re(!1)}},He=We=>new Date(We).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"}),et=We=>{const Le=We.target.files[0];if(Le){ke(Le);const st=new FileReader;st.onload=Ge=>De(Ge.target.result),st.readAsDataURL(Le)}},pe=async We=>{const Le=new FormData;return Le.append("file",We),(await(await fetch("https://walkingguide.onrender.com/api/upload",{method:"POST",body:Le})).json()).url},me=async()=>{if(be)try{je(!0);const We=await pe(be),Le=await jm.updateProfile({..._,image_url:We});o(Le.data),c(Le.data),ke(null),De(""),B(null)}catch(We){B("Failed to upload image"),console.error("Error uploading image:",We)}finally{je(!1)}};return l?S?i.jsxs("div",{className:"user-page-container",children:[i.jsx(Br,{}),i.jsx("div",{className:"user-page-content",children:i.jsx("div",{className:"loading",children:"Đang tải hồ sơ..."})}),i.jsx(Yr,{})]}):i.jsxs("div",{className:"user-page-container",children:[i.jsx(Br,{}),i.jsxs("div",{className:"user-page-content",children:[i.jsxs("div",{className:"profile-header",children:[i.jsx("h1",{children:"Hồ sơ người dùng"}),i.jsxs("div",{className:"profile-avatar",children:[s!=null&&s.image_url?i.jsx("img",{src:s.image_url.startsWith("http")?s.image_url:`${EO}${s.image_url}`,alt:s.full_name,className:"avatar-image",style:{width:"120px",height:"120px",borderRadius:"50%",objectFit:"cover",border:"4px solid #fff",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},onError:We=>{We.target.style.display="none",We.target.nextSibling.style.display="flex"}}):null,i.jsx("div",{className:"avatar-circle",style:{display:s!=null&&s.image_url?"none":"flex"},children:(Ie=s==null?void 0:s.full_name)==null?void 0:Ie.charAt(0).toUpperCase()}),!h&&i.jsxs("div",{className:"avatar-upload",children:[i.jsx("label",{htmlFor:"profile-image",className:"upload-btn",children:i.jsx("i",{className:"bi bi-camera"})}),i.jsx("input",{id:"profile-image",type:"file",accept:"image/*",onChange:et,style:{display:"none"}})]})]}),(be||we)&&i.jsxs("div",{className:"image-upload-section",style:{marginTop:"20px",textAlign:"center"},children:[i.jsx("div",{style:{marginBottom:"10px"},children:i.jsx("img",{src:we,alt:"Preview",style:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover",border:"2px solid #ddd"}})}),i.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[i.jsx("button",{className:"save-btn",onClick:me,disabled:_e,style:{padding:"8px 16px",fontSize:"14px"},children:_e?"Đang tải...":"Lưu ảnh"}),i.jsx("button",{className:"cancel-btn",onClick:()=>{ke(null),De("")},style:{padding:"8px 16px",fontSize:"14px"},children:"Hủy"})]})]})]}),j&&i.jsx("div",{className:"error-message",children:j}),i.jsxs("div",{className:"profile-sections",children:[i.jsxs("div",{className:"profile-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Thông tin cá nhân"}),!h&&i.jsx("button",{className:"edit-btn",onClick:he,children:"Chỉnh sửa hồ sơ"})]}),h?i.jsxs("div",{className:"edit-form",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"full_name",children:"Họ và tên"}),i.jsx("input",{type:"text",id:"full_name",name:"full_name",value:_.full_name,onChange:fe,className:"form-input"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"email",children:"Email"}),i.jsx("input",{type:"email",id:"email",name:"email",value:_.email,onChange:fe,className:"form-input"})]}),i.jsxs("div",{className:"form-actions",children:[i.jsx("button",{className:"save-btn",onClick:Z,disabled:F,children:F?"Đang lưu...":"Lưu thay đổi"}),i.jsx("button",{className:"cancel-btn",onClick:Ee,children:"Hủy"})]})]}):i.jsxs("div",{className:"profile-info",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Họ và tên:"}),i.jsx("span",{className:"info-value",children:s==null?void 0:s.full_name})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Email:"}),i.jsx("span",{className:"info-value",children:s==null?void 0:s.email})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Mật khẩu:"}),i.jsx("span",{className:"info-value",children:"••••••••"}),i.jsx("button",{className:"edit-btn",style:{background:$?"#6c757d":"#3498db",marginTop:10},onClick:()=>K(We=>!We),type:"button",children:$?"Hủy đổi mật khẩu":"Đổi mật khẩu"})]}),$&&i.jsxs("form",{className:"edit-form",onSubmit:Se,style:{marginTop:20},children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"currentPassword",children:"Mật khẩu hiện tại"}),i.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",value:Q.currentPassword,onChange:Ce,className:"form-input",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"newPassword",children:"Mật khẩu mới"}),i.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:Q.newPassword,onChange:Ce,className:"form-input",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"confirmNewPassword",children:"Xác nhận mật khẩu mới"}),i.jsx("input",{type:"password",id:"confirmNewPassword",name:"confirmNewPassword",value:Q.confirmNewPassword,onChange:Ce,className:"form-input",required:!0})]}),ne&&i.jsx("div",{className:"error-message",children:ne}),se&&i.jsx("div",{className:"success-message",children:se}),i.jsx("div",{className:"form-actions",children:i.jsx("button",{className:"save-btn",type:"submit",disabled:de,children:de?"Đang lưu...":"Lưu mật khẩu"})})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Thành viên từ:"}),i.jsx("span",{className:"info-value",children:s!=null&&s.created_at?He(s.created_at):"Không rõ"})]})]})]}),i.jsxs("div",{className:"profile-section",children:[i.jsx("h2",{children:"Thống kê của bạn"}),i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:v.length}),i.jsx("div",{className:"stat-label",children:"Tổng số tour"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:"0"}),i.jsx("div",{className:"stat-label",children:"Tour đã hoàn thành"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:v.length}),i.jsx("div",{className:"stat-label",children:"Tour đã lên kế hoạch"})]})]})]}),i.jsxs("div",{className:"profile-section",children:[i.jsx("h2",{children:"Tour gần đây"}),v.length>0?i.jsx("div",{className:"tours-list",children:v.slice(0,5).map(We=>(console.log("UserPage - Rendering tour:",We.name,"image_url:",We.image_url),i.jsxs("div",{className:"tour-item",children:[i.jsx("div",{className:"tour-image",children:We.image_url?i.jsx("img",{src:We.image_url.startsWith("http")?We.image_url:`${EO}${We.image_url}`,alt:We.name,style:{width:"80px",height:"80px",borderRadius:"12px",objectFit:"cover",border:"2px solid #e9ecef"},onError:Le=>{console.log("UserPage - Tour image failed to load:",Le.target.src),Le.target.style.display="none"},onLoad:()=>console.log("UserPage - Tour image loaded successfully:",We.name)}):i.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"12px",background:"linear-gradient(135deg, #1a5bb8 0%, #1a5bb8 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1.5rem"},children:i.jsx("i",{className:"bi bi-map"})})}),i.jsxs("div",{className:"tour-info",children:[i.jsx("h3",{className:"tour-title",children:We.name}),i.jsx("p",{className:"tour-description",children:We.description}),i.jsxs("div",{className:"tour-meta",children:[i.jsx("span",{className:"tour-date",children:We.start_time&&We.end_time?`${He(We.start_time)} - ${He(We.end_time)}`:"Chưa đặt ngày"}),i.jsx("span",{className:"tour-status status-planned",children:"Đã lên kế hoạch"})]})]})]},We.id)))}):i.jsxs("div",{className:"no-tours",children:[i.jsx("p",{children:"Bạn chưa tạo tour nào."}),i.jsx("a",{href:"/plan-trip",className:"create-tour-btn",children:"Tạo tour đầu tiên của bạn"})]})]})]})]}),i.jsx(Yr,{})]}):i.jsxs("div",{className:"user-page-container",children:[i.jsx(Br,{}),i.jsxs("div",{className:"user-page-content",children:[i.jsx("h1",{children:"Hồ sơ người dùng"}),i.jsx("p",{children:"Vui lòng đăng nhập để xem hồ sơ của bạn."})]}),i.jsx(Yr,{})]})}const eX="https://walkingguide.onrender.com";function tX(){const{t:l}=xh(),[c,s]=I.useState([]),[o,h]=I.useState(!0),[g,_]=I.useState(null);return I.useEffect(()=>{(async()=>{try{h(!0);const N=(await Ft.get("/places")).data.sort((S,D)=>new Date(D.updated_at||0)-new Date(S.updated_at||0));s(N)}catch(v){console.error("Error:",{message:v.message,code:v.code,response:v.response?v.response.data:null}),_("Không thể kết nối đến server. Dữ liệu mặc định sẽ được sử dụng."),s([{id:4,name:"Hòn Chồng",description:"Địa điểm ngắm biển đẹp, yên bình.",latitude:12.2701,longitude:109.2038,image_url:"https://example.com/honchong.jpg",rating:4.2}])}finally{h(!1)}})()},[]),i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Br,{}),i.jsxs("main",{className:"container px-4 py-5 flex-grow-1",children:[i.jsxs("div",{className:"text-center mb-5",children:[i.jsx("h1",{className:"display-5 fw-bold mb-3",style:{color:"#2c3e50"},children:l("Explore Amazing Destinations")}),i.jsx("p",{className:"lead text-muted mb-4",style:{maxWidth:"600px",margin:"0 auto"},children:l("Discover beautiful places, hidden gems, and must-visit destinations around the world")}),i.jsxs(tn,{to:"/",className:"btn btn-main btn-lg px-5",children:[i.jsx("i",{className:"bi bi-map me-2"}),l("View on Map")]})]}),o?i.jsxs("div",{className:"text-center py-5",children:[i.jsx("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("p",{className:"text-muted mt-3",children:l("Loading destinations...")})]}):g?i.jsxs("div",{className:"alert alert-warning text-center",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),g]}):c.length===0?i.jsxs("div",{className:"text-center py-5",children:[i.jsx("i",{className:"bi bi-geo-alt text-muted",style:{fontSize:"4rem",marginBottom:"1rem"}}),i.jsx("h3",{className:"text-muted mb-3",children:l("No Destinations Found")}),i.jsx("p",{className:"text-muted mb-4",children:l("Check back later for new destinations!")})]}):i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:c.map(y=>i.jsx("div",{className:"col",children:i.jsx("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card hover-shadow",children:i.jsxs(tn,{to:`/places/${y.id}`,className:"text-decoration-none",children:[i.jsx("img",{src:y.image_url?y.image_url.startsWith("http")?y.image_url:`${eX}${y.image_url}`:"/default-place.jpg",alt:y.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover",borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem"},onError:v=>{v.target.style.display="none"}}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600,color:"#2c3e50"},children:y.name}),y.city&&i.jsxs("p",{className:"card-text text-primary mb-2 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),y.city]}),i.jsx("p",{className:"card-text text-muted mb-3 luxury-desc",children:y.description?`${y.description.replace(/<[^>]+>/g,"").substring(0,120)}...`:l("No description available")}),y.service&&i.jsxs("p",{className:"card-text text-muted mb-3 small",children:[i.jsx("i",{className:"bi bi-activity me-1"}),y.service.length>80?`${y.service.substring(0,80)}...`:y.service]}),i.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[i.jsxs("div",{className:"d-flex align-items-center",children:[i.jsx("span",{className:"luxury-star",style:{color:"#f1c40f",fontSize:18},children:"★"}),i.jsx("span",{style:{fontWeight:600,marginLeft:4},children:y.rating?y.rating.toFixed(1):"0.0"}),i.jsx("span",{style:{color:"#888",marginLeft:2},children:"/ 5"})]}),i.jsxs("span",{className:"badge bg-primary rounded-pill",children:[i.jsx("i",{className:"bi bi-arrow-right me-1"}),l("Explore")]})]})]})]})})},y.id))})]}),i.jsx(Yr,{})]})}function nX(){const{t:l}=xh(),[c,s]=I.useState([]),[o,h]=I.useState(!0),[g,_]=I.useState(null);return I.useEffect(()=>{(async()=>{try{h(!0);const N=(await kt.get("https://walkingguide.onrender.com/api/tours")).data.sort((S,D)=>new Date(D.updated_at||0)-new Date(S.updated_at||0));s(N)}catch(v){console.error("Lỗi khi tải tour:",v),_("Không thể tải danh sách tour. Vui lòng thử lại sau.")}finally{h(!1)}})()},[]),i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Br,{}),i.jsxs("main",{className:"container px-4 py-5 flex-grow-1",children:[i.jsxs("div",{className:"text-center mb-5",children:[i.jsx("h1",{className:"display-5 fw-bold mb-3",style:{color:"#2c3e50"},children:l("Discover Amazing Tours")}),i.jsx("p",{className:"lead text-muted mb-4",style:{maxWidth:"600px",margin:"0 auto"},children:l("Explore carefully curated tours and itineraries designed to give you the best travel experience")}),i.jsxs("div",{className:"d-flex gap-3 justify-content-center",children:[i.jsxs(tn,{to:"/manual-planner",className:"btn btn-main btn-lg px-4",children:[i.jsx("i",{className:"bi bi-pencil-square me-2"}),l("Create Custom Tour")]}),i.jsxs(tn,{to:"/ai/generate-tour",className:"btn btn-outline-primary btn-lg px-4",children:[i.jsx("i",{className:"bi bi-robot me-2"}),l("AI Tour Planner")]})]})]}),o?i.jsxs("div",{className:"text-center py-5",children:[i.jsx("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("p",{className:"text-muted mt-3",children:l("Loading tours...")})]}):g?i.jsxs("div",{className:"alert alert-danger text-center",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),g]}):c.length===0?i.jsxs("div",{className:"text-center py-5",children:[i.jsx("i",{className:"bi bi-map text-muted",style:{fontSize:"4rem",marginBottom:"1rem"}}),i.jsx("h3",{className:"text-muted mb-3",children:l("No Tours Available")}),i.jsx("p",{className:"text-muted mb-4",children:l("Create your first tour and start exploring!")}),i.jsxs(tn,{to:"/manual-planner",className:"btn btn-main",children:[i.jsx("i",{className:"bi bi-plus-circle me-2"}),l("Create First Tour")]})]}):i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:c.map(y=>i.jsx("div",{className:"col",children:i.jsx("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card hover-shadow",children:i.jsxs(tn,{to:`/tours/${y.id}`,className:"text-decoration-none",children:[y.image_url?i.jsx("img",{src:y.image_url.startsWith("http")?y.image_url:`https://walkingguide.onrender.com${y.image_url}`,alt:y.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover",borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem"},onError:v=>{v.target.style.display="none"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-map"})}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-3",style:{fontWeight:600,color:"#2c3e50"},children:y.name}),i.jsx("p",{className:"card-text text-muted mb-3 luxury-desc",children:y.description?`${y.description.replace(/<[^>]+>/g,"").substring(0,120)}...`:l("No description available")}),i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[i.jsxs("div",{className:"d-flex align-items-center",children:[i.jsx("span",{className:"luxury-star",style:{color:"#f1c40f",fontSize:18},children:"★"}),i.jsx("span",{style:{fontWeight:600,marginLeft:4},children:y.rating?y.rating.toFixed(1):"0.0"}),i.jsx("span",{style:{color:"#888",marginLeft:2},children:"/ 5"})]}),y.total_cost&&i.jsxs("span",{className:"badge bg-success rounded-pill",children:[i.jsx("i",{className:"bi bi-currency-dollar me-1"}),y.total_cost.toLocaleString()," VND"]})]}),i.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[i.jsxs("small",{className:"text-muted",children:[i.jsx("i",{className:"bi bi-calendar3 me-1"}),new Date(y.created_at||y.updated_at).toLocaleDateString()]}),i.jsxs("span",{className:"badge bg-primary rounded-pill",children:[i.jsx("i",{className:"bi bi-arrow-right me-1"}),l("View Tour")]})]})]})]})})},y.id))})]}),i.jsx(Yr,{})]})}function iX(){const{t:l}=xh(),[c,s]=I.useState([]),[o,h]=I.useState(!0),[g,_]=I.useState(null),y="https://walkingguide.onrender.com";return I.useEffect(()=>{(async()=>{try{h(!0);const S=(await kt.get(`${y}/api/articles`)).data.sort((D,j)=>new Date(j.updated_at||0)-new Date(D.updated_at||0));s(S)}catch(N){console.error("Lỗi khi tải bài viết:",N),_("Không thể tải danh sách bài viết. Vui lòng thử lại sau.")}finally{h(!1)}})()},[]),i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Br,{}),i.jsxs("main",{className:"container px-4 py-5 flex-grow-1",children:[i.jsxs("div",{className:"text-center mb-5",children:[i.jsx("h1",{className:"display-5 fw-bold mb-3",style:{color:"#2c3e50"},children:l("Travel Stories & Experiences")}),i.jsx("p",{className:"lead text-muted mb-4",style:{maxWidth:"600px",margin:"0 auto"},children:l("Discover amazing travel stories, tips, and experiences shared by our community of travelers")}),i.jsxs(tn,{to:"/create-article",className:"btn btn-main btn-lg px-5",children:[i.jsx("i",{className:"bi bi-pencil-square me-2"}),l("Share Your Story")]})]}),o?i.jsxs("div",{className:"text-center py-5",children:[i.jsx("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("p",{className:"text-muted mt-3",children:l("Loading articles...")})]}):g?i.jsxs("div",{className:"alert alert-danger text-center",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),g]}):c.length===0?i.jsxs("div",{className:"text-center py-5",children:[i.jsx("i",{className:"bi bi-journal-text text-muted",style:{fontSize:"4rem",marginBottom:"1rem"}}),i.jsx("h3",{className:"text-muted mb-3",children:l("No Articles Yet")}),i.jsx("p",{className:"text-muted mb-4",children:l("Be the first to share your travel experience!")}),i.jsxs(tn,{to:"/create-article",className:"btn btn-main",children:[i.jsx("i",{className:"bi bi-plus-circle me-2"}),l("Write First Article")]})]}):i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:c.map(v=>i.jsx("div",{className:"col",children:i.jsx("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card hover-shadow",children:i.jsxs(tn,{to:`/articles/${v.article_id||v.id}`,className:"text-decoration-none",children:[v.image_url?i.jsx("img",{src:v.image_url.startsWith("http")?v.image_url:`${y}${v.image_url}`,alt:v.title,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover",borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem"},onError:N=>{N.target.style.display="none"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-journal-text"})}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-3",style:{fontWeight:600,color:"#2c3e50"},children:v.title}),i.jsx("p",{className:"card-text text-muted mb-3 luxury-desc",children:v.content?`${v.content.replace(/<[^>]+>/g,"").substring(0,120)}...`:l("No content available")}),i.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[i.jsxs("small",{className:"text-muted",children:[i.jsx("i",{className:"bi bi-calendar3 me-1"}),new Date(v.published_at||v.updated_at).toLocaleDateString()]}),i.jsxs("span",{className:"badge bg-primary rounded-pill",children:[i.jsx("i",{className:"bi bi-eye me-1"}),l("Read More")]})]})]})]})})},v.article_id||v.id))})]}),i.jsx(Yr,{})]})}function rX(){const[l,c]=I.useState(""),[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(!1),{login:v,user:N}=I.useContext(ds),S=ka(),D="https://walkingguide.onrender.com";nt.useEffect(()=>{N&&S("/",{replace:!0})},[N,S]);const j=async B=>{var F,V;B.preventDefault();try{const $=await kt.post(`${D}/api/auth/login`,{email:l,password:s});v($.data.user),S("/")}catch($){g(((V=(F=$.response)==null?void 0:F.data)==null?void 0:V.message)||"Đăng nhập thất bại")}};return i.jsxs("div",{className:"min-vh-100 d-flex flex-column luxury-home-container",children:[i.jsx(Br,{}),i.jsxs("main",{className:"container d-flex flex-column align-items-center justify-content-center flex-grow-1 py-5",children:[i.jsxs("div",{className:"card shadow border-0 rounded-4 p-4 luxury-card",style:{maxWidth:500,width:"100%",background:"rgba(255,255,255,0.97)"},children:[i.jsx("h2",{className:"mb-4 text-center",style:{color:"#1a5bb8",fontWeight:700},children:"Đăng nhập"}),i.jsxs("form",{onSubmit:j,className:"w-100",children:[h&&i.jsx("div",{className:"alert alert-danger",children:h}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Email:"}),i.jsx("input",{type:"email",className:"form-control",value:l,onChange:B=>c(B.target.value),required:!0})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mật khẩu:"}),i.jsx("input",{type:"password",className:"form-control",value:s,onChange:B=>o(B.target.value),required:!0})]}),i.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center mb-2 gap-2",children:[i.jsx("button",{type:"submit",className:"btn btn-main w-100 w-md-50",children:"Đăng nhập"}),i.jsx("div",{className:"d-flex flex-column align-items-center gap-1",children:i.jsx("button",{type:"button",className:"btn btn-link p-0",style:{fontSize:"0.95rem"},onClick:()=>y(!0),children:"Quên mật khẩu?"})})]}),i.jsxs("p",{className:"mt-3 text-center",children:["Chưa có tài khoản? ",i.jsx(tn,{to:"/register",children:"Đăng ký"})]})]})]}),i.jsx(B3,{show:_,onClose:()=>y(!1)})]}),i.jsx(Yr,{})]})}function sX(){const[l,c]=I.useState(""),[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(""),[S,D]=I.useState(""),[j,B]=I.useState(!1),[F,V]=I.useState(!1),[$,K]=I.useState(""),[Q,ee]=I.useState(""),[ne,le]=I.useState(""),{user:se}=I.useContext(ds),q=ka(),de="https://walkingguide.onrender.com";nt.useEffect(()=>{se&&q("/",{replace:!0})},[se,q]);const re=async we=>{var De,_e;if(we.preventDefault(),N(""),D(""),B(!0),K(""),ee(""),le(""),h!==_){N("Mật khẩu xác nhận không khớp."),B(!1);return}if(h.length<6){N("Mật khẩu phải có ít nhất 6 ký tự."),B(!1);return}try{const je=await kt.post(`${de}/api/auth/register`,{full_name:l,email:s,password:h,confirmPassword:_});je.data.success&&(D(je.data.message),le(s),c(""),o(""),g(""),y(""),setTimeout(()=>{q("/login")},3e3))}catch(je){N(((_e=(De=je.response)==null?void 0:De.data)==null?void 0:_e.message)||"Lỗi đăng ký")}finally{B(!1)}},be=async()=>{var we,De;V(!0),K(""),ee("");try{const _e=await kt.post(`${de}/api/auth/resend-verification`,{email:ne});K(_e.data.message||"Email xác thực đã được gửi lại. Vui lòng kiểm tra hộp thư của bạn.")}catch(_e){ee(((De=(we=_e.response)==null?void 0:we.data)==null?void 0:De.message)||"Lỗi gửi lại email xác thực")}finally{V(!1)}},ke=()=>{D(""),N(""),K(""),ee(""),le("")};return i.jsxs("div",{className:"min-vh-100 d-flex flex-column luxury-home-container",children:[i.jsx(Br,{}),i.jsx("main",{className:"container d-flex flex-column align-items-center justify-content-center flex-grow-1 py-5",children:i.jsxs("div",{className:"card shadow border-0 rounded-4 p-4 luxury-card",style:{maxWidth:500,width:"100%",background:"rgba(255,255,255,0.97)"},children:[i.jsx("h2",{className:"mb-4 text-center",style:{color:"#1a5bb8",fontWeight:700},children:"Đăng ký tài khoản"}),i.jsxs("form",{onSubmit:re,className:"w-100",children:[v&&i.jsx("div",{className:"alert alert-danger",children:v}),S?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"alert alert-success",children:S}),i.jsx("button",{type:"button",className:"btn btn-link p-0 mt-2 text-decoration-none",onClick:be,disabled:F||!ne,children:F?"Đang gửi lại...":"Gửi lại email xác thực"}),$&&i.jsx("div",{className:"alert alert-success mt-2",children:$}),Q&&i.jsx("div",{className:"alert alert-danger mt-2",children:Q}),i.jsx("div",{className:"text-center mt-3",children:i.jsx("button",{type:"button",className:"btn btn-link p-0 text-decoration-underline",onClick:ke,children:"Nhập email khác"})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Họ và tên:"}),i.jsx("input",{type:"text",className:"form-control",value:l,onChange:we=>c(we.target.value),required:!0,disabled:j})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Email:"}),i.jsx("input",{type:"email",className:"form-control",value:s,onChange:we=>o(we.target.value),required:!0,disabled:j})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mật khẩu:"}),i.jsx("input",{type:"password",className:"form-control",value:h,onChange:we=>g(we.target.value),required:!0,disabled:j,minLength:6}),i.jsx("small",{className:"text-muted",children:"Mật khẩu phải có ít nhất 6 ký tự"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Xác nhận mật khẩu:"}),i.jsx("input",{type:"password",className:"form-control",value:_,onChange:we=>y(we.target.value),required:!0,disabled:j,minLength:6}),_&&h!==_&&i.jsx("small",{className:"text-danger",children:"Mật khẩu xác nhận không khớp"}),_&&h===_&&i.jsx("small",{className:"text-success",children:"✓ Mật khẩu khớp"})]}),i.jsx("button",{type:"submit",className:"btn btn-success w-100",disabled:j||!l||!s||!h||!_,children:j?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Đang đăng ký..."]}):"Đăng ký"}),i.jsxs("p",{className:"mt-3 text-center",children:["Đã có tài khoản? ",i.jsx(tn,{to:"/login",children:"Đăng nhập"})]})]})]})]})}),i.jsx(Yr,{})]})}function yd(){return i.jsx("div",{className:"admin-header",children:i.jsx("div",{className:"container-fluid",children:i.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[i.jsx("div",{className:"d-flex align-items-center",children:i.jsx(tn,{to:"/",children:i.jsx("img",{src:"/banner.png",alt:"Walking Guide Banner",style:{height:180,marginRight:28,borderRadius:12}})})}),i.jsx("div",{className:"admin-header-actions",children:i.jsxs("div",{className:"dropdown",children:[i.jsxs("button",{className:"btn btn-link text-white dropdown-toggle",type:"button",id:"adminDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",children:[i.jsx("i",{className:"bi bi-person-circle me-2"}),"Quản trị viên"]}),i.jsxs("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"adminDropdown",children:[i.jsx("li",{children:i.jsxs(tn,{className:"dropdown-item",to:"/users",children:[i.jsx("i",{className:"bi bi-person me-2"}),"Hồ sơ"]})}),i.jsx("li",{children:i.jsxs(tn,{className:"dropdown-item",to:"/admin/settings",children:[i.jsx("i",{className:"bi bi-gear me-2"}),"Cài đặt"]})}),i.jsx("li",{children:i.jsx("hr",{className:"dropdown-divider"})}),i.jsx("li",{children:i.jsxs(tn,{className:"dropdown-item",to:"/",children:[i.jsx("i",{className:"bi bi-house me-2"}),"Về trang chủ"]})}),i.jsx("li",{children:i.jsxs("button",{className:"dropdown-item text-danger",children:[i.jsx("i",{className:"bi bi-box-arrow-right me-2"}),"Đăng xuất"]})})]})]})})]})})})}function xd(){const l=$l(),c=s=>l.pathname===s;return i.jsx("div",{className:"admin-sidebar",children:i.jsx("nav",{className:"sidebar-nav",children:i.jsxs("ul",{className:"nav flex-column",children:[i.jsx("li",{className:"nav-item",children:i.jsxs(tn,{to:"/admin",className:`nav-link ${c("/admin")?"active":""}`,children:[i.jsx("i",{className:"bi bi-house-door me-2"}),"Trang chủ"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(tn,{to:"/admin/tours",className:`nav-link ${c("/admin/tours")?"active":""}`,children:[i.jsx("i",{className:"bi bi-map me-2"}),"Quản lý Tour"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(tn,{to:"/admin/places",className:`nav-link ${c("/admin/places")?"active":""}`,children:[i.jsx("i",{className:"bi bi-geo-alt me-2"}),"Quản lý Địa điểm"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(tn,{to:"/admin/hotels",className:`nav-link ${c("/admin/hotels")?"active":""}`,children:[i.jsx("i",{className:"bi bi-building me-2"}),"Quản lý Khách sạn"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(tn,{to:"/admin/restaurants",className:`nav-link ${c("/admin/restaurants")?"active":""}`,children:[i.jsx("i",{className:"bi bi-cup-hot me-2"}),"Quản lý Nhà hàng"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(tn,{to:"/admin/bookings",className:`nav-link ${c("/admin/bookings")?"active":""}`,children:[i.jsx("i",{className:"bi bi-calendar-check me-2"}),"Quản lý Booking"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(tn,{to:"/admin/users",className:`nav-link ${c("/admin/users")?"active":""}`,children:[i.jsx("i",{className:"bi bi-people me-2"}),"Quản lý Người dùng"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(tn,{to:"/admin/articles",className:`nav-link ${c("/admin/articles")?"active":""}`,children:[i.jsx("i",{className:"bi bi-file-text me-2"}),"Quản lý Bài viết"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(tn,{to:"/admin/settings",className:`nav-link ${c("/admin/settings")?"active":""}`,children:[i.jsx("i",{className:"bi bi-gear me-2"}),"Cài đặt"]})})]})})})}function oX(){const{user:l}=I.useContext(ds),[c,s]=I.useState({totalUsers:0,totalPlaces:0,totalTours:0,totalArticles:0,recentUsers:0,recentTours:0,recentArticles:0,recentPlaces:0}),[o,h]=I.useState(!0),[g,_]=I.useState([]);I.useEffect(()=>{(async()=>{try{const j="https://walkingguide.onrender.com",[B,F,V,$]=await Promise.all([kt.get(`${j}/api/users`),kt.get(`${j}/api/places`),kt.get(`${j}/api/tours`),kt.get(`${j}/api/articles`)]);s({totalUsers:B.data.length,totalPlaces:F.data.length,totalTours:V.data.length,totalArticles:$.data.length,recentUsers:Math.floor(B.data.length*.15),recentTours:Math.floor(V.data.length*.25),recentArticles:Math.floor($.data.length*.2),recentPlaces:Math.floor(F.data.length*.1)});const K=B.data.filter(Q=>Q.full_name).sort((Q,ee)=>new Date(ee.created_at||0)-new Date(Q.created_at||0));_(K.slice(0,4))}catch(j){console.error("Error fetching stats:",j),s({totalUsers:1247,totalPlaces:89,totalTours:156,totalArticles:23,recentUsers:187,recentTours:39,recentArticles:5,recentPlaces:9})}finally{h(!1)}})()},[]);function y(D){if(!D)return"Vừa đăng ký";const j=new Date,B=new Date(D),F=Math.floor((j-B)/1e3);return F<60?"Vừa đăng ký":F<3600?`${Math.floor(F/60)} phút trước`:F<86400?`${Math.floor(F/3600)} giờ trước`:`${Math.floor(F/86400)} ngày trước`}const v=({title:D,value:j,icon:B,color:F,trend:V,subtitle:$})=>i.jsx("div",{className:"stat-card shadow-lg border-0 rounded-4 p-4 mb-4",style:{background:"linear-gradient(135deg, #fff 0%, #f8f9fa 100%)",border:`2px solid ${F}20`},children:i.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[i.jsxs("div",{className:"flex-grow-1",children:[i.jsx("h6",{className:"text-muted mb-1 fw-semibold",children:D}),i.jsx("h3",{className:"fw-bold mb-1",style:{color:F},children:o?"...":j.toLocaleString()}),$&&i.jsx("p",{className:"text-muted small mb-0",children:$}),V&&i.jsxs("div",{className:"d-flex align-items-center mt-2",children:[i.jsx("i",{className:`bi ${V>0?"bi-arrow-up":"bi-arrow-down"} me-1`,style:{color:V>0?"#28a745":"#dc3545"}}),i.jsxs("span",{className:"small fw-semibold",style:{color:V>0?"#28a745":"#dc3545"},children:[Math.abs(V),"% từ tháng trước"]})]})]}),i.jsx("div",{className:"stat-icon rounded-circle d-flex align-items-center justify-content-center",style:{width:60,height:60,background:`${F}15`,color:F},children:i.jsx("i",{className:`bi ${B} fs-3`})})]})}),N=({title:D,description:j,icon:B,link:F,color:V})=>i.jsx(tn,{to:F,className:"text-decoration-none",children:i.jsxs("div",{className:"quick-action-card shadow border-0 rounded-4 p-4 h-100",style:{background:"linear-gradient(135deg, #fff 0%, #f8f9fa 100%)",transition:"all 0.3s ease"},children:[i.jsxs("div",{className:"d-flex align-items-center mb-3",children:[i.jsx("div",{className:"quick-action-icon rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:50,height:50,background:`${V}15`,color:V},children:i.jsx("i",{className:`bi ${B} fs-4`})}),i.jsx("h6",{className:"fw-bold mb-0",style:{color:"#1a5bb8"},children:D})]}),i.jsx("p",{className:"text-muted small mb-0",children:j})]})}),S=({title:D,items:j,icon:B,color:F})=>i.jsxs("div",{className:"recent-activity-card shadow-lg border-0 rounded-4 p-4 h-100",style:{background:"linear-gradient(135deg, #fff 0%, #f8f9fa 100%)"},children:[i.jsxs("div",{className:"d-flex align-items-center mb-3",children:[i.jsx("div",{className:"activity-icon rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:40,height:40,background:`${F}15`,color:F},children:i.jsx("i",{className:`bi ${B} fs-5`})}),i.jsx("h6",{className:"fw-bold mb-0",style:{color:"#1a5bb8"},children:D})]}),i.jsx("div",{className:"activity-list",children:j.map((V,$)=>i.jsxs("div",{className:"activity-item d-flex align-items-center py-2 border-bottom",style:{borderColor:"#f1f3f4"},children:[i.jsx("div",{className:"activity-dot rounded-circle me-3",style:{width:8,height:8,background:F}}),i.jsxs("div",{className:"flex-grow-1",children:[i.jsx("div",{className:"fw-semibold small",children:V.title}),i.jsx("div",{className:"text-muted small",children:V.time})]})]},$))})]});return i.jsxs("div",{className:"admin-layout",children:[i.jsx(yd,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(xd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[i.jsxs("div",{className:"dashboard-header text-center mb-5",children:[i.jsx("h1",{className:"display-5 fw-bold mb-2",style:{color:"#1a5bb8",textShadow:"0 2px 4px rgba(26, 91, 184, 0.1)"},children:"Bảng Quản Trị"}),i.jsxs("p",{className:"lead mb-0",style:{color:"#223a5f"},children:["Chào mừng trở lại, ",i.jsx("span",{className:"fw-bold",style:{color:"#3498db"},children:(l==null?void 0:l.full_name)||"Admin"}),"! Đây là tổng quan về hệ thống của bạn."]})]}),i.jsxs("div",{className:"row mb-5",children:[i.jsx("div",{className:"col-lg-3 col-md-6",children:i.jsx(v,{title:"Tổng Người Dùng",value:c.totalUsers,icon:"bi-people-fill",color:"#3498db",trend:12,subtitle:"Người dùng đã đăng ký"})}),i.jsx("div",{className:"col-lg-3 col-md-6",children:i.jsx(v,{title:"Địa Điểm Du Lịch",value:c.totalPlaces,icon:"bi-geo-alt-fill",color:"#e74c3c",trend:8,subtitle:"Địa điểm đã thêm"})}),i.jsx("div",{className:"col-lg-3 col-md-6",children:i.jsx(v,{title:"Lộ Trình Tour",value:c.totalTours,icon:"bi-map-fill",color:"#f39c12",trend:-3,subtitle:"Tour đã tạo"})}),i.jsx("div",{className:"col-lg-3 col-md-6",children:i.jsx(v,{title:"Bài Viết",value:c.totalArticles,icon:"bi-newspaper",color:"#27ae60",trend:15,subtitle:"Bài viết đã xuất bản"})})]}),i.jsxs("div",{className:"row mb-5",children:[i.jsxs("div",{className:"col-lg-8",children:[i.jsx("h4",{className:"fw-bold mb-4",style:{color:"#1a5bb8"},children:"Thao Tác Nhanh"}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6 mb-3",children:i.jsx(N,{title:"Quản Lý Người Dùng",description:"Xem, chỉnh sửa và quản lý tài khoản người dùng",icon:"bi-people-fill",link:"/admin/users",color:"#3498db"})}),i.jsx("div",{className:"col-md-6 mb-3",children:i.jsx(N,{title:"Quản Lý Địa Điểm",description:"Thêm, sửa, xóa địa điểm du lịch và thông tin",icon:"bi-geo-alt-fill",link:"/admin/places",color:"#e74c3c"})}),i.jsx("div",{className:"col-md-6 mb-3",children:i.jsx(N,{title:"Quản Lý Tour",description:"Tạo và quản lý các lộ trình du lịch",icon:"bi-map-fill",link:"/admin/tours",color:"#f39c12"})}),i.jsx("div",{className:"col-md-6 mb-3",children:i.jsx(N,{title:"Quản Lý Bài Viết",description:"Kiểm duyệt và quản lý nội dung bài viết",icon:"bi-newspaper",link:"/admin/articles",color:"#27ae60"})})]})]}),i.jsxs("div",{className:"col-lg-4",children:[i.jsx("h4",{className:"fw-bold mb-4",style:{color:"#1a5bb8"},children:"Hoạt Động Gần Đây"}),i.jsx(S,{title:"Người Dùng Mới",items:g.map(D=>({title:`${D.full_name} đã đăng ký`,time:y(D.created_at)})),icon:"bi-person-plus",color:"#3498db"})]})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-lg-6 mb-4 mt-5",children:i.jsxs("div",{className:"system-status-card shadow-lg border-0 rounded-4 p-4",style:{background:"linear-gradient(135deg, #fff 0%, #f8f9fa 100%)"},children:[i.jsx("h5",{className:"fw-bold mb-3",style:{color:"#1a5bb8"},children:"Trạng Thái Hệ Thống"}),i.jsxs("div",{className:"status-item d-flex justify-content-between align-items-center py-2",children:[i.jsx("span",{className:"fw-semibold",children:"Máy chủ"}),i.jsx("span",{className:"badge bg-success",children:"Hoạt động"})]}),i.jsxs("div",{className:"status-item d-flex justify-content-between align-items-center py-2",children:[i.jsx("span",{className:"fw-semibold",children:"Cơ sở dữ liệu"}),i.jsx("span",{className:"badge bg-success",children:"Hoạt động"})]}),i.jsxs("div",{className:"status-item d-flex justify-content-between align-items-center py-2",children:[i.jsx("span",{className:"fw-semibold",children:"API"}),i.jsx("span",{className:"badge bg-success",children:"Hoạt động"})]}),i.jsxs("div",{className:"status-item d-flex justify-content-between align-items-center py-2",children:[i.jsx("span",{className:"fw-semibold",children:"Bảo mật"}),i.jsx("span",{className:"badge bg-warning",children:"Cần kiểm tra"})]})]})}),i.jsx("div",{className:"col-lg-6 mb-4 mt-5",children:i.jsxs("div",{className:"performance-card shadow-lg border-0 rounded-4 p-4",style:{background:"linear-gradient(135deg, #fff 0%, #f8f9fa 100%)"},children:[i.jsx("h5",{className:"fw-bold mb-3",style:{color:"#1a5bb8"},children:"Hiệu Suất"}),i.jsxs("div",{className:"performance-item mb-3",children:[i.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[i.jsx("span",{className:"fw-semibold",children:"CPU"}),i.jsx("span",{className:"text-muted",children:"45%"})]}),i.jsx("div",{className:"progress",style:{height:8},children:i.jsx("div",{className:"progress-bar bg-success",style:{width:"45%"}})})]}),i.jsxs("div",{className:"performance-item mb-3",children:[i.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[i.jsx("span",{className:"fw-semibold",children:"RAM"}),i.jsx("span",{className:"text-muted",children:"62%"})]}),i.jsx("div",{className:"progress",style:{height:8},children:i.jsx("div",{className:"progress-bar bg-warning",style:{width:"62%"}})})]}),i.jsxs("div",{className:"performance-item mb-3",children:[i.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[i.jsx("span",{className:"fw-semibold",children:"Lưu trữ"}),i.jsx("span",{className:"text-muted",children:"28%"})]}),i.jsx("div",{className:"progress",style:{height:8},children:i.jsx("div",{className:"progress-bar bg-info",style:{width:"28%"}})})]})]})})]})]})})]})]})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function aX(){const l={resolve:null,promise:null};return l.promise=new Promise(c=>{l.resolve=c}),l}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function lX(l){let c=null;return(...s)=>(c||(c={current:l(...s)}),c.current)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Ko=new Array(256).fill("").map((l,c)=>("0"+c.toString(16)).slice(-2));function cX(){const[l,c,s,o]=crypto.getRandomValues(new Uint32Array(4));return"e"+Ko[l>>0&255]+Ko[l>>8&255]+Ko[l>>16&255]+Ko[l>>24&255]+Ko[c>>0&255]+Ko[c>>8&255]+Ko[c>>16&255]+Ko[c>>24&255]+Ko[s>>0&255]+Ko[s>>8&255]+Ko[s>>16&255]+Ko[s>>24&255]+Ko[o>>0&255]+Ko[o>>8&255]+Ko[o>>16&255]+Ko[o>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function dX(l,c){const s=l.extraPlugins||[];return{...l,extraPlugins:[...s,...c.filter(o=>!s.includes(o))]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function QL(l){return!!l&&/^\d+\.\d+\.\d+/.test(l)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function ZL(l){return l?["nightly","alpha","internal","nightly-","staging"].some(c=>l.includes(c)):!1}function uX(l){return QL(l)||ZL(l)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function hX(l){if(!QL(l))throw new Error(`Invalid semantic version: ${l||"<blank>"}.`);const[c,s,o]=l.split(".");return{major:Number.parseInt(c,10),minor:Number.parseInt(s,10),patch:Number.parseInt(o,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function mX(l){if(ZL(l))return 3;const{major:c}=hX(l);switch(!0){case c>=44:return 3;case c>=38:return 2;default:return 1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function fX(){const{CKEDITOR_VERSION:l,CKEDITOR:c}=window;return uX(l)?{source:c?"cdn":"npm",version:l}:null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function pX(){const l=fX();return l?mX(l.version):null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function XL(l,c){switch(c||(c=pX()||void 0),c){case 1:case 2:return l===void 0;case 3:return l==="GPL";default:return!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function gX(l,c){return function(o){XL(o.config.get("licenseKey"))||o.on("collectUsageData",(h,{setUsageData:g})=>{g(`integration.${l}`,c)})}}var bX=Object.defineProperty,kX=(l,c,s)=>c in l?bX(l,c,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[c]=s,Ra=(l,c,s)=>kX(l,typeof c!="symbol"?c+"":c,s);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const JL=class eB{constructor(c,s){Ra(this,"_lifecycle"),Ra(this,"_element"),Ra(this,"_releaseLock",null),Ra(this,"_value",null),Ra(this,"_afterMountCallbacks",[]),Ra(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),Ra(this,"release",lX(()=>{const{_releaseLock:o,_state:h,_element:g,_lifecycle:_}=this;h.mountingInProgress?h.mountingInProgress.then(()=>_.unmount({element:g,mountResult:this.value})).catch(y=>{console.error("Semaphore unmounting error:",y)}).then(o.resolve).then(()=>{this._value=null}):(h.destroyedBeforeInitialization=!0,o.resolve())})),this._element=c,this._lifecycle=s,this._lock()}get value(){return this._value}unsafeSetValue(c){this._value=c,this._afterMountCallbacks.forEach(s=>s(c)),this._afterMountCallbacks=[]}runAfterMount(c){const{_value:s,_afterMountCallbacks:o}=this;s?c(s):o.push(c)}_lock(){const{_semaphores:c}=eB,{_state:s,_element:o,_lifecycle:h}=this,g=c.get(o)||Promise.resolve(null),_=aX();this._releaseLock=_;const y=g.then(()=>s.destroyedBeforeInitialization?Promise.resolve(void 0):(s.mountingInProgress=h.mount().then(v=>(v&&this.unsafeSetValue(v),v)),s.mountingInProgress)).then(async v=>{v&&h.afterMount&&await h.afterMount({element:o,mountResult:v})}).then(()=>_.promise).catch(v=>{console.error("Semaphore mounting error:",v)}).then(()=>{c.get(o)===y&&c.delete(o)});c.set(o,y)}};Ra(JL,"_semaphores",new Map);let _X=JL;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const vX="$__CKEditorReactContextMetadata";function wX(l,c){return{...c,[vX]:l}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const yX=nt.createContext(null),xX=l=>!!l&&typeof l=="object"&&"status"in l&&["initializing","initialized","error"].includes(l.status),tB=l=>c=>xX(c)&&c.status===l,SO=tB("initializing"),CX=l=>tB("initialized")(l)&&l.watchdog.state==="ready";/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const AX=gX("react",{version:"9.5.0",frameworkVersion:nt.version});/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function NX(l){return XL(l.licenseKey)?l:dX(l,[AX])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const WC="Lock from React integration (@ckeditor/ckeditor5-react)";class nB extends nt.Component{constructor(c){super(c),Ra(this,"domContainer",nt.createRef()),Ra(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:c}=window;if(!c)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[s]=c.split(".").map(Number);s>=42||c.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:c}=this;return c?c.value:null}get watchdog(){const{_semaphoreValue:c}=this;return c?c.watchdog:null}get editor(){const{_semaphoreValue:c}=this;return c?c.instance:null}shouldComponentUpdate(c){const{props:s,editorSemaphore:o}=this;return c.id!==s.id||c.disableWatchdog!==s.disableWatchdog?!0:(o&&(o.runAfterMount(({instance:h})=>{this._shouldUpdateEditorData(s,c,h)&&h.data.set(c.data)}),"disabled"in c&&o.runAfterMount(({instance:h})=>{c.disabled?h.enableReadOnlyMode(WC):h.disableReadOnlyMode(WC)})),!1)}componentDidMount(){SO(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){SO(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new _X(this.domContainer.current,{mount:async()=>this._initializeEditor(),afterMount:({mountResult:c})=>{const{onReady:s}=this.props;s&&this.domContainer.current!==null&&s(c.instance)},unmount:async({element:c,mountResult:s})=>{const{onAfterDestroy:o}=this.props;try{await this._destroyEditor(s),c.innerHTML=""}finally{o&&o(s.instance)}}})}render(){return nt.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const c=CX(this.context)?new EX(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig),s={current:0};return c.setCreator(async(o,h)=>{var g;const{editorSemaphore:_}=this,{onAfterDestroy:y}=this.props;s.current>0&&y&&((g=_==null?void 0:_.value)!=null&&g.instance)&&y(_.value.instance);const v=await this._createEditor(o,h);return _&&s.current>0&&(_.unsafeSetValue({instance:v,watchdog:c}),setTimeout(()=>{this.props.onReady&&this.props.onReady(c.editor)})),s.current++,v}),c.on("error",(o,{error:h,causesRestart:g})=>{(this.props.onError||console.error)(h,{phase:"runtime",willEditorRestart:g})}),await c.create(this.domContainer.current,this._getConfig()).catch(o=>{(this.props.onError||console.error)(o,{phase:"initialization",willEditorRestart:!1})}),{watchdog:c,instance:c.editor}}_createEditor(c,s){const{contextItemMetadata:o}=this.props;return o&&(s=wX(o,s)),this.props.editor.create(c,NX(s)).then(h=>{if("disabled"in this.props){/* istanbul ignore else -- @preserve */this.props.disabled&&h.enableReadOnlyMode(WC)}const g=h.model.document,_=h.editing.view.document;return g.on("change:data",y=>{/* istanbul ignore else -- @preserve */this.props.onChange&&this.props.onChange(y,h)}),_.on("focus",y=>{/* istanbul ignore else -- @preserve */this.props.onFocus&&this.props.onFocus(y,h)}),_.on("blur",y=>{/* istanbul ignore else -- @preserve */this.props.onBlur&&this.props.onBlur(y,h)}),h})}async _destroyEditor(c){const{watchdog:s,instance:o}=c;return new Promise((h,g)=>{/* istanbul ignore next -- @preserve */setTimeout(async()=>{try{if(s)return await s.destroy(),h();if(o)return await o.destroy(),h();h()}catch(_){console.error(_),g(_)}})})}_shouldUpdateEditorData(c,s,o){return!(c.data===s.data||o.data.get()===s.data)}_getConfig(){const c=this.props.config||{};return this.props.data&&c.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...c,initialData:c.initialData||this.props.data||""}}}Ra(nB,"contextType",yX);class EX{constructor(c){Ra(this,"_contextWatchdog"),Ra(this,"_id"),Ra(this,"_creator"),this._contextWatchdog=c,this._id=cX()}setCreator(c){this._creator=c}create(c,s){return this._contextWatchdog.add({sourceElementOrData:c,config:s,creator:this._creator,id:this._id,type:"editor"})}on(c,s){this._contextWatchdog.on("itemError",(o,{itemId:h,error:g})=>{h===this._id&&s(null,{error:g,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function iB(...l){return c=>{l.forEach(s=>{typeof s=="function"?s(c):s!=null&&(s.current=c)})}}const SX=I.memo(I.forwardRef(({id:l,semaphore:c,rootName:s},o)=>{const h=I.useRef(null);return I.useEffect(()=>{let g,_;return c.runAfterMount(({instance:y})=>{if(!h.current)return;_=y;const{ui:v,model:N}=_,S=N.document.getRoot(s);S&&_.ui.getEditableElement(s)&&_.detachEditable(S),g=v.view.createEditable(s,h.current),v.addEditable(g),y.editing.view.forceRender()}),()=>{if(_&&_.state!=="destroyed"&&h.current){const y=_.model.document.getRoot(s);/* istanbul ignore else -- @preserve */y&&_.detachEditable(y)}}},[c.revision]),nt.createElement("div",{key:c.revision,id:l,ref:iB(o,h)})}));SX.displayName="EditorEditable";const jX=I.forwardRef(({editor:l},c)=>{const s=I.useRef(null);return I.useEffect(()=>{const o=s.current;if(!l||!o)return;const h=l.ui.view.toolbar.element;return o.appendChild(h),()=>{o.contains(h)&&o.removeChild(h)}},[l&&l.id]),nt.createElement("div",{ref:iB(s,c)})});jX.displayName="EditorToolbarWrapper";var ub={exports:{}};ub.exports;var jO;function DX(){return jO||(jO=1,function(l,c){(function(s){const o=s.en=s.en||{};o.dictionary=Object.assign(o.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent",Insert:"Insert","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lower–roman":"Lower–roman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower–latin list style":"Toggle the lower–latin list style","Toggle the lower–roman list style":"Toggle the lower–roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper–latin list style":"Toggle the upper–latin list style","Toggle the upper–roman list style":"Toggle the upper–roman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(s,o){l.exports=o()}(self,()=>(()=>{var s={9246:(_,y,v)=>{const N=v(6931),S={};for(const j of Object.keys(N))S[N[j]]=j;const D={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};_.exports=D;for(const j of Object.keys(D)){if(!("channels"in D[j]))throw new Error("missing channels property: "+j);if(!("labels"in D[j]))throw new Error("missing channel labels property: "+j);if(D[j].labels.length!==D[j].channels)throw new Error("channel and label counts mismatch: "+j);const{channels:B,labels:F}=D[j];delete D[j].channels,delete D[j].labels,Object.defineProperty(D[j],"channels",{value:B}),Object.defineProperty(D[j],"labels",{value:F})}D.rgb.hsl=function(j){const B=j[0]/255,F=j[1]/255,V=j[2]/255,$=Math.min(B,F,V),K=Math.max(B,F,V),Q=K-$;let ee,ne;K===$?ee=0:B===K?ee=(F-V)/Q:F===K?ee=2+(V-B)/Q:V===K&&(ee=4+(B-F)/Q),ee=Math.min(60*ee,360),ee<0&&(ee+=360);const le=($+K)/2;return ne=K===$?0:le<=.5?Q/(K+$):Q/(2-K-$),[ee,100*ne,100*le]},D.rgb.hsv=function(j){let B,F,V,$,K;const Q=j[0]/255,ee=j[1]/255,ne=j[2]/255,le=Math.max(Q,ee,ne),se=le-Math.min(Q,ee,ne),q=function(de){return(le-de)/6/se+.5};return se===0?($=0,K=0):(K=se/le,B=q(Q),F=q(ee),V=q(ne),Q===le?$=V-F:ee===le?$=.3333333333333333+B-V:ne===le&&($=.6666666666666666+F-B),$<0?$+=1:$>1&&($-=1)),[360*$,100*K,100*le]},D.rgb.hwb=function(j){const B=j[0],F=j[1];let V=j[2];const $=D.rgb.hsl(j)[0],K=1/255*Math.min(B,Math.min(F,V));return V=1-.00392156862745098*Math.max(B,Math.max(F,V)),[$,100*K,100*V]},D.rgb.cmyk=function(j){const B=j[0]/255,F=j[1]/255,V=j[2]/255,$=Math.min(1-B,1-F,1-V);return[100*((1-B-$)/(1-$)||0),100*((1-F-$)/(1-$)||0),100*((1-V-$)/(1-$)||0),100*$]},D.rgb.keyword=function(j){const B=S[j];if(B)return B;let F,V=1/0;for(const Q of Object.keys(N)){const ee=N[Q],ne=(K=ee,(($=j)[0]-K[0])**2+($[1]-K[1])**2+($[2]-K[2])**2);ne<V&&(V=ne,F=Q)}var $,K;return F},D.keyword.rgb=function(j){return N[j]},D.rgb.xyz=function(j){let B=j[0]/255,F=j[1]/255,V=j[2]/255;return B=B>.04045?((B+.055)/1.055)**2.4:B/12.92,F=F>.04045?((F+.055)/1.055)**2.4:F/12.92,V=V>.04045?((V+.055)/1.055)**2.4:V/12.92,[100*(.4124*B+.3576*F+.1805*V),100*(.2126*B+.7152*F+.0722*V),100*(.0193*B+.1192*F+.9505*V)]},D.rgb.lab=function(j){const B=D.rgb.xyz(j);let F=B[0],V=B[1],$=B[2];return F/=95.047,V/=100,$/=108.883,F=F>.008856?F**.3333333333333333:7.787*F+.13793103448275862,V=V>.008856?V**.3333333333333333:7.787*V+.13793103448275862,$=$>.008856?$**.3333333333333333:7.787*$+.13793103448275862,[116*V-16,500*(F-V),200*(V-$)]},D.hsl.rgb=function(j){const B=j[0]/360,F=j[1]/100,V=j[2]/100;let $,K,Q;if(F===0)return Q=255*V,[Q,Q,Q];$=V<.5?V*(1+F):V+F-V*F;const ee=2*V-$,ne=[0,0,0];for(let le=0;le<3;le++)K=B+.3333333333333333*-(le-1),K<0&&K++,K>1&&K--,Q=6*K<1?ee+6*($-ee)*K:2*K<1?$:3*K<2?ee+($-ee)*(.6666666666666666-K)*6:ee,ne[le]=255*Q;return ne},D.hsl.hsv=function(j){const B=j[0];let F=j[1]/100,V=j[2]/100,$=F;const K=Math.max(V,.01);return V*=2,F*=V<=1?V:2-V,$*=K<=1?K:2-K,[B,100*(V===0?2*$/(K+$):2*F/(V+F)),100*((V+F)/2)]},D.hsv.rgb=function(j){const B=j[0]/60,F=j[1]/100;let V=j[2]/100;const $=Math.floor(B)%6,K=B-Math.floor(B),Q=255*V*(1-F),ee=255*V*(1-F*K),ne=255*V*(1-F*(1-K));switch(V*=255,$){case 0:return[V,ne,Q];case 1:return[ee,V,Q];case 2:return[Q,V,ne];case 3:return[Q,ee,V];case 4:return[ne,Q,V];case 5:return[V,Q,ee]}},D.hsv.hsl=function(j){const B=j[0],F=j[1]/100,V=j[2]/100,$=Math.max(V,.01);let K,Q;Q=(2-F)*V;const ee=(2-F)*$;return K=F*$,K/=ee<=1?ee:2-ee,K=K||0,Q/=2,[B,100*K,100*Q]},D.hwb.rgb=function(j){const B=j[0]/360;let F=j[1]/100,V=j[2]/100;const $=F+V;let K;$>1&&(F/=$,V/=$);const Q=Math.floor(6*B),ee=1-V;K=6*B-Q,1&Q&&(K=1-K);const ne=F+K*(ee-F);let le,se,q;switch(Q){default:case 6:case 0:le=ee,se=ne,q=F;break;case 1:le=ne,se=ee,q=F;break;case 2:le=F,se=ee,q=ne;break;case 3:le=F,se=ne,q=ee;break;case 4:le=ne,se=F,q=ee;break;case 5:le=ee,se=F,q=ne}return[255*le,255*se,255*q]},D.cmyk.rgb=function(j){const B=j[0]/100,F=j[1]/100,V=j[2]/100,$=j[3]/100;return[255*(1-Math.min(1,B*(1-$)+$)),255*(1-Math.min(1,F*(1-$)+$)),255*(1-Math.min(1,V*(1-$)+$))]},D.xyz.rgb=function(j){const B=j[0]/100,F=j[1]/100,V=j[2]/100;let $,K,Q;return $=3.2406*B+-1.5372*F+-.4986*V,K=-.9689*B+1.8758*F+.0415*V,Q=.0557*B+-.204*F+1.057*V,$=$>.0031308?1.055*$**.4166666666666667-.055:12.92*$,K=K>.0031308?1.055*K**.4166666666666667-.055:12.92*K,Q=Q>.0031308?1.055*Q**.4166666666666667-.055:12.92*Q,$=Math.min(Math.max(0,$),1),K=Math.min(Math.max(0,K),1),Q=Math.min(Math.max(0,Q),1),[255*$,255*K,255*Q]},D.xyz.lab=function(j){let B=j[0],F=j[1],V=j[2];return B/=95.047,F/=100,V/=108.883,B=B>.008856?B**.3333333333333333:7.787*B+.13793103448275862,F=F>.008856?F**.3333333333333333:7.787*F+.13793103448275862,V=V>.008856?V**.3333333333333333:7.787*V+.13793103448275862,[116*F-16,500*(B-F),200*(F-V)]},D.lab.xyz=function(j){let B,F,V;F=(j[0]+16)/116,B=j[1]/500+F,V=F-j[2]/200;const $=F**3,K=B**3,Q=V**3;return F=$>.008856?$:(F-.13793103448275862)/7.787,B=K>.008856?K:(B-.13793103448275862)/7.787,V=Q>.008856?Q:(V-.13793103448275862)/7.787,B*=95.047,F*=100,V*=108.883,[B,F,V]},D.lab.lch=function(j){const B=j[0],F=j[1],V=j[2];let $;return $=360*Math.atan2(V,F)/2/Math.PI,$<0&&($+=360),[B,Math.sqrt(F*F+V*V),$]},D.lch.lab=function(j){const B=j[0],F=j[1],V=j[2]/360*2*Math.PI;return[B,F*Math.cos(V),F*Math.sin(V)]},D.rgb.ansi16=function(j,B=null){const[F,V,$]=j;let K=B===null?D.rgb.hsv(j)[2]:B;if(K=Math.round(K/50),K===0)return 30;let Q=30+(Math.round($/255)<<2|Math.round(V/255)<<1|Math.round(F/255));return K===2&&(Q+=60),Q},D.hsv.ansi16=function(j){return D.rgb.ansi16(D.hsv.rgb(j),j[2])},D.rgb.ansi256=function(j){const B=j[0],F=j[1],V=j[2];return B===F&&F===V?B<8?16:B>248?231:Math.round((B-8)/247*24)+232:16+36*Math.round(B/255*5)+6*Math.round(F/255*5)+Math.round(V/255*5)},D.ansi16.rgb=function(j){let B=j%10;if(B===0||B===7)return j>50&&(B+=3.5),B=B/10.5*255,[B,B,B];const F=.5*(1+~~(j>50));return[(1&B)*F*255,(B>>1&1)*F*255,(B>>2&1)*F*255]},D.ansi256.rgb=function(j){if(j>=232){const F=10*(j-232)+8;return[F,F,F]}let B;return j-=16,[Math.floor(j/36)/5*255,Math.floor((B=j%36)/6)/5*255,B%6/5*255]},D.rgb.hex=function(j){const B=(((255&Math.round(j[0]))<<16)+((255&Math.round(j[1]))<<8)+(255&Math.round(j[2]))).toString(16).toUpperCase();return"000000".substring(B.length)+B},D.hex.rgb=function(j){const B=j.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!B)return[0,0,0];let F=B[0];B[0].length===3&&(F=F.split("").map($=>$+$).join(""));const V=parseInt(F,16);return[V>>16&255,V>>8&255,255&V]},D.rgb.hcg=function(j){const B=j[0]/255,F=j[1]/255,V=j[2]/255,$=Math.max(Math.max(B,F),V),K=Math.min(Math.min(B,F),V),Q=$-K;let ee,ne;return ee=Q<1?K/(1-Q):0,ne=Q<=0?0:$===B?(F-V)/Q%6:$===F?2+(V-B)/Q:4+(B-F)/Q,ne/=6,ne%=1,[360*ne,100*Q,100*ee]},D.hsl.hcg=function(j){const B=j[1]/100,F=j[2]/100,V=F<.5?2*B*F:2*B*(1-F);let $=0;return V<1&&($=(F-.5*V)/(1-V)),[j[0],100*V,100*$]},D.hsv.hcg=function(j){const B=j[1]/100,F=j[2]/100,V=B*F;let $=0;return V<1&&($=(F-V)/(1-V)),[j[0],100*V,100*$]},D.hcg.rgb=function(j){const B=j[0]/360,F=j[1]/100,V=j[2]/100;if(F===0)return[255*V,255*V,255*V];const $=[0,0,0],K=B%1*6,Q=K%1,ee=1-Q;let ne=0;switch(Math.floor(K)){case 0:$[0]=1,$[1]=Q,$[2]=0;break;case 1:$[0]=ee,$[1]=1,$[2]=0;break;case 2:$[0]=0,$[1]=1,$[2]=Q;break;case 3:$[0]=0,$[1]=ee,$[2]=1;break;case 4:$[0]=Q,$[1]=0,$[2]=1;break;default:$[0]=1,$[1]=0,$[2]=ee}return ne=(1-F)*V,[255*(F*$[0]+ne),255*(F*$[1]+ne),255*(F*$[2]+ne)]},D.hcg.hsv=function(j){const B=j[1]/100,F=B+j[2]/100*(1-B);let V=0;return F>0&&(V=B/F),[j[0],100*V,100*F]},D.hcg.hsl=function(j){const B=j[1]/100,F=j[2]/100*(1-B)+.5*B;let V=0;return F>0&&F<.5?V=B/(2*F):F>=.5&&F<1&&(V=B/(2*(1-F))),[j[0],100*V,100*F]},D.hcg.hwb=function(j){const B=j[1]/100,F=B+j[2]/100*(1-B);return[j[0],100*(F-B),100*(1-F)]},D.hwb.hcg=function(j){const B=j[1]/100,F=1-j[2]/100,V=F-B;let $=0;return V<1&&($=(F-V)/(1-V)),[j[0],100*V,100*$]},D.apple.rgb=function(j){return[j[0]/65535*255,j[1]/65535*255,j[2]/65535*255]},D.rgb.apple=function(j){return[j[0]/255*65535,j[1]/255*65535,j[2]/255*65535]},D.gray.rgb=function(j){return[j[0]/100*255,j[0]/100*255,j[0]/100*255]},D.gray.hsl=function(j){return[0,0,j[0]]},D.gray.hsv=D.gray.hsl,D.gray.hwb=function(j){return[0,100,j[0]]},D.gray.cmyk=function(j){return[0,0,0,j[0]]},D.gray.lab=function(j){return[j[0],0,0]},D.gray.hex=function(j){const B=255&Math.round(j[0]/100*255),F=((B<<16)+(B<<8)+B).toString(16).toUpperCase();return"000000".substring(F.length)+F},D.rgb.gray=function(j){return[(j[0]+j[1]+j[2])/3/255*100]}},9047:(_,y,v)=>{const N=v(9246),S=v(802),D={};Object.keys(N).forEach(j=>{D[j]={},Object.defineProperty(D[j],"channels",{value:N[j].channels}),Object.defineProperty(D[j],"labels",{value:N[j].labels});const B=S(j);Object.keys(B).forEach(F=>{const V=B[F];D[j][F]=function($){const K=function(...Q){const ee=Q[0];if(ee==null)return ee;ee.length>1&&(Q=ee);const ne=$(Q);if(typeof ne=="object")for(let le=ne.length,se=0;se<le;se++)ne[se]=Math.round(ne[se]);return ne};return"conversion"in $&&(K.conversion=$.conversion),K}(V),D[j][F].raw=function($){const K=function(...Q){const ee=Q[0];return ee==null?ee:(ee.length>1&&(Q=ee),$(Q))};return"conversion"in $&&(K.conversion=$.conversion),K}(V)})}),_.exports=D},802:(_,y,v)=>{const N=v(9246);function S(B){const F=function(){const $={},K=Object.keys(N);for(let Q=K.length,ee=0;ee<Q;ee++)$[K[ee]]={distance:-1,parent:null};return $}(),V=[B];for(F[B].distance=0;V.length;){const $=V.pop(),K=Object.keys(N[$]);for(let Q=K.length,ee=0;ee<Q;ee++){const ne=K[ee],le=F[ne];le.distance===-1&&(le.distance=F[$].distance+1,le.parent=$,V.unshift(ne))}}return F}function D(B,F){return function(V){return F(B(V))}}function j(B,F){const V=[F[B].parent,B];let $=N[F[B].parent][B],K=F[B].parent;for(;F[K].parent;)V.unshift(F[K].parent),$=D(N[F[K].parent][K],$),K=F[K].parent;return $.conversion=V,$}_.exports=function(B){const F=S(B),V={},$=Object.keys(F);for(let K=$.length,Q=0;Q<K;Q++){const ee=$[Q];F[ee].parent!==null&&(V[ee]=j(ee,F))}return V}},6931:_=>{_.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4199:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const B=j},8708:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const B=j},1866:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Based on default CKBox theme colors */
	--ck-image-processing-highlight-color: hsl(220, 10%, 98%);
	--ck-image-processing-background-color: hsl(220, 10%, 90%);
}

.ck.ck-editor__editable {
	& .image {
		&.image-processing {
			position: relative;

			&:before {
				content: '';

				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;

				height: 100%;
				width: 100%;

				background: linear-gradient(
					90deg,
					var(--ck-image-processing-background-color),
					var(--ck-image-processing-highlight-color),
					var(--ck-image-processing-background-color)
				);
				background-size: 200% 100%;

				animation: ck-image-processing-animation 2s linear infinite;
			}

			& img {
				height: 100%;
			}
		}
	}
}

@keyframes ck-image-processing-animation {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
`],sourceRoot:""}]);const B=j},7793:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const B=j},7388:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DCED,eDeC,CAjBA,mKCMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAcF,CAjBA,8DAOC,wCAAsB,CAAtB,sBAUD,CARC,8FACC,uBACD,CAEA,qJAEC,QACD,CAMH,yCAEC,0CAA2C,CCtB3C,eDgCD,CAZA,yHChBE,qCAAsC,CDqBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-sticky-panel__content {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border: 1px solid var(--ck-color-base-border);
			border-bottom-width: 0;

			&.ck-sticky-panel__content_sticky {
				border-bottom-width: 1px;
			}

			& .ck-menu-bar,
			& .ck-toolbar {
				border: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},4098:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	@mixin ck-media-forced-colors {
		/*
		 * This is needed for Edge on Windows to use the right color for the placeholder content (::before).
		 * See https://github.com/ckeditor/ckeditor5/issues/14907.
		 */
		forced-color-adjust: preserve-parent-color;
	}

	&::before {
		cursor: text;

		@mixin ck-media-default-colors {
			color: var(--ck-color-engine-placeholder-text);
		}

		@mixin ck-media-forced-colors {
			/*
			 * In the high contrast mode there is no telling between regular and placeholder text. Using
			 * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			font-style: italic;

			/*
			 * Without this margin, the caret will not show up and blink when the user puts the selection
			 * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			margin-left: 1px;
		}
	}
}
`],sourceRoot:""}]);const B=j},8264:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const B=j},6269:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const B=j},265:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const B=j},5247:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@media (forced-colors: active) {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	@mixin ck-media-default-colors {
		animation: ck-image-caption-highlight .6s ease-out;
	}

	@media (prefers-reduced-motion: reduce) {
		animation: none;
	}
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const B=j},4642:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-image-custom-resize-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: flex-start;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},3350:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAMC,yDACC,YAAa,CACb,mCACD,CCFD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-url {
	& .ck-image-insert-url__action-row {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;
		padding: var(--ck-list-button-padding);

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`],sourceRoot:""}]);const B=j},7378:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& img.image_placeholder {
		background-size: 100% 100%;
	}
}
`],sourceRoot:""}]);const B=j},3469:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const B=j},6386:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},7693:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,sBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 0ms;

		&::after {
			animation: none;
			opacity: 1;
			width: 0.3em;
			height: 0.45em;
		}
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const B=j},1559:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const B=j},2267:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;

			@media (prefers-reduced-motion: reduce) {
				opacity: 1;
				animation: none;
			}
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const B=j},4062:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},7719:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const B=j},8762:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},3817:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;
	align-items: flex-start;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},4808:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,k2BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const B=j},1232:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const B=j},6903:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},9968:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const B=j},7141:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const B=j},8991:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAFA,wDApEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAoEA,CAhED,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAFA,wGAtGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAsGD,CAlGA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const B=j},70:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const B=j},7048:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OW0wIDQ1LjM5MWM2Ny4yNjUgMCA3NS4yMzMuMjU3IDEwMS43OTcgMS40NjkgMjQuNTYyIDEuMTIgMzcuOTAxIDUuMjI0IDQ2Ljc3OCA4LjY3NCAxMS43NTkgNC41NyAyMC4xNTEgMTAuMDI5IDI4Ljk2NiAxOC44NDVzMTQuMjc1IDE3LjIwNyAxOC44NDUgMjguOTY2YzMuNDUgOC44NzcgNy41NTQgMjIuMjE2IDguNjc0IDQ2Ljc3OCAxLjIxMiAyNi41NjQgMS40NjkgMzQuNTMyIDEuNDY5IDEwMS43OTggMCA2Ny4yNjUtLjI1NyA3NS4yMzMtMS40NjkgMTAxLjc5Ny0xLjEyIDI0LjU2Mi01LjIyNCAzNy45MDEtOC42NzQgNDYuNzc4LTQuNTcgMTEuNzU5LTEwLjAyOSAyMC4xNTEtMTguODQ1IDI4Ljk2NnMtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1Yy04Ljg3NyAzLjQ1LTIyLjIxNiA3LjU1NC00Ni43NzggOC42NzQtMjYuNTYgMS4yMTItMzQuNTI3IDEuNDY5LTEwMS43OTcgMS40NjktNjcuMjcxIDAtNzUuMjM3LS4yNTctMTAxLjc5OC0xLjQ2OS0yNC41NjItMS4xMi0zNy45MDEtNS4yMjQtNDYuNzc4LTguNjc0LTExLjc1OS00LjU3LTIwLjE1MS0xMC4wMjktMjguOTY2LTE4Ljg0NXMtMTQuMjc1LTE3LjIwNy0xOC44NDUtMjguOTY2Yy0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NnMxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDVjOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OSIgbWFzaz0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yNTEuOTIxIDMzNi4wNTNjLTQ2LjM3OCAwLTgzLjk3NC0zNy41OTYtODMuOTc0LTgzLjk3M3MzNy41OTYtODMuOTc0IDgzLjk3NC04My45NzRjNDYuMzc3IDAgODMuOTczIDM3LjU5NiA4My45NzMgODMuOTc0IDAgNDYuMzc3LTM3LjU5NiA4My45NzMtODMuOTczIDgzLjk3M20wLTIxMy4zMzhjLTcxLjQ0NyAwLTEyOS4zNjUgNTcuOTE4LTEyOS4zNjUgMTI5LjM2NSAwIDcxLjQ0NiA1Ny45MTggMTI5LjM2NCAxMjkuMzY1IDEyOS4zNjQgNzEuNDQ2IDAgMTI5LjM2NC01Ny45MTggMTI5LjM2NC0xMjkuMzY0IDAtNzEuNDQ3LTU3LjkxOC0xMjkuMzY1LTEyOS4zNjQtMTI5LjM2NU00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjNzMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzFjMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,goGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,o+GACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,g/BACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not read–only.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},5651:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},5506:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},4043:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},2655:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const B=j},5032:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const B=j},2329:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const B=j},4143:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@mixin ck-media-forced-colors {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	@mixin ck-media-default-colors {
		&.table__caption_highlighted {
			animation: ck-table-caption-highlight .6s ease-out;
		}
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const B=j},8986:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},8795:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const B=j},8137:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const B=j},1623:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8ECxCD,eD6DC,CArBA,mMCpCA,qCDyDA,CArBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CAXC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEAKD,CAHC,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;

			@media (prefers-reduced-motion: reduce) {
				animation: none;
			}
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},5562:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},8423:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},1801:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}

.ck.ck-aria-live-region-list {
	list-style-type: none;
}
`],sourceRoot:""}]);const B=j},5727:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},9715:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD+ID,CC5IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eFgJD,CA/IA,wIEGE,qCF4IF,CA/IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBA0ID,CAhHC,uCA/BD,6BAgCE,eA+GF,CA9GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAWD,CAZA,6FAIE,mCAQF,CAZA,6FAQE,oCAIF,CAZA,yEAWC,UACD,CAIC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCClIA,+CDsIA,CCnIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDmHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CClJC,mDDuJD,CCpJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDmID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		opacity: .5;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const B=j},4391:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eDgFA,CA5CA,yIChCC,qCD4ED,CA5CA,2DAKE,gBAuCF,CA5CA,2DAUE,iBAkCF,CA5CA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CA2BD,CAxBC,2ECxDD,eDuEC,CAfA,6LCpDA,qCAAsC,CDsDpC,8CAaF,CAfA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CAHC,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEpFA,kCFsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floating–point numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const B=j},25:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-list-button-padding);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const B=j},7317:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	transition: .2s ease box-shadow;

	@mixin ck-media-default-colors {
		width: var(--ck-color-grid-tile-size);
		height: var(--ck-color-grid-tile-size);
		min-width: var(--ck-color-grid-tile-size);
		min-height: var(--ck-color-grid-tile-size);
		padding: 0;
		border: 0;

		&.ck-on,
		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			/* Disable the default .ck-button's border ring. */
			border: 0;
		}

		&.ck-color-selector__color-tile_bordered {
			box-shadow: 0 0 0 1px var(--ck-color-base-border);
		}

		&.ck-on {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);
		}

		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
		}
	}

	/*
	 * In high contrast mode, the colors are replaced with text labels.
	 * See https://github.com/ckeditor/ckeditor5/issues/14907.
	 */
	@mixin ck-media-forced-colors {
		width: unset;
		height: unset;
		min-width: unset;
		min-height: unset;
		padding: 0 var(--ck-spacing-small);

		& .ck-button__label {
			display: inline-block;
		}
	}

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		& .ck.ck-icon {
			display: block;
		}
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const B=j},1905:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const B=j},6309:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const B=j},9819:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cEfC,oCAA8B,CFmB9B,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;

		& .ck-form__header__label {
			cursor: grab;
		}
	}

	@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},9822:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const B=j},8149:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},3629:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},1792:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},1666:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const B=j},8527:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},1185:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},7913:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const B=j},9529:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const B=j},7621:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},253:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eDmDD,CA9CA,iECDE,qCD+CF,CA9CA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CAhCC,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		@media (prefers-reduced-motion: reduce) {
			animation: none;
		}

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},7801:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const B=j},4962:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CA9GA,2FCDE,qCD+GF,CA3GC,mEACC,UAwCD,CAtCC,gFACC,KAoCD,CArCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBAgCF,CArCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAyBF,CArCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAQD,CAHC,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},5199:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,qJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAwCD,CA1CA,uCAME,eAoCF,CA1CA,uCAUE,gBAgCF,CA1CA,6BAgBC,qCA0BD,CAxBC,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.11 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& > .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& > .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},497:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;
	background: var(--ck-color-base-background);
	padding: var(--ck-spacing-small);
	gap: var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);
	width: 100%;
}
`],sourceRoot:""}]);const B=j},4:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	display: block;
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	&.ck-menu-bar__menu_top-level {
		max-width: 100%;
	}
}
`],sourceRoot:""}]);const B=j},3344:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,qCAAsC,CACtC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECdD,kCDgBC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAgBD,CAbC,+FAEC,iBAAkB,CADlB,WAED,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eAiDD,CA/CC,yFACC,wBAAyB,CACzB,eAKD,CAHC,qGACC,0DACD,CAID,iIACC,+DACD,CAEA,qHACC,mCASD,CAVA,+HAIE,wBAMF,CAVA,+HAQE,uBAEF,CAEA,iICrFD,kCDuFC,CAGC,+HAIC,sCAAuC,CAHvC,gCAID,CAIA,+HACC,+BAAgC,CAGhC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu  {
	& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * All menu buttons.
	 */
	& > .ck-menu-bar__menu__button {
		padding: var(--ck-list-button-padding);
		width: 100%;

		& > .ck-button__label {
			flex-grow: 1;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&.ck-disabled > .ck-button__label {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				padding-right: var(--ck-spacing-small);
			}
		}
	}

	/*
	 * Top-level menu buttons only.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {
		padding: var(--ck-spacing-small) var(--ck-spacing-medium);
		min-height: unset;

		& .ck-button__label {
			width: unset;
			line-height: unset;
		}

		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		& .ck-icon {
			display: none;
		}
	}

	/*
	 * Sub-menu buttons.
	 */
	&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {
		border-radius: 0;

		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}

		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}

		& > .ck-menu-bar__menu__button__arrow {
			width: var(--ck-dropdown-arrow-size);

			@mixin ck-dir ltr {
				transform: rotate(-90deg);
			}

			@mixin ck-dir rtl {
				transform: rotate(90deg);
			}
		}

		&.ck-disabled > .ck-menu-bar__menu__button__arrow {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			& > .ck-menu-bar__menu__button__arrow {
				right: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-left: var(--ck-spacing-standard);
			}
		}

		@mixin ck-dir rtl {
			& > .ck-menu-bar__menu__button__arrow {
				left: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-right: var(--ck-spacing-small);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const B=j},9481:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-item-min-width: 18em;
}

.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {
	min-width: var(--ck-menu-bar-menu-item-min-width);
}
`],sourceRoot:""}]);const B=j},977:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css"],names:[],mappings:"AASC,iEACC,eA0BD,CAxBC,0LAGC,8BACD,CAEA,uFAEC,4CAA+C,CAC/C,oCACD,CAMA,uEACC,wBAAyB,CACzB,eAKD,CAHC,mFACC,0DACD,CASD,uLACC,+DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/*
	 * List item buttons.
	 */
	& .ck-button.ck-menu-bar__menu__item__button {
		border-radius: 0;

		& > .ck-spinner-container,
		& > .ck-spinner-container .ck-spinner {
			/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
			--ck-toolbar-spinner-size: 20px;
		}

		& > .ck-spinner-container {
			/* These margins are the same as for .ck-icon. */
			margin-left: calc(-1 * var(--ck-spacing-small));
			margin-right: var(--ck-spacing-small);
		}

		/*
		 * Hovered items automatically get focused. Default focus styles look odd
		 * while moving across a huge list of items so let's get rid of them
		 */
		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}
	}

	/*
	 * First-level sub-menu item buttons.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__panel > ul > .ck-menu-bar__menu__item > .ck-menu-bar__menu__item__button {
		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}
	}
}


`],sourceRoot:""}]);const B=j},9108:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCpDD,MACC,uCACD,CAEA,mDCDC,eDmCD,CAlCA,6ICGE,qCD+BF,CAlCA,mDAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CETT,oCAA8B,CFU9B,kBAAmB,CACnB,iDA0BD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-max-width: 75vw;
	--ck-menu-bar-nested-menu-horizontal-offset: 5px;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	z-index: var(--ck-z-panel);
	max-width: var(--ck-menu-bar-menu-max-width);
	position: absolute;

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_nw {
		bottom: 100%;
	}

	&.ck-menu-bar__menu__panel_position_se,
	&.ck-menu-bar__menu__panel_position_sw {
		top: 100%;
		bottom: auto;
	}

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_se {
		left: 0px;
	}

	&.ck-menu-bar__menu__panel_position_nw,
	&.ck-menu-bar__menu__panel_position_sw {
		right: 0px;
	}

	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_en {
		left: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_es {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_en {
		bottom: 0px;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_wn {
		right: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_ws {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_wn {
		bottom: 0px;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-menu-bar-menu-panel-max-width: 75vw;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-menu-bar-menu-panel-max-width);

	/* Corner border radius consistent with the button. */
	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_se {
		border-top-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_sw {
		border-top-right-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_en,
	&.ck-menu-bar__menu__panel_position_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_wn,
	&.ck-menu-bar__menu__panel_position_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},3710:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},991:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const B=j},5380:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},8298:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},2722:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDrEH",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text,
			& .ck-input-number {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},8107:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const B=j},109:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCAAsC,CADtC,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 3s;
	}
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}
`],sourceRoot:""}]);const B=j},1671:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const B=j},2710:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const B=j},9677:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},9205:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-balloon-panel.ck-tooltip {
	@mixin ck-unselectable;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const B=j},7676:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;

	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const B=j},695:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAYD,CARC,yGCnCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YD2CA,CGvCA,4BACC,yGHoCC,iEGlCD,CACD,CHuCA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
		@mixin ck-media-default-colors {
			background-color: var(--ck-color-widget-editable-focus-background);
		}
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);

				@media (prefers-reduced-motion: reduce) {
					transition: none;
				}
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const B=j},4095:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const B=j},8508:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}

			@media (prefers-reduced-motion: reduce) {
				animation: none;

				& svg {
					& polyline {
						animation: none;
					}

					& line {
						animation: none;
					}
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const B=j},935:_=>{_.exports=function(y){var v=[];return v.toString=function(){return this.map(function(N){var S=y(N);return N[2]?"@media ".concat(N[2]," {").concat(S,"}"):S}).join("")},v.i=function(N,S,D){typeof N=="string"&&(N=[[null,N,""]]);var j={};if(D)for(var B=0;B<this.length;B++){var F=this[B][0];F!=null&&(j[F]=!0)}for(var V=0;V<N.length;V++){var $=[].concat(N[V]);D&&j[$[0]]||(S&&($[2]?$[2]="".concat(S," and ").concat($[2]):$[2]=S),v.push($))}},v}},9372:_=>{function y(N,S){return function(D){if(Array.isArray(D))return D}(N)||function(D,j){var B=D&&(typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"]);if(B!=null){var F,V,$=[],K=!0,Q=!1;try{for(B=B.call(D);!(K=(F=B.next()).done)&&($.push(F.value),!j||$.length!==j);K=!0);}catch(ee){Q=!0,V=ee}finally{try{K||B.return==null||B.return()}finally{if(Q)throw V}}return $}}(N,S)||function(D,j){if(D){if(typeof D=="string")return v(D,j);var B=Object.prototype.toString.call(D).slice(8,-1);if(B==="Object"&&D.constructor&&(B=D.constructor.name),B==="Map"||B==="Set")return Array.from(D);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return v(D,j)}}(N,S)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(N,S){(S==null||S>N.length)&&(S=N.length);for(var D=0,j=new Array(S);D<S;D++)j[D]=N[D];return j}_.exports=function(N){var S=y(N,4),D=S[1],j=S[3];if(!j)return D;if(typeof btoa=="function"){var B=btoa(unescape(encodeURIComponent(JSON.stringify(j)))),F="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(B),V="/*# ".concat(F," */"),$=j.sources.map(function(K){return"/*# sourceURL=".concat(j.sourceRoot||"").concat(K," */")});return[D].concat($).concat([V]).join(`
`)}return[D].join(`
`)}},2591:(_,y,v)=>{var N,S=function(){return N===void 0&&(N=!!(window&&document&&document.all&&!window.atob)),N},D=function(){var q={};return function(de){if(q[de]===void 0){var re=document.querySelector(de);if(window.HTMLIFrameElement&&re instanceof window.HTMLIFrameElement)try{re=re.contentDocument.head}catch{re=null}q[de]=re}return q[de]}}(),j=[];function B(q){for(var de=-1,re=0;re<j.length;re++)if(j[re].identifier===q){de=re;break}return de}function F(q,de){for(var re={},be=[],ke=0;ke<q.length;ke++){var we=q[ke],De=de.base?we[0]+de.base:we[0],_e=re[De]||0,je="".concat(De," ").concat(_e);re[De]=_e+1;var oe=B(je),ve={css:we[1],media:we[2],sourceMap:we[3]};oe!==-1?(j[oe].references++,j[oe].updater(ve)):j.push({identifier:je,updater:se(ve,de),references:1}),be.push(je)}return be}function V(q){var de=document.createElement("style"),re=q.attributes||{};if(re.nonce===void 0){var be=v.nc;be&&(re.nonce=be)}if(Object.keys(re).forEach(function(we){de.setAttribute(we,re[we])}),typeof q.insert=="function")q.insert(de);else{var ke=D(q.insert||"head");if(!ke)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ke.appendChild(de)}return de}var $,K=($=[],function(q,de){return $[q]=de,$.filter(Boolean).join(`
`)});function Q(q,de,re,be){var ke=re?"":be.media?"@media ".concat(be.media," {").concat(be.css,"}"):be.css;if(q.styleSheet)q.styleSheet.cssText=K(de,ke);else{var we=document.createTextNode(ke),De=q.childNodes;De[de]&&q.removeChild(De[de]),De.length?q.insertBefore(we,De[de]):q.appendChild(we)}}function ee(q,de,re){var be=re.css,ke=re.media,we=re.sourceMap;if(ke?q.setAttribute("media",ke):q.removeAttribute("media"),we&&typeof btoa<"u"&&(be+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(we))))," */")),q.styleSheet)q.styleSheet.cssText=be;else{for(;q.firstChild;)q.removeChild(q.firstChild);q.appendChild(document.createTextNode(be))}}var ne=null,le=0;function se(q,de){var re,be,ke;if(de.singleton){var we=le++;re=ne||(ne=V(de)),be=Q.bind(null,re,we,!1),ke=Q.bind(null,re,we,!0)}else re=V(de),be=ee.bind(null,re,de),ke=function(){(function(De){if(De.parentNode===null)return!1;De.parentNode.removeChild(De)})(re)};return be(q),function(De){if(De){if(De.css===q.css&&De.media===q.media&&De.sourceMap===q.sourceMap)return;be(q=De)}else ke()}}_.exports=function(q,de){(de=de||{}).singleton||typeof de.singleton=="boolean"||(de.singleton=S());var re=F(q=q||[],de);return function(be){if(be=be||[],Object.prototype.toString.call(be)==="[object Array]"){for(var ke=0;ke<re.length;ke++){var we=B(re[ke]);j[we].references--}for(var De=F(be,de),_e=0;_e<re.length;_e++){var je=B(re[_e]);j[je].references===0&&(j[je].updater(),j.splice(je,1))}re=De}}}}},o={};function h(_){var y=o[_];if(y!==void 0)return y.exports;var v=o[_]={id:_,exports:{}};return s[_](v,v.exports,h),v.exports}h.n=_=>{var y=_&&_.__esModule?()=>_.default:()=>_;return h.d(y,{a:y}),y},h.d=(_,y)=>{for(var v in y)h.o(y,v)&&!h.o(_,v)&&Object.defineProperty(_,v,{enumerable:!0,get:y[v]})},h.o=(_,y)=>Object.prototype.hasOwnProperty.call(_,y),h.nc=void 0;var g={};return(()=>{let _;h.d(g,{default:()=>Xy});try{_={window,document}}catch{_={window:{},document:{}}}const y=_,v=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var N;const S={isMac:D(v),isWindows:(N=v,N.indexOf("windows")>-1),isGecko:function(r){return!!r.match(/gecko\/\d+/)}(v),isSafari:function(r){return r.indexOf(" applewebkit/")>-1&&r.indexOf("chrome")===-1}(v),isiOS:function(r){return!!r.match(/iphone|ipad/i)||D(r)&&navigator.maxTouchPoints>0}(v),isAndroid:function(r){return r.indexOf("android")>-1}(v),isBlink:function(r){return r.indexOf("chrome/")>-1&&r.indexOf("edge/")<0}(v),features:{isRegExpUnicodePropertySupported:function(){let r=!1;try{r="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return r}()}};function D(r){return r.indexOf("macintosh")>-1}function j(r,e,t,n){t=t||function(w,A){return w===A};const a=Array.isArray(r)?r:Array.prototype.slice.call(r),u=Array.isArray(e)?e:Array.prototype.slice.call(e),f=function(w,A,E){const O=B(w,A,E);if(O===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const z=F(w,O),U=F(A,O),W=B(z,U,E),X=w.length-W,ae=A.length-W;return{firstIndex:O,lastIndexOld:X,lastIndexNew:ae}}(a,u,t);return n?function(w,A){const{firstIndex:E,lastIndexOld:O,lastIndexNew:z}=w;if(E===-1)return Array(A).fill("equal");let U=[];return E>0&&(U=U.concat(Array(E).fill("equal"))),z-E>0&&(U=U.concat(Array(z-E).fill("insert"))),O-E>0&&(U=U.concat(Array(O-E).fill("delete"))),z<A&&(U=U.concat(Array(A-z).fill("equal"))),U}(f,u.length):function(w,A){const E=[],{firstIndex:O,lastIndexOld:z,lastIndexNew:U}=A;return U-O>0&&E.push({index:O,type:"insert",values:w.slice(O,U)}),z-O>0&&E.push({index:O+(U-O),type:"delete",howMany:z-O}),E}(u,f)}function B(r,e,t){for(let n=0;n<Math.max(r.length,e.length);n++)if(r[n]===void 0||e[n]===void 0||!t(r[n],e[n]))return n;return-1}function F(r,e){return r.slice(e).reverse()}function V(r,e,t){t=t||function(X,ae){return X===ae};const n=r.length,a=e.length;if(n>200||a>200||n+a>300)return V.fastDiff(r,e,t,!0);let u,f;if(a<n){const X=r;r=e,e=X,u="delete",f="insert"}else u="insert",f="delete";const b=r.length,w=e.length,A=w-b,E={},O={};function z(X){const ae=(O[X-1]!==void 0?O[X-1]:-1)+1,ge=O[X+1]!==void 0?O[X+1]:-1,Me=ae>ge?-1:1;E[X+Me]&&(E[X]=E[X+Me].slice(0)),E[X]||(E[X]=[]),E[X].push(ae>ge?u:f);let Ze=Math.max(ae,ge),pt=Ze-X;for(;pt<b&&Ze<w&&t(r[pt],e[Ze]);)pt++,Ze++,E[X].push("equal");return Ze}let U,W=0;do{for(U=-W;U<A;U++)O[U]=z(U);for(U=A+W;U>A;U--)O[U]=z(U);O[A]=z(A),W++}while(O[A]!==w);return E[A].slice(1)}V.fastDiff=j;const $=function(){return function r(){r.called=!0}};class K{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=$(),this.off=$()}}const Q=new Array(256).fill("").map((r,e)=>("0"+e.toString(16)).slice(-2));function ee(){const r=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0;return"e"+Q[255&r]+Q[r>>8&255]+Q[r>>16&255]+Q[r>>24&255]+Q[255&e]+Q[e>>8&255]+Q[e>>16&255]+Q[e>>24&255]+Q[255&t]+Q[t>>8&255]+Q[t>>16&255]+Q[t>>24&255]+Q[255&n]+Q[n>>8&255]+Q[n>>16&255]+Q[n>>24&255]}const ne={get(r="normal"){return typeof r!="number"?this[r]||this.normal:r},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function le(r,e){const t=ne.get(e.priority);for(let n=0;n<r.length;n++)if(ne.get(r[n].priority)<t)return void r.splice(n,0,e);r.push(e)}const se="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class q extends Error{constructor(e,t,n){super(function(a,u){const f=new WeakSet,b=(E,O)=>{if(typeof O=="object"&&O!==null){if(f.has(O))return`[object ${O.constructor.name}]`;f.add(O)}return O},w=u?` ${JSON.stringify(u,b)}`:"",A=be(a);return a+w+A}(e,n)),this.name="CKEditorError",this.context=t,this.data=n}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const n=new q(e.message,t);throw n.stack=e.stack,n}}function de(r,e){console.warn(...ke(r,e))}function re(r,e){console.error(...ke(r,e))}function be(r){return`
Read more: ${se}#error-${r}`}function ke(r,e){const t=be(r);return e?[r,e,t]:[r,t]}const we="41.4.2",De=new Date(2024,4,17);if(globalThis.CKEDITOR_VERSION)throw new q("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=we;const _e=Symbol("listeningTo"),je=Symbol("emitterId"),oe=Symbol("delegations"),ve=he(Object);function he(r){return r?class extends r{on(e,t,n){this.listenTo(this,e,t,n)}once(e,t,n){let a=!1;this.listenTo(this,e,(u,...f)=>{a||(a=!0,u.off(),t.call(this,u,...f))},n)}off(e,t){this.stopListening(this,e,t)}listenTo(e,t,n,a={}){let u,f;this[_e]||(this[_e]={});const b=this[_e];Z(e)||Ee(e);const w=Z(e);(u=b[w])||(u=b[w]={emitter:e,callbacks:{}}),(f=u.callbacks[t])||(f=u.callbacks[t]=[]),f.push(n),function(A,E,O,z,U){E._addEventListener?E._addEventListener(O,z,U):A._addEventListener.call(E,O,z,U)}(this,e,t,n,a)}stopListening(e,t,n){const a=this[_e];let u=e&&Z(e);const f=a&&u?a[u]:void 0,b=f&&t?f.callbacks[t]:void 0;if(!(!a||e&&!f||t&&!b))if(n)et(this,e,t,n),b.indexOf(n)!==-1&&(b.length===1?delete f.callbacks[t]:et(this,e,t,n));else if(b){for(;n=b.pop();)et(this,e,t,n);delete f.callbacks[t]}else if(f){for(t in f.callbacks)this.stopListening(e,t);delete a[u]}else{for(u in a)this.stopListening(a[u].emitter);delete this[_e]}}fire(e,...t){try{const n=e instanceof K?e:new K(this,e),a=n.name;let u=Se(this,a);if(n.path.push(this),u){const b=[n,...t];u=Array.from(u);for(let w=0;w<u.length&&(u[w].callback.apply(this,b),n.off.called&&(delete n.off.called,this._removeEventListener(a,u[w].callback)),!n.stop.called);w++);}const f=this[oe];if(f){const b=f.get(a),w=f.get("*");b&&He(b,n,t),w&&He(w,n,t)}return n.return}catch(n){q.rethrowUnexpectedError(n,this)}}delegate(...e){return{to:(t,n)=>{this[oe]||(this[oe]=new Map),e.forEach(a=>{const u=this[oe].get(a);u?u.set(t,n):this[oe].set(a,new Map([[t,n]]))})}}}stopDelegating(e,t){if(this[oe])if(e)if(t){const n=this[oe].get(e);n&&n.delete(t)}else this[oe].delete(e);else this[oe].clear()}_addEventListener(e,t,n){(function(f,b){const w=fe(f);if(w[b])return;let A=b,E=null;const O=[];for(;A!==""&&!w[A];)w[A]={callbacks:[],childEvents:[]},O.push(w[A]),E&&w[A].childEvents.push(E),E=A,A=A.substr(0,A.lastIndexOf(":"));if(A!==""){for(const z of O)z.callbacks=w[A].callbacks.slice();w[A].childEvents.push(E)}})(this,e);const a=Ce(this,e),u={callback:t,priority:ne.get(n.priority)};for(const f of a)le(f,u)}_removeEventListener(e,t){const n=Ce(this,e);for(const a of n)for(let u=0;u<a.length;u++)a[u].callback==t&&(a.splice(u,1),u--)}}:ve}function Ee(r,e){r[je]||(r[je]=e||ee())}function Z(r){return r[je]}function fe(r){return r._events||Object.defineProperty(r,"_events",{value:{}}),r._events}function Ce(r,e){const t=fe(r)[e];if(!t)return[];let n=[t.callbacks];for(let a=0;a<t.childEvents.length;a++){const u=Ce(r,t.childEvents[a]);n=n.concat(u)}return n}function Se(r,e){let t;return r._events&&(t=r._events[e])&&t.callbacks.length?t.callbacks:e.indexOf(":")>-1?Se(r,e.substr(0,e.lastIndexOf(":"))):null}function He(r,e,t){for(let[n,a]of r){a?typeof a=="function"&&(a=a(e.name)):a=e.name;const u=new K(e.source,a);u.path=[...e.path],n.fire(u,...t)}}function et(r,e,t,n){e._removeEventListener?e._removeEventListener(t,n):r._removeEventListener.call(e,t,n)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(r=>{he[r]=ve.prototype[r]});const pe=function(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")},me=Symbol("observableProperties"),Ie=Symbol("boundObservables"),We=Symbol("boundProperties"),Le=Symbol("decoratedMethods"),st=Symbol("decoratedOriginal"),Ge=Oe(he());function Oe(r){return r?class extends r{set(e,t){if(pe(e))return void Object.keys(e).forEach(a=>{this.set(a,e[a])},this);ut(this);const n=this[me];if(e in this&&!n.has(e))throw new q("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>n.get(e),set(a){const u=n.get(e);let f=this.fire(`set:${e}`,e,a,u);f===void 0&&(f=a),u===f&&n.has(e)||(n.set(e,f),this.fire(`change:${e}`,e,f,u))}}),this[e]=t}bind(...e){if(!e.length||!Pt(e))throw new q("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new q("observable-bind-duplicate-properties",this);ut(this);const t=this[We];e.forEach(a=>{if(t.has(a))throw new q("observable-bind-rebind",this)});const n=new Map;return e.forEach(a=>{const u={property:a,to:[]};t.set(a,u),n.set(a,u)}),{to:Fe,toMany:ht,_observable:this,_bindProperties:e,_to:[],_bindings:n}}unbind(...e){if(!this[me])return;const t=this[We],n=this[Ie];if(e.length){if(!Pt(e))throw new q("observable-unbind-wrong-properties",this);e.forEach(a=>{const u=t.get(a);u&&(u.to.forEach(([f,b])=>{const w=n.get(f),A=w[b];A.delete(u),A.size||delete w[b],Object.keys(w).length||(n.delete(f),this.stopListening(f,"change"))}),t.delete(a))})}else n.forEach((a,u)=>{this.stopListening(u,"change")}),n.clear(),t.clear()}decorate(e){ut(this);const t=this[e];if(!t)throw new q("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(n,a)=>{n.return=t.apply(this,a)}),this[e]=function(...n){return this.fire(e,n)},this[e][st]=t,this[Le]||(this[Le]=[]),this[Le].push(e)}stopListening(e,t,n){if(!e&&this[Le]){for(const a of this[Le])this[a]=this[a][st];delete this[Le]}super.stopListening(e,t,n)}}:Ge}function ut(r){r[me]||(Object.defineProperty(r,me,{value:new Map}),Object.defineProperty(r,Ie,{value:new Map}),Object.defineProperty(r,We,{value:new Map}))}function Fe(...r){const e=function(...u){if(!u.length)throw new q("observable-bind-to-parse-error",null);const f={to:[]};let b;return typeof u[u.length-1]=="function"&&(f.callback=u.pop()),u.forEach(w=>{if(typeof w=="string")b.properties.push(w);else{if(typeof w!="object")throw new q("observable-bind-to-parse-error",null);b={observable:w,properties:[]},f.to.push(b)}}),f}(...r),t=Array.from(this._bindings.keys()),n=t.length;if(!e.callback&&e.to.length>1)throw new q("observable-bind-to-no-callback",this);if(n>1&&e.callback)throw new q("observable-bind-to-extra-callback",this);var a;e.to.forEach(u=>{if(u.properties.length&&u.properties.length!==n)throw new q("observable-bind-to-properties-length",this);u.properties.length||(u.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),a=this._observable,this._to.forEach(u=>{const f=a[Ie];let b;f.get(u.observable)||a.listenTo(u.observable,"change",(w,A)=>{b=f.get(u.observable)[A],b&&b.forEach(E=>{en(a,E.property)})})}),function(u){let f;u._bindings.forEach((b,w)=>{u._to.forEach(A=>{f=A.properties[b.callback?0:u._bindProperties.indexOf(w)],b.to.push([A.observable,f]),function(E,O,z,U){const W=E[Ie],X=W.get(z),ae=X||{};ae[U]||(ae[U]=new Set),ae[U].add(O),X||W.set(z,ae)}(u._observable,b,A.observable,f)})})}(this),this._bindProperties.forEach(u=>{en(this._observable,u)})}function ht(r,e,t){if(this._bindings.size>1)throw new q("observable-bind-to-many-not-one-binding",this);this.to(...function(n,a){const u=n.map(f=>[f,a]);return Array.prototype.concat.apply([],u)}(r,e),t)}function Pt(r){return r.every(e=>typeof e=="string")}function en(r,e){const t=r[We].get(e);let n;t.callback?n=t.callback.apply(r,t.to.map(a=>a[0][a[1]])):(n=t.to[0],n=n[0][n[1]]),Object.prototype.hasOwnProperty.call(r,e)?r[e]=n:r.set(e,n)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(r=>{Oe[r]=Ge.prototype[r]});class at{constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display="",t&&t.remove()}),this._replacedElements=[]}}function jt(r){let e=0;for(const t of r)e++;return e}function Dt(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++)if(r[n]!=e[n])return n;return r.length==e.length?"same":r.length<e.length?"prefix":"extension"}function Qe(r){return!(!r||!r[Symbol.iterator])}const Tt=typeof Hl=="object"&&Hl&&Hl.Object===Object&&Hl;var Ot=typeof self=="object"&&self&&self.Object===Object&&self;const $e=Tt||Ot||Function("return this")(),bt=$e.Symbol;var $t=Object.prototype,fn=$t.hasOwnProperty,Rn=$t.toString,vn=bt?bt.toStringTag:void 0;const ai=function(r){var e=fn.call(r,vn),t=r[vn];try{r[vn]=void 0;var n=!0}catch{}var a=Rn.call(r);return n&&(e?r[vn]=t:delete r[vn]),a};var ci=Object.prototype.toString;const Ar=function(r){return ci.call(r)};var nr=bt?bt.toStringTag:void 0;const Li=function(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":nr&&nr in Object(r)?ai(r):Ar(r)},ni=Array.isArray,Xn=function(r){return r!=null&&typeof r=="object"},$s=function(r){return typeof r=="string"||!ni(r)&&Xn(r)&&Li(r)=="[object String]"};function di(r,e,t={},n=[]){const a=t&&t.xmlns,u=a?r.createElementNS(a,e):r.createElement(e);for(const f in t)u.setAttribute(f,t[f]);!$s(n)&&Qe(n)||(n=[n]);for(let f of n)$s(f)&&(f=r.createTextNode(f)),u.appendChild(f);return u}const ir=function(r,e){return function(t){return r(e(t))}},kr=ir(Object.getPrototypeOf,Object);var rr=Function.prototype,Nr=Object.prototype,qe=rr.toString,Zt=Nr.hasOwnProperty,rt=qe.call(Object);const Re=function(r){if(!Xn(r)||Li(r)!="[object Object]")return!1;var e=kr(r);if(e===null)return!0;var t=Zt.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&qe.call(t)==rt},Lt=function(){this.__data__=[],this.size=0},ft=function(r,e){return r===e||r!=r&&e!=e},Bt=function(r,e){for(var t=r.length;t--;)if(ft(r[t][0],e))return t;return-1};var an=Array.prototype.splice;const On=function(r){var e=this.__data__,t=Bt(e,r);return!(t<0)&&(t==e.length-1?e.pop():an.call(e,t,1),--this.size,!0)},Sn=function(r){var e=this.__data__,t=Bt(e,r);return t<0?void 0:e[t][1]},fi=function(r){return Bt(this.__data__,r)>-1},ye=function(r,e){var t=this.__data__,n=Bt(t,r);return n<0?(++this.size,t.push([r,e])):t[n][1]=e,this};function dt(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}dt.prototype.clear=Lt,dt.prototype.delete=On,dt.prototype.get=Sn,dt.prototype.has=fi,dt.prototype.set=ye;const xt=dt,ln=function(){this.__data__=new xt,this.size=0},qn=function(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t},Te=function(r){return this.__data__.get(r)},Et=function(r){return this.__data__.has(r)},Mt=function(r){if(!pe(r))return!1;var e=Li(r);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},wn=$e["__core-js_shared__"];var qt=function(){var r=/[^.]+$/.exec(wn&&wn.keys&&wn.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();const jn=function(r){return!!qt&&qt in r};var Wn=Function.prototype.toString;const ii=function(r){if(r!=null){try{return Wn.call(r)}catch{}try{return r+""}catch{}}return""};var pi=/^\[object .+?Constructor\]$/,Rr=Function.prototype,Pr=Object.prototype,mo=Rr.toString,Nc=Pr.hasOwnProperty,_a=RegExp("^"+mo.call(Nc).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const fo=function(r){return!(!pe(r)||jn(r))&&(Mt(r)?_a:pi).test(ii(r))},qs=function(r,e){return r==null?void 0:r[e]},Kr=function(r,e){var t=qs(r,e);return fo(t)?t:void 0},us=Kr($e,"Map"),hs=Kr(Object,"create"),Fa=function(){this.__data__=hs?hs(null):{},this.size=0},po=function(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e};var Yn=Object.prototype.hasOwnProperty;const _i=function(r){var e=this.__data__;if(hs){var t=e[r];return t==="__lodash_hash_undefined__"?void 0:t}return Yn.call(e,r)?e[r]:void 0};var _r=Object.prototype.hasOwnProperty;const To=function(r){var e=this.__data__;return hs?e[r]!==void 0:_r.call(e,r)},Jo=function(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=hs&&e===void 0?"__lodash_hash_undefined__":e,this};function Qr(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}Qr.prototype.clear=Fa,Qr.prototype.delete=po,Qr.prototype.get=_i,Qr.prototype.has=To,Qr.prototype.set=Jo;const Nn=Qr,Gn=function(){this.size=0,this.__data__={hash:new Nn,map:new(us||xt),string:new Nn}},Er=function(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null},Mi=function(r,e){var t=r.__data__;return Er(e)?t[typeof e=="string"?"string":"hash"]:t.map},Ei=function(r){var e=Mi(this,r).delete(r);return this.size-=e?1:0,e},Ha=function(r){return Mi(this,r).get(r)},Ws=function(r){return Mi(this,r).has(r)},$i=function(r,e){var t=Mi(this,r),n=t.size;return t.set(r,e),this.size+=t.size==n?0:1,this};function Vn(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}Vn.prototype.clear=Gn,Vn.prototype.delete=Ei,Vn.prototype.get=Ha,Vn.prototype.has=Ws,Vn.prototype.set=$i;const zr=Vn,Sr=function(r,e){var t=this.__data__;if(t instanceof xt){var n=t.__data__;if(!us||n.length<199)return n.push([r,e]),this.size=++t.size,this;t=this.__data__=new zr(n)}return t.set(r,e),this.size=t.size,this};function ms(r){var e=this.__data__=new xt(r);this.size=e.size}ms.prototype.clear=ln,ms.prototype.delete=qn,ms.prototype.get=Te,ms.prototype.has=Et,ms.prototype.set=Sr;const Ys=ms,xs=function(r,e){for(var t=-1,n=r==null?0:r.length;++t<n&&e(r[t],t,r)!==!1;);return r},Gs=function(){try{var r=Kr(Object,"defineProperty");return r({},"",{}),r}catch{}}(),xe=function(r,e,t){e=="__proto__"&&Gs?Gs(r,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[e]=t};var Ct=Object.prototype.hasOwnProperty;const nn=function(r,e,t){var n=r[e];Ct.call(r,e)&&ft(n,t)&&(t!==void 0||e in r)||xe(r,e,t)},Dn=function(r,e,t,n){var a=!t;t||(t={});for(var u=-1,f=e.length;++u<f;){var b=e[u],w=void 0;w===void 0&&(w=r[b]),a?xe(t,b,w):nn(t,b,w)}return t},vi=function(r,e){for(var t=-1,n=Array(r);++t<r;)n[t]=e(t);return n},Hi=function(r){return Xn(r)&&Li(r)=="[object Arguments]"};var wi=Object.prototype,hl=wi.hasOwnProperty,Xt=wi.propertyIsEnumerable;const qi=Hi(function(){return arguments}())?Hi:function(r){return Xn(r)&&hl.call(r,"callee")&&!Xt.call(r,"callee")},Jn=function(){return!1};var fs=c&&!c.nodeType&&c,go=fs&&!0&&l&&!l.nodeType&&l,va=go&&go.exports===fs?$e.Buffer:void 0;const Zr=(va?va.isBuffer:void 0)||Jn;var bo=/^(?:0|[1-9]\d*)$/;const Ks=function(r,e){var t=typeof r;return!!(e=e??9007199254740991)&&(t=="number"||t!="symbol"&&bo.test(r))&&r>-1&&r%1==0&&r<e},Mo=function(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=9007199254740991};var Tn={};Tn["[object Float32Array]"]=Tn["[object Float64Array]"]=Tn["[object Int8Array]"]=Tn["[object Int16Array]"]=Tn["[object Int32Array]"]=Tn["[object Uint8Array]"]=Tn["[object Uint8ClampedArray]"]=Tn["[object Uint16Array]"]=Tn["[object Uint32Array]"]=!0,Tn["[object Arguments]"]=Tn["[object Array]"]=Tn["[object ArrayBuffer]"]=Tn["[object Boolean]"]=Tn["[object DataView]"]=Tn["[object Date]"]=Tn["[object Error]"]=Tn["[object Function]"]=Tn["[object Map]"]=Tn["[object Number]"]=Tn["[object Object]"]=Tn["[object RegExp]"]=Tn["[object Set]"]=Tn["[object String]"]=Tn["[object WeakMap]"]=!1;const Cs=function(r){return Xn(r)&&Mo(r.length)&&!!Tn[Li(r)]},ql=function(r){return function(e){return r(e)}};var jr=c&&!c.nodeType&&c,As=jr&&!0&&l&&!l.nodeType&&l,ea=As&&As.exports===jr&&Tt.process;const ps=function(){try{var r=As&&As.require&&As.require("util").types;return r||ea&&ea.binding&&ea.binding("util")}catch{}}();var Cd=ps&&ps.isTypedArray;const Io=Cd?ql(Cd):Cs;var Pn=Object.prototype.hasOwnProperty;const Va=function(r,e){var t=ni(r),n=!t&&qi(r),a=!t&&!n&&Zr(r),u=!t&&!n&&!a&&Io(r),f=t||n||a||u,b=f?vi(r.length,String):[],w=b.length;for(var A in r)!e&&!Pn.call(r,A)||f&&(A=="length"||a&&(A=="offset"||A=="parent")||u&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||Ks(A,w))||b.push(A);return b};var Xr=Object.prototype;const Ns=function(r){var e=r&&r.constructor;return r===(typeof e=="function"&&e.prototype||Xr)},Nu=ir(Object.keys,Object);var Eu=Object.prototype.hasOwnProperty;const Ec=function(r){if(!Ns(r))return Nu(r);var e=[];for(var t in Object(r))Eu.call(r,t)&&t!="constructor"&&e.push(t);return e},Ua=function(r){return r!=null&&Mo(r.length)&&!Mt(r)},$a=function(r){return Ua(r)?Va(r):Ec(r)},Su=function(r,e){return r&&Dn(e,$a(e),r)},Ad=function(r){var e=[];if(r!=null)for(var t in Object(r))e.push(t);return e};var Sc=Object.prototype.hasOwnProperty;const Ah=function(r){if(!pe(r))return Ad(r);var e=Ns(r),t=[];for(var n in r)(n!="constructor"||!e&&Sc.call(r,n))&&t.push(n);return t},Fr=function(r){return Ua(r)?Va(r,!0):Ah(r)},ju=function(r,e){return r&&Dn(e,Fr(e),r)};var jc=c&&!c.nodeType&&c,Qs=jc&&!0&&l&&!l.nodeType&&l,Nd=Qs&&Qs.exports===jc?$e.Buffer:void 0,Wl=Nd?Nd.allocUnsafe:void 0;const ml=function(r,e){if(e)return r.slice();var t=r.length,n=Wl?Wl(t):new r.constructor(t);return r.copy(n),n},Ed=function(r,e){var t=-1,n=r.length;for(e||(e=Array(n));++t<n;)e[t]=r[t];return e},Sd=function(r,e){for(var t=-1,n=r==null?0:r.length,a=0,u=[];++t<n;){var f=r[t];e(f,t,r)&&(u[a++]=f)}return u},Oo=function(){return[]};var jd=Object.prototype.propertyIsEnumerable,Du=Object.getOwnPropertySymbols;const fl=Du?function(r){return r==null?[]:(r=Object(r),Sd(Du(r),function(e){return jd.call(r,e)}))}:Oo,Nh=function(r,e){return Dn(r,fl(r),e)},Dd=function(r,e){for(var t=-1,n=e.length,a=r.length;++t<n;)r[a+t]=e[t];return r},Td=Object.getOwnPropertySymbols?function(r){for(var e=[];r;)Dd(e,fl(r)),r=kr(r);return e}:Oo,Dc=function(r,e){return Dn(r,Td(r),e)},ta=function(r,e,t){var n=e(r);return ni(r)?n:Dd(n,t(r))},Tc=function(r){return ta(r,$a,fl)},qa=function(r){return ta(r,Fr,Td)},Wi=Kr($e,"DataView"),Lo=Kr($e,"Promise"),Yl=Kr($e,"Set"),Wa=Kr($e,"WeakMap");var Gl="[object Map]",Kl="[object Promise]",Md="[object Set]",Ya="[object WeakMap]",Id="[object DataView]",Eh=ii(Wi),ko=ii(us),Ga=ii(Lo),Zs=ii(Yl),gs=ii(Wa),Xs=Li;(Wi&&Xs(new Wi(new ArrayBuffer(1)))!=Id||us&&Xs(new us)!=Gl||Lo&&Xs(Lo.resolve())!=Kl||Yl&&Xs(new Yl)!=Md||Wa&&Xs(new Wa)!=Ya)&&(Xs=function(r){var e=Li(r),t=e=="[object Object]"?r.constructor:void 0,n=t?ii(t):"";if(n)switch(n){case Eh:return Id;case ko:return Gl;case Ga:return Kl;case Zs:return Md;case gs:return Ya}return e});const _o=Xs;var Mc=Object.prototype.hasOwnProperty;const pl=function(r){var e=r.length,t=new r.constructor(e);return e&&typeof r[0]=="string"&&Mc.call(r,"index")&&(t.index=r.index,t.input=r.input),t},Ka=$e.Uint8Array,vo=function(r){var e=new r.constructor(r.byteLength);return new Ka(e).set(new Ka(r)),e},Od=function(r,e){var t=e?vo(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.byteLength)};var na=/\w*$/;const gl=function(r){var e=new r.constructor(r.source,na.exec(r));return e.lastIndex=r.lastIndex,e};var Ld=bt?bt.prototype:void 0,Ic=Ld?Ld.valueOf:void 0;const Tu=function(r){return Ic?Object(Ic.call(r)):{}},wo=function(r,e){var t=e?vo(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.length)},Mu=function(r,e,t){var n=r.constructor;switch(e){case"[object ArrayBuffer]":return vo(r);case"[object Boolean]":case"[object Date]":return new n(+r);case"[object DataView]":return Od(r,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return wo(r,t);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(r);case"[object RegExp]":return gl(r);case"[object Symbol]":return Tu(r)}};var Bo=Object.create;const bs=function(){function r(){}return function(e){if(!pe(e))return{};if(Bo)return Bo(e);r.prototype=e;var t=new r;return r.prototype=void 0,t}}(),Hr=function(r){return typeof r.constructor!="function"||Ns(r)?{}:bs(kr(r))},Vr=function(r){return Xn(r)&&_o(r)=="[object Map]"};var Oc=ps&&ps.isMap;const Lc=Oc?ql(Oc):Vr,bl=function(r){return Xn(r)&&_o(r)=="[object Set]"};var Qa=ps&&ps.isSet;const Bc=Qa?ql(Qa):bl;var Js="[object Arguments]",Za="[object Function]",wa="[object Object]",bi={};bi[Js]=bi["[object Array]"]=bi["[object ArrayBuffer]"]=bi["[object DataView]"]=bi["[object Boolean]"]=bi["[object Date]"]=bi["[object Float32Array]"]=bi["[object Float64Array]"]=bi["[object Int8Array]"]=bi["[object Int16Array]"]=bi["[object Int32Array]"]=bi["[object Map]"]=bi["[object Number]"]=bi[wa]=bi["[object RegExp]"]=bi["[object Set]"]=bi["[object String]"]=bi["[object Symbol]"]=bi["[object Uint8Array]"]=bi["[object Uint8ClampedArray]"]=bi["[object Uint16Array]"]=bi["[object Uint32Array]"]=!0,bi["[object Error]"]=bi[Za]=bi["[object WeakMap]"]=!1;const Rc=function r(e,t,n,a,u,f){var b,w=1&t,A=2&t,E=4&t;if(n&&(b=u?n(e,a,u,f):n(e)),b!==void 0)return b;if(!pe(e))return e;var O=ni(e);if(O){if(b=pl(e),!w)return Ed(e,b)}else{var z=_o(e),U=z==Za||z=="[object GeneratorFunction]";if(Zr(e))return ml(e,w);if(z==wa||z==Js||U&&!u){if(b=A||U?{}:Hr(e),!w)return A?Dc(e,ju(b,e)):Nh(e,Su(b,e))}else{if(!bi[z])return u?e:{};b=Mu(e,z,w)}}f||(f=new Ys);var W=f.get(e);if(W)return W;f.set(e,b),Bc(e)?e.forEach(function(ae){b.add(r(ae,t,n,ae,e,f))}):Lc(e)&&e.forEach(function(ae,ge){b.set(ge,r(ae,t,n,ge,e,f))});var X=O?void 0:(E?A?qa:Tc:A?Fr:$a)(e);return xs(X||e,function(ae,ge){X&&(ae=e[ge=ae]),nn(b,ge,r(ae,t,n,ge,e,f))}),b},Es=function(r,e){return Rc(r,5,e=typeof e=="function"?e:void 0)},Ss=function(r){return Xn(r)&&r.nodeType===1&&!Re(r)};class Xa{constructor(e,t){this._config={},t&&this.define(Bd(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,n,a=!1){if(Re(t))return void this._setObjectToTarget(e,t,a);const u=t.split(".");t=u.pop();for(const f of u)Re(e[f])||(e[f]={}),e=e[f];if(Re(n))return Re(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,n,a);a&&e[t]!==void 0||(e[t]=n)}_getFromSource(e,t){const n=t.split(".");t=n.pop();for(const a of n){if(!Re(e[a])){e=null;break}e=e[a]}return e?Bd(e[t]):void 0}_setObjectToTarget(e,t,n){Object.keys(t).forEach(a=>{this._setToTarget(e,a,t[a],n)})}}function Bd(r){return Es(r,ya)}function ya(r){return Ss(r)||typeof r=="function"?r:void 0}function Jr(r){if(r){if(r.defaultView)return r instanceof r.defaultView.Document;if(r.ownerDocument&&r.ownerDocument.defaultView)return r instanceof r.ownerDocument.defaultView.Node}return!1}function sr(r){const e=Object.prototype.toString.apply(r);return e=="[object Window]"||e=="[object global]"}const Ja=eo(he());function eo(r){return r?class extends r{listenTo(e,t,n,a={}){if(Jr(e)||sr(e)){const u={capture:!!a.useCapture,passive:!!a.usePassive},f=this._getProxyEmitter(e,u)||new Ql(e,u);this.listenTo(f,t,n,a)}else super.listenTo(e,t,n,a)}stopListening(e,t,n){if(Jr(e)||sr(e)){const a=this._getAllProxyEmitters(e);for(const u of a)this.stopListening(u,t,n)}else super.stopListening(e,t,n)}_getProxyEmitter(e,t){return function(n,a){const u=n[_e];return u&&u[a]?u[a].emitter:null}(this,Rd(e,t))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(t=>this._getProxyEmitter(e,t)).filter(t=>!!t)}}:Ja}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(r=>{eo[r]=Ja.prototype[r]});class Ql extends he(){constructor(e,t){super(),Ee(this,Rd(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,t,n){this.attach(e),he().prototype._addEventListener.call(this,e,t,n)}_removeEventListener(e,t){he().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=n=>{this.fire(e,n)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function Rd(r,e){let t=function(n){return n["data-ck-expando"]||(n["data-ck-expando"]=ee())}(r);for(const n of Object.keys(e).sort())e[n]&&(t+="-"+n);return t}function Zl(r){const e=r.ownerDocument.defaultView.getComputedStyle(r);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function Yi(r){return Object.prototype.toString.call(r)=="[object Text]"}function Ro(r){return Object.prototype.toString.apply(r)=="[object Range]"}function to(r){return r&&r.parentNode?r.offsetParent===y.document.body?null:r.offsetParent:null}const xa=["top","right","bottom","left","width","height"];class pn{constructor(e){const t=Ro(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),js(e)||t)if(t){const n=pn.getDomRangeRects(e);Dr(this,pn.getBoundingRect(n))}else Dr(this,e.getBoundingClientRect());else if(sr(e)){const{innerWidth:n,innerHeight:a}=e;Dr(this,{top:0,right:n,bottom:a,left:0,width:n,height:a})}else Dr(this,e)}clone(){return new pn(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const n=new pn(t);return n._source=this._source,n}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(el(e))return t;let n,a=e,u=e.parentNode||e.commonAncestorContainer;for(;u&&!el(u);){const b=((f=u)instanceof HTMLElement?f.ownerDocument.defaultView.getComputedStyle(f).overflow:"visible")==="visible";a instanceof HTMLElement&&kl(a)==="absolute"&&(n=a);const w=kl(u);if(b||n&&(w==="relative"&&b||w!=="relative")){a=u,u=u.parentNode;continue}const A=new pn(u),E=t.getIntersection(A);if(!E)return null;E.getArea()<t.getArea()&&(t=E),a=u,u=u.parentNode}var f;return t}isEqual(e){for(const t of xa)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!(!t||!t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=y.window,n=this.clone().moveBy(e,t);if(js(n._source)){const a=to(n._source);a&&function(u,f){const b=new pn(f),w=Zl(f);let A=0,E=0;A-=b.left,E-=b.top,A+=f.scrollLeft,E+=f.scrollTop,A-=w.left,E-=w.top,u.moveBy(A,E)}(n,a)}return n}excludeScrollbarsAndBorders(){const e=this._source;let t,n,a;if(sr(e))t=e.innerWidth-e.document.documentElement.clientWidth,n=e.innerHeight-e.document.documentElement.clientHeight,a=e.getComputedStyle(e.document.documentElement).direction;else{const u=Zl(e);t=e.offsetWidth-e.clientWidth-u.left-u.right,n=e.offsetHeight-e.clientHeight-u.top-u.bottom,a=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=u.left,this.top+=u.top,this.right-=u.right,this.bottom-=u.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,a==="ltr"?this.right-=t:this.left+=t,this.height-=n,this.bottom-=n,this}static getDomRangeRects(e){const t=[],n=Array.from(e.getClientRects());if(n.length)for(const a of n)t.push(new pn(a));else{let a=e.startContainer;Yi(a)&&(a=a.parentNode);const u=new pn(a.getBoundingClientRect());u.right=u.left,u.width=0,t.push(u)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const a of e)n++,t.left=Math.min(t.left,a.left),t.top=Math.min(t.top,a.top),t.right=Math.max(t.right,a.right),t.bottom=Math.max(t.bottom,a.bottom);return n==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new pn(t))}}function Dr(r,e){for(const t of xa)r[t]=e[t]}function el(r){return!!js(r)&&r===r.ownerDocument.body}function js(r){return r!==null&&typeof r=="object"&&r.nodeType===1&&typeof r.getBoundingClientRect=="function"}function kl(r){return r instanceof HTMLElement?r.ownerDocument.defaultView.getComputedStyle(r).position:"static"}const Bi=class{constructor(r,e){Bi._observerInstance||Bi._createObserver(),this._element=r,this._callback=e,Bi._addElementCallback(r,e),Bi._observerInstance.observe(r)}get element(){return this._element}destroy(){Bi._deleteElementCallback(this._element,this._callback)}static _addElementCallback(r,e){Bi._elementCallbacks||(Bi._elementCallbacks=new Map);let t=Bi._elementCallbacks.get(r);t||(t=new Set,Bi._elementCallbacks.set(r,t)),t.add(e)}static _deleteElementCallback(r,e){const t=Bi._getElementCallbacks(r);t&&(t.delete(e),t.size||(Bi._elementCallbacks.delete(r),Bi._observerInstance.unobserve(r))),Bi._elementCallbacks&&!Bi._elementCallbacks.size&&(Bi._observerInstance=null,Bi._elementCallbacks=null)}static _getElementCallbacks(r){return Bi._elementCallbacks?Bi._elementCallbacks.get(r):null}static _createObserver(){Bi._observerInstance=new y.window.ResizeObserver(r=>{for(const e of r){const t=Bi._getElementCallbacks(e.target);if(t)for(const n of t)n(e)}})}};let yo=Bi;function es(r,e){r instanceof HTMLTextAreaElement&&(r.value=e),r.innerHTML=e}function xo(r){return e=>e+r}function no(r){let e=0;for(;r.previousSibling;)r=r.previousSibling,e++;return e}function Ca(r,e,t){r.insertBefore(t,r.childNodes[e]||null)}function _l(r){return r&&r.nodeType===Node.COMMENT_NODE}function ur(r){return!!(r&&r.getClientRects&&r.getClientRects().length)}yo._observerInstance=null,yo._elementCallbacks=null;var Xl=Math.pow;function Ds({element:r,target:e,positions:t,limiter:n,fitInViewport:a,viewportOffsetConfig:u}){Mt(e)&&(e=e()),Mt(n)&&(n=n());const f=to(r),b=function(z){z=Object.assign({top:0,bottom:0,left:0,right:0},z);const U=new pn(y.window);return U.top+=z.top,U.height-=z.top,U.bottom-=z.bottom,U.height-=z.bottom,U}(u),w=new pn(r),A=Pc(e,b);let E;if(!A||!b.getIntersection(A))return null;const O={targetRect:A,elementRect:w,positionedElementAncestor:f,viewportRect:b};if(n||a){if(n){const z=Pc(n,b);z&&(O.limiterRect=z)}E=function(z,U){const{elementRect:W}=U,X=W.getArea(),ae=z.map(Ze=>new vl(Ze,U)).filter(Ze=>!!Ze.name);let ge=0,Me=null;for(const Ze of ae){const{limiterIntersectionArea:pt,viewportIntersectionArea:Vt}=Ze;if(pt===X)return Ze;const En=Xl(Vt,2)+Xl(pt,2);En>ge&&(ge=En,Me=Ze)}return Me}(t,O)}else E=new vl(t[0],O);return E}function Pc(r,e){const t=new pn(r).getVisible();return t?t.getIntersection(e):null}class vl{constructor(e,t){const n=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!n)return;const{left:a,top:u,name:f,config:b}=n;this.name=f,this.config=b,this._positioningFunctionCoordinates={left:a,top:u},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function Co(r){const e=r.parentNode;e&&e.removeChild(r)}function wl({window:r,rect:e,alignToTop:t,forceScroll:n,viewportOffset:a}){const u=e.clone().moveBy(0,a.bottom),f=e.clone().moveBy(0,-a.top),b=new pn(r).excludeScrollbarsAndBorders(),w=t&&n,A=[f,u].every(W=>b.contains(W));let{scrollX:E,scrollY:O}=r;const z=E,U=O;w?O-=b.top-e.top+a.top:A||(Aa(f,b)?O-=b.top-e.top+a.top:ia(u,b)&&(O+=t?e.top-b.top-a.top:e.bottom-b.bottom+a.bottom)),A||(p(e,b)?E-=b.left-e.left+a.left:x(e,b)&&(E+=e.right-b.right+a.right)),E==z&&O===U||r.scrollTo(E,O)}function zc({parent:r,getRect:e,alignToTop:t,forceScroll:n,ancestorOffset:a=0,limiterElement:u}){const f=T(r),b=t&&n;let w,A,E;const O=u||f.document.body;for(;r!=O;)A=e(),w=new pn(r).excludeScrollbarsAndBorders(),E=w.contains(A),b?r.scrollTop-=w.top-A.top+a:E||(Aa(A,w)?r.scrollTop-=w.top-A.top+a:ia(A,w)&&(r.scrollTop+=t?A.top-w.top-a:A.bottom-w.bottom+a)),E||(p(A,w)?r.scrollLeft-=w.left-A.left+a:x(A,w)&&(r.scrollLeft+=A.right-w.right+a)),r=r.parentNode}function ia(r,e){return r.bottom>e.bottom}function Aa(r,e){return r.top<e.top}function p(r,e){return r.left<e.left}function x(r,e){return r.right>e.right}function T(r){return Ro(r)?r.startContainer.ownerDocument.defaultView:r.ownerDocument.defaultView}function H(r){if(Ro(r)){let e=r.commonAncestorContainer;return Yi(e)&&(e=e.parentNode),e}return r.parentNode}function G(r,e){const t=T(r),n=new pn(r);if(t===e)return n;{let a=t;for(;a!=e;){const u=a.frameElement,f=new pn(u).excludeScrollbarsAndBorders();n.moveBy(f.left,f.top),a=a.parent}}return n}const ie={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},Ae={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Ye={37:"←",38:"↑",39:"→",40:"↓",9:"⇥",33:"Page Up",34:"Page Down"},Ve=function(){const r={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)r[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)r[e-48]=e;for(let e=112;e<=123;e++)r["f"+(e-111)]=e;return Object.assign(r,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),r}(),Nt=Object.fromEntries(Object.entries(Ve).map(([r,e])=>{let t;return t=e in Ye?Ye[e]:r.charAt(0).toUpperCase()+r.slice(1),[e,t]}));function zt(r){let e;if(typeof r=="string"){if(e=Ve[r.toLowerCase()],!e)throw new q("keyboard-unknown-key",null,{key:r})}else e=r.keyCode+(r.altKey?Ve.alt:0)+(r.ctrlKey?Ve.ctrl:0)+(r.shiftKey?Ve.shift:0)+(r.metaKey?Ve.cmd:0);return e}function Gt(r){return typeof r=="string"&&(r=function(e){return e.split("+").map(t=>t.trim())}(r)),r.map(e=>typeof e=="string"?function(t){if(t.endsWith("!"))return zt(t.slice(0,-1));const n=zt(t);return(S.isMac||S.isiOS)&&n==Ve.ctrl?Ve.cmd:n}(e):e).reduce((e,t)=>t+e,0)}function sn(r){let e=Gt(r);return Object.entries(S.isMac||S.isiOS?ie:Ae).reduce((t,[n,a])=>(e&Ve[n]&&(e&=~Ve[n],t+=a),t),"")+(e?Nt[e]:"")}function bn(r,e){const t=e==="ltr";switch(r){case Ve.arrowleft:return t?"left":"right";case Ve.arrowright:return t?"right":"left";case Ve.arrowup:return"up";case Ve.arrowdown:return"down"}}function gn(r){return Array.isArray(r)?r:[r]}const yi=function(r,e,t){(t!==void 0&&!ft(r[e],t)||t===void 0&&!(e in r))&&xe(r,e,t)},hr=function(r){return function(e,t,n){for(var a=-1,u=Object(e),f=n(e),b=f.length;b--;){var w=f[++a];if(t(u[w],w,u)===!1)break}return e}}(),Ts=function(r){return Xn(r)&&Ua(r)},Pd=function(r,e){if((e!=="constructor"||typeof r[e]!="function")&&e!="__proto__")return r[e]},Iu=function(r){return Dn(r,Fr(r))},Jl=function(r,e,t,n,a,u,f){var b=Pd(r,t),w=Pd(e,t),A=f.get(w);if(A)yi(r,t,A);else{var E=void 0,O=E===void 0;if(O){var z=ni(w),U=!z&&Zr(w),W=!z&&!U&&Io(w);E=w,z||U||W?ni(b)?E=b:Ts(b)?E=Ed(b):U?(O=!1,E=ml(w,!0)):W?(O=!1,E=wo(w,!0)):E=[]:Re(w)||qi(w)?(E=b,qi(b)?E=Iu(b):pe(b)&&!Mt(b)||(E=Hr(w))):O=!1}O&&(f.set(w,E),a(E,w,n,u,f),f.delete(w)),yi(r,t,E)}},Po=function r(e,t,n,a,u){e!==t&&hr(t,function(f,b){if(u||(u=new Ys),pe(f))Jl(e,t,b,n,r,a,u);else{var w=void 0;w===void 0&&(w=f),yi(e,b,w)}},Fr)},ts=function(r){return r},yl=function(r,e,t){switch(t.length){case 0:return r.call(e);case 1:return r.call(e,t[0]);case 2:return r.call(e,t[0],t[1]);case 3:return r.call(e,t[0],t[1],t[2])}return r.apply(e,t)};var Gi=Math.max;const zo=function(r,e,t){return e=Gi(e===void 0?r.length-1:e,0),function(){for(var n=arguments,a=-1,u=Gi(n.length-e,0),f=Array(u);++a<u;)f[a]=n[e+a];a=-1;for(var b=Array(e+1);++a<e;)b[a]=n[a];return b[e]=t(f),yl(r,this,b)}},ra=function(r){return function(){return r}},Na=Gs?function(r,e){return Gs(r,"toString",{configurable:!0,enumerable:!1,value:ra(e),writable:!0})}:ts;var sa=Date.now;const Hc=function(r){var e=0,t=0;return function(){var n=sa(),a=16-(n-t);if(t=n,a>0){if(++e>=800)return arguments[0]}else e=0;return r.apply(void 0,arguments)}}(Na),xl=function(r,e){return Hc(zo(r,e,ts),r+"")},Ou=function(r,e,t){if(!pe(t))return!1;var n=typeof e;return!!(n=="number"?Ua(t)&&Ks(e,t.length):n=="string"&&e in t)&&ft(t[e],r)},tl=function(r){return xl(function(e,t){var n=-1,a=t.length,u=a>1?t[a-1]:void 0,f=a>2?t[2]:void 0;for(u=r.length>3&&typeof u=="function"?(a--,u):void 0,f&&Ou(t[0],t[1],f)&&(u=a<3?void 0:u,a=1),e=Object(e);++n<a;){var b=t[n];b&&r(e,b,n,u)}return e})},vr=tl(function(r,e,t){Po(r,e,t)});function zd(r,e,t=1,n){if(typeof t!="number")throw new q("translation-service-quantity-not-a-number",null,{quantity:t});const a=n||y.window.CKEDITOR_TRANSLATIONS,u=function(E){return Object.keys(E).length}(a);u===1&&(r=Object.keys(a)[0]);const f=e.id||e.string;if(u===0||!function(E,O,z){return!!z[E]&&!!z[E].dictionary[O]}(r,f,a))return t!==1?e.plural:e.string;const b=a[r].dictionary,w=a[r].getPluralForm||(E=>E===1?0:1),A=b[f];return typeof A=="string"?A:A[Number(w(t))]}y.window.CKEDITOR_TRANSLATIONS||(y.window.CKEDITOR_TRANSLATIONS={});const Cl=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function Sh(r){return Cl.includes(r)?"rtl":"ltr"}class jh{constructor({uiLanguage:e="en",contentLanguage:t,translations:n}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=Sh(this.uiLanguage),this.contentLanguageDirection=Sh(this.contentLanguage),this.translations=function(a){return Array.isArray(a)?a.reduce((u,f)=>vr(u,f)):a}(n),this.t=(a,u)=>this._t(a,u)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=gn(t),typeof e=="string"&&(e={string:e});const n=e.plural?t[0]:1;return function(a,u){return a.replace(/%(\d+)/g,(f,b)=>b<u.length?u[b]:f)}(zd(this.uiLanguage,e,n,this.translations),t)}}class Fo extends he(){constructor(e={},t={}){super();const n=Qe(e);if(n||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const a of e)this._items.push(a),this._itemMap.set(this._getItemIdBeforeAdding(a),a)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new q("collection-add-item-invalid-index",this);let n=0;for(const a of e){const u=this._getItemIdBeforeAdding(a),f=t+n;this._items.splice(f,0,a),this._itemMap.set(u,a),this.fire("add",a,f),n++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else{if(typeof e!="number")throw new q("collection-get-invalid-arg",this);t=this._items[e]}return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=e[this._idProperty];return t&&this._itemMap.has(t)}}getIndex(e){let t;return t=typeof e=="string"?this._itemMap.get(e):e,t?this._items.indexOf(t):-1}remove(e){const[t,n]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:n}),t}map(e,t){return this._items.map(e,t)}forEach(e,t){this._items.forEach(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new q("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(n=>new t(n))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(n=>n[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,n=(a,u,f)=>{const b=t._bindToCollection==this,w=t._bindToInternalToExternalMap.get(u);if(b&&w)this._bindToExternalToInternalMap.set(u,w),this._bindToInternalToExternalMap.set(w,u);else{const A=e(u);if(!A)return void this._skippedIndexesFromExternal.push(f);let E=f;for(const O of this._skippedIndexesFromExternal)f>O&&E--;for(const O of t._skippedIndexesFromExternal)E>=O&&E++;this._bindToExternalToInternalMap.set(u,A),this._bindToInternalToExternalMap.set(A,u),this.add(A,E);for(let O=0;O<t._skippedIndexesFromExternal.length;O++)E<=t._skippedIndexesFromExternal[O]&&t._skippedIndexesFromExternal[O]++}};for(const a of t)n(0,a,t.getIndex(a));this.listenTo(t,"add",n),this.listenTo(t,"remove",(a,u,f)=>{const b=this._bindToExternalToInternalMap.get(u);b&&this.remove(b),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((w,A)=>(f<A&&w.push(A-1),f>A&&w.push(A),w),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let n;if(t in e){if(n=e[t],typeof n!="string")throw new q("collection-add-invalid-id",this);if(this.get(n))throw new q("collection-add-item-already-exists",this)}else e[t]=n=ee();return n}_remove(e){let t,n,a,u=!1;const f=this._idProperty;if(typeof e=="string"?(n=e,a=this._itemMap.get(n),u=!a,a&&(t=this._items.indexOf(a))):typeof e=="number"?(t=e,a=this._items[t],u=!a,a&&(n=a[f])):(a=e,n=a[f],t=this._items.indexOf(a),u=t==-1||!this._itemMap.get(n)),u)throw new q("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(n);const b=this._bindToInternalToExternalMap.get(a);return this._bindToInternalToExternalMap.delete(a),this._bindToExternalToInternalMap.delete(b),this.fire("remove",a,t),[a,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Un(r){const e=r.next();return e.done?null:e.value}class mr extends eo(Oe()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new q("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class fr{constructor(){this._listener=new(eo())}listenTo(e){this._listener.listenTo(e,"keydown",(t,n)=>{this._listener.fire("_keydown:"+zt(n),n)})}set(e,t,n={}){const a=Gt(e),u=n.priority;this._listener.listenTo(this._listener,"_keydown:"+a,(f,b)=>{t(b,()=>{b.preventDefault(),b.stopPropagation(),f.stop()}),f.return=!0},{priority:u})}press(e){return!!this._listener.fire("_keydown:"+zt(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function io(r){return Qe(r)?new Map(r):function(e){const t=new Map;for(const n in e)t.set(n,e[n]);return t}(r)}function oa(r,e){let t;function n(...a){n.cancel(),t=setTimeout(()=>r(...a),e)}return n.cancel=()=>{clearTimeout(t)},n}function Ms(r,e){return!!(t=r.charAt(e-1))&&t.length==1&&/[\ud800-\udbff]/.test(t)&&function(n){return!!n&&n.length==1&&/[\udc00-\udfff]/.test(n)}(r.charAt(e));var t}function Al(r,e){return!!(t=r.charAt(e))&&t.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t);var t}const Cp=function(){const r=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,t="(?:"+r.map(n=>n.source).join("|")+")";return new RegExp(`${e}|${t}(?:‍${t})*`,"ug")}();function Dh(r,e){const t=String(r).matchAll(Cp);return Array.from(t).some(n=>n.index<e&&e<n.index+n[0].length)}class Ho extends Fo{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,n,a)=>{this._renderViewIntoCollectionParent(n,a)}),this.on("remove",(t,n)=>{n.element&&this._parentElement&&n.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!e.every(t=>typeof t=="string"))throw new q("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const n of this)for(const a of e)n.delegate(a).to(t);this.on("add",(n,a)=>{for(const u of e)a.delegate(u).to(t)}),this.on("remove",(n,a)=>{for(const u of e)a.stopDelegating(u,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}class Vo extends he(){constructor(e){super(),Object.assign(this,te(ec(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new q("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(t){if(t.children)for(const n of t.children)ot(n)?yield n:wt(n)&&(yield*e(n))}(this)}static bind(e,t){return{to:(n,a)=>new Th({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:a}),if:(n,a,u)=>new Fd({observable:e,emitter:t,attribute:n,valueIfTrue:a,callback:u})}}static extend(e,t){if(e._isRendered)throw new q("template-extend-render",[this,e]);ze(e,te(ec(t)))}_renderNode(e){let t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new q("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),Vc(this.text)?this._bindToObservable({schema:this.text,updater:Hd(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,n=e.revertData;for(const a in this.attributes){const u=t.getAttribute(a),f=this.attributes[a];n&&(n.attributes[a]=u);const b=Wt(f)?f[0].ns:null;if(Vc(f)){const w=Wt(f)?f[0].value:f;n&&Kt(a)&&w.unshift(u),this._bindToObservable({schema:w,updater:Lu(t,a,b),data:e})}else if(a=="style"&&typeof f[0]!="string")this._renderStyleAttribute(f[0],e);else{n&&u&&Kt(a)&&f.unshift(u);const w=f.map(A=>A&&A.value||A).reduce((A,E)=>A.concat(E),[]).reduce(Y,"");Pe(w)||t.setAttributeNS(b,a,w)}}}_renderStyleAttribute(e,t){const n=t.node;for(const a in e){const u=e[a];Vc(u)?this._bindToObservable({schema:[u],updater:Mh(n,a),data:t}):n.style[a]=u}}_renderElementChildren(e){const t=e.node,n=e.intoFragment?document.createDocumentFragment():t,a=e.isApplying;let u=0;for(const f of this.children)if(It(f)){if(!a){f.setParent(t);for(const b of f)n.appendChild(b.element)}}else if(ot(f))a||(f.isRendered||f.render(),n.appendChild(f.element));else if(Jr(f))n.appendChild(f);else if(a){const b={children:[],bindings:[],attributes:{}};e.revertData.children.push(b),f._renderNode({intoFragment:!1,node:n.childNodes[u++],isApplying:!0,revertData:b})}else n.appendChild(f.render());e.intoFragment&&t.appendChild(n)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const n=this.eventListeners[t].map(a=>{const[u,f]=t.split("@");return a.activateDomEventListener(u,f,e)});e.revertData&&e.revertData.bindings.push(n)}}_bindToObservable({schema:e,updater:t,data:n}){const a=n.revertData;nl(e,t,n);const u=e.filter(f=>!Pe(f)).filter(f=>f.observable).map(f=>f.activateAttributeListener(e,t,n));a&&a.bindings.push(u)}_revertTemplateFromNode(e,t){for(const a of t.bindings)for(const u of a)u();if(t.text)return void(e.textContent=t.text);const n=e;for(const a in t.attributes){const u=t.attributes[a];u===null?n.removeAttribute(a):n.setAttribute(a,u)}for(let a=0;a<t.children.length;++a)this._revertTemplateFromNode(n.childNodes[a],t.children[a])}}class aa{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,n){const a=()=>nl(e,t,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,a),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,a)}}}class Th extends aa{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,n){const a=(u,f)=>{t&&!f.target.matches(t)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(f):this.observable.fire(this.eventNameOrFunction,f))};return this.emitter.listenTo(n.node,e,a),()=>{this.emitter.stopListening(n.node,e,a)}}}class Fd extends aa{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!Pe(super.getValue(e))&&(this.valueIfTrue||!0)}}function Vc(r){return!!r&&(r.value&&(r=r.value),Array.isArray(r)?r.some(Vc):r instanceof aa)}function nl(r,e,{node:t}){const n=function(u,f){return u.map(b=>b instanceof aa?b.getValue(f):b)}(r,t);let a;a=r.length==1&&r[0]instanceof Fd?n[0]:n.reduce(Y,""),Pe(a)?e.remove():e.set(a)}function Hd(r){return{set(e){r.textContent=e},remove(){r.textContent=""}}}function Lu(r,e,t){return{set(n){r.setAttributeNS(t,e,n)},remove(){r.removeAttributeNS(t,e)}}}function Mh(r,e){return{set(t){r.style[e]=t},remove(){r.style[e]=null}}}function ec(r){return Es(r,e=>{if(e&&(e instanceof aa||wt(e)||ot(e)||It(e)))return e})}function te(r){if(typeof r=="string"?r=function(e){return{text:[e]}}(r):r.text&&function(e){e.text=gn(e.text)}(r),r.on&&(r.eventListeners=function(e){for(const t in e)R(e,t);return e}(r.on),delete r.on),!r.text){r.attributes&&function(t){for(const n in t)t[n].value&&(t[n].value=gn(t[n].value)),R(t,n)}(r.attributes);const e=[];if(r.children)if(It(r.children))e.push(r.children);else for(const t of r.children)wt(t)||ot(t)||Jr(t)?e.push(t):e.push(new Vo(t));r.children=e}return r}function R(r,e){r[e]=gn(r[e])}function Y(r,e){return Pe(e)?r:Pe(r)?e:`${r} ${e}`}function ue(r,e){for(const t in e)r[t]?r[t].push(...e[t]):r[t]=e[t]}function ze(r,e){if(e.attributes&&(r.attributes||(r.attributes={}),ue(r.attributes,e.attributes)),e.eventListeners&&(r.eventListeners||(r.eventListeners={}),ue(r.eventListeners,e.eventListeners)),e.text&&r.text.push(...e.text),e.children&&e.children.length){if(r.children.length!=e.children.length)throw new q("ui-template-extend-children-mismatch",r);let t=0;for(const n of e.children)ze(r.children[t++],n)}}function Pe(r){return!r&&r!==0}function ot(r){return r instanceof St}function wt(r){return r instanceof Vo}function It(r){return r instanceof Ho}function Wt(r){return pe(r[0])&&r[0].ns}function Kt(r){return r=="class"||r=="style"}var Yt=h(2591),mt=h.n(Yt),hn=h(7676),yn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(hn.A,yn),hn.A.locals;class St extends eo(Oe()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Fo,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,n)=>{n.locale=e,n.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Vo.bind(this,this)}createCollection(e){const t=new Ho(e);return this._viewCollections.add(t),t}registerChild(e){Qe(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){Qe(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new Vo(e)}extendTemplate(e){Vo.extend(this.template,e)}render(){if(this.isRendered)throw new q("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}function xn({emitter:r,activator:e,callback:t,contextElements:n}){r.listenTo(document,"mousedown",(a,u)=>{if(!e())return;const f=typeof u.composedPath=="function"?u.composedPath():[],b=typeof n=="function"?n():n;for(const w of b)if(w.contains(u.target)||f.includes(w))return;t()})}function ri(r){return class extends r{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function gi({view:r}){r.listenTo(r.element,"submit",(e,t)=>{t.preventDefault(),r.fire("submit")},{useCapture:!0})}function Fn({keystrokeHandler:r,focusTracker:e,gridItems:t,numberOfColumns:n,uiLanguageDirection:a}){const u=()=>n;function f(A){return E=>{const O=t.find(W=>W.element===e.focusedElement),z=t.getIndex(O),U=A(z,t);t.get(U).focus(),E.stopPropagation(),E.preventDefault()}}function b(A,E){return A===E-1?0:A+1}function w(A,E){return A===0?E-1:A-1}r.set("arrowright",f((A,E)=>a==="rtl"?w(A,E.length):b(A,E.length))),r.set("arrowleft",f((A,E)=>a==="rtl"?b(A,E.length):w(A,E.length))),r.set("arrowup",f((A,E)=>{let O=A-u();return O<0&&(O=A+u()*Math.floor(E.length/u()),O>E.length-1&&(O-=u())),O})),r.set("arrowdown",f((A,E)=>{let O=A+u();return O>E.length-1&&(O=A%u()),O}))}class lt extends Oe(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Ln,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Ln),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Ln(r){r.return=!1,r.stop()}class Ht extends Oe(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",t=>{if(!this.affectsData)return;const n=e.model.document.selection,a=n.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(n);(e.isReadOnly||this._isEnabledBasedOnSelection&&!a)&&(t.return=!1,t.stop())},{priority:"highest"}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Jt,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Jt),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function Jt(r){r.return=!1,r.stop()}class cn extends Ht{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const t=this._getFirstEnabledCommand();return!!t&&t.execute(e)}registerChildCommand(e,t={}){le(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:t})=>t.isEnabled);return e&&e.command}}class _n extends he(){constructor(e,t=[],n=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const a of t)a.pluginName&&this._availablePlugins.set(a.pluginName,a);this._contextPlugins=new Map;for(const[a,u]of n)this._contextPlugins.set(a,u),this._contextPlugins.set(u,a),a.pluginName&&this._availablePlugins.set(a.pluginName,a)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let n=e;throw typeof e=="function"&&(n=e.pluginName||e.name),new q("plugincollection-plugin-not-loaded",this._context,{plugin:n})}return t}has(e){return this._plugins.has(e)}init(e,t=[],n=[]){const a=this,u=this._context;(function W(X,ae=new Set){X.forEach(ge=>{w(ge)&&(ae.has(ge)||(ae.add(ge),ge.pluginName&&!a._availablePlugins.has(ge.pluginName)&&a._availablePlugins.set(ge.pluginName,ge),ge.requires&&W(ge.requires,ae)))})})(e),z(e);const f=[...function W(X,ae=new Set){return X.map(ge=>w(ge)?ge:a._availablePlugins.get(ge)).reduce((ge,Me)=>ae.has(Me)?ge:(ae.add(Me),Me.requires&&(z(Me.requires,Me),W(Me.requires,ae).forEach(Ze=>ge.add(Ze))),ge.add(Me)),new Set)}(e.filter(W=>!E(W,t)))];(function(W,X){for(const ae of X){if(typeof ae!="function")throw new q("plugincollection-replace-plugin-invalid-type",null,{pluginItem:ae});const ge=ae.pluginName;if(!ge)throw new q("plugincollection-replace-plugin-missing-name",null,{pluginItem:ae});if(ae.requires&&ae.requires.length)throw new q("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:ge});const Me=a._availablePlugins.get(ge);if(!Me)throw new q("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:ge});const Ze=W.indexOf(Me);if(Ze===-1){if(a._contextPlugins.has(Me))return;throw new q("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:ge})}if(Me.requires&&Me.requires.length)throw new q("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:ge});W.splice(Ze,1,ae),a._availablePlugins.set(ge,ae)}})(f,n);const b=f.map(W=>{let X=a._contextPlugins.get(W);return X=X||new W(u),a._add(W,X),X});return U(b,"init").then(()=>U(b,"afterInit")).then(()=>b);function w(W){return typeof W=="function"}function A(W){return w(W)&&!!W.isContextPlugin}function E(W,X){return X.some(ae=>ae===W||O(W)===ae||O(ae)===W)}function O(W){return w(W)?W.pluginName||W.name:W}function z(W,X=null){W.map(ae=>w(ae)?ae:a._availablePlugins.get(ae)||ae).forEach(ae=>{(function(ge,Me){if(!w(ge))throw Me?new q("plugincollection-soft-required",u,{missingPlugin:ge,requiredBy:O(Me)}):new q("plugincollection-plugin-not-found",u,{plugin:ge})})(ae,X),function(ge,Me){if(A(Me)&&!A(ge))throw new q("plugincollection-context-required",u,{plugin:O(ge),requiredBy:O(Me)})}(ae,X),function(ge,Me){if(Me&&E(ge,t))throw new q("plugincollection-required",u,{plugin:O(ge),requiredBy:O(Me)})}(ae,X)})}function U(W,X){return W.reduce((ae,ge)=>ge[X]?a._contextPlugins.has(ge)?ae:ae.then(ge[X].bind(ge)):ae,Promise.resolve())}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy!="function"||this._contextPlugins.has(t)||e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const n=e.pluginName;if(n){if(this._plugins.has(n))throw new q("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}var Ki=Object.getOwnPropertySymbols,Ur=Object.prototype.hasOwnProperty,ns=Object.prototype.propertyIsEnumerable;class Tr{constructor(e){this._contextOwner=null;const t=e||{},{translations:n}=t,a=((b,w)=>{var A={};for(var E in b)Ur.call(b,E)&&w.indexOf(E)<0&&(A[E]=b[E]);if(b!=null&&Ki)for(var E of Ki(b))w.indexOf(E)<0&&ns.call(b,E)&&(A[E]=b[E]);return A})(t,["translations"]);this.config=new Xa(a,this.constructor.defaultConfig);const u=this.constructor.builtinPlugins;this.config.define("plugins",u),this.plugins=new _n(this,u);const f=this.config.get("language")||{};this.locale=new jh({uiLanguage:typeof f=="string"?f:f.ui,contentLanguage:this.config.get("language.content"),translations:n}),this.t=this.locale.t,this.editors=new Fo}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const n of e.concat(t)){if(typeof n!="function")throw new q("context-initplugins-constructor-only",null,{Plugin:n});if(n.isContextPlugin!==!0)throw new q("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new q("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const n=new this(e);t(n.initPlugins().then(()=>n))})}}class Mr extends Oe(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class is extends fr{constructor(e){super(),this.editor=e}set(e,t,n={}){if(typeof t=="string"){const a=t;t=(u,f)=>{this.editor.execute(a),f()}}super.set(e,t,n)}}var or=h(4098),xi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(or.A,xi),or.A.locals;const Is=new WeakMap;let il=!1;function wr({view:r,element:e,text:t,isDirectHost:n=!0,keepOnFocus:a=!1}){const u=r.document;function f(b){Is.get(u).set(e,{text:b,isDirectHost:n,keepOnFocus:a,hostElement:n?e:null}),r.change(w=>Uo(u,w))}Is.has(u)||(Is.set(u,new Map),u.registerPostFixer(b=>Uo(u,b)),u.on("change:isComposing",()=>{r.change(b=>Uo(u,b))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(b,w,A)=>{f(A)}),e.placeholder?f(e.placeholder):t&&f(t),t&&function(){il||de("enableplaceholder-deprecated-text-option"),il=!0}()}function Ii(r,e){return!e.hasClass("ck-placeholder")&&(r.addClass("ck-placeholder",e),!0)}function Os(r,e){return!!e.hasClass("ck-placeholder")&&(r.removeClass("ck-placeholder",e),!0)}function ro(r,e){if(!r.isAttached()||Array.from(r.getChildren()).some(a=>!a.is("uiElement")))return!1;const t=r.document,n=t.selection.anchor;return(!t.isComposing||!n||n.parent!==r)&&(!!e||!t.isFocused||!!n&&n.parent!==r)}function Uo(r,e){const t=Is.get(r),n=[];let a=!1;for(const[u,f]of t)f.isDirectHost&&(n.push(u),tc(e,u,f)&&(a=!0));for(const[u,f]of t){if(f.isDirectHost)continue;const b=Ls(u);b&&(n.includes(b)||(f.hostElement=b,tc(e,u,f)&&(a=!0)))}return a}function tc(r,e,t){const{text:n,isDirectHost:a,hostElement:u}=t;let f=!1;return u.getAttribute("data-placeholder")!==n&&(r.setAttribute("data-placeholder",n,u),f=!0),(a||e.childCount==1)&&ro(u,t.keepOnFocus)?Ii(r,u)&&(f=!0):Os(r,u)&&(f=!0),f}function Ls(r){if(r.childCount){const e=r.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Ri{is(){throw new Error("is() method is abstract")}}const nc=function(r){return Rc(r,4)};class la extends he(Ri){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new q("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),a=e.getAncestors(t);let u=0;for(;n[u]==a[u]&&n[u];)u++;return u===0?null:n[u-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),a=Dt(t,n);switch(a){case"prefix":return!0;case"extension":return!1;default:return t[a]<n[a]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=nc(this);return delete e.parent,e}}la.prototype.is=function(r){return r==="node"||r==="view:node"};class ki extends la{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof ki&&(this===e||this.data===e.data)}_clone(){return new ki(this.document,this.data)}}ki.prototype.is=function(r){return r==="$text"||r==="view:$text"||r==="text"||r==="view:text"||r==="node"||r==="view:node"};class so extends Ri{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.data.length)throw new q("view-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.data.length)throw new q("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let n=e.includeSelf?this.textNode:this.parent;for(;n!==null;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}}so.prototype.is=function(r){return r==="$textProxy"||r==="view:$textProxy"||r==="textProxy"||r==="view:textProxy"};class $r{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const n of this._patterns){const a=Uc(t,n);if(a)return{element:t,pattern:n,match:a}}return null}matchAll(...e){const t=[];for(const n of e)for(const a of this._patterns){const u=Uc(n,a);u&&t.push({element:n,pattern:a,match:u})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e=="function"||!t||t instanceof RegExp?null:t}}function Uc(r,e){if(typeof e=="function")return e(r);const t={};return e.name&&(t.name=function(n,a){return n instanceof RegExp?!!a.match(n):n===a}(e.name,r.name),!t.name)||e.attributes&&(t.attributes=function(n,a){const u=new Set(a.getAttributeKeys());return Re(n)?(n.style!==void 0&&de("matcher-pattern-deprecated-attributes-style-key",n),n.class!==void 0&&de("matcher-pattern-deprecated-attributes-class-key",n)):(u.delete("style"),u.delete("class")),Vd(n,u,f=>a.getAttribute(f))}(e.attributes,r),!t.attributes)||e.classes&&(t.classes=function(n,a){return Vd(n,a.getClassNames(),()=>{})}(e.classes,r),!t.classes)||e.styles&&(t.styles=function(n,a){return Vd(n,a.getStyleNames(!0),u=>a.getStyle(u))}(e.styles,r),!t.styles)?null:t}function Vd(r,e,t){const n=function(f){return Array.isArray(f)?f.map(b=>Re(b)?(b.key!==void 0&&b.value!==void 0||de("matcher-pattern-missing-key-or-value",b),[b.key,b.value]):[b,!0]):Re(f)?Object.entries(f):[[f,!0]]}(r),a=Array.from(e),u=[];if(n.forEach(([f,b])=>{a.forEach(w=>{(function(A,E){return A===!0||A===E||A instanceof RegExp&&E.match(A)})(f,w)&&function(A,E,O){if(A===!0)return!0;const z=O(E);return A===z||A instanceof RegExp&&!!String(z).match(A)}(b,w,t)&&u.push(w)})}),n.length&&!(u.length<n.length))return u}const ic=function(r){return typeof r=="symbol"||Xn(r)&&Li(r)=="[object Symbol]"};var Ih=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wm=/^\w*$/;const Bu=function(r,e){if(ni(r))return!1;var t=typeof r;return!(t!="number"&&t!="symbol"&&t!="boolean"&&r!=null&&!ic(r))||Wm.test(r)||!Ih.test(r)||e!=null&&r in Object(e)};function Ea(r,e){if(typeof r!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var t=function(){var n=arguments,a=e?e.apply(this,n):n[0],u=t.cache;if(u.has(a))return u.get(a);var f=r.apply(this,n);return t.cache=u.set(a,f)||u,f};return t.cache=new(Ea.Cache||zr),t}Ea.Cache=zr;const Ud=Ea,Oh=function(r){var e=Ud(r,function(n){return t.size===500&&t.clear(),n}),t=e.cache;return e};var Ru=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pu=/\\(\\)?/g,Ym=Oh(function(r){var e=[];return r.charCodeAt(0)===46&&e.push(""),r.replace(Ru,function(t,n,a,u){e.push(a?u.replace(Pu,"$1"):n||t)}),e});const Lh=Ym,Bh=function(r,e){for(var t=-1,n=r==null?0:r.length,a=Array(n);++t<n;)a[t]=e(r[t],t,r);return a};var zu=bt?bt.prototype:void 0,Fu=zu?zu.toString:void 0;const Gm=function r(e){if(typeof e=="string")return e;if(ni(e))return Bh(e,r)+"";if(ic(e))return Fu?Fu.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},$c=function(r){return r==null?"":Gm(r)},qc=function(r,e){return ni(r)?r:Bu(r,e)?[r]:Lh($c(r))},Pb=function(r){var e=r==null?0:r.length;return e?r[e-1]:void 0},$d=function(r){if(typeof r=="string"||ic(r))return r;var e=r+"";return e=="0"&&1/r==-1/0?"-0":e},Ap=function(r,e){for(var t=0,n=(e=qc(e,r)).length;r!=null&&t<n;)r=r[$d(e[t++])];return t&&t==n?r:void 0},Np=function(r,e,t){var n=-1,a=r.length;e<0&&(e=-e>a?0:a+e),(t=t>a?a:t)<0&&(t+=a),a=e>t?0:t-e>>>0,e>>>=0;for(var u=Array(a);++n<a;)u[n]=r[n+e];return u},Hu=function(r,e){return e.length<2?r:Ap(r,Np(e,0,-1))},Km=function(r,e){return e=qc(e,r),(r=Hu(r,e))==null||delete r[$d(Pb(e))]},zb=function(r,e){return r==null||Km(r,e)},Wc=function(r,e,t){var n=r==null?void 0:Ap(r,e);return n===void 0?t:n},Rh=function(r,e,t,n){if(!pe(r))return r;for(var a=-1,u=(e=qc(e,r)).length,f=u-1,b=r;b!=null&&++a<u;){var w=$d(e[a]),A=t;if(w==="__proto__"||w==="constructor"||w==="prototype")return r;if(a!=f){var E=b[w];(A=void 0)==void 0&&(A=pe(E)?E:Ks(e[a+1])?[]:{})}nn(b,w,A),b=b[w]}return r},Fb=function(r,e,t){return r==null?r:Rh(r,e,t)};class Qm{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=function(n){let a=null,u=0,f=0,b=null;const w=new Map;if(n==="")return w;n.charAt(n.length-1)!=";"&&(n+=";");for(let A=0;A<n.length;A++){const E=n.charAt(A);if(a===null)switch(E){case":":b||(b=n.substr(u,A-u),f=A+1);break;case'"':case"'":a=E;break;case";":{const O=n.substr(f,A-f);b&&w.set(b.trim(),O.trim()),b=null,u=A+1;break}}else E===a&&(a=null)}return w}(e);for(const[n,a]of t)this._styleProcessor.toNormalizedForm(n,a,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find(([n])=>n===e);return Array.isArray(t)}set(e,t){if(pe(e))for(const[n,a]of Object.entries(e))this._styleProcessor.toNormalizedForm(n,a,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=Zm(e);zb(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!pe(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find(([n])=>n===e);return Array.isArray(t)?t[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([t])=>t)}clear(){this._styles={}}getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const n of t)e.push(...this._styleProcessor.getReducedForm(n,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const n=t.splice(0,t.length-1).join("."),a=Wc(this._styles,n);a&&!Object.keys(a).length&&this.remove(n)}}class Hb{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,n){if(pe(t))Xm(n,Zm(e),t);else if(this._normalizers.has(e)){const a=this._normalizers.get(e),{path:u,value:f}=a(t);Xm(n,u,f)}else Xm(n,e,t)}getNormalized(e,t){if(!e)return vr({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const n=this._extractors.get(e);if(typeof n=="string")return Wc(t,n);const a=n(e,t);if(a)return a}return Wc(t,Zm(e))}getReducedForm(e,t){const n=this.getNormalized(e,t);return n===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(n):[[e,n]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(a=>{const u=this.getNormalized(a,e);return u&&typeof u=="object"?Object.keys(u).length:u}),n=new Set([...t,...Object.keys(e)]);return Array.from(n)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const n of t)this._mapStyleNames(n,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function Zm(r){return r.replace("-",".")}function Xm(r,e,t){let n=t;pe(t)&&(n=vr({},Wc(r,e),t)),Fb(r,e,n)}class $o extends la{constructor(e,t,n,a){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=function(u){const f=io(u);for(const[b,w]of f)w===null?f.delete(b):typeof w!="string"&&f.set(b,String(w));return f}(n),this._children=[],a&&this._insertChild(0,a),this._classes=new Set,this._attrs.has("class")){const u=this._attrs.get("class");Jm(this._classes,u),this._attrs.delete("class")}this._styles=new Qm(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof $o))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,n]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==n)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new $r(...e);let n=this.parent;for(;n&&!n.is("documentFragment");){if(t.match(n))return n;n=n.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map(a=>`${a[0]}="${a[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(n==""?"":` ${n}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const a of this.getChildren())t.push(a._clone(e));const n=new this.constructor(this.document,this.name,this._attrs,t);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let n=0;const a=function(u,f){return typeof f=="string"?[new ki(u,f)]:(Qe(f)||(f=[f]),Array.from(f).map(b=>typeof b=="string"?new ki(u,b):b instanceof so?new ki(u,b.data):b))}(this.document,t);for(const u of a)u.parent!==null&&u._remove(),u.parent=this,u.document=this.document,this._children.splice(e,0,u),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const n=String(t);this._fireChange("attributes",this),e=="class"?Jm(this._classes,n):e=="style"?this._styles.setTo(n):this._attrs.set(e,n)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of gn(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of gn(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of gn(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function Jm(r,e){const t=e.split(/\s+/);r.clear(),t.forEach(n=>r.add(n))}$o.prototype.is=function(r,e){return e?e===this.name&&(r==="element"||r==="view:element"):r==="element"||r==="view:element"||r==="node"||r==="view:node"};class Vu extends $o{constructor(e,t,n,a){super(e,t,n,a),this.getFillerOffset=Vb}}function Vb(){const r=[...this.getChildren()],e=r[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of r)if(!t.is("uiElement"))return null;return this.childCount}Vu.prototype.is=function(r,e){return e?e===this.name&&(r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class Uu extends Oe(Vu){constructor(e,t,n,a){super(e,t,n,a),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",u=>u&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Uu.prototype.is=function(r,e){return e?e===this.name&&(r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};const Ep=Symbol("rootName");class Sp extends Uu{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(Ep)}set rootName(e){this._setCustomProperty(Ep,e)}set _name(e){this.name=e}}Sp.prototype.is=function(r,e){return e?e===this.name&&(r==="rootElement"||r==="view:rootElement"||r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="rootElement"||r==="view:rootElement"||r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class qd{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new q("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new q("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Rt._createAt(e.startPosition):this._position=Rt._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n;do n=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=n)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let a;if(n instanceof ki){if(e.isAtEnd)return this._position=Rt._createAfter(n),this._next();a=n.data[e.offset]}else a=n.getChild(e.offset);if(a instanceof $o){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new Rt(a,0);return this._position=e,this._formatReturnValue("elementStart",a,t,e,1)}if(a instanceof ki){if(this.singleCharacters)return e=new Rt(a,0),this._position=e,this._next();let u,f=a.data.length;return a==this._boundaryEndParent?(f=this.boundaries.end.offset,u=new so(a,0,f),e=Rt._createAfter(u)):(u=new so(a,0,a.data.length),e.offset++),this._position=e,this._formatReturnValue("text",u,t,e,f)}if(typeof a=="string"){let u;this.singleCharacters?u=1:u=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-e.offset;const f=new so(n,e.offset,u);return e.offset+=u,this._position=e,this._formatReturnValue("text",f,t,e,u)}return e=Rt._createAfter(n),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,t,e)}_previous(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let a;if(n instanceof ki){if(e.isAtStart)return this._position=Rt._createBefore(n),this._previous();a=n.data[e.offset-1]}else a=n.getChild(e.offset-1);if(a instanceof $o)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",a,t,e,1)):(e=new Rt(a,a.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",a,t,e));if(a instanceof ki){if(this.singleCharacters)return e=new Rt(a,a.data.length),this._position=e,this._previous();let u,f=a.data.length;if(a==this._boundaryStartParent){const b=this.boundaries.start.offset;u=new so(a,b,a.data.length-b),f=u.data.length,e=Rt._createBefore(u)}else u=new so(a,0,a.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",u,t,e,f)}if(typeof a=="string"){let u;if(this.singleCharacters)u=1;else{const b=n===this._boundaryStartParent?this.boundaries.start.offset:0;u=e.offset-b}e.offset-=u;const f=new so(n,e.offset,u);return this._position=e,this._formatReturnValue("text",f,t,e,u)}return e=Rt._createBefore(n),this._position=e,this._formatReturnValue("elementStart",n,t,e,1)}_formatReturnValue(e,t,n,a,u){return t instanceof so&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=Rt._createAfter(t.textNode):(a=Rt._createAfter(t.textNode),this._position=a)),t.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=Rt._createBefore(t.textNode):(a=Rt._createBefore(t.textNode),this._position=a))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:a,length:u}}}}class Rt extends Ri{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Uu);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=Rt._createAt(this),n=t.offset+e;return t.offset=n<0?0:n,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new qd(t);return n.skip(e),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let a=0;for(;t[a]==n[a]&&t[a];)a++;return a===0?null:t[a-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);const a=Dt(t,n);switch(a){case"prefix":return"before";case"extension":return"after";default:return t[a]<n[a]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new qd(e)}clone(){return new Rt(this.parent,this.offset)}static _createAt(e,t){if(e instanceof Rt)return new this(e.parent,e.offset);{const n=e;if(t=="end")t=n.is("$text")?n.data.length:n.childCount;else{if(t=="before")return this._createBefore(n);if(t=="after")return this._createAfter(n);if(t!==0&&!t)throw new q("view-createpositionat-offset-required",n)}return new Rt(n,t)}}static _createAfter(e){if(e.is("$textProxy"))return new Rt(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new q("view-position-after-root",e,{root:e});return new Rt(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Rt(e.textNode,e.offsetInText);if(!e.parent)throw new q("view-position-before-root",e,{root:e});return new Rt(e.parent,e.index)}}Rt.prototype.is=function(r){return r==="position"||r==="view:position"};class Cn extends Ri{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new qd({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Ph,{direction:"backward"}),t=this.end.getLastMatchingPosition(Ph);return e.parent.is("$text")&&e.isAtStart&&(e=Rt._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=Rt._createAfter(t.parent)),new Cn(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(Ph);if(e.isAfter(this.end)||e.isEqual(this.end))return new Cn(e,e);let t=this.end.getLastMatchingPosition(Ph,{direction:"backward"});const n=e.nodeAfter,a=t.nodeBefore;return n&&n.is("$text")&&(e=new Rt(n,0)),a&&a.is("$text")&&(t=new Rt(a,a.data.length)),new Cn(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),a=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&a}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Cn(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Cn(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new Cn(t,n)}return null}getWalker(e={}){return e.boundaries=this,new qd(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new Cn(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new qd(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new qd(e);yield t.position;for(const n of t)yield n.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,n,a){return new this(new Rt(e,t),new Rt(n,a))}static _createFromPositionAndShift(e,t){const n=e,a=e.getShiftedBy(t);return t>0?new this(n,a):new this(a,n)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Rt._createBefore(e),t)}}function Ph(r){return!(!r.item.is("attributeElement")&&!r.item.is("uiElement"))}Cn.prototype.is=function(r){return r==="range"||r==="view:range"};class ca extends he(Ri){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const a of e._ranges)if(t.isEqual(a)){n=!0;break}if(!n)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=jt(this.getRanges());if(t!=jt(e.getRanges()))return!1;if(t==0)return!0;for(let n of this.getRanges()){n=n.getTrimmed();let a=!1;for(let u of e.getRanges())if(u=u.getTrimmed(),n.start.isEqual(u.start)&&n.end.isEqual(u.end)){a=!0;break}if(!a)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,n,a]=e;if(typeof n=="object"&&(a=n,n=void 0),t===null)this._setRanges([]),this._setFakeOptions(a);else if(t instanceof ca||t instanceof ef)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof Cn)this._setRanges([t],a&&a.backward),this._setFakeOptions(a);else if(t instanceof Rt)this._setRanges([new Cn(t)]),this._setFakeOptions(a);else if(t instanceof la){const u=!!a&&!!a.backward;let f;if(n===void 0)throw new q("view-selection-setto-required-second-parameter",this);f=n=="in"?Cn._createIn(t):n=="on"?Cn._createOn(t):new Cn(Rt._createAt(t,n)),this._setRanges([f],u),this._setFakeOptions(a)}else{if(!Qe(t))throw new q("view-selection-setto-not-selectable",this);this._setRanges(t,a&&a.backward),this._setFakeOptions(a)}this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new q("view-selection-setfocus-no-ranges",this);const n=Rt._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const a=this.anchor;this._ranges.pop(),n.compareWith(a)=="before"?this._addRange(new Cn(n,a),!0):this._addRange(new Cn(a,n)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const n of e)this._addRange(n);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof Cn))throw new q("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new q("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new Cn(e.start,e.end))}}ca.prototype.is=function(r){return r==="selection"||r==="view:selection"};class ef extends he(Ri){constructor(...e){super(),this._selection=new ca,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}ef.prototype.is=function(r){return r==="selection"||r=="documentSelection"||r=="view:selection"||r=="view:documentSelection"};class Wd extends K{constructor(e,t,n){super(e,t),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const jp=Symbol("bubbling contexts");function Dp(r){return class extends r{fire(e,...t){try{const n=e instanceof K?e:new K(this,e),a=qu(this);if(!a.size)return;if($u(n,"capturing",this),Nl(a,"$capture",n,...t))return n.return;const u=n.startRange||this.selection.getFirstRange(),f=u?u.getContainedElement():null,b=!!f&&!!tf(a,f);let w=f||function(A){if(!A)return null;const E=A.start.parent,O=A.end.parent,z=E.getPath(),U=O.getPath();return z.length>U.length?E:O}(u);if($u(n,"atTarget",w),!b){if(Nl(a,"$text",n,...t))return n.return;$u(n,"bubbling",w)}for(;w;){if(w.is("rootElement")){if(Nl(a,"$root",n,...t))return n.return}else if(w.is("element")&&Nl(a,w.name,n,...t))return n.return;if(Nl(a,w,n,...t))return n.return;w=w.parent,$u(n,"bubbling",w)}return $u(n,"bubbling",this),Nl(a,"$document",n,...t),n.return}catch(n){q.rethrowUnexpectedError(n,this)}}_addEventListener(e,t,n){const a=gn(n.context||"$document"),u=qu(this);for(const f of a){let b=u.get(f);b||(b=new(he()),u.set(f,b)),this.listenTo(b,e,t,n)}}_removeEventListener(e,t){const n=qu(this);for(const a of n.values())this.stopListening(a,e,t)}}}{const r=Dp(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Dp[e]=r.prototype[e]})}function $u(r,e,t){r instanceof Wd&&(r._eventPhase=e,r._currentTarget=t)}function Nl(r,e,t,...n){const a=typeof e=="string"?r.get(e):tf(r,e);return!!a&&(a.fire(t,...n),t.stop.called)}function tf(r,e){for(const[t,n]of r)if(typeof t=="function"&&t(e))return n;return null}function qu(r){return r[jp]||(r[jp]=new Map),r[jp]}class zh extends Dp(Oe()){constructor(e){super(),this._postFixers=new Set,this.selection=new ef,this.roots=new Fo({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(t=n(e),t)break;while(t)}}class Yc extends $o{constructor(e,t,n,a){super(e,t,n,a),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=nf}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new q("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function nf(){if(rf(this))return null;let r=this.parent;for(;r&&r.is("attributeElement");){if(rf(r)>1)return null;r=r.parent}return!r||rf(r)>1?null:this.childCount}function rf(r){return Array.from(r.getChildren()).filter(e=>!e.is("uiElement")).length}Yc.DEFAULT_PRIORITY=10,Yc.prototype.is=function(r,e){return e?e===this.name&&(r==="attributeElement"||r==="view:attributeElement"||r==="element"||r==="view:element"):r==="attributeElement"||r==="view:attributeElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class sf extends $o{constructor(e,t,n,a){super(e,t,n,a),this.getFillerOffset=Aw}_insertChild(e,t){if(t&&(t instanceof la||Array.from(t).length>0))throw new q("view-emptyelement-cannot-add",[this,t]);return 0}}function Aw(){return null}sf.prototype.is=function(r,e){return e?e===this.name&&(r==="emptyElement"||r==="view:emptyElement"||r==="element"||r==="view:element"):r==="emptyElement"||r==="view:emptyElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class rc extends $o{constructor(e,t,n,a){super(e,t,n,a),this.getFillerOffset=of}_insertChild(e,t){if(t&&(t instanceof la||Array.from(t).length>0))throw new q("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const n of this.getAttributeKeys())t.setAttribute(n,this.getAttribute(n));return t}}function Fh(r){r.document.on("arrowKey",(e,t)=>function(n,a,u){if(a.keyCode==Ve.arrowright){const f=a.domTarget.ownerDocument.defaultView.getSelection(),b=f.rangeCount==1&&f.getRangeAt(0).collapsed;if(b||a.shiftKey){const w=f.focusNode,A=f.focusOffset,E=u.domPositionToView(w,A);if(E===null)return;let O=!1;const z=E.getLastMatchingPosition(U=>(U.item.is("uiElement")&&(O=!0),!(!U.item.is("uiElement")&&!U.item.is("attributeElement"))));if(O){const U=u.viewPositionToDom(z);b?f.collapse(U.parent,U.offset):f.extend(U.parent,U.offset)}}}}(0,t,r.domConverter),{priority:"low"})}function of(){return null}rc.prototype.is=function(r,e){return e?e===this.name&&(r==="uiElement"||r==="view:uiElement"||r==="element"||r==="view:element"):r==="uiElement"||r==="view:uiElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class Yd extends $o{constructor(e,t,n,a){super(e,t,n,a),this.getFillerOffset=af}_insertChild(e,t){if(t&&(t instanceof la||Array.from(t).length>0))throw new q("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}function af(){return null}Yd.prototype.is=function(r,e){return e?e===this.name&&(r==="rawElement"||r==="view:rawElement"||r==="element"||r==="view:element"):r==="rawElement"||r==="view:rawElement"||r===this.name||r==="view:"+this.name||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class Gc extends he(Ri){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let n=0;const a=function(u,f){return typeof f=="string"?[new ki(u,f)]:(Qe(f)||(f=[f]),Array.from(f).map(b=>typeof b=="string"?new ki(u,b):b instanceof so?new ki(u,b.data):b))}(this.document,t);for(const u of a)u.parent!==null&&u._remove(),u.parent=this,this._children.splice(e,0,u),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Gc.prototype.is=function(r){return r==="documentFragment"||r==="view:documentFragment"};class Tp{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new Gc(this.document,e)}createText(e){return new ki(this.document,e)}createAttributeElement(e,t,n={}){const a=new Yc(this.document,e,t);return typeof n.priority=="number"&&(a._priority=n.priority),n.id&&(a._id=n.id),n.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),a}createContainerElement(e,t,n={},a={}){let u=null;Re(n)?a=n:u=n;const f=new Vu(this.document,e,t,u);return a.renderUnsafeAttributes&&f._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),f}createEditableElement(e,t,n={}){const a=new Uu(this.document,e,t);return n.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),a}createEmptyElement(e,t,n={}){const a=new sf(this.document,e,t);return n.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),a}createUIElement(e,t,n){const a=new rc(this.document,e,t);return n&&(a.render=n),a}createRawElement(e,t,n,a={}){const u=new Yd(this.document,e,t);return n&&(u.render=n),a.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),u}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){Re(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof Rt?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new q("view-writer-break-non-container-element",this.document);if(!t.parent)throw new q("view-writer-break-root",this.document);if(e.isAtStart)return Rt._createBefore(t);if(!e.isAtEnd){const n=t._clone(!1);this.insert(Rt._createAfter(t),n);const a=new Cn(e,Rt._createAt(t,"end")),u=new Rt(n,0);this.move(a,u)}return Rt._createAfter(t)}mergeAttributes(e){const t=e.offset,n=e.parent;if(n.is("$text"))return e;if(n.is("attributeElement")&&n.childCount===0){const f=n.parent,b=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new Rt(f,b))}const a=n.getChild(t-1),u=n.getChild(t);if(!a||!u)return e;if(a.is("$text")&&u.is("$text"))return sc(a,u);if(a.is("attributeElement")&&u.is("attributeElement")&&a.isSimilar(u)){const f=a.childCount;return a._appendChild(u.getChildren()),u._remove(),this._removeFromClonedElementsGroup(u),this.mergeAttributes(new Rt(a,f))}return e}mergeContainers(e){const t=e.nodeBefore,n=e.nodeAfter;if(!(t&&n&&t.is("containerElement")&&n.is("containerElement")))throw new q("view-writer-merge-containers-invalid-position",this.document);const a=t.getChild(t.childCount-1),u=a instanceof ki?Rt._createAt(a,"end"):Rt._createAt(t,"end");return this.move(Cn._createIn(n),Rt._createAt(t,"end")),this.remove(Cn._createOn(n)),u}insert(e,t){oc(t=Qe(t)?[...t]:[t],this.document);const n=t.reduce((f,b)=>{const w=f[f.length-1],A=!b.is("uiElement");return w&&w.breakAttributes==A?w.nodes.push(b):f.push({breakAttributes:A,nodes:[b]}),f},[]);let a=null,u=e;for(const{nodes:f,breakAttributes:b}of n){const w=this._insertNodes(u,f,b);a||(a=w.start),u=w.end}return a?new Cn(a,u):new Cn(e)}remove(e){const t=e instanceof Cn?e:Cn._createOn(e);if(pr(t,this.document),t.isCollapsed)return new Gc(this.document);const{start:n,end:a}=this._breakAttributesRange(t,!0),u=n.parent,f=a.offset-n.offset,b=u._removeChildren(n.offset,f);for(const A of b)this._removeFromClonedElementsGroup(A);const w=this.mergeAttributes(n);return t.start=w,t.end=w.clone(),new Gc(this.document,b)}clear(e,t){pr(e,this.document);const n=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const a of n){const u=a.item;let f;if(u.is("element")&&t.isSimilar(u))f=Cn._createOn(u);else if(!a.nextPosition.isAfter(e.start)&&u.is("$textProxy")){const b=u.getAncestors().find(w=>w.is("element")&&t.isSimilar(w));b&&(f=Cn._createIn(b))}f&&(f.end.isAfter(e.end)&&(f.end=e.end),f.start.isBefore(e.start)&&(f.start=e.start),this.remove(f))}}move(e,t){let n;if(t.isAfter(e.end)){const a=(t=this._breakAttributes(t,!0)).parent,u=a.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=a.childCount-u}else n=this.remove(e);return this.insert(t,n)}wrap(e,t){if(!(t instanceof Yc))throw new q("view-writer-wrap-invalid-attribute",this.document);if(pr(e,this.document),e.isCollapsed){let a=e.start;a.parent.is("element")&&(n=a.parent,!Array.from(n.getChildren()).some(f=>!f.is("uiElement")))&&(a=a.getLastMatchingPosition(f=>f.item.is("uiElement"))),a=this._wrapPosition(a,t);const u=this.document.selection;return u.isCollapsed&&u.getFirstPosition().isEqual(e.start)&&this.setSelection(a),new Cn(a)}return this._wrapRange(e,t);var n}unwrap(e,t){if(!(t instanceof Yc))throw new q("view-writer-unwrap-invalid-attribute",this.document);if(pr(e,this.document),e.isCollapsed)return e;const{start:n,end:a}=this._breakAttributesRange(e,!0),u=n.parent,f=this._unwrapChildren(u,n.offset,a.offset,t),b=this.mergeAttributes(f.start);b.isEqual(f.start)||f.end.offset--;const w=this.mergeAttributes(f.end);return new Cn(b,w)}rename(e,t){const n=new Vu(this.document,e,t.getAttributes());return this.insert(Rt._createAfter(t),n),this.move(Cn._createIn(t),Rt._createAt(n,0)),this.remove(Cn._createOn(t)),n}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return Rt._createAt(e,t)}createPositionAfter(e){return Rt._createAfter(e)}createPositionBefore(e){return Rt._createBefore(e)}createRange(e,t){return new Cn(e,t)}createRangeOn(e){return Cn._createOn(e)}createRangeIn(e){return Cn._createIn(e)}createSelection(...e){return new ca(...e)}createSlot(e="children"){if(!this._slotFactory)throw new q("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,n){let a,u;if(a=n?Kc(e):e.parent.is("$text")?e.parent.parent:e.parent,!a)throw new q("view-writer-invalid-position-container",this.document);u=n?this._breakAttributes(e,!0):e.parent.is("$text")?Sa(e):e;const f=a._insertChild(u.offset,t);for(const E of t)this._addToClonedElementsGroup(E);const b=u.getShiftedBy(f),w=this.mergeAttributes(u);w.isEqual(u)||b.offset--;const A=this.mergeAttributes(b);return new Cn(w,A)}_wrapChildren(e,t,n,a){let u=t;const f=[];for(;u<n;){const w=e.getChild(u),A=w.is("$text"),E=w.is("attributeElement");if(E&&this._wrapAttributeElement(a,w))f.push(new Rt(e,u));else if(A||!E||Ub(a,w)){const O=a._clone();w._remove(),O._appendChild(w),e._insertChild(u,O),this._addToClonedElementsGroup(O),f.push(new Rt(e,u))}else this._wrapChildren(w,0,w.childCount,a);u++}let b=0;for(const w of f)w.offset-=b,w.offset!=t&&(this.mergeAttributes(w).isEqual(w)||(b++,n--));return Cn._createFromParentsAndOffsets(e,t,e,n)}_unwrapChildren(e,t,n,a){let u=t;const f=[];for(;u<n;){const w=e.getChild(u);if(w.is("attributeElement"))if(w.isSimilar(a)){const A=w.getChildren(),E=w.childCount;w._remove(),e._insertChild(u,A),this._removeFromClonedElementsGroup(w),f.push(new Rt(e,u),new Rt(e,u+E)),u+=E,n+=E-1}else this._unwrapAttributeElement(a,w)?(f.push(new Rt(e,u),new Rt(e,u+1)),u++):(this._unwrapChildren(w,0,w.childCount,a),u++);else u++}let b=0;for(const w of f)w.offset-=b,!(w.offset==t||w.offset==n)&&(this.mergeAttributes(w).isEqual(w)||(b++,n--));return Cn._createFromParentsAndOffsets(e,t,e,n)}_wrapRange(e,t){const{start:n,end:a}=this._breakAttributesRange(e,!0),u=n.parent,f=this._wrapChildren(u,n.offset,a.offset,t),b=this.mergeAttributes(f.start);b.isEqual(f.start)||f.end.offset--;const w=this.mergeAttributes(f.end);return new Cn(b,w)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return da(e.clone());e.parent.is("$text")&&(e=Sa(e));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,e.parent._insertChild(e.offset,n);const a=new Cn(e,e.getShiftedBy(1));this.wrap(a,t);const u=new Rt(n.parent,n.index);n._remove();const f=u.nodeBefore,b=u.nodeAfter;return f instanceof ki&&b instanceof ki?sc(f,b):da(u)}_wrapAttributeElement(e,t){if(!Hh(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(n!=="class"&&n!=="style"&&t.hasAttribute(n)&&t.getAttribute(n)!==e.getAttribute(n))return!1;for(const n of e.getStyleNames())if(t.hasStyle(n)&&t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n!=="class"&&n!=="style"&&(t.hasAttribute(n)||this.setAttribute(n,e.getAttribute(n),t));for(const n of e.getStyleNames())t.hasStyle(n)||this.setStyle(n,e.getStyle(n),t);for(const n of e.getClassNames())t.hasClass(n)||this.addClass(n,t);return!0}_unwrapAttributeElement(e,t){if(!Hh(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(n!=="class"&&n!=="style"&&(!t.hasAttribute(n)||t.getAttribute(n)!==e.getAttribute(n)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const n of e.getStyleNames())if(!t.hasStyle(n)||t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n!=="class"&&n!=="style"&&this.removeAttribute(n,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const n=e.start,a=e.end;if(pr(e,this.document),e.isCollapsed){const w=this._breakAttributes(e.start,t);return new Cn(w,w)}const u=this._breakAttributes(a,t),f=u.parent.childCount,b=this._breakAttributes(n,t);return u.offset+=u.parent.childCount-f,new Cn(b,u)}_breakAttributes(e,t=!1){const n=e.offset,a=e.parent;if(e.parent.is("emptyElement"))throw new q("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new q("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new q("view-writer-cannot-break-raw-element",this.document);if(!t&&a.is("$text")&&rl(a.parent)||rl(a))return e.clone();if(a.is("$text"))return this._breakAttributes(Sa(e),t);if(n==a.childCount){const u=new Rt(a.parent,a.index+1);return this._breakAttributes(u,t)}if(n===0){const u=new Rt(a.parent,a.index);return this._breakAttributes(u,t)}{const u=a.index+1,f=a._clone();a.parent._insertChild(u,f),this._addToClonedElementsGroup(f);const b=a.childCount-n,w=a._removeChildren(n,b);f._appendChild(w);const A=new Rt(a.parent,u);return this._breakAttributes(A,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const a of e.getChildren())this._addToClonedElementsGroup(a);const t=e.id;if(!t)return;let n=this._cloneGroups.get(t);n||(n=new Set,this._cloneGroups.set(t,n)),n.add(e),e._clonesGroup=n}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const a of e.getChildren())this._removeFromClonedElementsGroup(a);const t=e.id;if(!t)return;const n=this._cloneGroups.get(t);n&&n.delete(e)}}function Kc(r){let e=r.parent;for(;!rl(e);){if(!e)return;e=e.parent}return e}function Ub(r,e){return r.priority<e.priority||!(r.priority>e.priority)&&r.getIdentity()<e.getIdentity()}function da(r){const e=r.nodeBefore;if(e&&e.is("$text"))return new Rt(e,e.data.length);const t=r.nodeAfter;return t&&t.is("$text")?new Rt(t,0):r}function Sa(r){if(r.offset==r.parent.data.length)return new Rt(r.parent.parent,r.parent.index+1);if(r.offset===0)return new Rt(r.parent.parent,r.parent.index);const e=r.parent.data.slice(r.offset);return r.parent._data=r.parent.data.slice(0,r.offset),r.parent.parent._insertChild(r.parent.index+1,new ki(r.root.document,e)),new Rt(r.parent.parent,r.parent.index+1)}function sc(r,e){const t=r.data.length;return r._data+=e.data,e._remove(),new Rt(r,t)}const $b=[ki,Yc,Vu,sf,Yd,rc];function oc(r,e){for(const t of r){if(!$b.some(n=>t instanceof n))throw new q("view-writer-insert-invalid-node-type",e);t.is("$text")||oc(t.getChildren(),e)}}function rl(r){return r&&(r.is("containerElement")||r.is("documentFragment"))}function pr(r,e){const t=Kc(r.start),n=Kc(r.end);if(!t||!n||t!==n)throw new q("view-writer-invalid-range-container",e)}function Hh(r,e){return r.id===null&&e.id===null}const lf=r=>r.createTextNode(" "),cf=r=>{const e=r.createElement("span");return e.dataset.ckeFiller="true",e.innerText=" ",e},Mp=r=>{const e=r.createElement("br");return e.dataset.ckeFiller="true",e},ja=7,sl="⁠".repeat(ja);function oo(r){return typeof r=="string"?r.substr(0,ja)===sl:Yi(r)&&r.data.substr(0,ja)===sl}function Gd(r){return r.data.length==ja&&oo(r)}function Ip(r){const e=typeof r=="string"?r:r.data;return oo(r)?e.slice(ja):e}function qb(r,e){if(e.keyCode==Ve.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const n=t.getRangeAt(0).startContainer,a=t.getRangeAt(0).startOffset;oo(n)&&a<=ja&&t.collapse(n,0)}}}var Vh=h(8264),Wb={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(Vh.A,Wb),Vh.A.locals;class Op extends Oe(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),S.isBlink&&!S.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else{if(e!=="children")throw new q("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!S.isAndroid)return;let e=null;const t=!(S.isBlink&&!S.isAndroid)||!this.isSelecting;for(const n of this.markedChildren)this._updateChildrenMappings(n);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Rt._createBefore(e.parent)));for(const n of this.markedAttributes)this._updateAttrs(n);for(const n of this.markedChildren)this._updateChildren(n,{inlineFillerPosition:e});for(const n of this.markedTexts)!this.markedChildren.has(n.parent)&&this.domConverter.mapViewToDom(n.parent)&&this._updateText(n,{inlineFillerPosition:e});if(t)if(e){const n=this.domConverter.viewPositionToDom(e),a=n.parent.ownerDocument;oo(n.parent)?this._inlineFiller=n.parent:this._inlineFiller=Lp(a,n.parent,n.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.childNodes),a=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),u=this._diffNodeLists(n,a),f=this._findUpdateActions(u,n,a,Yb);if(f.indexOf("update")!==-1){const b={equal:0,insert:0,delete:0};for(const w of f)if(w==="update"){const A=b.equal+b.insert,E=b.equal+b.delete,O=e.getChild(A);!O||O.is("uiElement")||O.is("rawElement")||this._updateElementMappings(O,n[E]),Co(a[A]),b.equal++}else b[w]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Rt._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&Yi(t.parent)&&oo(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!oo(e))throw new q("view-renderer-filler-was-lost",this);Gd(e)?e.remove():e.data=e.data.substr(ja),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!function(f){if(f.getAttribute("contenteditable")=="false")return!1;const b=f.findAncestor(w=>w.hasAttribute("contenteditable"));return!b||b.getAttribute("contenteditable")=="true"}(t))return!1;const a=e.nodeBefore,u=e.nodeAfter;return!(a instanceof ki||u instanceof ki)&&!!(n!==t.getFillerOffset()||a&&a.is("element","br"))&&(!S.isAndroid||!a&&!u)}_updateText(e,t){const n=this.domConverter.findCorrespondingDomText(e);let a=this.domConverter.viewToDom(e).data;const u=t.inlineFillerPosition;u&&u.parent==e.parent&&u.offset==e.index&&(a=sl+a),rs(n,a)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.attributes).map(u=>u.name),a=e.getAttributeKeys();for(const u of a)this.domConverter.setDomElementAttribute(t,u,e.getAttribute(u),e);for(const u of n)e.hasAttribute(u)||this.domConverter.removeDomElementAttribute(t,u)}_updateChildren(e,t){const n=this.domConverter.mapViewToDom(e);if(!n)return;if(S.isAndroid){let O=null;for(const z of Array.from(n.childNodes)){if(O&&Yi(O)&&Yi(z)){n.normalize();break}O=z}}const a=t.inlineFillerPosition,u=n.childNodes,f=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));a&&a.parent===e&&Lp(n.ownerDocument,f,a.offset);const b=this._diffNodeLists(u,f),w=this._findUpdateActions(b,u,f,Nw);let A=0;const E=new Set;for(const O of w)O==="delete"?(E.add(u[A]),Co(u[A])):O!=="equal"&&O!=="update"||A++;A=0;for(const O of w)O==="insert"?(Ca(n,A,f[A]),A++):O==="update"?(rs(u[A],f[A].data),A++):O==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(f[A])),A++);for(const O of E)O.parentNode||this.domConverter.unbindDomElement(O)}_diffNodeLists(e,t){return e=function(n,a){const u=Array.from(n);return u.length==0||!a||u[u.length-1]==a&&u.pop(),u}(e,this._fakeSelectionContainer),V(e,t,Gb.bind(null,this.domConverter))}_findUpdateActions(e,t,n,a){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let u=[],f=[],b=[];const w={equal:0,insert:0,delete:0};for(const A of e)A==="insert"?b.push(n[w.equal+w.insert]):A==="delete"?f.push(t[w.equal+w.delete]):(u=u.concat(V(f,b,a).map(E=>E==="equal"?"update":E)),u.push("equal"),f=[],b=[]),w[A]++;return u.concat(V(f,b,a).map(A=>A==="equal"?"update":A))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(S.isBlink&&!S.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&S.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(f){const b=f.createElement("div");return b.className="ck-fake-selection-container",Object.assign(b.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),b.textContent=" ",b}(t));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(e))return;n.parentElement&&n.parentElement==e||e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||" ";const a=t.getSelection(),u=t.createRange();a.removeAllRanges(),u.selectNodeContents(n),a.addRange(u)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),a=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(n.parent,n.offset,a.parent,a.offset),S.isGecko&&function(u,f){let b=u.parent,w=u.offset;if(Yi(b)&&Gd(b)&&(w=no(b)+1,b=b.parentNode),b.nodeType!=Node.ELEMENT_NODE||w!=b.childNodes.length-1)return;const A=b.childNodes[w];A&&A.tagName=="BR"&&f.addRange(f.getRangeAt(0))}(a,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const n=e.activeElement,a=this.domConverter.mapDomToView(n);n&&a&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function Lp(r,e,t){const n=e instanceof Array?e:e.childNodes,a=n[t];if(Yi(a))return a.data=sl+a.data,a;{const u=r.createTextNode(sl);return Array.isArray(e)?n.splice(t,0,u):Ca(e,t,u),u}}function Yb(r,e){return Jr(r)&&Jr(e)&&!Yi(r)&&!Yi(e)&&!_l(r)&&!_l(e)&&r.tagName.toLowerCase()===e.tagName.toLowerCase()}function Nw(r,e){return Jr(r)&&Jr(e)&&Yi(r)&&Yi(e)}function Gb(r,e,t){return e===t||(Yi(e)&&Yi(t)?e.data===t.data:!(!r.isBlockFiller(e)||!r.isBlockFiller(t)))}function rs(r,e){const t=r.data;if(t==e)return;const n=j(t,e);for(const a of n)a.type==="insert"?r.insertData(a.index,a.values.join("")):r.deleteData(a.index,a.howMany)}const Bs=Mp(y.document),Kb=lf(y.document),Qb=cf(y.document),Uh="data-ck-unsafe-attribute-",Bp="data-ck-unsafe-element";class $h{constructor(e,{blockFillerMode:t,renderingMode:n="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new $r,this._inlineObjectElementMatcher=new $r,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=n,this.blockFillerMode=t||(n==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?y.document:y.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new ca(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const n of Array.from(e.children))this.unbindDomElement(n)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,n){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(n==="img"&&(e==="src"||e==="srcset")||n==="source"&&e==="srcset"||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data")return void(e.innerHTML=t);const n=new DOMParser().parseFromString(t,"text/html"),a=n.createDocumentFragment(),u=n.body.childNodes;for(;u.length>0;)a.appendChild(u[0]);const f=n.createTreeWalker(a,NodeFilter.SHOW_ELEMENT),b=[];let w;for(;w=f.nextNode();)b.push(w);for(const A of b){for(const O of A.getAttributeNames())this.setDomElementAttribute(A,O,A.getAttribute(O));const E=A.tagName.toLowerCase();this._shouldRenameElement(E)&&(Pp(E),A.replaceWith(this._createReplacementDomElement(E,A)))}for(;e.firstChild;)e.firstChild.remove();e.append(a)}viewToDom(e,t={}){if(e.is("$text")){const n=this._processDataFromViewText(e);return this._domDocument.createTextNode(n)}{const n=e;if(this.mapViewToDom(n)){if(!n.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(n);this._elementsWithTemporaryCustomProperties.add(n)}let a;if(n.is("documentFragment"))a=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(a,n);else{if(n.is("uiElement"))return a=n.name==="$comment"?this._domDocument.createComment(n.getCustomProperty("$rawContent")):n.render(this._domDocument,this),t.bind&&this.bindElements(a,n),a;this._shouldRenameElement(n.name)?(Pp(n.name),a=this._createReplacementDomElement(n.name)):a=n.hasAttribute("xmlns")?this._domDocument.createElementNS(n.getAttribute("xmlns"),n.name):this._domDocument.createElement(n.name),n.is("rawElement")&&n.render(a,this),t.bind&&this.bindElements(a,n);for(const u of n.getAttributeKeys())this.setDomElementAttribute(a,u,n.getAttribute(u),n)}if(t.withChildren!==!1)for(const u of this.viewChildrenToDom(n,t))a instanceof HTMLTemplateElement?a.content.appendChild(u):a.appendChild(u);return a}}setDomElementAttribute(e,t,n,a){const u=this.shouldRenderAttribute(t,n,e.tagName.toLowerCase())||a&&a.shouldRenderUnsafeAttribute(t);u||de("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:n}),function(f){try{y.document.createAttribute(f)}catch{return!1}return!0}(t)?(e.hasAttribute(t)&&!u?e.removeAttribute(t):e.hasAttribute(Uh+t)&&u&&e.removeAttribute(Uh+t),e.setAttribute(u?t:Uh+t,n)):de("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:n})}removeDomElementAttribute(e,t){t!=Bp&&(e.removeAttribute(t),e.removeAttribute(Uh+t))}*viewChildrenToDom(e,t={}){const n=e.getFillerOffset&&e.getFillerOffset();let a=0;for(const u of e.getChildren()){n===a&&(yield this._getBlockFiller());const f=u.is("element")&&!!u.getCustomProperty("dataPipeline:transparentRendering")&&!Un(u.getAttributes());f&&this.renderingMode=="data"?yield*this.viewChildrenToDom(u,t):(f&&de("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:u}),yield this.viewToDom(u,t)),a++}n===a&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),a=this._domDocument.createRange();return a.setStart(t.parent,t.offset),a.setEnd(n.parent,n.offset),a}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const n=this.findCorrespondingDomText(t);if(!n)return null;let a=e.offset;return oo(n)&&(a+=ja),{parent:n,offset:a}}{let n,a,u;if(e.offset===0){if(n=this.mapViewToDom(t),!n)return null;u=n.childNodes[0]}else{const f=e.nodeBefore;if(a=f.is("$text")?this.findCorrespondingDomText(f):this.mapViewToDom(f),!a)return null;n=a.parentNode,u=a.nextSibling}return Yi(u)&&oo(u)?{parent:u,offset:ja}:{parent:n,offset:a?no(a)+1:0}}}domToView(e,t={}){const n=[],a=this._domToView(e,t,n),u=a.next().value;return u?(a.next(),this._processDomInlineNodes(null,n,t),u.is("$text")&&u.data.length==0?null:u):null}*domChildrenToView(e,t={},n=[]){let a=[];a=e instanceof HTMLTemplateElement?[...e.content.childNodes]:[...e.childNodes];for(let u=0;u<a.length;u++){const f=a[u],b=this._domToView(f,t,n),w=b.next().value;w!==null&&(this._isBlockViewElement(w)&&this._processDomInlineNodes(e,n,t),yield w,b.next())}this._processDomInlineNodes(e,n,t)}domSelectionToView(e){if(function(a){if(!S.isGecko||!a.rangeCount)return!1;const u=a.getRangeAt(0).startContainer;try{Object.prototype.toString.call(u)}catch{return!0}return!1}(e))return new ca([]);if(e.rangeCount===1){let a=e.getRangeAt(0).startContainer;Yi(a)&&(a=a.parentNode);const u=this.fakeSelectionToView(a);if(u)return u}const t=this.isDomSelectionBackward(e),n=[];for(let a=0;a<e.rangeCount;a++){const u=e.getRangeAt(a),f=this.domRangeToView(u);f&&n.push(f)}return new ca(n,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new Cn(t,n):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,no(e));const n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return Rt._createBefore(n);if(Yi(e)){if(Gd(e))return this.domPositionToView(e.parentNode,no(e));const a=this.findCorrespondingViewText(e);let u=t;return a?(oo(e)&&(u-=ja,u=u<0?0:u),new Rt(a,u)):null}if(t===0){const a=this.mapDomToView(e);if(a)return new Rt(a,0)}else{const a=e.childNodes[t-1];if(Yi(a)&&Gd(a)||a&&this.isBlockFiller(a))return this.domPositionToView(a.parentNode,no(a));const u=Yi(a)?this.findCorrespondingViewText(a):this.mapDomToView(a);if(u&&u.parent)return new Rt(u.parent,u.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Gd(e))return null;const t=this.getHostViewElement(e);if(t)return t;const n=e.previousSibling;if(n){if(!this.isElement(n))return null;const a=this.mapDomToView(n);if(a){const u=a.nextSibling;return u instanceof ki?u:null}}else{const a=this.mapDomToView(e.parentNode);if(a){const u=a.getChild(0);return u instanceof ki?u:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:n,scrollY:a}=y.window,u=[];uf(t,f=>{const{scrollLeft:b,scrollTop:w}=f;u.push([b,w])}),t.focus(),uf(t,f=>{const[b,w]=u.shift();f.scrollLeft=b,f.scrollTop=w}),y.window.scrollTo(n,a)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),n=this.domSelectionToView(t);n&&n.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(Bs):!(e.tagName!=="BR"||!Rp(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(Qb)||function(t,n){return t.isEqualNode(Kb)&&Rp(t,n)&&t.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const n=t.collapsed;return t.detach(),n}getHostViewElement(e){const t=function(n){const a=[];let u=n;for(;u&&u.nodeType!=Node.DOCUMENT_NODE;)a.unshift(u),u=u.parentNode;return a}(e);for(t.pop();t.length;){const n=t.pop(),a=this._domToViewMapping.get(n);if(a&&(a.is("uiElement")||a.is("rawElement")))return a}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return lf(this._domDocument);case"markedNbsp":return cf(this._domDocument);case"br":return Mp(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(Yi(e)&&oo(e)&&t<ja||this.isElement(e)&&oo(e.childNodes[t]))return!1;const n=this.mapDomToView(e);return!n||!n.is("uiElement")&&!n.is("rawElement")}*_domToView(e,t,n){if(this.isBlockFiller(e))return null;const a=this.getHostViewElement(e);if(a)return a;if(_l(e)&&t.skipComments)return null;if(Yi(e)){if(Gd(e))return null;{const u=e.data;if(u==="")return null;const f=new ki(this.document,u);return n.push(f),f}}{let u=this.mapDomToView(e);if(u)return this._isInlineObjectElement(u)&&n.push(u),u;if(this.isDocumentFragment(e))u=new Gc(this.document),t.bind&&this.bindDocumentFragments(e,u);else{u=this._createViewElement(e,t),t.bind&&this.bindElements(e,u);const b=e.attributes;if(b)for(let w=b.length,A=0;A<w;A++)u._setAttribute(b[A].name,b[A].value);if(this._isViewElementWithRawContent(u,t))return u._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(u)||n.push(u),u;if(_l(e))return u._setCustomProperty("$rawContent",e.data),u}yield u;const f=[];if(t.withChildren!==!1)for(const b of this.domChildrenToView(e,t,f))u._appendChild(b);if(this._isInlineObjectElement(u))n.push(u);else for(const b of f)n.push(b)}}_processDomInlineNodes(e,t,n){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let a=!1;for(let u=0;u<t.length;u++){const f=t[u];if(!f.is("$text")){a=!1;continue}let b,w=!1;if(df(f,this.preElements))b=Ip(f.data);else{b=f.data.replace(/[ \n\t\r]{1,}/g," "),w=/[^\S\u00A0]/.test(b.charAt(b.length-1));const A=u>0?t[u-1]:null,E=u+1<t.length?t[u+1]:null,O=!A||A.is("element")&&A.name=="br"||a,z=!E&&!oo(f.data);n.withChildren!==!1&&(O&&(b=b.replace(/^ /,"")),z&&(b=b.replace(/ $/,""))),b=Ip(b),b=b.replace(/ \u00A0/g,"  ");const U=E&&E.is("element")&&E.name!="br",W=E&&E.is("$text")&&E.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(b)||!E||U||W)&&(b=b.replace(/\u00A0$/," ")),(O||A&&A.is("element")&&A.name!="br")&&(b=b.replace(/^\u00A0/," "))}b.length==0&&f.parent?(f._remove(),t.splice(u,1),u--):(f._data=b,a=w)}t.length=0}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return t;if(t.charAt(0)==" "){const n=this._getTouchingInlineViewNode(e,!1);!(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n))&&n||(t=" "+t.substr(1))}if(t.charAt(t.length-1)==" "){const n=this._getTouchingInlineViewNode(e,!0),a=n&&n.is("$textProxy")&&n.data.charAt(0)==" ";t.charAt(t.length-2)!=" "&&n&&!a||(t=t.substr(0,t.length-1)+" ")}return t.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_getTouchingInlineViewNode(e,t){const n=new qd({startPosition:t?Rt._createAfter(e):Rt._createBefore(e),direction:t?"forward":"backward"});for(const a of n){if(a.item.is("element","br"))return null;if(this._isInlineObjectElement(a.item))return a.item;if(a.item.is("containerElement"))return null;if(a.item.is("$textProxy"))return a.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,t){if(_l(e))return new rc(this.document,"$comment");const n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new $o(this.document,n)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const n=this._domDocument.createElement("span");if(n.setAttribute(Bp,e),t){for(;t.firstChild;)n.appendChild(t.firstChild);for(const a of t.getAttributeNames())n.setAttribute(a,t.getAttribute(a))}return n}}function df(r,e){return r.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function uf(r,e){let t=r;for(;t;)e(t),t=t.parentElement}function Rp(r,e){const t=r.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function Pp(r){r==="script"&&de("domconverter-unsafe-script-element-detected"),r==="style"&&de("domconverter-unsafe-style-element-detected")}class ol extends eo(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const hf=tl(function(r,e){Dn(e,Fr(e),r)});class Qc{constructor(e,t,n){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,hf(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class El extends ol{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(t=>{this.listenTo(e,t,(n,a)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(a.target)&&this.onDomEvent(a)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,n){this.isEnabled&&this.document.fire(e,new Qc(this.view,t,n))}}class Zb extends El{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return zt(this)}};this.fire(e.type,e,t)}}const qh=function(){return $e.Date.now()};var mf=/\s/;const zp=function(r){for(var e=r.length;e--&&mf.test(r.charAt(e)););return e};var Xb=/^\s+/;const Fp=function(r){return r&&r.slice(0,zp(r)+1).replace(Xb,"")};var Jb=/^[-+]0x[0-9a-f]+$/i,ac=/^0b[01]+$/i,Hp=/^0o[0-7]+$/i,Ew=parseInt;const Vp=function(r){if(typeof r=="number")return r;if(ic(r))return NaN;if(pe(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=pe(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=Fp(r);var t=ac.test(r);return t||Hp.test(r)?Ew(r.slice(2),t?2:8):Jb.test(r)?NaN:+r};var lc=Math.max,ek=Math.min;const cc=function(r,e,t){var n,a,u,f,b,w,A=0,E=!1,O=!1,z=!0;if(typeof r!="function")throw new TypeError("Expected a function");function U(Me){var Ze=n,pt=a;return n=a=void 0,A=Me,f=r.apply(pt,Ze)}function W(Me){var Ze=Me-w;return w===void 0||Ze>=e||Ze<0||O&&Me-A>=u}function X(){var Me=qh();if(W(Me))return ae(Me);b=setTimeout(X,function(Ze){var pt=e-(Ze-w);return O?ek(pt,u-(Ze-A)):pt}(Me))}function ae(Me){return b=void 0,z&&n?U(Me):(n=a=void 0,f)}function ge(){var Me=qh(),Ze=W(Me);if(n=arguments,a=this,w=Me,Ze){if(b===void 0)return function(pt){return A=pt,b=setTimeout(X,e),E?U(pt):f}(w);if(O)return clearTimeout(b),b=setTimeout(X,e),U(w)}return b===void 0&&(b=setTimeout(X,e)),f}return e=Vp(e)||0,pe(t)&&(E=!!t.leading,u=(O="maxWait"in t)?lc(Vp(t.maxWait)||0,e):u,z="trailing"in t?!!t.trailing:z),ge.cancel=function(){b!==void 0&&clearTimeout(b),A=0,n=w=a=b=void 0},ge.flush=function(){return b===void 0?f:ae(qh())},ge};class Wh extends ol{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=cc(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&n.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,n=new ca(t.getRanges(),{backward:t.isBackward,fake:!1});e!=Ve.arrowleft&&e!=Ve.arrowup||n.setTo(n.getFirstPosition()),e!=Ve.arrowright&&e!=Ve.arrowdown||n.setTo(n.getLastPosition());const a={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",a),this._fireSelectionChangeDoneDebounced(a)}}const gr=function(r){return this.__data__.set(r,"__lodash_hash_undefined__"),this},Sw=function(r){return this.__data__.has(r)};function ff(r){var e=-1,t=r==null?0:r.length;for(this.__data__=new zr;++e<t;)this.add(r[e])}ff.prototype.add=ff.prototype.push=gr,ff.prototype.has=Sw;const tk=ff,Yh=function(r,e){for(var t=-1,n=r==null?0:r.length;++t<n;)if(e(r[t],t,r))return!0;return!1},Zc=function(r,e){return r.has(e)},Up=function(r,e,t,n,a,u){var f=1&t,b=r.length,w=e.length;if(b!=w&&!(f&&w>b))return!1;var A=u.get(r),E=u.get(e);if(A&&E)return A==e&&E==r;var O=-1,z=!0,U=2&t?new tk:void 0;for(u.set(r,e),u.set(e,r);++O<b;){var W=r[O],X=e[O];if(n)var ae=f?n(X,W,O,e,r,u):n(W,X,O,r,e,u);if(ae!==void 0){if(ae)continue;z=!1;break}if(U){if(!Yh(e,function(ge,Me){if(!Zc(U,Me)&&(W===ge||a(W,ge,t,n,u)))return U.push(Me)})){z=!1;break}}else if(W!==X&&!a(W,X,t,n,u)){z=!1;break}}return u.delete(r),u.delete(e),z},nk=function(r){var e=-1,t=Array(r.size);return r.forEach(function(n,a){t[++e]=[a,n]}),t},Gh=function(r){var e=-1,t=Array(r.size);return r.forEach(function(n){t[++e]=n}),t};var al=bt?bt.prototype:void 0,pf=al?al.valueOf:void 0;const $p=function(r,e,t,n,a,u,f){switch(t){case"[object DataView]":if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(r.byteLength!=e.byteLength||!u(new Ka(r),new Ka(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ft(+r,+e);case"[object Error]":return r.name==e.name&&r.message==e.message;case"[object RegExp]":case"[object String]":return r==e+"";case"[object Map]":var b=nk;case"[object Set]":var w=1&n;if(b||(b=Gh),r.size!=e.size&&!w)return!1;var A=f.get(r);if(A)return A==e;n|=2,f.set(r,e);var E=Up(b(r),b(e),n,a,u,f);return f.delete(r),E;case"[object Symbol]":if(pf)return pf.call(r)==pf.call(e)}return!1};var ik=Object.prototype.hasOwnProperty;const qp=function(r,e,t,n,a,u){var f=1&t,b=Tc(r),w=b.length;if(w!=Tc(e).length&&!f)return!1;for(var A=w;A--;){var E=b[A];if(!(f?E in e:ik.call(e,E)))return!1}var O=u.get(r),z=u.get(e);if(O&&z)return O==e&&z==r;var U=!0;u.set(r,e),u.set(e,r);for(var W=f;++A<w;){var X=r[E=b[A]],ae=e[E];if(n)var ge=f?n(ae,X,E,e,r,u):n(X,ae,E,r,e,u);if(!(ge===void 0?X===ae||a(X,ae,t,n,u):ge)){U=!1;break}W||(W=E=="constructor")}if(U&&!W){var Me=r.constructor,Ze=e.constructor;Me==Ze||!("constructor"in r)||!("constructor"in e)||typeof Me=="function"&&Me instanceof Me&&typeof Ze=="function"&&Ze instanceof Ze||(U=!1)}return u.delete(r),u.delete(e),U};var gf="[object Arguments]",Kh="[object Array]",Qh="[object Object]",Sl=Object.prototype.hasOwnProperty;const Ir=function(r,e,t,n,a,u){var f=ni(r),b=ni(e),w=f?Kh:_o(r),A=b?Kh:_o(e),E=(w=w==gf?Qh:w)==Qh,O=(A=A==gf?Qh:A)==Qh,z=w==A;if(z&&Zr(r)){if(!Zr(e))return!1;f=!0,E=!1}if(z&&!E)return u||(u=new Ys),f||Io(r)?Up(r,e,t,n,a,u):$p(r,e,w,t,n,a,u);if(!(1&t)){var U=E&&Sl.call(r,"__wrapped__"),W=O&&Sl.call(e,"__wrapped__");if(U||W){var X=U?r.value():r,ae=W?e.value():e;return u||(u=new Ys),a(X,ae,t,n,u)}}return!!z&&(u||(u=new Ys),qp(r,e,t,n,a,u))},Wu=function r(e,t,n,a,u){return e===t||(e==null||t==null||!Xn(e)&&!Xn(t)?e!=e&&t!=t:Ir(e,t,n,a,r,u))},rk=function(r,e,t){var n=(t=typeof t=="function"?t:void 0)?t(r,e):void 0;return n===void 0?Wu(r,e,void 0,t):!!n};class ss extends ol{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,n=new Set,a=new Set;for(const f of e){const b=t.mapDomToView(f.target);b&&(b.is("uiElement")||b.is("rawElement")||f.type!=="childList"||this._isBogusBrMutation(f)||a.add(b))}for(const f of e){const b=t.mapDomToView(f.target);if((!b||!b.is("uiElement")&&!b.is("rawElement"))&&f.type==="characterData"){const w=t.findCorrespondingViewText(f.target);w&&!a.has(w.parent)?n.add(w):!w&&oo(f.target)&&a.add(t.mapDomToView(f.target.parentNode))}}let u=!1;for(const f of n)u=!0,this.renderer.markToSync("text",f);for(const f of a){const b=t.mapViewToDom(f),w=Array.from(f.getChildren()),A=Array.from(t.domChildrenToView(b,{withChildren:!1}));rk(w,A,jw)||(u=!0,this.renderer.markToSync("children",f))}u&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function jw(r,e){if(!Array.isArray(r))return r===e||!(!r.is("$text")||!e.is("$text"))&&r.data===e.data}class Zh extends El{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(n,a)=>{const u=t.selection.editableElement;u!==null&&u!==a.target||(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class sk extends ol{constructor(e){super(e),this.mutationObserver=e.getObserver(ss),this.focusObserver=e.getObserver(Zh),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=cc(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=cc(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,n=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",n,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",n,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",n,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(a,u)=>{this.document.isComposing&&!S.isAndroid||(this._handleSelectionChange(u,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const n=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const a=this.domConverter.domSelectionToView(n);if(a.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(a)||!this.domConverter.isDomSelectionCorrect(n))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(a))this.view.forceRender();else{const u={oldSelection:this.selection,newSelection:a,domSelection:n};this.document.fire("selectionChange",u),this._fireSelectionChangeDoneDebounced(u)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class cr extends El{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class Ao{constructor(e,t={}){this._files=t.cacheFiles?jl(e):null,this._native=e}get files(){return this._files||(this._files=jl(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,n){this._native.setDragImage(e,t,n)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function jl(r){const e=Array.from(r.files||[]),t=Array.from(r.items||[]);return e.length?e:t.filter(n=>n.kind==="file").map(n=>n.getAsFile())}class ok extends El{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),n=this.view,a=n.document;let u=null,f=null,b=[];if(e.dataTransfer&&(u=new Ao(e.dataTransfer)),e.data!==null?f=e.data:u&&(f=u.getData("text/plain")),a.selection.isFake)b=Array.from(a.selection.getRanges());else if(t.length)b=t.map(w=>{const A=n.domConverter.domPositionToView(w.startContainer,w.startOffset),E=n.domConverter.domPositionToView(w.endContainer,w.endOffset);return A?n.createRange(A,E):E?n.createRange(E):void 0}).filter(w=>!!w);else if(S.isAndroid){const w=e.target.ownerDocument.defaultView.getSelection();b=Array.from(n.domConverter.domSelectionToView(w).getRanges())}if(S.isAndroid&&e.inputType=="insertCompositionText"&&f&&f.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[n.createRange(b[0].end)]});else if(e.inputType=="insertText"&&f&&f.includes(`
`)){const w=f.split(/\n{1,2}/g);let A=b;for(let E=0;E<w.length;E++){const O=w[E];O!=""&&(this.fire(e.type,e,{data:O,dataTransfer:u,targetRanges:A,inputType:e.inputType,isComposing:e.isComposing}),A=[a.selection.getFirstRange()]),E+1<w.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:A}),A=[a.selection.getFirstRange()])}}else this.fire(e.type,e,{data:f,dataTransfer:u,targetRanges:b,inputType:e.inputType,isComposing:e.isComposing})}}class ak extends ol{constructor(e){super(e),this.document.on("keydown",(t,n)=>{if(this.isEnabled&&((a=n.keyCode)==Ve.arrowright||a==Ve.arrowleft||a==Ve.arrowup||a==Ve.arrowdown)){const u=new Wd(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(u,n),u.stop.called&&t.stop()}var a})}observe(){}stopObserving(){}}class Dw extends ol{constructor(e){super(e);const t=this.document;t.on("keydown",(n,a)=>{if(!this.isEnabled||a.keyCode!=Ve.tab||a.ctrlKey)return;const u=new Wd(t,"tab",t.selection.getFirstRange());t.fire(u,a),u.stop.called&&n.stop()})}observe(){}stopObserving(){}}const ua=function(r){return Rc(r,5)};class ha extends Oe(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new zh(e),this.domConverter=new $h(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Op(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new Tp(this.document),this.addObserver(ss),this.addObserver(Zh),this.addObserver(sk),this.addObserver(Zb),this.addObserver(Wh),this.addObserver(cr),this.addObserver(ak),this.addObserver(ok),this.addObserver(Dw),this.document.on("arrowKey",qb,{priority:"low"}),Fh(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),S.isiOS&&this.listenTo(this.document,"blur",(t,n)=>{this.domConverter.mapDomToView(n.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,t="main"){const n=this.document.getRoot(t);n._name=e.tagName.toLowerCase();const a={};for(const{name:f,value:b}of Array.from(e.attributes))a[f]=b,f==="class"?this._writer.addClass(b.split(" "),n):this._writer.setAttribute(f,b,n);this._initialDomRootAttributes.set(e,a);const u=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};u(),this.domRoots.set(t,e),this.domConverter.bindElements(e,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(e.ownerDocument),n.on("change:children",(f,b)=>this._renderer.markToSync("children",b)),n.on("change:attributes",(f,b)=>this._renderer.markToSync("attributes",b)),n.on("change:text",(f,b)=>this._renderer.markToSync("text",b)),n.on("change:isReadOnly",()=>this.change(u)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const f of this._observers.values())f.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:a})=>t.removeAttribute(a));const n=this._initialDomRootAttributes.get(t);for(const a in n)t.setAttribute(a,n[a]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const a of this._observers.values())a.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[n,a]of this.domRoots)t.observe(a,n);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:n=20,ancestorOffset:a=20}={}){const u=this.document.selection.getFirstRange();if(!u)return;const f=ua({alignToTop:e,forceScroll:t,viewportOffset:n,ancestorOffset:a});typeof n=="number"&&(n={top:n,bottom:n,left:n,right:n});const b={target:this.domConverter.viewRangeToDom(u),viewportOffset:n,ancestorOffset:a,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",b,f),function({target:w,viewportOffset:A=0,ancestorOffset:E=0,alignToTop:O,forceScroll:z}){const U=T(w);let W=U,X=null;for(A=function(ae){return typeof ae=="number"?{top:ae,bottom:ae,left:ae,right:ae}:ae}(A);W;){let ae;ae=H(W==U?w:X),zc({parent:ae,getRect:()=>G(w,W),alignToTop:O,ancestorOffset:E,forceScroll:z});const ge=G(w,W);if(wl({window:W,rect:ge,viewportOffset:A,alignToTop:O,forceScroll:z}),W.parent!=W){if(X=W.frameElement,W=W.parent,!X)return}else W=null}}(b)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new q("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){q.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Zh).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return Rt._createAt(e,t)}createPositionAfter(e){return Rt._createAfter(e)}createPositionBefore(e){return Rt._createBefore(e)}createRange(e,t){return new Cn(e,t)}createRangeOn(e){return Cn._createOn(e)}createRangeIn(e){return Cn._createIn(e)}createSelection(...e){return new ca(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class ks{is(){throw new Error("is() method is abstract")}}class Xc extends ks{constructor(e){super(),this.parent=null,this._attrs=io(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new q("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new q("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),a=e.getAncestors(t);let u=0;for(;n[u]==a[u]&&n[u];)u++;return u===0?null:n[u-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),a=Dt(t,n);switch(a){case"prefix":return!0;case"extension":return!1;default:return t[a]<n[a]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,n)=>(t[n[0]]=n[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=io(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Xc.prototype.is=function(r){return r==="node"||r==="model:node"};class Rs{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((n,a)=>n+a.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new q("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const n of this._nodes){if(e>=t&&e<t+n.offsetSize)return this.getNodeIndex(n);t+=n.offsetSize}if(t!=e)throw new q("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const n of t)if(!(n instanceof Xc))throw new q("model-nodelist-insertnodes-not-node",this);this._nodes=function(n,a,u,f){if(Math.max(a.length,n.length)>1e4)return n.slice(0,u).concat(a).concat(n.slice(u+f,n.length));{const b=Array.from(n);return b.splice(u,f,...a),b}}(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class Pi extends Xc{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Pi(this.data,this.getAttributes())}static fromJSON(e){return new Pi(e.data,e.attributes)}}Pi.prototype.is=function(r){return r==="$text"||r==="model:$text"||r==="text"||r==="model:text"||r==="node"||r==="model:node"};class _s extends ks{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new q("model-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.offsetSize)throw new q("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}_s.prototype.is=function(r){return r==="$textProxy"||r==="model:$textProxy"||r==="textProxy"||r==="model:textProxy"};class ui extends Xc{constructor(e,t,n){super(t),this._children=new Rs,this.name=e,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}findAncestor(e,t={}){let n=t.includeSelf?this:this.parent;for(;n;){if(n.name===e)return n;n=n.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(n=>n._clone(!0)):void 0;return new ui(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(a){return typeof a=="string"?[new Pi(a)]:(Qe(a)||(a=[a]),Array.from(a).map(u=>typeof u=="string"?new Pi(u):u instanceof _s?new Pi(u.data,u.getAttributes()):u))}(t);for(const a of n)a.parent!==null&&a._remove(),a.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const a of n)a.parent=null;return n}static fromJSON(e){let t;if(e.children){t=[];for(const n of e.children)n.name?t.push(ui.fromJSON(n)):t.push(Pi.fromJSON(n))}return new ui(e.name,e.attributes,t)}}ui.prototype.is=function(r,e){return e?e===this.name&&(r==="element"||r==="model:element"):r==="element"||r==="model:element"||r==="node"||r==="model:node"};class ao{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new q("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new q("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=At._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n,a,u;do a=this.position,u=this._visitedParent,{done:t,value:n}=this.next();while(!t&&e(n));t||(this._position=a,this._visitedParent=u)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const a=qo(t,n),u=a||Wp(t,n,a);if(u instanceof ui){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t.path.push(0),this._visitedParent=u;return this._position=t,dc("elementStart",u,e,t,1)}if(u instanceof Pi){let f;if(this.singleCharacters)f=1;else{let A=u.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<A&&(A=this.boundaries.end.offset),f=A-t.offset}const b=t.offset-u.startOffset,w=new _s(u,b,f);return t.offset+=f,this._position=t,dc("text",w,e,t,f)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():dc("elementEnd",n,e,t)}_previous(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const a=t.parent,u=qo(t,a),f=u||Kd(t,a,u);if(f instanceof ui)return t.offset--,this.shallow?(this._position=t,dc("elementStart",f,e,t,1)):(t.path.push(f.maxOffset),this._position=t,this._visitedParent=f,this.ignoreElementEnd?this._previous():dc("elementEnd",f,e,t));if(f instanceof Pi){let b;if(this.singleCharacters)b=1;else{let E=f.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>E&&(E=this.boundaries.start.offset),b=t.offset-E}const w=t.offset-f.startOffset,A=new _s(f,w-b,b);return t.offset-=b,this._position=t,dc("text",A,e,t,b)}return t.path.pop(),this._position=t,this._visitedParent=n.parent,dc("elementStart",n,e,t,1)}}function dc(r,e,t,n,a){return{done:!1,value:{type:r,item:e,previousPosition:t,nextPosition:n,length:a}}}class At extends ks{constructor(e,t,n="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new q("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new q("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new q("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new q("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return qo(this,this.parent)}get nodeAfter(){const e=this.parent;return Wp(this,e,qo(this,e))}get nodeBefore(){const e=this.parent;return Kd(this,e,qo(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=Dt(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new ao(t);return n.skip(e),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=Dt(this.path,e.path),n=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let a=0;for(;t[a]==n[a]&&t[a];)a++;return a===0?null:t[a-1]}getShiftedBy(e){const t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let n=0;n<t;n++){const a=this.path[n]-e.path[n];if(a<-1||a>1)return!1;if(a===1)return Yu(e,this,n);if(a===-1)return Yu(this,e,n)}return this.path.length===e.path.length||(this.path.length>e.path.length?Qd(this.path,t):Qd(e.path,t))}hasSameParentAs(e){return this.root!==e.root?!1:Dt(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=At._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let n;return t.containsPosition(this)||t.start.isEqual(this)?(n=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(n=n._getTransformedByDeletion(e.deletionPosition,1))):n=this.isEqual(e.deletionPosition)?At._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),n}_getTransformedByDeletion(e,t){const n=At._createAt(this);if(this.root!=e.root)return n;if(Dt(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;n.offset-=t}}else if(Dt(e.getParentPath(),this.getParentPath())=="prefix"){const a=e.path.length-1;if(e.offset<=this.path[a]){if(e.offset+t>this.path[a])return null;n.path[a]-=t}}return n}_getTransformedByInsertion(e,t){const n=At._createAt(this);if(this.root!=e.root)return n;if(Dt(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(n.offset+=t);else if(Dt(e.getParentPath(),this.getParentPath())=="prefix"){const a=e.path.length-1;e.offset<=this.path[a]&&(n.path[a]+=t)}return n}_getTransformedByMove(e,t,n){if(t=t._getTransformedByDeletion(e,n),e.isEqual(t))return At._createAt(this);const a=this._getTransformedByDeletion(e,n);return a===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(n).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):a._getTransformedByInsertion(t,n)}_getCombined(e,t){const n=e.path.length-1,a=At._createAt(t);return a.stickiness=this.stickiness,a.offset=a.offset+this.path[n]-e.offset,a.path=[...a.path,...this.path.slice(n+1)],a}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,n="toNone"){if(e instanceof At)return new At(e.root,e.path,e.stickiness);{const a=e;if(t=="end")t=a.maxOffset;else{if(t=="before")return this._createBefore(a,n);if(t=="after")return this._createAfter(a,n);if(t!==0&&!t)throw new q("model-createpositionat-offset-required",[this,e])}if(!a.is("element")&&!a.is("documentFragment"))throw new q("model-position-parent-incorrect",[this,e]);const u=a.getPath();return u.push(t),new this(a.root,u,n)}}static _createAfter(e,t){if(!e.parent)throw new q("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new q("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const n=new At(t.graveyard,e.path);return n.stickiness=e.stickiness,n}if(!t.getRoot(e.root))throw new q("model-position-fromjson-no-root",t,{rootName:e.root});return new At(t.getRoot(e.root),e.path,e.stickiness)}}function qo(r,e){const t=e.getChild(e.offsetToIndex(r.offset));return t&&t.is("$text")&&t.startOffset<r.offset?t:null}function Wp(r,e,t){return t!==null?null:e.getChild(e.offsetToIndex(r.offset))}function Kd(r,e,t){return t!==null?null:e.getChild(e.offsetToIndex(r.offset)-1)}function Yu(r,e,t){return t+1!==r.path.length&&!!Qd(e.path,t+1)&&!!function(n,a){let u=n.parent,f=n.path.length-1,b=0;for(;f>=a;){if(n.path[f]+b!==u.maxOffset)return!1;b=1,f--,u=u.parent}return!0}(r,t+1)}function Qd(r,e){for(;e<r.length;){if(r[e]!==0)return!1;e++}return!0}At.prototype.is=function(r){return r==="position"||r==="model:position"};class Je extends ks{constructor(e,t){super(),this.start=At._createAt(e),this.end=t?At._createAt(t):At._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new ao({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return Dt(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),a=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&a}containsItem(e){const t=At._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Je(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Je(e.end,this.end))):t.push(new Je(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new Je(t,n)}return null}getJoined(e,t=!1){let n=this.isIntersecting(e);if(n||(n=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!n)return null;let a=this.start,u=this.end;return e.start.isBefore(a)&&(a=e.start),e.end.isAfter(u)&&(u=e.end),new Je(a,u)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,n=At._createAt(this.start);let a=n.parent;for(;n.path.length>t+1;){const u=a.maxOffset-n.offset;u!==0&&e.push(new Je(n,n.getShiftedBy(u))),n.path=n.path.slice(0,-1),n.offset++,a=a.parent}for(;n.path.length<=this.end.path.length;){const u=this.end.path[n.path.length-1],f=u-n.offset;f!==0&&e.push(new Je(n,n.getShiftedBy(f))),n.offset=u,n.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new ao(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new ao(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new ao(e);yield t.position;for(const n of t)yield n.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new Je(this.start,this.end)]}getTransformedByOperations(e){const t=[new Je(this.start,this.end)];for(const n of e)for(let a=0;a<t.length;a++){const u=t[a].getTransformedByOperation(n);t.splice(a,1,...u),a+=u.length-1}for(let n=0;n<t.length;n++){const a=t[n];for(let u=n+1;u<t.length;u++){const f=t[u];(a.containsRange(f)||f.containsRange(a)||a.isEqual(f))&&t.splice(u,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const n=e.sourcePosition,a=e.howMany,u=e.targetPosition;return this._getTransformedByMove(n,u,a,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),new Je(t,n)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new Je(this.start);let t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e);return t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)?(e.sourcePosition.isBefore(e.targetPosition)?(t=At._createAt(n),t.offset=0):(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition),new Je(t,n)):new Je(t,n)}_getTransformedByInsertion(e,t,n=!1){if(n&&this.containsPosition(e))return[new Je(this.start,e),new Je(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const a=new Je(this.start,this.end);return a.start=a.start._getTransformedByInsertion(e,t),a.end=a.end._getTransformedByInsertion(e,t),[a]}}_getTransformedByMove(e,t,n,a=!1){if(this.isCollapsed){const O=this.start._getTransformedByMove(e,t,n);return[new Je(O)]}const u=Je._createFromPositionAndShift(e,n),f=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!a&&(u.containsPosition(this.start)||u.containsPosition(this.end))){const O=this.start._getTransformedByMove(e,t,n),z=this.end._getTransformedByMove(e,t,n);return[new Je(O,z)]}let b;const w=this.getDifference(u);let A=null;const E=this.getIntersection(u);if(w.length==1?A=new Je(w[0].start._getTransformedByDeletion(e,n),w[0].end._getTransformedByDeletion(e,n)):w.length==2&&(A=new Je(this.start,this.end._getTransformedByDeletion(e,n))),b=A?A._getTransformedByInsertion(f,n,E!==null||a):[],E){const O=new Je(E.start._getCombined(u.start,f),E.end._getCombined(u.start,f));b.length==2?b.splice(1,0,O):b.push(O)}return b}_getTransformedByDeletion(e,t){let n=this.start._getTransformedByDeletion(e,t),a=this.end._getTransformedByDeletion(e,t);return n==null&&a==null?null:(n==null&&(n=e),a==null&&(a=e),new Je(n,a))}static _createFromPositionAndShift(e,t){const n=e,a=e.getShiftedBy(t);return t>0?new this(n,a):new this(a,n)}static _createIn(e){return new this(At._createAt(e,0),At._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(At._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new q("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((u,f)=>u.start.isAfter(f.start)?1:-1);const n=e.indexOf(t),a=new this(t.start,t.end);if(n>0)for(let u=n-1;e[u].end.isEqual(a.start);u++)a.start=At._createAt(e[u].start);for(let u=n+1;u<e.length&&e[u].start.isEqual(a.end);u++)a.end=At._createAt(e[u].end);return a}static fromJSON(e,t){return new this(At.fromJSON(e.start,t),At.fromJSON(e.end,t))}}Je.prototype.is=function(r){return r==="range"||r==="model:range"};class Yp extends he(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const n=this._modelToViewMapping.get(t.modelPosition.parent);if(!n)throw new q("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(n,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const n=this.findMappedViewAncestor(t.viewPosition),a=this._viewToModelMapping.get(n),u=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,n);t.modelPosition=At._createAt(a,u)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const n=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const a of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(a);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(n)==e&&this._modelToViewMapping.delete(n))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const n=this._markerNameToElements.get(t)||new Set;n.add(e);const a=this._elementToMarkerNames.get(e)||new Set;a.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,a)}unbindElementFromMarkerName(e,t){const n=this._markerNameToElements.get(t);n&&(n.delete(e),n.size==0&&this._markerNameToElements.delete(t));const a=this._elementToMarkerNames.get(e);a&&(a.delete(t),a.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Je(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Cn(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const n=new Set;for(const a of t)if(a.is("attributeElement"))for(const u of a.getElementsWithSameId())n.add(u);else n.add(a);return n}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,n){if(n!=e)return this._toModelOffset(e.parent,e.index,n)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;let a=0;for(let u=0;u<t;u++)a+=this.getModelLength(e.getChild(u));return a}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const n of e.getChildren())t+=this.getModelLength(n);return t}}findPositionIn(e,t){let n,a=0,u=0,f=0;if(e.is("$text"))return new Rt(e,t);for(;u<t;)n=e.getChild(f),a=this.getModelLength(n),u+=a,f++;return u==t?this._moveViewPositionToTextNode(new Rt(e,f)):this.findPositionIn(n,t-(u-a))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,n=e.nodeAfter;return t instanceof ki?new Rt(t,t.data.length):n instanceof ki?new Rt(n,0):e}}class lk{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=Jc(t),e instanceof _s&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=Jc(t),e instanceof _s&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=Jc(t),e instanceof _s&&(e=this._getSymbolForTextProxy(e));const n=this._consumable.get(e);if(n===void 0)return null;const a=n.get(t);return a===void 0?null:a}revert(e,t){t=Jc(t),e instanceof _s&&(e=this._getSymbolForTextProxy(e));const n=this.test(e,t);return n===!1?(this._consumable.get(e).set(t,!0),!0):n!==!0&&null}verifyAllConsumed(e){const t=[];for(const[n,a]of this._consumable)for(const[u,f]of a){const b=u.split(":")[0];f&&e==b&&t.push({event:u,item:n.name||n.description})}if(t.length)throw new q("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const n=this._textProxyRegistry.get(e.startOffset);if(n){const a=n.get(e.endOffset);a&&(t=a.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,n=e.endOffset,a=e.parent,u=Symbol("$textProxy:"+e.data);let f,b;return f=this._textProxyRegistry.get(t),f||(f=new Map,this._textProxyRegistry.set(t,f)),b=f.get(n),b||(b=new Map,f.set(n,b)),b.set(a,u),u}}function Jc(r){const e=r.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?r:e.length>1?e[0]+":"+e[1]:e[0]}var ck=Object.defineProperty,bf=Object.defineProperties,dk=Object.getOwnPropertyDescriptors,uk=Object.getOwnPropertySymbols,Tw=Object.prototype.hasOwnProperty,zi=Object.prototype.propertyIsEnumerable,Qi=(r,e,t)=>e in r?ck(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Kn=(r,e)=>{for(var t in e||(e={}))Tw.call(e,t)&&Qi(r,t,e[t]);if(uk)for(var t of uk(e))zi.call(e,t)&&Qi(r,t,e[t]);return r},hi=(r,e)=>bf(r,dk(e));class Oi extends he(){constructor(e){super(),this._conversionApi=Kn({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,t,n){const a=this._createConversionApi(n,e.getRefreshedItems());for(const f of e.getMarkersToRemove())this._convertMarkerRemove(f.name,f.range,a);const u=this._reduceChanges(e.getChanges());for(const f of u)f.type==="insert"?this._convertInsert(Je._createFromPositionAndShift(f.position,f.length),a):f.type==="reinsert"?this._convertReinsert(Je._createFromPositionAndShift(f.position,f.length),a):f.type==="remove"?this._convertRemove(f.position,f.length,f.name,a):this._convertAttribute(f.range,f.attributeKey,f.attributeOldValue,f.attributeNewValue,a);a.mapper.flushDeferredBindings();for(const f of a.mapper.flushUnboundMarkerNames()){const b=t.get(f).getRange();this._convertMarkerRemove(f,b,a),this._convertMarkerAdd(f,b,a)}for(const f of e.getMarkersToAdd())this._convertMarkerAdd(f.name,f.range,a);a.consumable.verifyAllConsumed("insert")}convert(e,t,n,a={}){const u=this._createConversionApi(n,void 0,a);this._convertInsert(e,u);for(const[f,b]of t)this._convertMarkerAdd(f,b,u);u.consumable.verifyAllConsumed("insert")}convertSelection(e,t,n){const a=this._createConversionApi(n);this.fire("cleanSelection",{selection:e},a);const u=e.getFirstPosition().root;if(!a.mapper.toViewElement(u))return;const f=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(a.consumable,e,f),this.fire("selection",{selection:e},a),e.isCollapsed){for(const b of f)if(a.consumable.test(e,"addMarker:"+b.name)){const w=b.getRange();if(!ma(e.getFirstPosition(),b,a.mapper))continue;const A={item:e,markerName:b.name,markerRange:w};this.fire(`addMarker:${b.name}`,A,a)}for(const b of e.getAttributeKeys())if(a.consumable.test(e,"attribute:"+b)){const w={item:e,range:e.getFirstRange(),attributeKey:b,attributeOldValue:null,attributeNewValue:e.getAttribute(b)};this.fire(`attribute:${b}:$text`,w,a)}}}_convertInsert(e,t,n={}){n.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,e);for(const a of Array.from(e.getWalker({shallow:!0})).map(uc))this._testAndFire("insert",a,t)}_convertRemove(e,t,n,a){this.fire(`remove:${n}`,{position:e,length:t},a)}_convertAttribute(e,t,n,a,u){this._addConsumablesForRange(u.consumable,e,`attribute:${t}`);for(const f of e){const b={item:f.item,range:Je._createFromPositionAndShift(f.previousPosition,f.length),attributeKey:t,attributeOldValue:n,attributeNewValue:a};this._testAndFire(`attribute:${t}`,b,u)}}_convertReinsert(e,t){const n=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,n);for(const a of n.map(uc))this._testAndFire("insert",hi(Kn({},a),{reconversion:!0}),t)}_convertMarkerAdd(e,t,n){if(t.root.rootName=="$graveyard")return;const a=`addMarker:${e}`;if(n.consumable.add(t,a),this.fire(a,{markerName:e,markerRange:t},n),n.consumable.consume(t,a)){this._addConsumablesForRange(n.consumable,t,a);for(const u of t.getItems()){if(!n.consumable.test(u,a))continue;const f={item:u,range:Je._createOn(u),markerName:e,markerRange:t};this.fire(a,f,n)}}}_convertMarkerRemove(e,t,n){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},n)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const n of t){const a=n.item;if(e.test(a,"insert")===null){e.add(a,"insert");for(const u of a.getAttributeKeys())e.add(a,"attribute:"+u)}}return e}_addConsumablesForRange(e,t,n){for(const a of t.getItems())e.add(a,n);return e}_addConsumablesForSelection(e,t,n){e.add(t,"selection");for(const a of n)e.add(t,"addMarker:"+a.name);for(const a of t.getAttributeKeys())e.add(t,"attribute:"+a);return e}_testAndFire(e,t,n){const a=function(w,A){const E=A.item.is("element")?A.item.name:"$text";return`${w}:${E}`}(e,t),u=t.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(t.item):t.item,f=this._firedEventsMap.get(n),b=f.get(u);if(b){if(b.has(a))return;b.add(a)}else f.set(u,new Set([a]));this.fire(a,t,n)}_testAndFireAddAttributes(e,t){const n={item:e,range:Je._createOn(e)};for(const a of n.item.getAttributeKeys())n.attributeKey=a,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(a),this._testAndFire(`attribute:${a}`,n,t)}_createConversionApi(e,t=new Set,n={}){const a=hi(Kn({},this._conversionApi),{consumable:new lk,writer:e,options:n,convertItem:u=>this._convertInsert(Je._createOn(u),a),convertChildren:u=>this._convertInsert(Je._createIn(u),a,{doNotAddConsumables:!0}),convertAttributes:u=>this._testAndFireAddAttributes(u,a),canReuseView:u=>!t.has(a.mapper.toModelElement(u))});return this._firedEventsMap.set(a,new Map),a}}function ma(r,e,t){const n=e.getRange(),a=Array.from(r.getAncestors());return a.shift(),a.reverse(),!a.some(u=>{if(n.containsItem(u))return!!t.toViewElement(u).getCustomProperty("addHighlight")})}function uc(r){return{item:r.item,range:Je._createFromPositionAndShift(r.previousPosition,r.length)}}class vs extends he(ks){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const a of e._ranges)if(t.isEqual(a)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new Je(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new Je(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new Je(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,n,a]=e;if(typeof n=="object"&&(a=n,n=void 0),t===null)this._setRanges([]);else if(t instanceof vs)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof Je)this._setRanges([t],!!a&&!!a.backward);else if(t instanceof At)this._setRanges([new Je(t)]);else if(t instanceof Xc){const u=!!a&&!!a.backward;let f;if(n=="in")f=Je._createIn(t);else if(n=="on")f=Je._createOn(t);else{if(n===void 0)throw new q("model-selection-setto-required-second-parameter",[this,t]);f=new Je(At._createAt(t,n))}this._setRanges([f],u)}else{if(!Qe(t))throw new q("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,a&&!!a.backward)}}_setRanges(e,t=!1){const n=Array.from(e),a=n.some(u=>{if(!(u instanceof Je))throw new q("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(f=>!f.isEqual(u))});(n.length!==this._ranges.length||a)&&(this._replaceAllRanges(n),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new q("model-selection-setfocus-no-ranges",[this,e]);const n=At._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const a=this.anchor;this._ranges.length&&this._popRange(),n.compareWith(a)=="before"?(this._pushRange(new Je(n,a)),this._lastRangeBackward=!0):(this._pushRange(new Je(a,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const n=br(t.start,e);Zd(n,t)&&(yield n);for(const u of t.getWalker()){const f=u.item;u.type=="elementEnd"&&hc(f,e,t)&&(yield f)}const a=br(t.end,e);Gp(a,t)&&(yield a)}}containsEntireContent(e=this.anchor.root){const t=At._createAt(e,0),n=At._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new Je(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new q("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function kf(r,e){return!e.has(r)&&(e.add(r),r.root.document.model.schema.isBlock(r)&&!!r.parent)}function hc(r,e,t){return kf(r,e)&&Dl(r,t)}function br(r,e){const t=r.parent.root.document.model.schema,n=r.parent.getAncestors({parentFirst:!0,includeSelf:!0});let a=!1;const u=n.find(f=>!a&&(a=t.isLimit(f),!a&&kf(f,e)));return n.forEach(f=>e.add(f)),u}function Dl(r,e){const t=function(n){const a=n.root.document.model.schema;let u=n.parent;for(;u;){if(a.isBlock(u))return u;u=u.parent}}(r);return t?!e.containsRange(Je._createOn(t),!0):!0}function Zd(r,e){return!!r&&(!(!e.isCollapsed&&!r.isEmpty)||!e.start.isTouching(At._createAt(r,r.maxOffset))&&Dl(r,e))}function Gp(r,e){return!!r&&(!(!e.isCollapsed&&!r.isEmpty)||!e.end.isTouching(At._createAt(r,0))&&Dl(r,e))}vs.prototype.is=function(r){return r==="selection"||r==="model:selection"};class dr extends he(Je){constructor(e,t){super(e,t),Gu.call(this)}detach(){this.stopListening()}toRange(){return new Je(this.start,this.end)}static fromRange(e){return new dr(e.start,e.end)}}function Gu(){this.listenTo(this.root.document.model,"applyOperation",(r,e)=>{const t=e[0];t.isDocumentOperation&&Xh.call(this,t)},{priority:"low"})}function Xh(r){const e=this.getTransformedByOperation(r),t=Je._createFromRanges(e),n=!t.isEqual(this),a=function(f,b){switch(b.type){case"insert":return f.containsPosition(b.position);case"move":case"remove":case"reinsert":case"merge":return f.containsPosition(b.sourcePosition)||f.start.isEqual(b.sourcePosition)||f.containsPosition(b.targetPosition);case"split":return f.containsPosition(b.splitPosition)||f.containsPosition(b.insertionPosition)}return!1}(this,r);let u=null;if(n){t.root.rootName=="$graveyard"&&(u=r.type=="remove"?r.sourcePosition:r.deletionPosition);const f=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",f,{deletionPosition:u})}else a&&this.fire("change:content",this.toRange(),{deletionPosition:u})}dr.prototype.is=function(r){return r==="liveRange"||r==="model:liveRange"||r=="range"||r==="model:range"};const Ps="selection:";class fa extends he(ks){constructor(e){super(),this._selection=new Kp(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Ps+e}static _isStoreAttributeKey(e){return e.startsWith(Ps)}}fa.prototype.is=function(r){return r==="selection"||r=="model:selection"||r=="documentSelection"||r=="model:documentSelection"};class Kp extends vs{constructor(e){super(),this.markers=new Fo({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,n)=>{const a=n[0];a.isDocumentOperation&&a.type!="marker"&&a.type!="rename"&&a.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,n,a,u)=>{this._updateMarker(n,u)}),this.listenTo(this._document,"change",(t,n)=>{(function(a,u){const f=a.document.differ;for(const b of f.getChanges()){if(b.type!="insert")continue;const w=b.position.parent;b.length===w.maxOffset&&a.enqueueChange(u,A=>{const E=Array.from(w.getAttributeKeys()).filter(O=>O.startsWith(Ps));for(const O of E)A.removeAttribute(O,w)})}})(this._model,n)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const n=[e];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=ee();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new q("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new q("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=dr.fromRange(e);return t.on("change:range",(n,a,u)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=u.deletionPosition;const f=this._ranges.indexOf(t);this._ranges.splice(f,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const a of this._model.markers){const u=a.name.split(":",1)[0];if(!this._observedMarkers.has(u))continue;const f=a.getRange();for(const b of this.getRanges())f.containsRange(b,!b.isCollapsed)&&e.push(a)}const n=Array.from(this.markers);for(const a of e)this.markers.has(a)||(this.markers.add(a),t=!0);for(const a of Array.from(this.markers))e.includes(a)||(this.markers.remove(a),t=!0);t&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(e,t){const n=e.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let a=!1;const u=Array.from(this.markers),f=this.markers.has(e);if(t){let b=!1;for(const w of this.getRanges())if(t.containsRange(w,!w.isCollapsed)){b=!0;break}b&&!f?(this.markers.add(e),a=!0):!b&&f&&(this.markers.remove(e),a=!0)}else f&&(this.markers.remove(e),a=!0);a&&this.fire("change:marker",{oldMarkers:u,directChange:!1})}_updateAttributes(e){const t=io(this._getSurroundingAttributes()),n=io(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[u,f]of this._attributePriority)f=="low"&&(this._attrs.delete(u),this._attributePriority.delete(u));this._setAttributesTo(t);const a=[];for(const[u,f]of this.getAttributes())n.has(u)&&n.get(u)===f||a.push(u);for(const[u]of n)this.hasAttribute(u)||a.push(u);a.length>0&&this.fire("change:attribute",{attributeKeys:a,directChange:!1})}_setAttribute(e,t,n=!0){const a=n?"normal":"low";return a=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,a),!0)}_removeAttribute(e,t=!0){const n=t?"normal":"low";return(n!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,n),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const t=new Set;for(const[n,a]of this.getAttributes())e.get(n)!==a&&this._removeAttribute(n,!1);for(const[n,a]of e)this._setAttribute(n,a,!1)&&t.add(n);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(Ps)&&(yield[t.substr(10),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let n=null;if(this.isCollapsed){const a=e.textNode?e.textNode:e.nodeBefore,u=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=ed(a,t)),n||(n=ed(u,t)),!this.isGravityOverridden&&!n){let f=a;for(;f&&!n;)f=f.previousSibling,n=ed(f,t)}if(!n){let f=u;for(;f&&!n;)f=f.nextSibling,n=ed(f,t)}n||(n=this.getStoredAttributes())}else{const a=this.getFirstRange();for(const u of a){if(u.item.is("element")&&t.isObject(u.item)){n=ed(u.item,t);break}if(u.type=="text"){n=u.item.getAttributes();break}}}return n}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function ed(r,e){if(!r)return null;if(r instanceof _s||r instanceof Pi)return r.getAttributes();if(!e.isInline(r))return null;if(!e.isObject(r))return[];const t=[];for(const[n,a]of r.getAttributes())e.checkAttribute("$text",n)&&e.getAttributeProperties(n).copyFromObject!==!1&&t.push([n,a]);return t}class Jh{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class td extends Jh{elementToElement(e){return this.add(function(t){const n=vf(t.model),a=Zu(t.view,"container");return n.attributes.length&&(n.children=!0),u=>{u.on(`insert:${n.name}`,Ku(a,Wo(n)),{priority:t.converterPriority||"normal"}),(n.children||n.attributes.length)&&u.on("reduceChanges",Qp(n),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(t){const n=vf(t.model),a=Zu(t.view,"container");return n.children=!0,u=>{if(u._conversionApi.schema.checkChild(n.name,"$text"))throw new q("conversion-element-to-structure-disallowed-text",u,{elementName:n.name});var f,b;u.on(`insert:${n.name}`,(f=a,b=Wo(n),(w,A,E)=>{if(!b(A.item,E.consumable,{preflight:!0}))return;const O=new Map;E.writer._registerSlotFactory(function(W,X,ae){return(ge,Me)=>{const Ze=ge.createContainerElement("$slot");let pt=null;if(Me==="children")pt=Array.from(W.getChildren());else{if(typeof Me!="function")throw new q("conversion-slot-mode-unknown",ae.dispatcher,{modeOrFilter:Me});pt=Array.from(W.getChildren()).filter(Vt=>Me(Vt))}return X.set(Ze,pt),Ze}}(A.item,O,E));const z=f(A.item,E,A);if(E.writer._clearSlotFactory(),!z)return;(function(W,X,ae){const ge=Array.from(X.values()).flat(),Me=new Set(ge);if(Me.size!=ge.length)throw new q("conversion-slot-filter-overlap",ae.dispatcher,{element:W});if(Me.size!=W.childCount)throw new q("conversion-slot-filter-incomplete",ae.dispatcher,{element:W})})(A.item,O,E),b(A.item,E.consumable);const U=E.mapper.toViewPosition(A.range.start);E.mapper.bindElements(A.item,z),E.writer.insert(U,z),E.convertAttributes(A.item),function(W,X,ae,ge){ae.mapper.on("modelToViewPosition",pt,{priority:"highest"});let Me=null,Ze=null;for([Me,Ze]of X)Zp(W,Ze,ae,ge),ae.writer.move(ae.writer.createRangeIn(Me),ae.writer.createPositionBefore(Me)),ae.writer.remove(Me);function pt(Vt,En){const zn=En.modelPosition.nodeAfter,ar=Ze.indexOf(zn);ar<0||(En.viewPosition=En.mapper.findPositionIn(Me,ar))}ae.mapper.off("modelToViewPosition",pt)}(z,O,E,{reconversion:A.reconversion})}),{priority:t.converterPriority||"normal"}),u.on("reduceChanges",Qp(n),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(t){t=ua(t);let n=t.model;typeof n=="string"&&(n={key:n});let a=`attribute:${n.key}`;if(n.name&&(a+=":"+n.name),n.values)for(const f of n.values)t.view[f]=Zu(t.view[f],"attribute");else t.view=Zu(t.view,"attribute");const u=Xu(t);return f=>{f.on(a,nd(u),{priority:t.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=ua(t);let n=t.model;typeof n=="string"&&(n={key:n});let a=`attribute:${n.key}`;if(n.name&&(a+=":"+n.name),n.values)for(const f of n.values)t.view[f]=wf(t.view[f]);else t.view=wf(t.view);const u=Xu(t);return f=>{var b;f.on(a,(b=u,(w,A,E)=>{if(!E.consumable.test(A.item,w.name))return;const O=b(A.attributeOldValue,E,A),z=b(A.attributeNewValue,E,A);if(!O&&!z)return;E.consumable.consume(A.item,w.name);const U=E.mapper.toViewElement(A.item),W=E.writer;if(!U)throw new q("conversion-attribute-to-attribute-on-text",E.dispatcher,A);if(A.attributeOldValue!==null&&O)if(O.key=="class"){const X=typeof O.value=="string"?O.value.split(/\s+/):O.value;for(const ae of X)W.removeClass(ae,U)}else if(O.key=="style")if(typeof O.value=="string"){const X=new Qm(W.document.stylesProcessor);X.setTo(O.value);for(const[ae]of X.getStylesEntries())W.removeStyle(ae,U)}else{const X=Object.keys(O.value);for(const ae of X)W.removeStyle(ae,U)}else W.removeAttribute(O.key,U);if(A.attributeNewValue!==null&&z)if(z.key=="class"){const X=typeof z.value=="string"?z.value.split(/\s+/):z.value;for(const ae of X)W.addClass(ae,U)}else if(z.key=="style")if(typeof z.value=="string"){const X=new Qm(W.document.stylesProcessor);X.setTo(z.value);for(const[ae,ge]of X.getStylesEntries())W.setStyle(ae,ge,U)}else{const X=Object.keys(z.value);for(const ae of X)W.setStyle(ae,z.value[ae],U)}else W.setAttribute(z.key,z.value,U)}),{priority:t.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(t){const n=Zu(t.view,"ui");return a=>{a.on(`addMarker:${t.model}`,Qu(n),{priority:t.converterPriority||"normal"}),a.on(`removeMarker:${t.model}`,(u,f,b)=>{const w=b.mapper.markerNameToElements(f.markerName);if(w){for(const A of w)b.mapper.unbindElementFromMarkerName(A,f.markerName),b.writer.clear(b.writer.createRangeOn(A),A);b.writer.clearClonedElementsGroup(f.markerName),u.stop()}},{priority:t.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(t){return n=>{var a;n.on(`addMarker:${t.model}`,(a=t.view,(u,f,b)=>{if(!f.item||!(f.item instanceof vs||f.item instanceof fa||f.item.is("$textProxy")))return;const w=No(a,f,b);if(!w||!b.consumable.consume(f.item,u.name))return;const A=b.writer,E=ws(A,w),O=A.document.selection;if(f.item instanceof vs||f.item instanceof fa)A.wrap(O.getFirstRange(),E);else{const z=b.mapper.toViewRange(f.range),U=A.wrap(z,E);for(const W of U.getItems())if(W.is("attributeElement")&&W.isSimilar(E)){b.mapper.bindElementToMarker(W,f.markerName);break}}}),{priority:t.converterPriority||"normal"}),n.on(`addMarker:${t.model}`,function(u){return(f,b,w)=>{if(!b.item||!(b.item instanceof ui))return;const A=No(u,b,w);if(!A||!w.consumable.test(b.item,f.name))return;const E=w.mapper.toViewElement(b.item);if(E&&E.getCustomProperty("addHighlight")){w.consumable.consume(b.item,f.name);for(const O of Je._createIn(b.item))w.consumable.consume(O.item,f.name);E.getCustomProperty("addHighlight")(E,A,w.writer),w.mapper.bindElementToMarker(E,b.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),n.on(`removeMarker:${t.model}`,function(u){return(f,b,w)=>{if(b.markerRange.isCollapsed)return;const A=No(u,b,w);if(!A)return;const E=ws(w.writer,A),O=w.mapper.markerNameToElements(b.markerName);if(O){for(const z of O)w.mapper.unbindElementFromMarkerName(z,b.markerName),z.is("attributeElement")?w.writer.unwrap(w.writer.createRangeOn(z),E):z.getCustomProperty("removeHighlight")(z,A.id,w.writer);w.writer.clearClonedElementsGroup(b.markerName),f.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(t){t=ua(t);const n=t.model;let a=t.view;return a||(a=u=>({group:n,name:u.substr(t.model.length+1)})),u=>{var f;u.on(`addMarker:${n}`,(f=a,(b,w,A)=>{const E=f(w.markerName,A);if(!E)return;const O=w.markerRange;A.consumable.consume(O,b.name)&&(_f(O,!1,A,w,E),_f(O,!0,A,w,E),b.stop())}),{priority:t.converterPriority||"normal"}),u.on(`removeMarker:${n}`,function(b){return(w,A,E)=>{const O=b(A.markerName,E);if(!O)return;const z=E.mapper.markerNameToElements(A.markerName);if(z){for(const W of z)E.mapper.unbindElementFromMarkerName(W,A.markerName),W.is("containerElement")?(U(`data-${O.group}-start-before`,W),U(`data-${O.group}-start-after`,W),U(`data-${O.group}-end-before`,W),U(`data-${O.group}-end-after`,W)):E.writer.clear(E.writer.createRangeOn(W),W);E.writer.clearClonedElementsGroup(A.markerName),w.stop()}function U(W,X){if(X.hasAttribute(W)){const ae=new Set(X.getAttribute(W).split(","));ae.delete(O.name),ae.size==0?E.writer.removeAttribute(W,X):E.writer.setAttribute(W,Array.from(ae).join(","),X)}}}}(a),{priority:t.converterPriority||"normal"})}}(e))}}function ws(r,e){const t=r.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function nd(r){return(e,t,n)=>{if(!n.consumable.test(t.item,e.name))return;const a=r(t.attributeOldValue,n,t),u=r(t.attributeNewValue,n,t);if(!a&&!u)return;n.consumable.consume(t.item,e.name);const f=n.writer,b=f.document.selection;if(t.item instanceof vs||t.item instanceof fa)f.wrap(b.getFirstRange(),u);else{let w=n.mapper.toViewRange(t.range);t.attributeOldValue!==null&&a&&(w=f.unwrap(w,a)),t.attributeNewValue!==null&&u&&f.wrap(w,u)}}}function Ku(r,e=Mw){return(t,n,a)=>{if(!e(n.item,a.consumable,{preflight:!0}))return;const u=r(n.item,a,n);if(!u)return;e(n.item,a.consumable);const f=a.mapper.toViewPosition(n.range.start);a.mapper.bindElements(n.item,u),a.writer.insert(f,u),a.convertAttributes(n.item),Zp(u,n.item.getChildren(),a,{reconversion:n.reconversion})}}function Qu(r){return(e,t,n)=>{t.isOpening=!0;const a=r(t,n);t.isOpening=!1;const u=r(t,n);if(!a||!u)return;const f=t.markerRange;if(f.isCollapsed&&!n.consumable.consume(f,e.name))return;for(const A of f)if(!n.consumable.consume(A.item,e.name))return;const b=n.mapper,w=n.writer;w.insert(b.toViewPosition(f.start),a),n.mapper.bindElementToMarker(a,t.markerName),f.isCollapsed||(w.insert(b.toViewPosition(f.end),u),n.mapper.bindElementToMarker(u,t.markerName)),e.stop()}}function _f(r,e,t,n,a){const u=e?r.start:r.end,f=u.nodeAfter&&u.nodeAfter.is("element")?u.nodeAfter:null,b=u.nodeBefore&&u.nodeBefore.is("element")?u.nodeBefore:null;if(f||b){let w,A;e&&f||!e&&!b?(w=f,A=!0):(w=b,A=!1);const E=t.mapper.toViewElement(w);if(E)return void function(O,z,U,W,X,ae){const ge=`data-${ae.group}-${z?"start":"end"}-${U?"before":"after"}`,Me=O.hasAttribute(ge)?O.getAttribute(ge).split(","):[];Me.unshift(ae.name),W.writer.setAttribute(ge,Me.join(","),O),W.mapper.bindElementToMarker(O,X.markerName)}(E,e,A,t,n,a)}(function(w,A,E,O,z){const U=`${z.group}-${A?"start":"end"}`,W=z.name?{name:z.name}:null,X=E.writer.createUIElement(U,W);E.writer.insert(w,X),E.mapper.bindElementToMarker(X,O.markerName)})(t.mapper.toViewPosition(u),e,t,n,a)}function vf(r){return typeof r=="string"&&(r={name:r}),{name:r.name,attributes:r.attributes?gn(r.attributes):[],children:!!r.children}}function Zu(r,e){return typeof r=="function"?r:(t,n)=>function(a,u,f){typeof a=="string"&&(a={name:a});let b;const w=u.writer,A=Object.assign({},a.attributes);if(f=="container")b=w.createContainerElement(a.name,A);else if(f=="attribute"){const E={priority:a.priority||Yc.DEFAULT_PRIORITY};b=w.createAttributeElement(a.name,A,E)}else b=w.createUIElement(a.name,A);if(a.styles){const E=Object.keys(a.styles);for(const O of E)w.setStyle(O,a.styles[O],b)}if(a.classes){const E=a.classes;if(typeof E=="string")w.addClass(E,b);else for(const O of E)w.addClass(O,b)}return b}(r,n,e)}function Xu(r){return r.model.values?(e,t,n)=>{const a=r.view[e];return a?a(e,t,n):null}:r.view}function wf(r){return typeof r=="string"?e=>({key:r,value:e}):typeof r=="object"?r.value?()=>r:e=>({key:r.key,value:e}):r}function No(r,e,t){const n=typeof r=="function"?r(e,t):r;return n?(n.priority||(n.priority=10),n.id||(n.id=e.markerName),n):null}function Qp(r){const e=function(t){return(n,a)=>{if(!n.is("element",t.name))return!1;if(a.type=="attribute"){if(t.attributes.includes(a.attributeKey))return!0}else if(t.children)return!0;return!1}}(r);return(t,n)=>{const a=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const u of n.changes){const f=u.type=="attribute"?u.range.start.nodeAfter:u.position.parent;if(f&&e(f,u)){if(!n.reconvertedElements.has(f)){n.reconvertedElements.add(f);const b=At._createBefore(f);let w=a.length;for(let A=a.length-1;A>=0;A--){const E=a[A],O=(E.type=="attribute"?E.range.start:E.position).compareWith(b);if(O=="before"||E.type=="remove"&&O=="same")break;w=A}a.splice(w,0,{type:"remove",name:f.name,position:b,length:1},{type:"reinsert",name:f.name,position:b,length:1})}}else a.push(u)}n.changes=a}}function Wo(r){return(e,t,n={})=>{const a=["insert"];for(const u of r.attributes)e.hasAttribute(u)&&a.push(`attribute:${u}`);return!!a.every(u=>t.test(e,u))&&(n.preflight||a.forEach(u=>t.consume(e,u)),!0)}}function Zp(r,e,t,n){for(const a of e)hk(r.root,a,t,n)||t.convertItem(a)}function hk(r,e,t,n){const{writer:a,mapper:u}=t;if(!n.reconversion)return!1;const f=u.toViewElement(e);return!(!f||f.root==r)&&!!t.canReuseView(f)&&(a.move(a.createRangeOn(f),u.toViewPosition(At._createBefore(e))),!0)}function Mw(r,e,{preflight:t}={}){return t?e.test(r,"insert"):e.consume(r,"insert")}function mc(r){const{schema:e,document:t}=r.model;for(const n of t.getRoots())if(n.isEmpty&&!e.checkChild(n,"$text")&&e.checkChild(n,"paragraph"))return r.insertElement("paragraph",n),!0;return!1}function em(r,e,t){const n=t.createContext(r);return!!t.checkChild(n,"paragraph")&&!!t.checkChild(n.push("paragraph"),e)}function yf(r,e){const t=e.createElement("paragraph");return e.insert(t,r),e.createPositionAt(t,0)}var Ju=Object.defineProperty,mk=Object.defineProperties,fk=Object.getOwnPropertyDescriptors,Xp=Object.getOwnPropertySymbols,Jp=Object.prototype.hasOwnProperty,eg=Object.prototype.propertyIsEnumerable,pk=(r,e,t)=>e in r?Ju(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class Iw extends Jh{elementToElement(e){return this.add(gk(e))}elementToAttribute(e){return this.add(function(t){t=ua(t),Xd(t);const n=tm(t,!1),a=xf(t.view),u=a?`element:${a}`:"element";return f=>{f.on(u,n,{priority:t.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=ua(t);let n=null;(typeof t.view=="string"||t.view.key)&&(n=function(u){typeof u.view=="string"&&(u.view={key:u.view});const f=u.view.key,b=u.view.value===void 0?/[\s\S]*/:u.view.value;let w;return f=="class"||f=="style"?w={[f=="class"?"classes":"styles"]:b}:w={attributes:{[f]:b}},u.view.name&&(w.name=u.view.name),u.view=w,f}(t)),Xd(t,n);const a=tm(t,!0);return u=>{u.on("element",a,{priority:t.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(t){const n=function(f){return(b,w)=>{const A=typeof f=="string"?f:f(b,w);return w.writer.createElement("$marker",{"data-name":A})}}(t.model);return gk((a=((f,b)=>{for(var w in b||(b={}))Jp.call(b,w)&&pk(f,w,b[w]);if(Xp)for(var w of Xp(b))eg.call(b,w)&&pk(f,w,b[w]);return f})({},t),u={model:n},mk(a,fk(u))));var a,u}(e))}dataToMarker(e){return this.add(function(t){t=ua(t),t.model||(t.model=f=>f?t.view+":"+f:t.view);const n={view:t.view,model:t.model},a=Cf(tg(n,"start")),u=Cf(tg(n,"end"));return f=>{f.on(`element:${t.view}-start`,a,{priority:t.converterPriority||"normal"}),f.on(`element:${t.view}-end`,u,{priority:t.converterPriority||"normal"});const b=ne.low,w=ne.highest,A=ne.get(t.converterPriority)/w;f.on("element",function(E){return(O,z,U)=>{const W=`data-${E.view}`;function X(ae,ge){for(const Me of ge){const Ze=E.model(Me,U),pt=U.writer.createElement("$marker",{"data-name":Ze});U.writer.insert(pt,ae),z.modelCursor.isEqual(ae)?z.modelCursor=z.modelCursor.getShiftedBy(1):z.modelCursor=z.modelCursor._getTransformedByInsertion(ae,1),z.modelRange=z.modelRange._getTransformedByInsertion(ae,1)[0]}}(U.consumable.test(z.viewItem,{attributes:W+"-end-after"})||U.consumable.test(z.viewItem,{attributes:W+"-start-after"})||U.consumable.test(z.viewItem,{attributes:W+"-end-before"})||U.consumable.test(z.viewItem,{attributes:W+"-start-before"}))&&(z.modelRange||Object.assign(z,U.convertChildren(z.viewItem,z.modelCursor)),U.consumable.consume(z.viewItem,{attributes:W+"-end-after"})&&X(z.modelRange.end,z.viewItem.getAttribute(W+"-end-after").split(",")),U.consumable.consume(z.viewItem,{attributes:W+"-start-after"})&&X(z.modelRange.end,z.viewItem.getAttribute(W+"-start-after").split(",")),U.consumable.consume(z.viewItem,{attributes:W+"-end-before"})&&X(z.modelRange.start,z.viewItem.getAttribute(W+"-end-before").split(",")),U.consumable.consume(z.viewItem,{attributes:W+"-start-before"})&&X(z.modelRange.start,z.viewItem.getAttribute(W+"-start-before").split(",")))}}(n),{priority:b+A})}}(e))}}function gk(r){const e=Cf(r=ua(r)),t=xf(r.view),n=t?`element:${t}`:"element";return a=>{a.on(n,e,{priority:r.converterPriority||"normal"})}}function xf(r){return typeof r=="string"?r:typeof r=="object"&&typeof r.name=="string"?r.name:null}function Cf(r){const e=new $r(r.view);return(t,n,a)=>{const u=e.match(n.viewItem);if(!u)return;const f=u.match;if(f.name=!0,!a.consumable.test(n.viewItem,f))return;const b=function(w,A,E){return w instanceof Function?w(A,E):E.writer.createElement(w)}(r.model,n.viewItem,a);b&&a.safeInsert(b,n.modelCursor)&&(a.consumable.consume(n.viewItem,f),a.convertChildren(n.viewItem,b),a.updateConversionResult(b,n))}}function Xd(r,e=null){const t=e===null||(u=>u.getAttribute(e)),n=typeof r.model!="object"?r.model:r.model.key,a=typeof r.model!="object"||r.model.value===void 0?t:r.model.value;r.model={key:n,value:a}}function tm(r,e){const t=new $r(r.view);return(n,a,u)=>{if(!a.modelRange&&e)return;const f=t.match(a.viewItem);if(!f||(function(E,O){const z=typeof E=="function"?E(O):E;return typeof z=="object"&&!xf(z)?!1:!z.classes&&!z.attributes&&!z.styles}(r.view,a.viewItem)?f.match.name=!0:delete f.match.name,!u.consumable.test(a.viewItem,f.match)))return;const b=r.model.key,w=typeof r.model.value=="function"?r.model.value(a.viewItem,u):r.model.value;if(w===null)return;a.modelRange||Object.assign(a,u.convertChildren(a.viewItem,a.modelCursor)),function(E,O,z,U){let W=!1;for(const X of Array.from(E.getItems({shallow:z})))U.schema.checkAttribute(X,O.key)&&(W=!0,X.hasAttribute(O.key)||U.writer.setAttribute(O.key,O.value,X));return W}(a.modelRange,{key:b,value:w},e,u)&&(u.consumable.test(a.viewItem,{name:!0})&&(f.match.name=!0),u.consumable.consume(a.viewItem,f.match))}}function tg(r,e){return{view:`${r.view}-${e}`,model:(t,n)=>{const a=t.getAttribute("name"),u=r.model(a,n);return n.writer.createElement("$marker",{"data-name":u})}}}function bk(r){r.document.registerPostFixer(e=>function(t,n){const a=n.document.selection,u=n.schema,f=[];let b=!1;for(const w of a.getRanges()){const A=ng(w,u);A&&!A.isEqual(w)?(f.push(A),b=!0):f.push(w)}return b&&t.setSelection(function(w){const A=[...w],E=new Set;let O=1;for(;O<A.length;){const z=A[O],U=A.slice(0,O);for(const[W,X]of U.entries())if(!E.has(W)){if(z.isEqual(X))E.add(W);else if(z.isIntersecting(X)){E.add(W),E.add(O);const ae=z.getJoined(X);A.push(ae)}}O++}return A.filter((z,U)=>!E.has(U))}(f),{backward:a.isBackward}),!1}(e,r))}function ng(r,e){return r.isCollapsed?function(t,n){const a=t.start,u=n.getNearestSelectionRange(a);if(!u){const b=a.getAncestors().reverse().find(w=>n.isObject(w));return b?Je._createOn(b):null}if(!u.isCollapsed)return u;const f=u.start;return a.isEqual(f)?null:new Je(f)}(r,e):function(t,n){const{start:a,end:u}=t,f=n.checkChild(a,"$text"),b=n.checkChild(u,"$text"),w=n.getLimitElement(a),A=n.getLimitElement(u);if(w===A){if(f&&b)return null;if(function(z,U,W){const X=z.nodeAfter&&!W.isLimit(z.nodeAfter)||W.checkChild(z,"$text"),ae=U.nodeBefore&&!W.isLimit(U.nodeBefore)||W.checkChild(U,"$text");return X||ae}(a,u,n)){const z=a.nodeAfter&&n.isSelectable(a.nodeAfter)?null:n.getNearestSelectionRange(a,"forward"),U=u.nodeBefore&&n.isSelectable(u.nodeBefore)?null:n.getNearestSelectionRange(u,"backward"),W=z?z.start:a,X=U?U.end:u;return new Je(W,X)}}const E=w&&!w.is("rootElement"),O=A&&!A.is("rootElement");if(E||O){const z=a.nodeAfter&&u.nodeBefore&&a.nodeAfter.parent===u.nodeBefore.parent,U=E&&(!z||!rg(a.nodeAfter,n)),W=O&&(!z||!rg(u.nodeBefore,n));let X=a,ae=u;return U&&(X=At._createBefore(ig(w,n))),W&&(ae=At._createAfter(ig(A,n))),new Je(X,ae)}return null}(r,e)}function ig(r,e){let t=r,n=t;for(;e.isLimit(n)&&n.parent;)t=n,n=n.parent;return t}function rg(r,e){return r&&e.isSelectable(r)}class kk extends Oe(){constructor(e,t){super(),this.model=e,this.view=new ha(t),this.mapper=new Yp,this.downcastDispatcher=new Oi({mapper:this.mapper,schema:e.schema});const n=this.model.document,a=n.selection,u=this.model.markers;var f,b,w;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(A=>{this.downcastDispatcher.convertChanges(n.differ,u,A),this.downcastDispatcher.convertSelection(a,u,A)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(A,E){return(O,z)=>{const U=z.newSelection,W=[];for(const ae of U.getRanges())W.push(E.toModelRange(ae));const X=A.createSelection(W,{backward:U.isBackward});X.isEqual(A.document.selection)||A.change(ae=>{ae.setSelection(X)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(f=this.mapper,b=this.model.schema,w=this.view,(A,E)=>{if(!w.document.isComposing||S.isAndroid)for(let O=0;O<E.targetRanges.length;O++){const z=E.targetRanges[O],U=f.toModelRange(z),W=ng(U,b);W&&!W.isEqual(U)&&(E.targetRanges[O]=f.toViewRange(W))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(A,E,O)=>{if(!O.consumable.consume(E.item,A.name))return;const z=O.writer,U=O.mapper.toViewPosition(E.range.start),W=z.createText(E.item.data);z.insert(U,W)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(A,E,O)=>{O.convertAttributes(E.item),E.reconversion||!E.item.is("element")||E.item.isEmpty||O.convertChildren(E.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(A,E,O)=>{const z=O.mapper.toViewPosition(E.position),U=E.position.getShiftedBy(E.length),W=O.mapper.toViewPosition(U,{isPhantom:!0}),X=O.writer.createRange(z,W),ae=O.writer.remove(X.getTrimmed());for(const ge of O.writer.createRangeIn(ae).getItems())O.mapper.unbindViewElement(ge,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(A,E,O)=>{const z=O.writer,U=z.document.selection;for(const W of U.getRanges())W.isCollapsed&&W.end.parent.isAttached()&&O.writer.mergeAttributes(W.start);z.setSelection(null)}),this.downcastDispatcher.on("selection",(A,E,O)=>{const z=E.selection;if(z.isCollapsed||!O.consumable.consume(z,"selection"))return;const U=[];for(const W of z.getRanges())U.push(O.mapper.toViewRange(W));O.writer.setSelection(U,{backward:z.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(A,E,O)=>{const z=E.selection;if(!z.isCollapsed||!O.consumable.consume(z,"selection"))return;const U=O.writer,W=z.getFirstPosition(),X=O.mapper.toViewPosition(W),ae=U.breakAttributes(X);U.setSelection(ae)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(A=>{if(A.rootName=="$graveyard")return null;const E=new Sp(this.view.document,A.name);return E.rootName=A.rootName,this.mapper.bindElements(A,E),E})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,n=this.model.markers.get(t);if(!n)throw new q("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(n)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class id{constructor(){this._consumables=new Map}add(e,t){let n;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?n=this._consumables.get(e):(n=new _k(e),this._consumables.set(e,n)),n.add(t))}test(e,t){const n=this._consumables.get(e);return n===void 0?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const n=this._consumables.get(e);n!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},n=e.getAttributeKeys();for(const f of n)f!="style"&&f!="class"&&t.attributes.push(f);const a=e.getClassNames();for(const f of a)t.classes.push(f);const u=e.getStyleNames();for(const f of u)t.styles.push(f);return t}static createFrom(e,t){if(t||(t=new id),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,id.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const n of e.getChildren())t=id.createFrom(n,t);return t}}const nm=["attributes","classes","styles"];class _k{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of nm)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of nm)if(t in e){const n=this._test(t,e[t]);if(n!==!0)return n}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of nm)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of nm)t in e&&this._revert(t,e[t])}_add(e,t){const n=gn(t),a=this._consumables[e];for(const u of n){if(e==="attributes"&&(u==="class"||u==="style"))throw new q("viewconsumable-invalid-attribute",this);if(a.set(u,!0),e==="styles")for(const f of this.element.document.stylesProcessor.getRelatedStyles(u))a.set(f,!0)}}_test(e,t){const n=gn(t),a=this._consumables[e];for(const u of n)if(e!=="attributes"||u!=="class"&&u!=="style"){const f=a.get(u);if(f===void 0)return null;if(!f)return!1}else{const f=u=="class"?"classes":"styles",b=this._test(f,[...this._consumables[f].keys()]);if(b!==!0)return b}return!0}_consume(e,t){const n=gn(t),a=this._consumables[e];for(const u of n)if(e!=="attributes"||u!=="class"&&u!=="style"){if(a.set(u,!1),e=="styles")for(const f of this.element.document.stylesProcessor.getRelatedStyles(u))a.set(f,!1)}else{const f=u=="class"?"classes":"styles";this._consume(f,[...this._consumables[f].keys()])}}_revert(e,t){const n=gn(t),a=this._consumables[e];for(const u of n)if(e!=="attributes"||u!=="class"&&u!=="style")a.get(u)===!1&&a.set(u,!0);else{const f=u=="class"?"classes":"styles";this._revert(f,[...this._consumables[f].keys()])}}}class Zi extends Oe(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new fc(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new fc(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new q("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new q("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!!t&&!(!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!!t&&!(!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const n=this.getDefinition(e.last);return!!n&&n.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof At){const n=e.nodeBefore,a=e.nodeAfter;if(!(n instanceof ui))throw new q("schema-check-merge-no-element-before",this);if(!(a instanceof ui))throw new q("schema-check-merge-no-element-after",this);return this.checkMerge(n,a)}for(const n of t.getChildren())if(!this.checkChild(e,n))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[n,a])=>{if(!a)return;const u=e(n,a);typeof u=="boolean"&&(t.stop(),t.return=u)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[n,a])=>{const u=e(n,a);typeof u=="boolean"&&(t.stop(),t.return=u)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof At?t=e.parent:t=(e instanceof Je?[e]:Array.from(e.getRanges())).reduce((n,a)=>{const u=a.getCommonAncestor();return n?n.getCommonAncestor(u,{includeSelf:!0}):u},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const n=[...e.getFirstPosition().getAncestors(),new Pi("",e.getAttributes())];return this.checkAttribute(n,t)}{const n=e.getRanges();for(const a of n)for(const u of a)if(this.checkAttribute(u.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(n){for(const a of n)yield*a.getMinimalFlatRanges()}(e);for(const n of e)yield*this._getValidRangesForRange(n,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new Je(e);let n,a;const u=e.getAncestors().reverse().find(f=>this.isLimit(f))||e.root;t!="both"&&t!="backward"||(n=new ao({boundaries:Je._createIn(u),startPosition:e,direction:"backward"})),t!="both"&&t!="forward"||(a=new ao({boundaries:Je._createIn(u),startPosition:e}));for(const f of function*(b,w){let A=!1;for(;!A;){if(A=!0,b){const E=b.next();E.done||(A=!1,yield{walker:b,value:E.value})}if(w){const E=w.next();E.done||(A=!1,yield{walker:w,value:E.value})}}}(n,a)){const b=f.walker==n?"elementEnd":"elementStart",w=f.value;if(w.type==b&&this.isObject(w.item))return Je._createOn(w.item);if(this.checkChild(w.nextPosition,"$text"))return new Je(w.nextPosition)}return null}findAllowedParent(e,t){let n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(e,t,n){const a=n.model;for(const[u,f]of Object.entries(t))a.schema.checkAttribute(e,u)&&n.setAttribute(u,f,e)}removeDisallowedAttributes(e,t){for(const n of e)if(n.is("$text"))th(this,n,t);else{const a=Je._createIn(n).getPositions();for(const u of a)th(this,u.nodeBefore||u.parent,t)}}getAttributesWithProperty(e,t,n){const a={};for(const[u,f]of e.getAttributes()){const b=this.getAttributeProperties(u);b[t]!==void 0&&(n!==void 0&&n!==b[t]||(a[u]=f))}return a}createContext(e){return new fc(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,n=Object.keys(t);for(const a of n)e[a]=Ow(t[a],a);for(const a of n)vk(e,a);for(const a of n)Lw(e,a);for(const a of n)Bw(e,a);for(const a of n)Rw(e,a),Af(e,a);for(const a of n)eh(e,a),sg(e,a),Nf(e,a);this._compiledDefinitions=e}_checkContextMatch(e,t,n=t.length-1){const a=t.getItem(n);if(e.allowIn.includes(a.name)){if(n==0)return!0;{const u=this.getDefinition(a);return this._checkContextMatch(u,t,n-1)}}return!1}*_getValidRangesForRange(e,t){let n=e.start,a=e.start;for(const u of e.getItems({shallow:!0}))u.is("element")&&(yield*this._getValidRangesForRange(Je._createIn(u),t)),this.checkAttribute(u,t)||(n.isEqual(a)||(yield new Je(n,a)),n=At._createAfter(u)),a=At._createAfter(u);n.isEqual(a)||(yield new Je(n,a))}findOptimalInsertionRange(e,t){const n=e.getSelectedElement();if(n&&this.isObject(n)&&!this.isInline(n))return t=="before"||t=="after"?new Je(At._createAt(n,t)):Je._createOn(n);const a=Un(e.getSelectedBlocks());if(!a)return new Je(e.focus);if(a.isEmpty)return new Je(At._createAt(a,0));const u=At._createAfter(a);return e.focus.isTouching(u)?new Je(u):new Je(At._createBefore(a))}}class fc{constructor(e){if(e instanceof fc)return e;let t;t=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(Tl)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new fc([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function Ow(r,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(n,a){for(const u of n){const f=Object.keys(u).filter(b=>b.startsWith("is"));for(const b of f)a[b]=!!u[b]}}(r,t),pc(r,t,"allowIn"),pc(r,t,"allowContentOf"),pc(r,t,"allowWhere"),pc(r,t,"allowAttributes"),pc(r,t,"allowAttributesOf"),pc(r,t,"allowChildren"),pc(r,t,"inheritTypesFrom"),function(n,a){for(const u of n){const f=u.inheritAllFrom;f&&(a.allowContentOf.push(f),a.allowWhere.push(f),a.allowAttributesOf.push(f),a.inheritTypesFrom.push(f))}}(r,t),t}function vk(r,e){const t=r[e];for(const n of t.allowChildren){const a=r[n];a&&a.allowIn.push(e)}t.allowChildren.length=0}function Lw(r,e){for(const t of r[e].allowContentOf)r[t]&&Jd(r,t).forEach(n=>{n.allowIn.push(e)});delete r[e].allowContentOf}function Bw(r,e){for(const t of r[e].allowWhere){const n=r[t];if(n){const a=n.allowIn;r[e].allowIn.push(...a)}}delete r[e].allowWhere}function Rw(r,e){for(const t of r[e].allowAttributesOf){const n=r[t];if(n){const a=n.allowAttributes;r[e].allowAttributes.push(...a)}}delete r[e].allowAttributesOf}function Af(r,e){const t=r[e];for(const n of t.inheritTypesFrom){const a=r[n];if(a){const u=Object.keys(a).filter(f=>f.startsWith("is"));for(const f of u)f in t||(t[f]=a[f])}}delete t.inheritTypesFrom}function eh(r,e){const t=r[e],n=t.allowIn.filter(a=>r[a]);t.allowIn=Array.from(new Set(n))}function sg(r,e){const t=r[e];for(const n of t.allowIn)r[n].allowChildren.push(e)}function Nf(r,e){const t=r[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function pc(r,e,t){for(const n of r){const a=n[t];typeof a=="string"?e[t].push(a):Array.isArray(a)&&e[t].push(...a)}}function Jd(r,e){const t=r[e];return(n=r,Object.keys(n).map(a=>n[a])).filter(a=>a.allowIn.includes(t.name));var n}function Tl(r){return typeof r=="string"||r.is("documentFragment")?{name:typeof r=="string"?r:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:r.is("element")?r.name:"$text",*getAttributeKeys(){yield*r.getAttributeKeys()},getAttribute:e=>r.getAttribute(e)}}function th(r,e,t){for(const n of e.getAttributeKeys())r.checkAttribute(e,n)||t.removeAttribute(n,e)}var Pw=Object.defineProperty,wk=Object.defineProperties,yk=Object.getOwnPropertyDescriptors,og=Object.getOwnPropertySymbols,xk=Object.prototype.hasOwnProperty,zw=Object.prototype.propertyIsEnumerable,Ef=(r,e,t)=>e in r?Pw(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class Ck extends he(){constructor(e){var t;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(t=((n,a)=>{for(var u in a||(a={}))xk.call(a,u)&&Ef(n,u,a[u]);if(og)for(var u of og(a))zw.call(a,u)&&Ef(n,u,a[u]);return n})({},e),wk(t,yk({consumable:null,writer:null,store:null,convertItem:(n,a)=>this._convertItem(n,a),convertChildren:(n,a)=>this._convertChildren(n,a),safeInsert:(n,a)=>this._safeInsert(n,a),updateConversionResult:(n,a)=>this._updateConversionResult(n,a),splitToAllowedParent:(n,a)=>this._splitToAllowedParent(n,a),getSplitParts:n=>this._getSplitParts(n),keepEmptyElement:n=>this._keepEmptyElement(n)})))}convert(e,t,n=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(f,b){let w;for(const A of new fc(f)){const E={};for(const z of A.getAttributeKeys())E[z]=A.getAttribute(z);const O=b.createElement(A.name,E);w&&b.insert(O,w),w=At._createAt(O,0)}return w}(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=id.createFrom(e),this.conversionApi.store={};const{modelRange:a}=this._convertItem(e,this._modelCursor),u=t.createDocumentFragment();if(a){this._removeEmptyElements();for(const f of Array.from(this._modelCursor.parent.getChildren()))t.append(f,u);u.markers=function(f,b){const w=new Set,A=new Map,E=Je._createIn(f).getItems();for(const O of E)O.is("element","$marker")&&w.add(O);for(const O of w){const z=O.getAttribute("data-name"),U=b.createPositionBefore(O);A.has(z)?A.get(z).end=U.clone():A.set(z,new Je(U.clone())),b.remove(O)}return A}(u,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,u}_convertItem(e,t){const n={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,n,this.conversionApi):e.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof Je))throw new q("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(e,t){let n=t.is("position")?t:At._createAt(t,0);const a=new Je(n);for(const u of Array.from(e.getChildren())){const f=this._convertItem(u,n);f.modelRange instanceof Je&&(a.end=f.modelRange.end,n=f.modelCursor)}return{modelRange:a,modelCursor:n}}_safeInsert(e,t){const n=this._splitToAllowedParent(e,t);return!!n&&(this.conversionApi.writer.insert(e,n.position),!0)}_updateConversionResult(e,t){const n=this._getSplitParts(e),a=this.conversionApi.writer;t.modelRange||(t.modelRange=a.createRange(a.createPositionBefore(e),a.createPositionAfter(n[n.length-1])));const u=this._cursorParents.get(e);t.modelCursor=u?a.createPositionAt(u,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:n,writer:a}=this.conversionApi;let u=n.findAllowedParent(t,e);if(u){if(u===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(u)&&(u=null)}if(!u)return em(t,e,n)?{position:yf(t,a)}:null;const f=this.conversionApi.writer.split(t,u),b=[];for(const A of f.range.getWalker())if(A.type=="elementEnd")b.push(A.item);else{const E=b.pop(),O=A.item;this._registerSplitPair(E,O)}const w=f.range.end.parent;return this._cursorParents.set(e,w),{position:f.position,cursorParent:w}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class Ak{getHtml(e){const t=y.document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class Fw{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new $h(e,{renderingMode:"data"}),this.htmlWriter=new Ak}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),a=t.body.childNodes;for(;a.length>0;)n.appendChild(a[0]);return n}}class ag extends he(){constructor(e,t){super(),this.model=e,this.mapper=new Yp,this.downcastDispatcher=new Oi({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(n,a,u)=>{if(!u.consumable.consume(a.item,n.name))return;const f=u.writer,b=u.mapper.toViewPosition(a.range.start),w=f.createText(a.item.data);f.insert(b,w)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(n,a,u)=>{u.convertAttributes(a.item),a.reconversion||!a.item.is("element")||a.item.isEmpty||u.convertChildren(a.item)},{priority:"lowest"}),this.upcastDispatcher=new Ck({schema:e.schema}),this.viewDocument=new zh(t),this.stylesProcessor=t,this.htmlProcessor=new Fw(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Tp(this.viewDocument),this.upcastDispatcher.on("text",(n,a,{schema:u,consumable:f,writer:b})=>{let w=a.modelCursor;if(!f.test(a.viewItem))return;if(!u.checkChild(w,"$text")){if(!em(w,"$text",u)||a.viewItem.data.trim().length==0)return;const E=w.nodeBefore;w=yf(w,b),E&&E.is("element","$marker")&&(b.move(b.createRangeOn(E),w),w=b.createPositionAfter(E))}f.consume(a.viewItem);const A=b.createText(a.viewItem.data);b.insert(A,w),a.modelRange=b.createRange(w,w.getShiftedBy(A.offsetSize)),a.modelCursor=a.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(n,a,u)=>{if(!a.modelRange&&u.consumable.consume(a.viewItem,{name:!0})){const{modelRange:f,modelCursor:b}=u.convertChildren(a.viewItem,a.modelCursor);a.modelRange=f,a.modelCursor=b}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(n,a,u)=>{if(!a.modelRange&&u.consumable.consume(a.viewItem,{name:!0})){const{modelRange:f,modelCursor:b}=u.convertChildren(a.viewItem,a.modelCursor);a.modelRange=f,a.modelCursor=b}},{priority:"lowest"}),Oe().prototype.decorate.call(this,"init"),Oe().prototype.decorate.call(this,"set"),Oe().prototype.decorate.call(this,"get"),Oe().prototype.decorate.call(this,"toView"),Oe().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},mc)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:n="empty"}=e;if(!this._checkIfRootsExists([t]))throw new q("datacontroller-get-non-existent-root",this);const a=this.model.document.getRoot(t);return a.isAttached()||de("datacontroller-get-detached-root",this),n!=="empty"||this.model.hasContent(a,{ignoreWhitespaces:!0})?this.stringify(a,e):""}stringify(e,t={}){const n=this.toView(e,t);return this.processor.toData(n)}toView(e,t={}){const n=this.viewDocument,a=this._viewWriter;this.mapper.clearBindings();const u=Je._createIn(e),f=new Gc(n);this.mapper.bindElements(e,f);const b=e.is("documentFragment")?e.markers:function(w){const A=[],E=w.root.document;if(!E)return new Map;const O=Je._createIn(w);for(const z of E.model.markers){const U=z.getRange(),W=U.isCollapsed,X=U.start.isEqual(O.start)||U.end.isEqual(O.end);if(W&&X)A.push([z.name,U]);else{const ae=O.getIntersection(U);ae&&A.push([z.name,ae])}}return A.sort(([z,U],[W,X])=>{if(U.end.compareWith(X.start)!=="after")return 1;if(U.start.compareWith(X.end)!=="before")return-1;switch(U.start.compareWith(X.start)){case"before":return 1;case"after":return-1;default:switch(U.end.compareWith(X.end)){case"before":return 1;case"after":return-1;default:return W.localeCompare(z)}}}),new Map(A)}(e);return this.downcastDispatcher.convert(u,b,a,t),f}init(e){if(this.model.document.version)throw new q("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new q("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},n=>{for(const a of Object.keys(t)){const u=this.model.document.getRoot(a);n.insert(this.parse(t[a],u),u,0)}}),Promise.resolve()}set(e,t={}){let n={};if(typeof e=="string"?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new q("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},a=>{a.setSelection(null),a.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const u of Object.keys(n)){const f=this.model.document.getRoot(u);a.remove(a.createRangeIn(f)),a.insert(this.parse(n[u],f),f,0)}})}parse(e,t="$root"){const n=this.processor.toView(e);return this.toModel(n,t)}toModel(e,t="$root"){return this.model.change(n=>this.upcastDispatcher.convert(e,n,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}class lg{constructor(e,t){this._helpers=new Map,this._downcast=gn(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=gn(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new q("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}for(e){if(!this._helpers.has(e))throw new q("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:n}of cg(e))this.for("upcast").elementToElement({model:t,view:n,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:n}of cg(e))this.for("upcast").elementToAttribute({view:n,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:n}of cg(e))this.for("upcast").attributeToAttribute({view:n,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:n}){if(this._helpers.has(e))throw new q("conversion-group-exists",this);const a=n?new td(t):new Iw(t);this._helpers.set(e,a)}}function*cg(r){if(r.model.values)for(const e of r.model.values){const t={key:r.model.key,value:e},n=r.view[e],a=r.upcastAlso?r.upcastAlso[e]:void 0;yield*Nk(t,n,a)}else yield*Nk(r.model,r.view,r.upcastAlso)}function*Nk(r,e,t){if(yield{model:r,view:e},t)for(const n of gn(t))yield{model:r,view:n}}class zs{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function dg(r,e){const t=Sf(e),n=t.reduce((f,b)=>f+b.offsetSize,0),a=r.parent;eu(r);const u=r.index;return a._insertChild(u,t),rd(a,u+t.length),rd(a,u),new Je(r,r.getShiftedBy(n))}function ug(r){if(!r.isFlat)throw new q("operation-utils-remove-range-not-flat",this);const e=r.start.parent;eu(r.start),eu(r.end);const t=e._removeChildren(r.start.index,r.end.index-r.start.index);return rd(e,r.start.index),t}function Hn(r,e){if(!r.isFlat)throw new q("operation-utils-move-range-not-flat",this);const t=ug(r);return dg(e=e._getTransformedByDeletion(r.start,r.end.offset-r.start.offset),t)}function Sf(r){const e=[];(function t(n){if(typeof n=="string")e.push(new Pi(n));else if(n instanceof _s)e.push(new Pi(n.data,n.getAttributes()));else if(n instanceof Xc)e.push(n);else if(Qe(n))for(const a of n)t(a)})(r);for(let t=1;t<e.length;t++){const n=e[t],a=e[t-1];n instanceof Pi&&a instanceof Pi&&hg(n,a)&&(e.splice(t-1,2,new Pi(a.data+n.data,a.getAttributes())),t--)}return e}function rd(r,e){const t=r.getChild(e-1),n=r.getChild(e);if(t&&n&&t.is("$text")&&n.is("$text")&&hg(t,n)){const a=new Pi(t.data+n.data,t.getAttributes());r._removeChildren(e-1,2),r._insertChild(e-1,a)}}function eu(r){const e=r.textNode,t=r.parent;if(e){const n=r.offset-e.startOffset,a=e.index;t._removeChildren(a,1);const u=new Pi(e.data.substr(0,n),e.getAttributes()),f=new Pi(e.data.substr(n),e.getAttributes());t._insertChild(a,[u,f])}}function hg(r,e){const t=r.getAttributes(),n=e.getAttributes();for(const a of t){if(a[1]!==e.getAttribute(a[0]))return!1;n.next()}return n.next().done}class mi extends zs{constructor(e,t,n,a){super(a),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[Je._createFromPositionAndShift(this.sourcePosition,this.howMany),Je._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new mi(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new mi(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,a=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new q("move-operation-nodes-do-not-exist",this);if(e===t&&n<a&&a<n+this.howMany)throw new q("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Dt(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const u=this.sourcePosition.path.length-1;if(this.targetPosition.path[u]>=n&&this.targetPosition.path[u]<n+this.howMany)throw new q("move-operation-node-into-itself",this)}}_execute(){Hn(Je._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const n=At.fromJSON(e.sourcePosition,t),a=At.fromJSON(e.targetPosition,t);return new this(n,e.howMany,a,e.baseVersion)}}class yr extends zs{constructor(e,t,n){super(n),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Rs(Sf(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Rs([...this.nodes].map(n=>n._clone(!0))),t=new yr(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new At(e,[0]);return new mi(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new q("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Rs([...e].map(t=>t._clone(!0))),dg(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const n=[];for(const u of e.nodes)u.name?n.push(ui.fromJSON(u)):n.push(Pi.fromJSON(u));const a=new yr(At.fromJSON(e.position,t),n,e.baseVersion);return a.shouldReceiveAttributes=e.shouldReceiveAttributes,a}}class Si extends zs{constructor(e,t,n,a,u){super(u),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=n,this.graveyardPosition=a?a.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new At(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Je(this.splitPosition,e)}get affectedSelectable(){const e=[Je._createFromPositionAndShift(this.splitPosition,0),Je._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(Je._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new Si(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new At(e,[0]);return new Xi(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new q("split-operation-position-invalid",this);if(!e.parent)throw new q("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new q("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new q("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Hn(Je._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();dg(this.insertionPosition,t)}Hn(new Je(At._createAt(e,this.splitPosition.offset),At._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new At(e.root,t,"toPrevious")}static fromJSON(e,t){const n=At.fromJSON(e.splitPosition,t),a=At.fromJSON(e.insertionPosition,t),u=e.graveyardPosition?At.fromJSON(e.graveyardPosition,t):null;return new this(n,e.howMany,a,u,e.baseVersion)}}class Xi extends zs{constructor(e,t,n,a,u){super(u),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=a.clone()}get type(){return"merge"}get deletionPosition(){return new At(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Je(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[Je._createOn(e),Je._createFromPositionAndShift(this.targetPosition,0),Je._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Xi(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new At(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new Si(e,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new q("merge-operation-source-position-invalid",this);if(!t.parent)throw new q("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new q("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;Hn(Je._createIn(e),this.targetPosition),Hn(Je._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const n=At.fromJSON(e.sourcePosition,t),a=At.fromJSON(e.targetPosition,t),u=At.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,a,u,e.baseVersion)}}class Eo extends zs{constructor(e,t,n,a,u,f){super(f),this.name=e,this.oldRange=t?t.clone():null,this.newRange=n?n.clone():null,this.affectsData=u,this._markers=a}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new Eo(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Eo(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new Eo(e.name,e.oldRange?Je.fromJSON(e.oldRange,t):null,e.newRange?Je.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}const Ek=function(r,e){return Wu(r,e)};class Or extends zs{constructor(e,t,n,a,u){super(u),this.range=e.clone(),this.key=t,this.oldValue=n===void 0?null:n,this.newValue=a===void 0?null:a}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Or(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Or(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new q("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!Ek(e.getAttribute(this.key),this.oldValue))throw new q("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new q("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){Ek(this.oldValue,this.newValue)||function(e,t,n){eu(e.start),eu(e.end);for(const a of e.getItems({shallow:!0})){const u=a.is("$textProxy")?a.textNode:a;n!==null?u._setAttribute(t,n):u._removeAttribute(t),rd(u.parent,u.index)}rd(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new Or(Je.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class qr extends zs{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new qr(this.baseVersion)}getReversed(){return new qr(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class So extends zs{constructor(e,t,n,a){super(a),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=n}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new So(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new So(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof ui))throw new q("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new q("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new So(At.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class Da extends zs{constructor(e,t,n,a,u){super(u),this.root=e,this.key=t,this.oldValue=n===void 0?null:n,this.newValue=a===void 0?null:a}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Da(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Da(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new q("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new q("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new q("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new q("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Da(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class si extends zs{constructor(e,t,n,a,u){super(u),this.rootName=e,this.elementName=t,this.isAdd=n,this._document=a,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new si(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new si(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new si(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const Yo={};Yo[Or.className]=Or,Yo[yr.className]=yr,Yo[Eo.className]=Eo,Yo[mi.className]=mi,Yo[qr.className]=qr,Yo[zs.className]=zs,Yo[So.className]=So,Yo[Da.className]=Da,Yo[si.className]=si,Yo[Si.className]=Si,Yo[Xi.className]=Xi;class Fs{static fromJSON(e,t){return Yo[e.__className].fromJSON(e,t)}}const mg=new Map;function li(r,e,t){let n=mg.get(r);n||(n=new Map,mg.set(r,n)),n.set(e,t)}function fg(r){return[r]}function im(r,e,t={}){const n=function(a,u){const f=mg.get(a);return f&&f.has(u)?f.get(u):fg}(r.constructor,e.constructor);try{return n(r=r.clone(),e,t)}catch(a){throw a}}function Sk(r,e,t){r=r.slice(),e=e.slice();const n=new jk(t.document,t.useRelations,t.forceWeakRemove);n.setOriginalOperations(r),n.setOriginalOperations(e);const a=n.originalOperations;if(r.length==0||e.length==0)return{operationsA:r,operationsB:e,originalOperations:a};const u=new WeakMap;for(const w of r)u.set(w,0);const f={nextBaseVersionA:r[r.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:r.length,originalOperationsBCount:e.length};let b=0;for(;b<r.length;){const w=r[b],A=u.get(w);if(A==e.length){b++;continue}const E=e[A],O=im(w,E,n.getContext(w,E,!0)),z=im(E,w,n.getContext(E,w,!1));n.updateRelation(w,E),n.setOriginalOperations(O,w),n.setOriginalOperations(z,E);for(const U of O)u.set(U,A+z.length);r.splice(b,1,...O),e.splice(A,1,...z)}return jf(r,f.nextBaseVersionB),jf(e,f.nextBaseVersionA),{operationsA:r,operationsB:e,originalOperations:a}}class jk{constructor(e,t,n=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(e,t=null){const n=t?this.originalOperations.get(t):null;for(const a of e)this.originalOperations.set(a,n||a)}updateRelation(e,t){if(e instanceof mi)t instanceof Xi?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof mi&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof Si){if(t instanceof Xi)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof mi)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const n=Je._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)){const a=n.end.offset-e.splitPosition.offset,u=e.splitPosition.offset-n.start.offset;this._setRelation(e,t,{howMany:a,offset:u})}}}else if(e instanceof Xi)t instanceof Xi?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof Si?e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource"):t instanceof mi&&t.howMany>0&&(e.sourcePosition.isEqual(t.sourcePosition.getShiftedBy(t.howMany))&&this._setRelation(e,t,"mergeSourceAffected"),e.targetPosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeTargetWasBefore"));else if(e instanceof Eo){const n=e.newRange;if(!n)return;if(t instanceof mi){const a=Je._createFromPositionAndShift(t.sourcePosition,t.howMany),u=a.containsPosition(n.start)||a.start.isEqual(n.start),f=a.containsPosition(n.end)||a.end.isEqual(n.end);!u&&!f||a.containsRange(n)||this._setRelation(e,t,{side:u?"left":"right",path:u?n.start.path.slice():n.end.path.slice()})}else if(t instanceof Xi){const a=n.start.isEqual(t.targetPosition),u=n.start.isEqual(t.deletionPosition),f=n.end.isEqual(t.deletionPosition),b=n.end.isEqual(t.sourcePosition);(a||u||f||b)&&this._setRelation(e,t,{wasInLeftElement:a,wasStartBeforeMergedElement:u,wasEndBeforeMergedElement:f,wasInRightElement:b})}}}getContext(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const n=this.originalOperations.get(t),a=this._history.getUndoneOperation(n);if(!a)return null;const u=this.originalOperations.get(e),f=this._relations.get(u);return f&&f.get(a)||null}_setRelation(e,t,n){const a=this.originalOperations.get(e),u=this.originalOperations.get(t);let f=this._relations.get(a);f||(f=new Map,this._relations.set(a,f)),f.set(u,n)}}function jf(r,e){for(const t of r)t.baseVersion=e++}function Df(r,e,t){const n=r.nodes.getNode(0).getAttribute(e);if(n==t)return null;const a=new Je(r.position,r.position.getShiftedBy(r.howMany));return new Or(a,e,n,t,0)}function Dk(r,e){return r.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function tu(r,e){const t=[];for(let n=0;n<r.length;n++){const a=r[n],u=new mi(a.start,a.end.offset-a.start.offset,e,0);t.push(u);for(let f=n+1;f<r.length;f++)r[f]=r[f]._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany)[0];e=e._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany)}return t}li(Or,Or,(r,e,t)=>{if(r.key===e.key&&r.range.start.hasSameParentAs(e.range.start)){const n=r.range.getDifference(e.range).map(u=>new Or(u,r.key,r.oldValue,r.newValue,0)),a=r.range.getIntersection(e.range);return a&&t.aIsStrong&&n.push(new Or(a,e.key,e.newValue,r.newValue,0)),n.length==0?[new qr(0)]:n}return[r]}),li(Or,yr,(r,e)=>{if(r.range.start.hasSameParentAs(e.position)&&r.range.containsPosition(e.position)){const t=r.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(n=>new Or(n,r.key,r.oldValue,r.newValue,r.baseVersion));if(e.shouldReceiveAttributes){const n=Df(e,r.key,r.oldValue);n&&t.unshift(n)}return t}return r.range=r.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[r]}),li(Or,Xi,(r,e)=>{const t=[];r.range.start.hasSameParentAs(e.deletionPosition)&&(r.range.containsPosition(e.deletionPosition)||r.range.start.isEqual(e.deletionPosition))&&t.push(Je._createFromPositionAndShift(e.graveyardPosition,1));const n=r.range._getTransformedByMergeOperation(e);return n.isCollapsed||t.push(n),t.map(a=>new Or(a,r.key,r.oldValue,r.newValue,r.baseVersion))}),li(Or,mi,(r,e)=>function(n,a){const u=Je._createFromPositionAndShift(a.sourcePosition,a.howMany);let f=null,b=[];u.containsRange(n,!0)?f=n:n.start.hasSameParentAs(u.start)?(b=n.getDifference(u),f=n.getIntersection(u)):b=[n];const w=[];for(let A of b){A=A._getTransformedByDeletion(a.sourcePosition,a.howMany);const E=a.getMovedRangeStart(),O=A.start.hasSameParentAs(E),z=A._getTransformedByInsertion(E,a.howMany,O);w.push(...z)}return f&&w.push(f._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany,!1)[0]),w}(r.range,e).map(n=>new Or(n,r.key,r.oldValue,r.newValue,r.baseVersion))),li(Or,Si,(r,e)=>{if(r.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||r.range.end.offset++,[r];if(r.range.start.hasSameParentAs(e.splitPosition)&&r.range.containsPosition(e.splitPosition)){const t=r.clone();return t.range=new Je(e.moveTargetPosition.clone(),r.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),r.range.end=e.splitPosition.clone(),r.range.end.stickiness="toPrevious",[r,t]}return r.range=r.range._getTransformedBySplitOperation(e),[r]}),li(yr,Or,(r,e)=>{const t=[r];if(r.shouldReceiveAttributes&&r.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(r.position)){const n=Df(r,e.key,e.newValue);n&&t.push(n)}return t}),li(yr,yr,(r,e,t)=>(r.position.isEqual(e.position)&&t.aIsStrong||(r.position=r.position._getTransformedByInsertOperation(e)),[r])),li(yr,mi,(r,e)=>(r.position=r.position._getTransformedByMoveOperation(e),[r])),li(yr,Si,(r,e)=>(r.position=r.position._getTransformedBySplitOperation(e),[r])),li(yr,Xi,(r,e)=>(r.position=r.position._getTransformedByMergeOperation(e),[r])),li(Eo,yr,(r,e)=>(r.oldRange&&(r.oldRange=r.oldRange._getTransformedByInsertOperation(e)[0]),r.newRange&&(r.newRange=r.newRange._getTransformedByInsertOperation(e)[0]),[r])),li(Eo,Eo,(r,e,t)=>{if(r.name==e.name){if(!t.aIsStrong)return[new qr(0)];r.oldRange=e.newRange?e.newRange.clone():null}return[r]}),li(Eo,Xi,(r,e)=>(r.oldRange&&(r.oldRange=r.oldRange._getTransformedByMergeOperation(e)),r.newRange&&(r.newRange=r.newRange._getTransformedByMergeOperation(e)),[r])),li(Eo,mi,(r,e,t)=>{if(r.oldRange&&(r.oldRange=Je._createFromRanges(r.oldRange._getTransformedByMoveOperation(e))),r.newRange){if(t.abRelation){const n=Je._createFromRanges(r.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(r.newRange.start))return r.newRange.end=n.end,r.newRange.start.path=t.abRelation.path,[r];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(r.newRange.end))return r.newRange.start=n.start,r.newRange.end.path=t.abRelation.path,[r]}r.newRange=Je._createFromRanges(r.newRange._getTransformedByMoveOperation(e))}return[r]}),li(Eo,Si,(r,e,t)=>{if(r.oldRange&&(r.oldRange=r.oldRange._getTransformedBySplitOperation(e)),r.newRange){if(t.abRelation){const n=r.newRange._getTransformedBySplitOperation(e);return r.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?r.newRange.start=At._createAt(e.insertionPosition):r.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(r.newRange.start=At._createAt(e.moveTargetPosition)),r.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?r.newRange.end=At._createAt(e.moveTargetPosition):r.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?r.newRange.end=At._createAt(e.insertionPosition):r.newRange.end=n.end,[r]}r.newRange=r.newRange._getTransformedBySplitOperation(e)}return[r]}),li(Xi,yr,(r,e)=>(r.sourcePosition.hasSameParentAs(e.position)&&(r.howMany+=e.howMany),r.sourcePosition=r.sourcePosition._getTransformedByInsertOperation(e),r.targetPosition=r.targetPosition._getTransformedByInsertOperation(e),[r])),li(Xi,Xi,(r,e,t)=>{if(r.sourcePosition.isEqual(e.sourcePosition)&&r.targetPosition.isEqual(e.targetPosition)){if(t.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),r.sourcePosition=new At(e.graveyardPosition.root,n),r.howMany=0,[r]}return[new qr(0)]}if(r.sourcePosition.isEqual(e.sourcePosition)&&!r.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const n=r.targetPosition.root.rootName=="$graveyard",a=e.targetPosition.root.rootName=="$graveyard";if(a&&!n||!(n&&!a)&&t.aIsStrong){const u=e.targetPosition._getTransformedByMergeOperation(e),f=r.targetPosition._getTransformedByMergeOperation(e);return[new mi(u,r.howMany,f,0)]}return[new qr(0)]}return r.sourcePosition.hasSameParentAs(e.targetPosition)&&(r.howMany+=e.howMany),r.sourcePosition=r.sourcePosition._getTransformedByMergeOperation(e),r.targetPosition=r.targetPosition._getTransformedByMergeOperation(e),r.graveyardPosition.isEqual(e.graveyardPosition)&&t.aIsStrong||(r.graveyardPosition=r.graveyardPosition._getTransformedByMergeOperation(e)),[r]}),li(Xi,mi,(r,e,t)=>{const n=Je._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&r.deletionPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(r.sourcePosition)?[new qr(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(r.sourcePosition)?r.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(r.sourcePosition)&&t.abRelation=="mergeSourceAffected"?r.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(r.targetPosition)?(r.targetPosition.stickiness="toNone",r.howMany-=e.howMany):e.targetPosition.isEqual(r.targetPosition)&&t.abRelation=="mergeTargetWasBefore"?(r.targetPosition.stickiness="toPrevious",r.howMany+=e.howMany):(r.sourcePosition.hasSameParentAs(e.targetPosition)&&(r.howMany+=e.howMany),r.sourcePosition.hasSameParentAs(e.sourcePosition)&&(r.howMany-=e.howMany)),r.sourcePosition=r.sourcePosition._getTransformedByMoveOperation(e),r.targetPosition=r.targetPosition._getTransformedByMoveOperation(e),r.sourcePosition.stickiness="toPrevious",r.targetPosition.stickiness="toNext",r.graveyardPosition.isEqual(e.targetPosition)||(r.graveyardPosition=r.graveyardPosition._getTransformedByMoveOperation(e)),[r])}),li(Xi,Si,(r,e,t)=>{if(e.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),r.deletionPosition.isEqual(e.graveyardPosition)&&(r.howMany=e.howMany)),r.targetPosition.isEqual(e.splitPosition)){const n=e.howMany!=0,a=e.graveyardPosition&&r.deletionPosition.isEqual(e.graveyardPosition);if(n||a||t.abRelation=="mergeTargetNotMoved")return r.sourcePosition=r.sourcePosition._getTransformedBySplitOperation(e),[r]}if(r.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return r.howMany=0,r.targetPosition=r.targetPosition._getTransformedBySplitOperation(e),[r];if(t.abRelation=="mergeSameElement"||r.sourcePosition.offset>0)return r.sourcePosition=e.moveTargetPosition.clone(),r.targetPosition=r.targetPosition._getTransformedBySplitOperation(e),[r]}return r.sourcePosition.hasSameParentAs(e.splitPosition)&&(r.howMany=e.splitPosition.offset),r.sourcePosition=r.sourcePosition._getTransformedBySplitOperation(e),r.targetPosition=r.targetPosition._getTransformedBySplitOperation(e),[r]}),li(mi,yr,(r,e)=>{const t=Je._createFromPositionAndShift(r.sourcePosition,r.howMany)._getTransformedByInsertOperation(e,!1)[0];return r.sourcePosition=t.start,r.howMany=t.end.offset-t.start.offset,r.targetPosition.isEqual(e.position)||(r.targetPosition=r.targetPosition._getTransformedByInsertOperation(e)),[r]}),li(mi,mi,(r,e,t)=>{const n=Je._createFromPositionAndShift(r.sourcePosition,r.howMany),a=Je._createFromPositionAndShift(e.sourcePosition,e.howMany);let u,f=t.aIsStrong,b=!t.aIsStrong;if(t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?b=!0:t.abRelation!="insertAfter"&&t.baRelation!="insertBefore"||(b=!1),u=r.targetPosition.isEqual(e.targetPosition)&&b?r.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):r.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Dk(r,e)&&Dk(e,r))return[e.getReversed()];if(n.containsPosition(e.targetPosition)&&n.containsRange(a,!0))return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),tu([n],u);if(a.containsPosition(r.targetPosition)&&a.containsRange(n,!0))return n.start=n.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),n.end=n.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),tu([n],u);const w=Dt(r.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(w=="prefix"||w=="extension")return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),tu([n],u);r.type!="remove"||e.type=="remove"||t.aWasUndone||t.forceWeakRemove?r.type=="remove"||e.type!="remove"||t.bWasUndone||t.forceWeakRemove||(f=!1):f=!0;const A=[],E=n.getDifference(a);for(const z of E){z.start=z.start._getTransformedByDeletion(e.sourcePosition,e.howMany),z.end=z.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const U=Dt(z.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",W=z._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,U);A.push(...W)}const O=n.getIntersection(a);return O!==null&&f&&(O.start=O.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),O.end=O.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),A.length===0?A.push(O):A.length==1?a.start.isBefore(n.start)||a.start.isEqual(n.start)?A.unshift(O):A.push(O):A.splice(1,0,O)),A.length===0?[new qr(r.baseVersion)]:tu(A,u)}),li(mi,Si,(r,e,t)=>{let n=r.targetPosition.clone();r.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&t.abRelation!="moveTargetAfter"||(n=r.targetPosition._getTransformedBySplitOperation(e));const a=Je._createFromPositionAndShift(r.sourcePosition,r.howMany);if(a.end.isEqual(e.insertionPosition))return e.graveyardPosition||r.howMany++,r.targetPosition=n,[r];if(a.start.hasSameParentAs(e.splitPosition)&&a.containsPosition(e.splitPosition)){let f=new Je(e.splitPosition,a.end);return f=f._getTransformedBySplitOperation(e),tu([new Je(a.start,e.splitPosition),f],n)}r.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(n=e.moveTargetPosition),r.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(n=r.targetPosition);const u=[a._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const f=a.start.isEqual(e.graveyardPosition)||a.containsPosition(e.graveyardPosition);r.howMany>1&&f&&!t.aWasUndone&&u.push(Je._createFromPositionAndShift(e.insertionPosition,1))}return tu(u,n)}),li(mi,Xi,(r,e,t)=>{const n=Je._createFromPositionAndShift(r.sourcePosition,r.howMany);if(e.deletionPosition.hasSameParentAs(r.sourcePosition)&&n.containsPosition(e.sourcePosition)){if(r.type!="remove"||t.forceWeakRemove){if(r.howMany==1)return t.bWasUndone?(r.sourcePosition=e.graveyardPosition.clone(),r.targetPosition=r.targetPosition._getTransformedByMergeOperation(e),[r]):[new qr(0)]}else if(!t.aWasUndone){const u=[];let f=e.graveyardPosition.clone(),b=e.targetPosition._getTransformedByMergeOperation(e);r.howMany>1&&(u.push(new mi(r.sourcePosition,r.howMany-1,r.targetPosition,0)),f=f._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany-1),b=b._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany-1));const w=e.deletionPosition._getCombined(r.sourcePosition,r.targetPosition),A=new mi(f,1,w,0),E=A.getMovedRangeStart().path.slice();E.push(0);const O=new At(A.targetPosition.root,E);b=b._getTransformedByMove(f,w,1);const z=new mi(b,e.howMany,O,0);return u.push(A),u.push(z),u}}const a=Je._createFromPositionAndShift(r.sourcePosition,r.howMany)._getTransformedByMergeOperation(e);return r.sourcePosition=a.start,r.howMany=a.end.offset-a.start.offset,r.targetPosition=r.targetPosition._getTransformedByMergeOperation(e),[r]}),li(So,yr,(r,e)=>(r.position=r.position._getTransformedByInsertOperation(e),[r])),li(So,Xi,(r,e)=>r.position.isEqual(e.deletionPosition)?(r.position=e.graveyardPosition.clone(),r.position.stickiness="toNext",[r]):(r.position=r.position._getTransformedByMergeOperation(e),[r])),li(So,mi,(r,e)=>(r.position=r.position._getTransformedByMoveOperation(e),[r])),li(So,So,(r,e,t)=>{if(r.position.isEqual(e.position)){if(!t.aIsStrong)return[new qr(0)];r.oldName=e.newName}return[r]}),li(So,Si,(r,e)=>{if(Dt(r.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const t=new So(r.position.getShiftedBy(1),r.oldName,r.newName,0);return[r,t]}return r.position=r.position._getTransformedBySplitOperation(e),[r]}),li(Da,Da,(r,e,t)=>{if(r.root===e.root&&r.key===e.key){if(!t.aIsStrong||r.newValue===e.newValue)return[new qr(0)];r.oldValue=e.newValue}return[r]}),li(si,si,(r,e)=>r.rootName===e.rootName&&r.isAdd===e.isAdd?[new qr(0)]:[r]),li(Si,yr,(r,e)=>(r.splitPosition.hasSameParentAs(e.position)&&r.splitPosition.offset<e.position.offset&&(r.howMany+=e.howMany),r.splitPosition=r.splitPosition._getTransformedByInsertOperation(e),r.insertionPosition=r.insertionPosition._getTransformedByInsertOperation(e),[r])),li(Si,Xi,(r,e,t)=>{if(!r.graveyardPosition&&!t.bWasUndone&&r.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const a=new At(e.graveyardPosition.root,n),u=Si.getInsertionPosition(new At(e.graveyardPosition.root,n)),f=new Si(a,0,u,null,0);return r.splitPosition=r.splitPosition._getTransformedByMergeOperation(e),r.insertionPosition=Si.getInsertionPosition(r.splitPosition),r.graveyardPosition=f.insertionPosition.clone(),r.graveyardPosition.stickiness="toNext",[f,r]}return r.splitPosition.hasSameParentAs(e.deletionPosition)&&!r.splitPosition.isAfter(e.deletionPosition)&&r.howMany--,r.splitPosition.hasSameParentAs(e.targetPosition)&&(r.howMany+=e.howMany),r.splitPosition=r.splitPosition._getTransformedByMergeOperation(e),r.insertionPosition=Si.getInsertionPosition(r.splitPosition),r.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedByMergeOperation(e)),[r]}),li(Si,mi,(r,e,t)=>{const n=Je._createFromPositionAndShift(e.sourcePosition,e.howMany);if(r.graveyardPosition){const u=n.start.isEqual(r.graveyardPosition)||n.containsPosition(r.graveyardPosition);if(!t.bWasUndone&&u){const f=r.splitPosition._getTransformedByMoveOperation(e),b=r.graveyardPosition._getTransformedByMoveOperation(e),w=b.path.slice();w.push(0);const A=new At(b.root,w);return[new mi(f,r.howMany,A,0)]}r.graveyardPosition=r.graveyardPosition._getTransformedByMoveOperation(e)}const a=r.splitPosition.isEqual(e.targetPosition);if(a&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return r.howMany+=e.howMany,r.splitPosition=r.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),r.insertionPosition=Si.getInsertionPosition(r.splitPosition),[r];if(a&&t.abRelation&&t.abRelation.howMany){const{howMany:u,offset:f}=t.abRelation;return r.howMany+=u,r.splitPosition=r.splitPosition.getShiftedBy(f),[r]}if(r.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(r.splitPosition)){const u=e.howMany-(r.splitPosition.offset-e.sourcePosition.offset);return r.howMany-=u,r.splitPosition.hasSameParentAs(e.targetPosition)&&r.splitPosition.offset<e.targetPosition.offset&&(r.howMany+=e.howMany),r.splitPosition=e.sourcePosition.clone(),r.insertionPosition=Si.getInsertionPosition(r.splitPosition),[r]}return e.sourcePosition.isEqual(e.targetPosition)||(r.splitPosition.hasSameParentAs(e.sourcePosition)&&r.splitPosition.offset<=e.sourcePosition.offset&&(r.howMany-=e.howMany),r.splitPosition.hasSameParentAs(e.targetPosition)&&r.splitPosition.offset<e.targetPosition.offset&&(r.howMany+=e.howMany)),r.splitPosition.stickiness="toNone",r.splitPosition=r.splitPosition._getTransformedByMoveOperation(e),r.splitPosition.stickiness="toNext",r.graveyardPosition?r.insertionPosition=r.insertionPosition._getTransformedByMoveOperation(e):r.insertionPosition=Si.getInsertionPosition(r.splitPosition),[r]}),li(Si,Si,(r,e,t)=>{if(r.splitPosition.isEqual(e.splitPosition)){if(!r.graveyardPosition&&!e.graveyardPosition)return[new qr(0)];if(r.graveyardPosition&&e.graveyardPosition&&r.graveyardPosition.isEqual(e.graveyardPosition))return[new qr(0)];if(t.abRelation=="splitBefore")return r.howMany=0,r.graveyardPosition=r.graveyardPosition._getTransformedBySplitOperation(e),[r]}if(r.graveyardPosition&&e.graveyardPosition&&r.graveyardPosition.isEqual(e.graveyardPosition)){const n=r.splitPosition.root.rootName=="$graveyard",a=e.splitPosition.root.rootName=="$graveyard";if(a&&!n||!(n&&!a)&&t.aIsStrong){const u=[];return e.howMany&&u.push(new mi(e.moveTargetPosition,e.howMany,e.splitPosition,0)),r.howMany&&u.push(new mi(r.splitPosition,r.howMany,r.moveTargetPosition,0)),u}return[new qr(0)]}if(r.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedBySplitOperation(e)),r.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return r.howMany++,[r];if(e.splitPosition.isEqual(r.insertionPosition)&&t.baRelation=="splitBefore"){const n=e.insertionPosition.path.slice();n.push(0);const a=new At(e.insertionPosition.root,n);return[r,new mi(r.insertionPosition,1,a,0)]}return r.splitPosition.hasSameParentAs(e.splitPosition)&&r.splitPosition.offset<e.splitPosition.offset&&(r.howMany-=e.howMany),r.splitPosition=r.splitPosition._getTransformedBySplitOperation(e),r.insertionPosition=Si.getInsertionPosition(r.splitPosition),[r]});class Hs extends he(At){constructor(e,t,n="toNone"){if(super(e,t,n),!this.root.is("rootElement"))throw new q("model-liveposition-root-not-rootelement",e);Tk.call(this)}detach(){this.stopListening()}toPosition(){return new At(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function Tk(){this.listenTo(this.root.document.model,"applyOperation",(r,e)=>{const t=e[0];t.isDocumentOperation&&Hw.call(this,t)},{priority:"low"})}function Hw(r){const e=this.getTransformedByOperation(r);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}Hs.prototype.is=function(r){return r==="livePosition"||r==="model:livePosition"||r=="position"||r==="model:position"};class nh{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},de("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:n=!0,isUndo:a=!1,isTyping:u=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=n,this.isUndo=a,this.isTyping=u}get type(){return de("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var sd=Object.defineProperty,Mk=Object.defineProperties,pg=Object.getOwnPropertyDescriptors,Ik=Object.getOwnPropertySymbols,Vw=Object.prototype.hasOwnProperty,gg=Object.prototype.propertyIsEnumerable,Ok=(r,e,t)=>e in r?sd(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ta=(r,e)=>{for(var t in e||(e={}))Vw.call(e,t)&&Ok(r,t,e[t]);if(Ik)for(var t of Ik(e))gg.call(e,t)&&Ok(r,t,e[t]);return r};class bg{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const n of t.range.getItems({shallow:!0}))this._isInInsertedElement(n.parent)||this._markAttribute(n);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const n=this._isInInsertedElement(t.sourcePosition.parent),a=this._isInInsertedElement(t.targetPosition.parent);n||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),a||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const n=Je._createFromPositionAndShift(t.position,1);for(const a of this._markerCollection.getMarkersIntersectingRange(n)){const u=a.getData();this.bufferMarkerChange(a.name,u,u)}break}case"split":{const n=t.splitPosition.parent;this._isInInsertedElement(n)||this._markRemove(n,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const n=t.sourcePosition.parent;this._isInInsertedElement(n.parent)||this._markRemove(n.parent,n.startOffset,1);const a=t.graveyardPosition.parent;this._markInsert(a,t.graveyardPosition.offset,1);const u=t.targetPosition.parent;this._isInInsertedElement(u)||this._markInsert(u,t.targetPosition.offset,n.maxOffset);break}case"detachRoot":case"addRoot":{const n=t.affectedSelectable;if(!n._isLoaded||n.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const n=t.root.rootName;this._bufferRootAttributeChange(n,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,n){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null);let a=this._changedMarkers.get(e);a?a.newMarkerData=n:(a={newMarkerData:n,oldMarkerData:t},this._changedMarkers.set(e,a)),a.oldMarkerData.range==null&&n.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,n]of this._changedMarkers)n.oldMarkerData.range!=null&&e.push({name:t,range:n.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,n]of this._changedMarkers)n.newMarkerData.range!=null&&e.push({name:t,range:n.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const n=e.range&&!t.range,a=!e.range&&t.range,u=e.range&&t.range&&!e.range.isEqual(t.range);if(n||a||u)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const n of this._changesInElement.keys()){const a=this._changesInElement.get(n).sort((E,O)=>E.offset===O.offset?E.type!=O.type?E.type=="remove"?-1:1:0:E.offset<O.offset?-1:1),u=this._elementSnapshots.get(n),f=kg(n.getChildren()),b=Lk(u.length,a);let w=0,A=0;for(const E of b)if(E==="i")t.push(this._getInsertDiff(n,w,f[w])),w++;else if(E==="r")t.push(this._getRemoveDiff(n,w,u[A])),A++;else if(E==="a"){const O=f[w].attributes,z=u[A].attributes;let U;if(f[w].name=="$text")U=new Je(At._createAt(n,w),At._createAt(n,w+1));else{const W=n.offsetToIndex(w);U=new Je(At._createAt(n,w),At._createAt(n.getChild(W),0))}t.push(...this._getAttributesDiff(U,z,O)),w++,A++}else w++,A++}t.sort((n,a)=>n.position.root!=a.position.root?n.position.root.rootName<a.position.root.rootName?-1:1:n.position.isEqual(a.position)?n.changeCount-a.changeCount:n.position.isBefore(a.position)?-1:1);for(let n=1,a=0;n<t.length;n++){const u=t[a],f=t[n],b=u.type=="remove"&&f.type=="remove"&&u.name=="$text"&&f.name=="$text"&&u.position.isEqual(f.position),w=u.type=="insert"&&f.type=="insert"&&u.name=="$text"&&f.name=="$text"&&u.position.parent==f.position.parent&&u.position.offset+u.length==f.position.offset,A=u.type=="attribute"&&f.type=="attribute"&&u.position.parent==f.position.parent&&u.range.isFlat&&f.range.isFlat&&u.position.offset+u.length==f.position.offset&&u.attributeKey==f.attributeKey&&u.attributeOldValue==f.attributeOldValue&&u.attributeNewValue==f.attributeNewValue;b||w||A?(u.length++,A&&(u.range.end=u.range.end.getShiftedBy(1)),t[n]=null):a=n}t=t.filter(n=>n);for(const n of t)delete n.changeCount,n.type=="attribute"&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(rm),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t=Ta({},e);return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});const n=this._changedRoots.get(e);n.state!==void 0?(delete n.state,n.attributes===void 0&&this._changedRoots.delete(e)):n.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,n,a){const u=this._changedRoots.get(e)||{name:e},f=u.attributes||{};if(f[t]){const b=f[t];a===b.oldValue?delete f[t]:b.newValue=a}else f[t]={oldValue:n,newValue:a};Object.entries(f).length===0?(delete u.attributes,u.state===void 0&&this._changedRoots.delete(e)):(u.attributes=f,this._changedRoots.set(e,u))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=Je._createOn(e);for(const n of this._markerCollection.getMarkersIntersectingRange(t)){const a=n.getData();this.bufferMarkerChange(n.name,a,a)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const n of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,n,null,e.getAttribute(n));for(const n of this._markerCollection)if(n.getRange().root==e){const a=n.getData();this.bufferMarkerChange(n.name,(t=Ta({},a),Mk(t,pg({range:null}))),a)}var t}}_markInsert(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const a={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,a)}_markRemove(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const a={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,a),this._removeAllNestedChanges(e,t,n)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(let a=0;a<n.length;a++)n[a].howMany<1&&(n.splice(a,1),a--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,kg(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const n of t){const a=e.offset+e.howMany,u=n.offset+n.howMany;if(e.type=="insert"&&(n.type=="insert"&&(e.offset<=n.offset?n.offset+=e.howMany:e.offset<u&&(n.howMany+=e.nodesToHandle,e.nodesToHandle=0)),n.type=="remove"&&e.offset<n.offset&&(n.offset+=e.howMany),n.type=="attribute")){if(e.offset<=n.offset)n.offset+=e.howMany;else if(e.offset<u){const f=n.howMany;n.howMany=e.offset-n.offset,t.unshift({type:"attribute",offset:a,howMany:f-n.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(n.type=="insert"){if(a<=n.offset)n.offset-=e.howMany;else if(a<=u)if(e.offset<n.offset){const f=a-n.offset;n.offset=e.offset,n.howMany-=f,e.nodesToHandle-=f}else n.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=n.offset)e.nodesToHandle-=n.howMany,n.howMany=0;else if(e.offset<u){const f=u-e.offset;n.howMany-=f,e.nodesToHandle-=f}}if(n.type=="remove"&&(a<=n.offset?n.offset-=e.howMany:e.offset<n.offset&&(e.nodesToHandle+=n.howMany,n.howMany=0)),n.type=="attribute"){if(a<=n.offset)n.offset-=e.howMany;else if(e.offset<n.offset){const f=a-n.offset;n.offset=e.offset,n.howMany-=f}else if(e.offset<u)if(a<=u){const f=n.howMany;n.howMany=e.offset-n.offset;const b=f-n.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:b,count:this._changeCount++})}else n.howMany-=u-e.offset}}if(e.type=="attribute"){if(n.type=="insert")if(e.offset<n.offset&&a>n.offset){if(a>u){const f={type:"attribute",offset:u,howMany:a-u,count:this._changeCount++};this._handleChange(f,t),t.push(f)}e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=n.offset&&e.offset<u&&(a>u?(e.nodesToHandle=a-u,e.offset=u):e.nodesToHandle=0);if(n.type=="remove"&&e.offset<n.offset&&a>n.offset){const f={type:"attribute",offset:n.offset,howMany:a-n.offset,count:this._changeCount++};this._handleChange(f,t),t.push(f),e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}n.type=="attribute"&&(e.offset>=n.offset&&a<=u?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=n.offset&&a>=u&&(n.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,n){return{type:"insert",position:At._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++,_element:n.element}}_getRemoveDiff(e,t,n){return{type:"remove",position:At._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++,_element:n.element}}_getAttributesDiff(e,t,n){const a=[];n=new Map(n);for(const[u,f]of t){const b=n.has(u)?n.get(u):null;b!==f&&a.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:u,attributeOldValue:f,attributeNewValue:b,changeCount:this._changeCount++}),n.delete(u)}for(const[u,f]of n)a.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:u,attributeOldValue:null,attributeNewValue:f,changeCount:this._changeCount++});return a}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const n=this._changesInElement.get(t),a=e.startOffset;if(n){for(const u of n)if(u.type=="insert"&&a>=u.offset&&a<u.offset+u.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,n){const a=new Je(At._createAt(e,t),At._createAt(e,t+n));for(const u of a.getItems({shallow:!0}))u.is("element")&&(this._elementSnapshots.delete(u),this._changesInElement.delete(u),this._removeAllNestedChanges(u,0,u.maxOffset))}}function kg(r){const e=[];for(const t of r)if(t.is("$text"))for(let n=0;n<t.data.length;n++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes()),element:t});return e}function Lk(r,e){const t=[];let n=0,a=0;for(const u of e){if(u.offset>n){for(let f=0;f<u.offset-n;f++)t.push("e");a+=u.offset-n}if(u.type=="insert"){for(let f=0;f<u.howMany;f++)t.push("i");n=u.offset+u.howMany}else if(u.type=="remove"){for(let f=0;f<u.howMany;f++)t.push("r");n=u.offset,a+=u.howMany}else t.push(..."a".repeat(u.howMany).split("")),n=u.offset+u.howMany,a+=u.howMany}if(a<r)for(let u=0;u<r-a-n;u++)t.push("e");return t}function rm(r){const e="position"in r&&r.position.root.rootName=="$graveyard",t="range"in r&&r.range.root.rootName=="$graveyard";return!e&&!t}class Ma{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new q("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const n=this._operations[0];e===void 0&&(e=n.baseVersion);let a=t-1;for(const[b,w]of this._gaps)e>b&&e<w&&(e=w),a>b&&a<w&&(a=b-1);if(a<n.baseVersion||e>this.lastOperation.baseVersion)return[];let u=this._baseVersionToOperationIndex.get(e);u===void 0&&(u=0);let f=this._baseVersionToOperationIndex.get(a);return f===void 0&&(f=this._operations.length-1),this._operations.slice(u,f+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class sm extends ui{constructor(e,t,n="main"){super(t),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=n}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}sm.prototype.is=function(r,e){return e?e===this.name&&(r==="rootElement"||r==="model:rootElement"||r==="element"||r==="model:element"):r==="rootElement"||r==="model:rootElement"||r==="element"||r==="model:element"||r==="node"||r==="model:node"};var Tf=Object.defineProperty,gc=Object.defineProperties,Uw=Object.getOwnPropertyDescriptors,Bk=Object.getOwnPropertySymbols,ih=Object.prototype.hasOwnProperty,Rk=Object.prototype.propertyIsEnumerable,Pk=(r,e,t)=>e in r?Tf(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,zk=(r,e)=>{for(var t in e||(e={}))ih.call(e,t)&&Pk(r,t,e[t]);if(Bk)for(var t of Bk(e))Rk.call(e,t)&&Pk(r,t,e[t]);return r},Fk=(r,e)=>gc(r,Uw(e));const Hk="$graveyard";class $w extends he(){constructor(e){super(),this.model=e,this.history=new Ma,this.selection=new fa(this),this.roots=new Fo({idProperty:"rootName"}),this.differ=new bg(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Hk),this.listenTo(e,"applyOperation",(t,n)=>{const a=n[0];a.isDocumentOperation&&this.differ.bufferOperation(a)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,n)=>{const a=n[0];a.isDocumentOperation&&this.history.addOperation(a)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,n,a,u,f)=>{const b=Fk(zk({},n.getData()),{range:u});this.differ.bufferMarkerChange(n.name,f,b),a===null&&n.on("change",(w,A)=>{const E=n.getData();this.differ.bufferMarkerChange(n.name,Fk(zk({},E),{range:A}),E)})}),this.registerPostFixer(t=>{let n=!1;for(const a of this.roots)a.isAttached()||a.isEmpty||(t.remove(t.createRangeIn(a)),n=!0);for(const a of this.model.markers)a.getRange().root.isAttached()||(t.removeMarker(a),n=!0);return n})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Hk)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new q("model-document-createroot-name-exists",this,{name:t});const n=new sm(this,e,t);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return this.roots.filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=nc(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,n=t.schema,a=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(a)||t.createRange(a)}_validateSelectionRange(e){return Vk(e.start)&&Vk(e.end)}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(this.selection.refresh(),t=n(e),t)break;while(t)}}function Vk(r){const e=r.textNode;if(e){const t=e.data,n=r.offset-e.startOffset;return!Ms(t,n)&&!Al(t,n)}return!0}var qw=Object.defineProperty,Uk=Object.defineProperties,rh=Object.getOwnPropertyDescriptors,sh=Object.getOwnPropertySymbols,$k=Object.prototype.hasOwnProperty,Ww=Object.prototype.propertyIsEnumerable,nu=(r,e,t)=>e in r?qw(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class om extends he(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof iu?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,n=!1,a=!1){const u=e instanceof iu?e.name:e;if(u.includes(","))throw new q("markercollection-incorrect-marker-name",this);const f=this._markers.get(u);if(f){const E=f.getData(),O=f.getRange();let z=!1;return O.isEqual(t)||(f._attachLiveRange(dr.fromRange(t)),z=!0),n!=f.managedUsingOperations&&(f._managedUsingOperations=n,z=!0),typeof a=="boolean"&&a!=f.affectsData&&(f._affectsData=a,z=!0),z&&this.fire(`update:${u}`,f,O,t,E),f}const b=dr.fromRange(t),w=new iu(u,b,n,a);var A;return this._markers.set(u,w),this.fire(`update:${u}`,w,null,t,(A=((E,O)=>{for(var z in O||(O={}))$k.call(O,z)&&nu(E,z,O[z]);if(sh)for(var z of sh(O))Ww.call(O,z)&&nu(E,z,O[z]);return E})({},w.getData()),Uk(A,rh({range:null})))),w}_remove(e){const t=e instanceof iu?e.name:e,n=this._markers.get(t);return!!n&&(this._markers.delete(t),this.fire(`update:${t}`,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0)}_refresh(e){const t=e instanceof iu?e.name:e,n=this._markers.get(t);if(!n)throw new q("markercollection-refresh-marker-not-exists",this);const a=n.getRange();this.fire(`update:${t}`,n,a,a,n.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class iu extends he(ks){constructor(e,t,n,a){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=n,this._affectsData=a}get managedUsingOperations(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}iu.prototype.is=function(r){return r==="marker"||r==="model:marker"};class Mf extends zs{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new q("detach-operation-on-document-node",this)}_execute(){ug(Je._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class ll extends ks{constructor(e){super(),this.markers=new Map,this._children=new Rs,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const n of e)n.name?t.push(ui.fromJSON(n)):t.push(Pi.fromJSON(n));return new ll(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(a){return typeof a=="string"?[new Pi(a)]:(Qe(a)||(a=[a]),Array.from(a).map(u=>typeof u=="string"?new Pi(u):u instanceof _s?new Pi(u.data,u.getAttributes()):u))}(t);for(const a of n)a.parent!==null&&a._remove(),a.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const a of n)a.parent=null;return n}}ll.prototype.is=function(r){return r==="documentFragment"||r==="model:documentFragment"};class _g{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Pi(e,t)}createElement(e,t){return new ui(e,t)}createDocumentFragment(){return new ll}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,n=0){if(this._assertWriterUsedCorrectly(),e instanceof Pi&&e.data=="")return;const a=At._createAt(t,n);if(e.parent){if(wg(e.root,a.root))return void this.move(Je._createOn(e),a);if(e.root.document)throw new q("model-writer-insert-forbidden-move",this);this.remove(e)}const u=a.root.document?a.root.document.version:null,f=new yr(a,e,u);if(e instanceof Pi&&(f.shouldReceiveAttributes=!0),this.batch.addOperation(f),this.model.applyOperation(f),e instanceof ll)for(const[b,w]of e.markers){const A=At._createAt(w.root,0),E={range:new Je(w.start._getCombined(A,a),w.end._getCombined(A,a)),usingOperation:!0,affectsData:!0};this.model.markers.has(b)?this.updateMarker(b,E):this.addMarker(b,E)}}insertText(e,t,n,a){t instanceof ll||t instanceof ui||t instanceof At?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,a)}insertElement(e,t,n,a){t instanceof ll||t instanceof ui||t instanceof At?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,a)}append(e,t){this.insert(e,t,"end")}appendText(e,t,n){t instanceof ll||t instanceof ui?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}appendElement(e,t,n){t instanceof ll||t instanceof ui?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}setAttribute(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof Je){const a=n.getMinimalFlatRanges();for(const u of a)am(this,e,t,u)}else vg(this,e,t,n)}setAttributes(e,t){for(const[n,a]of io(e))this.setAttribute(n,a,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof Je){const n=t.getMinimalFlatRanges();for(const a of n)am(this,e,null,a)}else vg(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=n=>{for(const a of n.getAttributeKeys())this.removeAttribute(a,n)};if(e instanceof Je)for(const n of e.getItems())t(n);else t(e)}move(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof Je))throw new q("writer-move-invalid-range",this);if(!e.isFlat)throw new q("writer-move-range-not-flat",this);const a=At._createAt(t,n);if(a.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!wg(e.root,a.root))throw new q("writer-move-different-document",this);const u=e.root.document?e.root.document.version:null,f=new mi(e.start,e.end.offset-e.start.offset,a,u);this.batch.addOperation(f),this.model.applyOperation(f)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof Je?e:Je._createOn(e)).getMinimalFlatRanges().reverse();for(const n of t)this._addOperationForAffectedMarkers("move",n),Yw(n.start,n.end.offset-n.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof ui))throw new q("writer-merge-no-element-before",this);if(!(n instanceof ui))throw new q("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,n){return this.model.createPositionFromPath(e,t,n)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,n=e.nodeAfter;this.move(Je._createIn(n),At._createAt(t,"end")),this.remove(n)}_merge(e){const t=At._createAt(e.nodeBefore,"end"),n=At._createAt(e.nodeAfter,0),a=e.root.document.graveyard,u=new At(a,[0]),f=e.root.document.version,b=new Xi(n,e.nodeAfter.maxOffset,t,u,f);this.batch.addOperation(b),this.model.applyOperation(b)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof ui))throw new q("writer-rename-not-element-instance",this);const n=e.root.document?e.root.document.version:null,a=new So(At._createBefore(e),e.name,t,n);this.batch.addOperation(a),this.model.applyOperation(a)}split(e,t){this._assertWriterUsedCorrectly();let n,a,u=e.parent;if(!u.parent)throw new q("writer-split-element-no-parent",this);if(t||(t=u.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new q("writer-split-invalid-limit-element",this);do{const f=u.root.document?u.root.document.version:null,b=u.maxOffset-e.offset,w=Si.getInsertionPosition(e),A=new Si(e,b,w,null,f);this.batch.addOperation(A),this.model.applyOperation(A),n||a||(n=u,a=e.parent.nextSibling),u=(e=this.createPositionAfter(e.parent)).parent}while(u!==t);return{position:e,range:new Je(At._createAt(n,"end"),At._createAt(a,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new q("writer-wrap-range-not-flat",this);const n=t instanceof ui?t:new ui(t);if(n.childCount>0)throw new q("writer-wrap-element-not-empty",this);if(n.parent!==null)throw new q("writer-wrap-element-attached",this);this.insert(n,e.start);const a=new Je(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(a,At._createAt(n,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new q("writer-unwrap-element-no-parent",this);this.move(Je._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new q("writer-addmarker-no-usingoperation",this);const n=t.usingOperation,a=t.range,u=t.affectsData!==void 0&&t.affectsData;if(this.model.markers.has(e))throw new q("writer-addmarker-marker-exists",this);if(!a)throw new q("writer-addmarker-no-range",this);return n?(oh(this,e,null,a,u),this.model.markers.get(e)):this.model.markers._set(e,a,n,u)}updateMarker(e,t){this._assertWriterUsedCorrectly();const n=typeof e=="string"?e:e.name,a=this.model.markers.get(n);if(!a)throw new q("writer-updatemarker-marker-not-exists",this);if(!t)return de("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),void this.model.markers._refresh(a);const u=typeof t.usingOperation=="boolean",f=typeof t.affectsData=="boolean",b=f?t.affectsData:a.affectsData;if(!u&&!t.range&&!f)throw new q("writer-updatemarker-wrong-options",this);const w=a.getRange(),A=t.range?t.range:w;u&&t.usingOperation!==a.managedUsingOperations?t.usingOperation?oh(this,n,null,A,b):(oh(this,n,w,null,b),this.model.markers._set(n,A,void 0,b)):a.managedUsingOperations?oh(this,n,w,A,b):this.model.markers._set(n,A,void 0,b)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new q("writer-removemarker-no-marker",this);const n=this.model.markers.get(t);if(!n.managedUsingOperations)return void this.model.markers._remove(t);oh(this,t,n.getRange(),null,n.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(e);if(n&&n.isAttached())throw new q("writer-addroot-root-exists",this);const a=this.model.document,u=new si(e,t,!0,a,a.version);return this.batch.addOperation(u),this.model.applyOperation(u),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new q("writer-detachroot-no-root",this);for(const u of this.model.markers)u.getRange().root===t&&this.removeMarker(u);for(const u of t.getAttributeKeys())this.removeAttribute(u,t);this.remove(this.createRangeIn(t));const n=this.model.document,a=new si(t.rootName,t.name,!1,n,n.version);this.batch.addOperation(a),this.model.applyOperation(a)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[n,a]of io(e))this._setSelectionAttribute(n,a)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const a=fa._getStoreAttributeKey(e);this.setAttribute(a,t,n.anchor.parent)}n._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const n=fa._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new q("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const a=n.getRange();let u=!1;if(e==="move"){const f=t;u=f.containsPosition(a.start)||f.start.isEqual(a.start)||f.containsPosition(a.end)||f.end.isEqual(a.end)}else{const f=t,b=f.nodeBefore,w=f.nodeAfter,A=a.start.parent==b&&a.start.isAtEnd,E=a.end.parent==w&&a.end.offset==0,O=a.end.nodeAfter==w,z=a.start.nodeAfter==w;u=A||E||O||z}u&&this.updateMarker(n.name,{range:a})}}}function am(r,e,t,n){const a=r.model,u=a.document;let f,b,w,A=n.start;for(const O of n.getWalker({shallow:!0}))w=O.item.getAttribute(e),f&&b!=w&&(b!=t&&E(),A=f),f=O.nextPosition,b=w;function E(){const O=new Je(A,f),z=O.root.document?u.version:null,U=new Or(O,e,b,t,z);r.batch.addOperation(U),a.applyOperation(U)}f instanceof At&&f!=A&&b!=t&&E()}function vg(r,e,t,n){const a=r.model,u=a.document,f=n.getAttribute(e);let b,w;if(f!=t){if(n.root===n){const A=n.document?u.version:null;w=new Da(n,e,f,t,A)}else{b=new Je(At._createBefore(n),r.createPositionAfter(n));const A=b.root.document?u.version:null;w=new Or(b,e,f,t,A)}r.batch.addOperation(w),a.applyOperation(w)}}function oh(r,e,t,n,a){const u=r.model,f=u.document,b=new Eo(e,t,n,u.markers,!!a,f.version);r.batch.addOperation(b),u.applyOperation(b)}function Yw(r,e,t,n){let a;if(r.root.document){const u=n.document,f=new At(u.graveyard,[0]);a=new mi(r,e,f,u.version)}else a=new Mf(r,e);t.addOperation(a),n.applyOperation(a)}function wg(r,e){return r===e||r instanceof sm&&e instanceof sm}function lm(r,e,t={}){if(e.isCollapsed)return;const n=e.getFirstRange();if(n.root.rootName=="$graveyard")return;const a=r.schema;r.change(u=>{if(!t.doNotResetEntireContent&&function(A,E){const O=A.getLimitElement(E);if(!E.containsEntireContent(O))return!1;const z=E.getFirstRange();return z.start.parent==z.end.parent?!1:A.checkChild(O,"paragraph")}(a,e))return void function(A,E){const O=A.model.schema.getLimitElement(E);A.remove(A.createRangeIn(O)),cm(A,A.createPositionAt(O,0),E)}(u,e);const f={};if(!t.doNotAutoparagraph){const A=e.getSelectedElement();A&&Object.assign(f,a.getAttributesWithProperty(A,"copyOnReplace",!0))}const[b,w]=function(A){const E=A.root.document.model,O=A.start;let z=A.end;if(E.hasContent(A,{ignoreMarkers:!0})){const U=function(W){const X=W.parent,ae=X.root.document.model.schema,ge=X.getAncestors({parentFirst:!0,includeSelf:!0});for(const Me of ge){if(ae.isLimit(Me))return null;if(ae.isBlock(Me))return Me}}(z);if(U&&z.isTouching(E.createPositionAt(U,0))){const W=E.createSelection(A);E.modifySelection(W,{direction:"backward"});const X=W.getLastPosition(),ae=E.createRange(X,z);E.hasContent(ae,{ignoreMarkers:!0})||(z=X)}}return[Hs.fromPosition(O,"toPrevious"),Hs.fromPosition(z,"toNext")]}(n);b.isTouching(w)||u.remove(u.createRange(b,w)),t.leaveUnmerged||(function(A,E,O){const z=A.model;if(!yg(A.model.schema,E,O))return;const[U,W]=function(X,ae){const ge=X.getAncestors(),Me=ae.getAncestors();let Ze=0;for(;ge[Ze]&&ge[Ze]==Me[Ze];)Ze++;return[ge[Ze],Me[Ze]]}(E,O);!U||!W||(!z.hasContent(U,{ignoreMarkers:!0})&&z.hasContent(W,{ignoreMarkers:!0})?Wk(A,E,O,U.parent):qk(A,E,O,U.parent))}(u,b,w),a.removeDisallowedAttributes(b.parent.getChildren(),u)),dm(u,e,b),!t.doNotAutoparagraph&&function(A,E){const O=A.checkChild(E,"$text"),z=A.checkChild(E,"paragraph");return!O&&z}(a,b)&&cm(u,b,e,f),b.detach(),w.detach()})}function qk(r,e,t,n){const a=e.parent,u=t.parent;if(a!=n&&u!=n){for(e=r.createPositionAfter(a),(t=r.createPositionBefore(u)).isEqual(e)||r.insert(u,e),r.merge(e);t.parent.isEmpty;){const f=t.parent;t=r.createPositionBefore(f),r.remove(f)}yg(r.model.schema,e,t)&&qk(r,e,t,n)}}function Wk(r,e,t,n){const a=e.parent,u=t.parent;if(a!=n&&u!=n){for(e=r.createPositionAfter(a),(t=r.createPositionBefore(u)).isEqual(e)||r.insert(a,t);e.parent.isEmpty;){const f=e.parent;e=r.createPositionBefore(f),r.remove(f)}t=r.createPositionBefore(u),function(f,b){const w=b.nodeBefore,A=b.nodeAfter;w.name!=A.name&&f.rename(w,A.name),f.clearAttributes(w),f.setAttributes(Object.fromEntries(A.getAttributes()),w),f.merge(b)}(r,t),yg(r.model.schema,e,t)&&Wk(r,e,t,n)}}function yg(r,e,t){const n=e.parent,a=t.parent;return n!=a&&!r.isLimit(n)&&!r.isLimit(a)&&function(u,f,b){const w=new Je(u,f);for(const A of w.getWalker())if(b.isLimit(A.item))return!1;return!0}(e,t,r)}function cm(r,e,t,n={}){const a=r.createElement("paragraph");r.model.schema.setAllowedAttributes(a,n,r),r.insert(a,e),dm(r,t,r.createPositionAt(a,0))}function dm(r,e,t){e instanceof fa?r.setSelection(t):e.setTo(t)}function If(r,e){const t=[];Array.from(r.getItems({direction:"backward"})).map(n=>e.createRangeOn(n)).filter(n=>(n.start.isAfter(r.start)||n.start.isEqual(r.start))&&(n.end.isBefore(r.end)||n.end.isEqual(r.end))).forEach(n=>{t.push(n.start.parent),e.remove(n)}),t.forEach(n=>{let a=n;for(;a.parent&&a.isEmpty;){const u=e.createRangeOn(a);a=a.parent,e.remove(u)}})}class Gw{constructor(e,t,n){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(e);if(n.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new q("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Je._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Je(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let t=this._checkAndAutoParagraphToAllowedPosition(e);t||(t=this._checkAndSplitToAllowedPosition(e),t)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Hs.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new q("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Hs.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Hs.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof ui)||!this._canMergeLeft(e))return;const t=Hs._createBefore(e);t.stickiness="toNext";const n=Hs.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=Hs._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Hs._createAt(t.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof ui)||!this._canMergeRight(e))return;const t=Hs._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new q("insertcontent-invalid-insertion-position",this);this.position=At._createAt(t.nodeBefore,"end");const n=Hs.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=Hs._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Hs._createAt(t.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof ui&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof ui&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===t&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const n=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=n,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function um(r,e,t,n={}){if(!r.schema.isObject(e))throw new q("insertobject-element-not-an-object",r,{object:e});const a=t||r.document.selection;let u=a;n.findOptimalPosition&&r.schema.isBlock(e)&&(u=r.createSelection(r.schema.findOptimalInsertionRange(a,n.findOptimalPosition)));const f=Un(a.getSelectedBlocks()),b={};return f&&Object.assign(b,r.schema.getAttributesWithProperty(f,"copyOnReplace",!0)),r.change(w=>{u.isCollapsed||r.deleteContent(u,{doNotAutoparagraph:!0});let A=e;const E=u.anchor.parent;!r.schema.checkChild(E,e)&&r.schema.checkChild(E,"paragraph")&&r.schema.checkChild("paragraph",e)&&(A=w.createElement("paragraph"),w.insert(e,A)),r.schema.setAllowedAttributes(A,b,w);const O=r.insertContent(A,u);return O.isCollapsed||n.setSelection&&function(z,U,W,X){const ae=z.model;if(W=="on")return void z.setSelection(U,"on");if(W!="after")throw new q("insertobject-invalid-place-parameter-value",ae);let ge=U.nextSibling;if(ae.schema.isInline(U))return void z.setSelection(U,"after");!(ge&&ae.schema.checkChild(ge,"$text"))&&ae.schema.checkChild(U.parent,"paragraph")&&(ge=z.createElement("paragraph"),ae.schema.setAllowedAttributes(ge,X,z),ae.insertContent(ge,z.createPositionAfter(U))),ge&&z.setSelection(ge,0)}(w,e,n.setSelection,b),O})}const Kw=' ,.?!:;"-()';function Yk(r,e){const{isForward:t,walker:n,unit:a,schema:u,treatEmojiAsSingleUnit:f}=r,{type:b,item:w,nextPosition:A}=e;if(b=="text")return r.unit==="word"?function(E,O){let z=E.position.textNode;for(z||(z=O?E.position.nodeAfter:E.position.nodeBefore);z&&z.is("$text");){const U=E.position.offset-z.startOffset;if(Qk(z,U,O))z=O?E.position.nodeAfter:E.position.nodeBefore;else{if(Kk(z.data,U,O))break;E.next()}}return E.position}(n,t):function(E,O,z){const U=E.position.textNode;if(U){const W=U.data;let X=E.position.offset-U.startOffset;for(;Ms(W,X)||O=="character"&&Al(W,X)||z&&Dh(W,X);)E.next(),X=E.position.offset-U.startOffset}return E.position}(n,a,f);if(b==(t?"elementStart":"elementEnd")){if(u.isSelectable(w))return At._createAt(w,t?"after":"before");if(u.checkChild(A,"$text"))return A}else{if(u.isLimit(w))return void n.skip(()=>!0);if(u.checkChild(A,"$text"))return A}}function Gk(r,e){const t=r.root,n=At._createAt(t,e?"end":0);return e?new Je(r,n):new Je(n,r)}function Kk(r,e,t){const n=e+(t?0:-1);return Kw.includes(r.charAt(n))}function Qk(r,e,t){return e===(t?r.offsetSize:0)}class xg extends Oe(){constructor(){super(),this.markers=new om,this.document=new $w(this),this.schema=new Zi,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),bk(this),this.document.registerPostFixer(mc),this.on("insertContent",(e,[t,n])=>{e.return=function(a,u,f){return a.change(b=>{const w=f||a.document.selection;w.isCollapsed||a.deleteContent(w,{doNotAutoparagraph:!0});const A=new Gw(a,b,w.anchor),E=[];let O;if(u.is("documentFragment")){if(u.markers.size){const W=[];for(const[X,ae]of u.markers){const{start:ge,end:Me}=ae,Ze=ge.isEqual(Me);W.push({position:ge,name:X,isCollapsed:Ze},{position:Me,name:X,isCollapsed:Ze})}W.sort(({position:X},{position:ae})=>X.isBefore(ae)?1:-1);for(const{position:X,name:ae,isCollapsed:ge}of W){let Me=null,Ze=null;const pt=X.parent===u&&X.isAtStart,Vt=X.parent===u&&X.isAtEnd;pt||Vt?ge&&(Ze=pt?"start":"end"):(Me=b.createElement("$marker"),b.insert(Me,X)),E.push({name:ae,element:Me,collapsed:Ze})}}O=u.getChildren()}else O=[u];A.handleNodes(O);let z=A.getSelectionRange();if(u.is("documentFragment")&&E.length){const W=z?dr.fromRange(z):null,X={};for(let ae=E.length-1;ae>=0;ae--){const{name:ge,element:Me,collapsed:Ze}=E[ae],pt=!X[ge];if(pt&&(X[ge]=[]),Me){const Vt=b.createPositionAt(Me,"before");X[ge].push(Vt),b.remove(Me)}else{const Vt=A.getAffectedRange();if(!Vt){Ze&&X[ge].push(A.position);continue}Ze?X[ge].push(Vt[Ze]):X[ge].push(pt?Vt.start:Vt.end)}}for(const[ae,[ge,Me]]of Object.entries(X))ge&&Me&&ge.root===Me.root&&ge.root.document&&!b.model.markers.has(ae)&&b.addMarker(ae,{usingOperation:!0,affectsData:!0,range:new Je(ge,Me)});W&&(z=W.toRange(),W.detach())}z&&(w instanceof fa?b.setSelection(z):w.setTo(z));const U=A.getAffectedRange()||a.createRange(w.anchor);return A.destroy(),U})}(this,t,n)}),this.on("insertObject",(e,[t,n,a])=>{e.return=um(this,t,n,a)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new nh,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){q.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new nh):e instanceof nh||(e=new nh(e)):e=new nh,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(n){q.rethrowUnexpectedError(n,this)}}applyOperation(e){e._execute()}insertContent(e,t,n,...a){const u=Of(t,n);return this.fire("insertContent",[e,u,n,...a])}insertObject(e,t,n,a,...u){const f=Of(t,n);return this.fire("insertObject",[e,f,a,a,...u])}deleteContent(e,t){lm(this,e,t)}modifySelection(e,t){(function(n,a,u={}){const f=n.schema,b=u.direction!="backward",w=u.unit?u.unit:"character",A=!!u.treatEmojiAsSingleUnit,E=a.focus,O=new ao({boundaries:Gk(E,b),singleCharacters:!0,direction:b?"forward":"backward"}),z={walker:O,schema:f,isForward:b,unit:w,treatEmojiAsSingleUnit:A};let U;for(;U=O.next();){if(U.done)return;const W=Yk(z,U.value);if(W)return void(a instanceof fa?n.change(X=>{X.setSelectionFocus(W)}):a.setFocus(W))}})(this,e,t)}getSelectedContent(e){return function(t,n){return t.change(a=>{const u=a.createDocumentFragment(),f=n.getFirstRange();if(!f||f.isCollapsed)return u;const b=f.start.root,w=f.start.getCommonPath(f.end),A=b.getNodeByPath(w);let E;E=f.start.parent==f.end.parent?f:a.createRange(a.createPositionAt(A,f.start.path[w.length]),a.createPositionAt(A,f.end.path[w.length]+1));const O=E.end.offset-E.start.offset;for(const z of E.getItems({shallow:!0}))z.is("$textProxy")?a.appendText(z.data,z.getAttributes(),u):a.append(a.cloneElement(z,!0),u);if(E!=f){const z=f._getTransformedByMove(E.start,a.createPositionAt(u,0),O)[0],U=a.createRange(a.createPositionAt(u,0),z.start);If(a.createRange(z.end,a.createPositionAt(u,"end")),a),If(U,a)}return u})}(this,e)}hasContent(e,t={}){const n=e instanceof Je?e:Je._createIn(e);if(n.isCollapsed)return!1;const{ignoreWhitespaces:a=!1,ignoreMarkers:u=!1}=t;if(!u){for(const f of this.markers.getMarkersIntersectingRange(n))if(f.affectsData)return!0}for(const f of n.getItems())if(this.schema.isContent(f)&&(!f.is("$textProxy")||!a||f.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const t=Of(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,n){return new At(e,t,n)}createPositionAt(e,t){return At._createAt(e,t)}createPositionAfter(e){return At._createAfter(e)}createPositionBefore(e){return At._createBefore(e)}createRange(e,t){return new Je(e,t)}createRangeIn(e){return Je._createIn(e)}createRangeOn(e){return Je._createOn(e)}createSelection(...e){return new vs(...e)}createBatch(e){return new nh(e)}createOperationFromJSON(e){return Fs.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new _g(this,t);const n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function Of(r,e){if(r)return r instanceof vs||r instanceof fa?r:r instanceof Xc?e||e===0?new vs(r,e):r.is("rootElement")?new vs(r,"in"):new vs(r,"on"):new vs(r)}class Lf extends El{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class Cg extends El{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class bc{constructor(e){this.document=e}createDocumentFragment(e){return new Gc(this.document,e)}createElement(e,t,n){return new $o(this.document,e,t,n)}createText(e){return new ki(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,n){return n._insertChild(e,t)}removeChildren(e,t,n){return n._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const n=e.parent;if(n){const a=n.getChildIndex(e);return this.removeChildren(a,1,n),this.insertChild(a,t,n),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const n=t.getChildIndex(e);this.remove(e),this.insertChild(n,e.getChildren(),t)}}rename(e,t){const n=new $o(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){Re(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return Rt._createAt(e,t)}createPositionAfter(e){return Rt._createAfter(e)}createPositionBefore(e){return Rt._createBefore(e)}createRange(e,t){return new Cn(e,t)}createRangeOn(e){return Cn._createOn(e)}createRangeIn(e){return Cn._createIn(e)}createSelection(...e){return new ca(...e)}}class Ag{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const n=this.get(e);if(!n)throw new q("commandcollection-command-not-found",this,{commandName:e});return n.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}var Ng=Object.defineProperty,hm=Object.getOwnPropertySymbols,Eg=Object.prototype.hasOwnProperty,Zk=Object.prototype.propertyIsEnumerable,Bf=(r,e,t)=>e in r?Ng(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;const Ml="contentEditing",kc="common";class od{constructor(e){this.keystrokeInfos=new Map,this._editor=e;const t=e.config.get("menuBar.isVisible"),n=e.locale.t;this.addKeystrokeInfoCategory({id:Ml,label:n("Content editing keystrokes"),description:n("These keyboard shortcuts allow for quick access to content editing features.")});const a=[{label:n("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:n("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:n("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:n("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:n("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:n("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];t&&a.push({label:n("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:n("User interface and content navigation keystrokes"),description:n("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:a}]})}addKeystrokeInfoCategory({id:e,label:t,description:n,groups:a}){this.keystrokeInfos.set(e,{id:e,label:t,description:n,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:kc}),a&&a.forEach(u=>{this.addKeystrokeInfoGroup(((f,b)=>{for(var w in b||(b={}))Eg.call(b,w)&&Bf(f,w,b[w]);if(hm)for(var w of hm(b))Zk.call(b,w)&&Bf(f,w,b[w]);return f})({categoryId:e},u))})}addKeystrokeInfoGroup({categoryId:e=Ml,id:t,label:n,keystrokes:a}){const u=this.keystrokeInfos.get(e);if(!u)throw new q("accessibility-unknown-keystroke-info-category",this._editor,{groupId:t,categoryId:e});u.groups.set(t,{id:t,label:n,keystrokes:a||[]})}addKeystrokeInfos({categoryId:e=Ml,groupId:t=kc,keystrokes:n}){if(!this.keystrokeInfos.has(e))throw new q("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:n});const a=this.keystrokeInfos.get(e);if(!a.groups.has(t))throw new q("accessibility-unknown-keystroke-info-group",this._editor,{groupId:t,categoryId:e,keystrokes:n});a.groups.get(t).keystrokes.push(...n)}}var ah=Object.getOwnPropertySymbols,mm=Object.prototype.hasOwnProperty,ad=Object.prototype.propertyIsEnumerable,Xk=(r,e)=>{var t={};for(var n in r)mm.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&ah)for(var n of ah(r))e.indexOf(n)<0&&ad.call(r,n)&&(t[n]=r[n]);return t};class Jk extends Oe(){constructor(e={}){super();const t=this.constructor,n=t.defaultConfig||{},{translations:a}=n,u=Xk(n,["translations"]),f=e,{translations:b=a}=f,w=Xk(f,["translations"]),A=e.language||u.language;this._context=e.context||new Tr({language:A,translations:b}),this._context._addEditor(this,!e.context);const E=Array.from(t.builtinPlugins||[]);this.config=new Xa(w,u),this.config.define("plugins",E),this.config.define(this._context._getEditorConfig()),this.plugins=new _n(this,E,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new Ag,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new xg,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const O=new Hb;this.data=new ag(this.model,O),this.editing=new kk(this.model,O),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new lg([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new is(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new od(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new q("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new q("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new q("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],a=e.get("extraPlugins")||[],u=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(a),n,u)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(n){q.rethrowUnexpectedError(n,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function ru(r){return class extends r{updateSourceElement(e){if(!this.sourceElement)throw new q("editor-missing-sourceelement",this);const t=this.config.get("updateSourceElementOnDestroy"),n=this.sourceElement instanceof HTMLTextAreaElement;if(!t&&!n)return void es(this.sourceElement,"");const a=typeof e=="string"?e:this.data.get();es(this.sourceElement,a)}}}ru.updateSourceElement=ru(Object).prototype.updateSourceElement;class e_ extends Mr{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Fo({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new q("pendingactions-add-invalid-message",this);const t=new(Oe());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Mn={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var fm=h(7801),t_={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(fm.A,t_),fm.A.locals;class Rf extends St{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${ee()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}class Pf extends St{constructor(e,t){super(e);const n=e.t,a=new Rf;a.text=n("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":a.id,role:"document",tabindex:-1},children:[di(document,"p",{},n("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(t.values())),a]})}focus(){this.element.focus()}_createCategories(e){return e.map(t=>{const n=[di(document,"h3",{},t.label),...Array.from(t.groups.values()).map(a=>this._createGroup(a)).flat()];return t.description&&n.splice(1,0,di(document,"p",{},t.description)),di(document,"section",{},n)})}_createGroup(e){const t=e.keystrokes.sort((a,u)=>a.label.localeCompare(u.label)).map(a=>this._createGroupRow(a)).flat(),n=[di(document,"dl",{},t)];return e.label&&n.unshift(di(document,"h4",{},e.label)),n}_createGroupRow(e){const t=this.locale.t,n=di(document,"dt"),a=di(document,"dd"),u=function(b){return typeof b=="string"?[[b]]:typeof b[0]=="string"?[b]:b}(e.keystroke),f=[];for(const b of u)f.push(b.map(zf).join(""));return n.innerHTML=e.label,a.innerHTML=f.join(", ")+(e.mayRequireFn&&S.isMac?` ${t("(may require <kbd>Fn</kbd>)")}`:""),[n,a]}}function zf(r){return sn(r).split("+").map(e=>`<kbd>${e}</kbd>`).join("+")}const Sg='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var lh=h(8527),jg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(lh.A,jg),lh.A.locals;class Ff extends lt{constructor(){super(...arguments),this.contentView=null}static get requires(){return[ou]}static get pluginName(){return"AccessibilityHelp"}init(){const e=this.editor,t=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const n=this._createButton(P);return n.set({tooltip:!0,withText:!1,label:t("Accessibility help")}),n}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const n=this._createButton(cl);return n.label=t("Accessibility"),n}),e.keystrokes.set("Alt+0",(n,a)=>{this._showDialog(),a()}),this._setupRootLabels()}_createButton(e){const t=new e(this.editor.locale);return t.set({keystroke:"Alt+0",icon:Sg}),t.on("execute",()=>this._showDialog()),t}_setupRootLabels(){const e=this.editor,t=e.editing.view,n=e.t;function a(u,f){const b=`${f.getAttribute("aria-label")}. ${n("Press %0 for help.",[sn("Alt+0")])}`;u.setAttribute("aria-label",b,f)}e.ui.on("ready",()=>{t.change(u=>{for(const f of t.document.roots)a(u,f)}),e.on("addRoot",(u,f)=>{const b=e.editing.view.document.getRoot(f.rootName);t.change(w=>a(w,b))},{priority:"low"})})}_showDialog(){const e=this.editor,t=e.plugins.get("Dialog"),n=e.locale.t;this.contentView||(this.contentView=new Pf(e.locale,e.accessibility.keystrokeInfos)),t.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:n("Accessibility help"),icon:Sg,hasCloseButton:!0,content:this.contentView})}}class n_ extends Ho{constructor(e,t=[]){super(t),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Vo({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=di(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var i_=h(7621),Hf={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(i_.A,Hf),i_.A.locals;const d=class extends St{constructor(){super();const r=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",r.if("isVisible","ck-hidden",e=>!e),"ck-reset_all-excluded",r.if("isColorInherited","ck-icon_inherit-color")],viewBox:r.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const r=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=r.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:t,value:n}of Array.from(r.attributes))d.presentationalAttributeNames.includes(t)&&this.element.setAttribute(t,n);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;r.childNodes.length>0;)this.element.appendChild(r.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(r=>{r.style.fill=this.fillColor})}};let m=d;m.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class k extends St{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var C=h(9715),M={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(C.A,M),C.A.locals;class P extends St{constructor(e,t=new k){super(e),this._focusDelayed=null;const n=this.bindTemplate,a=ee();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${a}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new m,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const u={tag:"button",attributes:{class:["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",f=>!f),n.if("isVisible","ck-hidden",f=>!f),n.to("isOn",f=>f?"ck-on":"ck-off"),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],role:n.to("role"),type:n.to("type",f=>f||"button"),tabindex:n.to("tabindex"),"aria-checked":n.to("ariaChecked"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy"),"aria-disabled":n.if("isEnabled",!0,f=>!f),"aria-pressed":n.to("isOn",f=>!!this.isToggleable&&String(!!f)),"data-cke-tooltip-text":n.to("_tooltipString"),"data-cke-tooltip-position":n.to("tooltipPosition")},children:this.children,on:{click:n.to(f=>{this.isEnabled?this.fire("execute"):f.preventDefault()})}};S.isSafari&&(this._focusDelayed||(this._focusDelayed=oa(()=>this.focus(),0)),u.on.mousedown=n.to(()=>{this._focusDelayed()}),u.on.mouseup=n.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(u)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new St;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>sn(t))}]}),e}_getTooltipString(e,t,n){return e?typeof e=="string"?e:(n&&(n=sn(n)),e instanceof Function?e(t,n):`${t}${n?` (${n})`:""}`):""}}var J=h(4391),ce={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(J.A,ce),J.A.locals;class Ne extends P{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new St;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class Xe extends P{constructor(e){super(e),this.buttonView=this,this._fileInputView=new gt(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class gt extends St{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const vt='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var tt=h(25),it={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(tt.A,it),tt.A.locals;class In extends St{constructor(e,t){super(e);const n=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),t&&this.children.addMany(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",n.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:n.if("isCollapsed","hidden"),"aria-labelledby":n.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new P(this.locale),t=e.bindTemplate;return e.set({withText:!0,icon:vt}),e.extendTemplate({attributes:{"aria-expanded":t.to("isOn",n=>String(n))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",n=>!n),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}var kn=h(7317),Vi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(kn.A,Vi),kn.A.locals,h(6931),h(9047);var Ue=h(4962),Be={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(Ue.A,Be),Ue.A.locals;class Ke extends St{constructor(e,t){super(e);const n=`ck-labeled-field-view-${ee()}`,a=`ck-labeled-field-view-status-${ee()}`;this.fieldView=t(this,n,a),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(a),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(f,b)=>f||b);const u=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",u.to("class"),u.if("isEnabled","ck-disabled",f=>!f),u.if("isEmpty","ck-labeled-field-view_empty"),u.if("isFocused","ck-labeled-field-view_focused"),u.if("placeholder","ck-labeled-field-view_placeholder"),u.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new Rf(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new St(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",a=>!a)],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}}class _t extends St{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new mr,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),tabindex:t.to("tabIndex"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById"),"aria-label":t.to("ariaLabel")},on:{input:t.to((...n)=>{this.fire("input",...n),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,n)=>{this._setDomElementValue(n),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}var on=h(253),ei={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(on.A,ei),on.A.locals;class un extends _t{constructor(e){super(e),this.set("inputMode","text");const t=this.bindTemplate;this.extendTemplate({attributes:{inputmode:t.to("inputMode")}})}}class An extends un{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var os=h(1671),Ci={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(os.A,Ci),os.A.locals;class ld extends St{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",n=>`ck-dropdown__panel_${n}`),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to(n=>{n.target.tagName.toLocaleLowerCase()!=="input"&&n.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():de("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var r_=h(8149),uB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(r_.A,uB),r_.A.locals;const Qw=class extends St{constructor(r,e,t){super(r);const n=this.bindTemplate;this.buttonView=e,this.panelView=t,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new fr,this.focusTracker=new mr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",n.to("class"),n.if("isEnabled","ck-disabled",a=>!a)],id:n.to("id"),"aria-describedby":n.to("ariaDescribedById")},children:[e,t]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":n.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(e,t,n)=>{if(n)if(this.panelPosition==="auto"){const a=Qw._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=a?a.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const r=(e,t)=>{this.isOpen&&(this.isOpen=!1,t())};this.keystrokes.set("arrowdown",(e,t)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,t())}),this.keystrokes.set("arrowright",(e,t)=>{this.isOpen&&t()}),this.keystrokes.set("arrowleft",r),this.keystrokes.set("esc",r)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:r,north:e,southEast:t,southWest:n,northEast:a,northWest:u,southMiddleEast:f,southMiddleWest:b,northMiddleEast:w,northMiddleWest:A}=Qw.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[t,n,f,b,r,a,u,w,A,e]:[n,t,b,f,r,u,a,A,w,e]}};let Zw=Qw;Zw.defaultPanelPositions={south:(r,e)=>({top:r.bottom,left:r.left-(e.width-r.width)/2,name:"s"}),southEast:r=>({top:r.bottom,left:r.left,name:"se"}),southWest:(r,e)=>({top:r.bottom,left:r.left-e.width+r.width,name:"sw"}),southMiddleEast:(r,e)=>({top:r.bottom,left:r.left-(e.width-r.width)/4,name:"sme"}),southMiddleWest:(r,e)=>({top:r.bottom,left:r.left-3*(e.width-r.width)/4,name:"smw"}),north:(r,e)=>({top:r.top-e.height,left:r.left-(e.width-r.width)/2,name:"n"}),northEast:(r,e)=>({top:r.top-e.height,left:r.left,name:"ne"}),northWest:(r,e)=>({top:r.top-e.height,left:r.left-e.width+r.width,name:"nw"}),northMiddleEast:(r,e)=>({top:r.top-e.height,left:r.left-(e.width-r.width)/4,name:"nme"}),northMiddleWest:(r,e)=>({top:r.top-e.height,left:r.left-3*(e.width-r.width)/4,name:"nmw"})},Zw._getOptimalPosition=Ds;class hB extends P{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new m;return e.content=vt,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class Il extends he(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let n=e.actions[t];typeof n=="string"&&(n=[n]);for(const a of n)e.keystrokeHandler.set(a,(u,f)=>{this[t](),f()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(Xw)||null}get last(){return this.focusables.filter(Xw).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,n)=>{const a=t.element===this.focusTracker.focusedElement;return a&&(e=n),a}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}_focus(e,t){e&&this.focusTracker.focusedElement!==e.element&&e.focus(t)}_getDomFocusableItem(e){const t=this.focusables.length;if(!t)return null;const n=this.current;if(n===null)return this[e===1?"first":"last"];let a=this.focusables.get(n),u=(n+t+e)%t;do{const f=this.focusables.get(u);if(Xw(f)){a=f;break}u=(u+t+e)%t}while(u!==n);return a}}function Xw(r){return Dg(r)&&ur(r.element)}function Dg(r){return!(!("focus"in r)||typeof r.focus!="function")}class _1 extends St{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class mB extends St{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var fB=Object.defineProperty,v1=Object.getOwnPropertySymbols,pB=Object.prototype.hasOwnProperty,gB=Object.prototype.propertyIsEnumerable,w1=(r,e,t)=>e in r?fB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,y1=(r,e)=>{for(var t in e||(e={}))pB.call(e,t)&&w1(r,t,e[t]);if(v1)for(var t of v1(e))gB.call(e,t)&&w1(r,t,e[t]);return r};function x1(r){if(Array.isArray(r))return{items:r,removeItems:[]};const e={items:[],removeItems:[]};return r?y1(y1({},e),r):e}var C1=h(9677),bB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(C1.A,bB),C1.A.locals;const kB={alignLeft:Mn.alignLeft,bold:Mn.bold,importExport:Mn.importExport,paragraph:Mn.paragraph,plus:Mn.plus,text:Mn.text,threeVerticalDots:Mn.threeVerticalDots,pilcrow:Mn.pilcrow,dragIndicator:Mn.dragIndicator};class Jw extends St{constructor(e,t){super(e);const n=this.bindTemplate,a=this.t;this.options=t||{},this.set("ariaLabel",a("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new mr,this.keystrokes=new fr,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new _B(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const u=e.uiLanguageDirection==="rtl";this._focusCycler=new Il({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[u?"arrowright":"arrowleft","arrowup"],focusNext:[u?"arrowleft":"arrowright","arrowdown"]}});const f=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];var b;this.options.shouldGroupWhenFull&&this.options.isFloating&&f.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:f,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(b=this,b.bindTemplate.to(w=>{w.target===b.element&&w.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new wB(this):new vB(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,n){this.items.addMany(this._buildItemsFromConfig(e,t,n))}_buildItemsFromConfig(e,t,n){const a=x1(e),u=n||a.removeItems;return this._cleanItemsConfiguration(a.items,t,u).map(f=>pe(f)?this._createNestedToolbarDropdown(f,t,u):f==="|"?new _1:f==="-"?new mB:t.create(f)).filter(f=>!!f)}_cleanItemsConfiguration(e,t,n){const a=e.filter((u,f,b)=>u==="|"||n.indexOf(u)===-1&&(u==="-"?!this.options.shouldGroupWhenFull||(de("toolbarview-line-break-ignored-when-grouping-items",b),!1):!(!pe(u)&&!t.has(u))||(de("toolbarview-item-unavailable",{item:u}),!1)));return this._cleanSeparatorsAndLineBreaks(a)}_cleanSeparatorsAndLineBreaks(e){const t=f=>f!=="-"&&f!=="|",n=e.length,a=e.findIndex(t);if(a===-1)return[];const u=n-e.slice().reverse().findIndex(t);return e.slice(a,u).filter((f,b,w)=>t(f)?!0:!(b>0&&w[b-1]===f))}_createNestedToolbarDropdown(e,t,n){let{label:a,icon:u,items:f,tooltip:b=!0,withText:w=!1}=e;if(f=this._cleanItemsConfiguration(f,t,n),!f.length)return null;const A=su(this.locale);return a||de("toolbarview-nested-toolbar-dropdown-missing-label",e),A.class="ck-toolbar__nested-toolbar-dropdown",A.buttonView.set({label:a,tooltip:b,withText:!!w}),u!==!1?A.buttonView.icon=kB[u]||u||Mn.threeVerticalDots:A.buttonView.withText=!0,ny(A,()=>A.toolbarView._buildItemsFromConfig(f,t,n)),A}}class _B extends St{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class vB{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(n=>n),e.focusables.bindTo(e.items).using(n=>Dg(n)?n:null),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class wB{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(t,n)=>{const a=n.index,u=Array.from(n.added);for(const f of n.removed)a>=this.ungroupedItems.length?this.groupedItems.remove(f):this.ungroupedItems.remove(f);for(let f=a;f<a+u.length;f++){const b=u[f-a];f>this.ungroupedItems.length?this.groupedItems.add(b,f-this.ungroupedItems.length):this.ungroupedItems.add(b,f)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!ur(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new pn(e.lastChild),a=new pn(e);if(!this.cachedPadding){const u=y.window.getComputedStyle(e),f=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(u[f])}return t==="ltr"?n.right>a.right-this.cachedPadding:n.left<a.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new yo(this.viewElement,t=>{e&&e===t.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new _1),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,n=su(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",ny(n,this.groupedItems),n.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:Mn.threeVerticalDots}),n}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{Dg(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class Vf extends St{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",n=>!n)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class ey extends St{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class s_ extends St{constructor(e,t=new Rf){super(e);const n=this.bindTemplate,a=new ty(e);this.set({label:"",isVisible:!0}),this.labelView=t,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,a]),a.set({role:"group",ariaLabelledBy:t.id}),a.focusTracker.destroy(),a.keystrokes.destroy(),this.items=a.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",n.if("isVisible","ck-hidden",u=>!u)]},children:this.children})}focus(){if(this.items){const e=this.items.find(t=>!(t instanceof ey));e&&e.focus()}}}var A1=h(5199),yB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(A1.A,yB),A1.A.locals;class ty extends St{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const t=this.bindTemplate;this.focusables=new Ho,this.items=this.createCollection(),this.focusTracker=new mr,this.keystrokes=new fr,this._focusCycler=new Il({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof s_?this._registerFocusableItemsGroup(e):e instanceof Vf&&this._registerFocusableListItem(e);this.items.on("change",(e,t)=>{for(const n of t.removed)n instanceof s_?this._deregisterFocusableItemsGroup(n):n instanceof Vf&&this._deregisterFocusableListItem(n);for(const n of Array.from(t.added).reverse())n instanceof s_?this._registerFocusableItemsGroup(n,t.index):this._registerFocusableListItem(n,t.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,n)=>{for(const a of n.removed)this._deregisterFocusableListItem(a);for(const a of Array.from(n.added).reverse())this._registerFocusableListItem(a,this.items.getIndex(e)+n.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach((a,u)=>{const f=t!==void 0?t+u:void 0;this._registerFocusableListItem(a,f)});const n=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,n),e.items.on("change",n)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}var N1=h(1792),xB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(N1.A,xB),N1.A.locals;class o_ extends St{constructor(e,t){super(e);const n=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(t),this.arrowView=this._createArrowView(),this.keystrokes=new fr,this.focusTracker=new mr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",n.to("class"),n.if("isVisible","ck-hidden",a=>!a),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const t=e||new P;return e||t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const e=new P,t=e.bindTemplate;return e.icon=vt,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",n=>String(n))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var E1=h(1666),CB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(E1.A,CB),E1.A.locals;var S1=h(3629),AB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(S1.A,AB),S1.A.locals;function su(r,e=hB){const t=typeof e=="function"?new e(r):e,n=new ld(r),a=new Zw(r,t,n);return t.bind("isEnabled").to(a),t instanceof o_?t.arrowView.bind("isOn").to(a,"isOpen"):t.bind("isOn").to(a,"isOpen"),function(u){(function(f){f.on("render",()=>{xn({emitter:f,activator:()=>f.isOpen,callback:()=>{f.isOpen=!1},contextElements:()=>[f.element,...f.focusTracker._elements]})})})(u),function(f){f.on("execute",b=>{b.source instanceof Ne||(f.isOpen=!1)})}(u),function(f){f.focusTracker.on("change:isFocused",(b,w,A)=>{f.isOpen&&!A&&(f.isOpen=!1)})}(u),function(f){f.keystrokes.set("arrowdown",(b,w)=>{f.isOpen&&(f.panelView.focus(),w())}),f.keystrokes.set("arrowup",(b,w)=>{f.isOpen&&(f.panelView.focusLast(),w())})}(u),function(f){f.on("change:isOpen",(b,w,A)=>{if(A)return;const E=f.panelView.element;E&&E.contains(y.document.activeElement)&&f.buttonView.focus()})}(u),function(f){f.on("change:isOpen",(b,w,A)=>{A&&f.panelView.focus()},{priority:"low"})}(u)}(a),a}function ny(r,e,t={}){r.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),r.isOpen?j1(r,e,t):r.once("change:isOpen",()=>j1(r,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&M1(r,()=>r.toolbarView.items.find(n=>n.isOn))}function j1(r,e,t){const n=r.locale,a=n.t,u=r.toolbarView=new Jw(n),f=typeof e=="function"?e():e;u.ariaLabel=t.ariaLabel||a("Dropdown toolbar"),t.maxWidth&&(u.maxWidth=t.maxWidth),t.class&&(u.class=t.class),t.isCompact&&(u.isCompact=t.isCompact),t.isVertical&&(u.isVertical=!0),f instanceof Ho?u.items.bindTo(f).using(b=>b):u.items.addMany(f),r.panelView.children.add(u),u.items.delegate("execute").to(r)}function D1(r,e,t={}){r.isOpen?T1(r,e,t):r.once("change:isOpen",()=>T1(r,e,t),{priority:"highest"}),M1(r,()=>r.listView.items.find(n=>n instanceof Vf&&n.children.first.isOn))}function T1(r,e,t){const n=r.locale,a=r.listView=new ty(n),u=typeof e=="function"?e():e;a.ariaLabel=t.ariaLabel,a.role=t.role,I1(r,a.items,u,n),r.panelView.children.add(a),a.items.delegate("execute").to(r)}function M1(r,e){r.on("change:isOpen",()=>{if(!r.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():de("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:ne.low-10})}function I1(r,e,t,n){e.bindTo(t).using(a=>{if(a.type==="separator")return new ey(n);if(a.type==="group"){const u=new s_(n);return u.set({label:a.label}),I1(r,u.items,a.items,n),u.items.delegate("execute").to(r),u}if(a.type==="button"||a.type==="switchbutton"){const u=new Vf(n);let f;return a.type==="button"?(f=new P(n),f.bind("ariaChecked").to(f,"isOn")):f=new Ne(n),f.bind(...Object.keys(a.model)).to(a.model),f.delegate("execute").to(u),u.children.add(f),u}return null})}const a_=(r,e,t)=>{const n=new An(r.locale);return n.set({id:e,ariaDescribedById:t}),n.bind("isReadOnly").to(r,"isEnabled",a=>!a),n.bind("hasError").to(r,"errorText",a=>!!a),n.on("input",()=>{r.errorText=null}),r.bind("isEmpty","isFocused","placeholder").to(n),n};var O1=h(1905),NB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(O1.A,NB),O1.A.locals;var L1=h(6309),EB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(L1.A,EB),L1.A.locals;class SB{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(iy(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new q("componentfactory-item-missing",this,{name:e});return this._components.get(iy(e)).callback(this.editor.locale)}has(e){return this._components.has(iy(e))}}function iy(r){return String(r).toLowerCase()}var B1=h(7913),jB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(B1.A,jB),B1.A.locals;class DB extends St{constructor(e,t={}){super(e);const n=this.bindTemplate;this.set("label",t.label||""),this.set("class",t.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",n.to("class")]},children:this.children}),t.icon&&(this.iconView=new m,this.iconView.content=t.icon,this.children.add(this.iconView));const a=new St(e);a.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:n.to("label")}]}),this.children.add(a)}}var R1=h(9822),TB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(R1.A,TB),R1.A.locals;class MB extends St{constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new fr,this._focusTracker=new mr,this._focusables=new Ho,this.focusCycler=new Il({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const t of e){const n=new P(this.locale);let a;for(a in n.on("execute",()=>t.onExecute()),t.onCreate&&t.onCreate(n),t)a!="onExecute"&&a!="onCreate"&&n.set(a,t[a]);this.children.add(n)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class IB extends St{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var P1=h(9819),OB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(P1.A,OB),P1.A.locals;const l_="screen-center",z1="editor-center",LB="editor-top-side",BB="editor-top-center",RB="editor-bottom-center",PB="editor-above-center",zB="editor-below-center",F1=xo("px"),H1=class extends function(r){return class extends r{constructor(...e){super(...e),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(y.document,"mouseup",this._onDragEndBound),this.listenTo(y.document,"touchend",this._onDragEndBound),this.listenTo(y.document,"mousemove",this._onDragBound),this.listenTo(y.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(y.document,"mouseup",this._onDragEndBound),this.stopListening(y.document,"touchend",this._onDragEndBound),this.stopListening(y.document,"mousemove",this._onDragBound),this.stopListening(y.document,"touchmove",this._onDragBound)}_onDragStart(e,t){if(!this._isHandleElementPressed(t))return;this._attachDragListeners();let n=0,a=0;t instanceof MouseEvent?(n=t.clientX,a=t.clientY):(n=t.touches[0].clientX,a=t.touches[0].clientY),this._lastDraggingCoordinates={x:n,y:a},this.isDragging=!0}_onDrag(e,t){if(!this.isDragging)return void this._detachDragListeners();let n=0,a=0;t instanceof MouseEvent?(n=t.clientX,a=t.clientY):(n=t.touches[0].clientX,a=t.touches[0].clientY),t.preventDefault(),this.fire("drag",{deltaX:Math.round(n-this._lastDraggingCoordinates.x),deltaY:Math.round(a-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:n,y:a}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(e){return!!this.dragHandleElement&&(this.dragHandleElement===e.target||e.target instanceof HTMLElement&&this.dragHandleElement.contains(e.target))}}}(St){constructor(r,{getCurrentDomRoot:e,getViewportOffset:t}){super(r),this.wasMoved=!1;const n=this.bindTemplate,a=r.t;this.set("className",""),this.set("ariaLabel",a("Editor dialog")),this.set("isModal",!1),this.set("position",l_),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=e,this._getViewportOffset=t,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new fr,this.focusTracker=new mr,this._focusables=new Ho,this._focusCycler=new Il({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",n.if("isModal","ck-dialog-overlay__transparent",u=>!u),n.if("_isVisible","ck-hidden",u=>!u)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",n.to("className")],role:"dialog","aria-label":n.to("ariaLabel"),style:{top:n.to("_top",u=>F1(u)),left:n.to("_left",u=>F1(u)),visibility:n.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(r,e)=>{this.fire("close",{source:"escKeyPress"}),e()}),this.on("drag",(r,{deltaX:e,deltaY:t})=>{this.wasMoved=!0,this.moveBy(e,t)}),this.listenTo(y.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(y.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(r,e,t)=>{t&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:r,title:e,hasCloseButton:t=!0,content:n,actionButtons:a}){e&&(this.headerView=new DB(this.locale,{icon:r}),t&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=e,this.ariaLabel=e,this.parts.add(this.headerView,0)),n&&(n instanceof St&&(n=[n]),this.contentView=new IB(this.locale),this.contentView.children.addMany(n),this.parts.add(this.contentView)),a&&(this.actionsView=new MB(this.locale),this.actionsView.setButtons(a),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(r,e){const t=this._getViewportRect(),n=this._getDialogRect();r+n.width>t.right&&(r=t.right-n.width),r<t.left&&(r=t.left),e<t.top&&(e=t.top),this._moveTo(r,e)}_moveTo(r,e){this._left=r,this._top=e}moveBy(r,e){this.moveTo(this._left+r,this._top+e)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const r=this._getViewportRect();let e,t=this.position;this._getCurrentDomRoot()?e=this._getVisibleDomRootRect(r):t=l_;const n=H1.defaultOffset,a=this._getDialogRect();switch(t){case LB:if(e){const u=this.locale.contentLanguageDirection==="ltr"?e.right-a.width-n:e.left+n;this.moveTo(u,e.top+n)}else this._moveOffScreen();break;case z1:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),Math.round(e.top+e.height/2-a.height/2)):this._moveOffScreen();break;case l_:this.moveTo(Math.round((r.width-a.width)/2),Math.round((r.height-a.height)/2));break;case BB:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),e.top+n):this._moveOffScreen();break;case RB:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),e.bottom-a.height-n):this._moveOffScreen();break;case PB:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),e.top-a.height-n):this._moveOffScreen();break;case zB:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),e.bottom+n):this._moveOffScreen()}}_getVisibleDomRootRect(r){let e=new pn(this._getCurrentDomRoot()).getVisible();return e?(e=r.getIntersection(e),e||null):null}_getDialogRect(){return new pn(this.element.firstElementChild)}_getViewportRect(){return function(r){r=Object.assign({top:0,bottom:0,left:0,right:0},r);const e=new pn(y.window);return e.top+=r.top,e.height-=r.top,e.bottom-=r.bottom,e.height-=r.bottom,e.left+=r.left,e.right-=r.right,e.width-=r.left+r.right,e}(this._getViewportOffset())}_updateFocusCyclableItems(){const r=[];if(this.contentView)for(const e of this.contentView.children)Dg(e)&&r.push(e);this.actionsView&&r.push(this.actionsView),this.closeButtonView&&r.push(this.closeButtonView),r.forEach(e=>{var t;this._focusables.add(e),this.focusTracker.add(e.element),Dg(t=e)&&"focusCycler"in t&&t.focusCycler instanceof Il&&(this.listenTo(e.focusCycler,"forwardCycle",n=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&n.stop()}),this.listenTo(e.focusCycler,"backwardCycle",n=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&n.stop()}))})}_createCloseButton(){const r=new P(this.locale),e=this.locale.t;return r.set({label:e("Close"),tooltip:!0,icon:Mn.cancel}),r.on("execute",()=>this.fire("close",{source:"closeButton"})),r}};let c_=H1;c_.defaultOffset=15;class ou extends lt{constructor(e){super(e);const t=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:t("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",(e,t)=>{this._show(t)}),this.on("show",(e,t)=>{t.onShow&&t.onShow(this)},{priority:"low"}),this.on("hide",()=>{ou._visibleDialogPlugin&&ou._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(t,n)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),n())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const t=e.document.differ.getChangedRoots();for(const n of t)n.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:t,title:n,hasCloseButton:a=!0,content:u,actionButtons:f,className:b,isModal:w,position:A,onHide:E}){const O=this.editor;this.view=new c_(O.locale,{getCurrentDomRoot:()=>O.editing.view.getDomRoot(O.model.document.selection.anchor.root.rootName),getViewportOffset:()=>O.ui.viewportOffset});const z=this.view;z.on("close",()=>{this.hide()}),O.ui.view.body.add(z),O.ui.focusTracker.add(z.element),O.keystrokes.listenTo(z.element),A||(A=w?l_:z1),z.set({position:A,_isVisible:!0,className:b,isModal:w}),z.setupParts({icon:t,title:n,hasCloseButton:a,content:u,actionButtons:f}),this.id=e,E&&(this._onHide=E),this.isOpen=!0,ou._visibleDialogPlugin=this}hide(){ou._visibleDialogPlugin&&ou._visibleDialogPlugin.fire(`hide:${ou._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,t=this.view;t.contentView&&t.contentView.reset(),e.ui.view.body.remove(t),e.ui.focusTracker.remove(t.element),e.keystrokes.stopListening(t.element),t.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,ou._visibleDialogPlugin=null}}var V1=h(3710),FB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(V1.A,FB),V1.A.locals;var HB=Object.defineProperty,U1=Object.getOwnPropertySymbols,VB=Object.prototype.hasOwnProperty,UB=Object.prototype.propertyIsEnumerable,$1=(r,e,t)=>e in r?HB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ji=(r,e)=>{for(var t in e||(e={}))VB.call(e,t)&&$1(r,t,e[t]);if(U1)for(var t of U1(e))UB.call(e,t)&&$1(r,t,e[t]);return r};const q1=xo("px"),W1=y.document.body,$B={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},ry=class extends St{constructor(r){super(r);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",t=>`ck-balloon-panel_${t}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",q1),left:e.to("left",q1)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(r){this.show();const e=ry.defaultPositions,t=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:W1,fitInViewport:!0},r),n=ry._getOptimalPosition(t)||$B,a=parseInt(n.left),u=parseInt(n.top),f=n.name,b=n.config||{},{withArrow:w=!0}=b;this.top=u,this.left=a,this.position=f,this.withArrow=w}pin(r){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(r):this._stopPinning()},this._startPinning(r),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(r){this.attachTo(r);const e=sy(r.target),t=r.limiter?sy(r.limiter):W1;this.listenTo(y.document,"scroll",(n,a)=>{const u=a.target,f=e&&u.contains(e),b=t&&u.contains(t);!f&&!b&&e&&t||this.attachTo(r)},{useCapture:!0}),this.listenTo(y.window,"resize",()=>{this.attachTo(r)})}_stopPinning(){this.stopListening(y.document,"scroll"),this.stopListening(y.window,"resize")}};let Ia=ry;function sy(r){return Ss(r)?r:Ro(r)?r.commonAncestorContainer:typeof r=="function"?sy(r()):null}function Y1(r={}){const{sideOffset:e=Ia.arrowSideOffset,heightOffset:t=Ia.arrowHeightOffset,stickyVerticalOffset:n=Ia.stickyVerticalOffset,config:a}=r;return{northWestArrowSouthWest:(b,w)=>ji({top:u(b,w),left:b.left-e,name:"arrow_sw"},a&&{config:a}),northWestArrowSouthMiddleWest:(b,w)=>ji({top:u(b,w),left:b.left-.25*w.width-e,name:"arrow_smw"},a&&{config:a}),northWestArrowSouth:(b,w)=>ji({top:u(b,w),left:b.left-w.width/2,name:"arrow_s"},a&&{config:a}),northWestArrowSouthMiddleEast:(b,w)=>ji({top:u(b,w),left:b.left-.75*w.width+e,name:"arrow_sme"},a&&{config:a}),northWestArrowSouthEast:(b,w)=>ji({top:u(b,w),left:b.left-w.width+e,name:"arrow_se"},a&&{config:a}),northArrowSouthWest:(b,w)=>ji({top:u(b,w),left:b.left+b.width/2-e,name:"arrow_sw"},a&&{config:a}),northArrowSouthMiddleWest:(b,w)=>ji({top:u(b,w),left:b.left+b.width/2-.25*w.width-e,name:"arrow_smw"},a&&{config:a}),northArrowSouth:(b,w)=>ji({top:u(b,w),left:b.left+b.width/2-w.width/2,name:"arrow_s"},a&&{config:a}),northArrowSouthMiddleEast:(b,w)=>ji({top:u(b,w),left:b.left+b.width/2-.75*w.width+e,name:"arrow_sme"},a&&{config:a}),northArrowSouthEast:(b,w)=>ji({top:u(b,w),left:b.left+b.width/2-w.width+e,name:"arrow_se"},a&&{config:a}),northEastArrowSouthWest:(b,w)=>ji({top:u(b,w),left:b.right-e,name:"arrow_sw"},a&&{config:a}),northEastArrowSouthMiddleWest:(b,w)=>ji({top:u(b,w),left:b.right-.25*w.width-e,name:"arrow_smw"},a&&{config:a}),northEastArrowSouth:(b,w)=>ji({top:u(b,w),left:b.right-w.width/2,name:"arrow_s"},a&&{config:a}),northEastArrowSouthMiddleEast:(b,w)=>ji({top:u(b,w),left:b.right-.75*w.width+e,name:"arrow_sme"},a&&{config:a}),northEastArrowSouthEast:(b,w)=>ji({top:u(b,w),left:b.right-w.width+e,name:"arrow_se"},a&&{config:a}),southWestArrowNorthWest:b=>ji({top:f(b),left:b.left-e,name:"arrow_nw"},a&&{config:a}),southWestArrowNorthMiddleWest:(b,w)=>ji({top:f(b),left:b.left-.25*w.width-e,name:"arrow_nmw"},a&&{config:a}),southWestArrowNorth:(b,w)=>ji({top:f(b),left:b.left-w.width/2,name:"arrow_n"},a&&{config:a}),southWestArrowNorthMiddleEast:(b,w)=>ji({top:f(b),left:b.left-.75*w.width+e,name:"arrow_nme"},a&&{config:a}),southWestArrowNorthEast:(b,w)=>ji({top:f(b),left:b.left-w.width+e,name:"arrow_ne"},a&&{config:a}),southArrowNorthWest:b=>ji({top:f(b),left:b.left+b.width/2-e,name:"arrow_nw"},a&&{config:a}),southArrowNorthMiddleWest:(b,w)=>ji({top:f(b),left:b.left+b.width/2-.25*w.width-e,name:"arrow_nmw"},a&&{config:a}),southArrowNorth:(b,w)=>ji({top:f(b),left:b.left+b.width/2-w.width/2,name:"arrow_n"},a&&{config:a}),southArrowNorthMiddleEast:(b,w)=>ji({top:f(b),left:b.left+b.width/2-.75*w.width+e,name:"arrow_nme"},a&&{config:a}),southArrowNorthEast:(b,w)=>ji({top:f(b),left:b.left+b.width/2-w.width+e,name:"arrow_ne"},a&&{config:a}),southEastArrowNorthWest:b=>ji({top:f(b),left:b.right-e,name:"arrow_nw"},a&&{config:a}),southEastArrowNorthMiddleWest:(b,w)=>ji({top:f(b),left:b.right-.25*w.width-e,name:"arrow_nmw"},a&&{config:a}),southEastArrowNorth:(b,w)=>ji({top:f(b),left:b.right-w.width/2,name:"arrow_n"},a&&{config:a}),southEastArrowNorthMiddleEast:(b,w)=>ji({top:f(b),left:b.right-.75*w.width+e,name:"arrow_nme"},a&&{config:a}),southEastArrowNorthEast:(b,w)=>ji({top:f(b),left:b.right-w.width+e,name:"arrow_ne"},a&&{config:a}),westArrowEast:(b,w)=>ji({top:b.top+b.height/2-w.height/2,left:b.left-w.width-t,name:"arrow_e"},a&&{config:a}),eastArrowWest:(b,w)=>ji({top:b.top+b.height/2-w.height/2,left:b.right+t,name:"arrow_w"},a&&{config:a}),viewportStickyNorth:(b,w,A,E)=>{const O=E||A;return b.getIntersection(O)?O.height-b.height>n?null:{top:O.top+n,left:b.left+b.width/2-w.width/2,name:"arrowless",config:ji({withArrow:!1},a)}:null}};function u(b,w){return b.top-w.height-t}function f(b){return b.bottom+t}}Ia.arrowSideOffset=25,Ia.arrowHeightOffset=10,Ia.stickyVerticalOffset=20,Ia._getOptimalPosition=Ds,Ia.defaultPositions=Y1();var G1=h(9205),qB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(G1.A,qB),G1.A.locals;const K1="ck-tooltip",Oa=class extends eo(){constructor(r){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,Oa._editors.add(r),Oa._instance)return Oa._instance;Oa._instance=this,this.tooltipTextView=new St(r.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Ia(r.locale),this.balloonPanelView.class=K1,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(e){const t=new MutationObserver(()=>{e()});return{attach(n){t.observe(n,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){t.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=cc(this._pinTooltip,600),this._unpinTooltipDebounced=cc(this._unpinTooltip,400),this.listenTo(y.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(y.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(y.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(y.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(y.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(y.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(r){const e=r.ui.view&&r.ui.view.body;Oa._editors.delete(r),this.stopListening(r.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),Oa._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Oa._instance=null)}static getPositioningFunctions(r){const e=Oa.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[r]}_onKeyDown(r,e){e.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),e.stopPropagation())}_onEnterOrFocus(r,{target:e}){const t=oy(e);t?t!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(t,Q1(t))):r.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(r,{target:e,relatedTarget:t}){if(r.name==="mouseleave"){if(!Ss(e))return;const n=this.balloonPanelView.element,a=n&&(n===t||n.contains(t)),u=!a&&e===n;if(a)return void this._unpinTooltipDebounced.cancel();if(!u&&this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const f=oy(e),b=oy(t);(u||f&&f!==b)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(r,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(r,{text:e,position:t,cssClass:n}){this._unpinTooltip();const a=Un(Oa._editors.values()).ui.view.body;a.has(this.balloonPanelView)||a.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:r,positions:Oa.getPositioningFunctions(t)}),this._resizeObserver=new yo(r,()=>{ur(r)||this._unpinTooltip()}),this._mutationObserver.attach(r),this.balloonPanelView.class=[K1,n].filter(u=>u).join(" ");for(const u of Oa._editors)this.listenTo(u.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=r,this._currentTooltipPosition=t}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const r of Oa._editors)this.stopListening(r.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const r=Q1(this._currentElementWithTooltip);ur(this._currentElementWithTooltip)&&r.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Oa.getPositioningFunctions(r.position)}):this._unpinTooltip()}};let d_=Oa;function oy(r){return Ss(r)?r.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function Q1(r){return{text:r.dataset.ckeTooltipText,position:r.dataset.ckeTooltipPosition||"s",cssClass:r.dataset.ckeTooltipClass||""}}d_.defaultBalloonPositions=Y1({heightOffset:5,sideOffset:13}),d_._editors=new Set,d_._instance=null;const u_=function(r,e,t){var n=!0,a=!0;if(typeof r!="function")throw new TypeError("Expected a function");return pe(t)&&(n="leading"in t?!!t.leading:n,a="trailing"in t?!!t.trailing:a),cc(r,e,{leading:n,maxWait:e,trailing:a})};var WB=Object.defineProperty,Z1=Object.getOwnPropertySymbols,YB=Object.prototype.hasOwnProperty,GB=Object.prototype.propertyIsEnumerable,X1=(r,e,t)=>e in r?WB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,KB=(r,e)=>{for(var t in e||(e={}))YB.call(e,t)&&X1(r,t,e[t]);if(Z1)for(var t of Z1(e))GB.call(e,t)&&X1(r,t,e[t]);return r};const QB=50,ZB=350,XB="Powered by";class JB extends eo(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=u_(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||function(t){function n(U){return U.length>=40&&U.length<=255?"VALID":"INVALID"}if(!t)return"INVALID";let a="";try{a=atob(t)}catch{return"INVALID"}const u=a.split("-"),f=u[0],b=u[1];if(!b)return n(t);try{atob(b)}catch{try{if(atob(f),!atob(f).length)return n(t)}catch{return n(t)}}if(f.length<40||f.length>255)return"INVALID";let w="";try{atob(f),w=atob(b)}catch{return"INVALID"}if(w.length!==8)return"INVALID";const A=Number(w.substring(0,4)),E=Number(w.substring(4,6))-1,O=Number(w.substring(6,8)),z=new Date(A,E,O);return z<De||isNaN(Number(z))?"INVALID":"VALID"}(e.config.get("licenseKey"))!=="VALID")&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(t,n,a)=>{this._updateLastFocusedEditableElement(),a?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(t,n,a)=>{this._updateLastFocusedEditableElement(),a&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,t=this._balloonView=new Ia,n=eN(e),a=new eR(e.locale,n.label);t.content.add(a),t.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(t),e.ui.focusTracker.add(t.element),this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(t,n){const a=eN(t),u=a.side==="right"?function(f,b){return J1(f,b,(w,A)=>w.left+w.width-A.width-b.horizontalOffset)}(n,a):function(f,b){return J1(f,b,w=>w.left+b.horizontalOffset)}(n,a);return{target:n,positions:[u]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,n=e.ui.focusTracker.focusedElement;if(!t||!n)return void(this._lastFocusedEditableElement=null);const a=Array.from(e.ui.getEditableElementsNames()).map(u=>e.ui.getEditableElement(u));a.includes(n)?this._lastFocusedEditableElement=n:this._lastFocusedEditableElement=a[0]}}class eR extends St{constructor(e,t){super(e);const n=new m,a=this.bindTemplate;n.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),n.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],n],on:{dragstart:a.to(u=>u.preventDefault())}}]})}}function J1(r,e,t){return(n,a)=>{const u=new pn(r);if(u.width<ZB||u.height<QB)return null;let f;f=e.position==="inside"?u.bottom-a.height:u.bottom-a.height/2,f-=e.verticalOffset;const b=t(u,a),w=n.clone().moveTo(b,f).getIntersection(a.clone().moveTo(b,f)).getVisible();return!w||w.getArea()<a.getArea()?null:{top:f,left:b,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function eN(r){const e=r.config.get("ui.poweredBy"),t=e&&e.position||"border";return KB({position:t,label:XB,verticalOffset:t==="inside"?5:0,horizontalOffset:5,side:r.locale.contentLanguageDirection==="ltr"?"right":"left"},e)}var tN=h(1801),tR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(tN.A,tR),tN.A.locals;const nN={POLITE:"polite",ASSERTIVE:"assertive"};class nR{constructor(e){this.editor=e,e.once("ready",()=>{for(const t of Object.values(nN))this.announce("",t)})}announce(e,t=nN.POLITE){const n=this.editor;if(!n.ui.view)return;this.view||(this.view=new iR(n.locale),n.ui.view.body.add(this.view));const{politeness:a,isUnsafeHTML:u}=typeof t=="string"?{politeness:t}:t;let f=this.view.regionViews.find(b=>b.politeness===a);f||(f=new rR(n,a),this.view.regionViews.add(f)),f.announce({announcement:e,isUnsafeHTML:u})}}class iR extends St{constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class rR extends St{constructor(e,t){super(e.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":t,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=t,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:t}){if(!e.trim().length)return;const n=document.createElement("li");t?this._domConverter.setContentOf(n,e):n.innerText=e,this._listElement.appendChild(n)}get _listElement(){return this.element.querySelector("ul")}}var sR=Object.defineProperty,iN=Object.getOwnPropertySymbols,oR=Object.prototype.hasOwnProperty,aR=Object.prototype.propertyIsEnumerable,rN=(r,e,t)=>e in r?sR(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class lR extends Oe(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const t=e.editing.view;this.editor=e,this.componentFactory=new SB(e),this.focusTracker=new mr,this.tooltipManager=new d_(e),this.poweredBy=new JB(e),this.ariaLiveAnnouncer=new nR(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const n=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?n():this.once("ready",n)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const n=e.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let n,a;e.keystrokes.set("Alt+F10",(u,f)=>{const b=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(b)&&!Array.from(t.domRoots.values()).includes(b)&&(n=b);const w=this._getCurrentFocusedToolbarDefinition();w&&a||(a=this._getFocusableCandidateToolbarDefinitions());for(let A=0;A<a.length;A++){const E=a.shift();if(a.push(E),E!==w&&this._focusFocusableCandidateToolbar(E)){w&&w.options.afterBlur&&w.options.afterBlur();break}}f()}),e.keystrokes.set("Esc",(u,f)=>{const b=this._getCurrentFocusedToolbarDefinition();b&&(n?(n.focus(),n=null):e.editing.view.focus(),b.options.afterBlur&&b.options.afterBlur(),f())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:n,options:a}=t;(ur(n.element)||a.beforeFocus)&&e.push(t)}return e.sort((t,n)=>sN(t)-sN(n)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:n}}=e;return n&&n(),!!ur(t.element)&&(t.focus(),!0)}_handleScrollToTheSelection(e,t){const n=((a,u)=>{for(var f in u||(u={}))oR.call(u,f)&&rN(a,f,u[f]);if(iN)for(var f of iN(u))aR.call(u,f)&&rN(a,f,u[f]);return a})({top:0,bottom:0,left:0,right:0},this.viewportOffset);t.viewportOffset.top+=n.top,t.viewportOffset.bottom+=n.bottom,t.viewportOffset.left+=n.left,t.viewportOffset.right+=n.right}}function sN(r){const{toolbarView:e,options:t}=r;let n=10;return ur(e.element)&&n--,t.isContextual&&n--,n}var oN=h(1185),cR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(oN.A,cR),oN.A.locals;class dR extends St{constructor(e){super(e),this.body=new n_(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class uR extends dR{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new Rf;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}class hR extends St{constructor(e,t,n){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function t(n){e.change(a=>{const u=e.document.getRoot(n.name);a.addClass(n.isFocused?"ck-focused":"ck-blurred",u),a.removeClass(n.isFocused?"ck-blurred":"ck-focused",u)})}e.isRenderingInProgress?function n(a){e.once("change:isRenderingInProgress",(u,f,b)=>{b?n(a):t(a)})}(this):t(this)}}class mR extends hR{constructor(e,t,n,a={}){super(e,t,n);const u=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=a.label||(()=>u("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(t=>{const n=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),n)})}}class ay extends Mr{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}class aN extends Oe(){constructor(e,t){super(),t&&hf(this,t),e&&this.set(e)}}var lN=h(991),fR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(lN.A,fR),lN.A.locals;var cN=h(5380),pR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(cN.A,pR),cN.A.locals;const h_=xo("px");class m_ extends lt{constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const t=this.editor.editing.view,n=t.document.selection.editableElement;return n?t.domConverter.mapViewToDom(n.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new q("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));const n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new q("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new q("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new Ia(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(t=>t[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new gR(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(n,a)=>!a&&n>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(n,a)=>{if(a<2)return"";const u=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[u,a])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new bR(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,n)=>!n&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:n=!0,singleViewMode:a=!1}){this.view.class=t,this.view.withArrow=n,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),a&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class gR extends St{constructor(e){super(e);const t=e.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new mr,this.buttonPrevView=this._createButtonView(t("Previous"),Mn.previousArrow),this.buttonNextView=this._createButtonView(t("Next"),Mn.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",a=>a?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const n=new P(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}class bR extends St{constructor(e,t){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",a=>a?"":"ck-hidden")],style:{top:n.to("top",h_),left:n.to("left",h_),width:n.to("width",h_),height:n.to("height",h_)}},children:this.content}),this.on("change:numberOfPanels",(a,u,f,b)=>{f>b?this._addPanels(f-b):this._removePanels(b-f),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new St;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:n,height:a}=new pn(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:n,height:a})}}}var dN=h(8298),kR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(dN.A,kR),dN.A.locals;const Uf=xo("px");class _R extends St{constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new Vo({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",n=>n?"block":"none"),height:t.to("isSticky",n=>n?Uf(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new Vo({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",n=>n?Uf(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_stickyTopOffset",n=>n&&Uf(n)),bottom:t.to("_stickyBottomOffset",n=>n&&Uf(n)),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(y.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const e=new pn(this.limiterElement);let t=e.getVisible();if(t){const n=new pn(y.window);n.top+=this.viewportTopOffset,n.height-=this.viewportTopOffset,t=t.getIntersection(n)}if(t&&e.top<t.top){const n=t.top;if(n+this._contentPanelRect.height+this.limiterBottomOffset>t.bottom){const a=Math.max(e.bottom-t.bottom,0)+this.limiterBottomOffset;e.bottom-a>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(a):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(n):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=Uf(-y.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=Uf(-y.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new pn(this.contentPanelElement)}}class vR extends Ke{constructor(e,t){const n=e.t,a=Object.assign({},{showResetButton:!0,showIcon:!0,creator:a_},t);super(e,a.creator),this.label=t.label,this._viewConfig=a,this._viewConfig.showIcon&&(this.iconView=new m,this.iconView.content=Mn.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new P(e),this.resetButtonView.set({label:n("Clear"),icon:Mn.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",u=>!u),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class wR extends St{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",t=>!t)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class yR extends St{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new mr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new Il({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var uN=/[\\^$.*+?()[\]{}|]/g,xR=RegExp(uN.source);const hN=function(r){return(r=$c(r))&&xR.test(r)?r.replace(uN,"\\$&"):r};var mN=h(8107),CR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(mN.A,CR),mN.A.locals;var AR=Object.defineProperty,fN=Object.getOwnPropertySymbols,NR=Object.prototype.hasOwnProperty,ER=Object.prototype.propertyIsEnumerable,pN=(r,e,t)=>e in r?AR(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class SR extends St{constructor(e,t){super(e),this._config=t,this.filteredView=t.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new mr,this.keystrokes=new fr,this.resultsView=new yR(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),t.infoView&&t.infoView.instance?this.infoView=t.infoView.instance:(this.infoView=new wR,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new Il({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(n,{resultsCount:a,totalItemsCount:u})=>{this.resultsCount=a,this.totalItemsCount=u}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",t.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=t=>t.stopPropagation();for(const t of this.focusableChildren)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const t=e?new RegExp(hN(e),"ig"):null,n=this.filteredView.filter(t);this.fire("search",((a,u)=>{for(var f in u||(u={}))NR.call(u,f)&&pN(a,f,u[f]);if(fN)for(var f of fN(u))ER.call(u,f)&&pN(a,f,u[f]);return a})({query:e},n))}_createSearchTextQueryView(){const e=new vR(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,t=this.infoView;function n(a,{query:u,resultsCount:f,totalItemsCount:b}){return typeof a=="function"?a(u,f,b):a}this.on("search",(a,u)=>{if(u.resultsCount)t.set({isVisible:!1});else{const f=this._config.infoView&&this._config.infoView.text;let b,w;u.totalItemsCount?f&&f.notFound?(b=f.notFound.primary,w=f.notFound.secondary):(b=e("No results found"),w=""):f&&f.noSearchableItems?(b=f.noSearchableItems.primary,w=f.noSearchableItems.secondary):(b=e("No searchable items"),w=""),t.set({primaryText:n(b,u),secondaryText:n(w,u),isVisible:!0})}})}}var gN=h(5727),jR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(gN.A,jR),gN.A.locals;const ly=class extends SR{constructor(r,e){super(r,e),this._config=e;const t=xo("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const n=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[n.if("isVisible","ck-hidden",a=>!a),n.to("_position",a=>`ck-search__results_${a}`)],style:{width:n.to("_width",t)}}}),this.focusTracker.on("change:isFocused",(a,u,f)=>{this._updateResultsVisibility(),f?this.resultsView.element.scrollTop=0:e.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(a,u)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,u())}),this.listenTo(y.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(a,{value:u})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=u,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new pn(this.queryView.fieldView.element).width;const r=ly._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:ly.defaultResultsPositions});this.resultsView._position=r?r.name:"s"}_updateResultsVisibility(){const r=this._config.queryMinChars===void 0?0:this._config.queryMinChars,e=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&e>=r}};let bN=ly;bN.defaultResultsPositions=[r=>({top:r.bottom,left:r.left,name:"s"}),(r,e)=>({top:r.top-e.height,left:r.left,name:"n"})],bN._getOptimalPosition=Ds;var kN=h(9529),DR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(kN.A,DR),kN.A.locals;var _N=h(109),TR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(_N.A,TR),_N.A.locals;var vN=h(2710),MR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(vN.A,MR),vN.A.locals;var wN=h(3344),IR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(wN.A,IR),wN.A.locals;class OR extends P{constructor(e){super(e);const t=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",n=>String(n)),"data-cke-tooltip-disabled":t.to("isOn")},on:{mouseenter:t.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new m;return e.content=vt,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}var yN=h(9481),LR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(yN.A,LR),yN.A.locals;class cy extends Vf{constructor(e,t){super(e);const n=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:n.to("mouseenter")}}),this.delegate("mouseenter").to(t)}}var BR=Object.defineProperty,xN=Object.getOwnPropertySymbols,RR=Object.prototype.hasOwnProperty,PR=Object.prototype.propertyIsEnumerable,CN=(r,e,t)=>e in r?BR(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,AN=(r,e)=>{for(var t in e||(e={}))RR.call(e,t)&&CN(r,t,e[t]);if(xN)for(var t of xN(e))PR.call(e,t)&&CN(r,t,e[t]);return r};const Tg={toggleMenusAndFocusItemsOnHover(r){r.on("menu:mouseenter",e=>{if(r.isOpen){for(const t of r.menus){const n=e.path[0],a=n instanceof cy&&n.children.first===t;t.isOpen=(e.path.includes(t)||a)&&t.isEnabled}e.source.focus()}})},focusCycleMenusOnArrows(r){const e=r.locale.uiLanguageDirection==="rtl";function t(n,a){const u=r.children.getIndex(n),f=n.isOpen,b=r.children.length,w=r.children.get((u+b+a)%b);n.isOpen=!1,f&&(w.isOpen=!0),w.buttonView.focus()}r.on("menu:arrowright",n=>{t(n.source,e?-1:1)}),r.on("menu:arrowleft",n=>{t(n.source,e?1:-1)})},closeMenusWhenTheBarCloses(r){r.on("change:isOpen",()=>{r.isOpen||r.menus.forEach(e=>{e.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(r){r.on("menu:change:isOpen",(e,t,n)=>{n&&r.menus.filter(a=>e.source.parentMenuView===a.parentMenuView&&e.source!==a&&a.isOpen).forEach(a=>{a.isOpen=!1})})},closeOnClickOutside(r){xn({emitter:r,activator:()=>r.isOpen,callback:()=>r.close(),contextElements:()=>r.children.map(e=>e.element)})}},pm={openAndFocusPanelOnArrowDownKey(r){r.keystrokes.set("arrowdown",(e,t)=>{r.focusTracker.focusedElement===r.buttonView.element&&(r.isOpen||(r.isOpen=!0),r.panelView.focus(),t())})},openOnArrowRightKey(r){const e=r.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";r.keystrokes.set(e,(t,n)=>{r.focusTracker.focusedElement===r.buttonView.element&&r.isEnabled&&(r.isOpen||(r.isOpen=!0),r.panelView.focus(),n())})},openOnButtonClick(r){r.buttonView.on("execute",()=>{r.isOpen=!0,r.panelView.focus()})},toggleOnButtonClick(r){r.buttonView.on("execute",()=>{r.isOpen=!r.isOpen,r.isOpen&&r.panelView.focus()})},closeOnArrowLeftKey(r){const e=r.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";r.keystrokes.set(e,(t,n)=>{r.isOpen&&(r.isOpen=!1,r.focus(),n())})},closeOnEscKey(r){r.keystrokes.set("esc",(e,t)=>{r.isOpen&&(r.isOpen=!1,r.focus(),t())})},closeOnParentClose(r){r.parentMenuView.on("change:isOpen",(e,t,n)=>{n||e.source!==r.parentMenuView||(r.isOpen=!1)})}},zR={southEast:r=>({top:r.bottom,left:r.left,name:"se"}),southWest:(r,e)=>({top:r.bottom,left:r.left-e.width+r.width,name:"sw"}),northEast:(r,e)=>({top:r.top-e.height,left:r.left,name:"ne"}),northWest:(r,e)=>({top:r.top-e.height,left:r.left-e.width+r.width,name:"nw"}),eastSouth:r=>({top:r.top,left:r.right-5,name:"es"}),eastNorth:(r,e)=>({top:r.top-e.height,left:r.right-5,name:"en"}),westSouth:(r,e)=>({top:r.top,left:r.left-e.width+5,name:"ws"}),westNorth:(r,e)=>({top:r.top-e.height,left:r.left-e.width+5,name:"wn"})},FR=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function HR({normalizedConfig:r,locale:e,componentFactory:t}){const n=ua(r);return function(a,u){const f=u.removeItems,b=[];u.items=u.items.filter(({menuId:w})=>!f.includes(w)||(b.push(w),!1)),$f(u.items,w=>{w.groups=w.groups.filter(({groupId:A})=>!f.includes(A)||(b.push(A),!1));for(const A of w.groups)A.items=A.items.filter(E=>{const O=SN(E);return!f.includes(O)||(b.push(O),!1)})});for(const w of f)b.includes(w)||de("menu-bar-item-could-not-be-removed",{menuBarConfig:a,itemName:w})}(r,n),function(a,u){const f=u.addItems,b=[];for(const w of f){const A=$R(w.position),E=qR(w.position);if(VR(w))if(E){const O=u.items.findIndex(z=>z.menuId===E);O!=-1?A==="before"?(u.items.splice(O,0,w.menu),b.push(w)):A==="after"&&(u.items.splice(O+1,0,w.menu),b.push(w)):NN(u,w.menu,E,A)&&b.push(w)}else A==="start"?(u.items.unshift(w.menu),b.push(w)):A==="end"&&(u.items.push(w.menu),b.push(w));else UR(w)?$f(u.items,O=>{if(O.menuId===E)A==="start"?(O.groups.unshift(w.group),b.push(w)):A==="end"&&(O.groups.push(w.group),b.push(w));else{const z=O.groups.findIndex(U=>U.groupId===E);z!==-1&&(A==="before"?(O.groups.splice(z,0,w.group),b.push(w)):A==="after"&&(O.groups.splice(z+1,0,w.group),b.push(w)))}}):NN(u,w.item,E,A)&&b.push(w)}for(const w of f)b.includes(w)||de("menu-bar-item-could-not-be-added",{menuBarConfig:a,addedItemConfig:w})}(r,n),function(a,u,f){$f(u.items,b=>{for(const w of b.groups)w.items=w.items.filter(A=>{const E=typeof A=="string"&&!f.has(A);return E&&!u.isUsingDefaultConfig&&de("menu-bar-item-unavailable",{menuBarConfig:a,parentMenuConfig:ua(b),componentName:A}),!E})})}(r,n,t),EN(r,n),function(a,u){const f=u.t,b={File:f({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:f({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:f({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:f({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:f({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:f({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:f({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:f({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:f({string:"Font",id:"MENU_BAR_MENU_FONT"})};$f(a.items,w=>{w.label in b&&(w.label=b[w.label])})}(n,e),n}function NN(r,e,t,n){let a=!1;return $f(r.items,u=>{for(const{groupId:f,items:b}of u.groups){if(a)return;if(f===t)n==="start"?(b.unshift(e),a=!0):n==="end"&&(b.push(e),a=!0);else{const w=b.findIndex(A=>SN(A)===t);w!==-1&&(n==="before"?(b.splice(w,0,e),a=!0):n==="after"&&(b.splice(w+1,0,e),a=!0))}}}),a}function EN(r,e){const t=e.isUsingDefaultConfig;let n=!1;e.items=e.items.filter(a=>!!a.groups.length||(dy(r,a,t),!1)),e.items.length?($f(e.items,a=>{a.groups=a.groups.filter(u=>!!u.items.length||(n=!0,!1));for(const u of a.groups)u.items=u.items.filter(f=>!(jN(f)&&!f.groups.length)||(dy(r,f,t),n=!0,!1))}),n&&EN(r,e)):dy(r,r,t)}function dy(r,e,t){t||de("menu-bar-menu-empty",{menuBarConfig:r,emptyMenuConfig:e})}function $f(r,e){if(Array.isArray(r))for(const n of r)t(n);function t(n){e(n);for(const a of n.groups)for(const u of a.items)jN(u)&&t(u)}}function VR(r){return typeof r=="object"&&"menu"in r}function UR(r){return typeof r=="object"&&"group"in r}function $R(r){return r.startsWith("start")?"start":r.startsWith("end")?"end":r.startsWith("after")?"after":"before"}function qR(r){const e=r.match(/^[^:]+:(.+)/);return e?e[1]:null}function SN(r){return typeof r=="string"?r:r.menuId}function jN(r){return typeof r=="object"&&"menuId"in r}function WR(r,e){const t=e.element;r.ui.focusTracker.add(t),r.keystrokes.listenTo(t);const n=function(a){let u;return u="items"in a&&a.items?AN({items:a.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1},a):AN({items:ua(FR),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0},a),u}(r.config.get("menuBar")||{});e.fillFromConfig(n,r.ui.componentFactory),r.keystrokes.set("Esc",(a,u)=>{t.contains(r.ui.focusTracker.focusedElement)&&(r.editing.view.focus(),u())}),r.keystrokes.set("Alt+F9",(a,u)=>{t.contains(r.ui.focusTracker.focusedElement)||(e.focus(),u())})}var DN=h(9108),YR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(DN.A,YR),DN.A.locals;class GR extends St{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",t.to("position",n=>`ck-menu-bar__menu__panel_position_${n}`),t.if("isVisible","ck-hidden",n=>!n)],tabindex:"-1"},children:this.children,on:{selectstart:t.to(n=>{n.target.tagName.toLocaleLowerCase()!=="input"&&n.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}var TN=h(4),KR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(TN.A,KR),TN.A.locals;const MN=class extends St{constructor(r){super(r);const e=this.bindTemplate;this.buttonView=new OR(r),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new GR(r),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new fr,this.focusTracker=new mr,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",e.to("class"),e.if("isEnabled","ck-disabled",t=>!t),e.if("parentMenuView","ck-menu-bar__menu_top-level",t=>!t)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),pm.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(pm.openOnButtonClick(this),pm.openOnArrowRightKey(this),pm.closeOnArrowLeftKey(this),pm.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),pm.openAndFocusPanelOnArrowDownKey(this),pm.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(r,e)=>{this.fire("arrowright"),e()}),this.keystrokes.set("arrowleft",(r,e)=>{this.fire("arrowleft"),e()})}_repositionPanelOnOpen(){this.on("change:isOpen",(r,e,t)=>{if(!t)return;const n=MN._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=n?n.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:r,southWest:e,northEast:t,northWest:n,westSouth:a,eastSouth:u,westNorth:f,eastNorth:b}=zR;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[u,b,a,f]:[r,e,t,n]:this.parentMenuView?[a,f,u,b]:[e,r,n,t]}};let qf=MN;qf._getOptimalPosition=Ds;class uy extends ty{constructor(e){super(e),this.role="menu"}}var IN=h(977),QR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(IN.A,QR),IN.A.locals;class cl extends P{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class ON extends Xe{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var LN=h(497),ZR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(LN.A,ZR),LN.A.locals;const BN=["mouseenter","arrowleft","arrowright","change:isOpen"];class XR extends St{constructor(e){super(e),this.menus=[];const t=e.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":t("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,t){const n=HR({normalizedConfig:e,locale:this.locale,componentFactory:t}).items.map(a=>this._createMenu({componentFactory:t,menuDefinition:a}));this.children.addMany(n)}render(){super.render(),Tg.toggleMenusAndFocusItemsOnHover(this),Tg.closeMenusWhenTheBarCloses(this),Tg.closeMenuWhenAnotherOnTheSameLevelOpens(this),Tg.focusCycleMenusOnArrows(this),Tg.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e,t=null){t?(e.delegate(...BN).to(t),e.parentMenuView=t):e.delegate(...BN).to(this,n=>"menu:"+n),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:t,parentMenuView:n}){const a=this.locale,u=new qf(a);return this.registerMenu(u,n),u.buttonView.set({label:t.label}),u.once("change:isOpen",()=>{const f=new uy(a);f.ariaLabel=t.label,u.panelView.children.add(f),f.items.addMany(this._createMenuItems({menuDefinition:t,parentMenuView:u,componentFactory:e}))}),u}_createMenuItems({menuDefinition:e,parentMenuView:t,componentFactory:n}){const a=this.locale,u=[];for(const f of e.groups){for(const b of f.items){const w=new cy(a,t);if(pe(b))w.children.add(this._createMenu({componentFactory:n,menuDefinition:b,parentMenuView:t}));else{const A=this._createMenuItemContentFromFactory({componentName:b,componentFactory:n,parentMenuView:t});if(!A)continue;w.children.add(A)}u.push(w)}f!==e.groups[e.groups.length-1]&&u.push(new ey(a))}return u}_createMenuItemContentFromFactory({componentName:e,parentMenuView:t,componentFactory:n}){const a=n.create(e);return a instanceof qf||a instanceof cl||a instanceof ON?(this._registerMenuTree(a,t),a.on("execute",()=>{this.close()}),a):(de("menu-bar-component-unsupported",{componentName:e,componentView:a}),null)}_registerMenuTree(e,t){if(!(e instanceof qf))return void e.delegate("mouseenter").to(t);this.registerMenu(e,t);const n=e.panelView.children.filter(u=>u instanceof uy)[0];if(!n)return void e.delegate("mouseenter").to(t);const a=n.items.filter(u=>u instanceof Vf);for(const u of a)this._registerMenuTree(u.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(t,n,a)=>{clearTimeout(e),a?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(u=>u.isOpen)},0)})}}class JR extends lR{constructor(e,t){super(e),this.view=t,this._toolbarConfig=x1(e.config.get("toolbar")),this._elementReplacer=new at,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const t=this.editor,n=this.view,a=t.editing.view,u=n.editable,f=a.document.getRoot();u.name=f.rootName,n.render();const b=u.element;this.setEditableElement(u.name,b),n.editable.bind("isFocused").to(this.focusTracker),a.attachDomRoot(b),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),n.menuBarView&&WR(t,n.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:t})=>t||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,n=t.document.getRoot(),a=e.sourceElement;let u;const f=e.config.get("placeholder");f&&(u=typeof f=="string"?f:f[this.view.editable.name]),!u&&a&&a.tagName.toLowerCase()==="textarea"&&(u=a.getAttribute("placeholder")),u&&(n.placeholder=u),wr({view:t,element:n,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,t,n){const a=this.view.stickyPanel;if(a.isSticky){const u=new pn(a.element).height;t.viewportOffset.top+=u}else{const u=()=>{this.editor.editing.view.scrollToTheSelection(n)};this.listenTo(a,"change:isSticky",u),setTimeout(()=>{this.stopListening(a,"change:isSticky",u)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,t=this.editor.plugins.get("Dialog");t.on("show",()=>{const n=t.view;n.on("moveTo",(a,u)=>{if(!e.isSticky||n.wasMoved)return;const f=new pn(e.contentPanelElement);u[1]<f.bottom+c_.defaultOffset&&(u[1]=f.bottom+c_.defaultOffset)},{priority:"high"})},{priority:"low"})}}var RN=h(7388),eP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(RN.A,eP),RN.A.locals;class tP extends uR{constructor(e,t,n={}){super(e),this.stickyPanel=new _R(e),this.toolbar=new Jw(e,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),n.useMenuBar&&(this.menuBarView=new XR(e)),this.editable=new mR(e,t)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class PN{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const n="error"in t?t.error:t.reason;n instanceof Error&&this._handleError(n,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(n=>n!==t)}_fire(e,...t){const n=this._listeners[e]||[];for(const a of n)a.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function hy(r,e=new Set){const t=[r],n=new Set;let a=0;for(;t.length>a;){const u=t[a++];if(!n.has(u)&&nP(u)&&!e.has(u))if(n.add(u),Symbol.iterator in u)try{for(const f of u)t.push(f)}catch{}else for(const f in u)f!=="defaultValue"&&t.push(u[f])}return n}function nP(r){const e=Object.prototype.toString.call(r),t=typeof r;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||r==null||r._watchdogExcluded||r instanceof EventTarget||r instanceof Event)}function zN(r,e,t=new Set){if(r===e&&typeof(n=r)=="object"&&n!==null)return!0;var n;const a=hy(r,t),u=hy(e,t);for(const f of a)if(u.has(f))return!0;return!1}var iP=Object.defineProperty,rP=Object.defineProperties,sP=Object.getOwnPropertyDescriptors,f_=Object.getOwnPropertySymbols,FN=Object.prototype.hasOwnProperty,HN=Object.prototype.propertyIsEnumerable,VN=(r,e,t)=>e in r?iP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,my=(r,e)=>{for(var t in e||(e={}))FN.call(e,t)&&VN(r,t,e[t]);if(f_)for(var t of f_(e))HN.call(e,t)&&VN(r,t,e[t]);return r};class UN extends PN{constructor(e,t={}){super(t),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=u_(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(n,a)=>e.create(n,a)),this._destructor=n=>n.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},t=[],n=this._config.rootsAttributes||{},a={};for(const[w,A]of Object.entries(this._data.roots))A.isLoaded?(e[w]="",a[w]=n[w]||{}):t.push(w);const u=(f=my({},this._config),b={extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:a,_watchdogInitialData:this._data},rP(f,sP(b)));var f,b;return delete u.initialData,u.extraPlugins.push(oP),this._initUsingData?this.create(e,u,u.context):Ss(this._elementOrData)?this.create(this._elementOrData,u,u.context):this.create(this._editables,u,u.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,n){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(t)||{},this._config.context=n,this._creator(e,this._config))).then(a=>{this._editor=a,a.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=a.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter(b=>b.isAttached()&&b.rootName!="$graveyard"),{plugins:n}=e,a=n.has("CommentsRepository")&&n.get("CommentsRepository"),u=n.has("TrackChanges")&&n.get("TrackChanges"),f={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach(b=>{f.roots[b.rootName]={content:JSON.stringify(Array.from(b.getChildren())),attributes:JSON.stringify(Array.from(b.getAttributes())),isLoaded:b._isLoaded}});for(const b of e.model.markers)b._affectsData&&(f.markers[b.name]={rangeJSON:b.getRange().toJSON(),usingOperation:b._managedUsingOperations,affectsData:b._affectsData});return a&&(f.commentThreads=JSON.stringify(a.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),u&&(f.suggestions=JSON.stringify(u.getSuggestions({toJSON:!0,skipNotAttached:!0}))),f}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const n=this.editor.ui.getEditableElement(t);n&&(e[t]=n)}return e}_isErrorComingFromThisItem(e){return zN(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Es(e,(t,n)=>Ss(t)||n==="context"?t:void 0)}}class oP{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},t=>{this._restoreCollaborationData(),this._restoreEditorData(t)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,t){if("name"in t){const n=e.createElement(t.name,t.attributes);if(t.children)for(const a of t.children)n._appendChild(this._createNode(e,a));return n}return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach(([n,{content:a,attributes:u}])=>{const f=JSON.parse(a),b=JSON.parse(u),w=t.model.document.getRoot(n);for(const[A,E]of b)e.setAttribute(A,E,w);for(const A of f){const E=this._createNode(e,A);e.insert(E,w,"end")}}),Object.entries(this._data.markers).forEach(([n,a])=>{const{document:u}=t.model,f=a,{rangeJSON:{start:b,end:w}}=f,A=((W,X)=>{var ae={};for(var ge in W)FN.call(W,ge)&&X.indexOf(ge)<0&&(ae[ge]=W[ge]);if(W!=null&&f_)for(var ge of f_(W))X.indexOf(ge)<0&&HN.call(W,ge)&&(ae[ge]=W[ge]);return ae})(f,["rangeJSON"]),E=u.getRoot(b.root),O=e.createPositionFromPath(E,b.path,b.stickiness),z=e.createPositionFromPath(E,w.path,w.stickiness),U=e.createRange(O,z);e.addMarker(n,my({range:U},A))})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);e.forEach(n=>{const a=this.editor.config.get("collaboration.channelId"),u=this.editor.plugins.get("CommentsRepository");u.hasCommentThread(n.threadId)&&u.getCommentThread(n.threadId).remove(),u.addCommentThread(my({channelId:a},n))}),t.forEach(n=>{const a=this.editor.plugins.get("TrackChangesEditing");a.hasSuggestion(n.id)?a.getSuggestion(n.id).attributes=n.attributes:a.addSuggestionData(n)})}}const Mg=Symbol("MainQueueId");class aP{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const n=e===Mg;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const a=(n?Promise.all(this._queues.values()):Promise.all([this._queues.get(Mg),this._queues.get(e)])).then(t),u=a.catch(()=>{});return this._queues.set(e,u),a.finally(()=>{this._activeActions--,this._queues.get(e)===u&&this._activeActions===0&&this._onEmptyCallbacks.forEach(f=>f())})}}function $N(r){return Array.isArray(r)?r:[r]}class p_ extends ru(Jk){constructor(e,t={}){if(!g_(e)&&t.initialData!==void 0)throw new q("editor-create-initial-data",null);super(t),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",function(f){return g_(f)?(b=f,b instanceof HTMLTextAreaElement?b.value:b.innerHTML):f;var b}(e)),g_(e)&&(this.sourceElement=e),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),a=this.config.get("menuBar"),u=new tP(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n,useMenuBar:a.isVisible});this.ui=new JR(this,u),function(f){if(!Mt(f.updateSourceElement))throw new q("attachtoform-missing-elementapi-interface",f);const b=f.sourceElement;if(function(w){return!!w&&w.tagName.toLowerCase()==="textarea"}(b)&&b.form){let w;const A=b.form,E=()=>f.updateSourceElement();Mt(A.submit)&&(w=A.submit,A.submit=()=>{E(),w.apply(A)}),A.addEventListener("submit",E),f.on("destroy",()=>{A.removeEventListener("submit",E),w&&(A.submit=w)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise(n=>{const a=new this(e,t);n(a.initPlugins().then(()=>a.ui.init(g_(e)?e:null)).then(()=>a.data.init(a.config.get("initialData"))).then(()=>a.fire("ready")).then(()=>a))})}}function g_(r){return Ss(r)}p_.Context=Tr,p_.EditorWatchdog=UN,p_.ContextWatchdog=class extends PN{constructor(r,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new aP,this._watchdogConfig=e,this._creator=t=>r.create(t),this._destructor=t=>t.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(r){this._creator=r}setDestructor(r){this._destructor=r}get context(){return this._context}create(r={}){return this._actionQueues.enqueue(Mg,()=>(this._contextConfig=r,this._create()))}getItem(r){return this._getWatchdog(r)._item}getItemState(r){return this._getWatchdog(r).state}add(r){const e=$N(r);return Promise.all(e.map(t=>this._actionQueues.enqueue(t.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let n;if(this._watchdogs.has(t.id))throw new Error(`Item with the given id is already added: '${t.id}'.`);if(t.type==="editor")return n=new UN(null,this._watchdogConfig),n.setCreator(t.creator),n._setExcludedProperties(this._contextProps),t.destructor&&n.setDestructor(t.destructor),this._watchdogs.set(t.id,n),n.on("error",(a,{error:u,causesRestart:f})=>{this._fire("itemError",{itemId:t.id,error:u}),f&&this._actionQueues.enqueue(t.id,()=>new Promise(b=>{const w=()=>{n.off("restart",w),this._fire("itemRestart",{itemId:t.id}),b()};n.on("restart",w)}))}),n.create(t.sourceElementOrData,t.config,this._context);throw new Error(`Not supported item type: '${t.type}'.`)})))}remove(r){const e=$N(r);return Promise.all(e.map(t=>this._actionQueues.enqueue(t,()=>{const n=this._getWatchdog(t);return this._watchdogs.delete(t),n.destroy()})))}destroy(){return this._actionQueues.enqueue(Mg,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Mg,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(r=>{console.error("An error happened during destroying the context or items.",r)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(r=>(this._context=r,this._contextProps=hy(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const r=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(r))})}_getWatchdog(r){const e=this._watchdogs.get(r);if(!e)throw new Error(`Item with the given id was not registered: ${r}.`);return e}_isErrorComingFromThisItem(r){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(r))return!1;return zN(this._context,r.context)}};class Ig extends El{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const t=this.document;function n(a){return(u,f)=>{f.preventDefault();const b=f.dropRange?[f.dropRange]:null,w=new K(t,a);t.fire(w,{dataTransfer:f.dataTransfer,method:u.name,targetRanges:b,target:f.target,domEvent:f.domEvent}),w.stop.called&&f.stopPropagation()}}this.listenTo(t,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",n("dragging"),{priority:"low"})}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,n=e.type=="drop"||e.type=="paste",a={dataTransfer:new Ao(t,{cacheFiles:n})};e.type!="drop"&&e.type!="dragover"||(a.dropRange=function(u,f){const b=f.target.ownerDocument,w=f.clientX,A=f.clientY;let E;return b.caretRangeFromPoint&&b.caretRangeFromPoint(w,A)?E=b.caretRangeFromPoint(w,A):f.rangeParent&&(E=b.createRange(),E.setStart(f.rangeParent,f.rangeOffset),E.collapse(!0)),E?u.domConverter.domRangeToView(E):null}(this.view,e)),this.fire(e.type,e,a)}}const qN=["figcaption","li"],WN=["ol","ul"];function YN(r){if(r.is("$text")||r.is("$textProxy"))return r.data;if(r.is("element","img")&&r.hasAttribute("alt"))return r.getAttribute("alt");if(r.is("element","br"))return`
`;let e="",t=null;for(const n of r.getChildren())e+=lP(n,t)+YN(n),t=n;return e}function lP(r,e){return e?r.is("element","li")&&!r.isEmpty&&r.getChild(0).is("containerElement")||WN.includes(r.name)&&WN.includes(e.name)?`

`:r.is("containerElement")||e.is("containerElement")?qN.includes(r.name)||qN.includes(e.name)?`
`:`

`:"":""}const cP=function(r,e){return r&&hr(r,e,$a)},dP=function(r,e,t,n){var a=t.length,u=a;if(r==null)return!u;for(r=Object(r);a--;){var f=t[a];if(f[2]?f[1]!==r[f[0]]:!(f[0]in r))return!1}for(;++a<u;){var b=(f=t[a])[0],w=r[b],A=f[1];if(f[2]){if(w===void 0&&!(b in r))return!1}else{var E=new Ys,O;if(!(O===void 0?Wu(A,w,3,n,E):O))return!1}}return!0},GN=function(r){return r==r&&!pe(r)},uP=function(r){for(var e=$a(r),t=e.length;t--;){var n=e[t],a=r[n];e[t]=[n,a,GN(a)]}return e},KN=function(r,e){return function(t){return t!=null&&t[r]===e&&(e!==void 0||r in Object(t))}},hP=function(r){var e=uP(r);return e.length==1&&e[0][2]?KN(e[0][0],e[0][1]):function(t){return t===r||dP(t,r,e)}},mP=function(r,e){return r!=null&&e in Object(r)},fP=function(r,e,t){for(var n=-1,a=(e=qc(e,r)).length,u=!1;++n<a;){var f=$d(e[n]);if(!(u=r!=null&&t(r,f)))break;r=r[f]}return u||++n!=a?u:!!(a=r==null?0:r.length)&&Mo(a)&&Ks(f,a)&&(ni(r)||qi(r))},pP=function(r,e){return r!=null&&fP(r,e,mP)},gP=function(r,e){return Bu(r)&&GN(e)?KN($d(r),e):function(t){var n=Wc(t,r);return n===void 0&&n===e?pP(t,r):Wu(e,n,3)}},bP=function(r){return function(e){return e==null?void 0:e[r]}},kP=function(r){return function(e){return Ap(e,r)}},_P=function(r){return Bu(r)?bP($d(r)):kP(r)},vP=function(r){return typeof r=="function"?r:r==null?ts:typeof r=="object"?ni(r)?gP(r[0],r[1]):hP(r):_P(r)},wP=function(r,e){var t={};return e=vP(e),cP(r,function(n,a,u){xe(t,a,e(n,a,u))}),t};var yP=Object.defineProperty,xP=Object.defineProperties,CP=Object.getOwnPropertyDescriptors,QN=Object.getOwnPropertySymbols,AP=Object.prototype.hasOwnProperty,NP=Object.prototype.propertyIsEnumerable,ZN=(r,e,t)=>e in r?yP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class Og extends lt{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(e,t){this._markersToCopy.set(e,t)}_copySelectedFragmentWithMarkers(e,t,n=a=>a.model.getSelectedContent(a.model.document.selection)){return this.editor.model.change(a=>{const u=a.model.document.selection;a.setSelection(t);const f=this._insertFakeMarkersIntoSelection(a,a.model.document.selection,e),b=n(a),w=this._removeFakeMarkersInsideElement(a,b);for(const[A,E]of Object.entries(f)){w[A]||(w[A]=a.createRangeIn(b));for(const O of E)a.remove(O)}b.markers.clear();for(const[A,E]of Object.entries(w))b.markers.set(A,E);return a.setSelection(u),b})}_pasteMarkersIntoTransformedElement(e,t){const n=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(a=>{const u=this._insertFakeMarkersElements(a,n),f=t(a),b=this._removeFakeMarkersInsideElement(a,f);for(const w of Object.values(u).flat())a.remove(w);for(const[w,A]of Object.entries(b))a.model.markers.has(w)||a.addMarker(w,{usingOperation:!0,affectsData:!0,range:A});return f})}_pasteFragmentWithMarkers(e){const t=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const n of t)e.markers.set(n.name,n.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,t,n={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const a=this._markersToCopy.get(e);this._markersToCopy.set(e,n),t(),a?this._markersToCopy.set(e,a):this._markersToCopy.delete(e)}_isMarkerCopyable(e,t){const n=this._getMarkerClipboardConfig(e);if(!n)return!1;if(!t)return!0;const{allowedActions:a}=n;return a==="all"||a.includes(t)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[t]=e.split(":");return this._markersToCopy.get(t)||null}_insertFakeMarkersIntoSelection(e,t,n){const a=this._getCopyableMarkersFromSelection(e,t,n);return this._insertFakeMarkersElements(e,a)}_getCopyableMarkersFromSelection(e,t,n){const a=Array.from(t.getRanges()),u=new Set(a.flatMap(f=>Array.from(e.model.markers.getMarkersIntersectingRange(f))));return Array.from(u).filter(f=>{if(!this._isMarkerCopyable(f.name,n))return!1;const{copyPartiallySelected:b}=this._getMarkerClipboardConfig(f.name);if(!b){const w=f.getRange();return a.some(A=>A.containsRange(w,!0))}return!0}).map(f=>({name:n==="dragstart"?this._getUniqueMarkerName(f.name):f.name,range:f.getRange()}))}_getPasteMarkersFromRangeMap(e,t=null){const{model:n}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([a,u])=>{if(!this._hasMarkerConfiguration(a))return[{name:a,range:u}];if(this._isMarkerCopyable(a,t)){const f=this._getMarkerClipboardConfig(a),b=n.markers.has(a)&&n.markers.get(a).getRange().root.rootName==="$graveyard";return(f.duplicateOnPaste||b)&&(a=this._getUniqueMarkerName(a)),[{name:a,range:u}]}return[]})}_insertFakeMarkersElements(e,t){const n={},a=t.flatMap(u=>{const{start:f,end:b}=u.range;return[{position:f,marker:u,type:"start"},{position:b,marker:u,type:"end"}]}).sort(({position:u},{position:f})=>u.isBefore(f)?1:-1);for(const{position:u,marker:f,type:b}of a){const w=e.createElement("$marker",{"data-name":f.name,"data-type":b});n[f.name]||(n[f.name]=[]),n[f.name].push(w),e.insert(w,u)}return n}_removeFakeMarkersInsideElement(e,t){const n=this._getAllFakeMarkersFromElement(e,t).reduce((a,u)=>{const f=u.markerElement&&e.createPositionBefore(u.markerElement);let b=a[u.name],w=!1;b&&b.start&&b.end&&(this._getMarkerClipboardConfig(u.name).duplicateOnPaste?a[this._getUniqueMarkerName(u.name)]=a[u.name]:w=!0,b=null);var A,E;return w||(a[u.name]=(A=((O,z)=>{for(var U in z||(z={}))AP.call(z,U)&&ZN(O,U,z[U]);if(QN)for(var U of QN(z))NP.call(z,U)&&ZN(O,U,z[U]);return O})({},b),E={[u.type]:f},xP(A,CP(E)))),u.markerElement&&e.remove(u.markerElement),a},{});return wP(n,a=>new Je(a.start||e.createPositionFromPath(t,[0]),a.end||e.createPositionAt(t,"end")))}_getAllFakeMarkersFromElement(e,t){const n=Array.from(e.createRangeIn(t)).flatMap(({item:f})=>{if(!f.is("element","$marker"))return[];const b=f.getAttribute("data-name"),w=f.getAttribute("data-type");return[{markerElement:f,name:b,type:w}]}),a=[],u=[];for(const f of n)f.type==="end"&&(n.some(b=>b.name===f.name&&b.type==="start")||a.push({markerElement:null,name:f.name,type:"start"})),f.type==="start"&&(n.some(b=>b.name===f.name&&b.type==="end")||u.unshift({markerElement:null,name:f.name,type:"end"}));return[...a,...n,...u]}_getUniqueMarkerName(e){const t=e.split(":"),n=ee().substring(1,6);return t.length===3?`${t.slice(0,2).join(":")}:${n}`:`${t.join(":")}:${n}`}}class Ol extends lt{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[Og]}init(){this.editor.editing.view.addObserver(Ig),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,n){const a=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:n==="cut"},()=>{const u=a._copySelectedFragmentWithMarkers(n,t);this.fire("outputTransformation",{dataTransfer:e,content:u,method:n})})}_setupPasteDrop(){const e=this.editor,t=e.model,n=e.editing.view,a=n.document,u=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(a,"clipboardInput",(f,b)=>{b.method!="paste"||e.model.canEditAt(e.model.document.selection)||f.stop()},{priority:"highest"}),this.listenTo(a,"clipboardInput",(f,b)=>{const w=b.dataTransfer;let A;if(b.content)A=b.content;else{let z="";w.getData("text/html")?z=function(U){return U.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(W,X)=>X.length==1?" ":X).replace(/<!--[\s\S]*?-->/g,"")}(w.getData("text/html")):w.getData("text/plain")&&(((E=(E=w.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||E.includes("<br>"))&&(E=`<p>${E}</p>`),z=E),A=this.editor.data.htmlProcessor.toView(z)}var E;const O=new K(this,"inputTransformation");this.fire(O,{content:A,dataTransfer:w,targetRanges:b.targetRanges,method:b.method}),O.stop.called&&f.stop(),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(f,b)=>{if(b.content.isEmpty)return;const w=this.editor.data.toModel(b.content,"$clipboardHolder");w.childCount!=0&&(f.stop(),t.change(()=>{this.fire("contentInsertion",{content:w,method:b.method,dataTransfer:b.dataTransfer,targetRanges:b.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(f,b)=>{b.resultRange=u._pasteFragmentWithMarkers(b.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,n=e.editing.view.document,a=(u,f)=>{const b=f.dataTransfer;f.preventDefault(),this._fireOutputTransformationEvent(b,t.selection,u.name)};this.listenTo(n,"copy",a,{priority:"low"}),this.listenTo(n,"cut",(u,f)=>{e.model.canEditAt(e.model.document.selection)?a(u,f):f.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(u,f)=>{const b=e.data.toView(f.content);n.fire("clipboardOutput",{dataTransfer:f.dataTransfer,content:b,method:f.method})},{priority:"low"}),this.listenTo(n,"clipboardOutput",(u,f)=>{f.content.isEmpty||(f.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(f.content)),f.dataTransfer.setData("text/plain",YN(f.content))),f.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}class XN{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(n,a)=>{a.isLocal&&a.isUndoable&&a!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class EP extends Ht{constructor(e,t){super(e),this._buffer=new XN(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,n=t.document,a=e.text||"",u=a.length;let f=n.selection;if(e.selection?f=e.selection:e.range&&(f=t.createSelection(e.range)),!t.canEditAt(f))return;const b=e.resultRange;t.enqueueChange(this._buffer.batch,w=>{this._buffer.lock();const A=Array.from(n.selection.getAttributes());t.deleteContent(f),a&&t.insertContent(w.createText(a,A),f),b?w.setSelection(b):f.is("documentSelection")||w.setSelection(f),this._buffer.unlock(),this._buffer.input(u)})}}const JN=["insertText","insertReplacementText"];class SP extends ol{constructor(e){super(e),this.focusObserver=e.getObserver(Zh),S.isAndroid&&JN.push("insertCompositionText");const t=e.document;t.on("beforeinput",(n,a)=>{if(!this.isEnabled)return;const{data:u,targetRanges:f,inputType:b,domEvent:w}=a;if(!JN.includes(b))return;this.focusObserver.flush();const A=new K(t,"insertText");t.fire(A,new Qc(e,w,{text:u,selection:e.createSelection(f)})),A.stop.called&&n.stop()}),t.on("compositionend",(n,{data:a,domEvent:u})=>{this.isEnabled&&!S.isAndroid&&a&&t.fire("insertText",new Qc(e,u,{text:a,selection:t.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class eE extends lt{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,n=e.editing.view,a=t.document.selection;n.addObserver(SP);const u=new EP(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",u),e.commands.add("input",u),this.listenTo(n.document,"insertText",(f,b)=>{n.document.isComposing||b.preventDefault();const{text:w,selection:A,resultRange:E}=b,O=Array.from(A.getRanges()).map(W=>e.editing.mapper.toModelRange(W));let z=w;if(S.isAndroid){const W=Array.from(O[0].getItems()).reduce((X,ae)=>X+(ae.is("$textProxy")?ae.data:""),"");W&&(W.length<=z.length?z.startsWith(W)&&(z=z.substring(W.length),O[0].start=O[0].start.getShiftedBy(W.length)):W.startsWith(z)&&(O[0].start=O[0].start.getShiftedBy(z.length),z=""))}const U={text:z,selection:t.createSelection(O)};E&&(U.resultRange=e.editing.mapper.toModelRange(E)),e.execute("insertText",U),n.scrollToTheSelection()}),S.isAndroid?this.listenTo(n.document,"keydown",(f,b)=>{!a.isCollapsed&&b.keyCode==229&&n.document.isComposing&&tE(t,u)}):this.listenTo(n.document,"compositionstart",()=>{a.isCollapsed||tE(t,u)})}}function tE(r,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),r.enqueueChange(t.batch,()=>{r.deleteContent(r.document.selection)}),t.unlock()}class nE extends Ht{constructor(e,t){super(e),this.direction=t,this._buffer=new XN(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,n=t.document;t.enqueueChange(this._buffer.batch,a=>{this._buffer.lock();const u=a.createSelection(e.selection||n.selection);if(!t.canEditAt(u))return;const f=e.sequence||1,b=u.isCollapsed;if(u.isCollapsed&&t.modifySelection(u,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(f))return void this._replaceEntireContentWithParagraph(a);if(this._shouldReplaceFirstBlockWithParagraph(u,f))return void this.editor.execute("paragraph",{selection:u});if(u.isCollapsed)return;let w=0;u.getFirstRange().getMinimalFlatRanges().forEach(A=>{w+=jt(A.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(u,{doNotResetEntireContent:b,direction:this.direction}),this._buffer.input(w),a.setSelection(u),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,n=t.document.selection,a=t.schema.getLimitElement(n);if(!(n.isCollapsed&&n.containsEntireContent(a))||!t.schema.checkChild(a,"paragraph"))return!1;const u=a.getChild(0);return!u||!u.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const t=this.editor.model,n=t.document.selection,a=t.schema.getLimitElement(n),u=e.createElement("paragraph");e.remove(e.createRangeIn(a)),e.insert(u,a),e.setSelection(u,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const n=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const a=e.getFirstPosition(),u=n.schema.getLimitElement(a),f=u.getChild(0);return a.parent==f&&!!e.containsEntireContent(f)&&!!n.schema.checkChild(u,"paragraph")&&f.name!="paragraph"}}const iE="word",ch="selection",Wf="backward",Lg="forward",rE={deleteContent:{unit:ch,direction:Wf},deleteContentBackward:{unit:"codePoint",direction:Wf},deleteWordBackward:{unit:iE,direction:Wf},deleteHardLineBackward:{unit:ch,direction:Wf},deleteSoftLineBackward:{unit:ch,direction:Wf},deleteContentForward:{unit:"character",direction:Lg},deleteWordForward:{unit:iE,direction:Lg},deleteHardLineForward:{unit:ch,direction:Lg},deleteSoftLineForward:{unit:ch,direction:Lg}};class jP extends ol{constructor(e){super(e);const t=e.document;let n=0;t.on("keydown",()=>{n++}),t.on("keyup",()=>{n=0}),t.on("beforeinput",(a,u)=>{if(!this.isEnabled)return;const{targetRanges:f,domEvent:b,inputType:w}=u,A=rE[w];if(!A)return;const E={direction:A.direction,unit:A.unit,sequence:n};E.unit==ch&&(E.selectionToRemove=e.createSelection(f[0])),w==="deleteContentBackward"&&(S.isAndroid&&(E.sequence=1),function(z){if(z.length!=1||z[0].isCollapsed)return!1;const U=z[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let W=0;for(const{nextPosition:X,item:ae}of U){if(X.parent.is("$text")){const ge=X.parent.data,Me=X.offset;if(Ms(ge,Me)||Al(ge,Me)||Dh(ge,Me))continue;W++}else(ae.is("containerElement")||ae.is("emptyElement"))&&W++;if(W>1)return!0}return!1}(f)&&(E.unit=ch,E.selectionToRemove=e.createSelection(f)));const O=new Wd(t,"delete",f[0]);t.fire(O,new Qc(e,b,E)),O.stop.called&&a.stop()}),S.isBlink&&function(a){const u=a.view,f=u.document;let b=null,w=!1;function A(O){return O==Ve.backspace||O==Ve.delete}function E(O){return O==Ve.backspace?Wf:Lg}f.on("keydown",(O,{keyCode:z})=>{b=z,w=!1}),f.on("keyup",(O,{keyCode:z,domEvent:U})=>{const W=f.selection,X=a.isEnabled&&z==b&&A(z)&&!W.isCollapsed&&!w;if(b=null,X){const ae=W.getFirstRange(),ge=new Wd(f,"delete",ae),Me={unit:ch,direction:E(z),selectionToRemove:W};f.fire(ge,new Qc(u,U,Me))}}),f.on("beforeinput",(O,{inputType:z})=>{const U=rE[z];A(b)&&U&&U.direction==E(b)&&(w=!0)},{priority:"high"}),f.on("beforeinput",(O,{inputType:z,data:U})=>{b==Ve.delete&&z=="insertText"&&U==""&&O.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class au extends lt{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,n=t.document,a=e.model.document;t.addObserver(jP),this._undoOnBackspace=!1;const u=new nE(e,"forward");e.commands.add("deleteForward",u),e.commands.add("forwardDelete",u),e.commands.add("delete",new nE(e,"backward")),this.listenTo(n,"delete",(f,b)=>{n.isComposing||b.preventDefault();const{direction:w,sequence:A,selectionToRemove:E,unit:O}=b,z=w==="forward"?"deleteForward":"delete",U={sequence:A};if(O=="selection"){const W=Array.from(E.getRanges()).map(X=>e.editing.mapper.toModelRange(X));U.selection=e.model.createSelection(W)}else U.unit=O;e.execute(z,U),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",(f,b)=>{this._undoOnBackspace&&b.direction=="backward"&&b.sequence==1&&b.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),b.preventDefault(),f.stop())},{context:"$capture"}),this.listenTo(a,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class DP extends lt{static get requires(){return[eE,au]}static get pluginName(){return"Typing"}}function sE(r,e){let t=r.start;return{text:Array.from(r.getWalker({ignoreElementEnd:!1})).reduce((n,{item:a})=>a.is("$text")||a.is("$textProxy")?n+a.data:(t=e.createPositionAfter(a),""),""),range:e.createRange(t,r.end)}}class oE extends Oe(){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(t,{directChange:n})=>{n&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(t,n)=>{!n.isUndo&&n.isLocal&&this._evaluateTextBeforeSelection("data",{batch:n})})}_evaluateTextBeforeSelection(e,t={}){const n=this.model,a=n.document.selection,u=n.createRange(n.createPositionAt(a.focus.parent,0),a.focus),{text:f,range:b}=sE(u,n),w=this.testCallback(f);if(!w&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!w,w){const A=Object.assign(t,{text:f,range:b});typeof w=="object"&&Object.assign(A,w),this.fire(`matched:${e}`,A)}}}class aE extends lt{constructor(e){super(e),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const e=this.editor,t=e.model,n=e.editing.view,a=e.locale,u=t.document.selection;this.listenTo(n.document,"arrowKey",(f,b)=>{if(!u.isCollapsed||b.shiftKey||b.altKey||b.ctrlKey)return;const w=b.keyCode==Ve.arrowright,A=b.keyCode==Ve.arrowleft;if(!w&&!A)return;const E=a.contentLanguageDirection;let O=!1;O=E==="ltr"&&w||E==="rtl"&&A?this._handleForwardMovement(b):this._handleBackwardMovement(b),O===!0&&f.stop()},{context:"$text",priority:"highest"}),this.listenTo(u,"change:range",(f,b)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!b.directChange&&Ll(u.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,n=this.editor.model,a=n.document.selection,u=a.getFirstPosition();return!this._isGravityOverridden&&(!u.isAtStart||!lu(a,t))&&!!Ll(u,t)&&(Rg(e),lu(a,t)&&Ll(u,t,!0)?Bg(n,t):this._overrideGravity(),!0)}_handleBackwardMovement(e){const t=this.attributes,n=this.editor.model,a=n.document.selection,u=a.getFirstPosition();return this._isGravityOverridden?(Rg(e),this._restoreGravity(),Ll(u,t,!0)?Bg(n,t):b_(n,t,u),!0):u.isAtStart?!!lu(a,t)&&(Rg(e),b_(n,t,u),!0):!lu(a,t)&&Ll(u,t,!0)?(Rg(e),b_(n,t,u),!0):!!lE(u,t)&&(u.isAtEnd&&!lu(a,t)&&Ll(u,t)?(Rg(e),b_(n,t,u),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const e=this.editor,t=e.model,n=t.document.selection,a=e.editing.view.document;e.editing.view.addObserver(Cg);let u=!1;this.listenTo(a,"mousedown",()=>{u=!0}),this.listenTo(a,"selectionChange",()=>{const f=this.attributes;if(!u||(u=!1,!n.isCollapsed)||!lu(n,f))return;const b=n.getFirstPosition();Ll(b,f)&&(b.isAtStart||Ll(b,f,!0)?Bg(t,f):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection,n=this.attributes;this.listenTo(e,"insertContent",()=>{const a=t.getFirstPosition();lu(t,n)&&Ll(a,n)&&Bg(e,n)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,t=e.model,n=t.document.selection,a=e.editing.view;let u=!1,f=!1;this.listenTo(a.document,"delete",(b,w)=>{u=w.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{if(!u)return;const b=n.getFirstPosition();f=lu(n,this.attributes)&&!lE(b,this.attributes)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{u&&(u=!1,f||e.model.enqueueChange(()=>{const b=n.getFirstPosition();lu(n,this.attributes)&&Ll(b,this.attributes)&&(b.isAtStart||Ll(b,this.attributes,!0)?Bg(t,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function lu(r,e){for(const t of e)if(r.hasAttribute(t))return!0;return!1}function b_(r,e,t){const n=t.nodeBefore;r.change(a=>{if(n){const u=[],f=r.schema.isObject(n)&&r.schema.isInline(n);for(const[b,w]of n.getAttributes())!r.schema.checkAttribute("$text",b)||f&&r.schema.getAttributeProperties(b).copyFromObject===!1||u.push([b,w]);a.setSelectionAttribute(u)}else a.removeSelectionAttribute(e)})}function Bg(r,e){r.change(t=>{t.removeSelectionAttribute(e)})}function Rg(r){r.preventDefault()}function lE(r,e){return Ll(r.getShiftedBy(-1),e)}function Ll(r,e,t=!1){const{nodeBefore:n,nodeAfter:a}=r;for(const u of e){const f=n?n.getAttribute(u):void 0,b=a?a.getAttribute(u):void 0;if((!t||f!==void 0&&b!==void 0)&&b!==f)return!0}return!1}const cE={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:Yf('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:Yf("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:Yf("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:Yf('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:Yf('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:Yf("'"),to:[null,"‚",null,"’"]}},dE={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},TP=["symbols","mathematical","typography","quotes"];function MP(r){return typeof r=="string"?new RegExp(`(${hN(r)})$`):r}function IP(r){return typeof r=="string"?()=>[r]:r instanceof Array?()=>r:r}function OP(r){return(r.textNode?r.textNode:r.nodeAfter).getAttributes()}function Yf(r){return new RegExp(`(^|\\s)(${r})([^${r}]*)(${r})$`)}function k_(r,e,t,n){return n.createRange(uE(r,e,t,!0,n),uE(r,e,t,!1,n))}function uE(r,e,t,n,a){let u=r.textNode||(n?r.nodeBefore:r.nodeAfter),f=null;for(;u&&u.getAttribute(e)==t;)f=u,u=n?u.previousSibling:u.nextSibling;return f?a.createPositionAt(f,n?"before":"after"):r}function*hE(r,e){for(const t of e)t&&r.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}class LP extends Ht{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,n=t.document.selection,a=t.schema,u=n.isCollapsed,f=n.getFirstRange(),b=f.start.parent,w=f.end.parent;if(a.isLimit(b)||a.isLimit(w))return u||b!=w||t.deleteContent(n),!1;if(u){const A=hE(e.model.schema,n.getAttributes());return mE(e,f.start),e.setSelectionAttribute(A),!0}{const A=!(f.start.isAtStart&&f.end.isAtEnd),E=b==w;if(t.deleteContent(n,{leaveUnmerged:A}),A){if(E)return mE(e,n.focus),!0;e.setSelection(w,0)}}return!1}}function mE(r,e){r.split(e),r.setSelection(e.parent.nextSibling,0)}const BP={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class fE extends ol{constructor(e){super(e);const t=this.document;let n=!1;t.on("keydown",(a,u)=>{n=u.shiftKey}),t.on("beforeinput",(a,u)=>{if(!this.isEnabled)return;let f=u.inputType;S.isSafari&&n&&f=="insertParagraph"&&(f="insertLineBreak");const b=u.domEvent,w=BP[f];if(!w)return;const A=new Wd(t,"enter",u.targetRanges[0]);t.fire(A,new Qc(e,b,{isSoft:w.isSoft})),A.stop.called&&a.stop()})}observe(){}stopObserving(){}}class __ extends lt{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,n=t.document,a=this.editor.t;t.addObserver(fE),e.commands.add("enter",new LP(e)),this.listenTo(n,"enter",(u,f)=>{n.isComposing||f.preventDefault(),f.isSoft||(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:a("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class RP extends Ht{execute(){const e=this.editor.model,t=e.document;e.change(n=>{(function(a,u,f){const b=f.isCollapsed,w=f.getFirstRange(),A=w.start.parent,E=w.end.parent,O=A==E;if(b){const z=hE(a.schema,f.getAttributes());pE(a,u,w.end),u.removeSelectionAttribute(f.getAttributeKeys()),u.setSelectionAttribute(z)}else{const z=!(w.start.isAtStart&&w.end.isAtEnd);a.deleteContent(f,{leaveUnmerged:z}),O?pE(a,u,f.focus):z&&u.setSelection(E,0)}})(e,n,t.selection),this.fire("afterExecute",{writer:n})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=function(n,a){if(a.rangeCount>1)return!1;const u=a.anchor;if(!u||!n.checkChild(u,"softBreak"))return!1;const f=a.getFirstRange(),b=f.start.parent,w=f.end.parent;return!((fy(b,n)||fy(w,n))&&b!==w)}(e.schema,t.selection)}}function pE(r,e,t){const n=e.createElement("softBreak");r.insertContent(n,t),e.setSelection(n,"after")}function fy(r,e){return!r.is("rootElement")&&(e.isLimit(r)||fy(r.parent,e))}class PP extends lt{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,n=e.conversion,a=e.editing.view,u=a.document,f=this.editor.t;t.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(b,{writer:w})=>w.createEmptyElement("br")}),a.addObserver(fE),e.commands.add("shiftEnter",new RP(e)),this.listenTo(u,"enter",(b,w)=>{u.isComposing||w.preventDefault(),w.isSoft&&(e.execute("shiftEnter"),a.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:f("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class zP extends he(){constructor(){super(...arguments),this._stack=[]}add(e,t){const n=this._stack,a=n[0];this._insertDescriptor(e);const u=n[0];a===u||py(a,u)||this.fire("change:top",{oldDescriptor:a,newDescriptor:u,writer:t})}remove(e,t){const n=this._stack,a=n[0];this._removeDescriptor(e);const u=n[0];a===u||py(a,u)||this.fire("change:top",{oldDescriptor:a,newDescriptor:u,writer:t})}_insertDescriptor(e){const t=this._stack,n=t.findIndex(u=>u.id===e.id);if(py(e,t[n]))return;n>-1&&t.splice(n,1);let a=0;for(;t[a]&&FP(t[a],e);)a++;t.splice(a,0,e)}_removeDescriptor(e){const t=this._stack,n=t.findIndex(a=>a.id===e);n>-1&&t.splice(n,1)}}function py(r,e){return r&&e&&r.priority==e.priority&&v_(r.classes)==v_(e.classes)}function FP(r,e){return r.priority>e.priority||!(r.priority<e.priority)&&v_(r.classes)>v_(e.classes)}function v_(r){return Array.isArray(r)?r.sort().join(","):r}const HP='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',VP="ck-widget",gE="ck-widget_selected";function as(r){return!!r.is("element")&&!!r.getCustomProperty("widget")}function gy(r,e,t={}){if(!r.is("containerElement"))throw new q("widget-to-widget-wrong-element-type",null,{element:r});return e.setAttribute("contenteditable","false",r),e.addClass(VP,r),e.setCustomProperty("widget",!0,r),r.getFillerOffset=qP,e.setCustomProperty("widgetLabel",[],r),t.label&&function(n,a){n.getCustomProperty("widgetLabel").push(a)}(r,t.label),t.hasSelectionHandle&&function(n,a){const u=a.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(f){const b=this.toDomElement(f),w=new m;return w.set("content",HP),w.render(),b.appendChild(w.element),b});a.insert(a.createPositionAt(n,0),u),a.addClass(["ck-widget_with-selection-handle"],n)}(r,e),bE(r,e),r}function UP(r,e,t){if(e.classes&&t.addClass(gn(e.classes),r),e.attributes)for(const n in e.attributes)t.setAttribute(n,e.attributes[n],r)}function $P(r,e,t){if(e.classes&&t.removeClass(gn(e.classes),r),e.attributes)for(const n in e.attributes)t.removeAttribute(n,r)}function bE(r,e,t=UP,n=$P){const a=new zP;a.on("change:top",(u,f)=>{f.oldDescriptor&&n(r,f.oldDescriptor,f.writer),f.newDescriptor&&t(r,f.newDescriptor,f.writer)}),e.setCustomProperty("addHighlight",(u,f,b)=>a.add(f,b),r),e.setCustomProperty("removeHighlight",(u,f,b)=>a.remove(f,b),r)}function kE(r,e,t={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],r),e.setAttribute("role","textbox",r),e.setAttribute("tabindex","-1",r),t.label&&e.setAttribute("aria-label",t.label,r),e.setAttribute("contenteditable",r.isReadOnly?"false":"true",r),r.on("change:isReadOnly",(n,a,u)=>{e.setAttribute("contenteditable",u?"false":"true",r)}),r.on("change:isFocused",(n,a,u)=>{u?e.addClass("ck-editor__nested-editable_focused",r):e.removeClass("ck-editor__nested-editable_focused",r)}),bE(r,e),r}function _E(r,e){const t=r.getSelectedElement();if(t){const n=dh(r);if(n)return e.createRange(e.createPositionAt(t,n))}return e.schema.findOptimalInsertionRange(r)}function qP(){return null}const cu="widget-type-around";function gm(r,e,t){return!!r&&as(r)&&!t.isInline(e)}function dh(r){return r.getAttribute(cu)}var vE=h(8508),WP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(vE.A,WP),vE.A.locals;const wE=["before","after"],YP=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,yE="ck-widget__type-around_disabled";class GP extends lt{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[__,au]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(n,a,u)=>{t.change(f=>{for(const b of t.document.roots)u?f.removeClass(yE,b):f.addClass(yE,b)}),u||e.model.change(f=>{f.removeSelectionAttribute(cu)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const n=this.editor,a=n.editing.view,u=n.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(e,t),attributes:u}),a.focus(),a.scrollToTheSelection()}_listenToIfEnabled(e,t,n,a){this.listenTo(e,t,(...u)=>{this.isEnabled&&n(...u)},a)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,t=dh(e);if(!t)return!1;const n=e.getSelectedElement();return this._insertParagraph(n,t),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,n=e.locale.t,a={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(u,f,b)=>{const w=b.mapper.toViewElement(f.item);w&&gm(w,f.item,t)&&(function(A,E,O){const z=A.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(U){const W=this.toDomElement(U);return function(X,ae){for(const ge of wE){const Me=new Vo({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${ge}`],title:ae[ge],"aria-hidden":"true"},children:[X.ownerDocument.importNode(YP,!0)]});X.appendChild(Me.render())}}(W,E),function(X){const ae=new Vo({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});X.appendChild(ae.render())}(W),W});A.insert(A.createPositionAt(O,"end"),z)}(b.writer,a,w),w.getCustomProperty("widgetLabel").push(()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,n=t.document.selection,a=t.schema,u=e.editing.view;function f(b){return`ck-widget_type-around_show-fake-caret_${b}`}this._listenToIfEnabled(u.document,"arrowKey",(b,w)=>{this._handleArrowKeyPress(b,w)},{context:[as,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",(b,w)=>{w.directChange&&e.model.change(A=>{A.removeSelectionAttribute(cu)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const b=n.getSelectedElement();b&&gm(e.editing.mapper.toViewElement(b),b,a)||e.model.change(w=>{w.removeSelectionAttribute(cu)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(b,w,A)=>{const E=A.writer;if(this._currentFakeCaretModelElement){const W=A.mapper.toViewElement(this._currentFakeCaretModelElement);W&&(E.removeClass(wE.map(f),W),this._currentFakeCaretModelElement=null)}const O=w.selection.getSelectedElement();if(!O)return;const z=A.mapper.toViewElement(O);if(!gm(z,O,a))return;const U=dh(w.selection);U&&(E.addClass(f(U),z),this._currentFakeCaretModelElement=O)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(b,w,A)=>{A||e.model.change(E=>{E.removeSelectionAttribute(cu)})})}_handleArrowKeyPress(e,t){const n=this.editor,a=n.model,u=a.document.selection,f=a.schema,b=n.editing.view,w=function(O,z){const U=bn(O,z);return U==="down"||U==="right"}(t.keyCode,n.locale.contentLanguageDirection),A=b.document.selection.getSelectedElement();let E;gm(A,n.editing.mapper.toModelElement(A),f)?E=this._handleArrowKeyPressOnSelectedWidget(w):u.isCollapsed?E=this._handleArrowKeyPressWhenSelectionNextToAWidget(w):t.shiftKey||(E=this._handleArrowKeyPressWhenNonCollapsedSelection(w)),E&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const t=this.editor.model,n=dh(t.document.selection);return t.change(a=>n?n!==(e?"after":"before")?(a.removeSelectionAttribute(cu),!0):!1:(a.setSelectionAttribute(cu,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,n=t.model,a=n.schema,u=t.plugins.get("Widget"),f=u._getObjectElementNextToSelection(e);return!!gm(t.editing.mapper.toViewElement(f),f,a)&&(n.change(b=>{u._setSelectionOverElement(f),b.setSelectionAttribute(cu,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,n=t.model,a=n.schema,u=t.editing.mapper,f=n.document.selection,b=e?f.getLastPosition().nodeBefore:f.getFirstPosition().nodeAfter;return!!gm(u.toViewElement(b),b,a)&&(n.change(w=>{w.setSelection(b,"on"),w.setSelectionAttribute(cu,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(n,a)=>{const u=a.domTarget.closest(".ck-widget__type-around__button");if(!u)return;const f=function(A){return A.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(u),b=function(A,E){const O=A.closest(".ck-widget");return E.mapDomToView(O)}(u,t.domConverter),w=e.editing.mapper.toModelElement(b);this._insertParagraph(w,f),a.preventDefault(),n.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,n=e.editing.view;this._listenToIfEnabled(n.document,"enter",(a,u)=>{if(a.eventPhase!="atTarget")return;const f=t.getSelectedElement(),b=e.editing.mapper.toViewElement(f),w=e.model.schema;let A;this._insertParagraphAccordingToFakeCaretPosition()?A=!0:gm(b,f,w)&&(this._insertParagraph(f,u.isSoft?"before":"after"),A=!0),A&&(u.preventDefault(),a.stop())},{context:as})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(t,n)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(n.selection=e.selection)},{priority:"high"}),S.isAndroid?this._listenToIfEnabled(e,"keydown",(t,n)=>{n.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,n=e.model,a=n.schema;this._listenToIfEnabled(t.document,"delete",(u,f)=>{if(u.eventPhase!="atTarget")return;const b=dh(n.document.selection);if(!b)return;const w=f.direction,A=n.document.selection.getSelectedElement(),E=w=="forward";if(b==="before"===E)e.execute("delete",{selection:n.createSelection(A,"on")});else{const O=a.getNearestSelectionRange(n.createPositionAt(A,b),w);if(O)if(O.isCollapsed){const z=n.createSelection(O.start);if(n.modifySelection(z,{direction:w}),z.focus.isEqual(O.start)){const U=function(W,X){let ae=X;for(const ge of X.getAncestors({parentFirst:!0})){if(ge.childCount>1||W.isLimit(ge))break;ae=ge}return ae}(a,O.start.parent);n.deleteContent(n.createSelection(U,"on"),{doNotAutoparagraph:!0})}else n.change(U=>{U.setSelection(O),e.execute(E?"deleteForward":"delete")})}else n.change(z=>{z.setSelection(O),e.execute(E?"deleteForward":"delete")})}f.preventDefault(),u.stop()},{context:as})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,n=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(a,[u,f])=>{if(f&&!f.is("documentSelection"))return;const b=dh(n);return b?(a.stop(),t.change(w=>{const A=n.getSelectedElement(),E=t.createPositionAt(A,b),O=w.createSelection(E),z=t.insertContent(u,O);return w.setSelection(O),z})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(n,a)=>{const[,u,f={}]=a;if(u&&!u.is("documentSelection"))return;const b=dh(t);b&&(f.findOptimalPosition=b,a[3]=f)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(n,[a])=>{a&&!a.is("documentSelection")||dh(t)&&n.stop()},{priority:"high"})}}function KP(r){const e=r.model;return(t,n)=>{const a=n.keyCode==Ve.arrowup,u=n.keyCode==Ve.arrowdown,f=n.shiftKey,b=e.document.selection;if(!a&&!u)return;const w=u;if(f&&function(E,O){return!E.isCollapsed&&E.isBackward==O}(b,w))return;const A=function(E,O,z){const U=E.model;if(z){const W=O.isCollapsed?O.focus:O.getLastPosition(),X=xE(U,W,"forward");if(!X)return null;const ae=U.createRange(W,X),ge=CE(U.schema,ae,"backward");return ge?U.createRange(W,ge):null}{const W=O.isCollapsed?O.focus:O.getFirstPosition(),X=xE(U,W,"backward");if(!X)return null;const ae=U.createRange(X,W),ge=CE(U.schema,ae,"forward");return ge?U.createRange(ge,W):null}}(r,b,w);if(A){if(A.isCollapsed&&(b.isCollapsed||f))return;(A.isCollapsed||function(E,O,z){const U=E.model,W=E.view.domConverter;if(z){const Ze=U.createSelection(O.start);U.modifySelection(Ze),Ze.focus.isAtEnd||O.start.isEqual(Ze.focus)||(O=U.createRange(Ze.focus,O.end))}const X=E.mapper.toViewRange(O),ae=W.viewRangeToDom(X),ge=pn.getDomRangeRects(ae);let Me;for(const Ze of ge)if(Me!==void 0){if(Math.round(Ze.top)>=Me)return!1;Me=Math.max(Me,Math.round(Ze.bottom))}else Me=Math.round(Ze.bottom);return!0}(r,A,w))&&(e.change(E=>{const O=w?A.end:A.start;if(f){const z=e.createSelection(b.anchor);z.setFocus(O),E.setSelection(z)}else E.setSelection(O)}),t.stop(),n.preventDefault(),n.stopPropagation())}}}function xE(r,e,t){const n=r.schema,a=r.createRangeIn(e.root),u=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:f,item:b,type:w}of a.getWalker({startPosition:e,direction:t})){if(n.isLimit(b)&&!n.isInline(b))return f;if(w==u&&n.isBlock(b))return null}return null}function CE(r,e,t){const n=t=="backward"?e.end:e.start;if(r.checkChild(n,"$text"))return n;for(const{nextPosition:a}of e.getWalker({direction:t}))if(r.checkChild(a,"$text"))return a;return null}var AE=h(695),QP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(AE.A,QP),AE.A.locals;class Pg extends lt{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[GP,au]}init(){const e=this.editor,t=e.editing.view,n=t.document,a=e.t;this.editor.editing.downcastDispatcher.on("selection",(u,f,b)=>{const w=b.writer,A=f.selection;if(A.isCollapsed)return;const E=A.getSelectedElement();if(!E)return;const O=e.editing.mapper.toViewElement(E);var z;as(O)&&b.consumable.consume(A,"selection")&&w.setSelection(w.createRangeOn(O),{fake:!0,label:(z=O,z.getCustomProperty("widgetLabel").reduce((U,W)=>typeof W=="function"?U?U+". "+W():W():U?U+". "+W:W,""))})}),this.editor.editing.downcastDispatcher.on("selection",(u,f,b)=>{this._clearPreviouslySelectedWidgets(b.writer);const w=b.writer,A=w.document.selection;let E=null;for(const O of A.getRanges())for(const z of O){const U=z.item;as(U)&&!ZP(U,E)&&(w.addClass(gE,U),this._previouslySelected.add(U),E=U)}},{priority:"low"}),t.addObserver(Cg),this.listenTo(n,"mousedown",(...u)=>this._onMousedown(...u)),this.listenTo(n,"arrowKey",(...u)=>{this._handleSelectionChangeOnArrowKeyPress(...u)},{context:[as,"$text"]}),this.listenTo(n,"arrowKey",(...u)=>{this._preventDefaultOnArrowKeyPress(...u)},{context:"$root"}),this.listenTo(n,"arrowKey",KP(this.editor.editing),{context:"$text"}),this.listenTo(n,"delete",(u,f)=>{this._handleDelete(f.direction=="forward")&&(f.preventDefault(),u.stop())},{context:"$root"}),this.listenTo(n,"tab",(u,f)=>{u.eventPhase=="atTarget"&&(f.shiftKey||this._selectFirstNestedEditable()&&(f.preventDefault(),u.stop()))},{context:as,priority:"low"}),this.listenTo(n,"tab",(u,f)=>{f.shiftKey&&this._selectAncestorWidget()&&(f.preventDefault(),u.stop())},{priority:"low"}),this.listenTo(n,"keydown",(u,f)=>{f.keystroke==Ve.esc&&this._selectAncestorWidget()&&(f.preventDefault(),u.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:a("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:a("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:a("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:a("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:a("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,t){const n=this.editor,a=n.editing.view,u=a.document;let f=t.target;if(t.domEvent.detail>=3)return void(this._selectBlockContent(f)&&t.preventDefault());if(function(w){let A=w;for(;A;){if(A.is("editableElement")&&!A.is("rootElement"))return!0;if(as(A))return!1;A=A.parent}return!1}(f)||!as(f)&&(f=f.findAncestor(as),!f))return;S.isAndroid&&t.preventDefault(),u.isFocused||a.focus();const b=n.editing.mapper.toModelElement(f);this._setSelectionOverElement(b)}_selectBlockContent(e){const t=this.editor,n=t.model,a=t.editing.mapper,u=n.schema,f=a.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),b=function(w,A){for(const E of w.getAncestors({includeSelf:!0,parentFirst:!0})){if(A.checkChild(E,"$text"))return E;if(A.isLimit(E)&&!A.isObject(E))break}return null}(a.toModelElement(f),n.schema);return!!b&&(n.change(w=>{const A=u.isLimit(b)?null:function(z,U){const W=new ao({startPosition:z});for(const{item:X}of W){if(U.isLimit(X)||!X.is("element"))return null;if(U.checkChild(X,"$text"))return X}return null}(w.createPositionAfter(b),u),E=w.createPositionAt(b,0),O=A?w.createPositionAt(A,0):w.createPositionAt(b,"end");w.setSelection(w.createRange(E,O))}),!0)}_handleSelectionChangeOnArrowKeyPress(e,t){const n=t.keyCode,a=this.editor.model,u=a.schema,f=a.document.selection,b=f.getSelectedElement(),w=bn(n,this.editor.locale.contentLanguageDirection),A=w=="down"||w=="right",E=w=="up"||w=="down";if(b&&u.isObject(b)){const z=A?f.getLastPosition():f.getFirstPosition(),U=u.getNearestSelectionRange(z,A?"forward":"backward");return void(U&&(a.change(W=>{W.setSelection(U)}),t.preventDefault(),e.stop()))}if(!f.isCollapsed&&!t.shiftKey){const z=f.getFirstPosition(),U=f.getLastPosition(),W=z.nodeAfter,X=U.nodeBefore;return void((W&&u.isObject(W)||X&&u.isObject(X))&&(a.change(ae=>{ae.setSelection(A?U:z)}),t.preventDefault(),e.stop()))}if(!f.isCollapsed)return;const O=this._getObjectElementNextToSelection(A);if(O&&u.isObject(O)){if(u.isInline(O)&&E)return;this._setSelectionOverElement(O),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const n=this.editor.model,a=n.schema,u=n.document.selection.getSelectedElement();u&&a.isObject(u)&&(t.preventDefault(),e.stop())}_handleDelete(e){const t=this.editor.model.document.selection;if(!this.editor.model.canEditAt(t)||!t.isCollapsed)return;const n=this._getObjectElementNextToSelection(e);return n?(this.editor.model.change(a=>{let u=t.anchor.parent;for(;u.isEmpty;){const f=u;u=f.parent,a.remove(f)}this._setSelectionOverElement(n)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,n=t.schema,a=t.document.selection,u=t.createSelection(a);if(t.modifySelection(u,{direction:e?"forward":"backward"}),u.isEqual(a))return null;const f=e?u.focus.nodeBefore:u.focus.nodeAfter;return f&&n.isObject(f)?f:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(gE,t);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,t=this.editor.editing.view.document;for(const n of t.selection.getFirstRange().getItems())if(n.is("editableElement")){const a=e.editing.mapper.toModelElement(n);if(!a)continue;const u=e.model.createPositionAt(a,0),f=e.model.schema.getNearestSelectionRange(u,"forward");return e.model.change(b=>{b.setSelection(f)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,t=e.editing.mapper,n=e.editing.view.document.selection.getFirstPosition().parent,a=(n.is("$text")?n.parent:n).findAncestor(as);if(!a)return!1;const u=t.toModelElement(a);return!!u&&(e.model.change(f=>{f.setSelection(u,"on")}),!0)}}function ZP(r,e){return!!e&&Array.from(r.getAncestors()).includes(e)}class w_ extends lt{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[m_]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",n=>{(function(a){const u=a.getSelectedElement();return!(!u||!as(u))})(e.editing.view.document.selection)&&n.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:n,getRelatedElement:a,balloonClassName:u="ck-toolbar-container"}){if(!n.length)return void de("widget-toolbar-no-items",{toolbarId:e});const f=this.editor,b=f.t,w=new Jw(f.locale);if(w.ariaLabel=t||b("Widget toolbar"),this._toolbarDefinitions.has(e))throw new q("widget-toolbar-duplicated",this,{toolbarId:e});const A={view:w,getRelatedElement:a,balloonClassName:u,itemsConfig:n,initialized:!1};f.ui.addToolbar(w,{isContextual:!0,beforeFocus:()=>{const E=a(f.editing.view.document.selection);E&&this._showToolbar(A,E)},afterBlur:()=>{this._hideToolbar(A)}}),this._toolbarDefinitions.set(e,A)}_updateToolbarsVisibility(){let e=0,t=null,n=null;for(const a of this._toolbarDefinitions.values()){const u=a.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&u)if(this.editor.ui.focusTracker.isFocused){const f=u.getAncestors().length;f>e&&(e=f,t=u,n=a)}else this._isToolbarVisible(a)&&this._hideToolbar(a);else this._isToolbarInBalloon(a)&&this._hideToolbar(a)}n&&this._showToolbar(n,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?NE(this.editor,t):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:EE(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const n of this._toolbarDefinitions.values())if(this._isToolbarVisible(n)){const a=n.getRelatedElement(this.editor.editing.view.document.selection);NE(this.editor,a)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function NE(r,e){const t=r.plugins.get("ContextualBalloon"),n=EE(r,e);t.updatePosition(n)}function EE(r,e){const t=r.editing.view,n=Ia.defaultPositions;return{target:t.domConverter.mapViewToDom(e),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}var SE=h(4095),XP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(SE.A,XP),SE.A.locals;const by=xo("px");class JP extends St{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",t=>!t)],style:{left:e.to("left",t=>by(t)),top:e.to("top",t=>by(t)),width:e.to("width",t=>by(t))}}})}}class y_ extends lt{constructor(){super(...arguments),this.removeDropMarkerDelayed=oa(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=u_(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=u_(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new JP,this._domEmitter=new(eo()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,n,a,u,f){this.removeDropMarkerDelayed.cancel();const b=jE(this.editor,e,t,n,a,u,f);if(b)return f&&f.containsRange(b)?this.removeDropMarker():void this._updateDropMarkerThrottled(b)}getFinalDropRange(e,t,n,a,u,f){const b=jE(this.editor,e,t,n,a,u,f);return this.removeDropMarker(),b}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:n})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(n);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,n=t.model.markers;t.model.change(a=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(e)||a.updateMarker("drop-target",{range:e}):a.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(t){const n=this.toDomElement(t);return n.append("⁠",t.createElement("span"),"⁠"),n})}_updateDropTargetLine(e){const t=this.editor.editing,n=e.start.nodeBefore,a=e.start.nodeAfter,u=e.start.parent,f=n?t.mapper.toViewElement(n):null,b=f?t.view.domConverter.mapViewToDom(f):null,w=a?t.mapper.toViewElement(a):null,A=w?t.view.domConverter.mapViewToDom(w):null,E=t.mapper.toViewElement(u);if(!E)return;const O=t.view.domConverter.mapViewToDom(E),z=this._getScrollableRect(E),{scrollX:U,scrollY:W}=y.window,X=b?new pn(b):null,ae=A?new pn(A):null,ge=new pn(O).excludeScrollbarsAndBorders(),Me=X?X.bottom:ge.top,Ze=ae?ae.top:ge.bottom,pt=y.window.getComputedStyle(O),Vt=Me<=Ze?(Me+Ze)/2:Ze;if(z.top<Vt&&Vt<z.bottom){const En=ge.left+parseFloat(pt.paddingLeft),zn=ge.right-parseFloat(pt.paddingRight),ar=Math.max(En+U,z.left),Us=Math.min(zn+U,z.right);this._dropTargetLineView.set({isVisible:!0,left:ar,top:Vt+W,width:Us-ar})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let n;if(this._scrollables.has(t))n=this._scrollables.get(t).domElement;else{n=function(u){let f=u;do{f=f.parentElement;const b=y.window.getComputedStyle(f).overflowY;if(b=="auto"||b=="scroll")break}while(f.tagName!="BODY");return f}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(n,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const a=new yo(n,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:n,resizeObserver:a})}return new pn(n).excludeScrollbarsAndBorders()}}function jE(r,e,t,n,a,u,f){const b=r.model,w=r.editing.mapper;let A=TE(r,e);for(;A;){if(!u){if(b.schema.checkChild(A,"$text")){if(t){const E=t[0].start,O=w.toModelPosition(E);if(!f||Array.from(f.getItems()).every(z=>b.schema.checkChild(O,z))){if(b.schema.checkChild(O,"$text"))return b.createRange(O);if(E)return x_(r,TE(r,E.parent),n,a)}}}else if(b.schema.isInline(A))return x_(r,A,n,a)}if(b.schema.isBlock(A))return x_(r,A,n,a);if(b.schema.checkChild(A,"$block")){const E=Array.from(A.getChildren()).filter(U=>U.is("element")&&!e4(r,U));let O=0,z=E.length;if(z==0)return b.createRange(b.createPositionAt(A,"end"));for(;O<z-1;){const U=Math.floor((O+z)/2);DE(r,E[U],n,a)=="before"?z=U:O=U}return x_(r,E[O],n,a)}A=A.parent}return null}function e4(r,e){const t=r.editing.mapper,n=r.editing.view.domConverter,a=t.toViewElement(e);if(!a)return!0;const u=n.mapViewToDom(a);return y.window.getComputedStyle(u).float!="none"}function x_(r,e,t,n){const a=r.model;return a.createRange(a.createPositionAt(e,DE(r,e,t,n)))}function DE(r,e,t,n){const a=r.editing.mapper,u=r.editing.view.domConverter,f=a.toViewElement(e),b=u.mapViewToDom(f),w=new pn(b);return r.model.schema.isInline(e)?t<(w.left+w.right)/2?"before":"after":n<(w.top+w.bottom)/2?"before":"after"}function TE(r,e){const t=r.editing.mapper,n=r.editing.view,a=t.toModelElement(e);if(a)return a;const u=n.createPositionBefore(e),f=t.findMappedViewAncestor(u);return t.toModelElement(f)}var t4=Object.defineProperty,n4=Object.defineProperties,i4=Object.getOwnPropertyDescriptors,ME=Object.getOwnPropertySymbols,r4=Object.prototype.hasOwnProperty,s4=Object.prototype.propertyIsEnumerable,IE=(r,e,t)=>e in r?t4(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class o4 extends lt{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(eo())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(t,n,a)=>{a?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),S.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const t=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(t,"dragstart",(n,a)=>this._handleBlockDragStart(a)),this._domEmitter.listenTo(y.document,"dragover",(n,a)=>this._handleBlockDragging(a)),this._domEmitter.listenTo(y.document,"drop",(n,a)=>this._handleBlockDragging(a)),this._domEmitter.listenTo(y.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&t.setAttribute("draggable","true"),this.on("change:isEnabled",(n,a,u)=>{t.setAttribute("draggable",u?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,n=t.document.selection,a=this.editor.editing.view,u=Array.from(n.getSelectedBlocks()),f=t.createRange(t.createPositionBefore(u[0]),t.createPositionAfter(u[u.length-1]));t.change(b=>b.setSelection(f)),this._isBlockDragging=!0,a.focus(),a.getObserver(Ig).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),n=e.clientY,a=document.elementFromPoint(t,n),u=this.editor.editing.view;var f,b;a&&a.closest(".ck-editor__editable")&&u.getObserver(Ig).onDomEvent((f=((w,A)=>{for(var E in A||(A={}))r4.call(A,E)&&IE(w,E,A[E]);if(ME)for(var E of ME(A))s4.call(A,E)&&IE(w,E,A[E]);return w})({},e),b={type:e.type,dataTransfer:e.dataTransfer,target:a,clientX:t,clientY:n,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()},n4(f,i4(b))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var OE=h(7793),a4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(OE.A,a4),OE.A.locals;class l4 extends lt{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=oa(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(eo())}static get pluginName(){return"DragDrop"}static get requires(){return[Ol,Pg,y_,o4]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(Ig),t.addObserver(Cg),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(n,a,u)=>{u?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(n,a,u)=>{u||this._finalizeDragging(!1)}),S.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,n=e.editing.view,a=n.document,u=e.plugins.get(y_);this.listenTo(a,"dragstart",(f,b)=>{if(b.target&&b.target.is("editableElement")||(this._prepareDraggedRange(b.target),!this._draggedRange))return void b.preventDefault();this._draggingUid=ee(),b.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",b.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const w=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(b.dataTransfer,w,"dragstart");const{dataTransfer:A,domTarget:E,domEvent:O}=b,{clientX:z}=O;this._updatePreview({dataTransfer:A,domTarget:E,clientX:z}),b.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(a,"dragend",(f,b)=>{this._finalizeDragging(!b.dataTransfer.isCanceled&&b.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(y.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(a,"dragenter",()=>{this.isEnabled&&n.focus()}),this.listenTo(a,"dragleave",()=>{u.removeDropMarkerDelayed()}),this.listenTo(a,"dragging",(f,b)=>{if(!this.isEnabled)return void(b.dataTransfer.dropEffect="none");const{clientX:w,clientY:A}=b.domEvent;u.updateDropMarker(b.target,b.targetRanges,w,A,this._blockMode,this._draggedRange),this._draggedRange||(b.dataTransfer.dropEffect="copy"),S.isGecko||(b.dataTransfer.effectAllowed=="copy"?b.dataTransfer.dropEffect="copy":["all","copyMove"].includes(b.dataTransfer.effectAllowed)&&(b.dataTransfer.dropEffect="move")),f.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,t=e.editing.view.document,n=e.plugins.get(y_);this.listenTo(t,"clipboardInput",(a,u)=>{if(u.method!="drop")return;const{clientX:f,clientY:b}=u.domEvent,w=n.getFinalDropRange(u.target,u.targetRanges,f,b,this._blockMode,this._draggedRange);if(!w)return this._finalizeDragging(!1),void a.stop();if(this._draggedRange&&this._draggingUid!=u.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),LE(u.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(w,!0))return this._finalizeDragging(!1),void a.stop();u.targetRanges=[e.editing.mapper.toViewRange(w)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Ol);e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const a=n.targetRanges.map(u=>this.editor.editing.mapper.toModelRange(u));this.editor.model.change(u=>u.setSelection(a))},{priority:"high"}),e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const a=LE(n.dataTransfer)=="move",u=!n.resultRange||!n.resultRange.isCollapsed;this._finalizeDragging(u&&a)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,n=t.document;this.listenTo(n,"mousedown",(a,u)=>{if(S.isAndroid||!u)return;this._clearDraggableAttributesDelayed.cancel();let f=BE(u.target);if(S.isBlink&&!e.isReadOnly&&!f&&!n.selection.isCollapsed){const b=n.selection.getSelectedElement();b&&as(b)||(f=n.selection.editableElement)}f&&(t.change(b=>{b.setAttribute("draggable","true",f)}),this._draggableElement=e.editing.mapper.toModelElement(f))}),this.listenTo(n,"mouseup",()=>{S.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const t=this.editor,n=t.model;t.plugins.get(y_).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&n.change(a=>{const u=n.createSelection(this._draggedRange);n.deleteContent(u,{doNotAutoparagraph:!0});const f=u.getFirstPosition().parent;f.isEmpty&&!n.schema.checkChild(f,"$text")&&n.schema.checkChild(f,"paragraph")&&a.insertElement("paragraph",f,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,n=t.model,a=n.document.selection,u=e?BE(e):null;if(u){const A=t.editing.mapper.toModelElement(u);this._draggedRange=dr.fromRange(n.createRangeOn(A)),this._blockMode=n.schema.isBlock(A),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(a.isCollapsed&&!a.getFirstPosition().parent.isEmpty)return;const f=Array.from(a.getSelectedBlocks()),b=a.getFirstRange();if(f.length==0)return void(this._draggedRange=dr.fromRange(b));const w=RE(n,f);if(f.length>1)this._draggedRange=dr.fromRange(w),this._blockMode=!0;else if(f.length==1){const A=b.start.isTouching(w.start)&&b.end.isTouching(w.end);this._draggedRange=dr.fromRange(A?w:b),this._blockMode=A}n.change(A=>A.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:t,clientX:n}){const a=this.editor.editing.view,u=a.document.selection.editableElement,f=a.domConverter.mapViewToDom(u),b=y.window.getComputedStyle(f);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=di(y.document,"div",{style:"position: fixed; left: -999999px;"}),y.document.body.appendChild(this._previewContainer));const w=new pn(f);if(f.contains(t))return;const A=parseFloat(b.paddingLeft),E=di(y.document,"div");E.className="ck ck-content",E.style.width=b.width,E.style.paddingLeft=`${w.left-n+A}px`,S.isiOS&&(E.style.backgroundColor="white"),E.innerHTML=e.getData("text/html"),e.setDragImage(E,0,0),this._previewContainer.appendChild(E)}}function LE(r){return S.isGecko?r.dropEffect:["all","copyMove"].includes(r.effectAllowed)?"move":"copy"}function BE(r){if(r.is("editableElement"))return null;if(r.hasClass("ck-widget__selection-handle"))return r.findAncestor(as);if(as(r))return r;const e=r.findAncestor(t=>as(t)||t.is("editableElement"));return as(e)?e:null}function RE(r,e){const t=e[0],n=e[e.length-1],a=t.getCommonAncestor(n),u=r.createPositionBefore(t),f=r.createPositionAfter(n);if(a&&a.is("element")&&!r.schema.isLimit(a)){const b=r.createRangeOn(a),w=u.isTouching(b.start),A=f.isTouching(b.end);if(w&&A)return RE(r,[a])}return r.createRange(u,f)}class c4 extends lt{static get pluginName(){return"PastePlainText"}static get requires(){return[Ol]}init(){const e=this.editor,t=e.model,n=e.editing.view,a=n.document,u=t.document.selection;let f=!1;n.addObserver(Ig),this.listenTo(a,"keydown",(b,w)=>{f=w.shiftKey}),e.plugins.get(Ol).on("contentInsertion",(b,w)=>{(f||function(A,E){if(A.childCount>1)return!1;const O=A.getChild(0);return E.isObject(O)?!1:Array.from(O.getAttributeKeys()).length==0}(w.content,t.schema))&&t.change(A=>{const E=Array.from(u.getAttributes()).filter(([z])=>t.schema.getAttributeProperties(z).isFormatting);u.isCollapsed||t.deleteContent(u,{doNotAutoparagraph:!0}),E.push(...u.getAttributes());const O=A.createRangeIn(w.content);for(const z of O.getItems())z.is("$textProxy")&&A.setAttributes(E,z)})})}}class PE extends lt{static get pluginName(){return"Clipboard"}static get requires(){return[Og,Ol,l4,c4]}init(){const e=this.editor,t=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Copy selected content"),keystroke:"CTRL+C"},{label:t("Paste content"),keystroke:"CTRL+V"},{label:t("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class d4 extends Ht{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!zE(e.schema,n))do if(n=n.parent,!n)return;while(!zE(e.schema,n));e.change(a=>{a.setSelection(n,"in")})}}function zE(r,e){return r.isLimit(e)&&(r.checkChild(e,"$text")||r.checkChild(e,"paragraph"))}const u4=Gt("Ctrl+A");class h4 extends lt{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,t=e.t,n=e.editing.view.document;e.commands.add("selectAll",new d4(e)),this.listenTo(n,"keydown",(a,u)=>{zt(u)===u4&&(e.execute("selectAll"),u.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Select all"),keystroke:"CTRL+A"}]})}}class m4 extends lt{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",()=>{const t=this._createButton(P);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(cl))}_createButton(e){const t=this.editor,n=t.locale,a=t.commands.get("selectAll"),u=new e(t.locale),f=n.t;return u.set({label:f("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),u.bind("isEnabled").to(a,"isEnabled"),this.listenTo(u,"execute",()=>{t.execute("selectAll"),t.editing.view.focus()}),u}}class f4 extends lt{static get requires(){return[h4,m4]}static get pluginName(){return"SelectAll"}}var p4=Object.defineProperty,FE=Object.getOwnPropertySymbols,g4=Object.prototype.hasOwnProperty,b4=Object.prototype.propertyIsEnumerable,HE=(r,e,t)=>e in r?p4(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class VE extends Ht{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(t,n)=>{n[1]=((u,f)=>{for(var b in f||(f={}))g4.call(f,b)&&HE(u,b,f[b]);if(FE)for(var b of FE(f))b4.call(f,b)&&HE(u,b,f[b]);return u})({},n[1]);const a=n[1];a.batchType||(a.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,n)=>{n[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,n){const a=this.editor.model,u=a.document,f=[],b=e.map(A=>A.getTransformedByOperations(n)),w=b.flat();for(const A of b){const E=A.filter(O=>O.root!=u.graveyard).filter(O=>!_4(O,w));E.length&&(k4(E),f.push(E[0]))}f.length&&a.change(A=>{A.setSelection(f,{backward:t})})}_undo(e,t){const n=this.editor.model,a=n.document;this._createdBatches.add(t);const u=e.operations.slice().filter(f=>f.isDocumentOperation);u.reverse();for(const f of u){const b=f.baseVersion+1,w=Array.from(a.history.getOperations(b)),A=Sk([f.getReversed()],w,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let E of A){const O=E.affectedSelectable;O&&!n.canEditAt(O)&&(E=new qr(E.baseVersion)),t.addOperation(E),n.applyOperation(E),a.history.setOperationAsUndone(f,E)}}}}function k4(r){r.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<r.length;e++){const t=r[e-1].getJoined(r[e],!0);t&&(e--,r.splice(e,2,t))}}function _4(r,e){return e.some(t=>t!==r&&t.containsRange(r,!0))}class v4 extends VE{execute(e=null){const t=e?this._stack.findIndex(u=>u.batch==e):this._stack.length-1,n=this._stack.splice(t,1)[0],a=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(a,()=>{this._undo(n.batch,a);const u=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,u)}),this.fire("revert",n.batch,a),this.refresh()}}class w4 extends VE{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const n=e.batch.operations[e.batch.operations.length-1].baseVersion+1,a=this.editor.model.document.history.getOperations(n);this._restoreSelection(e.selection.ranges,e.selection.isBackward,a),this._undo(e.batch,t)}),this.refresh()}}class y4 extends lt{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor,t=e.t;this._undoCommand=new v4(e),this._redoCommand=new w4(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(n,a)=>{const u=a[0];if(!u.isDocumentOperation)return;const f=u.batch,b=this._redoCommand.createdBatches.has(f),w=this._undoCommand.createdBatches.has(f);this._batchRegistry.has(f)||(this._batchRegistry.add(f),f.isUndoable&&(b?this._undoCommand.addBatch(f):w||(this._undoCommand.addBatch(f),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(n,a,u)=>{this._redoCommand.addBatch(u)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Undo"),keystroke:"CTRL+Z"},{label:t("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class x4 extends lt{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,n=e.t,a=t.uiLanguageDirection=="ltr"?Mn.undo:Mn.redo,u=t.uiLanguageDirection=="ltr"?Mn.redo:Mn.undo;this._addButtonsToFactory("undo",n("Undo"),"CTRL+Z",a),this._addButtonsToFactory("redo",n("Redo"),"CTRL+Y",u)}_addButtonsToFactory(e,t,n,a){const u=this.editor;u.ui.componentFactory.add(e,()=>{const f=this._createButton(P,e,t,n,a);return f.set({tooltip:!0}),f}),u.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(cl,e,t,n,a))}_createButton(e,t,n,a,u){const f=this.editor,b=f.locale,w=f.commands.get(t),A=new e(b);return A.set({label:n,icon:u,keystroke:a}),A.bind("isEnabled").to(w,"isEnabled"),this.listenTo(A,"execute",()=>{f.execute(t),f.editing.view.focus()}),A}}class UE extends lt{static get requires(){return[y4,x4]}static get pluginName(){return"Undo"}}class C4 extends Oe(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((n,a)=>{t.onload=()=>{const u=t.result;this._data=u,n(u)},t.onerror=()=>{a("error")},t.onabort=()=>{a("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class _c extends lt{constructor(){super(...arguments),this.loaders=new Fo,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[e_]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return de("filerepository-no-upload-adapter"),null;const t=new $E(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(n=>{this._loadersMap.set(n,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let n=0;for(const a of this.loaders)n+=a.uploaded;this.uploaded=n}),t.on("change:uploadTotal",()=>{let n=0;for(const a of this.loaders)a.uploadTotal&&(n+=a.uploadTotal);this.uploadTotal=n}),t}destroyLoader(e){const t=e instanceof $E?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((n,a)=>{n===t&&this._loadersMap.delete(a)})}_updatePendingAction(){const e=this.editor.plugins.get(e_);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,n=a=>`${t("Upload in progress")} ${parseInt(a)}%.`;this._pendingAction=e.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else e.remove(this._pendingAction),this._pendingAction=null}}class $E extends Oe(){constructor(e,t){super(),this.id=ee(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new C4,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(n,a)=>a?n/a*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new q("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new q("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((n,a)=>{t.rejecter=a,t.isFulfilled=!1,e.then(u=>{t.isFulfilled=!0,n(u)}).catch(u=>{t.isFulfilled=!0,a(u)})}),t}}const qE="ckCsrfToken",WE="abcdefghijklmnopqrstuvwxyz0123456789";function A4(){let r=function(n){n=n.toLowerCase();const a=document.cookie.split(";");for(const u of a){const f=u.split("=");if(decodeURIComponent(f[0].trim().toLowerCase())===n)return decodeURIComponent(f[1])}return null}(qE);var e,t;return r&&r.length==40||(r=function(n){let a="";const u=new Uint8Array(n);window.crypto.getRandomValues(u);for(let f=0;f<u.length;f++){const b=WE.charAt(u[f]%WE.length);a+=Math.random()>.5?b.toUpperCase():b}return a}(40),e=qE,t=r,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/"),r}class N4{constructor(e,t,n){this.loader=e,this.url=t,this.t=n}upload(){return this.loader.file.then(e=>new Promise((t,n)=>{this._initRequest(),this._initListeners(t,n,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,t,n){const a=this.xhr,u=this.loader,f=(0,this.t)("Cannot upload file:")+` ${n.name}.`;a.addEventListener("error",()=>t(f)),a.addEventListener("abort",()=>t()),a.addEventListener("load",()=>{const b=a.response;if(!b||!b.uploaded)return t(b&&b.error&&b.error.message?b.error.message:f);e({default:b.url})}),a.upload&&a.upload.addEventListener("progress",b=>{b.lengthComputable&&(u.uploadTotal=b.total,u.uploaded=b.loaded)})}_sendRequest(e){const t=new FormData;t.append("upload",e),t.append("ckCsrfToken",A4()),this.xhr.send(t)}}function uh(r,e,t,n){let a,u=null;typeof n=="function"?a=n:(u=r.commands.get(n),a=()=>{r.execute(n)}),r.model.document.on("change:data",(f,b)=>{if(u&&!u.isEnabled||!e.isEnabled)return;const w=Un(r.model.document.selection.getRanges());if(!w.isCollapsed||b.isUndo||!b.isLocal)return;const A=Array.from(r.model.document.differ.getChanges()),E=A[0];if(A.length!=1||E.type!=="insert"||E.name!="$text"||E.length!=1)return;const O=E.position.parent;if(O.is("element","codeBlock")||O.is("element","listItem")&&typeof n!="function"&&!["numberedList","bulletedList","todoList"].includes(n)||u&&u.value===!0)return;const z=O.getChild(0),U=r.model.createRangeOn(z);if(!U.containsRange(w)&&!w.end.isEqual(U.end))return;const W=t.exec(z.data.substr(0,w.end.offset));W&&r.model.enqueueChange(X=>{const ae=X.createPositionAt(O,0),ge=X.createPositionAt(O,W[0].length),Me=new dr(ae,ge);if(a({match:W})!==!1){X.remove(Me);const Ze=r.model.document.selection.getFirstRange(),pt=X.createRangeIn(O);!O.isEmpty||pt.isEqual(Ze)||pt.containsRange(Ze,!0)||X.remove(O)}Me.detach(),r.model.enqueueChange(()=>{r.plugins.get("Delete").requestUndoOnBackspace()})})})}function Gf(r,e,t,n){let a,u;t instanceof RegExp?a=t:u=t,u=u||(f=>{let b;const w=[],A=[];for(;(b=a.exec(f))!==null&&!(b&&b.length<4);){let{index:E,1:O,2:z,3:U}=b;const W=O+z+U;E+=b[0].length-W.length;const X=[E,E+O.length],ae=[E+O.length+z.length,E+O.length+z.length+U.length];w.push(X),w.push(ae),A.push([E+O.length,E+O.length+z.length])}return{remove:w,format:A}}),r.model.document.on("change:data",(f,b)=>{if(b.isUndo||!b.isLocal||!e.isEnabled)return;const w=r.model,A=w.document.selection;if(!A.isCollapsed)return;const E=Array.from(w.document.differ.getChanges()),O=E[0];if(E.length!=1||O.type!=="insert"||O.name!="$text"||O.length!=1)return;const z=A.focus,U=z.parent,{text:W,range:X}=function(Ze,pt){let Vt=Ze.start;return{text:Array.from(Ze.getItems()).reduce((zn,ar)=>!ar.is("$text")&&!ar.is("$textProxy")||ar.getAttribute("code")?(Vt=pt.createPositionAfter(ar),""):zn+ar.data,""),range:pt.createRange(Vt,Ze.end)}}(w.createRange(w.createPositionAt(U,0),z),w),ae=u(W),ge=YE(X.start,ae.format,w),Me=YE(X.start,ae.remove,w);ge.length&&Me.length&&w.enqueueChange(Ze=>{if(n(Ze,ge)!==!1){for(const pt of Me.reverse())Ze.remove(pt);w.enqueueChange(()=>{r.plugins.get("Delete").requestUndoOnBackspace()})}})})}function YE(r,e,t){return e.filter(n=>n[0]!==void 0&&n[1]!==void 0).map(n=>t.createRange(r.getShiftedBy(n[0]),r.getShiftedBy(n[1])))}function C_(r,e){return(t,n)=>{if(!r.commands.get(e).isEnabled)return!1;const a=r.model.schema.getValidRanges(n,e);for(const u of a)t.setAttribute(e,!0,u);t.removeSelectionAttribute(e)}}class GE extends Ht{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,n=t.document.selection,a=e.forceValue===void 0?!this.value:e.forceValue;t.change(u=>{if(n.isCollapsed)a?u.setSelectionAttribute(this.attributeKey,!0):u.removeSelectionAttribute(this.attributeKey);else{const f=t.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const b of f)a?u.setAttribute(this.attributeKey,a,b):u.removeAttribute(this.attributeKey,b)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const a of n.getRanges())for(const u of a.getItems())if(t.checkAttribute(u,this.attributeKey))return u.hasAttribute(this.attributeKey);return!1}}const Kf="bold";class E4 extends lt{static get pluginName(){return"BoldEditing"}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Kf}),e.model.schema.setAttributeProperties(Kf,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Kf,view:"strong",upcastAlso:["b",n=>{const a=n.getStyle("font-weight");return a&&(a=="bold"||Number(a)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(Kf,new GE(e,Kf)),e.keystrokes.set("CTRL+B",Kf),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Bold text"),keystroke:"CTRL+B"}]})}}function KE({editor:r,commandName:e,plugin:t,icon:n,label:a,keystroke:u}){return f=>{const b=r.commands.get(e),w=new f(r.locale);return w.set({label:a,icon:n,keystroke:u,isToggleable:!0}),w.bind("isEnabled").to(b,"isEnabled"),t.listenTo(w,"execute",()=>{r.execute(e),r.editing.view.focus()}),w}}const A_="bold";class S4 extends lt{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.locale.t,n=e.commands.get(A_),a=KE({editor:e,commandName:A_,plugin:this,icon:Mn.bold,label:t("Bold"),keystroke:"CTRL+B"});e.ui.componentFactory.add(A_,()=>{const u=a(P);return u.set({tooltip:!0}),u.bind("isOn").to(n,"value"),u}),e.ui.componentFactory.add("menuBar:"+A_,()=>a(cl))}}var QE=h(4199),j4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(QE.A,j4),QE.A.locals;const Qf="italic";class D4 extends lt{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Qf}),e.model.schema.setAttributeProperties(Qf,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Qf,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Qf,new GE(e,Qf)),e.keystrokes.set("CTRL+I",Qf),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Italic text"),keystroke:"CTRL+I"}]})}}const N_="italic";class T4 extends lt{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.commands.get(N_),n=e.locale.t,a=KE({editor:e,commandName:N_,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:n("Italic")});e.ui.componentFactory.add(N_,()=>{const u=a(P);return u.set({tooltip:!0}),u.bind("isOn").to(t,"value"),u}),e.ui.componentFactory.add("menuBar:"+N_,()=>a(cl))}}class M4 extends Ht{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.schema,a=t.document.selection,u=Array.from(a.getSelectedBlocks()),f=e.forceValue===void 0?!this.value:e.forceValue;t.change(b=>{if(f){const w=u.filter(A=>E_(A)||XE(n,A));this._applyQuote(b,w)}else this._removeQuote(b,u.filter(E_))})}_getValue(){const e=Un(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!E_(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=Un(e.getSelectedBlocks());return!!n&&XE(t,n)}_removeQuote(e,t){ZE(e,t).reverse().forEach(n=>{if(n.start.isAtStart&&n.end.isAtEnd)return void e.unwrap(n.start.parent);if(n.start.isAtStart){const u=e.createPositionBefore(n.start.parent);return void e.move(n,u)}n.end.isAtEnd||e.split(n.end);const a=e.createPositionAfter(n.end.parent);e.move(n,a)})}_applyQuote(e,t){const n=[];ZE(e,t).reverse().forEach(a=>{let u=E_(a.start);u||(u=e.createElement("blockQuote"),e.wrap(a,u)),n.push(u)}),n.reverse().reduce((a,u)=>a.nextSibling==u?(e.merge(e.createPositionAfter(a)),a):u)}}function E_(r){return r.parent.name=="blockQuote"?r.parent:null}function ZE(r,e){let t,n=0;const a=[];for(;n<e.length;){const u=e[n],f=e[n+1];t||(t=r.createPositionBefore(u)),f&&u.nextSibling==f||(a.push(r.createRange(t,r.createPositionAfter(u))),t=null),n++}return a}function XE(r,e){const t=r.checkChild(e.parent,"blockQuote"),n=r.checkChild(["$root","blockQuote"],e);return t&&n}class I4 extends lt{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[__,au]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new M4(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(f=>{const b=e.model.document.differ.getChanges();for(const w of b)if(w.type=="insert"){const A=w.position.nodeAfter;if(!A)continue;if(A.is("element","blockQuote")&&A.isEmpty)return f.remove(A),!0;if(A.is("element","blockQuote")&&!t.checkChild(w.position,A))return f.unwrap(A),!0;if(A.is("element")){const E=f.createRangeIn(A);for(const O of E.getItems())if(O.is("element","blockQuote")&&!t.checkChild(f.createPositionBefore(O),O))return f.unwrap(O),!0}}else if(w.type=="remove"){const A=w.position.parent;if(A.is("element","blockQuote")&&A.isEmpty)return f.remove(A),!0}return!1});const n=this.editor.editing.view.document,a=e.model.document.selection,u=e.commands.get("blockQuote");this.listenTo(n,"enter",(f,b)=>{!a.isCollapsed||!u.value||a.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),b.preventDefault(),f.stop())},{context:"blockquote"}),this.listenTo(n,"delete",(f,b)=>{if(b.direction!="backward"||!a.isCollapsed||!u.value)return;const w=a.getLastPosition().parent;w.isEmpty&&!w.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),b.preventDefault(),f.stop())},{context:"blockquote"})}}var JE=h(8708),O4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(JE.A,O4),JE.A.locals;class L4 extends lt{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,t=e.commands.get("blockQuote");e.ui.componentFactory.add("blockQuote",()=>{const n=this._createButton(P);return n.set({tooltip:!0}),n.bind("isOn").to(t,"value"),n}),e.ui.componentFactory.add("menuBar:blockQuote",()=>this._createButton(cl))}_createButton(e){const t=this.editor,n=t.locale,a=t.commands.get("blockQuote"),u=new e(t.locale),f=n.t;return u.set({label:f("Block quote"),icon:Mn.quote,isToggleable:!0}),u.bind("isEnabled").to(a,"isEnabled"),this.listenTo(u,"execute",()=>{t.execute("blockQuote"),t.editing.view.focus()}),u}}class B4 extends lt{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor;if(!e.commands.get("ckbox"))return;const t=e.t,n=e.ui.componentFactory;if(n.add("ckbox",()=>{const a=this._createButton(P);return a.tooltip=!0,a}),n.add("menuBar:ckbox",()=>this._createButton(cl)),e.plugins.has("ImageInsertUI")){const a=e.plugins.get("ImageInsertUI");a.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckbox"),buttonViewCreator:()=>{const u=this.editor.ui.componentFactory.create("ckbox");return u.icon=Mn.imageAssetManager,u.bind("label").to(a,"isImageSelected",f=>t(f?"Replace image with file manager":"Insert image with file manager")),u},formViewCreator:()=>{const u=this.editor.ui.componentFactory.create("ckbox");return u.icon=Mn.imageAssetManager,u.withText=!0,u.bind("label").to(a,"isImageSelected",f=>t(f?"Replace with file manager":"Insert with file manager")),u.on("execute",()=>{a.dropdownView.isOpen=!1}),u}})}}_createButton(e){const t=this.editor,n=t.locale,a=new e(n),u=t.commands.get("ckbox"),f=n.t;return a.set({label:f("Open file manager"),icon:Mn.browseFiles}),a.bind("isOn","isEnabled").to(u,"value","isEnabled"),a.on("execute",()=>{t.execute("ckbox")}),a}}var R4=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],zg=r=>{let e=0;for(let t=0;t<r.length;t++){let n=r[t];e=83*e+R4.indexOf(n)}return e},ky=r=>{let e=r/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},_y=r=>{let e=Math.max(0,Math.min(1,r));return e<=.0031308?Math.trunc(12.92*e*255+.5):Math.trunc(255*(1.055*Math.pow(e,.4166666666666667)-.055)+.5)},vy=(r,e)=>(t=>t<0?-1:1)(r)*Math.pow(Math.abs(r),e),eS=class extends Error{constructor(r){super(r),this.name="ValidationError",this.message=r}},P4=r=>{if(!r||r.length<6)throw new eS("The blurhash string must be at least 6 characters");let e=zg(r[0]),t=Math.floor(e/9)+1,n=e%9+1;if(r.length!==4+2*n*t)throw new eS(`blurhash length mismatch: length is ${r.length} but it should be ${4+2*n*t}`)},z4=r=>{let e=r>>8&255,t=255&r;return[ky(r>>16),ky(e),ky(t)]},F4=(r,e)=>{let t=Math.floor(r/361),n=Math.floor(r/19)%19,a=r%19;return[vy((t-9)/9,2)*e,vy((n-9)/9,2)*e,vy((a-9)/9,2)*e]},H4=(r,e,t,n)=>{P4(r),n|=1;let a=zg(r[0]),u=Math.floor(a/9)+1,f=a%9+1,b=(zg(r[1])+1)/166,w=new Array(f*u);for(let O=0;O<w.length;O++)if(O===0){let z=zg(r.substring(2,6));w[O]=z4(z)}else{let z=zg(r.substring(4+2*O,6+2*O));w[O]=F4(z,b*n)}let A=4*e,E=new Uint8ClampedArray(A*t);for(let O=0;O<t;O++)for(let z=0;z<e;z++){let U=0,W=0,X=0;for(let Ze=0;Ze<u;Ze++)for(let pt=0;pt<f;pt++){let Vt=Math.cos(Math.PI*z*pt/e)*Math.cos(Math.PI*O*Ze/t),En=w[pt+Ze*f];U+=En[0]*Vt,W+=En[1]*Vt,X+=En[2]*Vt}let ae=_y(U),ge=_y(W),Me=_y(X);E[4*z+0+O*A]=ae,E[4*z+1+O*A]=ge,E[4*z+2+O*A]=Me,E[4*z+3+O*A]=255}return E},V4=Object.defineProperty,tS=Object.getOwnPropertySymbols,U4=Object.prototype.hasOwnProperty,$4=Object.prototype.propertyIsEnumerable,nS=(r,e,t)=>e in r?V4(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;function iS(r){const e=[];let t=0;for(const a in r){const u=parseInt(a,10);isNaN(u)||(u>t&&(t=u),e.push(`${r[a]} ${a}w`))}const n=[{srcset:e.join(","),sizes:`(max-width: ${t}px) 100vw, ${t}px`,type:"image/webp"}];return{imageFallbackUrl:r.default,imageSources:n}}const Fg=32;function rS({url:r,method:e="GET",data:t,onUploadProgress:n,signal:a,authorization:u}){const f=new XMLHttpRequest;f.open(e,r.toString()),f.setRequestHeader("Authorization",u),f.setRequestHeader("CKBox-Version","CKEditor 5"),f.responseType="json";const b=()=>{f.abort()};return new Promise((w,A)=>{a.throwIfAborted(),a.addEventListener("abort",b),f.addEventListener("loadstart",()=>{a.addEventListener("abort",b)}),f.addEventListener("loadend",()=>{a.removeEventListener("abort",b)}),f.addEventListener("error",()=>{A()}),f.addEventListener("abort",()=>{A()}),f.addEventListener("load",()=>{const E=f.response;if(!E||E.statusCode>=400)return A(E&&E.message);w(E)}),n&&f.upload.addEventListener("progress",E=>{n(E)}),f.send(t)})}const q4={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};function W4(r,e){return t=this,n=null,a=function*(){try{const u=yield fetch(r,((f,b)=>{for(var w in b||(b={}))U4.call(b,w)&&nS(f,w,b[w]);if(tS)for(var w of tS(b))$4.call(b,w)&&nS(f,w,b[w]);return f})({method:"HEAD",cache:"force-cache"},e));return u.ok&&u.headers.get("content-type")||""}catch{return""}},new Promise((u,f)=>{var b=E=>{try{A(a.next(E))}catch(O){f(O)}},w=E=>{try{A(a.throw(E))}catch(O){f(O)}},A=E=>E.done?u(E.value):Promise.resolve(E.value).then(b,w);A((a=a.apply(t,n)).next())});var t,n,a}var Y4=Object.defineProperty,sS=Object.getOwnPropertySymbols,G4=Object.prototype.hasOwnProperty,K4=Object.prototype.propertyIsEnumerable,oS=(r,e,t)=>e in r?Y4(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,aS=(r,e)=>{for(var t in e||(e={}))G4.call(e,t)&&oS(r,t,e[t]);if(sS)for(var t of sS(e))K4.call(e,t)&&oS(r,t,e[t]);return r};class Q4 extends Ht{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");return!(!e.isEnabled&&!t.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,forceDemoLabel:e.forceDemoLabel,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:t=>this.fire("ckbox:choose",t)}}}_initListeners(){const e=this.editor,t=e.model,n=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=di(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,e.editing.view.focus())}),this.on("ckbox:choose",(a,u)=>{if(!this.isEnabled)return;const f=e.commands.get("insertImage"),b=e.commands.get("link"),w=function({assets:E,isImageAllowed:O,isLinkAllowed:z}){return E.map(U=>function(W){const X=W.data.metadata;return X?X.width&&X.height:!1}(U)?{id:U.data.id,type:"image",attributes:Z4(U)}:{id:U.data.id,type:"link",attributes:X4(U)}).filter(U=>U.type==="image"?O:z)}({assets:u,isImageAllowed:f.isEnabled,isLinkAllowed:b.isEnabled}),A=w.length;A!==0&&(t.change(E=>{for(const O of w){const z=O===w[A-1],U=A===1;this._insertAsset(O,z,E,U),n&&(setTimeout(()=>this._chosenAssets.delete(O),1e3),this._chosenAssets.add(O))}}),e.editing.view.focus())}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,t,n,a){const u=this.editor.model.document.selection;n.removeSelectionAttribute("linkHref"),e.type==="image"?this._insertImage(e):this._insertLink(e,n,a),t||n.setSelection(u.getLastPosition())}_insertImage(e){const t=this.editor,{imageFallbackUrl:n,imageSources:a,imageTextAlternative:u,imageWidth:f,imageHeight:b,imagePlaceholder:w}=e.attributes;t.execute("insertImage",{source:aS({src:n,sources:a,alt:u,width:f,height:b},w?{placeholder:w}:null)})}_insertLink(e,t,n){const a=this.editor,u=a.model,f=u.document.selection,{linkName:b,linkHref:w}=e.attributes;if(f.isCollapsed){const A=io(f.getAttributes()),E=t.createText(b,A);if(!n){const z=f.getLastPosition(),U=z.parent;U.name==="paragraph"&&U.isEmpty||a.execute("insertParagraph",{position:z});const W=u.insertContent(E);return t.setSelection(W),void a.execute("link",w)}const O=u.insertContent(E);t.setSelection(O)}a.execute("link",w)}}function Z4(r){const{imageFallbackUrl:e,imageSources:t}=iS(r.data.imageUrls),{description:n,width:a,height:u,blurHash:f}=r.data.metadata,b=function(w){if(w)try{const A=`${Fg}px`,E=document.createElement("canvas");E.setAttribute("width",A),E.setAttribute("height",A);const O=E.getContext("2d");if(!O)return;const z=O.createImageData(Fg,Fg),U=H4(w,Fg,Fg);return z.data.set(U),O.putImageData(z,0,0),E.toDataURL()}catch{return}}(f);return aS({imageFallbackUrl:e,imageSources:t,imageTextAlternative:n||"",imageWidth:a,imageHeight:u},b?{imagePlaceholder:b}:null)}function X4(r){return{linkName:r.data.name,linkHref:J4(r)}}function J4(r){const e=new URL(r.data.url);return e.searchParams.set("download","true"),e.toString()}var wy=(r,e,t)=>new Promise((n,a)=>{var u=w=>{try{b(t.next(w))}catch(A){a(A)}},f=w=>{try{b(t.throw(w))}catch(A){a(A)}},b=w=>w.done?n(w.value):Promise.resolve(w.value).then(u,f);b((t=t.apply(r,e)).next())});class lS extends lt{static get pluginName(){return"CKBoxUtils"}static get requires(){return["CloudServices"]}init(){return wy(this,null,function*(){const e=this.editor,t=!!e.config.get("ckbox"),n=!!window.CKBox;if(!t&&!n)return;e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"lark",tokenUrl:e.config.get("cloudServices.tokenUrl")});const a=e.plugins.get("CloudServices"),u=e.config.get("cloudServices.tokenUrl"),f=e.config.get("ckbox.tokenUrl");if(!f)throw new q("ckbox-plugin-missing-token-url",this);this._token=f==u?a.token:yield a.registerTokenUrl(f)})}getToken(){return this._token}getWorkspaceId(){const e=(0,this.editor.t)("Cannot access default workspace."),t=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),n=function(a,u){const[,f]=a.value.split("."),b=JSON.parse(atob(f)),w=b.auth&&b.auth.ckbox&&b.auth.ckbox.workspaces||[b.aud];return u?(b.auth&&b.auth.ckbox&&b.auth.ckbox.role)=="superadmin"||w.includes(u)?u:null:w[0]}(this._token,t);if(n==null)throw re("ckbox-access-default-workspace-error"),e;return n}getCategoryIdForFile(e,t){return wy(this,null,function*(){const n=(0,this.editor.t)("Cannot determine a category for the uploaded file."),a=this.editor.config.get("ckbox.defaultUploadCategories"),u=this._getAvailableCategories(t),f=typeof e=="string"?(b=yield W4(e,t),q4[b]):function(E){const O=E.name,z=new RegExp("\\.(?<ext>[^.]+)$");return O.match(z).groups.ext.toLowerCase()}(e);var b;const w=yield u;if(!w)throw n;if(a){const E=Object.keys(a).find(O=>a[O].find(z=>z.toLowerCase()==f));if(E){const O=w.find(z=>z.id===E||z.name===E);if(!O)throw n;return O.id}}const A=w.find(E=>E.extensions.find(O=>O.toLowerCase()==f));if(!A)throw n;return A.id})}_getAvailableCategories(e){return wy(this,null,function*(){const t=this.editor,n=this._token,{signal:a}=e,u=t.config.get("ckbox.serviceOrigin"),f=this.getWorkspaceId();try{const w=[];let A,E=0;do{const O=yield b(E);w.push(...O.items),A=O.totalCount-(E+50),E+=50}while(A>0);return w}catch{return a.throwIfAborted(),void re("ckbox-fetch-category-http-error")}function b(w){const A=new URL("categories",u);return A.searchParams.set("limit","50"),A.searchParams.set("offset",w.toString()),A.searchParams.set("workspaceId",f),rS({url:A,signal:a,authorization:n.value})}})}}var yy=(r,e,t)=>new Promise((n,a)=>{var u=w=>{try{b(t.next(w))}catch(A){a(A)}},f=w=>{try{b(t.throw(w))}catch(A){a(A)}},b=w=>w.done?n(w.value):Promise.resolve(w.value).then(u,f);b((t=t.apply(r,e)).next())});class ez extends lt{static get requires(){return["ImageUploadEditing","ImageUploadProgress",_c,cS]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return yy(this,null,function*(){const e=this.editor,t=!!e.config.get("ckbox"),n=!!window.CKBox;if(!t&&!n)return;const a=e.plugins.get(_c),u=e.plugins.get(lS);a.createUploadAdapter=w=>new tz(w,e,u);const f=!e.config.get("ckbox.ignoreDataId"),b=e.plugins.get("ImageUploadEditing");f&&b.on("uploadComplete",(w,{imageElement:A,data:E})=>{e.model.change(O=>{O.setAttribute("ckboxImageId",E.ckboxImageId,A)})})})}}class tz{constructor(e,t,n){this.loader=e,this.token=n.getToken(),this.ckboxUtils=n,this.editor=t,this.controller=new AbortController,this.serviceOrigin=t.config.get("ckbox.serviceOrigin")}upload(){return yy(this,null,function*(){const e=this.ckboxUtils,t=this.editor.t,n=yield this.loader.file,a=yield e.getCategoryIdForFile(n,{signal:this.controller.signal}),u=new URL("assets",this.serviceOrigin),f=new FormData;return u.searchParams.set("workspaceId",e.getWorkspaceId()),f.append("categoryId",a),f.append("file",n),rS({method:"POST",url:u,data:f,onUploadProgress:b=>{b.lengthComputable&&(this.loader.uploadTotal=b.total,this.loader.uploaded=b.loaded)},signal:this.controller.signal,authorization:this.token.value}).then(b=>yy(this,null,function*(){const w=iS(b.imageUrls);return{ckboxImageId:b.id,default:w.imageFallbackUrl,sources:w.imageSources}})).catch(()=>{const b=t("Cannot upload file:")+` ${n.name}.`;return Promise.reject(b)})})}abort(){this.controller.abort()}}class cS extends lt{static get pluginName(){return"CKBoxEditing"}static get requires(){return["LinkEditing","PictureEditing",ez,lS]}init(){const e=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),uS()&&e.commands.add("ckbox",new Q4(e)))}afterInit(){const e=this.editor;this._shouldBeInitialised()&&(e.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||uS()}_checkImagePlugins(){const e=this.editor;e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||re("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((t,n)=>{if(!t.last.getAttribute("linkHref")&&n==="ckboxLinkId")return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(n=>{n.on("attribute:ckboxLinkId:imageBlock",(a,u,f)=>{const{writer:b,mapper:w,consumable:A}=f;if(!A.consume(u.item,a.name))return;const E=[...w.toViewElement(u.item).getChildren()].find(O=>O.name==="a");E&&(u.item.hasAttribute("ckboxLinkId")?b.setAttribute("data-ckbox-resource-id",u.item.getAttribute("ckboxLinkId"),E):b.removeAttribute("data-ckbox-resource-id",E))},{priority:"low"}),n.on("attribute:ckboxLinkId",(a,u,f)=>{const{writer:b,mapper:w,consumable:A}=f;if(A.consume(u.item,a.name)){if(u.attributeOldValue){const E=dS(b,u.attributeOldValue);b.unwrap(w.toViewRange(u.range),E)}if(u.attributeNewValue){const E=dS(b,u.attributeNewValue);if(u.item.is("selection")){const O=b.document.selection;b.wrap(O.getFirstRange(),E)}else b.wrap(w.toViewRange(u.range),E)}}},{priority:"low"})}),e.conversion.for("upcast").add(n=>{n.on("element:a",(a,u,f)=>{const{writer:b,consumable:w}=f;if(!u.viewItem.getAttribute("href")||!w.consume(u.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const A=u.viewItem.getAttribute("data-ckbox-resource-id");if(A)if(u.modelRange)for(let E of u.modelRange.getItems())E.is("$textProxy")&&(E=E.textNode),iz(E)&&b.setAttribute("ckboxLinkId",A,E);else{const E=u.modelCursor.nodeBefore||u.modelCursor.parent;b.setAttribute("ckboxLinkId",A,E)}},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:n=>n.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const t=e.commands.get("replaceImageSource");t&&this.listenTo(t,"cleanupImage",(n,[a,u])=>{a.removeAttribute("ckboxImageId",u)})}_initFixers(){const e=this.editor,t=e.model,n=t.document.selection;t.document.registerPostFixer(function(a){return u=>{let f=!1;const b=a.model,w=a.commands.get("ckbox");if(!w)return f;for(const A of b.document.differ.getChanges()){if(A.type!=="insert"&&A.type!=="attribute")continue;const E=A.type==="insert"?new Je(A.position,A.position.getShiftedBy(A.length)):A.range,O=A.type==="attribute"&&A.attributeKey==="linkHref"&&A.attributeNewValue===null;for(const z of E.getItems()){if(O&&z.hasAttribute("ckboxLinkId")){u.removeAttribute("ckboxLinkId",z),f=!0;continue}const U=nz(z,w._chosenAssets);for(const W of U){const X=W.type==="image"?"ckboxImageId":"ckboxLinkId";W.id!==z.getAttribute(X)&&(u.setAttribute(X,W.id,z),f=!0)}}}return f}}(e)),t.document.registerPostFixer(function(a){return u=>!(a.hasAttribute("linkHref")||!a.hasAttribute("ckboxLinkId"))&&(u.removeSelectionAttribute("ckboxLinkId"),!0)}(n))}}function nz(r,e){const t=r.is("element","imageInline")||r.is("element","imageBlock"),n=r.hasAttribute("linkHref");return[...e].filter(a=>a.type==="image"&&t?a.attributes.imageFallbackUrl===r.getAttribute("src"):a.type==="link"&&n?a.attributes.linkHref===r.getAttribute("linkHref"):void 0)}function dS(r,e){const t=r.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return r.setCustomProperty("link",!0,t),t}function iz(r){return!!r.is("$text")||!(!r.is("element","imageInline")&&!r.is("element","imageBlock"))}function uS(){return!!window.CKBox}var hS=h(1866),rz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(hS.A,rz),hS.A.locals;class sz extends lt{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,t=e.ui.componentFactory,n=e.t;if(t.add("ckfinder",a=>{const u=this._createButton(P),f=a.t;return u.set({label:f("Insert image or file"),tooltip:!0}),u}),t.add("menuBar:ckfinder",a=>{const u=this._createButton(cl),f=a.t;return u.label=f("Image or file"),u}),e.plugins.has("ImageInsertUI")){const a=e.plugins.get("ImageInsertUI");a.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckfinder"),buttonViewCreator:()=>{const u=this.editor.ui.componentFactory.create("ckfinder");return u.icon=Mn.imageAssetManager,u.bind("label").to(a,"isImageSelected",f=>n(f?"Replace image with file manager":"Insert image with file manager")),u},formViewCreator:()=>{const u=this.editor.ui.componentFactory.create("ckfinder");return u.icon=Mn.imageAssetManager,u.withText=!0,u.bind("label").to(a,"isImageSelected",f=>n(f?"Replace with file manager":"Insert with file manager")),u.on("execute",()=>{a.dropdownView.isOpen=!1}),u}})}}_createButton(e){const t=this.editor,n=new e(t.locale),a=t.commands.get("ckfinder");return n.icon=Mn.browseFiles,n.bind("isEnabled").to(a),n.on("execute",()=>{t.execute("ckfinder"),t.editing.view.focus()}),n}}class oz extends Ht{constructor(e){super(e),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");this.isEnabled=e.isEnabled||t.isEnabled}execute(){const e=this.editor,t=this.editor.config.get("ckfinder.openerMethod")||"modal";if(t!="popup"&&t!="modal")throw new q("ckfinder-unknown-openermethod",e);const n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;const a=n.onInit;n.language||(n.language=e.locale.uiLanguage),n.onInit=u=>{a&&a(u),u.on("files:choose",f=>{const b=f.data.files.toArray(),w=b.filter(O=>!O.isImage()),A=b.filter(O=>O.isImage());for(const O of w)e.execute("link",O.getUrl());const E=[];for(const O of A){const z=O.getUrl();E.push(z||u.request("file:getProxyUrl",{file:O}))}E.length&&mS(e,E)}),u.on("file:choose:resizedImage",f=>{const b=f.data.resizedUrl;if(b)mS(e,[b]);else{const w=e.plugins.get("Notification"),A=e.locale.t;w.showWarning(A("Could not obtain resized image URL."),{title:A("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[t](n)}}function mS(r,e){if(r.commands.get("insertImage").isEnabled)r.execute("insertImage",{source:e});else{const t=r.plugins.get("Notification"),n=r.locale.t;t.showWarning(n("Could not insert image at the current position."),{title:n("Inserting image failed"),namespace:"ckfinder"})}}class az extends lt{static get pluginName(){return"CKFinderEditing"}static get requires(){return[ay,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new q("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new oz(e))}}class lz extends lt{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",_c]}init(){const e=this.editor,t=e.plugins.get("CloudServices"),n=t.token,a=t.uploadUrl;if(!n)return;const u=e.plugins.get("CloudServicesCore");this._uploadGateway=u.createUploadGateway(n,a),e.plugins.get(_c).createUploadAdapter=f=>new cz(this._uploadGateway,f)}}class cz{constructor(e,t){this.uploadGateway=e,this.loader=t}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(t,n)=>{this.loader.uploadTotal=n.total,this.loader.uploaded=n.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class dz extends Ht{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=Un(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&fS(t,e.schema)}execute(e={}){const t=this.editor.model,n=t.document,a=e.selection||n.selection;t.canEditAt(a)&&t.change(u=>{const f=a.getSelectedBlocks();for(const b of f)!b.is("element","paragraph")&&fS(b,t.schema)&&u.rename(b,"paragraph")})}}function fS(r,e){return e.checkChild(r.parent,"paragraph")&&!e.isObject(r)}class uz extends Ht{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,n=e.attributes;let a=e.position;t.canEditAt(a)&&t.change(u=>{if(a=this._findPositionToInsertParagraph(a,u),!a)return;const f=u.createElement("paragraph");n&&t.schema.setAllowedAttributes(f,n,u),t.insertContent(f,a),u.setSelection(f,"in")})}_findPositionToInsertParagraph(e,t){const n=this.editor.model;if(n.schema.checkChild(e,"paragraph"))return e;const a=n.schema.findAllowedParent(e,"paragraph");if(!a)return null;const u=e.parent,f=n.schema.checkChild(u,"$text");return u.isEmpty||f&&e.isAtEnd?n.createPositionAfter(u):!u.isEmpty&&f&&e.isAtStart?n.createPositionBefore(u):t.split(e,a).position}}const pS=class extends lt{static get pluginName(){return"Paragraph"}init(){const r=this.editor,e=r.model;r.commands.add("paragraph",new dz(r)),r.commands.add("insertParagraph",new uz(r)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),r.conversion.elementToElement({model:"paragraph",view:"p"}),r.conversion.for("upcast").elementToElement({model:(t,{writer:n})=>pS.paragraphLikeElements.has(t.name)?t.isEmpty?null:n.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let xy=pS;xy.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class hz extends Ht{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=Un(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>gS(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,n=t.document,a=e.value;t.change(u=>{const f=Array.from(n.selection.getSelectedBlocks()).filter(b=>gS(b,a,t.schema));for(const b of f)b.is("element",a)||u.rename(b,a)})}}function gS(r,e,t){return t.checkChild(r.parent,e)&&!t.isObject(r)}const bS="paragraph";class mz extends lt{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[xy]}init(){const e=this.editor,t=e.config.get("heading.options"),n=[];for(const a of t)a.model!=="paragraph"&&(e.model.schema.register(a.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(a),n.push(a.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new hz(e,n))}afterInit(){const e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(a,u)=>{const f=e.model.document.selection.getFirstPosition().parent;n.some(b=>f.is("element",b.model))&&!f.is("element",bS)&&f.childCount===0&&u.writer.rename(f,bS)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:ne.low+1})}}var kS=h(6269),fz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(kS.A,fz),kS.A.locals;class pz extends lt{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,t=e.t,n=function(f){const b=f.t,w={Paragraph:b("Paragraph"),"Heading 1":b("Heading 1"),"Heading 2":b("Heading 2"),"Heading 3":b("Heading 3"),"Heading 4":b("Heading 4"),"Heading 5":b("Heading 5"),"Heading 6":b("Heading 6")};return f.config.get("heading.options").map(A=>{const E=w[A.title];return E&&E!=A.title&&(A.title=E),A})}(e),a=t("Choose heading"),u=t("Heading");e.ui.componentFactory.add("heading",f=>{const b={},w=new Fo,A=e.commands.get("heading"),E=e.commands.get("paragraph"),O=[A];for(const U of n){const W={type:"button",model:new aN({label:U.title,class:U.class,role:"menuitemradio",withText:!0})};U.model==="paragraph"?(W.model.bind("isOn").to(E,"value"),W.model.set("commandName","paragraph"),O.push(E)):(W.model.bind("isOn").to(A,"value",X=>X===U.model),W.model.set({commandName:"heading",commandValue:U.model})),w.add(W),b[U.model]=U.title}const z=su(f);return D1(z,w,{ariaLabel:u,role:"menu"}),z.buttonView.set({ariaLabel:u,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:u}),z.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),z.bind("isEnabled").toMany(O,"isEnabled",(...U)=>U.some(W=>W)),z.buttonView.bind("label").to(A,"value",E,"value",(U,W)=>{const X=W?"paragraph":U;return typeof X=="boolean"?a:b[X]?b[X]:a}),z.buttonView.bind("ariaLabel").to(A,"value",E,"value",(U,W)=>{const X=W?"paragraph":U;return typeof X=="boolean"?u:b[X]?`${b[X]}, ${u}`:u}),this.listenTo(z,"execute",U=>{const{commandName:W,commandValue:X}=U.source;e.execute(W,X?{value:X}:void 0),e.editing.view.focus()}),z}),e.ui.componentFactory.add("menuBar:heading",f=>{const b=new qf(f),w=e.commands.get("heading"),A=e.commands.get("paragraph"),E=[w],O=new uy(f);b.set({class:"ck-heading-dropdown"}),O.set({ariaLabel:t("Heading"),role:"menu"}),b.buttonView.set({label:t("Heading")}),b.panelView.children.add(O);for(const z of n){const U=new cy(f,b),W=new cl(f);U.children.add(W),O.items.add(U),W.set({label:z.title,role:"menuitemradio",class:z.class}),W.bind("ariaChecked").to(W,"isOn"),W.delegate("execute").to(b),W.on("execute",()=>{const X=z.model==="paragraph"?"paragraph":"heading";e.execute(X,{value:z.model}),e.editing.view.focus()}),z.model==="paragraph"?(W.bind("isOn").to(A,"value"),E.push(A)):W.bind("isOn").to(w,"value",X=>X===z.model)}return b.bind("isEnabled").toMany(E,"isEnabled",(...z)=>z.some(U=>U)),b})}}function _S(r){return r.createContainerElement("figure",{class:"image"},[r.createEmptyElement("img"),r.createSlot("children")])}function vS(r,e){const t=r.plugins.get("ImageUtils"),n=r.plugins.has("ImageInlineEditing")&&r.plugins.has("ImageBlockEditing");return u=>t.isInlineImageView(u)?n&&(u.getStyle("display")=="block"||u.findAncestor(t.isBlockImageView)?"imageBlock":"imageInline")!==e?null:a(u):null;function a(u){const f={name:!0};return u.hasAttribute("src")&&(f.attributes=["src"]),f}}function Cy(r,e){const t=Un(e.getSelectedBlocks());return!t||r.isObject(t)||t.isEmpty&&t.name!="listItem"?"imageBlock":"imageInline"}function S_(r){return r&&r.endsWith("px")?parseInt(r):null}function wS(r){const e=S_(r.getStyle("width")),t=S_(r.getStyle("height"));return!(!e||!t)}var gz=Object.defineProperty,yS=Object.getOwnPropertySymbols,bz=Object.prototype.hasOwnProperty,kz=Object.prototype.propertyIsEnumerable,xS=(r,e,t)=>e in r?gz(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,CS=(r,e)=>{for(var t in e||(e={}))bz.call(e,t)&&xS(r,t,e[t]);if(yS)for(var t of yS(e))kz.call(e,t)&&xS(r,t,e[t]);return r};const _z=/^(image|image-inline)$/;class La extends lt{constructor(){super(...arguments),this._domEmitter=new(eo())}static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,n=null,a={}){const u=this.editor,f=u.model,b=f.document.selection,w=AS(u,t||b,n);e=CS(CS({},Object.fromEntries(b.getAttributes())),e);for(const A in e)f.schema.checkAttribute(w,A)||delete e[A];return f.change(A=>{const{setImageSizes:E=!0}=a,O=A.createElement(w,e);return f.insertObject(O,t,null,{setSelection:"on",findOptimalPosition:t||w=="imageInline"?void 0:"auto"}),O.parent?(E&&this.setImageNaturalSizeAttributes(O),O):null})}setImageNaturalSizeAttributes(e){const t=e.getAttribute("src");t&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(n=>{const a=new y.window.Image;this._domEmitter.listenTo(a,"load",()=>{e.getAttribute("width")||e.getAttribute("height")||this.editor.model.enqueueChange(n.batch,u=>{u.setAttribute("width",a.naturalWidth,e),u.setAttribute("height",a.naturalHeight,e)}),this._domEmitter.stopListening(a,"load")}),a.src=t}))}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const n=e.getSelectedElement();if(n&&this.isImageWidget(n))return n;let a=t.parent;for(;a;){if(a.is("element")&&this.isImageWidget(a))return a;a=a.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:_z})}isImageAllowed(){const e=this.editor.model.document.selection;return function(t,n){if(AS(t,n,null)=="imageBlock"){const u=function(f,b){const w=_E(f,b),A=w.start.parent;return A.isEmpty&&!A.is("element","$root")?A.parent:A}(n,t.model);if(t.model.schema.checkChild(u,"imageBlock"))return!0}else if(t.model.schema.checkChild(n.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(t){return[...t.focus.getAncestors()].every(n=>!n.is("element","imageBlock"))}(e)}toImageWidget(e,t,n){return t.setCustomProperty("image",!0,e),gy(e,t,{label:()=>{const a=this.findViewImgElement(e).getAttribute("alt");return a?`${a} ${n}`:n}})}isImageWidget(e){return!!e.getCustomProperty("image")&&as(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:n}of t.createRangeIn(e))if(this.isInlineImageView(n))return n}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function AS(r,e,t){const n=r.model.schema,a=r.config.get("image.insert.type");return r.plugins.has("ImageBlockEditing")?r.plugins.has("ImageInlineEditing")?t||(a==="inline"?"imageInline":a!=="auto"?"imageBlock":e.is("selection")?Cy(n,e):n.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class vz extends Ht{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor,n=t.plugins.get("ImageUtils"),a=t.model,u=n.getClosestSelectedImageElement(a.document.selection);a.change(f=>{f.setAttribute("alt",e.newValue,u)})}}class wz extends lt{static get requires(){return[La]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new vz(this.editor))}}var NS=h(4062),yz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(NS.A,yz),NS.A.locals;var ES=h(2722),xz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(ES.A,xz),ES.A.locals;class Cz extends St{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new mr,this.keystrokes=new fr,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),Mn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),Mn.cancel,"ck-button-cancel","cancel"),this._focusables=new Ho,this._focusCycler=new Il({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),gi({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,n,a){const u=new P(this.locale);return u.set({label:e,icon:t,tooltip:!0}),u.extendTemplate({attributes:{class:n}}),a&&u.delegate("execute").to(this,a),u}_createLabeledInputView(){const e=this.locale.t,t=new Ke(this.locale,a_);return t.label=e("Text alternative"),t}}function SS(r){const e=r.editing.view,t=Ia.defaultPositions,n=r.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(n.getClosestSelectedImageWidget(e.document.selection)),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.viewportStickyNorth]}}class Az extends lt{static get requires(){return[m_]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",n=>{const a=e.commands.get("imageTextAlternative"),u=new P(n);return u.set({label:t("Change image text alternative"),icon:Mn.textAlternative,tooltip:!0}),u.bind("isEnabled").to(a,"isEnabled"),u.bind("isOn").to(a,"value",f=>!!f),this.listenTo(u,"execute",()=>{this._showForm()}),u})}_createForm(){const e=this.editor,t=e.editing.view.document,n=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(ri(Cz))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(a,u)=>{this._hideForm(!0),u()}),this.listenTo(e.ui,"update",()=>{n.getClosestSelectedImageWidget(t.selection)?this._isVisible&&function(a){const u=a.plugins.get("ContextualBalloon");if(a.plugins.get("ImageUtils").getClosestSelectedImageWidget(a.editing.view.document.selection)){const f=SS(a);u.updatePosition(f)}}(e):this._hideForm(!0)}),xn({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,t=e.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:SS(e)}),n.fieldView.value=n.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class jS extends lt{static get requires(){return[wz,Az]}static get pluginName(){return"ImageTextAlternative"}}function DS(r,e){const t=(n,a,u)=>{if(!u.consumable.consume(a.item,n.name))return;const f=u.writer,b=u.mapper.toViewElement(a.item),w=r.findViewImgElement(b);a.attributeNewValue===null?(f.removeAttribute("srcset",w),f.removeAttribute("sizes",w)):a.attributeNewValue&&(f.setAttribute("srcset",a.attributeNewValue,w),f.setAttribute("sizes","100vw",w))};return n=>{n.on(`attribute:srcset:${e}`,t)}}function j_(r,e,t){const n=(a,u,f)=>{if(!f.consumable.consume(u.item,a.name))return;const b=f.writer,w=f.mapper.toViewElement(u.item),A=r.findViewImgElement(w);b.setAttribute(u.attributeKey,u.attributeNewValue||"",A)};return a=>{a.on(`attribute:${t}:${e}`,n)}}class TS extends ol{observe(e){this.listenTo(e,"load",(t,n)=>{const a=n.target;this.checkShouldIgnoreEventFromTarget(a)||a.tagName=="IMG"&&this._fireEvents(n)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}var Nz=Object.defineProperty,MS=Object.getOwnPropertySymbols,Ez=Object.prototype.hasOwnProperty,Sz=Object.prototype.propertyIsEnumerable,IS=(r,e,t)=>e in r?Nz(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,D_=(r,e)=>{for(var t in e||(e={}))Ez.call(e,t)&&IS(r,t,e[t]);if(MS)for(var t of MS(e))Sz.call(e,t)&&IS(r,t,e[t]);return r};class jz extends Ht{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||t==="block"&&de("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||t==="inline"&&de("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=gn(e.source),n=this.editor.model.document.selection,a=this.editor.plugins.get("ImageUtils"),u=Object.fromEntries(n.getAttributes());t.forEach((f,b)=>{const w=n.getSelectedElement();if(typeof f=="string"&&(f={src:f}),b&&w&&a.isImage(w)){const A=this.editor.model.createPositionAfter(w);a.insertImage(D_(D_({},f),u),A)}else a.insertImage(D_(D_({},f),u))})}}class Dz extends Ht{constructor(e){super(e),this.decorate("cleanupImage")}refresh(){const e=this.editor.plugins.get("ImageUtils"),t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(t),this.value=this.isEnabled?t.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement(),n=this.editor.plugins.get("ImageUtils");this.editor.model.change(a=>{a.setAttribute("src",e.source,t),this.cleanupImage(a,t),n.setImageNaturalSizeAttributes(t)})}cleanupImage(e,t){e.removeAttribute("srcset",t),e.removeAttribute("sizes",t),e.removeAttribute("sources",t),e.removeAttribute("width",t),e.removeAttribute("height",t),e.removeAttribute("alt",t)}}class Ay extends lt{static get requires(){return[La]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(TS),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const n=new jz(e),a=new Dz(e);e.commands.add("insertImage",n),e.commands.add("replaceImageSource",a),e.commands.add("imageInsert",n)}}class OS extends lt{static get requires(){return[La]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const t=this.editor,n=t.plugins.get("ImageUtils"),a=e==="imageBlock"?"figure":"img";function u(f,b,w,A){f.on(`attribute:${b}:${e}`,(E,O,z)=>{if(!z.consumable.consume(O.item,E.name))return;const U=z.writer,W=z.mapper.toViewElement(O.item),X=n.findViewImgElement(W);if(O.attributeNewValue!==null?U.setAttribute(w,O.attributeNewValue,X):U.removeAttribute(w,X),O.item.hasAttribute("sources"))return;const ae=O.item.hasAttribute("resizedWidth");if(e==="imageInline"&&!ae&&!A)return;const ge=O.item.getAttribute("width"),Me=O.item.getAttribute("height");ge&&Me&&U.setStyle("aspect-ratio",`${ge}/${Me}`,X)})}t.conversion.for("upcast").attributeToAttribute({view:{name:a,styles:{width:/.+/}},model:{key:"width",value:f=>wS(f)?S_(f.getStyle("width")):null}}).attributeToAttribute({view:{name:a,key:"width"},model:"width"}).attributeToAttribute({view:{name:a,styles:{height:/.+/}},model:{key:"height",value:f=>wS(f)?S_(f.getStyle("height")):null}}).attributeToAttribute({view:{name:a,key:"height"},model:"height"}),t.conversion.for("editingDowncast").add(f=>{u(f,"width","width",!0),u(f,"height","height",!0)}),t.conversion.for("dataDowncast").add(f=>{u(f,"width","width",!1),u(f,"height","height",!1)})}}class LS extends Ht{constructor(e,t){super(e),this._modelElementName=t}refresh(){const e=this.editor.plugins.get("ImageUtils"),t=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(t):this.isEnabled=e.isBlockImage(t)}execute(e={}){const t=this.editor,n=this.editor.model,a=t.plugins.get("ImageUtils"),u=a.getClosestSelectedImageElement(n.document.selection),f=Object.fromEntries(u.getAttributes());return f.src||f.uploadId?n.change(b=>{const{setImageSizes:w=!0}=e,A=Array.from(n.markers).filter(z=>z.getRange().containsItem(u)),E=a.insertImage(f,n.createSelection(u,"on"),this._modelElementName,{setImageSizes:w});if(!E)return null;const O=b.createRangeOn(E);for(const z of A){const U=z.getRange(),W=U.root.rootName!="$graveyard"?U.getJoined(O,!0):O;b.updateMarker(z,{range:W})}return{oldElement:u,newElement:E}}):null}}var BS=h(7378),Tz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(BS.A,Tz),BS.A.locals;class RS extends lt{static get requires(){return[La]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const e=this.editor.model.schema;e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["placeholder"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const e=this.editor,t=e.conversion,n=e.plugins.get("ImageUtils");t.for("editingDowncast").add(a=>{a.on("attribute:placeholder",(u,f,b)=>{if(!b.consumable.test(f.item,u.name)||!f.item.is("element","imageBlock")&&!f.item.is("element","imageInline"))return;b.consumable.consume(f.item,u.name);const w=b.writer,A=b.mapper.toViewElement(f.item),E=n.findViewImgElement(A);f.attributeNewValue?(w.addClass("image_placeholder",E),w.setStyle("background-image",`url(${f.attributeNewValue})`,E),w.setCustomProperty("editingPipeline:doNotReuseOnce",!0,E)):(w.removeClass("image_placeholder",E),w.removeStyle("background-image",E))})})}_setupLoadListener(){const e=this.editor,t=e.model,n=e.editing,a=n.view,u=e.plugins.get("ImageUtils");a.addObserver(TS),this.listenTo(a.document,"imageLoaded",(f,b)=>{const w=a.domConverter.mapDomToView(b.target);if(!w)return;const A=u.getImageWidgetFromImageView(w);if(!A)return;const E=n.mapper.toModelElement(A);E&&E.hasAttribute("placeholder")&&t.enqueueChange({isUndoable:!1},O=>{O.removeAttribute("placeholder",E)})})}}class PS extends lt{static get requires(){return[Ay,OS,La,RS,Ol]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new LS(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,a=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToStructure({model:"imageBlock",view:(u,{writer:f})=>_S(f)}),n.for("editingDowncast").elementToStructure({model:"imageBlock",view:(u,{writer:f})=>a.toImageWidget(_S(f),f,t("image widget"))}),n.for("downcast").add(j_(a,"imageBlock","src")).add(j_(a,"imageBlock","alt")).add(DS(a,"imageBlock")),n.for("upcast").elementToElement({view:vS(e,"imageBlock"),model:(u,{writer:f})=>f.createElement("imageBlock",u.hasAttribute("src")?{src:u.getAttribute("src")}:void 0)}).add(function(u){const f=(b,w,A)=>{if(!A.consumable.test(w.viewItem,{name:!0,classes:"image"}))return;const E=u.findViewImgElement(w.viewItem);if(!E||!A.consumable.test(E,{name:!0}))return;A.consumable.consume(w.viewItem,{name:!0,classes:"image"});const O=Un(A.convertItem(E,w.modelCursor).modelRange.getItems());O?(A.convertChildren(w.viewItem,O),A.updateConversionResult(O,w)):A.consumable.revert(w.viewItem,{name:!0,classes:"image"})};return b=>{b.on("element:figure",f)}}(a))}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,a=e.plugins.get("ImageUtils"),u=e.plugins.get("ClipboardPipeline");this.listenTo(u,"inputTransformation",(f,b)=>{const w=Array.from(b.content.getChildren());let A;if(!w.every(a.isInlineImageView))return;A=b.targetRanges?e.editing.mapper.toModelRange(b.targetRanges[0]):t.document.selection.getFirstRange();const E=t.createSelection(A);if(Cy(t.schema,E)==="imageBlock"){const O=new bc(n.document),z=w.map(U=>O.createElement("figure",{class:"image"},U));b.content=O.createDocumentFragment(z)}}),this.listenTo(u,"contentInsertion",(f,b)=>{b.method==="paste"&&t.change(w=>{const A=w.createRangeIn(b.content);for(const E of A.getItems())E.is("element","imageBlock")&&a.setImageNaturalSizeAttributes(E)})})}}var zS=h(3350),Mz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(zS.A,Mz),zS.A.locals;class Iz extends St{constructor(e,t=[]){super(e),this.focusTracker=new mr,this.keystrokes=new fr,this._focusables=new Ho,this.children=this.createCollection(),this._focusCycler=new Il({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const n of t)this.children.add(n),this._focusables.add(n),n instanceof In&&this._focusables.addMany(n.children);if(this._focusables.length>1)for(const n of this._focusables)Oz(n)&&(n.focusCycler.on("forwardCycle",a=>{this._focusCycler.focusNext(),a.stop()}),n.focusCycler.on("backwardCycle",a=>{this._focusCycler.focusPrevious(),a.stop()}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),gi({view:this});for(const t of this._focusables)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function Oz(r){return"focusCycler"in r}class FS extends lt{constructor(e){super(e),this._integrations=new Map,e.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get requires(){return[La]}init(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(e.model.document,"change",()=>{this.isImageSelected=n.isImage(t.getSelectedElement())});const a=u=>this._createToolbarComponent(u);e.ui.componentFactory.add("insertImage",a),e.ui.componentFactory.add("imageInsert",a)}registerIntegration({name:e,observable:t,buttonViewCreator:n,formViewCreator:a,requiresForm:u}){this._integrations.has(e)&&de("image-insert-integration-exists",{name:e}),this._integrations.set(e,{observable:t,buttonViewCreator:n,formViewCreator:a,requiresForm:!!u})}_createToolbarComponent(e){const t=this.editor,n=e.t,a=this._prepareIntegrations();if(!a.length)return null;let u;const f=a[0];if(a.length==1){if(!f.requiresForm)return f.buttonViewCreator(!0);u=f.buttonViewCreator(!0)}else{const A=f.buttonViewCreator(!1);u=new o_(e,A),u.tooltip=!0,u.bind("label").to(this,"isImageSelected",E=>n(E?"Replace image":"Insert image"))}const b=this.dropdownView=su(e,u),w=a.map(({observable:A})=>typeof A=="function"?A():A);return b.bind("isEnabled").toMany(w,"isEnabled",(...A)=>A.some(E=>E)),b.once("change:isOpen",()=>{const A=a.map(({formViewCreator:O})=>O(a.length==1)),E=new Iz(t.locale,A);b.panelView.children.add(E)}),b}_prepareIntegrations(){const e=this.editor.config.get("image.insert.integrations"),t=[];if(!e.length)return de("image-insert-integrations-not-specified"),t;for(const n of e)this._integrations.has(n)?t.push(this._integrations.get(n)):["upload","assetManager","url"].includes(n)||de("image-insert-unknown-integration",{item:n});return t.length||de("image-insert-integrations-not-registered"),t}}var HS=h(265),Lz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(HS.A,Lz),HS.A.locals;class Bz extends lt{static get requires(){return[PS,Pg,jS,FS]}static get pluginName(){return"ImageBlock"}}class Rz extends lt{static get requires(){return[Ay,OS,La,RS,Ol]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),t.addChildCheck((n,a)=>{if(n.endsWith("caption")&&a.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new LS(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,a=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:(u,{writer:f})=>f.createEmptyElement("img")}),n.for("editingDowncast").elementToStructure({model:"imageInline",view:(u,{writer:f})=>a.toImageWidget(function(b){return b.createContainerElement("span",{class:"image-inline"},b.createEmptyElement("img"))}(f),f,t("image widget"))}),n.for("downcast").add(j_(a,"imageInline","src")).add(j_(a,"imageInline","alt")).add(DS(a,"imageInline")),n.for("upcast").elementToElement({view:vS(e,"imageInline"),model:(u,{writer:f})=>f.createElement("imageInline",u.hasAttribute("src")?{src:u.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,a=e.plugins.get("ImageUtils"),u=e.plugins.get("ClipboardPipeline");this.listenTo(u,"inputTransformation",(f,b)=>{const w=Array.from(b.content.getChildren());let A;if(!w.every(a.isBlockImageView))return;A=b.targetRanges?e.editing.mapper.toModelRange(b.targetRanges[0]):t.document.selection.getFirstRange();const E=t.createSelection(A);if(Cy(t.schema,E)==="imageInline"){const O=new bc(n.document),z=w.map(U=>U.childCount===1?(Array.from(U.getAttributes()).forEach(W=>O.setAttribute(...W,a.findViewImgElement(U))),U.getChild(0)):U);b.content=O.createDocumentFragment(z)}}),this.listenTo(u,"contentInsertion",(f,b)=>{b.method==="paste"&&t.change(w=>{const A=w.createRangeIn(b.content);for(const E of A.getItems())E.is("element","imageInline")&&a.setImageNaturalSizeAttributes(E)})})}}class Pz extends lt{static get requires(){return[Rz,Pg,jS,FS]}static get pluginName(){return"ImageInline"}}class VS extends lt{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[La]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),n=e.getFirstPosition().findAncestor("caption");return n&&t.isBlockImage(n.parent)?n:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&t.isBlockImageView(e.parent)?{name:!0}:null}}class zz extends Ht{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils"),n=e.plugins.get("ImageUtils");if(!e.plugins.has(PS))return this.isEnabled=!1,void(this.value=!1);const a=e.model.document.selection,u=a.getSelectedElement();if(!u){const f=t.getCaptionFromModelSelection(a);return this.isEnabled=!!f,void(this.value=!!f)}this.isEnabled=n.isImage(u),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(u):this.value=!1}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change(n=>{this.value?this._hideImageCaption(n):this._showImageCaption(n,t)})}_showImageCaption(e,t){const n=this.editor.model.document.selection,a=this.editor.plugins.get("ImageCaptionEditing"),u=this.editor.plugins.get("ImageUtils");let f=n.getSelectedElement();const b=a._getSavedCaption(f);u.isInlineImage(f)&&(this.editor.execute("imageTypeBlock"),f=n.getSelectedElement());const w=b||e.createElement("caption");e.append(w,f),t&&e.setSelection(w,"in")}_hideImageCaption(e){const t=this.editor,n=t.model.document.selection,a=t.plugins.get("ImageCaptionEditing"),u=t.plugins.get("ImageCaptionUtils");let f,b=n.getSelectedElement();b?f=u.getCaptionFromImageModelElement(b):(f=u.getCaptionFromModelSelection(n),b=f.parent),a._saveCaption(b,f),e.setSelection(b,"on"),e.remove(f)}}class Fz extends lt{constructor(e){super(e),this._savedCaptionsMap=new WeakMap}static get requires(){return[La,VS]}static get pluginName(){return"ImageCaptionEditing"}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new zz(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageUtils"),a=e.plugins.get("ImageCaptionUtils"),u=e.t;e.conversion.for("upcast").elementToElement({view:f=>a.matchImageCaptionViewElement(f),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(f,{writer:b})=>n.isBlockImage(f.parent)?b.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(f,{writer:b})=>{if(!n.isBlockImage(f.parent))return null;const w=b.createEditableElement("figcaption");b.setCustomProperty("imageCaption",!0,w),w.placeholder=u("Enter image caption"),wr({view:t,element:w,keepOnFocus:!0});const A=f.parent.getAttribute("alt");return kE(w,b,{label:A?u("Caption for image: %0",[A]):u("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.plugins.get("ImageCaptionUtils"),a=e.commands.get("imageTypeInline"),u=e.commands.get("imageTypeBlock"),f=b=>{if(!b.return)return;const{oldElement:w,newElement:A}=b.return;if(!w)return;if(t.isBlockImage(w)){const O=n.getCaptionFromImageModelElement(w);if(O)return void this._saveCaption(A,O)}const E=this._getSavedCaption(w);E&&this._saveCaption(A,E)};a&&this.listenTo(a,"execute",f,{priority:"low"}),u&&this.listenTo(u,"execute",f,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?ui.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,n=e.plugins.get("ImageUtils"),a=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",()=>{const u=t.document.differ.getChanges();for(const f of u){if(f.attributeKey!=="alt")continue;const b=f.range.start.nodeAfter;if(n.isBlockImage(b)){const w=a.getCaptionFromImageModelElement(b);if(!w)return;e.editing.reconvertItem(w)}}})}}class Hz extends lt{static get requires(){return[VS]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageCaptionUtils"),a=e.t;e.ui.componentFactory.add("toggleImageCaption",u=>{const f=e.commands.get("toggleImageCaption"),b=new P(u);return b.set({icon:Mn.caption,tooltip:!0,isToggleable:!0}),b.bind("isOn","isEnabled").to(f,"value","isEnabled"),b.bind("label").to(f,"value",w=>a(w?"Toggle caption off":"Toggle caption on")),this.listenTo(b,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const w=n.getCaptionFromModelSelection(e.model.document.selection);if(w){const A=e.editing.mapper.toViewElement(w);t.scrollToTheSelection(),t.change(E=>{E.addClass("image__caption_highlighted",A)})}e.editing.view.focus()}),b})}}var US=h(5247),Vz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(US.A,Vz),US.A.locals;function $S(r){const e=r.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function Uz(r){return new Promise((e,t)=>{const n=r.getAttribute("src");fetch(n).then(a=>a.blob()).then(a=>{const u=qS(a,n),f=u.replace("image/",""),b=new File([a],`image.${f}`,{type:u});e(b)}).catch(a=>a&&a.name==="TypeError"?function(u){return function(f){return new Promise((b,w)=>{const A=y.document.createElement("img");A.addEventListener("load",()=>{const E=y.document.createElement("canvas");E.width=A.width,E.height=A.height,E.getContext("2d").drawImage(A,0,0),E.toBlob(O=>O?b(O):w())}),A.addEventListener("error",()=>w()),A.src=f})}(u).then(f=>{const b=qS(f,u),w=b.replace("image/","");return new File([f],`image.${w}`,{type:b})})}(n).then(e).catch(t):t(a))})}function qS(r,e){return r.type?r.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class $z extends lt{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,t=e.t,n=()=>{const a=this._createButton(Xe);return a.set({label:t("Upload image from computer"),tooltip:!0}),a};if(e.ui.componentFactory.add("uploadImage",n),e.ui.componentFactory.add("imageUpload",n),e.ui.componentFactory.add("menuBar:uploadImage",()=>{const a=this._createButton(ON);return a.label=t("Image from computer"),a}),e.plugins.has("ImageInsertUI")){const a=e.plugins.get("ImageInsertUI");a.registerIntegration({name:"upload",observable:()=>e.commands.get("uploadImage"),buttonViewCreator:()=>{const u=e.ui.componentFactory.create("uploadImage");return u.bind("label").to(a,"isImageSelected",f=>t(f?"Replace image from computer":"Upload image from computer")),u},formViewCreator:()=>{const u=e.ui.componentFactory.create("uploadImage");return u.withText=!0,u.bind("label").to(a,"isImageSelected",f=>t(f?"Replace from computer":"Upload from computer")),u.on("execute",()=>{a.dropdownView.isOpen=!1}),u}})}}_createButton(e){const t=this.editor,n=t.locale,a=t.commands.get("uploadImage"),u=t.config.get("image.upload.types"),f=$S(u),b=new e(t.locale),w=n.t;return b.set({acceptedType:u.map(A=>`image/${A}`).join(","),allowMultipleFiles:!0,label:w("Upload image from computer"),icon:Mn.imageUpload}),b.bind("isEnabled").to(a),b.on("done",(A,E)=>{const O=Array.from(E).filter(z=>f.test(z.type));O.length&&(t.execute("uploadImage",{file:O}),t.editing.view.focus())}),b}}var WS=h(2267),qz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(WS.A,qz),WS.A.locals;var YS=h(7693),Wz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(YS.A,Wz),YS.A.locals;var GS=h(1559),Yz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(GS.A,Yz),GS.A.locals;class Gz extends lt{constructor(e){super(e),this.uploadStatusChange=(t,n,a)=>{const u=this.editor,f=n.item,b=f.getAttribute("uploadId");if(!a.consumable.consume(n.item,t.name))return;const w=u.plugins.get("ImageUtils"),A=u.plugins.get(_c),E=b?n.attributeNewValue:null,O=this.placeholder,z=u.editing.mapper.toViewElement(f),U=a.writer;if(E=="reading")return KS(z,U),void QS(w,O,z,U);if(E=="uploading"){const W=A.loaders.get(b);return KS(z,U),void(W?(ZS(z,U),function(X,ae,ge,Me){const Ze=function(pt){const Vt=pt.createUIElement("div",{class:"ck-progress-bar"});return pt.setCustomProperty("progressBar",!0,Vt),Vt}(ae);ae.insert(ae.createPositionAt(X,"end"),Ze),ge.on("change:uploadedPercent",(pt,Vt,En)=>{Me.change(zn=>{zn.setStyle("width",En+"%",Ze)})})}(z,U,W,u.editing.view),function(X,ae,ge,Me){if(Me.data){const Ze=X.findViewImgElement(ae);ge.setAttribute("src",Me.data,Ze)}}(w,z,U,W)):QS(w,O,z,U))}E=="complete"&&A.loaders.get(b)&&function(W,X,ae){const ge=X.createUIElement("div",{class:"ck-image-upload-complete-icon"});X.insert(X.createPositionAt(W,"end"),ge),setTimeout(()=>{ae.change(Me=>Me.remove(Me.createRangeOn(ge)))},3e3)}(z,U,u.editing.view),function(W,X){JS(W,X,"progressBar")}(z,U),ZS(z,U),function(W,X){X.removeClass("ck-appear",W)}(z,U)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function KS(r,e){r.hasClass("ck-appear")||e.addClass("ck-appear",r)}function QS(r,e,t,n){t.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",t);const a=r.findViewImgElement(t);a.getAttribute("src")!==e&&n.setAttribute("src",e,a),XS(t,"placeholder")||n.insert(n.createPositionAfter(a),function(u){const f=u.createUIElement("div",{class:"ck-upload-placeholder-loader"});return u.setCustomProperty("placeholder",!0,f),f}(n))}function ZS(r,e){r.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",r),JS(r,e,"placeholder")}function XS(r,e){for(const t of r.getChildren())if(t.getCustomProperty(e))return t}function JS(r,e,t){const n=XS(r,t);n&&e.remove(e.createRangeOn(n))}var Kz=Object.defineProperty,Qz=Object.defineProperties,Zz=Object.getOwnPropertyDescriptors,ej=Object.getOwnPropertySymbols,Xz=Object.prototype.hasOwnProperty,Jz=Object.prototype.propertyIsEnumerable,tj=(r,e,t)=>e in r?Kz(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class eF extends Ht{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(n)}execute(e){const t=gn(e.file),n=this.editor.model.document.selection,a=this.editor.plugins.get("ImageUtils"),u=Object.fromEntries(n.getAttributes());t.forEach((f,b)=>{const w=n.getSelectedElement();if(b&&w&&a.isImage(w)){const A=this.editor.model.createPositionAfter(w);this._uploadImage(f,u,A)}else this._uploadImage(f,u)})}_uploadImage(e,t,n){const a=this.editor,u=a.plugins.get(_c).createLoader(e),f=a.plugins.get("ImageUtils");var b,w;u&&f.insertImage((b=((A,E)=>{for(var O in E||(E={}))Xz.call(E,O)&&tj(A,O,E[O]);if(ej)for(var O of ej(E))Jz.call(E,O)&&tj(A,O,E[O]);return A})({},t),w={uploadId:u.id},Qz(b,Zz(w))),n)}}class tF extends lt{constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[_c,ay,Ol,La]}static get pluginName(){return"ImageUploadEditing"}init(){const e=this.editor,t=e.model.document,n=e.conversion,a=e.plugins.get(_c),u=e.plugins.get("ImageUtils"),f=e.plugins.get("ClipboardPipeline"),b=$S(e.config.get("image.upload.types")),w=new eF(e);e.commands.add("uploadImage",w),e.commands.add("imageUpload",w),n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(A,E)=>{if(O=E.dataTransfer,Array.from(O.types).includes("text/html")&&O.getData("text/html")!=="")return;var O;const z=Array.from(E.dataTransfer.files).filter(U=>!!U&&b.test(U.type));z.length&&(A.stop(),e.model.change(U=>{E.targetRanges&&U.setSelection(E.targetRanges.map(W=>e.editing.mapper.toModelRange(W))),e.execute("uploadImage",{file:z})}))}),this.listenTo(f,"inputTransformation",(A,E)=>{const O=Array.from(e.editing.view.createRangeIn(E.content)).map(U=>U.item).filter(U=>function(W,X){return!(!W.isInlineImageView(X)||!X.getAttribute("src")||!X.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!X.getAttribute("src").match(/^blob:/g))}(u,U)&&!U.getAttribute("uploadProcessed")).map(U=>({promise:Uz(U),imageElement:U}));if(!O.length)return;const z=new bc(e.editing.view.document);for(const U of O){z.setAttribute("uploadProcessed",!0,U.imageElement);const W=a.createLoader(U.promise);W&&(z.setAttribute("src","",U.imageElement),z.setAttribute("uploadId",W.id,U.imageElement))}}),e.editing.view.document.on("dragover",(A,E)=>{E.preventDefault()}),t.on("change",()=>{const A=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),E=new Set;for(const O of A)if(O.type=="insert"&&O.name!="$text"){const z=O.position.nodeAfter,U=O.position.root.rootName=="$graveyard";for(const W of nF(e,z)){const X=W.getAttribute("uploadId");if(!X)continue;const ae=a.loaders.get(X);ae&&(U?E.has(X)||ae.abort():(E.add(X),this._uploadImageElements.set(X,W),ae.status=="idle"&&this._readAndUpload(ae)))}}}),this.on("uploadComplete",(A,{imageElement:E,data:O})=>{const z=O.urls?O.urls:O;this.editor.model.change(U=>{U.setAttribute("src",z.default,E),this._parseAndSetSrcsetAttributeOnImage(z,E,U),u.setImageNaturalSizeAttributes(E)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const t=this.editor,n=t.model,a=t.locale.t,u=t.plugins.get(_c),f=t.plugins.get(ay),b=t.plugins.get("ImageUtils"),w=this._uploadImageElements;return n.enqueueChange({isUndoable:!1},E=>{E.setAttribute("uploadStatus","reading",w.get(e.id))}),e.read().then(()=>{const E=e.upload(),O=w.get(e.id);if(S.isSafari){const z=t.editing.mapper.toViewElement(O),U=b.findViewImgElement(z);t.editing.view.once("render",()=>{if(!U.parent)return;const W=t.editing.view.domConverter.mapViewToDom(U.parent);if(!W)return;const X=W.style.display;W.style.display="none",W._ckHack=W.offsetHeight,W.style.display=X})}return t.ui&&t.ui.ariaLiveAnnouncer.announce(a("Uploading image")),n.enqueueChange({isUndoable:!1},z=>{z.setAttribute("uploadStatus","uploading",O)}),E}).then(E=>{n.enqueueChange({isUndoable:!1},O=>{const z=w.get(e.id);O.setAttribute("uploadStatus","complete",z),t.ui&&t.ui.ariaLiveAnnouncer.announce(a("Image upload complete")),this.fire("uploadComplete",{data:E,imageElement:z})}),A()}).catch(E=>{if(t.ui&&t.ui.ariaLiveAnnouncer.announce(a("Error during image upload")),e.status!=="error"&&e.status!=="aborted")throw E;e.status=="error"&&E&&f.showWarning(E,{title:a("Upload failed"),namespace:"upload"}),n.enqueueChange({isUndoable:!1},O=>{O.remove(w.get(e.id))}),A()});function A(){n.enqueueChange({isUndoable:!1},E=>{const O=w.get(e.id);E.removeAttribute("uploadId",O),E.removeAttribute("uploadStatus",O),w.delete(e.id)}),u.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,n){let a=0;const u=Object.keys(e).filter(f=>{const b=parseInt(f,10);if(!isNaN(b))return a=Math.max(a,b),!0}).map(f=>`${e[f]} ${f}w`).join(", ");if(u!=""){const f={srcset:u};t.hasAttribute("width")||t.hasAttribute("height")||(f.width=a),n.setAttributes(f,t)}}}function nF(r,e){const t=r.plugins.get("ImageUtils");return Array.from(r.model.createRangeOn(e)).filter(n=>t.isImage(n.item)).map(n=>n.item)}var nj=h(4642),iF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(nj.A,iF),nj.A.locals;var ij=h(3469),rF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(ij.A,rF),ij.A.locals;class sF extends Ht{constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(n=>{if(n.isDefault)for(const a of n.modelElements)this._defaultStyles[a]=n.name;return[n.name,n]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const t=this.editor,n=t.model,a=t.plugins.get("ImageUtils");n.change(u=>{const f=e.value,{setImageSizes:b=!0}=e;let w=a.getClosestSelectedImageElement(n.document.selection);f&&this.shouldConvertImageType(f,w)&&(this.editor.execute(a.isBlockImage(w)?"imageTypeInline":"imageTypeBlock",{setImageSizes:b}),w=a.getClosestSelectedImageElement(n.document.selection)),!f||this._styles.get(f).isDefault?u.removeAttribute("imageStyle",w):u.setAttribute("imageStyle",f,w),b&&a.setImageNaturalSizeAttributes(w)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}var oF=Object.defineProperty,rj=Object.getOwnPropertySymbols,aF=Object.prototype.hasOwnProperty,lF=Object.prototype.propertyIsEnumerable,sj=(r,e,t)=>e in r?oF(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,oj=(r,e)=>{for(var t in e||(e={}))aF.call(e,t)&&sj(r,t,e[t]);if(rj)for(var t of rj(e))lF.call(e,t)&&sj(r,t,e[t]);return r};const{objectFullWidth:cF,objectInline:aj,objectLeft:lj,objectRight:Ny,objectCenter:Ey,objectBlockLeft:cj,objectBlockRight:dj}=Mn,T_={get inline(){return{name:"inline",title:"In line",icon:aj,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:lj,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:cj,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Ey,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Ny,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:dj,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Ey,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Ny,modelElements:["imageBlock"],className:"image-style-side"}}},uj={full:cF,left:cj,right:dj,center:Ey,inlineLeft:lj,inlineRight:Ny,inline:aj},hj=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function mj(r){de("image-style-configuration-definition-invalid",r)}const Sy={normalizeStyles:function(r){return(r.configuredStyles.options||[]).map(e=>function(t){return t=typeof t=="string"?T_[t]?oj({},T_[t]):{name:t}:function(n,a){const u=oj({},a);for(const f in n)Object.prototype.hasOwnProperty.call(a,f)||(u[f]=n[f]);return u}(T_[t.name],t),typeof t.icon=="string"&&(t.icon=uj[t.icon]||t.icon),t}(e)).filter(e=>function(t,{isBlockPluginLoaded:n,isInlinePluginLoaded:a}){const{modelElements:u,name:f}=t;if(!(u&&u.length&&f))return mj({style:t}),!1;{const b=[n?"imageBlock":null,a?"imageInline":null];if(!u.some(w=>b.includes(w)))return de("image-style-missing-dependency",{style:t,missingPlugins:u.map(w=>w==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,r))},getDefaultStylesConfiguration:function(r,e){return r&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:r?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(r){return r.has("ImageBlockEditing")&&r.has("ImageInlineEditing")?[...hj]:[]},warnInvalidStyle:mj,DEFAULT_OPTIONS:T_,DEFAULT_ICONS:uj,DEFAULT_DROPDOWN_DEFINITIONS:hj};function fj(r,e){for(const t of e)if(t.name===r)return t}class pj extends lt{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[La]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=Sy,n=this.editor,a=n.plugins.has("ImageBlockEditing"),u=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",t(a,u)),this.normalizedStyles=e({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:a,isInlinePluginLoaded:u}),this._setupConversion(a,u),this._setupPostFixer(),n.commands.add("imageStyle",new sF(n,this.normalizedStyles))}_setupConversion(e,t){const n=this.editor,a=n.model.schema,u=(f=this.normalizedStyles,(w,A,E)=>{if(!E.consumable.consume(A.item,w.name))return;const O=fj(A.attributeNewValue,f),z=fj(A.attributeOldValue,f),U=E.mapper.toViewElement(A.item),W=E.writer;z&&W.removeClass(z.className,U),O&&W.addClass(O.className,U)});var f;const b=function(w){const A={imageInline:w.filter(E=>!E.isDefault&&E.modelElements.includes("imageInline")),imageBlock:w.filter(E=>!E.isDefault&&E.modelElements.includes("imageBlock"))};return(E,O,z)=>{if(!O.modelRange)return;const U=O.viewItem,W=Un(O.modelRange.getItems());if(W&&z.schema.checkAttribute(W,"imageStyle"))for(const X of A[W.name])z.consumable.consume(U,{classes:X.className})&&z.writer.setAttribute("imageStyle",X.name,W)}}(this.normalizedStyles);n.editing.downcastDispatcher.on("attribute:imageStyle",u),n.data.downcastDispatcher.on("attribute:imageStyle",u),e&&(a.extend("imageBlock",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:figure",b,{priority:"low"})),t&&(a.extend("imageInline",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:img",b,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,n=e.plugins.get(La),a=new Map(this.normalizedStyles.map(u=>[u.name,u]));t.registerPostFixer(u=>{let f=!1;for(const b of t.differ.getChanges())if(b.type=="insert"||b.type=="attribute"&&b.attributeKey=="imageStyle"){let w=b.type=="insert"?b.position.nodeAfter:b.range.start.nodeAfter;if(w&&w.is("element","paragraph")&&w.childCount>0&&(w=w.getChild(0)),!n.isImage(w))continue;const A=w.getAttribute("imageStyle");if(!A)continue;const E=a.get(A);E&&E.modelElements.includes(w.name)||(u.removeAttribute("imageStyle",w),f=!0)}return f})}}var gj=h(6386),dF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(gj.A,dF),gj.A.locals;class uF extends lt{static get requires(){return[pj]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],n=bj(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const u of n)this._createButton(u);const a=bj([...t.filter(pe),...Sy.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const u of a)this._createDropdown(u,n)}_createDropdown(e,t){const n=this.editor.ui.componentFactory;n.add(e.name,a=>{let u;const{defaultItem:f,items:b,title:w}=e,A=b.filter(U=>t.find(({name:W})=>kj(W)===U)).map(U=>{const W=n.create(U);return U===f&&(u=W),W});b.length!==A.length&&Sy.warnInvalidStyle({dropdown:e});const E=su(a,o_),O=E.buttonView,z=O.arrowView;return ny(E,A,{enableActiveItemFocusOnDropdownOpen:!0}),O.set({label:_j(w,u.label),class:null,tooltip:!0}),z.unbind("label"),z.set({label:w}),O.bind("icon").toMany(A,"isOn",(...U)=>{const W=U.findIndex(ts);return W<0?u.icon:A[W].icon}),O.bind("label").toMany(A,"isOn",(...U)=>{const W=U.findIndex(ts);return _j(w,W<0?u.label:A[W].label)}),O.bind("isOn").toMany(A,"isOn",(...U)=>U.some(ts)),O.bind("class").toMany(A,"isOn",(...U)=>U.some(ts)?"ck-splitbutton_flatten":void 0),O.on("execute",()=>{A.some(({isOn:U})=>U)?E.isOpen=!E.isOpen:u.fire("execute")}),E.bind("isEnabled").toMany(A,"isEnabled",(...U)=>U.some(ts)),this.listenTo(E,"execute",()=>{this.editor.editing.view.focus()}),E})}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(kj(t),n=>{const a=this.editor.commands.get("imageStyle"),u=new P(n);return u.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),u.bind("isEnabled").to(a,"isEnabled"),u.bind("isOn").to(a,"value",f=>f===t),u.on("execute",this._executeCommand.bind(this,t)),u})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function bj(r,e){for(const t of r)e[t.title]&&(t.title=e[t.title]);return r}function kj(r){return`imageStyle:${r}`}function _j(r,e){return(r?r+": ":"")+e}class hF extends lt{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new cn(e)),e.commands.add("outdent",new cn(e))}}class mF extends lt{static get pluginName(){return"IndentUI"}init(){const e=this.editor,t=e.locale,n=e.t,a=t.uiLanguageDirection=="ltr"?Mn.indent:Mn.outdent,u=t.uiLanguageDirection=="ltr"?Mn.outdent:Mn.indent;this._defineButton("indent",n("Increase indent"),a),this._defineButton("outdent",n("Decrease indent"),u)}_defineButton(e,t,n){const a=this.editor;a.ui.componentFactory.add(e,()=>{const u=this._createButton(P,e,t,n);return u.set({tooltip:!0}),u}),a.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(cl,e,t,n))}_createButton(e,t,n,a){const u=this.editor,f=u.commands.get(t),b=new e(u.locale);return b.set({label:n,icon:a}),b.bind("isEnabled").to(f,"isEnabled"),this.listenTo(b,"execute",()=>{u.execute(t),u.editing.view.focus()}),b}}class fF{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,n,a)=>{if(!a.consumable.test(n.item,"attribute:linkHref")||!n.item.is("selection")&&!a.schema.isInline(n.item))return;const u=a.writer,f=u.document.selection;for(const b of this._definitions){const w=u.createAttributeElement("a",b.attributes,{priority:5});b.classes&&u.addClass(b.classes,w);for(const A in b.styles)u.setStyle(A,b.styles[A],w);u.setCustomProperty("link",!0,w),b.callback(n.attributeNewValue)?n.item.is("selection")?u.wrap(f.getFirstRange(),w):u.wrap(a.mapper.toViewRange(n.range),w):u.unwrap(a.mapper.toViewRange(n.range),w)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,n,{writer:a,mapper:u})=>{const f=u.toViewElement(n.item),b=Array.from(f.getChildren()).find(w=>w.is("element","a"));for(const w of this._definitions){const A=io(w.attributes);if(w.callback(n.attributeNewValue)){for(const[E,O]of A)E==="class"?a.addClass(O,b):a.setAttribute(E,O,b);w.classes&&a.addClass(w.classes,b);for(const E in w.styles)a.setStyle(E,w.styles[E],b)}else{for(const[E,O]of A)E==="class"?a.removeClass(O,b):a.removeAttribute(E,b);w.classes&&a.removeClass(w.classes,b);for(const E in w.styles)a.removeStyle(E,b)}}})}}}const pF=function(r,e,t){var n=r.length;return t=t===void 0?n:t,!e&&t>=n?r:Np(r,e,t)};var gF=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const vj=function(r){return gF.test(r)},bF=function(r){return r.split("")};var wj="\\ud800-\\udfff",kF="["+wj+"]",jy="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Dy="\\ud83c[\\udffb-\\udfff]",yj="[^"+wj+"]",xj="(?:\\ud83c[\\udde6-\\uddff]){2}",Cj="[\\ud800-\\udbff][\\udc00-\\udfff]",Aj="(?:"+jy+"|"+Dy+")?",Nj="[\\ufe0e\\ufe0f]?",_F=Nj+Aj+("(?:\\u200d(?:"+[yj,xj,Cj].join("|")+")"+Nj+Aj+")*"),vF="(?:"+[yj+jy+"?",jy,xj,Cj,kF].join("|")+")",wF=RegExp(Dy+"(?="+Dy+")|"+vF+_F,"g");const yF=function(r){return r.match(wF)||[]},xF=function(r){return vj(r)?yF(r):bF(r)},CF=function(r){return function(e){e=$c(e);var t=vj(e)?xF(e):void 0,n=t?t[0]:e.charAt(0),a=t?pF(t,1).join(""):e.slice(1);return n[r]()+a}}("toUpperCase"),AF=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,NF=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,EF=/^((\w+:(\/{2,})?)|(\W))/i,SF=["https?","ftps?","mailto"],M_="Ctrl+K";function Ej(r,{writer:e}){const t=e.createAttributeElement("a",{href:r},{priority:5});return e.setCustomProperty("link",!0,t),t}function Sj(r,e=SF){const t=String(r),n=e.join("|");return function(a,u){return!!a.replace(AF,"").match(u)}(t,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",n)}`,"i"))?t:"#"}function Ty(r,e){return!!r&&e.checkAttribute(r.name,"linkHref")}function My(r,e){const t=(n=r,NF.test(n)?"mailto:":e);var n;const a=!!t&&!jj(r);return r&&a?t+r:r}function jj(r){return EF.test(r)}function Dj(r){window.open(r,"_blank","noopener")}class jF extends Ht{constructor(){super(...arguments),this.manualDecorators=new Fo,this.automaticDecorators=new fF}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement()||Un(t.getSelectedBlocks());Ty(n,e.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const a of this.manualDecorators)a.value=this._getDecoratorStateFromModel(a.id)}execute(e,t={}){const n=this.editor.model,a=n.document.selection,u=[],f=[];for(const b in t)t[b]?u.push(b):f.push(b);n.change(b=>{if(a.isCollapsed){const w=a.getFirstPosition();if(a.hasAttribute("linkHref")){const A=Tj(a);let E=k_(w,"linkHref",a.getAttribute("linkHref"),n);a.getAttribute("linkHref")===A&&(E=this._updateLinkContent(n,b,E,e)),b.setAttribute("linkHref",e,E),u.forEach(O=>{b.setAttribute(O,!0,E)}),f.forEach(O=>{b.removeAttribute(O,E)}),b.setSelection(b.createPositionAfter(E.end.nodeBefore))}else if(e!==""){const A=io(a.getAttributes());A.set("linkHref",e),u.forEach(O=>{A.set(O,!0)});const{end:E}=n.insertContent(b.createText(e,A),w);b.setSelection(E)}["linkHref",...u,...f].forEach(A=>{b.removeSelectionAttribute(A)})}else{const w=n.schema.getValidRanges(a.getRanges(),"linkHref"),A=[];for(const O of a.getSelectedBlocks())n.schema.checkAttribute(O,"linkHref")&&A.push(b.createRangeOn(O));const E=A.slice();for(const O of w)this._isRangeToUpdate(O,A)&&E.push(O);for(const O of E){let z=O;if(E.length===1){const U=Tj(a);a.getAttribute("linkHref")===U&&(z=this._updateLinkContent(n,b,O,e),b.setSelection(b.createSelection(z)))}b.setAttribute("linkHref",e,z),u.forEach(U=>{b.setAttribute(U,!0,z)}),f.forEach(U=>{b.removeAttribute(U,z)})}}})}_getDecoratorStateFromModel(e){const t=this.editor.model,n=t.document.selection,a=n.getSelectedElement();return Ty(a,t.schema)?a.getAttribute(e):n.getAttribute(e)}_isRangeToUpdate(e,t){for(const n of t)if(n.containsRange(e))return!1;return!0}_updateLinkContent(e,t,n,a){const u=t.createText(a,{linkHref:a});return e.insertContent(u,n)}}function Tj(r){if(r.isCollapsed){const e=r.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(r.getFirstRange().getItems());if(e.length>1)return null;const t=e[0];return t.is("$text")||t.is("$textProxy")?t.data:null}}class DF extends Ht{refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement();Ty(n,e.schema)?this.isEnabled=e.schema.checkAttribute(n,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,n=t.document.selection,a=e.commands.get("link");t.change(u=>{const f=n.isCollapsed?[k_(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),t)]:t.schema.getValidRanges(n.getRanges(),"linkHref");for(const b of f)if(u.removeAttribute("linkHref",b),a)for(const w of a.manualDecorators)u.removeAttribute(w.id,b)})}}class TF extends Oe(){constructor({id:e,label:t,attributes:n,classes:a,styles:u,defaultValue:f}){super(),this.id=e,this.set("value",void 0),this.defaultValue=f,this.label=t,this.attributes=n,this.classes=a,this.styles=u}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var Mj=h(7719),MF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(Mj.A,MF),Mj.A.locals;var IF=Object.defineProperty,Ij=Object.getOwnPropertySymbols,OF=Object.prototype.hasOwnProperty,LF=Object.prototype.propertyIsEnumerable,Oj=(r,e,t)=>e in r?IF(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,BF=(r,e)=>{for(var t in e||(e={}))OF.call(e,t)&&Oj(r,t,e[t]);if(Ij)for(var t of Ij(e))LF.call(e,t)&&Oj(r,t,e[t]);return r};const Lj="automatic",RF=/^(https?:)?\/\//;class Bj extends lt{static get pluginName(){return"LinkEditing"}static get requires(){return[aE,eE,Ol]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const e=this.editor,t=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Ej}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(a,u)=>Ej(Sj(a,t),u)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:a=>a.getAttribute("href")}}),e.commands.add("link",new jF(e)),e.commands.add("unlink",new DF(e));const n=function(a,u){const f={"Open in a new tab":a("Open in a new tab"),Downloadable:a("Downloadable")};return u.forEach(b=>("label"in b&&f[b.label]&&(b.label=f[b.label]),b)),u}(e.t,function(a){const u=[];if(a)for(const[f,b]of Object.entries(a)){const w=Object.assign({},b,{id:`link${CF(f)}`});u.push(w)}return u}(e.config.get("link.decorators")));this._enableAutomaticDecorators(n.filter(a=>a.mode===Lj)),this._enableManualDecorators(n.filter(a=>a.mode==="manual")),e.plugins.get(aE).registerAttribute("linkHref"),function(a,u,f,b){const w=a.editing.view,A=new Set;w.document.registerPostFixer(E=>{const O=a.model.document.selection;let z=!1;if(O.hasAttribute(u)){const U=k_(O.getFirstPosition(),u,O.getAttribute(u),a.model),W=a.editing.mapper.toViewRange(U);for(const X of W.getItems())X.is("element",f)&&!X.hasClass(b)&&(E.addClass(b,X),A.add(X),z=!0)}return z}),a.conversion.for("editingDowncast").add(E=>{function O(){w.change(z=>{for(const U of A.values())z.removeClass(b,U),A.delete(U)})}E.on("insert",O,{priority:"highest"}),E.on("remove",O,{priority:"highest"}),E.on("attribute",O,{priority:"highest"}),E.on("selection",O,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor,n=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:Lj,callback:a=>!!a&&RF.test(a),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(e),n.length&&t.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,n=t.commands.get("link").manualDecorators;e.forEach(a=>{t.model.schema.extend("$text",{allowAttributes:a.id});const u=new TF(a);n.add(u),t.conversion.for("downcast").attributeToElement({model:u.id,view:(f,{writer:b,schema:w},{item:A})=>{if((A.is("selection")||w.isInline(A))&&f){const E=b.createAttributeElement("a",u.attributes,{priority:5});u.classes&&b.addClass(u.classes,E);for(const O in u.styles)b.setStyle(O,u.styles[O],E);return b.setCustomProperty("link",!0,E),E}}}),t.conversion.for("upcast").elementToAttribute({view:BF({name:"a"},u._createPattern()),model:{key:u.id}})})}_enableLinkOpen(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(n,a)=>{if(!(S.isMac?a.domEvent.metaKey:a.domEvent.ctrlKey))return;let u=a.domTarget;if(u.tagName.toLowerCase()!="a"&&(u=u.closest("a")),!u)return;const f=u.getAttribute("href");f&&(n.stop(),a.preventDefault(),Dj(f))},{context:"$capture"}),this.listenTo(t,"keydown",(n,a)=>{const u=e.commands.get("link").value;u&&a.keyCode===Ve.enter&&a.altKey&&(n.stop(),Dj(u))})}_enableSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection;this.listenTo(t,"change:attribute",(n,{attributeKeys:a})=>{a.includes("linkHref")&&!t.hasAttribute("linkHref")&&e.change(u=>{var f;(function(b,w){b.removeSelectionAttribute("linkHref");for(const A of w)b.removeSelectionAttribute(A)})(u,(f=e.schema,f.getDefinition("$text").allowAttributes.filter(b=>b.startsWith("link"))))})})}_enableClipboardIntegration(){const e=this.editor,t=e.model,n=this.editor.config.get("link.defaultProtocol");n&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(a,u)=>{t.change(f=>{const b=f.createRangeIn(u.content);for(const w of b.getItems())if(w.hasAttribute("linkHref")){const A=My(w.getAttribute("linkHref"),n);f.setAttribute("linkHref",A,w)}})})}}var Rj=h(3817),PF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(Rj.A,PF),Rj.A.locals;class zF extends St{constructor(e,t,n){super(e),this.focusTracker=new mr,this.keystrokes=new fr,this._focusables=new Ho;const a=e.t;this._validators=n,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),Mn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(a("Cancel"),Mn.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new Il({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const u=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&u.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:u,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),gi({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const e=this.locale.t,t=new Ke(this.locale,a_);return t.label=e("Link URL"),t}_createButton(e,t,n,a){const u=new P(this.locale);return u.set({label:e,icon:t,tooltip:!0}),u.extendTemplate({attributes:{class:n}}),a&&u.delegate("execute").to(this,a),u}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const n of e.manualDecorators){const a=new Ne(this.locale);a.set({name:n.id,label:n.label,withText:!0}),a.bind("isOn").toMany([n,e],"value",(u,f)=>f===void 0&&u===void 0?!!n.defaultValue:!!u),a.on("execute",()=>{n.set("value",!a.isOn)}),t.add(a)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const n=new St;n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(a=>({tag:"li",children:[a],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(n)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}var Pj=h(8762),FF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(Pj.A,FF),Pj.A.locals;class HF extends St{constructor(e,t={}){super(e),this.focusTracker=new mr,this.keystrokes=new fr,this._focusables=new Ho;const n=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(n("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(n("Edit link"),Mn.pencil,"edit"),this.set("href",void 0),this._linkConfig=t,this._focusCycler=new Il({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,n){const a=new P(this.locale);return a.set({label:e,icon:t,tooltip:!0}),a.delegate("execute").to(this,n),a}_createPreviewButton(){const e=new P(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",a=>a&&Sj(a,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",a=>a||n("This link has no URL")),e.bind("isEnabled").to(this,"href",a=>!!a),e.template.tag="a",e.template.eventListeners={},e}}const cd="link-ui";class VF extends lt{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[m_]}static get pluginName(){return"LinkUI"}init(){const e=this.editor,t=this.editor.t;e.editing.view.addObserver(Lf),this._balloon=e.plugins.get(m_),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:cd,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:cd,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Create link"),keystroke:M_},{label:t("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new HF(e.locale,e.config.get("link")),n=e.commands.get("link"),a=e.commands.get("unlink");return t.bind("href").to(n,"value"),t.editButtonView.bind("isEnabled").to(n),t.unlinkButtonView.bind("isEnabled").to(a),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(u,f)=>{this._hideUI(),f()}),t.keystrokes.set(M_,(u,f)=>{this._addFormView(),f()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),n=e.config.get("link.defaultProtocol"),a=new(ri(zF))(e.locale,t,function(u){const f=u.t,b=u.config.get("link.allowCreatingEmptyLinks");return[w=>{if(!b&&!w.url.length)return f("Link URL must not be empty.")}]}(e));return a.urlInputView.fieldView.bind("value").to(t,"value"),a.urlInputView.bind("isEnabled").to(t,"isEnabled"),a.saveButtonView.bind("isEnabled").to(t,"isEnabled"),this.listenTo(a,"submit",()=>{if(a.isValid()){const{value:u}=a.urlInputView.fieldView.element,f=My(u,n);e.execute("link",f,a.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(a.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(a,"cancel",()=>{this._closeFormView()}),a.keystrokes.set("Esc",(u,f)=>{this._closeFormView(),f()}),a}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link");e.ui.componentFactory.add("link",()=>{const n=this._createButton(P);return n.set({tooltip:!0,isToggleable:!0}),n.bind("isOn").to(t,"value",a=>!!a),n}),e.ui.componentFactory.add("menuBar:link",()=>this._createButton(cl))}_createButton(e){const t=this.editor,n=t.locale,a=t.commands.get("link"),u=new e(t.locale),f=n.t;return u.set({label:f("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:M_}),u.bind("isEnabled").to(a,"isEnabled"),this.listenTo(u,"execute",()=>this._showUI(!0)),u}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(M_,(n,a)=>{a(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),xn({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let n=this._getSelectedLinkElement(),a=f();const u=()=>{const b=this._getSelectedLinkElement(),w=f();n&&!b||!n&&w!==a?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=b,a=w};function f(){return t.selection.focus.getAncestors().reverse().find(b=>b.is("element"))}this.listenTo(e.ui,"update",u),this.listenTo(this._balloon,"change:visibleView",u)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,n=e.document;let a;if(t.markers.has(cd)){const u=Array.from(this.editor.editing.mapper.markerNameToElements(cd)),f=e.createRange(e.createPositionBefore(u[0]),e.createPositionAfter(u[u.length-1]));a=e.domConverter.viewRangeToDom(f)}else a=()=>{const u=this._getSelectedLinkElement();return u?e.domConverter.mapViewToDom(u):e.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:a}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,n=t.getSelectedElement();if(t.isCollapsed||n&&as(n))return Iy(t.getFirstPosition());{const a=t.getFirstRange().getTrimmed(),u=Iy(a.start),f=Iy(a.end);return u&&u==f&&e.createRangeIn(u).getTrimmed().isEqual(a)?u:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const n=e.document.selection.getFirstRange();if(e.markers.has(cd))t.updateMarker(cd,{range:n});else if(n.start.isAtEnd){const a=n.start.getLastMatchingPosition(({item:u})=>!e.schema.isContent(u),{boundaries:n});t.addMarker(cd,{usingOperation:!1,affectsData:!1,range:t.createRange(a,n.end)})}else t.addMarker(cd,{usingOperation:!1,affectsData:!1,range:n})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(cd)&&e.change(t=>{t.removeMarker(cd)})}}function Iy(r){return r.getAncestors().find(e=>{return(t=e).is("attributeElement")&&!!t.getCustomProperty("link");var t})||null}const zj=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class UF extends lt{static get requires(){return[au,Bj]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,t){return t.textNode&&t.textNode.hasAttribute("linkHref")?k_(t,"linkHref",t.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,t){const n=this.editor.model,a=n.document.selection,u=a.getFirstPosition(),f=a.getLastPosition();let b=t.getJoined(this._expandLinkRange(n,u)||t);b&&(b=b.getJoined(this._expandLinkRange(n,f)||t)),b&&(b.start.isBefore(u)||b.end.isAfter(f))&&e.setSelection(b)}_enablePasteLinking(){const e=this.editor,t=e.model,n=t.document.selection,a=e.plugins.get("ClipboardPipeline"),u=e.commands.get("link");a.on("inputTransformation",(f,b)=>{if(!this.isEnabled||!u.isEnabled||n.isCollapsed||b.method!=="paste"||n.rangeCount>1)return;const w=n.getFirstRange(),A=b.dataTransfer.getData("text/plain");if(!A)return;const E=A.match(zj);E&&E[2]===A&&(t.change(O=>{this._selectEntireLinks(O,w),u.execute(A)}),f.stop())},{priority:"high"})}_enableTypingHandling(){const e=this.editor,t=new oE(e.model,n=>{if(!function(u){return u.length>4&&u[u.length-1]===" "&&u[u.length-2]!==" "}(n))return;const a=Fj(n.substr(0,n.length-1));return a?{url:a}:void 0});t.on("matched:data",(n,a)=>{const{batch:u,range:f,url:b}=a;if(!u.isTyping)return;const w=f.end.getShiftedBy(-1),A=w.getShiftedBy(-b.length),E=e.model.createRange(A,w);this._applyAutoLink(b,E)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("enter");n&&n.on("execute",()=>{const a=t.document.selection.getFirstPosition();if(!a.parent.previousSibling)return;const u=t.createRangeIn(a.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(u)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("shiftEnter");n&&n.on("execute",()=>{const a=t.document.selection.getFirstPosition(),u=t.createRange(t.createPositionAt(a.parent,0),a.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(u)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:n,range:a}=sE(e,t),u=Fj(n);if(u){const f=t.createRange(a.end.getShiftedBy(-u.length),a.end);this._applyAutoLink(u,f)}}_applyAutoLink(e,t){const n=this.editor.model,a=My(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(u,f){return f.schema.checkAttributeInSelection(f.createSelection(u),"linkHref")}(t,n)&&jj(a)&&!function(u){const f=u.start.nodeAfter;return!!f&&f.hasAttribute("linkHref")}(t)&&this._persistAutoLink(a,t)}_persistAutoLink(e,t){const n=this.editor.model,a=this.editor.plugins.get("Delete");n.enqueueChange(u=>{u.setAttribute("linkHref",e,t),n.enqueueChange(()=>{a.requestUndoOnBackspace()})})}}function Fj(r){const e=zj.exec(r);return e?e[2]:null}var Hj=h(4808),$F={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(Hj.A,$F),Hj.A.locals;class Bl{constructor(e,t){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward=t.direction=="forward",this._includeSelf=!!t.includeSelf,this._sameAttributes=gn(t.sameAttributes||[]),this._sameIndent=!!t.sameIndent,this._lowerIndent=!!t.lowerIndent,this._higherIndent=!!t.higherIndent}static first(e,t){return Un(new this(e,t)[Symbol.iterator]())}*[Symbol.iterator](){const e=[];for(const{node:t}of Hg(this._getStartNode(),this._isForward?"forward":"backward")){const n=t.getAttribute("listIndent");if(n<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=n}else if(n>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(t);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some(a=>t.getAttribute(a)!==this._startElement.getAttribute(a)))break}e.length&&(yield*e,e.length=0),yield t}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*Hg(r,e="forward"){const t=e=="forward",n=[];let a=null;for(;Vs(r);){let u=null;if(a){const f=r.getAttribute("listIndent"),b=a.getAttribute("listIndent");f>b?n[b]=a:f<b?(u=n[f],n.length=f):u=a}yield{node:r,previous:a,previousNodeInList:u},a=r,r=t?r.nextSibling:r.previousSibling}}class qF{constructor(e){this._listHead=e}[Symbol.iterator](){return Hg(this._listHead,"forward")}}var WF=Object.defineProperty,YF=Object.defineProperties,GF=Object.getOwnPropertyDescriptors,Vj=Object.getOwnPropertySymbols,KF=Object.prototype.hasOwnProperty,QF=Object.prototype.propertyIsEnumerable,Uj=(r,e,t)=>e in r?WF(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Vg=(r,e)=>{for(var t in e||(e={}))KF.call(e,t)&&Uj(r,t,e[t]);if(Vj)for(var t of Vj(e))QF.call(e,t)&&Uj(r,t,e[t]);return r},Oy=(r,e)=>YF(r,GF(e));class Zf{static next(){return ee()}}function Vs(r){return!!r&&r.is("element")&&r.hasAttribute("listItemId")}function Ly(r,e={}){return[...hh(r,Oy(Vg({},e),{direction:"backward"})),...hh(r,Oy(Vg({},e),{direction:"forward"}))]}function hh(r,e={}){const t=e.direction=="forward",n=Array.from(new Bl(r,Oy(Vg({},e),{includeSelf:t,sameIndent:!0,sameAttributes:"listItemId"})));return t?n:n.reverse()}function $j(r,e){const t=new Bl(r,Vg({sameIndent:!0,sameAttributes:"listType"},e)),n=new Bl(r,Vg({sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"},e));return[...Array.from(t).reverse(),...n]}function bm(r){return!Bl.first(r,{sameIndent:!0,sameAttributes:"listItemId"})}function qj(r){return!Bl.first(r,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function Ug(r,e={}){r=gn(r);const t=e.withNested!==!1,n=new Set;for(const a of r)for(const u of Ly(a,{higherIndent:t}))n.add(u);return km(n)}function ZF(r){r=gn(r);const e=new Set;for(const t of r)for(const n of $j(t))e.add(n);return km(e)}function By(r,e){const t=hh(r,{direction:"forward"}),n=Zf.next();for(const a of t)e.setAttribute("listItemId",n,a);return t}function Ry(r,e,t){const n={};for(const[u,f]of e.getAttributes())u.startsWith("list")&&(n[u]=f);const a=hh(r,{direction:"forward"});for(const u of a)t.setAttributes(n,u);return a}function Py(r,e,{expand:t,indentBy:n=1}={}){r=gn(r);const a=t?Ug(r):r;for(const u of a){const f=u.getAttribute("listIndent")+n;f<0?I_(u,e):e.setAttribute("listIndent",f,u)}return a}function I_(r,e){r=gn(r);for(const t of r)t.is("element","listItem")&&e.rename(t,"paragraph");for(const t of r)for(const n of t.getAttributeKeys())n.startsWith("list")&&e.removeAttribute(n,t);return r}function $g(r){if(!r.length)return!1;const e=r[0].getAttribute("listItemId");return!!e&&!r.some(t=>t.getAttribute("listItemId")!=e)}function km(r){return Array.from(r).filter(e=>e.root.rootName!=="$graveyard").sort((e,t)=>e.index-t.index)}function qg(r){const e=r.document.selection.getSelectedElement();return e&&r.schema.isObject(e)&&r.schema.isBlock(e)?e:null}function zy(r,e){return e.checkChild(r.parent,"listItem")&&e.checkChild(r,"$text")&&!e.isObject(r)}function XF(r){return r=="numbered"||r=="customNumbered"}function JF(r,e,t){return hh(e,{direction:"forward"}).pop().index>r.index?Ry(r,e,t):[]}class Wj extends Ht{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=Yj(e.document.selection);e.change(n=>{const a=[];$g(t)&&!bm(t[0])?(this._direction=="forward"&&a.push(...Py(t,n)),a.push(...By(t[0],n))):this._direction=="forward"?a.push(...Py(t,n,{expand:!0})):a.push(...function(u,f){const b=Ug(u=gn(u)),w=new Set,A=Math.min(...b.map(O=>O.getAttribute("listIndent"))),E=new Map;for(const O of b)E.set(O,Bl.first(O,{lowerIndent:!0}));for(const O of b){if(w.has(O))continue;w.add(O);const z=O.getAttribute("listIndent")-1;if(z<0)I_(O,f);else{if(O.getAttribute("listIndent")==A){const U=JF(O,E.get(O),f);for(const W of U)w.add(W);if(U.length)continue}f.setAttribute("listIndent",z,O)}}return km(w)}(t,n));for(const u of a){if(!u.hasAttribute("listType"))continue;const f=Bl.first(u,{sameIndent:!0});f&&n.setAttribute("listType",f.getAttribute("listType"),u)}this._fireAfterExecute(a)})}_fireAfterExecute(e){this.fire("afterExecute",km(new Set(e)))}_checkEnabled(){let e=Yj(this.editor.model.document.selection),t=e[0];if(!t)return!1;if(this._direction=="backward"||$g(e)&&!bm(e[0]))return!0;e=Ug(e),t=e[0];const n=Bl.first(t,{sameIndent:!0});return!!n&&n.getAttribute("listType")==t.getAttribute("listType")}}function Yj(r){const e=Array.from(r.getSelectedBlocks()),t=e.findIndex(n=>!Vs(n));return t!=-1&&(e.length=t),e}var e6=Object.defineProperty,t6=Object.defineProperties,n6=Object.getOwnPropertyDescriptors,Gj=Object.getOwnPropertySymbols,i6=Object.prototype.hasOwnProperty,r6=Object.prototype.propertyIsEnumerable,Kj=(r,e,t)=>e in r?e6(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Fy=(r,e)=>{for(var t in e||(e={}))i6.call(e,t)&&Kj(r,t,e[t]);if(Gj)for(var t of Gj(e))r6.call(e,t)&&Kj(r,t,e[t]);return r},Hy=(r,e)=>t6(r,n6(e));class O_ extends Ht{constructor(e,t,n={}){super(e),this.type=t,this._listWalkerOptions=n.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.document,a=qg(t),u=Array.from(n.selection.getSelectedBlocks()).filter(b=>t.schema.checkAttribute(b,"listType")||zy(b,t.schema)),f=e.forceValue!==void 0?!e.forceValue:this.value;t.change(b=>{if(f){const w=u[u.length-1],A=hh(w,{direction:"forward"}),E=[];A.length>1&&E.push(...By(A[1],b)),E.push(...I_(u,b)),E.push(...function(O,z){const U=[];let W=Number.POSITIVE_INFINITY;for(const{node:X}of Hg(O.nextSibling,"forward")){const ae=X.getAttribute("listIndent");if(ae==0)break;ae<W&&(W=ae);const ge=ae-W;z.setAttribute("listIndent",ge,X),U.push(X)}return U}(w,b)),this._fireAfterExecute(E)}else if((a||n.selection.isCollapsed)&&Vs(u[0])){const w=$j(a||u[0],this._listWalkerOptions);for(const A of w)b.setAttributes(Hy(Fy({},e.additionalAttributes),{listType:this.type}),A);this._fireAfterExecute(w)}else{const w=[];for(const A of u)if(A.hasAttribute("listType"))for(const E of Ug(A,{withNested:!1}))E.getAttribute("listType")!=this.type&&(b.setAttributes(Hy(Fy({},e.additionalAttributes),{listType:this.type}),E),w.push(E));else!A.is("element","listItem")&&zy(A,t.schema)&&b.rename(A,"listItem"),b.setAttributes(Hy(Fy({},e.additionalAttributes),{listIndent:0,listItemId:Zf.next(),listType:this.type}),A),w.push(A);this._fireAfterExecute(w)}})}_fireAfterExecute(e){this.fire("afterExecute",km(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,t=Array.from(e.getSelectedBlocks());if(!t.length)return!1;for(const n of t)if(n.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,t=e.schema,n=e.document.selection,a=Array.from(n.getSelectedBlocks());if(!a.length)return!1;if(this.value)return!0;for(const u of a)if(t.checkAttribute(u,"listType")||zy(u,t))return!0;return!1}}class Qj extends Ht{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const t=this.editor.model,n=t.document.selection,a=[];t.change(u=>{const{firstElement:f,lastElement:b}=this._getMergeSubjectElements(n,e),w=f.getAttribute("listIndent")||0,A=b.getAttribute("listIndent"),E=b.getAttribute("listItemId");if(w!=A){const z=(O=b,Array.from(new Bl(O,{direction:"forward",higherIndent:!0})));a.push(...Py([b,...z],u,{indentBy:w-A,expand:w<A}))}var O;if(e){let z=n;n.isCollapsed&&(z=u.createSelection(u.createRange(u.createPositionAt(f,"end"),u.createPositionAt(b,0)))),t.deleteContent(z,{doNotResetEntireContent:n.isCollapsed});const U=z.getLastPosition().parent,W=U.nextSibling;a.push(U),W&&W!==b&&W.getAttribute("listItemId")==E&&a.push(...Ry(W,U,u))}else a.push(...Ry(b,f,u));this._fireAfterExecute(a)})}_fireAfterExecute(e){this.fire("afterExecute",km(new Set(e)))}_checkEnabled(){const e=this.editor.model,t=e.document.selection,n=qg(e);if(t.isCollapsed||n){const a=n||t.getFirstPosition().parent;if(!Vs(a))return!1;const u=this._direction=="backward"?a.previousSibling:a.nextSibling;if(!u||$g([a,u]))return!1}else{const a=t.getLastPosition(),u=t.getFirstPosition();if(a.parent===u.parent||!Vs(a.parent))return!1}return!0}_getMergeSubjectElements(e,t){const n=qg(this.editor.model);let a,u;if(e.isCollapsed||n){const f=n||e.getFirstPosition().parent,b=bm(f);this._direction=="backward"?(u=f,a=b&&!t?Bl.first(f,{sameIndent:!0,lowerIndent:!0}):f.previousSibling):(a=f,u=f.nextSibling)}else a=e.getFirstPosition().parent,u=e.getLastPosition().parent;return{firstElement:a,lastElement:u}}}class Zj extends Ht{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(e=>{const t=By(this._getStartBlock(),e);this._fireAfterExecute(t)})}_fireAfterExecute(e){this.fire("afterExecute",km(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,t=this._getStartBlock();return e.isCollapsed&&Vs(t)&&!bm(t)}_getStartBlock(){const e=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?e:e.nextSibling}}class s6 extends lt{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(e){return ZF(e)}isFirstBlockOfListItem(e){return bm(e)}isListItemBlock(e){return Vs(e)}expandListBlocksToCompleteItems(e,t={}){return Ug(e,t)}isNumberedListType(e){return XF(e)}}function Xj(r){return r.is("element","ol")||r.is("element","ul")}function L_(r){return r.is("element","li")}function o6(r,e,t,n=eD(t,e)){return r.createAttributeElement(Jj(t),null,{priority:2*e/100-100,id:n})}function a6(r,e,t){return r.createAttributeElement("li",null,{priority:(2*e+1)/100-100,id:t})}function Jj(r){return r=="numbered"||r=="customNumbered"?"ol":"ul"}function eD(r,e){return`list-${r}-${e}`}function vc(r,e){const t=r.nodeBefore;if(Vs(t)){let n=t;for(const{node:a}of Hg(n,"backward"))if(n=a,e.has(n))return;e.set(t,n)}else{const n=r.nodeAfter;Vs(n)&&e.set(n,n)}}function l6(){return(r,e,t)=>{const{writer:n,schema:a}=t;if(!e.modelRange)return;const u=Array.from(e.modelRange.getItems({shallow:!0})).filter(O=>a.checkAttribute(O,"listItemId"));if(!u.length)return;const f=Zf.next(),b=function(O){let z=0,U=O.parent;for(;U;){if(L_(U))z++;else{const W=U.previousSibling;W&&L_(W)&&z++}U=U.parent}return z}(e.viewItem);let w=e.viewItem.parent&&e.viewItem.parent.is("element","ol")?"numbered":"bulleted";const A=u[0].getAttribute("listType");A&&(w=A);const E={listItemId:f,listIndent:b,listType:w};for(const O of u)O.hasAttribute("listItemId")||n.setAttributes(E,O);u.length>1&&u[1].getAttribute("listItemId")!=E.listItemId&&t.keepEmptyElement(u[0])}}function tD(){return(r,e,t)=>{if(!t.consumable.test(e.viewItem,{name:!0}))return;const n=new bc(e.viewItem.document);for(const a of Array.from(e.viewItem.getChildren()))L_(a)||Xj(a)||n.remove(a)}}function nD(r,e,t,{dataPipeline:n}={}){const a=function(u){return(f,b)=>{const w=[];for(const A of u)f.hasAttribute(A)&&w.push(`attribute:${A}`);return!!w.every(A=>b.test(f,A)!==!1)&&(w.forEach(A=>b.consume(f,A)),!0)}}(r);return(u,f,b)=>{const{writer:w,mapper:A,consumable:E}=b,O=f.item;if(!r.includes(f.attributeKey)||!a(O,E))return;const z=function(W,X,ae){const ge=ae.createRangeOn(W);return X.toViewRange(ge).getTrimmed().end.nodeBefore}(O,A,t);rD(z,w,A),function(W,X){let ae=W.parent;for(;ae.is("attributeElement")&&["ul","ol","li"].includes(ae.name);){const ge=ae.parent;X.unwrap(X.createRangeOn(W),ae),ae=ge}}(z,w);const U=function(W,X,ae,ge,{dataPipeline:Me}){let Ze=ge.createRangeOn(X);if(!bm(W))return Ze;for(const pt of ae){if(pt.scope!="itemMarker")continue;const Vt=pt.createElement(ge,W,{dataPipeline:Me});if(!Vt||(ge.setCustomProperty("listItemMarker",!0,Vt),pt.canInjectMarkerIntoElement&&pt.canInjectMarkerIntoElement(W)?ge.insert(ge.createPositionAt(X,0),Vt):(ge.insert(Ze.start,Vt),Ze=ge.createRange(ge.createPositionBefore(Vt),ge.createPositionAfter(X))),!pt.createWrapperElement||!pt.canWrapElement))continue;const En=pt.createWrapperElement(ge,W,{dataPipeline:Me});ge.setCustomProperty("listItemWrapper",!0,En),pt.canWrapElement(W)?Ze=ge.wrap(Ze,En):(Ze=ge.wrap(ge.createRangeOn(Vt),En),Ze=ge.createRange(Ze.start,ge.createPositionAfter(X)))}return Ze}(O,z,e,w,{dataPipeline:n});(function(W,X,ae,ge){if(!W.hasAttribute("listIndent"))return;const Me=W.getAttribute("listIndent");let Ze=W;for(let pt=Me;pt>=0;pt--){const Vt=a6(ge,pt,Ze.getAttribute("listItemId")),En=o6(ge,pt,Ze.getAttribute("listType"));for(const zn of ae)zn.scope!="list"&&zn.scope!="item"||!Ze.hasAttribute(zn.attributeName)||zn.setAttributeOnDowncast(ge,Ze.getAttribute(zn.attributeName),zn.scope=="list"?En:Vt);if(X=ge.wrap(X,Vt),X=ge.wrap(X,En),pt==0||(Ze=Bl.first(Ze,{lowerIndent:!0}),!Ze))break}})(O,U,e,w)}}function iD(r,{dataPipeline:e}={}){return(t,{writer:n})=>{if(!sD(t,r))return null;if(!e)return n.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const a=n.createContainerElement("p");return n.setCustomProperty("dataPipeline:transparentRendering",!0,a),a}}function rD(r,e,t){for(;r.parent.is("attributeElement")&&r.parent.getCustomProperty("listItemWrapper");)e.unwrap(e.createRangeOn(r),r.parent);const n=[];a(e.createPositionBefore(r).getWalker({direction:"backward"})),a(e.createRangeIn(r).getWalker());for(const u of n)e.remove(u);function a(u){for(const{item:f}of u){if(f.is("element")&&t.toModelElement(f))break;f.is("element")&&f.getCustomProperty("listItemMarker")&&n.push(f)}}}function sD(r,e,t=Ly(r)){if(!Vs(r))return!1;for(const n of r.getAttributeKeys())if(!n.startsWith("selection:")&&!e.includes(n))return!1;return t.length<2}var oD=h(1232),c6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(oD.A,c6),oD.A.locals;var aD=h(6903),d6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(aD.A,d6),aD.A.locals;const B_=["listType","listIndent","listItemId"];class u6 extends lt{constructor(e){super(e),this._downcastStrategies=[],e.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get requires(){return[__,au,s6,Ol]}init(){const e=this.editor,t=e.model,n=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new q("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});t.schema.register("$listItem",{allowAttributes:B_}),n?(t.schema.extend("$container",{allowAttributesOf:"$listItem"}),t.schema.extend("$block",{allowAttributesOf:"$listItem"}),t.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):t.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const a of B_)t.schema.setAttributeProperties(a,{copyOnReplace:!0});e.commands.add("numberedList",new O_(e,"numbered")),e.commands.add("bulletedList",new O_(e,"bulleted")),e.commands.add("customNumberedList",new O_(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new O_(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new Wj(e,"forward")),e.commands.add("outdentList",new Wj(e,"backward")),e.commands.add("splitListItemBefore",new Zj(e,"before")),e.commands.add("splitListItemAfter",new Zj(e,"after")),n&&(e.commands.add("mergeListItemBackward",new Qj(e,"backward")),e.commands.add("mergeListItemForward",new Qj(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList"),{priority:"high"}),n&&n.registerChildCommand(e.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...B_,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,t=e.commands.get("mergeListItemBackward"),n=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(a,u)=>{const f=e.model.document.selection;qg(e.model)||e.model.change(()=>{const b=f.getFirstPosition();if(f.isCollapsed&&u.direction=="backward"){if(!b.isAtStart)return;const w=b.parent;if(!Vs(w))return;if(Bl.first(w,{sameAttributes:"listType",sameIndent:!0})||w.getAttribute("listIndent")!==0){if(!t||!t.isEnabled)return;t.execute({shouldMergeOnBlocksContentLevel:lD(e.model,"backward")})}else qj(w)||e.execute("splitListItemAfter"),e.execute("outdentList");u.preventDefault(),a.stop()}else{if(f.isCollapsed&&!f.getLastPosition().isAtEnd||!n||!n.isEnabled)return;n.execute({shouldMergeOnBlocksContentLevel:lD(e.model,"forward")}),u.preventDefault(),a.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,t=e.model,n=e.commands,a=n.get("enter");this.listenTo(e.editing.view.document,"enter",(u,f)=>{const b=t.document,w=b.selection.getFirstPosition().parent;if(b.selection.isCollapsed&&Vs(w)&&w.isEmpty&&!f.isSoft){const A=bm(w),E=qj(w);A&&E?(e.execute("outdentList"),f.preventDefault(),u.stop()):A&&!E?(e.execute("splitListItemAfter"),f.preventDefault(),u.stop()):E&&(e.execute("splitListItemBefore"),f.preventDefault(),u.stop())}},{context:"li"}),this.listenTo(a,"afterExecute",()=>{const u=n.get("splitListItemBefore");u.refresh(),u.isEnabled&&Ly(e.model.document.selection.getLastPosition().parent).length===2&&u.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(t,n)=>{const a=n.shiftKey?"outdentList":"indentList";this.editor.commands.get(a).isEnabled&&(e.execute(a),n.stopPropagation(),n.preventDefault(),t.stop())},{context:"li"})}_setupConversion(){const e=this.editor,t=e.model,n=this.getListAttributeNames(),a=e.config.get("list.multiBlock"),u=a?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(A,{writer:E})=>E.createElement(u,{listType:""})}).elementToElement({view:"p",model:(A,{writer:E})=>A.parent&&A.parent.is("element","li")?E.createElement(u,{listType:""}):null,converterPriority:"high"}).add(A=>{A.on("element:li",l6()),A.on("element:ul",tD(),{priority:"high"}),A.on("element:ol",tD(),{priority:"high"})}),a||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:u,view:iD(n),converterPriority:"high"}).add(A=>{var E;A.on("attribute",nD(n,this._downcastStrategies,t)),A.on("remove",(E=t.schema,(O,z,U)=>{const{writer:W,mapper:X}=U,ae=O.name.split(":")[1];if(!E.checkAttribute(ae,"listItemId"))return;const ge=X.toViewPosition(z.position),Me=z.position.getShiftedBy(z.length),Ze=X.toViewPosition(Me,{isPhantom:!0}),pt=W.createRange(ge,Ze).getTrimmed().end.nodeBefore;pt&&rD(pt,W,X)}))}),e.conversion.for("dataDowncast").elementToElement({model:u,view:iD(n,{dataPipeline:!0}),converterPriority:"high"}).add(A=>{A.on("attribute",nD(n,this._downcastStrategies,t,{dataPipeline:!0}))});const f=(b=this._downcastStrategies,w=e.editing.view,(A,E)=>{if(E.modelPosition.offset>0)return;const O=E.modelPosition.parent;if(!Vs(O)||!b.some(ae=>ae.scope=="itemMarker"&&ae.canInjectMarkerIntoElement&&ae.canInjectMarkerIntoElement(O)))return;const z=E.mapper.toViewElement(O),U=w.createRangeIn(z),W=U.getWalker();let X=U.start;for(const{item:ae}of W){if(ae.is("element")&&E.mapper.toModelElement(ae)||ae.is("$textProxy"))break;ae.is("element")&&ae.getCustomProperty("listItemMarker")&&(X=w.createPositionAfter(ae),W.skip(({previousPosition:ge})=>!ge.isEqual(X)))}E.viewPosition=X});var b,w;e.editing.mapper.on("modelToViewPosition",f),e.data.mapper.on("modelToViewPosition",f),this.listenTo(t.document,"change:data",function(A,E,O,z){return()=>{const ae=A.document.differ.getChanges(),ge=[],Me=new Map,Ze=new Set;for(const pt of ae)if(pt.type=="insert"&&pt.name!="$text")vc(pt.position,Me),pt.attributes.has("listItemId")?Ze.add(pt.position.nodeAfter):vc(pt.position.getShiftedBy(pt.length),Me);else if(pt.type=="remove"&&pt.attributes.has("listItemId"))vc(pt.position,Me);else if(pt.type=="attribute"){const Vt=pt.range.start.nodeAfter;O.includes(pt.attributeKey)?(vc(pt.range.start,Me),pt.attributeNewValue===null?(vc(pt.range.start.getShiftedBy(1),Me),W(Vt)&&ge.push(Vt)):Ze.add(Vt)):Vs(Vt)&&W(Vt)&&ge.push(Vt)}for(const pt of Me.values())ge.push(...U(pt,Ze));for(const pt of new Set(ge))E.reconvertItem(pt)};function U(ae,ge){const Me=[],Ze=new Set,pt=[];for(const{node:Vt,previous:En}of Hg(ae,"forward")){if(Ze.has(Vt))continue;const zn=Vt.getAttribute("listIndent");En&&zn<En.getAttribute("listIndent")&&(pt.length=zn+1),pt[zn]=Object.fromEntries(Array.from(Vt.getAttributes()).filter(([Us])=>O.includes(Us)));const ar=hh(Vt,{direction:"forward"});for(const Us of ar)Ze.add(Us),(W(Us,ar)||X(Us,pt,ge))&&Me.push(Us)}return Me}function W(ae,ge){const Me=E.mapper.toViewElement(ae);if(!Me)return!1;if(z.fire("checkElement",{modelElement:ae,viewElement:Me}))return!0;if(!ae.is("element","paragraph")&&!ae.is("element","listItem"))return!1;const Ze=sD(ae,O,ge);return!(!Ze||!Me.is("element","p"))||!(Ze||!Me.is("element","span"))}function X(ae,ge,Me){if(Me.has(ae))return!1;const Ze=E.mapper.toViewElement(ae);let pt=ge.length-1;for(let Vt=Ze.parent;!Vt.is("editableElement");Vt=Vt.parent){const En=L_(Vt),zn=Xj(Vt);if(!zn&&!En)continue;const ar="checkAttributes:"+(En?"item":"list");if(z.fire(ar,{viewElement:Vt,modelAttributes:ge[pt]}))break;if(zn&&(pt--,pt<0))return!1}return!0}}(t,e.editing,n,this),{priority:"high"}),this.on("checkAttributes:item",(A,{viewElement:E,modelAttributes:O})=>{E.id!=O.listItemId&&(A.return=!0,A.stop())}),this.on("checkAttributes:list",(A,{viewElement:E,modelAttributes:O})=>{E.name==Jj(O.listType)&&E.id==eD(O.listType,O.listIndent)||(A.return=!0,A.stop())})}_setupModelPostFixing(){const e=this.editor.model,t=this.getListAttributeNames();e.document.registerPostFixer(n=>function(a,u,f,b){const w=a.document.differ.getChanges(),A=new Map,E=b.editor.config.get("list.multiBlock");let O=!1;for(const U of w){if(U.type=="insert"&&U.name!="$text"){const W=U.position.nodeAfter;if(!a.schema.checkAttribute(W,"listItemId"))for(const X of Array.from(W.getAttributeKeys()))f.includes(X)&&(u.removeAttribute(X,W),O=!0);vc(U.position,A),U.attributes.has("listItemId")||vc(U.position.getShiftedBy(U.length),A);for(const{item:X,previousPosition:ae}of a.createRangeIn(W))Vs(X)&&vc(ae,A)}else U.type=="remove"?vc(U.position,A):U.type=="attribute"&&f.includes(U.attributeKey)&&(vc(U.range.start,A),U.attributeNewValue===null&&vc(U.range.start.getShiftedBy(1),A));if(!E&&U.type=="attribute"&&B_.includes(U.attributeKey)){const W=U.range.start.nodeAfter;U.attributeNewValue===null&&W&&W.is("element","listItem")?(u.rename(W,"paragraph"),O=!0):U.attributeOldValue===null&&W&&W.is("element")&&W.name!="listItem"&&(u.rename(W,"listItem"),O=!0)}}const z=new Set;for(const U of A.values())O=b.fire("postFixer",{listNodes:new qF(U),listHead:U,writer:u,seenIds:z})||O;return O}(e,n,t,this)),this.on("postFixer",(n,{listNodes:a,writer:u})=>{n.return=function(f,b){let w=0,A=-1,E=null,O=!1;for(const{node:z}of f){const U=z.getAttribute("listIndent");if(U>w){let W;E===null?(E=U-w,W=w):(E>U&&(E=U),W=U-E),W>A+1&&(W=A+1),b.setAttribute("listIndent",W,z),O=!0,A=W}else E=null,w=U+1,A=U}return O}(a,u)||n.return},{priority:"high"}),this.on("postFixer",(n,{listNodes:a,writer:u,seenIds:f})=>{n.return=function(b,w,A){const E=new Set;let O=!1;for(const{node:z}of b){if(E.has(z))continue;let U=z.getAttribute("listType"),W=z.getAttribute("listItemId");if(w.has(W)&&(W=Zf.next()),w.add(W),z.is("element","listItem"))z.getAttribute("listItemId")!=W&&(A.setAttribute("listItemId",W,z),O=!0);else for(const X of hh(z,{direction:"forward"}))E.add(X),X.getAttribute("listType")!=U&&(W=Zf.next(),U=X.getAttribute("listType")),X.getAttribute("listItemId")!=W&&(A.setAttribute("listItemId",W,X),O=!0)}return O}(a,f,u)||n.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,t=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",function(n){return(a,[u,f])=>{const b=u.is("documentFragment")?Array.from(u.getChildren()):[u];if(!b.length)return;const w=(f?n.createSelection(f):n.document.selection).getFirstPosition();let A;if(Vs(w.parent))A=w.parent;else{if(!Vs(w.nodeBefore))return;A=w.nodeBefore}n.change(E=>{const O=A.getAttribute("listType"),z=A.getAttribute("listIndent"),U=b[0].getAttribute("listIndent")||0,W=Math.max(z-U,0);for(const X of b){const ae=Vs(X);A.is("element","listItem")&&X.is("element","paragraph")&&E.rename(X,"listItem"),E.setAttributes({listIndent:(ae?X.getAttribute("listIndent"):0)+W,listItemId:ae?X.getAttribute("listItemId"):Zf.next(),listType:O},X)}})}}(e),{priority:"high"}),this.listenTo(t,"outputTransformation",(n,a)=>{e.change(u=>{const f=Array.from(a.content.getChildren()),b=f[f.length-1];if(f.length>1&&b.is("element")&&b.isEmpty&&f.slice(0,-1).every(Vs)&&u.remove(b),a.method=="copy"||a.method=="cut"){const w=Array.from(a.content.getChildren());$g(w)&&I_(w,u)}})})}_setupAccessibilityIntegration(){const e=this.editor,t=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:t("Keystrokes that can be used in a list"),keystrokes:[{label:t("Increase list item indent"),keystroke:"Tab"},{label:t("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function lD(r,e){const t=r.document.selection;if(!t.isCollapsed)return!qg(r);if(e==="forward")return!0;const n=t.getFirstPosition().parent,a=n.previousSibling;return!r.schema.isObject(a)&&(!!a.isEmpty||$g([n,a]))}function cD(r,e,t,n){r.ui.componentFactory.add(e,()=>{const a=dD(P,r,e,t,n);return a.set({tooltip:!0,isToggleable:!0}),a}),r.ui.componentFactory.add(`menuBar:${e}`,()=>dD(cl,r,e,t,n))}function dD(r,e,t,n,a){const u=e.commands.get(t),f=new r(e.locale);return f.set({label:n,icon:a}),f.bind("isOn","isEnabled").to(u,"value","isEnabled"),f.on("execute",()=>{e.execute(t),e.editing.view.focus()}),f}class h6 extends lt{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||cD(this.editor,"numberedList",e("Numbered List"),Mn.numberedList),this.editor.ui.componentFactory.has("bulletedList")||cD(this.editor,"bulletedList",e("Bulleted List"),Mn.bulletedList)}}class m6 extends lt{static get requires(){return[u6,h6]}static get pluginName(){return"List"}}const f6=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:r,typeAttribute:e,listType:t}of f6);var uD=h(9968),p6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(uD.A,p6),uD.A.locals;var hD=h(7141),g6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(hD.A,g6),hD.A.locals,Gt("Ctrl+Enter");var mD=h(8991),b6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(mD.A,b6),mD.A.locals,Gt("Ctrl+Enter");function fD(r,e){const t=(n,a,u)=>{if(!u.consumable.consume(a.item,n.name))return;const f=a.attributeNewValue,b=u.writer,w=u.mapper.toViewElement(a.item),A=[...w.getChildren()].find(O=>O.getCustomProperty("media-content"));b.remove(A);const E=r.getMediaViewElement(b,f,e);b.insert(b.createPositionAt(w,0),E)};return n=>{n.on("attribute:url:media",t)}}function pD(r,e,t,n){return r.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(r,t,n),r.createSlot()])}function gD(r){const e=r.getSelectedElement();return e&&e.is("element","media")?e:null}function bD(r,e,t,n){r.change(a=>{const u=a.createElement("media",{url:e});r.insertObject(u,t,null,{setSelection:"on",findOptimalPosition:n?"auto":void 0})})}class k6 extends Ht{refresh(){const e=this.editor.model,t=e.document.selection,n=gD(t);this.value=n?n.getAttribute("url"):void 0,this.isEnabled=function(a){const u=a.getSelectedElement();return!!u&&u.name==="media"}(t)||function(a,u){let b=_E(a,u).start.parent;return b.isEmpty&&!u.schema.isLimit(b)&&(b=b.parent),u.schema.checkChild(b,"media")}(t,e)}execute(e){const t=this.editor.model,n=t.document.selection,a=gD(n);a?t.change(u=>{u.setAttribute("url",e,a)}):bD(t,e,n,!0)}}class _6{constructor(e,t){const n=t.providers,a=t.extraProviders||[],u=new Set(t.removeProviders),f=n.concat(a).filter(b=>{const w=b.name;return w?!u.has(w):(de("media-embed-no-provider-name",{provider:b}),!1)});this.locale=e,this.providerDefinitions=f}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,n){return this._getMedia(t).getViewElement(e,n)}_getMedia(e){if(!e)return new kD(this.locale);e=e.trim();for(const t of this.providerDefinitions){const n=t.html,a=gn(t.url);for(const u of a){const f=this._getUrlMatches(e,u);if(f)return new kD(this.locale,e,f,n)}}return null}_getUrlMatches(e,t){let n=e.match(t);if(n)return n;let a=e.replace(/^https?:\/\//,"");return n=a.match(t),n||(a=a.replace(/^www\./,""),n=a.match(t),n||null)}}class kD{constructor(e,t,n,a){this.url=this._getValidUrl(t),this._locale=e,this._match=n,this._previewRenderer=a}getViewElement(e,t){const n={};let a;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),t.renderForEditingView&&(n.class="ck-media__wrapper");const u=this._getPreviewHtml(t);a=e.createRawElement("div",n,(f,b)=>{b.setContentOf(f,u)})}else this.url&&(n.url=this.url),a=e.createEmptyElement(t.elementName,n);return e.setCustomProperty("media-content",!0,a),a}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new m,t=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new Vo({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":t("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var _D=h(7048),v6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(_D.A,v6),_D.A.locals;class R_ extends lt{constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:t=>{const n=t[1],a=t[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${n}${a?`?start=${a}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new _6(e.locale,e.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const e=this.editor,t=e.model.schema,n=e.t,a=e.conversion,u=e.config.get("mediaEmbed.previewsInData"),f=e.config.get("mediaEmbed.elementName"),b=this.registry;e.commands.add("mediaEmbed",new k6(e)),t.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),a.for("dataDowncast").elementToStructure({model:"media",view:(w,{writer:A})=>{const E=w.getAttribute("url");return pD(A,b,E,{elementName:f,renderMediaPreview:!!E&&u})}}),a.for("dataDowncast").add(fD(b,{elementName:f,renderMediaPreview:u})),a.for("editingDowncast").elementToStructure({model:"media",view:(w,{writer:A})=>{const E=w.getAttribute("url");return function(O,z,U){return z.setCustomProperty("media",!0,O),gy(O,z,{label:U})}(pD(A,b,E,{elementName:f,renderForEditingView:!0}),A,n("media widget"))}}),a.for("editingDowncast").add(fD(b,{elementName:f,renderForEditingView:!0})),a.for("upcast").elementToElement({view:w=>["oembed",f].includes(w.name)&&w.getAttribute("url")?{name:!0}:null,model:(w,{writer:A})=>{const E=w.getAttribute("url");return b.hasMedia(E)?A.createElement("media",{url:E}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(w,{writer:A})=>{const E=w.getAttribute("data-oembed-url");return b.hasMedia(E)?A.createElement("media",{url:E}):null}}).add(w=>{w.on("element:figure",(A,E,O)=>{if(!O.consumable.consume(E.viewItem,{name:!0,classes:"media"}))return;const{modelRange:z,modelCursor:U}=O.convertChildren(E.viewItem,E.modelCursor);E.modelRange=z,E.modelCursor=U,Un(z.getItems())||O.consumable.revert(E.viewItem,{name:!0,classes:"media"})})})}}const w6=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class y6 extends lt{constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[PE,au,UE]}static get pluginName(){return"AutoMediaEmbed"}init(){const e=this.editor,t=e.model.document,n=e.plugins.get("ClipboardPipeline");this.listenTo(n,"inputTransformation",()=>{const a=t.selection.getFirstRange(),u=Hs.fromPosition(a.start);u.stickiness="toPrevious";const f=Hs.fromPosition(a.end);f.stickiness="toNext",t.once("change:data",()=>{this._embedMediaBetweenPositions(u,f),u.detach(),f.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(y.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,t){const n=this.editor,a=n.plugins.get(R_).registry,u=new dr(e,t),f=u.getWalker({ignoreElementEnd:!0});let b="";for(const w of f)w.item.is("$textProxy")&&(b+=w.item.data);if(b=b.trim(),!b.match(w6)||!a.hasMedia(b))return void u.detach();n.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Hs.fromPosition(e),this._timeoutId=y.window.setTimeout(()=>{n.model.change(w=>{this._timeoutId=null,w.remove(u),u.detach();let A=null;this._positionToInsert.root.rootName!=="$graveyard"&&(A=this._positionToInsert),bD(n.model,b,A,!1),this._positionToInsert.detach(),this._positionToInsert=null}),n.plugins.get(au).requestUndoOnBackspace()},100)):u.detach()}}var vD=h(5651),x6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(vD.A,x6),vD.A.locals;class C6 extends St{constructor(e,t){super(t);const n=t.t;this.focusTracker=new mr,this.keystrokes=new fr,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),Mn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),Mn.cancel,"ck-button-cancel","cancel"),this._focusables=new Ho,this._focusCycler=new Il({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),gi({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,t=new Ke(this.locale,a_),n=t.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),t.label=e("Media URL"),t.infoText=this._urlInputViewInfoDefault,n.on("input",()=>{t.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=n.element.value.trim()}),t}_createButton(e,t,n,a){const u=new P(this.locale);return u.set({label:e,icon:t,tooltip:!0}),u.extendTemplate({attributes:{class:n}}),a&&u.delegate("execute").to(this,a),u}}class A6 extends lt{static get requires(){return[R_]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,t=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",n=>{const a=su(n);return this._setUpDropdown(a,t),a})}_setUpDropdown(e,t){const n=this.editor,a=n.t,u=e.buttonView,f=n.plugins.get(R_).registry;e.once("change:isOpen",()=>{const b=new(ri(C6))(function(w,A){return[E=>{if(!E.url.length)return w("The URL must not be empty.")},E=>{if(!A.hasMedia(E.url))return w("This media URL is not supported.")}]}(n.t,f),n.locale);e.panelView.children.add(b),u.on("open",()=>{b.disableCssTransitions(),b.url=t.value||"",b.urlInputView.fieldView.select(),b.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{b.isValid()&&(n.execute("mediaEmbed",b.url),n.editing.view.focus())}),e.on("change:isOpen",()=>b.resetFormStatus()),e.on("cancel",()=>{n.editing.view.focus()}),b.delegate("submit","cancel").to(e),b.urlInputView.fieldView.bind("value").to(t,"value"),b.urlInputView.on("change:errorText",()=>{n.ui.update()}),b.urlInputView.bind("isEnabled").to(t,"isEnabled")}),e.bind("isEnabled").to(t),u.set({label:a("Insert media"),icon:'<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',tooltip:!0})}}var wD=h(70),N6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(wD.A,N6),wD.A.locals;function yD(r){return r!==void 0&&r.endsWith("px")}function Xf(r){return r.toFixed(2).replace(/\.?0+$/,"")+"px"}var E6=Object.defineProperty,S6=Object.defineProperties,j6=Object.getOwnPropertyDescriptors,xD=Object.getOwnPropertySymbols,D6=Object.prototype.hasOwnProperty,T6=Object.prototype.propertyIsEnumerable,CD=(r,e,t)=>e in r?E6(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,M6=(r,e)=>{for(var t in e||(e={}))D6.call(e,t)&&CD(r,t,e[t]);if(xD)for(var t of xD(e))T6.call(e,t)&&CD(r,t,e[t]);return r};function I6(r,e,t){if(!r.childCount)return;const n=new bc(r.document),a=function(w,A){const E=A.createRangeIn(w),O=[],z=new Set;for(const U of E.getItems()){if(!U.is("element")||!U.name.match(/^(p|h\d+|li|div)$/))continue;let W=H6(U);if(W===void 0||parseFloat(W)!=0||Array.from(U.getClassNames()).find(X=>X.startsWith("MsoList"))||(W=void 0),U.hasStyle("mso-list")||W!==void 0&&z.has(W)){const X=z6(U);O.push({element:U,id:X.id,order:X.order,indent:X.indent,marginLeft:W}),W!==void 0&&z.add(W)}else z.clear()}return O}(r,n);if(!a.length)return;const u={},f=[];for(const w of a)if(w.indent!==void 0){O6(w)||(f.length=0);const A=`${w.id}:${w.indent}`,E=Math.min(w.indent-1,f.length);if(E<f.length&&f[E].id!==w.id&&(f.length=E),E<f.length-1)f.length=E+1;else{const z=B6(w,e);if(E>f.length-1||f[E].listElement.name!=z.type){E==0&&z.type=="ol"&&w.id!==void 0&&u[A]&&(z.startIndex=u[A]);const U=P6(z,n,t);if(yD(w.marginLeft)&&(E==0||yD(f[E-1].marginLeft))){let W=w.marginLeft;E>0&&(W=Xf(parseFloat(W)-parseFloat(f[E-1].marginLeft))),n.setStyle("padding-left",W,U)}if(f.length==0){const W=w.element.parent,X=W.getChildIndex(w.element)+1;n.insertChild(X,U,W)}else{const W=f[E-1].listItemElements;n.appendChild(U,W[W.length-1])}f[E]=(b=M6({},w),S6(b,j6({listElement:U,listItemElements:[]}))),E==0&&w.id!==void 0&&(u[A]=z.startIndex||1)}}const O=w.element.name=="li"?w.element:n.createElement("li");n.appendChild(O,f[E].listElement),f[E].listItemElements.push(O),E==0&&w.id!==void 0&&u[A]++,w.element!=O&&n.appendChild(w.element,O),F6(w.element,n),n.removeStyle("text-indent",w.element),n.removeStyle("margin-left",w.element)}else{const A=f.find(E=>E.marginLeft==w.marginLeft);if(A){const E=A.listItemElements;n.appendChild(w.element,E[E.length-1]),n.removeStyle("margin-left",w.element)}else f.length=0}var b}function O6(r){const e=r.element.previousSibling;return L6(e||r.element.parent)}function L6(r){return r.is("element","ol")||r.is("element","ul")}function B6(r,e){const t=new RegExp(`@list l${r.id}:level${r.indent}\\s*({[^}]*)`,"gi"),n=/mso-level-number-format:([^;]{0,100});/gi,a=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,u=new RegExp(`@list\\s+l${r.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),f=new RegExp(`@list l${r.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),b=u.exec(e),w=f.exec(e),A=b&&!w,E=t.exec(e);let O="decimal",z="ol",U=null;if(E&&E[1]){const W=n.exec(E[1]);if(W&&W[1]&&(O=W[1].trim(),z=O!=="bullet"&&O!=="image"?"ol":"ul"),O==="bullet"){const X=function(ae){if(ae.name=="li"&&ae.parent.name=="ul"&&ae.parent.hasAttribute("type"))return ae.parent.getAttribute("type");const ge=function(Ze){if(Ze.getChild(0).is("$text"))return null;for(const pt of Ze.getChildren()){if(!pt.is("element","span"))continue;const Vt=pt.getChild(0);if(Vt)return Vt.is("$text")?Vt:Vt.getChild(0)}return null}(ae);if(!ge)return null;const Me=ge._data;return Me==="o"?"circle":Me==="·"?"disc":Me==="§"?"square":null}(r.element);X&&(O=X)}else{const X=a.exec(E[1]);X&&X[1]&&(U=parseInt(X[1]))}A&&(z="ol")}return{type:z,startIndex:U,style:R6(O),isLegalStyleList:A}}function R6(r){if(r.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(r){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return r;default:return null}}function P6(r,e,t){const n=e.createElement(r.type);return r.style&&e.setStyle("list-style-type",r.style,n),r.startIndex&&r.startIndex>1&&e.setAttribute("start",r.startIndex,n),r.isLegalStyleList&&t&&e.addClass("legal-list",n),n}function z6(r){const e=r.getStyle("mso-list");if(e===void 0)return{};const t=e.match(/(^|\s{1,100})l(\d+)/i),n=e.match(/\s{0,100}lfo(\d+)/i),a=e.match(/\s{0,100}level(\d+)/i);return t&&n&&a?{id:t[2],order:n[1],indent:parseInt(a[1])}:{indent:1}}function F6(r,e){const t=new $r({name:"span",styles:{"mso-list":"Ignore"}}),n=e.createRangeIn(r);for(const a of n)a.type==="elementStart"&&t.match(a.item)&&e.remove(a.item)}function H6(r){const e=r.getStyle("margin-left");return e===void 0||e.endsWith("px")?e:function(t){const n=parseFloat(t);return t.endsWith("pt")?Xf(96*n/72):t.endsWith("pc")?Xf(12*n*96/72):t.endsWith("in")?Xf(96*n):t.endsWith("cm")?Xf(96*n/2.54):t.endsWith("mm")?Xf(n/10*96/2.54):t}(e)}function V6(r,e){if(!r.childCount)return;const t=new bc(r.document),n=function(u,f){const b=f.createRangeIn(u),w=new $r({name:/v:(.+)/}),A=[];for(const E of b){if(E.type!="elementStart")continue;const O=E.item,z=O.previousSibling,U=z&&z.is("element")?z.name:null,W=["Chart"],X=w.match(O),ae=O.getAttribute("o:gfxdata"),ge=U==="v:shapetype",Me=ae&&W.some(Ze=>O.getAttribute("id").includes(Ze));X&&ae&&!ge&&!Me&&A.push(E.item.getAttribute("id"))}return A}(r,t);(function(u,f,b){const w=b.createRangeIn(f),A=new $r({name:"img"}),E=[];for(const O of w)if(O.item.is("element")&&A.match(O.item)){const z=O.item,U=z.getAttribute("v:shapes")?z.getAttribute("v:shapes").split(" "):[];U.length&&U.every(W=>u.indexOf(W)>-1)?E.push(z):z.getAttribute("src")||E.push(z)}for(const O of E)b.remove(O)})(n,r,t),function(u,f,b){const w=b.createRangeIn(f),A=[];for(const z of w)if(z.type=="elementStart"&&z.item.is("element","v:shape")){const U=z.item.getAttribute("id");if(u.includes(U))continue;E(z.item.parent.getChildren(),U)||A.push(z.item)}for(const z of A){const U={src:O(z)};z.hasAttribute("alt")&&(U.alt=z.getAttribute("alt"));const W=b.createElement("img",U);b.insertChild(z.index+1,W,z.parent)}function E(z,U){for(const W of z)if(W.is("element")&&(W.name=="img"&&W.getAttribute("v:shapes")==U||E(W.getChildren(),U)))return!0;return!1}function O(z){for(const U of z.getChildren())if(U.is("element")&&U.getAttribute("src"))return U.getAttribute("src")}}(n,r,t),function(u,f){const b=f.createRangeIn(u),w=new $r({name:/v:(.+)/}),A=[];for(const E of b)E.type=="elementStart"&&w.match(E.item)&&A.push(E.item);for(const E of A)f.remove(E)}(r,t);const a=function(u,f){const b=f.createRangeIn(u),w=new $r({name:"img"}),A=[];for(const E of b)E.item.is("element")&&w.match(E.item)&&E.item.getAttribute("src").startsWith("file://")&&A.push(E.item);return A}(r,t);a.length&&function(u,f,b){if(u.length===f.length)for(let w=0;w<u.length;w++){const A=`data:${f[w].type};base64,${U6(f[w].hex)}`;b.setAttribute("src",A,u[w])}}(a,function(u){if(!u)return[];const f=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,b=new RegExp("(?:("+f.source+"))([\\da-fA-F\\s]+)\\}","g"),w=u.match(b),A=[];if(w)for(const E of w){let O=!1;E.includes("\\pngblip")?O="image/png":E.includes("\\jpegblip")&&(O="image/jpeg"),O&&A.push({hex:E.replace(f,"").replace(/[^\da-fA-F]/g,""),type:O})}return A}(e),t)}function U6(r){return btoa(r.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const $6=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,q6=/xmlns:o="urn:schemas-microsoft-com/i;class W6{constructor(e,t=!1){this.document=e,this.hasMultiLevelListPlugin=t}isActive(e){return $6.test(e)||q6.test(e)}execute(e){const{body:t,stylesString:n}=e._parsedData;I6(t,n,this.hasMultiLevelListPlugin),V6(t,e.dataTransfer.getData("text/rtf")),function(a){const u=[],f=new bc(a.document);for(const{item:b}of f.createRangeIn(a))if(b.is("element")){for(const w of b.getClassNames())/\bmso/gi.exec(w)&&f.removeClass(w,b);for(const w of b.getStyleNames())/\bmso/gi.exec(w)&&f.removeStyle(w,b);(b.is("element","w:sdt")||b.is("element","w:sdtpr")&&b.isEmpty||b.is("element","o:p")&&b.isEmpty)&&u.push(b)}for(const b of u){const w=b.parent,A=w.getChildIndex(b);f.insertChild(A,b.getChildren(),w),f.remove(b)}}(t),e.content=t}}function AD(r,e,t,{blockElements:n,inlineObjectElements:a}){let u=t.createPositionAt(r,e=="forward"?"after":"before");return u=u.getLastMatchingPosition(({item:f})=>f.is("element")&&!n.includes(f.name)&&!a.includes(f.name),{direction:e}),e=="forward"?u.nodeAfter:u.nodeBefore}function ND(r,e){return!!r&&r.is("element")&&e.includes(r.name)}const Y6=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class G6{constructor(e){this.document=e}isActive(e){return Y6.test(e)}execute(e){const t=new bc(this.document),{body:n}=e._parsedData;(function(a,u){for(const f of a.getChildren())if(f.is("element","b")&&f.getStyle("font-weight")==="normal"){const b=a.getChildIndex(f);u.remove(f),u.insertChild(b,f.getChildren(),a)}})(n,t),function(a,u){for(const f of u.createRangeIn(a)){const b=f.item;if(b.is("element","li")){const w=b.getChild(0);w&&w.is("element","p")&&u.unwrapElement(w)}}}(n,t),function(a,u){const f=new zh(u.document.stylesProcessor),b=new $h(f,{renderingMode:"data"}),w=b.blockElements,A=b.inlineObjectElements,E=[];for(const O of u.createRangeIn(a)){const z=O.item;if(z.is("element","br")){const U=AD(z,"forward",u,{blockElements:w,inlineObjectElements:A}),W=AD(z,"backward",u,{blockElements:w,inlineObjectElements:A}),X=ND(U,w);(ND(W,w)||X)&&E.push(z)}}for(const O of E)O.hasClass("Apple-interchange-newline")?u.remove(O):u.replace(O,u.createElement("p"))}(n,t),e.content=n}}const K6=/<google-sheets-html-origin/i;class Q6{constructor(e){this.document=e}isActive(e){return K6.test(e)}execute(e){const t=new bc(this.document),{body:n}=e._parsedData;(function(a,u){for(const f of a.getChildren())if(f.is("element","google-sheets-html-origin")){const b=a.getChildIndex(f);u.remove(f),u.insertChild(b,f.getChildren(),a)}})(n,t),function(a,u){for(const f of a.getChildren())f.is("element","table")&&f.hasAttribute("xmlns")&&u.removeAttribute("xmlns",f)}(n,t),function(a,u){for(const f of a.getChildren())f.is("element","table")&&f.getStyle("width")==="0px"&&u.removeStyle("width",f)}(n,t),function(a,u){for(const f of Array.from(a.getChildren()))f.is("element","style")&&u.remove(f)}(n,t),e.content=n}}function ED(r){return r.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length===1?" ":Array(t.length+1).join("  ").substr(0,t.length))}function Z6(r,e){const t=new DOMParser,n=function(w){return ED(ED(w)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(w){const A="</body>",E="</html>",O=w.indexOf(A);if(O<0)return w;const z=w.indexOf(E,O+A.length);return w.substring(0,O+A.length)+(z>=0?w.substring(z):"")}(r=(r=r.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),a=t.parseFromString(n,"text/html");(function(w){w.querySelectorAll("span[style*=spacerun]").forEach(A=>{const E=A,O=E.innerText.length||0;E.innerText=Array(O+1).join("  ").substr(0,O)})})(a);const u=a.body.innerHTML,f=function(w,A){const E=new zh(A),O=new $h(E,{renderingMode:"data"}),z=w.createDocumentFragment(),U=w.body.childNodes;for(;U.length>0;)z.appendChild(U[0]);return O.domToView(z,{skipComments:!0})}(a,e),b=function(w){const A=[],E=[],O=Array.from(w.getElementsByTagName("style"));for(const z of O)z.sheet&&z.sheet.cssRules&&z.sheet.cssRules.length&&(A.push(z.sheet),E.push(z.innerHTML));return{styles:A,stylesString:E.join(" ")}}(a);return{body:f,bodyString:u,styles:b.styles,stylesString:b.stylesString}}function Wr(r,e,t,n,a=1){e!=null&&a!=null&&e>a?n.setAttribute(r,e,t):n.removeAttribute(r,t)}function _m(r,e,t={}){const n=r.createElement("tableCell",t);return r.insertElement("paragraph",n),r.insert(n,e),n}function Vy(r,e){const t=e.parent.parent,n=parseInt(t.getAttribute("headingColumns")||"0"),{column:a}=r.getCellLocation(e);return!!n&&a<n}function X6(){return r=>{r.on("element:table",(e,t,n)=>{const a=t.viewItem;if(!n.consumable.test(a,{name:!0}))return;const{rows:u,headingRows:f,headingColumns:b}=function(E){let O,z=0;const U=[],W=[];let X;for(const ae of Array.from(E.getChildren())){if(ae.name!=="tbody"&&ae.name!=="thead"&&ae.name!=="tfoot")continue;ae.name!=="thead"||X||(X=ae);const ge=Array.from(ae.getChildren()).filter(Me=>Me.is("element","tr"));for(const Me of ge)if(X&&ae===X||ae.name==="tbody"&&Array.from(Me.getChildren()).length&&Array.from(Me.getChildren()).every(Ze=>Ze.is("element","th")))z++,U.push(Me);else{W.push(Me);const Ze=J6(Me);(!O||Ze<O)&&(O=Ze)}}return{headingRows:z,headingColumns:O||0,rows:[...U,...W]}}(a),w={};b&&(w.headingColumns=b),f&&(w.headingRows=f);const A=n.writer.createElement("table",w);if(n.safeInsert(A,t.modelCursor)){if(n.consumable.consume(a,{name:!0}),u.forEach(E=>n.convertItem(E,n.writer.createPositionAt(A,"end"))),n.convertChildren(a,n.writer.createPositionAt(A,"end")),A.isEmpty){const E=n.writer.createElement("tableRow");n.writer.insert(E,n.writer.createPositionAt(A,"end")),_m(n.writer,n.writer.createPositionAt(E,"end"))}n.updateConversionResult(A,t)}})}}function SD(r){return e=>{e.on(`element:${r}`,(t,n,{writer:a})=>{if(!n.modelRange)return;const u=n.modelRange.start.nodeAfter,f=a.createPositionAt(u,0);if(n.viewItem.isEmpty)return void a.insertElement("paragraph",f);const b=Array.from(u.getChildren());if(b.every(w=>w.is("element","$marker"))){const w=a.createElement("paragraph");a.insert(w,a.createPositionAt(u,0));for(const A of b)a.move(a.createRangeOn(A),a.createPositionAt(w,"end"))}},{priority:"low"})}}function J6(r){let e=0,t=0;const n=Array.from(r.getChildren()).filter(a=>a.name==="th"||a.name==="td");for(;t<n.length&&n[t].name==="th";){const a=n[t];e+=parseInt(a.getAttribute("colspan")||"1"),t++}return e}class Ji{constructor(e,t={}){this._jumpedToStartRow=!1,this._table=e,this._startRow=t.row!==void 0?t.row:t.startRow||0,this._endRow=t.row!==void 0?t.row:t.endRow,this._startColumn=t.column!==void 0?t.column:t.startColumn||0,this._endColumn=t.column!==void 0?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let t=null;const n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(n.cell,n.row,n.column));else{const a=e.getChild(this._cellIndex);if(!a)return this._advanceToNextRow();const u=parseInt(a.getAttribute("colspan")||"1"),f=parseInt(a.getAttribute("rowspan")||"1");(u>1||f>1)&&this._recordSpans(a,f,u),this._shouldSkipSlot()||(t=this._formatOutValue(a)),this._nextCellAtColumn=this._column+u}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,t=this._row,n=this._column){return{done:!1,value:new e8(this,e,t,n)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),t=this._row<this._startRow,n=this._column<this._startColumn,a=this._endColumn!==void 0&&this._column>this._endColumn;return e||t||n||a}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,t,n){const a={cell:e,row:this._row,column:this._column};for(let u=this._row;u<this._row+t;u++)for(let f=this._column;f<this._column+n;f++)u==this._row&&f==this._column||this._markSpannedCell(u,f,a)}_markSpannedCell(e,t,n){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,n)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let t=this._startRow;!this._jumpedToStartRow;t--)e===this._getRowLength(t)&&(this._row=t,this._rowIndex=t,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((t,n)=>t+parseInt(n.getAttribute("colspan")||"1"),0)}}class e8{constructor(e,t,n,a){this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=n,this.cellAnchorColumn=a,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function jD(r,e){return(t,{writer:n})=>{const a=t.getAttribute("headingRows")||0,u=n.createContainerElement("table",null,[]),f=n.createContainerElement("figure",{class:"table"},u);a>0&&n.insert(n.createPositionAt(u,"end"),n.createContainerElement("thead",null,n.createSlot(b=>b.is("element","tableRow")&&b.index<a))),a<r.getRows(t)&&n.insert(n.createPositionAt(u,"end"),n.createContainerElement("tbody",null,n.createSlot(b=>b.is("element","tableRow")&&b.index>=a)));for(const{positionOffset:b,filter:w}of e.additionalSlots)n.insert(n.createPositionAt(u,b),n.createSlot(w));return n.insert(n.createPositionAt(u,"after"),n.createSlot(b=>!b.is("element","tableRow")&&!e.additionalSlots.some(({filter:w})=>w(b)))),e.asWidget?function(b,w){return w.setCustomProperty("table",!0,b),gy(b,w,{hasSelectionHandle:!0})}(f,n):f}}function DD(r={}){return(e,{writer:t})=>{const n=e.parent,a=n.parent,u=a.getChildIndex(n),f=new Ji(a,{row:u}),b=a.getAttribute("headingRows")||0,w=a.getAttribute("headingColumns")||0;let A=null;for(const E of f)if(E.cell==e){const O=E.row<b||E.column<w?"th":"td";A=r.asWidget?kE(t.createEditableElement(O),t):t.createContainerElement(O);break}return A}}function TD(r={}){return(e,{writer:t})=>{if(!e.parent.is("element","tableCell")||!MD(e))return null;if(r.asWidget)return t.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const n=t.createContainerElement("p");return t.setCustomProperty("dataPipeline:transparentRendering",!0,n),n}}}function MD(r){return r.parent.childCount==1&&!!r.getAttributeKeys().next().done}class t8 extends Ht{refresh(){const e=this.editor.model,t=e.document.selection,n=e.schema;this.isEnabled=function(a,u){const f=a.getFirstPosition().parent,b=f===f.root?f:f.parent;return u.checkChild(b,"table")}(t,n)}execute(e={}){const t=this.editor,n=t.model,a=t.plugins.get("TableUtils"),u=t.config.get("table.defaultHeadings.rows"),f=t.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&u&&(e.headingRows=u),e.headingColumns===void 0&&f&&(e.headingColumns=f),n.change(b=>{const w=a.createTable(b,e);n.insertObject(w,null,null,{findOptimalPosition:"auto"}),b.setSelection(b.createPositionAt(w.getNodeByPath([0,0,0]),0))})}}class ID extends Ht{constructor(e,t={}){super(e),this.order=t.order||"below"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),a=this.order==="above",u=n.getSelectionAffectedTableCells(t),f=n.getRowIndexes(u),b=a?f.first:f.last,w=u[0].findAncestor("table");n.insertRows(w,{at:a?b:b+1,copyStructureFromAbove:!a})}}class OD extends Ht{constructor(e,t={}){super(e),this.order=t.order||"right"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),a=this.order==="left",u=n.getSelectionAffectedTableCells(t),f=n.getColumnIndexes(u),b=a?f.first:f.last,w=u[0].findAncestor("table");n.insertColumns(w,{columns:1,at:a?b:b+1})}}class LD extends Ht{constructor(e,t={}){super(e),this.direction=t.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}}function BD(r,e,t){const{startRow:n,startColumn:a,endRow:u,endColumn:f}=e,b=t.createElement("table"),w=u-n+1;for(let E=0;E<w;E++)t.insertElement("tableRow",b,"end");const A=[...new Ji(r,{startRow:n,endRow:u,startColumn:a,endColumn:f,includeAllSlots:!0})];for(const{row:E,column:O,cell:z,isAnchor:U,cellAnchorRow:W,cellAnchorColumn:X}of A){const ae=E-n,ge=b.getChild(ae);if(U){const Me=t.cloneElement(z);t.append(Me,ge),HD(Me,E,O,u,f,t)}else(W<n||X<a)&&_m(t,t.createPositionAt(ge,"end"))}return function(E,O,z,U,W){const X=parseInt(O.getAttribute("headingRows")||"0");X>0&&Wr("headingRows",X-z,E,W,0);const ae=parseInt(O.getAttribute("headingColumns")||"0");ae>0&&Wr("headingColumns",ae-U,E,W,0)}(b,r,n,a,t),b}function RD(r,e,t=0){const n=[],a=new Ji(r,{startRow:t,endRow:e-1});for(const u of a){const{row:f,cellHeight:b}=u;f<e&&e<=f+b-1&&n.push(u)}return n}function PD(r,e,t){const n=r.parent,a=n.parent,u=n.index,f=e-u,b={},w=parseInt(r.getAttribute("rowspan"))-f;w>1&&(b.rowspan=w);const A=parseInt(r.getAttribute("colspan")||"1");A>1&&(b.colspan=A);const E=u+f,O=[...new Ji(a,{startRow:u,endRow:E,includeAllSlots:!0})];let z,U=null;for(const W of O){const{row:X,column:ae,cell:ge}=W;ge===r&&z===void 0&&(z=ae),z!==void 0&&z===ae&&X===E&&(U=_m(t,W.getPositionBefore(),b))}return Wr("rowspan",f,r,t),U}function zD(r,e){const t=[],n=new Ji(r);for(const a of n){const{column:u,cellWidth:f}=a;u<e&&e<=u+f-1&&t.push(a)}return t}function FD(r,e,t,n){const a=t-e,u={},f=parseInt(r.getAttribute("colspan"))-a;f>1&&(u.colspan=f);const b=parseInt(r.getAttribute("rowspan")||"1");b>1&&(u.rowspan=b);const w=_m(n,n.createPositionAfter(r),u);return Wr("colspan",a,r,n),w}function HD(r,e,t,n,a,u){const f=parseInt(r.getAttribute("colspan")||"1"),b=parseInt(r.getAttribute("rowspan")||"1");t+f-1>a&&Wr("colspan",a-t+1,r,u,1),e+b-1>n&&Wr("rowspan",n-e+1,r,u,1)}function Uy(r,e){const t=e.getColumns(r),n=new Array(t).fill(0);for(const{column:u}of new Ji(r))n[u]++;const a=n.reduce((u,f,b)=>f?u:[...u,b],[]);if(a.length>0){const u=a[a.length-1];return e.removeColumns(r,{at:u}),!0}return!1}function $y(r,e){const t=[],n=e.getRows(r);for(let a=0;a<n;a++)r.getChild(a).isEmpty&&t.push(a);if(t.length>0){const a=t[t.length-1];return e.removeRows(r,{at:a}),!0}return!1}function qy(r,e){Uy(r,e)||$y(r,e)}function VD(r,e){const t=Array.from(new Ji(r,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(t.every(({cellHeight:a})=>a===1))return e.lastRow;const n=t[0].cellHeight-1;return e.lastRow+n}function UD(r,e){const t=Array.from(new Ji(r,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(t.every(({cellWidth:a})=>a===1))return e.lastColumn;const n=t[0].cellWidth-1;return e.lastColumn+n}class P_ extends Ht{constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,t=e.document,n=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(t.selection)[0],a=this.value,u=this.direction;e.change(f=>{const b=u=="right"||u=="down",w=b?n:a,A=b?a:n,E=A.parent;(function(X,ae,ge){$D(X)||($D(ae)&&ge.remove(ge.createRangeIn(ae)),ge.move(ge.createRangeIn(X),ge.createPositionAt(ae,"end"))),ge.remove(X)})(A,w,f);const O=this.isHorizontal?"colspan":"rowspan",z=parseInt(n.getAttribute(O)||"1"),U=parseInt(a.getAttribute(O)||"1");f.setAttribute(O,z+U,w),f.setSelection(f.createRangeIn(w));const W=this.editor.plugins.get("TableUtils");qy(E.findAncestor("table"),W)})}_getMergeableCell(){const e=this.editor.model.document,t=this.editor.plugins.get("TableUtils"),n=t.getTableCellsContainingSelection(e.selection)[0];if(!n)return;const a=this.isHorizontal?function(b,w,A){const E=b.parent,O=E.parent,z=w=="right"?b.nextSibling:b.previousSibling,U=(O.getAttribute("headingColumns")||0)>0;if(!z)return;const W=w=="right"?b:z,X=w=="right"?z:b,{column:ae}=A.getCellLocation(W),{column:ge}=A.getCellLocation(X),Me=parseInt(W.getAttribute("colspan")||"1"),Ze=Vy(A,W),pt=Vy(A,X);if(!(U&&Ze!=pt))return ae+Me===ge?z:void 0}(n,this.direction,t):function(b,w,A){const E=b.parent,O=E.parent,z=O.getChildIndex(E);if(w=="down"&&z===A.getRows(O)-1||w=="up"&&z===0)return null;const U=parseInt(b.getAttribute("rowspan")||"1"),W=O.getAttribute("headingRows")||0,X=w=="down"&&z+U===W,ae=w=="up"&&z===W;if(W&&(X||ae))return null;const ge=parseInt(b.getAttribute("rowspan")||"1"),Me=w=="down"?z+ge:z,Ze=[...new Ji(O,{endRow:Me})],pt=Ze.find(zn=>zn.cell===b),Vt=pt.column,En=Ze.find(({row:zn,cellHeight:ar,column:Us})=>Us===Vt&&(w=="down"?zn===Me:Me===zn+ar));return En&&En.cell?En.cell:null}(n,this.direction,t);if(!a)return;const u=this.isHorizontal?"rowspan":"colspan",f=parseInt(n.getAttribute(u)||"1");return parseInt(a.getAttribute(u)||"1")===f?a:void 0}}function $D(r){const e=r.getChild(0);return r.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class n8 extends Ht{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){const a=n.findAncestor("table"),u=e.getRows(a)-1,f=e.getRowIndexes(t),b=f.first===0&&f.last===u;this.isEnabled=!b}else this.isEnabled=!1}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),a=t.getRowIndexes(n),u=n[0],f=u.findAncestor("table"),b=t.getCellLocation(u).column;e.change(w=>{const A=a.last-a.first+1;t.removeRows(f,{at:a.first,rows:A});const E=function(O,z,U,W){const X=O.getChild(Math.min(z,W-1));let ae=X.getChild(0),ge=0;for(const Me of X.getChildren()){if(ge>U)return ae;ae=Me,ge+=parseInt(Me.getAttribute("colspan")||"1")}return ae}(f,a.first,b,t.getRows(f));w.setSelection(w.createPositionAt(E,0))})}}class i8 extends Ht{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){const a=n.findAncestor("table"),u=e.getColumns(a),{first:f,last:b}=e.getColumnIndexes(t);this.isEnabled=b-f<u-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[t,n]=function(w,A){const E=A.getSelectionAffectedTableCells(w),O=E[0],z=E.pop(),U=[O,z];return O.isBefore(z)?U:U.reverse()}(this.editor.model.document.selection,e),a=t.parent.parent,u=[...new Ji(a)],f={first:u.find(w=>w.cell===t).column,last:u.find(w=>w.cell===n).column},b=function(w,A,E,O){return parseInt(E.getAttribute("colspan")||"1")>1?E:A.previousSibling||E.nextSibling?E.nextSibling||A.previousSibling:O.first?w.reverse().find(({column:U})=>U<O.first).cell:w.reverse().find(({column:U})=>U>O.last).cell}(u,t,n,f);this.editor.model.change(w=>{const A=f.last-f.first+1;e.removeColumns(a,{at:f.first,columns:A}),w.setSelection(w.createPositionAt(b,0))})}}class r8 extends Ht{refresh(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),a=n.length>0;this.isEnabled=a,this.value=a&&n.every(u=>this._isInHeading(u,u.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),n=this.editor.model,a=t.getSelectionAffectedTableCells(n.document.selection),u=a[0].findAncestor("table"),{first:f,last:b}=t.getRowIndexes(a),w=this.value?f:b+1,A=u.getAttribute("headingRows")||0;n.change(E=>{if(w){const O=RD(u,w,w>A?A:0);for(const{cell:z}of O)PD(z,w,E)}Wr("headingRows",w,u,E,0)})}_isInHeading(e,t){const n=parseInt(t.getAttribute("headingRows")||"0");return!!n&&e.parent.index<n}}class s8 extends Ht{refresh(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),a=n.length>0;this.isEnabled=a,this.value=a&&n.every(u=>Vy(t,u))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),n=this.editor.model,a=t.getSelectionAffectedTableCells(n.document.selection),u=a[0].findAncestor("table"),{first:f,last:b}=t.getColumnIndexes(a),w=this.value?f:b+1;n.change(A=>{if(w){const E=zD(u,w);for(const{cell:O,column:z}of E)FD(O,z,w,A)}Wr("headingColumns",w,u,A,0)})}}function o8(r){if(r.is("element","tableColumnGroup"))return r;const e=r.getChildren();return Array.from(e).find(t=>t.is("element","tableColumnGroup"))}function a8(r){const e=o8(r);return e?Array.from(e.getChildren()):[]}class jo extends lt{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const t=e.parent,n=t.parent,a=n.getChildIndex(t),u=new Ji(n,{row:a});for(const{cell:f,row:b,column:w}of u)if(f===e)return{row:b,column:w}}createTable(e,t){const n=e.createElement("table"),a=t.rows||2,u=t.columns||2;return Wy(e,n,0,a,u),t.headingRows&&Wr("headingRows",Math.min(t.headingRows,a),n,e,0),t.headingColumns&&Wr("headingColumns",Math.min(t.headingColumns,u),n,e,0),n}insertRows(e,t={}){const n=this.editor.model,a=t.at||0,u=t.rows||1,f=t.copyStructureFromAbove!==void 0,b=t.copyStructureFromAbove?a-1:a,w=this.getRows(e),A=this.getColumns(e);if(a>w)throw new q("tableutils-insertrows-insert-out-of-range",this,{options:t});n.change(E=>{const O=e.getAttribute("headingRows")||0;if(O>a&&Wr("headingRows",O+u,e,E,0),!f&&(a===0||a===w))return void Wy(E,e,a,u,A);const z=f?Math.max(a,b):a,U=new Ji(e,{endRow:z}),W=new Array(A).fill(1);for(const{row:X,column:ae,cellHeight:ge,cellWidth:Me,cell:Ze}of U){const pt=X+ge-1,Vt=X<=b&&b<=pt;X<a&&a<=pt?(E.setAttribute("rowspan",ge+u,Ze),W[ae]=-Me):f&&Vt&&(W[ae]=Me)}for(let X=0;X<u;X++){const ae=E.createElement("tableRow");E.insert(ae,e,a);for(let ge=0;ge<W.length;ge++){const Me=W[ge],Ze=E.createPositionAt(ae,"end");Me>0&&_m(E,Ze,Me>1?{colspan:Me}:void 0),ge+=Math.abs(Me)-1}}})}insertColumns(e,t={}){const n=this.editor.model,a=t.at||0,u=t.columns||1;n.change(f=>{const b=e.getAttribute("headingColumns");a<b&&f.setAttribute("headingColumns",b+u,e);const w=this.getColumns(e);if(a===0||w===a){for(const E of e.getChildren())E.is("element","tableRow")&&Jf(u,f,f.createPositionAt(E,a?"end":0));return}const A=new Ji(e,{column:a,includeAllSlots:!0});for(const E of A){const{row:O,cell:z,cellAnchorColumn:U,cellAnchorRow:W,cellWidth:X,cellHeight:ae}=E;if(U<a){f.setAttribute("colspan",X+u,z);const ge=W+ae-1;for(let Me=O;Me<=ge;Me++)A.skipRow(Me)}else Jf(u,f,E.getPositionBefore())}})}removeRows(e,t){const n=this.editor.model,a=t.rows||1,u=this.getRows(e),f=t.at,b=f+a-1;if(b>u-1)throw new q("tableutils-removerows-row-index-out-of-range",this,{table:e,options:t});n.change(w=>{const A={first:f,last:b},{cellsToMove:E,cellsToTrim:O}=function(z,{first:U,last:W}){const X=new Map,ae=[];for(const{row:ge,column:Me,cellHeight:Ze,cell:pt}of new Ji(z,{endRow:W})){const Vt=ge+Ze-1;if(ge>=U&&ge<=W&&Vt>W){const En=Ze-(W-ge+1);X.set(Me,{cell:pt,rowspan:En})}if(ge<U&&Vt>=U){let En;En=Vt>=W?W-U+1:Vt-U+1,ae.push({cell:pt,rowspan:Ze-En})}}return{cellsToMove:X,cellsToTrim:ae}}(e,A);E.size&&function(z,U,W,X){const ae=new Ji(z,{includeAllSlots:!0,row:U}),ge=[...ae],Me=z.getChild(U);let Ze;for(const{column:pt,cell:Vt,isAnchor:En}of ge)if(W.has(pt)){const{cell:zn,rowspan:ar}=W.get(pt),Us=Ze?X.createPositionAfter(Ze):X.createPositionAt(Me,0);X.move(X.createRangeOn(zn),Us),Wr("rowspan",ar,zn,X),Ze=zn}else En&&(Ze=Vt)}(e,b+1,E,w);for(let z=b;z>=f;z--)w.remove(e.getChild(z));for(const{rowspan:z,cell:U}of O)Wr("rowspan",z,U,w);(function(z,{first:U,last:W},X){const ae=z.getAttribute("headingRows")||0;U<ae&&Wr("headingRows",W<ae?ae-(W-U+1):U,z,X,0)})(e,A,w),Uy(e,this)||$y(e,this)})}removeColumns(e,t){const n=this.editor.model,a=t.at,u=t.columns||1,f=t.at+u-1;n.change(b=>{(function(A,E,O){const z=A.getAttribute("headingColumns")||0;if(z&&E.first<z){const U=Math.min(z-1,E.last)-E.first+1;O.setAttribute("headingColumns",z-U,A)}})(e,{first:a,last:f},b);const w=a8(e);for(let A=f;A>=a;A--){for(const{cell:E,column:O,cellWidth:z}of[...new Ji(e)])O<=A&&z>1&&O+z>A?Wr("colspan",z-1,E,b):O===A&&b.remove(E);if(w[A]){const E=A===0?w[1]:w[A-1],O=parseFloat(w[A].getAttribute("columnWidth")),z=parseFloat(E.getAttribute("columnWidth"));b.remove(w[A]),b.setAttribute("columnWidth",O+z+"%",E)}}$y(e,this)||Uy(e,this)})}splitCellVertically(e,t=2){const n=this.editor.model,a=e.parent.parent,u=parseInt(e.getAttribute("rowspan")||"1"),f=parseInt(e.getAttribute("colspan")||"1");n.change(b=>{if(f>1){const{newCellsSpan:w,updatedSpan:A}=qD(f,t);Wr("colspan",A,e,b);const E={};w>1&&(E.colspan=w),u>1&&(E.rowspan=u),Jf(f>t?t-1:f-1,b,b.createPositionAfter(e),E)}if(f<t){const w=t-f,A=[...new Ji(a)],{column:E}=A.find(({cell:W})=>W===e),O=A.filter(({cell:W,cellWidth:X,column:ae})=>W!==e&&ae===E||ae<E&&ae+X>E);for(const{cell:W,cellWidth:X}of O)b.setAttribute("colspan",X+w,W);const z={};u>1&&(z.rowspan=u),Jf(w,b,b.createPositionAfter(e),z);const U=a.getAttribute("headingColumns")||0;U>E&&Wr("headingColumns",U+w,a,b)}})}splitCellHorizontally(e,t=2){const n=this.editor.model,a=e.parent,u=a.parent,f=u.getChildIndex(a),b=parseInt(e.getAttribute("rowspan")||"1"),w=parseInt(e.getAttribute("colspan")||"1");n.change(A=>{if(b>1){const E=[...new Ji(u,{startRow:f,endRow:f+b-1,includeAllSlots:!0})],{newCellsSpan:O,updatedSpan:z}=qD(b,t);Wr("rowspan",z,e,A);const{column:U}=E.find(({cell:X})=>X===e),W={};O>1&&(W.rowspan=O),w>1&&(W.colspan=w);for(const X of E){const{column:ae,row:ge}=X;ge>=f+z&&ae===U&&(ge+f+z)%O==0&&Jf(1,A,X.getPositionBefore(),W)}}if(b<t){const E=t-b,O=[...new Ji(u,{startRow:0,endRow:f})];for(const{cell:W,cellHeight:X,row:ae}of O)if(W!==e&&ae+X>f){const ge=X+E;A.setAttribute("rowspan",ge,W)}const z={};w>1&&(z.colspan=w),Wy(A,u,f+1,E,1,z);const U=u.getAttribute("headingRows")||0;U>f&&Wr("headingRows",U+E,u,A)}})}getColumns(e){return[...e.getChild(0).getChildren()].filter(t=>t.is("element","tableCell")).reduce((t,n)=>t+parseInt(n.getAttribute("colspan")||"1"),0)}getRows(e){return Array.from(e.getChildren()).reduce((t,n)=>n.is("element","tableRow")?t+1:t,0)}createTableWalker(e,t={}){return new Ji(e,t)}getSelectedTableCells(e){const t=[];for(const n of this.sortRanges(e.getRanges())){const a=n.getContainedElement();a&&a.is("element","tableCell")&&t.push(a)}return t}getTableCellsContainingSelection(e){const t=[];for(const n of e.getRanges()){const a=n.start.findAncestor("tableCell");a&&t.push(a)}return t}getSelectionAffectedTableCells(e){const t=this.getSelectedTableCells(e);return t.length?t:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const t=e.map(n=>n.parent.index);return this._getFirstLastIndexesObject(t)}getColumnIndexes(e){const t=e[0].findAncestor("table"),n=[...new Ji(t)].filter(a=>e.includes(a.cell)).map(a=>a.column);return this._getFirstLastIndexesObject(n)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const t=new Set,n=new Set;let a=0;for(const f of e){const{row:b,column:w}=this.getCellLocation(f),A=parseInt(f.getAttribute("rowspan"))||1,E=parseInt(f.getAttribute("colspan"))||1;t.add(b),n.add(w),A>1&&t.add(b+A-1),E>1&&n.add(w+E-1),a+=A*E}return function(f,b){const w=Array.from(f.values()),A=Array.from(b.values()),E=Math.max(...w),O=Math.min(...w),z=Math.max(...A),U=Math.min(...A);return(E-O+1)*(z-U+1)}(t,n)==a}sortRanges(e){return Array.from(e).sort(l8)}_getFirstLastIndexesObject(e){const t=e.sort((n,a)=>n-a);return{first:t[0],last:t[t.length-1]}}_areCellInTheSameTableSection(e){const t=e[0].findAncestor("table"),n=this.getRowIndexes(e),a=parseInt(t.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(n,a))return!1;const u=this.getColumnIndexes(e),f=parseInt(t.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(u,f)}_areIndexesInSameSection({first:e,last:t},n){return e<n==t<n}}function Wy(r,e,t,n,a,u={}){for(let f=0;f<n;f++){const b=r.createElement("tableRow");r.insert(b,e,t),Jf(a,r,r.createPositionAt(b,"end"),u)}}function Jf(r,e,t,n={}){for(let a=0;a<r;a++)_m(e,t,n)}function qD(r,e){if(r<e)return{newCellsSpan:1,updatedSpan:1};const t=Math.floor(r/e);return{newCellsSpan:t,updatedSpan:r-t*e+t}}function l8(r,e){const t=r.start,n=e.start;return t.isBefore(n)?-1:1}class c8 extends Ht{refresh(){const e=this.editor.plugins.get(jo),t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t)}execute(){const e=this.editor.model,t=this.editor.plugins.get(jo);e.change(n=>{const a=t.getSelectedTableCells(e.document.selection),u=a.shift(),{mergeWidth:f,mergeHeight:b}=function(w,A,E){let O=0,z=0;for(const ge of A){const{row:Me,column:Ze}=E.getCellLocation(ge);O=YD(ge,Ze,O,"colspan"),z=YD(ge,Me,z,"rowspan")}const{row:U,column:W}=E.getCellLocation(w),X=O-W,ae=z-U;return{mergeWidth:X,mergeHeight:ae}}(u,a,t);Wr("colspan",f,u,n),Wr("rowspan",b,u,n);for(const w of a)d8(w,u,n);qy(u.findAncestor("table"),t),n.setSelection(u,"in")})}}function d8(r,e,t){WD(r)||(WD(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(r),t.createPositionAt(e,"end"))),t.remove(r)}function WD(r){const e=r.getChild(0);return r.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function YD(r,e,t,n){const a=parseInt(r.getAttribute(n)||"1");return Math.max(t,e+a)}class u8 extends Ht{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),a=t.getRowIndexes(n),u=n[0].findAncestor("table"),f=[];for(let b=a.first;b<=a.last;b++)for(const w of u.getChild(b).getChildren())f.push(e.createRangeOn(w));e.change(b=>{b.setSelection(f)})}}class h8 extends Ht{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),a=n[0],u=n.pop(),f=a.findAncestor("table"),b=e.getCellLocation(a),w=e.getCellLocation(u),A=Math.min(b.column,w.column),E=Math.max(b.column,w.column),O=[];for(const z of new Ji(f,{startColumn:A,endColumn:E}))O.push(t.createRangeOn(z.cell));t.change(z=>{z.setSelection(O)})}}function m8(r){r.document.registerPostFixer(e=>function(t,n){const a=n.document.differ.getChanges();let u=!1;const f=new Set;for(const b of a){let w=null;b.type=="insert"&&b.name=="table"&&(w=b.position.nodeAfter),b.type!="insert"&&b.type!="remove"||b.name!="tableRow"&&b.name!="tableCell"||(w=b.position.findAncestor("table")),g8(b)&&(w=b.range.start.findAncestor("table")),w&&!f.has(w)&&(u=f8(w,t)||u,u=p8(w,t)||u,f.add(w))}return u}(e,r))}function f8(r,e){let t=!1;const n=function(a){const u=parseInt(a.getAttribute("headingRows")||"0"),f=Array.from(a.getChildren()).reduce((w,A)=>A.is("element","tableRow")?w+1:w,0),b=[];for(const{row:w,cell:A,cellHeight:E}of new Ji(a)){if(E<2)continue;const O=w<u?u:f;if(w+E>O){const z=O-w;b.push({cell:A,rowspan:z})}}return b}(r);if(n.length){t=!0;for(const a of n)Wr("rowspan",a.rowspan,a.cell,e,1)}return t}function p8(r,e){let t=!1;const n=function(b){const w=new Array(b.childCount).fill(0);for(const{rowIndex:A}of new Ji(b,{includeAllSlots:!0}))w[A]++;return w}(r),a=[];for(const[b,w]of n.entries())!w&&r.getChild(b).is("element","tableRow")&&a.push(b);if(a.length){t=!0;for(const b of a.reverse())e.remove(r.getChild(b)),n.splice(b,1)}const u=n.filter((b,w)=>r.getChild(w).is("element","tableRow")),f=u[0];if(!u.every(b=>b===f)){const b=u.reduce((w,A)=>A>w?A:w,0);for(const[w,A]of u.entries()){const E=b-A;if(E){for(let O=0;O<E;O++)_m(e,e.createPositionAt(r.getChild(w),"end"));t=!0}}}return t}function g8(r){if(r.type!=="attribute")return!1;const e=r.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function b8(r){r.document.registerPostFixer(e=>function(t,n){const a=n.document.differ.getChanges();let u=!1;for(const f of a)f.type=="insert"&&f.name=="table"&&(u=k8(f.position.nodeAfter,t)||u),f.type=="insert"&&f.name=="tableRow"&&(u=GD(f.position.nodeAfter,t)||u),f.type=="insert"&&f.name=="tableCell"&&(u=Yy(f.position.nodeAfter,t)||u),f.type!="remove"&&f.type!="insert"||!_8(f)||(u=Yy(f.position.parent,t)||u);return u}(e,r))}function k8(r,e){let t=!1;for(const n of r.getChildren())n.is("element","tableRow")&&(t=GD(n,e)||t);return t}function GD(r,e){let t=!1;for(const n of r.getChildren())t=Yy(n,e)||t;return t}function Yy(r,e){if(r.childCount==0)return e.insertElement("paragraph",r),!0;const t=Array.from(r.getChildren()).filter(n=>n.is("$text"));for(const n of t)e.wrap(e.createRangeOn(n),"paragraph");return!!t.length}function _8(r){return!!r.position.parent.is("element","tableCell")&&(r.type=="insert"&&r.name=="$text"||r.type=="remove")}function v8(r,e){if(!r.is("element","paragraph"))return!1;const t=e.toViewElement(r);return!!t&&MD(r)!==t.is("element","span")}var KD=h(8137),w8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(KD.A,w8),KD.A.locals;class y8 extends lt{constructor(e){super(e),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[jo]}init(){const e=this.editor,t=e.model,n=t.schema,a=e.conversion,u=e.plugins.get(jo);n.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),a.for("upcast").add(f=>{f.on("element:figure",(b,w,A)=>{if(!A.consumable.test(w.viewItem,{name:!0,classes:"table"}))return;const E=function(z){for(const U of z.getChildren())if(U.is("element","table"))return U}(w.viewItem);if(!E||!A.consumable.test(E,{name:!0}))return;A.consumable.consume(w.viewItem,{name:!0,classes:"table"});const O=Un(A.convertItem(E,w.modelCursor).modelRange.getItems());O?(A.convertChildren(w.viewItem,A.writer.createPositionAt(O,"end")),A.updateConversionResult(O,w)):A.consumable.revert(w.viewItem,{name:!0,classes:"table"})})}),a.for("upcast").add(X6()),a.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:jD(u,{asWidget:!0,additionalSlots:this._additionalSlots})}),a.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:jD(u,{additionalSlots:this._additionalSlots})}),a.for("upcast").elementToElement({model:"tableRow",view:"tr"}),a.for("upcast").add(f=>{f.on("element:tr",(b,w)=>{w.viewItem.isEmpty&&w.modelCursor.index==0&&b.stop()},{priority:"high"})}),a.for("downcast").elementToElement({model:"tableRow",view:(f,{writer:b})=>f.isEmpty?b.createEmptyElement("tr"):b.createContainerElement("tr")}),a.for("upcast").elementToElement({model:"tableCell",view:"td"}),a.for("upcast").elementToElement({model:"tableCell",view:"th"}),a.for("upcast").add(SD("td")),a.for("upcast").add(SD("th")),a.for("editingDowncast").elementToElement({model:"tableCell",view:DD({asWidget:!0})}),a.for("dataDowncast").elementToElement({model:"tableCell",view:DD()}),a.for("editingDowncast").elementToElement({model:"paragraph",view:TD({asWidget:!0}),converterPriority:"high"}),a.for("dataDowncast").elementToElement({model:"paragraph",view:TD(),converterPriority:"high"}),a.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),a.for("upcast").attributeToAttribute({model:{key:"colspan",value:QD("colspan")},view:"colspan"}),a.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),a.for("upcast").attributeToAttribute({model:{key:"rowspan",value:QD("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new t8(e)),e.commands.add("insertTableRowAbove",new ID(e,{order:"above"})),e.commands.add("insertTableRowBelow",new ID(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new OD(e,{order:"left"})),e.commands.add("insertTableColumnRight",new OD(e,{order:"right"})),e.commands.add("removeTableRow",new n8(e)),e.commands.add("removeTableColumn",new i8(e)),e.commands.add("splitTableCellVertically",new LD(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new LD(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new c8(e)),e.commands.add("mergeTableCellRight",new P_(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new P_(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new P_(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new P_(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new s8(e)),e.commands.add("setTableRowHeader",new r8(e)),e.commands.add("selectTableRow",new u8(e)),e.commands.add("selectTableColumn",new h8(e)),m8(t),b8(t),this.listenTo(t.document,"change:data",()=>{(function(f,b){const w=f.document.differ;for(const A of w.getChanges()){let E,O=!1;if(A.type=="attribute"){const X=A.range.start.nodeAfter;if(!X||!X.is("element","table")||A.attributeKey!="headingRows"&&A.attributeKey!="headingColumns")continue;E=X,O=A.attributeKey=="headingRows"}else A.name!="tableRow"&&A.name!="tableCell"||(E=A.position.findAncestor("table"),O=A.name=="tableRow");if(!E)continue;const z=E.getAttribute("headingRows")||0,U=E.getAttribute("headingColumns")||0,W=new Ji(E);for(const X of W){const ae=X.row<z||X.column<U?"th":"td",ge=b.mapper.toViewElement(X.cell);ge&&ge.is("element")&&ge.name!=ae&&b.reconvertItem(O?X.cell.parent:X.cell)}}})(t,e.editing),function(f,b){const w=f.document.differ,A=new Set;for(const E of w.getChanges()){const O=E.type=="attribute"?E.range.start.parent:E.position.parent;O.is("element","tableCell")&&A.add(O)}for(const E of A.values()){const O=Array.from(E.getChildren()).filter(z=>v8(z,b.mapper));for(const z of O)b.reconvertItem(z)}}(t,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function QD(r){return e=>{const t=parseInt(e.getAttribute(r));return Number.isNaN(t)||t<=0?null:t}}var ZD=h(5032),x8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(ZD.A,x8),ZD.A.locals;class XD extends St{constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new fr,this.focusTracker=new mr,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(n,a)=>`${a} × ${n}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:t.to("label")}]}],on:{mousedown:t.to(n=>{n.preventDefault()}),click:t.to(()=>{this.fire("execute")})}}),this.on("boxover",(n,a)=>{const{row:u,column:f}=a.target.dataset;this.items.get(10*(parseInt(u,10)-1)+(parseInt(f,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(n,a,u)=>{if(!u)return;const{row:f,column:b}=u.dataset;this.set({rows:parseInt(f),columns:parseInt(b)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),Fn({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,t=this.columns;this.items.map((n,a)=>{const u=Math.floor(a/10)<e&&a%10<t;n.set("isOn",u)})}_createGridButton(e,t,n,a){const u=new P(e);return u.set({label:a,class:"ck-insert-table-dropdown-grid-box"}),u.extendTemplate({attributes:{"data-row":t,"data-column":n}}),u}_createGridCollection(){const e=[];for(let t=0;t<100;t++){const n=Math.floor(t/10),a=t%10,u=`${n+1} × ${a+1}`;e.push(this._createGridButton(this.locale,n+1,a+1,u))}return this.createCollection(e)}}class C8 extends lt{static get pluginName(){return"TableUI"}init(){const e=this.editor,t=this.editor.t,n=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",a=>{const u=e.commands.get("insertTable"),f=su(a);let b;return f.bind("isEnabled").to(u),f.buttonView.set({icon:Mn.table,label:t("Insert table"),tooltip:!0}),f.on("change:isOpen",()=>{b||(b=new XD(a),f.panelView.children.add(b),b.delegate("execute").to(f),f.on("execute",()=>{e.execute("insertTable",{rows:b.rows,columns:b.columns}),e.editing.view.focus()}))}),f}),e.ui.componentFactory.add("menuBar:insertTable",a=>{const u=e.commands.get("insertTable"),f=new qf(a),b=new XD(a);return b.delegate("execute").to(f),f.on("change:isOpen",(w,A,E)=>{E||b.reset()}),b.on("execute",()=>{e.execute("insertTable",{rows:b.rows,columns:b.columns}),e.editing.view.focus()}),f.buttonView.set({label:t("Table"),icon:Mn.table}),f.panelView.children.add(b),f.bind("isEnabled").to(u),f}),e.ui.componentFactory.add("tableColumn",a=>{const u=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:t("Select column")}}];return this._prepareDropdown(t("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',u,a)}),e.ui.componentFactory.add("tableRow",a=>{const u=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:t("Select row")}}];return this._prepareDropdown(t("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',u,a)}),e.ui.componentFactory.add("mergeTableCells",a=>{const u=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(t("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',u,a)})}_prepareDropdown(e,t,n,a){const u=this.editor,f=su(a),b=this._fillDropdownWithListOptions(f,n);return f.buttonView.set({label:e,icon:t,tooltip:!0}),f.bind("isEnabled").toMany(b,"isEnabled",(...w)=>w.some(A=>A)),this.listenTo(f,"execute",w=>{u.execute(w.source.commandName),w.source instanceof Ne||u.editing.view.focus()}),f}_prepareMergeSplitButtonDropdown(e,t,n,a){const u=this.editor,f=su(a,o_),b="mergeTableCells",w=u.commands.get(b),A=this._fillDropdownWithListOptions(f,n);return f.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),f.bind("isEnabled").toMany([w,...A],"isEnabled",(...E)=>E.some(O=>O)),this.listenTo(f.buttonView,"execute",()=>{u.execute(b),u.editing.view.focus()}),this.listenTo(f,"execute",E=>{u.execute(E.source.commandName),u.editing.view.focus()}),f}_fillDropdownWithListOptions(e,t){const n=this.editor,a=[],u=new Fo;for(const f of t)A8(f,n,a,u);return D1(e,u),a}}function A8(r,e,t,n){if(r.type==="button"||r.type==="switchbutton"){const a=r.model=new aN(r.model),{commandName:u,bindIsOn:f}=r.model,b=e.commands.get(u);t.push(b),a.set({commandName:u}),a.bind("isEnabled").to(b),f&&a.bind("isOn").to(b,"value"),a.set({withText:!0})}n.add(r)}var JD=h(8423),N8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(JD.A,N8),JD.A.locals;class vm extends lt{static get pluginName(){return"TableSelection"}static get requires(){return[jo,jo]}init(){const e=this.editor,t=e.model,n=e.editing.view;this.listenTo(t,"deleteContent",(a,u)=>this._handleDeleteContent(a,u),{priority:"high"}),this.listenTo(n.document,"insertText",(a,u)=>this._handleInsertTextEvent(a,u),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(jo),t=this.editor.model.document.selection,n=e.getSelectedTableCells(t);return n.length==0?null:n}getSelectionAsFragment(){const e=this.editor.plugins.get(jo),t=this.getSelectedTableCells();return t?this.editor.model.change(n=>{const a=n.createDocumentFragment(),{first:u,last:f}=e.getColumnIndexes(t),{first:b,last:w}=e.getRowIndexes(t),A=t[0].findAncestor("table");let E=w,O=f;if(e.isSelectionRectangular(t)){const U={firstColumn:u,lastColumn:f,firstRow:b,lastRow:w};E=VD(A,U),O=UD(A,U)}const z=BD(A,{startRow:b,startColumn:u,endRow:E,endColumn:O},n);return n.insert(z,a,0),a}):null}setCellSelection(e,t){const n=this._getCellsToSelect(e,t);this.editor.model.change(a=>{a.setSelection(n.cells.map(u=>a.createRangeOn(u)),{backward:n.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=Un(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,t=new Set;e.conversion.for("editingDowncast").add(n=>n.on("selection",(a,u,f)=>{const b=f.writer;(function(E){for(const O of t)E.removeClass("ck-editor__editable_selected",O);t.clear()})(b);const w=this.getSelectedTableCells();if(!w)return;for(const E of w){const O=f.mapper.toViewElement(E);b.addClass("ck-editor__editable_selected",O),t.add(O)}const A=f.mapper.toViewElement(w[w.length-1]);b.setSelection(A,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const t=this.getSelectedTableCells();if(!t)return;e.model.change(n=>{const a=n.createPositionAt(t[0],0),u=e.model.schema.getNearestSelectionRange(a);n.setSelection(u)})}})}_handleDeleteContent(e,t){const n=this.editor.plugins.get(jo),a=t[0],u=t[1],f=this.editor.model,b=!u||u.direction=="backward",w=n.getSelectedTableCells(a);w.length&&(e.stop(),f.change(A=>{const E=w[b?w.length-1:0];f.change(z=>{for(const U of w)f.deleteContent(z.createSelection(U,"in"))});const O=f.schema.getNearestSelectionRange(A.createPositionAt(E,0));a.is("documentSelection")?A.setSelection(O):a.setTo(O)}))}_handleInsertTextEvent(e,t){const n=this.editor,a=this.getSelectedTableCells();if(!a)return;const u=n.editing.view,f=n.editing.mapper,b=a.map(w=>u.createRangeOn(f.toViewElement(w)));t.selection=u.createSelection(b)}_getCellsToSelect(e,t){const n=this.editor.plugins.get("TableUtils"),a=n.getCellLocation(e),u=n.getCellLocation(t),f=Math.min(a.row,u.row),b=Math.max(a.row,u.row),w=Math.min(a.column,u.column),A=Math.max(a.column,u.column),E=new Array(b-f+1).fill(null).map(()=>[]),O={startRow:f,endRow:b,startColumn:w,endColumn:A};for(const{row:W,cell:X}of new Ji(e.findAncestor("table"),O))E[W-f].push(X);const z=u.row<a.row,U=u.column<a.column;return z&&E.reverse(),U&&E.forEach(W=>W.reverse()),{cells:E.flat(),backward:z||U}}}class E8 extends lt{static get pluginName(){return"TableClipboard"}static get requires(){return[Og,Ol,vm,jo]}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"copy",(n,a)=>this._onCopyCut(n,a)),this.listenTo(t,"cut",(n,a)=>this._onCopyCut(n,a)),this.listenTo(e.model,"insertContent",(n,[a,u])=>this._onInsertContent(n,a,u),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,t){const n=this.editor.editing.view,a=this.editor.plugins.get(vm),u=this.editor.plugins.get(Og);a.getSelectedTableCells()&&(e.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(t.preventDefault(),e.stop(),this.editor.model.enqueueChange({isUndoable:e.name==="cut"},()=>{const f=u._copySelectedFragmentWithMarkers(e.name,this.editor.model.document.selection,()=>a.getSelectionAsFragment());n.document.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:this.editor.data.toView(f),method:e.name})}))}_onInsertContent(e,t,n){if(n&&!n.is("documentSelection"))return;const a=this.editor.model,u=this.editor.plugins.get(jo),f=this.editor.plugins.get(Og),b=this.getTableIfOnlyTableInContent(t,a);if(!b)return;const w=u.getSelectionAffectedTableCells(a.document.selection);w.length?(e.stop(),t.is("documentFragment")?f._pasteMarkersIntoTransformedElement(t.markers,A=>this._replaceSelectedCells(b,w,A)):this.editor.model.change(A=>{this._replaceSelectedCells(b,w,A)})):qy(b,u)}_replaceSelectedCells(e,t,n){const a=this.editor.plugins.get(jo),u={width:a.getColumns(e),height:a.getRows(e)},f=function(O,z,U,W){const X=O[0].findAncestor("table"),ae=W.getColumnIndexes(O),ge=W.getRowIndexes(O),Me={firstColumn:ae.first,lastColumn:ae.last,firstRow:ge.first,lastRow:ge.last},Ze=O.length===1;return Ze&&(Me.lastRow+=z.height-1,Me.lastColumn+=z.width-1,function(pt,Vt,En,zn){const ar=zn.getColumns(pt),Us=zn.getRows(pt);En>ar&&zn.insertColumns(pt,{at:ar,columns:En-ar}),Vt>Us&&zn.insertRows(pt,{at:Us,rows:Vt-Us})}(X,Me.lastRow+1,Me.lastColumn+1,W)),Ze||!W.isSelectionRectangular(O)?function(pt,Vt,En){const{firstRow:zn,lastRow:ar,firstColumn:Us,lastColumn:b2}=Vt,k2={first:zn,last:ar},_2={first:Us,last:b2};Ky(pt,Us,k2,En),Ky(pt,b2+1,k2,En),Gy(pt,zn,_2,En),Gy(pt,ar+1,_2,En,zn)}(X,Me,U):(Me.lastRow=VD(X,Me),Me.lastColumn=UD(X,Me)),Me}(t,u,n,a),b=f.lastRow-f.firstRow+1,w=f.lastColumn-f.firstColumn+1;e=BD(e,{startRow:0,startColumn:0,endRow:Math.min(b,u.height)-1,endColumn:Math.min(w,u.width)-1},n);const A=t[0].findAncestor("table"),E=this._replaceSelectedCellsWithPasted(e,u,A,f,n);if(this.editor.plugins.get("TableSelection").isEnabled){const O=a.sortRanges(E.map(z=>n.createRangeOn(z)));n.setSelection(O)}else n.setSelection(E[0],0);return A}_replaceSelectedCellsWithPasted(e,t,n,a,u){const{width:f,height:b}=t,w=function(ae,ge,Me){const Ze=new Array(Me).fill(null).map(()=>new Array(ge).fill(null));for(const{column:pt,row:Vt,cell:En}of new Ji(ae))Ze[Vt][pt]=En;return Ze}(e,f,b),A=[...new Ji(n,{startRow:a.firstRow,endRow:a.lastRow,startColumn:a.firstColumn,endColumn:a.lastColumn,includeAllSlots:!0})],E=[];let O;for(const ae of A){const{row:ge,column:Me}=ae;Me===a.firstColumn&&(O=ae.getPositionBefore());const Ze=ge-a.firstRow,pt=Me-a.firstColumn,Vt=w[Ze%b][pt%f],En=Vt?u.cloneElement(Vt):null,zn=this._replaceTableSlotCell(ae,En,O,u);zn&&(HD(zn,ge,Me,a.lastRow,a.lastColumn,u),E.push(zn),O=u.createPositionAfter(zn))}const z=parseInt(n.getAttribute("headingRows")||"0"),U=parseInt(n.getAttribute("headingColumns")||"0"),W=a.firstRow<z&&z<=a.lastRow,X=a.firstColumn<U&&U<=a.lastColumn;if(W){const ae=Gy(n,z,{first:a.firstColumn,last:a.lastColumn},u,a.firstRow);E.push(...ae)}if(X){const ae=Ky(n,U,{first:a.firstRow,last:a.lastRow},u);E.push(...ae)}return E}_replaceTableSlotCell(e,t,n,a){const{cell:u,isAnchor:f}=e;return f&&a.remove(u),t?(a.insert(t,n),t):null}getTableIfOnlyTableInContent(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const n=t.createRangeIn(e);for(const a of n.getItems())if(a.is("element","table")){const u=t.createRange(n.start,t.createPositionBefore(a));if(t.hasContent(u,{ignoreWhitespaces:!0}))return null;const f=t.createRange(t.createPositionAfter(a),n.end);return t.hasContent(f,{ignoreWhitespaces:!0})?null:a}return null}}function Gy(r,e,t,n,a=0){if(!(e<1))return RD(r,e,a).filter(({column:u,cellWidth:f})=>e2(u,f,t)).map(({cell:u})=>PD(u,e,n))}function Ky(r,e,t,n){if(!(e<1))return zD(r,e).filter(({row:a,cellHeight:u})=>e2(a,u,t)).map(({cell:a,column:u})=>FD(a,u,e,n))}function e2(r,e,t){const n=r+e-1,{first:a,last:u}=t;return r>=a&&r<=u||r<a&&n>=a}class S8 extends lt{static get pluginName(){return"TableKeyboard"}static get requires(){return[vm,jo]}init(){const e=this.editor,t=e.editing.view.document,n=e.t;this.listenTo(t,"arrowKey",(...a)=>this._onArrowKey(...a),{context:"table"}),this.listenTo(t,"tab",(...a)=>this._handleTabOnSelectedTable(...a),{context:"figure"}),this.listenTo(t,"tab",(...a)=>this._handleTab(...a),{context:["th","td"]}),e.accessibility.addKeystrokeInfoGroup({id:"table",label:n("Keystrokes that can be used in a table cell"),keystrokes:[{label:n("Move the selection to the next cell"),keystroke:"Tab"},{label:n("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:n("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:n("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(e,t){const n=this.editor,a=n.model.document.selection.getSelectedElement();a&&a.is("element","table")&&(t.preventDefault(),t.stopPropagation(),e.stop(),n.model.change(u=>{u.setSelection(u.createRangeIn(a.getChild(0).getChild(0)))}))}_handleTab(e,t){const n=this.editor,a=this.editor.plugins.get(jo),u=this.editor.plugins.get("TableSelection"),f=n.model.document.selection,b=!t.shiftKey;let w=a.getTableCellsContainingSelection(f)[0];if(w||(w=u.getFocusCell()),!w)return;t.preventDefault(),t.stopPropagation(),e.stop();const A=w.parent,E=A.parent,O=E.getChildIndex(A),z=A.getChildIndex(w),U=z===0;if(!b&&U&&O===0)return void n.model.change(ge=>{ge.setSelection(ge.createRangeOn(E))});const W=z===A.childCount-1,X=O===a.getRows(E)-1;if(b&&X&&W&&(n.execute("insertTableRowBelow"),O===a.getRows(E)-1))return void n.model.change(ge=>{ge.setSelection(ge.createRangeOn(E))});let ae;if(b&&W)ae=E.getChild(O+1).getChild(0);else if(!b&&U){const ge=E.getChild(O-1);ae=ge.getChild(ge.childCount-1)}else ae=A.getChild(z+(b?1:-1));n.model.change(ge=>{ge.setSelection(ge.createRangeIn(ae))})}_onArrowKey(e,t){const n=this.editor,a=bn(t.keyCode,n.locale.contentLanguageDirection);this._handleArrowKeys(a,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}_handleArrowKeys(e,t){const n=this.editor.plugins.get(jo),a=this.editor.plugins.get("TableSelection"),u=this.editor.model,f=u.document.selection,b=["right","down"].includes(e),w=n.getSelectedTableCells(f);if(w.length){let E;return E=t?a.getFocusCell():b?w[w.length-1]:w[0],this._navigateFromCellInDirection(E,e,t),!0}const A=f.focus.findAncestor("tableCell");if(!A)return!1;if(!f.isCollapsed)if(t){if(f.isBackward==b&&!f.containsEntireContent(A))return!1}else{const E=f.getSelectedElement();if(!E||!u.schema.isObject(E))return!1}return!!this._isSelectionAtCellEdge(f,A,b)&&(this._navigateFromCellInDirection(A,e,t),!0)}_isSelectionAtCellEdge(e,t,n){const a=this.editor.model,u=this.editor.model.schema,f=n?e.getLastPosition():e.getFirstPosition();if(!u.getLimitElement(f).is("element","tableCell"))return a.createPositionAt(t,n?"end":0).isTouching(f);const b=a.createSelection(f);return a.modifySelection(b,{direction:n?"forward":"backward"}),f.isEqual(b.focus)}_navigateFromCellInDirection(e,t,n=!1){const a=this.editor.model,u=e.findAncestor("table"),f=[...new Ji(u,{includeAllSlots:!0})],{row:b,column:w}=f[f.length-1],A=f.find(({cell:X})=>X==e);let{row:E,column:O}=A;switch(t){case"left":O--;break;case"up":E--;break;case"right":O+=A.cellWidth;break;case"down":E+=A.cellHeight}if(E<0||E>b||O<0&&E<=0||O>w&&E>=b)return void a.change(X=>{X.setSelection(X.createRangeOn(u))});O<0?(O=n?0:w,E--):O>w&&(O=n?w:0,E++);const z=f.find(X=>X.row==E&&X.column==O).cell,U=["right","down"].includes(t),W=this.editor.plugins.get("TableSelection");if(n&&W.isEnabled){const X=W.getAnchorCell()||e;W.setCellSelection(X,z)}else{const X=a.createPositionAt(z,U?0:"end");a.change(ae=>{ae.setSelection(X)})}}}class j8 extends El{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class D8 extends lt{static get pluginName(){return"TableMouse"}static get requires(){return[vm,jo]}init(){this.editor.editing.view.addObserver(j8),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,t=e.plugins.get(jo);let n=!1;const a=e.plugins.get(vm);this.listenTo(e.editing.view.document,"mousedown",(u,f)=>{const b=e.model.document.selection;if(!this.isEnabled||!a.isEnabled||!f.domEvent.shiftKey)return;const w=a.getAnchorCell()||t.getTableCellsContainingSelection(b)[0];if(!w)return;const A=this._getModelTableCellFromDomEvent(f);A&&t2(w,A)&&(n=!0,a.setCellSelection(w,A),f.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{n=!1}),this.listenTo(e.editing.view.document,"selectionChange",u=>{n&&u.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let t,n,a=!1,u=!1;const f=e.plugins.get(vm);this.listenTo(e.editing.view.document,"mousedown",(b,w)=>{this.isEnabled&&f.isEnabled&&(w.domEvent.shiftKey||w.domEvent.ctrlKey||w.domEvent.altKey||(t=this._getModelTableCellFromDomEvent(w)))}),this.listenTo(e.editing.view.document,"mousemove",(b,w)=>{if(!w.domEvent.buttons||!t)return;const A=this._getModelTableCellFromDomEvent(w);A&&t2(t,A)&&(n=A,a||n==t||(a=!0)),a&&(u=!0,f.setCellSelection(t,n),w.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{a=!1,u=!1,t=null,n=null}),this.listenTo(e.editing.view.document,"selectionChange",b=>{u&&b.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const t=e.target,n=this.editor.editing.view.createPositionAt(t,0);return this.editor.editing.mapper.toModelPosition(n).parent.findAncestor("tableCell",{includeSelf:!0})}}function t2(r,e){return r.parent.parent==e.parent.parent}var n2=h(2329),T8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(n2.A,T8),n2.A.locals;function M8(r){const e=r.getSelectedElement();return e&&i2(e)?e:null}function I8(r){const e=r.getFirstPosition();if(!e)return null;let t=e.parent;for(;t;){if(t.is("element")&&i2(t))return t;t=t.parent}return null}function i2(r){return!!r.getCustomProperty("table")&&as(r)}var r2=h(5506),O8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(r2.A,O8),r2.A.locals;var s2=h(2655),L8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(s2.A,L8),s2.A.locals;var o2=h(4043),B8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(o2.A,B8),o2.A.locals;var a2=h(1623),R8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(a2.A,R8),a2.A.locals;var l2=h(8986),P8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(l2.A,P8),l2.A.locals;const wm=Ia.defaultPositions;wm.northArrowSouth,wm.northArrowSouthWest,wm.northArrowSouthEast,wm.southArrowNorth,wm.southArrowNorthWest,wm.southArrowNorthEast,wm.viewportStickyNorth;var c2=h(5562),z8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(c2.A,z8),c2.A.locals;var d2=h(4143),F8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(d2.A,F8),d2.A.locals;var u2=h(8795),H8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(u2.A,H8),u2.A.locals;var V8=Object.defineProperty,h2=Object.getOwnPropertySymbols,U8=Object.prototype.hasOwnProperty,$8=Object.prototype.propertyIsEnumerable,m2=(r,e,t)=>e in r?V8(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,f2=(r,e)=>{for(var t in e||(e={}))U8.call(e,t)&&m2(r,t,e[t]);if(h2)for(var t of h2(e))$8.call(e,t)&&m2(r,t,e[t]);return r};const q8={autoRefresh:!0},p2=36e5;class Qy extends Oe(){constructor(e,t={}){if(super(),!e)throw new q("token-missing-token-url",this);t.initValue&&this._validateTokenValue(t.initValue),this.set("value",t.initValue),this._refresh=typeof e=="function"?e:()=>{return n=e,new Promise((a,u)=>{const f=new XMLHttpRequest;f.open("GET",n),f.addEventListener("load",()=>{const b=f.status,w=f.response;return b<200||b>299?u(new q("token-cannot-download-new-token",null)):a(w)}),f.addEventListener("error",()=>u(new Error("Network Error"))),f.addEventListener("abort",()=>u(new Error("Abort"))),f.send()});var n},this._options=f2(f2({},q8),t)}init(){return new Promise((e,t)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(t)})}refreshToken(){return this._refresh().then(e=>(this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const t=typeof e=="string",n=!/^".*"$/.test(e),a=t&&e.split(".").length===3;if(!n||!a)throw new q("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:t}=JSON.parse(atob(e));return t?Math.floor((1e3*t-Date.now())/2):p2}catch{return p2}}static create(e,t={}){return new Qy(e,t).init()}}const Zy=/^data:(\S*?);base64,/;class W8 extends he(){constructor(e,t,n){if(super(),!e)throw new q("fileuploader-missing-file",null);if(!t)throw new q("fileuploader-missing-token",null);if(!n)throw new q("fileuploader-missing-api-address",null);this.file=function(a){if(typeof a!="string")return!1;const u=a.match(Zy);return!(!u||!u.length)}(e)?function(a,u=512){try{const f=a.match(Zy)[1],b=atob(a.replace(Zy,"")),w=[];for(let A=0;A<b.length;A+=u){const E=b.slice(A,A+u),O=new Array(E.length);for(let z=0;z<E.length;z++)O[z]=E.charCodeAt(z);w.push(new Uint8Array(O))}return new Blob(w,{type:f})}catch{throw new q("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=t,this._apiAddress=n}onProgress(e){return this.on("progress",(t,n)=>e(n)),this}onError(e){return this.once("error",(t,n)=>e(n)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,t=n=>()=>this.fire("error",n);e.addEventListener("error",t("Network Error")),e.addEventListener("abort",t("Abort")),e.upload&&e.upload.addEventListener("progress",n=>{n.lengthComputable&&this.fire("progress",{total:n.total,uploaded:n.loaded})}),e.addEventListener("load",()=>{const n=e.status,a=e.response;if(n<200||n>299)return this.fire("error",a.message||a.error)})}_sendRequest(){const e=new FormData,t=this.xhr;return e.append("file",this.file),new Promise((n,a)=>{t.addEventListener("load",()=>{const u=t.status,f=t.response;return u<200||u>299?f.message?a(new q("fileuploader-uploading-data-failed",this,{message:f.message})):a(f.error):n(f)}),t.addEventListener("error",()=>a(new Error("Network Error"))),t.addEventListener("abort",()=>a(new Error("Abort"))),t.send(e)})}}class Y8{constructor(e,t){if(!e)throw new q("uploadgateway-missing-token",null);if(!t)throw new q("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=t}upload(e){return new W8(e,this._token,this._apiAddress)}}class G8 extends Mr{static get pluginName(){return"CloudServicesCore"}createToken(e,t){return new Qy(e,t)}createUploadGateway(e,t){return new Y8(e,t)}}var g2=(r,e,t)=>new Promise((n,a)=>{var u=w=>{try{b(t.next(w))}catch(A){a(A)}},f=w=>{try{b(t.throw(w))}catch(A){a(A)}},b=w=>w.done?n(w.value):Promise.resolve(w.value).then(u,f);b((t=t.apply(r,e)).next())});class Xy extends p_{}Xy.builtinPlugins=[class extends lt{static get requires(){return[Ff,PE,__,f4,PP,DP,UE]}static get pluginName(){return"Essentials"}},class extends lt{static get requires(){return[_c]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const r=this.editor.config.get("ckfinder.uploadUrl");r&&(this.editor.plugins.get(_c).createUploadAdapter=e=>new N4(e,r,this.editor.t))}},class extends lt{static get requires(){return[au]}static get pluginName(){return"Autoformat"}afterInit(){const r=this.editor,e=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),r.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const r=this.editor.commands;r.get("bulletedList")&&uh(this.editor,this,/^[*-]\s$/,"bulletedList"),r.get("numberedList")&&uh(this.editor,this,/^1[.|)]\s$/,"numberedList"),r.get("todoList")&&uh(this.editor,this,/^\[\s?\]\s$/,"todoList"),r.get("checkTodoList")&&uh(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const r=this.editor.commands;if(r.get("bold")){const e=C_(this.editor,"bold");Gf(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),Gf(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(r.get("italic")){const e=C_(this.editor,"italic");Gf(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),Gf(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(r.get("code")){const e=C_(this.editor,"code");Gf(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(r.get("strikethrough")){const e=C_(this.editor,"strikethrough");Gf(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const r=this.editor.commands.get("heading");r&&r.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const t=e[7],n=new RegExp(`^(#{${t}})\\s$`);uh(this.editor,this,n,()=>{if(!r.isEnabled||r.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&uh(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const r=this.editor,e=r.model.document.selection;r.commands.get("codeBlock")&&uh(r,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&uh(this.editor,this,/^---$/,"horizontalLine")}},class extends lt{static get requires(){return[E4,S4]}static get pluginName(){return"Bold"}},class extends lt{static get requires(){return[D4,T4]}static get pluginName(){return"Italic"}},class extends lt{static get requires(){return[I4,L4]}static get pluginName(){return"BlockQuote"}},class extends lt{static get pluginName(){return"CKBox"}static get requires(){return[cS,B4]}},class extends lt{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",az,sz]}},class extends Mr{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[G8]}init(){return g2(this,null,function*(){const r=this.context.config.get("cloudServices")||{};for(const[t,n]of Object.entries(r))this[t]=n;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore");this.token=yield e.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(r){return g2(this,null,function*(){if(this._tokens.has(r))return this.getTokenFor(r);const e=this.context.plugins.get("CloudServicesCore"),t=yield e.createToken(r).init();return this._tokens.set(r,t),t})}getTokenFor(r){const e=this._tokens.get(r);if(!e)throw new q("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const r of this._tokens.values())r.destroy()}},class extends lt{static get pluginName(){return"EasyImage"}static get requires(){return[lz,"ImageUpload"]}init(){const r=this.editor;r.plugins.has("ImageBlockEditing")||r.plugins.has("ImageInlineEditing")||de("easy-image-image-feature-missing",r)}},class extends lt{static get requires(){return[mz,pz]}static get pluginName(){return"Heading"}},class extends lt{static get requires(){return[Bz,Pz]}static get pluginName(){return"Image"}},class extends lt{static get requires(){return[Fz,Hz]}static get pluginName(){return"ImageCaption"}},class extends lt{static get requires(){return[pj,uF]}static get pluginName(){return"ImageStyle"}},class extends lt{static get requires(){return[w_,La]}static get pluginName(){return"ImageToolbar"}afterInit(){const r=this.editor,e=r.t,t=r.plugins.get(w_),n=r.plugins.get("ImageUtils");var a;t.register("image",{ariaLabel:e("Image toolbar"),items:(a=r.config.get("image.toolbar")||[],a.map(u=>pe(u)?u.name:u)),getRelatedElement:u=>n.getClosestSelectedImageWidget(u)})}},class extends lt{static get pluginName(){return"ImageUpload"}static get requires(){return[tF,$z,Gz]}},class extends lt{static get pluginName(){return"Indent"}static get requires(){return[hF,mF]}},class extends lt{static get requires(){return[Bj,VF,UF]}static get pluginName(){return"Link"}},m6,class extends lt{static get requires(){return[R_,A6,y6,Pg]}static get pluginName(){return"MediaEmbed"}},xy,class extends lt{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Ol]}init(){const r=this.editor,e=r.plugins.get("ClipboardPipeline"),t=r.editing.view.document,n=[],a=this.editor.plugins.has("MultiLevelList");n.push(new W6(t,a)),n.push(new G6(t)),n.push(new Q6(t)),e.on("inputTransformation",(u,f)=>{if(f._isTransformedWithPasteFromOffice||r.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const b=f.dataTransfer.getData("text/html"),w=n.find(A=>A.isActive(b));w&&(f._parsedData||(f._parsedData=Z6(b,t.stylesProcessor)),w.execute(f),f._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends lt{static get requires(){return[Ay,La]}static get pluginName(){return"PictureEditing"}afterInit(){const r=this.editor;r.plugins.has("ImageBlockEditing")&&r.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),r.plugins.has("ImageInlineEditing")&&r.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const r=this.editor,e=r.conversion,t=r.plugins.get("ImageUtils");e.for("upcast").add(function(n){const a=["srcset","media","type","sizes"],u=(f,b,w)=>{const A=b.viewItem;if(!w.consumable.test(A,{name:!0}))return;const E=new Map;for(const U of A.getChildren())if(U.is("element","source")){const W={};for(const X of a)U.hasAttribute(X)&&w.consumable.test(U,{attributes:X})&&(W[X]=U.getAttribute(X));Object.keys(W).length&&E.set(U,W)}const O=n.findViewImgElement(A);if(!O)return;let z=b.modelCursor.parent;if(!z.is("element","imageBlock")){const U=w.convertItem(O,b.modelCursor);b.modelRange=U.modelRange,b.modelCursor=U.modelCursor,z=Un(U.modelRange.getItems())}w.consumable.consume(A,{name:!0});for(const[U,W]of E)w.consumable.consume(U,{attributes:Object.keys(W)});E.size&&w.writer.setAttribute("sources",Array.from(E.values()),z),w.convertChildren(A,z)};return f=>{f.on("element:picture",u)}}(t)),e.for("downcast").add(function(n){const a=(u,f,b)=>{if(!b.consumable.consume(f.item,u.name))return;const w=b.writer,A=b.mapper.toViewElement(f.item),E=n.findViewImgElement(A),O=f.attributeNewValue;if(O&&O.length){const z=w.createContainerElement("picture",null,O.map(X=>w.createEmptyElement("source",X))),U=[];let W=E.parent;for(;W&&W.is("attributeElement");){const X=W.parent;w.unwrap(w.createRangeOn(E),W),U.unshift(W),W=X}w.insert(w.createPositionBefore(E),z),w.move(w.createRangeOn(E),w.createPositionAt(z,"end"));for(const X of U)w.wrap(w.createRangeOn(z),X)}else if(E.parent.is("element","picture")){const z=E.parent;w.move(w.createRangeOn(E),w.createPositionBefore(z)),w.remove(z)}};return u=>{u.on("attribute:sources:imageBlock",a),u.on("attribute:sources:imageInline",a)}}(t))}_setupImageUploadEditingIntegration(){const r=this.editor;if(!r.plugins.has("ImageUploadEditing"))return;const e=r.plugins.get("ImageUploadEditing");this.listenTo(e,"uploadComplete",(t,{imageElement:n,data:a})=>{const u=a.sources;u&&r.model.change(f=>{f.setAttributes({sources:u},n)})})}},class extends lt{static get requires(){return[y8,C8,vm,D8,S8,E8,Pg]}static get pluginName(){return"Table"}},class extends lt{static get requires(){return[w_]}static get pluginName(){return"TableToolbar"}afterInit(){const r=this.editor,e=r.t,t=r.plugins.get(w_),n=r.config.get("table.contentToolbar"),a=r.config.get("table.tableToolbar");n&&t.register("tableContent",{ariaLabel:e("Table toolbar"),items:n,getRelatedElement:I8}),a&&t.register("table",{ariaLabel:e("Table toolbar"),items:a,getRelatedElement:M8})}},class extends lt{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(r){super(r),r.config.define("typing",{transformations:{include:TP}})}init(){const r=this.editor.model.document.selection;r.on("change:range",()=>{this.isEnabled=!r.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const r=this.editor,e=r.model,t=r.plugins.get("Delete"),n=function(u){const f=u.extra||[],b=u.remove||[],w=A=>!b.includes(A);return function(A){const E=new Set;for(const O of A)if(typeof O=="string"&&dE[O])for(const z of dE[O])E.add(z);else E.add(O);return Array.from(E)}(u.include.concat(f).filter(w)).filter(w).map(A=>typeof A=="string"&&cE[A]?cE[A]:A).filter(A=>typeof A=="object").map(A=>({from:MP(A.from),to:IP(A.to)}))}(r.config.get("typing.transformations")),a=new oE(r.model,u=>{for(const f of n)if(f.from.test(u))return{normalizedTransformation:f}});a.on("matched:data",(u,f)=>{if(!f.batch.isTyping)return;const{from:b,to:w}=f.normalizedTransformation,A=b.exec(f.text),E=w(A.slice(1)),O=f.range;let z=A.index;e.enqueueChange(U=>{for(let W=1;W<A.length;W++){const X=A[W],ae=E[W-1];if(ae==null){z+=X.length;continue}const ge=O.start.getShiftedBy(z),Me=e.createRange(ge,ge.getShiftedBy(X.length)),Ze=OP(ge);e.insertContent(U.createText(ae,Ze),Me),z+=ae.length}e.enqueueChange(()=>{t.requestUndoOnBackspace()})})}),a.bind("isEnabled").to(this)}}],Xy.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),g=g.default})())}(ub,ub.exports)),ub.exports}var TX=DX();const MX=Vm(TX);function xw({value:l,onChange:c,placeholder:s}){return i.jsx(nB,{editor:MX,data:l,config:{placeholder:s||"Nhập nội dung..."},onChange:(o,h)=>{const g=h.getData();c(g)}})}const Rl="https://walkingguide.onrender.com";function IX(){const{user:l}=I.useContext(ds),[c,s]=I.useState([]),[o,h]=I.useState(""),[g,_]=I.useState(""),[y,v]=I.useState(null),[N,S]=I.useState(null),[D,j]=I.useState(""),[B,F]=I.useState(!1),[V,$]=I.useState(""),[K,Q]=I.useState(!1),[ee,ne]=I.useState(null),[le,se]=I.useState([]),[q,de]=I.useState(null),[re,be]=I.useState(!1),[ke,we]=I.useState(null),[De,_e]=I.useState(""),[je,oe]=I.useState(null);I.useEffect(()=>{ve(),he()},[]);const ve=async()=>{const Le=await kt.get(`${Rl}/api/articles`);s(Le.data)},he=async()=>{try{console.log("Admin fetching reports with token:",l==null?void 0:l.token);const Le=await kt.get(`${Rl}/api/article-reports`,{headers:{Authorization:`Bearer ${l==null?void 0:l.token}`}});se(Le.data)}catch{se([])}},Ee=async()=>{if(!l||!l.id){$("Bạn cần đăng nhập để tạo bài viết."),F(!0);return}let Le="";if(y){const st=new FormData;st.append("file",y),Le=(await kt.post(`${Rl}/api/upload`,st,{headers:{"Content-Type":"multipart/form-data"}})).data.url}await kt.post(`${Rl}/api/articles`,{title:o,content:g,image_url:Le,admin_id:l.id}),ve(),We()},Z=Le=>{S(Le.article_id),h(Le.title),_(Le.content),j(Le.image_url),v(null),window.scrollTo({top:0,behavior:"smooth"})},fe=async()=>{let Le=D;if(y){const st=new FormData;st.append("file",y),Le=(await kt.post(`${Rl}/api/upload`,st,{headers:{"Content-Type":"multipart/form-data"}})).data.url}await kt.put(`${Rl}/api/articles/${N}`,{title:o,content:g,image_url:Le}),ve(),S(null),We()},Ce=async Le=>{ne(Le),Q(!0)},Se=async()=>{if(ee)try{await kt.delete(`${Rl}/api/articles/${ee}`),ve(),Q(!1),ne(null)}catch(Le){console.error("Error deleting article:",Le)}},He=()=>{Q(!1),ne(null)},et=async(Le,st)=>{try{console.log("Admin updating report with token:",l==null?void 0:l.token,"role:",l==null?void 0:l.role),await kt.patch(`${Rl}/api/article-reports/${Le}`,{status:st},{headers:{Authorization:`Bearer ${l==null?void 0:l.token}`}}),de("success"),he()}catch{de("error")}},pe=async Le=>{if(window.confirm("Bạn có chắc chắn muốn xóa bài viết này? Hành động này không thể hoàn tác."))try{await kt.delete(`${Rl}/api/articles/${Le}`,{headers:{Authorization:`Bearer ${l==null?void 0:l.token}`}}),ve(),he(),de("success")}catch{de("error")}},me=Le=>{we(Le),_e(""),oe(null),be(!0)},Ie=async()=>{if(ke)try{const Le=le.find(Ge=>c.find(Oe=>Oe.article_id===Ge.article_id&&Oe.admin_id===ke)),st=Le?Le.article_id:null;await kt.post(`${Rl}/api/notifications`,{user_id:ke,content:De||"Bài viết của bạn đã bị báo cáo. Vui lòng kiểm tra lại nội dung.",type:"warning",article_id:st},{headers:{Authorization:`Bearer ${l==null?void 0:l.token}`}}),oe("success"),setTimeout(()=>be(!1),1200)}catch{oe("error")}},We=()=>{h(""),_(""),v(null),j("")};return i.jsxs("div",{className:"admin-layout",children:[i.jsx(yd,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(xd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[B&&i.jsxs("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-circle-fill me-2"}),V,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>F(!1)})]}),i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:N?"Chỉnh sửa Bài viết":"Tạo Bài viết Mới"})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tiêu đề *"}),i.jsx("input",{type:"text",className:"form-control",value:o,onChange:Le=>h(Le.target.value),placeholder:"Nhập tiêu đề bài viết"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Nội dung"}),i.jsx(xw,{value:g,onChange:_,placeholder:"Nhập nội dung bài viết"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Hình ảnh"}),i.jsx("input",{type:"file",accept:"image/*",onChange:Le=>v(Le.target.files[0]),className:"form-control"}),D&&!y&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:D.startsWith("http")?D:`${Rl}${D}`,alt:"Ảnh hiện tại",style:{maxWidth:"200px",maxHeight:"150px",objectFit:"cover",borderRadius:"8px",border:"1px solid #ddd"}})})]}),i.jsx("div",{className:"d-flex gap-2",children:N?i.jsxs(i.Fragment,{children:[i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:fe,children:"Cập nhật Bài viết"}),i.jsx(Ut,{variant:"secondary",onClick:()=>{S(null),We()},children:"Hủy"})]}):i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:Ee,children:"Tạo Bài viết"})})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Tất cả Bài viết"})}),i.jsx("div",{className:"card-body",children:i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-striped",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Tiêu đề"}),i.jsx("th",{children:"Nội dung"}),i.jsx("th",{children:"Hình ảnh"}),i.jsx("th",{children:"Thao tác"})]})}),i.jsx("tbody",{children:c.map(Le=>i.jsxs("tr",{children:[i.jsx("td",{children:Le.article_id}),i.jsx("td",{children:Le.title}),i.jsx("td",{children:i.jsx("div",{style:{maxHeight:"60px",overflow:"hidden",fontSize:"0.9rem"},dangerouslySetInnerHTML:{__html:Le.content?Le.content.length>60?Le.content.substring(0,60)+"...":Le.content:""}})}),i.jsx("td",{children:Le.image_url?i.jsx("img",{src:Le.image_url.startsWith("http")?Le.image_url:`${Rl}${Le.image_url}`,alt:"Ảnh bài viết",style:{width:"80px",height:"60px",objectFit:"cover",borderRadius:"4px"}}):i.jsx("div",{style:{width:"80px",height:"60px",backgroundColor:"#e9ecef",display:"flex",alignItems:"center",justifyContent:"center",color:"#6c757d",borderRadius:"4px"},children:i.jsx("i",{className:"bi bi-image"})})}),i.jsx("td",{children:i.jsxs("div",{className:"btn-group",role:"group",children:[i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>Z(Le),children:"Sửa"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>Ce(Le.article_id),children:"Xóa"})]})})]},Le.article_id))})]})})})]}),i.jsxs("div",{className:"card mt-5",children:[i.jsxs("div",{className:"card-header bg-danger text-white d-flex align-items-center",style:{borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem"},children:[i.jsx("i",{className:"bi bi-flag-fill me-2",style:{fontSize:22}}),i.jsx("h5",{className:"mb-0",children:"Báo cáo bài viết"})]}),i.jsxs("div",{className:"card-body bg-light",style:{borderBottomLeftRadius:"1rem",borderBottomRightRadius:"1rem"},children:[q==="success"&&i.jsx("div",{className:"alert alert-success",children:"Cập nhật trạng thái thành công!"}),q==="error"&&i.jsx("div",{className:"alert alert-danger",children:"Có lỗi khi cập nhật trạng thái."}),i.jsxs("div",{className:"row mb-4 g-4",children:[le.filter(Le=>Le.status==="pending").filter(Le=>c.some(st=>st.article_id===Le.article_id)).map(Le=>{const st=c.find(Ge=>Ge.article_id===Le.article_id);return i.jsx("div",{className:"col-md-6 col-lg-4",children:i.jsx("div",{className:"card h-100 shadow border-0 report-card position-relative",style:{borderRadius:"1rem",transition:"box-shadow 0.2s",background:"#fff"},children:i.jsxs("div",{className:"card-body p-4",children:[i.jsxs("div",{className:"d-flex align-items-center mb-2",children:[i.jsx("i",{className:"bi bi-flag text-danger me-2",style:{fontSize:20}}),i.jsxs("h6",{className:"card-title mb-0",children:["Báo cáo #",Le.id]}),i.jsx("span",{className:"badge bg-warning text-dark ms-2",style:{fontSize:"0.95em"},children:Le.status})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Bài viết:"})," ",i.jsx("a",{href:`/articles/${Le.article_id}`,target:"_blank",rel:"noopener noreferrer",className:"text-decoration-underline fw-semibold",children:(st==null?void 0:st.title)||"Không tìm thấy"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Người báo cáo:"})," ",i.jsxs("span",{className:"badge bg-secondary",children:["User #",Le.user_id]})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Loại báo cáo:"})," ",i.jsx("span",{className:"badge bg-info text-dark text-capitalize",children:Le.type||"Không rõ"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Lý do:"})," ",i.jsx("span",{className:"fst-italic",children:Le.reason})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Ngày tạo:"})," ",new Date(Le.created_at).toLocaleString()]}),i.jsxs("div",{className:"d-flex gap-2 mt-3 flex-wrap",children:[i.jsxs("button",{className:"btn btn-success btn-sm px-3",onClick:()=>et(Le.id,"resolved"),title:"Đánh dấu đã xử lý",children:[i.jsx("i",{className:"bi bi-check-circle me-1"}),"Đã xử lý"]}),i.jsxs("button",{className:"btn btn-secondary btn-sm px-3",onClick:()=>et(Le.id,"dismissed"),title:"Bỏ qua báo cáo",children:[i.jsx("i",{className:"bi bi-x-circle me-1"}),"Bỏ qua"]}),i.jsxs("button",{className:"btn btn-danger btn-sm px-3",onClick:()=>pe(Le.article_id),title:"Xóa bài viết này",children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xóa bài viết"]}),(st==null?void 0:st.admin_id)&&i.jsxs("button",{className:"btn btn-warning btn-sm px-3 text-white",style:{background:"#ffc107",border:"none"},onClick:()=>me(st.admin_id),title:"Cảnh báo tác giả",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-1"}),"Cảnh báo tác giả"]})]})]})})},Le.id)}),le.filter(Le=>Le.status==="pending").filter(Le=>c.some(st=>st.article_id===Le.article_id)).length===0&&i.jsx("div",{className:"col-12 text-center text-muted",children:"Không có báo cáo nào."})]}),i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-bordered",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Bài viết"}),i.jsx("th",{children:"Người báo cáo"}),i.jsx("th",{children:"Lý do"}),i.jsx("th",{children:"Trạng thái"}),i.jsx("th",{children:"Ngày tạo"}),i.jsx("th",{children:"Hành động"})]})}),i.jsxs("tbody",{children:[le.filter(Le=>Le.status==="pending").filter(Le=>c.some(st=>st.article_id===Le.article_id)).length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:"7",className:"text-center",children:"Không có báo cáo nào."})}),le.filter(Le=>Le.status==="pending").filter(Le=>c.some(st=>st.article_id===Le.article_id)).map(Le=>i.jsxs("tr",{children:[i.jsx("td",{children:Le.id}),i.jsx("td",{children:i.jsx("a",{href:`/articles/${Le.article_id}`,target:"_blank",rel:"noopener noreferrer",children:"Xem bài viết"})}),i.jsx("td",{children:Le.user_id}),i.jsx("td",{children:Le.reason}),i.jsx("td",{children:Le.status}),i.jsx("td",{children:new Date(Le.created_at).toLocaleString()}),i.jsxs("td",{children:[i.jsx("button",{className:"btn btn-success btn-sm me-2",onClick:()=>et(Le.id,"resolved"),children:"Đã xử lý"}),i.jsx("button",{className:"btn btn-secondary btn-sm me-2",onClick:()=>et(Le.id,"dismissed"),children:"Bỏ qua"}),i.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>pe(Le.article_id),children:"Xóa bài viết"})]})]},Le.id))]})]})})]})]})]})})]}),i.jsxs(yt,{show:K,onHide:He,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Xác nhận xóa"})}),i.jsx(yt.Body,{children:"Bạn có chắc chắn muốn xóa bài viết này? Hành động này không thể hoàn tác."}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:He,children:"Hủy"}),i.jsx(Ut,{variant:"danger",className:"admin-btn-danger",onClick:Se,children:"Xóa"})]})]}),i.jsxs(yt,{show:re,onHide:()=>be(!1),centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Gửi cảnh báo tới tác giả"})}),i.jsxs(yt.Body,{children:[je==="success"&&i.jsx("div",{className:"alert alert-success",children:"Đã gửi cảnh báo thành công!"}),je==="error"&&i.jsx("div",{className:"alert alert-danger",children:"Có lỗi khi gửi cảnh báo."}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Nội dung cảnh báo"}),i.jsx("textarea",{className:"form-control",value:De,onChange:Le=>_e(Le.target.value),placeholder:"Nhập nội dung cảnh báo gửi tới tác giả...",rows:3})]})]}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:()=>be(!1),children:"Hủy"}),i.jsx(Ut,{variant:"warning",className:"text-white",onClick:Ie,children:"Gửi cảnh báo"})]})]})]})}function OX(){const[l,c]=I.useState([]),[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(null),[v,N]=I.useState(""),[S,D]=I.useState("USER"),[j,B]=I.useState(""),[F,V]=I.useState(null),[$,K]=I.useState(!1),[Q,ee]=I.useState(!1),[ne,le]=I.useState(""),[se,q]=I.useState("danger"),[de,re]=I.useState(!1),[be,ke]=I.useState(null);I.useEffect(()=>{De()},[]);const we="https://walkingguide.onrender.com",De=async()=>{const Se=await kt.get(`${we}/api/users`);c(Se.data)},_e=Se=>{const He=Se.target.files[0];if(He){y(He);const et=new FileReader;et.onload=pe=>N(pe.target.result),et.readAsDataURL(He)}},je=async Se=>{const He=new FormData;return He.append("file",Se),(await kt.post(`${we}/api/upload`,He,{headers:{"Content-Type":"multipart/form-data"}})).data.url},oe=async()=>{K(!0);try{let Se="";_&&(Se=await je(_)),await kt.post(`${we}/api/users`,{full_name:s,email:h,image_url:Se,password:j,role:S}),De(),Ce()}catch(Se){console.error("Error creating user:",Se),le("Có lỗi xảy ra khi tạo người dùng"),q("danger"),ee(!0)}finally{K(!1)}},ve=Se=>{V(Se.id),o(Se.full_name),g(Se.email),y(null),N(Se.image_url||""),D(Se.role),B(Se.password_hash),window.scrollTo({top:0,behavior:"smooth"})},he=async()=>{K(!0);try{let Se=v;_&&(Se=await je(_)),await kt.put(`${we}/api/users/${F}`,{full_name:s,email:h,image_url:Se,password_hash:j||void 0,role:S}),De(),V(null),Ce()}catch(Se){console.error("Error updating user:",Se),le("Có lỗi xảy ra khi cập nhật người dùng"),q("danger"),ee(!0)}finally{K(!1)}},Ee=async Se=>{ke(Se),re(!0)},Z=async()=>{if(be)try{await kt.delete(`${we}/api/users/${be}`),De(),re(!1),ke(null)}catch(Se){console.error("Error deleting user:",Se),le("Có lỗi xảy ra khi xóa người dùng"),q("danger"),ee(!0)}},fe=()=>{re(!1),ke(null)},Ce=()=>{V(null),o(""),g(""),y(null),N(""),B(""),D("USER")};return i.jsxs("div",{className:"admin-layout",children:[i.jsx(yd,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(xd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[Q&&i.jsxs("div",{className:`alert alert-${se} alert-dismissible fade show`,role:"alert",children:[i.jsx("i",{className:`bi ${se==="danger"?"bi-exclamation-triangle-fill":"bi-exclamation-circle-fill"} me-2`}),ne,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>ee(!1)})]}),i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:F?"Chỉnh sửa Người dùng":"Tạo Người dùng Mới"})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Họ và tên *"}),i.jsx("input",{type:"text",className:"form-control",value:s,onChange:Se=>o(Se.target.value),placeholder:"Nhập họ và tên"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Email *"}),i.jsx("input",{type:"email",className:"form-control",value:h,onChange:Se=>g(Se.target.value),placeholder:"Nhập email"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("label",{className:"form-label",children:["Mật khẩu ",!F&&"*"]}),i.jsx("input",{type:"password",className:"form-control",value:j,onChange:Se=>B(Se.target.value),placeholder:F?"Để trống nếu không thay đổi":"Nhập mật khẩu"})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Vai trò"}),i.jsxs("select",{className:"form-control",value:S,onChange:Se=>D(Se.target.value),children:[i.jsx("option",{value:"USER",children:"Người dùng"}),i.jsx("option",{value:"ADMIN",children:"Quản trị viên"}),i.jsx("option",{value:"MODERATOR",children:"Điều hành viên"})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Hình ảnh"}),i.jsx("input",{type:"file",accept:"image/*",onChange:_e,className:"form-control"}),v&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:v.startsWith("data:")?v:`${we}${v}`,alt:"Xem trước",style:{maxWidth:"200px",maxHeight:"150px",objectFit:"cover",borderRadius:"8px",border:"1px solid #ddd"}})})]})]})]}),i.jsx("div",{className:"d-flex gap-2",children:F?i.jsxs(i.Fragment,{children:[i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:he,disabled:$,children:$?"Đang cập nhật...":"Cập nhật Người dùng"}),i.jsx(Ut,{variant:"secondary",onClick:Ce,disabled:$,children:"Hủy"})]}):i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:oe,disabled:$,children:$?"Đang tạo...":"Tạo Người dùng"})})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Tất cả Người dùng"})}),i.jsx("div",{className:"card-body",children:i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-striped",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Hình ảnh"}),i.jsx("th",{children:"Họ và tên"}),i.jsx("th",{children:"Email"}),i.jsx("th",{children:"Vai trò"}),i.jsx("th",{children:"Ngày tạo"}),i.jsx("th",{children:"Thao tác"})]})}),i.jsx("tbody",{children:l.map(Se=>i.jsxs("tr",{children:[i.jsx("td",{children:Se.id}),i.jsx("td",{children:Se.image_url?i.jsx("img",{src:`${we}${Se.image_url}`,alt:Se.full_name,style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"50%"}}):i.jsx("div",{style:{width:"50px",height:"50px",backgroundColor:"#e9ecef",display:"flex",alignItems:"center",justifyContent:"center",color:"#6c757d",borderRadius:"50%"},children:i.jsx("i",{className:"bi bi-person"})})}),i.jsx("td",{children:Se.full_name}),i.jsx("td",{children:Se.email}),i.jsx("td",{children:i.jsx("span",{className:`badge ${Se.role==="ADMIN"?"bg-danger":Se.role==="MODERATOR"?"bg-warning":"bg-primary"}`,children:Se.role==="ADMIN"?"Quản trị viên":Se.role==="MODERATOR"?"Điều hành viên":"Người dùng"})}),i.jsx("td",{children:Se.created_at?new Date(Se.created_at).toLocaleDateString("vi-VN"):"N/A"}),i.jsx("td",{children:i.jsxs("div",{className:"btn-group",role:"group",children:[i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>ve(Se),children:"Sửa"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>Ee(Se.id),children:"Xóa"})]})})]},Se.id))})]})})})]})]})})]}),i.jsxs(yt,{show:de,onHide:fe,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Xác nhận xóa"})}),i.jsx(yt.Body,{children:"Bạn có chắc chắn muốn xóa người dùng này? Hành động này không thể hoàn tác."}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:fe,children:"Hủy"}),i.jsx(Ut,{variant:"danger",className:"admin-btn-danger",onClick:Z,children:"Xóa"})]})]})]})}const rB=()=>Ft.get("/tags"),LX=l=>Ft.post("/tags",l),BX=(l,c)=>Ft.put(`/tags/${l}`,c),RX=l=>Ft.delete(`/tags/${l}`),PX=()=>Ft.get("/place-tags"),YC=l=>Ft.post("/place-tags",l),DO=l=>Ft.delete(`/place-tags/${l}`);var GC,TO;function zX(){if(TO)return GC;TO=1;var l="Expected a function",c=NaN,s="[object Symbol]",o=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,_=/^0o[0-7]+$/i,y=parseInt,v=typeof Hl=="object"&&Hl&&Hl.Object===Object&&Hl,N=typeof self=="object"&&self&&self.Object===Object&&self,S=v||N||Function("return this")(),D=Object.prototype,j=D.toString,B=Math.max,F=Math.min,V=function(){return S.Date.now()};function $(le,se,q){var de,re,be,ke,we,De,_e=0,je=!1,oe=!1,ve=!0;if(typeof le!="function")throw new TypeError(l);se=ne(se)||0,K(q)&&(je=!!q.leading,oe="maxWait"in q,be=oe?B(ne(q.maxWait)||0,se):be,ve="trailing"in q?!!q.trailing:ve);function he(me){var Ie=de,We=re;return de=re=void 0,_e=me,ke=le.apply(We,Ie),ke}function Ee(me){return _e=me,we=setTimeout(Ce,se),je?he(me):ke}function Z(me){var Ie=me-De,We=me-_e,Le=se-Ie;return oe?F(Le,be-We):Le}function fe(me){var Ie=me-De,We=me-_e;return De===void 0||Ie>=se||Ie<0||oe&&We>=be}function Ce(){var me=V();if(fe(me))return Se(me);we=setTimeout(Ce,Z(me))}function Se(me){return we=void 0,ve&&de?he(me):(de=re=void 0,ke)}function He(){we!==void 0&&clearTimeout(we),_e=0,de=De=re=we=void 0}function et(){return we===void 0?ke:Se(V())}function pe(){var me=V(),Ie=fe(me);if(de=arguments,re=this,De=me,Ie){if(we===void 0)return Ee(De);if(oe)return we=setTimeout(Ce,se),he(De)}return we===void 0&&(we=setTimeout(Ce,se)),ke}return pe.cancel=He,pe.flush=et,pe}function K(le){var se=typeof le;return!!le&&(se=="object"||se=="function")}function Q(le){return!!le&&typeof le=="object"}function ee(le){return typeof le=="symbol"||Q(le)&&j.call(le)==s}function ne(le){if(typeof le=="number")return le;if(ee(le))return c;if(K(le)){var se=typeof le.valueOf=="function"?le.valueOf():le;le=K(se)?se+"":se}if(typeof le!="string")return le===0?le:+le;le=le.replace(o,"");var q=g.test(le);return q||_.test(le)?y(le.slice(2),q?2:8):h.test(le)?c:+le}return GC=$,GC}zX();const MO="https://walkingguide.onrender.com";function FX(){const[l,c]=I.useState([]),[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(null),[S,D]=I.useState(""),[j,B]=I.useState(""),[F,V]=I.useState(""),[$,K]=I.useState(""),[Q,ee]=I.useState(null),[ne,le]=I.useState([]),[se,q]=I.useState([]),[de,re]=I.useState([]),[be,ke]=I.useState(!1),[we,De]=I.useState(null),[_e,je]=I.useState([]),[oe,ve]=I.useState([]),[he,Ee]=I.useState(!1),[Z,fe]=I.useState(!1),[Ce,Se]=I.useState(null),[He,et]=I.useState(!1);I.useEffect(()=>{pe(),me(),Ie()},[]);const pe=async()=>{const $e=await kt.get("https://walkingguide.onrender.com/api/places");c($e.data)},me=async()=>{const $e=await rB();le($e.data)},Ie=async()=>{const $e=await PX();q($e.data)},We=$e=>$e?$e.startsWith("http")?$e:`${MO}${$e}`:null,Le=async $e=>{if($e.length<3){ve([]),Ee(!1);return}try{let bt=$e;S&&S.trim()&&(bt=`${$e}, ${S}`);const $t=await kt.get(`${MO}/api/geocoding/search?q=${encodeURIComponent(bt)}&limit=5&addressdetails=1`);ve($t.data),Ee(!0)}catch(bt){console.error("Error fetching address suggestions:",bt)}},st=$e=>{B($e),Le($e)},Ge=$e=>{var bt,$t,fn;B($e.display_name),D(((bt=$e.address)==null?void 0:bt.city)||(($t=$e.address)==null?void 0:$t.town)||((fn=$e.address)==null?void 0:fn.state)||""),Ee(!1),ve([])},Oe=async $e=>{et(!0);try{const bt=await kt.get(`https://walkingguide.onrender.com/api/geocoding/coordinates?q=${encodeURIComponent($e)}&limit=1`);return bt.data.success&&bt.data.data?{latitude:bt.data.data.latitude,longitude:bt.data.data.longitude}:null}catch(bt){return console.error("Error getting coordinates:",bt),null}finally{et(!1)}},ut=async()=>{try{const $e=await Oe(j);if(!$e){alert("Không thể tìm thấy tọa độ cho địa chỉ này. Vui lòng kiểm tra lại địa chỉ.");return}let bt=_;if(v){const fn=new FormData;fn.append("file",v),bt=(await kt.post("https://walkingguide.onrender.com/api/upload",fn,{headers:{"Content-Type":"multipart/form-data"}})).data.url}const $t=await kt.post("https://walkingguide.onrender.com/api/places",{name:s,description:h,latitude:$e.latitude,longitude:$e.longitude,image_url:bt,city:S,address:j,opening_hours:F,service:$});if(de.length>0)for(const fn of de)await YC({place_id:$t.data.id,tag_id:fn});pe(),Ie(),jt()}catch($e){console.error("Error creating place:",$e),alert("Lỗi khi tạo địa điểm. Vui lòng thử lại.")}},Fe=$e=>{ee($e.id),o($e.name),g($e.description),y($e.image_url),D($e.city||""),B($e.address||""),V($e.opening_hours||""),K($e.service||"");const bt=Dt($e.id).map($t=>$t.id);re(bt),window.scrollTo({top:0,behavior:"smooth"})},ht=async()=>{try{const $e=await Oe(j);if(!$e){alert("Không thể tìm thấy tọa độ cho địa chỉ này. Vui lòng kiểm tra lại địa chỉ.");return}let bt=_;if(v){const vn=new FormData;vn.append("file",v),bt=(await kt.post("https://walkingguide.onrender.com/api/upload",vn,{headers:{"Content-Type":"multipart/form-data"}})).data.url}await kt.put(`https://walkingguide.onrender.com/api/places/${Q}`,{name:s,description:h,latitude:$e.latitude,longitude:$e.longitude,image_url:bt,city:S,address:j,opening_hours:F,service:$});const $t=Dt(Q).map(vn=>vn.id),fn=de.filter(vn=>!$t.includes(vn)),Rn=$t.filter(vn=>!de.includes(vn));for(const vn of fn)await YC({place_id:Q,tag_id:vn});for(const vn of Rn){const ai=se.find(ci=>ci.place_id===Q&&ci.tag_id===vn);ai&&await DO(ai.id)}pe(),Ie(),ee(null),jt()}catch($e){console.error("Error updating place:",$e),alert("Lỗi khi cập nhật địa điểm. Vui lòng thử lại.")}},Pt=async $e=>{Se($e),fe(!0)},en=async()=>{if(Ce)try{await kt.delete(`https://walkingguide.onrender.com/api/places/${Ce}`),pe(),fe(!1),Se(null)}catch($e){console.error("Error deleting place:",$e)}},at=()=>{fe(!1),Se(null)},jt=()=>{o(""),g(""),y(""),N(null),D(""),B(""),V(""),K(""),re([]),ve([]),Ee(!1)},Dt=$e=>{const bt=se.filter($t=>$t.place_id===$e).map($t=>$t.tag_id);return ne.filter($t=>bt.includes($t.id))},Qe=$e=>{De($e),je(Dt($e.id).map(bt=>bt.id)),ke(!0)},Tt=()=>{ke(!1),De(null),je([])},Ot=async()=>{if(!we)return;const $e=Dt(we.id).map(fn=>fn.id),bt=_e.filter(fn=>!$e.includes(fn)),$t=$e.filter(fn=>!_e.includes(fn));for(const fn of bt)await YC({place_id:we.id,tag_id:fn});for(const fn of $t){const Rn=se.find(vn=>vn.place_id===we.id&&vn.tag_id===fn);Rn&&await DO(Rn.id)}Ie(),Tt()};return i.jsxs("div",{className:"admin-layout",children:[i.jsx(yd,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(xd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:Q?"Chỉnh sửa Địa điểm":"Tạo Địa điểm Mới"})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tên địa điểm *"}),i.jsx("input",{type:"text",className:"form-control",value:s,onChange:$e=>o($e.target.value),placeholder:"Nhập tên địa điểm"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mô tả"}),i.jsx(xw,{value:h,onChange:g,placeholder:"Mô tả địa điểm"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Thành phố"}),i.jsx(Tb,{value:S,onChange:D,placeholder:"Chọn thành phố"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Địa chỉ *"}),i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"text",className:"form-control",value:j,onChange:$e=>st($e.target.value),placeholder:S?`Nhập địa chỉ trong ${S}...`:"Nhập địa chỉ để tìm kiếm...",autoComplete:"off"}),He&&i.jsx("div",{className:"position-absolute top-50 end-0 translate-middle-y me-2",children:i.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),he&&oe.length>0&&i.jsx("div",{className:"position-absolute w-100 bg-white border rounded shadow-sm",style:{zIndex:1e3,top:"100%"},children:oe.map(($e,bt)=>i.jsxs("div",{className:"p-2 border-bottom suggestion-item",style:{cursor:"pointer"},onClick:()=>Ge($e),onMouseEnter:$t=>$t.target.style.backgroundColor="#f8f9fa",onMouseLeave:$t=>$t.target.style.backgroundColor="white",children:[i.jsx("div",{className:"fw-semibold",children:$e.display_name.split(",")[0]}),i.jsx("div",{className:"small text-muted",children:$e.display_name})]},bt))})]})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Giờ mở cửa"}),i.jsx("textarea",{className:"form-control",rows:"3",value:F,onChange:$e=>V($e.target.value),placeholder:"VD: Thứ 2 - Thứ 6: 8:00 - 18:00"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Dịch vụ"}),i.jsx("textarea",{className:"form-control",rows:"3",value:$,onChange:$e=>K($e.target.value),placeholder:"Mô tả các dịch vụ có sẵn"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Link ảnh"}),i.jsx("input",{type:"url",className:"form-control",value:_,onChange:$e=>y($e.target.value),placeholder:"https://example.com/image.jpg"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Hoặc tải ảnh lên"}),i.jsx("input",{type:"file",accept:"image/*",onChange:$e=>N($e.target.files[0]),className:"form-control"})]}),Q&&_&&i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Ảnh hiện tại:"}),i.jsx("div",{className:"border rounded p-2",children:i.jsx("img",{src:We(_),alt:"Current image",style:{maxWidth:"200px",maxHeight:"150px",objectFit:"cover"},className:"img-thumbnail"})})]})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label fw-bold",children:"Thẻ địa điểm:"}),i.jsx("div",{className:"row",children:ne.map($e=>i.jsx("div",{className:"col-md-3 col-sm-6 mb-2",children:i.jsxs("div",{className:"form-check",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:`tag-${$e.id}`,checked:de.includes($e.id),onChange:bt=>{bt.target.checked?re([...de,$e.id]):re(de.filter($t=>$t!==$e.id))}}),i.jsx("label",{className:"form-check-label",htmlFor:`tag-${$e.id}`,children:$e.name})]})},$e.id))})]}),i.jsx("div",{className:"d-flex gap-2",children:Q?i.jsxs(i.Fragment,{children:[i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:ht,children:"Cập nhật Địa điểm"}),i.jsx(Ut,{variant:"secondary",onClick:()=>{ee(null),jt()},children:"Hủy"})]}):i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:ut,children:"Tạo Địa điểm"})})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Tất cả Địa điểm"})}),i.jsx("div",{className:"card-body",children:i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-striped",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Hình ảnh"}),i.jsx("th",{children:"Tên"}),i.jsx("th",{children:"Thành phố"}),i.jsx("th",{children:"Địa chỉ"}),i.jsx("th",{children:"Thẻ"}),i.jsx("th",{children:"Thao tác"})]})}),i.jsx("tbody",{children:l.map($e=>i.jsxs("tr",{children:[i.jsx("td",{children:$e.id}),i.jsx("td",{children:$e.image_url?i.jsx("img",{src:We($e.image_url),alt:$e.name,style:{width:"50px",height:"50px",objectFit:"cover"}}):i.jsx("div",{style:{width:"50px",height:"50px",backgroundColor:"#f8f9fa",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx("i",{className:"bi bi-geo-alt"})})}),i.jsx("td",{children:$e.name}),i.jsx("td",{children:$e.city}),i.jsx("td",{children:i.jsx("div",{style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:$e.address})}),i.jsx("td",{children:i.jsx("div",{className:"d-flex flex-wrap gap-1",children:Dt($e.id).map(bt=>i.jsx("span",{className:"badge bg-primary",children:bt.name},bt.id))})}),i.jsx("td",{children:i.jsxs("div",{className:"btn-group",role:"group",children:[i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>Fe($e),children:"Sửa"}),i.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:()=>Qe($e),children:"Thẻ"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>Pt($e.id),children:"Xóa"})]})})]},$e.id))})]})})})]})]})})]}),i.jsxs(yt,{show:Z,onHide:at,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Xác nhận xóa"})}),i.jsx(yt.Body,{children:"Bạn có chắc chắn muốn xóa địa điểm này? Hành động này không thể hoàn tác."}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:at,children:"Hủy"}),i.jsx(Ut,{variant:"danger",className:"admin-btn-danger",onClick:en,children:"Xóa"})]})]}),i.jsxs(yt,{show:be,onHide:Tt,size:"lg",children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsxs(yt.Title,{children:["Quản lý thẻ cho: ",we==null?void 0:we.name]})}),i.jsx(yt.Body,{children:i.jsx("div",{className:"row",children:ne.map($e=>i.jsx("div",{className:"col-md-4 mb-2",children:i.jsxs("div",{className:"form-check",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:`modal-tag-${$e.id}`,checked:_e.includes($e.id),onChange:bt=>{bt.target.checked?je([..._e,$e.id]):je(_e.filter($t=>$t!==$e.id))}}),i.jsx("label",{className:"form-check-label",htmlFor:`modal-tag-${$e.id}`,children:$e.name})]})},$e.id))})}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:Tt,children:"Hủy"}),i.jsx(Ut,{variant:"primary",onClick:Ot,children:"Lưu thay đổi"})]})]})]})}const HX="https://walkingguide.onrender.com";function VX(){const[l,c]=I.useState([]),[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(""),[S,D]=I.useState(""),[j,B]=I.useState(""),[F,V]=I.useState(""),[$,K]=I.useState(""),[Q,ee]=I.useState(""),[ne,le]=I.useState(""),[se,q]=I.useState(""),[de,re]=I.useState(""),[be,ke]=I.useState([]),[we,De]=I.useState([]),[_e,je]=I.useState(""),[oe,ve]=I.useState(""),[he,Ee]=I.useState("15:00"),[Z,fe]=I.useState("11:00"),[Ce,Se]=I.useState(0),[He,et]=I.useState([]),[pe,me]=I.useState([]),[Ie,We]=I.useState(null),[Le,st]=I.useState(!1),[Ge,Oe]=I.useState(null),[ut,Fe]=I.useState([]),[ht,Pt]=I.useState(!1),[en,at]=I.useState(!1),[jt,Dt]=I.useState(!1),[Qe,Tt]=I.useState(null),[Ot,$e]=I.useState({}),[bt,$t]=I.useState(!1),[fn,Rn]=I.useState(null);I.useEffect(()=>{vn()},[]);const vn=async()=>{try{const Te=await Ft.get("/hotels");c(Te.data.data||Te.data)}catch(Te){console.error("Error fetching hotels:",Te)}},ai=Te=>Te?Te.startsWith("http")?Te:`${HX}${Te}`:null,ci=async Te=>{if(Te.length<3){Fe([]),Pt(!1);return}try{let Et=Te;_&&_.trim()&&(Et=`${Te}, ${_}`);const Mt=await Ft.get(`/geocoding/search?q=${encodeURIComponent(Et)}&limit=5&addressdetails=1`);Fe(Mt.data),Pt(!0)}catch(Et){console.error("Error fetching address suggestions:",Et)}},Ar=Te=>{N(Te),ci(Te)},nr=Te=>{var Et,Mt,wn;N(Te.display_name),y(((Et=Te.address)==null?void 0:Et.city)||((Mt=Te.address)==null?void 0:Mt.town)||((wn=Te.address)==null?void 0:wn.state)||""),Pt(!1),Fe([])},Li=Te=>{y(Te),v&&v.trim()&&ci(v)},ni=Te=>{const Mt=Array.from(Te.target.files).filter(qt=>{const jn=qt.type.startsWith("image/"),Wn=qt.size<=5*1024*1024;return jn?Wn?!0:(alert(`File ${qt.name} quá lớn (tối đa 5MB)`),!1):(alert(`File ${qt.name} không phải là hình ảnh hợp lệ`),!1)});if(Mt.length===0)return;me(qt=>[...qt,...Mt]);const wn=Mt.map((qt,jn)=>({id:`new-${Date.now()}-${jn}`,image_url:URL.createObjectURL(qt),caption:"",is_primary:He.length===0&&jn===0,sort_order:He.length+jn,file:qt}));et(qt=>[...qt,...wn])},Xn=Te=>{et(He.filter((Et,Mt)=>Mt!==Te)),me(pe.filter((Et,Mt)=>Mt!==Te))},$s=(Te,Et)=>{const Mt=[...He];Mt[Te].caption=Et,et(Mt)},di=Te=>{et(Et=>{if(Te===0)return Et.map((qt,jn)=>({...qt,is_primary:jn===0}));const Mt=[...Et],[wn]=Mt.splice(Te,1);return Mt.unshift({...wn,is_primary:!0}),Mt.map((qt,jn)=>({...qt,is_primary:jn===0}))})},ir=(Te,Et)=>{Rn(Et),Te.dataTransfer.effectAllowed="move"},kr=Te=>{Te.preventDefault(),Te.dataTransfer.dropEffect="move"},rr=(Te,Et)=>{if(Te.preventDefault(),fn===null||fn===Et)return;const Mt=[...He],wn=Mt[fn];Mt.splice(fn,1),Mt.splice(Et,0,wn),Mt.forEach((qt,jn)=>{qt.sort_order=jn,qt.is_primary=jn===0}),et(Mt),Rn(null)},Nr=()=>{Rn(null)},qe=()=>{if(_e.trim()&&!be.includes(_e.trim())){const Te=[...be,_e.trim()];ke(Te),q(JSON.stringify(Te)),je("")}},Zt=Te=>{const Et=be.filter((Mt,wn)=>wn!==Te);ke(Et),q(JSON.stringify(Et))},rt=()=>{if(oe.trim()&&!we.includes(oe.trim())){const Te=[...we,oe.trim()];De(Te),re(JSON.stringify(Te)),ve("")}},Re=Te=>{const Et=we.filter((Mt,wn)=>wn!==Te);De(Et),re(JSON.stringify(Et))},Lt=Te=>{Te.key==="Enter"&&(Te.preventDefault(),qe())},ft=Te=>{Te.key==="Enter"&&(Te.preventDefault(),rt())},Bt=async Te=>{at(!0);try{const Et=await Ft.get(`/geocoding/coordinates?q=${encodeURIComponent(Te)}&limit=1`);return Et.data.success&&Et.data.data?{latitude:Et.data.data.latitude,longitude:Et.data.data.longitude}:null}catch(Et){return console.error("Error getting coordinates:",Et),null}finally{at(!1)}},an=async()=>{try{const Te=await Bt(v);if(!Te){alert("Không thể tìm thấy tọa độ cho địa chỉ này. Vui lòng kiểm tra lại địa chỉ.");return}const Et=[],Mt=ln(He);for(let qt=0;qt<Mt.length;qt++){const jn=Mt[qt];if(jn.file){const Wn=new FormData;Wn.append("file",jn.file);const ii=await Ft.post("/upload",Wn,{headers:{"Content-Type":"multipart/form-data"}});Et.push({url:ii.data.url,caption:jn.caption,is_primary:jn.is_primary,sort_order:qt})}}const wn=await Ft.post("/hotels",{name:s,description:h,latitude:Te.latitude,longitude:Te.longitude,city:_,address:v,phone:S,email:j,website:F,price_range:$,min_price:parseFloat(Q)||0,max_price:parseFloat(ne)||0,amenities:se,room_types:de,check_in_time:he,check_out_time:Z,stars:parseInt(Ce)||0,images:Et});vn(),xt()}catch(Te){console.error("Error creating hotel:",Te),alert("Lỗi khi tạo khách sạn. Vui lòng thử lại.")}},On=Te=>{We(Te.id),o(Te.name),g(Te.description||""),y(Te.city||""),N(Te.address||""),D(Te.phone||""),B(Te.email||""),V(Te.website||""),K(Te.price_range||""),ee(Te.min_price||""),le(Te.max_price||""),q(Te.amenities||""),re(Te.room_types||""),Ee(Te.check_in_time||"15:00"),fe(Te.check_out_time||"11:00"),Se(Te.stars||0),et(Te.images||[]),me([]);try{const Et=Te.amenities?JSON.parse(Te.amenities):[];ke(Array.isArray(Et)?Et:[])}catch{ke([])}try{const Et=Te.room_types?JSON.parse(Te.room_types):[];De(Array.isArray(Et)?Et:[])}catch{De([])}window.scrollTo({top:0,behavior:"smooth"})},Sn=async()=>{var Te;try{const Et=await Bt(v);if(!Et){alert("Không thể tìm thấy tọa độ cho địa chỉ này. Vui lòng kiểm tra lại địa chỉ.");return}const Mt=[],wn=He.filter(pi=>pi.id.toString().startsWith("new-"));console.log("New images to upload:",wn.length);for(let pi=0;pi<wn.length;pi++){const Rr=wn[pi];if(Rr.file){console.log("Uploading image:",Rr.file.name);const Pr=new FormData;Pr.append("file",Rr.file);const mo=await Ft.post("/upload",Pr,{headers:{"Content-Type":"multipart/form-data"}});Mt.push({url:mo.data.url,caption:Rr.caption||"",is_primary:Rr.is_primary||!1,sort_order:Rr.sort_order||0})}}const qt=He.filter(pi=>!pi.id.toString().startsWith("new-")).map(pi=>({url:pi.image_url,caption:pi.caption||"",is_primary:pi.is_primary||!1,sort_order:pi.sort_order||0})),jn=ln([...qt,...Mt]);console.log("Total images to send:",jn.length),console.log("Images data:",jn);const Wn={name:s,description:h,latitude:Et.latitude,longitude:Et.longitude,city:_,address:v,phone:S,email:j,website:F,price_range:$,min_price:parseFloat(Q)||0,max_price:parseFloat(ne)||0,amenities:se,room_types:de,check_in_time:he,check_out_time:Z,stars:parseInt(Ce)||0,images:jn};if(console.log("Update data:",Wn),!Wn.name||!Wn.name.trim()){alert("Tên khách sạn không được để trống");return}if(!Wn.address||!Wn.address.trim()){alert("Địa chỉ không được để trống");return}if(!Wn.latitude||!Wn.longitude){alert("Không thể xác định tọa độ. Vui lòng kiểm tra lại địa chỉ.");return}if(Wn.images&&Wn.images.length>0){for(let pi=0;pi<Wn.images.length;pi++)if(!Wn.images[pi].url){alert(`Ảnh thứ ${pi+1} không có URL hợp lệ`);return}}const ii=await Ft.put(`/hotels/${Ie}`,Wn);console.log("Update response:",ii.data),vn(),We(null),xt()}catch(Et){console.error("Error updating hotel:",Et),console.error("Error response:",(Te=Et.response)==null?void 0:Te.data),alert("Lỗi khi cập nhật khách sạn. Vui lòng thử lại.")}},fi=async Te=>{Oe(Te),st(!0)},ye=async()=>{if(Ge)try{await Ft.delete(`/hotels/${Ge}`),vn(),st(!1),Oe(null)}catch(Te){console.error("Error deleting hotel:",Te)}},dt=()=>{st(!1),Oe(null)},xt=()=>{o(""),g(""),y(""),N(""),D(""),B(""),V(""),K(""),ee(""),le(""),q(""),re(""),ke([]),De([]),je(""),ve(""),Ee("15:00"),fe("11:00"),Se(0),et([]),me([]),Fe([]),Pt(!1)},ln=Te=>{if(!Te.length)return Te;let Et=Te.findIndex(Mt=>Mt.is_primary);return Et===-1&&(Te[0].is_primary=!0),Te.map((Mt,wn)=>({...Mt,is_primary:wn===(Et!==-1?Et:0)}))},qn=Te=>{et(Et=>{if(Te===0)return Et.map((qt,jn)=>({...qt,is_primary:jn===0}));const Mt=[...Et],[wn]=Mt.splice(Te,1);return Mt.unshift({...wn,is_primary:!0}),Mt.map((qt,jn)=>({...qt,is_primary:jn===0}))})};return i.jsxs("div",{className:"admin-layout",children:[i.jsx(yd,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(xd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:Ie?"Chỉnh sửa Khách sạn":"Tạo Khách sạn Mới"})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tên khách sạn *"}),i.jsx("input",{type:"text",className:"form-control",value:s,onChange:Te=>o(Te.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mô tả"}),i.jsx("textarea",{className:"form-control",rows:"3",value:h,onChange:Te=>g(Te.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Thành phố"}),i.jsx(Tb,{value:_,onChange:Li,placeholder:"Chọn thành phố"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Địa chỉ *"}),i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"text",className:"form-control",value:v,onChange:Te=>Ar(Te.target.value),placeholder:_?`Nhập địa chỉ trong ${_}...`:"Nhập địa chỉ để tìm kiếm..."}),en&&i.jsx("div",{className:"position-absolute top-50 end-0 translate-middle-y me-2",children:i.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),ht&&ut.length>0&&i.jsx("div",{className:"position-absolute w-100 bg-white border rounded shadow-sm",style:{zIndex:1e3,top:"100%"},children:ut.map((Te,Et)=>i.jsxs("div",{className:"p-2 border-bottom suggestion-item",style:{cursor:"pointer"},onClick:()=>nr(Te),onMouseEnter:Mt=>Mt.target.style.backgroundColor="#f8f9fa",onMouseLeave:Mt=>Mt.target.style.backgroundColor="white",children:[i.jsx("div",{className:"fw-semibold",children:Te.display_name.split(",")[0]}),i.jsx("div",{className:"small text-muted",children:Te.display_name})]},Et))})]})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Số điện thoại"}),i.jsx("input",{type:"text",className:"form-control",value:S,onChange:Te=>D(Te.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Email"}),i.jsx("input",{type:"email",className:"form-control",value:j,onChange:Te=>B(Te.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Website"}),i.jsx("input",{type:"url",className:"form-control",value:F,onChange:Te=>V(Te.target.value)})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mức giá"}),i.jsxs("select",{className:"form-control",value:$,onChange:Te=>K(Te.target.value),children:[i.jsx("option",{value:"",children:"Chọn mức giá"}),i.jsx("option",{value:"$",children:"$ (Bình dân)"}),i.jsx("option",{value:"$$",children:"$$ (Trung bình)"}),i.jsx("option",{value:"$$$",children:"$$$ (Cao cấp)"}),i.jsx("option",{value:"$$$$",children:"$$$$ (Sang trọng)"})]})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Sao"}),i.jsxs("select",{className:"form-control",value:Ce,onChange:Te=>Se(parseInt(Te.target.value)),children:[i.jsx("option",{value:0,children:"Chọn số sao"}),i.jsx("option",{value:1,children:"1 Sao"}),i.jsx("option",{value:2,children:"2 Sao"}),i.jsx("option",{value:3,children:"3 Sao"}),i.jsx("option",{value:4,children:"4 Sao"}),i.jsx("option",{value:5,children:"5 Sao"})]})]})})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Giá tối thiểu (VND)"}),i.jsx("input",{type:"number",className:"form-control",value:Q,onChange:Te=>ee(Te.target.value)}),Q&&i.jsx("div",{className:"form-text text-success",children:lo(Number(Q))})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Giá tối đa (VND)"}),i.jsx("input",{type:"number",className:"form-control",value:ne,onChange:Te=>le(Te.target.value)}),ne&&i.jsx("div",{className:"form-text text-success",children:lo(Number(ne))})]})})]})]})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tiện ích"}),i.jsxs("div",{className:"input-group",children:[i.jsx("input",{type:"text",className:"form-control",placeholder:"Nhập tiện ích và nhấn Enter hoặc +",value:_e,onChange:Te=>je(Te.target.value),onKeyPress:Lt}),i.jsx("button",{className:"btn btn-outline-primary",type:"button",onClick:qe,children:i.jsx("i",{className:"bi bi-plus"})})]}),be.length>0&&i.jsx("div",{className:"mt-2",children:i.jsx("div",{className:"d-flex flex-wrap gap-1",children:be.map((Te,Et)=>i.jsxs("span",{className:"badge bg-primary d-flex align-items-center gap-1",style:{fontSize:"0.875rem"},children:[Te,i.jsx("button",{type:"button",className:"btn-close btn-close-white",style:{fontSize:"0.5rem"},onClick:()=>Zt(Et)})]},Et))})}),i.jsx("div",{className:"form-text",children:"Gợi ý: WiFi, Hồ bơi, Spa, Gym, Nhà hàng, Bar, Dịch vụ giặt ủi"})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Loại phòng"}),i.jsxs("div",{className:"input-group",children:[i.jsx("input",{type:"text",className:"form-control",placeholder:"Nhập loại phòng và nhấn Enter hoặc +",value:oe,onChange:Te=>ve(Te.target.value),onKeyPress:ft}),i.jsx("button",{className:"btn btn-outline-primary",type:"button",onClick:rt,children:i.jsx("i",{className:"bi bi-plus"})})]}),we.length>0&&i.jsx("div",{className:"mt-2",children:i.jsx("div",{className:"d-flex flex-wrap gap-1",children:we.map((Te,Et)=>i.jsxs("span",{className:"badge bg-success d-flex align-items-center gap-1",style:{fontSize:"0.875rem"},children:[Te,i.jsx("button",{type:"button",className:"btn-close btn-close-white",style:{fontSize:"0.5rem"},onClick:()=>Re(Et)})]},Et))})}),i.jsx("div",{className:"form-text",children:"Gợi ý: Standard, Deluxe, Suite, Executive, Family, Presidential"})]})})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Giờ nhận phòng"}),i.jsx("input",{type:"time",className:"form-control",value:he,onChange:Te=>Ee(Te.target.value)})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Giờ trả phòng"}),i.jsx("input",{type:"time",className:"form-control",value:Z,onChange:Te=>fe(Te.target.value)})]})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[i.jsxs("label",{className:"form-label fw-bold",children:["Hình ảnh (",He.length,")"]}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"form-control",style:{width:"auto"},onChange:ni,id:"hotel-image-upload"}),i.jsxs("label",{htmlFor:"hotel-image-upload",className:"btn btn-outline-primary btn-sm",children:[i.jsx("i",{className:"bi bi-plus-circle me-1"}),"Thêm ảnh"]}),He.length>1&&i.jsxs("button",{className:"btn btn-outline-warning btn-sm",onClick:()=>{window.confirm("Bạn có chắc muốn xóa tất cả ảnh?")&&(et([]),me([]))},children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xóa tất cả"]})]})]}),He.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"alert alert-info",children:[i.jsx("i",{className:"bi bi-info-circle me-2"}),"Kéo thả để sắp xếp lại thứ tự ảnh. Ảnh đầu tiên sẽ là ảnh chính."]}),i.jsx("div",{className:"row",children:He.map((Te,Et)=>i.jsx("div",{className:"col-md-3 col-sm-6 mb-3",onDragStart:Mt=>ir(Mt,Et),onDragOver:kr,onDrop:Mt=>rr(Mt,Et),onDragEnd:Nr,draggable:!0,children:i.jsxs("div",{className:"card h-100 shadow-sm",children:[i.jsxs("div",{className:"position-relative",children:[i.jsx("img",{src:ai(Te.image_url),className:"card-img-top",alt:`Khách sạn ${Et+1}`,style:{height:"200px",objectFit:"cover"},onError:Mt=>{Mt.target.style.display="none"}}),i.jsx("div",{className:"position-absolute top-0 start-0 p-2",children:Te.is_primary&&i.jsxs("span",{className:"badge bg-success",children:[i.jsx("i",{className:"bi bi-star-fill me-1"}),"Chính"]})}),i.jsx("div",{className:"position-absolute top-0 end-0 p-2",children:i.jsxs("span",{className:"badge bg-secondary",children:["#",Et+1]})}),i.jsx("div",{className:"position-absolute bottom-0 start-0 w-100 p-2",style:{background:"linear-gradient(transparent, rgba(0,0,0,0.7))"},children:i.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[i.jsx("button",{type:"button",className:`btn btn-sm ${Te.is_primary?"btn-success":"btn-outline-success"}`,onClick:()=>di(Et),title:Te.is_primary?"Đã là ảnh chính":"Đặt làm ảnh chính",children:i.jsx("i",{className:`bi ${Te.is_primary?"bi-star-fill":"bi-star"}`})}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>Xn(Et),title:"Xóa ảnh",children:i.jsx("i",{className:"bi bi-trash"})})]})})]}),i.jsxs("div",{className:"card-body",children:[i.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Chú thích ảnh...",value:Te.caption,onChange:Mt=>$s(Et,Mt.target.value)}),i.jsx("div",{className:"mt-2",children:i.jsx("small",{className:"text-muted",children:Te.image_url&&Te.image_url.startsWith("blob:")?"Ảnh mới":"Ảnh hiện có"})})]})]})},Te.id))}),i.jsx("div",{className:"mt-3",children:i.jsxs("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>Dt(!jt),children:[i.jsx("i",{className:"bi bi-images me-1"}),jt?"Ẩn":"Xem"," thư viện ảnh"]})}),jt&&i.jsx("div",{className:"mt-3",children:i.jsx("div",{className:"row",children:He.map((Te,Et)=>i.jsx("div",{className:"col-md-2 col-sm-4 col-6 mb-2",children:i.jsxs("div",{className:"position-relative",children:[i.jsx("img",{src:ai(Te.image_url),className:"img-thumbnail",alt:`Khách sạn ${Et+1}`,style:{height:"100px",objectFit:"cover",cursor:"pointer"},onClick:()=>qn(Et),onError:Mt=>{Mt.target.style.display="none"}}),Te.is_primary&&i.jsx("div",{className:"position-absolute top-0 start-0",children:i.jsx("i",{className:"bi bi-star-fill text-warning"})})]})},Et))})})]}),He.length===0&&i.jsxs("div",{className:"text-center py-4 border rounded bg-light",children:[i.jsx("i",{className:"bi bi-images text-muted",style:{fontSize:"3rem"}}),i.jsx("p",{className:"text-muted mt-2",children:"Chưa có hình ảnh nào"}),i.jsx("p",{className:"text-muted small",children:'Nhấn "Thêm ảnh" để bắt đầu'})]})]}),i.jsx("div",{className:"d-flex gap-2",children:Ie?i.jsxs(i.Fragment,{children:[i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:Sn,children:"Cập nhật Khách sạn"}),i.jsx(Ut,{variant:"secondary",onClick:()=>{We(null),xt()},children:"Hủy"})]}):i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:an,children:"Tạo Khách sạn"})})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Tất cả Khách sạn"})}),i.jsx("div",{className:"card-body",children:i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-striped",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Hình ảnh"}),i.jsx("th",{children:"Tên"}),i.jsx("th",{children:"Thành phố"}),i.jsx("th",{children:"Địa chỉ"}),i.jsx("th",{children:"Sao"}),i.jsx("th",{children:"Mức giá"}),i.jsx("th",{children:"Đánh giá"}),i.jsx("th",{children:"Thao tác"})]})}),i.jsx("tbody",{children:l.map(Te=>i.jsxs("tr",{children:[i.jsx("td",{children:Te.id}),i.jsx("td",{children:Te.images&&Te.images.length>0?(()=>{const Et=Te.images.find(Mt=>Mt.is_primary)||Te.images[0];return i.jsx("img",{src:ai(Et.image_url),alt:Te.name,style:{width:"50px",height:"50px",objectFit:"cover"}})})():i.jsx("div",{style:{width:"50px",height:"50px",backgroundColor:"#f8f9fa",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx("i",{className:"bi bi-building"})})}),i.jsx("td",{children:i.jsx(tn,{to:`/hotels/${Te.id}`,children:Te.name})}),i.jsx("td",{children:Te.city}),i.jsx("td",{children:i.jsx("div",{style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Te.address})}),i.jsx("td",{children:Te.stars>0&&i.jsxs("span",{className:"badge bg-warning text-dark",children:[Te.stars," ",i.jsx("i",{className:"bi bi-star-fill"})]})}),i.jsx("td",{children:Te.price_range}),i.jsx("td",{children:Te.rating?Te.rating.toFixed(1):"0.0"}),i.jsx("td",{children:i.jsxs("div",{className:"btn-group",role:"group",children:[i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>On(Te),children:"Sửa"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>fi(Te.id),children:"Xóa"})]})})]},Te.id))})]})})})]})]})})]}),i.jsxs(yt,{show:Le,onHide:dt,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Xác nhận xóa"})}),i.jsx(yt.Body,{children:"Bạn có chắc chắn muốn xóa khách sạn này? Hành động này không thể hoàn tác."}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:dt,children:"Hủy"}),i.jsx(Ut,{variant:"danger",className:"admin-btn-danger",onClick:ye,children:"Xóa"})]})]})]})}function UX(){const[l,c]=I.useState([]),[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(""),[S,D]=I.useState(""),[j,B]=I.useState(""),[F,V]=I.useState(""),[$,K]=I.useState(""),[Q,ee]=I.useState(""),[ne,le]=I.useState(""),[se,q]=I.useState(""),[de,re]=I.useState(""),[be,ke]=I.useState(!1),[we,De]=I.useState(!0),[_e,je]=I.useState(!0),[oe,ve]=I.useState(""),[he,Ee]=I.useState(""),[Z,fe]=I.useState([]),[Ce,Se]=I.useState([]),[He,et]=I.useState([]),[pe,me]=I.useState({day:"",time:""}),[Ie,We]=I.useState(""),[Le,st]=I.useState(""),[Ge,Oe]=I.useState([]),[ut,Fe]=I.useState([]),[ht,Pt]=I.useState(null),[en,at]=I.useState(!1),[jt,Dt]=I.useState(null),[Qe,Tt]=I.useState([]),[Ot,$e]=I.useState(!1),[bt,$t]=I.useState(!1),[fn,Rn]=I.useState(!1),[vn,ai]=I.useState(null),[ci,Ar]=I.useState({}),[nr,Li]=I.useState(!1),[ni,Xn]=I.useState(null),[$s,di]=I.useState(!1),[ir,kr]=I.useState(null),[rr,Nr]=I.useState([]),[qe,Zt]=I.useState(!1),[rt,Re]=I.useState(null),[Lt,ft]=I.useState(!1),[Bt,an]=I.useState(null),[On,Sn]=I.useState(!1),[fi,ye]=I.useState([]),[dt,xt]=I.useState(!1),[ln,qn]=I.useState(null),[Te,Et]=I.useState(null),[Mt,wn]=I.useState(null);I.useEffect(()=>{qt()},[]);const qt=async()=>{try{const xe=await kt.get("https://walkingguide.onrender.com/api/restaurants");c(xe.data.data||xe.data)}catch(xe){console.error("Error fetching restaurants:",xe)}},jn=xe=>xe?xe.startsWith("http")?xe:`https://walkingguide.onrender.com${xe}`:null,Wn=async xe=>{if(xe.length<3){Tt([]),$e(!1);return}try{let Ct=xe;_&&_.trim()&&(Ct=`${xe}, ${_}`);const nn=await kt.get(`https://walkingguide.onrender.com/api/geocoding/search?q=${encodeURIComponent(Ct)}&limit=5&addressdetails=1`);Tt(nn.data),$e(!0)}catch(Ct){console.error("Error fetching address suggestions:",Ct)}},ii=xe=>{N(xe),Wn(xe)},pi=xe=>{var Ct,nn,Dn;N(xe.display_name),y(((Ct=xe.address)==null?void 0:Ct.city)||((nn=xe.address)==null?void 0:nn.town)||((Dn=xe.address)==null?void 0:Dn.state)||""),$e(!1),Tt([])},Rr=xe=>{y(xe),v&&v.trim()&&Wn(v)},Pr=xe=>{const nn=Array.from(xe.target.files).filter(vi=>{const Hi=vi.type.startsWith("image/"),wi=vi.size<=5*1024*1024;return Hi?wi?!0:(alert(`File ${vi.name} quá lớn (tối đa 5MB)`),!1):(alert(`File ${vi.name} không phải là hình ảnh hợp lệ`),!1)});if(nn.length===0)return;Fe(vi=>[...vi,...nn]);const Dn=nn.map((vi,Hi)=>({id:`new-${Date.now()}-${Hi}`,image_url:URL.createObjectURL(vi),caption:"",is_primary:Ge.length===0&&Hi===0,sort_order:Ge.length+Hi,file:vi}));Oe(vi=>[...vi,...Dn])},mo=xe=>{Oe(Ge.filter((Ct,nn)=>nn!==xe)),Fe(ut.filter((Ct,nn)=>nn!==xe))},Nc=(xe,Ct)=>{const nn=[...Ge];nn[xe].caption=Ct,Oe(nn)},_a=xe=>{const Ct=Ge.map((nn,Dn)=>({...nn,is_primary:Dn===xe}));Oe(Ct)},fo=(xe,Ct)=>{Xn(Ct),xe.dataTransfer.effectAllowed="move"},qs=xe=>{xe.preventDefault(),xe.dataTransfer.dropEffect="move"},Kr=(xe,Ct)=>{if(xe.preventDefault(),ni===null||ni===Ct)return;const nn=[...Ge],Dn=nn[ni];nn.splice(ni,1),nn.splice(Ct,0,Dn),nn.forEach((vi,Hi)=>{vi.sort_order=Hi,vi.is_primary=Hi===0}),Oe(nn),Xn(null)},us=()=>{Xn(null)},hs=()=>{if(pe.day.trim()&&pe.time.trim()){const xe=[...Z,{...pe}];fe(xe),re(JSON.stringify(xe)),me({day:"",time:""})}},Fa=xe=>{const Ct=Z.filter((nn,Dn)=>Dn!==xe);fe(Ct),re(JSON.stringify(Ct))},po=()=>{if(Ie.trim()&&!Ce.includes(Ie.trim())){const xe=[...Ce,Ie.trim()];Se(xe),ve(JSON.stringify(xe)),We("")}},Yn=xe=>{const Ct=Ce.filter((nn,Dn)=>Dn!==xe);Se(Ct),ve(JSON.stringify(Ct))},_i=()=>{if(Le.trim()&&!He.includes(Le.trim())){const xe=[...He,Le.trim()];et(xe),Ee(JSON.stringify(xe)),st("")}},_r=xe=>{const Ct=He.filter((nn,Dn)=>Dn!==xe);et(Ct),Ee(JSON.stringify(Ct))},To=xe=>{xe.key==="Enter"&&(xe.preventDefault(),po())},Jo=xe=>{xe.key==="Enter"&&(xe.preventDefault(),_i())},Qr=async xe=>{$t(!0);try{const Ct=await kt.get(`https://walkingguide.onrender.com/api/geocoding/coordinates?q=${encodeURIComponent(xe)}&limit=1`);return Ct.data.success&&Ct.data.data?{latitude:Ct.data.data.latitude,longitude:Ct.data.data.longitude}:null}catch(Ct){return console.error("Error getting coordinates:",Ct),null}finally{$t(!1)}},Nn=async()=>{try{const xe=await Qr(v);if(!xe){alert("Không thể tìm thấy tọa độ cho địa chỉ này. Vui lòng kiểm tra lại địa chỉ.");return}const Ct=[];for(let Dn=0;Dn<ut.length;Dn++){const vi=new FormData;vi.append("file",ut[Dn]);const Hi=await kt.post("https://walkingguide.onrender.com/api/upload",vi,{headers:{"Content-Type":"multipart/form-data"}});Ct.push({url:Hi.data.url,caption:Ge[Dn].caption,is_primary:Ge[Dn].is_primary,sort_order:Dn})}const nn=await kt.post("https://walkingguide.onrender.com/api/restaurants",{name:s,description:h,latitude:xe.latitude,longitude:xe.longitude,city:_,address:v,phone:S,email:j,website:F,cuisine_type:$,price_range:Q,min_price:parseFloat(ne)||0,max_price:parseFloat(se)||0,opening_hours:de,delivery_available:be,takeout_available:we,dine_in_available:_e,dietary_options:oe,features:he,images:Ct});qt(),Ws()}catch(xe){console.error("Error creating restaurant:",xe),alert("Lỗi khi tạo nhà hàng. Vui lòng thử lại.")}},Gn=xe=>{Pt(xe.id),o(xe.name),g(xe.description||""),y(xe.city||""),N(xe.address||""),D(xe.phone||""),B(xe.email||""),V(xe.website||""),K(xe.cuisine_type||""),ee(xe.price_range||""),le(xe.min_price||""),q(xe.max_price||""),re(xe.opening_hours||""),ke(xe.delivery_available||!1),De(xe.takeout_available!==!1),je(xe.dine_in_available!==!1),ve(xe.dietary_options||""),Ee(xe.features||""),Oe(xe.images||[]),Fe([]);try{const Ct=xe.opening_hours?JSON.parse(xe.opening_hours):[];fe(Array.isArray(Ct)?Ct:[])}catch{fe([])}try{const Ct=xe.dietary_options?JSON.parse(xe.dietary_options):[];Se(Array.isArray(Ct)?Ct:[])}catch{Se([])}try{const Ct=xe.features?JSON.parse(xe.features):[];et(Array.isArray(Ct)?Ct:[])}catch{et([])}window.scrollTo({top:0,behavior:"smooth"})},Er=async()=>{var xe;try{const Ct=await Qr(v);if(!Ct){alert("Không thể tìm thấy tọa độ cho địa chỉ này. Vui lòng kiểm tra lại địa chỉ.");return}const nn=[],Dn=Ge.filter(Xt=>Xt.id.toString().startsWith("new-"));console.log("New images to upload:",Dn.length);for(let Xt=0;Xt<Dn.length;Xt++){const qi=Dn[Xt];if(qi.file){console.log("Uploading image:",qi.file.name);const Jn=new FormData;Jn.append("file",qi.file);const fs=await kt.post("https://walkingguide.onrender.com/api/upload",Jn,{headers:{"Content-Type":"multipart/form-data"}});nn.push({url:fs.data.url,caption:qi.caption||"",is_primary:qi.is_primary||!1,sort_order:qi.sort_order||0})}}const Hi=[...Ge.filter(Xt=>!Xt.id.toString().startsWith("new-")).map(Xt=>({url:Xt.image_url,caption:Xt.caption||"",is_primary:Xt.is_primary||!1,sort_order:Xt.sort_order||0})),...nn];console.log("Total images to send:",Hi.length),console.log("Images data:",Hi);const wi={name:s,description:h,latitude:Ct.latitude,longitude:Ct.longitude,city:_,address:v,phone:S,email:j,website:F,cuisine_type:$,price_range:Q,min_price:parseFloat(ne)||0,max_price:parseFloat(se)||0,opening_hours:de,delivery_available:be,takeout_available:we,dine_in_available:_e,dietary_options:oe,features:he,images:Hi};if(console.log("Update data:",wi),!wi.name||!wi.name.trim()){alert("Tên nhà hàng không được để trống");return}if(!wi.address||!wi.address.trim()){alert("Địa chỉ không được để trống");return}if(!wi.latitude||!wi.longitude){alert("Không thể xác định tọa độ. Vui lòng kiểm tra lại địa chỉ.");return}if(wi.images&&wi.images.length>0){for(let Xt=0;Xt<wi.images.length;Xt++)if(!wi.images[Xt].url){alert(`Ảnh thứ ${Xt+1} không có URL hợp lệ`);return}}const hl=await kt.put(`https://walkingguide.onrender.com/api/restaurants/${ht}`,wi);console.log("Update response:",hl.data),qt(),Pt(null),Ws()}catch(Ct){console.error("Error updating restaurant:",Ct),console.error("Error response:",(xe=Ct.response)==null?void 0:xe.data),alert("Lỗi khi cập nhật nhà hàng. Vui lòng thử lại.")}},Mi=async xe=>{Dt(xe),at(!0)},Ei=async()=>{if(jt)try{await kt.delete(`https://walkingguide.onrender.com/api/restaurants/${jt}`),qt(),at(!1),Dt(null)}catch(xe){console.error("Error deleting restaurant:",xe)}},Ha=()=>{at(!1),Dt(null)},Ws=()=>{o(""),g(""),y(""),N(""),D(""),B(""),V(""),K(""),ee(""),le(""),q(""),re(""),ke(!1),De(!0),je(!0),ve(""),Ee(""),fe([]),Se([]),et([]),me({day:"",time:""}),We(""),st(""),Oe([]),Fe([]),Tt([]),$e(!1)},$i=async xe=>{kr(xe),di(!0),Zt(!0);try{const nn=(await kt.get(`https://walkingguide.onrender.com/api/restaurants/${xe.id}/menus`)).data.data||[];Nr(nn),nn.length>0?(wn(nn[0]),Vn(nn[0].id)):(wn(null),ye([]))}catch{Nr([]),wn(null),ye([])}finally{Zt(!1)}},Vn=async xe=>{xt(!0);try{const Ct=await kt.get(`https://walkingguide.onrender.com/api/restaurants/menus/${xe}/items`);ye(Ct.data.data||[])}catch{ye([])}finally{xt(!1)}},zr=async xe=>{if(confirm("Bạn có chắc chắn muốn xóa mục thực đơn này?"))try{await kt.delete(`https://walkingguide.onrender.com/api/restaurants/menus/${xe}`);const Ct=await kt.get(`https://walkingguide.onrender.com/api/restaurants/${ir.id}/menus`);Nr(Ct.data.data||[]),ft(!1),Re(null)}catch{alert("Xóa mục thực đơn thất bại.")}},Sr=async()=>{if(!(!ir||!(rt!=null&&rt.name)))try{rt.id?await kt.put(`https://walkingguide.onrender.com/api/restaurants/menus/${rt.id}`,{name:rt.name,description:rt.description}):await kt.post("https://walkingguide.onrender.com/api/restaurants/menus",{restaurant_id:ir.id,name:rt.name,description:rt.description});const xe=await kt.get(`https://walkingguide.onrender.com/api/restaurants/${ir.id}/menus`);Nr(xe.data.data||[]),ft(!1),Re(null)}catch{alert("Lưu mục thực đơn thất bại.")}},ms=async xe=>{if(confirm("Bạn có chắc chắn muốn xóa mục thực đơn này?"))try{await kt.delete(`https://walkingguide.onrender.com/api/restaurants/menu-items/${xe}`);const Ct=await kt.get(`https://walkingguide.onrender.com/api/restaurants/menus/${rt.id}/items`);ye(Ct.data.data||[]),an(null)}catch{alert("Xóa mục thực đơn thất bại.")}},Ys=async()=>{if(!Mt||!(Bt!=null&&Bt.name))return;let xe=Bt.image_url||"";try{if(ln){const nn=new FormData;nn.append("file",ln),xe=(await Ft.post("/upload",nn,{headers:{"Content-Type":"multipart/form-data"}})).data.url}Bt.id?await kt.put(`https://walkingguide.onrender.com/api/restaurants/menu-items/${Bt.id}`,{name:Bt.name,description:Bt.description,price:Bt.price,image_url:xe}):await kt.post("https://walkingguide.onrender.com/api/restaurants/menu-items",{menu_id:Mt.id,name:Bt.name,description:Bt.description,price:Bt.price,image_url:xe});const Ct=await kt.get(`https://walkingguide.onrender.com/api/restaurants/menus/${Mt.id}/items`);ye(Ct.data.data||[]),an(null),qn(null),Et(null),Sn(!1)}catch{alert("Lưu mục thực đơn thất bại.")}},xs=xe=>{const Ct=xe.target.files[0];Ct&&(qn(Ct),Et(URL.createObjectURL(Ct)),an(nn=>({...nn,image_url:""})))},Gs=xe=>{wn(xe),Vn(xe.id)};return i.jsxs("div",{className:"admin-layout",children:[i.jsx(yd,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(xd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:ht?"Chỉnh sửa Nhà hàng":"Tạo Nhà hàng Mới"})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tên nhà hàng *"}),i.jsx("input",{type:"text",className:"form-control",value:s,onChange:xe=>o(xe.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mô tả"}),i.jsx("textarea",{className:"form-control",rows:"3",value:h,onChange:xe=>g(xe.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Thành phố"}),i.jsx(Tb,{value:_,onChange:Rr,placeholder:"Chọn thành phố"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Địa chỉ *"}),i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"text",className:"form-control",value:v,onChange:xe=>ii(xe.target.value),placeholder:_?`Nhập địa chỉ trong ${_}...`:"Nhập địa chỉ để tìm kiếm..."}),bt&&i.jsx("div",{className:"position-absolute top-50 end-0 translate-middle-y me-2",children:i.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),Ot&&Qe.length>0&&i.jsx("div",{className:"position-absolute w-100 bg-white border rounded shadow-sm",style:{zIndex:1e3,top:"100%"},children:Qe.map((xe,Ct)=>i.jsxs("div",{className:"p-2 border-bottom suggestion-item",style:{cursor:"pointer"},onClick:()=>pi(xe),onMouseEnter:nn=>nn.target.style.backgroundColor="#f8f9fa",onMouseLeave:nn=>nn.target.style.backgroundColor="white",children:[i.jsx("div",{className:"fw-semibold",children:xe.display_name.split(",")[0]}),i.jsx("div",{className:"small text-muted",children:xe.display_name})]},Ct))})]})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Số điện thoại"}),i.jsx("input",{type:"text",className:"form-control",value:S,onChange:xe=>D(xe.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Email"}),i.jsx("input",{type:"email",className:"form-control",value:j,onChange:xe=>B(xe.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Website"}),i.jsx("input",{type:"url",className:"form-control",value:F,onChange:xe=>V(xe.target.value)})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Loại ẩm thực"}),i.jsx("input",{type:"text",className:"form-control",placeholder:"VD: Việt Nam, Ý, Nhật",value:$,onChange:xe=>K(xe.target.value)})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mức giá"}),i.jsxs("select",{className:"form-control",value:Q,onChange:xe=>ee(xe.target.value),children:[i.jsx("option",{value:"",children:"Chọn mức giá"}),i.jsx("option",{value:"$",children:"$ (Bình dân)"}),i.jsx("option",{value:"$$",children:"$$ (Trung bình)"}),i.jsx("option",{value:"$$$",children:"$$$ (Cao cấp)"}),i.jsx("option",{value:"$$$$",children:"$$$$ (Sang trọng)"})]})]})})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Giá tối thiểu (VND)"}),i.jsx("input",{type:"number",className:"form-control",value:ne,onChange:xe=>le(xe.target.value)})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Giá tối đa (VND)"}),i.jsx("input",{type:"number",className:"form-control",value:se,onChange:xe=>q(xe.target.value)})]})})]})]})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Giờ mở cửa"}),i.jsxs("div",{className:"row g-2 mb-2",children:[i.jsx("div",{className:"col-5",children:i.jsxs("select",{className:"form-control",value:pe.day,onChange:xe=>me({...pe,day:xe.target.value}),children:[i.jsx("option",{value:"",children:"Chọn ngày"}),i.jsx("option",{value:"Thứ 2",children:"Thứ 2"}),i.jsx("option",{value:"Thứ 3",children:"Thứ 3"}),i.jsx("option",{value:"Thứ 4",children:"Thứ 4"}),i.jsx("option",{value:"Thứ 5",children:"Thứ 5"}),i.jsx("option",{value:"Thứ 6",children:"Thứ 6"}),i.jsx("option",{value:"Thứ 7",children:"Thứ 7"}),i.jsx("option",{value:"Chủ nhật",children:"Chủ nhật"}),i.jsx("option",{value:"Tất cả các ngày",children:"Tất cả các ngày"})]})}),i.jsx("div",{className:"col-5",children:i.jsx("input",{type:"text",className:"form-control",placeholder:"VD: 09:00-22:00",value:pe.time,onChange:xe=>me({...pe,time:xe.target.value})})}),i.jsx("div",{className:"col-2",children:i.jsx("button",{className:"btn btn-outline-primary w-100",type:"button",onClick:hs,children:i.jsx("i",{className:"bi bi-plus"})})})]}),Z.length>0&&i.jsx("div",{className:"mt-2",children:i.jsx("div",{className:"d-flex flex-column gap-1",children:Z.map((xe,Ct)=>i.jsxs("div",{className:"d-flex justify-content-between align-items-center p-2 border rounded bg-light",children:[i.jsxs("span",{className:"fw-semibold",children:[xe.day,":"]}),i.jsx("span",{children:xe.time}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>Fa(Ct),children:i.jsx("i",{className:"bi bi-trash"})})]},Ct))})}),i.jsx("div",{className:"form-text",children:"Gợi ý: 09:00-22:00, 07:00-23:00, 24/7"})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Dịch vụ"}),i.jsxs("div",{className:"form-check",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",checked:be,onChange:xe=>ke(xe.target.checked)}),i.jsx("label",{className:"form-check-label",children:"Giao hàng"})]}),i.jsxs("div",{className:"form-check",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",checked:we,onChange:xe=>De(xe.target.checked)}),i.jsx("label",{className:"form-check-label",children:"Mang về"})]}),i.jsxs("div",{className:"form-check",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",checked:_e,onChange:xe=>je(xe.target.checked)}),i.jsx("label",{className:"form-check-label",children:"Dùng tại chỗ"})]})]})})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tùy chọn ăn kiêng"}),i.jsxs("div",{className:"input-group",children:[i.jsx("input",{type:"text",className:"form-control",placeholder:"Nhập tùy chọn ăn kiêng và nhấn Enter hoặc +",value:Ie,onChange:xe=>We(xe.target.value),onKeyPress:To}),i.jsx("button",{className:"btn btn-outline-primary",type:"button",onClick:po,children:i.jsx("i",{className:"bi bi-plus"})})]}),Ce.length>0&&i.jsx("div",{className:"mt-2",children:i.jsx("div",{className:"d-flex flex-wrap gap-1",children:Ce.map((xe,Ct)=>i.jsxs("span",{className:"badge bg-info d-flex align-items-center gap-1",style:{fontSize:"0.875rem"},children:[xe,i.jsx("button",{type:"button",className:"btn-close btn-close-white",style:{fontSize:"0.5rem"},onClick:()=>Yn(Ct)})]},Ct))})}),i.jsx("div",{className:"form-text",children:"Gợi ý: Chay, Thuần chay, Không gluten, Không sữa, Hải sản"})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tính năng"}),i.jsxs("div",{className:"input-group",children:[i.jsx("input",{type:"text",className:"form-control",placeholder:"Nhập tính năng và nhấn Enter hoặc +",value:Le,onChange:xe=>st(xe.target.value),onKeyPress:Jo}),i.jsx("button",{className:"btn btn-outline-primary",type:"button",onClick:_i,children:i.jsx("i",{className:"bi bi-plus"})})]}),He.length>0&&i.jsx("div",{className:"mt-2",children:i.jsx("div",{className:"d-flex flex-wrap gap-1",children:He.map((xe,Ct)=>i.jsxs("span",{className:"badge bg-warning text-dark d-flex align-items-center gap-1",style:{fontSize:"0.875rem"},children:[xe,i.jsx("button",{type:"button",className:"btn-close",style:{fontSize:"0.5rem"},onClick:()=>_r(Ct)})]},Ct))})}),i.jsx("div",{className:"form-text",children:"Gợi ý: Chỗ ngồi ngoài trời, Nhạc sống, Ghép rượu, WiFi, Đỗ xe"})]})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[i.jsxs("label",{className:"form-label fw-bold",children:["Hình ảnh (",Ge.length,")"]}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"form-control",style:{width:"auto"},onChange:Pr,id:"restaurant-image-upload"}),i.jsxs("label",{htmlFor:"restaurant-image-upload",className:"btn btn-outline-primary btn-sm",children:[i.jsx("i",{className:"bi bi-plus-circle me-1"}),"Thêm ảnh"]}),Ge.length>1&&i.jsxs("button",{className:"btn btn-outline-warning btn-sm",onClick:()=>{window.confirm("Bạn có chắc muốn xóa tất cả ảnh?")&&(Oe([]),Fe([]))},children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xóa tất cả"]})]})]}),Ge.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"alert alert-info",children:[i.jsx("i",{className:"bi bi-info-circle me-2"}),"Kéo thả để sắp xếp lại thứ tự ảnh. Ảnh đầu tiên sẽ là ảnh chính."]}),i.jsx("div",{className:"row",children:Ge.map((xe,Ct)=>i.jsx("div",{className:"col-md-3 col-sm-6 mb-3",onDragStart:nn=>fo(nn,Ct),onDragOver:qs,onDrop:nn=>Kr(nn,Ct),onDragEnd:us,draggable:!0,children:i.jsxs("div",{className:"card h-100 shadow-sm",children:[i.jsxs("div",{className:"position-relative",children:[i.jsx("img",{src:jn(xe.image_url),className:"card-img-top",alt:`Nhà hàng ${Ct+1}`,style:{height:"200px",objectFit:"cover"},onError:nn=>{nn.target.style.display="none"}}),i.jsx("div",{className:"position-absolute top-0 start-0 p-2",children:xe.is_primary&&i.jsxs("span",{className:"badge bg-success",children:[i.jsx("i",{className:"bi bi-star-fill me-1"}),"Chính"]})}),i.jsx("div",{className:"position-absolute top-0 end-0 p-2",children:i.jsxs("span",{className:"badge bg-secondary",children:["#",Ct+1]})}),i.jsx("div",{className:"position-absolute bottom-0 start-0 w-100 p-2",style:{background:"linear-gradient(transparent, rgba(0,0,0,0.7))"},children:i.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[i.jsx("button",{className:`btn btn-sm ${xe.is_primary?"btn-success":"btn-outline-success"}`,onClick:()=>_a(Ct),title:xe.is_primary?"Đã là ảnh chính":"Đặt làm ảnh chính",children:i.jsx("i",{className:`bi ${xe.is_primary?"bi-star-fill":"bi-star"}`})}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>mo(Ct),title:"Xóa ảnh",children:i.jsx("i",{className:"bi bi-trash"})})]})})]}),i.jsxs("div",{className:"card-body",children:[i.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Chú thích ảnh...",value:xe.caption,onChange:nn=>Nc(Ct,nn.target.value)}),i.jsx("div",{className:"mt-2",children:i.jsx("small",{className:"text-muted",children:xe.image_url&&xe.image_url.startsWith("blob:")?"Ảnh mới":"Ảnh hiện có"})})]})]})},xe.id))}),i.jsx("div",{className:"mt-3",children:i.jsxs("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>Rn(!fn),children:[i.jsx("i",{className:"bi bi-images me-1"}),fn?"Ẩn":"Xem"," thư viện ảnh"]})}),fn&&i.jsx("div",{className:"mt-3",children:i.jsx("div",{className:"row",children:Ge.map((xe,Ct)=>i.jsx("div",{className:"col-md-2 col-sm-4 col-6 mb-2",children:i.jsxs("div",{className:"position-relative",children:[i.jsx("img",{src:jn(xe.image_url),className:"img-thumbnail",alt:`Nhà hàng ${Ct+1}`,style:{height:"100px",objectFit:"cover",cursor:"pointer"},onClick:()=>ai(xe),onError:nn=>{nn.target.style.display="none"}}),xe.is_primary&&i.jsx("div",{className:"position-absolute top-0 start-0",children:i.jsx("i",{className:"bi bi-star-fill text-warning"})})]})},Ct))})})]}),Ge.length===0&&i.jsxs("div",{className:"text-center py-4 border rounded bg-light",children:[i.jsx("i",{className:"bi bi-images text-muted",style:{fontSize:"3rem"}}),i.jsx("p",{className:"text-muted mt-2",children:"Chưa có hình ảnh nào"}),i.jsx("p",{className:"text-muted small",children:'Nhấn "Thêm ảnh" để bắt đầu'})]})]}),i.jsx("div",{className:"d-flex gap-2",children:ht?i.jsxs(i.Fragment,{children:[i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:Er,children:"Cập nhật Nhà hàng"}),i.jsx(Ut,{variant:"secondary",onClick:()=>{Pt(null),Ws()},children:"Hủy"})]}):i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:Nn,children:"Tạo Nhà hàng"})})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Tất cả Nhà hàng"})}),i.jsx("div",{className:"card-body",children:i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-striped",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Hình ảnh"}),i.jsx("th",{children:"Tên"}),i.jsx("th",{children:"Ẩm thực"}),i.jsx("th",{children:"Thành phố"}),i.jsx("th",{children:"Địa chỉ"}),i.jsx("th",{children:"Mức giá"}),i.jsx("th",{children:"Đánh giá"}),i.jsx("th",{children:"Thao tác"})]})}),i.jsx("tbody",{children:l.map(xe=>i.jsxs("tr",{children:[i.jsx("td",{children:xe.id}),i.jsx("td",{children:xe.images&&xe.images.length>0?i.jsx("img",{src:jn(xe.images[0].image_url),alt:xe.name,style:{width:"50px",height:"50px",objectFit:"cover"}}):i.jsx("div",{style:{width:"50px",height:"50px",backgroundColor:"#f8f9fa",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx("i",{className:"bi bi-cup-hot"})})}),i.jsx("td",{children:i.jsx(tn,{to:`/restaurants/${xe.id}`,children:xe.name})}),i.jsx("td",{children:xe.cuisine_type&&i.jsx("span",{className:"badge bg-primary",children:xe.cuisine_type})}),i.jsx("td",{children:xe.city}),i.jsx("td",{children:i.jsx("div",{style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:xe.address})}),i.jsx("td",{children:xe.price_range}),i.jsx("td",{children:xe.rating?xe.rating.toFixed(1):"0.0"}),i.jsx("td",{children:i.jsxs("div",{className:"btn-group",role:"group",children:[i.jsx(Ut,{variant:"outline-primary",size:"sm",onClick:()=>$i(xe),children:"Quản lý thực đơn"}),i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>Gn(xe),children:"Sửa"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>Mi(xe.id),children:"Xóa"})]})})]},xe.id))})]})})})]})]})})]}),i.jsxs(yt,{show:en,onHide:Ha,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Xác nhận xóa"})}),i.jsx(yt.Body,{children:"Bạn có chắc chắn muốn xóa nhà hàng này? Hành động này không thể hoàn tác."}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:Ha,children:"Hủy"}),i.jsx(Ut,{variant:"danger",className:"admin-btn-danger",onClick:Ei,children:"Xóa"})]})]}),i.jsxs(yt,{show:$s,onHide:()=>di(!1),size:"lg",centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsxs(yt.Title,{children:["Quản lý thực đơn cho ",ir==null?void 0:ir.name]})}),i.jsxs(yt.Body,{children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[i.jsx("h6",{children:"Các mục thực đơn"}),i.jsxs(Ut,{variant:"outline-primary",onClick:()=>ft(!0),children:[i.jsx("i",{className:"bi bi-plus-circle me-1"}),"Thêm mục thực đơn"]})]}),qe?i.jsx("div",{className:"text-center py-4",children:i.jsx("div",{className:"spinner-border text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):rr.length===0?i.jsx("p",{children:"Chưa có mục thực đơn nào cho nhà hàng này."}):i.jsx("div",{className:"list-group",children:rr.map(xe=>i.jsxs("div",{className:"list-group-item d-flex justify-content-between align-items-center",children:[i.jsxs("div",{children:[i.jsx("h6",{className:"mb-1",children:xe.name}),i.jsx("p",{className:"mb-0 text-muted",children:xe.description})]}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsxs(Ut,{variant:"outline-info",size:"sm",onClick:()=>Vn(xe.id),children:[i.jsx("i",{className:"bi bi-list-ul me-1"}),"Xem mục"]}),i.jsxs(Ut,{variant:"outline-warning",size:"sm",onClick:()=>Re(xe),children:[i.jsx("i",{className:"bi bi-pencil-square me-1"}),"Sửa"]}),i.jsxs(Ut,{variant:"outline-danger",size:"sm",onClick:()=>zr(xe.id),children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xóa"]})]})]},xe.id))}),i.jsxs("div",{className:"d-flex gap-2 mb-3",children:[rr.map(xe=>i.jsx(Ut,{variant:Mt&&Mt.id===xe.id?"primary":"outline-primary",size:"sm",onClick:()=>Gs(xe),children:xe.name},xe.id)),i.jsxs(Ut,{variant:"outline-success",size:"sm",onClick:()=>ft(!0),children:[i.jsx("i",{className:"bi bi-plus-circle me-1"})," Thêm mục thực đơn"]})]}),Mt?i.jsxs("div",{children:[i.jsxs("h6",{children:["Món ăn trong mục: ",Mt.name]}),dt?i.jsx("div",{className:"text-center py-4",children:i.jsx("div",{className:"spinner-border text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):fi.length===0?i.jsx("p",{children:"Chưa có món ăn nào trong mục này."}):i.jsx("div",{className:"list-group",children:fi.map(xe=>i.jsxs("div",{className:"list-group-item d-flex justify-content-between align-items-center",children:[i.jsxs("div",{children:[i.jsx("h6",{className:"mb-1",children:xe.name}),i.jsx("p",{className:"mb-0 text-muted",children:xe.description}),i.jsxs("p",{className:"mb-0 text-muted",children:["Giá: ",xe.price?xe.price.toLocaleString("vi-VN")+" VND":"---"]}),xe.image_url&&i.jsx("img",{src:xe.image_url.startsWith("http")?xe.image_url:`https://walkingguide.onrender.com${xe.image_url}`,alt:xe.name,style:{maxWidth:80,borderRadius:8,marginTop:4}})]}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsxs(Ut,{variant:"outline-warning",size:"sm",onClick:()=>an(xe),children:[i.jsx("i",{className:"bi bi-pencil-square me-1"}),"Sửa"]}),i.jsxs(Ut,{variant:"outline-danger",size:"sm",onClick:()=>ms(xe.id),children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xóa"]})]})]},xe.id))}),i.jsx(Ut,{className:"mt-3",variant:"primary",onClick:()=>{an({name:"",description:"",price:"",image_url:""}),qn(null),Et(null),Sn(!0)},children:"Thêm món ăn"})]}):i.jsx("div",{className:"text-muted",children:"Chưa có mục thực đơn nào. Hãy thêm mục thực đơn trước."})]}),i.jsx(yt.Footer,{children:i.jsx(Ut,{variant:"secondary",onClick:()=>di(!1),children:"Đóng"})})]}),i.jsxs(yt,{show:Lt,onHide:()=>ft(!1),children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:rt?"Sửa mục thực đơn":"Thêm mục thực đơn"})}),i.jsxs(yt.Body,{children:[i.jsxs(mn.Group,{className:"mb-3",children:[i.jsx(mn.Label,{children:"Tên mục thực đơn *"}),i.jsx(mn.Control,{type:"text",value:(rt==null?void 0:rt.name)||"",onChange:xe=>Re({...rt,name:xe.target.value}),required:!0})]}),i.jsxs(mn.Group,{className:"mb-3",children:[i.jsx(mn.Label,{children:"Mô tả (tùy chọn)"}),i.jsx(mn.Control,{type:"text",value:(rt==null?void 0:rt.description)||"",onChange:xe=>Re({...rt,description:xe.target.value})})]})]}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:()=>ft(!1),children:"Hủy"}),i.jsx(Ut,{variant:"primary",onClick:Sr,children:rt?"Cập nhật":"Thêm"})]})]}),i.jsxs(yt,{show:On,onHide:()=>Sn(!1),children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:Bt?"Sửa mục thực đơn":"Thêm mục thực đơn"})}),i.jsxs(yt.Body,{children:[i.jsxs(mn.Group,{className:"mb-3",children:[i.jsx(mn.Label,{children:"Tên mục thực đơn *"}),i.jsx(mn.Control,{type:"text",value:(Bt==null?void 0:Bt.name)||"",onChange:xe=>an({...Bt,name:xe.target.value}),required:!0})]}),i.jsxs(mn.Group,{className:"mb-3",children:[i.jsx(mn.Label,{children:"Mô tả (tùy chọn)"}),i.jsx(mn.Control,{type:"text",value:(Bt==null?void 0:Bt.description)||"",onChange:xe=>an({...Bt,description:xe.target.value})})]}),i.jsxs(mn.Group,{className:"mb-3",children:[i.jsx(mn.Label,{children:"Giá (VND)"}),i.jsx(mn.Control,{type:"number",value:(Bt==null?void 0:Bt.price)||"",onChange:xe=>an({...Bt,price:xe.target.value}),required:!0})]}),i.jsxs(mn.Group,{className:"mb-3",children:[i.jsx(mn.Label,{children:"Hình ảnh món ăn"}),i.jsx(mn.Control,{type:"file",accept:"image/*",onChange:xs}),Te&&i.jsx("img",{src:Te,alt:"Preview",style:{maxWidth:120,marginTop:8,borderRadius:8}}),!Te&&(Bt==null?void 0:Bt.image_url)&&i.jsx("img",{src:Bt.image_url.startsWith("http")?Bt.image_url:`https://walkingguide.onrender.com${Bt.image_url}`,alt:"Preview",style:{maxWidth:120,marginTop:8,borderRadius:8}})]})]}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:()=>Sn(!1),children:"Hủy"}),i.jsx(Ut,{variant:"primary",onClick:Ys,children:Bt?"Cập nhật":"Thêm"})]})]})]})}const $X="https://walkingguide.onrender.com/api",sB={getByTourId:l=>kt.get(`${$X}/tour-steps/by-tour/${l}`)},KC="https://walkingguide.onrender.com";function qX(){const{user:l}=I.useContext(ds),[c,s]=I.useState([]),[o,h]=I.useState(""),[g,_]=I.useState(""),[y,v]=I.useState(null),[N,S]=I.useState(""),[D,j]=I.useState(null),[B,F]=I.useState(!1),[V,$]=I.useState([]),[K,Q]=I.useState([]),[ee,ne]=I.useState({}),[le,se]=I.useState({}),[q,de]=I.useState(0),[re,be]=I.useState(""),[ke,we]=I.useState(""),[De,_e]=I.useState(!1),[je,oe]=I.useState(""),[ve,he]=I.useState("danger"),[Ee,Z]=I.useState(!1),[fe,Ce]=I.useState(null),[Se,He]=I.useState([]),et=async()=>{const Qe=await kt.get(`${KC}/api/tours?role=ADMIN`);s(Qe.data);const Tt={};await Promise.all(Qe.data.map(async Ot=>{try{const $e=await sB.getByTourId(Ot.id);Tt[Ot.id]=$e.data}catch{Tt[Ot.id]=[]}})),ne(Tt)},pe=I.useCallback(async()=>{const Qe=await kt.get(`${KC}/api/tours/pending/user`);He(Qe.data)},[]);I.useEffect(()=>{et(),pe(),kb.getAll().then(Qe=>$(Qe.data)).catch(()=>$([]))},[pe]);const me=Qe=>{const Tt=Qe.target.files[0];if(Tt){v(Tt);const Ot=new FileReader;Ot.onload=$e=>S($e.target.result),Ot.readAsDataURL(Tt)}},Ie=async Qe=>{const Tt=new FormData;return Tt.append("file",Qe),(await kt.post(`${KC}/api/upload`,Tt,{headers:{"Content-Type":"multipart/form-data"}})).data.url},We=Qe=>{K.includes(Qe)||(Q([...K,Qe]),se(Tt=>({...Tt,[Qe]:{day:1,stay_duration:60,start_time:"",end_time:""}})))},Le=Qe=>{Q(K.filter(Tt=>Tt!==Qe)),se(Tt=>{const Ot={...Tt};return delete Ot[Qe],Ot})},st=(Qe,Tt,Ot)=>{se($e=>({...$e,[Qe]:{...$e[Qe],[Tt]:Ot}}))},Ge=(Qe,Tt)=>{const Ot=[...K],$e=Ot[Qe];Ot.splice(Qe,1),Ot.splice(Qe+Tt,0,$e),Q(Ot)},Oe=async()=>{if(!l){oe("Bạn cần đăng nhập để tạo tour."),he("warning"),_e(!0);return}F(!0);try{let Qe="";y&&(Qe=await Ie(y));const Tt=K.map((Ot,$e)=>{var bt,$t;return{place_id:Ot,step_order:$e+1,day:((bt=le[Ot])==null?void 0:bt.day)||1,stay_duration:Number(($t=le[Ot])==null?void 0:$t.stay_duration)||60}});await kt.post("https://walkingguide.onrender.com/api/tours",{name:o,description:g,image_url:Qe,user_id:l.id,total_cost:parseFloat(q)||0,steps:Tt}),et(),Dt()}catch(Qe){console.error("Error creating tour:",Qe),oe("Có lỗi xảy ra khi tạo tour"),he("danger"),_e(!0)}finally{F(!1)}},ut=Qe=>{j(Qe.id),h(Qe.name),_(Qe.description),v(null),S(Qe.image_url||""),de(Qe.total_cost?Qe.total_cost.toString():"0");const Tt=ee[Qe.id]||[];Q(Tt.sort(($e,bt)=>$e.step_order-bt.step_order).map($e=>$e.place_id));const Ot={};Tt.forEach($e=>{Ot[$e.place_id]={day:$e.day||1,stay_duration:$e.stay_duration||60}}),se(Ot),window.scrollTo({top:0,behavior:"smooth"})},Fe=async()=>{F(!0);try{let Qe=N;y&&(Qe=await Ie(y));const Tt=K.map((Ot,$e)=>{var bt,$t;return{place_id:Ot,step_order:$e+1,day:((bt=le[Ot])==null?void 0:bt.day)||1,stay_duration:Number(($t=le[Ot])==null?void 0:$t.stay_duration)||60}});await kt.put(`https://walkingguide.onrender.com/api/tours/${D}`,{name:o,description:g,image_url:Qe,total_cost:parseFloat(q)||0,steps:Tt}),et(),j(null),Dt()}catch(Qe){console.error("Error updating tour:",Qe),oe("Có lỗi xảy ra khi cập nhật tour"),he("danger"),_e(!0)}finally{F(!1)}},ht=Qe=>{Ce(Qe),Z(!0)},Pt=async()=>{if(fe)try{await kt.delete(`https://walkingguide.onrender.com/api/tours/${fe}`),et(),Z(!1),Ce(null)}catch(Qe){console.error("Error deleting tour:",Qe),oe("Có lỗi xảy ra khi xóa tour"),he("danger"),_e(!0)}},en=()=>{Z(!1),Ce(null)},at=async Qe=>{await kt.post(`https://walkingguide.onrender.com/api/tours/${Qe}/approve`),pe(),et()},jt=async Qe=>{await kt.post(`https://walkingguide.onrender.com/api/tours/${Qe}/reject`),pe(),et()},Dt=()=>{j(null),h(""),_(""),v(null),S(""),Q([]),se({}),de(0),be(""),we("")};return i.jsxs("div",{className:"admin-layout",children:[i.jsx(yd,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(xd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[De&&i.jsxs("div",{className:`alert alert-${ve} alert-dismissible fade show`,role:"alert",children:[i.jsx("i",{className:`bi ${ve==="danger"?"bi-exclamation-triangle-fill":"bi-exclamation-circle-fill"} me-2`}),je,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>_e(!1)})]}),i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:D?"Chỉnh sửa Tour":"Tạo Tour Mới"})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tên tour *"}),i.jsx("input",{type:"text",className:"form-control",value:o,onChange:Qe=>h(Qe.target.value),placeholder:"Nhập tên tour"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Hình ảnh tour"}),i.jsx("input",{type:"file",accept:"image/*",onChange:me,className:"form-control"}),N&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:N.startsWith("data:")?N:`https://walkingguide.onrender.com${N}`,alt:"Xem trước",style:{maxWidth:"200px",maxHeight:"150px",objectFit:"cover",borderRadius:"8px",border:"1px solid #ddd"}})})]})]}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tổng chi phí (VND)"}),i.jsx("input",{type:"text",value:q?parseInt(q).toLocaleString("vi-VN"):"",onChange:Qe=>{const Tt=Qe.target.value.replace(/\D/g,"");de(Tt)},className:"form-control",placeholder:"Nhập tổng chi phí tour"}),q&&i.jsxs("div",{className:"form-text",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),"Chi phí: ",parseInt(q).toLocaleString("vi-VN")," VNĐ"]}),q&&q.length>0&&q.length<=3&&!q.endsWith("000")&&i.jsxs("div",{className:"mt-2",children:[i.jsx("small",{className:"text-muted",children:"Gợi ý:"}),i.jsx("div",{className:"d-flex flex-wrap gap-1 mt-1",children:(()=>{const Qe=q.replace(/\D/g,"");return[{value:Qe+"000",label:Qe+".000 VNĐ"},{value:Qe+"0000",label:Qe+"0.000 VNĐ"},{value:Qe+"00000",label:Qe+"00.000 VNĐ"},{value:Qe+"000000",label:Qe+".000.000 VNĐ"},{value:Qe+"0000000",label:Qe+"0.000.000 VNĐ"}].filter(Ot=>Ot.value!==q).map((Ot,$e)=>i.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",style:{fontSize:"0.8rem",padding:"0.25rem 0.5rem"},onClick:()=>de(Ot.value),children:Ot.label},$e))})()})]})]})})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mô tả"}),i.jsx(xw,{value:g,onChange:_,placeholder:"Mô tả tour"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Chọn các địa điểm cho tour (kéo để sắp xếp):"}),i.jsx("div",{className:"d-flex flex-wrap gap-2 mb-2",children:V.map(Qe=>i.jsx("button",{type:"button",className:`btn btn-sm ${K.includes(Qe.id)?"btn-primary":"btn-outline-primary"}`,onClick:()=>We(Qe.id),disabled:K.includes(Qe.id),children:Qe.name},Qe.id))}),K.length>0&&i.jsx("ul",{className:"list-group",children:K.map((Qe,Tt)=>{const Ot=V.find(bt=>bt.id===Qe),$e=le[Qe]||{};return i.jsxs("li",{className:"list-group-item d-flex align-items-center justify-content-between flex-wrap gap-2",children:[i.jsx("span",{children:Ot?Ot.name:Qe}),i.jsx("select",{className:"form-select form-select-sm",style:{width:90},value:$e.day||1,onChange:bt=>st(Qe,"day",Number(bt.target.value)),children:[...Array(15)].map((bt,$t)=>i.jsxs("option",{value:$t+1,children:["Ngày ",$t+1]},$t+1))}),i.jsx("input",{type:"number",className:"form-control form-control-sm",style:{width:70},min:1,value:$e.stay_duration||60,onChange:bt=>st(Qe,"stay_duration",bt.target.value),placeholder:"Phút",title:"Thời gian lưu trú (phút)"}),i.jsxs("div",{children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-light me-1",disabled:Tt===0,onClick:()=>Ge(Tt,-1),children:i.jsx("i",{className:"bi bi-arrow-up"})}),i.jsx("button",{type:"button",className:"btn btn-sm btn-light me-1",disabled:Tt===K.length-1,onClick:()=>Ge(Tt,1),children:i.jsx("i",{className:"bi bi-arrow-down"})}),i.jsx("button",{type:"button",className:"btn btn-sm btn-danger",onClick:()=>Le(Qe),children:i.jsx("i",{className:"bi bi-x"})})]})]},Qe)})})]}),i.jsx("div",{className:"d-flex gap-2",children:D?i.jsxs(i.Fragment,{children:[i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:Fe,disabled:B,children:B?"Đang cập nhật...":"Cập nhật Tour"}),i.jsx(Ut,{variant:"secondary",onClick:Dt,disabled:B,children:"Hủy"})]}):i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:Oe,disabled:B,children:B?"Đang tạo...":"Tạo Tour"})})]})]}),i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header bg-warning text-dark",children:i.jsx("h5",{children:"Tour do người dùng tạo chờ duyệt"})}),i.jsx("div",{className:"card-body",children:Se.length===0?i.jsx("div",{className:"text-muted",children:"Không có tour nào chờ duyệt."}):i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-bordered",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Tên tour"}),i.jsx("th",{children:"Người tạo"}),i.jsx("th",{children:"Mô tả"}),i.jsx("th",{children:"Thao tác"})]})}),i.jsx("tbody",{children:Se.map(Qe=>i.jsxs("tr",{children:[i.jsx("td",{children:Qe.id}),i.jsx("td",{children:Qe.name}),i.jsx("td",{children:Qe.user_id}),i.jsx("td",{style:{maxWidth:200,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Qe.description}),i.jsxs("td",{children:[i.jsx("button",{className:"btn btn-success btn-sm me-2",onClick:()=>at(Qe.id),children:"Duyệt"}),i.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>jt(Qe.id),children:"Từ chối"})]})]},Qe.id))})]})})})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Tất cả Tour"})}),i.jsx("div",{className:"card-body",children:i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-striped",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Hình ảnh"}),i.jsx("th",{children:"Tên tour"}),i.jsx("th",{children:"Mô tả"}),i.jsx("th",{children:"Địa điểm (thứ tự)"}),i.jsx("th",{children:"Tổng chi phí"}),i.jsx("th",{children:"Thao tác"})]})}),i.jsx("tbody",{children:c.map(Qe=>i.jsxs("tr",{children:[i.jsx("td",{children:Qe.id}),i.jsx("td",{children:Qe.image_url?i.jsx("img",{src:`https://walkingguide.onrender.com${Qe.image_url}`,alt:Qe.name,style:{width:"80px",height:"60px",objectFit:"cover",borderRadius:"4px"}}):i.jsx("div",{style:{width:"80px",height:"60px",backgroundColor:"#e9ecef",display:"flex",alignItems:"center",justifyContent:"center",color:"#6c757d",borderRadius:"4px"},children:i.jsx("i",{className:"bi bi-image"})})}),i.jsx("td",{children:Qe.name}),i.jsx("td",{children:i.jsx("div",{style:{maxHeight:"60px",overflow:"hidden",fontSize:"0.9rem"},dangerouslySetInnerHTML:{__html:Qe.description}})}),i.jsx("td",{children:ee[Qe.id]&&ee[Qe.id].length>0?i.jsx("div",{style:{maxHeight:"60px",overflow:"hidden",fontSize:"0.8rem"},children:ee[Qe.id].sort((Tt,Ot)=>Tt.step_order-Ot.step_order).map((Tt,Ot)=>{const $e=V.find(bt=>bt.id===Tt.place_id);return i.jsxs("div",{style:{marginBottom:"2px"},children:[i.jsxs("span",{className:"badge bg-primary me-1",children:["Ngày ",Tt.day]}),i.jsx("span",{children:$e?$e.name:`Place ${Tt.place_id}`}),Ot<ee[Qe.id].length-1&&i.jsx("i",{className:"bi bi-arrow-right ms-1",style:{fontSize:"0.7rem"}})]},Tt.id)})}):i.jsx("span",{className:"text-muted",children:"Chưa có địa điểm"})}),i.jsx("td",{children:Qe.total_cost?i.jsxs("span",{className:"fw-semibold text-success",children:[Qe.total_cost.toLocaleString("vi-VN")," VND"]}):i.jsx("span",{className:"text-muted",children:"Chưa có"})}),i.jsx("td",{children:i.jsxs("div",{className:"btn-group",role:"group",children:[i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>ut(Qe),children:"Sửa"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>ht(Qe.id),children:"Xóa"})]})})]},Qe.id))})]})})})]})]})})]}),i.jsxs(yt,{show:Ee,onHide:en,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Xác nhận xóa"})}),i.jsx(yt.Body,{children:"Bạn có chắc chắn muốn xóa tour này? Hành động này không thể hoàn tác."}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:en,children:"Hủy"}),i.jsx(Ut,{variant:"danger",className:"admin-btn-danger",onClick:Pt,children:"Xóa"})]})]})]})}function WX(){var ve,he;const[l,c]=I.useState([]),[s,o]=I.useState({total:0,pending:0,approved:0,rejected:0,cancelled:0}),[h,g]=I.useState(!0),[_,y]=I.useState(null),[v,N]=I.useState("all"),[S,D]=I.useState(!1),[j,B]=I.useState(null),[F,V]=I.useState(""),[$,K]=I.useState(""),[Q,ee]=I.useState(!1);I.useEffect(()=>{ne(),le()},[v]);const ne=async()=>{try{g(!0);let Ee="https://walkingguide.onrender.com/api/bookings/admin/all";v!=="all"&&(Ee=`https://walkingguide.onrender.com/api/bookings/admin/status/${v}`);const Z=await kt.get(Ee);c(Z.data.data||[])}catch(Ee){console.error("Error fetching bookings:",Ee),y("Lỗi khi tải danh sách đặt tour")}finally{g(!1)}},le=async()=>{try{const Ee=await kt.get("https://walkingguide.onrender.com/api/bookings/admin/stats");o(Ee.data.data||{})}catch(Ee){console.error("Error fetching stats:",Ee)}},se=(Ee,Z)=>{B(Ee),V(Z),K(""),D(!0)},q=async()=>{if(j)try{ee(!0);let Ee="",Z={};switch(F){case"approve":Ee=`https://walkingguide.onrender.com/api/bookings/admin/${j.id}/approve`,Z={admin_notes:$};break;case"reject":Ee=`https://walkingguide.onrender.com/api/bookings/admin/${j.id}/reject`,Z={admin_notes:$};break;case"cancel":Ee=`https://walkingguide.onrender.com/api/bookings/admin/${j.id}/cancel`,Z={admin_notes:$};break;default:return}(await kt.put(Ee,Z)).data.success&&(ne(),le(),D(!1),B(null),V(""),K(""))}catch(Ee){console.error("Error processing action:",Ee),alert("Lỗi khi xử lý yêu cầu. Vui lòng thử lại.")}finally{ee(!1)}},de=Ee=>{const fe={pending:{variant:"warning",text:"Chờ xử lý"},approved:{variant:"success",text:"Đã phê duyệt"},rejected:{variant:"danger",text:"Đã từ chối"},cancelled:{variant:"secondary",text:"Đã hủy"}}[Ee]||{variant:"light",text:Ee};return i.jsx(s3,{bg:fe.variant,children:fe.text})},re=Ee=>new Date(Ee).toLocaleDateString("vi-VN"),be=Ee=>new Date(Ee).toLocaleString("vi-VN"),ke=Ee=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Ee),we=(Ee,Z=30)=>Ee?Ee.length<=Z?Ee:Ee.substring(0,Z)+"...":"N/A",De=Ee=>Ee.status==="pending"?i.jsxs("div",{className:"btn-group",role:"group",children:[i.jsx("button",{className:"btn btn-sm btn-success",onClick:()=>se(Ee,"approve"),title:"Phê duyệt",children:i.jsx("i",{className:"bi bi-check-circle"})}),i.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>se(Ee,"reject"),title:"Từ chối",children:i.jsx("i",{className:"bi bi-x-circle"})})]}):Ee.status!=="cancelled"?i.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:()=>se(Ee,"cancel"),title:"Hủy đặt tour",children:[i.jsx("i",{className:"bi bi-x-circle"})," Hủy"]}):null,_e=()=>{switch(F){case"approve":return"Phê duyệt đặt tour";case"reject":return"Từ chối đặt tour";case"cancel":return"Hủy đặt tour";default:return"Xử lý đặt tour"}},je=()=>{switch(F){case"approve":return"Bạn có chắc chắn muốn phê duyệt đặt tour này?";case"reject":return"Bạn có chắc chắn muốn từ chối đặt tour này? Vui lòng cung cấp lý do.";case"cancel":return"Bạn có chắc chắn muốn hủy đặt tour này?";default:return""}},oe=()=>F==="reject";return i.jsxs("div",{className:"admin-layout",children:[i.jsx(yd,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(xd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[i.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:i.jsxs("div",{className:"d-flex gap-2",children:[i.jsxs("select",{className:"form-select",value:v,onChange:Ee=>N(Ee.target.value),style:{width:"auto"},children:[i.jsxs("option",{value:"all",children:["Tất cả (",s.total,")"]}),i.jsxs("option",{value:"pending",children:["Chờ xử lý (",s.pending,")"]}),i.jsxs("option",{value:"approved",children:["Đã phê duyệt (",s.approved,")"]}),i.jsxs("option",{value:"rejected",children:["Đã từ chối (",s.rejected,")"]}),i.jsxs("option",{value:"cancelled",children:["Đã hủy (",s.cancelled,")"]})]}),i.jsx("button",{className:"btn btn-outline-primary",onClick:()=>{ne(),le()},children:i.jsx("i",{className:"bi bi-arrow-clockwise"})})]})}),i.jsxs("div",{className:"row mb-4",children:[i.jsx("div",{className:"col-md-2",children:i.jsx("div",{className:"card text-center",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h5",{className:"card-title text-primary",children:s.total}),i.jsx("p",{className:"card-text small",children:"Tổng cộng"})]})})}),i.jsx("div",{className:"col-md-2",children:i.jsx("div",{className:"card text-center",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h5",{className:"card-title text-warning",children:s.pending}),i.jsx("p",{className:"card-text small",children:"Chờ xử lý"})]})})}),i.jsx("div",{className:"col-md-2",children:i.jsx("div",{className:"card text-center",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h5",{className:"card-title text-success",children:s.approved}),i.jsx("p",{className:"card-text small",children:"Đã phê duyệt"})]})})}),i.jsx("div",{className:"col-md-2",children:i.jsx("div",{className:"card text-center",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h5",{className:"card-title text-danger",children:s.rejected}),i.jsx("p",{className:"card-text small",children:"Đã từ chối"})]})})}),i.jsx("div",{className:"col-md-2",children:i.jsx("div",{className:"card text-center",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h5",{className:"card-title text-secondary",children:s.cancelled}),i.jsx("p",{className:"card-text small",children:"Đã hủy"})]})})})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Danh sách đặt tour"})}),i.jsx("div",{className:"card-body",children:h?i.jsx("div",{className:"text-center py-4",children:i.jsx("div",{className:"spinner-border",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):_?i.jsx(av,{variant:"danger",children:_}):l.length===0?i.jsxs("div",{className:"text-center py-4",children:[i.jsx("i",{className:"bi bi-calendar-x text-muted",style:{fontSize:"3rem"}}),i.jsx("p",{className:"text-muted mt-2",children:"Không có đặt tour nào"})]}):i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-striped",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Người dùng"}),i.jsx("th",{children:"Tour"}),i.jsx("th",{children:"Ngày đi"}),i.jsx("th",{children:"Ngày về"}),i.jsx("th",{children:"Số chỗ"}),i.jsx("th",{children:"Tổng tiền"}),i.jsx("th",{children:"Trạng thái"}),i.jsx("th",{children:"Ngày tạo"}),i.jsx("th",{children:"Thao tác"})]})}),i.jsx("tbody",{children:l.map(Ee=>{var Z,fe,Ce,Se,He;return i.jsxs("tr",{children:[i.jsx("td",{children:Ee.id}),i.jsx("td",{children:i.jsxs("div",{children:[i.jsx("div",{className:"fw-semibold",children:((Z=Ee.user)==null?void 0:Z.full_name)||"N/A"}),i.jsx("small",{className:"text-muted",children:((fe=Ee.user)==null?void 0:fe.email)||"N/A"})]})}),i.jsx("td",{children:i.jsxs("div",{children:[i.jsx("div",{className:"fw-semibold",title:(Ce=Ee.tour)!=null&&Ce.name&&Ee.tour.name.length>30?Ee.tour.name:"",style:{cursor:(Se=Ee.tour)!=null&&Se.name&&Ee.tour.name.length>30?"help":"default"},children:we((He=Ee.tour)==null?void 0:He.name)}),i.jsxs("small",{className:"text-muted",children:["ID: ",Ee.tour_id]})]})}),i.jsx("td",{children:re(Ee.start_date)}),i.jsx("td",{children:re(Ee.end_date)}),i.jsx("td",{children:Ee.spots}),i.jsx("td",{children:ke(Ee.total_price)}),i.jsx("td",{children:de(Ee.status)}),i.jsx("td",{children:i.jsxs("div",{children:[i.jsx("div",{children:re(Ee.created_at)}),i.jsx("small",{className:"text-muted",children:be(Ee.created_at).split(" ")[1]})]})}),i.jsx("td",{children:De(Ee)})]},Ee.id)})})]})})})]})]})})]}),i.jsxs(yt,{show:S,onHide:()=>D(!1),children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:_e()})}),i.jsxs(yt.Body,{children:[i.jsx("p",{children:je()}),j&&i.jsxs("div",{className:"mb-3",children:[i.jsx("strong",{children:"Thông tin đặt tour:"}),i.jsxs("ul",{className:"mt-2",children:[i.jsxs("li",{children:["ID: ",j.id]}),i.jsxs("li",{children:["Người dùng: ",(ve=j.user)==null?void 0:ve.full_name]}),i.jsxs("li",{children:["Tour: ",((he=j.tour)==null?void 0:he.name)||"N/A"]}),i.jsxs("li",{children:["Ngày đi: ",re(j.start_date)]}),i.jsxs("li",{children:["Ngày về: ",re(j.end_date)]}),i.jsxs("li",{children:["Số chỗ: ",j.spots]}),i.jsxs("li",{children:["Tổng tiền: ",ke(j.total_price)]})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("label",{className:"form-label",children:["Ghi chú ",oe()&&i.jsx("span",{className:"text-danger",children:"*"})]}),i.jsx("textarea",{className:"form-control",rows:"3",placeholder:F==="reject"?"Vui lòng nhập lý do từ chối...":"Ghi chú (tùy chọn)...",value:$,onChange:Ee=>K(Ee.target.value),required:oe()})]})]}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:()=>D(!1),children:"Hủy"}),i.jsx(Ut,{variant:F==="approve"?"success":F==="reject"?"danger":"secondary",onClick:q,disabled:Q||oe()&&!$.trim(),children:Q?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Đang xử lý..."]}):F==="approve"?"Phê duyệt":F==="reject"?"Từ chối":"Hủy"})]})]})]})}function YX(){const[l,c]=I.useState([]),[s,o]=I.useState(""),[h,g]=I.useState(null),[_,y]=I.useState(!1),[v,N]=I.useState(null);I.useEffect(()=>{S()},[]);const S=async()=>{const K=await rB();c(K.data)},D=async()=>{s.trim()&&(await LX({name:s}),o(""),S())},j=K=>{g(K.id),o(K.name),window.scrollTo({top:0,behavior:"smooth"})},B=async()=>{s.trim()&&(await BX(h,{name:s}),g(null),o(""),S())},F=async K=>{N(K),y(!0)},V=async()=>{if(v)try{await RX(v),S(),y(!1),N(null)}catch(K){console.error("Error deleting tag:",K)}},$=()=>{y(!1),N(null)};return i.jsxs("div",{className:"min-vh-100 d-flex flex-row",style:{background:"#f6f8fa"},children:[i.jsx(xd,{alwaysExpanded:!0}),i.jsxs("div",{className:"flex-grow-1 d-flex flex-column admin-dashboard",style:{marginLeft:220,minHeight:"100vh",padding:0,background:"#f6f8fa"},children:[i.jsx(yd,{}),i.jsx("main",{className:"flex-grow-1",style:{padding:0,maxWidth:"100%",width:"100%",margin:0},children:i.jsx("div",{className:"admin-dashboard-cards-row",children:i.jsxs("div",{className:"container py-4",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("input",{value:s,onChange:K=>o(K.target.value),className:"form-control mb-2",placeholder:"Tên thẻ"}),h?i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:B,className:"btn admin-main-btn me-2",children:"Cập nhật"}),i.jsx("button",{onClick:()=>{g(null),o("")},className:"btn admin-btn-secondary",children:"Hủy"})]}):i.jsx("button",{onClick:D,className:"btn admin-main-btn",children:"Thêm"})]}),i.jsxs("table",{className:"table table-bordered",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Tên thẻ"}),i.jsx("th",{children:"Hành động"})]})}),i.jsx("tbody",{children:l.map(K=>i.jsxs("tr",{children:[i.jsx("td",{children:K.id}),i.jsx("td",{children:K.name}),i.jsxs("td",{children:[i.jsx("button",{className:"btn admin-main-btn btn-sm me-2",onClick:()=>j(K),children:"Sửa"}),i.jsx("button",{className:"btn admin-btn-danger btn-sm",onClick:()=>F(K.id),children:"Xóa"})]})]},K.id))})]})]})})})]}),i.jsx("div",{className:`modal fade ${_?"show":""}`,style:{display:_?"block":"none"},tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content border-0 shadow-lg",children:[i.jsxs("div",{className:"modal-header bg-danger text-white",children:[i.jsxs("h5",{className:"modal-title",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),"Xác nhận xóa"]}),i.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:$})]}),i.jsx("div",{className:"modal-body",children:i.jsx("p",{className:"mb-0",children:"Bạn có chắc muốn xóa thẻ này? Hành động này không thể hoàn tác."})}),i.jsxs("div",{className:"modal-footer",children:[i.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:$,children:[i.jsx("i",{className:"bi bi-x-circle me-1"}),"Hủy"]}),i.jsxs("button",{type:"button",className:"btn btn-danger",onClick:V,children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xóa"]})]})]})})}),_&&i.jsx("div",{className:"modal-backdrop fade show"})]})}function GX(){const l={footerDescription:"Walking Guide là một trang web giúp bạn lên kế hoạch du lịch, và tìm kiếm các địa điểm du lịch gần bạn.",footerCopyright:`© ${new Date().getFullYear()} Walking Guide. Tất cả quyền được bảo lưu.`,contactEmail:"info@walkingguide.com",contactPhone:"+1 234 567 890",contactAddress:"Hà Nội, Việt Nam",facebookUrl:"https://facebook.com/walkingguide",instagramUrl:"https://instagram.com/walkingguide",twitterUrl:"https://twitter.com/walkingguide",youtubeUrl:"https://youtube.com/walkingguide"},[c,s]=I.useState(l),[o,h]=I.useState(!1),[g,_]=I.useState({type:"",message:""}),[y,v]=I.useState(!0);I.useEffect(()=>{let D=!0;return H3().then(j=>{D&&j.data&&j.data.success&&s({...l,...j.data.data})}).catch(()=>{_({type:"error",message:"Không thể tải cài đặt từ máy chủ."})}).finally(()=>v(!1)),()=>{D=!1}},[]);const N=(D,j)=>{s(B=>({...B,[D]:j}))},S=async()=>{h(!0),_({type:"",message:""});try{await z$(c),_({type:"success",message:"Cài đặt footer đã được lưu thành công!"}),setTimeout(()=>_({type:"",message:""}),2e3)}catch{_({type:"error",message:"Có lỗi xảy ra khi lưu cài đặt!"})}finally{h(!1)}};return y?i.jsx("div",{className:"admin-content",children:i.jsx("div",{className:"container-fluid py-5 text-center",children:"Đang tải cài đặt..."})}):i.jsxs("div",{className:"admin-layout",children:[i.jsx(yd,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(xd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[g.message&&i.jsxs("div",{className:`alert alert-${g.type==="success"?"success":"danger"} alert-dismissible fade show mb-4`,children:[g.message,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>_({type:"",message:""})})]}),i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Cài đặt"})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mô tả"}),i.jsx("textarea",{className:"form-control",value:c.footerDescription,onChange:D=>N("footerDescription",D.target.value),placeholder:"Mô tả hiển thị trong footer",rows:3})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Bản quyền"}),i.jsx("input",{className:"form-control",value:c.footerCopyright,onChange:D=>N("footerCopyright",D.target.value),placeholder:"© 2024 Walking Guide. Tất cả quyền được bảo lưu."})]}),i.jsx("hr",{className:"my-4"}),i.jsx("h5",{className:"mb-3",children:"Thông tin liên hệ & Mạng xã hội"}),i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-4 mb-3",children:[i.jsx("label",{className:"form-label",children:"Email"}),i.jsx("input",{className:"form-control",value:c.contactEmail,onChange:D=>N("contactEmail",D.target.value),placeholder:"info@walkingguide.com"})]}),i.jsxs("div",{className:"col-md-4 mb-3",children:[i.jsx("label",{className:"form-label",children:"Số điện thoại"}),i.jsx("input",{className:"form-control",value:c.contactPhone,onChange:D=>N("contactPhone",D.target.value),placeholder:"+1 234 567 890"})]}),i.jsxs("div",{className:"col-md-4 mb-3",children:[i.jsx("label",{className:"form-label",children:"Địa chỉ"}),i.jsx("input",{className:"form-control",value:c.contactAddress,onChange:D=>N("contactAddress",D.target.value),placeholder:"Hà Nội, Việt Nam"})]})]}),i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6 mb-3",children:[i.jsx("label",{className:"form-label",children:"Facebook URL"}),i.jsx("input",{className:"form-control",value:c.facebookUrl,onChange:D=>N("facebookUrl",D.target.value),placeholder:"https://facebook.com/walkingguide"})]}),i.jsxs("div",{className:"col-md-6 mb-3",children:[i.jsx("label",{className:"form-label",children:"Instagram URL"}),i.jsx("input",{className:"form-control",value:c.instagramUrl,onChange:D=>N("instagramUrl",D.target.value),placeholder:"https://instagram.com/walkingguide"})]}),i.jsxs("div",{className:"col-md-6 mb-3",children:[i.jsx("label",{className:"form-label",children:"Twitter URL"}),i.jsx("input",{className:"form-control",value:c.twitterUrl,onChange:D=>N("twitterUrl",D.target.value),placeholder:"https://twitter.com/walkingguide"})]}),i.jsxs("div",{className:"col-md-6 mb-3",children:[i.jsx("label",{className:"form-label",children:"YouTube URL"}),i.jsx("input",{className:"form-control",value:c.youtubeUrl,onChange:D=>N("youtubeUrl",D.target.value),placeholder:"https://youtube.com/walkingguide"})]})]}),i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:S,disabled:o,children:o?"Đang lưu...":"Lưu thay đổi"})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsxs("h5",{children:[i.jsx("i",{className:"bi bi-eye me-2"}),"Xem trước Footer"]})}),i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"preview-content",children:[i.jsx("p",{className:"text-muted mb-2",children:c.footerDescription}),i.jsx("p",{className:"text-muted small mb-0",children:c.footerCopyright}),i.jsxs("div",{className:"mt-2",children:[i.jsxs("span",{className:"me-3",children:[i.jsx("i",{className:"bi bi-envelope me-1"}),c.contactEmail]}),i.jsxs("span",{className:"me-3",children:[i.jsx("i",{className:"bi bi-telephone me-1"}),c.contactPhone]}),i.jsxs("span",{className:"me-3",children:[i.jsx("i",{className:"bi bi-geo-alt me-1"}),c.contactAddress]})]}),i.jsxs("div",{className:"mt-2",children:[c.facebookUrl&&i.jsx("a",{href:c.facebookUrl,target:"_blank",rel:"noopener noreferrer",className:"me-2",children:i.jsx("i",{className:"bi bi-facebook"})}),c.instagramUrl&&i.jsx("a",{href:c.instagramUrl,target:"_blank",rel:"noopener noreferrer",className:"me-2",children:i.jsx("i",{className:"bi bi-instagram"})}),c.twitterUrl&&i.jsx("a",{href:c.twitterUrl,target:"_blank",rel:"noopener noreferrer",className:"me-2",children:i.jsx("i",{className:"bi bi-twitter-x"})}),c.youtubeUrl&&i.jsx("a",{href:c.youtubeUrl,target:"_blank",rel:"noopener noreferrer",className:"me-2",children:i.jsx("i",{className:"bi bi-youtube"})})]})]})})]})]})})]})]})}function uu({children:l}){const{user:c}=I.useContext(ds);return c?l:i.jsx(l5,{to:"/login"})}function ud({children:l}){const{user:c}=I.useContext(ds);return(c==null?void 0:c.role)==="ADMIN"?l:i.jsx(l5,{to:"/"})}const ib="https://walkingguide.onrender.com/api/articles",oB={getAll:()=>kt.get(ib),getById:l=>kt.get(`${ib}/${l}`),create:l=>kt.post(ib,l),update:(l,c)=>kt.put(`${ib}/${l}`,c),delete:l=>kt.delete(`${ib}/${l}`)},KX=[{value:"",label:"Chọn loại báo cáo"},{value:"spam",label:"Spam"},{value:"inappropriate",label:"Nội dung không phù hợp"},{value:"misinformation",label:"Thông tin sai lệch"},{value:"copyright",label:"Vi phạm bản quyền"},{value:"other",label:"Khác"}],QX=({open:l,onClose:c,onSubmit:s,submitting:o,error:h,success:g})=>{const[_,y]=I.useState(""),[v,N]=I.useState(""),[S,D]=I.useState("");I.useEffect(()=>{l||(y(""),N(""),D(""))},[l]);const j=B=>{if(B.preventDefault(),!_){D("Vui lòng chọn loại báo cáo.");return}if(!v.trim()){D("Vui lòng nhập lý do báo cáo.");return}D(""),s({type:_,reason:v})};return i.jsxs(yt,{show:l,onHide:c,centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Báo cáo bài viết"})}),i.jsxs(yt.Body,{children:[g&&i.jsx(av,{variant:"success",children:"Báo cáo của bạn đã được gửi!"}),h&&i.jsx(av,{variant:"danger",children:h}),S&&i.jsx(av,{variant:"warning",children:S}),i.jsxs("form",{onSubmit:j,children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Loại báo cáo"}),i.jsx("div",{children:KX.filter(B=>B.value).map(B=>i.jsxs("div",{className:"form-check form-check-inline",children:[i.jsx("input",{className:"form-check-input",type:"radio",name:"reportType",id:`report-type-${B.value}`,value:B.value,checked:_===B.value,onChange:F=>y(F.target.value),disabled:o||g}),i.jsx("label",{className:"form-check-label",htmlFor:`report-type-${B.value}`,children:B.label})]},B.value))})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Lý do báo cáo"}),i.jsx("textarea",{className:"form-control",value:v,onChange:B=>N(B.target.value),placeholder:"Mô tả lý do bạn muốn báo cáo bài viết này...",rows:4,disabled:o||g})]}),i.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[i.jsx(Ut,{variant:"secondary",onClick:c,disabled:o||g,children:"Hủy"}),i.jsx(Ut,{type:"submit",variant:"danger",disabled:o||g,children:o?i.jsx(L3,{animation:"border",size:"sm"}):"Gửi báo cáo"})]})]})]})]})},ZX=`
  .highlight-comment {
    background:rgb(117, 189, 249) !important;
    animation: highlight-comment 0.5s ease-in-out;
  }
`,Ba="https://walkingguide.onrender.com",IO=()=>{const[l,c]=I.useState(null),[s,o]=I.useState(!0),[h,g]=I.useState(null),[_,y]=I.useState(null),[v,N]=I.useState([]),{id:S}=Ab(),D=ka(),{user:j}=nt.useContext(ds),[B,F]=I.useState(0),[V,$]=I.useState(!1),[K,Q]=I.useState([]),[ee,ne]=I.useState(""),[le,se]=I.useState(!1),[q,de]=I.useState(""),[re,be]=I.useState({}),[ke,we]=I.useState(null),[De,_e]=I.useState(""),je=$l(),[oe,ve]=I.useState(!1),[he,Ee]=I.useState(!1),[Z,fe]=I.useState(null),[Ce,Se]=I.useState(!1);I.useEffect(()=>{if(!S||isNaN(S)){g("ID bài viết không hợp lệ"),o(!1);return}const st=async()=>{try{const ut=`${Ba}/api/articles/${S}`,Fe=await fetch(ut,{method:"GET",headers:{Accept:"application/json"}});if(!Fe.ok){const en=await Fe.text();throw new Error(`Lỗi ${Fe.status}: ${en||Fe.statusText}`)}const ht=Fe.headers.get("Content-Type");if(!ht||!ht.includes("application/json")){const en=await Fe.text();throw new Error(`Response không phải JSON: ${en.slice(0,100)}...`)}const Pt=await Fe.json();c(Pt),Ge(Pt.admin_id),o(!1)}catch(ut){g(`Lỗi khi gọi API: ${ut.message}`),o(!1)}},Ge=async ut=>{try{const ht=(await jm.getAll()).data.find(Pt=>Pt.id===ut||Pt.id===Number(ut));y(ht)}catch{y(null)}};st(),(async()=>{try{let Fe=(await oB.getAll()).data||[];Fe=Fe.filter(ht=>ht.article_id!==Number(S)),Fe.sort((ht,Pt)=>new Date(Pt.published_at)-new Date(ht.published_at)),N(Fe)}catch{N([])}})(),S&&(fetch(`${Ba}/api/article-likes/${S}/likes`).then(ut=>ut.json()).then(ut=>F(ut.count||0)),j?fetch(`${Ba}/api/article-likes/is-liked?article_id=${S}&user_id=${j.id}`).then(ut=>ut.json()).then(ut=>$(!!ut.liked)):$(!1),fetch(`${Ba}/api/article-comments/${S}`).then(ut=>ut.json()).then(ut=>Q(Array.isArray(ut)?ut:[])),jm.getAll().then(ut=>{const Fe={};(ut.data||[]).forEach(ht=>{Fe[ht.id]=ht.full_name||`User #${ht.id}`}),be(Fe)}))},[S,j]),I.useEffect(()=>{if(je.hash.startsWith("#comment-")&&K.length>0){const st=je.hash.replace("#comment-",""),Ge=document.getElementById(`comment-${st}`);Ge&&(Ge.scrollIntoView({behavior:"smooth",block:"center"}),Ge.classList.add("highlight-comment"),setTimeout(()=>Ge.classList.remove("highlight-comment"),2e3))}},[je,K]);const He=async()=>{if(!j)return;await fetch(`${Ba}/api/article-likes/${V?"unlike":"like"}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({article_id:S,user_id:j.id})}),$(!V),F(B+(V?-1:1))},et=async st=>{if(st.preventDefault(),!(!j||!ee.trim())){se(!0),de("");try{if(!(await fetch(`${Ba}/api/article-comments/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({article_id:S,user_id:j.id,content:ee})})).ok)throw new Error("Lỗi khi gửi bình luận");ne(""),fetch(`${Ba}/api/article-comments/${S}`).then(Oe=>Oe.json()).then(Oe=>Q(Array.isArray(Oe)?Oe:[]))}catch(Ge){de(Ge.message)}finally{se(!1)}}},pe=st=>{we(st.id),_e(st.content)},me=()=>{we(null),_e("")},Ie=async st=>{if(De.trim()){se(!0),de("");try{if(!(await fetch(`${Ba}/api/article-comments/${st.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:De,user_id:j.id})})).ok)throw new Error("Lỗi khi sửa bình luận");we(null),_e(""),fetch(`${Ba}/api/article-comments/${S}`).then(Oe=>Oe.json()).then(Oe=>Q(Array.isArray(Oe)?Oe:[]))}catch(Ge){de(Ge.message)}finally{se(!1)}}},We=async st=>{if(window.confirm("Bạn có chắc muốn xóa bình luận này?")){se(!0),de("");try{if(!(await fetch(`${Ba}/api/article-comments/${st.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:j.id})})).ok)throw new Error("Lỗi khi xóa bình luận");fetch(`${Ba}/api/article-comments/${S}`).then(Oe=>Oe.json()).then(Oe=>Q(Array.isArray(Oe)?Oe:[]))}catch(Ge){de(Ge.message)}finally{se(!1)}}};if(s)return i.jsx("div",{className:"flex justify-center items-center h-screen",children:i.jsx("p",{className:"text-xl text-gray-600",children:"Đang tải..."})});if(h)return i.jsx("div",{className:"flex justify-center items-center h-screen",children:i.jsx("p",{className:"text-xl text-red-600",children:h})});function Le(st,Ge){const Oe=[];for(let ut=0;ut<st.length;ut+=Ge)Oe.push(st.slice(ut,ut+Ge));return Oe}return i.jsxs("div",{className:"min-vh-100 d-flex flex-column luxury-home-container",children:[i.jsx(Br,{}),i.jsx("main",{className:"flex-grow-1",children:i.jsx("div",{className:"container mx-auto p-4 max-w-3xl",children:i.jsxs("div",{style:{background:"rgba(245, 250, 255, 0.95)",borderRadius:"1.5rem",boxShadow:"0 4px 24px 0 rgba(31, 38, 135, 0.10)",padding:"2.5rem 2rem",margin:"2rem 0"},children:[l&&i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[i.jsx("h2",{style:{margin:0},children:l.title}),j&&i.jsx("button",{onClick:()=>ve(!0),className:"btn btn-outline-danger btn-sm",children:"Báo cáo"})]}),l.published_at&&i.jsxs("div",{className:"text-center text-muted mb-2",style:{fontSize:"1rem"},children:["Đăng ngày: ",new Date(l.published_at).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),l.image_url&&i.jsx("div",{className:"d-flex justify-content-center mb-4",children:i.jsx("img",{src:l.image_url.startsWith("http")?l.image_url:`${Ba}${l.image_url}`,alt:l.title,style:{maxWidth:"420px",maxHeight:"260px",width:"100%",objectFit:"cover",borderRadius:"1rem",boxShadow:"0 2px 12px #b6e0fe55"}})}),i.jsxs("div",{className:"text-gray-600 mb-4 d-flex flex-wrap gap-4 justify-content-center align-items-center",style:{fontSize:"1.05rem"},children:[i.jsxs("span",{className:"d-flex align-items-center gap-2",children:["Người đăng: ",i.jsx("b",{children:_?_.full_name:"Admin"})]}),i.jsx("span",{className:"d-flex align-items-center gap-2 ms-3",children:i.jsxs("button",{className:`btn btn-sm ${V?"btn-danger":"btn-outline-danger"}`,onClick:He,disabled:!j,title:j?V?"Bỏ thích":"Thích bài viết":"Đăng nhập để thích",style:{minWidth:40},children:[i.jsx("i",{className:`bi ${V?"bi-heart-fill":"bi-heart"}`}),i.jsx("span",{className:"ms-1",children:B})]})})]}),i.jsx("div",{className:"prose prose-lg mb-4",style:{color:"#223a5f",fontSize:"1.15rem",lineHeight:1.7},children:i.jsx("div",{dangerouslySetInnerHTML:{__html:l.content}})}),i.jsxs("div",{className:"mt-5",children:[i.jsxs("h4",{className:"fw-bold mb-3",children:["Bình luận (",K.length,")"]}),j?i.jsxs("form",{className:"mb-3 d-flex gap-2",onSubmit:et,children:[i.jsx("input",{type:"text",className:"form-control",placeholder:"Viết bình luận...",value:ee,onChange:st=>ne(st.target.value),disabled:le}),i.jsx("button",{className:"btn btn-main",type:"submit",disabled:le||!ee.trim(),children:le?i.jsx("i",{className:"bi bi-send fa-spin"}):i.jsx("i",{className:"bi bi-send"})})]}):i.jsx("div",{className:"alert alert-warning",children:"Bạn cần đăng nhập để bình luận."}),q&&i.jsx("div",{className:"alert alert-danger",children:q}),i.jsx("div",{className:"comments-list",children:K.length===0?i.jsx("div",{className:"text-muted",children:"Chưa có bình luận nào."}):K.map((st,Ge)=>i.jsxs("div",{id:`comment-${st.id}`,className:"mb-3 p-2 bg-light rounded",children:[i.jsxs("b",{children:[st.user_id&&re[st.user_id]?re[st.user_id]:"Ẩn danh",":"]})," ",ke===st.id?i.jsxs(i.Fragment,{children:[i.jsx("input",{type:"text",className:"form-control d-inline-block w-auto",value:De,onChange:Oe=>_e(Oe.target.value),disabled:le,style:{maxWidth:300,marginRight:8}}),i.jsx("button",{className:"btn btn-success btn-sm me-1",onClick:()=>Ie(st),disabled:le||!De.trim(),children:"Lưu"}),i.jsx("button",{className:"btn btn-secondary btn-sm",onClick:me,disabled:le,children:"Hủy"})]}):i.jsxs(i.Fragment,{children:[st.content,j&&st.user_id===j.id&&i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"btn btn-link btn-sm text-primary ms-2 text-decoration-none",onClick:()=>pe(st),disabled:le,children:"Sửa"}),i.jsx("button",{className:"btn btn-link btn-sm text-danger text-decoration-none",onClick:()=>We(st),disabled:le,children:"Xóa"})]})]}),i.jsx("div",{className:"text-muted small",children:st.created_at?new Date(st.created_at).toLocaleString("vi-VN"):""})]},st.id||Ge))})]}),i.jsx("div",{className:"d-flex justify-content-center",children:i.jsx("button",{onClick:()=>D(-1),className:"mt-6 btn btn-main",style:{minWidth:140},children:"Quay lại"})})]})})}),i.jsxs("div",{className:"container my-5",children:[i.jsx("h2",{className:"h4 mb-4 fw-bold luxury-section-title",children:"Bài viết khác"}),v.length===0?i.jsx("p",{className:"text-muted text-center",children:"Không có bài viết nào để hiển thị."}):i.jsxs("div",{id:"articlesCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[i.jsx("div",{className:"carousel-inner",children:Le(v,3).map((st,Ge)=>i.jsx("div",{className:`carousel-item${Ge===0?" active":""}`,children:i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 justify-content-center",children:st.map(Oe=>i.jsx("div",{className:"col",children:i.jsx("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:i.jsxs(tn,{to:`/articles/${Oe.article_id}`,className:"text-decoration-none",children:[Oe.image_url&&i.jsx("img",{src:Oe.image_url.startsWith("http")?Oe.image_url:`${Ba}${Oe.image_url}`,alt:Oe.title,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover",borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem"}}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:Oe.title}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:Oe.content?`${Oe.content.replace(/<[^>]+>/g,"").substring(0,100)}...`:"Chưa có nội dung"})]})]})})},Oe.article_id))})},st.map(Oe=>Oe.article_id).join("-")))}),v.length>3&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#articlesCarousel","data-bs-slide":"prev",style:{width:"5rem",height:"5rem",top:"50%",left:"-4rem",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Previous"})]}),i.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#articlesCarousel","data-bs-slide":"next",style:{width:"5rem",height:"5rem",top:"50%",right:"-4rem",left:"auto",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Next"})]})]})]})]}),i.jsx(Yr,{}),i.jsx("style",{children:ZX}),i.jsx(QX,{open:oe,onClose:()=>{ve(!1),fe(null),Se(!1)},onSubmit:async({type:st,reason:Ge})=>{Ee(!0),fe(null),Se(!1);try{const Oe=await fetch(`${Ba}/api/articles/${S}/report`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j==null?void 0:j.token}`},body:JSON.stringify({type:st,reason:Ge})});if(!Oe.ok){const ut=await Oe.json().catch(()=>({}));throw new Error(ut.message||"Gửi báo cáo thất bại")}Se(!0),setTimeout(()=>ve(!1),1500)}catch(Oe){fe(Oe.message)}finally{Ee(!1)}},submitting:he,error:Z,success:Ce}),Ce&&i.jsx("div",{style:{color:"green",marginTop:8},children:"Report submitted!"}),Z&&i.jsx("div",{style:{color:"red",marginTop:8},children:Z})]})},aB=({id:l,type:c="place"})=>{const{user:s}=jb(),[o,h]=I.useState(!1),[g,_]=I.useState(0),[y,v]=I.useState(!1);I.useEffect(()=>{if(!l)return;const S=c==="tour"?"tour-likes":"place-likes";Ft.get(`${S}/count`,{params:{[`${c}_id`]:l}}).then(D=>_(D.data.count)).catch(D=>{D.response&&D.response.status===404&&_(0)}),s&&Ft.get(`${S}/is-liked`,{params:{[`${c}_id`]:l}}).then(D=>h(D.data.liked)).catch(D=>{D.response&&D.response.status===404&&h(!1)})},[l,s,c]);const N=async()=>{if(!s)return alert("Bạn cần đăng nhập để thích!");v(!0);const S=c==="tour"?"tour-likes":"place-likes";try{o?(await Ft.post(`${S}/unlike`,{[`${c}_id`]:l}),h(!1),_(D=>D-1)):(await Ft.post(`${S}/like`,{[`${c}_id`]:l}),h(!0),_(D=>D+1))}catch{alert("Có lỗi khi cập nhật lượt thích.")}v(!1)};return i.jsxs("button",{className:`btn btn-sm d-flex align-items-center gap-1 shadow-sm px-3 py-2 ${o?"btn-primary":"btn-outline-danger"}`,onClick:N,disabled:y,style:{borderRadius:24,fontWeight:600,fontSize:16,transition:"all 0.2s"},children:[i.jsx(cY,{style:{color:o?"#e74c3c":"#aaa",transition:"color 0.2s",filter:o?"drop-shadow(0 0 6px #e74c3c88)":"none",transform:o?"scale(1.2)":"scale(1)"}}),i.jsx("span",{style:{minWidth:24,textAlign:"center"},children:g})]})},XX=({placeId:l})=>{const{user:c}=jb(),[s,o]=I.useState([]),[h,g]=I.useState(""),[_,y]=I.useState(!1),v=async()=>{try{const D=await Ft.get(`comments/place/${l}`);o(Array.isArray(D.data)?D.data:[])}catch{o([])}};I.useEffect(()=>{l&&v()},[l]);const N=async D=>{if(D.preventDefault(),!c)return alert("Bạn cần đăng nhập để bình luận!");if(h.trim()){y(!0);try{await Ft.post("comments",{place_id:l,user_id:c.id,content:h}),g(""),v()}catch{alert("Có lỗi khi gửi bình luận.")}y(!1)}},S=async D=>{if(window.confirm("Xóa bình luận này?")){y(!0);try{await Ft.delete(`comments/${D}`),v()}catch{alert("Không thể xóa bình luận.")}y(!1)}};return i.jsxs("div",{className:"comment-section mt-3",children:[i.jsx("h6",{className:"fw-bold mb-2",style:{color:"#3498db"},children:"Bình luận"}),i.jsxs("form",{onSubmit:N,className:"mb-2 d-flex gap-2",children:[i.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Viết bình luận...",value:h,onChange:D=>g(D.target.value),disabled:_,style:{borderRadius:16,border:"1px solid #b6e0fe"}}),i.jsx("button",{className:"btn btn-primary btn-sm px-3",type:"submit",disabled:_||!h.trim(),style:{borderRadius:16},children:"Gửi"})]}),i.jsxs("div",{className:"comments-list",children:[(!Array.isArray(s)||s.length===0)&&i.jsx("div",{className:"text-muted",children:"Chưa có bình luận."}),Array.isArray(s)&&s.map(D=>i.jsxs("div",{className:"border rounded p-2 mb-2 bg-light d-flex justify-content-between align-items-center shadow-sm",style:{borderRadius:14},children:[i.jsxs("div",{children:[i.jsxs("span",{className:"fw-bold",style:{color:"#1a2a47"},children:[D.user_full_name||`Người dùng #${D.comment_user_id||D.user_id}`,":"]})," ",D.comment_content||D.content]}),c&&(c.id===D.comment_user_id||c.id===D.user_id)&&i.jsx("button",{className:"btn btn-link text-danger btn-sm text-decoration-none",onClick:()=>S(D.comment_id||D.id),children:"Xóa"})]},D.comment_id||D.id))]})]})},lB="https://walkingguide.onrender.com";delete lr.Icon.Default.prototype._getIconUrl;lr.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const QC=l=>{if(l.image_url){const o=l.image_url.startsWith("http")?l.image_url:`${lB}${l.image_url}`;return new lr.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          overflow: hidden;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
          <img 
            src="${o}" 
            alt="${l.name}"
            style="
              width: 100%;
              height: 100%;
              margin-left: 11px;
              object-fit: cover;
            "
            onerror="this.style.display='none'; this.parentElement.innerHTML='<i class=\\"bi bi-geo-alt-fill\\" style=\\"font-size: 20px; color: #3498db;\\"></i>';"
          />
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})}else return new lr.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
                          <i className="bi bi-geo-alt-fill" style="fontSize: 24, color: '#3498db'"></i>
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})},rp="5ae2e3f221c38a28845f05b61952da66ed7231df6303c387c3d2a08c",sp="https://api.opentripmap.com/0.1/en/places",OO=new lr.Icon({iconUrl:ow,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]}),LO=new lr.Icon({iconUrl:aw,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]}),JX=()=>{var et;const[l,c]=I.useState(null),[s,o]=I.useState(!0),[h,g]=I.useState(null),[_,y]=I.useState(!1),{id:v}=Ab(),N=ka(),[S,D]=I.useState([]),[j,B]=I.useState([]),[F,V]=I.useState(null),[$,K]=I.useState([]),[Q,ee]=I.useState(null),[ne,le]=I.useState(!1),[se,q]=I.useState(null),[de,re]=I.useState([]),[be,ke]=I.useState([]),[we,De]=I.useState(!1),[_e,je]=I.useState(null),[oe,ve]=I.useState({}),[he,Ee]=I.useState([]),[Z,fe]=I.useState([]);I.useEffect(()=>{(async()=>{try{const We=await Ft.get(`/places/${v}`);if(We.status!==200)throw new Error("Không tìm thấy địa điểm");const Le=We.data;c(Le),o(!1)}catch(We){g(We.message),o(!1)}})(),Ft.get("/places").then(We=>K(We.data)).catch(()=>K([]));const me=async()=>{try{const We=await Ft.get("/hotels");Ee(We.data.data||We.data)}catch{Ee([])}},Ie=async()=>{try{const We=await Ft.get("/restaurants");fe(We.data.data||We.data)}catch{fe([])}};me(),Ie()},[v]),I.useEffect(()=>{if(!l)return;(async()=>{try{const Ie=(await Ft.get("/tours")).data;let We=null,Le=[],st=1/0;for(const Ge of Ie){const ut=(await Ft.get(`/tour-steps/by-tour/${Ge.id}`)).data;if(ut.some(ht=>ht.place_id===l.id)&&ut.length>0){const ht=ut[0],en=(await Ft.get(`/places/${ht.place_id}`)).data,at=Math.sqrt(Math.pow(l.latitude-en.latitude,2)+Math.pow(l.longitude-en.longitude,2));at<st&&(st=at,We=Ge,Le=ut)}}if(Le.length>0){const Ge=await Promise.all(Le.map(Oe=>Ft.get(`/places/${Oe.place_id}`).then(ut=>ut.data)));D(Le),B(Ge),V(We)}else D([]),B([]),V(null)}catch{D([]),B([]),V(null)}})()},[l]),I.useEffect(()=>{const pe=me=>{me.key==="Escape"&&_&&y(!1)};return document.addEventListener("keydown",pe),()=>{document.removeEventListener("keydown",pe)}},[_]);const Ce=pe=>{const me=document.createElement("div");return me.innerHTML=pe,me.textContent||me.innerText||""},Se=I.useCallback(async pe=>{if(pe){le(!0),q(null),ee(null);try{let me=null;const Ie=We=>/^[\x00-\x7F]*$/.test(We);if(pe.name&&Ie(pe.name)){let We=pe.name;pe.city&&!pe.name.includes(pe.city)&&!/phường|quận|tỉnh|việt|nam|vn|,|huyện/i.test(pe.city)&&(We+=`, ${pe.city}`),We=encodeURIComponent(We);const Le=`${sp}/autosuggest?query=${We}&apikey=${rp}`,st=await fetch(Le);if(st.status===429){q("Bạn đã gửi quá nhiều yêu cầu tới OpenTripMap. Vui lòng thử lại sau."),ee(null),le(!1);return}if(st.status!==400){const Ge=await st.json();Ge&&Ge.features&&Ge.features.length>0&&(me=Ge.features[0])}}if(!me&&pe.latitude&&pe.longitude){const Le=`${sp}/radius?radius=200&lon=${pe.longitude}&lat=${pe.latitude}&apikey=${rp}`,Ge=await(await fetch(Le)).json();if(Ge.features&&Ge.features.length>0){const Oe=ut=>ut==null?void 0:ut.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"");me=Ge.features.find(ut=>Oe(ut.properties.name)===Oe(pe.name)),me||(me=Ge.features[0])}}if(me&&me.properties&&me.properties.xid){const We=`${sp}/xid/${me.properties.xid}?apikey=${rp}`,st=await(await fetch(We)).json();ee(st)}else ee(null)}catch{q("Không thể tải thông tin từ OpenTripMap"),ee(null)}finally{le(!1)}}},[]),He=I.useCallback(async pe=>{if(!(!pe||!pe.latitude||!pe.longitude)){De(!0),je(null),ve({});try{const me=`${sp}/radius?radius=500&lon=${pe.longitude}&lat=${pe.latitude}&kinds=restaurants&limit=2&apikey=${rp}`,Le=(await(await fetch(me)).json()).features||[];re(Le);const st=`${sp}/radius?radius=500&lon=${pe.longitude}&lat=${pe.latitude}&kinds=accomodations&limit=2&apikey=${rp}`,Ge=await fetch(st);if(Ge.status===429){je("Bạn đã gửi quá nhiều yêu cầu tới OpenTripMap. Vui lòng thử lại sau."),ke([]),De(!1);return}const ut=(await Ge.json()).features||[];ke(ut);const Fe=[...Le,...ut],ht={};for(const Pt of Fe)if(Pt.properties&&Pt.properties.xid){const en=`otm_detail_${Pt.properties.xid}`;let at=null;const jt=localStorage.getItem(en);if(jt)at=JSON.parse(jt);else{try{at=await(await fetch(`${sp}/xid/${Pt.properties.xid}?apikey=${rp}`)).json(),localStorage.setItem(en,JSON.stringify(at))}catch{}await new Promise(Dt=>setTimeout(Dt,2e3))}ht[Pt.properties.xid]=at}ve(ht)}catch{je("Không thể tải nhà hàng/khách sạn lân cận"),re([]),ke([]),ve({})}finally{De(!1)}}},[]);return I.useEffect(()=>{l&&Se(l)},[l,Se]),I.useEffect(()=>{l&&He(l)},[l,He]),s?i.jsx("div",{className:"min-vh-100 d-flex align-items-center justify-content-center",style:{background:"linear-gradient(90deg, #2196f3, #64b5f6)"},children:i.jsxs("div",{className:"text-center text-white",children:[i.jsx("div",{className:"spinner-border mb-3",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("h4",{children:"Đang tải thông tin địa điểm..."})]})}):h?i.jsx("div",{className:"min-vh-100 d-flex align-items-center justify-content-center",style:{background:"linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%)"},children:i.jsxs("div",{className:"text-center text-white",children:[i.jsx("i",{className:"bi bi-exclamation-triangle display-1 mb-3"}),i.jsx("h4",{children:h}),i.jsxs("button",{onClick:()=>N(-1),className:"btn btn-light mt-3",children:[i.jsx("i",{className:"bi bi-arrow-left me-2"}),"Quay lại"]})]})}):i.jsxs("div",{className:"min-vh-100 d-flex flex-column",style:{background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)"},children:[i.jsx(Br,{}),i.jsx("main",{className:"flex-grow-1",children:i.jsx("div",{className:"container-fluid p-0",children:i.jsx("div",{className:"row g-0",children:i.jsx("div",{className:"col-12",children:i.jsxs("div",{className:"place-detail-map-container",children:[i.jsx("div",{className:"map-background",children:i.jsxs(gb,{center:[parseFloat(l.latitude),parseFloat(l.longitude)],zoom:16,className:"detail-map",zoomControl:!0,children:[i.jsx(bb,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),j.map((pe,me)=>i.jsx(co,{position:[parseFloat(pe.latitude),parseFloat(pe.longitude)],icon:QC(pe.id===l.id?{...pe}:pe),children:i.jsx(uo,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("h5",{className:"text-primary mb-2",children:pe.name}),pe.address&&i.jsx("p",{className:"mb-1 small",children:pe.address}),pe.city&&i.jsx("p",{className:"mb-0 text-muted small",children:pe.city})]})})},pe.id)),j.length===0&&i.jsx(co,{position:[parseFloat(l.latitude),parseFloat(l.longitude)],icon:QC(l),children:i.jsx(uo,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("h5",{className:"text-primary mb-2",children:l.name}),l.address&&i.jsx("p",{className:"mb-1 small",children:l.address}),l.city&&i.jsx("p",{className:"mb-0 text-muted small",children:l.city})]})})}),$.filter(pe=>!j.some(me=>me.id===pe.id)).map(pe=>i.jsx(co,{position:[parseFloat(pe.latitude),parseFloat(pe.longitude)],icon:QC(pe),children:i.jsx(uo,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("h5",{className:"text-primary mb-2",children:pe.name}),pe.address&&i.jsx("p",{className:"mb-1 small",children:pe.address}),pe.city&&i.jsx("p",{className:"mb-0 text-muted small",children:pe.city})]})})},pe.id)),he.filter(pe=>pe.latitude&&pe.longitude).map(pe=>i.jsx(co,{position:[pe.latitude,pe.longitude],icon:OO,children:i.jsx(uo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:pe.name}),i.jsx("br",{}),pe.address&&i.jsxs("span",{children:[pe.address,i.jsx("br",{})]}),pe.city&&i.jsxs("span",{children:[pe.city,i.jsx("br",{})]}),pe.price_range&&i.jsxs("span",{children:["Giá: ",pe.price_range,i.jsx("br",{})]}),pe.rating&&i.jsxs("span",{children:["Đánh giá: ",pe.rating.toFixed(1)," / 5"]})]})})},`hotel-backend-${pe.id}`)),Z.filter(pe=>pe.latitude&&pe.longitude).map(pe=>i.jsx(co,{position:[pe.latitude,pe.longitude],icon:LO,children:i.jsx(uo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:pe.name}),i.jsx("br",{}),pe.address&&i.jsxs("span",{children:[pe.address,i.jsx("br",{})]}),pe.city&&i.jsxs("span",{children:[pe.city,i.jsx("br",{})]}),pe.price_range&&i.jsxs("span",{children:["Giá: ",pe.price_range,i.jsx("br",{})]}),pe.rating&&i.jsxs("span",{children:["Đánh giá: ",pe.rating.toFixed(1)," / 5"]})]})})},`restaurant-backend-${pe.id}`)),be.filter(pe=>pe.geometry&&pe.geometry.coordinates).map((pe,me)=>i.jsx(co,{position:[pe.geometry.coordinates[1],pe.geometry.coordinates[0]],icon:OO,children:i.jsx(uo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:pe.properties.name||"Khách sạn lân cận"}),i.jsx("br",{}),pe.properties.address&&i.jsxs("span",{children:[Object.values(pe.properties.address).join(", "),i.jsx("br",{})]})]})})},`hotel-otm-${pe.properties.xid}`)),de.filter(pe=>pe.geometry&&pe.geometry.coordinates).map((pe,me)=>i.jsx(co,{position:[pe.geometry.coordinates[1],pe.geometry.coordinates[0]],icon:LO,children:i.jsx(uo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:pe.properties.name||"Nhà hàng lân cận"}),i.jsx("br",{}),pe.properties.address&&i.jsxs("span",{children:[Object.values(pe.properties.address).join(", "),i.jsx("br",{})]})]})})},`restaurant-otm-${pe.properties.xid}`))]})}),i.jsx("div",{className:`info-overlay ${_?"expanded":""}`,children:i.jsx("div",{className:"overlay-content",children:i.jsx("div",{className:"tab-content",children:i.jsxs("div",{className:"place-basic-info",children:[l.image_url&&i.jsxs("div",{className:"position-relative",style:{height:"250px"},children:[i.jsx("img",{src:l.image_url.startsWith("http")?l.image_url:`${lB}${l.image_url}`,alt:l.name,className:"w-100 h-100",style:{objectFit:"cover"},onError:pe=>{pe.target.src="/default-place.jpg"}}),i.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"linear-gradient(180deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.4) 100%)"}}),i.jsxs("div",{className:"position-absolute bottom-0 start-0 w-100 p-3",children:[i.jsx("h2",{className:"text-white fw-bold mb-2 text-shadow",style:{fontSize:"1.8rem"},children:l.name}),i.jsxs("div",{className:"d-flex flex-wrap gap-2 align-items-center",children:[l.city&&i.jsxs("span",{className:"badge bg-primary bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),l.city]}),i.jsxs("span",{className:"badge bg-warning bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-star-fill me-1"}),(et=l.rating)!=null&&et.toFixed?l.rating.toFixed(1):l.rating,"/5"]})]})]})]}),i.jsx("div",{className:"d-flex justify-content-end pe-3",children:i.jsxs("button",{className:"btn btn-primary btn-sm rounded-pill",style:{fontSize:"0.8rem"},title:_?"Thu nhỏ thông tin":"Mở rộng thông tin",onClick:()=>y(!_),children:[i.jsx("i",{className:`bi ${_?"bi-arrows-collapse":"bi-arrows-expand"} me-1`}),_?"Xem bản đồ":"Xem thêm"]})}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"row g-3 mb-4",children:[l.address&&i.jsx("div",{className:"col-12",children:i.jsxs("div",{className:"d-flex align-items-center p-3 bg-light rounded-3",children:[i.jsx("div",{className:"bg-primary bg-opacity-10 p-2 rounded-circle me-3",children:i.jsx("i",{className:"bi bi-house text-primary"})}),i.jsxs("div",{children:[i.jsx("small",{className:"text-muted d-block",children:"Địa chỉ"}),i.jsx("strong",{className:"text-dark",children:l.address})]})]})}),l.opening_hours&&i.jsx("div",{className:"col-12",children:i.jsxs("div",{className:"d-flex align-items-center p-3 bg-light rounded-3",children:[i.jsx("div",{className:"bg-success bg-opacity-10 p-2 rounded-circle me-3",children:i.jsx("i",{className:"bi bi-clock text-success"})}),i.jsxs("div",{children:[i.jsx("small",{className:"text-muted d-block",children:"Giờ mở cửa"}),i.jsx("strong",{className:"text-dark",children:l.opening_hours})]})]})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"text-primary mb-3",children:[i.jsx("i",{className:"bi bi-info-circle me-2"}),"Mô tả"]}),i.jsx("div",{className:"p-3 bg-light rounded-3 description-text",style:{fontSize:"0.95rem",maxHeight:"150px",overflowY:"auto"},children:i.jsx("div",{children:Ce(l.description)})})]}),l.service&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"text-primary mb-3",children:[i.jsx("i",{className:"bi bi-activity me-2"}),"Dịch vụ"]}),i.jsx("div",{className:"p-3 service-section",children:i.jsx("p",{className:"text-dark mb-0 fw-medium",style:{fontSize:"0.95rem"},children:l.service})})]}),i.jsxs("div",{className:"card shadow-sm p-4 mb-4",style:{borderRadius:20,background:"linear-gradient(120deg, #f8fafc 0%, #e3f0ff 100%)"},children:[i.jsxs("h5",{className:"text-warning mb-3",children:[i.jsx("i",{className:"bi bi-star-fill me-2"}),"Đánh giá"]}),i.jsxs("div",{className:"d-flex align-items-center gap-4 mb-3 flex-wrap",children:[i.jsx(aB,{placeId:l.id}),i.jsx(Vl,{id:l.id})]}),i.jsx(XX,{placeId:l.id})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"text-success mb-3",children:[i.jsx("i",{className:"bi bi-geo-alt me-2"}),"Nhà hàng & Khách sạn lân cận"]}),we&&i.jsx("div",{children:"Đang tải nhà hàng/khách sạn lân cận..."}),_e&&i.jsx("div",{className:"text-danger",children:_e}),!we&&!_e&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("strong",{children:"Nhà hàng gần đây:"}),de.length===0?i.jsx("span",{className:"text-muted ms-2",children:"Không có dữ liệu"}):i.jsx("ul",{className:"list-unstyled ms-2",children:de.map(pe=>{const me=oe[pe.properties.xid]||{};return i.jsxs("li",{className:"mb-3 d-flex align-items-start gap-3",children:[me.preview&&me.preview.source?i.jsx("img",{src:me.preview.source,alt:me.name,style:{width:56,height:56,objectFit:"cover",borderRadius:8,flexShrink:0}}):i.jsx("div",{style:{width:56,height:56,background:"#eee",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",color:"#bbb",fontSize:24},children:i.jsx("i",{className:"bi bi-image"})}),i.jsxs("div",{children:[i.jsx("a",{href:`https://opentripmap.com/en/place/${pe.properties.xid}`,target:"_blank",rel:"noopener noreferrer",style:{fontWeight:600},children:me.name||pe.properties.name||"Nhà hàng không tên"}),me.address&&i.jsx("div",{className:"small text-muted",children:Object.values(me.address).join(", ")}),me.wikipedia_extracts&&i.jsx("div",{className:"small",children:me.wikipedia_extracts.text})]})]},pe.properties.xid)})})]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Khách sạn gần đây:"}),be.length===0?i.jsx("span",{className:"text-muted ms-2",children:"Không có dữ liệu"}):i.jsx("ul",{className:"list-unstyled ms-2",children:be.map(pe=>{const me=oe[pe.properties.xid]||{};return i.jsxs("li",{className:"mb-3 d-flex align-items-start gap-3",children:[me.preview&&me.preview.source?i.jsx("img",{src:me.preview.source,alt:me.name,style:{width:56,height:56,objectFit:"cover",borderRadius:8,flexShrink:0}}):i.jsx("div",{style:{width:56,height:56,background:"#eee",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",color:"#bbb",fontSize:24},children:i.jsx("i",{className:"bi bi-image"})}),i.jsxs("div",{children:[i.jsx("a",{href:`https://opentripmap.com/en/place/${pe.properties.xid}`,target:"_blank",rel:"noopener noreferrer",style:{fontWeight:600},children:me.name||pe.properties.name||"Khách sạn không tên"}),me.address&&i.jsx("div",{className:"small text-muted",children:Object.values(me.address).join(", ")}),me.wikipedia_extracts&&i.jsx("div",{className:"small",children:me.wikipedia_extracts.text})]})]},pe.properties.xid)})})]})]})]}),i.jsxs("div",{className:"d-flex gap-2 justify-content-center pt-3",children:[i.jsxs("button",{onClick:()=>N(-1),className:"btn btn-outline-primary px-3 py-2 rounded-pill",style:{fontSize:"0.9rem"},children:[i.jsx("i",{className:"bi bi-arrow-left me-2"}),"Quay lại"]}),i.jsxs("button",{className:"btn btn-primary px-3 py-2 rounded-pill",style:{fontSize:"0.9rem"},children:[i.jsx("i",{className:"bi bi-share me-2"}),"Chia sẻ"]})]})]})]})})})})]})})})})})]})},ev={searchByCity:l=>kt.get(`https://walkingguide.onrender.com/api/restaurants/search?city=${encodeURIComponent(l)}`)},Am="https://walkingguide.onrender.com",eJ=({places:l})=>{const c=Ch();return I.useEffect(()=>{if(l&&l.length>0)if(l.length===1)c.setView([parseFloat(l[0].latitude),parseFloat(l[0].longitude)],14);else{const s=lr.latLngBounds(l.map(o=>[parseFloat(o.latitude),parseFloat(o.longitude)]));c.fitBounds(s,{padding:[20,20]})}},[l,c]),null},tJ=l=>{if(l.image_url){const o=l.image_url.startsWith("http")?l.image_url:`${Am}${l.image_url}`;return new lr.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          overflow: hidden;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
          <img 
            src="${o}" 
            alt="${l.name}"
            style="
              width: 100%;
              height: 100%;
              margin-left: 11px;
              object-fit: cover;
            "
            onerror="this.style.display='none'; this.parentElement.innerHTML='<i class=\\"bi bi-geo-alt-fill\\" style=\\"font-size: 20px; color: #3498db;\\"></i>';"
          />
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})}else return new lr.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
          <i class="bi bi-geo-alt-fill" style="font-size: 24px; color: #3498db;"></i>
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})},nJ=()=>new lr.Icon({iconUrl:ow,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]}),iJ=()=>new lr.Icon({iconUrl:aw,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]});function hu(l){return l?l.normalize("NFD").replace(/\u0300-\u036f/g,"").replace(/[\u0300-\u036f]/g,"").replace(/đ/g,"d").replace(/Đ/g,"D").trim().toLowerCase():""}const rJ=()=>{var st,Ge;const[l,c]=I.useState(null),[s,o]=I.useState(!0),[h,g]=I.useState(null),{id:_}=Ab();ka();const[y,v]=I.useState([]),[N,S]=I.useState([]),[D,j]=I.useState(!1),[B,F]=I.useState(null),[V,$]=I.useState(null),{user:K}=nt.useContext(ds),[Q,ee]=I.useState(!1),[ne,le]=I.useState(null),[se,q]=I.useState(null),[de,re]=I.useState(""),[be,ke]=I.useState(1),[we,De]=I.useState(!1),[_e,je]=I.useState("journey"),[oe,ve]=I.useState([]),[he,Ee]=I.useState([]),[Z,fe]=I.useState(!1),[Ce,Se]=I.useState(!1),[He,et]=I.useState([]),[pe,me]=I.useState([]);I.useEffect(()=>{(async()=>{try{const Fe=await kt.get(`${Am}/api/tours/${_}`);if(Fe.status!==200)throw new Error("Không tìm thấy lộ trình");const ht=Fe.headers["content-type"];if(!ht||!ht.includes("application/json"))throw new Error("Server trả về dữ liệu không hợp lệ");const Pt=Fe.data;console.log("Fetched tour:",Pt),c(Pt),o(!1)}catch(Fe){g(Fe.message),o(!1)}})(),(async()=>{try{let ht=(await wb.getAll({role:"ADMIN"})).data||[];v(ht)}catch{v([])}})()},[_]),I.useEffect(()=>{if(!l||!l.steps||l.steps.length===0){S([]);return}(async()=>{const ut=[...l.steps].sort((at,jt)=>at.step_order-jt.step_order),Fe=ut.filter(at=>at.place_id&&!isNaN(Number(at.place_id))),ht=await Promise.all(Fe.map(at=>kt.get(`${Am}/api/places/${Number(at.place_id)}`).then(jt=>jt.data)));S(ht);let Pt=0;const en=ut.map(at=>{if(at.place_id&&!isNaN(Number(at.place_id))){const jt=ht[Pt];return Pt++,{...at,place:jt}}return at});console.log("Steps with place:",en),c(at=>({...at,steps:en}))})()},[l==null?void 0:l.id,(st=l==null?void 0:l.steps)==null?void 0:st.length]),I.useEffect(()=>{const Oe=async()=>{try{const Fe=await bh.getAll?bh.getAll():bh.searchByCity("");et(Fe.data.data||Fe.data||[])}catch{et([])}},ut=async()=>{try{const Fe=await ev.getAll?ev.getAll():ev.searchByCity("");me(Fe.data.data||Fe.data||[])}catch{me([])}};Oe(),ut()},[]),I.useEffect(()=>{if(N.length>0){const Oe=async()=>{fe(!0);const Fe=Le();console.log("Fetching hotels for cities:",Fe);let ht=[];for(const Pt of Fe)try{const en=await bh.searchByCity(Pt);console.log(`Hotels for ${Pt}:`,en.data),en.data&&en.data.data&&(ht=ht.concat(en.data.data))}catch(en){console.error(`Error fetching hotels for ${Pt}:`,en)}console.log("All fetched hotels:",ht),et(ht),fe(!1)},ut=async()=>{Se(!0);const Fe=Le();console.log("Fetching restaurants for cities:",Fe);let ht=[];for(const Pt of Fe)try{const en=await ev.searchByCity(Pt);console.log(`Restaurants for ${Pt}:`,en.data),en.data&&en.data.data&&(ht=ht.concat(en.data.data))}catch(en){console.error(`Error fetching restaurants for ${Pt}:`,en)}console.log("All fetched restaurants:",ht),me(ht),Se(!1)};Oe(),ut()}},[N]),I.useEffect(()=>{if(_e==="hotels"&&N.length>0&&He){fe(!0);const Oe=N.map(Fe=>hu(Fe.city)).filter(Boolean),ut=He.filter(Fe=>{const ht=hu(Fe.city);return Oe.includes(ht)});ve(ut),fe(!1)}if(_e==="restaurants"&&N.length>0&&pe){Se(!0);const Oe=N.map(Fe=>hu(Fe.city)).filter(Boolean),ut=pe.filter(Fe=>{const ht=hu(Fe.city);return Oe.includes(ht)});Ee(ut),Se(!1)}},[_e,N,He,pe]);function Ie(Oe,ut){const Fe=[];for(let ht=0;ht<Oe.length;ht+=ut)Fe.push(Oe.slice(ht,ht+ut));return Fe}const We=async()=>{var Oe,ut;if(re(""),!ne||!se){re("Vui lòng chọn cả ngày bắt đầu và kết thúc.");return}if(se<ne){re("Ngày kết thúc phải sau ngày bắt đầu.");return}if(!K||!K.id){re("Bạn cần đăng nhập để đặt tour.");return}if(be<1||be>20){re("Số lượng chỗ phải từ 1 đến 20.");return}De(!0);try{await wb.bookTour(l.id,K.id,ne,se,be),ee(!1),F(`Đặt tour thành công!
Số lượng khách: ${be}
Tổng giá: ${(be*(l.total_cost||0)).toLocaleString("vi-VN")} VND`)}catch(Fe){re(((ut=(Oe=Fe==null?void 0:Fe.response)==null?void 0:Oe.data)==null?void 0:ut.error)||"Lỗi khi đặt tour. Vui lòng thử lại.")}finally{De(!1)}};function Le(){console.log("Route places:",N);const Oe=N.map(ht=>ht.city&&ht.city.trim()).filter(Boolean);console.log("Extracted cities:",Oe);const ut=new Set,Fe=Oe.filter(ht=>{const Pt=hu(ht);return ut.has(Pt)?!1:(ut.add(Pt),!0)});return console.log("Unique normalized cities:",Fe),Fe}return s?i.jsx("div",{className:"flex justify-center items-center h-screen",children:i.jsx("p",{className:"text-xl text-gray-600",children:"Đang tải..."})}):h?i.jsx("div",{className:"flex justify-center items-center h-screen",children:i.jsx("p",{className:"text-xl text-red-600",children:h})}):i.jsxs("div",{className:"min-vh-100 d-flex flex-column luxury-home-container",children:[i.jsx(Br,{}),i.jsx("main",{className:"flex-grow-1",children:i.jsx("div",{className:"container mx-auto p-4 max-w-3xl",children:i.jsxs("div",{style:{background:"rgba(245, 250, 255, 0.95)",borderRadius:"1.5rem",boxShadow:"0 4px 24px 0 rgba(31, 38, 135, 0.10)",padding:"2.5rem 2rem",margin:"2rem 0"},children:["            ",i.jsxs("div",{style:{position:"relative",width:"100%",minHeight:380,maxHeight:520,borderRadius:"1.5rem",overflow:"hidden",marginBottom:40,boxShadow:"0 4px 32px 0 rgba(177, 178, 189, 0.13)"},children:[i.jsx("img",{src:l.image_url.startsWith("http")?l.image_url:`${Am}${l.image_url}`,alt:l.name,style:{width:"100%",height:520,objectFit:"cover",objectPosition:"center",filter:"brightness(0.6)",position:"absolute",top:0,left:0,zIndex:1}}),i.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(180deg, rgba(24, 24, 24, 0.55) 0%, rgba(134, 132, 132, 0.18) 60%, rgba(60, 60, 60, 0.65) 100%)",zIndex:2}}),i.jsxs("div",{style:{position:"relative",zIndex:3,height:520,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"0 2.5rem",textAlign:"center"},children:[i.jsx("h1",{className:"display-3 fw-bold mb-3",style:{color:"#fff",textShadow:"0 2px 24px #000a",letterSpacing:"-1.5px",fontSize:"3.2rem"},children:l.name}),i.jsxs("div",{className:"d-flex gap-3 justify-content-center align-items-center mb-2",children:[i.jsx(aB,{id:l.id,type:"tour"}),i.jsx(Vl,{id:l.id,type:"tour"})]})]})]}),i.jsxs("div",{className:"mb-5 p-4",style:{background:"#fafdff",borderRadius:"1.25rem",boxShadow:"0 2px 12px #b6e0fe22"},children:[i.jsx("h2",{className:"h5 fw-bold mb-3",style:{color:"#3c69b0",letterSpacing:"-0.5px"},children:"Giới thiệu về chuyến đi"}),i.jsx("hr",{style:{margin:"0 0 1.5rem 0",borderColor:"#e3f0ff"}}),i.jsx("div",{className:"prose prose-lg",style:{color:"#223a5f",fontSize:"1.15rem",lineHeight:1.7},children:i.jsx("div",{dangerouslySetInnerHTML:{__html:l.description}})})]}),i.jsx("div",{style:{width:"100%",maxWidth:"100%",height:340,borderRadius:"1.5rem",overflow:"hidden",boxShadow:"0 4px 24px #b6e0fe55",border:"1px solid #e3f0ff",flex:"1 1 400px",background:"#fafdff"},children:i.jsxs(gb,{center:[10.8231,106.6297],zoom:13,style:{width:"100%",height:"100%"},scrollWheelZoom:!1,dragging:!0,doubleClickZoom:!1,boxZoom:!1,keyboard:!1,zoomControl:!0,children:[i.jsx(eJ,{places:N}),i.jsx(bb,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),N.length>1&&i.jsx(nq,{positions:N.map(Oe=>[parseFloat(Oe.latitude),parseFloat(Oe.longitude)]),pathOptions:{color:"#1a5bb8",weight:4,opacity:.8}}),N.map((Oe,ut)=>i.jsx(co,{position:[parseFloat(Oe.latitude),parseFloat(Oe.longitude)],icon:tJ(Oe),children:i.jsx(uo,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("h5",{className:"text-primary mb-2",children:Oe.name}),Oe.address&&i.jsx("p",{className:"mb-1 small",children:Oe.address}),Oe.city&&i.jsx("p",{className:"mb-0 text-muted small",children:Oe.city})]})})},`place-${Oe.id}`)),He.map((Oe,ut)=>i.jsx(co,{position:[parseFloat(Oe.latitude),parseFloat(Oe.longitude)],icon:nJ(),children:i.jsx(uo,{children:i.jsxs("div",{className:"text-center",children:[i.jsxs("h6",{className:"text-danger mb-2",children:[i.jsx("i",{className:"bi bi-building me-1"}),Oe.name]}),Oe.city&&i.jsx("p",{className:"mb-1 small",children:Oe.city}),Oe.price_range&&i.jsx("p",{className:"mb-1 text-muted small",children:Oe.price_range}),i.jsxs(tn,{to:`/hotels/${Oe.id}`,className:"btn btn-sm btn-outline-danger mt-2",children:[i.jsx("i",{className:"bi bi-arrow-right me-1"}),"Xem chi tiết"]})]})})},`hotel-${Oe.id}`)),pe.map((Oe,ut)=>i.jsx(co,{position:[parseFloat(Oe.latitude),parseFloat(Oe.longitude)],icon:iJ(),children:i.jsx(uo,{children:i.jsxs("div",{className:"text-center",children:[i.jsxs("h6",{className:"text-warning mb-2",children:[i.jsx("i",{className:"bi bi-cup-hot me-1"}),Oe.name]}),Oe.city&&i.jsx("p",{className:"mb-1 small",children:Oe.city}),Oe.cuisine_type&&i.jsx("p",{className:"mb-1 small text-muted",children:Oe.cuisine_type}),Oe.price_range&&i.jsx("p",{className:"mb-1 text-muted small",children:Oe.price_range}),i.jsxs(tn,{to:`/restaurants/${Oe.id}`,className:"btn btn-sm btn-outline-warning mt-2",children:[i.jsx("i",{className:"bi bi-arrow-right me-1"}),"Xem chi tiết"]})]})})},`restaurant-${Oe.id}`))]})}),i.jsxs("div",{style:{display:"flex",justifyContent:"center",marginTop:24,marginBottom:16},children:[i.jsx("button",{className:`tab-btn${_e==="journey"?" active":""}`,style:{padding:"10px 24px",border:"none",borderRadius:"1.5rem 0 0 1.5rem",background:_e==="journey"?"#b6e0fe":"#e3f0ff",color:_e==="journey"?"#1a5bb8":"#3c69b0",fontWeight:600,fontSize:16,cursor:"pointer",transition:"background 0.2s, color 0.2s",outline:"none"},onClick:()=>je("journey"),children:"Hành trình"}),i.jsx("button",{className:`tab-btn${_e==="hotels"?" active":""}`,style:{padding:"10px 24px",border:"none",borderRadius:0,background:_e==="hotels"?"#b6e0fe":"#e3f0ff",color:_e==="hotels"?"#1a5bb8":"#3c69b0",fontWeight:600,fontSize:16,cursor:"pointer",transition:"background 0.2s, color 0.2s",outline:"none"},onClick:()=>je("hotels"),children:"Khách sạn"}),i.jsx("button",{className:`tab-btn${_e==="restaurants"?" active":""}`,style:{padding:"10px 24px",border:"none",borderRadius:"0 1.5rem 1.5rem 0",background:_e==="restaurants"?"#b6e0fe":"#e3f0ff",color:_e==="restaurants"?"#1a5bb8":"#3c69b0",fontWeight:600,fontSize:16,cursor:"pointer",transition:"background 0.2s, color 0.2s",outline:"none"},onClick:()=>je("restaurants"),children:"Nhà hàng"})]}),i.jsxs("div",{style:{marginTop:16},children:[_e==="journey"&&i.jsx("div",{children:l.steps&&l.steps.length>0&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl fw-bold mb-3 mt-4",style:{color:"#3c69b0"},children:"Hành trình:"}),(()=>{const Oe=l.steps.reduce((Fe,ht)=>{const Pt=ht.day||1;return Fe[Pt]||(Fe[Pt]=[]),Fe[Pt].push(ht),Fe},{}),ut=Object.keys(Oe).sort((Fe,ht)=>Fe-ht);return i.jsx("div",{children:ut.map(Fe=>i.jsxs("div",{className:"mb-3",children:[i.jsxs("h4",{className:"fw-bold mb-2",style:{color:"#3c69b0"},children:["Ngày ",Fe]}),i.jsx("div",{children:Oe[Fe].sort((ht,Pt)=>ht.step_order-Pt.step_order).map(ht=>i.jsxs("div",{className:"mb-4",style:{position:"relative",paddingLeft:0},children:[i.jsx("div",{style:{fontWeight:700,color:"#3c69b0",fontSize:"1.12rem",marginBottom:4},children:ht.place_name||ht.place&&ht.place.name}),ht.place&&ht.place.description&&i.jsxs("div",{style:{color:"#223a5f",fontSize:"1.01rem",background:"#fafdff",borderRadius:8,padding:"10px 14px",boxShadow:"0 1px 6px #e3f0ff33"},children:[ht.place.description.replace(/<[^>]+>/g,"").slice(0,180),ht.place.description.length>180?"...":""]})]},ht.id))})]},Fe))})})()]})}),_e==="hotels"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl fw-bold mb-3 mt-4",style:{color:"#3c69b0"},children:"Khách sạn dọc hành trình"}),Z?i.jsx("div",{className:"text-muted",children:"Đang tải khách sạn..."}):Le().length===0?i.jsx("div",{className:"text-muted",children:"Không tìm thấy thành phố nào trong hành trình."}):Le().map(Oe=>{const ut=He.filter(Fe=>hu(Fe.city)===hu(Oe));return i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"fw-bold mb-3",children:["Khách sạn tại ",Oe]}),i.jsx("div",{className:"row g-4",children:ut.length===0?i.jsx("div",{className:"col-12 text-muted",children:"Không tìm thấy khách sạn phù hợp."}):ut.map((Fe,ht)=>i.jsx("div",{className:"col-12 col-md-6 col-lg-4",children:i.jsx(tn,{to:`/hotels/${Fe.id}`,className:"text-decoration-none",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs("div",{className:"position-relative",children:[Fe.images&&Fe.images.length>0&&Fe.images[0].image_url?i.jsx("img",{src:Fe.images[0].image_url.startsWith("http")?Fe.images[0].image_url:`${Am}${Fe.images[0].image_url}`,alt:Fe.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,background:"linear-gradient(135deg, #3498db 0%, #2980b9 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-building"})}),Fe.stars&&i.jsx("div",{className:"position-absolute top-0 end-0 m-2",children:i.jsxs("span",{className:"badge bg-warning text-dark",children:[i.jsx("i",{className:"bi bi-star-fill me-1"}),Fe.stars]})})]}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:Fe.name}),Fe.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),Fe.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:Fe.description?`${Fe.description.substring(0,100)}...`:"Không có mô tả"}),i.jsx(Vl,{id:Fe.id,type:"hotel"}),Fe.price_range&&i.jsxs("p",{className:"card-text text-muted small mb-0",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",Fe.price_range,Fe.min_price>0&&` (${Fe.min_price.toLocaleString()} VND)`]})]})]})})},Fe.id||ht))})]},Oe)})]}),_e==="restaurants"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl fw-bold mb-3 mt-4",style:{color:"#3c69b0"},children:"Nhà hàng dọc hành trình"}),Ce?i.jsx("div",{className:"text-muted",children:"Đang tải nhà hàng..."}):Le().length===0?i.jsx("div",{className:"text-muted",children:"Không tìm thấy thành phố nào trong hành trình."}):Le().map(Oe=>{const ut=pe.filter(Fe=>hu(Fe.city)===hu(Oe));return i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"fw-bold mb-3",children:["Nhà hàng tại ",Oe]}),i.jsx("div",{className:"row g-4",children:ut.length===0?i.jsx("div",{className:"col-12 text-muted",children:"Không tìm thấy nhà hàng phù hợp."}):ut.map((Fe,ht)=>i.jsx("div",{className:"col-12 col-md-6 col-lg-4",children:i.jsx(tn,{to:`/restaurants/${Fe.id}`,className:"text-decoration-none",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs("div",{className:"position-relative",children:[Fe.images&&Fe.images.length>0&&Fe.images[0].image_url?i.jsx("img",{src:Fe.images[0].image_url.startsWith("http")?Fe.images[0].image_url:`${Am}${Fe.images[0].image_url}`,alt:Fe.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,background:"linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-cup-hot"})}),Fe.cuisine_type&&i.jsx("div",{className:"position-absolute top-0 start-0 m-2",children:i.jsx("span",{className:"badge bg-primary",children:Fe.cuisine_type})})]}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:Fe.name}),Fe.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),Fe.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:Fe.description?`${Fe.description.substring(0,100)}...`:"Không có mô tả"}),i.jsx(Vl,{id:Fe.id,type:"restaurant"}),Fe.price_range&&i.jsxs("p",{className:"card-text text-muted small mb-0",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",Fe.price_range,Fe.min_price>0&&` (${Fe.min_price.toLocaleString()} VND)`]})]})]})})},Fe.id||ht))})]},Oe)})]})]}),i.jsx("div",{className:"d-flex justify-content-center mt-3",children:l&&K&&l.user_id!==K.id&&i.jsx("button",{className:"btn btn-main",onClick:()=>ee(!0),disabled:D,children:D?"Đang thêm...":"Thêm vào chuyến đi của tôi"})}),i.jsx(U5,{open:!!B,onClose:()=>F(null),children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{style:{fontSize:48,color:"#28a745",marginBottom:16},children:i.jsx("i",{className:"bi bi-check-circle-fill"})}),i.jsx("h4",{className:"mb-3",style:{color:"#28a745"},children:"Thành công!"}),i.jsx("div",{className:"mb-4",style:{whiteSpace:"pre-line"},children:B}),i.jsx("button",{className:"btn btn-main px-4",onClick:()=>F(null),children:"Đóng"})]})}),V&&i.jsx("div",{className:"alert alert-danger text-center mt-3",children:V})]})})}),i.jsxs("div",{className:"container my-5",children:[i.jsx("h2",{className:"h4 mb-4 fw-bold luxury-section-title",children:"Chuyến đi khác"}),(()=>{const Oe=(Array.isArray(y)?y:[]).filter(ut=>ut.id!==Number(_));return Oe.length===0?i.jsx("p",{className:"text-muted text-center",children:"Không có chuyến đi nào để hiển thị."}):i.jsxs("div",{id:"toursCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[i.jsx("div",{className:"carousel-inner",children:Ie(Oe,3).map((ut,Fe)=>i.jsx("div",{className:`carousel-item${Fe===0?" active":""}`,children:i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 justify-content-center",children:ut.map(ht=>i.jsx("div",{className:"col",children:i.jsx(tn,{to:`/tours/${ht.id}`,className:"text-decoration-none",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsx("div",{className:"position-relative",children:ht.image_url?i.jsx("img",{src:ht.image_url.startsWith("http")?ht.image_url:`${Am}${ht.image_url}`,alt:ht.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,background:"linear-gradient(135deg, #1a5bb8 0%, #3c69b0 100%)",color:"white",fontSize:"3rem",borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem"},children:i.jsx("i",{className:"bi bi-map"})})}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:ht.name}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:ht.description?`${ht.description.replace(/<[^>]+>/g,"").substring(0,100)}...`:"Chưa có mô tả"}),i.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[i.jsxs("span",{className:"card-text text-muted small mb-0 luxury-rating",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",ht.total_cost?ht.total_cost.toLocaleString("vi-VN"):"0"," VND"]}),ht.rating&&i.jsx(Vl,{id:ht.id,type:"tour"})]})]})]})})},ht.id))})},ut.map(ht=>ht.id).join("-")))}),Ie(Oe,3).length>1&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#toursCarousel","data-bs-slide":"prev",style:{width:"5rem",height:"5rem",top:"50%",left:"-4rem",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Previous"})]}),i.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#toursCarousel","data-bs-slide":"next",style:{width:"5rem",height:"5rem",top:"50%",right:"-4rem",left:"auto",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Next"})]})]})]})})()]}),Q&&i.jsxs(yt,{show:Q,onHide:()=>ee(!1),centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Chọn ngày bắt đầu, kết thúc và số lượng chỗ"})}),i.jsxs(yt.Body,{children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:i.jsx("strong",{children:"Ngày bắt đầu:"})}),i.jsx(Pv,{selected:ne,onChange:Oe=>le(Oe),selectsStart:!0,startDate:ne,endDate:se,minDate:new Date,dateFormat:"dd/MM/yyyy",className:"form-control"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:i.jsx("strong",{children:"Ngày kết thúc:"})}),i.jsx(Pv,{selected:se,onChange:Oe=>q(Oe),selectsEnd:!0,startDate:ne,endDate:se,minDate:ne||new Date,dateFormat:"dd/MM/yyyy",className:"form-control"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:i.jsx("strong",{children:"Số lượng chỗ:"})}),i.jsx("input",{type:"number",min:1,max:20,value:be,onChange:Oe=>ke(Math.max(1,Math.min(20,Number(Oe.target.value)))),className:"form-control",style:{maxWidth:120}})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("strong",{children:"Giá mỗi chỗ:"})," ",(Ge=l.total_cost)==null?void 0:Ge.toLocaleString("vi-VN")," VND",i.jsx("br",{}),i.jsx("strong",{children:"Tổng cộng:"})," ",(be*(l.total_cost||0)).toLocaleString("vi-VN")," VND"]}),de&&i.jsx("div",{className:"alert alert-danger py-2",children:de})]}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:()=>ee(!1),disabled:we,children:"Đóng"}),i.jsxs(Ut,{variant:"primary",onClick:We,disabled:we||!ne||!se||be<1||be>20,children:[we?i.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}):null,"Xác nhận"]})]})]}),i.jsx(Yr,{})]})},sJ=({show:l,onClose:c,onConfirm:s,title:o="Xác nhận",message:h,confirmText:g="Xác nhận",cancelText:_="Hủy",type:y="warning",confirmVariant:v="danger"})=>{const N=()=>{switch(y){case"danger":return i.jsx("i",{className:"bi bi-exclamation-triangle-fill text-danger me-2"});case"warning":return i.jsx("i",{className:"bi bi-exclamation-triangle-fill text-warning me-2"});default:return i.jsx("i",{className:"bi bi-question-circle-fill text-info me-2"})}},S=()=>{switch(v){case"danger":return"danger";case"warning":return"warning";case"success":return"success";default:return"primary"}};return i.jsxs(yt,{show:l,onHide:c,centered:!0,className:"luxury-modal",children:[i.jsx(yt.Header,{closeButton:!0,className:"luxury-modal-header",children:i.jsxs(yt.Title,{className:"luxury-modal-title d-flex align-items-center",children:[N(),o]})}),i.jsx(yt.Body,{className:"luxury-modal-body",children:i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"mb-0",style:{fontSize:"1.1rem",lineHeight:"1.6"},children:h})})}),i.jsxs(yt.Footer,{className:"luxury-modal-footer",children:[i.jsx(Ut,{variant:"secondary",onClick:c,style:{minWidth:"100px"},children:_}),i.jsx(Ut,{variant:S(),onClick:s,className:"btn-main",style:{minWidth:"100px"},children:g})]})]})};function oJ(){const{user:l}=I.useContext(ds),[c,s]=I.useState([]),[o,h]=I.useState(!0),[g,_]=I.useState(""),[y,v]=I.useState(null),[N,S]=I.useState(!1),[D,j]=I.useState(!1),[B,F]=I.useState(!1),[V,$]=I.useState(null),[K,Q]=I.useState(""),[ee,ne]=I.useState([]),[le,se]=I.useState({}),[q,de]=I.useState([]),[re,be]=I.useState({name:"",description:"",image_url:"",total_cost:"",start_from:""}),[ke,we]=I.useState(""),[De,_e]=I.useState(!1),[je,oe]=I.useState(null),[ve,he]=I.useState({stay_duration:""}),[Ee,Z]=I.useState(""),[fe,Ce]=I.useState([]),[Se,He]=I.useState([]),[et,pe]=I.useState(!1),[me,Ie]=I.useState(null),[We,Le]=I.useState([]),[st,Ge]=I.useState({}),{alertModal:Oe,confirmModal:ut,showSuccess:Fe,showError:ht,showDeleteConfirm:Pt,showCancelConfirm:en,hideAlert:at,hideConfirm:jt,handleConfirm:Dt}=F3(),[Qe,Tt]=I.useState([]),[Ot,$e]=I.useState([]),[bt,$t]=I.useState(!1),[fn,Rn]=I.useState(!1),[vn,ai]=I.useState([]),ci="https://walkingguide.onrender.com",Ar=Re=>{$t(Re.target.checked),Tt(Re.target.checked?c.map(Lt=>Lt.id):[])},nr=Re=>{Rn(Re.target.checked),$e(Re.target.checked?Se.map(Lt=>{var ft;return(ft=Lt.booking)==null?void 0:ft.id}).filter(Boolean):[])},Li=Re=>{Tt(Lt=>Lt.includes(Re)?Lt.filter(ft=>ft!==Re):[...Lt,Re])},ni=Re=>{$e(Lt=>Lt.includes(Re)?Lt.filter(ft=>ft!==Re):[...Lt,Re])},Xn=async()=>{Qe.length!==0&&Pt("Bạn có chắc chắn muốn xóa các tour đã chọn?",async()=>{try{await Promise.all(Qe.map(Re=>kt.delete(`${ci}/api/tours/${Re}`))),s(Re=>Re.filter(Lt=>!Qe.includes(Lt.id))),Tt([]),$t(!1),Fe("Đã xóa các tour thành công!")}catch{ht("Không thể xóa một số tour.")}},"Xác nhận xóa tour")},$s=async()=>{Ot.length!==0&&en("Bạn có chắc chắn muốn hủy các booking đã chọn?",async()=>{try{await Promise.all(Ot.map(Re=>kt.delete(`${ci}/api/bookings/${Re}`))),He(Re=>Re.filter(Lt=>{var ft;return!Ot.includes((ft=Lt.booking)==null?void 0:ft.id)})),$e([]),Rn(!1),Fe("Đã hủy các booking thành công!")}catch{ht("Không thể hủy một số booking.")}},"Xác nhận hủy booking")};I.useEffect(()=>{l&&(kt.get(`${ci}/api/tours/user/${l.id}`).then(Re=>{s(Re.data),Re.data.length>0&&v(Re.data[0])}).catch(()=>_("Không thể tải danh sách tour.")).finally(()=>h(!1)),wb.getUserBookedTours(l.id).then(Re=>He(Re.data)).catch(()=>He([])),bh.getUserHotelBookings(l.id).then(Re=>ai(Re.data)).catch(()=>ai([])))},[l]),I.useEffect(()=>{if(!y)return;let Re=!0;async function Lt(){try{const ft=await sB.getByTourId(y.id);if(!Re)return;console.log("Tour steps data:",ft.data),ne(ft.data);const Bt=ft.data.map(Sn=>Sn.place_id),an=[...new Set(Bt)],On={};for(const Sn of an)if(le[Sn])On[Sn]=le[Sn];else{const fi=await kb.getById(Sn);On[Sn]=fi.data}se(Sn=>({...Sn,...On}))}catch{}}return Lt(),()=>{Re=!1}},[y]),I.useEffect(()=>{kb.getAll().then(Re=>de(Re.data)).catch(()=>de([]))},[]),I.useEffect(()=>{D&&y&&ee.length>0&&(be({name:y.name||"",description:y.description||"",image_url:y.image_url||"",total_cost:y.total_cost||"",start_time:y.start_time||"",end_time:y.end_time||"",steps:ee.map(Re=>({...Re})),start_from:y.start_from||""}),we(""))},[D,y,ee]);const di=Re=>{const{name:Lt,value:ft}=Re.target;be(Bt=>({...Bt,[Lt]:ft}))},ir=(Re,Lt,ft)=>{be(Bt=>{const an=[...Bt.steps];return an[Re]={...an[Re],[Lt]:ft},{...Bt,steps:an}})},kr=()=>{be(Re=>{var Lt;return{...Re,steps:[...Re.steps,{place_id:((Lt=q[0])==null?void 0:Lt.id)||"",stay_duration:30,step_order:Re.steps.length+1}]}})},rr=Re=>{be(Lt=>{const ft=Lt.steps[Re],Bt=Lt.steps.filter((an,On)=>On!==Re).map((an,On)=>({...an,step_order:On+1}));return ft.id&&Ce(an=>[...an,ft.id]),{...Lt,steps:Bt}})},Nr=async Re=>{Re.preventDefault();try{const Lt=re.steps&&re.steps[0],ft=Lt?q.find(Sn=>Sn.id==Lt.place_id):null,Bt=ft?ft.name:re.name,an=ft&&ft.image_url?ft.image_url:re.image_url,On=await kt.put(`${ci}/api/tours/${y.id}`,{name:Bt,description:re.description,image_url:an,total_cost:re.total_cost,start_time:re.start_time,end_time:re.end_time,start_from:re.start_from});await Promise.all(re.steps.map(Sn=>kt.put(`${ci}/api/tour-steps/${Sn.id}`,{place_id:Sn.place_id,stay_duration:Sn.stay_duration,step_order:Sn.step_order,start_time:Sn.start_time,end_time:Sn.end_time,day:Sn.day||1}))),await Promise.all(fe.map(Sn=>kt.delete(`${ci}/api/tour-steps/${Sn}`))),s(Sn=>Sn.map(fi=>fi.id===y.id?{...fi,...On.data}:fi)),v(Sn=>({...Sn,...On.data})),ne(re.steps),Ce([]),j(!1)}catch{we("Không thể cập nhật tour hoặc hành trình.")}},qe=async Re=>{try{await kt.delete(`${ci}/api/tours/${Re}`),s(Lt=>Lt.filter(ft=>ft.id!==Re)),pe(!1),Fe("Đã xóa tour thành công!")}catch{ht("Không thể xóa tour.")}},Zt=async Re=>{var Lt;if(!Re){ht("Không tìm thấy booking để hủy.");return}try{const ft=await kt.delete(`${ci}/api/bookings/${Re}`);ft.status===200&&((Lt=ft.data)!=null&&Lt.message)?(He(Bt=>Bt.filter(an=>{var On;return((On=an.booking)==null?void 0:On.id)!==Re})),pe(!1),Fe("Đã hủy đặt tour thành công!")):ht("Không thể hủy đặt tour.")}catch{ht("Không thể hủy đặt tour.")}},rt=async Re=>{var Lt;if(!Re){ht("Không tìm thấy booking để hủy.");return}try{const ft=await kt.delete(`${ci}/api/hotels/hotel-bookings/${Re}`);ft.status===200&&((Lt=ft.data)!=null&&Lt.message)?(ai(Bt=>Bt.filter(an=>an.id!==Re)),Fe("Đã hủy đặt khách sạn thành công!")):ht("Không thể hủy đặt khách sạn.")}catch{ht("Không thể hủy đặt khách sạn.")}};return i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Br,{}),i.jsxs("main",{className:"container px-4 py-4 flex-grow-1",children:[i.jsxs("div",{className:"mb-5 d-flex align-items-center gap-3 border-bottom pb-3",children:[i.jsx("h2",{className:"fw-bold mb-0",style:{color:"#1a5bb8"},children:"Chuyến đi của bạn"}),i.jsxs("button",{className:"btn btn-main ms-auto d-flex align-items-center gap-2",style:{borderRadius:8,fontWeight:600},onClick:()=>S(!0),children:[i.jsx(dY,{})," Tạo chuyến đi mới"]})]}),N&&i.jsx("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.25)"},tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",style:{borderRadius:16,boxShadow:"0 4px 24px #1a5bb822"},children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:"Tạo tour mới"}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>S(!1)})]}),i.jsxs("div",{className:"modal-body text-center",children:[i.jsx("p",{className:"mb-4",children:"Bạn muốn tạo tour bằng cách nào?"}),i.jsxs("div",{className:"d-flex flex-column gap-3",children:[i.jsxs("button",{className:"btn btn-main",style:{fontWeight:600,fontSize:"1.1rem"},onClick:()=>{S(!1),window.location.href="/ai/generate-tour"},children:[i.jsx("i",{className:"bi bi-stars me-2"}),"Tạo tour bằng AI"]}),i.jsxs("button",{className:"btn btn-outline-primary",style:{fontWeight:600,fontSize:"1.1rem"},onClick:()=>{S(!1),window.location.href="/manual-planner"},children:[i.jsx("i",{className:"bi bi-pencil-square me-2"}),"Tạo tour thủ công"]})]})]})]})})}),B&&V&&i.jsx("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.25)"},tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",style:{borderRadius:16,boxShadow:"0 4px 24px #1a5bb822"},children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:"Xác nhận xóa tour"}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>{F(!1),$(null)}})]}),i.jsxs("div",{className:"modal-body text-center",children:[i.jsxs("p",{children:["Bạn có chắc muốn xóa tour ",i.jsx("b",{children:V.name}),"?"]}),i.jsxs("div",{className:"d-flex justify-content-center gap-3 mt-4",children:[i.jsx("button",{className:"btn btn-danger",style:{fontWeight:600},onClick:async()=>{try{await kt.delete(`${ci}/api/tours/${V.id}`),s(c.filter(Re=>Re.id!==V.id)),y&&y.id===V.id&&v(null),F(!1),$(null)}catch{Q("Không thể xóa tour.")}},children:"Xóa"}),i.jsx("button",{className:"btn btn-secondary",onClick:()=>{F(!1),$(null)},children:"Hủy"})]})]})]})})}),K&&i.jsx("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.25)"},tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",style:{borderRadius:16,boxShadow:"0 4px 24px #1a5bb822"},children:[i.jsxs("div",{className:"modal-header",children:[i.jsxs("h5",{className:"modal-title text-danger",children:[i.jsx("i",{className:"bi bi-x-circle-fill me-2"}),"Lỗi"]}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>Q("")})]}),i.jsxs("div",{className:"modal-body text-center",children:[i.jsxs("div",{className:"alert alert-danger d-flex align-items-center justify-content-center",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),i.jsx("div",{children:K})]}),i.jsx("button",{className:"btn btn-main mt-3",onClick:()=>Q(""),children:"Đóng"})]})]})})}),D&&y&&i.jsx("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.25)"},tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered modal-xl",children:i.jsxs("div",{className:"modal-content",style:{borderRadius:16,boxShadow:"0 4px 24px #1a5bb822"},children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:"Chỉnh sửa tour & hành trình"}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>j(!1)})]}),i.jsxs("form",{onSubmit:Nr,children:[i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tên tour"}),i.jsx("input",{type:"text",className:"form-control",name:"name",value:(()=>{const Re=re.steps&&re.steps[0],Lt=Re?q.find(ft=>ft.id==Re.place_id):null;return Lt?Lt.name:""})(),readOnly:!0})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mô tả"}),i.jsx("textarea",{className:"form-control",name:"description",value:re.description,onChange:di,rows:4,required:!0})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Điểm khởi hành"}),i.jsx(QA,{value:re.start_from,onChange:Re=>be(Lt=>({...Lt,start_from:Re})),placeholder:"Nhập điểm khởi hành"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Ngày bắt đầu"}),i.jsx("input",{type:"date",className:"form-control",name:"start_time",value:re.start_time,onChange:di})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Ngày kết thúc"}),i.jsx("input",{type:"date",className:"form-control",name:"end_time",value:re.end_time,onChange:di})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Chi phí (VND)"}),i.jsx("input",{type:"text",className:"form-control",name:"total_cost",value:re.total_cost?parseInt(re.total_cost).toLocaleString("vi-VN"):"",onChange:Re=>{const Lt=Re.target.value.replace(/\D/g,"");di({target:{name:"total_cost",value:Lt}})},placeholder:"Nhập chi phí dự kiến"}),re.total_cost&&i.jsxs("div",{className:"form-text",children:[i.jsx("i",{className:"fas fa-info-circle me-1"}),"Chi phí: ",parseInt(re.total_cost).toLocaleString("vi-VN")," VNĐ"]}),re.total_cost&&re.total_cost.length>0&&re.total_cost.length<=3&&!re.total_cost.endsWith("000")&&i.jsxs("div",{className:"mt-2",children:[i.jsx("small",{className:"text-muted",children:"Gợi ý:"}),i.jsx("div",{className:"d-flex flex-wrap gap-1 mt-1",children:(()=>{const Re=re.total_cost.replace(/\D/g,"");return[{value:Re+"000",label:Re+".000 VNĐ"},{value:Re+"0000",label:Re+"0.000 VNĐ"},{value:Re+"00000",label:Re+"00.000 VNĐ"},{value:Re+"000000",label:Re+".000.000 VNĐ"},{value:Re+"0000000",label:Re+"0.000.000 VNĐ"}].filter(ft=>ft.value!==re.total_cost).map((ft,Bt)=>i.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",style:{fontSize:"0.8rem",padding:"0.25rem 0.5rem"},onClick:()=>di({target:{name:"total_cost",value:ft.value}}),children:ft.label},Bt))})()})]})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label",children:"Hành trình"}),i.jsx("div",{className:"tour-steps-edit-container",style:{maxHeight:"400px",overflowY:"auto"},children:re.steps&&re.steps.map((Re,Lt)=>i.jsx("div",{className:"tour-step-edit-item mb-3 p-3 border rounded",style:{background:"#f8f9fa",cursor:"grab",transition:"all 0.2s ease",border:"1px solid #dee2e6"},draggable:!0,onDragStart:ft=>{ft.dataTransfer.setData("text/plain",Lt),ft.currentTarget.style.opacity="0.5"},onDragEnd:ft=>{ft.currentTarget.style.opacity="1"},onDragOver:ft=>{ft.preventDefault(),ft.currentTarget.style.borderColor="#007bff",ft.currentTarget.style.background="#e3f2fd"},onDragLeave:ft=>{ft.currentTarget.style.borderColor="#dee2e6",ft.currentTarget.style.background="#f8f9fa"},onDrop:ft=>{ft.preventDefault();const Bt=parseInt(ft.dataTransfer.getData("text/plain")),an=Lt;if(Bt!==an){const On=[...re.steps],Sn=On[Bt];On.splice(Bt,1),On.splice(an,0,Sn),On.forEach((fi,ye)=>{fi.step_order=ye+1}),be(fi=>({...fi,steps:On}))}ft.currentTarget.style.borderColor="#dee2e6",ft.currentTarget.style.background="#f8f9fa"},children:i.jsxs("div",{className:"d-flex align-items-center gap-2",children:[i.jsx("div",{className:"step-number",style:{background:"#007bff",color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem",fontWeight:"bold"},children:Re.step_order}),i.jsx("div",{className:"flex-grow-1",children:i.jsxs("select",{className:"form-select form-select-sm",value:Re.place_id,onChange:ft=>ir(Lt,"place_id",ft.target.value),children:[i.jsx("option",{value:"",children:"Chọn địa điểm..."}),q.map(ft=>i.jsx("option",{value:ft.id,children:ft.name},ft.id))]})}),i.jsxs("div",{className:"d-flex gap-1",children:[i.jsx("input",{type:"time",className:"form-control form-control-sm",style:{width:"100px"},value:Re.start_time||"",onChange:ft=>ir(Lt,"start_time",ft.target.value)}),i.jsx("input",{type:"time",className:"form-control form-control-sm",style:{width:"100px"},value:Re.end_time||"",onChange:ft=>ir(Lt,"end_time",ft.target.value)}),i.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>rr(Lt),title:"Xóa địa điểm",children:i.jsx("i",{className:"bi bi-trash"})})]})]})},Re.id||Lt))}),i.jsxs("button",{type:"button",className:"btn btn-outline-success btn-sm mt-2",onClick:kr,children:[i.jsx("i",{className:"bi bi-plus"})," Thêm địa điểm"]})]})]}),ke&&i.jsx("div",{className:"text-danger mb-2",children:ke})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"submit",className:"btn btn-primary",children:"Lưu"}),i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>j(!1),children:"Hủy"})]})]})]})})}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h5",{className:"fw-bold",style:{color:"rgb(26, 91, 184)"},children:"Danh sách chuyến đi bạn đã tạo "}),i.jsxs("div",{className:"d-flex align-items-center mb-2",children:[i.jsx("input",{type:"checkbox",checked:bt,onChange:Ar}),i.jsx("span",{className:"ms-2",children:"Chọn tất cả"}),i.jsx(Ut,{variant:"danger",size:"sm",className:"ms-3",disabled:Qe.length===0,onClick:Xn,children:"Xóa các chuyến đi đã chọn"})]}),i.jsx("div",{className:"list-group",children:c.map(Re=>i.jsxs("div",{className:"list-group-item d-flex align-items-center",children:[i.jsx("input",{type:"checkbox",className:"me-2",checked:Qe.includes(Re.id),onChange:()=>Li(Re.id)}),i.jsx("div",{className:"flex-grow-1",children:i.jsx(tn,{to:`/tours/${Re.id}`,children:Re.name})}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:Lt=>{Lt.stopPropagation(),v(Re),j(!0)},children:"Sửa"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:Lt=>{Lt.stopPropagation(),Pt("Bạn có chắc muốn xóa tour này?",()=>qe(Re.id))},children:"Xóa"})]})]},Re.id))})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h5",{className:"fw-bold",style:{color:"rgb(26, 91, 184)"},children:"Chuyến đi yêu thích"}),i.jsxs("div",{className:"d-flex align-items-center mb-2",children:[i.jsx("input",{type:"checkbox",checked:fn,onChange:nr}),i.jsx("span",{className:"ms-2",children:"Chọn tất cả"}),i.jsx(Ut,{variant:"danger",size:"sm",className:"ms-3",disabled:Ot.length===0,onClick:$s,children:"Bỏ các chuyến đi đã chọn"})]}),i.jsx("div",{className:"list-group",children:Se.map(Re=>{var Lt,ft;return i.jsxs("div",{className:"list-group-item d-flex align-items-center",children:[i.jsx("input",{type:"checkbox",className:"me-2",checked:Ot.includes((Lt=Re.booking)==null?void 0:Lt.id),onChange:()=>{var Bt;return ni((Bt=Re.booking)==null?void 0:Bt.id)}}),i.jsx("div",{className:"flex-grow-1",children:i.jsx(tn,{to:`/tours/${Re.id}`,className:"text-decoration-none",children:Re.name})}),i.jsx("div",{className:"d-flex gap-2",children:i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:Bt=>{Bt.stopPropagation(),en("Bạn có chắc muốn hủy đặt tour này?",()=>Zt(Re.booking.id))},children:"Hủy đặt"})})]},((ft=Re.booking)==null?void 0:ft.id)||Re.id)})})]}),i.jsxs("section",{className:"mb-5",children:[i.jsx("div",{className:"d-flex align-items-center mb-3 gap-2"}),Se.length===0?i.jsxs("div",{className:"text-center text-muted py-5",children:[i.jsx("i",{className:"bi bi-calendar-x",style:{fontSize:"3rem"}}),i.jsx("div",{className:"fw-bold mb-1",children:"Bạn chưa đặt tour nào."})]}):i.jsx("div",{className:"row g-4",children:Se.map(Re=>{var Lt,ft;return i.jsx("div",{className:"col-12 col-md-6 col-lg-4",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs(tn,{to:`/tours/${Re.id}`,className:"text-decoration-none",style:{display:"block"},children:[Re.image_url?i.jsx("img",{src:Re.image_url.startsWith("http")?Re.image_url:`${ci}${Re.image_url}`,alt:Re.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-map"})}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:Re.name}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:Re.description?`${Re.description.replace(/<[^>]+>/g,"").substring(0,100)}...`:""}),i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"luxury-star",style:{color:"#f1c40f",fontSize:18},children:"★"}),i.jsx("span",{style:{fontWeight:600,marginLeft:4},children:Re.rating?Re.rating.toFixed(1):"0.0"}),i.jsx("span",{style:{color:"#888",marginLeft:2},children:"/ 5"})]}),Re.total_cost&&i.jsxs("p",{className:"card-text text-muted small mb-0 luxury-rating",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",lo(Re.total_cost)," VND"]}),Re.booking&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"text-muted small mb-1",children:["Số lượng khách: ",i.jsx("b",{children:Re.booking.spots})]}),i.jsxs("div",{className:"text-muted small mb-2",children:["Tổng giá: ",i.jsxs("b",{children:[lo(Re.booking.total_price)," VND"]})]})]})]})]}),i.jsx("div",{className:"px-3 pb-3 d-flex gap-2",children:((Lt=Re.booking)==null?void 0:Lt.status)==="rejected"?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-danger small fw-bold flex-fill align-self-center",children:"Đặt tour thất bại"}),i.jsx("button",{className:"btn btn-outline-primary btn-sm flex-fill",onClick:Bt=>{Bt.stopPropagation(),showInfo("Chức năng Đặt lại sẽ được triển khai ở đây!","Thông báo")},children:"Đặt lại"})]}):i.jsx("button",{className:"btn btn-outline-danger btn-sm flex-fill",disabled:!((ft=Re.booking)!=null&&ft.id),onClick:Bt=>{var an;Bt.stopPropagation(),(an=Re.booking)!=null&&an.id&&en("Bạn có chắc muốn hủy đặt tour này?",()=>Zt(Re.booking.id))},children:"Bỏ chuyến đi"})})]})},Re.id)})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h5",{className:"fw-bold",style:{color:"rgb(26, 91, 184)"},children:"Khách sạn đã đặt"}),vn.length===0?i.jsxs("div",{className:"text-center text-muted py-3",children:[i.jsx("i",{className:"bi bi-building",style:{fontSize:"2rem"}}),i.jsx("div",{className:"fw-bold mb-1",children:"Bạn chưa đặt khách sạn nào."})]}):i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:vn.map(Re=>i.jsx("div",{className:"col",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs(tn,{to:`/hotels/${Re.hotel_id}`,className:"text-decoration-none",style:{display:"block",height:"100%"},children:[i.jsxs("div",{className:"position-relative",children:[Re.hotel_image_url?i.jsx("img",{src:Re.hotel_image_url.startsWith("http")?Re.hotel_image_url:`${ci}${Re.hotel_image_url}`,alt:Re.hotel_name||"Khách sạn",className:"card-img-top luxury-img-top",style:{height:180,objectFit:"cover",borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem"},onError:Lt=>{Lt.target.style.display="none"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:180,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-building"})}),i.jsx("div",{className:"position-absolute top-0 end-0 m-2",children:i.jsx("span",{className:"badge bg-warning text-dark",children:i.jsx("i",{className:"bi bi-star-fill"})})})]}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h5",{className:"card-title mb-2",style:{fontWeight:600},children:Re.hotel_name||Re.hotel_id}),i.jsx("div",{className:"mb-2",children:i.jsx("span",{className:"badge bg-info me-2",children:Re.room_type||"N/A"})}),i.jsxs("div",{className:"mb-2 text-muted small",children:[i.jsx("i",{className:"bi bi-calendar-event me-1"}),"Nhận phòng: ",i.jsx("b",{children:Re.check_in})]}),i.jsxs("div",{className:"mb-2 text-muted small",children:[i.jsx("i",{className:"bi bi-calendar-check me-1"}),"Trả phòng: ",i.jsx("b",{children:Re.check_out})]})]})]}),i.jsx("div",{className:"px-3 pb-3",children:i.jsxs("button",{className:"btn btn-outline-danger btn-sm w-100",onClick:()=>{en("Bạn có chắc muốn hủy đặt khách sạn này?",()=>rt(Re.id),"Xác nhận hủy đặt phòng")},children:[i.jsx("i",{className:"bi bi-x-circle me-1"}),"Hủy đặt"]})})]})},Re.id))})]})]}),i.jsx(Yr,{}),i.jsxs(yt,{show:et,onHide:()=>pe(!1),centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:me==null?void 0:me.name})}),i.jsxs(yt.Body,{children:[(me==null?void 0:me.image_url)&&i.jsx("img",{src:me.image_url.startsWith("http")?me.image_url:`${ci}${me.image_url}`,alt:me.name,className:"img-fluid rounded mb-3",style:{maxHeight:200,objectFit:"cover",width:"100%"}}),i.jsx("p",{children:me==null?void 0:me.description}),i.jsxs("div",{className:"mb-2",children:[i.jsxs("span",{className:"badge bg-info text-dark me-2",children:[me!=null&&me.start_time?new Date(me.start_time).toLocaleDateString():"--"," → ",me!=null&&me.end_time?new Date(me.end_time).toLocaleDateString():"--"]}),i.jsxs("span",{className:"badge bg-light text-dark",children:[i.jsx("i",{className:"bi bi-currency-exchange"})," ",lo(me==null?void 0:me.total_cost)," VND"]})]}),We.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h6",{className:"fw-bold mb-3",children:"Hành trình chi tiết"}),i.jsx("div",{className:"list-group",children:We.map((Re,Lt)=>{const ft=st[Re.place_id];return i.jsxs("div",{className:"list-group-item d-flex align-items-center gap-3 py-3",style:{borderLeft:"4px solid #1a5bb8",background:"#f8f9fa",borderRadius:12,marginBottom:8,boxShadow:"0 2px 8px #b6e0fe22"},children:[(ft==null?void 0:ft.image_url)&&i.jsx("img",{src:ft.image_url.startsWith("http")?ft.image_url:`${ci}${ft.image_url}`,alt:ft.name,style:{width:64,height:64,objectFit:"cover",borderRadius:12,boxShadow:"0 2px 8px #b6e0fe33",flexShrink:0}}),i.jsxs("div",{className:"flex-grow-1",children:[i.jsx("div",{className:"fw-bold mb-1",style:{color:"#1a5bb8",fontSize:"1.1em"},children:i.jsx(tn,{to:`/places/${ft==null?void 0:ft.id}`,className:"text-decoration-none",style:{color:"#1a5bb8"},target:"_blank",rel:"noopener noreferrer",children:(ft==null?void 0:ft.name)||`Địa điểm #${Re.place_id}`})}),i.jsx("div",{className:"small text-muted mb-1",children:ft!=null&&ft.description?`${ft.description.replace(/<[^>]+>/g,"").slice(0,100)}${ft.description.length>100?"...":""}`:"Chưa có mô tả"}),i.jsxs("div",{className:"d-flex gap-2 flex-wrap align-items-center mt-1",children:[Re.start_time&&i.jsxs("span",{className:"badge bg-success",children:[i.jsx("i",{className:"bi bi-play me-1"}),"Bắt đầu: ",Re.start_time]}),Re.end_time&&i.jsxs("span",{className:"badge bg-info",children:[i.jsx("i",{className:"bi bi-stop me-1"}),"Kết thúc: ",Re.end_time]})]})]})]},Re.id||Lt)})})]})]}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{className:"btn btn-main",onClick:()=>pe(!1),children:"Đóng"}),i.jsx(Ut,{className:"btn btn-danger",onClick:()=>{j(!0),v(me),pe(!1)},children:"Sửa"})]})]}),i.jsx(kA,{show:Oe.show,title:Oe.title,message:Oe.message,type:Oe.type,confirmText:Oe.confirmText,onClose:at}),i.jsx(sJ,{show:ut.show,message:ut.message,title:ut.title,confirmText:ut.confirmText,cancelText:ut.cancelText,type:ut.type,confirmVariant:ut.confirmVariant,onClose:jt,onConfirm:Dt})]})}function aJ(){const{t:l}=xh(),c=ka(),{user:s}=jb(),[o,h]=I.useState({title:"",content:"",image_url:""}),[g,_]=I.useState(null),[y,v]=I.useState(""),[N,S]=I.useState(!1),[D,j]=I.useState(!1),[B,F]=I.useState(""),[V,$]=I.useState(""),K=I.useRef(null),Q="https://walkingguide.onrender.com",ee=_e=>{const{name:je,value:oe}=_e.target;h(ve=>({...ve,[je]:oe}))},ne=_e=>{h(je=>({...je,content:_e}))},le=_e=>{if(_e&&_e.type.startsWith("image/")){_(_e);const je=new FileReader;je.onload=oe=>{v(oe.target.result)},je.readAsDataURL(_e)}else F("Vui lòng chọn một file ảnh hợp lệ.")},se=_e=>{const je=_e.target.files[0];je&&le(je)},q=_e=>{_e.preventDefault(),S(!0)},de=_e=>{_e.preventDefault(),S(!1)},re=_e=>{_e.preventDefault(),S(!1);const je=_e.dataTransfer.files[0];je&&le(je)},be=async()=>{if(!g)return"";try{const _e=new FormData;return _e.append("file",g),(await kt.post(`${Q}/api/upload`,_e,{headers:{"Content-Type":"multipart/form-data"}})).data.url}catch(_e){throw console.error("Lỗi khi upload ảnh:",_e),new Error("Không thể upload ảnh. Vui lòng thử lại.")}},ke=async _e=>{var je,oe,ve,he;if(_e.preventDefault(),!s||!s.id){F("Bạn cần đăng nhập để viết bài.");return}if(!o.title.trim()||!o.content.trim()){F("Vui lòng điền đầy đủ tiêu đề và nội dung bài viết.");return}try{j(!0),F("");let Ee="";g&&(Ee=await be());const Z={...o,image_url:Ee,admin_id:s.id};console.log("Sending article data:",Z),await oB.create(Z),$("Bài viết đã được đăng thành công!"),setTimeout(()=>{c("/articles")},2e3)}catch(Ee){console.error("Lỗi khi tạo bài viết:",Ee),F(((oe=(je=Ee==null?void 0:Ee.response)==null?void 0:je.data)==null?void 0:oe.message)||((he=(ve=Ee==null?void 0:Ee.response)==null?void 0:ve.data)==null?void 0:he.error)||Ee.message||"Có lỗi xảy ra khi đăng bài viết. Vui lòng thử lại.")}finally{j(!1)}},we=()=>{c("/articles")},De=()=>{_(null),v(""),K.current&&(K.current.value="")};return i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Br,{}),i.jsx("main",{className:"container px-4 py-5 flex-grow-1",children:i.jsx("div",{className:"row justify-content-center",children:i.jsx("div",{className:"col-12 col-lg-8",children:i.jsxs("div",{className:"card shadow-lg border-0 rounded-4 luxury-card",children:[i.jsx("div",{className:"card-header luxury-card-header bg-white border-0 rounded-top-4 py-4",children:i.jsxs("div",{className:"d-flex align-items-center",children:[i.jsx("div",{className:"me-3",children:i.jsx("i",{className:"bi bi-pencil-square text-primary",style:{fontSize:"2rem"}})}),i.jsxs("div",{children:[i.jsx("h1",{className:"h3 mb-1 fw-bold",children:l("Write Your Travel Blog")}),i.jsx("p",{className:"text-muted mb-0",children:l("Share your amazing travel experiences with the community")})]})]})}),i.jsxs("div",{className:"card-body luxury-card-body p-4",children:[B&&i.jsxs("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),B,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>F("")})]}),V&&i.jsxs("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[i.jsx("i",{className:"bi bi-check-circle-fill me-2"}),V,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>$("")})]}),i.jsxs("form",{onSubmit:ke,children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{htmlFor:"title",className:"form-label fw-semibold",children:[l("Article Title")," ",i.jsx("span",{className:"text-danger",children:"*"})]}),i.jsx("input",{type:"text",className:"form-control form-control-lg border-0 shadow-sm",id:"title",name:"title",value:o.title,onChange:ee,placeholder:l("Enter your article title..."),style:{borderRadius:"0.75rem"},required:!0})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"form-label fw-semibold",children:[i.jsx("i",{className:"bi bi-image me-2 text-primary"}),l("Cover Image")," (",l("Optional"),")"]}),i.jsx("div",{className:`border-2 border-dashed rounded-4 p-4 text-center position-relative ${N?"border-primary bg-primary bg-opacity-10":"border-secondary"}`,style:{minHeight:"200px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease"},onDragOver:q,onDragLeave:de,onDrop:re,onClick:()=>{var _e;return(_e=K.current)==null?void 0:_e.click()},children:y?i.jsxs("div",{className:"position-relative w-100",children:[i.jsx("img",{src:y,alt:"Preview",className:"img-fluid rounded-3",style:{maxHeight:"300px",objectFit:"cover"}}),i.jsx("button",{type:"button",className:"btn btn-danger btn-sm position-absolute top-0 end-0 m-2",onClick:_e=>{_e.stopPropagation(),De()},style:{zIndex:10},children:i.jsx("i",{className:"bi bi-x"})})]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-cloud-upload text-muted",style:{fontSize:"3rem",marginBottom:"1rem"}}),i.jsx("h5",{className:"text-muted mb-2",children:l("Upload Cover Image")}),i.jsx("p",{className:"text-muted mb-3",children:l("Drag and drop an image here, or click to select")}),i.jsxs("div",{className:"d-flex gap-2 flex-wrap justify-content-center",children:[i.jsx("span",{className:"badge bg-light text-dark",children:"JPG"}),i.jsx("span",{className:"badge bg-light text-dark",children:"PNG"}),i.jsx("span",{className:"badge bg-light text-dark",children:"GIF"}),i.jsx("span",{className:"badge bg-light text-dark",children:"WEBP"})]})]})}),i.jsx("input",{ref:K,type:"file",accept:"image/*",onChange:se,className:"d-none"}),i.jsxs("div",{className:"form-text mt-2",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),l("Add a cover image to make your article more attractive. Recommended size: 1200x630px")]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"form-label fw-semibold",children:[i.jsx("i",{className:"bi bi-file-text me-2 text-primary"}),l("Article Content")," ",i.jsx("span",{className:"text-danger",children:"*"})]}),i.jsx(xw,{value:o.content,onChange:ne,placeholder:l("Share your travel story, tips, experiences, and recommendations...")}),i.jsxs("div",{className:"form-text mt-2",children:[i.jsx("i",{className:"bi bi-lightbulb me-1"}),l("Tips: Include details about places visited, food tried, cultural experiences, and travel tips")]})]}),i.jsxs("div",{className:"d-flex gap-3 justify-content-end",children:[i.jsxs("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4",onClick:we,disabled:D,children:[i.jsx("i",{className:"bi bi-x-circle me-2"}),l("Cancel")]}),i.jsx("button",{type:"submit",className:"btn btn-main btn-lg px-5",disabled:D,children:D?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),l("Publishing...")]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-send me-2"}),l("Publish Article")]})})]})]})]})]})})})}),i.jsx(Yr,{})]})}const lJ=()=>{const{user:l,notificationRefreshTrigger:c}=I.useContext(ds),[s,o]=I.useState([]),[h,g]=I.useState(!0),[_,y]=I.useState(""),[v,N]=I.useState(!1),[S,D]=I.useState(null);I.useEffect(()=>{l&&j()},[l,c]);const j=async()=>{try{g(!0);const se=await $5(l.id);o(se.data)}catch(se){console.error("Error fetching notifications:",se),y("Không thể tải thông báo")}finally{g(!1)}},B=async se=>{try{await q5(se,{is_read:!0}),o(q=>q.map(de=>de.notification_id===se?{...de,is_read:!0}:de))}catch(q){console.error("Error marking notification as read:",q)}},F=async()=>{try{await uA(l.id),o(se=>se.map(q=>({...q,is_read:!0})))}catch(se){console.error("Error marking all notifications as read:",se)}},V=async se=>{D(se),N(!0)},$=async()=>{if(S)try{await W5(S),o(se=>se.filter(q=>q.notification_id!==S)),N(!1),D(null)}catch(se){console.error("Error deleting notification:",se)}},K=()=>{N(!1),D(null)},Q=se=>{try{return new Date(se).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return se}},ee=se=>{switch(se){case"tour_reminder":return"bi bi-calendar-event text-warning";case"tour_completion":return"bi bi-check-circle text-success";case"tour_created":return"bi bi-plus-circle text-primary";default:return"bi bi-bell text-info"}},ne=se=>{switch(se){case"tour_reminder":return"badge bg-warning text-dark";case"tour_completion":return"badge bg-success";case"tour_created":return"badge bg-primary";default:return"badge bg-info"}},le=se=>{se.article_id&&se.comment_id?navigate(`/articles/${se.article_id}#comment-${se.comment_id}`):se.article_id?navigate(`/articles/${se.article_id}`):se.tour_id?navigate(`/tours/${se.tour_id}`):se.place_id&&navigate(`/places/${se.place_id}`)};return l?i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Br,{}),i.jsx("main",{className:"container py-4 flex-grow-1",children:i.jsxs("div",{className:"user-page-content",children:[i.jsx("div",{className:"profile-header",children:i.jsxs("h1",{className:"text-center mb-0",children:[i.jsx("i",{className:"bi bi-bell me-3"}),"Thông báo của tôi"]})}),i.jsx("div",{className:"profile-sections",children:i.jsxs("div",{className:"profile-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h3",{children:"Danh sách thông báo"}),s.length>0&&i.jsxs("button",{className:"btn btn-outline-primary",onClick:F,children:[i.jsx("i",{className:"bi bi-check-all me-2"}),"Đánh dấu tất cả đã đọc"]})]}),h?i.jsxs("div",{className:"loading",children:[i.jsx("div",{className:"spinner-border text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("p",{className:"mt-3",children:"Đang tải thông báo..."})]}):_?i.jsxs("div",{className:"error-message",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),_]}):s.length===0?i.jsxs("div",{className:"no-tours",children:[i.jsx("i",{className:"bi bi-bell-slash fa-3x text-muted mb-3"}),i.jsx("p",{children:"Bạn chưa có thông báo nào"})]}):i.jsx("div",{className:"notifications-list",children:s.map(se=>i.jsx("div",{className:`notification-item ${se.is_read?"":"unread"}`,style:{cursor:"pointer"},onClick:()=>le(se),children:i.jsxs("div",{className:"notification-content",children:[i.jsx("div",{className:"notification-header",children:i.jsxs("div",{className:"d-flex align-items-center",children:[i.jsx("i",{className:ee(se.type),style:{fontSize:"1.5rem",marginRight:"1rem"}}),i.jsxs("div",{className:"flex-grow-1",children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[i.jsx("p",{className:"notification-text mb-1",children:se.content}),i.jsxs("div",{className:"notification-actions",children:[!se.is_read&&i.jsx("span",{className:"badge bg-primary rounded-pill me-2",children:"Mới"}),i.jsxs("span",{className:ne(se.type),children:[se.type==="tour_reminder"&&"Nhắc nhở",se.type==="tour_completion"&&"Hoàn thành",se.type==="tour_created"&&"Tạo tour",!se.type&&"Thông báo"]})]})]}),i.jsx("small",{className:"text-muted",children:Q(se.created_at)})]})]})}),i.jsxs("div",{className:"notification-actions mt-2",children:[!se.is_read&&i.jsxs("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>B(se.notification_id),children:[i.jsx("i",{className:"bi bi-check me-1"}),"Đánh dấu đã đọc"]}),i.jsxs("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>V(se.notification_id),children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xóa"]})]})]})},se.notification_id))})]})})]})}),i.jsx(Yr,{}),i.jsx("div",{className:`modal fade ${v?"show":""}`,style:{display:v?"block":"none"},tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content border-0 shadow-lg",children:[i.jsxs("div",{className:"modal-header bg-danger text-white",children:[i.jsxs("h5",{className:"modal-title",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),"Xác nhận xóa"]}),i.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:K})]}),i.jsx("div",{className:"modal-body",children:i.jsx("p",{className:"mb-0",children:"Bạn có chắc muốn xóa thông báo này? Hành động này không thể hoàn tác."})}),i.jsxs("div",{className:"modal-footer",children:[i.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:K,children:[i.jsx("i",{className:"bi bi-x-circle me-1"}),"Hủy"]}),i.jsxs("button",{type:"button",className:"btn btn-danger",onClick:$,children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xóa"]})]})]})})}),v&&i.jsx("div",{className:"modal-backdrop fade show"})]}):i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Br,{}),i.jsx("main",{className:"container py-4 flex-grow-1",children:i.jsx("div",{className:"alert alert-warning",children:"Bạn cần đăng nhập để xem thông báo."})}),i.jsx(Yr,{})]})};function cJ(){const{pathname:l}=$l(),[c,s]=I.useState(!1);I.useEffect(()=>{const h=()=>{s(window.scrollY>200)};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]),I.useEffect(()=>{window.scrollTo({top:0,behavior:"auto"})},[l]);const o=()=>{window.scrollTo({top:0,behavior:"smooth"})};return i.jsx(i.Fragment,{children:c&&i.jsx("button",{onClick:o,"aria-label":"Scroll to top",style:{position:"fixed",right:22,bottom:80,zIndex:9999,background:"linear-gradient(135deg, #3498db 0%, #2980b9 100%)",color:"#fff",border:"none",borderRadius:"50%",width:48,height:48,boxShadow:"0 4px 16px rgba(52,152,219,0.18)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:24,cursor:"pointer",transition:"opacity 0.2s"},children:i.jsx("i",{className:"bi bi-arrow-up"})})})}const dJ=()=>{const[l]=f5(),[c,s]=I.useState("Verifying..."),[o,h]=I.useState(!0),g=ka(),_="https://walkingguide.onrender.com";return I.useEffect(()=>{const y=l.get("token");if(!y){s("Invalid verification link."),h(!1);return}fetch(`${_}/api/auth/verify-email?token=${y}`).then(v=>v.json()).then(v=>{v.success?(s("Email verified! You can now log in."),setTimeout(()=>g("/login"),2e3)):s(v.message||"Verification failed."),h(!1)}).catch(()=>{s("Verification failed."),h(!1)})},[l,g]),i.jsx("div",{className:"container py-5 text-center",children:o?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("h2",{children:c})]}):i.jsx("h2",{children:c})})},uJ=()=>{const[l,c]=I.useState(""),[s,o]=I.useState(""),[h,g]=I.useState(!1),_=async y=>{y.preventDefault(),g(!0),o("");try{const N=await(await fetch("https://walkingguide.onrender.com/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l})})).json();N.success?o("Check your email for a password reset link or OTP."):o(N.message||"Failed to send reset email.")}catch{o("Failed to send reset email.")}g(!1)};return i.jsxs("div",{className:"container py-5",style:{maxWidth:400},children:[i.jsx("h2",{className:"mb-4",children:"Forgot Password"}),i.jsxs("form",{onSubmit:_,children:[i.jsx("div",{className:"mb-3",children:i.jsx("input",{type:"email",className:"form-control",placeholder:"Enter your email",value:l,onChange:y=>c(y.target.value),required:!0})}),i.jsx("button",{className:"btn btn-primary w-100",disabled:h,children:h?"Sending...":"Send Reset Link"})]}),s&&i.jsx("div",{className:"alert alert-info mt-3",children:s})]})},hJ=({onVerify:l,email:c})=>{const[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(!1),v=async N=>{N.preventDefault(),y(!0),g("");try{const D=await(await fetch("https://walkingguide.onrender.com/api/auth/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,otp:s})})).json();D.success?(g("OTP verified!"),l&&l()):g(D.message||"Invalid OTP.")}catch{g("Failed to verify OTP.")}y(!1)};return i.jsxs("form",{onSubmit:v,style:{maxWidth:400,margin:"0 auto"},children:[i.jsx("h2",{className:"mb-4",children:"Enter OTP"}),i.jsx("div",{className:"mb-3",children:i.jsx("input",{type:"text",className:"form-control",placeholder:"Enter OTP",value:s,onChange:N=>o(N.target.value),required:!0})}),i.jsx("button",{className:"btn btn-primary w-100",disabled:_,children:_?"Verifying...":"Verify OTP"}),h&&i.jsx("div",{className:"alert alert-info mt-3",children:h})]})};function mJ(){const[l]=f5(),c=l.get("token"),[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(""),[S,D]=I.useState(!1),j=ka(),B="https://walkingguide.onrender.com",F=async V=>{var $,K;if(V.preventDefault(),y(""),N(""),!c){y("Liên kết không hợp lệ hoặc đã hết hạn.");return}if(s.length<6){y("Mật khẩu phải có ít nhất 6 ký tự.");return}if(s!==h){y("Mật khẩu xác nhận không khớp.");return}D(!0);try{const Q=await kt.post(`${B}/api/auth/reset-password`,{token:c,password:s,confirmPassword:h});N(Q.data.message||"Đặt lại mật khẩu thành công."),setTimeout(()=>{j("/login")},3e3)}catch(Q){y(((K=($=Q.response)==null?void 0:$.data)==null?void 0:K.message)||"Lỗi đặt lại mật khẩu")}finally{D(!1)}};return i.jsxs("div",{className:"min-vh-100 d-flex flex-column luxury-home-container",children:[i.jsx(Br,{}),i.jsx("main",{className:"container d-flex flex-column align-items-center justify-content-center flex-grow-1 py-5",children:i.jsxs("div",{className:"card shadow border-0 rounded-4 p-4 luxury-card",style:{maxWidth:420,width:"100%",background:"rgba(255,255,255,0.97)"},children:[i.jsx("h2",{className:"mb-4 text-center",style:{color:"#1a5bb8",fontWeight:700},children:"Đặt lại mật khẩu"}),i.jsxs("form",{onSubmit:F,className:"w-100",children:[_&&i.jsx("div",{className:"alert alert-danger",children:_}),v&&i.jsx("div",{className:"alert alert-success",children:v}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mật khẩu mới:"}),i.jsx("input",{type:"password",className:"form-control",value:s,onChange:V=>o(V.target.value),required:!0,minLength:6,disabled:S}),i.jsx("small",{className:"text-muted",children:"Mật khẩu phải có ít nhất 6 ký tự"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Xác nhận mật khẩu mới:"}),i.jsx("input",{type:"password",className:"form-control",value:h,onChange:V=>g(V.target.value),required:!0,minLength:6,disabled:S}),h&&s!==h&&i.jsx("small",{className:"text-danger",children:"Mật khẩu xác nhận không khớp"}),h&&s===h&&i.jsx("small",{className:"text-success",children:"✓ Mật khẩu khớp"})]}),i.jsx("button",{type:"submit",className:"btn btn-success w-100",disabled:S||!s||!h,children:S?"Đang đặt lại...":"Đặt lại mật khẩu"})]})]})}),i.jsx(Yr,{})]})}const ZC="https://walkingguide.onrender.com",fJ=()=>{const{id:l}=Ab(),[c,s]=I.useState(null),[o,h]=I.useState(!0),[g,_]=I.useState(""),[y,v]=I.useState(null),[N,S]=I.useState(!1),[D,j]=I.useState(!1),[B,F]=I.useState(""),[V,$]=I.useState(""),[K,Q]=I.useState(null),[ee,ne]=I.useState(null),[le,se]=I.useState(""),{user:q}=I.useContext(ds);if(I.useEffect(()=>{h(!0),kt.get(`${ZC}/api/hotels/${l}`).then(we=>s(we.data.data)).catch(()=>_("Không tìm thấy khách sạn này.")).finally(()=>h(!1))},[l]),o)return i.jsx("div",{className:"d-flex justify-content-center align-items-center py-5",children:i.jsx("div",{className:"spinner-border text-primary",role:"status"})});if(g)return i.jsx("div",{className:"alert alert-danger mt-4 text-center",children:g});if(!c)return i.jsx("div",{className:"alert alert-warning mt-4 text-center",children:"Không tìm thấy khách sạn."});const de=c.images?c.images.map(we=>we.image_url):[],re=de.length>0?de[0].startsWith("http")?de[0]:`${ZC}${de[0]}`:null,be=de.length>1?de.slice(1):[],ke=we=>{v(we),S(!0)};return i.jsxs("div",{className:"luxury-home-container",children:[i.jsx(Br,{}),i.jsx("div",{className:"container py-4",children:i.jsxs("div",{className:"row g-3 align-items-start",style:{minHeight:350},children:[i.jsxs("div",{className:"col-md-7 col-12",children:[i.jsx("h2",{className:"fw-bold mb-2",style:{color:"#1a5bb8"},children:c.name}),i.jsx(Vl,{id:c.id,type:"hotel"}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-geo-alt me-2 text-primary"}),i.jsx("b",{children:"Địa chỉ:"})," ",i.jsx("span",{className:"text-dark",children:c.address||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-building me-2 text-secondary"}),i.jsx("b",{children:"Thành phố:"})," ",i.jsx("span",{className:"text-dark",children:c.city||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-telephone me-2 text-success"}),i.jsx("b",{children:"Liên hệ:"})," ",i.jsx("span",{className:"text-dark",children:c.phone||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-star me-2 text-warning"}),i.jsx("b",{children:"Hạng sao:"})," ",i.jsx("span",{className:"text-dark",children:c.stars||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-currency-dollar me-2 text-success"}),i.jsx("b",{children:"Giá:"})," ",i.jsx("span",{className:"text-dark",children:c.price?c.price.toLocaleString("vi-VN")+" VND":"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-info-circle me-2 text-info"}),i.jsx("b",{children:"Mô tả:"})," ",i.jsx("span",{className:"text-muted",children:c.description||"---"})]}),Array.isArray(c.amenities)&&c.amenities.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-gem me-2 text-info"}),i.jsx("b",{children:"Tiện nghi:"}),i.jsx("div",{className:"d-flex flex-wrap gap-2 mt-1",children:c.amenities.map((we,De)=>i.jsx("span",{className:"badge bg-light text-dark border border-1 px-3 py-2",style:{fontSize:"1em",borderRadius:12},children:we},De))})]}),i.jsxs(Ut,{className:"mt-3 btn btn-main",onClick:()=>j(!0),children:[i.jsx("i",{className:"bi bi-calendar-check me-2"}),"Đặt phòng khách sạn"]}),ee==="success"&&i.jsx("div",{className:"alert alert-success mt-3",children:"Đặt phòng thành công!"}),ee==="error"&&i.jsx("div",{className:"alert alert-danger mt-3",children:"Đặt phòng thất bại. Vui lòng thử lại."})]}),i.jsxs("div",{className:"col-md-5 col-12 d-flex flex-column align-items-end",children:[re?i.jsx("img",{src:re,alt:c.name,style:{width:"100%",maxWidth:400,maxHeight:300,objectFit:"cover",borderRadius:16,marginBottom:8,cursor:"pointer"},onClick:()=>ke(re)}):i.jsx("div",{className:"d-flex align-items-center justify-content-center bg-light",style:{width:"100%",maxWidth:400,height:220,borderRadius:16},children:i.jsx("i",{className:"bi bi-image text-muted",style:{fontSize:"4rem"}})}),be.length>0&&i.jsx("div",{className:"d-flex flex-wrap gap-2 mt-2 justify-content-end",children:be.map((we,De)=>{const _e=we.startsWith("http")?we:`${ZC}${we}`;return i.jsx("img",{src:_e,alt:c.name,style:{height:60,width:90,objectFit:"cover",borderRadius:8,border:"1px solid #e9ecef",background:"#f8f9fa",cursor:"pointer"},onClick:()=>ke(_e)},De)})})]})]})}),N&&i.jsx("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.7)"},tabIndex:"-1",onClick:()=>S(!1),children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",onClick:we=>we.stopPropagation(),children:i.jsxs("div",{className:"modal-content bg-transparent border-0",children:[i.jsx("button",{type:"button",className:"btn-close btn-close-white ms-auto",style:{fontSize:24},onClick:()=>S(!1)}),i.jsx("img",{src:y,alt:"Preview",className:"img-fluid rounded-4 shadow",style:{maxHeight:"70vh",maxWidth:"90vw",display:"block",margin:"0 auto"}})]})})}),i.jsxs(yt,{show:D,onHide:()=>j(!1),centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Đặt phòng khách sạn"})}),i.jsx(yt.Body,{children:i.jsxs(mn,{children:[i.jsxs(mn.Group,{className:"mb-3",children:[i.jsx(mn.Label,{children:"Ngày nhận phòng"}),i.jsx(mn.Control,{type:"date",value:B,onChange:we=>F(we.target.value)})]}),i.jsxs(mn.Group,{className:"mb-3",children:[i.jsx(mn.Label,{children:"Ngày trả phòng"}),i.jsx(mn.Control,{type:"date",value:V,onChange:we=>$(we.target.value)})]}),c&&c.room_types&&i.jsxs(mn.Group,{className:"mb-3",children:[i.jsx(mn.Label,{children:"Loại phòng"}),i.jsxs(mn.Select,{value:le,onChange:we=>se(we.target.value),children:[i.jsx("option",{value:"",children:"Chọn loại phòng"}),Array.isArray(c.room_types)?c.room_types.map((we,De)=>typeof we=="object"?i.jsx("option",{value:we.type,children:we.type},De):i.jsx("option",{value:we,children:we},De)):JSON.parse(c.room_types||"[]").map((we,De)=>typeof we=="object"?i.jsx("option",{value:we.type,children:we.type},De):i.jsx("option",{value:we,children:we},De))]})]})]})}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:()=>j(!1),children:"Đóng"}),i.jsx(Ut,{variant:"success",onClick:async()=>{ne(null);try{await bh.bookHotel({user_id:q==null?void 0:q.id,hotel_id:c.id,check_in:B,check_out:V,room_type:le}),ne("success")}catch{ne("error")}},disabled:!B||!V||Array.isArray(c.room_types)&&c.room_types.length>0&&!le,children:"Xác nhận đặt phòng"})]})]}),i.jsx(Yr,{})]})},pJ=()=>{const{id:l}=Ab(),[c,s]=I.useState(null),[o,h]=I.useState(!0),[g,_]=I.useState(""),{user:y}=jb(),[v,N]=I.useState(!1),[S,D]=I.useState(""),[j,B]=I.useState(2),[F,V]=I.useState(""),[$,K]=I.useState(null),[Q,ee]=I.useState([]),[ne,le]=I.useState(!0),[se,q]=I.useState(null),de="https://walkingguide.onrender.com";if(I.useEffect(()=>{h(!0),kt.get(`${de}/api/restaurants/${l}`).then(De=>s(De.data.data)).catch(()=>_("Không tìm thấy nhà hàng này.")).finally(()=>h(!1))},[l]),I.useEffect(()=>{le(!0),kt.get(`${de}/api/restaurants/${l}/menus`).then(async De=>{const _e=De.data.data||[],je=await Promise.all(_e.map(async oe=>{const ve=await kt.get(`${de}/api/restaurants/menus/${oe.id}/items`).catch(()=>({data:{data:[]}}));return{...oe,items:ve.data.data||[]}}));ee(je),q(je.length>0?je[0]:null)}).catch(()=>{ee([]),q(null)}).finally(()=>le(!1))},[l]),o)return i.jsx("div",{className:"d-flex justify-content-center align-items-center py-5",children:i.jsx("div",{className:"spinner-border text-primary",role:"status"})});if(g)return i.jsx("div",{className:"alert alert-danger mt-4 text-center",children:g});if(!c)return i.jsx("div",{className:"alert alert-warning mt-4 text-center",children:"Không tìm thấy nhà hàng."});const re=c.images?c.images.map(De=>De.image_url):[],be=re.length>0?re[0].startsWith("http")?re[0]:`${de}${re[0]}`:null,ke=re.length>1?re.slice(1):[],we=async De=>{if(De.preventDefault(),!y){K({success:!1,message:"Bạn cần đăng nhập để đặt bàn."});return}try{const _e=await kt.post(`${de}/api/restaurants/${l}/bookings`,{user_id:y.id,restaurant_id:l,booking_time:S,number_of_people:j,special_requests:F});K({success:!0,message:"Đặt bàn thành công!"}),N(!1)}catch{K({success:!1,message:"Đặt bàn thất bại. Vui lòng thử lại."})}};return i.jsxs("div",{className:"luxury-home-container",children:[i.jsx(Br,{}),i.jsx("div",{className:"container py-4",children:i.jsxs("div",{className:"row g-3 align-items-start",style:{minHeight:350},children:[i.jsxs("div",{className:"col-md-7 col-12",children:[i.jsx("h2",{className:"fw-bold mb-2",style:{color:"#1a5bb8"},children:c.name}),i.jsx(Vl,{id:c.id,type:"restaurant"}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-geo-alt me-2 text-primary"}),i.jsx("b",{children:"Địa chỉ:"})," ",i.jsx("span",{className:"text-dark",children:c.address||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-building me-2 text-secondary"}),i.jsx("b",{children:"Thành phố:"})," ",i.jsx("span",{className:"text-dark",children:c.city||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-telephone me-2 text-success"}),i.jsx("b",{children:"Liên hệ:"})," ",i.jsx("span",{className:"text-dark",children:c.phone||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-star me-2 text-warning"}),i.jsx("b",{children:"Đánh giá:"})," ",i.jsx("span",{className:"text-dark",children:c.rating||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-info-circle me-2 text-info"}),i.jsx("b",{children:"Mô tả:"})," ",i.jsx("span",{className:"text-muted",children:c.description||"---"})]}),c.cuisine_type&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-egg-fried me-2 text-danger"}),i.jsx("b",{children:"Loại ẩm thực:"})," ",i.jsx("span",{className:"text-dark",children:c.cuisine_type})]}),Array.isArray(c.features)&&c.features.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-gem me-2 text-info"}),i.jsx("b",{children:"Tiện ích:"}),i.jsx("div",{className:"d-flex flex-wrap gap-2 mt-1",children:c.features.map((De,_e)=>i.jsx("span",{className:"badge bg-light text-dark border border-1 px-3 py-2",style:{fontSize:"1em",borderRadius:12},children:De},_e))})]}),i.jsx(Ut,{className:"mt-3 btn btn-main",onClick:()=>N(!0),children:"Đặt bàn ngay"}),$&&i.jsx("div",{className:`alert mt-3 ${$.success?"alert-success":"alert-danger"}`,children:$.message}),i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"fw-bold mb-3",children:"Thực đơn"}),ne?i.jsx("div",{children:"Đang tải thực đơn..."}):Q.length===0?i.jsx("div",{className:"text-muted",children:"Nhà hàng chưa có thực đơn."}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"d-flex overflow-auto mb-3",style:{gap:8},children:Q.map(De=>i.jsx(Ut,{variant:se&&se.id===De.id?"primary":"outline-primary",className:"me-2 btn btn-main",onClick:()=>q(De),style:{whiteSpace:"nowrap"},children:De.name},De.id))}),se&&se.items&&se.items.length>0?i.jsx("div",{className:"row g-3",children:se.items.map(De=>i.jsx("div",{className:"col-md-6 col-lg-4",children:i.jsxs("div",{className:"card h-100 shadow-sm",children:[De.image_url&&i.jsx("img",{src:De.image_url.startsWith("http")?De.image_url:`${de}${De.image_url}`,alt:De.name,className:"card-img-top",style:{height:160,objectFit:"cover"}}),i.jsxs("div",{className:"card-body",children:[i.jsx("h6",{className:"card-title mb-1 fw-bold",children:De.name}),i.jsx("div",{className:"mb-1 text-success",children:De.price?De.price.toLocaleString("vi-VN")+" VND":""}),i.jsx("div",{className:"card-text text-muted",style:{fontSize:"0.95em"},children:De.description})]})]})},De.id))}):i.jsx("div",{className:"text-muted",children:"Chưa có món ăn nào trong mục này."})]})]})]}),i.jsxs("div",{className:"col-md-5 col-12 d-flex flex-column align-items-end",children:[be?i.jsx("img",{src:be,alt:c.name,style:{width:"100%",maxWidth:400,maxHeight:300,objectFit:"cover",borderRadius:16,marginBottom:8}}):i.jsx("div",{className:"d-flex align-items-center justify-content-center bg-light",style:{width:"100%",maxWidth:400,height:220,borderRadius:16},children:i.jsx("i",{className:"bi bi-image text-muted",style:{fontSize:"4rem"}})}),ke.length>0&&i.jsx("div",{className:"d-flex flex-wrap gap-2 mt-2 justify-content-end",children:ke.map((De,_e)=>i.jsx("img",{src:De.startsWith("http")?De:`${de}${De}`,alt:c.name,style:{height:60,width:90,objectFit:"cover",borderRadius:8,border:"1px solid #e9ecef",background:"#f8f9fa"}},_e))})]})]})}),i.jsxs(yt,{show:v,onHide:()=>N(!1),centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsxs(yt.Title,{children:["Đặt bàn tại ",c==null?void 0:c.name]})}),i.jsxs(mn,{onSubmit:we,children:[i.jsxs(yt.Body,{children:[i.jsxs(mn.Group,{className:"mb-3",children:[i.jsx(mn.Label,{children:"Ngày & Giờ"}),i.jsx(mn.Control,{type:"datetime-local",value:S,onChange:De=>D(De.target.value),required:!0})]}),i.jsxs(mn.Group,{className:"mb-3",children:[i.jsx(mn.Label,{children:"Số người"}),i.jsx(mn.Control,{type:"number",min:1,max:30,value:j,onChange:De=>B(De.target.value),required:!0})]}),i.jsxs(mn.Group,{className:"mb-3",children:[i.jsx(mn.Label,{children:"Ghi chú đặc biệt"}),i.jsx(mn.Control,{as:"textarea",rows:2,value:F,onChange:De=>V(De.target.value),placeholder:"(Không bắt buộc)"})]})]}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:()=>N(!1),children:"Hủy"}),i.jsx(Ut,{variant:"primary",type:"submit",children:"Đặt bàn"})]})]})]}),i.jsx(Yr,{})]})},gJ=({message:l,type:c="success",duration:s=3e3,onClose:o,position:h="top-right"})=>{const[g,_]=I.useState(!0),[y,v]=I.useState(!1);I.useEffect(()=>{const j=setTimeout(()=>{N()},s);return()=>clearTimeout(j)},[s]);const N=()=>{v(!0),setTimeout(()=>{_(!1),o&&o()},300)},S=()=>{switch(c){case"success":return i.jsx("i",{className:"bi bi-check-circle-fill"});case"error":return i.jsx("i",{className:"bi bi-exclamation-triangle-fill"});case"warning":return i.jsx("i",{className:"bi bi-exclamation-triangle-fill"});case"info":return i.jsx("i",{className:"bi bi-info-circle-fill"});default:return i.jsx("i",{className:"bi bi-check-circle-fill"})}},D=()=>{const j="toast-notification",B=`toast-${c}`,F=`toast-${h.replace("-","-")}`;return`${j} ${B} ${F} ${y?"toast-exit":"toast-enter"}`};return g?i.jsxs("div",{className:D(),children:[i.jsxs("div",{className:"toast-content",children:[i.jsx("div",{className:"toast-icon",children:S()}),i.jsx("div",{className:"toast-message",children:l}),i.jsx("button",{className:"toast-close",onClick:N,"aria-label":"Close notification",children:i.jsx("i",{className:"bi bi-x"})})]}),i.jsx("div",{className:"toast-progress",children:i.jsx("div",{className:"toast-progress-bar",style:{animationDuration:`${s}ms`,animationDelay:"0ms"}})})]}):null},bJ=()=>{const[l,c]=I.useState([]),s=I.useCallback((h,g="success",_=3e3)=>{const y=Date.now()+Math.random(),v={id:y,message:h,type:g,duration:_};return c(N=>[...N,v]),y},[]),o=I.useCallback(h=>{c(g=>g.filter(_=>_.id!==h))},[]);return nt.useEffect(()=>(window.showToast=s,()=>{delete window.showToast}),[s]),i.jsx("div",{className:"toast-container",children:l.map(h=>i.jsx(gJ,{message:h.message,type:h.type,duration:h.duration,onClose:()=>o(h.id)},h.id))})};function kJ(){return i.jsxs(y9,{children:[i.jsx(cJ,{}),i.jsx(bJ,{}),i.jsxs(Z7,{children:[i.jsx(Ai,{path:"/",element:i.jsx(XZ,{})}),i.jsx(Ai,{path:"/login",element:i.jsx(rX,{})}),i.jsx(Ai,{path:"/register",element:i.jsx(sX,{})}),i.jsx(Ai,{path:"/verify-email",element:i.jsx(dJ,{})}),i.jsx(Ai,{path:"/forgot-password",element:i.jsx(uJ,{})}),i.jsx(Ai,{path:"/reset-password",element:i.jsx(mJ,{})}),i.jsx(Ai,{path:"/otp",element:i.jsx(hJ,{})}),i.jsx(Ai,{path:"/users",element:i.jsx(uu,{children:i.jsx(JZ,{})})}),i.jsx(Ai,{path:"/places",element:i.jsx(uu,{children:i.jsx(tX,{})})}),i.jsx(Ai,{path:"/tours",element:i.jsx(uu,{children:i.jsx(nX,{})})}),i.jsx(Ai,{path:"/articles",element:i.jsx(uu,{children:i.jsx(iX,{})})}),i.jsx(Ai,{path:"/create-article",element:i.jsx(uu,{children:i.jsx(aJ,{})})}),i.jsx(Ai,{path:"/notifications",element:i.jsx(uu,{children:i.jsx(lJ,{})})}),i.jsx(Ai,{path:"/admin",element:i.jsx(ud,{children:i.jsx(oX,{})})}),i.jsx(Ai,{path:"/admin/users",element:i.jsx(ud,{children:i.jsx(OX,{})})}),i.jsx(Ai,{path:"/admin/places",element:i.jsx(ud,{children:i.jsx(FX,{})})}),i.jsx(Ai,{path:"/admin/hotels",element:i.jsx(ud,{children:i.jsx(VX,{})})}),i.jsx(Ai,{path:"/admin/restaurants",element:i.jsx(ud,{children:i.jsx(UX,{})})}),i.jsx(Ai,{path:"/admin/articles",element:i.jsx(ud,{children:i.jsx(IX,{})})}),i.jsx(Ai,{path:"/admin/tours",element:i.jsx(ud,{children:i.jsx(qX,{})})}),i.jsx(Ai,{path:"/admin/bookings",element:i.jsx(ud,{children:i.jsx(WX,{})})}),i.jsx(Ai,{path:"/admin/tags",element:i.jsx(ud,{children:i.jsx(YX,{})})}),i.jsx(Ai,{path:"/admin/settings",element:i.jsx(ud,{children:i.jsx(GX,{})})}),i.jsx(Ai,{path:"/manual-planner",element:i.jsx(uu,{children:i.jsx(cL,{})})}),i.jsx(Ai,{path:"/my-tours",element:i.jsx(uu,{children:i.jsx(oJ,{})})}),i.jsx(Ai,{path:"/ai/generate-tour",element:i.jsx(uu,{children:i.jsx(dL,{})})}),i.jsx(Ai,{path:"/articles/:id",element:i.jsx(IO,{})}),i.jsx(Ai,{path:"/articles/:id/report",element:i.jsx(IO,{})}),i.jsx(Ai,{path:"/places/:id",element:i.jsx(JX,{})}),i.jsx(Ai,{path:"/tours/:id",element:i.jsx(rJ,{})}),i.jsx(Ai,{path:"/hotels/:id",element:i.jsx(fJ,{})}),i.jsx(Ai,{path:"/restaurants/:id",element:i.jsx(pJ,{})}),i.jsx(Ai,{path:"/place-ratings/rate/:id",element:i.jsx(Vl,{})})]})]})}var pv={exports:{}};/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var _J=pv.exports,BO;function vJ(){return BO||(BO=1,function(l,c){(function(s,o){l.exports=o()})(_J,function(){const s=new Map,o={set(te,R,Y){s.has(te)||s.set(te,new Map);const ue=s.get(te);ue.has(R)||ue.size===0?ue.set(R,Y):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(ue.keys())[0]}.`)},get:(te,R)=>s.has(te)&&s.get(te).get(R)||null,remove(te,R){if(!s.has(te))return;const Y=s.get(te);Y.delete(R),Y.size===0&&s.delete(te)}},h="transitionend",g=te=>(te&&window.CSS&&window.CSS.escape&&(te=te.replace(/#([^\s"#']+)/g,(R,Y)=>`#${CSS.escape(Y)}`)),te),_=te=>{te.dispatchEvent(new Event(h))},y=te=>!(!te||typeof te!="object")&&(te.jquery!==void 0&&(te=te[0]),te.nodeType!==void 0),v=te=>y(te)?te.jquery?te[0]:te:typeof te=="string"&&te.length>0?document.querySelector(g(te)):null,N=te=>{if(!y(te)||te.getClientRects().length===0)return!1;const R=getComputedStyle(te).getPropertyValue("visibility")==="visible",Y=te.closest("details:not([open])");if(!Y)return R;if(Y!==te){const ue=te.closest("summary");if(ue&&ue.parentNode!==Y||ue===null)return!1}return R},S=te=>!te||te.nodeType!==Node.ELEMENT_NODE||!!te.classList.contains("disabled")||(te.disabled!==void 0?te.disabled:te.hasAttribute("disabled")&&te.getAttribute("disabled")!=="false"),D=te=>{if(!document.documentElement.attachShadow)return null;if(typeof te.getRootNode=="function"){const R=te.getRootNode();return R instanceof ShadowRoot?R:null}return te instanceof ShadowRoot?te:te.parentNode?D(te.parentNode):null},j=()=>{},B=te=>{te.offsetHeight},F=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,V=[],$=()=>document.documentElement.dir==="rtl",K=te=>{var R;R=()=>{const Y=F();if(Y){const ue=te.NAME,ze=Y.fn[ue];Y.fn[ue]=te.jQueryInterface,Y.fn[ue].Constructor=te,Y.fn[ue].noConflict=()=>(Y.fn[ue]=ze,te.jQueryInterface)}},document.readyState==="loading"?(V.length||document.addEventListener("DOMContentLoaded",()=>{for(const Y of V)Y()}),V.push(R)):R()},Q=(te,R=[],Y=te)=>typeof te=="function"?te.call(...R):Y,ee=(te,R,Y=!0)=>{if(!Y)return void Q(te);const ue=(ot=>{if(!ot)return 0;let{transitionDuration:wt,transitionDelay:It}=window.getComputedStyle(ot);const Wt=Number.parseFloat(wt),Kt=Number.parseFloat(It);return Wt||Kt?(wt=wt.split(",")[0],It=It.split(",")[0],1e3*(Number.parseFloat(wt)+Number.parseFloat(It))):0})(R)+5;let ze=!1;const Pe=({target:ot})=>{ot===R&&(ze=!0,R.removeEventListener(h,Pe),Q(te))};R.addEventListener(h,Pe),setTimeout(()=>{ze||_(R)},ue)},ne=(te,R,Y,ue)=>{const ze=te.length;let Pe=te.indexOf(R);return Pe===-1?!Y&&ue?te[ze-1]:te[0]:(Pe+=Y?1:-1,ue&&(Pe=(Pe+ze)%ze),te[Math.max(0,Math.min(Pe,ze-1))])},le=/[^.]*(?=\..*)\.|.*/,se=/\..*/,q=/::\d+$/,de={};let re=1;const be={mouseenter:"mouseover",mouseleave:"mouseout"},ke=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function we(te,R){return R&&`${R}::${re++}`||te.uidEvent||re++}function De(te){const R=we(te);return te.uidEvent=R,de[R]=de[R]||{},de[R]}function _e(te,R,Y=null){return Object.values(te).find(ue=>ue.callable===R&&ue.delegationSelector===Y)}function je(te,R,Y){const ue=typeof R=="string",ze=ue?Y:R||Y;let Pe=Ee(te);return ke.has(Pe)||(Pe=te),[ue,ze,Pe]}function oe(te,R,Y,ue,ze){if(typeof R!="string"||!te)return;let[Pe,ot,wt]=je(R,Y,ue);R in be&&(ot=(yn=>function(St){if(!St.relatedTarget||St.relatedTarget!==St.delegateTarget&&!St.delegateTarget.contains(St.relatedTarget))return yn.call(this,St)})(ot));const It=De(te),Wt=It[wt]||(It[wt]={}),Kt=_e(Wt,ot,Pe?Y:null);if(Kt)return void(Kt.oneOff=Kt.oneOff&&ze);const Yt=we(ot,R.replace(le,"")),mt=Pe?function(hn,yn,St){return function xn(ri){const gi=hn.querySelectorAll(yn);for(let{target:Fn}=ri;Fn&&Fn!==this;Fn=Fn.parentNode)for(const lt of gi)if(lt===Fn)return fe(ri,{delegateTarget:Fn}),xn.oneOff&&Z.off(hn,ri.type,yn,St),St.apply(Fn,[ri])}}(te,Y,ot):function(hn,yn){return function St(xn){return fe(xn,{delegateTarget:hn}),St.oneOff&&Z.off(hn,xn.type,yn),yn.apply(hn,[xn])}}(te,ot);mt.delegationSelector=Pe?Y:null,mt.callable=ot,mt.oneOff=ze,mt.uidEvent=Yt,Wt[Yt]=mt,te.addEventListener(wt,mt,Pe)}function ve(te,R,Y,ue,ze){const Pe=_e(R[Y],ue,ze);Pe&&(te.removeEventListener(Y,Pe,!!ze),delete R[Y][Pe.uidEvent])}function he(te,R,Y,ue){const ze=R[Y]||{};for(const[Pe,ot]of Object.entries(ze))Pe.includes(ue)&&ve(te,R,Y,ot.callable,ot.delegationSelector)}function Ee(te){return te=te.replace(se,""),be[te]||te}const Z={on(te,R,Y,ue){oe(te,R,Y,ue,!1)},one(te,R,Y,ue){oe(te,R,Y,ue,!0)},off(te,R,Y,ue){if(typeof R!="string"||!te)return;const[ze,Pe,ot]=je(R,Y,ue),wt=ot!==R,It=De(te),Wt=It[ot]||{},Kt=R.startsWith(".");if(Pe===void 0){if(Kt)for(const Yt of Object.keys(It))he(te,It,Yt,R.slice(1));for(const[Yt,mt]of Object.entries(Wt)){const hn=Yt.replace(q,"");wt&&!R.includes(hn)||ve(te,It,ot,mt.callable,mt.delegationSelector)}}else{if(!Object.keys(Wt).length)return;ve(te,It,ot,Pe,ze?Y:null)}},trigger(te,R,Y){if(typeof R!="string"||!te)return null;const ue=F();let ze=null,Pe=!0,ot=!0,wt=!1;R!==Ee(R)&&ue&&(ze=ue.Event(R,Y),ue(te).trigger(ze),Pe=!ze.isPropagationStopped(),ot=!ze.isImmediatePropagationStopped(),wt=ze.isDefaultPrevented());const It=fe(new Event(R,{bubbles:Pe,cancelable:!0}),Y);return wt&&It.preventDefault(),ot&&te.dispatchEvent(It),It.defaultPrevented&&ze&&ze.preventDefault(),It}};function fe(te,R={}){for(const[Y,ue]of Object.entries(R))try{te[Y]=ue}catch{Object.defineProperty(te,Y,{configurable:!0,get:()=>ue})}return te}function Ce(te){if(te==="true")return!0;if(te==="false")return!1;if(te===Number(te).toString())return Number(te);if(te===""||te==="null")return null;if(typeof te!="string")return te;try{return JSON.parse(decodeURIComponent(te))}catch{return te}}function Se(te){return te.replace(/[A-Z]/g,R=>`-${R.toLowerCase()}`)}const He={setDataAttribute(te,R,Y){te.setAttribute(`data-bs-${Se(R)}`,Y)},removeDataAttribute(te,R){te.removeAttribute(`data-bs-${Se(R)}`)},getDataAttributes(te){if(!te)return{};const R={},Y=Object.keys(te.dataset).filter(ue=>ue.startsWith("bs")&&!ue.startsWith("bsConfig"));for(const ue of Y){let ze=ue.replace(/^bs/,"");ze=ze.charAt(0).toLowerCase()+ze.slice(1),R[ze]=Ce(te.dataset[ue])}return R},getDataAttribute:(te,R)=>Ce(te.getAttribute(`data-bs-${Se(R)}`))};class et{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(R){return R=this._mergeConfigObj(R),R=this._configAfterMerge(R),this._typeCheckConfig(R),R}_configAfterMerge(R){return R}_mergeConfigObj(R,Y){const ue=y(Y)?He.getDataAttribute(Y,"config"):{};return{...this.constructor.Default,...typeof ue=="object"?ue:{},...y(Y)?He.getDataAttributes(Y):{},...typeof R=="object"?R:{}}}_typeCheckConfig(R,Y=this.constructor.DefaultType){for(const[ze,Pe]of Object.entries(Y)){const ot=R[ze],wt=y(ot)?"element":(ue=ot)==null?`${ue}`:Object.prototype.toString.call(ue).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(Pe).test(wt))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${ze}" provided type "${wt}" but expected type "${Pe}".`)}var ue}}class pe extends et{constructor(R,Y){super(),(R=v(R))&&(this._element=R,this._config=this._getConfig(Y),o.set(this._element,this.constructor.DATA_KEY,this))}dispose(){o.remove(this._element,this.constructor.DATA_KEY),Z.off(this._element,this.constructor.EVENT_KEY);for(const R of Object.getOwnPropertyNames(this))this[R]=null}_queueCallback(R,Y,ue=!0){ee(R,Y,ue)}_getConfig(R){return R=this._mergeConfigObj(R,this._element),R=this._configAfterMerge(R),this._typeCheckConfig(R),R}static getInstance(R){return o.get(v(R),this.DATA_KEY)}static getOrCreateInstance(R,Y={}){return this.getInstance(R)||new this(R,typeof Y=="object"?Y:null)}static get VERSION(){return"5.3.6"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(R){return`${R}${this.EVENT_KEY}`}}const me=te=>{let R=te.getAttribute("data-bs-target");if(!R||R==="#"){let Y=te.getAttribute("href");if(!Y||!Y.includes("#")&&!Y.startsWith("."))return null;Y.includes("#")&&!Y.startsWith("#")&&(Y=`#${Y.split("#")[1]}`),R=Y&&Y!=="#"?Y.trim():null}return R?R.split(",").map(Y=>g(Y)).join(","):null},Ie={find:(te,R=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(R,te)),findOne:(te,R=document.documentElement)=>Element.prototype.querySelector.call(R,te),children:(te,R)=>[].concat(...te.children).filter(Y=>Y.matches(R)),parents(te,R){const Y=[];let ue=te.parentNode.closest(R);for(;ue;)Y.push(ue),ue=ue.parentNode.closest(R);return Y},prev(te,R){let Y=te.previousElementSibling;for(;Y;){if(Y.matches(R))return[Y];Y=Y.previousElementSibling}return[]},next(te,R){let Y=te.nextElementSibling;for(;Y;){if(Y.matches(R))return[Y];Y=Y.nextElementSibling}return[]},focusableChildren(te){const R=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(Y=>`${Y}:not([tabindex^="-"])`).join(",");return this.find(R,te).filter(Y=>!S(Y)&&N(Y))},getSelectorFromElement(te){const R=me(te);return R&&Ie.findOne(R)?R:null},getElementFromSelector(te){const R=me(te);return R?Ie.findOne(R):null},getMultipleElementsFromSelector(te){const R=me(te);return R?Ie.find(R):[]}},We=(te,R="hide")=>{const Y=`click.dismiss${te.EVENT_KEY}`,ue=te.NAME;Z.on(document,Y,`[data-bs-dismiss="${ue}"]`,function(ze){if(["A","AREA"].includes(this.tagName)&&ze.preventDefault(),S(this))return;const Pe=Ie.getElementFromSelector(this)||this.closest(`.${ue}`);te.getOrCreateInstance(Pe)[R]()})},Le=".bs.alert",st=`close${Le}`,Ge=`closed${Le}`;class Oe extends pe{static get NAME(){return"alert"}close(){if(Z.trigger(this._element,st).defaultPrevented)return;this._element.classList.remove("show");const R=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,R)}_destroyElement(){this._element.remove(),Z.trigger(this._element,Ge),this.dispose()}static jQueryInterface(R){return this.each(function(){const Y=Oe.getOrCreateInstance(this);if(typeof R=="string"){if(Y[R]===void 0||R.startsWith("_")||R==="constructor")throw new TypeError(`No method named "${R}"`);Y[R](this)}})}}We(Oe,"close"),K(Oe);const ut='[data-bs-toggle="button"]';class Fe extends pe{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(R){return this.each(function(){const Y=Fe.getOrCreateInstance(this);R==="toggle"&&Y[R]()})}}Z.on(document,"click.bs.button.data-api",ut,te=>{te.preventDefault();const R=te.target.closest(ut);Fe.getOrCreateInstance(R).toggle()}),K(Fe);const ht=".bs.swipe",Pt=`touchstart${ht}`,en=`touchmove${ht}`,at=`touchend${ht}`,jt=`pointerdown${ht}`,Dt=`pointerup${ht}`,Qe={endCallback:null,leftCallback:null,rightCallback:null},Tt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ot extends et{constructor(R,Y){super(),this._element=R,R&&Ot.isSupported()&&(this._config=this._getConfig(Y),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Qe}static get DefaultType(){return Tt}static get NAME(){return"swipe"}dispose(){Z.off(this._element,ht)}_start(R){this._supportPointerEvents?this._eventIsPointerPenTouch(R)&&(this._deltaX=R.clientX):this._deltaX=R.touches[0].clientX}_end(R){this._eventIsPointerPenTouch(R)&&(this._deltaX=R.clientX-this._deltaX),this._handleSwipe(),Q(this._config.endCallback)}_move(R){this._deltaX=R.touches&&R.touches.length>1?0:R.touches[0].clientX-this._deltaX}_handleSwipe(){const R=Math.abs(this._deltaX);if(R<=40)return;const Y=R/this._deltaX;this._deltaX=0,Y&&Q(Y>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Z.on(this._element,jt,R=>this._start(R)),Z.on(this._element,Dt,R=>this._end(R)),this._element.classList.add("pointer-event")):(Z.on(this._element,Pt,R=>this._start(R)),Z.on(this._element,en,R=>this._move(R)),Z.on(this._element,at,R=>this._end(R)))}_eventIsPointerPenTouch(R){return this._supportPointerEvents&&(R.pointerType==="pen"||R.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const $e=".bs.carousel",bt=".data-api",$t="ArrowLeft",fn="ArrowRight",Rn="next",vn="prev",ai="left",ci="right",Ar=`slide${$e}`,nr=`slid${$e}`,Li=`keydown${$e}`,ni=`mouseenter${$e}`,Xn=`mouseleave${$e}`,$s=`dragstart${$e}`,di=`load${$e}${bt}`,ir=`click${$e}${bt}`,kr="carousel",rr="active",Nr=".active",qe=".carousel-item",Zt=Nr+qe,rt={[$t]:ci,[fn]:ai},Re={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Lt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ft extends pe{constructor(R,Y){super(R,Y),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ie.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===kr&&this.cycle()}static get Default(){return Re}static get DefaultType(){return Lt}static get NAME(){return"carousel"}next(){this._slide(Rn)}nextWhenVisible(){!document.hidden&&N(this._element)&&this.next()}prev(){this._slide(vn)}pause(){this._isSliding&&_(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?Z.one(this._element,nr,()=>this.cycle()):this.cycle())}to(R){const Y=this._getItems();if(R>Y.length-1||R<0)return;if(this._isSliding)return void Z.one(this._element,nr,()=>this.to(R));const ue=this._getItemIndex(this._getActive());if(ue===R)return;const ze=R>ue?Rn:vn;this._slide(ze,Y[R])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(R){return R.defaultInterval=R.interval,R}_addEventListeners(){this._config.keyboard&&Z.on(this._element,Li,R=>this._keydown(R)),this._config.pause==="hover"&&(Z.on(this._element,ni,()=>this.pause()),Z.on(this._element,Xn,()=>this._maybeEnableCycle())),this._config.touch&&Ot.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const Y of Ie.find(".carousel-item img",this._element))Z.on(Y,$s,ue=>ue.preventDefault());const R={leftCallback:()=>this._slide(this._directionToOrder(ai)),rightCallback:()=>this._slide(this._directionToOrder(ci)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Ot(this._element,R)}_keydown(R){if(/input|textarea/i.test(R.target.tagName))return;const Y=rt[R.key];Y&&(R.preventDefault(),this._slide(this._directionToOrder(Y)))}_getItemIndex(R){return this._getItems().indexOf(R)}_setActiveIndicatorElement(R){if(!this._indicatorsElement)return;const Y=Ie.findOne(Nr,this._indicatorsElement);Y.classList.remove(rr),Y.removeAttribute("aria-current");const ue=Ie.findOne(`[data-bs-slide-to="${R}"]`,this._indicatorsElement);ue&&(ue.classList.add(rr),ue.setAttribute("aria-current","true"))}_updateInterval(){const R=this._activeElement||this._getActive();if(!R)return;const Y=Number.parseInt(R.getAttribute("data-bs-interval"),10);this._config.interval=Y||this._config.defaultInterval}_slide(R,Y=null){if(this._isSliding)return;const ue=this._getActive(),ze=R===Rn,Pe=Y||ne(this._getItems(),ue,ze,this._config.wrap);if(Pe===ue)return;const ot=this._getItemIndex(Pe),wt=Yt=>Z.trigger(this._element,Yt,{relatedTarget:Pe,direction:this._orderToDirection(R),from:this._getItemIndex(ue),to:ot});if(wt(Ar).defaultPrevented||!ue||!Pe)return;const It=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ot),this._activeElement=Pe;const Wt=ze?"carousel-item-start":"carousel-item-end",Kt=ze?"carousel-item-next":"carousel-item-prev";Pe.classList.add(Kt),B(Pe),ue.classList.add(Wt),Pe.classList.add(Wt),this._queueCallback(()=>{Pe.classList.remove(Wt,Kt),Pe.classList.add(rr),ue.classList.remove(rr,Kt,Wt),this._isSliding=!1,wt(nr)},ue,this._isAnimated()),It&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Ie.findOne(Zt,this._element)}_getItems(){return Ie.find(qe,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(R){return $()?R===ai?vn:Rn:R===ai?Rn:vn}_orderToDirection(R){return $()?R===vn?ai:ci:R===vn?ci:ai}static jQueryInterface(R){return this.each(function(){const Y=ft.getOrCreateInstance(this,R);if(typeof R!="number"){if(typeof R=="string"){if(Y[R]===void 0||R.startsWith("_")||R==="constructor")throw new TypeError(`No method named "${R}"`);Y[R]()}}else Y.to(R)})}}Z.on(document,ir,"[data-bs-slide], [data-bs-slide-to]",function(te){const R=Ie.getElementFromSelector(this);if(!R||!R.classList.contains(kr))return;te.preventDefault();const Y=ft.getOrCreateInstance(R),ue=this.getAttribute("data-bs-slide-to");return ue?(Y.to(ue),void Y._maybeEnableCycle()):He.getDataAttribute(this,"slide")==="next"?(Y.next(),void Y._maybeEnableCycle()):(Y.prev(),void Y._maybeEnableCycle())}),Z.on(window,di,()=>{const te=Ie.find('[data-bs-ride="carousel"]');for(const R of te)ft.getOrCreateInstance(R)}),K(ft);const Bt=".bs.collapse",an=`show${Bt}`,On=`shown${Bt}`,Sn=`hide${Bt}`,fi=`hidden${Bt}`,ye=`click${Bt}.data-api`,dt="show",xt="collapse",ln="collapsing",qn=`:scope .${xt} .${xt}`,Te='[data-bs-toggle="collapse"]',Et={parent:null,toggle:!0},Mt={parent:"(null|element)",toggle:"boolean"};class wn extends pe{constructor(R,Y){super(R,Y),this._isTransitioning=!1,this._triggerArray=[];const ue=Ie.find(Te);for(const ze of ue){const Pe=Ie.getSelectorFromElement(ze),ot=Ie.find(Pe).filter(wt=>wt===this._element);Pe!==null&&ot.length&&this._triggerArray.push(ze)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Et}static get DefaultType(){return Mt}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let R=[];if(this._config.parent&&(R=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(ze=>ze!==this._element).map(ze=>wn.getOrCreateInstance(ze,{toggle:!1}))),R.length&&R[0]._isTransitioning||Z.trigger(this._element,an).defaultPrevented)return;for(const ze of R)ze.hide();const Y=this._getDimension();this._element.classList.remove(xt),this._element.classList.add(ln),this._element.style[Y]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const ue=`scroll${Y[0].toUpperCase()+Y.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ln),this._element.classList.add(xt,dt),this._element.style[Y]="",Z.trigger(this._element,On)},this._element,!0),this._element.style[Y]=`${this._element[ue]}px`}hide(){if(this._isTransitioning||!this._isShown()||Z.trigger(this._element,Sn).defaultPrevented)return;const R=this._getDimension();this._element.style[R]=`${this._element.getBoundingClientRect()[R]}px`,B(this._element),this._element.classList.add(ln),this._element.classList.remove(xt,dt);for(const Y of this._triggerArray){const ue=Ie.getElementFromSelector(Y);ue&&!this._isShown(ue)&&this._addAriaAndCollapsedClass([Y],!1)}this._isTransitioning=!0,this._element.style[R]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ln),this._element.classList.add(xt),Z.trigger(this._element,fi)},this._element,!0)}_isShown(R=this._element){return R.classList.contains(dt)}_configAfterMerge(R){return R.toggle=!!R.toggle,R.parent=v(R.parent),R}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const R=this._getFirstLevelChildren(Te);for(const Y of R){const ue=Ie.getElementFromSelector(Y);ue&&this._addAriaAndCollapsedClass([Y],this._isShown(ue))}}_getFirstLevelChildren(R){const Y=Ie.find(qn,this._config.parent);return Ie.find(R,this._config.parent).filter(ue=>!Y.includes(ue))}_addAriaAndCollapsedClass(R,Y){if(R.length)for(const ue of R)ue.classList.toggle("collapsed",!Y),ue.setAttribute("aria-expanded",Y)}static jQueryInterface(R){const Y={};return typeof R=="string"&&/show|hide/.test(R)&&(Y.toggle=!1),this.each(function(){const ue=wn.getOrCreateInstance(this,Y);if(typeof R=="string"){if(ue[R]===void 0)throw new TypeError(`No method named "${R}"`);ue[R]()}})}}Z.on(document,ye,Te,function(te){(te.target.tagName==="A"||te.delegateTarget&&te.delegateTarget.tagName==="A")&&te.preventDefault();for(const R of Ie.getMultipleElementsFromSelector(this))wn.getOrCreateInstance(R,{toggle:!1}).toggle()}),K(wn);var qt="top",jn="bottom",Wn="right",ii="left",pi="auto",Rr=[qt,jn,Wn,ii],Pr="start",mo="end",Nc="clippingParents",_a="viewport",fo="popper",qs="reference",Kr=Rr.reduce(function(te,R){return te.concat([R+"-"+Pr,R+"-"+mo])},[]),us=[].concat(Rr,[pi]).reduce(function(te,R){return te.concat([R,R+"-"+Pr,R+"-"+mo])},[]),hs="beforeRead",Fa="read",po="afterRead",Yn="beforeMain",_i="main",_r="afterMain",To="beforeWrite",Jo="write",Qr="afterWrite",Nn=[hs,Fa,po,Yn,_i,_r,To,Jo,Qr];function Gn(te){return te?(te.nodeName||"").toLowerCase():null}function Er(te){if(te==null)return window;if(te.toString()!=="[object Window]"){var R=te.ownerDocument;return R&&R.defaultView||window}return te}function Mi(te){return te instanceof Er(te).Element||te instanceof Element}function Ei(te){return te instanceof Er(te).HTMLElement||te instanceof HTMLElement}function Ha(te){return typeof ShadowRoot<"u"&&(te instanceof Er(te).ShadowRoot||te instanceof ShadowRoot)}const Ws={name:"applyStyles",enabled:!0,phase:"write",fn:function(te){var R=te.state;Object.keys(R.elements).forEach(function(Y){var ue=R.styles[Y]||{},ze=R.attributes[Y]||{},Pe=R.elements[Y];Ei(Pe)&&Gn(Pe)&&(Object.assign(Pe.style,ue),Object.keys(ze).forEach(function(ot){var wt=ze[ot];wt===!1?Pe.removeAttribute(ot):Pe.setAttribute(ot,wt===!0?"":wt)}))})},effect:function(te){var R=te.state,Y={popper:{position:R.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(R.elements.popper.style,Y.popper),R.styles=Y,R.elements.arrow&&Object.assign(R.elements.arrow.style,Y.arrow),function(){Object.keys(R.elements).forEach(function(ue){var ze=R.elements[ue],Pe=R.attributes[ue]||{},ot=Object.keys(R.styles.hasOwnProperty(ue)?R.styles[ue]:Y[ue]).reduce(function(wt,It){return wt[It]="",wt},{});Ei(ze)&&Gn(ze)&&(Object.assign(ze.style,ot),Object.keys(Pe).forEach(function(wt){ze.removeAttribute(wt)}))})}},requires:["computeStyles"]};function $i(te){return te.split("-")[0]}var Vn=Math.max,zr=Math.min,Sr=Math.round;function ms(){var te=navigator.userAgentData;return te!=null&&te.brands&&Array.isArray(te.brands)?te.brands.map(function(R){return R.brand+"/"+R.version}).join(" "):navigator.userAgent}function Ys(){return!/^((?!chrome|android).)*safari/i.test(ms())}function xs(te,R,Y){R===void 0&&(R=!1),Y===void 0&&(Y=!1);var ue=te.getBoundingClientRect(),ze=1,Pe=1;R&&Ei(te)&&(ze=te.offsetWidth>0&&Sr(ue.width)/te.offsetWidth||1,Pe=te.offsetHeight>0&&Sr(ue.height)/te.offsetHeight||1);var ot=(Mi(te)?Er(te):window).visualViewport,wt=!Ys()&&Y,It=(ue.left+(wt&&ot?ot.offsetLeft:0))/ze,Wt=(ue.top+(wt&&ot?ot.offsetTop:0))/Pe,Kt=ue.width/ze,Yt=ue.height/Pe;return{width:Kt,height:Yt,top:Wt,right:It+Kt,bottom:Wt+Yt,left:It,x:It,y:Wt}}function Gs(te){var R=xs(te),Y=te.offsetWidth,ue=te.offsetHeight;return Math.abs(R.width-Y)<=1&&(Y=R.width),Math.abs(R.height-ue)<=1&&(ue=R.height),{x:te.offsetLeft,y:te.offsetTop,width:Y,height:ue}}function xe(te,R){var Y=R.getRootNode&&R.getRootNode();if(te.contains(R))return!0;if(Y&&Ha(Y)){var ue=R;do{if(ue&&te.isSameNode(ue))return!0;ue=ue.parentNode||ue.host}while(ue)}return!1}function Ct(te){return Er(te).getComputedStyle(te)}function nn(te){return["table","td","th"].indexOf(Gn(te))>=0}function Dn(te){return((Mi(te)?te.ownerDocument:te.document)||window.document).documentElement}function vi(te){return Gn(te)==="html"?te:te.assignedSlot||te.parentNode||(Ha(te)?te.host:null)||Dn(te)}function Hi(te){return Ei(te)&&Ct(te).position!=="fixed"?te.offsetParent:null}function wi(te){for(var R=Er(te),Y=Hi(te);Y&&nn(Y)&&Ct(Y).position==="static";)Y=Hi(Y);return Y&&(Gn(Y)==="html"||Gn(Y)==="body"&&Ct(Y).position==="static")?R:Y||function(ue){var ze=/firefox/i.test(ms());if(/Trident/i.test(ms())&&Ei(ue)&&Ct(ue).position==="fixed")return null;var Pe=vi(ue);for(Ha(Pe)&&(Pe=Pe.host);Ei(Pe)&&["html","body"].indexOf(Gn(Pe))<0;){var ot=Ct(Pe);if(ot.transform!=="none"||ot.perspective!=="none"||ot.contain==="paint"||["transform","perspective"].indexOf(ot.willChange)!==-1||ze&&ot.willChange==="filter"||ze&&ot.filter&&ot.filter!=="none")return Pe;Pe=Pe.parentNode}return null}(te)||R}function hl(te){return["top","bottom"].indexOf(te)>=0?"x":"y"}function Xt(te,R,Y){return Vn(te,zr(R,Y))}function qi(te){return Object.assign({},{top:0,right:0,bottom:0,left:0},te)}function Jn(te,R){return R.reduce(function(Y,ue){return Y[ue]=te,Y},{})}const fs={name:"arrow",enabled:!0,phase:"main",fn:function(te){var R,Y=te.state,ue=te.name,ze=te.options,Pe=Y.elements.arrow,ot=Y.modifiersData.popperOffsets,wt=$i(Y.placement),It=hl(wt),Wt=[ii,Wn].indexOf(wt)>=0?"height":"width";if(Pe&&ot){var Kt=function(cn,_n){return qi(typeof(cn=typeof cn=="function"?cn(Object.assign({},_n.rects,{placement:_n.placement})):cn)!="number"?cn:Jn(cn,Rr))}(ze.padding,Y),Yt=Gs(Pe),mt=It==="y"?qt:ii,hn=It==="y"?jn:Wn,yn=Y.rects.reference[Wt]+Y.rects.reference[It]-ot[It]-Y.rects.popper[Wt],St=ot[It]-Y.rects.reference[It],xn=wi(Pe),ri=xn?It==="y"?xn.clientHeight||0:xn.clientWidth||0:0,gi=yn/2-St/2,Fn=Kt[mt],lt=ri-Yt[Wt]-Kt[hn],Ln=ri/2-Yt[Wt]/2+gi,Ht=Xt(Fn,Ln,lt),Jt=It;Y.modifiersData[ue]=((R={})[Jt]=Ht,R.centerOffset=Ht-Ln,R)}},effect:function(te){var R=te.state,Y=te.options.element,ue=Y===void 0?"[data-popper-arrow]":Y;ue!=null&&(typeof ue!="string"||(ue=R.elements.popper.querySelector(ue)))&&xe(R.elements.popper,ue)&&(R.elements.arrow=ue)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function go(te){return te.split("-")[1]}var va={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Zr(te){var R,Y=te.popper,ue=te.popperRect,ze=te.placement,Pe=te.variation,ot=te.offsets,wt=te.position,It=te.gpuAcceleration,Wt=te.adaptive,Kt=te.roundOffsets,Yt=te.isFixed,mt=ot.x,hn=mt===void 0?0:mt,yn=ot.y,St=yn===void 0?0:yn,xn=typeof Kt=="function"?Kt({x:hn,y:St}):{x:hn,y:St};hn=xn.x,St=xn.y;var ri=ot.hasOwnProperty("x"),gi=ot.hasOwnProperty("y"),Fn=ii,lt=qt,Ln=window;if(Wt){var Ht=wi(Y),Jt="clientHeight",cn="clientWidth";Ht===Er(Y)&&Ct(Ht=Dn(Y)).position!=="static"&&wt==="absolute"&&(Jt="scrollHeight",cn="scrollWidth"),(ze===qt||(ze===ii||ze===Wn)&&Pe===mo)&&(lt=jn,St-=(Yt&&Ht===Ln&&Ln.visualViewport?Ln.visualViewport.height:Ht[Jt])-ue.height,St*=It?1:-1),ze!==ii&&(ze!==qt&&ze!==jn||Pe!==mo)||(Fn=Wn,hn-=(Yt&&Ht===Ln&&Ln.visualViewport?Ln.visualViewport.width:Ht[cn])-ue.width,hn*=It?1:-1)}var _n,Ki=Object.assign({position:wt},Wt&&va),Ur=Kt===!0?function(ns,Tr){var Mr=ns.x,is=ns.y,or=Tr.devicePixelRatio||1;return{x:Sr(Mr*or)/or||0,y:Sr(is*or)/or||0}}({x:hn,y:St},Er(Y)):{x:hn,y:St};return hn=Ur.x,St=Ur.y,It?Object.assign({},Ki,((_n={})[lt]=gi?"0":"",_n[Fn]=ri?"0":"",_n.transform=(Ln.devicePixelRatio||1)<=1?"translate("+hn+"px, "+St+"px)":"translate3d("+hn+"px, "+St+"px, 0)",_n)):Object.assign({},Ki,((R={})[lt]=gi?St+"px":"",R[Fn]=ri?hn+"px":"",R.transform="",R))}const bo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(te){var R=te.state,Y=te.options,ue=Y.gpuAcceleration,ze=ue===void 0||ue,Pe=Y.adaptive,ot=Pe===void 0||Pe,wt=Y.roundOffsets,It=wt===void 0||wt,Wt={placement:$i(R.placement),variation:go(R.placement),popper:R.elements.popper,popperRect:R.rects.popper,gpuAcceleration:ze,isFixed:R.options.strategy==="fixed"};R.modifiersData.popperOffsets!=null&&(R.styles.popper=Object.assign({},R.styles.popper,Zr(Object.assign({},Wt,{offsets:R.modifiersData.popperOffsets,position:R.options.strategy,adaptive:ot,roundOffsets:It})))),R.modifiersData.arrow!=null&&(R.styles.arrow=Object.assign({},R.styles.arrow,Zr(Object.assign({},Wt,{offsets:R.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:It})))),R.attributes.popper=Object.assign({},R.attributes.popper,{"data-popper-placement":R.placement})},data:{}};var Ks={passive:!0};const Mo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(te){var R=te.state,Y=te.instance,ue=te.options,ze=ue.scroll,Pe=ze===void 0||ze,ot=ue.resize,wt=ot===void 0||ot,It=Er(R.elements.popper),Wt=[].concat(R.scrollParents.reference,R.scrollParents.popper);return Pe&&Wt.forEach(function(Kt){Kt.addEventListener("scroll",Y.update,Ks)}),wt&&It.addEventListener("resize",Y.update,Ks),function(){Pe&&Wt.forEach(function(Kt){Kt.removeEventListener("scroll",Y.update,Ks)}),wt&&It.removeEventListener("resize",Y.update,Ks)}},data:{}};var Tn={left:"right",right:"left",bottom:"top",top:"bottom"};function Cs(te){return te.replace(/left|right|bottom|top/g,function(R){return Tn[R]})}var ql={start:"end",end:"start"};function jr(te){return te.replace(/start|end/g,function(R){return ql[R]})}function As(te){var R=Er(te);return{scrollLeft:R.pageXOffset,scrollTop:R.pageYOffset}}function ea(te){return xs(Dn(te)).left+As(te).scrollLeft}function ps(te){var R=Ct(te),Y=R.overflow,ue=R.overflowX,ze=R.overflowY;return/auto|scroll|overlay|hidden/.test(Y+ze+ue)}function Cd(te){return["html","body","#document"].indexOf(Gn(te))>=0?te.ownerDocument.body:Ei(te)&&ps(te)?te:Cd(vi(te))}function Io(te,R){var Y;R===void 0&&(R=[]);var ue=Cd(te),ze=ue===((Y=te.ownerDocument)==null?void 0:Y.body),Pe=Er(ue),ot=ze?[Pe].concat(Pe.visualViewport||[],ps(ue)?ue:[]):ue,wt=R.concat(ot);return ze?wt:wt.concat(Io(vi(ot)))}function Pn(te){return Object.assign({},te,{left:te.x,top:te.y,right:te.x+te.width,bottom:te.y+te.height})}function Va(te,R,Y){return R===_a?Pn(function(ue,ze){var Pe=Er(ue),ot=Dn(ue),wt=Pe.visualViewport,It=ot.clientWidth,Wt=ot.clientHeight,Kt=0,Yt=0;if(wt){It=wt.width,Wt=wt.height;var mt=Ys();(mt||!mt&&ze==="fixed")&&(Kt=wt.offsetLeft,Yt=wt.offsetTop)}return{width:It,height:Wt,x:Kt+ea(ue),y:Yt}}(te,Y)):Mi(R)?function(ue,ze){var Pe=xs(ue,!1,ze==="fixed");return Pe.top=Pe.top+ue.clientTop,Pe.left=Pe.left+ue.clientLeft,Pe.bottom=Pe.top+ue.clientHeight,Pe.right=Pe.left+ue.clientWidth,Pe.width=ue.clientWidth,Pe.height=ue.clientHeight,Pe.x=Pe.left,Pe.y=Pe.top,Pe}(R,Y):Pn(function(ue){var ze,Pe=Dn(ue),ot=As(ue),wt=(ze=ue.ownerDocument)==null?void 0:ze.body,It=Vn(Pe.scrollWidth,Pe.clientWidth,wt?wt.scrollWidth:0,wt?wt.clientWidth:0),Wt=Vn(Pe.scrollHeight,Pe.clientHeight,wt?wt.scrollHeight:0,wt?wt.clientHeight:0),Kt=-ot.scrollLeft+ea(ue),Yt=-ot.scrollTop;return Ct(wt||Pe).direction==="rtl"&&(Kt+=Vn(Pe.clientWidth,wt?wt.clientWidth:0)-It),{width:It,height:Wt,x:Kt,y:Yt}}(Dn(te)))}function Xr(te){var R,Y=te.reference,ue=te.element,ze=te.placement,Pe=ze?$i(ze):null,ot=ze?go(ze):null,wt=Y.x+Y.width/2-ue.width/2,It=Y.y+Y.height/2-ue.height/2;switch(Pe){case qt:R={x:wt,y:Y.y-ue.height};break;case jn:R={x:wt,y:Y.y+Y.height};break;case Wn:R={x:Y.x+Y.width,y:It};break;case ii:R={x:Y.x-ue.width,y:It};break;default:R={x:Y.x,y:Y.y}}var Wt=Pe?hl(Pe):null;if(Wt!=null){var Kt=Wt==="y"?"height":"width";switch(ot){case Pr:R[Wt]=R[Wt]-(Y[Kt]/2-ue[Kt]/2);break;case mo:R[Wt]=R[Wt]+(Y[Kt]/2-ue[Kt]/2)}}return R}function Ns(te,R){R===void 0&&(R={});var Y=R,ue=Y.placement,ze=ue===void 0?te.placement:ue,Pe=Y.strategy,ot=Pe===void 0?te.strategy:Pe,wt=Y.boundary,It=wt===void 0?Nc:wt,Wt=Y.rootBoundary,Kt=Wt===void 0?_a:Wt,Yt=Y.elementContext,mt=Yt===void 0?fo:Yt,hn=Y.altBoundary,yn=hn!==void 0&&hn,St=Y.padding,xn=St===void 0?0:St,ri=qi(typeof xn!="number"?xn:Jn(xn,Rr)),gi=mt===fo?qs:fo,Fn=te.rects.popper,lt=te.elements[yn?gi:mt],Ln=function(Tr,Mr,is,or){var xi=Mr==="clippingParents"?function(Ii){var Os=Io(vi(Ii)),ro=["absolute","fixed"].indexOf(Ct(Ii).position)>=0&&Ei(Ii)?wi(Ii):Ii;return Mi(ro)?Os.filter(function(Uo){return Mi(Uo)&&xe(Uo,ro)&&Gn(Uo)!=="body"}):[]}(Tr):[].concat(Mr),Is=[].concat(xi,[is]),il=Is[0],wr=Is.reduce(function(Ii,Os){var ro=Va(Tr,Os,or);return Ii.top=Vn(ro.top,Ii.top),Ii.right=zr(ro.right,Ii.right),Ii.bottom=zr(ro.bottom,Ii.bottom),Ii.left=Vn(ro.left,Ii.left),Ii},Va(Tr,il,or));return wr.width=wr.right-wr.left,wr.height=wr.bottom-wr.top,wr.x=wr.left,wr.y=wr.top,wr}(Mi(lt)?lt:lt.contextElement||Dn(te.elements.popper),It,Kt,ot),Ht=xs(te.elements.reference),Jt=Xr({reference:Ht,element:Fn,placement:ze}),cn=Pn(Object.assign({},Fn,Jt)),_n=mt===fo?cn:Ht,Ki={top:Ln.top-_n.top+ri.top,bottom:_n.bottom-Ln.bottom+ri.bottom,left:Ln.left-_n.left+ri.left,right:_n.right-Ln.right+ri.right},Ur=te.modifiersData.offset;if(mt===fo&&Ur){var ns=Ur[ze];Object.keys(Ki).forEach(function(Tr){var Mr=[Wn,jn].indexOf(Tr)>=0?1:-1,is=[qt,jn].indexOf(Tr)>=0?"y":"x";Ki[Tr]+=ns[is]*Mr})}return Ki}function Nu(te,R){R===void 0&&(R={});var Y=R,ue=Y.placement,ze=Y.boundary,Pe=Y.rootBoundary,ot=Y.padding,wt=Y.flipVariations,It=Y.allowedAutoPlacements,Wt=It===void 0?us:It,Kt=go(ue),Yt=Kt?wt?Kr:Kr.filter(function(yn){return go(yn)===Kt}):Rr,mt=Yt.filter(function(yn){return Wt.indexOf(yn)>=0});mt.length===0&&(mt=Yt);var hn=mt.reduce(function(yn,St){return yn[St]=Ns(te,{placement:St,boundary:ze,rootBoundary:Pe,padding:ot})[$i(St)],yn},{});return Object.keys(hn).sort(function(yn,St){return hn[yn]-hn[St]})}const Eu={name:"flip",enabled:!0,phase:"main",fn:function(te){var R=te.state,Y=te.options,ue=te.name;if(!R.modifiersData[ue]._skip){for(var ze=Y.mainAxis,Pe=ze===void 0||ze,ot=Y.altAxis,wt=ot===void 0||ot,It=Y.fallbackPlacements,Wt=Y.padding,Kt=Y.boundary,Yt=Y.rootBoundary,mt=Y.altBoundary,hn=Y.flipVariations,yn=hn===void 0||hn,St=Y.allowedAutoPlacements,xn=R.options.placement,ri=$i(xn),gi=It||(ri!==xn&&yn?function(Ii){if($i(Ii)===pi)return[];var Os=Cs(Ii);return[jr(Ii),Os,jr(Os)]}(xn):[Cs(xn)]),Fn=[xn].concat(gi).reduce(function(Ii,Os){return Ii.concat($i(Os)===pi?Nu(R,{placement:Os,boundary:Kt,rootBoundary:Yt,padding:Wt,flipVariations:yn,allowedAutoPlacements:St}):Os)},[]),lt=R.rects.reference,Ln=R.rects.popper,Ht=new Map,Jt=!0,cn=Fn[0],_n=0;_n<Fn.length;_n++){var Ki=Fn[_n],Ur=$i(Ki),ns=go(Ki)===Pr,Tr=[qt,jn].indexOf(Ur)>=0,Mr=Tr?"width":"height",is=Ns(R,{placement:Ki,boundary:Kt,rootBoundary:Yt,altBoundary:mt,padding:Wt}),or=Tr?ns?Wn:ii:ns?jn:qt;lt[Mr]>Ln[Mr]&&(or=Cs(or));var xi=Cs(or),Is=[];if(Pe&&Is.push(is[Ur]<=0),wt&&Is.push(is[or]<=0,is[xi]<=0),Is.every(function(Ii){return Ii})){cn=Ki,Jt=!1;break}Ht.set(Ki,Is)}if(Jt)for(var il=function(Ii){var Os=Fn.find(function(ro){var Uo=Ht.get(ro);if(Uo)return Uo.slice(0,Ii).every(function(tc){return tc})});if(Os)return cn=Os,"break"},wr=yn?3:1;wr>0&&il(wr)!=="break";wr--);R.placement!==cn&&(R.modifiersData[ue]._skip=!0,R.placement=cn,R.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ec(te,R,Y){return Y===void 0&&(Y={x:0,y:0}),{top:te.top-R.height-Y.y,right:te.right-R.width+Y.x,bottom:te.bottom-R.height+Y.y,left:te.left-R.width-Y.x}}function Ua(te){return[qt,Wn,jn,ii].some(function(R){return te[R]>=0})}const $a={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(te){var R=te.state,Y=te.name,ue=R.rects.reference,ze=R.rects.popper,Pe=R.modifiersData.preventOverflow,ot=Ns(R,{elementContext:"reference"}),wt=Ns(R,{altBoundary:!0}),It=Ec(ot,ue),Wt=Ec(wt,ze,Pe),Kt=Ua(It),Yt=Ua(Wt);R.modifiersData[Y]={referenceClippingOffsets:It,popperEscapeOffsets:Wt,isReferenceHidden:Kt,hasPopperEscaped:Yt},R.attributes.popper=Object.assign({},R.attributes.popper,{"data-popper-reference-hidden":Kt,"data-popper-escaped":Yt})}},Su={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(te){var R=te.state,Y=te.options,ue=te.name,ze=Y.offset,Pe=ze===void 0?[0,0]:ze,ot=us.reduce(function(Kt,Yt){return Kt[Yt]=function(mt,hn,yn){var St=$i(mt),xn=[ii,qt].indexOf(St)>=0?-1:1,ri=typeof yn=="function"?yn(Object.assign({},hn,{placement:mt})):yn,gi=ri[0],Fn=ri[1];return gi=gi||0,Fn=(Fn||0)*xn,[ii,Wn].indexOf(St)>=0?{x:Fn,y:gi}:{x:gi,y:Fn}}(Yt,R.rects,Pe),Kt},{}),wt=ot[R.placement],It=wt.x,Wt=wt.y;R.modifiersData.popperOffsets!=null&&(R.modifiersData.popperOffsets.x+=It,R.modifiersData.popperOffsets.y+=Wt),R.modifiersData[ue]=ot}},Ad={name:"popperOffsets",enabled:!0,phase:"read",fn:function(te){var R=te.state,Y=te.name;R.modifiersData[Y]=Xr({reference:R.rects.reference,element:R.rects.popper,placement:R.placement})},data:{}},Sc={name:"preventOverflow",enabled:!0,phase:"main",fn:function(te){var R=te.state,Y=te.options,ue=te.name,ze=Y.mainAxis,Pe=ze===void 0||ze,ot=Y.altAxis,wt=ot!==void 0&&ot,It=Y.boundary,Wt=Y.rootBoundary,Kt=Y.altBoundary,Yt=Y.padding,mt=Y.tether,hn=mt===void 0||mt,yn=Y.tetherOffset,St=yn===void 0?0:yn,xn=Ns(R,{boundary:It,rootBoundary:Wt,padding:Yt,altBoundary:Kt}),ri=$i(R.placement),gi=go(R.placement),Fn=!gi,lt=hl(ri),Ln=lt==="x"?"y":"x",Ht=R.modifiersData.popperOffsets,Jt=R.rects.reference,cn=R.rects.popper,_n=typeof St=="function"?St(Object.assign({},R.rects,{placement:R.placement})):St,Ki=typeof _n=="number"?{mainAxis:_n,altAxis:_n}:Object.assign({mainAxis:0,altAxis:0},_n),Ur=R.modifiersData.offset?R.modifiersData.offset[R.placement]:null,ns={x:0,y:0};if(Ht){if(Pe){var Tr,Mr=lt==="y"?qt:ii,is=lt==="y"?jn:Wn,or=lt==="y"?"height":"width",xi=Ht[lt],Is=xi+xn[Mr],il=xi-xn[is],wr=hn?-cn[or]/2:0,Ii=gi===Pr?Jt[or]:cn[or],Os=gi===Pr?-cn[or]:-Jt[or],ro=R.elements.arrow,Uo=hn&&ro?Gs(ro):{width:0,height:0},tc=R.modifiersData["arrow#persistent"]?R.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Ls=tc[Mr],Ri=tc[is],nc=Xt(0,Jt[or],Uo[or]),la=Fn?Jt[or]/2-wr-nc-Ls-Ki.mainAxis:Ii-nc-Ls-Ki.mainAxis,ki=Fn?-Jt[or]/2+wr+nc+Ri+Ki.mainAxis:Os+nc+Ri+Ki.mainAxis,so=R.elements.arrow&&wi(R.elements.arrow),$r=so?lt==="y"?so.clientTop||0:so.clientLeft||0:0,Uc=(Tr=Ur==null?void 0:Ur[lt])!=null?Tr:0,Vd=xi+ki-Uc,ic=Xt(hn?zr(Is,xi+la-Uc-$r):Is,xi,hn?Vn(il,Vd):il);Ht[lt]=ic,ns[lt]=ic-xi}if(wt){var Ih,Wm=lt==="x"?qt:ii,Bu=lt==="x"?jn:Wn,Ea=Ht[Ln],Ud=Ln==="y"?"height":"width",Oh=Ea+xn[Wm],Ru=Ea-xn[Bu],Pu=[qt,ii].indexOf(ri)!==-1,Ym=(Ih=Ur==null?void 0:Ur[Ln])!=null?Ih:0,Lh=Pu?Oh:Ea-Jt[Ud]-cn[Ud]-Ym+Ki.altAxis,Bh=Pu?Ea+Jt[Ud]+cn[Ud]-Ym-Ki.altAxis:Ru,zu=hn&&Pu?function(Fu,Gm,$c){var qc=Xt(Fu,Gm,$c);return qc>$c?$c:qc}(Lh,Ea,Bh):Xt(hn?Lh:Oh,Ea,hn?Bh:Ru);Ht[Ln]=zu,ns[Ln]=zu-Ea}R.modifiersData[ue]=ns}},requiresIfExists:["offset"]};function Ah(te,R,Y){Y===void 0&&(Y=!1);var ue,ze,Pe=Ei(R),ot=Ei(R)&&function(Yt){var mt=Yt.getBoundingClientRect(),hn=Sr(mt.width)/Yt.offsetWidth||1,yn=Sr(mt.height)/Yt.offsetHeight||1;return hn!==1||yn!==1}(R),wt=Dn(R),It=xs(te,ot,Y),Wt={scrollLeft:0,scrollTop:0},Kt={x:0,y:0};return(Pe||!Pe&&!Y)&&((Gn(R)!=="body"||ps(wt))&&(Wt=(ue=R)!==Er(ue)&&Ei(ue)?{scrollLeft:(ze=ue).scrollLeft,scrollTop:ze.scrollTop}:As(ue)),Ei(R)?((Kt=xs(R,!0)).x+=R.clientLeft,Kt.y+=R.clientTop):wt&&(Kt.x=ea(wt))),{x:It.left+Wt.scrollLeft-Kt.x,y:It.top+Wt.scrollTop-Kt.y,width:It.width,height:It.height}}function Fr(te){var R=new Map,Y=new Set,ue=[];function ze(Pe){Y.add(Pe.name),[].concat(Pe.requires||[],Pe.requiresIfExists||[]).forEach(function(ot){if(!Y.has(ot)){var wt=R.get(ot);wt&&ze(wt)}}),ue.push(Pe)}return te.forEach(function(Pe){R.set(Pe.name,Pe)}),te.forEach(function(Pe){Y.has(Pe.name)||ze(Pe)}),ue}var ju={placement:"bottom",modifiers:[],strategy:"absolute"};function jc(){for(var te=arguments.length,R=new Array(te),Y=0;Y<te;Y++)R[Y]=arguments[Y];return!R.some(function(ue){return!(ue&&typeof ue.getBoundingClientRect=="function")})}function Qs(te){te===void 0&&(te={});var R=te,Y=R.defaultModifiers,ue=Y===void 0?[]:Y,ze=R.defaultOptions,Pe=ze===void 0?ju:ze;return function(ot,wt,It){It===void 0&&(It=Pe);var Wt,Kt,Yt={placement:"bottom",orderedModifiers:[],options:Object.assign({},ju,Pe),modifiersData:{},elements:{reference:ot,popper:wt},attributes:{},styles:{}},mt=[],hn=!1,yn={state:Yt,setOptions:function(xn){var ri=typeof xn=="function"?xn(Yt.options):xn;St(),Yt.options=Object.assign({},Pe,Yt.options,ri),Yt.scrollParents={reference:Mi(ot)?Io(ot):ot.contextElement?Io(ot.contextElement):[],popper:Io(wt)};var gi,Fn,lt=function(Ln){var Ht=Fr(Ln);return Nn.reduce(function(Jt,cn){return Jt.concat(Ht.filter(function(_n){return _n.phase===cn}))},[])}((gi=[].concat(ue,Yt.options.modifiers),Fn=gi.reduce(function(Ln,Ht){var Jt=Ln[Ht.name];return Ln[Ht.name]=Jt?Object.assign({},Jt,Ht,{options:Object.assign({},Jt.options,Ht.options),data:Object.assign({},Jt.data,Ht.data)}):Ht,Ln},{}),Object.keys(Fn).map(function(Ln){return Fn[Ln]})));return Yt.orderedModifiers=lt.filter(function(Ln){return Ln.enabled}),Yt.orderedModifiers.forEach(function(Ln){var Ht=Ln.name,Jt=Ln.options,cn=Jt===void 0?{}:Jt,_n=Ln.effect;if(typeof _n=="function"){var Ki=_n({state:Yt,name:Ht,instance:yn,options:cn});mt.push(Ki||function(){})}}),yn.update()},forceUpdate:function(){if(!hn){var xn=Yt.elements,ri=xn.reference,gi=xn.popper;if(jc(ri,gi)){Yt.rects={reference:Ah(ri,wi(gi),Yt.options.strategy==="fixed"),popper:Gs(gi)},Yt.reset=!1,Yt.placement=Yt.options.placement,Yt.orderedModifiers.forEach(function(_n){return Yt.modifiersData[_n.name]=Object.assign({},_n.data)});for(var Fn=0;Fn<Yt.orderedModifiers.length;Fn++)if(Yt.reset!==!0){var lt=Yt.orderedModifiers[Fn],Ln=lt.fn,Ht=lt.options,Jt=Ht===void 0?{}:Ht,cn=lt.name;typeof Ln=="function"&&(Yt=Ln({state:Yt,options:Jt,name:cn,instance:yn})||Yt)}else Yt.reset=!1,Fn=-1}}},update:(Wt=function(){return new Promise(function(xn){yn.forceUpdate(),xn(Yt)})},function(){return Kt||(Kt=new Promise(function(xn){Promise.resolve().then(function(){Kt=void 0,xn(Wt())})})),Kt}),destroy:function(){St(),hn=!0}};if(!jc(ot,wt))return yn;function St(){mt.forEach(function(xn){return xn()}),mt=[]}return yn.setOptions(It).then(function(xn){!hn&&It.onFirstUpdate&&It.onFirstUpdate(xn)}),yn}}var Nd=Qs(),Wl=Qs({defaultModifiers:[Mo,Ad,bo,Ws]}),ml=Qs({defaultModifiers:[Mo,Ad,bo,Ws,Su,Eu,Sc,fs,$a]});const Ed=Object.freeze(Object.defineProperty({__proto__:null,afterMain:_r,afterRead:po,afterWrite:Qr,applyStyles:Ws,arrow:fs,auto:pi,basePlacements:Rr,beforeMain:Yn,beforeRead:hs,beforeWrite:To,bottom:jn,clippingParents:Nc,computeStyles:bo,createPopper:ml,createPopperBase:Nd,createPopperLite:Wl,detectOverflow:Ns,end:mo,eventListeners:Mo,flip:Eu,hide:$a,left:ii,main:_i,modifierPhases:Nn,offset:Su,placements:us,popper:fo,popperGenerator:Qs,popperOffsets:Ad,preventOverflow:Sc,read:Fa,reference:qs,right:Wn,start:Pr,top:qt,variationPlacements:Kr,viewport:_a,write:Jo},Symbol.toStringTag,{value:"Module"})),Sd="dropdown",Oo=".bs.dropdown",jd=".data-api",Du="ArrowUp",fl="ArrowDown",Nh=`hide${Oo}`,Dd=`hidden${Oo}`,Td=`show${Oo}`,Dc=`shown${Oo}`,ta=`click${Oo}${jd}`,Tc=`keydown${Oo}${jd}`,qa=`keyup${Oo}${jd}`,Wi="show",Lo='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Yl=`${Lo}.${Wi}`,Wa=".dropdown-menu",Gl=$()?"top-end":"top-start",Kl=$()?"top-start":"top-end",Md=$()?"bottom-end":"bottom-start",Ya=$()?"bottom-start":"bottom-end",Id=$()?"left-start":"right-start",Eh=$()?"right-start":"left-start",ko={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ga={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Zs extends pe{constructor(R,Y){super(R,Y),this._popper=null,this._parent=this._element.parentNode,this._menu=Ie.next(this._element,Wa)[0]||Ie.prev(this._element,Wa)[0]||Ie.findOne(Wa,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ko}static get DefaultType(){return Ga}static get NAME(){return Sd}toggle(){return this._isShown()?this.hide():this.show()}show(){if(S(this._element)||this._isShown())return;const R={relatedTarget:this._element};if(!Z.trigger(this._element,Td,R).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const Y of[].concat(...document.body.children))Z.on(Y,"mouseover",j);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Wi),this._element.classList.add(Wi),Z.trigger(this._element,Dc,R)}}hide(){if(S(this._element)||!this._isShown())return;const R={relatedTarget:this._element};this._completeHide(R)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(R){if(!Z.trigger(this._element,Nh,R).defaultPrevented){if("ontouchstart"in document.documentElement)for(const Y of[].concat(...document.body.children))Z.off(Y,"mouseover",j);this._popper&&this._popper.destroy(),this._menu.classList.remove(Wi),this._element.classList.remove(Wi),this._element.setAttribute("aria-expanded","false"),He.removeDataAttribute(this._menu,"popper"),Z.trigger(this._element,Dd,R),this._element.focus()}}_getConfig(R){if(typeof(R=super._getConfig(R)).reference=="object"&&!y(R.reference)&&typeof R.reference.getBoundingClientRect!="function")throw new TypeError(`${Sd.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return R}_createPopper(){if(Ed===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let R=this._element;this._config.reference==="parent"?R=this._parent:y(this._config.reference)?R=v(this._config.reference):typeof this._config.reference=="object"&&(R=this._config.reference);const Y=this._getPopperConfig();this._popper=ml(R,this._menu,Y)}_isShown(){return this._menu.classList.contains(Wi)}_getPlacement(){const R=this._parent;if(R.classList.contains("dropend"))return Id;if(R.classList.contains("dropstart"))return Eh;if(R.classList.contains("dropup-center"))return"top";if(R.classList.contains("dropdown-center"))return"bottom";const Y=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return R.classList.contains("dropup")?Y?Kl:Gl:Y?Ya:Md}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:R}=this._config;return typeof R=="string"?R.split(",").map(Y=>Number.parseInt(Y,10)):typeof R=="function"?Y=>R(Y,this._element):R}_getPopperConfig(){const R={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(He.setDataAttribute(this._menu,"popper","static"),R.modifiers=[{name:"applyStyles",enabled:!1}]),{...R,...Q(this._config.popperConfig,[void 0,R])}}_selectMenuItem({key:R,target:Y}){const ue=Ie.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(ze=>N(ze));ue.length&&ne(ue,Y,R===fl,!ue.includes(Y)).focus()}static jQueryInterface(R){return this.each(function(){const Y=Zs.getOrCreateInstance(this,R);if(typeof R=="string"){if(Y[R]===void 0)throw new TypeError(`No method named "${R}"`);Y[R]()}})}static clearMenus(R){if(R.button===2||R.type==="keyup"&&R.key!=="Tab")return;const Y=Ie.find(Yl);for(const ue of Y){const ze=Zs.getInstance(ue);if(!ze||ze._config.autoClose===!1)continue;const Pe=R.composedPath(),ot=Pe.includes(ze._menu);if(Pe.includes(ze._element)||ze._config.autoClose==="inside"&&!ot||ze._config.autoClose==="outside"&&ot||ze._menu.contains(R.target)&&(R.type==="keyup"&&R.key==="Tab"||/input|select|option|textarea|form/i.test(R.target.tagName)))continue;const wt={relatedTarget:ze._element};R.type==="click"&&(wt.clickEvent=R),ze._completeHide(wt)}}static dataApiKeydownHandler(R){const Y=/input|textarea/i.test(R.target.tagName),ue=R.key==="Escape",ze=[Du,fl].includes(R.key);if(!ze&&!ue||Y&&!ue)return;R.preventDefault();const Pe=this.matches(Lo)?this:Ie.prev(this,Lo)[0]||Ie.next(this,Lo)[0]||Ie.findOne(Lo,R.delegateTarget.parentNode),ot=Zs.getOrCreateInstance(Pe);if(ze)return R.stopPropagation(),ot.show(),void ot._selectMenuItem(R);ot._isShown()&&(R.stopPropagation(),ot.hide(),Pe.focus())}}Z.on(document,Tc,Lo,Zs.dataApiKeydownHandler),Z.on(document,Tc,Wa,Zs.dataApiKeydownHandler),Z.on(document,ta,Zs.clearMenus),Z.on(document,qa,Zs.clearMenus),Z.on(document,ta,Lo,function(te){te.preventDefault(),Zs.getOrCreateInstance(this).toggle()}),K(Zs);const gs="backdrop",Xs="show",_o=`mousedown.bs.${gs}`,Mc={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},pl={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ka extends et{constructor(R){super(),this._config=this._getConfig(R),this._isAppended=!1,this._element=null}static get Default(){return Mc}static get DefaultType(){return pl}static get NAME(){return gs}show(R){if(!this._config.isVisible)return void Q(R);this._append();const Y=this._getElement();this._config.isAnimated&&B(Y),Y.classList.add(Xs),this._emulateAnimation(()=>{Q(R)})}hide(R){this._config.isVisible?(this._getElement().classList.remove(Xs),this._emulateAnimation(()=>{this.dispose(),Q(R)})):Q(R)}dispose(){this._isAppended&&(Z.off(this._element,_o),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const R=document.createElement("div");R.className=this._config.className,this._config.isAnimated&&R.classList.add("fade"),this._element=R}return this._element}_configAfterMerge(R){return R.rootElement=v(R.rootElement),R}_append(){if(this._isAppended)return;const R=this._getElement();this._config.rootElement.append(R),Z.on(R,_o,()=>{Q(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(R){ee(R,this._getElement(),this._config.isAnimated)}}const vo=".bs.focustrap",Od=`focusin${vo}`,na=`keydown.tab${vo}`,gl="backward",Ld={autofocus:!0,trapElement:null},Ic={autofocus:"boolean",trapElement:"element"};class Tu extends et{constructor(R){super(),this._config=this._getConfig(R),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ld}static get DefaultType(){return Ic}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Z.off(document,vo),Z.on(document,Od,R=>this._handleFocusin(R)),Z.on(document,na,R=>this._handleKeydown(R)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Z.off(document,vo))}_handleFocusin(R){const{trapElement:Y}=this._config;if(R.target===document||R.target===Y||Y.contains(R.target))return;const ue=Ie.focusableChildren(Y);ue.length===0?Y.focus():this._lastTabNavDirection===gl?ue[ue.length-1].focus():ue[0].focus()}_handleKeydown(R){R.key==="Tab"&&(this._lastTabNavDirection=R.shiftKey?gl:"forward")}}const wo=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Mu=".sticky-top",Bo="padding-right",bs="margin-right";class Hr{constructor(){this._element=document.body}getWidth(){const R=document.documentElement.clientWidth;return Math.abs(window.innerWidth-R)}hide(){const R=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Bo,Y=>Y+R),this._setElementAttributes(wo,Bo,Y=>Y+R),this._setElementAttributes(Mu,bs,Y=>Y-R)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Bo),this._resetElementAttributes(wo,Bo),this._resetElementAttributes(Mu,bs)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(R,Y,ue){const ze=this.getWidth();this._applyManipulationCallback(R,Pe=>{if(Pe!==this._element&&window.innerWidth>Pe.clientWidth+ze)return;this._saveInitialAttribute(Pe,Y);const ot=window.getComputedStyle(Pe).getPropertyValue(Y);Pe.style.setProperty(Y,`${ue(Number.parseFloat(ot))}px`)})}_saveInitialAttribute(R,Y){const ue=R.style.getPropertyValue(Y);ue&&He.setDataAttribute(R,Y,ue)}_resetElementAttributes(R,Y){this._applyManipulationCallback(R,ue=>{const ze=He.getDataAttribute(ue,Y);ze!==null?(He.removeDataAttribute(ue,Y),ue.style.setProperty(Y,ze)):ue.style.removeProperty(Y)})}_applyManipulationCallback(R,Y){if(y(R))Y(R);else for(const ue of Ie.find(R,this._element))Y(ue)}}const Vr=".bs.modal",Oc=`hide${Vr}`,Lc=`hidePrevented${Vr}`,bl=`hidden${Vr}`,Qa=`show${Vr}`,Bc=`shown${Vr}`,Js=`resize${Vr}`,Za=`click.dismiss${Vr}`,wa=`mousedown.dismiss${Vr}`,bi=`keydown.dismiss${Vr}`,Rc=`click${Vr}.data-api`,Es="modal-open",Ss="show",Xa="modal-static",Bd={backdrop:!0,focus:!0,keyboard:!0},ya={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Jr extends pe{constructor(R,Y){super(R,Y),this._dialog=Ie.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Hr,this._addEventListeners()}static get Default(){return Bd}static get DefaultType(){return ya}static get NAME(){return"modal"}toggle(R){return this._isShown?this.hide():this.show(R)}show(R){this._isShown||this._isTransitioning||Z.trigger(this._element,Qa,{relatedTarget:R}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Es),this._adjustDialog(),this._backdrop.show(()=>this._showElement(R)))}hide(){this._isShown&&!this._isTransitioning&&(Z.trigger(this._element,Oc).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ss),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){Z.off(window,Vr),Z.off(this._dialog,Vr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ka({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Tu({trapElement:this._element})}_showElement(R){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const Y=Ie.findOne(".modal-body",this._dialog);Y&&(Y.scrollTop=0),B(this._element),this._element.classList.add(Ss),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Z.trigger(this._element,Bc,{relatedTarget:R})},this._dialog,this._isAnimated())}_addEventListeners(){Z.on(this._element,bi,R=>{R.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),Z.on(window,Js,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Z.on(this._element,wa,R=>{Z.one(this._element,Za,Y=>{this._element===R.target&&this._element===Y.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Es),this._resetAdjustments(),this._scrollBar.reset(),Z.trigger(this._element,bl)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Z.trigger(this._element,Lc).defaultPrevented)return;const R=this._element.scrollHeight>document.documentElement.clientHeight,Y=this._element.style.overflowY;Y==="hidden"||this._element.classList.contains(Xa)||(R||(this._element.style.overflowY="hidden"),this._element.classList.add(Xa),this._queueCallback(()=>{this._element.classList.remove(Xa),this._queueCallback(()=>{this._element.style.overflowY=Y},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const R=this._element.scrollHeight>document.documentElement.clientHeight,Y=this._scrollBar.getWidth(),ue=Y>0;if(ue&&!R){const ze=$()?"paddingLeft":"paddingRight";this._element.style[ze]=`${Y}px`}if(!ue&&R){const ze=$()?"paddingRight":"paddingLeft";this._element.style[ze]=`${Y}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(R,Y){return this.each(function(){const ue=Jr.getOrCreateInstance(this,R);if(typeof R=="string"){if(ue[R]===void 0)throw new TypeError(`No method named "${R}"`);ue[R](Y)}})}}Z.on(document,Rc,'[data-bs-toggle="modal"]',function(te){const R=Ie.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&te.preventDefault(),Z.one(R,Qa,ue=>{ue.defaultPrevented||Z.one(R,bl,()=>{N(this)&&this.focus()})});const Y=Ie.findOne(".modal.show");Y&&Jr.getInstance(Y).hide(),Jr.getOrCreateInstance(R).toggle(this)}),We(Jr),K(Jr);const sr=".bs.offcanvas",Ja=".data-api",eo=`load${sr}${Ja}`,Ql="show",Rd="showing",Zl="hiding",Yi=".offcanvas.show",Ro=`show${sr}`,to=`shown${sr}`,xa=`hide${sr}`,pn=`hidePrevented${sr}`,Dr=`hidden${sr}`,el=`resize${sr}`,js=`click${sr}${Ja}`,kl=`keydown.dismiss${sr}`,Bi={backdrop:!0,keyboard:!0,scroll:!1},yo={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class es extends pe{constructor(R,Y){super(R,Y),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Bi}static get DefaultType(){return yo}static get NAME(){return"offcanvas"}toggle(R){return this._isShown?this.hide():this.show(R)}show(R){this._isShown||Z.trigger(this._element,Ro,{relatedTarget:R}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Hr().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Rd),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Ql),this._element.classList.remove(Rd),Z.trigger(this._element,to,{relatedTarget:R})},this._element,!0))}hide(){this._isShown&&(Z.trigger(this._element,xa).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Zl),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Ql,Zl),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Hr().reset(),Z.trigger(this._element,Dr)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const R=!!this._config.backdrop;return new Ka({className:"offcanvas-backdrop",isVisible:R,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:R?()=>{this._config.backdrop!=="static"?this.hide():Z.trigger(this._element,pn)}:null})}_initializeFocusTrap(){return new Tu({trapElement:this._element})}_addEventListeners(){Z.on(this._element,kl,R=>{R.key==="Escape"&&(this._config.keyboard?this.hide():Z.trigger(this._element,pn))})}static jQueryInterface(R){return this.each(function(){const Y=es.getOrCreateInstance(this,R);if(typeof R=="string"){if(Y[R]===void 0||R.startsWith("_")||R==="constructor")throw new TypeError(`No method named "${R}"`);Y[R](this)}})}}Z.on(document,js,'[data-bs-toggle="offcanvas"]',function(te){const R=Ie.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&te.preventDefault(),S(this))return;Z.one(R,Dr,()=>{N(this)&&this.focus()});const Y=Ie.findOne(Yi);Y&&Y!==R&&es.getInstance(Y).hide(),es.getOrCreateInstance(R).toggle(this)}),Z.on(window,eo,()=>{for(const te of Ie.find(Yi))es.getOrCreateInstance(te).show()}),Z.on(window,el,()=>{for(const te of Ie.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(te).position!=="fixed"&&es.getOrCreateInstance(te).hide()}),We(es),K(es);const xo={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},no=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Ca=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,_l=(te,R)=>{const Y=te.nodeName.toLowerCase();return R.includes(Y)?!no.has(Y)||!!Ca.test(te.nodeValue):R.filter(ue=>ue instanceof RegExp).some(ue=>ue.test(Y))},ur={allowList:xo,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Xl={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ds={entry:"(string|element|function|null)",selector:"(string|element)"};class Pc extends et{constructor(R){super(),this._config=this._getConfig(R)}static get Default(){return ur}static get DefaultType(){return Xl}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(R=>this._resolvePossibleFunction(R)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(R){return this._checkContent(R),this._config.content={...this._config.content,...R},this}toHtml(){const R=document.createElement("div");R.innerHTML=this._maybeSanitize(this._config.template);for(const[ze,Pe]of Object.entries(this._config.content))this._setContent(R,Pe,ze);const Y=R.children[0],ue=this._resolvePossibleFunction(this._config.extraClass);return ue&&Y.classList.add(...ue.split(" ")),Y}_typeCheckConfig(R){super._typeCheckConfig(R),this._checkContent(R.content)}_checkContent(R){for(const[Y,ue]of Object.entries(R))super._typeCheckConfig({selector:Y,entry:ue},Ds)}_setContent(R,Y,ue){const ze=Ie.findOne(ue,R);ze&&((Y=this._resolvePossibleFunction(Y))?y(Y)?this._putElementInTemplate(v(Y),ze):this._config.html?ze.innerHTML=this._maybeSanitize(Y):ze.textContent=Y:ze.remove())}_maybeSanitize(R){return this._config.sanitize?function(Y,ue,ze){if(!Y.length)return Y;if(ze&&typeof ze=="function")return ze(Y);const Pe=new window.DOMParser().parseFromString(Y,"text/html"),ot=[].concat(...Pe.body.querySelectorAll("*"));for(const wt of ot){const It=wt.nodeName.toLowerCase();if(!Object.keys(ue).includes(It)){wt.remove();continue}const Wt=[].concat(...wt.attributes),Kt=[].concat(ue["*"]||[],ue[It]||[]);for(const Yt of Wt)_l(Yt,Kt)||wt.removeAttribute(Yt.nodeName)}return Pe.body.innerHTML}(R,this._config.allowList,this._config.sanitizeFn):R}_resolvePossibleFunction(R){return Q(R,[void 0,this])}_putElementInTemplate(R,Y){if(this._config.html)return Y.innerHTML="",void Y.append(R);Y.textContent=R.textContent}}const vl=new Set(["sanitize","allowList","sanitizeFn"]),Co="fade",wl="show",zc=".tooltip-inner",ia=".modal",Aa="hide.bs.modal",p="hover",x="focus",T={AUTO:"auto",TOP:"top",RIGHT:$()?"left":"right",BOTTOM:"bottom",LEFT:$()?"right":"left"},H={allowList:xo,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},G={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ie extends pe{constructor(R,Y){if(Ed===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(R,Y),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return H}static get DefaultType(){return G}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),Z.off(this._element.closest(ia),Aa,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const R=Z.trigger(this._element,this.constructor.eventName("show")),Y=(D(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(R.defaultPrevented||!Y)return;this._disposePopper();const ue=this._getTipElement();this._element.setAttribute("aria-describedby",ue.getAttribute("id"));const{container:ze}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(ze.append(ue),Z.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(ue),ue.classList.add(wl),"ontouchstart"in document.documentElement)for(const Pe of[].concat(...document.body.children))Z.on(Pe,"mouseover",j);this._queueCallback(()=>{Z.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Z.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(wl),"ontouchstart"in document.documentElement)for(const R of[].concat(...document.body.children))Z.off(R,"mouseover",j);this._activeTrigger.click=!1,this._activeTrigger[x]=!1,this._activeTrigger[p]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Z.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(R){const Y=this._getTemplateFactory(R).toHtml();if(!Y)return null;Y.classList.remove(Co,wl),Y.classList.add(`bs-${this.constructor.NAME}-auto`);const ue=(ze=>{do ze+=Math.floor(1e6*Math.random());while(document.getElementById(ze));return ze})(this.constructor.NAME).toString();return Y.setAttribute("id",ue),this._isAnimated()&&Y.classList.add(Co),Y}setContent(R){this._newContent=R,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(R){return this._templateFactory?this._templateFactory.changeContent(R):this._templateFactory=new Pc({...this._config,content:R,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[zc]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(R){return this.constructor.getOrCreateInstance(R.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Co)}_isShown(){return this.tip&&this.tip.classList.contains(wl)}_createPopper(R){const Y=Q(this._config.placement,[this,R,this._element]),ue=T[Y.toUpperCase()];return ml(this._element,R,this._getPopperConfig(ue))}_getOffset(){const{offset:R}=this._config;return typeof R=="string"?R.split(",").map(Y=>Number.parseInt(Y,10)):typeof R=="function"?Y=>R(Y,this._element):R}_resolvePossibleFunction(R){return Q(R,[this._element,this._element])}_getPopperConfig(R){const Y={placement:R,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:ue=>{this._getTipElement().setAttribute("data-popper-placement",ue.state.placement)}}]};return{...Y,...Q(this._config.popperConfig,[void 0,Y])}}_setListeners(){const R=this._config.trigger.split(" ");for(const Y of R)if(Y==="click")Z.on(this._element,this.constructor.eventName("click"),this._config.selector,ue=>{this._initializeOnDelegatedTarget(ue).toggle()});else if(Y!=="manual"){const ue=Y===p?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),ze=Y===p?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Z.on(this._element,ue,this._config.selector,Pe=>{const ot=this._initializeOnDelegatedTarget(Pe);ot._activeTrigger[Pe.type==="focusin"?x:p]=!0,ot._enter()}),Z.on(this._element,ze,this._config.selector,Pe=>{const ot=this._initializeOnDelegatedTarget(Pe);ot._activeTrigger[Pe.type==="focusout"?x:p]=ot._element.contains(Pe.relatedTarget),ot._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Z.on(this._element.closest(ia),Aa,this._hideModalHandler)}_fixTitle(){const R=this._element.getAttribute("title");R&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",R),this._element.setAttribute("data-bs-original-title",R),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(R,Y){clearTimeout(this._timeout),this._timeout=setTimeout(R,Y)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(R){const Y=He.getDataAttributes(this._element);for(const ue of Object.keys(Y))vl.has(ue)&&delete Y[ue];return R={...Y,...typeof R=="object"&&R?R:{}},R=this._mergeConfigObj(R),R=this._configAfterMerge(R),this._typeCheckConfig(R),R}_configAfterMerge(R){return R.container=R.container===!1?document.body:v(R.container),typeof R.delay=="number"&&(R.delay={show:R.delay,hide:R.delay}),typeof R.title=="number"&&(R.title=R.title.toString()),typeof R.content=="number"&&(R.content=R.content.toString()),R}_getDelegateConfig(){const R={};for(const[Y,ue]of Object.entries(this._config))this.constructor.Default[Y]!==ue&&(R[Y]=ue);return R.selector=!1,R.trigger="manual",R}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(R){return this.each(function(){const Y=ie.getOrCreateInstance(this,R);if(typeof R=="string"){if(Y[R]===void 0)throw new TypeError(`No method named "${R}"`);Y[R]()}})}}K(ie);const Ae=".popover-header",Ye=".popover-body",Ve={...ie.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Nt={...ie.DefaultType,content:"(null|string|element|function)"};class zt extends ie{static get Default(){return Ve}static get DefaultType(){return Nt}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Ae]:this._getTitle(),[Ye]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(R){return this.each(function(){const Y=zt.getOrCreateInstance(this,R);if(typeof R=="string"){if(Y[R]===void 0)throw new TypeError(`No method named "${R}"`);Y[R]()}})}}K(zt);const Gt=".bs.scrollspy",sn=`activate${Gt}`,bn=`click${Gt}`,gn=`load${Gt}.data-api`,yi="active",hr="[href]",Ts=".nav-link",Pd=`${Ts}, .nav-item > ${Ts}, .list-group-item`,Iu={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Jl={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Po extends pe{constructor(R,Y){super(R,Y),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Iu}static get DefaultType(){return Jl}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const R of this._observableSections.values())this._observer.observe(R)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(R){return R.target=v(R.target)||document.body,R.rootMargin=R.offset?`${R.offset}px 0px -30%`:R.rootMargin,typeof R.threshold=="string"&&(R.threshold=R.threshold.split(",").map(Y=>Number.parseFloat(Y))),R}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Z.off(this._config.target,bn),Z.on(this._config.target,bn,hr,R=>{const Y=this._observableSections.get(R.target.hash);if(Y){R.preventDefault();const ue=this._rootElement||window,ze=Y.offsetTop-this._element.offsetTop;if(ue.scrollTo)return void ue.scrollTo({top:ze,behavior:"smooth"});ue.scrollTop=ze}}))}_getNewObserver(){const R={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(Y=>this._observerCallback(Y),R)}_observerCallback(R){const Y=ot=>this._targetLinks.get(`#${ot.target.id}`),ue=ot=>{this._previousScrollData.visibleEntryTop=ot.target.offsetTop,this._process(Y(ot))},ze=(this._rootElement||document.documentElement).scrollTop,Pe=ze>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=ze;for(const ot of R){if(!ot.isIntersecting){this._activeTarget=null,this._clearActiveClass(Y(ot));continue}const wt=ot.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Pe&&wt){if(ue(ot),!ze)return}else Pe||wt||ue(ot)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const R=Ie.find(hr,this._config.target);for(const Y of R){if(!Y.hash||S(Y))continue;const ue=Ie.findOne(decodeURI(Y.hash),this._element);N(ue)&&(this._targetLinks.set(decodeURI(Y.hash),Y),this._observableSections.set(Y.hash,ue))}}_process(R){this._activeTarget!==R&&(this._clearActiveClass(this._config.target),this._activeTarget=R,R.classList.add(yi),this._activateParents(R),Z.trigger(this._element,sn,{relatedTarget:R}))}_activateParents(R){if(R.classList.contains("dropdown-item"))Ie.findOne(".dropdown-toggle",R.closest(".dropdown")).classList.add(yi);else for(const Y of Ie.parents(R,".nav, .list-group"))for(const ue of Ie.prev(Y,Pd))ue.classList.add(yi)}_clearActiveClass(R){R.classList.remove(yi);const Y=Ie.find(`${hr}.${yi}`,R);for(const ue of Y)ue.classList.remove(yi)}static jQueryInterface(R){return this.each(function(){const Y=Po.getOrCreateInstance(this,R);if(typeof R=="string"){if(Y[R]===void 0||R.startsWith("_")||R==="constructor")throw new TypeError(`No method named "${R}"`);Y[R]()}})}}Z.on(window,gn,()=>{for(const te of Ie.find('[data-bs-spy="scroll"]'))Po.getOrCreateInstance(te)}),K(Po);const ts=".bs.tab",yl=`hide${ts}`,Gi=`hidden${ts}`,zo=`show${ts}`,ra=`shown${ts}`,Na=`click${ts}`,sa=`keydown${ts}`,Fc=`load${ts}`,Hc="ArrowLeft",xl="ArrowRight",Ou="ArrowUp",tl="ArrowDown",vr="Home",zd="End",Cl="active",Sh="fade",jh="show",Fo=".dropdown-toggle",Un=`:not(${Fo})`,mr='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',fr=`.nav-link${Un}, .list-group-item${Un}, [role="tab"]${Un}, ${mr}`,io=`.${Cl}[data-bs-toggle="tab"], .${Cl}[data-bs-toggle="pill"], .${Cl}[data-bs-toggle="list"]`;class oa extends pe{constructor(R){super(R),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Z.on(this._element,sa,Y=>this._keydown(Y)))}static get NAME(){return"tab"}show(){const R=this._element;if(this._elemIsActive(R))return;const Y=this._getActiveElem(),ue=Y?Z.trigger(Y,yl,{relatedTarget:R}):null;Z.trigger(R,zo,{relatedTarget:Y}).defaultPrevented||ue&&ue.defaultPrevented||(this._deactivate(Y,R),this._activate(R,Y))}_activate(R,Y){R&&(R.classList.add(Cl),this._activate(Ie.getElementFromSelector(R)),this._queueCallback(()=>{R.getAttribute("role")==="tab"?(R.removeAttribute("tabindex"),R.setAttribute("aria-selected",!0),this._toggleDropDown(R,!0),Z.trigger(R,ra,{relatedTarget:Y})):R.classList.add(jh)},R,R.classList.contains(Sh)))}_deactivate(R,Y){R&&(R.classList.remove(Cl),R.blur(),this._deactivate(Ie.getElementFromSelector(R)),this._queueCallback(()=>{R.getAttribute("role")==="tab"?(R.setAttribute("aria-selected",!1),R.setAttribute("tabindex","-1"),this._toggleDropDown(R,!1),Z.trigger(R,Gi,{relatedTarget:Y})):R.classList.remove(jh)},R,R.classList.contains(Sh)))}_keydown(R){if(![Hc,xl,Ou,tl,vr,zd].includes(R.key))return;R.stopPropagation(),R.preventDefault();const Y=this._getChildren().filter(ze=>!S(ze));let ue;if([vr,zd].includes(R.key))ue=Y[R.key===vr?0:Y.length-1];else{const ze=[xl,tl].includes(R.key);ue=ne(Y,R.target,ze,!0)}ue&&(ue.focus({preventScroll:!0}),oa.getOrCreateInstance(ue).show())}_getChildren(){return Ie.find(fr,this._parent)}_getActiveElem(){return this._getChildren().find(R=>this._elemIsActive(R))||null}_setInitialAttributes(R,Y){this._setAttributeIfNotExists(R,"role","tablist");for(const ue of Y)this._setInitialAttributesOnChild(ue)}_setInitialAttributesOnChild(R){R=this._getInnerElement(R);const Y=this._elemIsActive(R),ue=this._getOuterElement(R);R.setAttribute("aria-selected",Y),ue!==R&&this._setAttributeIfNotExists(ue,"role","presentation"),Y||R.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(R,"role","tab"),this._setInitialAttributesOnTargetPanel(R)}_setInitialAttributesOnTargetPanel(R){const Y=Ie.getElementFromSelector(R);Y&&(this._setAttributeIfNotExists(Y,"role","tabpanel"),R.id&&this._setAttributeIfNotExists(Y,"aria-labelledby",`${R.id}`))}_toggleDropDown(R,Y){const ue=this._getOuterElement(R);if(!ue.classList.contains("dropdown"))return;const ze=(Pe,ot)=>{const wt=Ie.findOne(Pe,ue);wt&&wt.classList.toggle(ot,Y)};ze(Fo,Cl),ze(".dropdown-menu",jh),ue.setAttribute("aria-expanded",Y)}_setAttributeIfNotExists(R,Y,ue){R.hasAttribute(Y)||R.setAttribute(Y,ue)}_elemIsActive(R){return R.classList.contains(Cl)}_getInnerElement(R){return R.matches(fr)?R:Ie.findOne(fr,R)}_getOuterElement(R){return R.closest(".nav-item, .list-group-item")||R}static jQueryInterface(R){return this.each(function(){const Y=oa.getOrCreateInstance(this);if(typeof R=="string"){if(Y[R]===void 0||R.startsWith("_")||R==="constructor")throw new TypeError(`No method named "${R}"`);Y[R]()}})}}Z.on(document,Na,mr,function(te){["A","AREA"].includes(this.tagName)&&te.preventDefault(),S(this)||oa.getOrCreateInstance(this).show()}),Z.on(window,Fc,()=>{for(const te of Ie.find(io))oa.getOrCreateInstance(te)}),K(oa);const Ms=".bs.toast",Al=`mouseover${Ms}`,Cp=`mouseout${Ms}`,Dh=`focusin${Ms}`,Ho=`focusout${Ms}`,Vo=`hide${Ms}`,aa=`hidden${Ms}`,Th=`show${Ms}`,Fd=`shown${Ms}`,Vc="hide",nl="show",Hd="showing",Lu={animation:"boolean",autohide:"boolean",delay:"number"},Mh={animation:!0,autohide:!0,delay:5e3};class ec extends pe{constructor(R,Y){super(R,Y),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Mh}static get DefaultType(){return Lu}static get NAME(){return"toast"}show(){Z.trigger(this._element,Th).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Vc),B(this._element),this._element.classList.add(nl,Hd),this._queueCallback(()=>{this._element.classList.remove(Hd),Z.trigger(this._element,Fd),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(Z.trigger(this._element,Vo).defaultPrevented||(this._element.classList.add(Hd),this._queueCallback(()=>{this._element.classList.add(Vc),this._element.classList.remove(Hd,nl),Z.trigger(this._element,aa)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(nl),super.dispose()}isShown(){return this._element.classList.contains(nl)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(R,Y){switch(R.type){case"mouseover":case"mouseout":this._hasMouseInteraction=Y;break;case"focusin":case"focusout":this._hasKeyboardInteraction=Y}if(Y)return void this._clearTimeout();const ue=R.relatedTarget;this._element===ue||this._element.contains(ue)||this._maybeScheduleHide()}_setListeners(){Z.on(this._element,Al,R=>this._onInteraction(R,!0)),Z.on(this._element,Cp,R=>this._onInteraction(R,!1)),Z.on(this._element,Dh,R=>this._onInteraction(R,!0)),Z.on(this._element,Ho,R=>this._onInteraction(R,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(R){return this.each(function(){const Y=ec.getOrCreateInstance(this,R);if(typeof R=="string"){if(Y[R]===void 0)throw new TypeError(`No method named "${R}"`);Y[R](this)}})}}return We(ec),K(ec),{Alert:Oe,Button:Fe,Carousel:ft,Collapse:wn,Dropdown:Zs,Modal:Jr,Offcanvas:es,Popover:zt,ScrollSpy:Po,Tab:oa,Toast:ec,Tooltip:ie}})}(pv)),pv.exports}vJ();const Bn=l=>typeof l=="string",rb=()=>{let l,c;const s=new Promise((o,h)=>{l=o,c=h});return s.resolve=l,s.reject=c,s},RO=l=>l==null?"":""+l,wJ=(l,c,s)=>{l.forEach(o=>{c[o]&&(s[o]=c[o])})},yJ=/###/g,PO=l=>l&&l.indexOf("###")>-1?l.replace(yJ,"."):l,zO=l=>!l||Bn(l),hb=(l,c,s)=>{const o=Bn(c)?c.split("."):c;let h=0;for(;h<o.length-1;){if(zO(l))return{};const g=PO(o[h]);!l[g]&&s&&(l[g]=new s),Object.prototype.hasOwnProperty.call(l,g)?l=l[g]:l={},++h}return zO(l)?{}:{obj:l,k:PO(o[h])}},FO=(l,c,s)=>{const{obj:o,k:h}=hb(l,c,Object);if(o!==void 0||c.length===1){o[h]=s;return}let g=c[c.length-1],_=c.slice(0,c.length-1),y=hb(l,_,Object);for(;y.obj===void 0&&_.length;)g=`${_[_.length-1]}.${g}`,_=_.slice(0,_.length-1),y=hb(l,_,Object),y!=null&&y.obj&&typeof y.obj[`${y.k}.${g}`]<"u"&&(y.obj=void 0);y.obj[`${y.k}.${g}`]=s},xJ=(l,c,s,o)=>{const{obj:h,k:g}=hb(l,c,Object);h[g]=h[g]||[],h[g].push(s)},zv=(l,c)=>{const{obj:s,k:o}=hb(l,c);if(s&&Object.prototype.hasOwnProperty.call(s,o))return s[o]},CJ=(l,c,s)=>{const o=zv(l,s);return o!==void 0?o:zv(c,s)},cB=(l,c,s)=>{for(const o in c)o!=="__proto__"&&o!=="constructor"&&(o in l?Bn(l[o])||l[o]instanceof String||Bn(c[o])||c[o]instanceof String?s&&(l[o]=c[o]):cB(l[o],c[o],s):l[o]=c[o]);return l},op=l=>l.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var AJ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const NJ=l=>Bn(l)?l.replace(/[&<>"'\/]/g,c=>AJ[c]):l;class EJ{constructor(c){this.capacity=c,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(c){const s=this.regExpMap.get(c);if(s!==void 0)return s;const o=new RegExp(c);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(c,o),this.regExpQueue.push(c),o}}const SJ=[" ",",","?","!",";"],jJ=new EJ(20),DJ=(l,c,s)=>{c=c||"",s=s||"";const o=SJ.filter(_=>c.indexOf(_)<0&&s.indexOf(_)<0);if(o.length===0)return!0;const h=jJ.getRegExp(`(${o.map(_=>_==="?"?"\\?":_).join("|")})`);let g=!h.test(l);if(!g){const _=l.indexOf(s);_>0&&!h.test(l.substring(0,_))&&(g=!0)}return g},NA=(l,c,s=".")=>{if(!l)return;if(l[c])return Object.prototype.hasOwnProperty.call(l,c)?l[c]:void 0;const o=c.split(s);let h=l;for(let g=0;g<o.length;){if(!h||typeof h!="object")return;let _,y="";for(let v=g;v<o.length;++v)if(v!==g&&(y+=s),y+=o[v],_=h[y],_!==void 0){if(["string","number","boolean"].indexOf(typeof _)>-1&&v<o.length-1)continue;g+=v-g+1;break}h=_}return h},yb=l=>l==null?void 0:l.replace("_","-"),TJ={type:"logger",log(l){this.output("log",l)},warn(l){this.output("warn",l)},error(l){this.output("error",l)},output(l,c){var s,o;(o=(s=console==null?void 0:console[l])==null?void 0:s.apply)==null||o.call(s,console,c)}};class Fv{constructor(c,s={}){this.init(c,s)}init(c,s={}){this.prefix=s.prefix||"i18next:",this.logger=c||TJ,this.options=s,this.debug=s.debug}log(...c){return this.forward(c,"log","",!0)}warn(...c){return this.forward(c,"warn","",!0)}error(...c){return this.forward(c,"error","")}deprecate(...c){return this.forward(c,"warn","WARNING DEPRECATED: ",!0)}forward(c,s,o,h){return h&&!this.debug?null:(Bn(c[0])&&(c[0]=`${o}${this.prefix} ${c[0]}`),this.logger[s](c))}create(c){return new Fv(this.logger,{prefix:`${this.prefix}:${c}:`,...this.options})}clone(c){return c=c||this.options,c.prefix=c.prefix||this.prefix,new Fv(this.logger,c)}}var kd=new Fv;class Cw{constructor(){this.observers={}}on(c,s){return c.split(" ").forEach(o=>{this.observers[o]||(this.observers[o]=new Map);const h=this.observers[o].get(s)||0;this.observers[o].set(s,h+1)}),this}off(c,s){if(this.observers[c]){if(!s){delete this.observers[c];return}this.observers[c].delete(s)}}emit(c,...s){this.observers[c]&&Array.from(this.observers[c].entries()).forEach(([h,g])=>{for(let _=0;_<g;_++)h(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([h,g])=>{for(let _=0;_<g;_++)h.apply(h,[c,...s])})}}class HO extends Cw{constructor(c,s={ns:["translation"],defaultNS:"translation"}){super(),this.data=c||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(c){this.options.ns.indexOf(c)<0&&this.options.ns.push(c)}removeNamespaces(c){const s=this.options.ns.indexOf(c);s>-1&&this.options.ns.splice(s,1)}getResource(c,s,o,h={}){var N,S;const g=h.keySeparator!==void 0?h.keySeparator:this.options.keySeparator,_=h.ignoreJSONStructure!==void 0?h.ignoreJSONStructure:this.options.ignoreJSONStructure;let y;c.indexOf(".")>-1?y=c.split("."):(y=[c,s],o&&(Array.isArray(o)?y.push(...o):Bn(o)&&g?y.push(...o.split(g)):y.push(o)));const v=zv(this.data,y);return!v&&!s&&!o&&c.indexOf(".")>-1&&(c=y[0],s=y[1],o=y.slice(2).join(".")),v||!_||!Bn(o)?v:NA((S=(N=this.data)==null?void 0:N[c])==null?void 0:S[s],o,g)}addResource(c,s,o,h,g={silent:!1}){const _=g.keySeparator!==void 0?g.keySeparator:this.options.keySeparator;let y=[c,s];o&&(y=y.concat(_?o.split(_):o)),c.indexOf(".")>-1&&(y=c.split("."),h=s,s=y[1]),this.addNamespaces(s),FO(this.data,y,h),g.silent||this.emit("added",c,s,o,h)}addResources(c,s,o,h={silent:!1}){for(const g in o)(Bn(o[g])||Array.isArray(o[g]))&&this.addResource(c,s,g,o[g],{silent:!0});h.silent||this.emit("added",c,s,o)}addResourceBundle(c,s,o,h,g,_={silent:!1,skipCopy:!1}){let y=[c,s];c.indexOf(".")>-1&&(y=c.split("."),h=o,o=s,s=y[1]),this.addNamespaces(s);let v=zv(this.data,y)||{};_.skipCopy||(o=JSON.parse(JSON.stringify(o))),h?cB(v,o,g):v={...v,...o},FO(this.data,y,v),_.silent||this.emit("added",c,s,o)}removeResourceBundle(c,s){this.hasResourceBundle(c,s)&&delete this.data[c][s],this.removeNamespaces(s),this.emit("removed",c,s)}hasResourceBundle(c,s){return this.getResource(c,s)!==void 0}getResourceBundle(c,s){return s||(s=this.options.defaultNS),this.getResource(c,s)}getDataByLanguage(c){return this.data[c]}hasLanguageSomeTranslations(c){const s=this.getDataByLanguage(c);return!!(s&&Object.keys(s)||[]).find(h=>s[h]&&Object.keys(s[h]).length>0)}toJSON(){return this.data}}var dB={processors:{},addPostProcessor(l){this.processors[l.name]=l},handle(l,c,s,o,h){return l.forEach(g=>{var _;c=((_=this.processors[g])==null?void 0:_.process(c,s,o,h))??c}),c}};const VO={},UO=l=>!Bn(l)&&typeof l!="boolean"&&typeof l!="number";class Hv extends Cw{constructor(c,s={}){super(),wJ(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],c,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=kd.create("translator")}changeLanguage(c){c&&(this.language=c)}exists(c,s={interpolation:{}}){const o={...s};if(c==null)return!1;const h=this.resolve(c,o);return(h==null?void 0:h.res)!==void 0}extractFromKey(c,s){let o=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");const h=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let g=s.ns||this.options.defaultNS||[];const _=o&&c.indexOf(o)>-1,y=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!DJ(c,o,h);if(_&&!y){const v=c.match(this.interpolator.nestingRegexp);if(v&&v.length>0)return{key:c,namespaces:Bn(g)?[g]:g};const N=c.split(o);(o!==h||o===h&&this.options.ns.indexOf(N[0])>-1)&&(g=N.shift()),c=N.join(h)}return{key:c,namespaces:Bn(g)?[g]:g}}translate(c,s,o){let h=typeof s=="object"?{...s}:s;if(typeof h!="object"&&this.options.overloadTranslationOptionHandler&&(h=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(h={...h}),h||(h={}),c==null)return"";Array.isArray(c)||(c=[String(c)]);const g=h.returnDetails!==void 0?h.returnDetails:this.options.returnDetails,_=h.keySeparator!==void 0?h.keySeparator:this.options.keySeparator,{key:y,namespaces:v}=this.extractFromKey(c[c.length-1],h),N=v[v.length-1];let S=h.nsSeparator!==void 0?h.nsSeparator:this.options.nsSeparator;S===void 0&&(S=":");const D=h.lng||this.language,j=h.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((D==null?void 0:D.toLowerCase())==="cimode")return j?g?{res:`${N}${S}${y}`,usedKey:y,exactUsedKey:y,usedLng:D,usedNS:N,usedParams:this.getUsedParamsDetails(h)}:`${N}${S}${y}`:g?{res:y,usedKey:y,exactUsedKey:y,usedLng:D,usedNS:N,usedParams:this.getUsedParamsDetails(h)}:y;const B=this.resolve(c,h);let F=B==null?void 0:B.res;const V=(B==null?void 0:B.usedKey)||y,$=(B==null?void 0:B.exactUsedKey)||y,K=["[object Number]","[object Function]","[object RegExp]"],Q=h.joinArrays!==void 0?h.joinArrays:this.options.joinArrays,ee=!this.i18nFormat||this.i18nFormat.handleAsObject,ne=h.count!==void 0&&!Bn(h.count),le=Hv.hasDefaultValue(h),se=ne?this.pluralResolver.getSuffix(D,h.count,h):"",q=h.ordinal&&ne?this.pluralResolver.getSuffix(D,h.count,{ordinal:!1}):"",de=ne&&!h.ordinal&&h.count===0,re=de&&h[`defaultValue${this.options.pluralSeparator}zero`]||h[`defaultValue${se}`]||h[`defaultValue${q}`]||h.defaultValue;let be=F;ee&&!F&&le&&(be=re);const ke=UO(be),we=Object.prototype.toString.apply(be);if(ee&&be&&ke&&K.indexOf(we)<0&&!(Bn(Q)&&Array.isArray(be))){if(!h.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const De=this.options.returnedObjectHandler?this.options.returnedObjectHandler(V,be,{...h,ns:v}):`key '${y} (${this.language})' returned an object instead of string.`;return g?(B.res=De,B.usedParams=this.getUsedParamsDetails(h),B):De}if(_){const De=Array.isArray(be),_e=De?[]:{},je=De?$:V;for(const oe in be)if(Object.prototype.hasOwnProperty.call(be,oe)){const ve=`${je}${_}${oe}`;le&&!F?_e[oe]=this.translate(ve,{...h,defaultValue:UO(re)?re[oe]:void 0,joinArrays:!1,ns:v}):_e[oe]=this.translate(ve,{...h,joinArrays:!1,ns:v}),_e[oe]===ve&&(_e[oe]=be[oe])}F=_e}}else if(ee&&Bn(Q)&&Array.isArray(F))F=F.join(Q),F&&(F=this.extendTranslation(F,c,h,o));else{let De=!1,_e=!1;!this.isValidLookup(F)&&le&&(De=!0,F=re),this.isValidLookup(F)||(_e=!0,F=y);const oe=(h.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&_e?void 0:F,ve=le&&re!==F&&this.options.updateMissing;if(_e||De||ve){if(this.logger.log(ve?"updateKey":"missingKey",D,N,y,ve?re:F),_){const fe=this.resolve(y,{...h,keySeparator:!1});fe&&fe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let he=[];const Ee=this.languageUtils.getFallbackCodes(this.options.fallbackLng,h.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ee&&Ee[0])for(let fe=0;fe<Ee.length;fe++)he.push(Ee[fe]);else this.options.saveMissingTo==="all"?he=this.languageUtils.toResolveHierarchy(h.lng||this.language):he.push(h.lng||this.language);const Z=(fe,Ce,Se)=>{var et;const He=le&&Se!==F?Se:oe;this.options.missingKeyHandler?this.options.missingKeyHandler(fe,N,Ce,He,ve,h):(et=this.backendConnector)!=null&&et.saveMissing&&this.backendConnector.saveMissing(fe,N,Ce,He,ve,h),this.emit("missingKey",fe,N,Ce,F)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ne?he.forEach(fe=>{const Ce=this.pluralResolver.getSuffixes(fe,h);de&&h[`defaultValue${this.options.pluralSeparator}zero`]&&Ce.indexOf(`${this.options.pluralSeparator}zero`)<0&&Ce.push(`${this.options.pluralSeparator}zero`),Ce.forEach(Se=>{Z([fe],y+Se,h[`defaultValue${Se}`]||re)})}):Z(he,y,re))}F=this.extendTranslation(F,c,h,B,o),_e&&F===y&&this.options.appendNamespaceToMissingKey&&(F=`${N}${S}${y}`),(_e||De)&&this.options.parseMissingKeyHandler&&(F=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${N}${S}${y}`:y,De?F:void 0,h))}return g?(B.res=F,B.usedParams=this.getUsedParamsDetails(h),B):F}extendTranslation(c,s,o,h,g){var v,N;if((v=this.i18nFormat)!=null&&v.parse)c=this.i18nFormat.parse(c,{...this.options.interpolation.defaultVariables,...o},o.lng||this.language||h.usedLng,h.usedNS,h.usedKey,{resolved:h});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init({...o,interpolation:{...this.options.interpolation,...o.interpolation}});const S=Bn(c)&&(((N=o==null?void 0:o.interpolation)==null?void 0:N.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let D;if(S){const B=c.match(this.interpolator.nestingRegexp);D=B&&B.length}let j=o.replace&&!Bn(o.replace)?o.replace:o;if(this.options.interpolation.defaultVariables&&(j={...this.options.interpolation.defaultVariables,...j}),c=this.interpolator.interpolate(c,j,o.lng||this.language||h.usedLng,o),S){const B=c.match(this.interpolator.nestingRegexp),F=B&&B.length;D<F&&(o.nest=!1)}!o.lng&&h&&h.res&&(o.lng=this.language||h.usedLng),o.nest!==!1&&(c=this.interpolator.nest(c,(...B)=>(g==null?void 0:g[0])===B[0]&&!o.context?(this.logger.warn(`It seems you are nesting recursively key: ${B[0]} in key: ${s[0]}`),null):this.translate(...B,s),o)),o.interpolation&&this.interpolator.reset()}const _=o.postProcess||this.options.postProcess,y=Bn(_)?[_]:_;return c!=null&&(y!=null&&y.length)&&o.applyPostProcessor!==!1&&(c=dB.handle(y,c,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...h,usedParams:this.getUsedParamsDetails(o)},...o}:o,this)),c}resolve(c,s={}){let o,h,g,_,y;return Bn(c)&&(c=[c]),c.forEach(v=>{if(this.isValidLookup(o))return;const N=this.extractFromKey(v,s),S=N.key;h=S;let D=N.namespaces;this.options.fallbackNS&&(D=D.concat(this.options.fallbackNS));const j=s.count!==void 0&&!Bn(s.count),B=j&&!s.ordinal&&s.count===0,F=s.context!==void 0&&(Bn(s.context)||typeof s.context=="number")&&s.context!=="",V=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);D.forEach($=>{var K,Q;this.isValidLookup(o)||(y=$,!VO[`${V[0]}-${$}`]&&((K=this.utils)!=null&&K.hasLoadedNamespace)&&!((Q=this.utils)!=null&&Q.hasLoadedNamespace(y))&&(VO[`${V[0]}-${$}`]=!0,this.logger.warn(`key "${h}" for languages "${V.join(", ")}" won't get resolved as namespace "${y}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),V.forEach(ee=>{var se;if(this.isValidLookup(o))return;_=ee;const ne=[S];if((se=this.i18nFormat)!=null&&se.addLookupKeys)this.i18nFormat.addLookupKeys(ne,S,ee,$,s);else{let q;j&&(q=this.pluralResolver.getSuffix(ee,s.count,s));const de=`${this.options.pluralSeparator}zero`,re=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(j&&(ne.push(S+q),s.ordinal&&q.indexOf(re)===0&&ne.push(S+q.replace(re,this.options.pluralSeparator)),B&&ne.push(S+de)),F){const be=`${S}${this.options.contextSeparator}${s.context}`;ne.push(be),j&&(ne.push(be+q),s.ordinal&&q.indexOf(re)===0&&ne.push(be+q.replace(re,this.options.pluralSeparator)),B&&ne.push(be+de))}}let le;for(;le=ne.pop();)this.isValidLookup(o)||(g=le,o=this.getResource(ee,$,le,s))}))})}),{res:o,usedKey:h,exactUsedKey:g,usedLng:_,usedNS:y}}isValidLookup(c){return c!==void 0&&!(!this.options.returnNull&&c===null)&&!(!this.options.returnEmptyString&&c==="")}getResource(c,s,o,h={}){var g;return(g=this.i18nFormat)!=null&&g.getResource?this.i18nFormat.getResource(c,s,o,h):this.resourceStore.getResource(c,s,o,h)}getUsedParamsDetails(c={}){const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],o=c.replace&&!Bn(c.replace);let h=o?c.replace:c;if(o&&typeof c.count<"u"&&(h.count=c.count),this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),!o){h={...h};for(const g of s)delete h[g]}return h}static hasDefaultValue(c){const s="defaultValue";for(const o in c)if(Object.prototype.hasOwnProperty.call(c,o)&&s===o.substring(0,s.length)&&c[o]!==void 0)return!0;return!1}}class $O{constructor(c){this.options=c,this.supportedLngs=this.options.supportedLngs||!1,this.logger=kd.create("languageUtils")}getScriptPartFromCode(c){if(c=yb(c),!c||c.indexOf("-")<0)return null;const s=c.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(c){if(c=yb(c),!c||c.indexOf("-")<0)return c;const s=c.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(c){if(Bn(c)&&c.indexOf("-")>-1){let s;try{s=Intl.getCanonicalLocales(c)[0]}catch{}return s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s||(this.options.lowerCaseLng?c.toLowerCase():c)}return this.options.cleanCode||this.options.lowerCaseLng?c.toLowerCase():c}isSupportedCode(c){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(c=this.getLanguagePartFromCode(c)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(c)>-1}getBestMatchFromCodes(c){if(!c)return null;let s;return c.forEach(o=>{if(s)return;const h=this.formatLanguageCode(o);(!this.options.supportedLngs||this.isSupportedCode(h))&&(s=h)}),!s&&this.options.supportedLngs&&c.forEach(o=>{if(s)return;const h=this.getScriptPartFromCode(o);if(this.isSupportedCode(h))return s=h;const g=this.getLanguagePartFromCode(o);if(this.isSupportedCode(g))return s=g;s=this.options.supportedLngs.find(_=>{if(_===g)return _;if(!(_.indexOf("-")<0&&g.indexOf("-")<0)&&(_.indexOf("-")>0&&g.indexOf("-")<0&&_.substring(0,_.indexOf("-"))===g||_.indexOf(g)===0&&g.length>1))return _})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(c,s){if(!c)return[];if(typeof c=="function"&&(c=c(s)),Bn(c)&&(c=[c]),Array.isArray(c))return c;if(!s)return c.default||[];let o=c[s];return o||(o=c[this.getScriptPartFromCode(s)]),o||(o=c[this.formatLanguageCode(s)]),o||(o=c[this.getLanguagePartFromCode(s)]),o||(o=c.default),o||[]}toResolveHierarchy(c,s){const o=this.getFallbackCodes((s===!1?[]:s)||this.options.fallbackLng||[],c),h=[],g=_=>{_&&(this.isSupportedCode(_)?h.push(_):this.logger.warn(`rejecting language code not found in supportedLngs: ${_}`))};return Bn(c)&&(c.indexOf("-")>-1||c.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&g(this.formatLanguageCode(c)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&g(this.getScriptPartFromCode(c)),this.options.load!=="currentOnly"&&g(this.getLanguagePartFromCode(c))):Bn(c)&&g(this.formatLanguageCode(c)),o.forEach(_=>{h.indexOf(_)<0&&g(this.formatLanguageCode(_))}),h}}const qO={zero:0,one:1,two:2,few:3,many:4,other:5},WO={select:l=>l===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class MJ{constructor(c,s={}){this.languageUtils=c,this.options=s,this.logger=kd.create("pluralResolver"),this.pluralRulesCache={}}addRule(c,s){this.rules[c]=s}clearCache(){this.pluralRulesCache={}}getRule(c,s={}){const o=yb(c==="dev"?"en":c),h=s.ordinal?"ordinal":"cardinal",g=JSON.stringify({cleanedCode:o,type:h});if(g in this.pluralRulesCache)return this.pluralRulesCache[g];let _;try{_=new Intl.PluralRules(o,{type:h})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),WO;if(!c.match(/-|_/))return WO;const v=this.languageUtils.getLanguagePartFromCode(c);_=this.getRule(v,s)}return this.pluralRulesCache[g]=_,_}needsPlural(c,s={}){let o=this.getRule(c,s);return o||(o=this.getRule("dev",s)),(o==null?void 0:o.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(c,s,o={}){return this.getSuffixes(c,o).map(h=>`${s}${h}`)}getSuffixes(c,s={}){let o=this.getRule(c,s);return o||(o=this.getRule("dev",s)),o?o.resolvedOptions().pluralCategories.sort((h,g)=>qO[h]-qO[g]).map(h=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${h}`):[]}getSuffix(c,s,o={}){const h=this.getRule(c,o);return h?`${this.options.prepend}${o.ordinal?`ordinal${this.options.prepend}`:""}${h.select(s)}`:(this.logger.warn(`no plural rule found for: ${c}`),this.getSuffix("dev",s,o))}}const YO=(l,c,s,o=".",h=!0)=>{let g=CJ(l,c,s);return!g&&h&&Bn(s)&&(g=NA(l,s,o),g===void 0&&(g=NA(c,s,o))),g},XC=l=>l.replace(/\$/g,"$$$$");class IJ{constructor(c={}){var s;this.logger=kd.create("interpolator"),this.options=c,this.format=((s=c==null?void 0:c.interpolation)==null?void 0:s.format)||(o=>o),this.init(c)}init(c={}){c.interpolation||(c.interpolation={escapeValue:!0});const{escape:s,escapeValue:o,useRawValueToEscape:h,prefix:g,prefixEscaped:_,suffix:y,suffixEscaped:v,formatSeparator:N,unescapeSuffix:S,unescapePrefix:D,nestingPrefix:j,nestingPrefixEscaped:B,nestingSuffix:F,nestingSuffixEscaped:V,nestingOptionsSeparator:$,maxReplaces:K,alwaysFormat:Q}=c.interpolation;this.escape=s!==void 0?s:NJ,this.escapeValue=o!==void 0?o:!0,this.useRawValueToEscape=h!==void 0?h:!1,this.prefix=g?op(g):_||"{{",this.suffix=y?op(y):v||"}}",this.formatSeparator=N||",",this.unescapePrefix=S?"":D||"-",this.unescapeSuffix=this.unescapePrefix?"":S||"",this.nestingPrefix=j?op(j):B||op("$t("),this.nestingSuffix=F?op(F):V||op(")"),this.nestingOptionsSeparator=$||",",this.maxReplaces=K||1e3,this.alwaysFormat=Q!==void 0?Q:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const c=(s,o)=>(s==null?void 0:s.source)===o?(s.lastIndex=0,s):new RegExp(o,"g");this.regexp=c(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=c(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=c(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(c,s,o,h){var B;let g,_,y;const v=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},N=F=>{if(F.indexOf(this.formatSeparator)<0){const Q=YO(s,v,F,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(Q,void 0,o,{...h,...s,interpolationkey:F}):Q}const V=F.split(this.formatSeparator),$=V.shift().trim(),K=V.join(this.formatSeparator).trim();return this.format(YO(s,v,$,this.options.keySeparator,this.options.ignoreJSONStructure),K,o,{...h,...s,interpolationkey:$})};this.resetRegExp();const S=(h==null?void 0:h.missingInterpolationHandler)||this.options.missingInterpolationHandler,D=((B=h==null?void 0:h.interpolation)==null?void 0:B.skipOnVariables)!==void 0?h.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:F=>XC(F)},{regex:this.regexp,safeValue:F=>this.escapeValue?XC(this.escape(F)):XC(F)}].forEach(F=>{for(y=0;g=F.regex.exec(c);){const V=g[1].trim();if(_=N(V),_===void 0)if(typeof S=="function"){const K=S(c,g,h);_=Bn(K)?K:""}else if(h&&Object.prototype.hasOwnProperty.call(h,V))_="";else if(D){_=g[0];continue}else this.logger.warn(`missed to pass in variable ${V} for interpolating ${c}`),_="";else!Bn(_)&&!this.useRawValueToEscape&&(_=RO(_));const $=F.safeValue(_);if(c=c.replace(g[0],$),D?(F.regex.lastIndex+=_.length,F.regex.lastIndex-=g[0].length):F.regex.lastIndex=0,y++,y>=this.maxReplaces)break}}),c}nest(c,s,o={}){let h,g,_;const y=(v,N)=>{const S=this.nestingOptionsSeparator;if(v.indexOf(S)<0)return v;const D=v.split(new RegExp(`${S}[ ]*{`));let j=`{${D[1]}`;v=D[0],j=this.interpolate(j,_);const B=j.match(/'/g),F=j.match(/"/g);(((B==null?void 0:B.length)??0)%2===0&&!F||F.length%2!==0)&&(j=j.replace(/'/g,'"'));try{_=JSON.parse(j),N&&(_={...N,..._})}catch(V){return this.logger.warn(`failed parsing options string in nesting for key ${v}`,V),`${v}${S}${j}`}return _.defaultValue&&_.defaultValue.indexOf(this.prefix)>-1&&delete _.defaultValue,v};for(;h=this.nestingRegexp.exec(c);){let v=[];_={...o},_=_.replace&&!Bn(_.replace)?_.replace:_,_.applyPostProcessor=!1,delete _.defaultValue;const N=/{.*}/.test(h[1])?h[1].lastIndexOf("}")+1:h[1].indexOf(this.formatSeparator);if(N!==-1&&(v=h[1].slice(N).split(this.formatSeparator).map(S=>S.trim()).filter(Boolean),h[1]=h[1].slice(0,N)),g=s(y.call(this,h[1].trim(),_),_),g&&h[0]===c&&!Bn(g))return g;Bn(g)||(g=RO(g)),g||(this.logger.warn(`missed to resolve ${h[1]} for nesting ${c}`),g=""),v.length&&(g=v.reduce((S,D)=>this.format(S,D,o.lng,{...o,interpolationkey:h[1].trim()}),g.trim())),c=c.replace(h[0],g),this.regexp.lastIndex=0}return c}}const OJ=l=>{let c=l.toLowerCase().trim();const s={};if(l.indexOf("(")>-1){const o=l.split("(");c=o[0].toLowerCase().trim();const h=o[1].substring(0,o[1].length-1);c==="currency"&&h.indexOf(":")<0?s.currency||(s.currency=h.trim()):c==="relativetime"&&h.indexOf(":")<0?s.range||(s.range=h.trim()):h.split(";").forEach(_=>{if(_){const[y,...v]=_.split(":"),N=v.join(":").trim().replace(/^'+|'+$/g,""),S=y.trim();s[S]||(s[S]=N),N==="false"&&(s[S]=!1),N==="true"&&(s[S]=!0),isNaN(N)||(s[S]=parseInt(N,10))}})}return{formatName:c,formatOptions:s}},GO=l=>{const c={};return(s,o,h)=>{let g=h;h&&h.interpolationkey&&h.formatParams&&h.formatParams[h.interpolationkey]&&h[h.interpolationkey]&&(g={...g,[h.interpolationkey]:void 0});const _=o+JSON.stringify(g);let y=c[_];return y||(y=l(yb(o),h),c[_]=y),y(s)}},LJ=l=>(c,s,o)=>l(yb(s),o)(c);class BJ{constructor(c={}){this.logger=kd.create("formatter"),this.options=c,this.init(c)}init(c,s={interpolation:{}}){this.formatSeparator=s.interpolation.formatSeparator||",";const o=s.cacheInBuiltFormats?GO:LJ;this.formats={number:o((h,g)=>{const _=new Intl.NumberFormat(h,{...g});return y=>_.format(y)}),currency:o((h,g)=>{const _=new Intl.NumberFormat(h,{...g,style:"currency"});return y=>_.format(y)}),datetime:o((h,g)=>{const _=new Intl.DateTimeFormat(h,{...g});return y=>_.format(y)}),relativetime:o((h,g)=>{const _=new Intl.RelativeTimeFormat(h,{...g});return y=>_.format(y,g.range||"day")}),list:o((h,g)=>{const _=new Intl.ListFormat(h,{...g});return y=>_.format(y)})}}add(c,s){this.formats[c.toLowerCase().trim()]=s}addCached(c,s){this.formats[c.toLowerCase().trim()]=GO(s)}format(c,s,o,h={}){const g=s.split(this.formatSeparator);if(g.length>1&&g[0].indexOf("(")>1&&g[0].indexOf(")")<0&&g.find(y=>y.indexOf(")")>-1)){const y=g.findIndex(v=>v.indexOf(")")>-1);g[0]=[g[0],...g.splice(1,y)].join(this.formatSeparator)}return g.reduce((y,v)=>{var D;const{formatName:N,formatOptions:S}=OJ(v);if(this.formats[N]){let j=y;try{const B=((D=h==null?void 0:h.formatParams)==null?void 0:D[h.interpolationkey])||{},F=B.locale||B.lng||h.locale||h.lng||o;j=this.formats[N](y,F,{...S,...h,...B})}catch(B){this.logger.warn(B)}return j}else this.logger.warn(`there was no format function for ${N}`);return y},c)}}const RJ=(l,c)=>{l.pending[c]!==void 0&&(delete l.pending[c],l.pendingCount--)};class PJ extends Cw{constructor(c,s,o,h={}){var g,_;super(),this.backend=c,this.store=s,this.services=o,this.languageUtils=o.languageUtils,this.options=h,this.logger=kd.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=h.maxParallelReads||10,this.readingCalls=0,this.maxRetries=h.maxRetries>=0?h.maxRetries:5,this.retryTimeout=h.retryTimeout>=1?h.retryTimeout:350,this.state={},this.queue=[],(_=(g=this.backend)==null?void 0:g.init)==null||_.call(g,o,h.backend,h)}queueLoad(c,s,o,h){const g={},_={},y={},v={};return c.forEach(N=>{let S=!0;s.forEach(D=>{const j=`${N}|${D}`;!o.reload&&this.store.hasResourceBundle(N,D)?this.state[j]=2:this.state[j]<0||(this.state[j]===1?_[j]===void 0&&(_[j]=!0):(this.state[j]=1,S=!1,_[j]===void 0&&(_[j]=!0),g[j]===void 0&&(g[j]=!0),v[D]===void 0&&(v[D]=!0)))}),S||(y[N]=!0)}),(Object.keys(g).length||Object.keys(_).length)&&this.queue.push({pending:_,pendingCount:Object.keys(_).length,loaded:{},errors:[],callback:h}),{toLoad:Object.keys(g),pending:Object.keys(_),toLoadLanguages:Object.keys(y),toLoadNamespaces:Object.keys(v)}}loaded(c,s,o){const h=c.split("|"),g=h[0],_=h[1];s&&this.emit("failedLoading",g,_,s),!s&&o&&this.store.addResourceBundle(g,_,o,void 0,void 0,{skipCopy:!0}),this.state[c]=s?-1:2,s&&o&&(this.state[c]=0);const y={};this.queue.forEach(v=>{xJ(v.loaded,[g],_),RJ(v,c),s&&v.errors.push(s),v.pendingCount===0&&!v.done&&(Object.keys(v.loaded).forEach(N=>{y[N]||(y[N]={});const S=v.loaded[N];S.length&&S.forEach(D=>{y[N][D]===void 0&&(y[N][D]=!0)})}),v.done=!0,v.errors.length?v.callback(v.errors):v.callback())}),this.emit("loaded",y),this.queue=this.queue.filter(v=>!v.done)}read(c,s,o,h=0,g=this.retryTimeout,_){if(!c.length)return _(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:c,ns:s,fcName:o,tried:h,wait:g,callback:_});return}this.readingCalls++;const y=(N,S)=>{if(this.readingCalls--,this.waitingReads.length>0){const D=this.waitingReads.shift();this.read(D.lng,D.ns,D.fcName,D.tried,D.wait,D.callback)}if(N&&S&&h<this.maxRetries){setTimeout(()=>{this.read.call(this,c,s,o,h+1,g*2,_)},g);return}_(N,S)},v=this.backend[o].bind(this.backend);if(v.length===2){try{const N=v(c,s);N&&typeof N.then=="function"?N.then(S=>y(null,S)).catch(y):y(null,N)}catch(N){y(N)}return}return v(c,s,y)}prepareLoading(c,s,o={},h){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),h&&h();Bn(c)&&(c=this.languageUtils.toResolveHierarchy(c)),Bn(s)&&(s=[s]);const g=this.queueLoad(c,s,o,h);if(!g.toLoad.length)return g.pending.length||h(),null;g.toLoad.forEach(_=>{this.loadOne(_)})}load(c,s,o){this.prepareLoading(c,s,{},o)}reload(c,s,o){this.prepareLoading(c,s,{reload:!0},o)}loadOne(c,s=""){const o=c.split("|"),h=o[0],g=o[1];this.read(h,g,"read",void 0,void 0,(_,y)=>{_&&this.logger.warn(`${s}loading namespace ${g} for language ${h} failed`,_),!_&&y&&this.logger.log(`${s}loaded namespace ${g} for language ${h}`,y),this.loaded(c,_,y)})}saveMissing(c,s,o,h,g,_={},y=()=>{}){var v,N,S,D,j;if((N=(v=this.services)==null?void 0:v.utils)!=null&&N.hasLoadedNamespace&&!((D=(S=this.services)==null?void 0:S.utils)!=null&&D.hasLoadedNamespace(s))){this.logger.warn(`did not save key "${o}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if((j=this.backend)!=null&&j.create){const B={..._,isUpdate:g},F=this.backend.create.bind(this.backend);if(F.length<6)try{let V;F.length===5?V=F(c,s,o,h,B):V=F(c,s,o,h),V&&typeof V.then=="function"?V.then($=>y(null,$)).catch(y):y(null,V)}catch(V){y(V)}else F(c,s,o,h,y,B)}!c||!c[0]||this.store.addResource(c[0],s,o,h)}}}const KO=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:l=>{let c={};if(typeof l[1]=="object"&&(c=l[1]),Bn(l[1])&&(c.defaultValue=l[1]),Bn(l[2])&&(c.tDescription=l[2]),typeof l[2]=="object"||typeof l[3]=="object"){const s=l[3]||l[2];Object.keys(s).forEach(o=>{c[o]=s[o]})}return c},interpolation:{escapeValue:!0,format:l=>l,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),QO=l=>{var c,s;return Bn(l.ns)&&(l.ns=[l.ns]),Bn(l.fallbackLng)&&(l.fallbackLng=[l.fallbackLng]),Bn(l.fallbackNS)&&(l.fallbackNS=[l.fallbackNS]),((s=(c=l.supportedLngs)==null?void 0:c.indexOf)==null?void 0:s.call(c,"cimode"))<0&&(l.supportedLngs=l.supportedLngs.concat(["cimode"])),typeof l.initImmediate=="boolean"&&(l.initAsync=l.initImmediate),l},tv=()=>{},zJ=l=>{Object.getOwnPropertyNames(Object.getPrototypeOf(l)).forEach(s=>{typeof l[s]=="function"&&(l[s]=l[s].bind(l))})};class xb extends Cw{constructor(c={},s){if(super(),this.options=QO(c),this.services={},this.logger=kd,this.modules={external:[]},zJ(this),s&&!this.isInitialized&&!c.isClone){if(!this.options.initAsync)return this.init(c,s),this;setTimeout(()=>{this.init(c,s)},0)}}init(c={},s){this.isInitializing=!0,typeof c=="function"&&(s=c,c={}),c.defaultNS==null&&c.ns&&(Bn(c.ns)?c.defaultNS=c.ns:c.ns.indexOf("translation")<0&&(c.defaultNS=c.ns[0]));const o=KO();this.options={...o,...this.options,...QO(c)},this.options.interpolation={...o.interpolation,...this.options.interpolation},c.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=c.keySeparator),c.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=c.nsSeparator);const h=N=>N?typeof N=="function"?new N:N:null;if(!this.options.isClone){this.modules.logger?kd.init(h(this.modules.logger),this.options):kd.init(null,this.options);let N;this.modules.formatter?N=this.modules.formatter:N=BJ;const S=new $O(this.options);this.store=new HO(this.options.resources,this.options);const D=this.services;D.logger=kd,D.resourceStore=this.store,D.languageUtils=S,D.pluralResolver=new MJ(S,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),N&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(D.formatter=h(N),D.formatter.init&&D.formatter.init(D,this.options),this.options.interpolation.format=D.formatter.format.bind(D.formatter)),D.interpolator=new IJ(this.options),D.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},D.backendConnector=new PJ(h(this.modules.backend),D.resourceStore,D,this.options),D.backendConnector.on("*",(B,...F)=>{this.emit(B,...F)}),this.modules.languageDetector&&(D.languageDetector=h(this.modules.languageDetector),D.languageDetector.init&&D.languageDetector.init(D,this.options.detection,this.options)),this.modules.i18nFormat&&(D.i18nFormat=h(this.modules.i18nFormat),D.i18nFormat.init&&D.i18nFormat.init(this)),this.translator=new Hv(this.services,this.options),this.translator.on("*",(B,...F)=>{this.emit(B,...F)}),this.modules.external.forEach(B=>{B.init&&B.init(this)})}if(this.format=this.options.interpolation.format,s||(s=tv),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const N=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);N.length>0&&N[0]!=="dev"&&(this.options.lng=N[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(N=>{this[N]=(...S)=>this.store[N](...S)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(N=>{this[N]=(...S)=>(this.store[N](...S),this)});const y=rb(),v=()=>{const N=(S,D)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),y.resolve(D),s(S,D)};if(this.languages&&!this.isInitialized)return N(null,this.t.bind(this));this.changeLanguage(this.options.lng,N)};return this.options.resources||!this.options.initAsync?v():setTimeout(v,0),y}loadResources(c,s=tv){var g,_;let o=s;const h=Bn(c)?c:this.language;if(typeof c=="function"&&(o=c),!this.options.resources||this.options.partialBundledLanguages){if((h==null?void 0:h.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return o();const y=[],v=N=>{if(!N||N==="cimode")return;this.services.languageUtils.toResolveHierarchy(N).forEach(D=>{D!=="cimode"&&y.indexOf(D)<0&&y.push(D)})};h?v(h):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(S=>v(S)),(_=(g=this.options.preload)==null?void 0:g.forEach)==null||_.call(g,N=>v(N)),this.services.backendConnector.load(y,this.options.ns,N=>{!N&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),o(N)})}else o(null)}reloadResources(c,s,o){const h=rb();return typeof c=="function"&&(o=c,c=void 0),typeof s=="function"&&(o=s,s=void 0),c||(c=this.languages),s||(s=this.options.ns),o||(o=tv),this.services.backendConnector.reload(c,s,g=>{h.resolve(),o(g)}),h}use(c){if(!c)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!c.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return c.type==="backend"&&(this.modules.backend=c),(c.type==="logger"||c.log&&c.warn&&c.error)&&(this.modules.logger=c),c.type==="languageDetector"&&(this.modules.languageDetector=c),c.type==="i18nFormat"&&(this.modules.i18nFormat=c),c.type==="postProcessor"&&dB.addPostProcessor(c),c.type==="formatter"&&(this.modules.formatter=c),c.type==="3rdParty"&&this.modules.external.push(c),this}setResolvedLanguage(c){if(!(!c||!this.languages)&&!(["cimode","dev"].indexOf(c)>-1)){for(let s=0;s<this.languages.length;s++){const o=this.languages[s];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}!this.resolvedLanguage&&this.languages.indexOf(c)<0&&this.store.hasLanguageSomeTranslations(c)&&(this.resolvedLanguage=c,this.languages.unshift(c))}}changeLanguage(c,s){this.isLanguageChangingTo=c;const o=rb();this.emit("languageChanging",c);const h=y=>{this.language=y,this.languages=this.services.languageUtils.toResolveHierarchy(y),this.resolvedLanguage=void 0,this.setResolvedLanguage(y)},g=(y,v)=>{v?this.isLanguageChangingTo===c&&(h(v),this.translator.changeLanguage(v),this.isLanguageChangingTo=void 0,this.emit("languageChanged",v),this.logger.log("languageChanged",v)):this.isLanguageChangingTo=void 0,o.resolve((...N)=>this.t(...N)),s&&s(y,(...N)=>this.t(...N))},_=y=>{var S,D;!c&&!y&&this.services.languageDetector&&(y=[]);const v=Bn(y)?y:y&&y[0],N=this.store.hasLanguageSomeTranslations(v)?v:this.services.languageUtils.getBestMatchFromCodes(Bn(y)?[y]:y);N&&(this.language||h(N),this.translator.language||this.translator.changeLanguage(N),(D=(S=this.services.languageDetector)==null?void 0:S.cacheUserLanguage)==null||D.call(S,N)),this.loadResources(N,j=>{g(j,N)})};return!c&&this.services.languageDetector&&!this.services.languageDetector.async?_(this.services.languageDetector.detect()):!c&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(_):this.services.languageDetector.detect(_):_(c),o}getFixedT(c,s,o){const h=(g,_,...y)=>{let v;typeof _!="object"?v=this.options.overloadTranslationOptionHandler([g,_].concat(y)):v={..._},v.lng=v.lng||h.lng,v.lngs=v.lngs||h.lngs,v.ns=v.ns||h.ns,v.keyPrefix!==""&&(v.keyPrefix=v.keyPrefix||o||h.keyPrefix);const N=this.options.keySeparator||".";let S;return v.keyPrefix&&Array.isArray(g)?S=g.map(D=>`${v.keyPrefix}${N}${D}`):S=v.keyPrefix?`${v.keyPrefix}${N}${g}`:g,this.t(S,v)};return Bn(c)?h.lng=c:h.lngs=c,h.ns=s,h.keyPrefix=o,h}t(...c){var s;return(s=this.translator)==null?void 0:s.translate(...c)}exists(...c){var s;return(s=this.translator)==null?void 0:s.exists(...c)}setDefaultNamespace(c){this.options.defaultNS=c}hasLoadedNamespace(c,s={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const o=s.lng||this.resolvedLanguage||this.languages[0],h=this.options?this.options.fallbackLng:!1,g=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;const _=(y,v)=>{const N=this.services.backendConnector.state[`${y}|${v}`];return N===-1||N===0||N===2};if(s.precheck){const y=s.precheck(this,_);if(y!==void 0)return y}return!!(this.hasResourceBundle(o,c)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||_(o,c)&&(!h||_(g,c)))}loadNamespaces(c,s){const o=rb();return this.options.ns?(Bn(c)&&(c=[c]),c.forEach(h=>{this.options.ns.indexOf(h)<0&&this.options.ns.push(h)}),this.loadResources(h=>{o.resolve(),s&&s(h)}),o):(s&&s(),Promise.resolve())}loadLanguages(c,s){const o=rb();Bn(c)&&(c=[c]);const h=this.options.preload||[],g=c.filter(_=>h.indexOf(_)<0&&this.services.languageUtils.isSupportedCode(_));return g.length?(this.options.preload=h.concat(g),this.loadResources(_=>{o.resolve(),s&&s(_)}),o):(s&&s(),Promise.resolve())}dir(c){var h,g;if(c||(c=this.resolvedLanguage||(((h=this.languages)==null?void 0:h.length)>0?this.languages[0]:this.language)),!c)return"rtl";try{const _=new Intl.Locale(c);if(_&&_.getTextInfo){const y=_.getTextInfo();if(y&&y.direction)return y.direction}}catch{}const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=((g=this.services)==null?void 0:g.languageUtils)||new $O(KO());return c.toLowerCase().indexOf("-latn")>1?"ltr":s.indexOf(o.getLanguagePartFromCode(c))>-1||c.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(c={},s){return new xb(c,s)}cloneInstance(c={},s=tv){const o=c.forkResourceStore;o&&delete c.forkResourceStore;const h={...this.options,...c,isClone:!0},g=new xb(h);if((c.debug!==void 0||c.prefix!==void 0)&&(g.logger=g.logger.clone(c)),["store","services","language"].forEach(y=>{g[y]=this[y]}),g.services={...this.services},g.services.utils={hasLoadedNamespace:g.hasLoadedNamespace.bind(g)},o){const y=Object.keys(this.store.data).reduce((v,N)=>(v[N]={...this.store.data[N]},v[N]=Object.keys(v[N]).reduce((S,D)=>(S[D]={...v[N][D]},S),v[N]),v),{});g.store=new HO(y,h),g.services.resourceStore=g.store}return g.translator=new Hv(g.services,h),g.translator.on("*",(y,...v)=>{g.emit(y,...v)}),g.init(h,s),g.translator.options=h,g.translator.backendConnector.services.utils={hasLoadedNamespace:g.hasLoadedNamespace.bind(g)},g}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Xo=xb.createInstance();Xo.createInstance=xb.createInstance;Xo.createInstance;Xo.dir;Xo.init;Xo.loadResources;Xo.reloadResources;Xo.use;Xo.changeLanguage;Xo.getFixedT;Xo.t;Xo.exists;Xo.setDefaultNamespace;Xo.hasLoadedNamespace;Xo.loadNamespaces;Xo.loadLanguages;const FJ={en:{translation:{"Trang chủ":"Home","Khám phá":"Explore","Chuyến đi của bạn":"Your Bookings","Trang cá nhân":"Profile","Đăng nhập":"Login","Đăng ký":"Register","Đăng xuất":"Logout","Thông báo":"Notifications","Khám phá & Lên Kế Hoạch Du Lịch Thông Minh":"Discover & Plan Your Smart Trip","Tìm kiếm địa điểm, tạo lộ trình cá nhân hoặc để chúng tôi gợi ý chuyến đi hoàn hảo cho bạn!":"Find places, create your own itinerary, or let us suggest the perfect trip for you!","Bắt đầu lên kế hoạch":"Start Planning","Tự tạo lộ trình":"Manual Planning","Bạn muốn tự lên kế hoạch chuyến đi? Hãy sử dụng chế độ thủ công để tự tạo tour theo ý thích của mình.":"Want to plan your own trip? Use manual mode to create your custom tour.","Tạo lộ trình tự động":"Auto Planning","Bạn muốn chúng tôi tạo lộ trình phù hợp? Hãy thử chế độ tự động để chúng tôi đề xuất tour cho bạn!":"Want us to create a suitable itinerary? Try auto mode for our suggestions!","Bạn chưa có dự định? Hãy cùng khám phá bản đồ du lịch!":"No plans yet? Explore the travel map!","Viết bài viết":"Write Blog","Các khách sạn hàng đầu":"Top Hotels","Đặt ngay":"Booking now","Xem tất cả khách sạn":"View All Hotels","Các nhà hàng nổi tiếg":"Top Hotels","Xem tất cả nhà hàng":"View All Restaurants"}},vi:{translation:{Home:"Trang chủ",Explore:"Khám phá","Your Bookings":"Chuyến đi của bạn",Profile:"Hồ sơ",Login:"Đăng nhập",Register:"Đăng ký",Logout:"Đăng xuất",Notifications:"Thông báo","Discover & Plan Your Smart Trip":"Khám phá & Lên Kế Hoạch Du Lịch Thông Minh","Find places, create your own itinerary, or let us suggest the perfect trip for you!":"Tìm kiếm địa điểm, tạo lộ trình cá nhân hoặc để chúng tôi gợi ý chuyến đi hoàn hảo cho bạn!","Start Planning":"Bắt đầu lên kế hoạch","Manual Planning":"Tự tạo lộ trình","Want to plan your own trip? Use manual mode to create your custom tour.":"Bạn muốn tự lên kế hoạch chuyến đi? Hãy sử dụng chế độ thủ công để tự tạo tour theo ý thích của mình.","Auto Planning":"Tạo lộ trình tự động","Want us to create a suitable itinerary? Try auto mode for our suggestions!":"Bạn muốn chúng tôi tạo lộ trình phù hợp? Hãy thử chế độ tự động để chúng tôi đề xuất tour cho bạn!","No plans yet? Explore the travel map!":"Bạn chưa có dự định? Hãy cùng khám phá bản đồ du lịch!","Trips & Itineraries":"Chuyến đi & Lịch trình","Featured Destinations":"Điểm đến nổi bật","Read interesting shares from travelers":"Đọc những chia sẻ thú vị từ các du khách","Plan Quickly with":"Lên kế hoạch nhanh chóng với","Your journey will be optimized with just one click!":"Chuyến đi của bạn sẽ được tối ưu hóa chỉ với một cú nhấp chuột!","Get Started with AutoPlanner":"Bắt đầu với AutoPlanner","Join Now":"Tham gia ngay","Explore More":"Khám phá thêm",About:"Về chúng tôi","Quick Links":"Liên kết nhanh",Contact:"Liên hệ","Follow Us":"Theo dõi chúng tôi","Developed by":"Phát triển bởi",Places:"Địa điểm",Tours:"Tour",Articles:"Bài viết","Write Blog":"Viết bài viết","Top Hotels":"Các khách sạn hàng đầu","Booking now":"Đặt ngay","View All Hotels":"Xem tất cả khách sạn","Top Restaurants":"Các nhà hàng nổi tiếng","View All Restaurants":"Xem tất cả nhà hàng"}}};Xo.use(_V).init({resources:FJ,lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});o7.createRoot(document.getElementById("root")).render(i.jsx(nt.StrictMode,{children:i.jsx(CV,{children:i.jsx(DV,{children:i.jsx(kJ,{})})})}));
