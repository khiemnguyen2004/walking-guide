var F8=Object.defineProperty;var V8=(l,c,s)=>c in l?F8(l,c,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[c]=s;var nn=(l,c,s)=>V8(l,typeof c!="symbol"?c+"":c,s);function H8(l,c){for(var s=0;s<c.length;s++){const o=c[s];if(typeof o!="string"&&!Array.isArray(o)){for(const h in o)if(h!=="default"&&!(h in l)){const g=Object.getOwnPropertyDescriptor(o,h);g&&Object.defineProperty(l,h,g.get?g:{enumerable:!0,get:()=>o[h]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))o(h);new MutationObserver(h=>{for(const g of h)if(g.type==="childList")for(const _ of g.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&o(_)}).observe(document,{childList:!0,subtree:!0});function s(h){const g={};return h.integrity&&(g.integrity=h.integrity),h.referrerPolicy&&(g.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?g.credentials="include":h.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function o(h){if(h.ep)return;h.ep=!0;const g=s(h);fetch(h.href,g)}})();var Rl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rm(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Gy={exports:{}},Hg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m2;function U8(){if(m2)return Hg;m2=1;var l=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function s(o,h,g){var _=null;if(g!==void 0&&(_=""+g),h.key!==void 0&&(_=""+h.key),"key"in h){g={};for(var y in h)y!=="key"&&(g[y]=h[y])}else g=h;return h=g.ref,{$$typeof:l,type:o,key:_,ref:h!==void 0?h:null,props:g}}return Hg.Fragment=c,Hg.jsx=s,Hg.jsxs=s,Hg}var f2;function $8(){return f2||(f2=1,Gy.exports=U8()),Gy.exports}var i=$8(),Ky={exports:{}},Zn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2;function q8(){if(p2)return Zn;p2=1;var l=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),_=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),D=Symbol.iterator;function j(Z){return Z===null||typeof Z!="object"?null:(Z=D&&Z[D]||Z["@@iterator"],typeof Z=="function"?Z:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,H={};function $(Z,fe,ke){this.props=Z,this.context=fe,this.refs=H,this.updater=ke||B}$.prototype.isReactComponent={},$.prototype.setState=function(Z,fe){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,fe,"setState")},$.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function K(){}K.prototype=$.prototype;function Q(Z,fe,ke){this.props=Z,this.context=fe,this.refs=H,this.updater=ke||B}var ee=Q.prototype=new K;ee.constructor=Q,F(ee,$.prototype),ee.isPureReactComponent=!0;var ne=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function q(Z,fe,ke,Be,Ve,nt){return ke=nt.ref,{$$typeof:l,type:Z,key:fe,ref:ke!==void 0?ke:null,props:nt}}function ue(Z,fe){return q(Z.type,fe,void 0,void 0,void 0,Z.props)}function oe(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===l}function be(Z){var fe={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(ke){return fe[ke]})}var pe=/\/+/g;function we(Z,fe){return typeof Z=="object"&&Z!==null&&Z.key!=null?be(""+Z.key):fe.toString(36)}function je(){}function ye(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(je,je):(Z.status="pending",Z.then(function(fe){Z.status==="pending"&&(Z.status="fulfilled",Z.value=fe)},function(fe){Z.status==="pending"&&(Z.status="rejected",Z.reason=fe)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function Me(Z,fe,ke,Be,Ve){var nt=typeof Z;(nt==="undefined"||nt==="boolean")&&(Z=null);var te=!1;if(Z===null)te=!0;else switch(nt){case"bigint":case"string":case"number":te=!0;break;case"object":switch(Z.$$typeof){case l:case c:te=!0;break;case S:return te=Z._init,Me(te(Z._payload),fe,ke,Be,Ve)}}if(te)return Ve=Ve(Z),te=Be===""?"."+we(Z,0):Be,ne(Ve)?(ke="",te!=null&&(ke=te.replace(pe,"$&/")+"/"),Me(Ve,fe,ke,"",function(Ke){return Ke})):Ve!=null&&(oe(Ve)&&(Ve=ue(Ve,ke+(Ve.key==null||Z&&Z.key===Ve.key?"":(""+Ve.key).replace(pe,"$&/")+"/")+te)),fe.push(Ve)),1;te=0;var Ce=Be===""?".":Be+":";if(ne(Z))for(var qe=0;qe<Z.length;qe++)Be=Z[qe],nt=Ce+we(Be,qe),te+=Me(Be,fe,ke,nt,Ve);else if(qe=j(Z),typeof qe=="function")for(Z=qe.call(Z),qe=0;!(Be=Z.next()).done;)Be=Be.value,nt=Ce+we(Be,qe++),te+=Me(Be,fe,ke,nt,Ve);else if(nt==="object"){if(typeof Z.then=="function")return Me(ye(Z),fe,ke,Be,Ve);throw fe=String(Z),Error("Objects are not valid as a React child (found: "+(fe==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":fe)+"). If you meant to render a collection of children, use an array instead.")}return te}function le(Z,fe,ke){if(Z==null)return Z;var Be=[],Ve=0;return Me(Z,Be,"","",function(nt){return fe.call(ke,nt,Ve++)}),Be}function _e(Z){if(Z._status===-1){var fe=Z._result;fe=fe(),fe.then(function(ke){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=ke)},function(ke){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=ke)}),Z._status===-1&&(Z._status=0,Z._result=fe)}if(Z._status===1)return Z._result.default;throw Z._result}var me=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var fe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(fe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)};function Ee(){}return Zn.Children={map:le,forEach:function(Z,fe,ke){le(Z,function(){fe.apply(this,arguments)},ke)},count:function(Z){var fe=0;return le(Z,function(){fe++}),fe},toArray:function(Z){return le(Z,function(fe){return fe})||[]},only:function(Z){if(!oe(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},Zn.Component=$,Zn.Fragment=s,Zn.Profiler=h,Zn.PureComponent=Q,Zn.StrictMode=o,Zn.Suspense=v,Zn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Zn.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return ce.H.useMemoCache(Z)}},Zn.cache=function(Z){return function(){return Z.apply(null,arguments)}},Zn.cloneElement=function(Z,fe,ke){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var Be=F({},Z.props),Ve=Z.key,nt=void 0;if(fe!=null)for(te in fe.ref!==void 0&&(nt=void 0),fe.key!==void 0&&(Ve=""+fe.key),fe)!se.call(fe,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&fe.ref===void 0||(Be[te]=fe[te]);var te=arguments.length-2;if(te===1)Be.children=ke;else if(1<te){for(var Ce=Array(te),qe=0;qe<te;qe++)Ce[qe]=arguments[qe+2];Be.children=Ce}return q(Z.type,Ve,void 0,void 0,nt,Be)},Zn.createContext=function(Z){return Z={$$typeof:_,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:g,_context:Z},Z},Zn.createElement=function(Z,fe,ke){var Be,Ve={},nt=null;if(fe!=null)for(Be in fe.key!==void 0&&(nt=""+fe.key),fe)se.call(fe,Be)&&Be!=="key"&&Be!=="__self"&&Be!=="__source"&&(Ve[Be]=fe[Be]);var te=arguments.length-2;if(te===1)Ve.children=ke;else if(1<te){for(var Ce=Array(te),qe=0;qe<te;qe++)Ce[qe]=arguments[qe+2];Ve.children=Ce}if(Z&&Z.defaultProps)for(Be in te=Z.defaultProps,te)Ve[Be]===void 0&&(Ve[Be]=te[Be]);return q(Z,nt,void 0,void 0,null,Ve)},Zn.createRef=function(){return{current:null}},Zn.forwardRef=function(Z){return{$$typeof:y,render:Z}},Zn.isValidElement=oe,Zn.lazy=function(Z){return{$$typeof:S,_payload:{_status:-1,_result:Z},_init:_e}},Zn.memo=function(Z,fe){return{$$typeof:N,type:Z,compare:fe===void 0?null:fe}},Zn.startTransition=function(Z){var fe=ce.T,ke={};ce.T=ke;try{var Be=Z(),Ve=ce.S;Ve!==null&&Ve(ke,Be),typeof Be=="object"&&Be!==null&&typeof Be.then=="function"&&Be.then(Ee,me)}catch(nt){me(nt)}finally{ce.T=fe}},Zn.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Zn.use=function(Z){return ce.H.use(Z)},Zn.useActionState=function(Z,fe,ke){return ce.H.useActionState(Z,fe,ke)},Zn.useCallback=function(Z,fe){return ce.H.useCallback(Z,fe)},Zn.useContext=function(Z){return ce.H.useContext(Z)},Zn.useDebugValue=function(){},Zn.useDeferredValue=function(Z,fe){return ce.H.useDeferredValue(Z,fe)},Zn.useEffect=function(Z,fe,ke){var Be=ce.H;if(typeof ke=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Be.useEffect(Z,fe)},Zn.useId=function(){return ce.H.useId()},Zn.useImperativeHandle=function(Z,fe,ke){return ce.H.useImperativeHandle(Z,fe,ke)},Zn.useInsertionEffect=function(Z,fe){return ce.H.useInsertionEffect(Z,fe)},Zn.useLayoutEffect=function(Z,fe){return ce.H.useLayoutEffect(Z,fe)},Zn.useMemo=function(Z,fe){return ce.H.useMemo(Z,fe)},Zn.useOptimistic=function(Z,fe){return ce.H.useOptimistic(Z,fe)},Zn.useReducer=function(Z,fe,ke){return ce.H.useReducer(Z,fe,ke)},Zn.useRef=function(Z){return ce.H.useRef(Z)},Zn.useState=function(Z){return ce.H.useState(Z)},Zn.useSyncExternalStore=function(Z,fe,ke){return ce.H.useSyncExternalStore(Z,fe,ke)},Zn.useTransition=function(){return ce.H.useTransition()},Zn.version="19.1.0",Zn}var g2;function vA(){return g2||(g2=1,Ky.exports=q8()),Ky.exports}var I=vA();const tt=Rm(I),H3=H8({__proto__:null,default:tt},[I]);var Qy={exports:{}},Ug={},Zy={exports:{}},Xy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2;function W8(){return b2||(b2=1,function(l){function c(le,_e){var me=le.length;le.push(_e);e:for(;0<me;){var Ee=me-1>>>1,Z=le[Ee];if(0<h(Z,_e))le[Ee]=_e,le[me]=Z,me=Ee;else break e}}function s(le){return le.length===0?null:le[0]}function o(le){if(le.length===0)return null;var _e=le[0],me=le.pop();if(me!==_e){le[0]=me;e:for(var Ee=0,Z=le.length,fe=Z>>>1;Ee<fe;){var ke=2*(Ee+1)-1,Be=le[ke],Ve=ke+1,nt=le[Ve];if(0>h(Be,me))Ve<Z&&0>h(nt,Be)?(le[Ee]=nt,le[Ve]=me,Ee=Ve):(le[Ee]=Be,le[ke]=me,Ee=ke);else if(Ve<Z&&0>h(nt,me))le[Ee]=nt,le[Ve]=me,Ee=Ve;else break e}}return _e}function h(le,_e){var me=le.sortIndex-_e.sortIndex;return me!==0?me:le.id-_e.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var g=performance;l.unstable_now=function(){return g.now()}}else{var _=Date,y=_.now();l.unstable_now=function(){return _.now()-y}}var v=[],N=[],S=1,D=null,j=3,B=!1,F=!1,H=!1,$=!1,K=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function ne(le){for(var _e=s(N);_e!==null;){if(_e.callback===null)o(N);else if(_e.startTime<=le)o(N),_e.sortIndex=_e.expirationTime,c(v,_e);else break;_e=s(N)}}function ce(le){if(H=!1,ne(le),!F)if(s(v)!==null)F=!0,se||(se=!0,we());else{var _e=s(N);_e!==null&&Me(ce,_e.startTime-le)}}var se=!1,q=-1,ue=5,oe=-1;function be(){return $?!0:!(l.unstable_now()-oe<ue)}function pe(){if($=!1,se){var le=l.unstable_now();oe=le;var _e=!0;try{e:{F=!1,H&&(H=!1,Q(q),q=-1),B=!0;var me=j;try{t:{for(ne(le),D=s(v);D!==null&&!(D.expirationTime>le&&be());){var Ee=D.callback;if(typeof Ee=="function"){D.callback=null,j=D.priorityLevel;var Z=Ee(D.expirationTime<=le);if(le=l.unstable_now(),typeof Z=="function"){D.callback=Z,ne(le),_e=!0;break t}D===s(v)&&o(v),ne(le)}else o(v);D=s(v)}if(D!==null)_e=!0;else{var fe=s(N);fe!==null&&Me(ce,fe.startTime-le),_e=!1}}break e}finally{D=null,j=me,B=!1}_e=void 0}}finally{_e?we():se=!1}}}var we;if(typeof ee=="function")we=function(){ee(pe)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,ye=je.port2;je.port1.onmessage=pe,we=function(){ye.postMessage(null)}}else we=function(){K(pe,0)};function Me(le,_e){q=K(function(){le(l.unstable_now())},_e)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(le){le.callback=null},l.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<le?Math.floor(1e3/le):5},l.unstable_getCurrentPriorityLevel=function(){return j},l.unstable_next=function(le){switch(j){case 1:case 2:case 3:var _e=3;break;default:_e=j}var me=j;j=_e;try{return le()}finally{j=me}},l.unstable_requestPaint=function(){$=!0},l.unstable_runWithPriority=function(le,_e){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var me=j;j=le;try{return _e()}finally{j=me}},l.unstable_scheduleCallback=function(le,_e,me){var Ee=l.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ee+me:Ee):me=Ee,le){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=me+Z,le={id:S++,callback:_e,priorityLevel:le,startTime:me,expirationTime:Z,sortIndex:-1},me>Ee?(le.sortIndex=me,c(N,le),s(v)===null&&le===s(N)&&(H?(Q(q),q=-1):H=!0,Me(ce,me-Ee))):(le.sortIndex=Z,c(v,le),F||B||(F=!0,se||(se=!0,we()))),le},l.unstable_shouldYield=be,l.unstable_wrapCallback=function(le){var _e=j;return function(){var me=j;j=_e;try{return le.apply(this,arguments)}finally{j=me}}}}(Xy)),Xy}var k2;function Y8(){return k2||(k2=1,Zy.exports=W8()),Zy.exports}var Jy={exports:{}},Wo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _2;function G8(){if(_2)return Wo;_2=1;var l=vA();function c(v){var N="https://react.dev/errors/"+v;if(1<arguments.length){N+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)N+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+N+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(c(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},h=Symbol.for("react.portal");function g(v,N,S){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:D==null?null:""+D,children:v,containerInfo:N,implementation:S}}var _=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,N){if(v==="font")return"";if(typeof N=="string")return N==="use-credentials"?N:""}return Wo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Wo.createPortal=function(v,N){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N||N.nodeType!==1&&N.nodeType!==9&&N.nodeType!==11)throw Error(c(299));return g(v,N,null,S)},Wo.flushSync=function(v){var N=_.T,S=o.p;try{if(_.T=null,o.p=2,v)return v()}finally{_.T=N,o.p=S,o.d.f()}},Wo.preconnect=function(v,N){typeof v=="string"&&(N?(N=N.crossOrigin,N=typeof N=="string"?N==="use-credentials"?N:"":void 0):N=null,o.d.C(v,N))},Wo.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},Wo.preinit=function(v,N){if(typeof v=="string"&&N&&typeof N.as=="string"){var S=N.as,D=y(S,N.crossOrigin),j=typeof N.integrity=="string"?N.integrity:void 0,B=typeof N.fetchPriority=="string"?N.fetchPriority:void 0;S==="style"?o.d.S(v,typeof N.precedence=="string"?N.precedence:void 0,{crossOrigin:D,integrity:j,fetchPriority:B}):S==="script"&&o.d.X(v,{crossOrigin:D,integrity:j,fetchPriority:B,nonce:typeof N.nonce=="string"?N.nonce:void 0})}},Wo.preinitModule=function(v,N){if(typeof v=="string")if(typeof N=="object"&&N!==null){if(N.as==null||N.as==="script"){var S=y(N.as,N.crossOrigin);o.d.M(v,{crossOrigin:S,integrity:typeof N.integrity=="string"?N.integrity:void 0,nonce:typeof N.nonce=="string"?N.nonce:void 0})}}else N==null&&o.d.M(v)},Wo.preload=function(v,N){if(typeof v=="string"&&typeof N=="object"&&N!==null&&typeof N.as=="string"){var S=N.as,D=y(S,N.crossOrigin);o.d.L(v,S,{crossOrigin:D,integrity:typeof N.integrity=="string"?N.integrity:void 0,nonce:typeof N.nonce=="string"?N.nonce:void 0,type:typeof N.type=="string"?N.type:void 0,fetchPriority:typeof N.fetchPriority=="string"?N.fetchPriority:void 0,referrerPolicy:typeof N.referrerPolicy=="string"?N.referrerPolicy:void 0,imageSrcSet:typeof N.imageSrcSet=="string"?N.imageSrcSet:void 0,imageSizes:typeof N.imageSizes=="string"?N.imageSizes:void 0,media:typeof N.media=="string"?N.media:void 0})}},Wo.preloadModule=function(v,N){if(typeof v=="string")if(N){var S=y(N.as,N.crossOrigin);o.d.m(v,{as:typeof N.as=="string"&&N.as!=="script"?N.as:void 0,crossOrigin:S,integrity:typeof N.integrity=="string"?N.integrity:void 0})}else o.d.m(v)},Wo.requestFormReset=function(v){o.d.r(v)},Wo.unstable_batchedUpdates=function(v,N){return v(N)},Wo.useFormState=function(v,N,S){return _.H.useFormState(v,N,S)},Wo.useFormStatus=function(){return _.H.useHostTransitionStatus()},Wo.version="19.1.0",Wo}var v2;function U3(){if(v2)return Jy.exports;v2=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(c){console.error(c)}}return l(),Jy.exports=G8(),Jy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2;function K8(){if(w2)return Ug;w2=1;var l=Y8(),c=vA(),s=U3();function o(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var k=2;k<arguments.length;k++)m+="&args[]="+encodeURIComponent(arguments[k])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function g(d){var m=d,k=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(k=m.return),d=m.return;while(d)}return m.tag===3?k:null}function _(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function y(d){if(g(d)!==d)throw Error(o(188))}function v(d){var m=d.alternate;if(!m){if(m=g(d),m===null)throw Error(o(188));return m!==d?null:d}for(var k=d,C=m;;){var M=k.return;if(M===null)break;var R=M.alternate;if(R===null){if(C=M.return,C!==null){k=C;continue}break}if(M.child===R.child){for(R=M.child;R;){if(R===k)return y(M),d;if(R===C)return y(M),m;R=R.sibling}throw Error(o(188))}if(k.return!==C.return)k=M,C=R;else{for(var J=!1,de=M.child;de;){if(de===k){J=!0,k=M,C=R;break}if(de===C){J=!0,C=M,k=R;break}de=de.sibling}if(!J){for(de=R.child;de;){if(de===k){J=!0,k=R,C=M;break}if(de===C){J=!0,C=R,k=M;break}de=de.sibling}if(!J)throw Error(o(189))}}if(k.alternate!==C)throw Error(o(190))}if(k.tag!==3)throw Error(o(188));return k.stateNode.current===k?d:m}function N(d){var m=d.tag;if(m===5||m===26||m===27||m===6)return d;for(d=d.child;d!==null;){if(m=N(d),m!==null)return m;d=d.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),pe=Symbol.iterator;function we(d){return d===null||typeof d!="object"?null:(d=pe&&d[pe]||d["@@iterator"],typeof d=="function"?d:null)}var je=Symbol.for("react.client.reference");function ye(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===je?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case F:return"Fragment";case $:return"Profiler";case H:return"StrictMode";case ce:return"Suspense";case se:return"SuspenseList";case oe:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case B:return"Portal";case ee:return(d.displayName||"Context")+".Provider";case Q:return(d._context.displayName||"Context")+".Consumer";case ne:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case q:return m=d.displayName||null,m!==null?m:ye(d.type)||"Memo";case ue:m=d._payload,d=d._init;try{return ye(d(m))}catch{}}return null}var Me=Array.isArray,le=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ee=[],Z=-1;function fe(d){return{current:d}}function ke(d){0>Z||(d.current=Ee[Z],Ee[Z]=null,Z--)}function Be(d,m){Z++,Ee[Z]=d.current,d.current=m}var Ve=fe(null),nt=fe(null),te=fe(null),Ce=fe(null);function qe(d,m){switch(Be(te,m),Be(nt,d),Be(Ve,null),m.nodeType){case 9:case 11:d=(d=m.documentElement)&&(d=d.namespaceURI)?Ck(d):0;break;default:if(d=m.tagName,m=m.namespaceURI)m=Ck(m),d=Ak(m,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}ke(Ve),Be(Ve,d)}function Ke(){ke(Ve),ke(nt),ke(te)}function Ie(d){d.memoizedState!==null&&Be(Ce,d);var m=Ve.current,k=Ak(m,d.type);m!==k&&(Be(nt,d),Be(Ve,k))}function rt(d){nt.current===d&&(ke(Ve),ke(nt)),Ce.current===d&&(ke(Ce),lm._currentValue=me)}var Ye=Object.prototype.hasOwnProperty,Te=l.unstable_scheduleCallback,ht=l.unstable_cancelCallback,ze=l.unstable_shouldYield,ut=l.unstable_requestPaint,Rt=l.unstable_now,Jt=l.unstable_getCurrentPriorityLevel,ot=l.unstable_ImmediatePriority,jt=l.unstable_UserBlockingPriority,Dt=l.unstable_NormalPriority,Qe=l.unstable_LowPriority,Mt=l.unstable_IdlePriority,Lt=l.log,$e=l.unstable_setDisableYieldValue,bt=null,$t=null;function mn(d){if(typeof Lt=="function"&&$e(d),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(bt,d)}catch{}}var Rn=Math.clz32?Math.clz32:br,yn=Math.log,ai=Math.LN2;function br(d){return d>>>=0,d===0?32:31-(yn(d)/ai|0)|0}var Ar=256,er=4194304;function Ii(d){var m=d&42;if(m!==0)return m;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function ii(d,m,k){var C=d.pendingLanes;if(C===0)return 0;var M=0,R=d.suspendedLanes,J=d.pingedLanes;d=d.warmLanes;var de=C&134217727;return de!==0?(C=de&~R,C!==0?M=Ii(C):(J&=de,J!==0?M=Ii(J):k||(k=de&~d,k!==0&&(M=Ii(k))))):(de=C&~R,de!==0?M=Ii(de):J!==0?M=Ii(J):k||(k=C&~d,k!==0&&(M=Ii(k)))),M===0?0:m!==0&&m!==M&&(m&R)===0&&(R=M&-M,k=m&-m,R>=k||R===32&&(k&4194048)!==0)?m:M}function Jn(d,m){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&m)===0}function Br(d,m){switch(d){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fi(){var d=Ar;return Ar<<=1,(Ar&4194048)===0&&(Ar=256),d}function or(){var d=er;return er<<=1,(er&62914560)===0&&(er=4194304),d}function kr(d){for(var m=[],k=0;31>k;k++)m.push(d);return m}function tr(d,m){d.pendingLanes|=m,m!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function Ue(d,m,k,C,M,R){var J=d.pendingLanes;d.pendingLanes=k,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=k,d.entangledLanes&=k,d.errorRecoveryDisabledLanes&=k,d.shellSuspendCounter=0;var de=d.entanglements,Ne=d.expirationTimes,Xe=d.hiddenUpdates;for(k=J&~k;0<k;){var gt=31-Rn(k),vt=1<<gt;de[gt]=0,Ne[gt]=-1;var et=Xe[gt];if(et!==null)for(Xe[gt]=null,gt=0;gt<et.length;gt++){var it=et[gt];it!==null&&(it.lane&=-536870913)}k&=~vt}C!==0&&qt(d,C,0),R!==0&&M===0&&d.tag!==0&&(d.suspendedLanes|=R&~(J&~m))}function qt(d,m,k){d.pendingLanes|=m,d.suspendedLanes&=~m;var C=31-Rn(m);d.entangledLanes|=m,d.entanglements[C]=d.entanglements[C]|1073741824|k&4194090}function lt(d,m){var k=d.entangledLanes|=m;for(d=d.entanglements;k;){var C=31-Rn(k),M=1<<C;M&m|d[C]&m&&(d[C]|=m),k&=~M}}function on(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function Re(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function Ot(){var d=_e.p;return d!==0?d:(d=window.event,d===void 0?32:Yk(d.type))}function pt(d,m){var k=_e.p;try{return _e.p=d,m()}finally{_e.p=k}}var Bt=Math.random().toString(36).slice(2),ln="__reactFiber$"+Bt,En="__reactProps$"+Bt,Dn="__reactContainer$"+Bt,hi="__reactEvents$"+Bt,ve="__reactListeners$"+Bt,dt="__reactHandles$"+Bt,xt="__reactResources$"+Bt,Se="__reactMarker$"+Bt;function Et(d){delete d[ln],delete d[En],delete d[hi],delete d[ve],delete d[dt]}function Tt(d){var m=d[ln];if(m)return m;for(var k=d.parentNode;k;){if(m=k[Dn]||k[ln]){if(k=m.alternate,m.child!==null||k!==null&&k.child!==null)for(d=fg(d);d!==null;){if(k=d[ln])return k;d=fg(d)}return m}d=k,k=d.parentNode}return null}function vn(d){if(d=d[ln]||d[Dn]){var m=d.tag;if(m===5||m===6||m===13||m===26||m===27||m===3)return d}return null}function fn(d){var m=d.tag;if(m===5||m===26||m===27||m===6)return d.stateNode;throw Error(o(33))}function Pn(d){var m=d[xt];return m||(m=d[xt]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function an(d){d[Se]=!0}var ar=new Set,Yn={};function Vn(d,m){Yr(d,m),Yr(d+"Capture",m)}function Yr(d,m){for(Yn[d]=m,d=0;d<m.length;d++)ar.add(m[d])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ys={},Zo={};function xc(d){return Ye.call(Zo,d)?!0:Ye.call(ys,d)?!1:So.test(d)?Zo[d]=!0:(ys[d]=!0,!1)}function ka(d,m,k){if(xc(m))if(k===null)d.removeAttribute(m);else{switch(typeof k){case"undefined":case"function":case"symbol":d.removeAttribute(m);return;case"boolean":var C=m.toLowerCase().slice(0,5);if(C!=="data-"&&C!=="aria-"){d.removeAttribute(m);return}}d.setAttribute(m,""+k)}}function uo(d,m,k){if(k===null)d.removeAttribute(m);else{switch(typeof k){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(m);return}d.setAttribute(m,""+k)}}function $s(d,m,k,C){if(C===null)d.removeAttribute(k);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(k);return}d.setAttributeNS(m,k,""+C)}}var Gr,ds;function us(d){if(Gr===void 0)try{throw Error()}catch(k){var m=k.stack.trim().match(/\n( *(at )?)/);Gr=m&&m[1]||"",ds=-1<k.stack.indexOf(`
    at`)?" (<anonymous>)":-1<k.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gr+d+ds}var Ra=!1;function ho(d,m){if(!d||Ra)return"";Ra=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(m){var vt=function(){throw Error()};if(Object.defineProperty(vt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(vt,[])}catch(it){var et=it}Reflect.construct(d,[],vt)}else{try{vt.call()}catch(it){et=it}d.call(vt.prototype)}}else{try{throw Error()}catch(it){et=it}(vt=d())&&typeof vt.catch=="function"&&vt.catch(function(){})}}catch(it){if(it&&et&&typeof it.stack=="string")return[it.stack,et.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=C.DetermineComponentFrameRoot(),J=R[0],de=R[1];if(J&&de){var Ne=J.split(`
`),Xe=de.split(`
`);for(M=C=0;C<Ne.length&&!Ne[C].includes("DetermineComponentFrameRoot");)C++;for(;M<Xe.length&&!Xe[M].includes("DetermineComponentFrameRoot");)M++;if(C===Ne.length||M===Xe.length)for(C=Ne.length-1,M=Xe.length-1;1<=C&&0<=M&&Ne[C]!==Xe[M];)M--;for(;1<=C&&0<=M;C--,M--)if(Ne[C]!==Xe[M]){if(C!==1||M!==1)do if(C--,M--,0>M||Ne[C]!==Xe[M]){var gt=`
`+Ne[C].replace(" at new "," at ");return d.displayName&&gt.includes("<anonymous>")&&(gt=gt.replace("<anonymous>",d.displayName)),gt}while(1<=C&&0<=M);break}}}finally{Ra=!1,Error.prepareStackTrace=k}return(k=d?d.displayName||d.name:"")?us(k):""}function Gn(d){switch(d.tag){case 26:case 27:case 5:return us(d.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 15:return ho(d.type,!1);case 11:return ho(d.type.render,!1);case 1:return ho(d.type,!0);case 31:return us("Activity");default:return""}}function bi(d){try{var m="";do m+=Gn(d),d=d.return;while(d);return m}catch(k){return`
Error generating stack: `+k.message+`
`+k.stack}}function _r(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function jo(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Xo(d){var m=jo(d)?"checked":"value",k=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),C=""+d[m];if(!d.hasOwnProperty(m)&&typeof k<"u"&&typeof k.get=="function"&&typeof k.set=="function"){var M=k.get,R=k.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return M.call(this)},set:function(J){C=""+J,R.call(this,J)}}),Object.defineProperty(d,m,{enumerable:k.enumerable}),{getValue:function(){return C},setValue:function(J){C=""+J},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function Kr(d){d._valueTracker||(d._valueTracker=Xo(d))}function Sn(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var k=m.getValue(),C="";return d&&(C=jo(d)?d.checked?"true":"false":d.value),d=C,d!==k?(m.setValue(d),!0):!1}function Kn(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var Nr=/[\n"\\]/g;function Di(d){return d.replace(Nr,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function Ai(d,m,k,C,M,R,J,de){d.name="",J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?d.type=J:d.removeAttribute("type"),m!=null?J==="number"?(m===0&&d.value===""||d.value!=m)&&(d.value=""+_r(m)):d.value!==""+_r(m)&&(d.value=""+_r(m)):J!=="submit"&&J!=="reset"||d.removeAttribute("value"),m!=null?qs(d,J,_r(m)):k!=null?qs(d,J,_r(k)):C!=null&&d.removeAttribute("value"),M==null&&R!=null&&(d.defaultChecked=!!R),M!=null&&(d.checked=M&&typeof M!="function"&&typeof M!="symbol"),de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"?d.name=""+_r(de):d.removeAttribute("name")}function za(d,m,k,C,M,R,J,de){if(R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(d.type=R),m!=null||k!=null){if(!(R!=="submit"&&R!=="reset"||m!=null))return;k=k!=null?""+_r(k):"",m=m!=null?""+_r(m):k,de||m===d.value||(d.value=m),d.defaultValue=m}C=C??M,C=typeof C!="function"&&typeof C!="symbol"&&!!C,d.checked=de?d.checked:!!C,d.defaultChecked=!!C,J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(d.name=J)}function qs(d,m,k){m==="number"&&Kn(d.ownerDocument)===d||d.defaultValue===""+k||(d.defaultValue=""+k)}function Hi(d,m,k,C){if(d=d.options,m){m={};for(var M=0;M<k.length;M++)m["$"+k[M]]=!0;for(k=0;k<d.length;k++)M=m.hasOwnProperty("$"+d[k].value),d[k].selected!==M&&(d[k].selected=M),M&&C&&(d[k].defaultSelected=!0)}else{for(k=""+_r(k),m=null,M=0;M<d.length;M++){if(d[M].value===k){d[M].selected=!0,C&&(d[M].defaultSelected=!0);return}m!==null||d[M].disabled||(m=d[M])}m!==null&&(m.selected=!0)}}function $n(d,m,k){if(m!=null&&(m=""+_r(m),m!==d.value&&(d.value=m),k==null)){d.defaultValue!==m&&(d.defaultValue=m);return}d.defaultValue=k!=null?""+_r(k):""}function Pr(d,m,k,C){if(m==null){if(C!=null){if(k!=null)throw Error(o(92));if(Me(C)){if(1<C.length)throw Error(o(93));C=C[0]}k=C}k==null&&(k=""),m=k}k=_r(m),d.defaultValue=k,C=d.textContent,C===k&&C!==""&&C!==null&&(d.value=C)}function Er(d,m){if(m){var k=d.firstChild;if(k&&k===d.lastChild&&k.nodeType===3){k.nodeValue=m;return}}d.textContent=m}var hs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ws(d,m,k){var C=m.indexOf("--")===0;k==null||typeof k=="boolean"||k===""?C?d.setProperty(m,""):m==="float"?d.cssFloat="":d[m]="":C?d.setProperty(m,k):typeof k!="number"||k===0||hs.has(m)?m==="float"?d.cssFloat=k:d[m]=(""+k).trim():d[m]=k+"px"}function xs(d,m,k){if(m!=null&&typeof m!="object")throw Error(o(62));if(d=d.style,k!=null){for(var C in k)!k.hasOwnProperty(C)||m!=null&&m.hasOwnProperty(C)||(C.indexOf("--")===0?d.setProperty(C,""):C==="float"?d.cssFloat="":d[C]="");for(var M in m)C=m[M],m.hasOwnProperty(M)&&k[M]!==C&&Ws(d,M,C)}else for(var R in m)m.hasOwnProperty(R)&&Ws(d,R,m[R])}function Ys(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tn(d){return Ct.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}var Tn=null;function ki(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var zi=null,_i=null;function dl(d){var m=vn(d);if(m&&(d=m.stateNode)){var k=d[En]||null;e:switch(d=m.stateNode,m.type){case"input":if(Ai(d,k.value,k.defaultValue,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name),m=k.name,k.type==="radio"&&m!=null){for(k=d;k.parentNode;)k=k.parentNode;for(k=k.querySelectorAll('input[name="'+Di(""+m)+'"][type="radio"]'),m=0;m<k.length;m++){var C=k[m];if(C!==d&&C.form===d.form){var M=C[En]||null;if(!M)throw Error(o(90));Ai(C,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name)}}for(m=0;m<k.length;m++)C=k[m],C.form===d.form&&Sn(C)}break e;case"textarea":$n(d,k.value,k.defaultValue);break e;case"select":m=k.value,m!=null&&Hi(d,!!k.multiple,m,!1)}}}var Zt=!1;function Ui(d,m,k){if(Zt)return d(m,k);Zt=!0;try{var C=d(m);return C}finally{if(Zt=!1,(zi!==null||_i!==null)&&(Zh(),zi&&(m=zi,d=_i,_i=zi=null,dl(m),d)))for(m=0;m<d.length;m++)dl(d[m])}}function ei(d,m){var k=d.stateNode;if(k===null)return null;var C=k[En]||null;if(C===null)return null;k=C[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(d=d.type,C=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!C;break e;default:d=!1}if(d)return null;if(k&&typeof k!="function")throw Error(o(231,m,typeof k));return k}var ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mo=!1;if(ms)try{var _a={};Object.defineProperty(_a,"passive",{get:function(){mo=!0}}),window.addEventListener("test",_a,_a),window.removeEventListener("test",_a,_a)}catch{mo=!1}var Qr=null,fo=null,Gs=null;function Do(){if(Gs)return Gs;var d,m=fo,k=m.length,C,M="value"in Qr?Qr.value:Qr.textContent,R=M.length;for(d=0;d<k&&m[d]===M[d];d++);var J=k-d;for(C=1;C<=J&&m[k-C]===M[R-C];C++);return Gs=M.slice(d,1<C?1-C:void 0)}function Mn(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function Cs(){return!0}function Hl(){return!1}function Sr(d){function m(k,C,M,R,J){this._reactName=k,this._targetInst=M,this.type=C,this.nativeEvent=R,this.target=J,this.currentTarget=null;for(var de in d)d.hasOwnProperty(de)&&(k=d[de],this[de]=k?k(R):R[de]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Cs:Hl,this.isPropagationStopped=Hl,this}return S(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var k=this.nativeEvent;k&&(k.preventDefault?k.preventDefault():typeof k.returnValue!="unknown"&&(k.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var k=this.nativeEvent;k&&(k.stopPropagation?k.stopPropagation():typeof k.cancelBubble!="unknown"&&(k.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),m}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jo=Sr(As),fs=S({},As,{view:0,detail:0}),wd=Sr(fs),To,zn,Fa,Zr=S({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ul,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Fa&&(Fa&&d.type==="mousemove"?(To=d.screenX-Fa.screenX,zn=d.screenY-Fa.screenY):zn=To=0,Fa=d),To)},movementY:function(d){return"movementY"in d?d.movementY:zn}}),Ns=Sr(Zr),xu=S({},Zr,{dataTransfer:0}),Cu=Sr(xu),Cc=S({},fs,{relatedTarget:0}),Va=Sr(Cc),Ha=S({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=Sr(Ha),yd=S({},As,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Ac=Sr(yd),yh=S({},As,{data:0}),Rr=Sr(yh),Nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ks={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xd(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=Ks[d])?!!m[d]:!1}function Ul(){return xd}var ul=S({},fs,{key:function(d){if(d.key){var m=Nu[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=Mn(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Nc[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ul,charCode:function(d){return d.type==="keypress"?Mn(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Mn(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Cd=Sr(ul),Ad=S({},Zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mo=Sr(Ad),Nd=S({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ul}),Eu=Sr(Nd),hl=S({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),xh=Sr(hl),Ed=S({},Zr,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Sd=Sr(Ed),Ec=S({},As,{newState:0,oldState:0}),ea=Sr(Ec),Sc=[9,13,27,32],Ua=ms&&"CompositionEvent"in window,$i=null;ms&&"documentMode"in document&&($i=document.documentMode);var Io=ms&&"TextEvent"in window&&!$i,$l=ms&&(!Ua||$i&&8<$i&&11>=$i),$a=" ",ql=!1;function Wl(d,m){switch(d){case"keyup":return Sc.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jd(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var qa=!1;function Dd(d,m){switch(d){case"compositionend":return jd(m);case"keypress":return m.which!==32?null:(ql=!0,$a);case"textInput":return d=m.data,d===$a&&ql?null:d;default:return null}}function Ch(d,m){if(qa)return d==="compositionend"||!Ua&&Wl(d,m)?(d=Do(),Gs=fo=Qr=null,qa=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return $l&&m.locale!=="ko"?null:m.data;default:return null}}var po={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wa(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!po[d.type]:m==="textarea"}function Qs(d,m,k,C){zi?_i?_i.push(C):_i=[C]:zi=C,m=Ni(m,"onChange"),0<m.length&&(k=new Jo("onChange","change",null,k,C),d.push({event:k,listeners:m}))}var ps=null,Zs=null;function go(d){ag(d,0)}function jc(d){var m=fn(d);if(Sn(m))return d}function ml(d,m){if(d==="change")return m}var Ya=!1;if(ms){var bo;if(ms){var Td="oninput"in document;if(!Td){var ta=document.createElement("div");ta.setAttribute("oninput","return;"),Td=typeof ta.oninput=="function"}bo=Td}else bo=!1;Ya=bo&&(!document.documentMode||9<document.documentMode)}function fl(){ps&&(ps.detachEvent("onpropertychange",Md),Zs=ps=null)}function Md(d){if(d.propertyName==="value"&&jc(Zs)){var m=[];Qs(m,Zs,d,ki(d)),Ui(go,m)}}function Dc(d,m,k){d==="focusin"?(fl(),ps=m,Zs=k,ps.attachEvent("onpropertychange",Md)):d==="focusout"&&fl()}function Su(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return jc(Zs)}function ko(d,m){if(d==="click")return jc(m)}function ju(d,m){if(d==="input"||d==="change")return jc(m)}function Oo(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var gs=typeof Object.is=="function"?Object.is:Oo;function zr(d,m){if(gs(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var k=Object.keys(d),C=Object.keys(m);if(k.length!==C.length)return!1;for(C=0;C<k.length;C++){var M=k[C];if(!Ye.call(m,M)||!gs(d[M],m[M]))return!1}return!0}function Fr(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Tc(d,m){var k=Fr(d);d=0;for(var C;k;){if(k.nodeType===3){if(C=d+k.textContent.length,d<=m&&C>=m)return{node:k,offset:m-d};d=C}e:{for(;k;){if(k.nextSibling){k=k.nextSibling;break e}k=k.parentNode}k=void 0}k=Fr(k)}}function Mc(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?Mc(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function pl(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var m=Kn(d.document);m instanceof d.HTMLIFrameElement;){try{var k=typeof m.contentWindow.location.href=="string"}catch{k=!1}if(k)d=m.contentWindow;else break;m=Kn(d.document)}return m}function Ga(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}var Ic=ms&&"documentMode"in document&&11>=document.documentMode,Xs=null,Ka=null,va=null,pi=!1;function Oc(d,m,k){var C=k.window===k?k.document:k.nodeType===9?k:k.ownerDocument;pi||Xs==null||Xs!==Kn(C)||(C=Xs,"selectionStart"in C&&Ga(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),va&&zr(va,C)||(va=C,C=Ni(Ka,"onSelect"),0<C.length&&(m=new Jo("onSelect","select",null,m,k),d.push({event:m,listeners:C}),m.target=Xs)))}function Es(d,m){var k={};return k[d.toLowerCase()]=m.toLowerCase(),k["Webkit"+d]="webkit"+m,k["Moz"+d]="moz"+m,k}var Ss={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionrun:Es("Transition","TransitionRun"),transitionstart:Es("Transition","TransitionStart"),transitioncancel:Es("Transition","TransitionCancel"),transitionend:Es("Transition","TransitionEnd")},Qa={},Id={};ms&&(Id=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function wa(d){if(Qa[d])return Qa[d];if(!Ss[d])return d;var m=Ss[d],k;for(k in m)if(m.hasOwnProperty(k)&&k in Id)return Qa[d]=m[k];return d}var Xr=wa("animationend"),nr=wa("animationiteration"),Za=wa("animationstart"),Js=wa("transitionrun"),Yl=wa("transitionstart"),Od=wa("transitioncancel"),Gl=wa("transitionend"),qi=new Map,Lo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lo.push("scrollEnd");function eo(d,m){qi.set(d,m),Vn(m,[d])}var ya=new WeakMap;function pn(d,m){if(typeof d=="object"&&d!==null){var k=ya.get(d);return k!==void 0?k:(m={value:d,source:m,stack:bi(m)},ya.set(d,m),m)}return{value:d,source:m,stack:bi(m)}}var jr=[],Xa=0,js=0;function gl(){for(var d=Xa,m=js=Xa=0;m<d;){var k=jr[m];jr[m++]=null;var C=jr[m];jr[m++]=null;var M=jr[m];jr[m++]=null;var R=jr[m];if(jr[m++]=null,C!==null&&M!==null){var J=C.pending;J===null?M.next=M:(M.next=J.next,J.next=M),C.pending=M}R!==0&&vo(k,M,R)}}function Oi(d,m,k,C){jr[Xa++]=d,jr[Xa++]=m,jr[Xa++]=k,jr[Xa++]=C,js|=C,d.lanes|=C,d=d.alternate,d!==null&&(d.lanes|=C)}function _o(d,m,k,C){return Oi(d,m,k,C),to(d)}function Jr(d,m){return Oi(d,null,null,m),to(d)}function vo(d,m,k){d.lanes|=k;var C=d.alternate;C!==null&&(C.lanes|=k);for(var M=!1,R=d.return;R!==null;)R.childLanes|=k,C=R.alternate,C!==null&&(C.childLanes|=k),R.tag===22&&(d=R.stateNode,d===null||d._visibility&1||(M=!0)),d=R,R=R.return;return d.tag===3?(R=d.stateNode,M&&m!==null&&(M=31-Rn(k),d=R.hiddenUpdates,C=d[M],C===null?d[M]=[m]:C.push(m),m.lane=k|536870912),R):null}function to(d){if(50<Ku)throw Ku=0,bf=null,Error(o(185));for(var m=d.return;m!==null;)d=m,m=d.return;return d.tag===3?d.stateNode:null}var xa={};function bl(d,m,k,C){this.tag=d,this.key=k,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(d,m,k,C){return new bl(d,m,k,C)}function Kl(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Ds(d,m){var k=d.alternate;return k===null?(k=dr(d.tag,m,d.key,d.mode),k.elementType=d.elementType,k.type=d.type,k.stateNode=d.stateNode,k.alternate=d,d.alternate=k):(k.pendingProps=m,k.type=d.type,k.flags=0,k.subtreeFlags=0,k.deletions=null),k.flags=d.flags&65011712,k.childLanes=d.childLanes,k.lanes=d.lanes,k.child=d.child,k.memoizedProps=d.memoizedProps,k.memoizedState=d.memoizedState,k.updateQueue=d.updateQueue,m=d.dependencies,k.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},k.sibling=d.sibling,k.index=d.index,k.ref=d.ref,k.refCleanup=d.refCleanup,k}function Lc(d,m){d.flags&=65011714;var k=d.alternate;return k===null?(d.childLanes=0,d.lanes=m,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=k.childLanes,d.lanes=k.lanes,d.child=k.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=k.memoizedProps,d.memoizedState=k.memoizedState,d.updateQueue=k.updateQueue,d.type=k.type,m=k.dependencies,d.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),d}function kl(d,m,k,C,M,R){var J=0;if(C=d,typeof d=="function")Kl(d)&&(J=1);else if(typeof d=="string")J=Hw(d,k,Ve.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case oe:return d=dr(31,k,m,M),d.elementType=oe,d.lanes=R,d;case F:return wo(k.children,M,R,m);case H:J=8,M|=24;break;case $:return d=dr(12,k,m,M|2),d.elementType=$,d.lanes=R,d;case ce:return d=dr(13,k,m,M),d.elementType=ce,d.lanes=R,d;case se:return d=dr(19,k,m,M),d.elementType=se,d.lanes=R,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case K:case ee:J=10;break e;case Q:J=9;break e;case ne:J=11;break e;case q:J=14;break e;case ue:J=16,C=null;break e}J=29,k=Error(o(130,d===null?"null":typeof d,"")),C=null}return m=dr(J,k,m,M),m.elementType=d,m.type=C,m.lanes=R,m}function wo(d,m,k,C){return d=dr(7,d,C,m),d.lanes=k,d}function _l(d,m,k){return d=dr(6,d,null,m),d.lanes=k,d}function Bc(d,m,k){return m=dr(4,d.children!==null?d.children:[],d.key,m),m.lanes=k,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}var na=[],Ca=0,p=null,x=0,T=[],V=0,G=null,re=1,Ae="";function We(d,m){na[Ca++]=x,na[Ca++]=p,p=d,x=m}function Fe(d,m,k){T[V++]=re,T[V++]=Ae,T[V++]=G,G=d;var C=re;d=Ae;var M=32-Rn(C)-1;C&=~(1<<M),k+=1;var R=32-Rn(m)+M;if(30<R){var J=M-M%5;R=(C&(1<<J)-1).toString(32),C>>=J,M-=J,re=1<<32-Rn(m)+M|k<<M|C,Ae=R+d}else re=1<<R|k<<M|C,Ae=d}function Nt(d){d.return!==null&&(We(d,1),Fe(d,1,0))}function zt(d){for(;d===p;)p=na[--Ca],na[Ca]=null,x=na[--Ca],na[Ca]=null;for(;d===G;)G=T[--V],T[V]=null,Ae=T[--V],T[V]=null,re=T[--V],T[V]=null}var Gt=null,rn=null,kn=!1,gn=null,vi=!1,ur=Error(o(519));function Ts(d){var m=Error(o(418,""));throw vl(pn(m,d)),ur}function Ld(d){var m=d.stateNode,k=d.type,C=d.memoizedProps;switch(m[ln]=d,m[En]=C,k){case"dialog":Un("cancel",m),Un("close",m);break;case"iframe":case"object":case"embed":Un("load",m);break;case"video":case"audio":for(k=0;k<zs.length;k++)Un(zs[k],m);break;case"source":Un("error",m);break;case"img":case"image":case"link":Un("error",m),Un("load",m);break;case"details":Un("toggle",m);break;case"input":Un("invalid",m),za(m,C.value,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name,!0),Kr(m);break;case"select":Un("invalid",m);break;case"textarea":Un("invalid",m),Pr(m,C.value,C.defaultValue,C.children),Kr(m)}k=C.children,typeof k!="string"&&typeof k!="number"&&typeof k!="bigint"||m.textContent===""+k||C.suppressHydrationWarning===!0||Ao(m.textContent,k)?(C.popover!=null&&(Un("beforetoggle",m),Un("toggle",m)),C.onScroll!=null&&Un("scroll",m),C.onScrollEnd!=null&&Un("scrollend",m),C.onClick!=null&&(m.onclick=ja),m=!0):m=!1,m||Ts(d)}function Du(d){for(Gt=d.return;Gt;)switch(Gt.tag){case 5:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:Gt=Gt.return}}function Ql(d){if(d!==Gt)return!1;if(!kn)return Du(d),kn=!0,!1;var m=d.tag,k;if((k=m!==3&&m!==27)&&((k=m===5)&&(k=d.type,k=!(k!=="form"&&k!=="button")||Af(d.type,d.memoizedProps)),k=!k),k&&rn&&Ts(d),Du(d),m===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));e:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8)if(k=d.data,k==="/$"){if(m===0){rn=Da(d.nextSibling);break e}m--}else k!=="$"&&k!=="$!"&&k!=="$?"||m++;d=d.nextSibling}rn=null}}else m===27?(m=rn,nd(d.type)?(d=mg,mg=null,rn=d):rn=m):rn=Gt?Da(d.stateNode.nextSibling):null;return!0}function Bo(){rn=Gt=null,kn=!1}function es(){var d=gn;return d!==null&&(Rs===null?Rs=d:Rs.push.apply(Rs,d),gn=null),d}function vl(d){gn===null?gn=[d]:gn.push(d)}var Wi=fe(null),Po=null,ia=null;function Aa(d,m,k){Be(Wi,m._currentValue),m._currentValue=k}function ra(d){d._currentValue=Wi.current,ke(Wi)}function Pc(d,m,k){for(;d!==null;){var C=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,C!==null&&(C.childLanes|=m)):C!==null&&(C.childLanes&m)!==m&&(C.childLanes|=m),d===k)break;d=d.return}}function Rc(d,m,k,C){var M=d.child;for(M!==null&&(M.return=d);M!==null;){var R=M.dependencies;if(R!==null){var J=M.child;R=R.firstContext;e:for(;R!==null;){var de=R;R=M;for(var Ne=0;Ne<m.length;Ne++)if(de.context===m[Ne]){R.lanes|=k,de=R.alternate,de!==null&&(de.lanes|=k),Pc(R.return,k,d),C||(J=null);break e}R=de.next}}else if(M.tag===18){if(J=M.return,J===null)throw Error(o(341));J.lanes|=k,R=J.alternate,R!==null&&(R.lanes|=k),Pc(J,k,d),J=null}else J=M.child;if(J!==null)J.return=M;else for(J=M;J!==null;){if(J===d){J=null;break}if(M=J.sibling,M!==null){M.return=J.return,J=M;break}J=J.return}M=J}}function wl(d,m,k,C){d=null;for(var M=m,R=!1;M!==null;){if(!R){if((M.flags&524288)!==0)R=!0;else if((M.flags&262144)!==0)break}if(M.tag===10){var J=M.alternate;if(J===null)throw Error(o(387));if(J=J.memoizedProps,J!==null){var de=M.type;gs(M.pendingProps.value,J.value)||(d!==null?d.push(de):d=[de])}}else if(M===Ce.current){if(J=M.alternate,J===null)throw Error(o(387));J.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(d!==null?d.push(lm):d=[lm])}M=M.return}d!==null&&Rc(m,d,k,C),m.flags|=262144}function Tu(d){for(d=d.firstContext;d!==null;){if(!gs(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function Ja(d){Po=d,ia=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function vr(d){return yl(Po,d)}function Bd(d,m){return Po===null&&Ja(d),yl(d,m)}function yl(d,m){var k=m._currentValue;if(m={context:m,memoizedValue:k,next:null},ia===null){if(d===null)throw Error(o(308));ia=m,d.dependencies={lanes:0,firstContext:m},d.flags|=524288}else ia=ia.next=m;return k}var Ah=typeof AbortController<"u"?AbortController:function(){var d=[],m=this.signal={aborted:!1,addEventListener:function(k,C){d.push(C)}};this.abort=function(){m.aborted=!0,d.forEach(function(k){return k()})}},Nh=l.unstable_scheduleCallback,Ro=l.unstable_NormalPriority,qn={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hr(){return{controller:new Ah,data:new Map,refCount:0}}function mr(d){d.refCount--,d.refCount===0&&Nh(Ro,function(){d.controller.abort()})}var no=null,sa=0,Ms=0,xl=null;function vp(d,m){if(no===null){var k=no=[];sa=0,Ms=xf(),xl={status:"pending",value:void 0,then:function(C){k.push(C)}}}return sa++,m.then(Eh,Eh),m}function Eh(){if(--sa===0&&no!==null){xl!==null&&(xl.status="fulfilled");var d=no;no=null,Ms=0,xl=null;for(var m=0;m<d.length;m++)(0,d[m])()}}function zo(d,m){var k=[],C={status:"pending",value:null,reason:null,then:function(M){k.push(M)}};return d.then(function(){C.status="fulfilled",C.value=m;for(var M=0;M<k.length;M++)(0,k[M])(m)},function(M){for(C.status="rejected",C.reason=M,M=0;M<k.length;M++)(0,k[M])(void 0)}),C}var Fo=le.S;le.S=function(d,m){typeof m=="object"&&m!==null&&typeof m.then=="function"&&vp(d,m),Fo!==null&&Fo(d,m)};var oa=fe(null);function Sh(){var d=oa.current;return d!==null?d:Gi.pooledCache}function Pd(d,m){m===null?Be(oa,oa.current):Be(oa,m.pool)}function zc(){var d=Sh();return d===null?null:{parent:qn._currentValue,pool:d}}var el=Error(o(460)),Rd=Error(o(474)),Mu=Error(o(542)),jh={then:function(){}};function Zl(d){return d=d.status,d==="fulfilled"||d==="rejected"}function ie(){}function P(d,m,k){switch(k=d[k],k===void 0?d.push(m):k!==m&&(m.then(ie,ie),m=k),m.status){case"fulfilled":return m.value;case"rejected":throw d=m.reason,Pe(d),d;default:if(typeof m.status=="string")m.then(ie,ie);else{if(d=Gi,d!==null&&100<d.shellSuspendCounter)throw Error(o(482));d=m,d.status="pending",d.then(function(C){if(m.status==="pending"){var M=m;M.status="fulfilled",M.value=C}},function(C){if(m.status==="pending"){var M=m;M.status="rejected",M.reason=C}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw d=m.reason,Pe(d),d}throw Y=m,el}}var Y=null;function he(){if(Y===null)throw Error(o(459));var d=Y;return Y=null,d}function Pe(d){if(d===el||d===Mu)throw Error(o(483))}var Le=!1;function st(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wt(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function It(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function Wt(d,m,k){var C=d.updateQueue;if(C===null)return null;if(C=C.shared,(Pi&2)!==0){var M=C.pending;return M===null?m.next=m:(m.next=M.next,M.next=m),C.pending=m,m=to(d),vo(d,null,k),m}return Oi(d,C,m,k),to(d)}function Kt(d,m,k){if(m=m.updateQueue,m!==null&&(m=m.shared,(k&4194048)!==0)){var C=m.lanes;C&=d.pendingLanes,k|=C,m.lanes=k,lt(d,k)}}function Yt(d,m){var k=d.updateQueue,C=d.alternate;if(C!==null&&(C=C.updateQueue,k===C)){var M=null,R=null;if(k=k.firstBaseUpdate,k!==null){do{var J={lane:k.lane,tag:k.tag,payload:k.payload,callback:null,next:null};R===null?M=R=J:R=R.next=J,k=k.next}while(k!==null);R===null?M=R=m:R=R.next=m}else M=R=m;k={baseState:C.baseState,firstBaseUpdate:M,lastBaseUpdate:R,shared:C.shared,callbacks:C.callbacks},d.updateQueue=k;return}d=k.lastBaseUpdate,d===null?k.firstBaseUpdate=m:d.next=m,k.lastBaseUpdate=m}var mt=!1;function hn(){if(mt){var d=xl;if(d!==null)throw d}}function xn(d,m,k,C){mt=!1;var M=d.updateQueue;Le=!1;var R=M.firstBaseUpdate,J=M.lastBaseUpdate,de=M.shared.pending;if(de!==null){M.shared.pending=null;var Ne=de,Xe=Ne.next;Ne.next=null,J===null?R=Xe:J.next=Xe,J=Ne;var gt=d.alternate;gt!==null&&(gt=gt.updateQueue,de=gt.lastBaseUpdate,de!==J&&(de===null?gt.firstBaseUpdate=Xe:de.next=Xe,gt.lastBaseUpdate=Ne))}if(R!==null){var vt=M.baseState;J=0,gt=Xe=Ne=null,de=R;do{var et=de.lane&-536870913,it=et!==de.lane;if(it?(di&et)===et:(C&et)===et){et!==0&&et===Ms&&(mt=!0),gt!==null&&(gt=gt.next={lane:0,tag:de.tag,payload:de.payload,callback:null,next:null});e:{var On=d,_n=de;et=m;var Fi=k;switch(_n.tag){case 1:if(On=_n.payload,typeof On=="function"){vt=On.call(Fi,vt,et);break e}vt=On;break e;case 3:On.flags=On.flags&-65537|128;case 0:if(On=_n.payload,et=typeof On=="function"?On.call(Fi,vt,et):On,et==null)break e;vt=S({},vt,et);break e;case 2:Le=!0}}et=de.callback,et!==null&&(d.flags|=64,it&&(d.flags|=8192),it=M.callbacks,it===null?M.callbacks=[et]:it.push(et))}else it={lane:et,tag:de.tag,payload:de.payload,callback:de.callback,next:null},gt===null?(Xe=gt=it,Ne=vt):gt=gt.next=it,J|=et;if(de=de.next,de===null){if(de=M.shared.pending,de===null)break;it=de,de=it.next,it.next=null,M.lastBaseUpdate=it,M.shared.pending=null}}while(!0);gt===null&&(Ne=vt),M.baseState=Ne,M.firstBaseUpdate=Xe,M.lastBaseUpdate=gt,R===null&&(M.shared.lanes=0),Sl|=J,d.lanes=J,d.memoizedState=vt}}function St(d,m){if(typeof d!="function")throw Error(o(191,d));d.call(m)}function Cn(d,m){var k=d.callbacks;if(k!==null)for(d.callbacks=null,d=0;d<k.length;d++)St(k[d],m)}var ri=fe(null),mi=fe(0);function Hn(d,m){d=cc,Be(mi,d),Be(ri,m),cc=d|m.baseLanes}function at(){Be(mi,cc),Be(ri,ri.current)}function Ln(){cc=mi.current,ke(ri),ke(mi)}var Vt=0,Xt=null,cn=null,wn=null,Yi=!1,Vr=!1,ts=!1,Dr=0,Tr=0,ns=null,ir=0;function wi(){throw Error(o(321))}function Is(d,m){if(m===null)return!1;for(var k=0;k<m.length&&k<d.length;k++)if(!gs(d[k],m[k]))return!1;return!0}function tl(d,m,k,C,M,R){return Vt=R,Xt=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,le.H=d===null||d.memoizedState===null?Jm:ef,ts=!1,R=k(C,M),ts=!1,Vr&&(R=Ti(m,k,C,M)),wr(d),R}function wr(d){le.H=Xm;var m=cn!==null&&cn.next!==null;if(Vt=0,wn=cn=Xt=null,Yi=!1,Tr=0,ns=null,m)throw Error(o(300));d===null||is||(d=d.dependencies,d!==null&&Tu(d)&&(is=!0))}function Ti(d,m,k,C){Xt=d;var M=0;do{if(Vr&&(ns=null),Tr=0,Vr=!1,25<=M)throw Error(o(301));if(M+=1,wn=cn=null,d.updateQueue!=null){var R=d.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}le.H=vw,R=m(k,C)}while(Vr);return R}function Os(){var d=le.H,m=d.useState()[0];return m=typeof m.then=="function"?aa(m):m,d=d.useState()[0],(cn!==null?cn.memoizedState:null)!==d&&(Xt.flags|=1024),m}function io(){var d=Dr!==0;return Dr=0,d}function Vo(d,m,k){m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~k}function Xl(d){if(Yi){for(d=d.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Yi=!1}Vt=0,wn=cn=Xt=null,Vr=!1,Tr=Dr=0,ns=null}function Ls(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Xt.memoizedState=wn=d:wn=wn.next=d,wn}function Li(){if(cn===null){var d=Xt.alternate;d=d!==null?d.memoizedState:null}else d=cn.next;var m=wn===null?Xt.memoizedState:wn.next;if(m!==null)wn=m,cn=d;else{if(d===null)throw Xt.alternate===null?Error(o(467)):Error(o(310));cn=d,d={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},wn===null?Xt.memoizedState=wn=d:wn=wn.next=d}return wn}function Jl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function aa(d){var m=Tr;return Tr+=1,ns===null&&(ns=[]),d=P(ns,d,m),m=Xt,(wn===null?m.memoizedState:wn.next)===null&&(m=m.alternate,le.H=m===null||m.memoizedState===null?Jm:ef),d}function gi(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return aa(d);if(d.$$typeof===ee)return vr(d)}throw Error(o(438,String(d)))}function ro(d){var m=null,k=Xt.updateQueue;if(k!==null&&(m=k.memoCache),m==null){var C=Xt.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(m={data:C.data.map(function(M){return M.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),k===null&&(k=Jl(),Xt.updateQueue=k),k.memoCache=m,k=m.data[m.index],k===void 0)for(k=m.data[m.index]=Array(d),C=0;C<d;C++)k[C]=be;return m.index++,k}function Hr(d,m){return typeof m=="function"?m(d):m}function Fc(d){var m=Li();return zd(m,cn,d)}function zd(d,m,k){var C=d.queue;if(C===null)throw Error(o(311));C.lastRenderedReducer=k;var M=d.baseQueue,R=C.pending;if(R!==null){if(M!==null){var J=M.next;M.next=R.next,R.next=J}m.baseQueue=M=R,C.pending=null}if(R=d.baseState,M===null)d.memoizedState=R;else{m=M.next;var de=J=null,Ne=null,Xe=m,gt=!1;do{var vt=Xe.lane&-536870913;if(vt!==Xe.lane?(di&vt)===vt:(Vt&vt)===vt){var et=Xe.revertLane;if(et===0)Ne!==null&&(Ne=Ne.next={lane:0,revertLane:0,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),vt===Ms&&(gt=!0);else if((Vt&et)===et){Xe=Xe.next,et===Ms&&(gt=!0);continue}else vt={lane:0,revertLane:Xe.revertLane,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Ne===null?(de=Ne=vt,J=R):Ne=Ne.next=vt,Xt.lanes|=et,Sl|=et;vt=Xe.action,ts&&k(R,vt),R=Xe.hasEagerState?Xe.eagerState:k(R,vt)}else et={lane:vt,revertLane:Xe.revertLane,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Ne===null?(de=Ne=et,J=R):Ne=Ne.next=et,Xt.lanes|=vt,Sl|=vt;Xe=Xe.next}while(Xe!==null&&Xe!==m);if(Ne===null?J=R:Ne.next=de,!gs(R,d.memoizedState)&&(is=!0,gt&&(k=xl,k!==null)))throw k;d.memoizedState=R,d.baseState=J,d.baseQueue=Ne,C.lastRenderedState=R}return M===null&&(C.lanes=0),[d.memoizedState,C.dispatch]}function ec(d){var m=Li(),k=m.queue;if(k===null)throw Error(o(311));k.lastRenderedReducer=d;var C=k.dispatch,M=k.pending,R=m.memoizedState;if(M!==null){k.pending=null;var J=M=M.next;do R=d(R,J.action),J=J.next;while(J!==M);gs(R,m.memoizedState)||(is=!0),m.memoizedState=R,m.baseQueue===null&&(m.baseState=R),k.lastRenderedState=R}return[R,C]}function Dh(d,m,k){var C=Xt,M=Li(),R=kn;if(R){if(k===void 0)throw Error(o(407));k=k()}else k=m();var J=!gs((cn||M).memoizedState,k);J&&(M.memoizedState=k,is=!0),M=M.queue;var de=Na.bind(null,C,M,d);if(Oh(2048,8,de,[d]),M.getSnapshot!==m||J||wn!==null&&wn.memoizedState.tag&1){if(C.flags|=2048,Ru(9,qm(),Iu.bind(null,C,M,k,m),null),Gi===null)throw Error(o(349));R||(Vt&124)!==0||Hm(C,m,k)}return k}function Hm(d,m,k){d.flags|=16384,d={getSnapshot:m,value:k},m=Xt.updateQueue,m===null?(m=Jl(),Xt.updateQueue=m,m.stores=[d]):(k=m.stores,k===null?m.stores=[d]:k.push(d))}function Iu(d,m,k,C){m.value=k,m.getSnapshot=C,Fd(m)&&Th(d)}function Na(d,m,k){return k(function(){Fd(m)&&Th(d)})}function Fd(d){var m=d.getSnapshot;d=d.value;try{var k=m();return!gs(d,k)}catch{return!0}}function Th(d){var m=Jr(d,2);m!==null&&$o(m,d,2)}function Ou(d){var m=Ls();if(typeof d=="function"){var k=d;if(d=k(),ts){mn(!0);try{k()}finally{mn(!1)}}}return m.memoizedState=m.baseState=d,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:d},m}function Lu(d,m,k,C){return d.baseState=k,zd(d,cn,typeof C=="function"?C:Hr)}function Um(d,m,k,C,M){if(Hu(d))throw Error(o(485));if(d=m.action,d!==null){var R={payload:M,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){R.listeners.push(J)}};le.T!==null?k(!0):R.isTransition=!1,C(R),k=m.pending,k===null?(R.next=m.pending=R,Mh(m,R)):(R.next=k.next,m.pending=k.next=R)}}function Mh(d,m){var k=m.action,C=m.payload,M=d.state;if(m.isTransition){var R=le.T,J={};le.T=J;try{var de=k(M,C),Ne=le.S;Ne!==null&&Ne(J,de),Ih(d,m,de)}catch(Xe){Pu(d,m,Xe)}finally{le.T=R}}else try{R=k(M,C),Ih(d,m,R)}catch(Xe){Pu(d,m,Xe)}}function Ih(d,m,k){k!==null&&typeof k=="object"&&typeof k.then=="function"?k.then(function(C){Bu(d,m,C)},function(C){return Pu(d,m,C)}):Bu(d,m,k)}function Bu(d,m,k){m.status="fulfilled",m.value=k,$m(m),d.state=k,m=d.pending,m!==null&&(k=m.next,k===m?d.pending=null:(k=k.next,m.next=k,Mh(d,k)))}function Pu(d,m,k){var C=d.pending;if(d.pending=null,C!==null){C=C.next;do m.status="rejected",m.reason=k,$m(m),m=m.next;while(m!==C)}d.action=null}function $m(d){d=d.listeners;for(var m=0;m<d.length;m++)(0,d[m])()}function Vc(d,m){return m}function Hc(d,m){if(kn){var k=Gi.formState;if(k!==null){e:{var C=Xt;if(kn){if(rn){t:{for(var M=rn,R=vi;M.nodeType!==8;){if(!R){M=null;break t}if(M=Da(M.nextSibling),M===null){M=null;break t}}R=M.data,M=R==="F!"||R==="F"?M:null}if(M){rn=Da(M.nextSibling),C=M.data==="F!";break e}}Ts(C)}C=!1}C&&(m=k[0])}}return k=Ls(),k.memoizedState=k.baseState=m,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vc,lastRenderedState:m},k.queue=C,k=Vu.bind(null,Xt,C),C.dispatch=k,C=Ou(!1),R=Zm.bind(null,Xt,!1,C.queue),C=Ls(),M={state:m,dispatch:null,action:d,pending:null},C.queue=M,k=Um.bind(null,Xt,M,R,k),M.dispatch=k,C.memoizedState=d,[m,k,!1]}function Ob(d){var m=Li();return Vd(m,cn,d)}function Vd(d,m,k){if(m=zd(d,m,Vc)[0],d=Fc(Hr)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var C=aa(m)}catch(J){throw J===el?Mu:J}else C=m;m=Li();var M=m.queue,R=M.dispatch;return k!==m.memoizedState&&(Xt.flags|=2048,Ru(9,qm(),wp.bind(null,M,k),null)),[C,R,d]}function wp(d,m){d.action=m}function yp(d){var m=Li(),k=cn;if(k!==null)return Vd(m,k,d);Li(),m=m.memoizedState,k=Li();var C=k.queue.dispatch;return k.memoizedState=d,[m,C,!1]}function Ru(d,m,k,C){return d={tag:d,create:k,deps:C,inst:m,next:null},m=Xt.updateQueue,m===null&&(m=Jl(),Xt.updateQueue=m),k=m.lastEffect,k===null?m.lastEffect=d.next=d:(C=k.next,k.next=d,d.next=C,m.lastEffect=d),d}function qm(){return{destroy:void 0,resource:void 0}}function Lb(){return Li().memoizedState}function Uc(d,m,k,C){var M=Ls();C=C===void 0?null:C,Xt.flags|=d,M.memoizedState=Ru(1|m,qm(),k,C)}function Oh(d,m,k,C){var M=Li();C=C===void 0?null:C;var R=M.memoizedState.inst;cn!==null&&C!==null&&Is(C,cn.memoizedState.deps)?M.memoizedState=Ru(m,R,k,C):(Xt.flags|=d,M.memoizedState=Ru(1|m,R,k,C))}function Bb(d,m){Uc(8390656,8,d,m)}function Wm(d,m){Oh(2048,8,d,m)}function Pb(d,m){return Oh(4,2,d,m)}function Ym(d,m){return Oh(4,4,d,m)}function Gm(d,m){if(typeof m=="function"){d=d();var k=m(d);return function(){typeof k=="function"?k():m(null)}}if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function Ho(d,m,k){k=k!=null?k.concat([d]):null,Oh(4,4,Gm.bind(null,m,d),k)}function Km(){}function zu(d,m){var k=Li();m=m===void 0?null:m;var C=k.memoizedState;return m!==null&&Is(m,C[1])?C[0]:(k.memoizedState=[d,m],d)}function Rb(d,m){var k=Li();m=m===void 0?null:m;var C=k.memoizedState;if(m!==null&&Is(m,C[1]))return C[0];if(C=d(),ts){mn(!0);try{d()}finally{mn(!1)}}return k.memoizedState=[C,m],C}function Fu(d,m,k){return k===void 0||(Vt&1073741824)!==0?d.memoizedState=m:(d.memoizedState=k,d=Wp(),Xt.lanes|=d,Sl|=d,k)}function xp(d,m,k,C){return gs(k,m)?k:ri.current!==null?(d=Fu(d,k,C),gs(d,m)||(is=!0),d):(Vt&42)===0?(is=!0,d.memoizedState=k):(d=Wp(),Xt.lanes|=d,Sl|=d,m)}function Cp(d,m,k,C,M){var R=_e.p;_e.p=R!==0&&8>R?R:8;var J=le.T,de={};le.T=de,Zm(d,!1,m,k);try{var Ne=M(),Xe=le.S;if(Xe!==null&&Xe(de,Ne),Ne!==null&&typeof Ne=="object"&&typeof Ne.then=="function"){var gt=zo(Ne,C);Cl(d,m,gt,xo(d))}else Cl(d,m,C,xo(d))}catch(vt){Cl(d,m,{then:function(){},status:"rejected",reason:vt},xo())}finally{_e.p=R,le.T=J}}function Hd(){}function Pt(d,m,k,C){if(d.tag!==5)throw Error(o(476));var M=An(d).queue;Cp(d,M,m,me,k===null?Hd:function(){return Lh(d),k(C)})}function An(d){var m=d.memoizedState;if(m!==null)return m;m={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:me},next:null};var k={};return m.next={memoizedState:k,baseState:k,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:k},next:null},d.memoizedState=m,d=d.alternate,d!==null&&(d.memoizedState=m),m}function Lh(d){var m=An(d).next.queue;Cl(d,m,{},xo())}function la(){return vr(lm)}function Qm(){return Li().memoizedState}function Ud(){return Li().memoizedState}function Ap(d){for(var m=d.return;m!==null;){switch(m.tag){case 24:case 3:var k=xo();d=It(k);var C=Wt(m,d,k);C!==null&&($o(C,m,k),Kt(C,m,k)),m={cache:hr()},d.payload=m;return}m=m.return}}function Np(d,m,k){var C=xo();k={lane:C,revertLane:0,action:k,hasEagerState:!1,eagerState:null,next:null},Hu(d)?Bh(m,k):(k=_o(d,m,k,C),k!==null&&($o(k,d,C),$c(k,m,C)))}function Vu(d,m,k){var C=xo();Cl(d,m,k,C)}function Cl(d,m,k,C){var M={lane:C,revertLane:0,action:k,hasEagerState:!1,eagerState:null,next:null};if(Hu(d))Bh(m,M);else{var R=d.alternate;if(d.lanes===0&&(R===null||R.lanes===0)&&(R=m.lastRenderedReducer,R!==null))try{var J=m.lastRenderedState,de=R(J,k);if(M.hasEagerState=!0,M.eagerState=de,gs(de,J))return Oi(d,m,M,0),Gi===null&&gl(),!1}catch{}finally{}if(k=_o(d,m,M,C),k!==null)return $o(k,d,C),$c(k,m,C),!0}return!1}function Zm(d,m,k,C){if(C={lane:2,revertLane:xf(),action:C,hasEagerState:!1,eagerState:null,next:null},Hu(d)){if(m)throw Error(o(479))}else m=_o(d,k,C,2),m!==null&&$o(m,d,2)}function Hu(d){var m=d.alternate;return d===Xt||m!==null&&m===Xt}function Bh(d,m){Vr=Yi=!0;var k=d.pending;k===null?m.next=m:(m.next=k.next,k.next=m),d.pending=m}function $c(d,m,k){if((k&4194048)!==0){var C=m.lanes;C&=d.pendingLanes,k|=C,m.lanes=k,lt(d,k)}}var Xm={readContext:vr,use:gi,useCallback:wi,useContext:wi,useEffect:wi,useImperativeHandle:wi,useLayoutEffect:wi,useInsertionEffect:wi,useMemo:wi,useReducer:wi,useRef:wi,useState:wi,useDebugValue:wi,useDeferredValue:wi,useTransition:wi,useSyncExternalStore:wi,useId:wi,useHostTransitionStatus:wi,useFormState:wi,useActionState:wi,useOptimistic:wi,useMemoCache:wi,useCacheRefresh:wi},Jm={readContext:vr,use:gi,useCallback:function(d,m){return Ls().memoizedState=[d,m===void 0?null:m],d},useContext:vr,useEffect:Bb,useImperativeHandle:function(d,m,k){k=k!=null?k.concat([d]):null,Uc(4194308,4,Gm.bind(null,m,d),k)},useLayoutEffect:function(d,m){return Uc(4194308,4,d,m)},useInsertionEffect:function(d,m){Uc(4,2,d,m)},useMemo:function(d,m){var k=Ls();m=m===void 0?null:m;var C=d();if(ts){mn(!0);try{d()}finally{mn(!1)}}return k.memoizedState=[C,m],C},useReducer:function(d,m,k){var C=Ls();if(k!==void 0){var M=k(m);if(ts){mn(!0);try{k(m)}finally{mn(!1)}}}else M=m;return C.memoizedState=C.baseState=M,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:M},C.queue=d,d=d.dispatch=Np.bind(null,Xt,d),[C.memoizedState,d]},useRef:function(d){var m=Ls();return d={current:d},m.memoizedState=d},useState:function(d){d=Ou(d);var m=d.queue,k=Vu.bind(null,Xt,m);return m.dispatch=k,[d.memoizedState,k]},useDebugValue:Km,useDeferredValue:function(d,m){var k=Ls();return Fu(k,d,m)},useTransition:function(){var d=Ou(!1);return d=Cp.bind(null,Xt,d.queue,!0,!1),Ls().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,m,k){var C=Xt,M=Ls();if(kn){if(k===void 0)throw Error(o(407));k=k()}else{if(k=m(),Gi===null)throw Error(o(349));(di&124)!==0||Hm(C,m,k)}M.memoizedState=k;var R={value:k,getSnapshot:m};return M.queue=R,Bb(Na.bind(null,C,R,d),[d]),C.flags|=2048,Ru(9,qm(),Iu.bind(null,C,R,k,m),null),k},useId:function(){var d=Ls(),m=Gi.identifierPrefix;if(kn){var k=Ae,C=re;k=(C&~(1<<32-Rn(C)-1)).toString(32)+k,m="«"+m+"R"+k,k=Dr++,0<k&&(m+="H"+k.toString(32)),m+="»"}else k=ir++,m="«"+m+"r"+k.toString(32)+"»";return d.memoizedState=m},useHostTransitionStatus:la,useFormState:Hc,useActionState:Hc,useOptimistic:function(d){var m=Ls();m.memoizedState=m.baseState=d;var k={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=k,m=Zm.bind(null,Xt,!0,k),k.dispatch=m,[d,m]},useMemoCache:ro,useCacheRefresh:function(){return Ls().memoizedState=Ap.bind(null,Xt)}},ef={readContext:vr,use:gi,useCallback:zu,useContext:vr,useEffect:Wm,useImperativeHandle:Ho,useInsertionEffect:Pb,useLayoutEffect:Ym,useMemo:Rb,useReducer:Fc,useRef:Lb,useState:function(){return Fc(Hr)},useDebugValue:Km,useDeferredValue:function(d,m){var k=Li();return xp(k,cn.memoizedState,d,m)},useTransition:function(){var d=Fc(Hr)[0],m=Li().memoizedState;return[typeof d=="boolean"?d:aa(d),m]},useSyncExternalStore:Dh,useId:Qm,useHostTransitionStatus:la,useFormState:Ob,useActionState:Ob,useOptimistic:function(d,m){var k=Li();return Lu(k,cn,d,m)},useMemoCache:ro,useCacheRefresh:Ud},vw={readContext:vr,use:gi,useCallback:zu,useContext:vr,useEffect:Wm,useImperativeHandle:Ho,useInsertionEffect:Pb,useLayoutEffect:Ym,useMemo:Rb,useReducer:ec,useRef:Lb,useState:function(){return ec(Hr)},useDebugValue:Km,useDeferredValue:function(d,m){var k=Li();return cn===null?Fu(k,d,m):xp(k,cn.memoizedState,d,m)},useTransition:function(){var d=ec(Hr)[0],m=Li().memoizedState;return[typeof d=="boolean"?d:aa(d),m]},useSyncExternalStore:Dh,useId:Qm,useHostTransitionStatus:la,useFormState:yp,useActionState:yp,useOptimistic:function(d,m){var k=Li();return cn!==null?Lu(k,cn,d,m):(k.baseState=d,[d,k.queue.dispatch])},useMemoCache:ro,useCacheRefresh:Ud},tc=null,Ph=0;function tf(d){var m=Ph;return Ph+=1,tc===null&&(tc=[]),P(tc,d,m)}function $d(d,m){m=m.props.ref,d.ref=m!==void 0?m:null}function nf(d,m){throw m.$$typeof===D?Error(o(525)):(d=Object.prototype.toString.call(m),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d)))}function qc(d){var m=d._init;return m(d._payload)}function Ep(d){function m(He,Oe){if(d){var Ge=He.deletions;Ge===null?(He.deletions=[Oe],He.flags|=16):Ge.push(Oe)}}function k(He,Oe){if(!d)return null;for(;Oe!==null;)m(He,Oe),Oe=Oe.sibling;return null}function C(He){for(var Oe=new Map;He!==null;)He.key!==null?Oe.set(He.key,He):Oe.set(He.index,He),He=He.sibling;return Oe}function M(He,Oe){return He=Ds(He,Oe),He.index=0,He.sibling=null,He}function R(He,Oe,Ge){return He.index=Ge,d?(Ge=He.alternate,Ge!==null?(Ge=Ge.index,Ge<Oe?(He.flags|=67108866,Oe):Ge):(He.flags|=67108866,Oe)):(He.flags|=1048576,Oe)}function J(He){return d&&He.alternate===null&&(He.flags|=67108866),He}function de(He,Oe,Ge,_t){return Oe===null||Oe.tag!==6?(Oe=_l(Ge,He.mode,_t),Oe.return=He,Oe):(Oe=M(Oe,Ge),Oe.return=He,Oe)}function Ne(He,Oe,Ge,_t){var sn=Ge.type;return sn===F?gt(He,Oe,Ge.props.children,_t,Ge.key):Oe!==null&&(Oe.elementType===sn||typeof sn=="object"&&sn!==null&&sn.$$typeof===ue&&qc(sn)===Oe.type)?(Oe=M(Oe,Ge.props),$d(Oe,Ge),Oe.return=He,Oe):(Oe=kl(Ge.type,Ge.key,Ge.props,null,He.mode,_t),$d(Oe,Ge),Oe.return=He,Oe)}function Xe(He,Oe,Ge,_t){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==Ge.containerInfo||Oe.stateNode.implementation!==Ge.implementation?(Oe=Bc(Ge,He.mode,_t),Oe.return=He,Oe):(Oe=M(Oe,Ge.children||[]),Oe.return=He,Oe)}function gt(He,Oe,Ge,_t,sn){return Oe===null||Oe.tag!==7?(Oe=wo(Ge,He.mode,_t,sn),Oe.return=He,Oe):(Oe=M(Oe,Ge),Oe.return=He,Oe)}function vt(He,Oe,Ge){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Oe=_l(""+Oe,He.mode,Ge),Oe.return=He,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case j:return Ge=kl(Oe.type,Oe.key,Oe.props,null,He.mode,Ge),$d(Ge,Oe),Ge.return=He,Ge;case B:return Oe=Bc(Oe,He.mode,Ge),Oe.return=He,Oe;case ue:var _t=Oe._init;return Oe=_t(Oe._payload),vt(He,Oe,Ge)}if(Me(Oe)||we(Oe))return Oe=wo(Oe,He.mode,Ge,null),Oe.return=He,Oe;if(typeof Oe.then=="function")return vt(He,tf(Oe),Ge);if(Oe.$$typeof===ee)return vt(He,Bd(He,Oe),Ge);nf(He,Oe)}return null}function et(He,Oe,Ge,_t){var sn=Oe!==null?Oe.key:null;if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return sn!==null?null:de(He,Oe,""+Ge,_t);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case j:return Ge.key===sn?Ne(He,Oe,Ge,_t):null;case B:return Ge.key===sn?Xe(He,Oe,Ge,_t):null;case ue:return sn=Ge._init,Ge=sn(Ge._payload),et(He,Oe,Ge,_t)}if(Me(Ge)||we(Ge))return sn!==null?null:gt(He,Oe,Ge,_t,null);if(typeof Ge.then=="function")return et(He,Oe,tf(Ge),_t);if(Ge.$$typeof===ee)return et(He,Oe,Bd(He,Ge),_t);nf(He,Ge)}return null}function it(He,Oe,Ge,_t,sn){if(typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint")return He=He.get(Ge)||null,de(Oe,He,""+_t,sn);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case j:return He=He.get(_t.key===null?Ge:_t.key)||null,Ne(Oe,He,_t,sn);case B:return He=He.get(_t.key===null?Ge:_t.key)||null,Xe(Oe,He,_t,sn);case ue:var ti=_t._init;return _t=ti(_t._payload),it(He,Oe,Ge,_t,sn)}if(Me(_t)||we(_t))return He=He.get(Ge)||null,gt(Oe,He,_t,sn,null);if(typeof _t.then=="function")return it(He,Oe,Ge,tf(_t),sn);if(_t.$$typeof===ee)return it(He,Oe,Ge,Bd(Oe,_t),sn);nf(Oe,_t)}return null}function On(He,Oe,Ge,_t){for(var sn=null,ti=null,un=Oe,Nn=Oe=0,ss=null;un!==null&&Nn<Ge.length;Nn++){un.index>Nn?(ss=un,un=null):ss=un.sibling;var yi=et(He,un,Ge[Nn],_t);if(yi===null){un===null&&(un=ss);break}d&&un&&yi.alternate===null&&m(He,un),Oe=R(yi,Oe,Nn),ti===null?sn=yi:ti.sibling=yi,ti=yi,un=ss}if(Nn===Ge.length)return k(He,un),kn&&We(He,Nn),sn;if(un===null){for(;Nn<Ge.length;Nn++)un=vt(He,Ge[Nn],_t),un!==null&&(Oe=R(un,Oe,Nn),ti===null?sn=un:ti.sibling=un,ti=un);return kn&&We(He,Nn),sn}for(un=C(un);Nn<Ge.length;Nn++)ss=it(un,He,Nn,Ge[Nn],_t),ss!==null&&(d&&ss.alternate!==null&&un.delete(ss.key===null?Nn:ss.key),Oe=R(ss,Oe,Nn),ti===null?sn=ss:ti.sibling=ss,ti=ss);return d&&un.forEach(function(sd){return m(He,sd)}),kn&&We(He,Nn),sn}function _n(He,Oe,Ge,_t){if(Ge==null)throw Error(o(151));for(var sn=null,ti=null,un=Oe,Nn=Oe=0,ss=null,yi=Ge.next();un!==null&&!yi.done;Nn++,yi=Ge.next()){un.index>Nn?(ss=un,un=null):ss=un.sibling;var sd=et(He,un,yi.value,_t);if(sd===null){un===null&&(un=ss);break}d&&un&&sd.alternate===null&&m(He,un),Oe=R(sd,Oe,Nn),ti===null?sn=sd:ti.sibling=sd,ti=sd,un=ss}if(yi.done)return k(He,un),kn&&We(He,Nn),sn;if(un===null){for(;!yi.done;Nn++,yi=Ge.next())yi=vt(He,yi.value,_t),yi!==null&&(Oe=R(yi,Oe,Nn),ti===null?sn=yi:ti.sibling=yi,ti=yi);return kn&&We(He,Nn),sn}for(un=C(un);!yi.done;Nn++,yi=Ge.next())yi=it(un,He,Nn,yi.value,_t),yi!==null&&(d&&yi.alternate!==null&&un.delete(yi.key===null?Nn:yi.key),Oe=R(yi,Oe,Nn),ti===null?sn=yi:ti.sibling=yi,ti=yi);return d&&un.forEach(function(e_){return m(He,e_)}),kn&&We(He,Nn),sn}function Fi(He,Oe,Ge,_t){if(typeof Ge=="object"&&Ge!==null&&Ge.type===F&&Ge.key===null&&(Ge=Ge.props.children),typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case j:e:{for(var sn=Ge.key;Oe!==null;){if(Oe.key===sn){if(sn=Ge.type,sn===F){if(Oe.tag===7){k(He,Oe.sibling),_t=M(Oe,Ge.props.children),_t.return=He,He=_t;break e}}else if(Oe.elementType===sn||typeof sn=="object"&&sn!==null&&sn.$$typeof===ue&&qc(sn)===Oe.type){k(He,Oe.sibling),_t=M(Oe,Ge.props),$d(_t,Ge),_t.return=He,He=_t;break e}k(He,Oe);break}else m(He,Oe);Oe=Oe.sibling}Ge.type===F?(_t=wo(Ge.props.children,He.mode,_t,Ge.key),_t.return=He,He=_t):(_t=kl(Ge.type,Ge.key,Ge.props,null,He.mode,_t),$d(_t,Ge),_t.return=He,He=_t)}return J(He);case B:e:{for(sn=Ge.key;Oe!==null;){if(Oe.key===sn)if(Oe.tag===4&&Oe.stateNode.containerInfo===Ge.containerInfo&&Oe.stateNode.implementation===Ge.implementation){k(He,Oe.sibling),_t=M(Oe,Ge.children||[]),_t.return=He,He=_t;break e}else{k(He,Oe);break}else m(He,Oe);Oe=Oe.sibling}_t=Bc(Ge,He.mode,_t),_t.return=He,He=_t}return J(He);case ue:return sn=Ge._init,Ge=sn(Ge._payload),Fi(He,Oe,Ge,_t)}if(Me(Ge))return On(He,Oe,Ge,_t);if(we(Ge)){if(sn=we(Ge),typeof sn!="function")throw Error(o(150));return Ge=sn.call(Ge),_n(He,Oe,Ge,_t)}if(typeof Ge.then=="function")return Fi(He,Oe,tf(Ge),_t);if(Ge.$$typeof===ee)return Fi(He,Oe,Bd(He,Ge),_t);nf(He,Ge)}return typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint"?(Ge=""+Ge,Oe!==null&&Oe.tag===6?(k(He,Oe.sibling),_t=M(Oe,Ge),_t.return=He,He=_t):(k(He,Oe),_t=_l(Ge,He.mode,_t),_t.return=He,He=_t),J(He)):k(He,Oe)}return function(He,Oe,Ge,_t){try{Ph=0;var sn=Fi(He,Oe,Ge,_t);return tc=null,sn}catch(un){if(un===el||un===Mu)throw un;var ti=dr(29,un,null,He.mode);return ti.lanes=_t,ti.return=He,ti}finally{}}}var Wc=Ep(!0),zb=Ep(!1),ca=fe(null),Ea=null;function nc(d){var m=d.alternate;Be(fr,fr.current&1),Be(ca,d),Ea===null&&(m===null||ri.current!==null||m.memoizedState!==null)&&(Ea=d)}function Fb(d){if(d.tag===22){if(Be(fr,fr.current),Be(ca,d),Ea===null){var m=d.alternate;m!==null&&m.memoizedState!==null&&(Ea=d)}}else ic()}function ic(){Be(fr,fr.current),Be(ca,ca.current)}function nl(d){ke(ca),Ea===d&&(Ea=null),ke(fr)}var fr=fe(0);function Rh(d){for(var m=d;m!==null;){if(m.tag===13){var k=m.memoizedState;if(k!==null&&(k=k.dehydrated,k===null||k.data==="$?"||hg(k)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function rf(d,m,k,C){m=d.memoizedState,k=k(C,m),k=k==null?m:S({},m,k),d.memoizedState=k,d.lanes===0&&(d.updateQueue.baseState=k)}var sf={enqueueSetState:function(d,m,k){d=d._reactInternals;var C=xo(),M=It(C);M.payload=m,k!=null&&(M.callback=k),m=Wt(d,M,C),m!==null&&($o(m,d,C),Kt(m,d,C))},enqueueReplaceState:function(d,m,k){d=d._reactInternals;var C=xo(),M=It(C);M.tag=1,M.payload=m,k!=null&&(M.callback=k),m=Wt(d,M,C),m!==null&&($o(m,d,C),Kt(m,d,C))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var k=xo(),C=It(k);C.tag=2,m!=null&&(C.callback=m),m=Wt(d,C,k),m!==null&&($o(m,d,k),Kt(m,d,k))}};function Sp(d,m,k,C,M,R,J){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(C,R,J):m.prototype&&m.prototype.isPureReactComponent?!zr(k,C)||!zr(M,R):!0}function Sa(d,m,k,C){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(k,C),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(k,C),m.state!==d&&sf.enqueueReplaceState(m,m.state,null)}function il(d,m){var k=m;if("ref"in m){k={};for(var C in m)C!=="ref"&&(k[C]=m[C])}if(d=d.defaultProps){k===m&&(k=S({},k));for(var M in d)k[M]===void 0&&(k[M]=d[M])}return k}var so=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)};function qd(d){so(d)}function jp(d){console.error(d)}function Vb(d){so(d)}function zh(d,m){try{var k=d.onUncaughtError;k(m.value,{componentStack:m.stack})}catch(C){setTimeout(function(){throw C})}}function Hb(d,m,k){try{var C=d.onCaughtError;C(k.value,{componentStack:k.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function Dp(d,m,k){return k=It(k),k.tag=3,k.payload={element:null},k.callback=function(){zh(d,m)},k}function Tp(d){return d=It(d),d.tag=3,d}function Ub(d,m,k,C){var M=k.type.getDerivedStateFromError;if(typeof M=="function"){var R=C.value;d.payload=function(){return M(R)},d.callback=function(){Hb(m,k,C)}}var J=k.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(d.callback=function(){Hb(m,k,C),typeof M!="function"&&(Xc===null?Xc=new Set([this]):Xc.add(this));var de=C.stack;this.componentDidCatch(C.value,{componentStack:de!==null?de:""})})}function ww(d,m,k,C,M){if(k.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(m=k.alternate,m!==null&&wl(m,k,M,!0),k=ca.current,k!==null){switch(k.tag){case 13:return Ea===null?Kp():k.alternate===null&&gr===0&&(gr=3),k.flags&=-257,k.flags|=65536,k.lanes=M,C===jh?k.flags|=16384:(m=k.updateQueue,m===null?k.updateQueue=new Set([C]):m.add(C),uc(d,C,M)),!1;case 22:return k.flags|=65536,C===jh?k.flags|=16384:(m=k.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([C])},k.updateQueue=m):(k=m.retryQueue,k===null?m.retryQueue=new Set([C]):k.add(C)),uc(d,C,M)),!1}throw Error(o(435,k.tag))}return uc(d,C,M),Kp(),!1}if(kn)return m=ca.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=M,C!==ur&&(d=Error(o(422),{cause:C}),vl(pn(d,k)))):(C!==ur&&(m=Error(o(423),{cause:C}),vl(pn(m,k))),d=d.current.alternate,d.flags|=65536,M&=-M,d.lanes|=M,C=pn(C,k),M=Dp(d.stateNode,C,M),Yt(d,M),gr!==4&&(gr=2)),!1;var R=Error(o(520),{cause:C});if(R=pn(R,k),Kh===null?Kh=[R]:Kh.push(R),gr!==4&&(gr=2),m===null)return!0;C=pn(C,k),k=m;do{switch(k.tag){case 3:return k.flags|=65536,d=M&-M,k.lanes|=d,d=Dp(k.stateNode,C,d),Yt(k,d),!1;case 1:if(m=k.type,R=k.stateNode,(k.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Xc===null||!Xc.has(R))))return k.flags|=65536,M&=-M,k.lanes|=M,M=Tp(M),Ub(M,d,k,C),Yt(k,M),!1}k=k.return}while(k!==null);return!1}var $b=Error(o(461)),is=!1;function Bs(d,m,k,C){m.child=d===null?zb(m,null,k,C):Wc(m,d.child,k,C)}function qb(d,m,k,C,M){k=k.render;var R=m.ref;if("ref"in C){var J={};for(var de in C)de!=="ref"&&(J[de]=C[de])}else J=C;return Ja(m),C=tl(d,m,k,J,R,M),de=io(),d!==null&&!is?(Vo(d,m,M),rc(d,m,M)):(kn&&de&&Nt(m),m.flags|=1,Bs(d,m,C,M),m.child)}function Wb(d,m,k,C,M){if(d===null){var R=k.type;return typeof R=="function"&&!Kl(R)&&R.defaultProps===void 0&&k.compare===null?(m.tag=15,m.type=R,Fh(d,m,R,C,M)):(d=kl(k.type,null,C,m,m.mode,M),d.ref=m.ref,d.return=m,m.child=d)}if(R=d.child,!Pp(d,M)){var J=R.memoizedProps;if(k=k.compare,k=k!==null?k:zr,k(J,C)&&d.ref===m.ref)return rc(d,m,M)}return m.flags|=1,d=Ds(R,C),d.ref=m.ref,d.return=m,m.child=d}function Fh(d,m,k,C,M){if(d!==null){var R=d.memoizedProps;if(zr(R,C)&&d.ref===m.ref)if(is=!1,m.pendingProps=C=R,Pp(d,M))(d.flags&131072)!==0&&(is=!0);else return m.lanes=d.lanes,rc(d,m,M)}return af(d,m,k,C,M)}function Mp(d,m,k){var C=m.pendingProps,M=C.children,R=d!==null?d.memoizedState:null;if(C.mode==="hidden"){if((m.flags&128)!==0){if(C=R!==null?R.baseLanes|k:k,d!==null){for(M=m.child=d.child,R=0;M!==null;)R=R|M.lanes|M.childLanes,M=M.sibling;m.childLanes=R&~C}else m.childLanes=0,m.child=null;return Vh(d,m,C,k)}if((k&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},d!==null&&Pd(m,R!==null?R.cachePool:null),R!==null?Hn(m,R):at(),Fb(m);else return m.lanes=m.childLanes=536870912,Vh(d,m,R!==null?R.baseLanes|k:k,k)}else R!==null?(Pd(m,R.cachePool),Hn(m,R),ic(),m.memoizedState=null):(d!==null&&Pd(m,null),at(),ic());return Bs(d,m,M,k),m.child}function Vh(d,m,k,C){var M=Sh();return M=M===null?null:{parent:qn._currentValue,pool:M},m.memoizedState={baseLanes:k,cachePool:M},d!==null&&Pd(m,null),at(),Fb(m),d!==null&&wl(d,m,C,!0),null}function of(d,m){var k=m.ref;if(k===null)d!==null&&d.ref!==null&&(m.flags|=4194816);else{if(typeof k!="function"&&typeof k!="object")throw Error(o(284));(d===null||d.ref!==k)&&(m.flags|=4194816)}}function af(d,m,k,C,M){return Ja(m),k=tl(d,m,k,C,void 0,M),C=io(),d!==null&&!is?(Vo(d,m,M),rc(d,m,M)):(kn&&C&&Nt(m),m.flags|=1,Bs(d,m,k,M),m.child)}function Ip(d,m,k,C,M,R){return Ja(m),m.updateQueue=null,k=Ti(m,C,k,M),wr(d),C=io(),d!==null&&!is?(Vo(d,m,R),rc(d,m,R)):(kn&&C&&Nt(m),m.flags|=1,Bs(d,m,k,R),m.child)}function Op(d,m,k,C,M){if(Ja(m),m.stateNode===null){var R=xa,J=k.contextType;typeof J=="object"&&J!==null&&(R=vr(J)),R=new k(C,R),m.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=sf,m.stateNode=R,R._reactInternals=m,R=m.stateNode,R.props=C,R.state=m.memoizedState,R.refs={},st(m),J=k.contextType,R.context=typeof J=="object"&&J!==null?vr(J):xa,R.state=m.memoizedState,J=k.getDerivedStateFromProps,typeof J=="function"&&(rf(m,k,J,C),R.state=m.memoizedState),typeof k.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(J=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),J!==R.state&&sf.enqueueReplaceState(R,R.state,null),xn(m,C,R,M),hn(),R.state=m.memoizedState),typeof R.componentDidMount=="function"&&(m.flags|=4194308),C=!0}else if(d===null){R=m.stateNode;var de=m.memoizedProps,Ne=il(k,de);R.props=Ne;var Xe=R.context,gt=k.contextType;J=xa,typeof gt=="object"&&gt!==null&&(J=vr(gt));var vt=k.getDerivedStateFromProps;gt=typeof vt=="function"||typeof R.getSnapshotBeforeUpdate=="function",de=m.pendingProps!==de,gt||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(de||Xe!==J)&&Sa(m,R,C,J),Le=!1;var et=m.memoizedState;R.state=et,xn(m,C,R,M),hn(),Xe=m.memoizedState,de||et!==Xe||Le?(typeof vt=="function"&&(rf(m,k,vt,C),Xe=m.memoizedState),(Ne=Le||Sp(m,k,Ne,C,et,Xe,J))?(gt||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(m.flags|=4194308)):(typeof R.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=C,m.memoizedState=Xe),R.props=C,R.state=Xe,R.context=J,C=Ne):(typeof R.componentDidMount=="function"&&(m.flags|=4194308),C=!1)}else{R=m.stateNode,wt(d,m),J=m.memoizedProps,gt=il(k,J),R.props=gt,vt=m.pendingProps,et=R.context,Xe=k.contextType,Ne=xa,typeof Xe=="object"&&Xe!==null&&(Ne=vr(Xe)),de=k.getDerivedStateFromProps,(Xe=typeof de=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(J!==vt||et!==Ne)&&Sa(m,R,C,Ne),Le=!1,et=m.memoizedState,R.state=et,xn(m,C,R,M),hn();var it=m.memoizedState;J!==vt||et!==it||Le||d!==null&&d.dependencies!==null&&Tu(d.dependencies)?(typeof de=="function"&&(rf(m,k,de,C),it=m.memoizedState),(gt=Le||Sp(m,k,gt,C,et,it,Ne)||d!==null&&d.dependencies!==null&&Tu(d.dependencies))?(Xe||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(C,it,Ne),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(C,it,Ne)),typeof R.componentDidUpdate=="function"&&(m.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof R.componentDidUpdate!="function"||J===d.memoizedProps&&et===d.memoizedState||(m.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||J===d.memoizedProps&&et===d.memoizedState||(m.flags|=1024),m.memoizedProps=C,m.memoizedState=it),R.props=C,R.state=it,R.context=Ne,C=gt):(typeof R.componentDidUpdate!="function"||J===d.memoizedProps&&et===d.memoizedState||(m.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||J===d.memoizedProps&&et===d.memoizedState||(m.flags|=1024),C=!1)}return R=C,of(d,m),C=(m.flags&128)!==0,R||C?(R=m.stateNode,k=C&&typeof k.getDerivedStateFromError!="function"?null:R.render(),m.flags|=1,d!==null&&C?(m.child=Wc(m,d.child,null,M),m.child=Wc(m,null,k,M)):Bs(d,m,k,M),m.memoizedState=R.state,d=m.child):d=rc(d,m,M),d}function rl(d,m,k,C){return Bo(),m.flags|=256,Bs(d,m,k,C),m.child}var lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yc(d){return{baseLanes:d,cachePool:zc()}}function Al(d,m,k){return d=d!==null?d.childLanes&~k:0,m&&(d|=cr),d}function Yb(d,m,k){var C=m.pendingProps,M=!1,R=(m.flags&128)!==0,J;if((J=R)||(J=d!==null&&d.memoizedState===null?!1:(fr.current&2)!==0),J&&(M=!0,m.flags&=-129),J=(m.flags&32)!==0,m.flags&=-33,d===null){if(kn){if(M?nc(m):ic(),kn){var de=rn,Ne;if(Ne=de){e:{for(Ne=de,de=vi;Ne.nodeType!==8;){if(!de){de=null;break e}if(Ne=Da(Ne.nextSibling),Ne===null){de=null;break e}}de=Ne}de!==null?(m.memoizedState={dehydrated:de,treeContext:G!==null?{id:re,overflow:Ae}:null,retryLane:536870912,hydrationErrors:null},Ne=dr(18,null,null,0),Ne.stateNode=de,Ne.return=m,m.child=Ne,Gt=m,rn=null,Ne=!0):Ne=!1}Ne||Ts(m)}if(de=m.memoizedState,de!==null&&(de=de.dehydrated,de!==null))return hg(de)?m.lanes=32:m.lanes=536870912,null;nl(m)}return de=C.children,C=C.fallback,M?(ic(),M=m.mode,de=cf({mode:"hidden",children:de},M),C=wo(C,M,k,null),de.return=m,C.return=m,de.sibling=C,m.child=de,M=m.child,M.memoizedState=Yc(k),M.childLanes=Al(d,J,k),m.memoizedState=lf,C):(nc(m),Hh(m,de))}if(Ne=d.memoizedState,Ne!==null&&(de=Ne.dehydrated,de!==null)){if(R)m.flags&256?(nc(m),m.flags&=-257,m=Lp(d,m,k)):m.memoizedState!==null?(ic(),m.child=d.child,m.flags|=128,m=null):(ic(),M=C.fallback,de=m.mode,C=cf({mode:"visible",children:C.children},de),M=wo(M,de,k,null),M.flags|=2,C.return=m,M.return=m,C.sibling=M,m.child=C,Wc(m,d.child,null,k),C=m.child,C.memoizedState=Yc(k),C.childLanes=Al(d,J,k),m.memoizedState=lf,m=M);else if(nc(m),hg(de)){if(J=de.nextSibling&&de.nextSibling.dataset,J)var Xe=J.dgst;J=Xe,C=Error(o(419)),C.stack="",C.digest=J,vl({value:C,source:null,stack:null}),m=Lp(d,m,k)}else if(is||wl(d,m,k,!1),J=(k&d.childLanes)!==0,is||J){if(J=Gi,J!==null&&(C=k&-k,C=(C&42)!==0?1:on(C),C=(C&(J.suspendedLanes|k))!==0?0:C,C!==0&&C!==Ne.retryLane))throw Ne.retryLane=C,Jr(d,C),$o(J,d,C),$b;de.data==="$?"||Kp(),m=Lp(d,m,k)}else de.data==="$?"?(m.flags|=192,m.child=d.child,m=null):(d=Ne.treeContext,rn=Da(de.nextSibling),Gt=m,kn=!0,gn=null,vi=!1,d!==null&&(T[V++]=re,T[V++]=Ae,T[V++]=G,re=d.id,Ae=d.overflow,G=m),m=Hh(m,C.children),m.flags|=4096);return m}return M?(ic(),M=C.fallback,de=m.mode,Ne=d.child,Xe=Ne.sibling,C=Ds(Ne,{mode:"hidden",children:C.children}),C.subtreeFlags=Ne.subtreeFlags&65011712,Xe!==null?M=Ds(Xe,M):(M=wo(M,de,k,null),M.flags|=2),M.return=m,C.return=m,C.sibling=M,m.child=C,C=M,M=m.child,de=d.child.memoizedState,de===null?de=Yc(k):(Ne=de.cachePool,Ne!==null?(Xe=qn._currentValue,Ne=Ne.parent!==Xe?{parent:Xe,pool:Xe}:Ne):Ne=zc(),de={baseLanes:de.baseLanes|k,cachePool:Ne}),M.memoizedState=de,M.childLanes=Al(d,J,k),m.memoizedState=lf,C):(nc(m),k=d.child,d=k.sibling,k=Ds(k,{mode:"visible",children:C.children}),k.return=m,k.sibling=null,d!==null&&(J=m.deletions,J===null?(m.deletions=[d],m.flags|=16):J.push(d)),m.child=k,m.memoizedState=null,k)}function Hh(d,m){return m=cf({mode:"visible",children:m},d.mode),m.return=d,d.child=m}function cf(d,m){return d=dr(22,d,null,m),d.lanes=0,d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},d}function Lp(d,m,k){return Wc(m,d.child,null,k),d=Hh(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function Gb(d,m,k){d.lanes|=m;var C=d.alternate;C!==null&&(C.lanes|=m),Pc(d.return,m,k)}function Bp(d,m,k,C,M){var R=d.memoizedState;R===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:C,tail:k,tailMode:M}:(R.isBackwards=m,R.rendering=null,R.renderingStartTime=0,R.last=C,R.tail=k,R.tailMode=M)}function Kb(d,m,k){var C=m.pendingProps,M=C.revealOrder,R=C.tail;if(Bs(d,m,C.children,k),C=fr.current,(C&2)!==0)C=C&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&Gb(d,k,m);else if(d.tag===19)Gb(d,k,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}C&=1}switch(Be(fr,C),M){case"forwards":for(k=m.child,M=null;k!==null;)d=k.alternate,d!==null&&Rh(d)===null&&(M=k),k=k.sibling;k=M,k===null?(M=m.child,m.child=null):(M=k.sibling,k.sibling=null),Bp(m,!1,M,k,R);break;case"backwards":for(k=null,M=m.child,m.child=null;M!==null;){if(d=M.alternate,d!==null&&Rh(d)===null){m.child=M;break}d=M.sibling,M.sibling=k,k=M,M=d}Bp(m,!0,k,null,R);break;case"together":Bp(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function rc(d,m,k){if(d!==null&&(m.dependencies=d.dependencies),Sl|=m.lanes,(k&m.childLanes)===0)if(d!==null){if(wl(d,m,k,!1),(k&m.childLanes)===0)return null}else return null;if(d!==null&&m.child!==d.child)throw Error(o(153));if(m.child!==null){for(d=m.child,k=Ds(d,d.pendingProps),m.child=k,k.return=m;d.sibling!==null;)d=d.sibling,k=k.sibling=Ds(d,d.pendingProps),k.return=m;k.sibling=null}return m.child}function Pp(d,m){return(d.lanes&m)!==0?!0:(d=d.dependencies,!!(d!==null&&Tu(d)))}function yw(d,m,k){switch(m.tag){case 3:qe(m,m.stateNode.containerInfo),Aa(m,qn,d.memoizedState.cache),Bo();break;case 27:case 5:Ie(m);break;case 4:qe(m,m.stateNode.containerInfo);break;case 10:Aa(m,m.type,m.memoizedProps.value);break;case 13:var C=m.memoizedState;if(C!==null)return C.dehydrated!==null?(nc(m),m.flags|=128,null):(k&m.child.childLanes)!==0?Yb(d,m,k):(nc(m),d=rc(d,m,k),d!==null?d.sibling:null);nc(m);break;case 19:var M=(d.flags&128)!==0;if(C=(k&m.childLanes)!==0,C||(wl(d,m,k,!1),C=(k&m.childLanes)!==0),M){if(C)return Kb(d,m,k);m.flags|=128}if(M=m.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Be(fr,fr.current),C)break;return null;case 22:case 23:return m.lanes=0,Mp(d,m,k);case 24:Aa(m,qn,d.memoizedState.cache)}return rc(d,m,k)}function Rp(d,m,k){if(d!==null)if(d.memoizedProps!==m.pendingProps)is=!0;else{if(!Pp(d,k)&&(m.flags&128)===0)return is=!1,yw(d,m,k);is=(d.flags&131072)!==0}else is=!1,kn&&(m.flags&1048576)!==0&&Fe(m,x,m.index);switch(m.lanes=0,m.tag){case 16:e:{d=m.pendingProps;var C=m.elementType,M=C._init;if(C=M(C._payload),m.type=C,typeof C=="function")Kl(C)?(d=il(C,d),m.tag=1,m=Op(null,m,C,d,k)):(m.tag=0,m=af(null,m,C,d,k));else{if(C!=null){if(M=C.$$typeof,M===ne){m.tag=11,m=qb(null,m,C,d,k);break e}else if(M===q){m.tag=14,m=Wb(null,m,C,d,k);break e}}throw m=ye(C)||C,Error(o(306,m,""))}}return m;case 0:return af(d,m,m.type,m.pendingProps,k);case 1:return C=m.type,M=il(C,m.pendingProps),Op(d,m,C,M,k);case 3:e:{if(qe(m,m.stateNode.containerInfo),d===null)throw Error(o(387));C=m.pendingProps;var R=m.memoizedState;M=R.element,wt(d,m),xn(m,C,null,k);var J=m.memoizedState;if(C=J.cache,Aa(m,qn,C),C!==R.cache&&Rc(m,[qn],k,!0),hn(),C=J.element,R.isDehydrated)if(R={element:C,isDehydrated:!1,cache:J.cache},m.updateQueue.baseState=R,m.memoizedState=R,m.flags&256){m=rl(d,m,C,k);break e}else if(C!==M){M=pn(Error(o(424)),m),vl(M),m=rl(d,m,C,k);break e}else{switch(d=m.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(rn=Da(d.firstChild),Gt=m,kn=!0,gn=null,vi=!0,k=zb(m,null,C,k),m.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling}else{if(Bo(),C===M){m=rc(d,m,k);break e}Bs(d,m,C,k)}m=m.child}return m;case 26:return of(d,m),d===null?(k=zk(m.type,null,m.pendingProps,null))?m.memoizedState=k:kn||(k=m.type,d=m.pendingProps,C=em(te.current).createElement(k),C[ln]=m,C[En]=d,Fs(C,k,d),an(C),m.stateNode=C):m.memoizedState=zk(m.type,d.memoizedProps,m.pendingProps,d.memoizedState),null;case 27:return Ie(m),d===null&&kn&&(C=m.stateNode=Tk(m.type,m.pendingProps,te.current),Gt=m,vi=!0,M=rn,nd(m.type)?(mg=M,rn=Da(C.firstChild)):rn=M),Bs(d,m,m.pendingProps.children,k),of(d,m),d===null&&(m.flags|=4194304),m.child;case 5:return d===null&&kn&&((M=C=rn)&&(C=jk(C,m.type,m.pendingProps,vi),C!==null?(m.stateNode=C,Gt=m,rn=Da(C.firstChild),vi=!1,M=!0):M=!1),M||Ts(m)),Ie(m),M=m.type,R=m.pendingProps,J=d!==null?d.memoizedProps:null,C=R.children,Af(M,R)?C=null:J!==null&&Af(M,J)&&(m.flags|=32),m.memoizedState!==null&&(M=tl(d,m,Os,null,null,k),lm._currentValue=M),of(d,m),Bs(d,m,C,k),m.child;case 6:return d===null&&kn&&((d=k=rn)&&(k=Pw(k,m.pendingProps,vi),k!==null?(m.stateNode=k,Gt=m,rn=null,d=!0):d=!1),d||Ts(m)),null;case 13:return Yb(d,m,k);case 4:return qe(m,m.stateNode.containerInfo),C=m.pendingProps,d===null?m.child=Wc(m,null,C,k):Bs(d,m,C,k),m.child;case 11:return qb(d,m,m.type,m.pendingProps,k);case 7:return Bs(d,m,m.pendingProps,k),m.child;case 8:return Bs(d,m,m.pendingProps.children,k),m.child;case 12:return Bs(d,m,m.pendingProps.children,k),m.child;case 10:return C=m.pendingProps,Aa(m,m.type,C.value),Bs(d,m,C.children,k),m.child;case 9:return M=m.type._context,C=m.pendingProps.children,Ja(m),M=vr(M),C=C(M),m.flags|=1,Bs(d,m,C,k),m.child;case 14:return Wb(d,m,m.type,m.pendingProps,k);case 15:return Fh(d,m,m.type,m.pendingProps,k);case 19:return Kb(d,m,k);case 31:return C=m.pendingProps,k=m.mode,C={mode:C.mode,children:C.children},d===null?(k=cf(C,k),k.ref=m.ref,m.child=k,k.return=m,m=k):(k=Ds(d.child,C),k.ref=m.ref,m.child=k,k.return=m,m=k),m;case 22:return Mp(d,m,k);case 24:return Ja(m),C=vr(qn),d===null?(M=Sh(),M===null&&(M=Gi,R=hr(),M.pooledCache=R,R.refCount++,R!==null&&(M.pooledCacheLanes|=k),M=R),m.memoizedState={parent:C,cache:M},st(m),Aa(m,qn,M)):((d.lanes&k)!==0&&(wt(d,m),xn(m,null,null,k),hn()),M=d.memoizedState,R=m.memoizedState,M.parent!==C?(M={parent:C,cache:C},m.memoizedState=M,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=M),Aa(m,qn,C)):(C=R.cache,Aa(m,qn,C),C!==M.cache&&Rc(m,[qn],k,!0))),Bs(d,m,m.pendingProps.children,k),m.child;case 29:throw m.pendingProps}throw Error(o(156,m.tag))}function sc(d){d.flags|=4}function Qb(d,m){if(m.type!=="stylesheet"||(m.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!bg(m)){if(m=ca.current,m!==null&&((di&4194048)===di?Ea!==null:(di&62914560)!==di&&(di&536870912)===0||m!==Ea))throw Y=jh,Rd;d.flags|=8192}}function oc(d,m){m!==null&&(d.flags|=4),d.flags&16384&&(m=d.tag!==22?or():536870912,d.lanes|=m,qu|=m)}function Uh(d,m){if(!kn)switch(d.tailMode){case"hidden":m=d.tail;for(var k=null;m!==null;)m.alternate!==null&&(k=m),m=m.sibling;k===null?d.tail=null:k.sibling=null;break;case"collapsed":k=d.tail;for(var C=null;k!==null;)k.alternate!==null&&(C=k),k=k.sibling;C===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:C.sibling=null}}function pr(d){var m=d.alternate!==null&&d.alternate.child===d.child,k=0,C=0;if(m)for(var M=d.child;M!==null;)k|=M.lanes|M.childLanes,C|=M.subtreeFlags&65011712,C|=M.flags&65011712,M.return=d,M=M.sibling;else for(M=d.child;M!==null;)k|=M.lanes|M.childLanes,C|=M.subtreeFlags,C|=M.flags,M.return=d,M=M.sibling;return d.subtreeFlags|=C,d.childLanes=k,m}function xw(d,m,k){var C=m.pendingProps;switch(zt(m),m.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(m),null;case 1:return pr(m),null;case 3:return k=m.stateNode,C=null,d!==null&&(C=d.memoizedState.cache),m.memoizedState.cache!==C&&(m.flags|=2048),ra(qn),Ke(),k.pendingContext&&(k.context=k.pendingContext,k.pendingContext=null),(d===null||d.child===null)&&(Ql(m)?sc(m):d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,es())),pr(m),null;case 26:return k=m.memoizedState,d===null?(sc(m),k!==null?(pr(m),Qb(m,k)):(pr(m),m.flags&=-16777217)):k?k!==d.memoizedState?(sc(m),pr(m),Qb(m,k)):(pr(m),m.flags&=-16777217):(d.memoizedProps!==C&&sc(m),pr(m),m.flags&=-16777217),null;case 27:rt(m),k=te.current;var M=m.type;if(d!==null&&m.stateNode!=null)d.memoizedProps!==C&&sc(m);else{if(!C){if(m.stateNode===null)throw Error(o(166));return pr(m),null}d=Ve.current,Ql(m)?Ld(m):(d=Tk(M,C,k),m.stateNode=d,sc(m))}return pr(m),null;case 5:if(rt(m),k=m.type,d!==null&&m.stateNode!=null)d.memoizedProps!==C&&sc(m);else{if(!C){if(m.stateNode===null)throw Error(o(166));return pr(m),null}if(d=Ve.current,Ql(m))Ld(m);else{switch(M=em(te.current),d){case 1:d=M.createElementNS("http://www.w3.org/2000/svg",k);break;case 2:d=M.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;default:switch(k){case"svg":d=M.createElementNS("http://www.w3.org/2000/svg",k);break;case"math":d=M.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;case"script":d=M.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof C.is=="string"?M.createElement("select",{is:C.is}):M.createElement("select"),C.multiple?d.multiple=!0:C.size&&(d.size=C.size);break;default:d=typeof C.is=="string"?M.createElement(k,{is:C.is}):M.createElement(k)}}d[ln]=m,d[En]=C;e:for(M=m.child;M!==null;){if(M.tag===5||M.tag===6)d.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===m)break e;for(;M.sibling===null;){if(M.return===null||M.return===m)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}m.stateNode=d;e:switch(Fs(d,k,C),k){case"button":case"input":case"select":case"textarea":d=!!C.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&sc(m)}}return pr(m),m.flags&=-16777217,null;case 6:if(d&&m.stateNode!=null)d.memoizedProps!==C&&sc(m);else{if(typeof C!="string"&&m.stateNode===null)throw Error(o(166));if(d=te.current,Ql(m)){if(d=m.stateNode,k=m.memoizedProps,C=null,M=Gt,M!==null)switch(M.tag){case 27:case 5:C=M.memoizedProps}d[ln]=m,d=!!(d.nodeValue===k||C!==null&&C.suppressHydrationWarning===!0||Ao(d.nodeValue,k)),d||Ts(m)}else d=em(d).createTextNode(C),d[ln]=m,m.stateNode=d}return pr(m),null;case 13:if(C=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(M=Ql(m),C!==null&&C.dehydrated!==null){if(d===null){if(!M)throw Error(o(318));if(M=m.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(o(317));M[ln]=m}else Bo(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;pr(m),M=!1}else M=es(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=M),M=!0;if(!M)return m.flags&256?(nl(m),m):(nl(m),null)}if(nl(m),(m.flags&128)!==0)return m.lanes=k,m;if(k=C!==null,d=d!==null&&d.memoizedState!==null,k){C=m.child,M=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(M=C.alternate.memoizedState.cachePool.pool);var R=null;C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(R=C.memoizedState.cachePool.pool),R!==M&&(C.flags|=2048)}return k!==d&&k&&(m.child.flags|=8192),oc(m,m.updateQueue),pr(m),null;case 4:return Ke(),d===null&&Zd(m.stateNode.containerInfo),pr(m),null;case 10:return ra(m.type),pr(m),null;case 19:if(ke(fr),M=m.memoizedState,M===null)return pr(m),null;if(C=(m.flags&128)!==0,R=M.rendering,R===null)if(C)Uh(M,!1);else{if(gr!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(R=Rh(d),R!==null){for(m.flags|=128,Uh(M,!1),d=R.updateQueue,m.updateQueue=d,oc(m,d),m.subtreeFlags=0,d=k,k=m.child;k!==null;)Lc(k,d),k=k.sibling;return Be(fr,fr.current&1|2),m.child}d=d.sibling}M.tail!==null&&Rt()>Zc&&(m.flags|=128,C=!0,Uh(M,!1),m.lanes=4194304)}else{if(!C)if(d=Rh(R),d!==null){if(m.flags|=128,C=!0,d=d.updateQueue,m.updateQueue=d,oc(m,d),Uh(M,!0),M.tail===null&&M.tailMode==="hidden"&&!R.alternate&&!kn)return pr(m),null}else 2*Rt()-M.renderingStartTime>Zc&&k!==536870912&&(m.flags|=128,C=!0,Uh(M,!1),m.lanes=4194304);M.isBackwards?(R.sibling=m.child,m.child=R):(d=M.last,d!==null?d.sibling=R:m.child=R,M.last=R)}return M.tail!==null?(m=M.tail,M.rendering=m,M.tail=m.sibling,M.renderingStartTime=Rt(),m.sibling=null,d=fr.current,Be(fr,C?d&1|2:d&1),m):(pr(m),null);case 22:case 23:return nl(m),Ln(),C=m.memoizedState!==null,d!==null?d.memoizedState!==null!==C&&(m.flags|=8192):C&&(m.flags|=8192),C?(k&536870912)!==0&&(m.flags&128)===0&&(pr(m),m.subtreeFlags&6&&(m.flags|=8192)):pr(m),k=m.updateQueue,k!==null&&oc(m,k.retryQueue),k=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(k=d.memoizedState.cachePool.pool),C=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(C=m.memoizedState.cachePool.pool),C!==k&&(m.flags|=2048),d!==null&&ke(oa),null;case 24:return k=null,d!==null&&(k=d.memoizedState.cache),m.memoizedState.cache!==k&&(m.flags|=2048),ra(qn),pr(m),null;case 25:return null;case 30:return null}throw Error(o(156,m.tag))}function df(d,m){switch(zt(m),m.tag){case 1:return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return ra(qn),Ke(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 26:case 27:case 5:return rt(m),null;case 13:if(nl(m),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(o(340));Bo()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return ke(fr),null;case 4:return Ke(),null;case 10:return ra(m.type),null;case 22:case 23:return nl(m),Ln(),d!==null&&ke(oa),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 24:return ra(qn),null;case 25:return null;default:return null}}function Zb(d,m){switch(zt(m),m.tag){case 3:ra(qn),Ke();break;case 26:case 27:case 5:rt(m);break;case 4:Ke();break;case 13:nl(m);break;case 19:ke(fr);break;case 10:ra(m.type);break;case 22:case 23:nl(m),Ln(),d!==null&&ke(oa);break;case 24:ra(qn)}}function $h(d,m){try{var k=m.updateQueue,C=k!==null?k.lastEffect:null;if(C!==null){var M=C.next;k=M;do{if((k.tag&d)===d){C=void 0;var R=k.create,J=k.inst;C=R(),J.destroy=C}k=k.next}while(k!==M)}}catch(de){Ki(m,m.return,de)}}function Gc(d,m,k){try{var C=m.updateQueue,M=C!==null?C.lastEffect:null;if(M!==null){var R=M.next;C=R;do{if((C.tag&d)===d){var J=C.inst,de=J.destroy;if(de!==void 0){J.destroy=void 0,M=m;var Ne=k,Xe=de;try{Xe()}catch(gt){Ki(M,Ne,gt)}}}C=C.next}while(C!==R)}}catch(gt){Ki(m,m.return,gt)}}function zp(d){var m=d.updateQueue;if(m!==null){var k=d.stateNode;try{Cn(m,k)}catch(C){Ki(d,d.return,C)}}}function Xb(d,m,k){k.props=il(d.type,d.memoizedProps),k.state=d.memoizedState;try{k.componentWillUnmount()}catch(C){Ki(d,m,C)}}function qh(d,m){try{var k=d.ref;if(k!==null){switch(d.tag){case 26:case 27:case 5:var C=d.stateNode;break;case 30:C=d.stateNode;break;default:C=d.stateNode}typeof k=="function"?d.refCleanup=k(C):k.current=C}}catch(M){Ki(d,m,M)}}function sl(d,m){var k=d.ref,C=d.refCleanup;if(k!==null)if(typeof C=="function")try{C()}catch(M){Ki(d,m,M)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof k=="function")try{k(null)}catch(M){Ki(d,m,M)}else k.current=null}function uf(d){var m=d.type,k=d.memoizedProps,C=d.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":k.autoFocus&&C.focus();break e;case"img":k.src?C.src=k.src:k.srcSet&&(C.srcset=k.srcSet)}}catch(M){Ki(d,d.return,M)}}function Fp(d,m,k){try{var C=d.stateNode;cg(C,d.type,k,m),C[En]=m}catch(M){Ki(d,d.return,M)}}function Jb(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&nd(d.type)||d.tag===4}function Vp(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||Jb(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&nd(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function hf(d,m,k){var C=d.tag;if(C===5||C===6)d=d.stateNode,m?(k.nodeType===9?k.body:k.nodeName==="HTML"?k.ownerDocument.body:k).insertBefore(d,m):(m=k.nodeType===9?k.body:k.nodeName==="HTML"?k.ownerDocument.body:k,m.appendChild(d),k=k._reactRootContainer,k!=null||m.onclick!==null||(m.onclick=ja));else if(C!==4&&(C===27&&nd(d.type)&&(k=d.stateNode,m=null),d=d.child,d!==null))for(hf(d,m,k),d=d.sibling;d!==null;)hf(d,m,k),d=d.sibling}function Wh(d,m,k){var C=d.tag;if(C===5||C===6)d=d.stateNode,m?k.insertBefore(d,m):k.appendChild(d);else if(C!==4&&(C===27&&nd(d.type)&&(k=d.stateNode),d=d.child,d!==null))for(Wh(d,m,k),d=d.sibling;d!==null;)Wh(d,m,k),d=d.sibling}function Yh(d){var m=d.stateNode,k=d.memoizedProps;try{for(var C=d.type,M=m.attributes;M.length;)m.removeAttributeNode(M[0]);Fs(m,C,k),m[ln]=d,m[En]=k}catch(R){Ki(d,d.return,R)}}var Nl=!1,Mr=!1,Uu=!1,ek=typeof WeakSet=="function"?WeakSet:Set,rs=null;function Cw(d,m){if(d=d.containerInfo,li=Tf,d=pl(d),Ga(d)){if("selectionStart"in d)var k={start:d.selectionStart,end:d.selectionEnd};else e:{k=(k=d.ownerDocument)&&k.defaultView||window;var C=k.getSelection&&k.getSelection();if(C&&C.rangeCount!==0){k=C.anchorNode;var M=C.anchorOffset,R=C.focusNode;C=C.focusOffset;try{k.nodeType,R.nodeType}catch{k=null;break e}var J=0,de=-1,Ne=-1,Xe=0,gt=0,vt=d,et=null;t:for(;;){for(var it;vt!==k||M!==0&&vt.nodeType!==3||(de=J+M),vt!==R||C!==0&&vt.nodeType!==3||(Ne=J+C),vt.nodeType===3&&(J+=vt.nodeValue.length),(it=vt.firstChild)!==null;)et=vt,vt=it;for(;;){if(vt===d)break t;if(et===k&&++Xe===M&&(de=J),et===R&&++gt===C&&(Ne=J),(it=vt.nextSibling)!==null)break;vt=et,et=vt.parentNode}vt=it}k=de===-1||Ne===-1?null:{start:de,end:Ne}}else k=null}k=k||{start:0,end:0}}else k=null;for(dg={focusedElem:d,selectionRange:k},Tf=!1,rs=m;rs!==null;)if(m=rs,d=m.child,(m.subtreeFlags&1024)!==0&&d!==null)d.return=m,rs=d;else for(;rs!==null;){switch(m=rs,R=m.alternate,d=m.flags,m.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&R!==null){d=void 0,k=m,M=R.memoizedProps,R=R.memoizedState,C=k.stateNode;try{var On=il(k.type,M,k.elementType===k.type);d=C.getSnapshotBeforeUpdate(On,R),C.__reactInternalSnapshotBeforeUpdate=d}catch(_n){Ki(k,k.return,_n)}}break;case 3:if((d&1024)!==0){if(d=m.stateNode.containerInfo,k=d.nodeType,k===9)ug(d);else if(k===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":ug(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(o(163))}if(d=m.sibling,d!==null){d.return=m.return,rs=d;break}rs=m.return}}function Gh(d,m,k){var C=k.flags;switch(k.tag){case 0:case 11:case 15:ks(d,k),C&4&&$h(5,k);break;case 1:if(ks(d,k),C&4)if(d=k.stateNode,m===null)try{d.componentDidMount()}catch(J){Ki(k,k.return,J)}else{var M=il(k.type,m.memoizedProps);m=m.memoizedState;try{d.componentDidUpdate(M,m,d.__reactInternalSnapshotBeforeUpdate)}catch(J){Ki(k,k.return,J)}}C&64&&zp(k),C&512&&qh(k,k.return);break;case 3:if(ks(d,k),C&64&&(d=k.updateQueue,d!==null)){if(m=null,k.child!==null)switch(k.child.tag){case 27:case 5:m=k.child.stateNode;break;case 1:m=k.child.stateNode}try{Cn(d,m)}catch(J){Ki(k,k.return,J)}}break;case 27:m===null&&C&4&&Yh(k);case 26:case 5:ks(d,k),m===null&&C&4&&uf(k),C&512&&qh(k,k.return);break;case 12:ks(d,k);break;case 13:ks(d,k),C&4&&ik(d,k),C&64&&(d=k.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(k=Dw.bind(null,k),Dk(d,k))));break;case 22:if(C=k.memoizedState!==null||Nl,!C){m=m!==null&&m.memoizedState!==null||Mr,M=Nl;var R=Mr;Nl=C,(Mr=m)&&!R?oo(d,k,(k.subtreeFlags&8772)!==0):ks(d,k),Nl=M,Mr=R}break;case 30:break;default:ks(d,k)}}function tk(d){var m=d.alternate;m!==null&&(d.alternate=null,tk(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&Et(m)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var lr=null,yo=!1;function El(d,m,k){for(k=k.child;k!==null;)nk(d,m,k),k=k.sibling}function nk(d,m,k){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(bt,k)}catch{}switch(k.tag){case 26:Mr||sl(k,m),El(d,m,k),k.memoizedState?k.memoizedState.count--:k.stateNode&&(k=k.stateNode,k.parentNode.removeChild(k));break;case 27:Mr||sl(k,m);var C=lr,M=yo;nd(k.type)&&(lr=k.stateNode,yo=!1),El(d,m,k),tm(k.stateNode),lr=C,yo=M;break;case 5:Mr||sl(k,m);case 6:if(C=lr,M=yo,lr=null,El(d,m,k),lr=C,yo=M,lr!==null)if(yo)try{(lr.nodeType===9?lr.body:lr.nodeName==="HTML"?lr.ownerDocument.body:lr).removeChild(k.stateNode)}catch(R){Ki(k,m,R)}else try{lr.removeChild(k.stateNode)}catch(R){Ki(k,m,R)}break;case 18:lr!==null&&(yo?(d=lr,Sk(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,k.stateNode),sh(d)):Sk(lr,k.stateNode));break;case 4:C=lr,M=yo,lr=k.stateNode.containerInfo,yo=!0,El(d,m,k),lr=C,yo=M;break;case 0:case 11:case 14:case 15:Mr||Gc(2,k,m),Mr||Gc(4,k,m),El(d,m,k);break;case 1:Mr||(sl(k,m),C=k.stateNode,typeof C.componentWillUnmount=="function"&&Xb(k,m,C)),El(d,m,k);break;case 21:El(d,m,k);break;case 22:Mr=(C=Mr)||k.memoizedState!==null,El(d,m,k),Mr=C;break;default:El(d,m,k)}}function ik(d,m){if(m.memoizedState===null&&(d=m.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{sh(d)}catch(k){Ki(m,m.return,k)}}function Aw(d){switch(d.tag){case 13:case 19:var m=d.stateNode;return m===null&&(m=d.stateNode=new ek),m;case 22:return d=d.stateNode,m=d._retryCache,m===null&&(m=d._retryCache=new ek),m;default:throw Error(o(435,d.tag))}}function da(d,m){var k=Aw(d);m.forEach(function(C){var M=Tw.bind(null,d,C);k.has(C)||(k.add(C),C.then(M,M))})}function ua(d,m){var k=m.deletions;if(k!==null)for(var C=0;C<k.length;C++){var M=k[C],R=d,J=m,de=J;e:for(;de!==null;){switch(de.tag){case 27:if(nd(de.type)){lr=de.stateNode,yo=!1;break e}break;case 5:lr=de.stateNode,yo=!1;break e;case 3:case 4:lr=de.stateNode.containerInfo,yo=!0;break e}de=de.return}if(lr===null)throw Error(o(160));nk(R,J,M),lr=null,yo=!1,R=M.alternate,R!==null&&(R.return=null),M.return=null}if(m.subtreeFlags&13878)for(m=m.child;m!==null;)Kc(m,d),m=m.sibling}var bs=null;function Kc(d,m){var k=d.alternate,C=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:ua(m,d),Ps(d),C&4&&(Gc(3,d,d.return),$h(3,d),Gc(5,d,d.return));break;case 1:ua(m,d),Ps(d),C&512&&(Mr||k===null||sl(k,k.return)),C&64&&Nl&&(d=d.updateQueue,d!==null&&(C=d.callbacks,C!==null&&(k=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=k===null?C:k.concat(C))));break;case 26:var M=bs;if(ua(m,d),Ps(d),C&512&&(Mr||k===null||sl(k,k.return)),C&4){var R=k!==null?k.memoizedState:null;if(C=d.memoizedState,k===null)if(C===null)if(d.stateNode===null){e:{C=d.type,k=d.memoizedProps,M=M.ownerDocument||M;t:switch(C){case"title":R=M.getElementsByTagName("title")[0],(!R||R[Se]||R[ln]||R.namespaceURI==="http://www.w3.org/2000/svg"||R.hasAttribute("itemprop"))&&(R=M.createElement(C),M.head.insertBefore(R,M.querySelector("head > title"))),Fs(R,C,k),R[ln]=d,an(R),C=R;break e;case"link":var J=gg("link","href",M).get(C+(k.href||""));if(J){for(var de=0;de<J.length;de++)if(R=J[de],R.getAttribute("href")===(k.href==null||k.href===""?null:k.href)&&R.getAttribute("rel")===(k.rel==null?null:k.rel)&&R.getAttribute("title")===(k.title==null?null:k.title)&&R.getAttribute("crossorigin")===(k.crossOrigin==null?null:k.crossOrigin)){J.splice(de,1);break t}}R=M.createElement(C),Fs(R,C,k),M.head.appendChild(R);break;case"meta":if(J=gg("meta","content",M).get(C+(k.content||""))){for(de=0;de<J.length;de++)if(R=J[de],R.getAttribute("content")===(k.content==null?null:""+k.content)&&R.getAttribute("name")===(k.name==null?null:k.name)&&R.getAttribute("property")===(k.property==null?null:k.property)&&R.getAttribute("http-equiv")===(k.httpEquiv==null?null:k.httpEquiv)&&R.getAttribute("charset")===(k.charSet==null?null:k.charSet)){J.splice(de,1);break t}}R=M.createElement(C),Fs(R,C,k),M.head.appendChild(R);break;default:throw Error(o(468,C))}R[ln]=d,an(R),C=R}d.stateNode=C}else ih(M,d.type,d.stateNode);else d.stateNode=eu(M,C,d.memoizedProps);else R!==C?(R===null?k.stateNode!==null&&(k=k.stateNode,k.parentNode.removeChild(k)):R.count--,C===null?ih(M,d.type,d.stateNode):eu(M,C,d.memoizedProps)):C===null&&d.stateNode!==null&&Fp(d,d.memoizedProps,k.memoizedProps)}break;case 27:ua(m,d),Ps(d),C&512&&(Mr||k===null||sl(k,k.return)),k!==null&&C&4&&Fp(d,d.memoizedProps,k.memoizedProps);break;case 5:if(ua(m,d),Ps(d),C&512&&(Mr||k===null||sl(k,k.return)),d.flags&32){M=d.stateNode;try{Er(M,"")}catch(it){Ki(d,d.return,it)}}C&4&&d.stateNode!=null&&(M=d.memoizedProps,Fp(d,M,k!==null?k.memoizedProps:M)),C&1024&&(Uu=!0);break;case 6:if(ua(m,d),Ps(d),C&4){if(d.stateNode===null)throw Error(o(162));C=d.memoizedProps,k=d.stateNode;try{k.nodeValue=C}catch(it){Ki(d,d.return,it)}}break;case 3:if(rm=null,M=bs,bs=Ef(m.containerInfo),ua(m,d),bs=M,Ps(d),C&4&&k!==null&&k.memoizedState.isDehydrated)try{sh(m.containerInfo)}catch(it){Ki(d,d.return,it)}Uu&&(Uu=!1,Bi(d));break;case 4:C=bs,bs=Ef(d.stateNode.containerInfo),ua(m,d),Ps(d),bs=C;break;case 12:ua(m,d),Ps(d);break;case 13:ua(m,d),Ps(d),d.child.flags&8192&&d.memoizedState!==null!=(k!==null&&k.memoizedState!==null)&&(qp=Rt()),C&4&&(C=d.updateQueue,C!==null&&(d.updateQueue=null,da(d,C)));break;case 22:M=d.memoizedState!==null;var Ne=k!==null&&k.memoizedState!==null,Xe=Nl,gt=Mr;if(Nl=Xe||M,Mr=gt||Ne,ua(m,d),Mr=gt,Nl=Xe,Ps(d),C&8192)e:for(m=d.stateNode,m._visibility=M?m._visibility&-2:m._visibility|1,M&&(k===null||Ne||Nl||Mr||ci(d)),k=null,m=d;;){if(m.tag===5||m.tag===26){if(k===null){Ne=k=m;try{if(R=Ne.stateNode,M)J=R.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none";else{de=Ne.stateNode;var vt=Ne.memoizedProps.style,et=vt!=null&&vt.hasOwnProperty("display")?vt.display:null;de.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(it){Ki(Ne,Ne.return,it)}}}else if(m.tag===6){if(k===null){Ne=m;try{Ne.stateNode.nodeValue=M?"":Ne.memoizedProps}catch(it){Ki(Ne,Ne.return,it)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===d)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break e;for(;m.sibling===null;){if(m.return===null||m.return===d)break e;k===m&&(k=null),m=m.return}k===m&&(k=null),m.sibling.return=m.return,m=m.sibling}C&4&&(C=d.updateQueue,C!==null&&(k=C.retryQueue,k!==null&&(C.retryQueue=null,da(d,k))));break;case 19:ua(m,d),Ps(d),C&4&&(C=d.updateQueue,C!==null&&(d.updateQueue=null,da(d,C)));break;case 30:break;case 21:break;default:ua(m,d),Ps(d)}}function Ps(d){var m=d.flags;if(m&2){try{for(var k,C=d.return;C!==null;){if(Jb(C)){k=C;break}C=C.return}if(k==null)throw Error(o(160));switch(k.tag){case 27:var M=k.stateNode,R=Vp(d);Wh(d,R,M);break;case 5:var J=k.stateNode;k.flags&32&&(Er(J,""),k.flags&=-33);var de=Vp(d);Wh(d,de,J);break;case 3:case 4:var Ne=k.stateNode.containerInfo,Xe=Vp(d);hf(d,Xe,Ne);break;default:throw Error(o(161))}}catch(gt){Ki(d,d.return,gt)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function Bi(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var m=d;Bi(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),d=d.sibling}}function ks(d,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)Gh(d,m.alternate,m),m=m.sibling}function ci(d){for(d=d.child;d!==null;){var m=d;switch(m.tag){case 0:case 11:case 14:case 15:Gc(4,m,m.return),ci(m);break;case 1:sl(m,m.return);var k=m.stateNode;typeof k.componentWillUnmount=="function"&&Xb(m,m.return,k),ci(m);break;case 27:tm(m.stateNode);case 26:case 5:sl(m,m.return),ci(m);break;case 22:m.memoizedState===null&&ci(m);break;case 30:ci(m);break;default:ci(m)}d=d.sibling}}function oo(d,m,k){for(k=k&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var C=m.alternate,M=d,R=m,J=R.flags;switch(R.tag){case 0:case 11:case 15:oo(M,R,k),$h(4,R);break;case 1:if(oo(M,R,k),C=R,M=C.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(Xe){Ki(C,C.return,Xe)}if(C=R,M=C.updateQueue,M!==null){var de=C.stateNode;try{var Ne=M.shared.hiddenCallbacks;if(Ne!==null)for(M.shared.hiddenCallbacks=null,M=0;M<Ne.length;M++)St(Ne[M],de)}catch(Xe){Ki(C,C.return,Xe)}}k&&J&64&&zp(R),qh(R,R.return);break;case 27:Yh(R);case 26:case 5:oo(M,R,k),k&&C===null&&J&4&&uf(R),qh(R,R.return);break;case 12:oo(M,R,k);break;case 13:oo(M,R,k),k&&J&4&&ik(M,R);break;case 22:R.memoizedState===null&&oo(M,R,k),qh(R,R.return);break;case 30:break;default:oo(M,R,k)}m=m.sibling}}function ac(d,m){var k=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(k=d.memoizedState.cachePool.pool),d=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(d=m.memoizedState.cachePool.pool),d!==k&&(d!=null&&d.refCount++,k!=null&&mr(k))}function At(d,m){d=null,m.alternate!==null&&(d=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==d&&(m.refCount++,d!=null&&mr(d))}function Uo(d,m,k,C){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)Hp(d,m,k,C),m=m.sibling}function Hp(d,m,k,C){var M=m.flags;switch(m.tag){case 0:case 11:case 15:Uo(d,m,k,C),M&2048&&$h(9,m);break;case 1:Uo(d,m,k,C);break;case 3:Uo(d,m,k,C),M&2048&&(d=null,m.alternate!==null&&(d=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==d&&(m.refCount++,d!=null&&mr(d)));break;case 12:if(M&2048){Uo(d,m,k,C),d=m.stateNode;try{var R=m.memoizedProps,J=R.id,de=R.onPostCommit;typeof de=="function"&&de(J,m.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(Ne){Ki(m,m.return,Ne)}}else Uo(d,m,k,C);break;case 13:Uo(d,m,k,C);break;case 23:break;case 22:R=m.stateNode,J=m.alternate,m.memoizedState!==null?R._visibility&2?Uo(d,m,k,C):$u(d,m):R._visibility&2?Uo(d,m,k,C):(R._visibility|=2,Wd(d,m,k,C,(m.subtreeFlags&10256)!==0)),M&2048&&ac(J,m);break;case 24:Uo(d,m,k,C),M&2048&&At(m.alternate,m);break;default:Uo(d,m,k,C)}}function Wd(d,m,k,C,M){for(M=M&&(m.subtreeFlags&10256)!==0,m=m.child;m!==null;){var R=d,J=m,de=k,Ne=C,Xe=J.flags;switch(J.tag){case 0:case 11:case 15:Wd(R,J,de,Ne,M),$h(8,J);break;case 23:break;case 22:var gt=J.stateNode;J.memoizedState!==null?gt._visibility&2?Wd(R,J,de,Ne,M):$u(R,J):(gt._visibility|=2,Wd(R,J,de,Ne,M)),M&&Xe&2048&&ac(J.alternate,J);break;case 24:Wd(R,J,de,Ne,M),M&&Xe&2048&&At(J.alternate,J);break;default:Wd(R,J,de,Ne,M)}m=m.sibling}}function $u(d,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var k=d,C=m,M=C.flags;switch(C.tag){case 22:$u(k,C),M&2048&&ac(C.alternate,C);break;case 24:$u(k,C),M&2048&&At(C.alternate,C);break;default:$u(k,C)}m=m.sibling}}var Yd=8192;function Je(d){if(d.subtreeFlags&Yd)for(d=d.child;d!==null;)Up(d),d=d.sibling}function Up(d){switch(d.tag){case 26:Je(d),d.flags&Yd&&d.memoizedState!==null&&Hk(bs,d.memoizedState,d.memoizedProps);break;case 5:Je(d);break;case 3:case 4:var m=bs;bs=Ef(d.stateNode.containerInfo),Je(d),bs=m;break;case 22:d.memoizedState===null&&(m=d.alternate,m!==null&&m.memoizedState!==null?(m=Yd,Yd=16777216,Je(d),Yd=m):Je(d));break;default:Je(d)}}function rk(d){var m=d.alternate;if(m!==null&&(d=m.child,d!==null)){m.child=null;do m=d.sibling,d.sibling=null,d=m;while(d!==null)}}function Qc(d){var m=d.deletions;if((d.flags&16)!==0){if(m!==null)for(var k=0;k<m.length;k++){var C=m[k];rs=C,ok(C,d)}rk(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)sk(d),d=d.sibling}function sk(d){switch(d.tag){case 0:case 11:case 15:Qc(d),d.flags&2048&&Gc(9,d,d.return);break;case 3:Qc(d);break;case 12:Qc(d);break;case 22:var m=d.stateNode;d.memoizedState!==null&&m._visibility&2&&(d.return===null||d.return.tag!==13)?(m._visibility&=-3,mf(d)):Qc(d);break;default:Qc(d)}}function mf(d){var m=d.deletions;if((d.flags&16)!==0){if(m!==null)for(var k=0;k<m.length;k++){var C=m[k];rs=C,ok(C,d)}rk(d)}for(d=d.child;d!==null;){switch(m=d,m.tag){case 0:case 11:case 15:Gc(8,m,m.return),mf(m);break;case 22:k=m.stateNode,k._visibility&2&&(k._visibility&=-3,mf(m));break;default:mf(m)}d=d.sibling}}function ok(d,m){for(;rs!==null;){var k=rs;switch(k.tag){case 0:case 11:case 15:Gc(8,k,m);break;case 23:case 22:if(k.memoizedState!==null&&k.memoizedState.cachePool!==null){var C=k.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:mr(k.memoizedState.cache)}if(C=k.child,C!==null)C.return=k,rs=C;else e:for(k=d;rs!==null;){C=rs;var M=C.sibling,R=C.return;if(tk(C),C===k){rs=null;break e}if(M!==null){M.return=R,rs=M;break e}rs=R}}}var ak={getCacheForType:function(d){var m=vr(qn),k=m.data.get(d);return k===void 0&&(k=d(),m.data.set(d,k)),k}},Nw=typeof WeakMap=="function"?WeakMap:Map,Pi=0,Gi=null,Qn=null,di=0,Mi=0,ha=null,lc=!1,_s=!1,ff=!1,cc=0,gr=0,Sl=0,Gd=0,$p=0,cr=0,qu=0,Kh=null,Rs=null,ma=!1,qp=0,Zc=1/0,Qh=null,Xc=null,vs=0,Jc=null,Wu=null,Yu=0,pf=0,gf=null,Gu=null,Ku=0,bf=null;function xo(){if((Pi&2)!==0&&di!==0)return di&-di;if(le.T!==null){var d=Ms;return d!==0?d:xf()}return Ot()}function Wp(){cr===0&&(cr=(di&536870912)===0||kn?fi():536870912);var d=ca.current;return d!==null&&(d.flags|=32),cr}function $o(d,m,k){(d===Gi&&(Mi===2||Mi===9)||d.cancelPendingCommit!==null)&&(Qu(d,0),dc(d,di,cr,!1)),tr(d,k),((Pi&2)===0||d!==Gi)&&(d===Gi&&((Pi&2)===0&&(Gd|=k),gr===4&&dc(d,di,cr,!1)),jl(d))}function Yp(d,m,k){if((Pi&6)!==0)throw Error(o(327));var C=!k&&(m&124)===0&&(m&d.expiredLanes)===0||Jn(d,m),M=C?Sw(d,m):Qp(d,m,!0),R=C;do{if(M===0){_s&&!C&&dc(d,m,0,!1);break}else{if(k=d.current.alternate,R&&!Ew(k)){M=Qp(d,m,!1),R=!1;continue}if(M===2){if(R=m,d.errorRecoveryDisabledLanes&R)var J=0;else J=d.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){m=J;e:{var de=d;M=Kh;var Ne=de.current.memoizedState.isDehydrated;if(Ne&&(Qu(de,J).flags|=256),J=Qp(de,J,!1),J!==2){if(ff&&!Ne){de.errorRecoveryDisabledLanes|=R,Gd|=R,M=4;break e}R=Rs,Rs=M,R!==null&&(Rs===null?Rs=R:Rs.push.apply(Rs,R))}M=J}if(R=!1,M!==2)continue}}if(M===1){Qu(d,0),dc(d,m,0,!0);break}e:{switch(C=d,R=M,R){case 0:case 1:throw Error(o(345));case 4:if((m&4194048)!==m)break;case 6:dc(C,m,cr,!lc);break e;case 2:Rs=null;break;case 3:case 5:break;default:throw Error(o(329))}if((m&62914560)===m&&(M=qp+300-Rt(),10<M)){if(dc(C,m,cr,!lc),ii(C,0,!0)!==0)break e;C.timeoutHandle=Xd(lk.bind(null,C,k,Rs,Qh,ma,m,cr,Gd,qu,lc,R,2,-0,0),M);break e}lk(C,k,Rs,Qh,ma,m,cr,Gd,qu,lc,R,0,-0,0)}}break}while(!0);jl(d)}function lk(d,m,k,C,M,R,J,de,Ne,Xe,gt,vt,et,it){if(d.timeoutHandle=-1,vt=m.subtreeFlags,(vt&8192||(vt&16785408)===16785408)&&(sm={stylesheets:null,count:0,unsuspend:Vk},Up(m),vt=kg(),vt!==null)){d.cancelPendingCommit=vt(mk.bind(null,d,m,R,k,C,M,J,de,Ne,gt,1,et,it)),dc(d,R,J,!Xe);return}mk(d,m,R,k,C,M,J,de,Ne)}function Ew(d){for(var m=d;;){var k=m.tag;if((k===0||k===11||k===15)&&m.flags&16384&&(k=m.updateQueue,k!==null&&(k=k.stores,k!==null)))for(var C=0;C<k.length;C++){var M=k[C],R=M.getSnapshot;M=M.value;try{if(!gs(R(),M))return!1}catch{return!1}}if(k=m.child,m.subtreeFlags&16384&&k!==null)k.return=m,m=k;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function dc(d,m,k,C){m&=~$p,m&=~Gd,d.suspendedLanes|=m,d.pingedLanes&=~m,C&&(d.warmLanes|=m),C=d.expirationTimes;for(var M=m;0<M;){var R=31-Rn(M),J=1<<R;C[R]=-1,M&=~J}k!==0&&qt(d,k,m)}function Zh(){return(Pi&6)===0?(Xu(0),!1):!0}function kf(){if(Qn!==null){if(Mi===0)var d=Qn.return;else d=Qn,ia=Po=null,Xl(d),tc=null,Ph=0,d=Qn;for(;d!==null;)Zb(d.alternate,d),d=d.return;Qn=null}}function Qu(d,m){var k=d.timeoutHandle;k!==-1&&(d.timeoutHandle=-1,Vs(k)),k=d.cancelPendingCommit,k!==null&&(d.cancelPendingCommit=null,k()),kf(),Gi=d,Qn=k=Ds(d.current,null),di=m,Mi=0,ha=null,lc=!1,_s=Jn(d,m),ff=!1,qu=cr=$p=Gd=Sl=gr=0,Rs=Kh=null,ma=!1,(m&8)!==0&&(m|=m&32);var C=d.entangledLanes;if(C!==0)for(d=d.entanglements,C&=m;0<C;){var M=31-Rn(C),R=1<<M;m|=d[M],C&=~R}return cc=m,gl(),k}function ck(d,m){Xt=null,le.H=Xm,m===el||m===Mu?(m=he(),Mi=3):m===Rd?(m=he(),Mi=4):Mi=m===$b?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,ha=m,Qn===null&&(gr=1,zh(d,pn(m,d.current)))}function dk(){var d=le.H;return le.H=Xm,d===null?Xm:d}function Gp(){var d=le.A;return le.A=ak,d}function Kp(){gr=4,lc||(di&4194048)!==di&&ca.current!==null||(_s=!0),(Sl&134217727)===0&&(Gd&134217727)===0||Gi===null||dc(Gi,di,cr,!1)}function Qp(d,m,k){var C=Pi;Pi|=2;var M=dk(),R=Gp();(Gi!==d||di!==m)&&(Qh=null,Qu(d,m)),m=!1;var J=gr;e:do try{if(Mi!==0&&Qn!==null){var de=Qn,Ne=ha;switch(Mi){case 8:kf(),J=6;break e;case 3:case 2:case 9:case 6:ca.current===null&&(m=!0);var Xe=Mi;if(Mi=0,ha=null,Kd(d,de,Ne,Xe),k&&_s){J=0;break e}break;default:Xe=Mi,Mi=0,ha=null,Kd(d,de,Ne,Xe)}}uk(),J=gr;break}catch(gt){ck(d,gt)}while(!0);return m&&d.shellSuspendCounter++,ia=Po=null,Pi=C,le.H=M,le.A=R,Qn===null&&(Gi=null,di=0,gl()),J}function uk(){for(;Qn!==null;)_f(Qn)}function Sw(d,m){var k=Pi;Pi|=2;var C=dk(),M=Gp();Gi!==d||di!==m?(Qh=null,Zc=Rt()+500,Qu(d,m)):_s=Jn(d,m);e:do try{if(Mi!==0&&Qn!==null){m=Qn;var R=ha;t:switch(Mi){case 1:Mi=0,ha=null,Kd(d,m,R,1);break;case 2:case 9:if(Zl(R)){Mi=0,ha=null,vf(m);break}m=function(){Mi!==2&&Mi!==9||Gi!==d||(Mi=7),jl(d)},R.then(m,m);break e;case 3:Mi=7;break e;case 4:Mi=5;break e;case 7:Zl(R)?(Mi=0,ha=null,vf(m)):(Mi=0,ha=null,Kd(d,m,R,7));break;case 5:var J=null;switch(Qn.tag){case 26:J=Qn.memoizedState;case 5:case 27:var de=Qn;if(!J||bg(J)){Mi=0,ha=null;var Ne=de.sibling;if(Ne!==null)Qn=Ne;else{var Xe=de.return;Xe!==null?(Qn=Xe,Xh(Xe)):Qn=null}break t}}Mi=0,ha=null,Kd(d,m,R,5);break;case 6:Mi=0,ha=null,Kd(d,m,R,6);break;case 8:kf(),gr=6;break e;default:throw Error(o(462))}}hk();break}catch(gt){ck(d,gt)}while(!0);return ia=Po=null,le.H=C,le.A=M,Pi=k,Qn!==null?0:(Gi=null,di=0,gl(),gr)}function hk(){for(;Qn!==null&&!ze();)_f(Qn)}function _f(d){var m=Rp(d.alternate,d,cc);d.memoizedProps=d.pendingProps,m===null?Xh(d):Qn=m}function vf(d){var m=d,k=m.alternate;switch(m.tag){case 15:case 0:m=Ip(k,m,m.pendingProps,m.type,void 0,di);break;case 11:m=Ip(k,m,m.pendingProps,m.type.render,m.ref,di);break;case 5:Xl(m);default:Zb(k,m),m=Qn=Lc(m,cc),m=Rp(k,m,cc)}d.memoizedProps=d.pendingProps,m===null?Xh(d):Qn=m}function Kd(d,m,k,C){ia=Po=null,Xl(m),tc=null,Ph=0;var M=m.return;try{if(ww(d,M,m,k,di)){gr=1,zh(d,pn(k,d.current)),Qn=null;return}}catch(R){if(M!==null)throw Qn=M,R;gr=1,zh(d,pn(k,d.current)),Qn=null;return}m.flags&32768?(kn||C===1?d=!0:_s||(di&536870912)!==0?d=!1:(lc=d=!0,(C===2||C===9||C===3||C===6)&&(C=ca.current,C!==null&&C.tag===13&&(C.flags|=16384))),Zp(m,d)):Xh(m)}function Xh(d){var m=d;do{if((m.flags&32768)!==0){Zp(m,lc);return}d=m.return;var k=xw(m.alternate,m,cc);if(k!==null){Qn=k;return}if(m=m.sibling,m!==null){Qn=m;return}Qn=m=d}while(m!==null);gr===0&&(gr=5)}function Zp(d,m){do{var k=df(d.alternate,d);if(k!==null){k.flags&=32767,Qn=k;return}if(k=d.return,k!==null&&(k.flags|=32768,k.subtreeFlags=0,k.deletions=null),!m&&(d=d.sibling,d!==null)){Qn=d;return}Qn=d=k}while(d!==null);gr=6,Qn=null}function mk(d,m,k,C,M,R,J,de,Ne){d.cancelPendingCommit=null;do ed();while(vs!==0);if((Pi&6)!==0)throw Error(o(327));if(m!==null){if(m===d.current)throw Error(o(177));if(R=m.lanes|m.childLanes,R|=js,Ue(d,k,R,J,de,Ne),d===Gi&&(Qn=Gi=null,di=0),Wu=m,Jc=d,Yu=k,pf=R,gf=M,Gu=C,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,Mw(Dt,function(){return Jh(),null})):(d.callbackNode=null,d.callbackPriority=0),C=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||C){C=le.T,le.T=null,M=_e.p,_e.p=2,J=Pi,Pi|=4;try{Cw(d,m,k)}finally{Pi=J,_e.p=M,le.T=C}}vs=1,Xp(),Jp(),eg()}}function Xp(){if(vs===1){vs=0;var d=Jc,m=Wu,k=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||k){k=le.T,le.T=null;var C=_e.p;_e.p=2;var M=Pi;Pi|=4;try{Kc(m,d);var R=dg,J=pl(d.containerInfo),de=R.focusedElem,Ne=R.selectionRange;if(J!==de&&de&&de.ownerDocument&&Mc(de.ownerDocument.documentElement,de)){if(Ne!==null&&Ga(de)){var Xe=Ne.start,gt=Ne.end;if(gt===void 0&&(gt=Xe),"selectionStart"in de)de.selectionStart=Xe,de.selectionEnd=Math.min(gt,de.value.length);else{var vt=de.ownerDocument||document,et=vt&&vt.defaultView||window;if(et.getSelection){var it=et.getSelection(),On=de.textContent.length,_n=Math.min(Ne.start,On),Fi=Ne.end===void 0?_n:Math.min(Ne.end,On);!it.extend&&_n>Fi&&(J=Fi,Fi=_n,_n=J);var He=Tc(de,_n),Oe=Tc(de,Fi);if(He&&Oe&&(it.rangeCount!==1||it.anchorNode!==He.node||it.anchorOffset!==He.offset||it.focusNode!==Oe.node||it.focusOffset!==Oe.offset)){var Ge=vt.createRange();Ge.setStart(He.node,He.offset),it.removeAllRanges(),_n>Fi?(it.addRange(Ge),it.extend(Oe.node,Oe.offset)):(Ge.setEnd(Oe.node,Oe.offset),it.addRange(Ge))}}}}for(vt=[],it=de;it=it.parentNode;)it.nodeType===1&&vt.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof de.focus=="function"&&de.focus(),de=0;de<vt.length;de++){var _t=vt[de];_t.element.scrollLeft=_t.left,_t.element.scrollTop=_t.top}}Tf=!!li,dg=li=null}finally{Pi=M,_e.p=C,le.T=k}}d.current=m,vs=2}}function Jp(){if(vs===2){vs=0;var d=Jc,m=Wu,k=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||k){k=le.T,le.T=null;var C=_e.p;_e.p=2;var M=Pi;Pi|=4;try{Gh(d,m.alternate,m)}finally{Pi=M,_e.p=C,le.T=k}}vs=3}}function eg(){if(vs===4||vs===3){vs=0,ut();var d=Jc,m=Wu,k=Yu,C=Gu;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?vs=5:(vs=0,Wu=Jc=null,fk(d,d.pendingLanes));var M=d.pendingLanes;if(M===0&&(Xc=null),Re(k),m=m.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(bt,m,void 0,(m.current.flags&128)===128)}catch{}if(C!==null){m=le.T,M=_e.p,_e.p=2,le.T=null;try{for(var R=d.onRecoverableError,J=0;J<C.length;J++){var de=C[J];R(de.value,{componentStack:de.stack})}}finally{le.T=m,_e.p=M}}(Yu&3)!==0&&ed(),jl(d),M=d.pendingLanes,(k&4194090)!==0&&(M&42)!==0?d===bf?Ku++:(Ku=0,bf=d):Ku=0,Xu(0)}}function fk(d,m){(d.pooledCacheLanes&=m)===0&&(m=d.pooledCache,m!=null&&(d.pooledCache=null,mr(m)))}function ed(d){return Xp(),Jp(),eg(),Jh()}function Jh(){if(vs!==5)return!1;var d=Jc,m=pf;pf=0;var k=Re(Yu),C=le.T,M=_e.p;try{_e.p=32>k?32:k,le.T=null,k=gf,gf=null;var R=Jc,J=Yu;if(vs=0,Wu=Jc=null,Yu=0,(Pi&6)!==0)throw Error(o(331));var de=Pi;if(Pi|=4,sk(R.current),Hp(R,R.current,J,k),Pi=de,Xu(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(bt,R)}catch{}return!0}finally{_e.p=M,le.T=C,fk(d,m)}}function pk(d,m,k){m=pn(k,m),m=Dp(d.stateNode,m,2),d=Wt(d,m,2),d!==null&&(tr(d,2),jl(d))}function Ki(d,m,k){if(d.tag===3)pk(d,d,k);else for(;m!==null;){if(m.tag===3){pk(m,d,k);break}else if(m.tag===1){var C=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Xc===null||!Xc.has(C))){d=pn(k,d),k=Tp(2),C=Wt(m,k,2),C!==null&&(Ub(k,C,m,d),tr(C,2),jl(C));break}}m=m.return}}function uc(d,m,k){var C=d.pingCache;if(C===null){C=d.pingCache=new Nw;var M=new Set;C.set(m,M)}else M=C.get(m),M===void 0&&(M=new Set,C.set(m,M));M.has(k)||(ff=!0,M.add(k),d=jw.bind(null,d,m,k),m.then(d,d))}function jw(d,m,k){var C=d.pingCache;C!==null&&C.delete(m),d.pingedLanes|=d.suspendedLanes&k,d.warmLanes&=~k,Gi===d&&(di&k)===k&&(gr===4||gr===3&&(di&62914560)===di&&300>Rt()-qp?(Pi&2)===0&&Qu(d,0):$p|=k,qu===di&&(qu=0)),jl(d)}function gk(d,m){m===0&&(m=or()),d=Jr(d,m),d!==null&&(tr(d,m),jl(d))}function Dw(d){var m=d.memoizedState,k=0;m!==null&&(k=m.retryLane),gk(d,k)}function Tw(d,m){var k=0;switch(d.tag){case 13:var C=d.stateNode,M=d.memoizedState;M!==null&&(k=M.retryLane);break;case 19:C=d.stateNode;break;case 22:C=d.stateNode._retryCache;break;default:throw Error(o(314))}C!==null&&C.delete(m),gk(d,k)}function Mw(d,m){return Te(d,m)}var wf=null,Zu=null,tg=!1,yf=!1,hc=!1,Qd=0;function jl(d){d!==Zu&&d.next===null&&(Zu===null?wf=Zu=d:Zu=Zu.next=d),yf=!0,tg||(tg=!0,Ow())}function Xu(d,m){if(!hc&&yf){hc=!0;do for(var k=!1,C=wf;C!==null;){if(d!==0){var M=C.pendingLanes;if(M===0)var R=0;else{var J=C.suspendedLanes,de=C.pingedLanes;R=(1<<31-Rn(42|d)+1)-1,R&=M&~(J&~de),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(k=!0,_k(C,R))}else R=di,R=ii(C,C===Gi?R:0,C.cancelPendingCommit!==null||C.timeoutHandle!==-1),(R&3)===0||Jn(C,R)||(k=!0,_k(C,R));C=C.next}while(k);hc=!1}}function Iw(){bk()}function bk(){yf=tg=!1;var d=0;Qd!==0&&(Nk()&&(d=Qd),Qd=0);for(var m=Rt(),k=null,C=wf;C!==null;){var M=C.next,R=kk(C,m);R===0?(C.next=null,k===null?wf=M:k.next=M,M===null&&(Zu=k)):(k=C,(d!==0||(R&3)!==0)&&(yf=!0)),C=M}Xu(d)}function kk(d,m){for(var k=d.suspendedLanes,C=d.pingedLanes,M=d.expirationTimes,R=d.pendingLanes&-62914561;0<R;){var J=31-Rn(R),de=1<<J,Ne=M[J];Ne===-1?((de&k)===0||(de&C)!==0)&&(M[J]=Br(de,m)):Ne<=m&&(d.expiredLanes|=de),R&=~de}if(m=Gi,k=di,k=ii(d,d===m?k:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),C=d.callbackNode,k===0||d===m&&(Mi===2||Mi===9)||d.cancelPendingCommit!==null)return C!==null&&C!==null&&ht(C),d.callbackNode=null,d.callbackPriority=0;if((k&3)===0||Jn(d,k)){if(m=k&-k,m===d.callbackPriority)return m;switch(C!==null&&ht(C),Re(k)){case 2:case 8:k=jt;break;case 32:k=Dt;break;case 268435456:k=Mt;break;default:k=Dt}return C=ng.bind(null,d),k=Te(k,C),d.callbackPriority=m,d.callbackNode=k,m}return C!==null&&C!==null&&ht(C),d.callbackPriority=2,d.callbackNode=null,2}function ng(d,m){if(vs!==0&&vs!==5)return d.callbackNode=null,d.callbackPriority=0,null;var k=d.callbackNode;if(ed()&&d.callbackNode!==k)return null;var C=di;return C=ii(d,d===Gi?C:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),C===0?null:(Yp(d,C,m),kk(d,Rt()),d.callbackNode!=null&&d.callbackNode===k?ng.bind(null,d):null)}function _k(d,m){if(ed())return null;Yp(d,m,!0)}function Ow(){Bw(function(){(Pi&6)!==0?Te(ot,Iw):bk()})}function xf(){return Qd===0&&(Qd=fi()),Qd}function vk(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:tn(""+d)}function wk(d,m){var k=m.ownerDocument.createElement("input");return k.name=m.name,k.value=m.value,d.id&&k.setAttribute("form",d.id),m.parentNode.insertBefore(k,m),d=new FormData(d),k.parentNode.removeChild(k),d}function Lw(d,m,k,C,M){if(m==="submit"&&k&&k.stateNode===M){var R=vk((M[En]||null).action),J=C.submitter;J&&(m=(m=J[En]||null)?vk(m.formAction):J.getAttribute("formAction"),m!==null&&(R=m,J=null));var de=new Jo("action","action",null,C,M);d.push({event:de,listeners:[{instance:null,listener:function(){if(C.defaultPrevented){if(Qd!==0){var Ne=J?wk(M,J):new FormData(M);Pt(k,{pending:!0,data:Ne,method:M.method,action:R},null,Ne)}}else typeof R=="function"&&(de.preventDefault(),Ne=J?wk(M,J):new FormData(M),Pt(k,{pending:!0,data:Ne,method:M.method,action:R},R,Ne))},currentTarget:M}]})}}for(var ig=0;ig<Lo.length;ig++){var rg=Lo[ig],sg=rg.toLowerCase(),yk=rg[0].toUpperCase()+rg.slice(1);eo(sg,"on"+yk)}eo(Xr,"onAnimationEnd"),eo(nr,"onAnimationIteration"),eo(Za,"onAnimationStart"),eo("dblclick","onDoubleClick"),eo("focusin","onFocus"),eo("focusout","onBlur"),eo(Js,"onTransitionRun"),eo(Yl,"onTransitionStart"),eo(Od,"onTransitionCancel"),eo(Gl,"onTransitionEnd"),Yr("onMouseEnter",["mouseout","mouseover"]),Yr("onMouseLeave",["mouseout","mouseover"]),Yr("onPointerEnter",["pointerout","pointerover"]),Yr("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),og=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zs));function ag(d,m){m=(m&4)!==0;for(var k=0;k<d.length;k++){var C=d[k],M=C.event;C=C.listeners;e:{var R=void 0;if(m)for(var J=C.length-1;0<=J;J--){var de=C[J],Ne=de.instance,Xe=de.currentTarget;if(de=de.listener,Ne!==R&&M.isPropagationStopped())break e;R=de,M.currentTarget=Xe;try{R(M)}catch(gt){so(gt)}M.currentTarget=null,R=Ne}else for(J=0;J<C.length;J++){if(de=C[J],Ne=de.instance,Xe=de.currentTarget,de=de.listener,Ne!==R&&M.isPropagationStopped())break e;R=de,M.currentTarget=Xe;try{R(M)}catch(gt){so(gt)}M.currentTarget=null,R=Ne}}}}function Un(d,m){var k=m[hi];k===void 0&&(k=m[hi]=new Set);var C=d+"__bubble";k.has(C)||(lg(m,d,2,!1),k.add(C))}function Cf(d,m,k){var C=0;m&&(C|=4),lg(k,d,C,m)}var td="_reactListening"+Math.random().toString(36).slice(2);function Zd(d){if(!d[td]){d[td]=!0,ar.forEach(function(k){k!=="selectionchange"&&(og.has(k)||Cf(k,!1,d),Cf(k,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[td]||(m[td]=!0,Cf("selectionchange",!1,m))}}function lg(d,m,k,C){switch(Yk(m)){case 2:var M=vg;break;case 8:M=fc;break;default:M=wg}k=M.bind(null,m,k,d),M=void 0,!mo||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(M=!0),C?M!==void 0?d.addEventListener(m,k,{capture:!0,passive:M}):d.addEventListener(m,k,!0):M!==void 0?d.addEventListener(m,k,{passive:M}):d.addEventListener(m,k,!1)}function ui(d,m,k,C,M){var R=C;if((m&1)===0&&(m&2)===0&&C!==null)e:for(;;){if(C===null)return;var J=C.tag;if(J===3||J===4){var de=C.stateNode.containerInfo;if(de===M)break;if(J===4)for(J=C.return;J!==null;){var Ne=J.tag;if((Ne===3||Ne===4)&&J.stateNode.containerInfo===M)return;J=J.return}for(;de!==null;){if(J=Tt(de),J===null)return;if(Ne=J.tag,Ne===5||Ne===6||Ne===26||Ne===27){C=R=J;continue e}de=de.parentNode}}C=C.return}Ui(function(){var Xe=R,gt=ki(k),vt=[];e:{var et=qi.get(d);if(et!==void 0){var it=Jo,On=d;switch(d){case"keypress":if(Mn(k)===0)break e;case"keydown":case"keyup":it=Cd;break;case"focusin":On="focus",it=Va;break;case"focusout":On="blur",it=Va;break;case"beforeblur":case"afterblur":it=Va;break;case"click":if(k.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=Ns;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=Cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=Eu;break;case Xr:case nr:case Za:it=Au;break;case Gl:it=xh;break;case"scroll":case"scrollend":it=wd;break;case"wheel":it=Sd;break;case"copy":case"cut":case"paste":it=Ac;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=Mo;break;case"toggle":case"beforetoggle":it=ea}var _n=(m&4)!==0,Fi=!_n&&(d==="scroll"||d==="scrollend"),He=_n?et!==null?et+"Capture":null:et;_n=[];for(var Oe=Xe,Ge;Oe!==null;){var _t=Oe;if(Ge=_t.stateNode,_t=_t.tag,_t!==5&&_t!==26&&_t!==27||Ge===null||He===null||(_t=ei(Oe,He),_t!=null&&_n.push(yr(Oe,_t,Ge))),Fi)break;Oe=Oe.return}0<_n.length&&(et=new it(et,On,null,k,gt),vt.push({event:et,listeners:_n}))}}if((m&7)===0){e:{if(et=d==="mouseover"||d==="pointerover",it=d==="mouseout"||d==="pointerout",et&&k!==Tn&&(On=k.relatedTarget||k.fromElement)&&(Tt(On)||On[Dn]))break e;if((it||et)&&(et=gt.window===gt?gt:(et=gt.ownerDocument)?et.defaultView||et.parentWindow:window,it?(On=k.relatedTarget||k.toElement,it=Xe,On=On?Tt(On):null,On!==null&&(Fi=g(On),_n=On.tag,On!==Fi||_n!==5&&_n!==27&&_n!==6)&&(On=null)):(it=null,On=Xe),it!==On)){if(_n=Ns,_t="onMouseLeave",He="onMouseEnter",Oe="mouse",(d==="pointerout"||d==="pointerover")&&(_n=Mo,_t="onPointerLeave",He="onPointerEnter",Oe="pointer"),Fi=it==null?et:fn(it),Ge=On==null?et:fn(On),et=new _n(_t,Oe+"leave",it,k,gt),et.target=Fi,et.relatedTarget=Ge,_t=null,Tt(gt)===Xe&&(_n=new _n(He,Oe+"enter",On,k,gt),_n.target=Ge,_n.relatedTarget=Fi,_t=_n),Fi=_t,it&&On)t:{for(_n=it,He=On,Oe=0,Ge=_n;Ge;Ge=Qi(Ge))Oe++;for(Ge=0,_t=He;_t;_t=Qi(_t))Ge++;for(;0<Oe-Ge;)_n=Qi(_n),Oe--;for(;0<Ge-Oe;)He=Qi(He),Ge--;for(;Oe--;){if(_n===He||He!==null&&_n===He.alternate)break t;_n=Qi(_n),He=Qi(He)}_n=null}else _n=null;it!==null&&Co(vt,et,it,_n,!1),On!==null&&Fi!==null&&Co(vt,Fi,On,_n,!0)}}e:{if(et=Xe?fn(Xe):window,it=et.nodeName&&et.nodeName.toLowerCase(),it==="select"||it==="input"&&et.type==="file")var sn=ml;else if(Wa(et))if(Ya)sn=ju;else{sn=Su;var ti=Dc}else it=et.nodeName,!it||it.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?Xe&&Ys(Xe.elementType)&&(sn=ml):sn=ko;if(sn&&(sn=sn(d,Xe))){Qs(vt,sn,k,gt);break e}ti&&ti(d,et,Xe),d==="focusout"&&Xe&&et.type==="number"&&Xe.memoizedProps.value!=null&&qs(et,"number",et.value)}switch(ti=Xe?fn(Xe):window,d){case"focusin":(Wa(ti)||ti.contentEditable==="true")&&(Xs=ti,Ka=Xe,va=null);break;case"focusout":va=Ka=Xs=null;break;case"mousedown":pi=!0;break;case"contextmenu":case"mouseup":case"dragend":pi=!1,Oc(vt,k,gt);break;case"selectionchange":if(Ic)break;case"keydown":case"keyup":Oc(vt,k,gt)}var un;if(Ua)e:{switch(d){case"compositionstart":var Nn="onCompositionStart";break e;case"compositionend":Nn="onCompositionEnd";break e;case"compositionupdate":Nn="onCompositionUpdate";break e}Nn=void 0}else qa?Wl(d,k)&&(Nn="onCompositionEnd"):d==="keydown"&&k.keyCode===229&&(Nn="onCompositionStart");Nn&&($l&&k.locale!=="ko"&&(qa||Nn!=="onCompositionStart"?Nn==="onCompositionEnd"&&qa&&(un=Do()):(Qr=gt,fo="value"in Qr?Qr.value:Qr.textContent,qa=!0)),ti=Ni(Xe,Nn),0<ti.length&&(Nn=new Rr(Nn,d,null,k,gt),vt.push({event:Nn,listeners:ti}),un?Nn.data=un:(un=jd(k),un!==null&&(Nn.data=un)))),(un=Io?Dd(d,k):Ch(d,k))&&(Nn=Ni(Xe,"onBeforeInput"),0<Nn.length&&(ti=new Rr("onBeforeInput","beforeinput",null,k,gt),vt.push({event:ti,listeners:Nn}),ti.data=un)),Lw(vt,d,Xe,k,gt)}ag(vt,m)})}function yr(d,m,k){return{instance:d,listener:m,currentTarget:k}}function Ni(d,m){for(var k=m+"Capture",C=[];d!==null;){var M=d,R=M.stateNode;if(M=M.tag,M!==5&&M!==26&&M!==27||R===null||(M=ei(d,k),M!=null&&C.unshift(yr(d,M,R)),M=ei(d,m),M!=null&&C.push(yr(d,M,R))),d.tag===3)return C;d=d.return}return[]}function Qi(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function Co(d,m,k,C,M){for(var R=m._reactName,J=[];k!==null&&k!==C;){var de=k,Ne=de.alternate,Xe=de.stateNode;if(de=de.tag,Ne!==null&&Ne===C)break;de!==5&&de!==26&&de!==27||Xe===null||(Ne=Xe,M?(Xe=ei(k,R),Xe!=null&&J.unshift(yr(k,Xe,Ne))):M||(Xe=ei(k,R),Xe!=null&&J.push(yr(k,Xe,Ne)))),k=k.return}J.length!==0&&d.push({event:m,listeners:J})}var xk=/\r\n?/g,Ir=/\u0000|\uFFFD/g;function Ur(d){return(typeof d=="string"?d:""+d).replace(xk,`
`).replace(Ir,"")}function Ao(d,m){return m=Ur(m),Ur(d)===m}function ja(){}function si(d,m,k,C,M,R){switch(k){case"children":typeof C=="string"?m==="body"||m==="textarea"&&C===""||Er(d,C):(typeof C=="number"||typeof C=="bigint")&&m!=="body"&&Er(d,""+C);break;case"className":uo(d,"class",C);break;case"tabIndex":uo(d,"tabindex",C);break;case"dir":case"role":case"viewBox":case"width":case"height":uo(d,k,C);break;case"style":xs(d,C,R);break;case"data":if(m!=="object"){uo(d,"data",C);break}case"src":case"href":if(C===""&&(m!=="a"||k!=="href")){d.removeAttribute(k);break}if(C==null||typeof C=="function"||typeof C=="symbol"||typeof C=="boolean"){d.removeAttribute(k);break}C=tn(""+C),d.setAttribute(k,C);break;case"action":case"formAction":if(typeof C=="function"){d.setAttribute(k,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof R=="function"&&(k==="formAction"?(m!=="input"&&si(d,m,"name",M.name,M,null),si(d,m,"formEncType",M.formEncType,M,null),si(d,m,"formMethod",M.formMethod,M,null),si(d,m,"formTarget",M.formTarget,M,null)):(si(d,m,"encType",M.encType,M,null),si(d,m,"method",M.method,M,null),si(d,m,"target",M.target,M,null)));if(C==null||typeof C=="symbol"||typeof C=="boolean"){d.removeAttribute(k);break}C=tn(""+C),d.setAttribute(k,C);break;case"onClick":C!=null&&(d.onclick=ja);break;case"onScroll":C!=null&&Un("scroll",d);break;case"onScrollEnd":C!=null&&Un("scrollend",d);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(o(61));if(k=C.__html,k!=null){if(M.children!=null)throw Error(o(60));d.innerHTML=k}}break;case"multiple":d.multiple=C&&typeof C!="function"&&typeof C!="symbol";break;case"muted":d.muted=C&&typeof C!="function"&&typeof C!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(C==null||typeof C=="function"||typeof C=="boolean"||typeof C=="symbol"){d.removeAttribute("xlink:href");break}k=tn(""+C),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",k);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":C!=null&&typeof C!="function"&&typeof C!="symbol"?d.setAttribute(k,""+C):d.removeAttribute(k);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":C&&typeof C!="function"&&typeof C!="symbol"?d.setAttribute(k,""):d.removeAttribute(k);break;case"capture":case"download":C===!0?d.setAttribute(k,""):C!==!1&&C!=null&&typeof C!="function"&&typeof C!="symbol"?d.setAttribute(k,C):d.removeAttribute(k);break;case"cols":case"rows":case"size":case"span":C!=null&&typeof C!="function"&&typeof C!="symbol"&&!isNaN(C)&&1<=C?d.setAttribute(k,C):d.removeAttribute(k);break;case"rowSpan":case"start":C==null||typeof C=="function"||typeof C=="symbol"||isNaN(C)?d.removeAttribute(k):d.setAttribute(k,C);break;case"popover":Un("beforetoggle",d),Un("toggle",d),ka(d,"popover",C);break;case"xlinkActuate":$s(d,"http://www.w3.org/1999/xlink","xlink:actuate",C);break;case"xlinkArcrole":$s(d,"http://www.w3.org/1999/xlink","xlink:arcrole",C);break;case"xlinkRole":$s(d,"http://www.w3.org/1999/xlink","xlink:role",C);break;case"xlinkShow":$s(d,"http://www.w3.org/1999/xlink","xlink:show",C);break;case"xlinkTitle":$s(d,"http://www.w3.org/1999/xlink","xlink:title",C);break;case"xlinkType":$s(d,"http://www.w3.org/1999/xlink","xlink:type",C);break;case"xmlBase":$s(d,"http://www.w3.org/XML/1998/namespace","xml:base",C);break;case"xmlLang":$s(d,"http://www.w3.org/XML/1998/namespace","xml:lang",C);break;case"xmlSpace":$s(d,"http://www.w3.org/XML/1998/namespace","xml:space",C);break;case"is":ka(d,"is",C);break;case"innerText":case"textContent":break;default:(!(2<k.length)||k[0]!=="o"&&k[0]!=="O"||k[1]!=="n"&&k[1]!=="N")&&(k=xe.get(k)||k,ka(d,k,C))}}function qo(d,m,k,C,M,R){switch(k){case"style":xs(d,C,R);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(o(61));if(k=C.__html,k!=null){if(M.children!=null)throw Error(o(60));d.innerHTML=k}}break;case"children":typeof C=="string"?Er(d,C):(typeof C=="number"||typeof C=="bigint")&&Er(d,""+C);break;case"onScroll":C!=null&&Un("scroll",d);break;case"onScrollEnd":C!=null&&Un("scrollend",d);break;case"onClick":C!=null&&(d.onclick=ja);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yn.hasOwnProperty(k))e:{if(k[0]==="o"&&k[1]==="n"&&(M=k.endsWith("Capture"),m=k.slice(2,M?k.length-7:void 0),R=d[En]||null,R=R!=null?R[k]:null,typeof R=="function"&&d.removeEventListener(m,R,M),typeof C=="function")){typeof R!="function"&&R!==null&&(k in d?d[k]=null:d.hasAttribute(k)&&d.removeAttribute(k)),d.addEventListener(m,C,M);break e}k in d?d[k]=C:C===!0?d.setAttribute(k,""):ka(d,k,C)}}}function Fs(d,m,k){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Un("error",d),Un("load",d);var C=!1,M=!1,R;for(R in k)if(k.hasOwnProperty(R)){var J=k[R];if(J!=null)switch(R){case"src":C=!0;break;case"srcSet":M=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,m));default:si(d,m,R,J,k,null)}}M&&si(d,m,"srcSet",k.srcSet,k,null),C&&si(d,m,"src",k.src,k,null);return;case"input":Un("invalid",d);var de=R=J=M=null,Ne=null,Xe=null;for(C in k)if(k.hasOwnProperty(C)){var gt=k[C];if(gt!=null)switch(C){case"name":M=gt;break;case"type":J=gt;break;case"checked":Ne=gt;break;case"defaultChecked":Xe=gt;break;case"value":R=gt;break;case"defaultValue":de=gt;break;case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(o(137,m));break;default:si(d,m,C,gt,k,null)}}za(d,R,de,Ne,Xe,J,M,!1),Kr(d);return;case"select":Un("invalid",d),C=J=R=null;for(M in k)if(k.hasOwnProperty(M)&&(de=k[M],de!=null))switch(M){case"value":R=de;break;case"defaultValue":J=de;break;case"multiple":C=de;default:si(d,m,M,de,k,null)}m=R,k=J,d.multiple=!!C,m!=null?Hi(d,!!C,m,!1):k!=null&&Hi(d,!!C,k,!0);return;case"textarea":Un("invalid",d),R=M=C=null;for(J in k)if(k.hasOwnProperty(J)&&(de=k[J],de!=null))switch(J){case"value":C=de;break;case"defaultValue":M=de;break;case"children":R=de;break;case"dangerouslySetInnerHTML":if(de!=null)throw Error(o(91));break;default:si(d,m,J,de,k,null)}Pr(d,C,M,R),Kr(d);return;case"option":for(Ne in k)if(k.hasOwnProperty(Ne)&&(C=k[Ne],C!=null))switch(Ne){case"selected":d.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:si(d,m,Ne,C,k,null)}return;case"dialog":Un("beforetoggle",d),Un("toggle",d),Un("cancel",d),Un("close",d);break;case"iframe":case"object":Un("load",d);break;case"video":case"audio":for(C=0;C<zs.length;C++)Un(zs[C],d);break;case"image":Un("error",d),Un("load",d);break;case"details":Un("toggle",d);break;case"embed":case"source":case"link":Un("error",d),Un("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Xe in k)if(k.hasOwnProperty(Xe)&&(C=k[Xe],C!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,m));default:si(d,m,Xe,C,k,null)}return;default:if(Ys(m)){for(gt in k)k.hasOwnProperty(gt)&&(C=k[gt],C!==void 0&&qo(d,m,gt,C,k,void 0));return}}for(de in k)k.hasOwnProperty(de)&&(C=k[de],C!=null&&si(d,m,de,C,k,null))}function cg(d,m,k,C){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var M=null,R=null,J=null,de=null,Ne=null,Xe=null,gt=null;for(it in k){var vt=k[it];if(k.hasOwnProperty(it)&&vt!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":Ne=vt;default:C.hasOwnProperty(it)||si(d,m,it,null,C,vt)}}for(var et in C){var it=C[et];if(vt=k[et],C.hasOwnProperty(et)&&(it!=null||vt!=null))switch(et){case"type":R=it;break;case"name":M=it;break;case"checked":Xe=it;break;case"defaultChecked":gt=it;break;case"value":J=it;break;case"defaultValue":de=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(o(137,m));break;default:it!==vt&&si(d,m,et,it,C,vt)}}Ai(d,J,de,Ne,Xe,gt,R,M);return;case"select":it=J=de=et=null;for(R in k)if(Ne=k[R],k.hasOwnProperty(R)&&Ne!=null)switch(R){case"value":break;case"multiple":it=Ne;default:C.hasOwnProperty(R)||si(d,m,R,null,C,Ne)}for(M in C)if(R=C[M],Ne=k[M],C.hasOwnProperty(M)&&(R!=null||Ne!=null))switch(M){case"value":et=R;break;case"defaultValue":de=R;break;case"multiple":J=R;default:R!==Ne&&si(d,m,M,R,C,Ne)}m=de,k=J,C=it,et!=null?Hi(d,!!k,et,!1):!!C!=!!k&&(m!=null?Hi(d,!!k,m,!0):Hi(d,!!k,k?[]:"",!1));return;case"textarea":it=et=null;for(de in k)if(M=k[de],k.hasOwnProperty(de)&&M!=null&&!C.hasOwnProperty(de))switch(de){case"value":break;case"children":break;default:si(d,m,de,null,C,M)}for(J in C)if(M=C[J],R=k[J],C.hasOwnProperty(J)&&(M!=null||R!=null))switch(J){case"value":et=M;break;case"defaultValue":it=M;break;case"children":break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(o(91));break;default:M!==R&&si(d,m,J,M,C,R)}$n(d,et,it);return;case"option":for(var On in k)if(et=k[On],k.hasOwnProperty(On)&&et!=null&&!C.hasOwnProperty(On))switch(On){case"selected":d.selected=!1;break;default:si(d,m,On,null,C,et)}for(Ne in C)if(et=C[Ne],it=k[Ne],C.hasOwnProperty(Ne)&&et!==it&&(et!=null||it!=null))switch(Ne){case"selected":d.selected=et&&typeof et!="function"&&typeof et!="symbol";break;default:si(d,m,Ne,et,C,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _n in k)et=k[_n],k.hasOwnProperty(_n)&&et!=null&&!C.hasOwnProperty(_n)&&si(d,m,_n,null,C,et);for(Xe in C)if(et=C[Xe],it=k[Xe],C.hasOwnProperty(Xe)&&et!==it&&(et!=null||it!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(o(137,m));break;default:si(d,m,Xe,et,C,it)}return;default:if(Ys(m)){for(var Fi in k)et=k[Fi],k.hasOwnProperty(Fi)&&et!==void 0&&!C.hasOwnProperty(Fi)&&qo(d,m,Fi,void 0,C,et);for(gt in C)et=C[gt],it=k[gt],!C.hasOwnProperty(gt)||et===it||et===void 0&&it===void 0||qo(d,m,gt,et,C,it);return}}for(var He in k)et=k[He],k.hasOwnProperty(He)&&et!=null&&!C.hasOwnProperty(He)&&si(d,m,He,null,C,et);for(vt in C)et=C[vt],it=k[vt],!C.hasOwnProperty(vt)||et===it||et==null&&it==null||si(d,m,vt,et,C,it)}var li=null,dg=null;function em(d){return d.nodeType===9?d:d.ownerDocument}function Ck(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ak(d,m){if(d===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&m==="foreignObject"?0:d}function Af(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var Nf=null;function Nk(){var d=window.event;return d&&d.type==="popstate"?d===Nf?!1:(Nf=d,!0):(Nf=null,!1)}var Xd=typeof setTimeout=="function"?setTimeout:void 0,Vs=typeof clearTimeout=="function"?clearTimeout:void 0,Ek=typeof Promise=="function"?Promise:void 0,Bw=typeof queueMicrotask=="function"?queueMicrotask:typeof Ek<"u"?function(d){return Ek.resolve(null).then(d).catch(Ju)}:Xd;function Ju(d){setTimeout(function(){throw d})}function nd(d){return d==="head"}function Sk(d,m){var k=m,C=0,M=0;do{var R=k.nextSibling;if(d.removeChild(k),R&&R.nodeType===8)if(k=R.data,k==="/$"){if(0<C&&8>C){k=C;var J=d.ownerDocument;if(k&1&&tm(J.documentElement),k&2&&tm(J.body),k&4)for(k=J.head,tm(k),J=k.firstChild;J;){var de=J.nextSibling,Ne=J.nodeName;J[Se]||Ne==="SCRIPT"||Ne==="STYLE"||Ne==="LINK"&&J.rel.toLowerCase()==="stylesheet"||k.removeChild(J),J=de}}if(M===0){d.removeChild(R),sh(m);return}M--}else k==="$"||k==="$?"||k==="$!"?M++:C=k.charCodeAt(0)-48;else C=0;k=R}while(k);sh(m)}function ug(d){var m=d.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var k=m;switch(m=m.nextSibling,k.nodeName){case"HTML":case"HEAD":case"BODY":ug(k),Et(k);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(k.rel.toLowerCase()==="stylesheet")continue}d.removeChild(k)}}function jk(d,m,k,C){for(;d.nodeType===1;){var M=k;if(d.nodeName.toLowerCase()!==m.toLowerCase()){if(!C&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(C){if(!d[Se])switch(m){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(R=d.getAttribute("rel"),R==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(R!==M.rel||d.getAttribute("href")!==(M.href==null||M.href===""?null:M.href)||d.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin)||d.getAttribute("title")!==(M.title==null?null:M.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(R=d.getAttribute("src"),(R!==(M.src==null?null:M.src)||d.getAttribute("type")!==(M.type==null?null:M.type)||d.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin))&&R&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(m==="input"&&d.type==="hidden"){var R=M.name==null?null:""+M.name;if(M.type==="hidden"&&d.getAttribute("name")===R)return d}else return d;if(d=Da(d.nextSibling),d===null)break}return null}function Pw(d,m,k){if(m==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!k||(d=Da(d.nextSibling),d===null))return null;return d}function hg(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState==="complete"}function Dk(d,m){var k=d.ownerDocument;if(d.data!=="$?"||k.readyState==="complete")m();else{var C=function(){m(),k.removeEventListener("DOMContentLoaded",C)};k.addEventListener("DOMContentLoaded",C),d._reactRetry=C}}function Da(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?"||m==="F!"||m==="F")break;if(m==="/$")return null}}return d}var mg=null;function fg(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var k=d.data;if(k==="$"||k==="$!"||k==="$?"){if(m===0)return d;m--}else k==="/$"&&m++}d=d.previousSibling}return null}function Tk(d,m,k){switch(m=em(k),d){case"html":if(d=m.documentElement,!d)throw Error(o(452));return d;case"head":if(d=m.head,!d)throw Error(o(453));return d;case"body":if(d=m.body,!d)throw Error(o(454));return d;default:throw Error(o(451))}}function tm(d){for(var m=d.attributes;m.length;)d.removeAttributeNode(m[0]);Et(d)}var Ta=new Map,nm=new Set;function Ef(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var mc=_e.d;_e.d={f:Rw,r:Mk,D:Ok,C:Lk,L:Bk,m:Pk,X:Rk,S:zw,M:Fw};function Rw(){var d=mc.f(),m=Zh();return d||m}function Mk(d){var m=vn(d);m!==null&&m.tag===5&&m.type==="form"?Lh(m):mc.r(d)}var eh=typeof document>"u"?null:document;function Ik(d,m,k){var C=eh;if(C&&typeof m=="string"&&m){var M=Di(m);M='link[rel="'+d+'"][href="'+M+'"]',typeof k=="string"&&(M+='[crossorigin="'+k+'"]'),nm.has(M)||(nm.add(M),d={rel:d,crossOrigin:k,href:m},C.querySelector(M)===null&&(m=C.createElement("link"),Fs(m,"link",d),an(m),C.head.appendChild(m)))}}function Ok(d){mc.D(d),Ik("dns-prefetch",d,null)}function Lk(d,m){mc.C(d,m),Ik("preconnect",d,m)}function Bk(d,m,k){mc.L(d,m,k);var C=eh;if(C&&d&&m){var M='link[rel="preload"][as="'+Di(m)+'"]';m==="image"&&k&&k.imageSrcSet?(M+='[imagesrcset="'+Di(k.imageSrcSet)+'"]',typeof k.imageSizes=="string"&&(M+='[imagesizes="'+Di(k.imageSizes)+'"]')):M+='[href="'+Di(d)+'"]';var R=M;switch(m){case"style":R=th(d);break;case"script":R=Jd(d)}Ta.has(R)||(d=S({rel:"preload",href:m==="image"&&k&&k.imageSrcSet?void 0:d,as:m},k),Ta.set(R,d),C.querySelector(M)!==null||m==="style"&&C.querySelector(nh(R))||m==="script"&&C.querySelector(im(R))||(m=C.createElement("link"),Fs(m,"link",d),an(m),C.head.appendChild(m)))}}function Pk(d,m){mc.m(d,m);var k=eh;if(k&&d){var C=m&&typeof m.as=="string"?m.as:"script",M='link[rel="modulepreload"][as="'+Di(C)+'"][href="'+Di(d)+'"]',R=M;switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":R=Jd(d)}if(!Ta.has(R)&&(d=S({rel:"modulepreload",href:d},m),Ta.set(R,d),k.querySelector(M)===null)){switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(k.querySelector(im(R)))return}C=k.createElement("link"),Fs(C,"link",d),an(C),k.head.appendChild(C)}}}function zw(d,m,k){mc.S(d,m,k);var C=eh;if(C&&d){var M=Pn(C).hoistableStyles,R=th(d);m=m||"default";var J=M.get(R);if(!J){var de={loading:0,preload:null};if(J=C.querySelector(nh(R)))de.loading=5;else{d=S({rel:"stylesheet",href:d,"data-precedence":m},k),(k=Ta.get(R))&&ol(d,k);var Ne=J=C.createElement("link");an(Ne),Fs(Ne,"link",d),Ne._p=new Promise(function(Xe,gt){Ne.onload=Xe,Ne.onerror=gt}),Ne.addEventListener("load",function(){de.loading|=1}),Ne.addEventListener("error",function(){de.loading|=2}),de.loading|=4,Sf(J,m,C)}J={type:"stylesheet",instance:J,count:1,state:de},M.set(R,J)}}}function Rk(d,m){mc.X(d,m);var k=eh;if(k&&d){var C=Pn(k).hoistableScripts,M=Jd(d),R=C.get(M);R||(R=k.querySelector(im(M)),R||(d=S({src:d,async:!0},m),(m=Ta.get(M))&&pg(d,m),R=k.createElement("script"),an(R),Fs(R,"link",d),k.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},C.set(M,R))}}function Fw(d,m){mc.M(d,m);var k=eh;if(k&&d){var C=Pn(k).hoistableScripts,M=Jd(d),R=C.get(M);R||(R=k.querySelector(im(M)),R||(d=S({src:d,async:!0,type:"module"},m),(m=Ta.get(M))&&pg(d,m),R=k.createElement("script"),an(R),Fs(R,"link",d),k.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},C.set(M,R))}}function zk(d,m,k,C){var M=(M=te.current)?Ef(M):null;if(!M)throw Error(o(446));switch(d){case"meta":case"title":return null;case"style":return typeof k.precedence=="string"&&typeof k.href=="string"?(m=th(k.href),k=Pn(M).hoistableStyles,C=k.get(m),C||(C={type:"style",instance:null,count:0,state:null},k.set(m,C)),C):{type:"void",instance:null,count:0,state:null};case"link":if(k.rel==="stylesheet"&&typeof k.href=="string"&&typeof k.precedence=="string"){d=th(k.href);var R=Pn(M).hoistableStyles,J=R.get(d);if(J||(M=M.ownerDocument||M,J={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},R.set(d,J),(R=M.querySelector(nh(d)))&&!R._p&&(J.instance=R,J.state.loading=5),Ta.has(d)||(k={rel:"preload",as:"style",href:k.href,crossOrigin:k.crossOrigin,integrity:k.integrity,media:k.media,hrefLang:k.hrefLang,referrerPolicy:k.referrerPolicy},Ta.set(d,k),R||Vw(M,d,k,J.state))),m&&C===null)throw Error(o(528,""));return J}if(m&&C!==null)throw Error(o(529,""));return null;case"script":return m=k.async,k=k.src,typeof k=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=Jd(k),k=Pn(M).hoistableScripts,C=k.get(m),C||(C={type:"script",instance:null,count:0,state:null},k.set(m,C)),C):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,d))}}function th(d){return'href="'+Di(d)+'"'}function nh(d){return'link[rel="stylesheet"]['+d+"]"}function Fk(d){return S({},d,{"data-precedence":d.precedence,precedence:null})}function Vw(d,m,k,C){d.querySelector('link[rel="preload"][as="style"]['+m+"]")?C.loading=1:(m=d.createElement("link"),C.preload=m,m.addEventListener("load",function(){return C.loading|=1}),m.addEventListener("error",function(){return C.loading|=2}),Fs(m,"link",k),an(m),d.head.appendChild(m))}function Jd(d){return'[src="'+Di(d)+'"]'}function im(d){return"script[async]"+d}function eu(d,m,k){if(m.count++,m.instance===null)switch(m.type){case"style":var C=d.querySelector('style[data-href~="'+Di(k.href)+'"]');if(C)return m.instance=C,an(C),C;var M=S({},k,{"data-href":k.href,"data-precedence":k.precedence,href:null,precedence:null});return C=(d.ownerDocument||d).createElement("style"),an(C),Fs(C,"style",M),Sf(C,k.precedence,d),m.instance=C;case"stylesheet":M=th(k.href);var R=d.querySelector(nh(M));if(R)return m.state.loading|=4,m.instance=R,an(R),R;C=Fk(k),(M=Ta.get(M))&&ol(C,M),R=(d.ownerDocument||d).createElement("link"),an(R);var J=R;return J._p=new Promise(function(de,Ne){J.onload=de,J.onerror=Ne}),Fs(R,"link",C),m.state.loading|=4,Sf(R,k.precedence,d),m.instance=R;case"script":return R=Jd(k.src),(M=d.querySelector(im(R)))?(m.instance=M,an(M),M):(C=k,(M=Ta.get(R))&&(C=S({},k),pg(C,M)),d=d.ownerDocument||d,M=d.createElement("script"),an(M),Fs(M,"link",C),d.head.appendChild(M),m.instance=M);case"void":return null;default:throw Error(o(443,m.type))}else m.type==="stylesheet"&&(m.state.loading&4)===0&&(C=m.instance,m.state.loading|=4,Sf(C,k.precedence,d));return m.instance}function Sf(d,m,k){for(var C=k.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),M=C.length?C[C.length-1]:null,R=M,J=0;J<C.length;J++){var de=C[J];if(de.dataset.precedence===m)R=de;else if(R!==M)break}R?R.parentNode.insertBefore(d,R.nextSibling):(m=k.nodeType===9?k.head:k,m.insertBefore(d,m.firstChild))}function ol(d,m){d.crossOrigin==null&&(d.crossOrigin=m.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=m.referrerPolicy),d.title==null&&(d.title=m.title)}function pg(d,m){d.crossOrigin==null&&(d.crossOrigin=m.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=m.referrerPolicy),d.integrity==null&&(d.integrity=m.integrity)}var rm=null;function gg(d,m,k){if(rm===null){var C=new Map,M=rm=new Map;M.set(k,C)}else M=rm,C=M.get(k),C||(C=new Map,M.set(k,C));if(C.has(d))return C;for(C.set(d,null),k=k.getElementsByTagName(d),M=0;M<k.length;M++){var R=k[M];if(!(R[Se]||R[ln]||d==="link"&&R.getAttribute("rel")==="stylesheet")&&R.namespaceURI!=="http://www.w3.org/2000/svg"){var J=R.getAttribute(m)||"";J=d+J;var de=C.get(J);de?de.push(R):C.set(J,[R])}}return C}function ih(d,m,k){d=d.ownerDocument||d,d.head.insertBefore(k,m==="title"?d.querySelector("head > title"):null)}function Hw(d,m,k){if(k===1||m.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;switch(m.rel){case"stylesheet":return d=m.disabled,typeof m.precedence=="string"&&d==null;default:return!0}case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function bg(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}var sm=null;function Vk(){}function Hk(d,m,k){if(sm===null)throw Error(o(475));var C=sm;if(m.type==="stylesheet"&&(typeof k.media!="string"||matchMedia(k.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var M=th(k.href),R=d.querySelector(nh(M));if(R){d=R._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(C.count++,C=om.bind(C),d.then(C,C)),m.state.loading|=4,m.instance=R,an(R);return}R=d.ownerDocument||d,k=Fk(k),(M=Ta.get(M))&&ol(k,M),R=R.createElement("link"),an(R);var J=R;J._p=new Promise(function(de,Ne){J.onload=de,J.onerror=Ne}),Fs(R,"link",k),m.instance=R}C.stylesheets===null&&(C.stylesheets=new Map),C.stylesheets.set(m,d),(d=m.state.preload)&&(m.state.loading&3)===0&&(C.count++,m=om.bind(C),d.addEventListener("load",m),d.addEventListener("error",m))}}function kg(){if(sm===null)throw Error(o(475));var d=sm;return d.stylesheets&&d.count===0&&jf(d,d.stylesheets),0<d.count?function(m){var k=setTimeout(function(){if(d.stylesheets&&jf(d,d.stylesheets),d.unsuspend){var C=d.unsuspend;d.unsuspend=null,C()}},6e4);return d.unsuspend=m,function(){d.unsuspend=null,clearTimeout(k)}}:null}function om(){if(this.count--,this.count===0){if(this.stylesheets)jf(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var am=null;function jf(d,m){d.stylesheets=null,d.unsuspend!==null&&(d.count++,am=new Map,m.forEach(Uw,d),am=null,om.call(d))}function Uw(d,m){if(!(m.state.loading&4)){var k=am.get(d);if(k)var C=k.get(null);else{k=new Map,am.set(d,k);for(var M=d.querySelectorAll("link[data-precedence],style[data-precedence]"),R=0;R<M.length;R++){var J=M[R];(J.nodeName==="LINK"||J.getAttribute("media")!=="not all")&&(k.set(J.dataset.precedence,J),C=J)}C&&k.set(null,C)}M=m.instance,J=M.getAttribute("data-precedence"),R=k.get(J)||C,R===C&&k.set(null,M),k.set(J,M),this.count++,C=om.bind(this),M.addEventListener("load",C),M.addEventListener("error",C),R?R.parentNode.insertBefore(M,R.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(M,d.firstChild)),m.state.loading|=4}}var lm={$$typeof:ee,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function $w(d,m,k,C,M,R,J,de){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.hiddenUpdates=kr(null),this.identifierPrefix=C,this.onUncaughtError=M,this.onCaughtError=R,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=de,this.incompleteTransitions=new Map}function Uk(d,m,k,C,M,R,J,de,Ne,Xe,gt,vt){return d=new $w(d,m,k,J,de,Ne,Xe,vt),m=1,R===!0&&(m|=24),R=dr(3,null,null,m),d.current=R,R.stateNode=d,m=hr(),m.refCount++,d.pooledCache=m,m.refCount++,R.memoizedState={element:C,isDehydrated:k,cache:m},st(R),d}function $k(d){return d?(d=xa,d):xa}function qk(d,m,k,C,M,R){M=$k(M),C.context===null?C.context=M:C.pendingContext=M,C=It(m),C.payload={element:k},R=R===void 0?null:R,R!==null&&(C.callback=R),k=Wt(d,C,m),k!==null&&($o(k,d,m),Kt(k,d,m))}function Wk(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var k=d.retryLane;d.retryLane=k!==0&&k<m?k:m}}function _g(d,m){Wk(d,m),(d=d.alternate)&&Wk(d,m)}function Df(d){if(d.tag===13){var m=Jr(d,67108864);m!==null&&$o(m,d,67108864),_g(d,67108864)}}var Tf=!0;function vg(d,m,k,C){var M=le.T;le.T=null;var R=_e.p;try{_e.p=2,wg(d,m,k,C)}finally{_e.p=R,le.T=M}}function fc(d,m,k,C){var M=le.T;le.T=null;var R=_e.p;try{_e.p=8,wg(d,m,k,C)}finally{_e.p=R,le.T=M}}function wg(d,m,k,C){if(Tf){var M=yg(C);if(M===null)ui(d,m,C,cm,k),Kk(d,C);else if(Qk(M,d,m,k,C))C.stopPropagation();else if(Kk(d,C),m&4&&-1<Gk.indexOf(d)){for(;M!==null;){var R=vn(M);if(R!==null)switch(R.tag){case 3:if(R=R.stateNode,R.current.memoizedState.isDehydrated){var J=Ii(R.pendingLanes);if(J!==0){var de=R;for(de.pendingLanes|=2,de.entangledLanes|=2;J;){var Ne=1<<31-Rn(J);de.entanglements[1]|=Ne,J&=~Ne}jl(R),(Pi&6)===0&&(Zc=Rt()+500,Xu(0))}}break;case 13:de=Jr(R,2),de!==null&&$o(de,R,2),Zh(),_g(R,2)}if(R=yg(C),R===null&&ui(d,m,C,cm,k),R===M)break;M=R}M!==null&&C.stopPropagation()}else ui(d,m,C,null,k)}}function yg(d){return d=ki(d),xg(d)}var cm=null;function xg(d){if(cm=null,d=Tt(d),d!==null){var m=g(d);if(m===null)d=null;else{var k=m.tag;if(k===13){if(d=_(m),d!==null)return d;d=null}else if(k===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null)}}return cm=d,null}function Yk(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case ot:return 2;case jt:return 8;case Dt:case Qe:return 32;case Mt:return 268435456;default:return 32}default:return 32}}var Mf=!1,Dl=null,pc=null,id=null,rh=new Map,dm=new Map,rd=[],Gk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kk(d,m){switch(d){case"focusin":case"focusout":Dl=null;break;case"dragenter":case"dragleave":pc=null;break;case"mouseover":case"mouseout":id=null;break;case"pointerover":case"pointerout":rh.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":dm.delete(m.pointerId)}}function tu(d,m,k,C,M,R){return d===null||d.nativeEvent!==R?(d={blockedOn:m,domEventName:k,eventSystemFlags:C,nativeEvent:R,targetContainers:[M]},m!==null&&(m=vn(m),m!==null&&Df(m)),d):(d.eventSystemFlags|=C,m=d.targetContainers,M!==null&&m.indexOf(M)===-1&&m.push(M),d)}function Qk(d,m,k,C,M){switch(m){case"focusin":return Dl=tu(Dl,d,m,k,C,M),!0;case"dragenter":return pc=tu(pc,d,m,k,C,M),!0;case"mouseover":return id=tu(id,d,m,k,C,M),!0;case"pointerover":var R=M.pointerId;return rh.set(R,tu(rh.get(R)||null,d,m,k,C,M)),!0;case"gotpointercapture":return R=M.pointerId,dm.set(R,tu(dm.get(R)||null,d,m,k,C,M)),!0}return!1}function In(d){var m=Tt(d.target);if(m!==null){var k=g(m);if(k!==null){if(m=k.tag,m===13){if(m=_(k),m!==null){d.blockedOn=m,pt(d.priority,function(){if(k.tag===13){var C=xo();C=on(C);var M=Jr(k,C);M!==null&&$o(M,k,C),_g(k,C)}});return}}else if(m===3&&k.stateNode.current.memoizedState.isDehydrated){d.blockedOn=k.tag===3?k.stateNode.containerInfo:null;return}}}d.blockedOn=null}function um(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var k=yg(d.nativeEvent);if(k===null){k=d.nativeEvent;var C=new k.constructor(k.type,k);Tn=C,k.target.dispatchEvent(C),Tn=null}else return m=vn(k),m!==null&&Df(m),d.blockedOn=k,!1;m.shift()}return!0}function Zk(d,m,k){um(d)&&k.delete(m)}function If(){Mf=!1,Dl!==null&&um(Dl)&&(Dl=null),pc!==null&&um(pc)&&(pc=null),id!==null&&um(id)&&(id=null),rh.forEach(Zk),dm.forEach(Zk)}function Of(d,m){d.blockedOn===m&&(d.blockedOn=null,Mf||(Mf=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,If)))}var Lf=null;function Cg(d){Lf!==d&&(Lf=d,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Lf===d&&(Lf=null);for(var m=0;m<d.length;m+=3){var k=d[m],C=d[m+1],M=d[m+2];if(typeof C!="function"){if(xg(C||k)===null)continue;break}var R=vn(k);R!==null&&(d.splice(m,3),m-=3,Pt(R,{pending:!0,data:M,method:k.method,action:C},C,M))}}))}function sh(d){function m(Ne){return Of(Ne,d)}Dl!==null&&Of(Dl,d),pc!==null&&Of(pc,d),id!==null&&Of(id,d),rh.forEach(m),dm.forEach(m);for(var k=0;k<rd.length;k++){var C=rd[k];C.blockedOn===d&&(C.blockedOn=null)}for(;0<rd.length&&(k=rd[0],k.blockedOn===null);)In(k),k.blockedOn===null&&rd.shift();if(k=(d.ownerDocument||d).$$reactFormReplay,k!=null)for(C=0;C<k.length;C+=3){var M=k[C],R=k[C+1],J=M[En]||null;if(typeof R=="function")J||Cg(k);else if(J){var de=null;if(R&&R.hasAttribute("formAction")){if(M=R,J=R[En]||null)de=J.formAction;else if(xg(M)!==null)continue}else de=J.action;typeof de=="function"?k[C+1]=de:(k.splice(C,3),C-=3),Cg(k)}}}function Ag(d){this._internalRoot=d}Bf.prototype.render=Ag.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(o(409));var k=m.current,C=xo();qk(k,C,d,m,null,null)},Bf.prototype.unmount=Ag.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;qk(d.current,2,null,d,null,null),Zh(),m[Dn]=null}};function Bf(d){this._internalRoot=d}Bf.prototype.unstable_scheduleHydration=function(d){if(d){var m=Ot();d={blockedOn:null,target:d,priority:m};for(var k=0;k<rd.length&&m!==0&&m<rd[k].priority;k++);rd.splice(k,0,d),k===0&&In(d)}};var Xk=c.version;if(Xk!=="19.1.0")throw Error(o(527,Xk,"19.1.0"));_e.findDOMNode=function(d){var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=v(m),d=d!==null?N(d):null,d=d===null?null:d.stateNode,d};var Jk={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:le,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pf.isDisabled&&Pf.supportsFiber)try{bt=Pf.inject(Jk),$t=Pf}catch{}}return Ug.createRoot=function(d,m){if(!h(d))throw Error(o(299));var k=!1,C="",M=qd,R=jp,J=Vb,de=null;return m!=null&&(m.unstable_strictMode===!0&&(k=!0),m.identifierPrefix!==void 0&&(C=m.identifierPrefix),m.onUncaughtError!==void 0&&(M=m.onUncaughtError),m.onCaughtError!==void 0&&(R=m.onCaughtError),m.onRecoverableError!==void 0&&(J=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(de=m.unstable_transitionCallbacks)),m=Uk(d,1,!1,null,null,k,C,M,R,J,de,null),d[Dn]=m.current,Zd(d),new Ag(m)},Ug.hydrateRoot=function(d,m,k){if(!h(d))throw Error(o(299));var C=!1,M="",R=qd,J=jp,de=Vb,Ne=null,Xe=null;return k!=null&&(k.unstable_strictMode===!0&&(C=!0),k.identifierPrefix!==void 0&&(M=k.identifierPrefix),k.onUncaughtError!==void 0&&(R=k.onUncaughtError),k.onCaughtError!==void 0&&(J=k.onCaughtError),k.onRecoverableError!==void 0&&(de=k.onRecoverableError),k.unstable_transitionCallbacks!==void 0&&(Ne=k.unstable_transitionCallbacks),k.formState!==void 0&&(Xe=k.formState)),m=Uk(d,1,!0,m,k??null,C,M,R,J,de,Ne,Xe),m.context=$k(null),k=m.current,C=xo(),C=on(C),M=It(C),M.callback=null,Wt(k,M,C),k=C,m.current.lanes=k,tr(m,k),jl(m),d[Dn]=m.current,Zd(d),new Bf(m)},Ug.version="19.1.0",Ug}var y2;function Q8(){if(y2)return Qy.exports;y2=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(c){console.error(c)}}return l(),Qy.exports=K8(),Qy.exports}var Z8=Q8(),$g={},x2;function X8(){if(x2)return $g;x2=1,Object.defineProperty($g,"__esModule",{value:!0}),$g.parse=_,$g.serialize=N;const l=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,c=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,h=Object.prototype.toString,g=(()=>{const j=function(){};return j.prototype=Object.create(null),j})();function _(j,B){const F=new g,H=j.length;if(H<2)return F;const $=(B==null?void 0:B.decode)||S;let K=0;do{const Q=j.indexOf("=",K);if(Q===-1)break;const ee=j.indexOf(";",K),ne=ee===-1?H:ee;if(Q>ne){K=j.lastIndexOf(";",Q-1)+1;continue}const ce=y(j,K,Q),se=v(j,Q,ce),q=j.slice(ce,se);if(F[q]===void 0){let ue=y(j,Q+1,ne),oe=v(j,ne,ue);const be=$(j.slice(ue,oe));F[q]=be}K=ne+1}while(K<H);return F}function y(j,B,F){do{const H=j.charCodeAt(B);if(H!==32&&H!==9)return B}while(++B<F);return F}function v(j,B,F){for(;B>F;){const H=j.charCodeAt(--B);if(H!==32&&H!==9)return B+1}return F}function N(j,B,F){const H=(F==null?void 0:F.encode)||encodeURIComponent;if(!l.test(j))throw new TypeError(`argument name is invalid: ${j}`);const $=H(B);if(!c.test($))throw new TypeError(`argument val is invalid: ${B}`);let K=j+"="+$;if(!F)return K;if(F.maxAge!==void 0){if(!Number.isInteger(F.maxAge))throw new TypeError(`option maxAge is invalid: ${F.maxAge}`);K+="; Max-Age="+F.maxAge}if(F.domain){if(!s.test(F.domain))throw new TypeError(`option domain is invalid: ${F.domain}`);K+="; Domain="+F.domain}if(F.path){if(!o.test(F.path))throw new TypeError(`option path is invalid: ${F.path}`);K+="; Path="+F.path}if(F.expires){if(!D(F.expires)||!Number.isFinite(F.expires.valueOf()))throw new TypeError(`option expires is invalid: ${F.expires}`);K+="; Expires="+F.expires.toUTCString()}if(F.httpOnly&&(K+="; HttpOnly"),F.secure&&(K+="; Secure"),F.partitioned&&(K+="; Partitioned"),F.priority)switch(typeof F.priority=="string"?F.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${F.priority}`)}if(F.sameSite)switch(typeof F.sameSite=="string"?F.sameSite.toLowerCase():F.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${F.sameSite}`)}return K}function S(j){if(j.indexOf("%")===-1)return j;try{return decodeURIComponent(j)}catch{return j}}function D(j){return h.call(j)==="[object Date]"}return $g}X8();var C2="popstate";function J8(l={}){function c(h,g){let{pathname:_="/",search:y="",hash:v=""}=zm(h.location.hash.substring(1));return!_.startsWith("/")&&!_.startsWith(".")&&(_="/"+_),WC("",{pathname:_,search:y,hash:v},g.state&&g.state.usr||null,g.state&&g.state.key||"default")}function s(h,g){let _=h.document.querySelector("base"),y="";if(_&&_.getAttribute("href")){let v=h.location.href,N=v.indexOf("#");y=N===-1?v:v.slice(0,N)}return y+"#"+(typeof g=="string"?g:cb(g))}function o(h,g){cl(h.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(g)})`)}return t7(c,s,o,l)}function Cr(l,c){if(l===!1||l===null||typeof l>"u")throw new Error(c)}function cl(l,c){if(!l){typeof console<"u"&&console.warn(c);try{throw new Error(c)}catch{}}}function e7(){return Math.random().toString(36).substring(2,10)}function A2(l,c){return{usr:l.state,key:l.key,idx:c}}function WC(l,c,s=null,o){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof c=="string"?zm(c):c,state:s,key:c&&c.key||o||e7()}}function cb({pathname:l="/",search:c="",hash:s=""}){return c&&c!=="?"&&(l+=c.charAt(0)==="?"?c:"?"+c),s&&s!=="#"&&(l+=s.charAt(0)==="#"?s:"#"+s),l}function zm(l){let c={};if(l){let s=l.indexOf("#");s>=0&&(c.hash=l.substring(s),l=l.substring(0,s));let o=l.indexOf("?");o>=0&&(c.search=l.substring(o),l=l.substring(0,o)),l&&(c.pathname=l)}return c}function t7(l,c,s,o={}){let{window:h=document.defaultView,v5Compat:g=!1}=o,_=h.history,y="POP",v=null,N=S();N==null&&(N=0,_.replaceState({..._.state,idx:N},""));function S(){return(_.state||{idx:null}).idx}function D(){y="POP";let $=S(),K=$==null?null:$-N;N=$,v&&v({action:y,location:H.location,delta:K})}function j($,K){y="PUSH";let Q=WC(H.location,$,K);s&&s(Q,$),N=S()+1;let ee=A2(Q,N),ne=H.createHref(Q);try{_.pushState(ee,"",ne)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;h.location.assign(ne)}g&&v&&v({action:y,location:H.location,delta:1})}function B($,K){y="REPLACE";let Q=WC(H.location,$,K);s&&s(Q,$),N=S();let ee=A2(Q,N),ne=H.createHref(Q);_.replaceState(ee,"",ne),g&&v&&v({action:y,location:H.location,delta:0})}function F($){return n7($)}let H={get action(){return y},get location(){return l(h,_)},listen($){if(v)throw new Error("A history only accepts one active listener");return h.addEventListener(C2,D),v=$,()=>{h.removeEventListener(C2,D),v=null}},createHref($){return c(h,$)},createURL:F,encodeLocation($){let K=F($);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:j,replace:B,go($){return _.go($)}};return H}function n7(l,c=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Cr(s,"No window.location.(origin|href) available to create URL");let o=typeof l=="string"?l:cb(l);return o=o.replace(/ $/,"%20"),!c&&o.startsWith("//")&&(o=s+o),new URL(o,s)}function $3(l,c,s="/"){return i7(l,c,s,!1)}function i7(l,c,s,o){let h=typeof c=="string"?zm(c):c,g=gu(h.pathname||"/",s);if(g==null)return null;let _=q3(l);r7(_);let y=null;for(let v=0;y==null&&v<_.length;++v){let N=p7(g);y=m7(_[v],N,o)}return y}function q3(l,c=[],s=[],o=""){let h=(g,_,y)=>{let v={relativePath:y===void 0?g.path||"":y,caseSensitive:g.caseSensitive===!0,childrenIndex:_,route:g};v.relativePath.startsWith("/")&&(Cr(v.relativePath.startsWith(o),`Absolute route path "${v.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(o.length));let N=du([o,v.relativePath]),S=s.concat(v);g.children&&g.children.length>0&&(Cr(g.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${N}".`),q3(g.children,c,S,N)),!(g.path==null&&!g.index)&&c.push({path:N,score:u7(N,g.index),routesMeta:S})};return l.forEach((g,_)=>{var y;if(g.path===""||!((y=g.path)!=null&&y.includes("?")))h(g,_);else for(let v of W3(g.path))h(g,_,v)}),c}function W3(l){let c=l.split("/");if(c.length===0)return[];let[s,...o]=c,h=s.endsWith("?"),g=s.replace(/\?$/,"");if(o.length===0)return h?[g,""]:[g];let _=W3(o.join("/")),y=[];return y.push(..._.map(v=>v===""?g:[g,v].join("/"))),h&&y.push(..._),y.map(v=>l.startsWith("/")&&v===""?"/":v)}function r7(l){l.sort((c,s)=>c.score!==s.score?s.score-c.score:h7(c.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}var s7=/^:[\w-]+$/,o7=3,a7=2,l7=1,c7=10,d7=-2,N2=l=>l==="*";function u7(l,c){let s=l.split("/"),o=s.length;return s.some(N2)&&(o+=d7),c&&(o+=a7),s.filter(h=>!N2(h)).reduce((h,g)=>h+(s7.test(g)?o7:g===""?l7:c7),o)}function h7(l,c){return l.length===c.length&&l.slice(0,-1).every((o,h)=>o===c[h])?l[l.length-1]-c[c.length-1]:0}function m7(l,c,s=!1){let{routesMeta:o}=l,h={},g="/",_=[];for(let y=0;y<o.length;++y){let v=o[y],N=y===o.length-1,S=g==="/"?c:c.slice(g.length)||"/",D=uv({path:v.relativePath,caseSensitive:v.caseSensitive,end:N},S),j=v.route;if(!D&&N&&s&&!o[o.length-1].route.index&&(D=uv({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},S)),!D)return null;Object.assign(h,D.params),_.push({params:h,pathname:du([g,D.pathname]),pathnameBase:_7(du([g,D.pathnameBase])),route:j}),D.pathnameBase!=="/"&&(g=du([g,D.pathnameBase]))}return _}function uv(l,c){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[s,o]=f7(l.path,l.caseSensitive,l.end),h=c.match(s);if(!h)return null;let g=h[0],_=g.replace(/(.)\/+$/,"$1"),y=h.slice(1);return{params:o.reduce((N,{paramName:S,isOptional:D},j)=>{if(S==="*"){let F=y[j]||"";_=g.slice(0,g.length-F.length).replace(/(.)\/+$/,"$1")}const B=y[j];return D&&!B?N[S]=void 0:N[S]=(B||"").replace(/%2F/g,"/"),N},{}),pathname:g,pathnameBase:_,pattern:l}}function f7(l,c=!1,s=!0){cl(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let o=[],h="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(_,y,v)=>(o.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(o.push({paramName:"*"}),h+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?h+="\\/*$":l!==""&&l!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,c?void 0:"i"),o]}function p7(l){try{return l.split("/").map(c=>decodeURIComponent(c).replace(/\//g,"%2F")).join("/")}catch(c){return cl(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${c}).`),l}}function gu(l,c){if(c==="/")return l;if(!l.toLowerCase().startsWith(c.toLowerCase()))return null;let s=c.endsWith("/")?c.length-1:c.length,o=l.charAt(s);return o&&o!=="/"?null:l.slice(s)||"/"}function g7(l,c="/"){let{pathname:s,search:o="",hash:h=""}=typeof l=="string"?zm(l):l;return{pathname:s?s.startsWith("/")?s:b7(s,c):c,search:v7(o),hash:w7(h)}}function b7(l,c){let s=c.replace(/\/+$/,"").split("/");return l.split("/").forEach(h=>{h===".."?s.length>1&&s.pop():h!=="."&&s.push(h)}),s.length>1?s.join("/"):"/"}function e0(l,c,s,o){return`Cannot include a '${l}' character in a manually specified \`to.${c}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function k7(l){return l.filter((c,s)=>s===0||c.route.path&&c.route.path.length>0)}function wA(l){let c=k7(l);return c.map((s,o)=>o===c.length-1?s.pathname:s.pathnameBase)}function yA(l,c,s,o=!1){let h;typeof l=="string"?h=zm(l):(h={...l},Cr(!h.pathname||!h.pathname.includes("?"),e0("?","pathname","search",h)),Cr(!h.pathname||!h.pathname.includes("#"),e0("#","pathname","hash",h)),Cr(!h.search||!h.search.includes("#"),e0("#","search","hash",h)));let g=l===""||h.pathname==="",_=g?"/":h.pathname,y;if(_==null)y=s;else{let D=c.length-1;if(!o&&_.startsWith("..")){let j=_.split("/");for(;j[0]==="..";)j.shift(),D-=1;h.pathname=j.join("/")}y=D>=0?c[D]:"/"}let v=g7(h,y),N=_&&_!=="/"&&_.endsWith("/"),S=(g||_===".")&&s.endsWith("/");return!v.pathname.endsWith("/")&&(N||S)&&(v.pathname+="/"),v}var du=l=>l.join("/").replace(/\/\/+/g,"/"),_7=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),v7=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,w7=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function y7(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}var Y3=["POST","PUT","PATCH","DELETE"];new Set(Y3);var x7=["GET",...Y3];new Set(x7);var mp=I.createContext(null);mp.displayName="DataRouter";var Pv=I.createContext(null);Pv.displayName="DataRouterState";var G3=I.createContext({isTransitioning:!1});G3.displayName="ViewTransition";var C7=I.createContext(new Map);C7.displayName="Fetchers";var A7=I.createContext(null);A7.displayName="Await";var vc=I.createContext(null);vc.displayName="Navigation";var vb=I.createContext(null);vb.displayName="Location";var wc=I.createContext({outlet:null,matches:[],isDataRoute:!1});wc.displayName="Route";var xA=I.createContext(null);xA.displayName="RouteError";function N7(l,{relative:c}={}){Cr(fp(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:o}=I.useContext(vc),{hash:h,pathname:g,search:_}=yb(l,{relative:c}),y=g;return s!=="/"&&(y=g==="/"?s:du([s,g])),o.createHref({pathname:y,search:_,hash:h})}function fp(){return I.useContext(vb)!=null}function Vl(){return Cr(fp(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(vb).location}var K3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q3(l){I.useContext(vc).static||I.useLayoutEffect(l)}function ba(){let{isDataRoute:l}=I.useContext(wc);return l?z7():E7()}function E7(){Cr(fp(),"useNavigate() may be used only in the context of a <Router> component.");let l=I.useContext(mp),{basename:c,navigator:s}=I.useContext(vc),{matches:o}=I.useContext(wc),{pathname:h}=Vl(),g=JSON.stringify(wA(o)),_=I.useRef(!1);return Q3(()=>{_.current=!0}),I.useCallback((v,N={})=>{if(cl(_.current,K3),!_.current)return;if(typeof v=="number"){s.go(v);return}let S=yA(v,JSON.parse(g),h,N.relative==="path");l==null&&c!=="/"&&(S.pathname=S.pathname==="/"?c:du([c,S.pathname])),(N.replace?s.replace:s.push)(S,N.state,N)},[c,s,g,h,l])}I.createContext(null);function wb(){let{matches:l}=I.useContext(wc),c=l[l.length-1];return c?c.params:{}}function yb(l,{relative:c}={}){let{matches:s}=I.useContext(wc),{pathname:o}=Vl(),h=JSON.stringify(wA(s));return I.useMemo(()=>yA(l,JSON.parse(h),o,c==="path"),[l,h,o,c])}function S7(l,c){return Z3(l,c)}function Z3(l,c,s,o){var K;Cr(fp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=I.useContext(vc),{matches:g}=I.useContext(wc),_=g[g.length-1],y=_?_.params:{},v=_?_.pathname:"/",N=_?_.pathnameBase:"/",S=_&&_.route;{let Q=S&&S.path||"";X3(v,!S||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let D=Vl(),j;if(c){let Q=typeof c=="string"?zm(c):c;Cr(N==="/"||((K=Q.pathname)==null?void 0:K.startsWith(N)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${N}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),j=Q}else j=D;let B=j.pathname||"/",F=B;if(N!=="/"){let Q=N.replace(/^\//,"").split("/");F="/"+B.replace(/^\//,"").split("/").slice(Q.length).join("/")}let H=$3(l,{pathname:F});cl(S||H!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),cl(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=I7(H&&H.map(Q=>Object.assign({},Q,{params:Object.assign({},y,Q.params),pathname:du([N,h.encodeLocation?h.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?N:du([N,h.encodeLocation?h.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),g,s,o);return c&&$?I.createElement(vb.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},$):$}function j7(){let l=R7(),c=y7(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),s=l instanceof Error?l.stack:null,o="rgba(200,200,200, 0.5)",h={padding:"0.5rem",backgroundColor:o},g={padding:"2px 4px",backgroundColor:o},_=null;return console.error("Error handled by React Router default ErrorBoundary:",l),_=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:g},"ErrorBoundary")," or"," ",I.createElement("code",{style:g},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},c),s?I.createElement("pre",{style:h},s):null,_)}var D7=I.createElement(j7,null),T7=class extends I.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,c){return c.location!==l.location||c.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:c.error,location:c.location,revalidation:l.revalidation||c.revalidation}}componentDidCatch(l,c){console.error("React Router caught the following error during render",l,c)}render(){return this.state.error!==void 0?I.createElement(wc.Provider,{value:this.props.routeContext},I.createElement(xA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function M7({routeContext:l,match:c,children:s}){let o=I.useContext(mp);return o&&o.static&&o.staticContext&&(c.route.errorElement||c.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=c.route.id),I.createElement(wc.Provider,{value:l},s)}function I7(l,c=[],s=null,o=null){if(l==null){if(!s)return null;if(s.errors)l=s.matches;else if(c.length===0&&!s.initialized&&s.matches.length>0)l=s.matches;else return null}let h=l,g=s==null?void 0:s.errors;if(g!=null){let v=h.findIndex(N=>N.route.id&&(g==null?void 0:g[N.route.id])!==void 0);Cr(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(g).join(",")}`),h=h.slice(0,Math.min(h.length,v+1))}let _=!1,y=-1;if(s)for(let v=0;v<h.length;v++){let N=h[v];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(y=v),N.route.id){let{loaderData:S,errors:D}=s,j=N.route.loader&&!S.hasOwnProperty(N.route.id)&&(!D||D[N.route.id]===void 0);if(N.route.lazy||j){_=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}return h.reduceRight((v,N,S)=>{let D,j=!1,B=null,F=null;s&&(D=g&&N.route.id?g[N.route.id]:void 0,B=N.route.errorElement||D7,_&&(y<0&&S===0?(X3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,F=null):y===S&&(j=!0,F=N.route.hydrateFallbackElement||null)));let H=c.concat(h.slice(0,S+1)),$=()=>{let K;return D?K=B:j?K=F:N.route.Component?K=I.createElement(N.route.Component,null):N.route.element?K=N.route.element:K=v,I.createElement(M7,{match:N,routeContext:{outlet:v,matches:H,isDataRoute:s!=null},children:K})};return s&&(N.route.ErrorBoundary||N.route.errorElement||S===0)?I.createElement(T7,{location:s.location,revalidation:s.revalidation,component:B,error:D,children:$(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):$()},null)}function CA(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O7(l){let c=I.useContext(mp);return Cr(c,CA(l)),c}function L7(l){let c=I.useContext(Pv);return Cr(c,CA(l)),c}function B7(l){let c=I.useContext(wc);return Cr(c,CA(l)),c}function AA(l){let c=B7(l),s=c.matches[c.matches.length-1];return Cr(s.route.id,`${l} can only be used on routes that contain a unique "id"`),s.route.id}function P7(){return AA("useRouteId")}function R7(){var o;let l=I.useContext(xA),c=L7("useRouteError"),s=AA("useRouteError");return l!==void 0?l:(o=c.errors)==null?void 0:o[s]}function z7(){let{router:l}=O7("useNavigate"),c=AA("useNavigate"),s=I.useRef(!1);return Q3(()=>{s.current=!0}),I.useCallback(async(h,g={})=>{cl(s.current,K3),s.current&&(typeof h=="number"?l.navigate(h):await l.navigate(h,{fromRouteId:c,...g}))},[l,c])}var E2={};function X3(l,c,s){!c&&!E2[l]&&(E2[l]=!0,cl(!1,s))}I.memo(F7);function F7({routes:l,future:c,state:s}){return Z3(l,void 0,s,c)}function J3({to:l,replace:c,state:s,relative:o}){Cr(fp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:h}=I.useContext(vc);cl(!h,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:g}=I.useContext(wc),{pathname:_}=Vl(),y=ba(),v=yA(l,wA(g),_,o==="path"),N=JSON.stringify(v);return I.useEffect(()=>{y(JSON.parse(N),{replace:c,state:s,relative:o})},[y,N,o,c,s]),null}function xi(l){Cr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function V7({basename:l="/",children:c=null,location:s,navigationType:o="POP",navigator:h,static:g=!1}){Cr(!fp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let _=l.replace(/^\/*/,"/"),y=I.useMemo(()=>({basename:_,navigator:h,static:g,future:{}}),[_,h,g]);typeof s=="string"&&(s=zm(s));let{pathname:v="/",search:N="",hash:S="",state:D=null,key:j="default"}=s,B=I.useMemo(()=>{let F=gu(v,_);return F==null?null:{location:{pathname:F,search:N,hash:S,state:D,key:j},navigationType:o}},[_,v,N,S,D,j,o]);return cl(B!=null,`<Router basename="${_}"> is not able to match the URL "${v}${N}${S}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:I.createElement(vc.Provider,{value:y},I.createElement(vb.Provider,{children:c,value:B}))}function H7({children:l,location:c}){return S7(YC(l),c)}function YC(l,c=[]){let s=[];return I.Children.forEach(l,(o,h)=>{if(!I.isValidElement(o))return;let g=[...c,h];if(o.type===I.Fragment){s.push.apply(s,YC(o.props.children,g));return}Cr(o.type===xi,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Cr(!o.props.index||!o.props.children,"An index route cannot have child routes.");let _={id:o.props.id||g.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(_.children=YC(o.props.children,g)),s.push(_)}),s}var Z_="get",X_="application/x-www-form-urlencoded";function Rv(l){return l!=null&&typeof l.tagName=="string"}function U7(l){return Rv(l)&&l.tagName.toLowerCase()==="button"}function $7(l){return Rv(l)&&l.tagName.toLowerCase()==="form"}function q7(l){return Rv(l)&&l.tagName.toLowerCase()==="input"}function W7(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Y7(l,c){return l.button===0&&(!c||c==="_self")&&!W7(l)}function GC(l=""){return new URLSearchParams(typeof l=="string"||Array.isArray(l)||l instanceof URLSearchParams?l:Object.keys(l).reduce((c,s)=>{let o=l[s];return c.concat(Array.isArray(o)?o.map(h=>[s,h]):[[s,o]])},[]))}function G7(l,c){let s=GC(l);return c&&c.forEach((o,h)=>{s.has(h)||c.getAll(h).forEach(g=>{s.append(h,g)})}),s}var L_=null;function K7(){if(L_===null)try{new FormData(document.createElement("form"),0),L_=!1}catch{L_=!0}return L_}var Q7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function t0(l){return l!=null&&!Q7.has(l)?(cl(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${X_}"`),null):l}function Z7(l,c){let s,o,h,g,_;if($7(l)){let y=l.getAttribute("action");o=y?gu(y,c):null,s=l.getAttribute("method")||Z_,h=t0(l.getAttribute("enctype"))||X_,g=new FormData(l)}else if(U7(l)||q7(l)&&(l.type==="submit"||l.type==="image")){let y=l.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=l.getAttribute("formaction")||y.getAttribute("action");if(o=v?gu(v,c):null,s=l.getAttribute("formmethod")||y.getAttribute("method")||Z_,h=t0(l.getAttribute("formenctype"))||t0(y.getAttribute("enctype"))||X_,g=new FormData(y,l),!K7()){let{name:N,type:S,value:D}=l;if(S==="image"){let j=N?`${N}.`:"";g.append(`${j}x`,"0"),g.append(`${j}y`,"0")}else N&&g.append(N,D)}}else{if(Rv(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Z_,o=null,h=X_,_=l}return g&&h==="text/plain"&&(_=g,g=void 0),{action:o,method:s.toLowerCase(),encType:h,formData:g,body:_}}function NA(l,c){if(l===!1||l===null||typeof l>"u")throw new Error(c)}async function X7(l,c){if(l.id in c)return c[l.id];try{let s=await import(l.module);return c[l.id]=s,s}catch(s){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function J7(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function e9(l,c,s){let o=await Promise.all(l.map(async h=>{let g=c.routes[h.route.id];if(g){let _=await X7(g,s);return _.links?_.links():[]}return[]}));return r9(o.flat(1).filter(J7).filter(h=>h.rel==="stylesheet"||h.rel==="preload").map(h=>h.rel==="stylesheet"?{...h,rel:"prefetch",as:"style"}:{...h,rel:"prefetch"}))}function S2(l,c,s,o,h,g){let _=(v,N)=>s[N]?v.route.id!==s[N].route.id:!0,y=(v,N)=>{var S;return s[N].pathname!==v.pathname||((S=s[N].route.path)==null?void 0:S.endsWith("*"))&&s[N].params["*"]!==v.params["*"]};return g==="assets"?c.filter((v,N)=>_(v,N)||y(v,N)):g==="data"?c.filter((v,N)=>{var D;let S=o.routes[v.route.id];if(!S||!S.hasLoader)return!1;if(_(v,N)||y(v,N))return!0;if(v.route.shouldRevalidate){let j=v.route.shouldRevalidate({currentUrl:new URL(h.pathname+h.search+h.hash,window.origin),currentParams:((D=s[0])==null?void 0:D.params)||{},nextUrl:new URL(l,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function t9(l,c,{includeHydrateFallback:s}={}){return n9(l.map(o=>{let h=c.routes[o.route.id];if(!h)return[];let g=[h.module];return h.clientActionModule&&(g=g.concat(h.clientActionModule)),h.clientLoaderModule&&(g=g.concat(h.clientLoaderModule)),s&&h.hydrateFallbackModule&&(g=g.concat(h.hydrateFallbackModule)),h.imports&&(g=g.concat(h.imports)),g}).flat(1))}function n9(l){return[...new Set(l)]}function i9(l){let c={},s=Object.keys(l).sort();for(let o of s)c[o]=l[o];return c}function r9(l,c){let s=new Set;return new Set(c),l.reduce((o,h)=>{let g=JSON.stringify(i9(h));return s.has(g)||(s.add(g),o.push({key:g,link:h})),o},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var s9=new Set([100,101,204,205]);function o9(l,c){let s=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return s.pathname==="/"?s.pathname="_root.data":c&&gu(s.pathname,c)==="/"?s.pathname=`${c.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function eO(){let l=I.useContext(mp);return NA(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function a9(){let l=I.useContext(Pv);return NA(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var EA=I.createContext(void 0);EA.displayName="FrameworkContext";function tO(){let l=I.useContext(EA);return NA(l,"You must render this element inside a <HydratedRouter> element"),l}function l9(l,c){let s=I.useContext(EA),[o,h]=I.useState(!1),[g,_]=I.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:N,onMouseLeave:S,onTouchStart:D}=c,j=I.useRef(null);I.useEffect(()=>{if(l==="render"&&_(!0),l==="viewport"){let H=K=>{K.forEach(Q=>{_(Q.isIntersecting)})},$=new IntersectionObserver(H,{threshold:.5});return j.current&&$.observe(j.current),()=>{$.disconnect()}}},[l]),I.useEffect(()=>{if(o){let H=setTimeout(()=>{_(!0)},100);return()=>{clearTimeout(H)}}},[o]);let B=()=>{h(!0)},F=()=>{h(!1),_(!1)};return s?l!=="intent"?[g,j,{}]:[g,j,{onFocus:qg(y,B),onBlur:qg(v,F),onMouseEnter:qg(N,B),onMouseLeave:qg(S,F),onTouchStart:qg(D,B)}]:[!1,j,{}]}function qg(l,c){return s=>{l&&l(s),s.defaultPrevented||c(s)}}function c9({page:l,...c}){let{router:s}=eO(),o=I.useMemo(()=>$3(s.routes,l,s.basename),[s.routes,l,s.basename]);return o?I.createElement(u9,{page:l,matches:o,...c}):null}function d9(l){let{manifest:c,routeModules:s}=tO(),[o,h]=I.useState([]);return I.useEffect(()=>{let g=!1;return e9(l,c,s).then(_=>{g||h(_)}),()=>{g=!0}},[l,c,s]),o}function u9({page:l,matches:c,...s}){let o=Vl(),{manifest:h,routeModules:g}=tO(),{basename:_}=eO(),{loaderData:y,matches:v}=a9(),N=I.useMemo(()=>S2(l,c,v,h,o,"data"),[l,c,v,h,o]),S=I.useMemo(()=>S2(l,c,v,h,o,"assets"),[l,c,v,h,o]),D=I.useMemo(()=>{if(l===o.pathname+o.search+o.hash)return[];let F=new Set,H=!1;if(c.forEach(K=>{var ee;let Q=h.routes[K.route.id];!Q||!Q.hasLoader||(!N.some(ne=>ne.route.id===K.route.id)&&K.route.id in y&&((ee=g[K.route.id])!=null&&ee.shouldRevalidate)||Q.hasClientLoader?H=!0:F.add(K.route.id))}),F.size===0)return[];let $=o9(l,_);return H&&F.size>0&&$.searchParams.set("_routes",c.filter(K=>F.has(K.route.id)).map(K=>K.route.id).join(",")),[$.pathname+$.search]},[_,y,o,h,N,c,l,g]),j=I.useMemo(()=>t9(S,h),[S,h]),B=d9(S);return I.createElement(I.Fragment,null,D.map(F=>I.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...s})),j.map(F=>I.createElement("link",{key:F,rel:"modulepreload",href:F,...s})),B.map(({key:F,link:H})=>I.createElement("link",{key:F,...H})))}function h9(...l){return c=>{l.forEach(s=>{typeof s=="function"?s(c):s!=null&&(s.current=c)})}}var nO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nO&&(window.__reactRouterVersion="7.6.2")}catch{}function m9({basename:l,children:c,window:s}){let o=I.useRef();o.current==null&&(o.current=J8({window:s,v5Compat:!0}));let h=o.current,[g,_]=I.useState({action:h.action,location:h.location}),y=I.useCallback(v=>{I.startTransition(()=>_(v))},[_]);return I.useLayoutEffect(()=>h.listen(y),[h,y]),I.createElement(V7,{basename:l,children:c,location:g.location,navigationType:g.action,navigator:h})}var iO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,en=I.forwardRef(function({onClick:c,discover:s="render",prefetch:o="none",relative:h,reloadDocument:g,replace:_,state:y,target:v,to:N,preventScrollReset:S,viewTransition:D,...j},B){let{basename:F}=I.useContext(vc),H=typeof N=="string"&&iO.test(N),$,K=!1;if(typeof N=="string"&&H&&($=N,nO))try{let oe=new URL(window.location.href),be=N.startsWith("//")?new URL(oe.protocol+N):new URL(N),pe=gu(be.pathname,F);be.origin===oe.origin&&pe!=null?N=pe+be.search+be.hash:K=!0}catch{cl(!1,`<Link to="${N}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=N7(N,{relative:h}),[ee,ne,ce]=l9(o,j),se=b9(N,{replace:_,state:y,target:v,preventScrollReset:S,relative:h,viewTransition:D});function q(oe){c&&c(oe),oe.defaultPrevented||se(oe)}let ue=I.createElement("a",{...j,...ce,href:$||Q,onClick:K||g?c:q,ref:h9(B,ne),target:v,"data-discover":!H&&s==="render"?"true":void 0});return ee&&!H?I.createElement(I.Fragment,null,ue,I.createElement(c9,{page:Q})):ue});en.displayName="Link";var f9=I.forwardRef(function({"aria-current":c="page",caseSensitive:s=!1,className:o="",end:h=!1,style:g,to:_,viewTransition:y,children:v,...N},S){let D=yb(_,{relative:N.relative}),j=Vl(),B=I.useContext(Pv),{navigator:F,basename:H}=I.useContext(vc),$=B!=null&&y9(D)&&y===!0,K=F.encodeLocation?F.encodeLocation(D).pathname:D.pathname,Q=j.pathname,ee=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;s||(Q=Q.toLowerCase(),ee=ee?ee.toLowerCase():null,K=K.toLowerCase()),ee&&H&&(ee=gu(ee,H)||ee);const ne=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ce=Q===K||!h&&Q.startsWith(K)&&Q.charAt(ne)==="/",se=ee!=null&&(ee===K||!h&&ee.startsWith(K)&&ee.charAt(K.length)==="/"),q={isActive:ce,isPending:se,isTransitioning:$},ue=ce?c:void 0,oe;typeof o=="function"?oe=o(q):oe=[o,ce?"active":null,se?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let be=typeof g=="function"?g(q):g;return I.createElement(en,{...N,"aria-current":ue,className:oe,ref:S,style:be,to:_,viewTransition:y},typeof v=="function"?v(q):v)});f9.displayName="NavLink";var p9=I.forwardRef(({discover:l="render",fetcherKey:c,navigate:s,reloadDocument:o,replace:h,state:g,method:_=Z_,action:y,onSubmit:v,relative:N,preventScrollReset:S,viewTransition:D,...j},B)=>{let F=v9(),H=w9(y,{relative:N}),$=_.toLowerCase()==="get"?"get":"post",K=typeof y=="string"&&iO.test(y),Q=ee=>{if(v&&v(ee),ee.defaultPrevented)return;ee.preventDefault();let ne=ee.nativeEvent.submitter,ce=(ne==null?void 0:ne.getAttribute("formmethod"))||_;F(ne||ee.currentTarget,{fetcherKey:c,method:ce,navigate:s,replace:h,state:g,relative:N,preventScrollReset:S,viewTransition:D})};return I.createElement("form",{ref:B,method:$,action:H,onSubmit:o?v:Q,...j,"data-discover":!K&&l==="render"?"true":void 0})});p9.displayName="Form";function g9(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rO(l){let c=I.useContext(mp);return Cr(c,g9(l)),c}function b9(l,{target:c,replace:s,state:o,preventScrollReset:h,relative:g,viewTransition:_}={}){let y=ba(),v=Vl(),N=yb(l,{relative:g});return I.useCallback(S=>{if(Y7(S,c)){S.preventDefault();let D=s!==void 0?s:cb(v)===cb(N);y(l,{replace:D,state:o,preventScrollReset:h,relative:g,viewTransition:_})}},[v,y,N,s,o,c,l,h,g,_])}function sO(l){cl(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let c=I.useRef(GC(l)),s=I.useRef(!1),o=Vl(),h=I.useMemo(()=>G7(o.search,s.current?null:c.current),[o.search]),g=ba(),_=I.useCallback((y,v)=>{const N=GC(typeof y=="function"?y(h):y);s.current=!0,g("?"+N,v)},[g,h]);return[h,_]}var k9=0,_9=()=>`__${String(++k9)}__`;function v9(){let{router:l}=rO("useSubmit"),{basename:c}=I.useContext(vc),s=P7();return I.useCallback(async(o,h={})=>{let{action:g,method:_,encType:y,formData:v,body:N}=Z7(o,c);if(h.navigate===!1){let S=h.fetcherKey||_9();await l.fetch(S,s,h.action||g,{preventScrollReset:h.preventScrollReset,formData:v,body:N,formMethod:h.method||_,formEncType:h.encType||y,flushSync:h.flushSync})}else await l.navigate(h.action||g,{preventScrollReset:h.preventScrollReset,formData:v,body:N,formMethod:h.method||_,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:s,flushSync:h.flushSync,viewTransition:h.viewTransition})},[l,c,s])}function w9(l,{relative:c}={}){let{basename:s}=I.useContext(vc),o=I.useContext(wc);Cr(o,"useFormAction must be used inside a RouteContext");let[h]=o.matches.slice(-1),g={...yb(l||".",{relative:c})},_=Vl();if(l==null){g.search=_.search;let y=new URLSearchParams(g.search),v=y.getAll("index");if(v.some(S=>S==="")){y.delete("index"),v.filter(D=>D).forEach(D=>y.append("index",D));let S=y.toString();g.search=S?`?${S}`:""}}return(!l||l===".")&&h.route.index&&(g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(g.pathname=g.pathname==="/"?s:du([s,g.pathname])),cb(g)}function y9(l,c={}){let s=I.useContext(G3);Cr(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=rO("useViewTransitionState"),h=yb(l,{relative:c.relative});if(!s.isTransitioning)return!1;let g=gu(s.currentLocation.pathname,o)||s.currentLocation.pathname,_=gu(s.nextLocation.pathname,o)||s.nextLocation.pathname;return uv(h.pathname,_)!=null||uv(h.pathname,g)!=null}[...s9];var SA=U3();const xm=Rm(SA);function oO(l,c){return function(){return l.apply(c,arguments)}}const{toString:x9}=Object.prototype,{getPrototypeOf:jA}=Object,{iterator:zv,toStringTag:aO}=Symbol,Fv=(l=>c=>{const s=x9.call(c);return l[s]||(l[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),yc=l=>(l=l.toLowerCase(),c=>Fv(c)===l),Vv=l=>c=>typeof c===l,{isArray:pp}=Array,db=Vv("undefined");function C9(l){return l!==null&&!db(l)&&l.constructor!==null&&!db(l.constructor)&&Ba(l.constructor.isBuffer)&&l.constructor.isBuffer(l)}const lO=yc("ArrayBuffer");function A9(l){let c;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?c=ArrayBuffer.isView(l):c=l&&l.buffer&&lO(l.buffer),c}const N9=Vv("string"),Ba=Vv("function"),cO=Vv("number"),Hv=l=>l!==null&&typeof l=="object",E9=l=>l===!0||l===!1,J_=l=>{if(Fv(l)!=="object")return!1;const c=jA(l);return(c===null||c===Object.prototype||Object.getPrototypeOf(c)===null)&&!(aO in l)&&!(zv in l)},S9=yc("Date"),j9=yc("File"),D9=yc("Blob"),T9=yc("FileList"),M9=l=>Hv(l)&&Ba(l.pipe),I9=l=>{let c;return l&&(typeof FormData=="function"&&l instanceof FormData||Ba(l.append)&&((c=Fv(l))==="formdata"||c==="object"&&Ba(l.toString)&&l.toString()==="[object FormData]"))},O9=yc("URLSearchParams"),[L9,B9,P9,R9]=["ReadableStream","Request","Response","Headers"].map(yc),z9=l=>l.trim?l.trim():l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xb(l,c,{allOwnKeys:s=!1}={}){if(l===null||typeof l>"u")return;let o,h;if(typeof l!="object"&&(l=[l]),pp(l))for(o=0,h=l.length;o<h;o++)c.call(null,l[o],o,l);else{const g=s?Object.getOwnPropertyNames(l):Object.keys(l),_=g.length;let y;for(o=0;o<_;o++)y=g[o],c.call(null,l[y],y,l)}}function dO(l,c){c=c.toLowerCase();const s=Object.keys(l);let o=s.length,h;for(;o-- >0;)if(h=s[o],c===h.toLowerCase())return h;return null}const Cm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,uO=l=>!db(l)&&l!==Cm;function KC(){const{caseless:l}=uO(this)&&this||{},c={},s=(o,h)=>{const g=l&&dO(c,h)||h;J_(c[g])&&J_(o)?c[g]=KC(c[g],o):J_(o)?c[g]=KC({},o):pp(o)?c[g]=o.slice():c[g]=o};for(let o=0,h=arguments.length;o<h;o++)arguments[o]&&xb(arguments[o],s);return c}const F9=(l,c,s,{allOwnKeys:o}={})=>(xb(c,(h,g)=>{s&&Ba(h)?l[g]=oO(h,s):l[g]=h},{allOwnKeys:o}),l),V9=l=>(l.charCodeAt(0)===65279&&(l=l.slice(1)),l),H9=(l,c,s,o)=>{l.prototype=Object.create(c.prototype,o),l.prototype.constructor=l,Object.defineProperty(l,"super",{value:c.prototype}),s&&Object.assign(l.prototype,s)},U9=(l,c,s,o)=>{let h,g,_;const y={};if(c=c||{},l==null)return c;do{for(h=Object.getOwnPropertyNames(l),g=h.length;g-- >0;)_=h[g],(!o||o(_,l,c))&&!y[_]&&(c[_]=l[_],y[_]=!0);l=s!==!1&&jA(l)}while(l&&(!s||s(l,c))&&l!==Object.prototype);return c},$9=(l,c,s)=>{l=String(l),(s===void 0||s>l.length)&&(s=l.length),s-=c.length;const o=l.indexOf(c,s);return o!==-1&&o===s},q9=l=>{if(!l)return null;if(pp(l))return l;let c=l.length;if(!cO(c))return null;const s=new Array(c);for(;c-- >0;)s[c]=l[c];return s},W9=(l=>c=>l&&c instanceof l)(typeof Uint8Array<"u"&&jA(Uint8Array)),Y9=(l,c)=>{const o=(l&&l[zv]).call(l);let h;for(;(h=o.next())&&!h.done;){const g=h.value;c.call(l,g[0],g[1])}},G9=(l,c)=>{let s;const o=[];for(;(s=l.exec(c))!==null;)o.push(s);return o},K9=yc("HTMLFormElement"),Q9=l=>l.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,o,h){return o.toUpperCase()+h}),j2=(({hasOwnProperty:l})=>(c,s)=>l.call(c,s))(Object.prototype),Z9=yc("RegExp"),hO=(l,c)=>{const s=Object.getOwnPropertyDescriptors(l),o={};xb(s,(h,g)=>{let _;(_=c(h,g,l))!==!1&&(o[g]=_||h)}),Object.defineProperties(l,o)},X9=l=>{hO(l,(c,s)=>{if(Ba(l)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const o=l[s];if(Ba(o)){if(c.enumerable=!1,"writable"in c){c.writable=!1;return}c.set||(c.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},J9=(l,c)=>{const s={},o=h=>{h.forEach(g=>{s[g]=!0})};return pp(l)?o(l):o(String(l).split(c)),s},eV=()=>{},tV=(l,c)=>l!=null&&Number.isFinite(l=+l)?l:c;function nV(l){return!!(l&&Ba(l.append)&&l[aO]==="FormData"&&l[zv])}const iV=l=>{const c=new Array(10),s=(o,h)=>{if(Hv(o)){if(c.indexOf(o)>=0)return;if(!("toJSON"in o)){c[h]=o;const g=pp(o)?[]:{};return xb(o,(_,y)=>{const v=s(_,h+1);!db(v)&&(g[y]=v)}),c[h]=void 0,g}}return o};return s(l,0)},rV=yc("AsyncFunction"),sV=l=>l&&(Hv(l)||Ba(l))&&Ba(l.then)&&Ba(l.catch),mO=((l,c)=>l?setImmediate:c?((s,o)=>(Cm.addEventListener("message",({source:h,data:g})=>{h===Cm&&g===s&&o.length&&o.shift()()},!1),h=>{o.push(h),Cm.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Ba(Cm.postMessage)),oV=typeof queueMicrotask<"u"?queueMicrotask.bind(Cm):typeof process<"u"&&process.nextTick||mO,aV=l=>l!=null&&Ba(l[zv]),ct={isArray:pp,isArrayBuffer:lO,isBuffer:C9,isFormData:I9,isArrayBufferView:A9,isString:N9,isNumber:cO,isBoolean:E9,isObject:Hv,isPlainObject:J_,isReadableStream:L9,isRequest:B9,isResponse:P9,isHeaders:R9,isUndefined:db,isDate:S9,isFile:j9,isBlob:D9,isRegExp:Z9,isFunction:Ba,isStream:M9,isURLSearchParams:O9,isTypedArray:W9,isFileList:T9,forEach:xb,merge:KC,extend:F9,trim:z9,stripBOM:V9,inherits:H9,toFlatObject:U9,kindOf:Fv,kindOfTest:yc,endsWith:$9,toArray:q9,forEachEntry:Y9,matchAll:G9,isHTMLForm:K9,hasOwnProperty:j2,hasOwnProp:j2,reduceDescriptors:hO,freezeMethods:X9,toObjectSet:J9,toCamelCase:Q9,noop:eV,toFiniteNumber:tV,findKey:dO,global:Cm,isContextDefined:uO,isSpecCompliantForm:nV,toJSONObject:iV,isAsyncFn:rV,isThenable:sV,setImmediate:mO,asap:oV,isIterable:aV};function Wn(l,c,s,o,h){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=l,this.name="AxiosError",c&&(this.code=c),s&&(this.config=s),o&&(this.request=o),h&&(this.response=h,this.status=h.status?h.status:null)}ct.inherits(Wn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ct.toJSONObject(this.config),code:this.code,status:this.status}}});const fO=Wn.prototype,pO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(l=>{pO[l]={value:l}});Object.defineProperties(Wn,pO);Object.defineProperty(fO,"isAxiosError",{value:!0});Wn.from=(l,c,s,o,h,g)=>{const _=Object.create(fO);return ct.toFlatObject(l,_,function(v){return v!==Error.prototype},y=>y!=="isAxiosError"),Wn.call(_,l.message,c,s,o,h),_.cause=l,_.name=l.name,g&&Object.assign(_,g),_};const lV=null;function QC(l){return ct.isPlainObject(l)||ct.isArray(l)}function gO(l){return ct.endsWith(l,"[]")?l.slice(0,-2):l}function D2(l,c,s){return l?l.concat(c).map(function(h,g){return h=gO(h),!s&&g?"["+h+"]":h}).join(s?".":""):c}function cV(l){return ct.isArray(l)&&!l.some(QC)}const dV=ct.toFlatObject(ct,{},null,function(c){return/^is[A-Z]/.test(c)});function Uv(l,c,s){if(!ct.isObject(l))throw new TypeError("target must be an object");c=c||new FormData,s=ct.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(H,$){return!ct.isUndefined($[H])});const o=s.metaTokens,h=s.visitor||S,g=s.dots,_=s.indexes,v=(s.Blob||typeof Blob<"u"&&Blob)&&ct.isSpecCompliantForm(c);if(!ct.isFunction(h))throw new TypeError("visitor must be a function");function N(F){if(F===null)return"";if(ct.isDate(F))return F.toISOString();if(ct.isBoolean(F))return F.toString();if(!v&&ct.isBlob(F))throw new Wn("Blob is not supported. Use a Buffer instead.");return ct.isArrayBuffer(F)||ct.isTypedArray(F)?v&&typeof Blob=="function"?new Blob([F]):Buffer.from(F):F}function S(F,H,$){let K=F;if(F&&!$&&typeof F=="object"){if(ct.endsWith(H,"{}"))H=o?H:H.slice(0,-2),F=JSON.stringify(F);else if(ct.isArray(F)&&cV(F)||(ct.isFileList(F)||ct.endsWith(H,"[]"))&&(K=ct.toArray(F)))return H=gO(H),K.forEach(function(ee,ne){!(ct.isUndefined(ee)||ee===null)&&c.append(_===!0?D2([H],ne,g):_===null?H:H+"[]",N(ee))}),!1}return QC(F)?!0:(c.append(D2($,H,g),N(F)),!1)}const D=[],j=Object.assign(dV,{defaultVisitor:S,convertValue:N,isVisitable:QC});function B(F,H){if(!ct.isUndefined(F)){if(D.indexOf(F)!==-1)throw Error("Circular reference detected in "+H.join("."));D.push(F),ct.forEach(F,function(K,Q){(!(ct.isUndefined(K)||K===null)&&h.call(c,K,ct.isString(Q)?Q.trim():Q,H,j))===!0&&B(K,H?H.concat(Q):[Q])}),D.pop()}}if(!ct.isObject(l))throw new TypeError("data must be an object");return B(l),c}function T2(l){const c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(l).replace(/[!'()~]|%20|%00/g,function(o){return c[o]})}function DA(l,c){this._pairs=[],l&&Uv(l,this,c)}const bO=DA.prototype;bO.append=function(c,s){this._pairs.push([c,s])};bO.toString=function(c){const s=c?function(o){return c.call(this,o,T2)}:T2;return this._pairs.map(function(h){return s(h[0])+"="+s(h[1])},"").join("&")};function uV(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kO(l,c,s){if(!c)return l;const o=s&&s.encode||uV;ct.isFunction(s)&&(s={serialize:s});const h=s&&s.serialize;let g;if(h?g=h(c,s):g=ct.isURLSearchParams(c)?c.toString():new DA(c,s).toString(o),g){const _=l.indexOf("#");_!==-1&&(l=l.slice(0,_)),l+=(l.indexOf("?")===-1?"?":"&")+g}return l}class M2{constructor(){this.handlers=[]}use(c,s,o){return this.handlers.push({fulfilled:c,rejected:s,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(c){this.handlers[c]&&(this.handlers[c]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(c){ct.forEach(this.handlers,function(o){o!==null&&c(o)})}}const _O={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hV=typeof URLSearchParams<"u"?URLSearchParams:DA,mV=typeof FormData<"u"?FormData:null,fV=typeof Blob<"u"?Blob:null,pV={isBrowser:!0,classes:{URLSearchParams:hV,FormData:mV,Blob:fV},protocols:["http","https","file","blob","url","data"]},TA=typeof window<"u"&&typeof document<"u",ZC=typeof navigator=="object"&&navigator||void 0,gV=TA&&(!ZC||["ReactNative","NativeScript","NS"].indexOf(ZC.product)<0),bV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kV=TA&&window.location.href||"http://localhost",_V=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:TA,hasStandardBrowserEnv:gV,hasStandardBrowserWebWorkerEnv:bV,navigator:ZC,origin:kV},Symbol.toStringTag,{value:"Module"})),Go={..._V,...pV};function vV(l,c){return Uv(l,new Go.classes.URLSearchParams,Object.assign({visitor:function(s,o,h,g){return Go.isNode&&ct.isBuffer(s)?(this.append(o,s.toString("base64")),!1):g.defaultVisitor.apply(this,arguments)}},c))}function wV(l){return ct.matchAll(/\w+|\[(\w*)]/g,l).map(c=>c[0]==="[]"?"":c[1]||c[0])}function yV(l){const c={},s=Object.keys(l);let o;const h=s.length;let g;for(o=0;o<h;o++)g=s[o],c[g]=l[g];return c}function vO(l){function c(s,o,h,g){let _=s[g++];if(_==="__proto__")return!0;const y=Number.isFinite(+_),v=g>=s.length;return _=!_&&ct.isArray(h)?h.length:_,v?(ct.hasOwnProp(h,_)?h[_]=[h[_],o]:h[_]=o,!y):((!h[_]||!ct.isObject(h[_]))&&(h[_]=[]),c(s,o,h[_],g)&&ct.isArray(h[_])&&(h[_]=yV(h[_])),!y)}if(ct.isFormData(l)&&ct.isFunction(l.entries)){const s={};return ct.forEachEntry(l,(o,h)=>{c(wV(o),h,s,0)}),s}return null}function xV(l,c,s){if(ct.isString(l))try{return(c||JSON.parse)(l),ct.trim(l)}catch(o){if(o.name!=="SyntaxError")throw o}return(s||JSON.stringify)(l)}const Cb={transitional:_O,adapter:["xhr","http","fetch"],transformRequest:[function(c,s){const o=s.getContentType()||"",h=o.indexOf("application/json")>-1,g=ct.isObject(c);if(g&&ct.isHTMLForm(c)&&(c=new FormData(c)),ct.isFormData(c))return h?JSON.stringify(vO(c)):c;if(ct.isArrayBuffer(c)||ct.isBuffer(c)||ct.isStream(c)||ct.isFile(c)||ct.isBlob(c)||ct.isReadableStream(c))return c;if(ct.isArrayBufferView(c))return c.buffer;if(ct.isURLSearchParams(c))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),c.toString();let y;if(g){if(o.indexOf("application/x-www-form-urlencoded")>-1)return vV(c,this.formSerializer).toString();if((y=ct.isFileList(c))||o.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return Uv(y?{"files[]":c}:c,v&&new v,this.formSerializer)}}return g||h?(s.setContentType("application/json",!1),xV(c)):c}],transformResponse:[function(c){const s=this.transitional||Cb.transitional,o=s&&s.forcedJSONParsing,h=this.responseType==="json";if(ct.isResponse(c)||ct.isReadableStream(c))return c;if(c&&ct.isString(c)&&(o&&!this.responseType||h)){const _=!(s&&s.silentJSONParsing)&&h;try{return JSON.parse(c)}catch(y){if(_)throw y.name==="SyntaxError"?Wn.from(y,Wn.ERR_BAD_RESPONSE,this,null,this.response):y}}return c}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Go.classes.FormData,Blob:Go.classes.Blob},validateStatus:function(c){return c>=200&&c<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ct.forEach(["delete","get","head","post","put","patch"],l=>{Cb.headers[l]={}});const CV=ct.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),AV=l=>{const c={};let s,o,h;return l&&l.split(`
`).forEach(function(_){h=_.indexOf(":"),s=_.substring(0,h).trim().toLowerCase(),o=_.substring(h+1).trim(),!(!s||c[s]&&CV[s])&&(s==="set-cookie"?c[s]?c[s].push(o):c[s]=[o]:c[s]=c[s]?c[s]+", "+o:o)}),c},I2=Symbol("internals");function Wg(l){return l&&String(l).trim().toLowerCase()}function ev(l){return l===!1||l==null?l:ct.isArray(l)?l.map(ev):String(l)}function NV(l){const c=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=s.exec(l);)c[o[1]]=o[2];return c}const EV=l=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(l.trim());function n0(l,c,s,o,h){if(ct.isFunction(o))return o.call(this,c,s);if(h&&(c=s),!!ct.isString(c)){if(ct.isString(o))return c.indexOf(o)!==-1;if(ct.isRegExp(o))return o.test(c)}}function SV(l){return l.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(c,s,o)=>s.toUpperCase()+o)}function jV(l,c){const s=ct.toCamelCase(" "+c);["get","set","has"].forEach(o=>{Object.defineProperty(l,o+s,{value:function(h,g,_){return this[o].call(this,c,h,g,_)},configurable:!0})})}let Pa=class{constructor(c){c&&this.set(c)}set(c,s,o){const h=this;function g(y,v,N){const S=Wg(v);if(!S)throw new Error("header name must be a non-empty string");const D=ct.findKey(h,S);(!D||h[D]===void 0||N===!0||N===void 0&&h[D]!==!1)&&(h[D||v]=ev(y))}const _=(y,v)=>ct.forEach(y,(N,S)=>g(N,S,v));if(ct.isPlainObject(c)||c instanceof this.constructor)_(c,s);else if(ct.isString(c)&&(c=c.trim())&&!EV(c))_(AV(c),s);else if(ct.isObject(c)&&ct.isIterable(c)){let y={},v,N;for(const S of c){if(!ct.isArray(S))throw TypeError("Object iterator must return a key-value pair");y[N=S[0]]=(v=y[N])?ct.isArray(v)?[...v,S[1]]:[v,S[1]]:S[1]}_(y,s)}else c!=null&&g(s,c,o);return this}get(c,s){if(c=Wg(c),c){const o=ct.findKey(this,c);if(o){const h=this[o];if(!s)return h;if(s===!0)return NV(h);if(ct.isFunction(s))return s.call(this,h,o);if(ct.isRegExp(s))return s.exec(h);throw new TypeError("parser must be boolean|regexp|function")}}}has(c,s){if(c=Wg(c),c){const o=ct.findKey(this,c);return!!(o&&this[o]!==void 0&&(!s||n0(this,this[o],o,s)))}return!1}delete(c,s){const o=this;let h=!1;function g(_){if(_=Wg(_),_){const y=ct.findKey(o,_);y&&(!s||n0(o,o[y],y,s))&&(delete o[y],h=!0)}}return ct.isArray(c)?c.forEach(g):g(c),h}clear(c){const s=Object.keys(this);let o=s.length,h=!1;for(;o--;){const g=s[o];(!c||n0(this,this[g],g,c,!0))&&(delete this[g],h=!0)}return h}normalize(c){const s=this,o={};return ct.forEach(this,(h,g)=>{const _=ct.findKey(o,g);if(_){s[_]=ev(h),delete s[g];return}const y=c?SV(g):String(g).trim();y!==g&&delete s[g],s[y]=ev(h),o[y]=!0}),this}concat(...c){return this.constructor.concat(this,...c)}toJSON(c){const s=Object.create(null);return ct.forEach(this,(o,h)=>{o!=null&&o!==!1&&(s[h]=c&&ct.isArray(o)?o.join(", "):o)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([c,s])=>c+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(c){return c instanceof this?c:new this(c)}static concat(c,...s){const o=new this(c);return s.forEach(h=>o.set(h)),o}static accessor(c){const o=(this[I2]=this[I2]={accessors:{}}).accessors,h=this.prototype;function g(_){const y=Wg(_);o[y]||(jV(h,_),o[y]=!0)}return ct.isArray(c)?c.forEach(g):g(c),this}};Pa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ct.reduceDescriptors(Pa.prototype,({value:l},c)=>{let s=c[0].toUpperCase()+c.slice(1);return{get:()=>l,set(o){this[s]=o}}});ct.freezeMethods(Pa);function i0(l,c){const s=this||Cb,o=c||s,h=Pa.from(o.headers);let g=o.data;return ct.forEach(l,function(y){g=y.call(s,g,h.normalize(),c?c.status:void 0)}),h.normalize(),g}function wO(l){return!!(l&&l.__CANCEL__)}function gp(l,c,s){Wn.call(this,l??"canceled",Wn.ERR_CANCELED,c,s),this.name="CanceledError"}ct.inherits(gp,Wn,{__CANCEL__:!0});function yO(l,c,s){const o=s.config.validateStatus;!s.status||!o||o(s.status)?l(s):c(new Wn("Request failed with status code "+s.status,[Wn.ERR_BAD_REQUEST,Wn.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function DV(l){const c=/^([-+\w]{1,25})(:?\/\/|:)/.exec(l);return c&&c[1]||""}function TV(l,c){l=l||10;const s=new Array(l),o=new Array(l);let h=0,g=0,_;return c=c!==void 0?c:1e3,function(v){const N=Date.now(),S=o[g];_||(_=N),s[h]=v,o[h]=N;let D=g,j=0;for(;D!==h;)j+=s[D++],D=D%l;if(h=(h+1)%l,h===g&&(g=(g+1)%l),N-_<c)return;const B=S&&N-S;return B?Math.round(j*1e3/B):void 0}}function MV(l,c){let s=0,o=1e3/c,h,g;const _=(N,S=Date.now())=>{s=S,h=null,g&&(clearTimeout(g),g=null),l.apply(null,N)};return[(...N)=>{const S=Date.now(),D=S-s;D>=o?_(N,S):(h=N,g||(g=setTimeout(()=>{g=null,_(h)},o-D)))},()=>h&&_(h)]}const hv=(l,c,s=3)=>{let o=0;const h=TV(50,250);return MV(g=>{const _=g.loaded,y=g.lengthComputable?g.total:void 0,v=_-o,N=h(v),S=_<=y;o=_;const D={loaded:_,total:y,progress:y?_/y:void 0,bytes:v,rate:N||void 0,estimated:N&&y&&S?(y-_)/N:void 0,event:g,lengthComputable:y!=null,[c?"download":"upload"]:!0};l(D)},s)},O2=(l,c)=>{const s=l!=null;return[o=>c[0]({lengthComputable:s,total:l,loaded:o}),c[1]]},L2=l=>(...c)=>ct.asap(()=>l(...c)),IV=Go.hasStandardBrowserEnv?((l,c)=>s=>(s=new URL(s,Go.origin),l.protocol===s.protocol&&l.host===s.host&&(c||l.port===s.port)))(new URL(Go.origin),Go.navigator&&/(msie|trident)/i.test(Go.navigator.userAgent)):()=>!0,OV=Go.hasStandardBrowserEnv?{write(l,c,s,o,h,g){const _=[l+"="+encodeURIComponent(c)];ct.isNumber(s)&&_.push("expires="+new Date(s).toGMTString()),ct.isString(o)&&_.push("path="+o),ct.isString(h)&&_.push("domain="+h),g===!0&&_.push("secure"),document.cookie=_.join("; ")},read(l){const c=document.cookie.match(new RegExp("(^|;\\s*)("+l+")=([^;]*)"));return c?decodeURIComponent(c[3]):null},remove(l){this.write(l,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function LV(l){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(l)}function BV(l,c){return c?l.replace(/\/?\/$/,"")+"/"+c.replace(/^\/+/,""):l}function xO(l,c,s){let o=!LV(c);return l&&(o||s==!1)?BV(l,c):c}const B2=l=>l instanceof Pa?{...l}:l;function Om(l,c){c=c||{};const s={};function o(N,S,D,j){return ct.isPlainObject(N)&&ct.isPlainObject(S)?ct.merge.call({caseless:j},N,S):ct.isPlainObject(S)?ct.merge({},S):ct.isArray(S)?S.slice():S}function h(N,S,D,j){if(ct.isUndefined(S)){if(!ct.isUndefined(N))return o(void 0,N,D,j)}else return o(N,S,D,j)}function g(N,S){if(!ct.isUndefined(S))return o(void 0,S)}function _(N,S){if(ct.isUndefined(S)){if(!ct.isUndefined(N))return o(void 0,N)}else return o(void 0,S)}function y(N,S,D){if(D in c)return o(N,S);if(D in l)return o(void 0,N)}const v={url:g,method:g,data:g,baseURL:_,transformRequest:_,transformResponse:_,paramsSerializer:_,timeout:_,timeoutMessage:_,withCredentials:_,withXSRFToken:_,adapter:_,responseType:_,xsrfCookieName:_,xsrfHeaderName:_,onUploadProgress:_,onDownloadProgress:_,decompress:_,maxContentLength:_,maxBodyLength:_,beforeRedirect:_,transport:_,httpAgent:_,httpsAgent:_,cancelToken:_,socketPath:_,responseEncoding:_,validateStatus:y,headers:(N,S,D)=>h(B2(N),B2(S),D,!0)};return ct.forEach(Object.keys(Object.assign({},l,c)),function(S){const D=v[S]||h,j=D(l[S],c[S],S);ct.isUndefined(j)&&D!==y||(s[S]=j)}),s}const CO=l=>{const c=Om({},l);let{data:s,withXSRFToken:o,xsrfHeaderName:h,xsrfCookieName:g,headers:_,auth:y}=c;c.headers=_=Pa.from(_),c.url=kO(xO(c.baseURL,c.url,c.allowAbsoluteUrls),l.params,l.paramsSerializer),y&&_.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):"")));let v;if(ct.isFormData(s)){if(Go.hasStandardBrowserEnv||Go.hasStandardBrowserWebWorkerEnv)_.setContentType(void 0);else if((v=_.getContentType())!==!1){const[N,...S]=v?v.split(";").map(D=>D.trim()).filter(Boolean):[];_.setContentType([N||"multipart/form-data",...S].join("; "))}}if(Go.hasStandardBrowserEnv&&(o&&ct.isFunction(o)&&(o=o(c)),o||o!==!1&&IV(c.url))){const N=h&&g&&OV.read(g);N&&_.set(h,N)}return c},PV=typeof XMLHttpRequest<"u",RV=PV&&function(l){return new Promise(function(s,o){const h=CO(l);let g=h.data;const _=Pa.from(h.headers).normalize();let{responseType:y,onUploadProgress:v,onDownloadProgress:N}=h,S,D,j,B,F;function H(){B&&B(),F&&F(),h.cancelToken&&h.cancelToken.unsubscribe(S),h.signal&&h.signal.removeEventListener("abort",S)}let $=new XMLHttpRequest;$.open(h.method.toUpperCase(),h.url,!0),$.timeout=h.timeout;function K(){if(!$)return;const ee=Pa.from("getAllResponseHeaders"in $&&$.getAllResponseHeaders()),ce={data:!y||y==="text"||y==="json"?$.responseText:$.response,status:$.status,statusText:$.statusText,headers:ee,config:l,request:$};yO(function(q){s(q),H()},function(q){o(q),H()},ce),$=null}"onloadend"in $?$.onloadend=K:$.onreadystatechange=function(){!$||$.readyState!==4||$.status===0&&!($.responseURL&&$.responseURL.indexOf("file:")===0)||setTimeout(K)},$.onabort=function(){$&&(o(new Wn("Request aborted",Wn.ECONNABORTED,l,$)),$=null)},$.onerror=function(){o(new Wn("Network Error",Wn.ERR_NETWORK,l,$)),$=null},$.ontimeout=function(){let ne=h.timeout?"timeout of "+h.timeout+"ms exceeded":"timeout exceeded";const ce=h.transitional||_O;h.timeoutErrorMessage&&(ne=h.timeoutErrorMessage),o(new Wn(ne,ce.clarifyTimeoutError?Wn.ETIMEDOUT:Wn.ECONNABORTED,l,$)),$=null},g===void 0&&_.setContentType(null),"setRequestHeader"in $&&ct.forEach(_.toJSON(),function(ne,ce){$.setRequestHeader(ce,ne)}),ct.isUndefined(h.withCredentials)||($.withCredentials=!!h.withCredentials),y&&y!=="json"&&($.responseType=h.responseType),N&&([j,F]=hv(N,!0),$.addEventListener("progress",j)),v&&$.upload&&([D,B]=hv(v),$.upload.addEventListener("progress",D),$.upload.addEventListener("loadend",B)),(h.cancelToken||h.signal)&&(S=ee=>{$&&(o(!ee||ee.type?new gp(null,l,$):ee),$.abort(),$=null)},h.cancelToken&&h.cancelToken.subscribe(S),h.signal&&(h.signal.aborted?S():h.signal.addEventListener("abort",S)));const Q=DV(h.url);if(Q&&Go.protocols.indexOf(Q)===-1){o(new Wn("Unsupported protocol "+Q+":",Wn.ERR_BAD_REQUEST,l));return}$.send(g||null)})},zV=(l,c)=>{const{length:s}=l=l?l.filter(Boolean):[];if(c||s){let o=new AbortController,h;const g=function(N){if(!h){h=!0,y();const S=N instanceof Error?N:this.reason;o.abort(S instanceof Wn?S:new gp(S instanceof Error?S.message:S))}};let _=c&&setTimeout(()=>{_=null,g(new Wn(`timeout ${c} of ms exceeded`,Wn.ETIMEDOUT))},c);const y=()=>{l&&(_&&clearTimeout(_),_=null,l.forEach(N=>{N.unsubscribe?N.unsubscribe(g):N.removeEventListener("abort",g)}),l=null)};l.forEach(N=>N.addEventListener("abort",g));const{signal:v}=o;return v.unsubscribe=()=>ct.asap(y),v}},FV=function*(l,c){let s=l.byteLength;if(s<c){yield l;return}let o=0,h;for(;o<s;)h=o+c,yield l.slice(o,h),o=h},VV=async function*(l,c){for await(const s of HV(l))yield*FV(s,c)},HV=async function*(l){if(l[Symbol.asyncIterator]){yield*l;return}const c=l.getReader();try{for(;;){const{done:s,value:o}=await c.read();if(s)break;yield o}}finally{await c.cancel()}},P2=(l,c,s,o)=>{const h=VV(l,c);let g=0,_,y=v=>{_||(_=!0,o&&o(v))};return new ReadableStream({async pull(v){try{const{done:N,value:S}=await h.next();if(N){y(),v.close();return}let D=S.byteLength;if(s){let j=g+=D;s(j)}v.enqueue(new Uint8Array(S))}catch(N){throw y(N),N}},cancel(v){return y(v),h.return()}},{highWaterMark:2})},$v=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",AO=$v&&typeof ReadableStream=="function",UV=$v&&(typeof TextEncoder=="function"?(l=>c=>l.encode(c))(new TextEncoder):async l=>new Uint8Array(await new Response(l).arrayBuffer())),NO=(l,...c)=>{try{return!!l(...c)}catch{return!1}},$V=AO&&NO(()=>{let l=!1;const c=new Request(Go.origin,{body:new ReadableStream,method:"POST",get duplex(){return l=!0,"half"}}).headers.has("Content-Type");return l&&!c}),R2=64*1024,XC=AO&&NO(()=>ct.isReadableStream(new Response("").body)),mv={stream:XC&&(l=>l.body)};$v&&(l=>{["text","arrayBuffer","blob","formData","stream"].forEach(c=>{!mv[c]&&(mv[c]=ct.isFunction(l[c])?s=>s[c]():(s,o)=>{throw new Wn(`Response type '${c}' is not supported`,Wn.ERR_NOT_SUPPORT,o)})})})(new Response);const qV=async l=>{if(l==null)return 0;if(ct.isBlob(l))return l.size;if(ct.isSpecCompliantForm(l))return(await new Request(Go.origin,{method:"POST",body:l}).arrayBuffer()).byteLength;if(ct.isArrayBufferView(l)||ct.isArrayBuffer(l))return l.byteLength;if(ct.isURLSearchParams(l)&&(l=l+""),ct.isString(l))return(await UV(l)).byteLength},WV=async(l,c)=>{const s=ct.toFiniteNumber(l.getContentLength());return s??qV(c)},YV=$v&&(async l=>{let{url:c,method:s,data:o,signal:h,cancelToken:g,timeout:_,onDownloadProgress:y,onUploadProgress:v,responseType:N,headers:S,withCredentials:D="same-origin",fetchOptions:j}=CO(l);N=N?(N+"").toLowerCase():"text";let B=zV([h,g&&g.toAbortSignal()],_),F;const H=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let $;try{if(v&&$V&&s!=="get"&&s!=="head"&&($=await WV(S,o))!==0){let ce=new Request(c,{method:"POST",body:o,duplex:"half"}),se;if(ct.isFormData(o)&&(se=ce.headers.get("content-type"))&&S.setContentType(se),ce.body){const[q,ue]=O2($,hv(L2(v)));o=P2(ce.body,R2,q,ue)}}ct.isString(D)||(D=D?"include":"omit");const K="credentials"in Request.prototype;F=new Request(c,{...j,signal:B,method:s.toUpperCase(),headers:S.normalize().toJSON(),body:o,duplex:"half",credentials:K?D:void 0});let Q=await fetch(F,j);const ee=XC&&(N==="stream"||N==="response");if(XC&&(y||ee&&H)){const ce={};["status","statusText","headers"].forEach(oe=>{ce[oe]=Q[oe]});const se=ct.toFiniteNumber(Q.headers.get("content-length")),[q,ue]=y&&O2(se,hv(L2(y),!0))||[];Q=new Response(P2(Q.body,R2,q,()=>{ue&&ue(),H&&H()}),ce)}N=N||"text";let ne=await mv[ct.findKey(mv,N)||"text"](Q,l);return!ee&&H&&H(),await new Promise((ce,se)=>{yO(ce,se,{data:ne,headers:Pa.from(Q.headers),status:Q.status,statusText:Q.statusText,config:l,request:F})})}catch(K){throw H&&H(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new Wn("Network Error",Wn.ERR_NETWORK,l,F),{cause:K.cause||K}):Wn.from(K,K&&K.code,l,F)}}),JC={http:lV,xhr:RV,fetch:YV};ct.forEach(JC,(l,c)=>{if(l){try{Object.defineProperty(l,"name",{value:c})}catch{}Object.defineProperty(l,"adapterName",{value:c})}});const z2=l=>`- ${l}`,GV=l=>ct.isFunction(l)||l===null||l===!1,EO={getAdapter:l=>{l=ct.isArray(l)?l:[l];const{length:c}=l;let s,o;const h={};for(let g=0;g<c;g++){s=l[g];let _;if(o=s,!GV(s)&&(o=JC[(_=String(s)).toLowerCase()],o===void 0))throw new Wn(`Unknown adapter '${_}'`);if(o)break;h[_||"#"+g]=o}if(!o){const g=Object.entries(h).map(([y,v])=>`adapter ${y} `+(v===!1?"is not supported by the environment":"is not available in the build"));let _=c?g.length>1?`since :
`+g.map(z2).join(`
`):" "+z2(g[0]):"as no adapter specified";throw new Wn("There is no suitable adapter to dispatch the request "+_,"ERR_NOT_SUPPORT")}return o},adapters:JC};function r0(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new gp(null,l)}function F2(l){return r0(l),l.headers=Pa.from(l.headers),l.data=i0.call(l,l.transformRequest),["post","put","patch"].indexOf(l.method)!==-1&&l.headers.setContentType("application/x-www-form-urlencoded",!1),EO.getAdapter(l.adapter||Cb.adapter)(l).then(function(o){return r0(l),o.data=i0.call(l,l.transformResponse,o),o.headers=Pa.from(o.headers),o},function(o){return wO(o)||(r0(l),o&&o.response&&(o.response.data=i0.call(l,l.transformResponse,o.response),o.response.headers=Pa.from(o.response.headers))),Promise.reject(o)})}const SO="1.10.0",qv={};["object","boolean","number","function","string","symbol"].forEach((l,c)=>{qv[l]=function(o){return typeof o===l||"a"+(c<1?"n ":" ")+l}});const V2={};qv.transitional=function(c,s,o){function h(g,_){return"[Axios v"+SO+"] Transitional option '"+g+"'"+_+(o?". "+o:"")}return(g,_,y)=>{if(c===!1)throw new Wn(h(_," has been removed"+(s?" in "+s:"")),Wn.ERR_DEPRECATED);return s&&!V2[_]&&(V2[_]=!0,console.warn(h(_," has been deprecated since v"+s+" and will be removed in the near future"))),c?c(g,_,y):!0}};qv.spelling=function(c){return(s,o)=>(console.warn(`${o} is likely a misspelling of ${c}`),!0)};function KV(l,c,s){if(typeof l!="object")throw new Wn("options must be an object",Wn.ERR_BAD_OPTION_VALUE);const o=Object.keys(l);let h=o.length;for(;h-- >0;){const g=o[h],_=c[g];if(_){const y=l[g],v=y===void 0||_(y,g,l);if(v!==!0)throw new Wn("option "+g+" must be "+v,Wn.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Wn("Unknown option "+g,Wn.ERR_BAD_OPTION)}}const tv={assertOptions:KV,validators:qv},ad=tv.validators;let Sm=class{constructor(c){this.defaults=c||{},this.interceptors={request:new M2,response:new M2}}async request(c,s){try{return await this._request(c,s)}catch(o){if(o instanceof Error){let h={};Error.captureStackTrace?Error.captureStackTrace(h):h=new Error;const g=h.stack?h.stack.replace(/^.+\n/,""):"";try{o.stack?g&&!String(o.stack).endsWith(g.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+g):o.stack=g}catch{}}throw o}}_request(c,s){typeof c=="string"?(s=s||{},s.url=c):s=c||{},s=Om(this.defaults,s);const{transitional:o,paramsSerializer:h,headers:g}=s;o!==void 0&&tv.assertOptions(o,{silentJSONParsing:ad.transitional(ad.boolean),forcedJSONParsing:ad.transitional(ad.boolean),clarifyTimeoutError:ad.transitional(ad.boolean)},!1),h!=null&&(ct.isFunction(h)?s.paramsSerializer={serialize:h}:tv.assertOptions(h,{encode:ad.function,serialize:ad.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),tv.assertOptions(s,{baseUrl:ad.spelling("baseURL"),withXsrfToken:ad.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let _=g&&ct.merge(g.common,g[s.method]);g&&ct.forEach(["delete","get","head","post","put","patch","common"],F=>{delete g[F]}),s.headers=Pa.concat(_,g);const y=[];let v=!0;this.interceptors.request.forEach(function(H){typeof H.runWhen=="function"&&H.runWhen(s)===!1||(v=v&&H.synchronous,y.unshift(H.fulfilled,H.rejected))});const N=[];this.interceptors.response.forEach(function(H){N.push(H.fulfilled,H.rejected)});let S,D=0,j;if(!v){const F=[F2.bind(this),void 0];for(F.unshift.apply(F,y),F.push.apply(F,N),j=F.length,S=Promise.resolve(s);D<j;)S=S.then(F[D++],F[D++]);return S}j=y.length;let B=s;for(D=0;D<j;){const F=y[D++],H=y[D++];try{B=F(B)}catch($){H.call(this,$);break}}try{S=F2.call(this,B)}catch(F){return Promise.reject(F)}for(D=0,j=N.length;D<j;)S=S.then(N[D++],N[D++]);return S}getUri(c){c=Om(this.defaults,c);const s=xO(c.baseURL,c.url,c.allowAbsoluteUrls);return kO(s,c.params,c.paramsSerializer)}};ct.forEach(["delete","get","head","options"],function(c){Sm.prototype[c]=function(s,o){return this.request(Om(o||{},{method:c,url:s,data:(o||{}).data}))}});ct.forEach(["post","put","patch"],function(c){function s(o){return function(g,_,y){return this.request(Om(y||{},{method:c,headers:o?{"Content-Type":"multipart/form-data"}:{},url:g,data:_}))}}Sm.prototype[c]=s(),Sm.prototype[c+"Form"]=s(!0)});let QV=class jO{constructor(c){if(typeof c!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(g){s=g});const o=this;this.promise.then(h=>{if(!o._listeners)return;let g=o._listeners.length;for(;g-- >0;)o._listeners[g](h);o._listeners=null}),this.promise.then=h=>{let g;const _=new Promise(y=>{o.subscribe(y),g=y}).then(h);return _.cancel=function(){o.unsubscribe(g)},_},c(function(g,_,y){o.reason||(o.reason=new gp(g,_,y),s(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(c){if(this.reason){c(this.reason);return}this._listeners?this._listeners.push(c):this._listeners=[c]}unsubscribe(c){if(!this._listeners)return;const s=this._listeners.indexOf(c);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const c=new AbortController,s=o=>{c.abort(o)};return this.subscribe(s),c.signal.unsubscribe=()=>this.unsubscribe(s),c.signal}static source(){let c;return{token:new jO(function(h){c=h}),cancel:c}}};function ZV(l){return function(s){return l.apply(null,s)}}function XV(l){return ct.isObject(l)&&l.isAxiosError===!0}const eA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(eA).forEach(([l,c])=>{eA[c]=l});function DO(l){const c=new Sm(l),s=oO(Sm.prototype.request,c);return ct.extend(s,Sm.prototype,c,{allOwnKeys:!0}),ct.extend(s,c,null,{allOwnKeys:!0}),s.create=function(h){return DO(Om(l,h))},s}const kt=DO(Cb);kt.Axios=Sm;kt.CanceledError=gp;kt.CancelToken=QV;kt.isCancel=wO;kt.VERSION=SO;kt.toFormData=Uv;kt.AxiosError=Wn;kt.Cancel=kt.CanceledError;kt.all=function(c){return Promise.all(c)};kt.spread=ZV;kt.isAxiosError=XV;kt.mergeConfig=Om;kt.AxiosHeaders=Pa;kt.formToJSON=l=>vO(ct.isHTMLForm(l)?new FormData(l):l);kt.getAdapter=EO.getAdapter;kt.HttpStatusCode=eA;kt.default=kt;const{Axios:OJ,AxiosError:LJ,CanceledError:BJ,isCancel:PJ,CancelToken:RJ,VERSION:zJ,all:FJ,Cancel:VJ,isAxiosError:HJ,spread:UJ,toFormData:$J,AxiosHeaders:qJ,HttpStatusCode:WJ,formToJSON:YJ,getAdapter:GJ,mergeConfig:KJ}=kt,JV=(l,c,s,o)=>{var g,_,y,v;const h=[s,{code:c,...o||{}}];if((_=(g=l==null?void 0:l.services)==null?void 0:g.logger)!=null&&_.forward)return l.services.logger.forward(h,"warn","react-i18next::",!0);jm(h[0])&&(h[0]=`react-i18next:: ${h[0]}`),(v=(y=l==null?void 0:l.services)==null?void 0:y.logger)!=null&&v.warn?l.services.logger.warn(...h):console!=null&&console.warn&&console.warn(...h)},H2={},tA=(l,c,s,o)=>{jm(s)&&H2[s]||(jm(s)&&(H2[s]=new Date),JV(l,c,s,o))},TO=(l,c)=>()=>{if(l.isInitialized)c();else{const s=()=>{setTimeout(()=>{l.off("initialized",s)},0),c()};l.on("initialized",s)}},nA=(l,c,s)=>{l.loadNamespaces(c,TO(l,s))},U2=(l,c,s,o)=>{if(jm(s)&&(s=[s]),l.options.preload&&l.options.preload.indexOf(c)>-1)return nA(l,s,o);s.forEach(h=>{l.options.ns.indexOf(h)<0&&l.options.ns.push(h)}),l.loadLanguages(c,TO(l,o))},eH=(l,c,s={})=>!c.languages||!c.languages.length?(tA(c,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:c.languages}),!0):c.hasLoadedNamespace(l,{lng:s.lng,precheck:(o,h)=>{var g;if(((g=s.bindI18n)==null?void 0:g.indexOf("languageChanging"))>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!h(o.isLanguageChangingTo,l))return!1}}),jm=l=>typeof l=="string",tH=l=>typeof l=="object"&&l!==null,nH=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,iH={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},rH=l=>iH[l],sH=l=>l.replace(nH,rH);let iA={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:sH};const oH=(l={})=>{iA={...iA,...l}},aH=()=>iA;let MO;const lH=l=>{MO=l},cH=()=>MO,dH={type:"3rdParty",init(l){oH(l.options.react),lH(l)}},uH=I.createContext();class hH{constructor(){this.usedNamespaces={}}addUsedNamespaces(c){c.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const mH=(l,c)=>{const s=I.useRef();return I.useEffect(()=>{s.current=l},[l,c]),s.current},IO=(l,c,s,o)=>l.getFixedT(c,s,o),fH=(l,c,s,o)=>I.useCallback(IO(l,c,s,o),[l,c,s,o]),vh=(l,c={})=>{var ne,ce,se,q;const{i18n:s}=c,{i18n:o,defaultNS:h}=I.useContext(uH)||{},g=s||o||cH();if(g&&!g.reportNamespaces&&(g.reportNamespaces=new hH),!g){tA(g,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const ue=(be,pe)=>jm(pe)?pe:tH(pe)&&jm(pe.defaultValue)?pe.defaultValue:Array.isArray(be)?be[be.length-1]:be,oe=[ue,{},!1];return oe.t=ue,oe.i18n={},oe.ready=!1,oe}(ne=g.options.react)!=null&&ne.wait&&tA(g,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const _={...aH(),...g.options.react,...c},{useSuspense:y,keyPrefix:v}=_;let N=h||((ce=g.options)==null?void 0:ce.defaultNS);N=jm(N)?[N]:N||["translation"],(q=(se=g.reportNamespaces).addUsedNamespaces)==null||q.call(se,N);const S=(g.isInitialized||g.initializedStoreOnce)&&N.every(ue=>eH(ue,g,_)),D=fH(g,c.lng||null,_.nsMode==="fallback"?N:N[0],v),j=()=>D,B=()=>IO(g,c.lng||null,_.nsMode==="fallback"?N:N[0],v),[F,H]=I.useState(j);let $=N.join();c.lng&&($=`${c.lng}${$}`);const K=mH($),Q=I.useRef(!0);I.useEffect(()=>{const{bindI18n:ue,bindI18nStore:oe}=_;Q.current=!0,!S&&!y&&(c.lng?U2(g,c.lng,N,()=>{Q.current&&H(B)}):nA(g,N,()=>{Q.current&&H(B)})),S&&K&&K!==$&&Q.current&&H(B);const be=()=>{Q.current&&H(B)};return ue&&(g==null||g.on(ue,be)),oe&&(g==null||g.store.on(oe,be)),()=>{Q.current=!1,g&&(ue==null||ue.split(" ").forEach(pe=>g.off(pe,be))),oe&&g&&oe.split(" ").forEach(pe=>g.store.off(pe,be))}},[g,$]),I.useEffect(()=>{Q.current&&S&&H(j)},[g,v,S]);const ee=[F,g,S];if(ee.t=F,ee.i18n=g,ee.ready=S,S||!S&&!y)return ee;throw new Promise(ue=>{c.lng?U2(g,c.lng,N,()=>ue()):nA(g,N,()=>ue())})},Ft=kt.create({baseURL:"https://walkingguide.onrender.com/api",headers:{"Content-Type":"application/json"}});Ft.interceptors.request.use(l=>{const c=localStorage.getItem("token");return c&&(l.headers.Authorization=`Bearer ${c}`),l},l=>Promise.reject(l));Ft.interceptors.response.use(l=>l,l=>{var c,s;return(((c=l.response)==null?void 0:c.status)===401||((s=l.response)==null?void 0:s.status)===403)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(l)});const dh="https://walkingguide.onrender.com/api",Am={getAll:()=>Ft.get(`${dh}/users`),getById:l=>Ft.get(`${dh}/users/${l}`),create:l=>Ft.post(`${dh}/users`,l),update:(l,c)=>Ft.put(`${dh}/users/${l}`,c),delete:l=>Ft.delete(`${dh}/users/${l}`),getProfile:()=>Ft.get(`${dh}/users/profile/me`),updateProfile:l=>Ft.put(`${dh}/users/profile/me`,l),changePassword:l=>Ft.put(`${dh}/users/profile/change-password`,l)},cs=I.createContext();function Ab(){return I.useContext(cs)}function pH({children:l}){const[c,s]=I.useState(()=>{const v=localStorage.getItem("user"),N=localStorage.getItem("token");return!N||N==="null"?null:v?{...JSON.parse(v),token:N}:null}),[o,h]=I.useState(0);I.useEffect(()=>{(async()=>{if(localStorage.getItem("token")&&c)try{const S=await Am.getProfile();s(S.data)}catch(S){console.error("Failed to refresh user data:",S)}})()},[]),I.useEffect(()=>{c?localStorage.setItem("user",JSON.stringify(c)):localStorage.removeItem("user")},[c]);const g=v=>{const N=localStorage.getItem("token");s({...v,token:N})},_=()=>{s(null),localStorage.removeItem("token")},y=()=>{console.log("[AuthContext] refreshNotifications function called"),h(v=>{const N=v+1;return console.log("[AuthContext] refreshNotifications called, new trigger:",N),N})};return I.useEffect(()=>{console.log("[AuthContext] notificationRefreshTrigger changed:",o)},[o]),i.jsx(cs.Provider,{value:{user:c,login:g,logout:_,notificationRefreshTrigger:o,refreshNotifications:y},children:l})}function OO({open:l,onClose:c,children:s}){return l?i.jsx("div",{className:"auth-modal-overlay",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsxs("div",{className:"auth-modal-content",style:{background:"#fff",borderRadius:16,boxShadow:"0 8px 32px 0 rgba(31,38,135,0.15)",padding:32,minWidth:340,maxWidth:420,width:"100%",position:"relative"},children:[i.jsx("button",{onClick:c,style:{position:"absolute",top:12,right:16,border:"none",background:"none",fontSize:22,color:"#888",cursor:"pointer"},"aria-label":"Đóng",children:"×"}),s]})}):null}function gH({onSuccess:l,onSwitch:c,onForgotPassword:s,onLoginSuccess:o}){const[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(""),{login:S}=I.useContext(cs),D=async j=>{var B,F;j.preventDefault();try{const H=await kt.post("http://localhost:3000/api/auth/login",{email:h,password:_});localStorage.setItem("token",H.data.token),S({...H.data.user,token:H.data.token}),o&&o(H.data.user),l&&l()}catch(H){N(((F=(B=H.response)==null?void 0:B.data)==null?void 0:F.message)||"Đăng nhập thất bại")}};return i.jsxs("form",{onSubmit:D,className:"w-100",children:[v&&i.jsx("div",{className:"alert alert-danger",children:v}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Email:"}),i.jsx("input",{type:"email",className:"form-control",value:h,onChange:j=>g(j.target.value),required:!0})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mật khẩu:"}),i.jsx("input",{type:"password",className:"form-control",value:_,onChange:j=>y(j.target.value),required:!0})]}),i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[i.jsx("button",{type:"submit",className:"btn btn-main w-50",children:"Đăng nhập"}),i.jsx("button",{type:"button",className:"btn btn-link p-0",style:{fontSize:"0.95rem"},onClick:s,children:"Quên mật khẩu?"})]}),i.jsxs("p",{className:"mt-3 text-center",children:["Chưa có tài khoản? ",i.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:c,children:"Đăng ký"})]})]})}function bH({onSuccess:l,onSwitch:c}){const[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(""),[S,D]=I.useState(""),[j,B]=I.useState(""),[F,H]=I.useState(!1),[$,K]=I.useState(!1),[Q,ee]=I.useState(""),[ne,ce]=I.useState(""),[se,q]=I.useState(""),ue=async pe=>{var we,je;if(pe.preventDefault(),D(""),B(""),H(!0),ee(""),ce(""),q(""),_!==v){D("Mật khẩu xác nhận không khớp."),H(!1);return}if(_.length<6){D("Mật khẩu phải có ít nhất 6 ký tự."),H(!1);return}try{const ye=await kt.post("http://localhost:3000/api/auth/register",{full_name:s,email:h,password:_,confirmPassword:v});ye.data.success&&(B(ye.data.message),q(h),o(""),g(""),y(""),N(""))}catch(ye){D(((je=(we=ye.response)==null?void 0:we.data)==null?void 0:je.message)||"Lỗi đăng ký")}finally{H(!1)}},oe=async()=>{var pe,we;K(!0),ee(""),ce("");try{const je=await kt.post("http://localhost:3000/api/auth/resend-verification",{email:se});ee(je.data.message||"Email xác thực đã được gửi lại. Vui lòng kiểm tra hộp thư của bạn.")}catch(je){ce(((we=(pe=je.response)==null?void 0:pe.data)==null?void 0:we.message)||"Lỗi gửi lại email xác thực")}finally{K(!1)}},be=()=>{B(""),D(""),ee(""),ce(""),q("")};return i.jsxs("form",{onSubmit:ue,className:"w-100",children:[S&&i.jsx("div",{className:"alert alert-danger",children:S}),j?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"alert alert-success",children:j}),i.jsx("button",{type:"button",className:"btn btn-link p-0 mt-2 text-decoration-none",onClick:oe,disabled:$||!se,children:$?"Đang gửi lại...":"Gửi lại email xác thực"}),Q&&i.jsx("div",{className:"alert alert-success mt-2",children:Q}),ne&&i.jsx("div",{className:"alert alert-danger mt-2",children:ne}),i.jsx("div",{className:"text-center mt-3",children:i.jsx("button",{type:"button",className:"btn btn-link p-0 text-decoration-underline",onClick:be,children:"Nhập email khác"})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Họ và tên:"}),i.jsx("input",{type:"text",className:"form-control",value:s,onChange:pe=>o(pe.target.value),required:!0,disabled:F})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Email:"}),i.jsx("input",{type:"email",className:"form-control",value:h,onChange:pe=>g(pe.target.value),required:!0,disabled:F})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mật khẩu:"}),i.jsx("input",{type:"password",className:"form-control",value:_,onChange:pe=>y(pe.target.value),required:!0,disabled:F,minLength:6}),i.jsx("small",{className:"text-muted",children:"Mật khẩu phải có ít nhất 6 ký tự"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Xác nhận mật khẩu:"}),i.jsx("input",{type:"password",className:"form-control",value:v,onChange:pe=>N(pe.target.value),required:!0,disabled:F,minLength:6}),v&&_!==v&&i.jsx("small",{className:"text-danger",children:"Mật khẩu xác nhận không khớp"}),v&&_===v&&i.jsx("small",{className:"text-success",children:"✓ Mật khẩu khớp"})]}),i.jsx("button",{type:"submit",className:"btn btn-success w-100",disabled:F||!s||!h||!_||!v,children:F?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Đang đăng ký..."]}):"Đăng ký"}),i.jsxs("p",{className:"mt-3 text-center",children:["Đã có tài khoản? ",i.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:c,children:"Đăng nhập"})]})]})]})}function kH({open:l,title:c,message:s,onConfirm:o,onCancel:h}){return l?i.jsx("div",{className:"modal fade show",tabIndex:"-1",style:{display:"block",background:"rgba(0,0,0,0.25)",zIndex:2e3},children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",style:{borderRadius:"1.2rem"},children:[i.jsx("div",{className:"modal-header border-0 pb-0",children:i.jsx("h5",{className:"modal-title",style:{fontWeight:700,color:"#1a5bb8"},children:c||"Xác nhận"})}),i.jsxs("div",{className:"modal-body text-center",children:[i.jsx("div",{className:"mb-3",style:{fontSize:"1.08rem"},children:s}),i.jsxs("div",{className:"d-flex justify-content-center gap-3",children:[i.jsx("button",{className:"btn btn-main px-4",onClick:o,children:"Đồng ý"}),i.jsx("button",{className:"btn btn-outline-secondary px-4",onClick:h,children:"Huỷ"})]})]})]})})}):null}const LO=l=>Ft.get(`/notifications/user/${l}`),_H=l=>Ft.get(`/notifications/user/${l}/unread-count`),BO=(l,c)=>Ft.put(`/notifications/${l}`,c),rA=l=>Ft.put(`/notifications/user/${l}/mark-all-read`),PO=l=>Ft.delete(`/notifications/${l}`);console.log("[NotificationIcon] File loaded");const $2=()=>{const{user:l,notificationRefreshTrigger:c}=I.useContext(cs),[s,o]=I.useState([]),[h,g]=I.useState(0),[_,y]=I.useState(!1),[v,N]=I.useState(!1),[S,D]=I.useState(!1),[j,B]=I.useState(null),F=ba();I.useEffect(()=>{console.log("[NotificationIcon] notificationRefreshTrigger:",c),l&&(H(),$())},[l,c]),I.useEffect(()=>{_&&h>0&&l&&rA(l.id).then(()=>{o(oe=>oe.map(be=>({...be,is_read:!0}))),g(0)})},[_]);const H=async()=>{try{N(!0);const oe=await LO(l.id);o(oe.data)}catch(oe){console.error("Error fetching notifications:",oe)}finally{N(!1)}},$=async()=>{try{const oe=await _H(l.id);g(oe.data.count)}catch(oe){console.error("Error fetching unread count:",oe)}},K=async oe=>{try{await BO(oe,{is_read:!0}),o(be=>be.map(pe=>pe.notification_id===oe?{...pe,is_read:!0}:pe)),g(be=>Math.max(0,be-1))}catch(be){console.error("Error marking notification as read:",be)}},Q=async()=>{try{await rA(l.id),o(oe=>oe.map(be=>({...be,is_read:!0}))),g(0)}catch(oe){console.error("Error marking all notifications as read:",oe)}},ee=async(oe,be)=>{be.stopPropagation(),B(oe),D(!0)},ne=async()=>{if(j)try{await PO(j);const oe=s.find(be=>be.notification_id===j);o(be=>be.filter(pe=>pe.notification_id!==j)),oe&&!oe.is_read&&g(be=>Math.max(0,be-1)),D(!1),B(null)}catch(oe){console.error("Error deleting notification:",oe)}},ce=()=>{D(!1),B(null)},se=oe=>{try{return new Date(oe).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return oe}},q=oe=>{switch(oe){case"tour_reminder":return"bi bi-calendar-event text-warning";case"tour_completion":return"bi bi-check-circle text-success";case"tour_created":return"bi bi-plus-circle text-primary";default:return"bi bi-bell text-info"}},ue=oe=>{oe.article_id&&oe.comment_id?F(`/articles/${oe.article_id}#comment-${oe.comment_id}`):oe.article_id?F(`/articles/${oe.article_id}`):oe.tour_id?F(`/tours/${oe.tour_id}`):oe.place_id&&F(`/places/${oe.place_id}`)};return l?i.jsxs("div",{className:"position-relative",children:[i.jsxs("button",{className:"btn rounded-circle p-0 d-flex align-items-center justify-content-center border-0 position-relative",style:{width:48,height:48,background:"none",boxShadow:"none"},onClick:()=>y(!_),"aria-label":"Notifications",children:[i.jsx("i",{className:"bi bi-bell",style:{fontSize:24,color:"#1a5bb8"}}),h>0&&!_&&i.jsx("span",{className:"position-absolute badge rounded-pill bg-danger",style:{fontSize:"0.7rem",top:"2px",right:"-8px",minWidth:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center",padding:"2px 6px"},children:h>99?"99+":h})]}),_&&i.jsxs("div",{className:"dropdown-menu show position-absolute d-flex flex-column",style:{minWidth:350,maxWidth:400,maxHeight:500,overflowY:"auto",right:0,left:"auto",zIndex:1e3,boxShadow:"0 4px 20px rgba(0,0,0,0.15)",border:"none",borderRadius:"12px",padding:0},children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-center p-3 border-bottom",children:[i.jsx("h6",{className:"mb-0 fw-bold",children:"Thông báo"}),h>0&&i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:Q,children:"Đánh dấu đã đọc"})]}),i.jsxs("div",{className:"flex-grow-1 p-0",style:{overflowY:"auto"},children:[v?i.jsx("div",{className:"text-center p-3",children:i.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):s.length===0?i.jsxs("div",{className:"text-center p-4 text-muted",children:[i.jsx("i",{className:"bi bi-bell-slash",style:{fontSize:"2rem"}}),i.jsx("p",{className:"mt-2 mb-0",children:"Không có thông báo nào"})]}):s.map(oe=>i.jsx("div",{className:`p-3 border-bottom ${oe.is_read?"":"bg-light"}`,style:{cursor:"pointer"},onClick:be=>{be.stopPropagation(),K(oe.notification_id),ue(oe)},children:i.jsxs("div",{className:"d-flex align-items-start",children:[i.jsx("div",{className:"me-3 mt-1",children:i.jsx("i",{className:q(oe.type),style:{fontSize:"1.2rem"}})}),i.jsxs("div",{className:"flex-grow-1",children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[i.jsx("p",{className:"mb-1",style:{fontSize:"0.9rem",lineHeight:"1.4"},children:oe.content}),!oe.is_read&&i.jsx("span",{className:"badge bg-primary rounded-pill ms-2",style:{fontSize:"0.6rem"},children:"Mới"})]}),i.jsx("small",{className:"text-muted",children:se(oe.created_at)}),!oe.is_read&&i.jsxs("button",{className:"btn btn-sm btn-outline-primary mt-2",style:{fontSize:"0.8rem",padding:"2px 8px"},onClick:be=>{be.stopPropagation(),K(oe.notification_id)},children:[i.jsx("i",{className:"bi bi-check me-1"}),"Đánh dấu đã đọc"]})]}),i.jsx("div",{className:"ms-2",children:i.jsx("i",{className:"bi bi-trash",style:{fontSize:"1.2rem",color:"#dc3545",cursor:"pointer"},onClick:be=>{be.stopPropagation(),ee(oe.notification_id,be)}})})]})},oe.notification_id)),s.length>0&&i.jsx("div",{className:"p-2 text-center",children:i.jsxs("small",{className:"text-muted",children:[s.length," thông báo"]})})]}),i.jsx("div",{className:"border-top bg-white text-center",style:{position:"sticky",bottom:0,zIndex:3,padding:"16px 0"},children:i.jsxs(en,{to:"/notifications",className:"btn btn-link fw-bold text-decoration-none",style:{color:"#1a5bb8"},children:[i.jsx("i",{className:"bi bi-arrow-right-circle me-2"}),"Xem tất cả thông báo"]})})]}),_&&i.jsx("div",{className:"position-fixed",style:{top:0,left:0,right:0,bottom:0,zIndex:999},onClick:()=>y(!1)}),i.jsx("div",{className:`modal fade ${S?"show":""}`,style:{display:S?"block":"none"},tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content border-0 shadow-lg",children:[i.jsxs("div",{className:"modal-header bg-danger text-white",children:[i.jsxs("h5",{className:"modal-title",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),"Xác nhận xóa"]}),i.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:ce})]}),i.jsx("div",{className:"modal-body",children:i.jsx("p",{className:"mb-0",children:"Bạn có chắc muốn xóa thông báo này? Hành động này không thể hoàn tác."})}),i.jsxs("div",{className:"modal-footer",children:[i.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:ce,children:[i.jsx("i",{className:"bi bi-x-circle me-1"}),"Hủy"]}),i.jsxs("button",{type:"button",className:"btn btn-danger",onClick:ne,children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xóa"]})]})]})})}),S&&i.jsx("div",{className:"modal-backdrop fade show"})]}):null},RO=I.createContext(),vH=[{code:"en",icon:"en"},{code:"vi",icon:"🇻🇳"}],wH=({children:l})=>{const[c,s]=I.useState("en"),o=h=>{s(h)};return i.jsx(RO.Provider,{value:{language:c,switchLanguage:o,languages:vH},children:l})},yH=()=>I.useContext(RO),xH="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='24'%20viewBox='0%200%2032%2024'%3e%3crect%20width='32'%20height='24'%20fill='%23b22234'/%3e%3cg%20fill='%23fff'%3e%3crect%20y='2.18'%20width='32'%20height='2.18'/%3e%3crect%20y='6.54'%20width='32'%20height='2.18'/%3e%3crect%20y='10.9'%20width='32'%20height='2.18'/%3e%3crect%20y='15.26'%20width='32'%20height='2.18'/%3e%3crect%20y='19.62'%20width='32'%20height='2.18'/%3e%3c/g%3e%3crect%20width='13.7'%20height='9.6'%20fill='%233c3b6e'/%3e%3cg%20fill='%23fff'%3e%3cg%20id='s18'%3e%3cg%20id='s9'%3e%3cpolygon%20points='1.37,1.44%201.68,2.36%202.65,2.36%201.87,2.93%202.18,3.85%201.37,3.28%200.56,3.85%200.87,2.93%200.09,2.36%201.06,2.36'/%3e%3c/g%3e%3cuse%20xlink:href='%23s9'%20x='2.74'/%3e%3cuse%20xlink:href='%23s9'%20x='5.48'/%3e%3cuse%20xlink:href='%23s9'%20x='8.22'/%3e%3cuse%20xlink:href='%23s9'%20x='10.96'/%3e%3c/g%3e%3cuse%20xlink:href='%23s18'%20y='1.92'/%3e%3cuse%20xlink:href='%23s18'%20y='3.84'/%3e%3cuse%20xlink:href='%23s18'%20y='5.76'/%3e%3cuse%20xlink:href='%23s18'%20y='7.68'/%3e%3c/g%3e%3c/svg%3e",CH="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='24'%20viewBox='0%200%2032%2024'%3e%3crect%20width='32'%20height='24'%20fill='%23da251d'/%3e%3cpolygon%20fill='%23ff0'%20points='16,5%2017.76,11.09%2024.18,11.09%2018.71,14.41%2020.47,20.5%2016,17.18%2011.53,20.5%2013.29,14.41%207.82,11.09%2014.24,11.09'/%3e%3c/svg%3e",q2={en:xH,vi:CH},B_={en:"English",vi:"Tiếng Việt"},W2=()=>{const{language:l,switchLanguage:c,languages:s}=yH(),{i18n:o}=vh(),[h,g]=I.useState(!1),_=I.useRef();return I.useEffect(()=>{o.changeLanguage(l)},[l,o]),I.useEffect(()=>{const y=v=>{_.current&&!_.current.contains(v.target)&&g(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]),s.find(y=>y.code===l),i.jsxs("div",{className:"language-switcher-dropdown",ref:_,style:{position:"relative",display:"inline-block"},children:[i.jsx("button",{className:"lang-dropdown-btn",style:{background:"none",border:"none",borderRadius:0,padding:0,width:38,height:28,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},onClick:()=>g(y=>!y),"aria-label":B_[l],children:i.jsx("img",{src:q2[l],alt:B_[l],style:{width:28,height:20,borderRadius:3,objectFit:"cover"},onError:y=>{y.target.onerror=null,y.target.src="https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg"}})}),h&&i.jsx("div",{className:"lang-dropdown-menu",style:{position:"absolute",top:34,left:0,background:"#fff",border:"none",borderRadius:6,boxShadow:"0 2px 8px rgba(0,0,0,0.08)",zIndex:100,width:35,padding:0},children:s.filter(y=>y.code!==l).map(y=>i.jsx("button",{className:"lang-dropdown-item",style:{background:"none",border:"none",width:"100%",display:"flex",alignItems:"center",gap:8,padding:4,cursor:"pointer",borderRadius:4,transition:"background 0.2s"},onClick:()=>{c(y.code),g(!1)},"aria-label":B_[y.code],children:i.jsx("img",{src:q2[y.code],alt:B_[y.code],style:{width:28,height:20,borderRadius:3,objectFit:"cover"},onError:v=>{v.target.onerror=null,v.target.src="https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg"}})},y.code))})]})};var s0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Y2;function AH(){return Y2||(Y2=1,function(l){(function(){var c={}.hasOwnProperty;function s(){for(var g="",_=0;_<arguments.length;_++){var y=arguments[_];y&&(g=h(g,o(y)))}return g}function o(g){if(typeof g=="string"||typeof g=="number")return g;if(typeof g!="object")return"";if(Array.isArray(g))return s.apply(null,g);if(g.toString!==Object.prototype.toString&&!g.toString.toString().includes("[native code]"))return g.toString();var _="";for(var y in g)c.call(g,y)&&g[y]&&(_=h(_,y));return _}function h(g,_){return _?g?g+" "+_:g+_:g}l.exports?(s.default=s,l.exports=s):window.classNames=s})()}(s0)),s0.exports}var NH=AH();const Xn=Rm(NH);function sA(){return sA=Object.assign?Object.assign.bind():function(l){for(var c=1;c<arguments.length;c++){var s=arguments[c];for(var o in s)({}).hasOwnProperty.call(s,o)&&(l[o]=s[o])}return l},sA.apply(null,arguments)}function zO(l,c){if(l==null)return{};var s={};for(var o in l)if({}.hasOwnProperty.call(l,o)){if(c.indexOf(o)!==-1)continue;s[o]=l[o]}return s}function G2(l){return"default"+l.charAt(0).toUpperCase()+l.substr(1)}function EH(l){var c=SH(l,"string");return typeof c=="symbol"?c:String(c)}function SH(l,c){if(typeof l!="object"||l===null)return l;var s=l[Symbol.toPrimitive];if(s!==void 0){var o=s.call(l,c);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(l)}function jH(l,c,s){var o=I.useRef(l!==void 0),h=I.useState(c),g=h[0],_=h[1],y=l!==void 0,v=o.current;return o.current=y,!y&&v&&g!==c&&_(c),[y?l:g,I.useCallback(function(N){for(var S=arguments.length,D=new Array(S>1?S-1:0),j=1;j<S;j++)D[j-1]=arguments[j];s&&s.apply(void 0,[N].concat(D)),_(N)},[s])]}function DH(l,c){return Object.keys(c).reduce(function(s,o){var h,g=s,_=g[G2(o)],y=g[o],v=zO(g,[G2(o),o].map(EH)),N=c[o],S=jH(y,_,l[N]),D=S[0],j=S[1];return sA({},v,(h={},h[o]=D,h[N]=j,h))},l)}function oA(l,c){return oA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},oA(l,c)}function TH(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,oA(l,c)}const MH=["xxl","xl","lg","md","sm","xs"],IH="xs",Nb=I.createContext({prefixes:{},breakpoints:MH,minBreakpoint:IH}),{Consumer:QJ,Provider:ZJ}=Nb;function Ci(l,c){const{prefixes:s}=I.useContext(Nb);return l||s[c]||c}function OH(){const{breakpoints:l}=I.useContext(Nb);return l}function LH(){const{minBreakpoint:l}=I.useContext(Nb);return l}function BH(){const{dir:l}=I.useContext(Nb);return l==="rtl"}function Wv(l){return l&&l.ownerDocument||document}function PH(l){var c=Wv(l);return c&&c.defaultView||window}function RH(l,c){return PH(l).getComputedStyle(l,c)}var zH=/([A-Z])/g;function FH(l){return l.replace(zH,"-$1").toLowerCase()}var VH=/^ms-/;function P_(l){return FH(l).replace(VH,"-ms-")}var HH=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function UH(l){return!!(l&&HH.test(l))}function Dm(l,c){var s="",o="";if(typeof c=="string")return l.style.getPropertyValue(P_(c))||RH(l).getPropertyValue(P_(c));Object.keys(c).forEach(function(h){var g=c[h];!g&&g!==0?l.style.removeProperty(P_(h)):UH(h)?o+=h+"("+g+") ":s+=P_(h)+": "+g+";"}),o&&(s+="transform: "+o+";"),l.style.cssText+=";"+s}var o0={exports:{}},a0,K2;function $H(){if(K2)return a0;K2=1;var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return a0=l,a0}var l0,Q2;function qH(){if(Q2)return l0;Q2=1;var l=$H();function c(){}function s(){}return s.resetWarningCache=c,l0=function(){function o(_,y,v,N,S,D){if(D!==l){var j=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw j.name="Invariant Violation",j}}o.isRequired=o;function h(){return o}var g={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:h,element:o,elementType:o,instanceOf:h,node:o,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h,checkPropTypes:s,resetWarningCache:c};return g.PropTypes=g,g},l0}var Z2;function WH(){return Z2||(Z2=1,o0.exports=qH()()),o0.exports}var YH=WH();const ni=Rm(YH),X2={disabled:!1},FO=tt.createContext(null);var GH=function(c){return c.scrollTop},tb="unmounted",vm="exited",hh="entering",ym="entered",aA="exiting",_u=function(l){TH(c,l);function c(o,h){var g;g=l.call(this,o,h)||this;var _=h,y=_&&!_.isMounting?o.enter:o.appear,v;return g.appearStatus=null,o.in?y?(v=vm,g.appearStatus=hh):v=ym:o.unmountOnExit||o.mountOnEnter?v=tb:v=vm,g.state={status:v},g.nextCallback=null,g}c.getDerivedStateFromProps=function(h,g){var _=h.in;return _&&g.status===tb?{status:vm}:null};var s=c.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(h){var g=null;if(h!==this.props){var _=this.state.status;this.props.in?_!==hh&&_!==ym&&(g=hh):(_===hh||_===ym)&&(g=aA)}this.updateStatus(!1,g)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var h=this.props.timeout,g,_,y;return g=_=y=h,h!=null&&typeof h!="number"&&(g=h.exit,_=h.enter,y=h.appear!==void 0?h.appear:_),{exit:g,enter:_,appear:y}},s.updateStatus=function(h,g){if(h===void 0&&(h=!1),g!==null)if(this.cancelNextCallback(),g===hh){if(this.props.unmountOnExit||this.props.mountOnEnter){var _=this.props.nodeRef?this.props.nodeRef.current:xm.findDOMNode(this);_&&GH(_)}this.performEnter(h)}else this.performExit();else this.props.unmountOnExit&&this.state.status===vm&&this.setState({status:tb})},s.performEnter=function(h){var g=this,_=this.props.enter,y=this.context?this.context.isMounting:h,v=this.props.nodeRef?[y]:[xm.findDOMNode(this),y],N=v[0],S=v[1],D=this.getTimeouts(),j=y?D.appear:D.enter;if(!h&&!_||X2.disabled){this.safeSetState({status:ym},function(){g.props.onEntered(N)});return}this.props.onEnter(N,S),this.safeSetState({status:hh},function(){g.props.onEntering(N,S),g.onTransitionEnd(j,function(){g.safeSetState({status:ym},function(){g.props.onEntered(N,S)})})})},s.performExit=function(){var h=this,g=this.props.exit,_=this.getTimeouts(),y=this.props.nodeRef?void 0:xm.findDOMNode(this);if(!g||X2.disabled){this.safeSetState({status:vm},function(){h.props.onExited(y)});return}this.props.onExit(y),this.safeSetState({status:aA},function(){h.props.onExiting(y),h.onTransitionEnd(_.exit,function(){h.safeSetState({status:vm},function(){h.props.onExited(y)})})})},s.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(h,g){g=this.setNextCallback(g),this.setState(h,g)},s.setNextCallback=function(h){var g=this,_=!0;return this.nextCallback=function(y){_&&(_=!1,g.nextCallback=null,h(y))},this.nextCallback.cancel=function(){_=!1},this.nextCallback},s.onTransitionEnd=function(h,g){this.setNextCallback(g);var _=this.props.nodeRef?this.props.nodeRef.current:xm.findDOMNode(this),y=h==null&&!this.props.addEndListener;if(!_||y){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var v=this.props.nodeRef?[this.nextCallback]:[_,this.nextCallback],N=v[0],S=v[1];this.props.addEndListener(N,S)}h!=null&&setTimeout(this.nextCallback,h)},s.render=function(){var h=this.state.status;if(h===tb)return null;var g=this.props,_=g.children;g.in,g.mountOnEnter,g.unmountOnExit,g.appear,g.enter,g.exit,g.timeout,g.addEndListener,g.onEnter,g.onEntering,g.onEntered,g.onExit,g.onExiting,g.onExited,g.nodeRef;var y=zO(g,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return tt.createElement(FO.Provider,{value:null},typeof _=="function"?_(h,y):tt.cloneElement(tt.Children.only(_),y))},c}(tt.Component);_u.contextType=FO;_u.propTypes={};function Qf(){}_u.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Qf,onEntering:Qf,onEntered:Qf,onExit:Qf,onExiting:Qf,onExited:Qf};_u.UNMOUNTED=tb;_u.EXITED=vm;_u.ENTERING=hh;_u.ENTERED=ym;_u.EXITING=aA;function KH(l){return l.code==="Escape"||l.keyCode===27}function QH(){const l=I.version.split(".");return{major:+l[0],minor:+l[1],patch:+l[2]}}function Yv(l){if(!l||typeof l=="function")return null;const{major:c}=QH();return c>=19?l.props.ref:l.ref}const bp=!!(typeof window<"u"&&window.document&&window.document.createElement);var lA=!1,cA=!1;try{var c0={get passive(){return lA=!0},get once(){return cA=lA=!0}};bp&&(window.addEventListener("test",c0,c0),window.removeEventListener("test",c0,!0))}catch{}function VO(l,c,s,o){if(o&&typeof o!="boolean"&&!cA){var h=o.once,g=o.capture,_=s;!cA&&h&&(_=s.__once||function y(v){this.removeEventListener(c,y,g),s.call(this,v)},s.__once=_),l.addEventListener(c,_,lA?o:g)}l.addEventListener(c,s,o)}function dA(l,c,s,o){var h=o&&typeof o!="boolean"?o.capture:o;l.removeEventListener(c,s,h),s.__once&&l.removeEventListener(c,s.__once,h)}function fv(l,c,s,o){return VO(l,c,s,o),function(){dA(l,c,s,o)}}function ZH(l,c,s,o){if(o===void 0&&(o=!0),l){var h=document.createEvent("HTMLEvents");h.initEvent(c,s,o),l.dispatchEvent(h)}}function XH(l){var c=Dm(l,"transitionDuration")||"",s=c.indexOf("ms")===-1?1e3:1;return parseFloat(c)*s}function JH(l,c,s){s===void 0&&(s=5);var o=!1,h=setTimeout(function(){o||ZH(l,"transitionend",!0)},c+s),g=fv(l,"transitionend",function(){o=!0},{once:!0});return function(){clearTimeout(h),g()}}function HO(l,c,s,o){s==null&&(s=XH(l)||0);var h=JH(l,s,o),g=fv(l,"transitionend",c);return function(){h(),g()}}function J2(l,c){const s=Dm(l,c)||"",o=s.indexOf("ms")===-1?1e3:1;return parseFloat(s)*o}function eU(l,c){const s=J2(l,"transitionDuration"),o=J2(l,"transitionDelay"),h=HO(l,g=>{g.target===l&&(h(),c(g))},s+o)}function tU(l){l.offsetHeight}const eT=l=>!l||typeof l=="function"?l:c=>{l.current=c};function nU(l,c){const s=eT(l),o=eT(c);return h=>{s&&s(h),o&&o(h)}}function UO(l,c){return I.useMemo(()=>nU(l,c),[l,c])}function iU(l){return l&&"setState"in l?xm.findDOMNode(l):l??null}const $O=tt.forwardRef(({onEnter:l,onEntering:c,onEntered:s,onExit:o,onExiting:h,onExited:g,addEndListener:_,children:y,childRef:v,...N},S)=>{const D=I.useRef(null),j=UO(D,v),B=se=>{j(iU(se))},F=se=>q=>{se&&D.current&&se(D.current,q)},H=I.useCallback(F(l),[l]),$=I.useCallback(F(c),[c]),K=I.useCallback(F(s),[s]),Q=I.useCallback(F(o),[o]),ee=I.useCallback(F(h),[h]),ne=I.useCallback(F(g),[g]),ce=I.useCallback(F(_),[_]);return i.jsx(_u,{ref:S,...N,onEnter:H,onEntered:K,onEntering:$,onExit:Q,onExited:ne,onExiting:ee,addEndListener:ce,nodeRef:D,children:typeof y=="function"?(se,q)=>y(se,{...q,ref:B}):tt.cloneElement(y,{ref:B})})});$O.displayName="TransitionWrapper";function rU(l){const c=I.useRef(l);return I.useEffect(()=>{c.current=l},[l]),c}function pv(l){const c=rU(l);return I.useCallback(function(...s){return c.current&&c.current(...s)},[c])}const Gv=l=>I.forwardRef((c,s)=>i.jsx("div",{...c,ref:s,className:Xn(c.className,l)})),qO=Gv("h4");qO.displayName="DivStyledAsH4";const WO=I.forwardRef(({className:l,bsPrefix:c,as:s=qO,...o},h)=>(c=Ci(c,"alert-heading"),i.jsx(s,{ref:h,className:Xn(l,c),...o})));WO.displayName="AlertHeading";function sU(l){const c=I.useRef(l);return I.useEffect(()=>{c.current=l},[l]),c}function mh(l){const c=sU(l);return I.useCallback(function(...s){return c.current&&c.current(...s)},[c])}function oU(){const l=I.useRef(!0),c=I.useRef(()=>l.current);return I.useEffect(()=>(l.current=!0,()=>{l.current=!1}),[]),c.current}function aU(l){const c=I.useRef(null);return I.useEffect(()=>{c.current=l}),c.current}const lU=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",cU=typeof document<"u",tT=cU||lU?I.useLayoutEffect:I.useEffect,dU=["as","disabled"];function uU(l,c){if(l==null)return{};var s={};for(var o in l)if({}.hasOwnProperty.call(l,o)){if(c.indexOf(o)>=0)continue;s[o]=l[o]}return s}function hU(l){return!l||l.trim()==="#"}function MA({tagName:l,disabled:c,href:s,target:o,rel:h,role:g,onClick:_,tabIndex:y=0,type:v}){l||(s!=null||o!=null||h!=null?l="a":l="button");const N={tagName:l};if(l==="button")return[{type:v||"button",disabled:c},N];const S=j=>{if((c||l==="a"&&hU(s))&&j.preventDefault(),c){j.stopPropagation();return}_==null||_(j)},D=j=>{j.key===" "&&(j.preventDefault(),S(j))};return l==="a"&&(s||(s="#"),c&&(s=void 0)),[{role:g??"button",disabled:void 0,tabIndex:c?void 0:y,href:s,target:l==="a"?o:void 0,"aria-disabled":c||void 0,rel:l==="a"?h:void 0,onClick:S,onKeyDown:D},N]}const mU=I.forwardRef((l,c)=>{let{as:s,disabled:o}=l,h=uU(l,dU);const[g,{tagName:_}]=MA(Object.assign({tagName:s,disabled:o},h));return i.jsx(_,Object.assign({},h,g,{ref:c}))});mU.displayName="Button";const fU=["onKeyDown"];function pU(l,c){if(l==null)return{};var s={};for(var o in l)if({}.hasOwnProperty.call(l,o)){if(c.indexOf(o)>=0)continue;s[o]=l[o]}return s}function gU(l){return!l||l.trim()==="#"}const YO=I.forwardRef((l,c)=>{let{onKeyDown:s}=l,o=pU(l,fU);const[h]=MA(Object.assign({tagName:"a"},o)),g=mh(_=>{h.onKeyDown(_),s==null||s(_)});return gU(o.href)||o.role==="button"?i.jsx("a",Object.assign({ref:c},o,h,{onKeyDown:g})):i.jsx("a",Object.assign({ref:c},o,{onKeyDown:s}))});YO.displayName="Anchor";const GO=I.forwardRef(({className:l,bsPrefix:c,as:s=YO,...o},h)=>(c=Ci(c,"alert-link"),i.jsx(s,{ref:h,className:Xn(l,c),...o})));GO.displayName="AlertLink";const bU={[hh]:"show",[ym]:"show"},ub=I.forwardRef(({className:l,children:c,transitionClasses:s={},onEnter:o,...h},g)=>{const _={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...h},y=I.useCallback((v,N)=>{tU(v),o==null||o(v,N)},[o]);return i.jsx($O,{ref:g,addEndListener:eU,..._,onEnter:y,childRef:Yv(c),children:(v,N)=>I.cloneElement(c,{...N,className:Xn("fade",l,c.props.className,bU[v],s[v])})})});ub.displayName="Fade";const kU={"aria-label":ni.string,onClick:ni.func,variant:ni.oneOf(["white"])},Kv=I.forwardRef(({className:l,variant:c,"aria-label":s="Close",...o},h)=>i.jsx("button",{ref:h,type:"button",className:Xn("btn-close",c&&`btn-close-${c}`,l),"aria-label":s,...o}));Kv.displayName="CloseButton";Kv.propTypes=kU;const KO=I.forwardRef((l,c)=>{const{bsPrefix:s,show:o=!0,closeLabel:h="Close alert",closeVariant:g,className:_,children:y,variant:v="primary",onClose:N,dismissible:S,transition:D=ub,...j}=DH(l,{show:"onClose"}),B=Ci(s,"alert"),F=pv(K=>{N&&N(!1,K)}),H=D===!0?ub:D,$=i.jsxs("div",{role:"alert",...H?void 0:j,ref:c,className:Xn(_,B,v&&`${B}-${v}`,S&&`${B}-dismissible`),children:[S&&i.jsx(Kv,{onClick:F,"aria-label":h,variant:g}),y]});return H?i.jsx(H,{unmountOnExit:!0,...j,ref:void 0,in:o,children:$}):o?$:null});KO.displayName="Alert";const nv=Object.assign(KO,{Link:GO,Heading:WO}),QO=I.forwardRef(({bsPrefix:l,bg:c="primary",pill:s=!1,text:o,className:h,as:g="span",..._},y)=>{const v=Ci(l,"badge");return i.jsx(g,{ref:y,..._,className:Xn(h,v,s&&"rounded-pill",o&&`text-${o}`,c&&`bg-${c}`)})});QO.displayName="Badge";const Ut=I.forwardRef(({as:l,bsPrefix:c,variant:s="primary",size:o,active:h=!1,disabled:g=!1,className:_,...y},v)=>{const N=Ci(c,"btn"),[S,{tagName:D}]=MA({tagName:l,disabled:g,...y}),j=D;return i.jsx(j,{...S,...y,ref:v,disabled:g,className:Xn(_,N,h&&"active",s&&`${N}-${s}`,o&&`${N}-${o}`,y.href&&g&&"disabled")})});Ut.displayName="Button";const IA=I.forwardRef(({className:l,bsPrefix:c,as:s="div",...o},h)=>(c=Ci(c,"card-body"),i.jsx(s,{ref:h,className:Xn(l,c),...o})));IA.displayName="CardBody";const ZO=I.forwardRef(({className:l,bsPrefix:c,as:s="div",...o},h)=>(c=Ci(c,"card-footer"),i.jsx(s,{ref:h,className:Xn(l,c),...o})));ZO.displayName="CardFooter";const XO=I.createContext(null);XO.displayName="CardHeaderContext";const JO=I.forwardRef(({bsPrefix:l,className:c,as:s="div",...o},h)=>{const g=Ci(l,"card-header"),_=I.useMemo(()=>({cardHeaderBsPrefix:g}),[g]);return i.jsx(XO.Provider,{value:_,children:i.jsx(s,{ref:h,...o,className:Xn(c,g)})})});JO.displayName="CardHeader";const e5=I.forwardRef(({bsPrefix:l,className:c,variant:s,as:o="img",...h},g)=>{const _=Ci(l,"card-img");return i.jsx(o,{ref:g,className:Xn(s?`${_}-${s}`:_,c),...h})});e5.displayName="CardImg";const t5=I.forwardRef(({className:l,bsPrefix:c,as:s="div",...o},h)=>(c=Ci(c,"card-img-overlay"),i.jsx(s,{ref:h,className:Xn(l,c),...o})));t5.displayName="CardImgOverlay";const n5=I.forwardRef(({className:l,bsPrefix:c,as:s="a",...o},h)=>(c=Ci(c,"card-link"),i.jsx(s,{ref:h,className:Xn(l,c),...o})));n5.displayName="CardLink";const _U=Gv("h6"),i5=I.forwardRef(({className:l,bsPrefix:c,as:s=_U,...o},h)=>(c=Ci(c,"card-subtitle"),i.jsx(s,{ref:h,className:Xn(l,c),...o})));i5.displayName="CardSubtitle";const r5=I.forwardRef(({className:l,bsPrefix:c,as:s="p",...o},h)=>(c=Ci(c,"card-text"),i.jsx(s,{ref:h,className:Xn(l,c),...o})));r5.displayName="CardText";const vU=Gv("h5"),s5=I.forwardRef(({className:l,bsPrefix:c,as:s=vU,...o},h)=>(c=Ci(c,"card-title"),i.jsx(s,{ref:h,className:Xn(l,c),...o})));s5.displayName="CardTitle";const o5=I.forwardRef(({bsPrefix:l,className:c,bg:s,text:o,border:h,body:g=!1,children:_,as:y="div",...v},N)=>{const S=Ci(l,"card");return i.jsx(y,{ref:N,...v,className:Xn(c,S,s&&`bg-${s}`,o&&`text-${o}`,h&&`border-${h}`),children:g?i.jsx(IA,{children:_}):_})});o5.displayName="Card";const ws=Object.assign(o5,{Img:e5,Title:s5,Subtitle:i5,Body:IA,Link:n5,Text:r5,Header:JO,Footer:ZO,ImgOverlay:t5});function wU(l){const c=I.useRef(l);return c.current=l,c}function yU(l){const c=wU(l);I.useEffect(()=>()=>c.current(),[])}function xU(l,c){return I.Children.toArray(l).some(s=>I.isValidElement(s)&&s.type===c)}function CU({as:l,bsPrefix:c,className:s,...o}){c=Ci(c,"col");const h=OH(),g=LH(),_=[],y=[];return h.forEach(v=>{const N=o[v];delete o[v];let S,D,j;typeof N=="object"&&N!=null?{span:S,offset:D,order:j}=N:S=N;const B=v!==g?`-${v}`:"";S&&_.push(S===!0?`${c}${B}`:`${c}${B}-${S}`),j!=null&&y.push(`order${B}-${j}`),D!=null&&y.push(`offset${B}-${D}`)}),[{...o,className:Xn(s,..._,...y)},{as:l,bsPrefix:c,spans:_}]}const a5=I.forwardRef((l,c)=>{const[{className:s,...o},{as:h="div",bsPrefix:g,spans:_}]=CU(l);return i.jsx(h,{...o,ref:c,className:Xn(s,!_.length&&g)})});a5.displayName="Col";var AU=Function.prototype.bind.call(Function.prototype.call,[].slice);function Zf(l,c){return AU(l.querySelectorAll(c))}function nT(l,c){if(l.contains)return l.contains(c);if(l.compareDocumentPosition)return l===c||!!(l.compareDocumentPosition(c)&16)}const NU="data-rr-ui-";function EU(l){return`${NU}${l}`}const l5=I.createContext(bp?window:void 0);l5.Provider;function OA(){return I.useContext(l5)}const SU={type:ni.string,tooltip:ni.bool,as:ni.elementType},Qv=I.forwardRef(({as:l="div",className:c,type:s="valid",tooltip:o=!1,...h},g)=>i.jsx(l,{...h,ref:g,className:Xn(c,`${s}-${o?"tooltip":"feedback"}`)}));Qv.displayName="Feedback";Qv.propTypes=SU;const bu=I.createContext({}),LA=I.forwardRef(({id:l,bsPrefix:c,className:s,type:o="checkbox",isValid:h=!1,isInvalid:g=!1,as:_="input",...y},v)=>{const{controlId:N}=I.useContext(bu);return c=Ci(c,"form-check-input"),i.jsx(_,{...y,ref:v,type:o,id:l||N,className:Xn(s,c,h&&"is-valid",g&&"is-invalid")})});LA.displayName="FormCheckInput";const gv=I.forwardRef(({bsPrefix:l,className:c,htmlFor:s,...o},h)=>{const{controlId:g}=I.useContext(bu);return l=Ci(l,"form-check-label"),i.jsx("label",{...o,ref:h,htmlFor:s||g,className:Xn(c,l)})});gv.displayName="FormCheckLabel";const c5=I.forwardRef(({id:l,bsPrefix:c,bsSwitchPrefix:s,inline:o=!1,reverse:h=!1,disabled:g=!1,isValid:_=!1,isInvalid:y=!1,feedbackTooltip:v=!1,feedback:N,feedbackType:S,className:D,style:j,title:B="",type:F="checkbox",label:H,children:$,as:K="input",...Q},ee)=>{c=Ci(c,"form-check"),s=Ci(s,"form-switch");const{controlId:ne}=I.useContext(bu),ce=I.useMemo(()=>({controlId:l||ne}),[ne,l]),se=!$&&H!=null&&H!==!1||xU($,gv),q=i.jsx(LA,{...Q,type:F==="switch"?"checkbox":F,ref:ee,isValid:_,isInvalid:y,disabled:g,as:K});return i.jsx(bu.Provider,{value:ce,children:i.jsx("div",{style:j,className:Xn(D,se&&c,o&&`${c}-inline`,h&&`${c}-reverse`,F==="switch"&&s),children:$||i.jsxs(i.Fragment,{children:[q,se&&i.jsx(gv,{title:B,children:H}),N&&i.jsx(Qv,{type:S,tooltip:v,children:N})]})})})});c5.displayName="FormCheck";const bv=Object.assign(c5,{Input:LA,Label:gv}),d5=I.forwardRef(({bsPrefix:l,type:c,size:s,htmlSize:o,id:h,className:g,isValid:_=!1,isInvalid:y=!1,plaintext:v,readOnly:N,as:S="input",...D},j)=>{const{controlId:B}=I.useContext(bu);return l=Ci(l,"form-control"),i.jsx(S,{...D,type:c,size:o,ref:j,readOnly:N,id:h||B,className:Xn(g,v?`${l}-plaintext`:l,s&&`${l}-${s}`,c==="color"&&`${l}-color`,_&&"is-valid",y&&"is-invalid")})});d5.displayName="FormControl";const jU=Object.assign(d5,{Feedback:Qv}),u5=I.forwardRef(({className:l,bsPrefix:c,as:s="div",...o},h)=>(c=Ci(c,"form-floating"),i.jsx(s,{ref:h,className:Xn(l,c),...o})));u5.displayName="FormFloating";const BA=I.forwardRef(({controlId:l,as:c="div",...s},o)=>{const h=I.useMemo(()=>({controlId:l}),[l]);return i.jsx(bu.Provider,{value:h,children:i.jsx(c,{...s,ref:o})})});BA.displayName="FormGroup";const h5=I.forwardRef(({as:l="label",bsPrefix:c,column:s=!1,visuallyHidden:o=!1,className:h,htmlFor:g,..._},y)=>{const{controlId:v}=I.useContext(bu);c=Ci(c,"form-label");let N="col-form-label";typeof s=="string"&&(N=`${N} ${N}-${s}`);const S=Xn(h,c,o&&"visually-hidden",s&&N);return g=g||v,s?i.jsx(a5,{ref:y,as:"label",className:S,htmlFor:g,..._}):i.jsx(l,{ref:y,className:S,htmlFor:g,..._})});h5.displayName="FormLabel";const m5=I.forwardRef(({bsPrefix:l,className:c,id:s,...o},h)=>{const{controlId:g}=I.useContext(bu);return l=Ci(l,"form-range"),i.jsx("input",{...o,type:"range",ref:h,className:Xn(c,l),id:s||g})});m5.displayName="FormRange";const f5=I.forwardRef(({bsPrefix:l,size:c,htmlSize:s,className:o,isValid:h=!1,isInvalid:g=!1,id:_,...y},v)=>{const{controlId:N}=I.useContext(bu);return l=Ci(l,"form-select"),i.jsx("select",{...y,size:s,ref:v,className:Xn(o,l,c&&`${l}-${c}`,h&&"is-valid",g&&"is-invalid"),id:_||N})});f5.displayName="FormSelect";const p5=I.forwardRef(({bsPrefix:l,className:c,as:s="small",muted:o,...h},g)=>(l=Ci(l,"form-text"),i.jsx(s,{...h,ref:g,className:Xn(c,l,o&&"text-muted")})));p5.displayName="FormText";const g5=I.forwardRef((l,c)=>i.jsx(bv,{...l,ref:c,type:"switch"}));g5.displayName="Switch";const DU=Object.assign(g5,{Input:bv.Input,Label:bv.Label}),b5=I.forwardRef(({bsPrefix:l,className:c,children:s,controlId:o,label:h,...g},_)=>(l=Ci(l,"form-floating"),i.jsxs(BA,{ref:_,className:Xn(c,l),controlId:o,...g,children:[s,i.jsx("label",{htmlFor:o,children:h})]})));b5.displayName="FloatingLabel";const TU={_ref:ni.any,validated:ni.bool,as:ni.elementType},PA=I.forwardRef(({className:l,validated:c,as:s="form",...o},h)=>i.jsx(s,{...o,ref:h,className:Xn(l,c&&"was-validated")}));PA.displayName="Form";PA.propTypes=TU;const bn=Object.assign(PA,{Group:BA,Control:jU,Floating:u5,Check:bv,Switch:DU,Label:h5,Text:p5,Range:m5,Select:f5,FloatingLabel:b5}),iT=l=>!l||typeof l=="function"?l:c=>{l.current=c};function MU(l,c){const s=iT(l),o=iT(c);return h=>{s&&s(h),o&&o(h)}}function RA(l,c){return I.useMemo(()=>MU(l,c),[l,c])}var R_;function rT(l){if((!R_&&R_!==0||l)&&bp){var c=document.createElement("div");c.style.position="absolute",c.style.top="-9999px",c.style.width="50px",c.style.height="50px",c.style.overflow="scroll",document.body.appendChild(c),R_=c.offsetWidth-c.clientWidth,document.body.removeChild(c)}return R_}function IU(){return I.useState(null)}function d0(l){l===void 0&&(l=Wv());try{var c=l.activeElement;return!c||!c.nodeName?null:c}catch{return l.body}}function OU(l){const c=I.useRef(l);return c.current=l,c}function LU(l){const c=OU(l);I.useEffect(()=>()=>c.current(),[])}function BU(l=document){const c=l.defaultView;return Math.abs(c.innerWidth-l.documentElement.clientWidth)}const sT=EU("modal-open");class zA{constructor({ownerDocument:c,handleContainerOverflow:s=!0,isRTL:o=!1}={}){this.handleContainerOverflow=s,this.isRTL=o,this.modals=[],this.ownerDocument=c}getScrollbarWidth(){return BU(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(c){}removeModalAttributes(c){}setContainerStyle(c){const s={overflow:"hidden"},o=this.isRTL?"paddingLeft":"paddingRight",h=this.getElement();c.style={overflow:h.style.overflow,[o]:h.style[o]},c.scrollBarWidth&&(s[o]=`${parseInt(Dm(h,o)||"0",10)+c.scrollBarWidth}px`),h.setAttribute(sT,""),Dm(h,s)}reset(){[...this.modals].forEach(c=>this.remove(c))}removeContainerStyle(c){const s=this.getElement();s.removeAttribute(sT),Object.assign(s.style,c.style)}add(c){let s=this.modals.indexOf(c);return s!==-1||(s=this.modals.length,this.modals.push(c),this.setModalAttributes(c),s!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),s}remove(c){const s=this.modals.indexOf(c);s!==-1&&(this.modals.splice(s,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(c))}isTopModal(c){return!!this.modals.length&&this.modals[this.modals.length-1]===c}}const u0=(l,c)=>bp?l==null?(c||Wv()).body:(typeof l=="function"&&(l=l()),l&&"current"in l&&(l=l.current),l&&("nodeType"in l||l.getBoundingClientRect)?l:null):null;function PU(l,c){const s=OA(),[o,h]=I.useState(()=>u0(l,s==null?void 0:s.document));if(!o){const g=u0(l);g&&h(g)}return I.useEffect(()=>{},[c,o]),I.useEffect(()=>{const g=u0(l);g!==o&&h(g)},[l,o]),o}function RU({children:l,in:c,onExited:s,mountOnEnter:o,unmountOnExit:h}){const g=I.useRef(null),_=I.useRef(c),y=mh(s);I.useEffect(()=>{c?_.current=!0:y(g.current)},[c,y]);const v=RA(g,Yv(l)),N=I.cloneElement(l,{ref:v});return c?N:h||!_.current&&o?null:N}const zU=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function FU(l,c){if(l==null)return{};var s={};for(var o in l)if({}.hasOwnProperty.call(l,o)){if(c.indexOf(o)>=0)continue;s[o]=l[o]}return s}function VU(l){let{onEnter:c,onEntering:s,onEntered:o,onExit:h,onExiting:g,onExited:_,addEndListener:y,children:v}=l,N=FU(l,zU);const S=I.useRef(null),D=RA(S,Yv(v)),j=ne=>ce=>{ne&&S.current&&ne(S.current,ce)},B=I.useCallback(j(c),[c]),F=I.useCallback(j(s),[s]),H=I.useCallback(j(o),[o]),$=I.useCallback(j(h),[h]),K=I.useCallback(j(g),[g]),Q=I.useCallback(j(_),[_]),ee=I.useCallback(j(y),[y]);return Object.assign({},N,{nodeRef:S},c&&{onEnter:B},s&&{onEntering:F},o&&{onEntered:H},h&&{onExit:$},g&&{onExiting:K},_&&{onExited:Q},y&&{addEndListener:ee},{children:typeof v=="function"?(ne,ce)=>v(ne,Object.assign({},ce,{ref:D})):I.cloneElement(v,{ref:D})})}const HU=["component"];function UU(l,c){if(l==null)return{};var s={};for(var o in l)if({}.hasOwnProperty.call(l,o)){if(c.indexOf(o)>=0)continue;s[o]=l[o]}return s}const $U=I.forwardRef((l,c)=>{let{component:s}=l,o=UU(l,HU);const h=VU(o);return i.jsx(s,Object.assign({ref:c},h))});function qU({in:l,onTransition:c}){const s=I.useRef(null),o=I.useRef(!0),h=mh(c);return tT(()=>{if(!s.current)return;let g=!1;return h({in:l,element:s.current,initial:o.current,isStale:()=>g}),()=>{g=!0}},[l,h]),tT(()=>(o.current=!1,()=>{o.current=!0}),[]),s}function WU({children:l,in:c,onExited:s,onEntered:o,transition:h}){const[g,_]=I.useState(!c);c&&g&&_(!1);const y=qU({in:!!c,onTransition:N=>{const S=()=>{N.isStale()||(N.in?o==null||o(N.element,N.initial):(_(!0),s==null||s(N.element)))};Promise.resolve(h(N)).then(S,D=>{throw N.in||_(!0),D})}}),v=RA(y,Yv(l));return g&&!c?null:I.cloneElement(l,{ref:v})}function oT(l,c,s){return l?i.jsx($U,Object.assign({},s,{component:l})):c?i.jsx(WU,Object.assign({},s,{transition:c})):i.jsx(RU,Object.assign({},s))}const YU=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function GU(l,c){if(l==null)return{};var s={};for(var o in l)if({}.hasOwnProperty.call(l,o)){if(c.indexOf(o)>=0)continue;s[o]=l[o]}return s}let h0;function KU(l){return h0||(h0=new zA({ownerDocument:l==null?void 0:l.document})),h0}function QU(l){const c=OA(),s=l||KU(c),o=I.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>s.add(o.current),remove:()=>s.remove(o.current),isTopModal:()=>s.isTopModal(o.current),setDialogRef:I.useCallback(h=>{o.current.dialog=h},[]),setBackdropRef:I.useCallback(h=>{o.current.backdrop=h},[])})}const k5=I.forwardRef((l,c)=>{let{show:s=!1,role:o="dialog",className:h,style:g,children:_,backdrop:y=!0,keyboard:v=!0,onBackdropClick:N,onEscapeKeyDown:S,transition:D,runTransition:j,backdropTransition:B,runBackdropTransition:F,autoFocus:H=!0,enforceFocus:$=!0,restoreFocus:K=!0,restoreFocusOptions:Q,renderDialog:ee,renderBackdrop:ne=ze=>i.jsx("div",Object.assign({},ze)),manager:ce,container:se,onShow:q,onHide:ue=()=>{},onExit:oe,onExited:be,onExiting:pe,onEnter:we,onEntering:je,onEntered:ye}=l,Me=GU(l,YU);const le=OA(),_e=PU(se),me=QU(ce),Ee=oU(),Z=aU(s),[fe,ke]=I.useState(!s),Be=I.useRef(null);I.useImperativeHandle(c,()=>me,[me]),bp&&!Z&&s&&(Be.current=d0(le==null?void 0:le.document)),s&&fe&&ke(!1);const Ve=mh(()=>{if(me.add(),Ie.current=fv(document,"keydown",qe),Ke.current=fv(document,"focus",()=>setTimeout(te),!0),q&&q(),H){var ze,ut;const Rt=d0((ze=(ut=me.dialog)==null?void 0:ut.ownerDocument)!=null?ze:le==null?void 0:le.document);me.dialog&&Rt&&!nT(me.dialog,Rt)&&(Be.current=Rt,me.dialog.focus())}}),nt=mh(()=>{if(me.remove(),Ie.current==null||Ie.current(),Ke.current==null||Ke.current(),K){var ze;(ze=Be.current)==null||ze.focus==null||ze.focus(Q),Be.current=null}});I.useEffect(()=>{!s||!_e||Ve()},[s,_e,Ve]),I.useEffect(()=>{fe&&nt()},[fe,nt]),LU(()=>{nt()});const te=mh(()=>{if(!$||!Ee()||!me.isTopModal())return;const ze=d0(le==null?void 0:le.document);me.dialog&&ze&&!nT(me.dialog,ze)&&me.dialog.focus()}),Ce=mh(ze=>{ze.target===ze.currentTarget&&(N==null||N(ze),y===!0&&ue())}),qe=mh(ze=>{v&&KH(ze)&&me.isTopModal()&&(S==null||S(ze),ze.defaultPrevented||ue())}),Ke=I.useRef(),Ie=I.useRef(),rt=(...ze)=>{ke(!0),be==null||be(...ze)};if(!_e)return null;const Ye=Object.assign({role:o,ref:me.setDialogRef,"aria-modal":o==="dialog"?!0:void 0},Me,{style:g,className:h,tabIndex:-1});let Te=ee?ee(Ye):i.jsx("div",Object.assign({},Ye,{children:I.cloneElement(_,{role:"document"})}));Te=oT(D,j,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!s,onExit:oe,onExiting:pe,onExited:rt,onEnter:we,onEntering:je,onEntered:ye,children:Te});let ht=null;return y&&(ht=ne({ref:me.setBackdropRef,onClick:Ce}),ht=oT(B,F,{in:!!s,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ht})),i.jsx(i.Fragment,{children:xm.createPortal(i.jsxs(i.Fragment,{children:[ht,Te]}),_e)})});k5.displayName="Modal";const ZU=Object.assign(k5,{Manager:zA});function XU(l,c){return l.classList?l.classList.contains(c):(" "+(l.className.baseVal||l.className)+" ").indexOf(" "+c+" ")!==-1}function JU(l,c){l.classList?l.classList.add(c):XU(l,c)||(typeof l.className=="string"?l.className=l.className+" "+c:l.setAttribute("class",(l.className&&l.className.baseVal||"")+" "+c))}function aT(l,c){return l.replace(new RegExp("(^|\\s)"+c+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function e$(l,c){l.classList?l.classList.remove(c):typeof l.className=="string"?l.className=aT(l.className,c):l.setAttribute("class",aT(l.className&&l.className.baseVal||"",c))}const Xf={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class t$ extends zA{adjustAndStore(c,s,o){const h=s.style[c];s.dataset[c]=h,Dm(s,{[c]:`${parseFloat(Dm(s,c))+o}px`})}restore(c,s){const o=s.dataset[c];o!==void 0&&(delete s.dataset[c],Dm(s,{[c]:o}))}setContainerStyle(c){super.setContainerStyle(c);const s=this.getElement();if(JU(s,"modal-open"),!c.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",h=this.isRTL?"marginLeft":"marginRight";Zf(s,Xf.FIXED_CONTENT).forEach(g=>this.adjustAndStore(o,g,c.scrollBarWidth)),Zf(s,Xf.STICKY_CONTENT).forEach(g=>this.adjustAndStore(h,g,-c.scrollBarWidth)),Zf(s,Xf.NAVBAR_TOGGLER).forEach(g=>this.adjustAndStore(h,g,c.scrollBarWidth))}removeContainerStyle(c){super.removeContainerStyle(c);const s=this.getElement();e$(s,"modal-open");const o=this.isRTL?"paddingLeft":"paddingRight",h=this.isRTL?"marginLeft":"marginRight";Zf(s,Xf.FIXED_CONTENT).forEach(g=>this.restore(o,g)),Zf(s,Xf.STICKY_CONTENT).forEach(g=>this.restore(h,g)),Zf(s,Xf.NAVBAR_TOGGLER).forEach(g=>this.restore(h,g))}}let m0;function n$(l){return m0||(m0=new t$(l)),m0}const _5=I.forwardRef(({className:l,bsPrefix:c,as:s="div",...o},h)=>(c=Ci(c,"modal-body"),i.jsx(s,{ref:h,className:Xn(l,c),...o})));_5.displayName="ModalBody";const v5=I.createContext({onHide(){}}),FA=I.forwardRef(({bsPrefix:l,className:c,contentClassName:s,centered:o,size:h,fullscreen:g,children:_,scrollable:y,...v},N)=>{l=Ci(l,"modal");const S=`${l}-dialog`,D=typeof g=="string"?`${l}-fullscreen-${g}`:`${l}-fullscreen`;return i.jsx("div",{...v,ref:N,className:Xn(S,c,h&&`${l}-${h}`,o&&`${S}-centered`,y&&`${S}-scrollable`,g&&D),children:i.jsx("div",{className:Xn(`${l}-content`,s),children:_})})});FA.displayName="ModalDialog";const w5=I.forwardRef(({className:l,bsPrefix:c,as:s="div",...o},h)=>(c=Ci(c,"modal-footer"),i.jsx(s,{ref:h,className:Xn(l,c),...o})));w5.displayName="ModalFooter";const y5=I.forwardRef(({closeLabel:l="Close",closeVariant:c,closeButton:s=!1,onHide:o,children:h,...g},_)=>{const y=I.useContext(v5),v=pv(()=>{y==null||y.onHide(),o==null||o()});return i.jsxs("div",{ref:_,...g,children:[h,s&&i.jsx(Kv,{"aria-label":l,variant:c,onClick:v})]})});y5.displayName="AbstractModalHeader";const x5=I.forwardRef(({bsPrefix:l,className:c,closeLabel:s="Close",closeButton:o=!1,...h},g)=>(l=Ci(l,"modal-header"),i.jsx(y5,{ref:g,...h,className:Xn(c,l),closeLabel:s,closeButton:o})));x5.displayName="ModalHeader";const i$=Gv("h4"),C5=I.forwardRef(({className:l,bsPrefix:c,as:s=i$,...o},h)=>(c=Ci(c,"modal-title"),i.jsx(s,{ref:h,className:Xn(l,c),...o})));C5.displayName="ModalTitle";function r$(l){return i.jsx(ub,{...l,timeout:null})}function s$(l){return i.jsx(ub,{...l,timeout:null})}const A5=I.forwardRef(({bsPrefix:l,className:c,style:s,dialogClassName:o,contentClassName:h,children:g,dialogAs:_=FA,"data-bs-theme":y,"aria-labelledby":v,"aria-describedby":N,"aria-label":S,show:D=!1,animation:j=!0,backdrop:B=!0,keyboard:F=!0,onEscapeKeyDown:H,onShow:$,onHide:K,container:Q,autoFocus:ee=!0,enforceFocus:ne=!0,restoreFocus:ce=!0,restoreFocusOptions:se,onEntered:q,onExit:ue,onExiting:oe,onEnter:be,onEntering:pe,onExited:we,backdropClassName:je,manager:ye,...Me},le)=>{const[_e,me]=I.useState({}),[Ee,Z]=I.useState(!1),fe=I.useRef(!1),ke=I.useRef(!1),Be=I.useRef(null),[Ve,nt]=IU(),te=UO(le,nt),Ce=pv(K),qe=BH();l=Ci(l,"modal");const Ke=I.useMemo(()=>({onHide:Ce}),[Ce]);function Ie(){return ye||n$({isRTL:qe})}function rt(bt){if(!bp)return;const $t=Ie().getScrollbarWidth()>0,mn=bt.scrollHeight>Wv(bt).documentElement.clientHeight;me({paddingRight:$t&&!mn?rT():void 0,paddingLeft:!$t&&mn?rT():void 0})}const Ye=pv(()=>{Ve&&rt(Ve.dialog)});yU(()=>{dA(window,"resize",Ye),Be.current==null||Be.current()});const Te=()=>{fe.current=!0},ht=bt=>{fe.current&&Ve&&bt.target===Ve.dialog&&(ke.current=!0),fe.current=!1},ze=()=>{Z(!0),Be.current=HO(Ve.dialog,()=>{Z(!1)})},ut=bt=>{bt.target===bt.currentTarget&&ze()},Rt=bt=>{if(B==="static"){ut(bt);return}if(ke.current||bt.target!==bt.currentTarget){ke.current=!1;return}K==null||K()},Jt=bt=>{F?H==null||H(bt):(bt.preventDefault(),B==="static"&&ze())},ot=(bt,$t)=>{bt&&rt(bt),be==null||be(bt,$t)},jt=bt=>{Be.current==null||Be.current(),ue==null||ue(bt)},Dt=(bt,$t)=>{pe==null||pe(bt,$t),VO(window,"resize",Ye)},Qe=bt=>{bt&&(bt.style.display=""),we==null||we(bt),dA(window,"resize",Ye)},Mt=I.useCallback(bt=>i.jsx("div",{...bt,className:Xn(`${l}-backdrop`,je,!j&&"show")}),[j,je,l]),Lt={...s,..._e};Lt.display="block";const $e=bt=>i.jsx("div",{role:"dialog",...bt,style:Lt,className:Xn(c,l,Ee&&`${l}-static`,!j&&"show"),onClick:B?Rt:void 0,onMouseUp:ht,"data-bs-theme":y,"aria-label":S,"aria-labelledby":v,"aria-describedby":N,children:i.jsx(_,{...Me,onMouseDown:Te,className:o,contentClassName:h,children:g})});return i.jsx(v5.Provider,{value:Ke,children:i.jsx(ZU,{show:D,ref:te,backdrop:B,container:Q,keyboard:!0,autoFocus:ee,enforceFocus:ne,restoreFocus:ce,restoreFocusOptions:se,onEscapeKeyDown:Jt,onShow:$,onHide:K,onEnter:ot,onEntering:Dt,onEntered:q,onExit:jt,onExiting:oe,onExited:Qe,manager:Ie(),transition:j?r$:void 0,backdropTransition:j?s$:void 0,renderBackdrop:Mt,renderDialog:$e})})});A5.displayName="Modal";const yt=Object.assign(A5,{Body:_5,Header:x5,Title:C5,Footer:w5,Dialog:FA,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),N5=I.forwardRef(({bsPrefix:l,variant:c,animation:s="border",size:o,as:h="div",className:g,..._},y)=>{l=Ci(l,"spinner");const v=`${l}-${s}`;return i.jsx(h,{ref:y,..._,className:Xn(g,v,o&&`${v}-${o}`,c&&`text-${c}`)})});N5.displayName="Spinner";function E5({show:l,onClose:c}){const[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(!1),[S,D]=I.useState(!1),[j,B]=I.useState(""),[F,H]=I.useState(""),$=async ee=>{var ne,ce;ee.preventDefault(),g(""),y(""),B(""),H(""),N(!0);try{const se=await kt.post("http://localhost:3000/api/auth/forgot-password",{email:s});g(se.data.message||"Nếu email tồn tại, hướng dẫn đặt lại mật khẩu đã được gửi.")}catch(se){y(((ce=(ne=se.response)==null?void 0:ne.data)==null?void 0:ce.message)||"Lỗi gửi email đặt lại mật khẩu")}finally{N(!1)}},K=async()=>{var ee,ne;D(!0),B(""),H("");try{const ce=await kt.post("http://localhost:3000/api/auth/forgot-password",{email:s});B(ce.data.message||"Email đặt lại mật khẩu đã được gửi lại.")}catch(ce){H(((ne=(ee=ce.response)==null?void 0:ee.data)==null?void 0:ne.message)||"Lỗi gửi lại email đặt lại mật khẩu")}finally{D(!1)}},Q=()=>{g(""),y(""),B(""),H(""),o("")};return i.jsxs(yt,{show:l,onHide:c,centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Quên mật khẩu"})}),i.jsx(yt.Body,{children:h?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"alert alert-success",children:h}),i.jsx("button",{type:"button",className:"btn btn-link p-0 mt-2 text-decoration-none",onClick:K,disabled:S||!s,children:S?"Đang gửi lại...":"Gửi lại email đặt lại mật khẩu"}),j&&i.jsx("div",{className:"alert alert-success mt-2",children:j}),F&&i.jsx("div",{className:"alert alert-danger mt-2",children:F}),i.jsx("div",{className:"text-center mt-3",children:i.jsx("button",{type:"button",className:"btn btn-link p-0 text-decoration-underline",onClick:Q,children:"Nhập email khác"})})]}):i.jsxs("form",{onSubmit:$,children:[_&&i.jsx("div",{className:"alert alert-danger",children:_}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Nhập email của bạn:"}),i.jsx("input",{type:"email",className:"form-control",value:s,onChange:ee=>o(ee.target.value),required:!0,disabled:v})]}),i.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:v||!s,children:v?"Đang gửi...":"Gửi email đặt lại mật khẩu"})]})})]})}var z_={},lT;function o$(){if(lT)return z_;lT=1,z_.match=g,z_.parse=_;var l=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,c=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,s=/^(?:(min|max)-)?(.+)/,o=/(em|rem|px|cm|mm|in|pt|pc)?$/,h=/(dpi|dpcm|dppx)?$/;function g(S,D){return _(S).some(function(j){var B=j.inverse,F=j.type==="all"||D.type===j.type;if(F&&B||!(F||B))return!1;var H=j.expressions.every(function($){var K=$.feature,Q=$.modifier,ee=$.value,ne=D[K];if(!ne)return!1;switch(K){case"orientation":case"scan":return ne.toLowerCase()===ee.toLowerCase();case"width":case"height":case"device-width":case"device-height":ee=N(ee),ne=N(ne);break;case"resolution":ee=v(ee),ne=v(ne);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":ee=y(ee),ne=y(ne);break;case"grid":case"color":case"color-index":case"monochrome":ee=parseInt(ee,10)||1,ne=parseInt(ne,10)||0;break}switch(Q){case"min":return ne>=ee;case"max":return ne<=ee;default:return ne===ee}});return H&&!B||!H&&B})}function _(S){return S.split(",").map(function(D){D=D.trim();var j=D.match(l),B=j[1],F=j[2],H=j[3]||"",$={};return $.inverse=!!B&&B.toLowerCase()==="not",$.type=F?F.toLowerCase():"all",H=H.match(/\([^\)]+\)/g)||[],$.expressions=H.map(function(K){var Q=K.match(c),ee=Q[1].toLowerCase().match(s);return{modifier:ee[1],feature:ee[2],value:Q[2]}}),$})}function y(S){var D=Number(S),j;return D||(j=S.match(/^(\d+)\s*\/\s*(\d+)$/),D=j[1]/j[2]),D}function v(S){var D=parseFloat(S),j=String(S).match(h)[1];switch(j){case"dpcm":return D/2.54;case"dppx":return D*96;default:return D}}function N(S){var D=parseFloat(S),j=String(S).match(o)[1];switch(j){case"em":return D*16;case"rem":return D*16;case"cm":return D*96/2.54;case"mm":return D*96/2.54/10;case"in":return D*96;case"pt":return D*72;case"pc":return D*72/12;default:return D}}return z_}var f0,cT;function a$(){if(cT)return f0;cT=1;var l=o$().match,c=typeof window<"u"?window.matchMedia:null;function s(h,g,_){var y=this,v;c&&!_&&(v=c.call(window,h)),v?(this.matches=v.matches,this.media=v.media,v.addListener(D)):(this.matches=l(h,g),this.media=h),this.addListener=N,this.removeListener=S,this.dispose=j;function N(B){v&&v.addListener(B)}function S(B){v&&v.removeListener(B)}function D(B){y.matches=B.matches,y.media=B.media}function j(){v&&v.removeListener(D)}}function o(h,g,_){return new s(h,g,_)}return f0=o,f0}var l$=a$();const c$=Rm(l$);var d$=/[A-Z]/g,u$=/^ms-/,p0={};function h$(l){return"-"+l.toLowerCase()}function S5(l){if(p0.hasOwnProperty(l))return p0[l];var c=l.replace(d$,h$);return p0[l]=u$.test(c)?"-"+c:c}function m$(l,c){if(l===c)return!0;if(!l||!c)return!1;const s=Object.keys(l),o=Object.keys(c),h=s.length;if(o.length!==h)return!1;for(let g=0;g<h;g++){const _=s[g];if(l[_]!==c[_]||!Object.prototype.hasOwnProperty.call(c,_))return!1}return!0}const fa=ni.oneOfType([ni.string,ni.number]),j5={all:ni.bool,grid:ni.bool,aural:ni.bool,braille:ni.bool,handheld:ni.bool,print:ni.bool,projection:ni.bool,screen:ni.bool,tty:ni.bool,tv:ni.bool,embossed:ni.bool},f$={orientation:ni.oneOf(["portrait","landscape"]),scan:ni.oneOf(["progressive","interlace"]),aspectRatio:ni.string,deviceAspectRatio:ni.string,height:fa,deviceHeight:fa,width:fa,deviceWidth:fa,color:ni.bool,colorIndex:ni.bool,monochrome:ni.bool,resolution:fa,type:Object.keys(j5)},{type:XJ,...p$}=f$,g$={minAspectRatio:ni.string,maxAspectRatio:ni.string,minDeviceAspectRatio:ni.string,maxDeviceAspectRatio:ni.string,minHeight:fa,maxHeight:fa,minDeviceHeight:fa,maxDeviceHeight:fa,minWidth:fa,maxWidth:fa,minDeviceWidth:fa,maxDeviceWidth:fa,minColor:ni.number,maxColor:ni.number,minColorIndex:ni.number,maxColorIndex:ni.number,minMonochrome:ni.number,maxMonochrome:ni.number,minResolution:fa,maxResolution:fa,...p$},b$={...j5,...g$};var k$={all:b$};const _$=l=>`not ${l}`,v$=(l,c)=>{const s=S5(l);return typeof c=="number"&&(c=`${c}px`),c===!0?s:c===!1?_$(s):`(${s}: ${c})`},w$=l=>l.join(" and "),y$=l=>{const c=[];return Object.keys(k$.all).forEach(s=>{const o=l[s];o!=null&&c.push(v$(s,o))}),w$(c)},x$=I.createContext(void 0),C$=l=>l.query||y$(l),dT=l=>l?Object.keys(l).reduce((s,o)=>(s[S5(o)]=l[o],s),{}):void 0,D5=()=>{const l=I.useRef(!1);return I.useEffect(()=>{l.current=!0},[]),l.current},A$=l=>{const c=I.useContext(x$),s=()=>dT(l)||dT(c),[o,h]=I.useState(s);return I.useEffect(()=>{const g=s();m$(o,g)||h(g)},[l,c]),o},N$=l=>{const c=()=>C$(l),[s,o]=I.useState(c);return I.useEffect(()=>{const h=c();s!==h&&o(h)},[l]),s},E$=(l,c)=>{const s=()=>c$(l,c||{},!!c),[o,h]=I.useState(s),g=D5();return I.useEffect(()=>{if(g){const _=s();return h(_),()=>{_&&_.dispose()}}},[l,c]),o},S$=l=>{const[c,s]=I.useState(l.matches);return I.useEffect(()=>{const o=h=>{s(h.matches)};return l.addListener(o),s(l.matches),()=>{l.removeListener(o)}},[l]),c},j$=(l,c,s)=>{const o=A$(c),h=N$(l);if(!h)throw new Error("Invalid or missing MediaQuery!");const g=E$(h,o),_=S$(g);return D5(),I.useEffect(()=>{},[_]),I.useEffect(()=>()=>{g&&g.dispose()},[]),_},T5=()=>{const[l,c]=I.useState({show:!1,message:"",title:"",type:"info",confirmText:"Đóng"}),[s,o]=I.useState({show:!1,message:"",title:"Xác nhận",onConfirm:null,confirmText:"Xác nhận",cancelText:"Hủy",type:"warning",confirmVariant:"danger"}),h=(H,$="Thông báo",K="info",Q="Đóng")=>{c({show:!0,message:H,title:$,type:K,confirmText:Q})},g=()=>{c({show:!1,message:"",title:"",type:"info",confirmText:"Đóng"})},_=(H,$,K="Xác nhận",Q="Xác nhận",ee="Hủy",ne="warning",ce="danger")=>{o({show:!0,message:H,title:K,onConfirm:$,confirmText:Q,cancelText:ee,type:ne,confirmVariant:ce})},y=()=>{o({show:!1,message:"",title:"Xác nhận",onConfirm:null,confirmText:"Xác nhận",cancelText:"Hủy",type:"warning",confirmVariant:"danger"})};return{alertModal:l,confirmModal:s,showAlert:h,hideAlert:g,showConfirm:_,hideConfirm:y,handleConfirm:()=>{s.onConfirm&&s.onConfirm(),y()},showSuccess:(H,$="Thành công")=>{h(H,$,"success","Đóng")},showError:(H,$="Lỗi")=>{h(H,$,"error","Đóng")},showWarning:(H,$="Cảnh báo")=>{h(H,$,"warning","Đóng")},showInfo:(H,$="Thông tin")=>{h(H,$,"info","Đóng")},showDeleteConfirm:(H,$,K="Xác nhận xóa")=>{_(H,$,K,"Xóa","Hủy","danger","danger")},showCancelConfirm:(H,$,K="Xác nhận hủy")=>{_(H,$,K,"Hủy","Không","warning","warning")}}},uA=({show:l,onClose:c,title:s="Thông báo",message:o,type:h="info",confirmText:g="Đóng"})=>{const _=()=>{switch(h){case"success":return i.jsx("i",{className:"bi bi-check-circle-fill text-success me-2"});case"error":return i.jsx("i",{className:"bi bi-exclamation-triangle-fill text-danger me-2"});case"warning":return i.jsx("i",{className:"bi bi-exclamation-triangle-fill text-warning me-2"});default:return i.jsx("i",{className:"bi bi-info-circle-fill text-info me-2"})}},y=()=>{switch(h){case"success":return"success";case"error":return"danger";case"warning":return"warning";default:return"primary"}};return i.jsxs(yt,{show:l,onHide:c,centered:!0,className:"luxury-modal",children:[i.jsx(yt.Header,{closeButton:!0,className:"luxury-modal-header",children:i.jsxs(yt.Title,{className:"luxury-modal-title d-flex align-items-center",children:[_(),s]})}),i.jsx(yt.Body,{className:"luxury-modal-body",children:i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"mb-0",style:{fontSize:"1.1rem",lineHeight:"1.6"},children:o})})}),i.jsx(yt.Footer,{className:"luxury-modal-footer",children:i.jsx(Ut,{variant:y(),onClick:c,className:"btn-main",style:{minWidth:"100px"},children:g})})]})};function Lr(){const{user:l,logout:c}=I.useContext(cs);ba();const[s,o]=I.useState(!1),[h,g]=I.useState("login"),[_,y]=I.useState(!1),[v,N]=I.useState(!1),[S,D]=I.useState(!1),j=I.useRef(),B=I.useRef(),{t:F}=vh(),[H,$]=I.useState(!1),K=j$({maxWidth:768}),{showSuccess:Q}=T5(),[ee,ne]=I.useState(!1),[ce,se]=I.useState(!1),[q,ue]=I.useState(""),oe=()=>{c(),ne(!0)},be=()=>{c(),y(!1),N(!1),Q("Đăng xuất thành công!")},pe=()=>N(!1),we=()=>{g("login"),o(!0),y(!1)},je=()=>{g("register"),o(!0),y(!1)},ye=()=>o(!1),Me=()=>{ne(!1)},le=_e=>{ue(`Chào mừng trở lại, ${_e.full_name}!`),se(!0)};return tt.useEffect(()=>{function _e(me){j.current&&!j.current.contains(me.target)&&y(!1),B.current&&!B.current.contains(me.target)&&$(!1)}return _||H?document.addEventListener("mousedown",_e):document.removeEventListener("mousedown",_e),()=>document.removeEventListener("mousedown",_e)},[_,H]),i.jsxs(i.Fragment,{children:[i.jsx("header",{className:"luxury-navbar luxury-header navbar navbar-expand-lg fixed-top app-header-mobile",style:{marginBottom:0},children:i.jsxs("div",{className:"container d-flex align-items-center justify-content-between header-content-mobile",children:[i.jsx("div",{className:"d-flex align-items-center",children:i.jsx(en,{to:"/",children:i.jsx("img",{src:"/walking-guide/banner.png",alt:"Walking Guide Banner",className:"header-logo-mobile",style:{height:K?56:180,width:"auto",objectFit:"contain",display:"block"}})})}),K?i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"btn btn-link p-0 ms-auto",style:{fontSize:32,color:"#1a5bb8",background:"none",border:"none"},onClick:()=>$(_e=>!_e),"aria-label":"Open navigation menu",children:i.jsx("i",{className:"bi bi-list"})}),H&&i.jsxs("div",{ref:B,style:{position:"absolute",top:56,right:8,background:"#fff",boxShadow:"0 4px 16px rgba(60,72,100,0.15)",borderRadius:12,zIndex:1e4,minWidth:180,padding:12,display:"flex",flexDirection:"column",gap:10},children:[i.jsx(W2,{}),l&&i.jsxs(en,{to:"/my-tours",className:"btn d-flex align-items-center text-decoration-none",style:{gap:8,fontSize:16,padding:6},onClick:()=>$(!1),children:[i.jsx("i",{className:"bi bi-person-walking",style:{fontSize:20,color:"#1a5bb8"}}),i.jsx("span",{style:{color:"#1a5bb8"},children:F("Your Bookings")})]}),l&&i.jsx($2,{}),i.jsxs("div",{className:"dropdown mt-2",children:[i.jsx("button",{className:"btn rounded-circle p-0 d-flex align-items-center justify-content-center border-0",style:{width:40,height:40,background:"none",boxShadow:"none"},onClick:()=>y(_e=>!_e),"aria-label":"User menu",children:l&&l.image_url?i.jsx("img",{src:l.image_url.startsWith("http")?l.image_url:`http://localhost:3000${l.image_url}`,alt:"User Avatar",style:{width:36,height:36,objectFit:"cover",borderRadius:"50%",border:"2px solid #fff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}):i.jsx("i",{className:"bi bi-person-circle",style:{fontSize:28,color:"#1a5bb8",padding:0,background:"none"}})}),_&&i.jsx("div",{className:"dropdown-menu dropdown-menu-end show mt-2 p-3 shadow",style:{minWidth:220,right:0,left:"auto",position:"absolute",zIndex:10001},children:l?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-3 text-center",children:[l.image_url&&i.jsx("div",{className:"mb-2",children:i.jsx("img",{src:l.image_url.startsWith("http")?l.image_url:`http://localhost:3000${l.image_url}`,alt:"User Avatar",style:{width:60,height:60,objectFit:"cover",borderRadius:"50%",border:"3px solid #fff",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}})}),i.jsx("div",{className:"fw-bold",style:{fontSize:"1.1rem"},children:l.full_name}),i.jsx("div",{className:"text-muted",style:{fontSize:"0.95rem"},children:l.email})]}),i.jsx("hr",{className:"my-2"}),l.role==="ADMIN"&&i.jsxs(en,{to:"/admin",className:"dropdown-item text-decoration-none",onClick:()=>{y(!1),$(!1)},children:[i.jsx("i",{className:"bi bi-gear-wide-connected me-2"}),F("Admin Dashboard")]}),i.jsxs(en,{to:"/users",className:"dropdown-item text-decoration-none me-2",onClick:()=>{y(!1),$(!1)},children:[i.jsx("i",{className:"bi bi-person-circle me-2"}),F("Profile")]}),i.jsxs(en,{to:"/notifications",className:"dropdown-item text-decoration-none me-2",onClick:()=>{y(!1),$(!1)},children:[i.jsx("i",{className:"bi bi-bell me-2"}),F("Notifications")]}),i.jsxs("button",{className:"dropdown-item text-danger mt-2",onClick:()=>{oe(),y(!1),$(!1)},children:[i.jsx("i",{className:"bi bi-box-arrow-right me-2"}),F("Logout")]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("button",{className:"dropdown-item",onClick:()=>{we(),$(!1)},children:[i.jsx("i",{className:"bi bi-box-arrow-in-right me-2"}),F("Login")]}),i.jsxs("button",{className:"dropdown-item",onClick:()=>{je(),$(!1)},children:[i.jsx("i",{className:"bi bi-person-plus me-2"}),F("Register")]})]})})]})]})]}):i.jsxs("div",{className:"d-flex align-items-center gap-2 position-relative",ref:j,children:[i.jsx(W2,{}),l&&i.jsxs(en,{to:"/my-tours",className:"btn d-flex align-items-center me-2 text-decoration-none",style:{gap:8},children:[i.jsx("i",{className:"bi bi-person-walking",style:{fontSize:20,color:"#1a5bb8"}}),i.jsx("span",{style:{color:"#1a5bb8"},children:F("Your Bookings")})]}),l&&i.jsx($2,{}),i.jsxs("div",{className:"dropdown",children:[i.jsx("button",{className:"btn rounded-circle p-0 d-flex align-items-center justify-content-center border-0",style:{width:48,height:48,background:"none",boxShadow:"none"},onClick:()=>y(_e=>!_e),"aria-label":"User menu",children:l&&l.image_url?i.jsx("img",{src:l.image_url.startsWith("http")?l.image_url:`http://localhost:3000${l.image_url}`,alt:"User Avatar",style:{width:40,height:40,objectFit:"cover",borderRadius:"50%",border:"2px solid #fff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}):i.jsx("i",{className:"bi bi-person-circle",style:{fontSize:32,color:"#1a5bb8",padding:0,background:"none"}})}),_&&i.jsx("div",{className:"dropdown-menu dropdown-menu-end show mt-2 p-3 shadow",style:{minWidth:220,right:0,left:"auto"},children:l?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-3 text-center",children:[l.image_url&&i.jsx("div",{className:"mb-2",children:i.jsx("img",{src:l.image_url.startsWith("http")?l.image_url:`http://localhost:3000${l.image_url}`,alt:"User Avatar",style:{width:60,height:60,objectFit:"cover",borderRadius:"50%",border:"3px solid #fff",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}})}),i.jsx("div",{className:"fw-bold",style:{fontSize:"1.1rem"},children:l.full_name}),i.jsx("div",{className:"text-muted",style:{fontSize:"0.95rem"},children:l.email})]}),i.jsx("hr",{className:"my-2"}),l.role==="ADMIN"&&i.jsxs(en,{to:"/admin",className:"dropdown-item text-decoration-none",onClick:()=>y(!1),children:[i.jsx("i",{className:"bi bi-gear-wide-connected me-2"}),F("Admin Dashboard")]}),i.jsxs(en,{to:"/users",className:"dropdown-item text-decoration-none me-2",onClick:()=>y(!1),children:[i.jsx("i",{className:"bi bi-person-circle me-2"}),F("Profile")]}),i.jsxs(en,{to:"/notifications",className:"dropdown-item text-decoration-none me-2",onClick:()=>y(!1),children:[i.jsx("i",{className:"bi bi-bell me-2"}),F("Notifications")]}),i.jsxs("button",{className:"dropdown-item text-danger mt-2",onClick:oe,children:[i.jsx("i",{className:"bi bi-box-arrow-right me-2"}),F("Logout")]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("button",{className:"dropdown-item",onClick:we,children:[i.jsx("i",{className:"bi bi-box-arrow-in-right me-2"}),F("Login")]}),i.jsxs("button",{className:"dropdown-item",onClick:je,children:[i.jsx("i",{className:"bi bi-person-plus me-2"}),F("Register")]})]})})]})]})]})}),i.jsx(OO,{open:s,onClose:ye,children:h==="login"?i.jsx(gH,{onSuccess:ye,onLoginSuccess:le,onSwitch:()=>g("register"),onForgotPassword:()=>D(!0)}):i.jsx(bH,{onSuccess:ye,onSwitch:()=>g("login")})}),i.jsx(E5,{show:S,onClose:()=>D(!1)}),i.jsx(kH,{open:v,title:"Xác nhận đăng xuất",message:"Bạn có chắc chắn muốn đăng xuất?",onConfirm:be,onCancel:pe}),i.jsx(uA,{show:ee,onClose:Me,title:"Thành công",message:"Đăng xuất thành công!",type:"success",confirmText:"Đóng"}),i.jsx(uA,{show:ce,onClose:()=>se(!1),title:"Thành công",message:q,type:"success",confirmText:"Đóng"})]})}const M5=()=>Ft.get("/settings/footer"),D$=l=>Ft.put("/settings/footer",l);function qr(){const[l,c]=I.useState({}),{t:s}=vh();I.useEffect(()=>{let j=!0;return M5().then(B=>{j&&B.data&&B.data.success&&c(B.data.data||{})}).catch(()=>{}),()=>{j=!1}},[]);const o=l.footerDescription||s("Walking Guide là một trang web giúp bạn lên kế hoạch du lịch, và tìm kiếm các địa điểm du lịch gần bạn."),h=l.footerCopyright||s(`© ${new Date().getFullYear()} Walking Guide. All rights reserved.`),g=l.contactEmail||s("info@walkingguide.com"),_=l.contactPhone||s("+1 234 567 890"),y=l.contactAddress||s(""),v=l.facebookUrl||s("https://facebook.com"),N=l.instagramUrl||s("https://instagram.com"),S=l.twitterUrl||"https://twitter.com",D=l.youtubeUrl||"";return i.jsx("footer",{className:"luxury-footer",children:i.jsxs("div",{className:"container",children:[i.jsxs("div",{className:"row text-center text-md-start gy-4 align-items-start",children:[i.jsxs("div",{className:"col-12 col-md-3 mb-3 mb-md-0",children:[i.jsx("h5",{className:"mb-3",style:{color:"#b6e0fe"},children:s("About")}),i.jsx("p",{style:{fontSize:"1rem",color:"#e3f0ff",margin:0},children:o})]}),i.jsxs("div",{className:"col-12 col-md-3 mb-3 mb-md-0",children:[i.jsx("h5",{className:"mb-3",style:{color:"#b6e0fe"},children:s("Quick Links")}),i.jsxs("ul",{className:"list-unstyled",style:{fontSize:"1rem",color:"#e3f0ff",margin:0},children:[i.jsx("li",{children:i.jsx("a",{href:"/",style:{color:"#fff",textDecoration:"underline"},children:s("Home")})}),i.jsx("li",{children:i.jsx("a",{href:"/tours",style:{color:"#fff",textDecoration:"underline"},children:s("Tours")})}),i.jsx("li",{children:i.jsx("a",{href:"/places",style:{color:"#fff",textDecoration:"underline"},children:s("Places")})}),i.jsx("li",{children:i.jsx("a",{href:"/articles",style:{color:"#fff",textDecoration:"underline"},children:s("Articles")})})]})]}),i.jsxs("div",{className:"col-12 col-md-3 mb-3 mb-md-0",children:[i.jsx("h5",{className:"mb-3",style:{color:"#b6e0fe"},children:s("Contact")}),i.jsxs("p",{style:{fontSize:"1rem",color:"#e3f0ff",margin:0},children:[s("Email:")," ",i.jsx("a",{href:`mailto:${g}`,style:{color:"#fff",textDecoration:"underline"},children:g}),i.jsx("br",{}),s("Phone:")," ",i.jsx("a",{href:`tel:${_}`,style:{color:"#fff",textDecoration:"underline"},children:_}),y&&i.jsxs(i.Fragment,{children:[i.jsx("br",{}),s("Address:")," ",i.jsx("span",{style:{color:"#fff"},children:y})]})]})]}),i.jsxs("div",{className:"col-12 col-md-3 mb-3 mb-md-0",children:[i.jsx("h5",{className:"mb-3",style:{color:"#b6e0fe"},children:s("Follow Us")}),i.jsxs("div",{style:{fontSize:"1.5rem"},children:[v&&i.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",style:{margin:"0 8px",color:"#fff"},children:i.jsx("i",{className:"bi bi-facebook"})}),N&&i.jsx("a",{href:N,target:"_blank",rel:"noopener noreferrer",style:{margin:"0 8px",color:"#fff"},children:i.jsx("i",{className:"bi bi-instagram"})}),i.jsx("a",{href:S,target:"_blank",rel:"noopener noreferrer",style:{margin:"0 8px",color:"#fff"},children:i.jsx("i",{className:"bi bi-twitter-x"})}),D&&i.jsx("a",{href:D,target:"_blank",rel:"noopener noreferrer",style:{margin:"0 8px",color:"#fff"},children:i.jsx("i",{className:"bi bi-youtube"})})]}),i.jsxs("div",{style:{fontSize:"0.95rem",color:"#b6e0fe",marginTop:8},children:[s("Developed by")," ",i.jsx("a",{href:"https://github.com/yourteam",target:"_blank",rel:"noopener noreferrer",style:{color:"#fff",textDecoration:"underline"},children:"Walking Guide Team"})]})]})]}),i.jsx("hr",{style:{borderColor:"#b6e0fe",opacity:.3,margin:"1.5rem 0"}}),i.jsx("div",{className:"text-center",style:{fontSize:"1rem",color:"#e3f0ff"},children:h})]})})}class T$ extends tt.Component{constructor(){super(...arguments);nn(this,"state",{hasError:!1})}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?i.jsx("div",{className:"text-danger text-center",children:"Lỗi hiển thị bản đồ. Vui lòng thử lại sau."}):this.props.children}}function I5(l,c){const s=I.useRef(c);I.useEffect(function(){c!==s.current&&l.attributionControl!=null&&(s.current!=null&&l.attributionControl.removeAttribution(s.current),c!=null&&l.attributionControl.addAttribution(c)),s.current=c},[l,c])}const M$=1;function I$(l){return Object.freeze({__version:M$,map:l})}function O5(l,c){return Object.freeze({...l,...c})}const VA=I.createContext(null);function Zv(){const l=I.use(VA);if(l==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return l}function L5(l){function c(s,o){const{instance:h,context:g}=l(s).current;I.useImperativeHandle(o,()=>h);const{children:_}=s;return _==null?null:tt.createElement(VA,{value:g},_)}return I.forwardRef(c)}function O$(l){function c(s,o){const[h,g]=I.useState(!1),{instance:_}=l(s,g).current;I.useImperativeHandle(o,()=>_),I.useEffect(function(){h&&_.update()},[_,h,s.children]);const y=_._contentNode;return y?SA.createPortal(s.children,y):null}return I.forwardRef(c)}function L$(l){function c(s,o){const{instance:h}=l(s).current;return I.useImperativeHandle(o,()=>h),null}return I.forwardRef(c)}function HA(l,c){const s=I.useRef(void 0);I.useEffect(function(){return c!=null&&l.instance.on(c),s.current=c,function(){s.current!=null&&l.instance.off(s.current),s.current=null}},[l,c])}function Xv(l,c){const s=l.pane??c.pane;return s?{...l,pane:s}:l}function B$(l,c){return function(o,h){const g=Zv(),_=l(Xv(o,g),g);return I5(g.map,o.attribution),HA(_.current,o.eventHandlers),c(_.current,g,o,h),_}}var nb={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var P$=nb.exports,uT;function R$(){return uT||(uT=1,function(l,c){(function(s,o){o(c)})(P$,function(s){var o="1.9.4";function h(p){var x,T,V,G;for(T=1,V=arguments.length;T<V;T++){G=arguments[T];for(x in G)p[x]=G[x]}return p}var g=Object.create||function(){function p(){}return function(x){return p.prototype=x,new p}}();function _(p,x){var T=Array.prototype.slice;if(p.bind)return p.bind.apply(p,T.call(arguments,1));var V=T.call(arguments,2);return function(){return p.apply(x,V.length?V.concat(T.call(arguments)):arguments)}}var y=0;function v(p){return"_leaflet_id"in p||(p._leaflet_id=++y),p._leaflet_id}function N(p,x,T){var V,G,re,Ae;return Ae=function(){V=!1,G&&(re.apply(T,G),G=!1)},re=function(){V?G=arguments:(p.apply(T,arguments),setTimeout(Ae,x),V=!0)},re}function S(p,x,T){var V=x[1],G=x[0],re=V-G;return p===V&&T?p:((p-G)%re+re)%re+G}function D(){return!1}function j(p,x){if(x===!1)return p;var T=Math.pow(10,x===void 0?6:x);return Math.round(p*T)/T}function B(p){return p.trim?p.trim():p.replace(/^\s+|\s+$/g,"")}function F(p){return B(p).split(/\s+/)}function H(p,x){Object.prototype.hasOwnProperty.call(p,"options")||(p.options=p.options?g(p.options):{});for(var T in x)p.options[T]=x[T];return p.options}function $(p,x,T){var V=[];for(var G in p)V.push(encodeURIComponent(T?G.toUpperCase():G)+"="+encodeURIComponent(p[G]));return(!x||x.indexOf("?")===-1?"?":"&")+V.join("&")}var K=/\{ *([\w_ -]+) *\}/g;function Q(p,x){return p.replace(K,function(T,V){var G=x[V];if(G===void 0)throw new Error("No value provided for variable "+T);return typeof G=="function"&&(G=G(x)),G})}var ee=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"};function ne(p,x){for(var T=0;T<p.length;T++)if(p[T]===x)return T;return-1}var ce="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function se(p){return window["webkit"+p]||window["moz"+p]||window["ms"+p]}var q=0;function ue(p){var x=+new Date,T=Math.max(0,16-(x-q));return q=x+T,window.setTimeout(p,T)}var oe=window.requestAnimationFrame||se("RequestAnimationFrame")||ue,be=window.cancelAnimationFrame||se("CancelAnimationFrame")||se("CancelRequestAnimationFrame")||function(p){window.clearTimeout(p)};function pe(p,x,T){if(T&&oe===ue)p.call(x);else return oe.call(window,_(p,x))}function we(p){p&&be.call(window,p)}var je={__proto__:null,extend:h,create:g,bind:_,get lastId(){return y},stamp:v,throttle:N,wrapNum:S,falseFn:D,formatNum:j,trim:B,splitWords:F,setOptions:H,getParamString:$,template:Q,isArray:ee,indexOf:ne,emptyImageUrl:ce,requestFn:oe,cancelFn:be,requestAnimFrame:pe,cancelAnimFrame:we};function ye(){}ye.extend=function(p){var x=function(){H(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},T=x.__super__=this.prototype,V=g(T);V.constructor=x,x.prototype=V;for(var G in this)Object.prototype.hasOwnProperty.call(this,G)&&G!=="prototype"&&G!=="__super__"&&(x[G]=this[G]);return p.statics&&h(x,p.statics),p.includes&&(Me(p.includes),h.apply(null,[V].concat(p.includes))),h(V,p),delete V.statics,delete V.includes,V.options&&(V.options=T.options?g(T.options):{},h(V.options,p.options)),V._initHooks=[],V.callInitHooks=function(){if(!this._initHooksCalled){T.callInitHooks&&T.callInitHooks.call(this),this._initHooksCalled=!0;for(var re=0,Ae=V._initHooks.length;re<Ae;re++)V._initHooks[re].call(this)}},x},ye.include=function(p){var x=this.prototype.options;return h(this.prototype,p),p.options&&(this.prototype.options=x,this.mergeOptions(p.options)),this},ye.mergeOptions=function(p){return h(this.prototype.options,p),this},ye.addInitHook=function(p){var x=Array.prototype.slice.call(arguments,1),T=typeof p=="function"?p:function(){this[p].apply(this,x)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(T),this};function Me(p){if(!(typeof L>"u"||!L||!L.Mixin)){p=ee(p)?p:[p];for(var x=0;x<p.length;x++)p[x]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var le={on:function(p,x,T){if(typeof p=="object")for(var V in p)this._on(V,p[V],x);else{p=F(p);for(var G=0,re=p.length;G<re;G++)this._on(p[G],x,T)}return this},off:function(p,x,T){if(!arguments.length)delete this._events;else if(typeof p=="object")for(var V in p)this._off(V,p[V],x);else{p=F(p);for(var G=arguments.length===1,re=0,Ae=p.length;re<Ae;re++)G?this._off(p[re]):this._off(p[re],x,T)}return this},_on:function(p,x,T,V){if(typeof x!="function"){console.warn("wrong listener type: "+typeof x);return}if(this._listens(p,x,T)===!1){T===this&&(T=void 0);var G={fn:x,ctx:T};V&&(G.once=!0),this._events=this._events||{},this._events[p]=this._events[p]||[],this._events[p].push(G)}},_off:function(p,x,T){var V,G,re;if(this._events&&(V=this._events[p],!!V)){if(arguments.length===1){if(this._firingCount)for(G=0,re=V.length;G<re;G++)V[G].fn=D;delete this._events[p];return}if(typeof x!="function"){console.warn("wrong listener type: "+typeof x);return}var Ae=this._listens(p,x,T);if(Ae!==!1){var We=V[Ae];this._firingCount&&(We.fn=D,this._events[p]=V=V.slice()),V.splice(Ae,1)}}},fire:function(p,x,T){if(!this.listens(p,T))return this;var V=h({},x,{type:p,target:this,sourceTarget:x&&x.sourceTarget||this});if(this._events){var G=this._events[p];if(G){this._firingCount=this._firingCount+1||1;for(var re=0,Ae=G.length;re<Ae;re++){var We=G[re],Fe=We.fn;We.once&&this.off(p,Fe,We.ctx),Fe.call(We.ctx||this,V)}this._firingCount--}}return T&&this._propagateEvent(V),this},listens:function(p,x,T,V){typeof p!="string"&&console.warn('"string" type argument expected');var G=x;typeof x!="function"&&(V=!!x,G=void 0,T=void 0);var re=this._events&&this._events[p];if(re&&re.length&&this._listens(p,G,T)!==!1)return!0;if(V){for(var Ae in this._eventParents)if(this._eventParents[Ae].listens(p,x,T,V))return!0}return!1},_listens:function(p,x,T){if(!this._events)return!1;var V=this._events[p]||[];if(!x)return!!V.length;T===this&&(T=void 0);for(var G=0,re=V.length;G<re;G++)if(V[G].fn===x&&V[G].ctx===T)return G;return!1},once:function(p,x,T){if(typeof p=="object")for(var V in p)this._on(V,p[V],x,!0);else{p=F(p);for(var G=0,re=p.length;G<re;G++)this._on(p[G],x,T,!0)}return this},addEventParent:function(p){return this._eventParents=this._eventParents||{},this._eventParents[v(p)]=p,this},removeEventParent:function(p){return this._eventParents&&delete this._eventParents[v(p)],this},_propagateEvent:function(p){for(var x in this._eventParents)this._eventParents[x].fire(p.type,h({layer:p.target,propagatedFrom:p.target},p),!0)}};le.addEventListener=le.on,le.removeEventListener=le.clearAllEventListeners=le.off,le.addOneTimeEventListener=le.once,le.fireEvent=le.fire,le.hasEventListeners=le.listens;var _e=ye.extend(le);function me(p,x,T){this.x=T?Math.round(p):p,this.y=T?Math.round(x):x}var Ee=Math.trunc||function(p){return p>0?Math.floor(p):Math.ceil(p)};me.prototype={clone:function(){return new me(this.x,this.y)},add:function(p){return this.clone()._add(Z(p))},_add:function(p){return this.x+=p.x,this.y+=p.y,this},subtract:function(p){return this.clone()._subtract(Z(p))},_subtract:function(p){return this.x-=p.x,this.y-=p.y,this},divideBy:function(p){return this.clone()._divideBy(p)},_divideBy:function(p){return this.x/=p,this.y/=p,this},multiplyBy:function(p){return this.clone()._multiplyBy(p)},_multiplyBy:function(p){return this.x*=p,this.y*=p,this},scaleBy:function(p){return new me(this.x*p.x,this.y*p.y)},unscaleBy:function(p){return new me(this.x/p.x,this.y/p.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ee(this.x),this.y=Ee(this.y),this},distanceTo:function(p){p=Z(p);var x=p.x-this.x,T=p.y-this.y;return Math.sqrt(x*x+T*T)},equals:function(p){return p=Z(p),p.x===this.x&&p.y===this.y},contains:function(p){return p=Z(p),Math.abs(p.x)<=Math.abs(this.x)&&Math.abs(p.y)<=Math.abs(this.y)},toString:function(){return"Point("+j(this.x)+", "+j(this.y)+")"}};function Z(p,x,T){return p instanceof me?p:ee(p)?new me(p[0],p[1]):p==null?p:typeof p=="object"&&"x"in p&&"y"in p?new me(p.x,p.y):new me(p,x,T)}function fe(p,x){if(p)for(var T=x?[p,x]:p,V=0,G=T.length;V<G;V++)this.extend(T[V])}fe.prototype={extend:function(p){var x,T;if(!p)return this;if(p instanceof me||typeof p[0]=="number"||"x"in p)x=T=Z(p);else if(p=ke(p),x=p.min,T=p.max,!x||!T)return this;return!this.min&&!this.max?(this.min=x.clone(),this.max=T.clone()):(this.min.x=Math.min(x.x,this.min.x),this.max.x=Math.max(T.x,this.max.x),this.min.y=Math.min(x.y,this.min.y),this.max.y=Math.max(T.y,this.max.y)),this},getCenter:function(p){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,p)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(p){var x,T;return typeof p[0]=="number"||p instanceof me?p=Z(p):p=ke(p),p instanceof fe?(x=p.min,T=p.max):x=T=p,x.x>=this.min.x&&T.x<=this.max.x&&x.y>=this.min.y&&T.y<=this.max.y},intersects:function(p){p=ke(p);var x=this.min,T=this.max,V=p.min,G=p.max,re=G.x>=x.x&&V.x<=T.x,Ae=G.y>=x.y&&V.y<=T.y;return re&&Ae},overlaps:function(p){p=ke(p);var x=this.min,T=this.max,V=p.min,G=p.max,re=G.x>x.x&&V.x<T.x,Ae=G.y>x.y&&V.y<T.y;return re&&Ae},isValid:function(){return!!(this.min&&this.max)},pad:function(p){var x=this.min,T=this.max,V=Math.abs(x.x-T.x)*p,G=Math.abs(x.y-T.y)*p;return ke(Z(x.x-V,x.y-G),Z(T.x+V,T.y+G))},equals:function(p){return p?(p=ke(p),this.min.equals(p.getTopLeft())&&this.max.equals(p.getBottomRight())):!1}};function ke(p,x){return!p||p instanceof fe?p:new fe(p,x)}function Be(p,x){if(p)for(var T=x?[p,x]:p,V=0,G=T.length;V<G;V++)this.extend(T[V])}Be.prototype={extend:function(p){var x=this._southWest,T=this._northEast,V,G;if(p instanceof nt)V=p,G=p;else if(p instanceof Be){if(V=p._southWest,G=p._northEast,!V||!G)return this}else return p?this.extend(te(p)||Ve(p)):this;return!x&&!T?(this._southWest=new nt(V.lat,V.lng),this._northEast=new nt(G.lat,G.lng)):(x.lat=Math.min(V.lat,x.lat),x.lng=Math.min(V.lng,x.lng),T.lat=Math.max(G.lat,T.lat),T.lng=Math.max(G.lng,T.lng)),this},pad:function(p){var x=this._southWest,T=this._northEast,V=Math.abs(x.lat-T.lat)*p,G=Math.abs(x.lng-T.lng)*p;return new Be(new nt(x.lat-V,x.lng-G),new nt(T.lat+V,T.lng+G))},getCenter:function(){return new nt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new nt(this.getNorth(),this.getWest())},getSouthEast:function(){return new nt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(p){typeof p[0]=="number"||p instanceof nt||"lat"in p?p=te(p):p=Ve(p);var x=this._southWest,T=this._northEast,V,G;return p instanceof Be?(V=p.getSouthWest(),G=p.getNorthEast()):V=G=p,V.lat>=x.lat&&G.lat<=T.lat&&V.lng>=x.lng&&G.lng<=T.lng},intersects:function(p){p=Ve(p);var x=this._southWest,T=this._northEast,V=p.getSouthWest(),G=p.getNorthEast(),re=G.lat>=x.lat&&V.lat<=T.lat,Ae=G.lng>=x.lng&&V.lng<=T.lng;return re&&Ae},overlaps:function(p){p=Ve(p);var x=this._southWest,T=this._northEast,V=p.getSouthWest(),G=p.getNorthEast(),re=G.lat>x.lat&&V.lat<T.lat,Ae=G.lng>x.lng&&V.lng<T.lng;return re&&Ae},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(p,x){return p?(p=Ve(p),this._southWest.equals(p.getSouthWest(),x)&&this._northEast.equals(p.getNorthEast(),x)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ve(p,x){return p instanceof Be?p:new Be(p,x)}function nt(p,x,T){if(isNaN(p)||isNaN(x))throw new Error("Invalid LatLng object: ("+p+", "+x+")");this.lat=+p,this.lng=+x,T!==void 0&&(this.alt=+T)}nt.prototype={equals:function(p,x){if(!p)return!1;p=te(p);var T=Math.max(Math.abs(this.lat-p.lat),Math.abs(this.lng-p.lng));return T<=(x===void 0?1e-9:x)},toString:function(p){return"LatLng("+j(this.lat,p)+", "+j(this.lng,p)+")"},distanceTo:function(p){return qe.distance(this,te(p))},wrap:function(){return qe.wrapLatLng(this)},toBounds:function(p){var x=180*p/40075017,T=x/Math.cos(Math.PI/180*this.lat);return Ve([this.lat-x,this.lng-T],[this.lat+x,this.lng+T])},clone:function(){return new nt(this.lat,this.lng,this.alt)}};function te(p,x,T){return p instanceof nt?p:ee(p)&&typeof p[0]!="object"?p.length===3?new nt(p[0],p[1],p[2]):p.length===2?new nt(p[0],p[1]):null:p==null?p:typeof p=="object"&&"lat"in p?new nt(p.lat,"lng"in p?p.lng:p.lon,p.alt):x===void 0?null:new nt(p,x,T)}var Ce={latLngToPoint:function(p,x){var T=this.projection.project(p),V=this.scale(x);return this.transformation._transform(T,V)},pointToLatLng:function(p,x){var T=this.scale(x),V=this.transformation.untransform(p,T);return this.projection.unproject(V)},project:function(p){return this.projection.project(p)},unproject:function(p){return this.projection.unproject(p)},scale:function(p){return 256*Math.pow(2,p)},zoom:function(p){return Math.log(p/256)/Math.LN2},getProjectedBounds:function(p){if(this.infinite)return null;var x=this.projection.bounds,T=this.scale(p),V=this.transformation.transform(x.min,T),G=this.transformation.transform(x.max,T);return new fe(V,G)},infinite:!1,wrapLatLng:function(p){var x=this.wrapLng?S(p.lng,this.wrapLng,!0):p.lng,T=this.wrapLat?S(p.lat,this.wrapLat,!0):p.lat,V=p.alt;return new nt(T,x,V)},wrapLatLngBounds:function(p){var x=p.getCenter(),T=this.wrapLatLng(x),V=x.lat-T.lat,G=x.lng-T.lng;if(V===0&&G===0)return p;var re=p.getSouthWest(),Ae=p.getNorthEast(),We=new nt(re.lat-V,re.lng-G),Fe=new nt(Ae.lat-V,Ae.lng-G);return new Be(We,Fe)}},qe=h({},Ce,{wrapLng:[-180,180],R:6371e3,distance:function(p,x){var T=Math.PI/180,V=p.lat*T,G=x.lat*T,re=Math.sin((x.lat-p.lat)*T/2),Ae=Math.sin((x.lng-p.lng)*T/2),We=re*re+Math.cos(V)*Math.cos(G)*Ae*Ae,Fe=2*Math.atan2(Math.sqrt(We),Math.sqrt(1-We));return this.R*Fe}}),Ke=6378137,Ie={R:Ke,MAX_LATITUDE:85.0511287798,project:function(p){var x=Math.PI/180,T=this.MAX_LATITUDE,V=Math.max(Math.min(T,p.lat),-T),G=Math.sin(V*x);return new me(this.R*p.lng*x,this.R*Math.log((1+G)/(1-G))/2)},unproject:function(p){var x=180/Math.PI;return new nt((2*Math.atan(Math.exp(p.y/this.R))-Math.PI/2)*x,p.x*x/this.R)},bounds:function(){var p=Ke*Math.PI;return new fe([-p,-p],[p,p])}()};function rt(p,x,T,V){if(ee(p)){this._a=p[0],this._b=p[1],this._c=p[2],this._d=p[3];return}this._a=p,this._b=x,this._c=T,this._d=V}rt.prototype={transform:function(p,x){return this._transform(p.clone(),x)},_transform:function(p,x){return x=x||1,p.x=x*(this._a*p.x+this._b),p.y=x*(this._c*p.y+this._d),p},untransform:function(p,x){return x=x||1,new me((p.x/x-this._b)/this._a,(p.y/x-this._d)/this._c)}};function Ye(p,x,T,V){return new rt(p,x,T,V)}var Te=h({},qe,{code:"EPSG:3857",projection:Ie,transformation:function(){var p=.5/(Math.PI*Ie.R);return Ye(p,.5,-p,.5)}()}),ht=h({},Te,{code:"EPSG:900913"});function ze(p){return document.createElementNS("http://www.w3.org/2000/svg",p)}function ut(p,x){var T="",V,G,re,Ae,We,Fe;for(V=0,re=p.length;V<re;V++){for(We=p[V],G=0,Ae=We.length;G<Ae;G++)Fe=We[G],T+=(G?"L":"M")+Fe.x+" "+Fe.y;T+=x?ve.svg?"z":"x":""}return T||"M0 0"}var Rt=document.documentElement.style,Jt="ActiveXObject"in window,ot=Jt&&!document.addEventListener,jt="msLaunchUri"in navigator&&!("documentMode"in document),Dt=hi("webkit"),Qe=hi("android"),Mt=hi("android 2")||hi("android 3"),Lt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),$e=Qe&&hi("Google")&&Lt<537&&!("AudioNode"in window),bt=!!window.opera,$t=!jt&&hi("chrome"),mn=hi("gecko")&&!Dt&&!bt&&!Jt,Rn=!$t&&hi("safari"),yn=hi("phantom"),ai="OTransition"in Rt,br=navigator.platform.indexOf("Win")===0,Ar=Jt&&"transition"in Rt,er="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Mt,Ii="MozPerspective"in Rt,ii=!window.L_DISABLE_3D&&(Ar||er||Ii)&&!ai&&!yn,Jn=typeof orientation<"u"||hi("mobile"),Br=Jn&&Dt,fi=Jn&&er,or=!window.PointerEvent&&window.MSPointerEvent,kr=!!(window.PointerEvent||or),tr="ontouchstart"in window||!!window.TouchEvent,Ue=!window.L_NO_TOUCH&&(tr||kr),qt=Jn&&bt,lt=Jn&&mn,on=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Re=function(){var p=!1;try{var x=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("testPassiveEventSupport",D,x),window.removeEventListener("testPassiveEventSupport",D,x)}catch{}return p}(),Ot=function(){return!!document.createElement("canvas").getContext}(),pt=!!(document.createElementNS&&ze("svg").createSVGRect),Bt=!!pt&&function(){var p=document.createElement("div");return p.innerHTML="<svg/>",(p.firstChild&&p.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ln=!pt&&function(){try{var p=document.createElement("div");p.innerHTML='<v:shape adj="1"/>';var x=p.firstChild;return x.style.behavior="url(#default#VML)",x&&typeof x.adj=="object"}catch{return!1}}(),En=navigator.platform.indexOf("Mac")===0,Dn=navigator.platform.indexOf("Linux")===0;function hi(p){return navigator.userAgent.toLowerCase().indexOf(p)>=0}var ve={ie:Jt,ielt9:ot,edge:jt,webkit:Dt,android:Qe,android23:Mt,androidStock:$e,opera:bt,chrome:$t,gecko:mn,safari:Rn,phantom:yn,opera12:ai,win:br,ie3d:Ar,webkit3d:er,gecko3d:Ii,any3d:ii,mobile:Jn,mobileWebkit:Br,mobileWebkit3d:fi,msPointer:or,pointer:kr,touch:Ue,touchNative:tr,mobileOpera:qt,mobileGecko:lt,retina:on,passiveEvents:Re,canvas:Ot,svg:pt,vml:ln,inlineSvg:Bt,mac:En,linux:Dn},dt=ve.msPointer?"MSPointerDown":"pointerdown",xt=ve.msPointer?"MSPointerMove":"pointermove",Se=ve.msPointer?"MSPointerUp":"pointerup",Et=ve.msPointer?"MSPointerCancel":"pointercancel",Tt={touchstart:dt,touchmove:xt,touchend:Se,touchcancel:Et},vn={touchstart:Zo,touchmove:ys,touchend:ys,touchcancel:ys},fn={},Pn=!1;function an(p,x,T){return x==="touchstart"&&So(),vn[x]?(T=vn[x].bind(this,T),p.addEventListener(Tt[x],T,!1),T):(console.warn("wrong event specified:",x),D)}function ar(p,x,T){if(!Tt[x]){console.warn("wrong event specified:",x);return}p.removeEventListener(Tt[x],T,!1)}function Yn(p){fn[p.pointerId]=p}function Vn(p){fn[p.pointerId]&&(fn[p.pointerId]=p)}function Yr(p){delete fn[p.pointerId]}function So(){Pn||(document.addEventListener(dt,Yn,!0),document.addEventListener(xt,Vn,!0),document.addEventListener(Se,Yr,!0),document.addEventListener(Et,Yr,!0),Pn=!0)}function ys(p,x){if(x.pointerType!==(x.MSPOINTER_TYPE_MOUSE||"mouse")){x.touches=[];for(var T in fn)x.touches.push(fn[T]);x.changedTouches=[x],p(x)}}function Zo(p,x){x.MSPOINTER_TYPE_TOUCH&&x.pointerType===x.MSPOINTER_TYPE_TOUCH&&Mn(x),ys(p,x)}function xc(p){var x={},T,V;for(V in p)T=p[V],x[V]=T&&T.bind?T.bind(p):T;return p=x,x.type="dblclick",x.detail=2,x.isTrusted=!1,x._simulated=!0,x}var ka=200;function uo(p,x){p.addEventListener("dblclick",x);var T=0,V;function G(re){if(re.detail!==1){V=re.detail;return}if(!(re.pointerType==="mouse"||re.sourceCapabilities&&!re.sourceCapabilities.firesTouchEvents)){var Ae=Hl(re);if(!(Ae.some(function(Fe){return Fe instanceof HTMLLabelElement&&Fe.attributes.for})&&!Ae.some(function(Fe){return Fe instanceof HTMLInputElement||Fe instanceof HTMLSelectElement}))){var We=Date.now();We-T<=ka?(V++,V===2&&x(xc(re))):V=1,T=We}}}return p.addEventListener("click",G),{dblclick:x,simDblclick:G}}function $s(p,x){p.removeEventListener("dblclick",x.dblclick),p.removeEventListener("click",x.simDblclick)}var Gr=qs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ds=qs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),us=ds==="webkitTransition"||ds==="OTransition"?ds+"End":"transitionend";function Ra(p){return typeof p=="string"?document.getElementById(p):p}function ho(p,x){var T=p.style[x]||p.currentStyle&&p.currentStyle[x];if((!T||T==="auto")&&document.defaultView){var V=document.defaultView.getComputedStyle(p,null);T=V?V[x]:null}return T==="auto"?null:T}function Gn(p,x,T){var V=document.createElement(p);return V.className=x||"",T&&T.appendChild(V),V}function bi(p){var x=p.parentNode;x&&x.removeChild(p)}function _r(p){for(;p.firstChild;)p.removeChild(p.firstChild)}function jo(p){var x=p.parentNode;x&&x.lastChild!==p&&x.appendChild(p)}function Xo(p){var x=p.parentNode;x&&x.firstChild!==p&&x.insertBefore(p,x.firstChild)}function Kr(p,x){if(p.classList!==void 0)return p.classList.contains(x);var T=Di(p);return T.length>0&&new RegExp("(^|\\s)"+x+"(\\s|$)").test(T)}function Sn(p,x){if(p.classList!==void 0)for(var T=F(x),V=0,G=T.length;V<G;V++)p.classList.add(T[V]);else if(!Kr(p,x)){var re=Di(p);Nr(p,(re?re+" ":"")+x)}}function Kn(p,x){p.classList!==void 0?p.classList.remove(x):Nr(p,B((" "+Di(p)+" ").replace(" "+x+" "," ")))}function Nr(p,x){p.className.baseVal===void 0?p.className=x:p.className.baseVal=x}function Di(p){return p.correspondingElement&&(p=p.correspondingElement),p.className.baseVal===void 0?p.className:p.className.baseVal}function Ai(p,x){"opacity"in p.style?p.style.opacity=x:"filter"in p.style&&za(p,x)}function za(p,x){var T=!1,V="DXImageTransform.Microsoft.Alpha";try{T=p.filters.item(V)}catch{if(x===1)return}x=Math.round(x*100),T?(T.Enabled=x!==100,T.Opacity=x):p.style.filter+=" progid:"+V+"(opacity="+x+")"}function qs(p){for(var x=document.documentElement.style,T=0;T<p.length;T++)if(p[T]in x)return p[T];return!1}function Hi(p,x,T){var V=x||new me(0,0);p.style[Gr]=(ve.ie3d?"translate("+V.x+"px,"+V.y+"px)":"translate3d("+V.x+"px,"+V.y+"px,0)")+(T?" scale("+T+")":"")}function $n(p,x){p._leaflet_pos=x,ve.any3d?Hi(p,x):(p.style.left=x.x+"px",p.style.top=x.y+"px")}function Pr(p){return p._leaflet_pos||new me(0,0)}var Er,hs,Ws;if("onselectstart"in document)Er=function(){Zt(window,"selectstart",Mn)},hs=function(){ei(window,"selectstart",Mn)};else{var xs=qs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Er=function(){if(xs){var p=document.documentElement.style;Ws=p[xs],p[xs]="none"}},hs=function(){xs&&(document.documentElement.style[xs]=Ws,Ws=void 0)}}function Ys(){Zt(window,"dragstart",Mn)}function xe(){ei(window,"dragstart",Mn)}var Ct,tn;function Tn(p){for(;p.tabIndex===-1;)p=p.parentNode;p.style&&(ki(),Ct=p,tn=p.style.outlineStyle,p.style.outlineStyle="none",Zt(window,"keydown",ki))}function ki(){Ct&&(Ct.style.outlineStyle=tn,Ct=void 0,tn=void 0,ei(window,"keydown",ki))}function zi(p){do p=p.parentNode;while((!p.offsetWidth||!p.offsetHeight)&&p!==document.body);return p}function _i(p){var x=p.getBoundingClientRect();return{x:x.width/p.offsetWidth||1,y:x.height/p.offsetHeight||1,boundingClientRect:x}}var dl={__proto__:null,TRANSFORM:Gr,TRANSITION:ds,TRANSITION_END:us,get:Ra,getStyle:ho,create:Gn,remove:bi,empty:_r,toFront:jo,toBack:Xo,hasClass:Kr,addClass:Sn,removeClass:Kn,setClass:Nr,getClass:Di,setOpacity:Ai,testProp:qs,setTransform:Hi,setPosition:$n,getPosition:Pr,get disableTextSelection(){return Er},get enableTextSelection(){return hs},disableImageDrag:Ys,enableImageDrag:xe,preventOutline:Tn,restoreOutline:ki,getSizedParentNode:zi,getScale:_i};function Zt(p,x,T,V){if(x&&typeof x=="object")for(var G in x)_a(p,G,x[G],T);else{x=F(x);for(var re=0,Ae=x.length;re<Ae;re++)_a(p,x[re],T,V)}return this}var Ui="_leaflet_events";function ei(p,x,T,V){if(arguments.length===1)ms(p),delete p[Ui];else if(x&&typeof x=="object")for(var G in x)Qr(p,G,x[G],T);else if(x=F(x),arguments.length===2)ms(p,function(We){return ne(x,We)!==-1});else for(var re=0,Ae=x.length;re<Ae;re++)Qr(p,x[re],T,V);return this}function ms(p,x){for(var T in p[Ui]){var V=T.split(/\d/)[0];(!x||x(V))&&Qr(p,V,null,null,T)}}var mo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function _a(p,x,T,V){var G=x+v(T)+(V?"_"+v(V):"");if(p[Ui]&&p[Ui][G])return this;var re=function(We){return T.call(V||p,We||window.event)},Ae=re;!ve.touchNative&&ve.pointer&&x.indexOf("touch")===0?re=an(p,x,re):ve.touch&&x==="dblclick"?re=uo(p,re):"addEventListener"in p?x==="touchstart"||x==="touchmove"||x==="wheel"||x==="mousewheel"?p.addEventListener(mo[x]||x,re,ve.passiveEvents?{passive:!1}:!1):x==="mouseenter"||x==="mouseleave"?(re=function(We){We=We||window.event,fs(p,We)&&Ae(We)},p.addEventListener(mo[x],re,!1)):p.addEventListener(x,Ae,!1):p.attachEvent("on"+x,re),p[Ui]=p[Ui]||{},p[Ui][G]=re}function Qr(p,x,T,V,G){G=G||x+v(T)+(V?"_"+v(V):"");var re=p[Ui]&&p[Ui][G];if(!re)return this;!ve.touchNative&&ve.pointer&&x.indexOf("touch")===0?ar(p,x,re):ve.touch&&x==="dblclick"?$s(p,re):"removeEventListener"in p?p.removeEventListener(mo[x]||x,re,!1):p.detachEvent("on"+x,re),p[Ui][G]=null}function fo(p){return p.stopPropagation?p.stopPropagation():p.originalEvent?p.originalEvent._stopped=!0:p.cancelBubble=!0,this}function Gs(p){return _a(p,"wheel",fo),this}function Do(p){return Zt(p,"mousedown touchstart dblclick contextmenu",fo),p._leaflet_disable_click=!0,this}function Mn(p){return p.preventDefault?p.preventDefault():p.returnValue=!1,this}function Cs(p){return Mn(p),fo(p),this}function Hl(p){if(p.composedPath)return p.composedPath();for(var x=[],T=p.target;T;)x.push(T),T=T.parentNode;return x}function Sr(p,x){if(!x)return new me(p.clientX,p.clientY);var T=_i(x),V=T.boundingClientRect;return new me((p.clientX-V.left)/T.x-x.clientLeft,(p.clientY-V.top)/T.y-x.clientTop)}var As=ve.linux&&ve.chrome?window.devicePixelRatio:ve.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Jo(p){return ve.edge?p.wheelDeltaY/2:p.deltaY&&p.deltaMode===0?-p.deltaY/As:p.deltaY&&p.deltaMode===1?-p.deltaY*20:p.deltaY&&p.deltaMode===2?-p.deltaY*60:p.deltaX||p.deltaZ?0:p.wheelDelta?(p.wheelDeltaY||p.wheelDelta)/2:p.detail&&Math.abs(p.detail)<32765?-p.detail*20:p.detail?p.detail/-32765*60:0}function fs(p,x){var T=x.relatedTarget;if(!T)return!0;try{for(;T&&T!==p;)T=T.parentNode}catch{return!1}return T!==p}var wd={__proto__:null,on:Zt,off:ei,stopPropagation:fo,disableScrollPropagation:Gs,disableClickPropagation:Do,preventDefault:Mn,stop:Cs,getPropagationPath:Hl,getMousePosition:Sr,getWheelDelta:Jo,isExternalTarget:fs,addListener:Zt,removeListener:ei},To=_e.extend({run:function(p,x,T,V){this.stop(),this._el=p,this._inProgress=!0,this._duration=T||.25,this._easeOutPower=1/Math.max(V||.5,.2),this._startPos=Pr(p),this._offset=x.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=pe(this._animate,this),this._step()},_step:function(p){var x=+new Date-this._startTime,T=this._duration*1e3;x<T?this._runFrame(this._easeOut(x/T),p):(this._runFrame(1),this._complete())},_runFrame:function(p,x){var T=this._startPos.add(this._offset.multiplyBy(p));x&&T._round(),$n(this._el,T),this.fire("step")},_complete:function(){we(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(p){return 1-Math.pow(1-p,this._easeOutPower)}}),zn=_e.extend({options:{crs:Te,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(p,x){x=H(this,x),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(p),this._initLayout(),this._onResize=_(this._onResize,this),this._initEvents(),x.maxBounds&&this.setMaxBounds(x.maxBounds),x.zoom!==void 0&&(this._zoom=this._limitZoom(x.zoom)),x.center&&x.zoom!==void 0&&this.setView(te(x.center),x.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ds&&ve.any3d&&!ve.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Zt(this._proxy,us,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(p,x,T){if(x=x===void 0?this._zoom:this._limitZoom(x),p=this._limitCenter(te(p),x,this.options.maxBounds),T=T||{},this._stop(),this._loaded&&!T.reset&&T!==!0){T.animate!==void 0&&(T.zoom=h({animate:T.animate},T.zoom),T.pan=h({animate:T.animate,duration:T.duration},T.pan));var V=this._zoom!==x?this._tryAnimatedZoom&&this._tryAnimatedZoom(p,x,T.zoom):this._tryAnimatedPan(p,T.pan);if(V)return clearTimeout(this._sizeTimer),this}return this._resetView(p,x,T.pan&&T.pan.noMoveStart),this},setZoom:function(p,x){return this._loaded?this.setView(this.getCenter(),p,{zoom:x}):(this._zoom=p,this)},zoomIn:function(p,x){return p=p||(ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+p,x)},zoomOut:function(p,x){return p=p||(ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-p,x)},setZoomAround:function(p,x,T){var V=this.getZoomScale(x),G=this.getSize().divideBy(2),re=p instanceof me?p:this.latLngToContainerPoint(p),Ae=re.subtract(G).multiplyBy(1-1/V),We=this.containerPointToLatLng(G.add(Ae));return this.setView(We,x,{zoom:T})},_getBoundsCenterZoom:function(p,x){x=x||{},p=p.getBounds?p.getBounds():Ve(p);var T=Z(x.paddingTopLeft||x.padding||[0,0]),V=Z(x.paddingBottomRight||x.padding||[0,0]),G=this.getBoundsZoom(p,!1,T.add(V));if(G=typeof x.maxZoom=="number"?Math.min(x.maxZoom,G):G,G===1/0)return{center:p.getCenter(),zoom:G};var re=V.subtract(T).divideBy(2),Ae=this.project(p.getSouthWest(),G),We=this.project(p.getNorthEast(),G),Fe=this.unproject(Ae.add(We).divideBy(2).add(re),G);return{center:Fe,zoom:G}},fitBounds:function(p,x){if(p=Ve(p),!p.isValid())throw new Error("Bounds are not valid.");var T=this._getBoundsCenterZoom(p,x);return this.setView(T.center,T.zoom,x)},fitWorld:function(p){return this.fitBounds([[-90,-180],[90,180]],p)},panTo:function(p,x){return this.setView(p,this._zoom,{pan:x})},panBy:function(p,x){if(p=Z(p).round(),x=x||{},!p.x&&!p.y)return this.fire("moveend");if(x.animate!==!0&&!this.getSize().contains(p))return this._resetView(this.unproject(this.project(this.getCenter()).add(p)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new To,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),x.noMoveStart||this.fire("movestart"),x.animate!==!1){Sn(this._mapPane,"leaflet-pan-anim");var T=this._getMapPanePos().subtract(p).round();this._panAnim.run(this._mapPane,T,x.duration||.25,x.easeLinearity)}else this._rawPanBy(p),this.fire("move").fire("moveend");return this},flyTo:function(p,x,T){if(T=T||{},T.animate===!1||!ve.any3d)return this.setView(p,x,T);this._stop();var V=this.project(this.getCenter()),G=this.project(p),re=this.getSize(),Ae=this._zoom;p=te(p),x=x===void 0?Ae:x;var We=Math.max(re.x,re.y),Fe=We*this.getZoomScale(Ae,x),Nt=G.distanceTo(V)||1,zt=1.42,Gt=zt*zt;function rn(Wi){var Po=Wi?-1:1,ia=Wi?Fe:We,Aa=Fe*Fe-We*We+Po*Gt*Gt*Nt*Nt,ra=2*ia*Gt*Nt,Pc=Aa/ra,Rc=Math.sqrt(Pc*Pc+1)-Pc,wl=Rc<1e-9?-18:Math.log(Rc);return wl}function kn(Wi){return(Math.exp(Wi)-Math.exp(-Wi))/2}function gn(Wi){return(Math.exp(Wi)+Math.exp(-Wi))/2}function vi(Wi){return kn(Wi)/gn(Wi)}var ur=rn(0);function Ts(Wi){return We*(gn(ur)/gn(ur+zt*Wi))}function Ld(Wi){return We*(gn(ur)*vi(ur+zt*Wi)-kn(ur))/Gt}function Du(Wi){return 1-Math.pow(1-Wi,1.5)}var Ql=Date.now(),Bo=(rn(1)-ur)/zt,es=T.duration?1e3*T.duration:1e3*Bo*.8;function vl(){var Wi=(Date.now()-Ql)/es,Po=Du(Wi)*Bo;Wi<=1?(this._flyToFrame=pe(vl,this),this._move(this.unproject(V.add(G.subtract(V).multiplyBy(Ld(Po)/Nt)),Ae),this.getScaleZoom(We/Ts(Po),Ae),{flyTo:!0})):this._move(p,x)._moveEnd(!0)}return this._moveStart(!0,T.noMoveStart),vl.call(this),this},flyToBounds:function(p,x){var T=this._getBoundsCenterZoom(p,x);return this.flyTo(T.center,T.zoom,x)},setMaxBounds:function(p){return p=Ve(p),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),p.isValid()?(this.options.maxBounds=p,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(p){var x=this.options.minZoom;return this.options.minZoom=p,this._loaded&&x!==p&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(p):this},setMaxZoom:function(p){var x=this.options.maxZoom;return this.options.maxZoom=p,this._loaded&&x!==p&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(p):this},panInsideBounds:function(p,x){this._enforcingBounds=!0;var T=this.getCenter(),V=this._limitCenter(T,this._zoom,Ve(p));return T.equals(V)||this.panTo(V,x),this._enforcingBounds=!1,this},panInside:function(p,x){x=x||{};var T=Z(x.paddingTopLeft||x.padding||[0,0]),V=Z(x.paddingBottomRight||x.padding||[0,0]),G=this.project(this.getCenter()),re=this.project(p),Ae=this.getPixelBounds(),We=ke([Ae.min.add(T),Ae.max.subtract(V)]),Fe=We.getSize();if(!We.contains(re)){this._enforcingBounds=!0;var Nt=re.subtract(We.getCenter()),zt=We.extend(re).getSize().subtract(Fe);G.x+=Nt.x<0?-zt.x:zt.x,G.y+=Nt.y<0?-zt.y:zt.y,this.panTo(this.unproject(G),x),this._enforcingBounds=!1}return this},invalidateSize:function(p){if(!this._loaded)return this;p=h({animate:!1,pan:!0},p===!0?{animate:!0}:p);var x=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var T=this.getSize(),V=x.divideBy(2).round(),G=T.divideBy(2).round(),re=V.subtract(G);return!re.x&&!re.y?this:(p.animate&&p.pan?this.panBy(re):(p.pan&&this._rawPanBy(re),this.fire("move"),p.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(_(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:x,newSize:T}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(p){if(p=this._locateOptions=h({timeout:1e4,watch:!1},p),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var x=_(this._handleGeolocationResponse,this),T=_(this._handleGeolocationError,this);return p.watch?this._locationWatchId=navigator.geolocation.watchPosition(x,T,p):navigator.geolocation.getCurrentPosition(x,T,p),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(p){if(this._container._leaflet_id){var x=p.code,T=p.message||(x===1?"permission denied":x===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:x,message:"Geolocation error: "+T+"."})}},_handleGeolocationResponse:function(p){if(this._container._leaflet_id){var x=p.coords.latitude,T=p.coords.longitude,V=new nt(x,T),G=V.toBounds(p.coords.accuracy*2),re=this._locateOptions;if(re.setView){var Ae=this.getBoundsZoom(G);this.setView(V,re.maxZoom?Math.min(Ae,re.maxZoom):Ae)}var We={latlng:V,bounds:G,timestamp:p.timestamp};for(var Fe in p.coords)typeof p.coords[Fe]=="number"&&(We[Fe]=p.coords[Fe]);this.fire("locationfound",We)}},addHandler:function(p,x){if(!x)return this;var T=this[p]=new x(this);return this._handlers.push(T),this.options[p]&&T.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),bi(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(we(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var p;for(p in this._layers)this._layers[p].remove();for(p in this._panes)bi(this._panes[p]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(p,x){var T="leaflet-pane"+(p?" leaflet-"+p.replace("Pane","")+"-pane":""),V=Gn("div",T,x||this._mapPane);return p&&(this._panes[p]=V),V},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var p=this.getPixelBounds(),x=this.unproject(p.getBottomLeft()),T=this.unproject(p.getTopRight());return new Be(x,T)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(p,x,T){p=Ve(p),T=Z(T||[0,0]);var V=this.getZoom()||0,G=this.getMinZoom(),re=this.getMaxZoom(),Ae=p.getNorthWest(),We=p.getSouthEast(),Fe=this.getSize().subtract(T),Nt=ke(this.project(We,V),this.project(Ae,V)).getSize(),zt=ve.any3d?this.options.zoomSnap:1,Gt=Fe.x/Nt.x,rn=Fe.y/Nt.y,kn=x?Math.max(Gt,rn):Math.min(Gt,rn);return V=this.getScaleZoom(kn,V),zt&&(V=Math.round(V/(zt/100))*(zt/100),V=x?Math.ceil(V/zt)*zt:Math.floor(V/zt)*zt),Math.max(G,Math.min(re,V))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new me(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(p,x){var T=this._getTopLeftPoint(p,x);return new fe(T,T.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(p){return this.options.crs.getProjectedBounds(p===void 0?this.getZoom():p)},getPane:function(p){return typeof p=="string"?this._panes[p]:p},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(p,x){var T=this.options.crs;return x=x===void 0?this._zoom:x,T.scale(p)/T.scale(x)},getScaleZoom:function(p,x){var T=this.options.crs;x=x===void 0?this._zoom:x;var V=T.zoom(p*T.scale(x));return isNaN(V)?1/0:V},project:function(p,x){return x=x===void 0?this._zoom:x,this.options.crs.latLngToPoint(te(p),x)},unproject:function(p,x){return x=x===void 0?this._zoom:x,this.options.crs.pointToLatLng(Z(p),x)},layerPointToLatLng:function(p){var x=Z(p).add(this.getPixelOrigin());return this.unproject(x)},latLngToLayerPoint:function(p){var x=this.project(te(p))._round();return x._subtract(this.getPixelOrigin())},wrapLatLng:function(p){return this.options.crs.wrapLatLng(te(p))},wrapLatLngBounds:function(p){return this.options.crs.wrapLatLngBounds(Ve(p))},distance:function(p,x){return this.options.crs.distance(te(p),te(x))},containerPointToLayerPoint:function(p){return Z(p).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(p){return Z(p).add(this._getMapPanePos())},containerPointToLatLng:function(p){var x=this.containerPointToLayerPoint(Z(p));return this.layerPointToLatLng(x)},latLngToContainerPoint:function(p){return this.layerPointToContainerPoint(this.latLngToLayerPoint(te(p)))},mouseEventToContainerPoint:function(p){return Sr(p,this._container)},mouseEventToLayerPoint:function(p){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(p))},mouseEventToLatLng:function(p){return this.layerPointToLatLng(this.mouseEventToLayerPoint(p))},_initContainer:function(p){var x=this._container=Ra(p);if(x){if(x._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Zt(x,"scroll",this._onScroll,this),this._containerId=v(x)},_initLayout:function(){var p=this._container;this._fadeAnimated=this.options.fadeAnimation&&ve.any3d,Sn(p,"leaflet-container"+(ve.touch?" leaflet-touch":"")+(ve.retina?" leaflet-retina":"")+(ve.ielt9?" leaflet-oldie":"")+(ve.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var x=ho(p,"position");x!=="absolute"&&x!=="relative"&&x!=="fixed"&&x!=="sticky"&&(p.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var p=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),$n(this._mapPane,new me(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Sn(p.markerPane,"leaflet-zoom-hide"),Sn(p.shadowPane,"leaflet-zoom-hide"))},_resetView:function(p,x,T){$n(this._mapPane,new me(0,0));var V=!this._loaded;this._loaded=!0,x=this._limitZoom(x),this.fire("viewprereset");var G=this._zoom!==x;this._moveStart(G,T)._move(p,x)._moveEnd(G),this.fire("viewreset"),V&&this.fire("load")},_moveStart:function(p,x){return p&&this.fire("zoomstart"),x||this.fire("movestart"),this},_move:function(p,x,T,V){x===void 0&&(x=this._zoom);var G=this._zoom!==x;return this._zoom=x,this._lastCenter=p,this._pixelOrigin=this._getNewPixelOrigin(p),V?T&&T.pinch&&this.fire("zoom",T):((G||T&&T.pinch)&&this.fire("zoom",T),this.fire("move",T)),this},_moveEnd:function(p){return p&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return we(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(p){$n(this._mapPane,this._getMapPanePos().subtract(p))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(p){this._targets={},this._targets[v(this._container)]=this;var x=p?ei:Zt;x(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&x(window,"resize",this._onResize,this),ve.any3d&&this.options.transform3DLimit&&(p?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){we(this._resizeRequest),this._resizeRequest=pe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var p=this._getMapPanePos();Math.max(Math.abs(p.x),Math.abs(p.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(p,x){for(var T=[],V,G=x==="mouseout"||x==="mouseover",re=p.target||p.srcElement,Ae=!1;re;){if(V=this._targets[v(re)],V&&(x==="click"||x==="preclick")&&this._draggableMoved(V)){Ae=!0;break}if(V&&V.listens(x,!0)&&(G&&!fs(re,p)||(T.push(V),G))||re===this._container)break;re=re.parentNode}return!T.length&&!Ae&&!G&&this.listens(x,!0)&&(T=[this]),T},_isClickDisabled:function(p){for(;p&&p!==this._container;){if(p._leaflet_disable_click)return!0;p=p.parentNode}},_handleDOMEvent:function(p){var x=p.target||p.srcElement;if(!(!this._loaded||x._leaflet_disable_events||p.type==="click"&&this._isClickDisabled(x))){var T=p.type;T==="mousedown"&&Tn(x),this._fireDOMEvent(p,T)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(p,x,T){if(p.type==="click"){var V=h({},p);V.type="preclick",this._fireDOMEvent(V,V.type,T)}var G=this._findEventTargets(p,x);if(T){for(var re=[],Ae=0;Ae<T.length;Ae++)T[Ae].listens(x,!0)&&re.push(T[Ae]);G=re.concat(G)}if(G.length){x==="contextmenu"&&Mn(p);var We=G[0],Fe={originalEvent:p};if(p.type!=="keypress"&&p.type!=="keydown"&&p.type!=="keyup"){var Nt=We.getLatLng&&(!We._radius||We._radius<=10);Fe.containerPoint=Nt?this.latLngToContainerPoint(We.getLatLng()):this.mouseEventToContainerPoint(p),Fe.layerPoint=this.containerPointToLayerPoint(Fe.containerPoint),Fe.latlng=Nt?We.getLatLng():this.layerPointToLatLng(Fe.layerPoint)}for(Ae=0;Ae<G.length;Ae++)if(G[Ae].fire(x,Fe,!0),Fe.originalEvent._stopped||G[Ae].options.bubblingMouseEvents===!1&&ne(this._mouseEvents,x)!==-1)return}},_draggableMoved:function(p){return p=p.dragging&&p.dragging.enabled()?p:this,p.dragging&&p.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var p=0,x=this._handlers.length;p<x;p++)this._handlers[p].disable()},whenReady:function(p,x){return this._loaded?p.call(x||this,{target:this}):this.on("load",p,x),this},_getMapPanePos:function(){return Pr(this._mapPane)||new me(0,0)},_moved:function(){var p=this._getMapPanePos();return p&&!p.equals([0,0])},_getTopLeftPoint:function(p,x){var T=p&&x!==void 0?this._getNewPixelOrigin(p,x):this.getPixelOrigin();return T.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(p,x){var T=this.getSize()._divideBy(2);return this.project(p,x)._subtract(T)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(p,x,T){var V=this._getNewPixelOrigin(T,x);return this.project(p,x)._subtract(V)},_latLngBoundsToNewLayerBounds:function(p,x,T){var V=this._getNewPixelOrigin(T,x);return ke([this.project(p.getSouthWest(),x)._subtract(V),this.project(p.getNorthWest(),x)._subtract(V),this.project(p.getSouthEast(),x)._subtract(V),this.project(p.getNorthEast(),x)._subtract(V)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(p){return this.latLngToLayerPoint(p).subtract(this._getCenterLayerPoint())},_limitCenter:function(p,x,T){if(!T)return p;var V=this.project(p,x),G=this.getSize().divideBy(2),re=new fe(V.subtract(G),V.add(G)),Ae=this._getBoundsOffset(re,T,x);return Math.abs(Ae.x)<=1&&Math.abs(Ae.y)<=1?p:this.unproject(V.add(Ae),x)},_limitOffset:function(p,x){if(!x)return p;var T=this.getPixelBounds(),V=new fe(T.min.add(p),T.max.add(p));return p.add(this._getBoundsOffset(V,x))},_getBoundsOffset:function(p,x,T){var V=ke(this.project(x.getNorthEast(),T),this.project(x.getSouthWest(),T)),G=V.min.subtract(p.min),re=V.max.subtract(p.max),Ae=this._rebound(G.x,-re.x),We=this._rebound(G.y,-re.y);return new me(Ae,We)},_rebound:function(p,x){return p+x>0?Math.round(p-x)/2:Math.max(0,Math.ceil(p))-Math.max(0,Math.floor(x))},_limitZoom:function(p){var x=this.getMinZoom(),T=this.getMaxZoom(),V=ve.any3d?this.options.zoomSnap:1;return V&&(p=Math.round(p/V)*V),Math.max(x,Math.min(T,p))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Kn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(p,x){var T=this._getCenterOffset(p)._trunc();return(x&&x.animate)!==!0&&!this.getSize().contains(T)?!1:(this.panBy(T,x),!0)},_createAnimProxy:function(){var p=this._proxy=Gn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(p),this.on("zoomanim",function(x){var T=Gr,V=this._proxy.style[T];Hi(this._proxy,this.project(x.center,x.zoom),this.getZoomScale(x.zoom,1)),V===this._proxy.style[T]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){bi(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var p=this.getCenter(),x=this.getZoom();Hi(this._proxy,this.project(p,x),this.getZoomScale(x,1))},_catchTransitionEnd:function(p){this._animatingZoom&&p.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(p,x,T){if(this._animatingZoom)return!0;if(T=T||{},!this._zoomAnimated||T.animate===!1||this._nothingToAnimate()||Math.abs(x-this._zoom)>this.options.zoomAnimationThreshold)return!1;var V=this.getZoomScale(x),G=this._getCenterOffset(p)._divideBy(1-1/V);return T.animate!==!0&&!this.getSize().contains(G)?!1:(pe(function(){this._moveStart(!0,T.noMoveStart||!1)._animateZoom(p,x,!0)},this),!0)},_animateZoom:function(p,x,T,V){this._mapPane&&(T&&(this._animatingZoom=!0,this._animateToCenter=p,this._animateToZoom=x,Sn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:p,zoom:x,noUpdate:V}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(_(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Kn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Fa(p,x){return new zn(p,x)}var Zr=ye.extend({options:{position:"topright"},initialize:function(p){H(this,p)},getPosition:function(){return this.options.position},setPosition:function(p){var x=this._map;return x&&x.removeControl(this),this.options.position=p,x&&x.addControl(this),this},getContainer:function(){return this._container},addTo:function(p){this.remove(),this._map=p;var x=this._container=this.onAdd(p),T=this.getPosition(),V=p._controlCorners[T];return Sn(x,"leaflet-control"),T.indexOf("bottom")!==-1?V.insertBefore(x,V.firstChild):V.appendChild(x),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(bi(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(p){this._map&&p&&p.screenX>0&&p.screenY>0&&this._map.getContainer().focus()}}),Ns=function(p){return new Zr(p)};zn.include({addControl:function(p){return p.addTo(this),this},removeControl:function(p){return p.remove(),this},_initControlPos:function(){var p=this._controlCorners={},x="leaflet-",T=this._controlContainer=Gn("div",x+"control-container",this._container);function V(G,re){var Ae=x+G+" "+x+re;p[G+re]=Gn("div",Ae,T)}V("top","left"),V("top","right"),V("bottom","left"),V("bottom","right")},_clearControlPos:function(){for(var p in this._controlCorners)bi(this._controlCorners[p]);bi(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var xu=Zr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(p,x,T,V){return T<V?-1:V<T?1:0}},initialize:function(p,x,T){H(this,T),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var V in p)this._addLayer(p[V],V);for(V in x)this._addLayer(x[V],V,!0)},onAdd:function(p){this._initLayout(),this._update(),this._map=p,p.on("zoomend",this._checkDisabledLayers,this);for(var x=0;x<this._layers.length;x++)this._layers[x].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(p){return Zr.prototype.addTo.call(this,p),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(p,x){return this._addLayer(p,x),this._map?this._update():this},addOverlay:function(p,x){return this._addLayer(p,x,!0),this._map?this._update():this},removeLayer:function(p){p.off("add remove",this._onLayerChange,this);var x=this._getLayer(v(p));return x&&this._layers.splice(this._layers.indexOf(x),1),this._map?this._update():this},expand:function(){Sn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var p=this._map.getSize().y-(this._container.offsetTop+50);return p<this._section.clientHeight?(Sn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=p+"px"):Kn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Kn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var p="leaflet-control-layers",x=this._container=Gn("div",p),T=this.options.collapsed;x.setAttribute("aria-haspopup",!0),Do(x),Gs(x);var V=this._section=Gn("section",p+"-list");T&&(this._map.on("click",this.collapse,this),Zt(x,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var G=this._layersLink=Gn("a",p+"-toggle",x);G.href="#",G.title="Layers",G.setAttribute("role","button"),Zt(G,{keydown:function(re){re.keyCode===13&&this._expandSafely()},click:function(re){Mn(re),this._expandSafely()}},this),T||this.expand(),this._baseLayersList=Gn("div",p+"-base",V),this._separator=Gn("div",p+"-separator",V),this._overlaysList=Gn("div",p+"-overlays",V),x.appendChild(V)},_getLayer:function(p){for(var x=0;x<this._layers.length;x++)if(this._layers[x]&&v(this._layers[x].layer)===p)return this._layers[x]},_addLayer:function(p,x,T){this._map&&p.on("add remove",this._onLayerChange,this),this._layers.push({layer:p,name:x,overlay:T}),this.options.sortLayers&&this._layers.sort(_(function(V,G){return this.options.sortFunction(V.layer,G.layer,V.name,G.name)},this)),this.options.autoZIndex&&p.setZIndex&&(this._lastZIndex++,p.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;_r(this._baseLayersList),_r(this._overlaysList),this._layerControlInputs=[];var p,x,T,V,G=0;for(T=0;T<this._layers.length;T++)V=this._layers[T],this._addItem(V),x=x||V.overlay,p=p||!V.overlay,G+=V.overlay?0:1;return this.options.hideSingleBase&&(p=p&&G>1,this._baseLayersList.style.display=p?"":"none"),this._separator.style.display=x&&p?"":"none",this},_onLayerChange:function(p){this._handlingClick||this._update();var x=this._getLayer(v(p.target)),T=x.overlay?p.type==="add"?"overlayadd":"overlayremove":p.type==="add"?"baselayerchange":null;T&&this._map.fire(T,x)},_createRadioElement:function(p,x){var T='<input type="radio" class="leaflet-control-layers-selector" name="'+p+'"'+(x?' checked="checked"':"")+"/>",V=document.createElement("div");return V.innerHTML=T,V.firstChild},_addItem:function(p){var x=document.createElement("label"),T=this._map.hasLayer(p.layer),V;p.overlay?(V=document.createElement("input"),V.type="checkbox",V.className="leaflet-control-layers-selector",V.defaultChecked=T):V=this._createRadioElement("leaflet-base-layers_"+v(this),T),this._layerControlInputs.push(V),V.layerId=v(p.layer),Zt(V,"click",this._onInputClick,this);var G=document.createElement("span");G.innerHTML=" "+p.name;var re=document.createElement("span");x.appendChild(re),re.appendChild(V),re.appendChild(G);var Ae=p.overlay?this._overlaysList:this._baseLayersList;return Ae.appendChild(x),this._checkDisabledLayers(),x},_onInputClick:function(){if(!this._preventClick){var p=this._layerControlInputs,x,T,V=[],G=[];this._handlingClick=!0;for(var re=p.length-1;re>=0;re--)x=p[re],T=this._getLayer(x.layerId).layer,x.checked?V.push(T):x.checked||G.push(T);for(re=0;re<G.length;re++)this._map.hasLayer(G[re])&&this._map.removeLayer(G[re]);for(re=0;re<V.length;re++)this._map.hasLayer(V[re])||this._map.addLayer(V[re]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var p=this._layerControlInputs,x,T,V=this._map.getZoom(),G=p.length-1;G>=0;G--)x=p[G],T=this._getLayer(x.layerId).layer,x.disabled=T.options.minZoom!==void 0&&V<T.options.minZoom||T.options.maxZoom!==void 0&&V>T.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var p=this._section;this._preventClick=!0,Zt(p,"click",Mn),this.expand();var x=this;setTimeout(function(){ei(p,"click",Mn),x._preventClick=!1})}}),Cu=function(p,x,T){return new xu(p,x,T)},Cc=Zr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(p){var x="leaflet-control-zoom",T=Gn("div",x+" leaflet-bar"),V=this.options;return this._zoomInButton=this._createButton(V.zoomInText,V.zoomInTitle,x+"-in",T,this._zoomIn),this._zoomOutButton=this._createButton(V.zoomOutText,V.zoomOutTitle,x+"-out",T,this._zoomOut),this._updateDisabled(),p.on("zoomend zoomlevelschange",this._updateDisabled,this),T},onRemove:function(p){p.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(p){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(p.shiftKey?3:1))},_zoomOut:function(p){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(p.shiftKey?3:1))},_createButton:function(p,x,T,V,G){var re=Gn("a",T,V);return re.innerHTML=p,re.href="#",re.title=x,re.setAttribute("role","button"),re.setAttribute("aria-label",x),Do(re),Zt(re,"click",Cs),Zt(re,"click",G,this),Zt(re,"click",this._refocusOnMap,this),re},_updateDisabled:function(){var p=this._map,x="leaflet-disabled";Kn(this._zoomInButton,x),Kn(this._zoomOutButton,x),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||p._zoom===p.getMinZoom())&&(Sn(this._zoomOutButton,x),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||p._zoom===p.getMaxZoom())&&(Sn(this._zoomInButton,x),this._zoomInButton.setAttribute("aria-disabled","true"))}});zn.mergeOptions({zoomControl:!0}),zn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Cc,this.addControl(this.zoomControl))});var Va=function(p){return new Cc(p)},Ha=Zr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(p){var x="leaflet-control-scale",T=Gn("div",x),V=this.options;return this._addScales(V,x+"-line",T),p.on(V.updateWhenIdle?"moveend":"move",this._update,this),p.whenReady(this._update,this),T},onRemove:function(p){p.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(p,x,T){p.metric&&(this._mScale=Gn("div",x,T)),p.imperial&&(this._iScale=Gn("div",x,T))},_update:function(){var p=this._map,x=p.getSize().y/2,T=p.distance(p.containerPointToLatLng([0,x]),p.containerPointToLatLng([this.options.maxWidth,x]));this._updateScales(T)},_updateScales:function(p){this.options.metric&&p&&this._updateMetric(p),this.options.imperial&&p&&this._updateImperial(p)},_updateMetric:function(p){var x=this._getRoundNum(p),T=x<1e3?x+" m":x/1e3+" km";this._updateScale(this._mScale,T,x/p)},_updateImperial:function(p){var x=p*3.2808399,T,V,G;x>5280?(T=x/5280,V=this._getRoundNum(T),this._updateScale(this._iScale,V+" mi",V/T)):(G=this._getRoundNum(x),this._updateScale(this._iScale,G+" ft",G/x))},_updateScale:function(p,x,T){p.style.width=Math.round(this.options.maxWidth*T)+"px",p.innerHTML=x},_getRoundNum:function(p){var x=Math.pow(10,(Math.floor(p)+"").length-1),T=p/x;return T=T>=10?10:T>=5?5:T>=3?3:T>=2?2:1,x*T}}),Au=function(p){return new Ha(p)},yd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ac=Zr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ve.inlineSvg?yd+" ":"")+"Leaflet</a>"},initialize:function(p){H(this,p),this._attributions={}},onAdd:function(p){p.attributionControl=this,this._container=Gn("div","leaflet-control-attribution"),Do(this._container);for(var x in p._layers)p._layers[x].getAttribution&&this.addAttribution(p._layers[x].getAttribution());return this._update(),p.on("layeradd",this._addAttribution,this),this._container},onRemove:function(p){p.off("layeradd",this._addAttribution,this)},_addAttribution:function(p){p.layer.getAttribution&&(this.addAttribution(p.layer.getAttribution()),p.layer.once("remove",function(){this.removeAttribution(p.layer.getAttribution())},this))},setPrefix:function(p){return this.options.prefix=p,this._update(),this},addAttribution:function(p){return p?(this._attributions[p]||(this._attributions[p]=0),this._attributions[p]++,this._update(),this):this},removeAttribution:function(p){return p?(this._attributions[p]&&(this._attributions[p]--,this._update()),this):this},_update:function(){if(this._map){var p=[];for(var x in this._attributions)this._attributions[x]&&p.push(x);var T=[];this.options.prefix&&T.push(this.options.prefix),p.length&&T.push(p.join(", ")),this._container.innerHTML=T.join(' <span aria-hidden="true">|</span> ')}}});zn.mergeOptions({attributionControl:!0}),zn.addInitHook(function(){this.options.attributionControl&&new Ac().addTo(this)});var yh=function(p){return new Ac(p)};Zr.Layers=xu,Zr.Zoom=Cc,Zr.Scale=Ha,Zr.Attribution=Ac,Ns.layers=Cu,Ns.zoom=Va,Ns.scale=Au,Ns.attribution=yh;var Rr=ye.extend({initialize:function(p){this._map=p},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Rr.addTo=function(p,x){return p.addHandler(x,this),this};var Nu={Events:le},Nc=ve.touch?"touchstart mousedown":"mousedown",Ks=_e.extend({options:{clickTolerance:3},initialize:function(p,x,T,V){H(this,V),this._element=p,this._dragStartTarget=x||p,this._preventOutline=T},enable:function(){this._enabled||(Zt(this._dragStartTarget,Nc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ks._dragging===this&&this.finishDrag(!0),ei(this._dragStartTarget,Nc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(p){if(this._enabled&&(this._moved=!1,!Kr(this._element,"leaflet-zoom-anim"))){if(p.touches&&p.touches.length!==1){Ks._dragging===this&&this.finishDrag();return}if(!(Ks._dragging||p.shiftKey||p.which!==1&&p.button!==1&&!p.touches)&&(Ks._dragging=this,this._preventOutline&&Tn(this._element),Ys(),Er(),!this._moving)){this.fire("down");var x=p.touches?p.touches[0]:p,T=zi(this._element);this._startPoint=new me(x.clientX,x.clientY),this._startPos=Pr(this._element),this._parentScale=_i(T);var V=p.type==="mousedown";Zt(document,V?"mousemove":"touchmove",this._onMove,this),Zt(document,V?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(p){if(this._enabled){if(p.touches&&p.touches.length>1){this._moved=!0;return}var x=p.touches&&p.touches.length===1?p.touches[0]:p,T=new me(x.clientX,x.clientY)._subtract(this._startPoint);!T.x&&!T.y||Math.abs(T.x)+Math.abs(T.y)<this.options.clickTolerance||(T.x/=this._parentScale.x,T.y/=this._parentScale.y,Mn(p),this._moved||(this.fire("dragstart"),this._moved=!0,Sn(document.body,"leaflet-dragging"),this._lastTarget=p.target||p.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Sn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(T),this._moving=!0,this._lastEvent=p,this._updatePosition())}},_updatePosition:function(){var p={originalEvent:this._lastEvent};this.fire("predrag",p),$n(this._element,this._newPos),this.fire("drag",p)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(p){Kn(document.body,"leaflet-dragging"),this._lastTarget&&(Kn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ei(document,"mousemove touchmove",this._onMove,this),ei(document,"mouseup touchend touchcancel",this._onUp,this),xe(),hs();var x=this._moved&&this._moving;this._moving=!1,Ks._dragging=!1,x&&this.fire("dragend",{noInertia:p,distance:this._newPos.distanceTo(this._startPos)})}});function xd(p,x,T){var V,G=[1,4,2,8],re,Ae,We,Fe,Nt,zt,Gt,rn;for(re=0,zt=p.length;re<zt;re++)p[re]._code=ea(p[re],x);for(We=0;We<4;We++){for(Gt=G[We],V=[],re=0,zt=p.length,Ae=zt-1;re<zt;Ae=re++)Fe=p[re],Nt=p[Ae],Fe._code&Gt?Nt._code&Gt||(rn=Ec(Nt,Fe,Gt,x,T),rn._code=ea(rn,x),V.push(rn)):(Nt._code&Gt&&(rn=Ec(Nt,Fe,Gt,x,T),rn._code=ea(rn,x),V.push(rn)),V.push(Fe));p=V}return p}function Ul(p,x){var T,V,G,re,Ae,We,Fe,Nt,zt;if(!p||p.length===0)throw new Error("latlngs not passed");$i(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var Gt=te([0,0]),rn=Ve(p),kn=rn.getNorthWest().distanceTo(rn.getSouthWest())*rn.getNorthEast().distanceTo(rn.getNorthWest());kn<1700&&(Gt=ul(p));var gn=p.length,vi=[];for(T=0;T<gn;T++){var ur=te(p[T]);vi.push(x.project(te([ur.lat-Gt.lat,ur.lng-Gt.lng])))}for(We=Fe=Nt=0,T=0,V=gn-1;T<gn;V=T++)G=vi[T],re=vi[V],Ae=G.y*re.x-re.y*G.x,Fe+=(G.x+re.x)*Ae,Nt+=(G.y+re.y)*Ae,We+=Ae*3;We===0?zt=vi[0]:zt=[Fe/We,Nt/We];var Ts=x.unproject(Z(zt));return te([Ts.lat+Gt.lat,Ts.lng+Gt.lng])}function ul(p){for(var x=0,T=0,V=0,G=0;G<p.length;G++){var re=te(p[G]);x+=re.lat,T+=re.lng,V++}return te([x/V,T/V])}var Cd={__proto__:null,clipPolygon:xd,polygonCenter:Ul,centroid:ul};function Ad(p,x){if(!x||!p.length)return p.slice();var T=x*x;return p=xh(p,T),p=Eu(p,T),p}function Mo(p,x,T){return Math.sqrt(Ua(p,x,T,!0))}function Nd(p,x,T){return Ua(p,x,T)}function Eu(p,x){var T=p.length,V=typeof Uint8Array<"u"?Uint8Array:Array,G=new V(T);G[0]=G[T-1]=1,hl(p,G,x,0,T-1);var re,Ae=[];for(re=0;re<T;re++)G[re]&&Ae.push(p[re]);return Ae}function hl(p,x,T,V,G){var re=0,Ae,We,Fe;for(We=V+1;We<=G-1;We++)Fe=Ua(p[We],p[V],p[G],!0),Fe>re&&(Ae=We,re=Fe);re>T&&(x[Ae]=1,hl(p,x,T,V,Ae),hl(p,x,T,Ae,G))}function xh(p,x){for(var T=[p[0]],V=1,G=0,re=p.length;V<re;V++)Sc(p[V],p[G])>x&&(T.push(p[V]),G=V);return G<re-1&&T.push(p[re-1]),T}var Ed;function Sd(p,x,T,V,G){var re=V?Ed:ea(p,T),Ae=ea(x,T),We,Fe,Nt;for(Ed=Ae;;){if(!(re|Ae))return[p,x];if(re&Ae)return!1;We=re||Ae,Fe=Ec(p,x,We,T,G),Nt=ea(Fe,T),We===re?(p=Fe,re=Nt):(x=Fe,Ae=Nt)}}function Ec(p,x,T,V,G){var re=x.x-p.x,Ae=x.y-p.y,We=V.min,Fe=V.max,Nt,zt;return T&8?(Nt=p.x+re*(Fe.y-p.y)/Ae,zt=Fe.y):T&4?(Nt=p.x+re*(We.y-p.y)/Ae,zt=We.y):T&2?(Nt=Fe.x,zt=p.y+Ae*(Fe.x-p.x)/re):T&1&&(Nt=We.x,zt=p.y+Ae*(We.x-p.x)/re),new me(Nt,zt,G)}function ea(p,x){var T=0;return p.x<x.min.x?T|=1:p.x>x.max.x&&(T|=2),p.y<x.min.y?T|=4:p.y>x.max.y&&(T|=8),T}function Sc(p,x){var T=x.x-p.x,V=x.y-p.y;return T*T+V*V}function Ua(p,x,T,V){var G=x.x,re=x.y,Ae=T.x-G,We=T.y-re,Fe=Ae*Ae+We*We,Nt;return Fe>0&&(Nt=((p.x-G)*Ae+(p.y-re)*We)/Fe,Nt>1?(G=T.x,re=T.y):Nt>0&&(G+=Ae*Nt,re+=We*Nt)),Ae=p.x-G,We=p.y-re,V?Ae*Ae+We*We:new me(G,re)}function $i(p){return!ee(p[0])||typeof p[0][0]!="object"&&typeof p[0][0]<"u"}function Io(p){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),$i(p)}function $l(p,x){var T,V,G,re,Ae,We,Fe,Nt;if(!p||p.length===0)throw new Error("latlngs not passed");$i(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var zt=te([0,0]),Gt=Ve(p),rn=Gt.getNorthWest().distanceTo(Gt.getSouthWest())*Gt.getNorthEast().distanceTo(Gt.getNorthWest());rn<1700&&(zt=ul(p));var kn=p.length,gn=[];for(T=0;T<kn;T++){var vi=te(p[T]);gn.push(x.project(te([vi.lat-zt.lat,vi.lng-zt.lng])))}for(T=0,V=0;T<kn-1;T++)V+=gn[T].distanceTo(gn[T+1])/2;if(V===0)Nt=gn[0];else for(T=0,re=0;T<kn-1;T++)if(Ae=gn[T],We=gn[T+1],G=Ae.distanceTo(We),re+=G,re>V){Fe=(re-V)/G,Nt=[We.x-Fe*(We.x-Ae.x),We.y-Fe*(We.y-Ae.y)];break}var ur=x.unproject(Z(Nt));return te([ur.lat+zt.lat,ur.lng+zt.lng])}var $a={__proto__:null,simplify:Ad,pointToSegmentDistance:Mo,closestPointOnSegment:Nd,clipSegment:Sd,_getEdgeIntersection:Ec,_getBitCode:ea,_sqClosestPointOnSegment:Ua,isFlat:$i,_flat:Io,polylineCenter:$l},ql={project:function(p){return new me(p.lng,p.lat)},unproject:function(p){return new nt(p.y,p.x)},bounds:new fe([-180,-90],[180,90])},Wl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new fe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(p){var x=Math.PI/180,T=this.R,V=p.lat*x,G=this.R_MINOR/T,re=Math.sqrt(1-G*G),Ae=re*Math.sin(V),We=Math.tan(Math.PI/4-V/2)/Math.pow((1-Ae)/(1+Ae),re/2);return V=-T*Math.log(Math.max(We,1e-10)),new me(p.lng*x*T,V)},unproject:function(p){for(var x=180/Math.PI,T=this.R,V=this.R_MINOR/T,G=Math.sqrt(1-V*V),re=Math.exp(-p.y/T),Ae=Math.PI/2-2*Math.atan(re),We=0,Fe=.1,Nt;We<15&&Math.abs(Fe)>1e-7;We++)Nt=G*Math.sin(Ae),Nt=Math.pow((1-Nt)/(1+Nt),G/2),Fe=Math.PI/2-2*Math.atan(re*Nt)-Ae,Ae+=Fe;return new nt(Ae*x,p.x*x/T)}},jd={__proto__:null,LonLat:ql,Mercator:Wl,SphericalMercator:Ie},qa=h({},qe,{code:"EPSG:3395",projection:Wl,transformation:function(){var p=.5/(Math.PI*Wl.R);return Ye(p,.5,-p,.5)}()}),Dd=h({},qe,{code:"EPSG:4326",projection:ql,transformation:Ye(1/180,1,-1/180,.5)}),Ch=h({},Ce,{projection:ql,transformation:Ye(1,0,-1,0),scale:function(p){return Math.pow(2,p)},zoom:function(p){return Math.log(p)/Math.LN2},distance:function(p,x){var T=x.lng-p.lng,V=x.lat-p.lat;return Math.sqrt(T*T+V*V)},infinite:!0});Ce.Earth=qe,Ce.EPSG3395=qa,Ce.EPSG3857=Te,Ce.EPSG900913=ht,Ce.EPSG4326=Dd,Ce.Simple=Ch;var po=_e.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(p){return p.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(p){return p&&p.removeLayer(this),this},getPane:function(p){return this._map.getPane(p?this.options[p]||p:this.options.pane)},addInteractiveTarget:function(p){return this._map._targets[v(p)]=this,this},removeInteractiveTarget:function(p){return delete this._map._targets[v(p)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(p){var x=p.target;if(x.hasLayer(this)){if(this._map=x,this._zoomAnimated=x._zoomAnimated,this.getEvents){var T=this.getEvents();x.on(T,this),this.once("remove",function(){x.off(T,this)},this)}this.onAdd(x),this.fire("add"),x.fire("layeradd",{layer:this})}}});zn.include({addLayer:function(p){if(!p._layerAdd)throw new Error("The provided object is not a Layer.");var x=v(p);return this._layers[x]?this:(this._layers[x]=p,p._mapToAdd=this,p.beforeAdd&&p.beforeAdd(this),this.whenReady(p._layerAdd,p),this)},removeLayer:function(p){var x=v(p);return this._layers[x]?(this._loaded&&p.onRemove(this),delete this._layers[x],this._loaded&&(this.fire("layerremove",{layer:p}),p.fire("remove")),p._map=p._mapToAdd=null,this):this},hasLayer:function(p){return v(p)in this._layers},eachLayer:function(p,x){for(var T in this._layers)p.call(x,this._layers[T]);return this},_addLayers:function(p){p=p?ee(p)?p:[p]:[];for(var x=0,T=p.length;x<T;x++)this.addLayer(p[x])},_addZoomLimit:function(p){(!isNaN(p.options.maxZoom)||!isNaN(p.options.minZoom))&&(this._zoomBoundLayers[v(p)]=p,this._updateZoomLevels())},_removeZoomLimit:function(p){var x=v(p);this._zoomBoundLayers[x]&&(delete this._zoomBoundLayers[x],this._updateZoomLevels())},_updateZoomLevels:function(){var p=1/0,x=-1/0,T=this._getZoomSpan();for(var V in this._zoomBoundLayers){var G=this._zoomBoundLayers[V].options;p=G.minZoom===void 0?p:Math.min(p,G.minZoom),x=G.maxZoom===void 0?x:Math.max(x,G.maxZoom)}this._layersMaxZoom=x===-1/0?void 0:x,this._layersMinZoom=p===1/0?void 0:p,T!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Wa=po.extend({initialize:function(p,x){H(this,x),this._layers={};var T,V;if(p)for(T=0,V=p.length;T<V;T++)this.addLayer(p[T])},addLayer:function(p){var x=this.getLayerId(p);return this._layers[x]=p,this._map&&this._map.addLayer(p),this},removeLayer:function(p){var x=p in this._layers?p:this.getLayerId(p);return this._map&&this._layers[x]&&this._map.removeLayer(this._layers[x]),delete this._layers[x],this},hasLayer:function(p){var x=typeof p=="number"?p:this.getLayerId(p);return x in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(p){var x=Array.prototype.slice.call(arguments,1),T,V;for(T in this._layers)V=this._layers[T],V[p]&&V[p].apply(V,x);return this},onAdd:function(p){this.eachLayer(p.addLayer,p)},onRemove:function(p){this.eachLayer(p.removeLayer,p)},eachLayer:function(p,x){for(var T in this._layers)p.call(x,this._layers[T]);return this},getLayer:function(p){return this._layers[p]},getLayers:function(){var p=[];return this.eachLayer(p.push,p),p},setZIndex:function(p){return this.invoke("setZIndex",p)},getLayerId:function(p){return v(p)}}),Qs=function(p,x){return new Wa(p,x)},ps=Wa.extend({addLayer:function(p){return this.hasLayer(p)?this:(p.addEventParent(this),Wa.prototype.addLayer.call(this,p),this.fire("layeradd",{layer:p}))},removeLayer:function(p){return this.hasLayer(p)?(p in this._layers&&(p=this._layers[p]),p.removeEventParent(this),Wa.prototype.removeLayer.call(this,p),this.fire("layerremove",{layer:p})):this},setStyle:function(p){return this.invoke("setStyle",p)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var p=new Be;for(var x in this._layers){var T=this._layers[x];p.extend(T.getBounds?T.getBounds():T.getLatLng())}return p}}),Zs=function(p,x){return new ps(p,x)},go=ye.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(p){H(this,p)},createIcon:function(p){return this._createIcon("icon",p)},createShadow:function(p){return this._createIcon("shadow",p)},_createIcon:function(p,x){var T=this._getIconUrl(p);if(!T){if(p==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var V=this._createImg(T,x&&x.tagName==="IMG"?x:null);return this._setIconStyles(V,p),(this.options.crossOrigin||this.options.crossOrigin==="")&&(V.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),V},_setIconStyles:function(p,x){var T=this.options,V=T[x+"Size"];typeof V=="number"&&(V=[V,V]);var G=Z(V),re=Z(x==="shadow"&&T.shadowAnchor||T.iconAnchor||G&&G.divideBy(2,!0));p.className="leaflet-marker-"+x+" "+(T.className||""),re&&(p.style.marginLeft=-re.x+"px",p.style.marginTop=-re.y+"px"),G&&(p.style.width=G.x+"px",p.style.height=G.y+"px")},_createImg:function(p,x){return x=x||document.createElement("img"),x.src=p,x},_getIconUrl:function(p){return ve.retina&&this.options[p+"RetinaUrl"]||this.options[p+"Url"]}});function jc(p){return new go(p)}var ml=go.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(p){return typeof ml.imagePath!="string"&&(ml.imagePath=this._detectIconPath()),(this.options.imagePath||ml.imagePath)+go.prototype._getIconUrl.call(this,p)},_stripUrl:function(p){var x=function(T,V,G){var re=V.exec(T);return re&&re[G]};return p=x(p,/^url\((['"])?(.+)\1\)$/,2),p&&x(p,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var p=Gn("div","leaflet-default-icon-path",document.body),x=ho(p,"background-image")||ho(p,"backgroundImage");if(document.body.removeChild(p),x=this._stripUrl(x),x)return x;var T=document.querySelector('link[href$="leaflet.css"]');return T?T.href.substring(0,T.href.length-11-1):""}}),Ya=Rr.extend({initialize:function(p){this._marker=p},addHooks:function(){var p=this._marker._icon;this._draggable||(this._draggable=new Ks(p,p,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Sn(p,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Kn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(p){var x=this._marker,T=x._map,V=this._marker.options.autoPanSpeed,G=this._marker.options.autoPanPadding,re=Pr(x._icon),Ae=T.getPixelBounds(),We=T.getPixelOrigin(),Fe=ke(Ae.min._subtract(We).add(G),Ae.max._subtract(We).subtract(G));if(!Fe.contains(re)){var Nt=Z((Math.max(Fe.max.x,re.x)-Fe.max.x)/(Ae.max.x-Fe.max.x)-(Math.min(Fe.min.x,re.x)-Fe.min.x)/(Ae.min.x-Fe.min.x),(Math.max(Fe.max.y,re.y)-Fe.max.y)/(Ae.max.y-Fe.max.y)-(Math.min(Fe.min.y,re.y)-Fe.min.y)/(Ae.min.y-Fe.min.y)).multiplyBy(V);T.panBy(Nt,{animate:!1}),this._draggable._newPos._add(Nt),this._draggable._startPos._add(Nt),$n(x._icon,this._draggable._newPos),this._onDrag(p),this._panRequest=pe(this._adjustPan.bind(this,p))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(p){this._marker.options.autoPan&&(we(this._panRequest),this._panRequest=pe(this._adjustPan.bind(this,p)))},_onDrag:function(p){var x=this._marker,T=x._shadow,V=Pr(x._icon),G=x._map.layerPointToLatLng(V);T&&$n(T,V),x._latlng=G,p.latlng=G,p.oldLatLng=this._oldLatLng,x.fire("move",p).fire("drag",p)},_onDragEnd:function(p){we(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",p)}}),bo=po.extend({options:{icon:new ml,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(p,x){H(this,x),this._latlng=te(p)},onAdd:function(p){this._zoomAnimated=this._zoomAnimated&&p.options.markerZoomAnimation,this._zoomAnimated&&p.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(p){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&p.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(p){var x=this._latlng;return this._latlng=te(p),this.update(),this.fire("move",{oldLatLng:x,latlng:this._latlng})},setZIndexOffset:function(p){return this.options.zIndexOffset=p,this.update()},getIcon:function(){return this.options.icon},setIcon:function(p){return this.options.icon=p,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var p=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(p)}return this},_initIcon:function(){var p=this.options,x="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),T=p.icon.createIcon(this._icon),V=!1;T!==this._icon&&(this._icon&&this._removeIcon(),V=!0,p.title&&(T.title=p.title),T.tagName==="IMG"&&(T.alt=p.alt||"")),Sn(T,x),p.keyboard&&(T.tabIndex="0",T.setAttribute("role","button")),this._icon=T,p.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Zt(T,"focus",this._panOnFocus,this);var G=p.icon.createShadow(this._shadow),re=!1;G!==this._shadow&&(this._removeShadow(),re=!0),G&&(Sn(G,x),G.alt=""),this._shadow=G,p.opacity<1&&this._updateOpacity(),V&&this.getPane().appendChild(this._icon),this._initInteraction(),G&&re&&this.getPane(p.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ei(this._icon,"focus",this._panOnFocus,this),bi(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&bi(this._shadow),this._shadow=null},_setPos:function(p){this._icon&&$n(this._icon,p),this._shadow&&$n(this._shadow,p),this._zIndex=p.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(p){this._icon&&(this._icon.style.zIndex=this._zIndex+p)},_animateZoom:function(p){var x=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center).round();this._setPos(x)},_initInteraction:function(){if(this.options.interactive&&(Sn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ya)){var p=this.options.draggable;this.dragging&&(p=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ya(this),p&&this.dragging.enable()}},setOpacity:function(p){return this.options.opacity=p,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var p=this.options.opacity;this._icon&&Ai(this._icon,p),this._shadow&&Ai(this._shadow,p)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var p=this._map;if(p){var x=this.options.icon.options,T=x.iconSize?Z(x.iconSize):Z(0,0),V=x.iconAnchor?Z(x.iconAnchor):Z(0,0);p.panInside(this._latlng,{paddingTopLeft:V,paddingBottomRight:T.subtract(V)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Td(p,x){return new bo(p,x)}var ta=po.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(p){this._renderer=p.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(p){return H(this,p),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&p&&Object.prototype.hasOwnProperty.call(p,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),fl=ta.extend({options:{fill:!0,radius:10},initialize:function(p,x){H(this,x),this._latlng=te(p),this._radius=this.options.radius},setLatLng:function(p){var x=this._latlng;return this._latlng=te(p),this.redraw(),this.fire("move",{oldLatLng:x,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(p){return this.options.radius=this._radius=p,this.redraw()},getRadius:function(){return this._radius},setStyle:function(p){var x=p&&p.radius||this._radius;return ta.prototype.setStyle.call(this,p),this.setRadius(x),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var p=this._radius,x=this._radiusY||p,T=this._clickTolerance(),V=[p+T,x+T];this._pxBounds=new fe(this._point.subtract(V),this._point.add(V))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(p){return p.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Md(p,x){return new fl(p,x)}var Dc=fl.extend({initialize:function(p,x,T){if(typeof x=="number"&&(x=h({},T,{radius:x})),H(this,x),this._latlng=te(p),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(p){return this._mRadius=p,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var p=[this._radius,this._radiusY||this._radius];return new Be(this._map.layerPointToLatLng(this._point.subtract(p)),this._map.layerPointToLatLng(this._point.add(p)))},setStyle:ta.prototype.setStyle,_project:function(){var p=this._latlng.lng,x=this._latlng.lat,T=this._map,V=T.options.crs;if(V.distance===qe.distance){var G=Math.PI/180,re=this._mRadius/qe.R/G,Ae=T.project([x+re,p]),We=T.project([x-re,p]),Fe=Ae.add(We).divideBy(2),Nt=T.unproject(Fe).lat,zt=Math.acos((Math.cos(re*G)-Math.sin(x*G)*Math.sin(Nt*G))/(Math.cos(x*G)*Math.cos(Nt*G)))/G;(isNaN(zt)||zt===0)&&(zt=re/Math.cos(Math.PI/180*x)),this._point=Fe.subtract(T.getPixelOrigin()),this._radius=isNaN(zt)?0:Fe.x-T.project([Nt,p-zt]).x,this._radiusY=Fe.y-Ae.y}else{var Gt=V.unproject(V.project(this._latlng).subtract([this._mRadius,0]));this._point=T.latLngToLayerPoint(this._latlng),this._radius=this._point.x-T.latLngToLayerPoint(Gt).x}this._updateBounds()}});function Su(p,x,T){return new Dc(p,x,T)}var ko=ta.extend({options:{smoothFactor:1,noClip:!1},initialize:function(p,x){H(this,x),this._setLatLngs(p)},getLatLngs:function(){return this._latlngs},setLatLngs:function(p){return this._setLatLngs(p),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(p){for(var x=1/0,T=null,V=Ua,G,re,Ae=0,We=this._parts.length;Ae<We;Ae++)for(var Fe=this._parts[Ae],Nt=1,zt=Fe.length;Nt<zt;Nt++){G=Fe[Nt-1],re=Fe[Nt];var Gt=V(p,G,re,!0);Gt<x&&(x=Gt,T=V(p,G,re))}return T&&(T.distance=Math.sqrt(x)),T},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $l(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(p,x){return x=x||this._defaultShape(),p=te(p),x.push(p),this._bounds.extend(p),this.redraw()},_setLatLngs:function(p){this._bounds=new Be,this._latlngs=this._convertLatLngs(p)},_defaultShape:function(){return $i(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(p){for(var x=[],T=$i(p),V=0,G=p.length;V<G;V++)T?(x[V]=te(p[V]),this._bounds.extend(x[V])):x[V]=this._convertLatLngs(p[V]);return x},_project:function(){var p=new fe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,p),this._bounds.isValid()&&p.isValid()&&(this._rawPxBounds=p,this._updateBounds())},_updateBounds:function(){var p=this._clickTolerance(),x=new me(p,p);this._rawPxBounds&&(this._pxBounds=new fe([this._rawPxBounds.min.subtract(x),this._rawPxBounds.max.add(x)]))},_projectLatlngs:function(p,x,T){var V=p[0]instanceof nt,G=p.length,re,Ae;if(V){for(Ae=[],re=0;re<G;re++)Ae[re]=this._map.latLngToLayerPoint(p[re]),T.extend(Ae[re]);x.push(Ae)}else for(re=0;re<G;re++)this._projectLatlngs(p[re],x,T)},_clipPoints:function(){var p=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}var x=this._parts,T,V,G,re,Ae,We,Fe;for(T=0,G=0,re=this._rings.length;T<re;T++)for(Fe=this._rings[T],V=0,Ae=Fe.length;V<Ae-1;V++)We=Sd(Fe[V],Fe[V+1],p,V,!0),We&&(x[G]=x[G]||[],x[G].push(We[0]),(We[1]!==Fe[V+1]||V===Ae-2)&&(x[G].push(We[1]),G++))}},_simplifyPoints:function(){for(var p=this._parts,x=this.options.smoothFactor,T=0,V=p.length;T<V;T++)p[T]=Ad(p[T],x)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(p,x){var T,V,G,re,Ae,We,Fe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(T=0,re=this._parts.length;T<re;T++)for(We=this._parts[T],V=0,Ae=We.length,G=Ae-1;V<Ae;G=V++)if(!(!x&&V===0)&&Mo(p,We[G],We[V])<=Fe)return!0;return!1}});function ju(p,x){return new ko(p,x)}ko._flat=Io;var Oo=ko.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ul(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(p){var x=ko.prototype._convertLatLngs.call(this,p),T=x.length;return T>=2&&x[0]instanceof nt&&x[0].equals(x[T-1])&&x.pop(),x},_setLatLngs:function(p){ko.prototype._setLatLngs.call(this,p),$i(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return $i(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var p=this._renderer._bounds,x=this.options.weight,T=new me(x,x);if(p=new fe(p.min.subtract(T),p.max.add(T)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}for(var V=0,G=this._rings.length,re;V<G;V++)re=xd(this._rings[V],p,!0),re.length&&this._parts.push(re)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(p){var x=!1,T,V,G,re,Ae,We,Fe,Nt;if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(re=0,Fe=this._parts.length;re<Fe;re++)for(T=this._parts[re],Ae=0,Nt=T.length,We=Nt-1;Ae<Nt;We=Ae++)V=T[Ae],G=T[We],V.y>p.y!=G.y>p.y&&p.x<(G.x-V.x)*(p.y-V.y)/(G.y-V.y)+V.x&&(x=!x);return x||ko.prototype._containsPoint.call(this,p,!0)}});function gs(p,x){return new Oo(p,x)}var zr=ps.extend({initialize:function(p,x){H(this,x),this._layers={},p&&this.addData(p)},addData:function(p){var x=ee(p)?p:p.features,T,V,G;if(x){for(T=0,V=x.length;T<V;T++)G=x[T],(G.geometries||G.geometry||G.features||G.coordinates)&&this.addData(G);return this}var re=this.options;if(re.filter&&!re.filter(p))return this;var Ae=Fr(p,re);return Ae?(Ae.feature=Ka(p),Ae.defaultOptions=Ae.options,this.resetStyle(Ae),re.onEachFeature&&re.onEachFeature(p,Ae),this.addLayer(Ae)):this},resetStyle:function(p){return p===void 0?this.eachLayer(this.resetStyle,this):(p.options=h({},p.defaultOptions),this._setLayerStyle(p,this.options.style),this)},setStyle:function(p){return this.eachLayer(function(x){this._setLayerStyle(x,p)},this)},_setLayerStyle:function(p,x){p.setStyle&&(typeof x=="function"&&(x=x(p.feature)),p.setStyle(x))}});function Fr(p,x){var T=p.type==="Feature"?p.geometry:p,V=T?T.coordinates:null,G=[],re=x&&x.pointToLayer,Ae=x&&x.coordsToLatLng||Mc,We,Fe,Nt,zt;if(!V&&!T)return null;switch(T.type){case"Point":return We=Ae(V),Tc(re,p,We,x);case"MultiPoint":for(Nt=0,zt=V.length;Nt<zt;Nt++)We=Ae(V[Nt]),G.push(Tc(re,p,We,x));return new ps(G);case"LineString":case"MultiLineString":return Fe=pl(V,T.type==="LineString"?0:1,Ae),new ko(Fe,x);case"Polygon":case"MultiPolygon":return Fe=pl(V,T.type==="Polygon"?1:2,Ae),new Oo(Fe,x);case"GeometryCollection":for(Nt=0,zt=T.geometries.length;Nt<zt;Nt++){var Gt=Fr({geometry:T.geometries[Nt],type:"Feature",properties:p.properties},x);Gt&&G.push(Gt)}return new ps(G);case"FeatureCollection":for(Nt=0,zt=T.features.length;Nt<zt;Nt++){var rn=Fr(T.features[Nt],x);rn&&G.push(rn)}return new ps(G);default:throw new Error("Invalid GeoJSON object.")}}function Tc(p,x,T,V){return p?p(x,T):new bo(T,V&&V.markersInheritOptions&&V)}function Mc(p){return new nt(p[1],p[0],p[2])}function pl(p,x,T){for(var V=[],G=0,re=p.length,Ae;G<re;G++)Ae=x?pl(p[G],x-1,T):(T||Mc)(p[G]),V.push(Ae);return V}function Ga(p,x){return p=te(p),p.alt!==void 0?[j(p.lng,x),j(p.lat,x),j(p.alt,x)]:[j(p.lng,x),j(p.lat,x)]}function Ic(p,x,T,V){for(var G=[],re=0,Ae=p.length;re<Ae;re++)G.push(x?Ic(p[re],$i(p[re])?0:x-1,T,V):Ga(p[re],V));return!x&&T&&G.length>0&&G.push(G[0].slice()),G}function Xs(p,x){return p.feature?h({},p.feature,{geometry:x}):Ka(x)}function Ka(p){return p.type==="Feature"||p.type==="FeatureCollection"?p:{type:"Feature",properties:{},geometry:p}}var va={toGeoJSON:function(p){return Xs(this,{type:"Point",coordinates:Ga(this.getLatLng(),p)})}};bo.include(va),Dc.include(va),fl.include(va),ko.include({toGeoJSON:function(p){var x=!$i(this._latlngs),T=Ic(this._latlngs,x?1:0,!1,p);return Xs(this,{type:(x?"Multi":"")+"LineString",coordinates:T})}}),Oo.include({toGeoJSON:function(p){var x=!$i(this._latlngs),T=x&&!$i(this._latlngs[0]),V=Ic(this._latlngs,T?2:x?1:0,!0,p);return x||(V=[V]),Xs(this,{type:(T?"Multi":"")+"Polygon",coordinates:V})}}),Wa.include({toMultiPoint:function(p){var x=[];return this.eachLayer(function(T){x.push(T.toGeoJSON(p).geometry.coordinates)}),Xs(this,{type:"MultiPoint",coordinates:x})},toGeoJSON:function(p){var x=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(x==="MultiPoint")return this.toMultiPoint(p);var T=x==="GeometryCollection",V=[];return this.eachLayer(function(G){if(G.toGeoJSON){var re=G.toGeoJSON(p);if(T)V.push(re.geometry);else{var Ae=Ka(re);Ae.type==="FeatureCollection"?V.push.apply(V,Ae.features):V.push(Ae)}}}),T?Xs(this,{geometries:V,type:"GeometryCollection"}):{type:"FeatureCollection",features:V}}});function pi(p,x){return new zr(p,x)}var Oc=pi,Es=po.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(p,x,T){this._url=p,this._bounds=Ve(x),H(this,T)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Sn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){bi(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(p){return this.options.opacity=p,this._image&&this._updateOpacity(),this},setStyle:function(p){return p.opacity&&this.setOpacity(p.opacity),this},bringToFront:function(){return this._map&&jo(this._image),this},bringToBack:function(){return this._map&&Xo(this._image),this},setUrl:function(p){return this._url=p,this._image&&(this._image.src=p),this},setBounds:function(p){return this._bounds=Ve(p),this._map&&this._reset(),this},getEvents:function(){var p={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var p=this._url.tagName==="IMG",x=this._image=p?this._url:Gn("img");if(Sn(x,"leaflet-image-layer"),this._zoomAnimated&&Sn(x,"leaflet-zoom-animated"),this.options.className&&Sn(x,this.options.className),x.onselectstart=D,x.onmousemove=D,x.onload=_(this.fire,this,"load"),x.onerror=_(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),p){this._url=x.src;return}x.src=this._url,x.alt=this.options.alt},_animateZoom:function(p){var x=this._map.getZoomScale(p.zoom),T=this._map._latLngBoundsToNewLayerBounds(this._bounds,p.zoom,p.center).min;Hi(this._image,T,x)},_reset:function(){var p=this._image,x=new fe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),T=x.getSize();$n(p,x.min),p.style.width=T.x+"px",p.style.height=T.y+"px"},_updateOpacity:function(){Ai(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var p=this.options.errorOverlayUrl;p&&this._url!==p&&(this._url=p,this._image.src=p)},getCenter:function(){return this._bounds.getCenter()}}),Ss=function(p,x,T){return new Es(p,x,T)},Qa=Es.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var p=this._url.tagName==="VIDEO",x=this._image=p?this._url:Gn("video");if(Sn(x,"leaflet-image-layer"),this._zoomAnimated&&Sn(x,"leaflet-zoom-animated"),this.options.className&&Sn(x,this.options.className),x.onselectstart=D,x.onmousemove=D,x.onloadeddata=_(this.fire,this,"load"),p){for(var T=x.getElementsByTagName("source"),V=[],G=0;G<T.length;G++)V.push(T[G].src);this._url=T.length>0?V:[x.src];return}ee(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(x.style,"objectFit")&&(x.style.objectFit="fill"),x.autoplay=!!this.options.autoplay,x.loop=!!this.options.loop,x.muted=!!this.options.muted,x.playsInline=!!this.options.playsInline;for(var re=0;re<this._url.length;re++){var Ae=Gn("source");Ae.src=this._url[re],x.appendChild(Ae)}}});function Id(p,x,T){return new Qa(p,x,T)}var wa=Es.extend({_initImage:function(){var p=this._image=this._url;Sn(p,"leaflet-image-layer"),this._zoomAnimated&&Sn(p,"leaflet-zoom-animated"),this.options.className&&Sn(p,this.options.className),p.onselectstart=D,p.onmousemove=D}});function Xr(p,x,T){return new wa(p,x,T)}var nr=po.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(p,x){p&&(p instanceof nt||ee(p))?(this._latlng=te(p),H(this,x)):(H(this,p),this._source=x),this.options.content&&(this._content=this.options.content)},openOn:function(p){return p=arguments.length?p:this._source._map,p.hasLayer(this)||p.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(p){return this._map?this.close():(arguments.length?this._source=p:p=this._source,this._prepareOpen(),this.openOn(p._map)),this},onAdd:function(p){this._zoomAnimated=p._zoomAnimated,this._container||this._initLayout(),p._fadeAnimated&&Ai(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),p._fadeAnimated&&Ai(this._container,1),this.bringToFront(),this.options.interactive&&(Sn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(p){p._fadeAnimated?(Ai(this._container,0),this._removeTimeout=setTimeout(_(bi,void 0,this._container),200)):bi(this._container),this.options.interactive&&(Kn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(p){return this._latlng=te(p),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(p){return this._content=p,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var p={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&jo(this._container),this},bringToBack:function(){return this._map&&Xo(this._container),this},_prepareOpen:function(p){var x=this._source;if(!x._map)return!1;if(x instanceof ps){x=null;var T=this._source._layers;for(var V in T)if(T[V]._map){x=T[V];break}if(!x)return!1;this._source=x}if(!p)if(x.getCenter)p=x.getCenter();else if(x.getLatLng)p=x.getLatLng();else if(x.getBounds)p=x.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(p),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var p=this._contentNode,x=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof x=="string")p.innerHTML=x;else{for(;p.hasChildNodes();)p.removeChild(p.firstChild);p.appendChild(x)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var p=this._map.latLngToLayerPoint(this._latlng),x=Z(this.options.offset),T=this._getAnchor();this._zoomAnimated?$n(this._container,p.add(T)):x=x.add(p).add(T);var V=this._containerBottom=-x.y,G=this._containerLeft=-Math.round(this._containerWidth/2)+x.x;this._container.style.bottom=V+"px",this._container.style.left=G+"px"}},_getAnchor:function(){return[0,0]}});zn.include({_initOverlay:function(p,x,T,V){var G=x;return G instanceof p||(G=new p(V).setContent(x)),T&&G.setLatLng(T),G}}),po.include({_initOverlay:function(p,x,T,V){var G=T;return G instanceof p?(H(G,V),G._source=this):(G=x&&!V?x:new p(V,this),G.setContent(T)),G}});var Za=nr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(p){return p=arguments.length?p:this._source._map,!p.hasLayer(this)&&p._popup&&p._popup.options.autoClose&&p.removeLayer(p._popup),p._popup=this,nr.prototype.openOn.call(this,p)},onAdd:function(p){nr.prototype.onAdd.call(this,p),p.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ta||this._source.on("preclick",fo))},onRemove:function(p){nr.prototype.onRemove.call(this,p),p.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ta||this._source.off("preclick",fo))},getEvents:function(){var p=nr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(p.preclick=this.close),this.options.keepInView&&(p.moveend=this._adjustPan),p},_initLayout:function(){var p="leaflet-popup",x=this._container=Gn("div",p+" "+(this.options.className||"")+" leaflet-zoom-animated"),T=this._wrapper=Gn("div",p+"-content-wrapper",x);if(this._contentNode=Gn("div",p+"-content",T),Do(x),Gs(this._contentNode),Zt(x,"contextmenu",fo),this._tipContainer=Gn("div",p+"-tip-container",x),this._tip=Gn("div",p+"-tip",this._tipContainer),this.options.closeButton){var V=this._closeButton=Gn("a",p+"-close-button",x);V.setAttribute("role","button"),V.setAttribute("aria-label","Close popup"),V.href="#close",V.innerHTML='<span aria-hidden="true">&#215;</span>',Zt(V,"click",function(G){Mn(G),this.close()},this)}},_updateLayout:function(){var p=this._contentNode,x=p.style;x.width="",x.whiteSpace="nowrap";var T=p.offsetWidth;T=Math.min(T,this.options.maxWidth),T=Math.max(T,this.options.minWidth),x.width=T+1+"px",x.whiteSpace="",x.height="";var V=p.offsetHeight,G=this.options.maxHeight,re="leaflet-popup-scrolled";G&&V>G?(x.height=G+"px",Sn(p,re)):Kn(p,re),this._containerWidth=this._container.offsetWidth},_animateZoom:function(p){var x=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center),T=this._getAnchor();$n(this._container,x.add(T))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var p=this._map,x=parseInt(ho(this._container,"marginBottom"),10)||0,T=this._container.offsetHeight+x,V=this._containerWidth,G=new me(this._containerLeft,-T-this._containerBottom);G._add(Pr(this._container));var re=p.layerPointToContainerPoint(G),Ae=Z(this.options.autoPanPadding),We=Z(this.options.autoPanPaddingTopLeft||Ae),Fe=Z(this.options.autoPanPaddingBottomRight||Ae),Nt=p.getSize(),zt=0,Gt=0;re.x+V+Fe.x>Nt.x&&(zt=re.x+V-Nt.x+Fe.x),re.x-zt-We.x<0&&(zt=re.x-We.x),re.y+T+Fe.y>Nt.y&&(Gt=re.y+T-Nt.y+Fe.y),re.y-Gt-We.y<0&&(Gt=re.y-We.y),(zt||Gt)&&(this.options.keepInView&&(this._autopanning=!0),p.fire("autopanstart").panBy([zt,Gt]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Js=function(p,x){return new Za(p,x)};zn.mergeOptions({closePopupOnClick:!0}),zn.include({openPopup:function(p,x,T){return this._initOverlay(Za,p,x,T).openOn(this),this},closePopup:function(p){return p=arguments.length?p:this._popup,p&&p.close(),this}}),po.include({bindPopup:function(p,x){return this._popup=this._initOverlay(Za,this._popup,p,x),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(p){return this._popup&&(this instanceof ps||(this._popup._source=this),this._popup._prepareOpen(p||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(p){return this._popup&&this._popup.setContent(p),this},getPopup:function(){return this._popup},_openPopup:function(p){if(!(!this._popup||!this._map)){Cs(p);var x=p.layer||p.target;if(this._popup._source===x&&!(x instanceof ta)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(p.latlng);return}this._popup._source=x,this.openPopup(p.latlng)}},_movePopup:function(p){this._popup.setLatLng(p.latlng)},_onKeyPress:function(p){p.originalEvent.keyCode===13&&this._openPopup(p)}});var Yl=nr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(p){nr.prototype.onAdd.call(this,p),this.setOpacity(this.options.opacity),p.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(p){nr.prototype.onRemove.call(this,p),p.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var p=nr.prototype.getEvents.call(this);return this.options.permanent||(p.preclick=this.close),p},_initLayout:function(){var p="leaflet-tooltip",x=p+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Gn("div",x),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(p){var x,T,V=this._map,G=this._container,re=V.latLngToContainerPoint(V.getCenter()),Ae=V.layerPointToContainerPoint(p),We=this.options.direction,Fe=G.offsetWidth,Nt=G.offsetHeight,zt=Z(this.options.offset),Gt=this._getAnchor();We==="top"?(x=Fe/2,T=Nt):We==="bottom"?(x=Fe/2,T=0):We==="center"?(x=Fe/2,T=Nt/2):We==="right"?(x=0,T=Nt/2):We==="left"?(x=Fe,T=Nt/2):Ae.x<re.x?(We="right",x=0,T=Nt/2):(We="left",x=Fe+(zt.x+Gt.x)*2,T=Nt/2),p=p.subtract(Z(x,T,!0)).add(zt).add(Gt),Kn(G,"leaflet-tooltip-right"),Kn(G,"leaflet-tooltip-left"),Kn(G,"leaflet-tooltip-top"),Kn(G,"leaflet-tooltip-bottom"),Sn(G,"leaflet-tooltip-"+We),$n(G,p)},_updatePosition:function(){var p=this._map.latLngToLayerPoint(this._latlng);this._setPosition(p)},setOpacity:function(p){this.options.opacity=p,this._container&&Ai(this._container,p)},_animateZoom:function(p){var x=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center);this._setPosition(x)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Od=function(p,x){return new Yl(p,x)};zn.include({openTooltip:function(p,x,T){return this._initOverlay(Yl,p,x,T).openOn(this),this},closeTooltip:function(p){return p.close(),this}}),po.include({bindTooltip:function(p,x){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Yl,this._tooltip,p,x),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(p){if(!(!p&&this._tooltipHandlersAdded)){var x=p?"off":"on",T={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?T.add=this._openTooltip:(T.mouseover=this._openTooltip,T.mouseout=this.closeTooltip,T.click=this._openTooltip,this._map?this._addFocusListeners():T.add=this._addFocusListeners),this._tooltip.options.sticky&&(T.mousemove=this._moveTooltip),this[x](T),this._tooltipHandlersAdded=!p}},openTooltip:function(p){return this._tooltip&&(this instanceof ps||(this._tooltip._source=this),this._tooltip._prepareOpen(p)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(p){return this._tooltip&&this._tooltip.setContent(p),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(p){var x=typeof p.getElement=="function"&&p.getElement();x&&(Zt(x,"focus",function(){this._tooltip._source=p,this.openTooltip()},this),Zt(x,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(p){var x=typeof p.getElement=="function"&&p.getElement();x&&x.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(p){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var x=this;this._map.once("moveend",function(){x._openOnceFlag=!1,x._openTooltip(p)});return}this._tooltip._source=p.layer||p.target,this.openTooltip(this._tooltip.options.sticky?p.latlng:void 0)}},_moveTooltip:function(p){var x=p.latlng,T,V;this._tooltip.options.sticky&&p.originalEvent&&(T=this._map.mouseEventToContainerPoint(p.originalEvent),V=this._map.containerPointToLayerPoint(T),x=this._map.layerPointToLatLng(V)),this._tooltip.setLatLng(x)}});var Gl=go.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(p){var x=p&&p.tagName==="DIV"?p:document.createElement("div"),T=this.options;if(T.html instanceof Element?(_r(x),x.appendChild(T.html)):x.innerHTML=T.html!==!1?T.html:"",T.bgPos){var V=Z(T.bgPos);x.style.backgroundPosition=-V.x+"px "+-V.y+"px"}return this._setIconStyles(x,"icon"),x},createShadow:function(){return null}});function qi(p){return new Gl(p)}go.Default=ml;var Lo=po.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ve.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(p){H(this,p)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(p){p._addZoomLimit(this)},onRemove:function(p){this._removeAllTiles(),bi(this._container),p._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(jo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Xo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(p){return this.options.opacity=p,this._updateOpacity(),this},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var p=this._clampZoom(this._map.getZoom());p!==this._tileZoom&&(this._tileZoom=p,this._updateLevels()),this._update()}return this},getEvents:function(){var p={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=N(this._onMoveEnd,this.options.updateInterval,this)),p.move=this._onMove),this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},createTile:function(){return document.createElement("div")},getTileSize:function(){var p=this.options.tileSize;return p instanceof me?p:new me(p,p)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(p){for(var x=this.getPane().children,T=-p(-1/0,1/0),V=0,G=x.length,re;V<G;V++)re=x[V].style.zIndex,x[V]!==this._container&&re&&(T=p(T,+re));isFinite(T)&&(this.options.zIndex=T+p(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ve.ielt9){Ai(this._container,this.options.opacity);var p=+new Date,x=!1,T=!1;for(var V in this._tiles){var G=this._tiles[V];if(!(!G.current||!G.loaded)){var re=Math.min(1,(p-G.loaded)/200);Ai(G.el,re),re<1?x=!0:(G.active?T=!0:this._onOpaqueTile(G),G.active=!0)}}T&&!this._noPrune&&this._pruneTiles(),x&&(we(this._fadeFrame),this._fadeFrame=pe(this._updateOpacity,this))}},_onOpaqueTile:D,_initContainer:function(){this._container||(this._container=Gn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var p=this._tileZoom,x=this.options.maxZoom;if(p!==void 0){for(var T in this._levels)T=Number(T),this._levels[T].el.children.length||T===p?(this._levels[T].el.style.zIndex=x-Math.abs(p-T),this._onUpdateLevel(T)):(bi(this._levels[T].el),this._removeTilesAtZoom(T),this._onRemoveLevel(T),delete this._levels[T]);var V=this._levels[p],G=this._map;return V||(V=this._levels[p]={},V.el=Gn("div","leaflet-tile-container leaflet-zoom-animated",this._container),V.el.style.zIndex=x,V.origin=G.project(G.unproject(G.getPixelOrigin()),p).round(),V.zoom=p,this._setZoomTransform(V,G.getCenter(),G.getZoom()),D(V.el.offsetWidth),this._onCreateLevel(V)),this._level=V,V}},_onUpdateLevel:D,_onRemoveLevel:D,_onCreateLevel:D,_pruneTiles:function(){if(this._map){var p,x,T=this._map.getZoom();if(T>this.options.maxZoom||T<this.options.minZoom){this._removeAllTiles();return}for(p in this._tiles)x=this._tiles[p],x.retain=x.current;for(p in this._tiles)if(x=this._tiles[p],x.current&&!x.active){var V=x.coords;this._retainParent(V.x,V.y,V.z,V.z-5)||this._retainChildren(V.x,V.y,V.z,V.z+2)}for(p in this._tiles)this._tiles[p].retain||this._removeTile(p)}},_removeTilesAtZoom:function(p){for(var x in this._tiles)this._tiles[x].coords.z===p&&this._removeTile(x)},_removeAllTiles:function(){for(var p in this._tiles)this._removeTile(p)},_invalidateAll:function(){for(var p in this._levels)bi(this._levels[p].el),this._onRemoveLevel(Number(p)),delete this._levels[p];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(p,x,T,V){var G=Math.floor(p/2),re=Math.floor(x/2),Ae=T-1,We=new me(+G,+re);We.z=+Ae;var Fe=this._tileCoordsToKey(We),Nt=this._tiles[Fe];return Nt&&Nt.active?(Nt.retain=!0,!0):(Nt&&Nt.loaded&&(Nt.retain=!0),Ae>V?this._retainParent(G,re,Ae,V):!1)},_retainChildren:function(p,x,T,V){for(var G=2*p;G<2*p+2;G++)for(var re=2*x;re<2*x+2;re++){var Ae=new me(G,re);Ae.z=T+1;var We=this._tileCoordsToKey(Ae),Fe=this._tiles[We];if(Fe&&Fe.active){Fe.retain=!0;continue}else Fe&&Fe.loaded&&(Fe.retain=!0);T+1<V&&this._retainChildren(G,re,T+1,V)}},_resetView:function(p){var x=p&&(p.pinch||p.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),x,x)},_animateZoom:function(p){this._setView(p.center,p.zoom,!0,p.noUpdate)},_clampZoom:function(p){var x=this.options;return x.minNativeZoom!==void 0&&p<x.minNativeZoom?x.minNativeZoom:x.maxNativeZoom!==void 0&&x.maxNativeZoom<p?x.maxNativeZoom:p},_setView:function(p,x,T,V){var G=Math.round(x);this.options.maxZoom!==void 0&&G>this.options.maxZoom||this.options.minZoom!==void 0&&G<this.options.minZoom?G=void 0:G=this._clampZoom(G);var re=this.options.updateWhenZooming&&G!==this._tileZoom;(!V||re)&&(this._tileZoom=G,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),G!==void 0&&this._update(p),T||this._pruneTiles(),this._noPrune=!!T),this._setZoomTransforms(p,x)},_setZoomTransforms:function(p,x){for(var T in this._levels)this._setZoomTransform(this._levels[T],p,x)},_setZoomTransform:function(p,x,T){var V=this._map.getZoomScale(T,p.zoom),G=p.origin.multiplyBy(V).subtract(this._map._getNewPixelOrigin(x,T)).round();ve.any3d?Hi(p.el,G,V):$n(p.el,G)},_resetGrid:function(){var p=this._map,x=p.options.crs,T=this._tileSize=this.getTileSize(),V=this._tileZoom,G=this._map.getPixelWorldBounds(this._tileZoom);G&&(this._globalTileRange=this._pxBoundsToTileRange(G)),this._wrapX=x.wrapLng&&!this.options.noWrap&&[Math.floor(p.project([0,x.wrapLng[0]],V).x/T.x),Math.ceil(p.project([0,x.wrapLng[1]],V).x/T.y)],this._wrapY=x.wrapLat&&!this.options.noWrap&&[Math.floor(p.project([x.wrapLat[0],0],V).y/T.x),Math.ceil(p.project([x.wrapLat[1],0],V).y/T.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(p){var x=this._map,T=x._animatingZoom?Math.max(x._animateToZoom,x.getZoom()):x.getZoom(),V=x.getZoomScale(T,this._tileZoom),G=x.project(p,this._tileZoom).floor(),re=x.getSize().divideBy(V*2);return new fe(G.subtract(re),G.add(re))},_update:function(p){var x=this._map;if(x){var T=this._clampZoom(x.getZoom());if(p===void 0&&(p=x.getCenter()),this._tileZoom!==void 0){var V=this._getTiledPixelBounds(p),G=this._pxBoundsToTileRange(V),re=G.getCenter(),Ae=[],We=this.options.keepBuffer,Fe=new fe(G.getBottomLeft().subtract([We,-We]),G.getTopRight().add([We,-We]));if(!(isFinite(G.min.x)&&isFinite(G.min.y)&&isFinite(G.max.x)&&isFinite(G.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Nt in this._tiles){var zt=this._tiles[Nt].coords;(zt.z!==this._tileZoom||!Fe.contains(new me(zt.x,zt.y)))&&(this._tiles[Nt].current=!1)}if(Math.abs(T-this._tileZoom)>1){this._setView(p,T);return}for(var Gt=G.min.y;Gt<=G.max.y;Gt++)for(var rn=G.min.x;rn<=G.max.x;rn++){var kn=new me(rn,Gt);if(kn.z=this._tileZoom,!!this._isValidTile(kn)){var gn=this._tiles[this._tileCoordsToKey(kn)];gn?gn.current=!0:Ae.push(kn)}}if(Ae.sort(function(ur,Ts){return ur.distanceTo(re)-Ts.distanceTo(re)}),Ae.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var vi=document.createDocumentFragment();for(rn=0;rn<Ae.length;rn++)this._addTile(Ae[rn],vi);this._level.el.appendChild(vi)}}}},_isValidTile:function(p){var x=this._map.options.crs;if(!x.infinite){var T=this._globalTileRange;if(!x.wrapLng&&(p.x<T.min.x||p.x>T.max.x)||!x.wrapLat&&(p.y<T.min.y||p.y>T.max.y))return!1}if(!this.options.bounds)return!0;var V=this._tileCoordsToBounds(p);return Ve(this.options.bounds).overlaps(V)},_keyToBounds:function(p){return this._tileCoordsToBounds(this._keyToTileCoords(p))},_tileCoordsToNwSe:function(p){var x=this._map,T=this.getTileSize(),V=p.scaleBy(T),G=V.add(T),re=x.unproject(V,p.z),Ae=x.unproject(G,p.z);return[re,Ae]},_tileCoordsToBounds:function(p){var x=this._tileCoordsToNwSe(p),T=new Be(x[0],x[1]);return this.options.noWrap||(T=this._map.wrapLatLngBounds(T)),T},_tileCoordsToKey:function(p){return p.x+":"+p.y+":"+p.z},_keyToTileCoords:function(p){var x=p.split(":"),T=new me(+x[0],+x[1]);return T.z=+x[2],T},_removeTile:function(p){var x=this._tiles[p];x&&(bi(x.el),delete this._tiles[p],this.fire("tileunload",{tile:x.el,coords:this._keyToTileCoords(p)}))},_initTile:function(p){Sn(p,"leaflet-tile");var x=this.getTileSize();p.style.width=x.x+"px",p.style.height=x.y+"px",p.onselectstart=D,p.onmousemove=D,ve.ielt9&&this.options.opacity<1&&Ai(p,this.options.opacity)},_addTile:function(p,x){var T=this._getTilePos(p),V=this._tileCoordsToKey(p),G=this.createTile(this._wrapCoords(p),_(this._tileReady,this,p));this._initTile(G),this.createTile.length<2&&pe(_(this._tileReady,this,p,null,G)),$n(G,T),this._tiles[V]={el:G,coords:p,current:!0},x.appendChild(G),this.fire("tileloadstart",{tile:G,coords:p})},_tileReady:function(p,x,T){x&&this.fire("tileerror",{error:x,tile:T,coords:p});var V=this._tileCoordsToKey(p);T=this._tiles[V],T&&(T.loaded=+new Date,this._map._fadeAnimated?(Ai(T.el,0),we(this._fadeFrame),this._fadeFrame=pe(this._updateOpacity,this)):(T.active=!0,this._pruneTiles()),x||(Sn(T.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:T.el,coords:p})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ve.ielt9||!this._map._fadeAnimated?pe(this._pruneTiles,this):setTimeout(_(this._pruneTiles,this),250)))},_getTilePos:function(p){return p.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(p){var x=new me(this._wrapX?S(p.x,this._wrapX):p.x,this._wrapY?S(p.y,this._wrapY):p.y);return x.z=p.z,x},_pxBoundsToTileRange:function(p){var x=this.getTileSize();return new fe(p.min.unscaleBy(x).floor(),p.max.unscaleBy(x).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var p in this._tiles)if(!this._tiles[p].loaded)return!1;return!0}});function eo(p){return new Lo(p)}var ya=Lo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(p,x){this._url=p,x=H(this,x),x.detectRetina&&ve.retina&&x.maxZoom>0?(x.tileSize=Math.floor(x.tileSize/2),x.zoomReverse?(x.zoomOffset--,x.minZoom=Math.min(x.maxZoom,x.minZoom+1)):(x.zoomOffset++,x.maxZoom=Math.max(x.minZoom,x.maxZoom-1)),x.minZoom=Math.max(0,x.minZoom)):x.zoomReverse?x.minZoom=Math.min(x.maxZoom,x.minZoom):x.maxZoom=Math.max(x.minZoom,x.maxZoom),typeof x.subdomains=="string"&&(x.subdomains=x.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(p,x){return this._url===p&&x===void 0&&(x=!0),this._url=p,x||this.redraw(),this},createTile:function(p,x){var T=document.createElement("img");return Zt(T,"load",_(this._tileOnLoad,this,x,T)),Zt(T,"error",_(this._tileOnError,this,x,T)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(T.referrerPolicy=this.options.referrerPolicy),T.alt="",T.src=this.getTileUrl(p),T},getTileUrl:function(p){var x={r:ve.retina?"@2x":"",s:this._getSubdomain(p),x:p.x,y:p.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var T=this._globalTileRange.max.y-p.y;this.options.tms&&(x.y=T),x["-y"]=T}return Q(this._url,h(x,this.options))},_tileOnLoad:function(p,x){ve.ielt9?setTimeout(_(p,this,null,x),0):p(null,x)},_tileOnError:function(p,x,T){var V=this.options.errorTileUrl;V&&x.getAttribute("src")!==V&&(x.src=V),p(T,x)},_onTileRemove:function(p){p.tile.onload=null},_getZoomForUrl:function(){var p=this._tileZoom,x=this.options.maxZoom,T=this.options.zoomReverse,V=this.options.zoomOffset;return T&&(p=x-p),p+V},_getSubdomain:function(p){var x=Math.abs(p.x+p.y)%this.options.subdomains.length;return this.options.subdomains[x]},_abortLoading:function(){var p,x;for(p in this._tiles)if(this._tiles[p].coords.z!==this._tileZoom&&(x=this._tiles[p].el,x.onload=D,x.onerror=D,!x.complete)){x.src=ce;var T=this._tiles[p].coords;bi(x),delete this._tiles[p],this.fire("tileabort",{tile:x,coords:T})}},_removeTile:function(p){var x=this._tiles[p];if(x)return x.el.setAttribute("src",ce),Lo.prototype._removeTile.call(this,p)},_tileReady:function(p,x,T){if(!(!this._map||T&&T.getAttribute("src")===ce))return Lo.prototype._tileReady.call(this,p,x,T)}});function pn(p,x){return new ya(p,x)}var jr=ya.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(p,x){this._url=p;var T=h({},this.defaultWmsParams);for(var V in x)V in this.options||(T[V]=x[V]);x=H(this,x);var G=x.detectRetina&&ve.retina?2:1,re=this.getTileSize();T.width=re.x*G,T.height=re.y*G,this.wmsParams=T},onAdd:function(p){this._crs=this.options.crs||p.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var x=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[x]=this._crs.code,ya.prototype.onAdd.call(this,p)},getTileUrl:function(p){var x=this._tileCoordsToNwSe(p),T=this._crs,V=ke(T.project(x[0]),T.project(x[1])),G=V.min,re=V.max,Ae=(this._wmsVersion>=1.3&&this._crs===Dd?[G.y,G.x,re.y,re.x]:[G.x,G.y,re.x,re.y]).join(","),We=ya.prototype.getTileUrl.call(this,p);return We+$(this.wmsParams,We,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ae},setParams:function(p,x){return h(this.wmsParams,p),x||this.redraw(),this}});function Xa(p,x){return new jr(p,x)}ya.WMS=jr,pn.wms=Xa;var js=po.extend({options:{padding:.1},initialize:function(p){H(this,p),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Sn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var p={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(p.zoomanim=this._onAnimZoom),p},_onAnimZoom:function(p){this._updateTransform(p.center,p.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(p,x){var T=this._map.getZoomScale(x,this._zoom),V=this._map.getSize().multiplyBy(.5+this.options.padding),G=this._map.project(this._center,x),re=V.multiplyBy(-T).add(G).subtract(this._map._getNewPixelOrigin(p,x));ve.any3d?Hi(this._container,re,T):$n(this._container,re)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var p in this._layers)this._layers[p]._reset()},_onZoomEnd:function(){for(var p in this._layers)this._layers[p]._project()},_updatePaths:function(){for(var p in this._layers)this._layers[p]._update()},_update:function(){var p=this.options.padding,x=this._map.getSize(),T=this._map.containerPointToLayerPoint(x.multiplyBy(-p)).round();this._bounds=new fe(T,T.add(x.multiplyBy(1+p*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),gl=js.extend({options:{tolerance:0},getEvents:function(){var p=js.prototype.getEvents.call(this);return p.viewprereset=this._onViewPreReset,p},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){js.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var p=this._container=document.createElement("canvas");Zt(p,"mousemove",this._onMouseMove,this),Zt(p,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Zt(p,"mouseout",this._handleMouseOut,this),p._leaflet_disable_events=!0,this._ctx=p.getContext("2d")},_destroyContainer:function(){we(this._redrawRequest),delete this._ctx,bi(this._container),ei(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var p;this._redrawBounds=null;for(var x in this._layers)p=this._layers[x],p._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){js.prototype._update.call(this);var p=this._bounds,x=this._container,T=p.getSize(),V=ve.retina?2:1;$n(x,p.min),x.width=V*T.x,x.height=V*T.y,x.style.width=T.x+"px",x.style.height=T.y+"px",ve.retina&&this._ctx.scale(2,2),this._ctx.translate(-p.min.x,-p.min.y),this.fire("update")}},_reset:function(){js.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(p){this._updateDashArray(p),this._layers[v(p)]=p;var x=p._order={layer:p,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=x),this._drawLast=x,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(p){this._requestRedraw(p)},_removePath:function(p){var x=p._order,T=x.next,V=x.prev;T?T.prev=V:this._drawLast=V,V?V.next=T:this._drawFirst=T,delete p._order,delete this._layers[v(p)],this._requestRedraw(p)},_updatePath:function(p){this._extendRedrawBounds(p),p._project(),p._update(),this._requestRedraw(p)},_updateStyle:function(p){this._updateDashArray(p),this._requestRedraw(p)},_updateDashArray:function(p){if(typeof p.options.dashArray=="string"){var x=p.options.dashArray.split(/[, ]+/),T=[],V,G;for(G=0;G<x.length;G++){if(V=Number(x[G]),isNaN(V))return;T.push(V)}p.options._dashArray=T}else p.options._dashArray=p.options.dashArray},_requestRedraw:function(p){this._map&&(this._extendRedrawBounds(p),this._redrawRequest=this._redrawRequest||pe(this._redraw,this))},_extendRedrawBounds:function(p){if(p._pxBounds){var x=(p.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new fe,this._redrawBounds.extend(p._pxBounds.min.subtract([x,x])),this._redrawBounds.extend(p._pxBounds.max.add([x,x]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var p=this._redrawBounds;if(p){var x=p.getSize();this._ctx.clearRect(p.min.x,p.min.y,x.x,x.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var p,x=this._redrawBounds;if(this._ctx.save(),x){var T=x.getSize();this._ctx.beginPath(),this._ctx.rect(x.min.x,x.min.y,T.x,T.y),this._ctx.clip()}this._drawing=!0;for(var V=this._drawFirst;V;V=V.next)p=V.layer,(!x||p._pxBounds&&p._pxBounds.intersects(x))&&p._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(p,x){if(this._drawing){var T,V,G,re,Ae=p._parts,We=Ae.length,Fe=this._ctx;if(We){for(Fe.beginPath(),T=0;T<We;T++){for(V=0,G=Ae[T].length;V<G;V++)re=Ae[T][V],Fe[V?"lineTo":"moveTo"](re.x,re.y);x&&Fe.closePath()}this._fillStroke(Fe,p)}}},_updateCircle:function(p){if(!(!this._drawing||p._empty())){var x=p._point,T=this._ctx,V=Math.max(Math.round(p._radius),1),G=(Math.max(Math.round(p._radiusY),1)||V)/V;G!==1&&(T.save(),T.scale(1,G)),T.beginPath(),T.arc(x.x,x.y/G,V,0,Math.PI*2,!1),G!==1&&T.restore(),this._fillStroke(T,p)}},_fillStroke:function(p,x){var T=x.options;T.fill&&(p.globalAlpha=T.fillOpacity,p.fillStyle=T.fillColor||T.color,p.fill(T.fillRule||"evenodd")),T.stroke&&T.weight!==0&&(p.setLineDash&&p.setLineDash(x.options&&x.options._dashArray||[]),p.globalAlpha=T.opacity,p.lineWidth=T.weight,p.strokeStyle=T.color,p.lineCap=T.lineCap,p.lineJoin=T.lineJoin,p.stroke())},_onClick:function(p){for(var x=this._map.mouseEventToLayerPoint(p),T,V,G=this._drawFirst;G;G=G.next)T=G.layer,T.options.interactive&&T._containsPoint(x)&&(!(p.type==="click"||p.type==="preclick")||!this._map._draggableMoved(T))&&(V=T);this._fireEvent(V?[V]:!1,p)},_onMouseMove:function(p){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var x=this._map.mouseEventToLayerPoint(p);this._handleMouseHover(p,x)}},_handleMouseOut:function(p){var x=this._hoveredLayer;x&&(Kn(this._container,"leaflet-interactive"),this._fireEvent([x],p,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(p,x){if(!this._mouseHoverThrottled){for(var T,V,G=this._drawFirst;G;G=G.next)T=G.layer,T.options.interactive&&T._containsPoint(x)&&(V=T);V!==this._hoveredLayer&&(this._handleMouseOut(p),V&&(Sn(this._container,"leaflet-interactive"),this._fireEvent([V],p,"mouseover"),this._hoveredLayer=V)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,p),this._mouseHoverThrottled=!0,setTimeout(_(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(p,x,T){this._map._fireDOMEvent(x,T||x.type,p)},_bringToFront:function(p){var x=p._order;if(x){var T=x.next,V=x.prev;if(T)T.prev=V;else return;V?V.next=T:T&&(this._drawFirst=T),x.prev=this._drawLast,this._drawLast.next=x,x.next=null,this._drawLast=x,this._requestRedraw(p)}},_bringToBack:function(p){var x=p._order;if(x){var T=x.next,V=x.prev;if(V)V.next=T;else return;T?T.prev=V:V&&(this._drawLast=V),x.prev=null,x.next=this._drawFirst,this._drawFirst.prev=x,this._drawFirst=x,this._requestRedraw(p)}}});function Oi(p){return ve.canvas?new gl(p):null}var _o=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(p){return document.createElement("<lvml:"+p+' class="lvml">')}}catch{}return function(p){return document.createElement("<"+p+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Jr={_initContainer:function(){this._container=Gn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(js.prototype._update.call(this),this.fire("update"))},_initPath:function(p){var x=p._container=_o("shape");Sn(x,"leaflet-vml-shape "+(this.options.className||"")),x.coordsize="1 1",p._path=_o("path"),x.appendChild(p._path),this._updateStyle(p),this._layers[v(p)]=p},_addPath:function(p){var x=p._container;this._container.appendChild(x),p.options.interactive&&p.addInteractiveTarget(x)},_removePath:function(p){var x=p._container;bi(x),p.removeInteractiveTarget(x),delete this._layers[v(p)]},_updateStyle:function(p){var x=p._stroke,T=p._fill,V=p.options,G=p._container;G.stroked=!!V.stroke,G.filled=!!V.fill,V.stroke?(x||(x=p._stroke=_o("stroke")),G.appendChild(x),x.weight=V.weight+"px",x.color=V.color,x.opacity=V.opacity,V.dashArray?x.dashStyle=ee(V.dashArray)?V.dashArray.join(" "):V.dashArray.replace(/( *, *)/g," "):x.dashStyle="",x.endcap=V.lineCap.replace("butt","flat"),x.joinstyle=V.lineJoin):x&&(G.removeChild(x),p._stroke=null),V.fill?(T||(T=p._fill=_o("fill")),G.appendChild(T),T.color=V.fillColor||V.color,T.opacity=V.fillOpacity):T&&(G.removeChild(T),p._fill=null)},_updateCircle:function(p){var x=p._point.round(),T=Math.round(p._radius),V=Math.round(p._radiusY||T);this._setPath(p,p._empty()?"M0 0":"AL "+x.x+","+x.y+" "+T+","+V+" 0,"+65535*360)},_setPath:function(p,x){p._path.v=x},_bringToFront:function(p){jo(p._container)},_bringToBack:function(p){Xo(p._container)}},vo=ve.vml?_o:ze,to=js.extend({_initContainer:function(){this._container=vo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=vo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){bi(this._container),ei(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){js.prototype._update.call(this);var p=this._bounds,x=p.getSize(),T=this._container;(!this._svgSize||!this._svgSize.equals(x))&&(this._svgSize=x,T.setAttribute("width",x.x),T.setAttribute("height",x.y)),$n(T,p.min),T.setAttribute("viewBox",[p.min.x,p.min.y,x.x,x.y].join(" ")),this.fire("update")}},_initPath:function(p){var x=p._path=vo("path");p.options.className&&Sn(x,p.options.className),p.options.interactive&&Sn(x,"leaflet-interactive"),this._updateStyle(p),this._layers[v(p)]=p},_addPath:function(p){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(p._path),p.addInteractiveTarget(p._path)},_removePath:function(p){bi(p._path),p.removeInteractiveTarget(p._path),delete this._layers[v(p)]},_updatePath:function(p){p._project(),p._update()},_updateStyle:function(p){var x=p._path,T=p.options;x&&(T.stroke?(x.setAttribute("stroke",T.color),x.setAttribute("stroke-opacity",T.opacity),x.setAttribute("stroke-width",T.weight),x.setAttribute("stroke-linecap",T.lineCap),x.setAttribute("stroke-linejoin",T.lineJoin),T.dashArray?x.setAttribute("stroke-dasharray",T.dashArray):x.removeAttribute("stroke-dasharray"),T.dashOffset?x.setAttribute("stroke-dashoffset",T.dashOffset):x.removeAttribute("stroke-dashoffset")):x.setAttribute("stroke","none"),T.fill?(x.setAttribute("fill",T.fillColor||T.color),x.setAttribute("fill-opacity",T.fillOpacity),x.setAttribute("fill-rule",T.fillRule||"evenodd")):x.setAttribute("fill","none"))},_updatePoly:function(p,x){this._setPath(p,ut(p._parts,x))},_updateCircle:function(p){var x=p._point,T=Math.max(Math.round(p._radius),1),V=Math.max(Math.round(p._radiusY),1)||T,G="a"+T+","+V+" 0 1,0 ",re=p._empty()?"M0 0":"M"+(x.x-T)+","+x.y+G+T*2+",0 "+G+-T*2+",0 ";this._setPath(p,re)},_setPath:function(p,x){p._path.setAttribute("d",x)},_bringToFront:function(p){jo(p._path)},_bringToBack:function(p){Xo(p._path)}});ve.vml&&to.include(Jr);function xa(p){return ve.svg||ve.vml?new to(p):null}zn.include({getRenderer:function(p){var x=p.options.renderer||this._getPaneRenderer(p.options.pane)||this.options.renderer||this._renderer;return x||(x=this._renderer=this._createRenderer()),this.hasLayer(x)||this.addLayer(x),x},_getPaneRenderer:function(p){if(p==="overlayPane"||p===void 0)return!1;var x=this._paneRenderers[p];return x===void 0&&(x=this._createRenderer({pane:p}),this._paneRenderers[p]=x),x},_createRenderer:function(p){return this.options.preferCanvas&&Oi(p)||xa(p)}});var bl=Oo.extend({initialize:function(p,x){Oo.prototype.initialize.call(this,this._boundsToLatLngs(p),x)},setBounds:function(p){return this.setLatLngs(this._boundsToLatLngs(p))},_boundsToLatLngs:function(p){return p=Ve(p),[p.getSouthWest(),p.getNorthWest(),p.getNorthEast(),p.getSouthEast()]}});function dr(p,x){return new bl(p,x)}to.create=vo,to.pointsToPath=ut,zr.geometryToLayer=Fr,zr.coordsToLatLng=Mc,zr.coordsToLatLngs=pl,zr.latLngToCoords=Ga,zr.latLngsToCoords=Ic,zr.getFeature=Xs,zr.asFeature=Ka,zn.mergeOptions({boxZoom:!0});var Kl=Rr.extend({initialize:function(p){this._map=p,this._container=p._container,this._pane=p._panes.overlayPane,this._resetStateTimeout=0,p.on("unload",this._destroy,this)},addHooks:function(){Zt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ei(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){bi(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(p){if(!p.shiftKey||p.which!==1&&p.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Er(),Ys(),this._startPoint=this._map.mouseEventToContainerPoint(p),Zt(document,{contextmenu:Cs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(p){this._moved||(this._moved=!0,this._box=Gn("div","leaflet-zoom-box",this._container),Sn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(p);var x=new fe(this._point,this._startPoint),T=x.getSize();$n(this._box,x.min),this._box.style.width=T.x+"px",this._box.style.height=T.y+"px"},_finish:function(){this._moved&&(bi(this._box),Kn(this._container,"leaflet-crosshair")),hs(),xe(),ei(document,{contextmenu:Cs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(p){if(!(p.which!==1&&p.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(_(this._resetState,this),0);var x=new Be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(x).fire("boxzoomend",{boxZoomBounds:x})}},_onKeyDown:function(p){p.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});zn.addInitHook("addHandler","boxZoom",Kl),zn.mergeOptions({doubleClickZoom:!0});var Ds=Rr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(p){var x=this._map,T=x.getZoom(),V=x.options.zoomDelta,G=p.originalEvent.shiftKey?T-V:T+V;x.options.doubleClickZoom==="center"?x.setZoom(G):x.setZoomAround(p.containerPoint,G)}});zn.addInitHook("addHandler","doubleClickZoom",Ds),zn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Lc=Rr.extend({addHooks:function(){if(!this._draggable){var p=this._map;this._draggable=new Ks(p._mapPane,p._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),p.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),p.on("zoomend",this._onZoomEnd,this),p.whenReady(this._onZoomEnd,this))}Sn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Kn(this._map._container,"leaflet-grab"),Kn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var p=this._map;if(p._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var x=Ve(this._map.options.maxBounds);this._offsetLimit=ke(this._map.latLngToContainerPoint(x.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(x.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;p.fire("movestart").fire("dragstart"),p.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(p){if(this._map.options.inertia){var x=this._lastTime=+new Date,T=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(T),this._times.push(x),this._prunePositions(x)}this._map.fire("move",p).fire("drag",p)},_prunePositions:function(p){for(;this._positions.length>1&&p-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var p=this._map.getSize().divideBy(2),x=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=x.subtract(p).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(p,x){return p-(p-x)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var p=this._draggable._newPos.subtract(this._draggable._startPos),x=this._offsetLimit;p.x<x.min.x&&(p.x=this._viscousLimit(p.x,x.min.x)),p.y<x.min.y&&(p.y=this._viscousLimit(p.y,x.min.y)),p.x>x.max.x&&(p.x=this._viscousLimit(p.x,x.max.x)),p.y>x.max.y&&(p.y=this._viscousLimit(p.y,x.max.y)),this._draggable._newPos=this._draggable._startPos.add(p)}},_onPreDragWrap:function(){var p=this._worldWidth,x=Math.round(p/2),T=this._initialWorldOffset,V=this._draggable._newPos.x,G=(V-x+T)%p+x-T,re=(V+x+T)%p-x-T,Ae=Math.abs(G+T)<Math.abs(re+T)?G:re;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ae},_onDragEnd:function(p){var x=this._map,T=x.options,V=!T.inertia||p.noInertia||this._times.length<2;if(x.fire("dragend",p),V)x.fire("moveend");else{this._prunePositions(+new Date);var G=this._lastPos.subtract(this._positions[0]),re=(this._lastTime-this._times[0])/1e3,Ae=T.easeLinearity,We=G.multiplyBy(Ae/re),Fe=We.distanceTo([0,0]),Nt=Math.min(T.inertiaMaxSpeed,Fe),zt=We.multiplyBy(Nt/Fe),Gt=Nt/(T.inertiaDeceleration*Ae),rn=zt.multiplyBy(-Gt/2).round();!rn.x&&!rn.y?x.fire("moveend"):(rn=x._limitOffset(rn,x.options.maxBounds),pe(function(){x.panBy(rn,{duration:Gt,easeLinearity:Ae,noMoveStart:!0,animate:!0})}))}}});zn.addInitHook("addHandler","dragging",Lc),zn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var kl=Rr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(p){this._map=p,this._setPanDelta(p.options.keyboardPanDelta),this._setZoomDelta(p.options.zoomDelta)},addHooks:function(){var p=this._map._container;p.tabIndex<=0&&(p.tabIndex="0"),Zt(p,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ei(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var p=document.body,x=document.documentElement,T=p.scrollTop||x.scrollTop,V=p.scrollLeft||x.scrollLeft;this._map._container.focus(),window.scrollTo(V,T)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(p){var x=this._panKeys={},T=this.keyCodes,V,G;for(V=0,G=T.left.length;V<G;V++)x[T.left[V]]=[-1*p,0];for(V=0,G=T.right.length;V<G;V++)x[T.right[V]]=[p,0];for(V=0,G=T.down.length;V<G;V++)x[T.down[V]]=[0,p];for(V=0,G=T.up.length;V<G;V++)x[T.up[V]]=[0,-1*p]},_setZoomDelta:function(p){var x=this._zoomKeys={},T=this.keyCodes,V,G;for(V=0,G=T.zoomIn.length;V<G;V++)x[T.zoomIn[V]]=p;for(V=0,G=T.zoomOut.length;V<G;V++)x[T.zoomOut[V]]=-p},_addHooks:function(){Zt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ei(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(p){if(!(p.altKey||p.ctrlKey||p.metaKey)){var x=p.keyCode,T=this._map,V;if(x in this._panKeys){if(!T._panAnim||!T._panAnim._inProgress)if(V=this._panKeys[x],p.shiftKey&&(V=Z(V).multiplyBy(3)),T.options.maxBounds&&(V=T._limitOffset(Z(V),T.options.maxBounds)),T.options.worldCopyJump){var G=T.wrapLatLng(T.unproject(T.project(T.getCenter()).add(V)));T.panTo(G)}else T.panBy(V)}else if(x in this._zoomKeys)T.setZoom(T.getZoom()+(p.shiftKey?3:1)*this._zoomKeys[x]);else if(x===27&&T._popup&&T._popup.options.closeOnEscapeKey)T.closePopup();else return;Cs(p)}}});zn.addInitHook("addHandler","keyboard",kl),zn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var wo=Rr.extend({addHooks:function(){Zt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ei(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(p){var x=Jo(p),T=this._map.options.wheelDebounceTime;this._delta+=x,this._lastMousePos=this._map.mouseEventToContainerPoint(p),this._startTime||(this._startTime=+new Date);var V=Math.max(T-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(_(this._performZoom,this),V),Cs(p)},_performZoom:function(){var p=this._map,x=p.getZoom(),T=this._map.options.zoomSnap||0;p._stop();var V=this._delta/(this._map.options.wheelPxPerZoomLevel*4),G=4*Math.log(2/(1+Math.exp(-Math.abs(V))))/Math.LN2,re=T?Math.ceil(G/T)*T:G,Ae=p._limitZoom(x+(this._delta>0?re:-re))-x;this._delta=0,this._startTime=null,Ae&&(p.options.scrollWheelZoom==="center"?p.setZoom(x+Ae):p.setZoomAround(this._lastMousePos,x+Ae))}});zn.addInitHook("addHandler","scrollWheelZoom",wo);var _l=600;zn.mergeOptions({tapHold:ve.touchNative&&ve.safari&&ve.mobile,tapTolerance:15});var Bc=Rr.extend({addHooks:function(){Zt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ei(this._map._container,"touchstart",this._onDown,this)},_onDown:function(p){if(clearTimeout(this._holdTimeout),p.touches.length===1){var x=p.touches[0];this._startPos=this._newPos=new me(x.clientX,x.clientY),this._holdTimeout=setTimeout(_(function(){this._cancel(),this._isTapValid()&&(Zt(document,"touchend",Mn),Zt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",x))},this),_l),Zt(document,"touchend touchcancel contextmenu",this._cancel,this),Zt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function p(){ei(document,"touchend",Mn),ei(document,"touchend touchcancel",p)},_cancel:function(){clearTimeout(this._holdTimeout),ei(document,"touchend touchcancel contextmenu",this._cancel,this),ei(document,"touchmove",this._onMove,this)},_onMove:function(p){var x=p.touches[0];this._newPos=new me(x.clientX,x.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(p,x){var T=new MouseEvent(p,{bubbles:!0,cancelable:!0,view:window,screenX:x.screenX,screenY:x.screenY,clientX:x.clientX,clientY:x.clientY});T._simulated=!0,x.target.dispatchEvent(T)}});zn.addInitHook("addHandler","tapHold",Bc),zn.mergeOptions({touchZoom:ve.touch,bounceAtZoomLimits:!0});var na=Rr.extend({addHooks:function(){Sn(this._map._container,"leaflet-touch-zoom"),Zt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Kn(this._map._container,"leaflet-touch-zoom"),ei(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(p){var x=this._map;if(!(!p.touches||p.touches.length!==2||x._animatingZoom||this._zooming)){var T=x.mouseEventToContainerPoint(p.touches[0]),V=x.mouseEventToContainerPoint(p.touches[1]);this._centerPoint=x.getSize()._divideBy(2),this._startLatLng=x.containerPointToLatLng(this._centerPoint),x.options.touchZoom!=="center"&&(this._pinchStartLatLng=x.containerPointToLatLng(T.add(V)._divideBy(2))),this._startDist=T.distanceTo(V),this._startZoom=x.getZoom(),this._moved=!1,this._zooming=!0,x._stop(),Zt(document,"touchmove",this._onTouchMove,this),Zt(document,"touchend touchcancel",this._onTouchEnd,this),Mn(p)}},_onTouchMove:function(p){if(!(!p.touches||p.touches.length!==2||!this._zooming)){var x=this._map,T=x.mouseEventToContainerPoint(p.touches[0]),V=x.mouseEventToContainerPoint(p.touches[1]),G=T.distanceTo(V)/this._startDist;if(this._zoom=x.getScaleZoom(G,this._startZoom),!x.options.bounceAtZoomLimits&&(this._zoom<x.getMinZoom()&&G<1||this._zoom>x.getMaxZoom()&&G>1)&&(this._zoom=x._limitZoom(this._zoom)),x.options.touchZoom==="center"){if(this._center=this._startLatLng,G===1)return}else{var re=T._add(V)._divideBy(2)._subtract(this._centerPoint);if(G===1&&re.x===0&&re.y===0)return;this._center=x.unproject(x.project(this._pinchStartLatLng,this._zoom).subtract(re),this._zoom)}this._moved||(x._moveStart(!0,!1),this._moved=!0),we(this._animRequest);var Ae=_(x._move,x,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=pe(Ae,this,!0),Mn(p)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,we(this._animRequest),ei(document,"touchmove",this._onTouchMove,this),ei(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});zn.addInitHook("addHandler","touchZoom",na),zn.BoxZoom=Kl,zn.DoubleClickZoom=Ds,zn.Drag=Lc,zn.Keyboard=kl,zn.ScrollWheelZoom=wo,zn.TapHold=Bc,zn.TouchZoom=na,s.Bounds=fe,s.Browser=ve,s.CRS=Ce,s.Canvas=gl,s.Circle=Dc,s.CircleMarker=fl,s.Class=ye,s.Control=Zr,s.DivIcon=Gl,s.DivOverlay=nr,s.DomEvent=wd,s.DomUtil=dl,s.Draggable=Ks,s.Evented=_e,s.FeatureGroup=ps,s.GeoJSON=zr,s.GridLayer=Lo,s.Handler=Rr,s.Icon=go,s.ImageOverlay=Es,s.LatLng=nt,s.LatLngBounds=Be,s.Layer=po,s.LayerGroup=Wa,s.LineUtil=$a,s.Map=zn,s.Marker=bo,s.Mixin=Nu,s.Path=ta,s.Point=me,s.PolyUtil=Cd,s.Polygon=Oo,s.Polyline=ko,s.Popup=Za,s.PosAnimation=To,s.Projection=jd,s.Rectangle=bl,s.Renderer=js,s.SVG=to,s.SVGOverlay=wa,s.TileLayer=ya,s.Tooltip=Yl,s.Transformation=rt,s.Util=je,s.VideoOverlay=Qa,s.bind=_,s.bounds=ke,s.canvas=Oi,s.circle=Su,s.circleMarker=Md,s.control=Ns,s.divIcon=qi,s.extend=h,s.featureGroup=Zs,s.geoJSON=pi,s.geoJson=Oc,s.gridLayer=eo,s.icon=jc,s.imageOverlay=Ss,s.latLng=te,s.latLngBounds=Ve,s.layerGroup=Qs,s.map=Fa,s.marker=Td,s.point=Z,s.polygon=gs,s.polyline=ju,s.popup=Js,s.rectangle=dr,s.setOptions=H,s.stamp=v,s.svg=xa,s.svgOverlay=Xr,s.tileLayer=pn,s.tooltip=Od,s.transformation=Ye,s.version=o,s.videoOverlay=Id;var Ca=window.L;s.noConflict=function(){return window.L=Ca,this},window.L=s})}(nb,nb.exports)),nb.exports}var kp=R$();const sr=Rm(kp);function Jv(l,c,s){return Object.freeze({instance:l,context:c,container:s})}function ew(l,c){return c==null?function(o,h){const g=I.useRef(void 0);return g.current||(g.current=l(o,h)),g}:function(o,h){const g=I.useRef(void 0);g.current||(g.current=l(o,h));const _=I.useRef(o),{instance:y}=g.current;return I.useEffect(function(){_.current!==o&&(c(y,o,_.current),_.current=o)},[y,o,c]),g}}function B5(l,c){I.useEffect(function(){return(c.layerContainer??c.map).addLayer(l.instance),function(){var g;(g=c.layerContainer)==null||g.removeLayer(l.instance),c.map.removeLayer(l.instance)}},[c,l])}function P5(l){return function(s){const o=Zv(),h=l(Xv(s,o),o);return I5(o.map,s.attribution),HA(h.current,s.eventHandlers),B5(h.current,o),h}}function z$(l,c){const s=I.useRef(void 0);I.useEffect(function(){if(c.pathOptions!==s.current){const h=c.pathOptions??{};l.instance.setStyle(h),s.current=h}},[l,c])}function F$(l){return function(s){const o=Zv(),h=l(Xv(s,o),o);return HA(h.current,s.eventHandlers),B5(h.current,o),z$(h.current,s),h}}function V$(l,c){const s=ew(l,c),o=P5(s);return L5(o)}function H$(l,c){const s=ew(l),o=B$(s,c);return O$(o)}function U$(l,c){const s=ew(l,c),o=F$(s);return L5(o)}function $$(l,c){const s=ew(l,c),o=P5(s);return L$(o)}function q$(l,c,s){const{opacity:o,zIndex:h}=c;o!=null&&o!==s.opacity&&l.setOpacity(o),h!=null&&h!==s.zIndex&&l.setZIndex(h)}function wh(){return Zv().map}function W$({bounds:l,boundsOptions:c,center:s,children:o,className:h,id:g,placeholder:_,style:y,whenReady:v,zoom:N,...S},D){const[j]=I.useState({className:h,id:g,style:y}),[B,F]=I.useState(null),H=I.useRef(void 0);I.useImperativeHandle(D,()=>(B==null?void 0:B.map)??null,[B]);const $=I.useCallback(Q=>{if(Q!==null&&!H.current){const ee=new kp.Map(Q,S);H.current=ee,s!=null&&N!=null?ee.setView(s,N):l!=null&&ee.fitBounds(l,c),v!=null&&ee.whenReady(v),F(I$(ee))}},[]);I.useEffect(()=>()=>{B==null||B.map.remove()},[B]);const K=B?tt.createElement(VA,{value:B},o):_??null;return tt.createElement("div",{...j,ref:$},K)}const hb=I.forwardRef(W$),ao=V$(function({position:c,...s},o){const h=new kp.Marker(c,s);return Jv(h,O5(o,{overlayContainer:h}))},function(c,s,o){s.position!==o.position&&c.setLatLng(s.position),s.icon!=null&&s.icon!==o.icon&&c.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==o.zIndexOffset&&c.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==o.opacity&&c.setOpacity(s.opacity),c.dragging!=null&&s.draggable!==o.draggable&&(s.draggable===!0?c.dragging.enable():c.dragging.disable())}),Y$=U$(function({positions:c,...s},o){const h=new kp.Polyline(c,s);return Jv(h,O5(o,{overlayContainer:h}))},function(c,s,o){s.positions!==o.positions&&c.setLatLngs(s.positions)}),lo=H$(function(c,s){const o=new kp.Popup(c,s.overlayContainer);return Jv(o,s)},function(c,s,{position:o},h){I.useEffect(function(){const{instance:_}=c;function y(N){N.popup===_&&(_.update(),h(!0))}function v(N){N.popup===_&&h(!1)}return s.map.on({popupopen:y,popupclose:v}),s.overlayContainer==null?(o!=null&&_.setLatLng(o),_.openOn(s.map)):s.overlayContainer.bindPopup(_),function(){var S;s.map.off({popupopen:y,popupclose:v}),(S=s.overlayContainer)==null||S.unbindPopup(),s.map.removeLayer(_)}},[c,s,h,o])}),mb=$$(function({url:c,...s},o){const h=new kp.TileLayer(c,Xv(s,o));return Jv(h,o)},function(c,s,o){q$(c,s,o);const{url:h}=s;h!=null&&h!==o.url&&c.setUrl(h)}),tw="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%201024%201024'%20class='icon'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M533.333333%20277.333333m-149.333333%200a149.333333%20149.333333%200%201%200%20298.666667%200%20149.333333%20149.333333%200%201%200-298.666667%200Z'%20fill='%234CAF50'%20/%3e%3cpath%20d='M298.666667%20469.333333a85.333333%2085.333333%200%201%201-0.042667%20170.709334A85.333333%2085.333333%200%200%201%20298.666667%20469.333333'%20fill='%23FFB74D'%20/%3e%3cpath%20d='M426.666667%20746.666667H170.666667a21.333333%2021.333333%200%200%201-21.333334-21.333334v-64a21.333333%2021.333333%200%200%201%2021.333334-21.333333h256a21.333333%2021.333333%200%200%201%2021.333333%2021.333333v64a21.333333%2021.333333%200%200%201-21.333333%2021.333334z'%20fill='%23E1BEE7'%20/%3e%3cpath%20d='M917.333333%20725.333333H426.666667a21.333333%2021.333333%200%200%201-21.333334-21.333333v-192h476.096C914.602667%20512%20938.666667%20536.192%20938.666667%20569.514667V704a21.333333%2021.333333%200%200%201-21.333334%2021.333333z'%20fill='%239C27B0'%20/%3e%3cpath%20d='M192%20896H85.333333V384h106.666667v320h746.666667v192h-106.666667v-85.333333H192v85.333333z'%20fill='%23FF9800'%20/%3e%3cpath%20d='M512%20234.666667h42.666667v149.333333h-42.666667z'%20fill='%23FFFFFF'%20/%3e%3cpath%20d='M533.333333%20192m-21.333333%200a21.333333%2021.333333%200%201%200%2042.666667%200%2021.333333%2021.333333%200%201%200-42.666667%200Z'%20fill='%23FFFFFF'%20/%3e%3c/svg%3e",nw="/walking-guide/assets/restaurant-marker-Bubo7wyi.svg";new sr.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]});const G$=new sr.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),K$=l=>{if(l.image_url){const o=l.image_url.startsWith("http")?l.image_url:`http://localhost:3000${l.image_url}`;return new sr.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          overflow: hidden;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
          <img 
            src="${o}" 
            alt="${l.name}"
            style="
              width: 100%;
              height: 100%;
              margin-left: 11px;
              object-fit: cover;
            "
            onerror="this.style.display='none'; this.parentElement.innerHTML='<i class=\\"bi bi-geo-alt-fill\\" style=\\"font-size: 20px; color: #3498db;\\"></i>';"
          />
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})}else return new sr.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
          <i className="bi bi-geo-alt-fill" style="fontSize: 24, color: '#3498db'"></i>
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})},Q$=new sr.Icon({iconUrl:tw,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]}),Z$=new sr.Icon({iconUrl:nw,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]});function X$({onLocationUpdate:l}){const c=wh(),s=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(o=>{const h=o.coords.latitude,g=o.coords.longitude;c.setView([h,g],15),l&&l({lat:h,lng:g})},o=>{console.error("Error getting current location:",o),alert("Không thể lấy vị trí hiện tại. Vui lòng kiểm tra quyền truy cập vị trí.")}):alert("Trình duyệt của bạn không hỗ trợ định vị.")};return i.jsx("div",{className:"leaflet-control leaflet-bar location-control",children:i.jsx("button",{onClick:s,title:"Đến vị trí hiện tại",children:i.jsx("i",{className:"bi bi-geo-alt-fill"})})})}function J$(){const l=wh(),c=()=>{l.zoomIn()},s=()=>{l.zoomOut()};return i.jsxs("div",{className:"leaflet-control leaflet-bar zoom-controls",children:[i.jsx("button",{onClick:c,title:"Phóng to",className:"zoom-in-btn",children:i.jsx("i",{className:"bi bi-plus-lg"})}),i.jsx("button",{onClick:s,title:"Thu nhỏ",className:"zoom-out-btn",children:i.jsx("i",{className:"bi bi-dash-lg"})})]})}function eq({locations:l,selectedCity:c,currentLocation:s}){const o=wh();return I.useEffect(()=>{if(l.length>0){const h=sr.latLngBounds(l.map(g=>[g.lat,g.lng]));s&&h.extend([s.lat,s.lng]),o.fitBounds(h,{padding:[20,20],maxZoom:15,animate:!0})}},[c,l,s,o]),null}function tq({locations:l,currentLocation:c}){const s=wh(),o=()=>{if(l.length>0){const h=sr.latLngBounds(l.map(g=>[g.lat,g.lng]));c&&h.extend([c.lat,c.lng]),s.fitBounds(h,{padding:[20,20],maxZoom:15,animate:!0})}};return i.jsx("div",{className:"leaflet-control leaflet-bar fit-markers-control",children:i.jsx("button",{onClick:o,title:"Hiển thị tất cả địa điểm",children:i.jsx("i",{className:"bi bi-grid-3x3-gap"})})})}function nq({locations:l=[],hotels:c=[],restaurants:s=[],className:o,selectedCity:h}){let _=[10.8231,106.6297],y=13;const[v,N]=I.useState(null),[S,D]=I.useState(!1),[j,B]=I.useState("");I.useEffect(()=>{F()},[]);const F=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(ne=>{const{latitude:ce,longitude:se}=ne.coords;N({lat:ce,lng:se})},ne=>{console.error("Error getting location:",ne),B("Không thể lấy vị trí hiện tại. Vui lòng kiểm tra quyền truy cập vị trí."),D(!0)}):(B("Trình duyệt của bạn không hỗ trợ định vị."),D(!0))},H=ne=>{N(ne)},$=l.filter(ne=>typeof ne.lat=="number"&&typeof ne.lng=="number"&&!isNaN(ne.lat)&&!isNaN(ne.lng)),K=c.filter(ne=>typeof ne.latitude=="number"&&typeof ne.longitude=="number"&&!isNaN(ne.latitude)&&!isNaN(ne.longitude)),Q=s.filter(ne=>typeof ne.latitude=="number"&&typeof ne.longitude=="number"&&!isNaN(ne.latitude)&&!isNaN(ne.longitude));console.log("validHotels",K),console.log("validRestaurants",Q);const ee=[...$.map(ne=>[ne.lat,ne.lng]),...K.map(ne=>[ne.latitude,ne.longitude]),...Q.map(ne=>[ne.latitude,ne.longitude])];return ee.length>0&&(ee.length===1?(_=ee[0],y=15):(_=sr.latLngBounds(ee).getCenter(),y=10)),i.jsxs("div",{className:o,style:{height:"24rem",width:"100%",background:"#e9ecef",overflow:"hidden"},children:[S&&i.jsxs("div",{className:"alert alert-warning alert-dismissible fade show position-absolute top-0 start-0 m-3",style:{zIndex:1e3},role:"alert",children:[i.jsx("i",{className:"bi bi-geo-alt me-2"}),j,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>D(!1)})]}),ee.length===0?i.jsx("div",{className:"text-center text-muted h-100 d-flex align-items-center justify-content-center",children:"Không có địa điểm hợp lệ để hiển thị"}):i.jsxs(hb,{center:_,zoom:y,style:{height:"100%",width:"100%"},scrollWheelZoom:!1,children:[i.jsx(mb,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),i.jsx(eq,{locations:$,selectedCity:h,currentLocation:v}),i.jsx(tq,{locations:$,currentLocation:v}),i.jsx(X$,{onLocationUpdate:H}),i.jsx(J$,{}),v&&i.jsx(ao,{position:[v.lat,v.lng],icon:G$,children:i.jsx(lo,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("h6",{className:"text-primary mb-1",children:"Vị trí hiện tại"}),i.jsxs("small",{className:"text-muted",children:[v.lat.toFixed(6),", ",v.lng.toFixed(6)]})]})})}),$.map(ne=>i.jsx(ao,{position:[ne.lat,ne.lng],icon:K$(ne),children:i.jsx(lo,{children:ne.name})},ne.id)),K.map(ne=>i.jsx(ao,{position:[ne.latitude,ne.longitude],icon:Q$,children:i.jsx(lo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:ne.name}),i.jsx("br",{}),ne.address&&i.jsxs("span",{children:[ne.address,i.jsx("br",{})]}),ne.city&&i.jsxs("span",{children:[ne.city,i.jsx("br",{})]}),ne.price_range&&i.jsxs("span",{children:["Giá: ",ne.price_range,i.jsx("br",{})]}),ne.rating&&i.jsxs("span",{children:["Đánh giá: ",ne.rating.toFixed(1)," / 5"]})]})})},`hotel-${ne.id}`)),Q.map(ne=>i.jsx(ao,{position:[ne.latitude,ne.longitude],icon:Z$,children:i.jsx(lo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:ne.name}),i.jsx("br",{}),ne.address&&i.jsxs("span",{children:[ne.address,i.jsx("br",{})]}),ne.city&&i.jsxs("span",{children:[ne.city,i.jsx("br",{})]}),ne.price_range&&i.jsxs("span",{children:["Giá: ",ne.price_range,i.jsx("br",{})]}),ne.rating&&i.jsxs("span",{children:["Đánh giá: ",ne.rating.toFixed(1)," / 5"]})]})})},`restaurant-${ne.id}`))]})]})}const iq=({activePage:l,isAuthenticated:c})=>i.jsx("aside",{className:"luxury-sidebar d-none d-lg-block luxury-sidebar-collapsed",children:i.jsx("nav",{children:i.jsxs("ul",{className:"luxury-sidebar-nav list-unstyled mb-0",children:[i.jsx("li",{children:i.jsxs(en,{to:"/explore",className:`luxury-sidebar-link${l==="explore"?" active":""}`,style:{textDecoration:"none"},children:[i.jsx("i",{className:"bi bi-map luxury-sidebar-icon"}),i.jsx("span",{className:"luxury-sidebar-label",children:"Khám phá"})]})}),i.jsx("li",{children:i.jsxs(en,{to:"/manual-planner",className:`luxury-sidebar-link${l==="/manual-planner"?" active":""}`,style:{textDecoration:"none"},children:[i.jsx("i",{className:"bi bi-calendar2-check luxury-sidebar-icon"}),i.jsx("span",{className:"luxury-sidebar-label",children:"Lên kế hoạch"})]})}),i.jsx("li",{children:i.jsxs(en,{to:"/my-tours",className:`luxury-sidebar-link${l==="mytours"?" active":""}`,style:{textDecoration:"none"},children:[i.jsx("i",{className:"bi bi-person-walking luxury-sidebar-icon"}),i.jsx("span",{className:"luxury-sidebar-label",children:"Tour của tôi"})]})}),c&&i.jsx("li",{children:i.jsxs(en,{to:"/users",className:`luxury-sidebar-link${l==="profile"?" active":""}`,style:{textDecoration:"none"},children:[i.jsx("i",{className:"bi bi-person-circle luxury-sidebar-icon"}),i.jsx("span",{className:"luxury-sidebar-label",children:"Hồ sơ"})]})})]})})}),UA=({value:l,onChange:c,placeholder:s="Nhập địa điểm..."})=>{const[o,h]=I.useState([]),[g,_]=I.useState(!1),[y,v]=I.useState(l),[N,S]=I.useState(!1),[D,j]=I.useState(null),[B,F]=I.useState(!1),H=I.useRef(null),$=I.useRef(null);I.useEffect(()=>{v(l)},[l]),I.useEffect(()=>{const se=q=>{H.current&&!H.current.contains(q.target)&&_(!1)};return document.addEventListener("mousedown",se),()=>{document.removeEventListener("mousedown",se)}},[]);const K=async se=>{if(!se||se.length<3){h([]),_(!1);return}S(!0);try{const q=await fetch(`http://localhost:3000/api/geocoding/search?q=${encodeURIComponent(se)}&limit=8&addressdetails=1`);if(!q.ok)throw new Error("Network response was not ok");const oe=(await q.json()).filter(be=>{const pe=be.address;return pe&&(pe.country==="Việt Nam"||pe.country==="Vietnam")&&(pe.city||pe.town||pe.state||pe.suburb||pe.neighbourhood)}).map(be=>{const pe=be.address,we=pe.city||pe.town||pe.state,je=pe.suburb||pe.neighbourhood||pe.district;let ye=be.display_name;return we&&je?ye=`${je}, ${we}`:we&&(ye=we),{id:be.place_id,name:ye,full_name:be.display_name,city:we,district:je,country:pe.country,coordinates:{lat:parseFloat(be.lat),lon:parseFloat(be.lon)}}}).filter((be,pe,we)=>pe===we.findIndex(je=>je.name===be.name)).slice(0,8);h(oe),_(oe.length>0)}catch(q){console.error("Error searching locations:",q),h([]),_(!1)}finally{S(!1)}},Q=()=>{if(!navigator.geolocation){alert("Trình duyệt của bạn không hỗ trợ định vị.");return}F(!0),navigator.geolocation.getCurrentPosition(async se=>{const{latitude:q,longitude:ue}=se.coords;j({lat:q,lng:ue});try{const oe=await fetch(`http://localhost:3000/api/geocoding/reverse?lat=${q}&lon=${ue}&format=json&addressdetails=1`);if(oe.ok){const be=await oe.json(),pe=be.address,we=pe.city||pe.town||pe.state,je=pe.suburb||pe.neighbourhood||pe.district;let ye="Vị trí hiện tại";we&&je?ye=`${je}, ${we}`:we&&(ye=we);const Me={id:"current-location",name:ye,full_name:be.display_name,city:we,district:je,country:pe.country,coordinates:{lat:q,lon:ue},isCurrentLocation:!0};v(ye),c(ye),h([Me]),_(!0)}}catch(oe){console.error("Error reverse geocoding:",oe);const be=`Vị trí hiện tại (${q.toFixed(4)}, ${ue.toFixed(4)})`;v(be),c(be)}},se=>{console.error("Error getting current location:",se);let q="Không thể lấy vị trí hiện tại.";switch(se.code){case se.PERMISSION_DENIED:q="Quyền truy cập vị trí bị từ chối. Vui lòng cho phép truy cập vị trí trong trình duyệt.";break;case se.POSITION_UNAVAILABLE:q="Thông tin vị trí không khả dụng.";break;case se.TIMEOUT:q="Hết thời gian lấy vị trí.";break}alert(q)})},ee=se=>{const q=se.target.value;v(q),c(q),$.current&&clearTimeout($.current),$.current=setTimeout(()=>{K(q)},300)},ne=se=>{const q=(se.isCurrentLocation,se.name);v(q),c(q),_(!1),h([])},ce=se=>{se.key==="Enter"&&o.length>0?ne(o[0]):se.key==="Escape"&&_(!1)};return i.jsxs("div",{ref:H,className:"position-relative",children:[i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"text",value:y,onChange:ee,onKeyDown:ce,onFocus:()=>{o.length>0&&_(!0)},className:"form-control",placeholder:s,autoComplete:"off"}),i.jsxs("div",{className:"position-absolute",style:{right:"10px",top:"50%",transform:"translateY(-50%)"},children:[N&&i.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),!N&&i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:Q,disabled:B,title:"Sử dụng vị trí hiện tại",style:{padding:"0.25rem 0.5rem",fontSize:"0.875rem"},children:B?i.jsx("div",{className:"spinner-border spinner-border-sm",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}):i.jsx("i",{className:"bi bi-geo-alt-fill"})})]})]}),g&&i.jsx("div",{className:"position-absolute w-100 mt-1 bg-white border rounded shadow-lg",style:{zIndex:1e3},children:i.jsx("ul",{className:"list-group list-group-flush",children:o.map((se,q)=>i.jsxs("li",{className:"list-group-item list-group-item-action d-flex align-items-center gap-2 py-2 px-3",onClick:()=>ne(se),style:{cursor:"pointer"},children:[i.jsx("i",{className:`bi ${se.isCurrentLocation?"bi-geo-alt-fill text-primary":"bi-geo-alt text-muted"}`,style:{fontSize:"1rem"}}),i.jsxs("div",{className:"flex-grow-1",children:[i.jsx("div",{className:"fw-semibold",children:se.name}),se.full_name&&se.full_name!==se.name&&i.jsx("small",{className:"text-muted",children:se.full_name})]}),se.isCurrentLocation&&i.jsx("span",{className:"badge bg-primary",children:"Hiện tại"})]},se.id))})})]})},Eb=({value:l,onChange:c,onKeyPress:s,placeholder:o="Thành phố"})=>{const[h,g]=I.useState([]),[_,y]=I.useState(!1),[v,N]=I.useState(l),[S,D]=I.useState(!1),j=I.useRef(null),B=I.useRef(null);I.useEffect(()=>{N(l)},[l]),I.useEffect(()=>{const Q=ee=>{j.current&&!j.current.contains(ee.target)&&y(!1)};return document.addEventListener("mousedown",Q),()=>{document.removeEventListener("mousedown",Q)}},[]);const F=async Q=>{if(!Q||Q.length<3){g([]),y(!1);return}D(!0);try{const ee=await fetch(`http://localhost:3000/api/geocoding/search?q=${encodeURIComponent(Q)}&limit=10&addressdetails=1`);if(!ee.ok)throw new Error("Network response was not ok");const ce=(await ee.json()).filter(se=>{const q=se.address;return q&&(q.country==="Việt Nam"||q.country==="Vietnam")&&(q.city||q.town||q.state)&&(q.city||q.town||q.state).toLowerCase().includes(Q.toLowerCase())}).map(se=>{const q=se.address,ue=q.city||q.town||q.state;return{id:se.place_id,name:ue,display_name:se.display_name,state:q.state,country:q.country}}).filter((se,q,ue)=>q===ue.findIndex(oe=>oe.name===se.name)).slice(0,10);g(ce),y(ce.length>0)}catch(ee){console.error("Error searching cities:",ee),g([]),y(!1)}finally{D(!1)}},H=Q=>{const ee=Q.target.value;N(ee),c(ee),B.current&&clearTimeout(B.current),B.current=setTimeout(()=>{F(ee)},300)},$=Q=>{const ee=typeof Q=="string"?Q:Q.name;N(ee),c(ee),y(!1),g([])},K=Q=>{Q.key==="Enter"?s&&s(Q):Q.key==="Escape"&&y(!1)};return i.jsxs("div",{ref:j,className:"position-relative",children:[i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"text",value:v,onChange:H,onKeyDown:K,onFocus:()=>{h.length>0&&y(!0)},className:"form-control mb-2",placeholder:o,autoComplete:"off"}),S&&i.jsx("div",{className:"position-absolute",style:{right:"10px",top:"50%",transform:"translateY(-50%)"},children:i.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})})]}),_&&i.jsx("div",{className:"position-absolute w-100 bg-white border rounded shadow-sm",style:{zIndex:1e3,maxHeight:"200px",overflowY:"auto",top:"100%",left:0},children:h.length>0?h.map((Q,ee)=>i.jsx("div",{className:"px-3 py-2 cursor-pointer hover-bg-light",style:{cursor:"pointer"},onClick:()=>$(Q),onMouseEnter:ne=>ne.target.style.backgroundColor="#f8f9fa",onMouseLeave:ne=>ne.target.style.backgroundColor="white",children:Q.display_name},ee)):i.jsx("div",{className:"px-3 py-2 text-muted",children:"Không tìm thấy thành phố"})})]})};var g0,hT;function R5(){if(hT)return g0;hT=1;var l=typeof Rl=="object"&&Rl&&Rl.Object===Object&&Rl;return g0=l,g0}var b0,mT;function vu(){if(mT)return b0;mT=1;var l=R5(),c=typeof self=="object"&&self&&self.Object===Object&&self,s=l||c||Function("return this")();return b0=s,b0}var k0,fT;function iw(){if(fT)return k0;fT=1;var l=vu(),c=l.Symbol;return k0=c,k0}var _0,pT;function rq(){if(pT)return _0;pT=1;var l=iw(),c=Object.prototype,s=c.hasOwnProperty,o=c.toString,h=l?l.toStringTag:void 0;function g(_){var y=s.call(_,h),v=_[h];try{_[h]=void 0;var N=!0}catch{}var S=o.call(_);return N&&(y?_[h]=v:delete _[h]),S}return _0=g,_0}var v0,gT;function sq(){if(gT)return v0;gT=1;var l=Object.prototype,c=l.toString;function s(o){return c.call(o)}return v0=s,v0}var w0,bT;function Sb(){if(bT)return w0;bT=1;var l=iw(),c=rq(),s=sq(),o="[object Null]",h="[object Undefined]",g=l?l.toStringTag:void 0;function _(y){return y==null?y===void 0?h:o:g&&g in Object(y)?c(y):s(y)}return w0=_,w0}var y0,kT;function $A(){if(kT)return y0;kT=1;function l(c){var s=typeof c;return c!=null&&(s=="object"||s=="function")}return y0=l,y0}var x0,_T;function z5(){if(_T)return x0;_T=1;var l=Sb(),c=$A(),s="[object AsyncFunction]",o="[object Function]",h="[object GeneratorFunction]",g="[object Proxy]";function _(y){if(!c(y))return!1;var v=l(y);return v==o||v==h||v==s||v==g}return x0=_,x0}var C0,vT;function oq(){if(vT)return C0;vT=1;var l=vu(),c=l["__core-js_shared__"];return C0=c,C0}var A0,wT;function aq(){if(wT)return A0;wT=1;var l=oq(),c=function(){var o=/[^.]+$/.exec(l&&l.keys&&l.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();function s(o){return!!c&&c in o}return A0=s,A0}var N0,yT;function F5(){if(yT)return N0;yT=1;var l=Function.prototype,c=l.toString;function s(o){if(o!=null){try{return c.call(o)}catch{}try{return o+""}catch{}}return""}return N0=s,N0}var E0,xT;function lq(){if(xT)return E0;xT=1;var l=z5(),c=aq(),s=$A(),o=F5(),h=/[\\^$.*+?()[\]{}|]/g,g=/^\[object .+?Constructor\]$/,_=Function.prototype,y=Object.prototype,v=_.toString,N=y.hasOwnProperty,S=RegExp("^"+v.call(N).replace(h,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function D(j){if(!s(j)||c(j))return!1;var B=l(j)?S:g;return B.test(o(j))}return E0=D,E0}var S0,CT;function cq(){if(CT)return S0;CT=1;function l(c,s){return c==null?void 0:c[s]}return S0=l,S0}var j0,AT;function Fm(){if(AT)return j0;AT=1;var l=lq(),c=cq();function s(o,h){var g=c(o,h);return l(g)?g:void 0}return j0=s,j0}var D0,NT;function dq(){if(NT)return D0;NT=1;var l=Fm(),c=function(){try{var s=l(Object,"defineProperty");return s({},"",{}),s}catch{}}();return D0=c,D0}var T0,ET;function uq(){if(ET)return T0;ET=1;var l=dq();function c(s,o,h){o=="__proto__"&&l?l(s,o,{configurable:!0,enumerable:!0,value:h,writable:!0}):s[o]=h}return T0=c,T0}var M0,ST;function hq(){if(ST)return M0;ST=1;function l(c,s,o,h){for(var g=-1,_=c==null?0:c.length;++g<_;){var y=c[g];s(h,y,o(y),c)}return h}return M0=l,M0}var I0,jT;function mq(){if(jT)return I0;jT=1;function l(c){return function(s,o,h){for(var g=-1,_=Object(s),y=h(s),v=y.length;v--;){var N=y[c?v:++g];if(o(_[N],N,_)===!1)break}return s}}return I0=l,I0}var O0,DT;function fq(){if(DT)return O0;DT=1;var l=mq(),c=l();return O0=c,O0}var L0,TT;function pq(){if(TT)return L0;TT=1;function l(c,s){for(var o=-1,h=Array(c);++o<c;)h[o]=s(o);return h}return L0=l,L0}var B0,MT;function jb(){if(MT)return B0;MT=1;function l(c){return c!=null&&typeof c=="object"}return B0=l,B0}var P0,IT;function gq(){if(IT)return P0;IT=1;var l=Sb(),c=jb(),s="[object Arguments]";function o(h){return c(h)&&l(h)==s}return P0=o,P0}var R0,OT;function V5(){if(OT)return R0;OT=1;var l=gq(),c=jb(),s=Object.prototype,o=s.hasOwnProperty,h=s.propertyIsEnumerable,g=l(function(){return arguments}())?l:function(_){return c(_)&&o.call(_,"callee")&&!h.call(_,"callee")};return R0=g,R0}var z0,LT;function wu(){if(LT)return z0;LT=1;var l=Array.isArray;return z0=l,z0}var ib={exports:{}},F0,BT;function bq(){if(BT)return F0;BT=1;function l(){return!1}return F0=l,F0}ib.exports;var PT;function H5(){return PT||(PT=1,function(l,c){var s=vu(),o=bq(),h=c&&!c.nodeType&&c,g=h&&!0&&l&&!l.nodeType&&l,_=g&&g.exports===h,y=_?s.Buffer:void 0,v=y?y.isBuffer:void 0,N=v||o;l.exports=N}(ib,ib.exports)),ib.exports}var V0,RT;function U5(){if(RT)return V0;RT=1;var l=9007199254740991,c=/^(?:0|[1-9]\d*)$/;function s(o,h){var g=typeof o;return h=h??l,!!h&&(g=="number"||g!="symbol"&&c.test(o))&&o>-1&&o%1==0&&o<h}return V0=s,V0}var H0,zT;function qA(){if(zT)return H0;zT=1;var l=9007199254740991;function c(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=l}return H0=c,H0}var U0,FT;function kq(){if(FT)return U0;FT=1;var l=Sb(),c=qA(),s=jb(),o="[object Arguments]",h="[object Array]",g="[object Boolean]",_="[object Date]",y="[object Error]",v="[object Function]",N="[object Map]",S="[object Number]",D="[object Object]",j="[object RegExp]",B="[object Set]",F="[object String]",H="[object WeakMap]",$="[object ArrayBuffer]",K="[object DataView]",Q="[object Float32Array]",ee="[object Float64Array]",ne="[object Int8Array]",ce="[object Int16Array]",se="[object Int32Array]",q="[object Uint8Array]",ue="[object Uint8ClampedArray]",oe="[object Uint16Array]",be="[object Uint32Array]",pe={};pe[Q]=pe[ee]=pe[ne]=pe[ce]=pe[se]=pe[q]=pe[ue]=pe[oe]=pe[be]=!0,pe[o]=pe[h]=pe[$]=pe[g]=pe[K]=pe[_]=pe[y]=pe[v]=pe[N]=pe[S]=pe[D]=pe[j]=pe[B]=pe[F]=pe[H]=!1;function we(je){return s(je)&&c(je.length)&&!!pe[l(je)]}return U0=we,U0}var $0,VT;function _q(){if(VT)return $0;VT=1;function l(c){return function(s){return c(s)}}return $0=l,$0}var rb={exports:{}};rb.exports;var HT;function vq(){return HT||(HT=1,function(l,c){var s=R5(),o=c&&!c.nodeType&&c,h=o&&!0&&l&&!l.nodeType&&l,g=h&&h.exports===o,_=g&&s.process,y=function(){try{var v=h&&h.require&&h.require("util").types;return v||_&&_.binding&&_.binding("util")}catch{}}();l.exports=y}(rb,rb.exports)),rb.exports}var q0,UT;function $5(){if(UT)return q0;UT=1;var l=kq(),c=_q(),s=vq(),o=s&&s.isTypedArray,h=o?c(o):l;return q0=h,q0}var W0,$T;function wq(){if($T)return W0;$T=1;var l=pq(),c=V5(),s=wu(),o=H5(),h=U5(),g=$5(),_=Object.prototype,y=_.hasOwnProperty;function v(N,S){var D=s(N),j=!D&&c(N),B=!D&&!j&&o(N),F=!D&&!j&&!B&&g(N),H=D||j||B||F,$=H?l(N.length,String):[],K=$.length;for(var Q in N)(S||y.call(N,Q))&&!(H&&(Q=="length"||B&&(Q=="offset"||Q=="parent")||F&&(Q=="buffer"||Q=="byteLength"||Q=="byteOffset")||h(Q,K)))&&$.push(Q);return $}return W0=v,W0}var Y0,qT;function yq(){if(qT)return Y0;qT=1;var l=Object.prototype;function c(s){var o=s&&s.constructor,h=typeof o=="function"&&o.prototype||l;return s===h}return Y0=c,Y0}var G0,WT;function xq(){if(WT)return G0;WT=1;function l(c,s){return function(o){return c(s(o))}}return G0=l,G0}var K0,YT;function Cq(){if(YT)return K0;YT=1;var l=xq(),c=l(Object.keys,Object);return K0=c,K0}var Q0,GT;function Aq(){if(GT)return Q0;GT=1;var l=yq(),c=Cq(),s=Object.prototype,o=s.hasOwnProperty;function h(g){if(!l(g))return c(g);var _=[];for(var y in Object(g))o.call(g,y)&&y!="constructor"&&_.push(y);return _}return Q0=h,Q0}var Z0,KT;function q5(){if(KT)return Z0;KT=1;var l=z5(),c=qA();function s(o){return o!=null&&c(o.length)&&!l(o)}return Z0=s,Z0}var X0,QT;function WA(){if(QT)return X0;QT=1;var l=wq(),c=Aq(),s=q5();function o(h){return s(h)?l(h):c(h)}return X0=o,X0}var J0,ZT;function Nq(){if(ZT)return J0;ZT=1;var l=fq(),c=WA();function s(o,h){return o&&l(o,h,c)}return J0=s,J0}var ex,XT;function Eq(){if(XT)return ex;XT=1;var l=q5();function c(s,o){return function(h,g){if(h==null)return h;if(!l(h))return s(h,g);for(var _=h.length,y=o?_:-1,v=Object(h);(o?y--:++y<_)&&g(v[y],y,v)!==!1;);return h}}return ex=c,ex}var tx,JT;function Sq(){if(JT)return tx;JT=1;var l=Nq(),c=Eq(),s=c(l);return tx=s,tx}var nx,eM;function jq(){if(eM)return nx;eM=1;var l=Sq();function c(s,o,h,g){return l(s,function(_,y,v){o(g,_,h(_),v)}),g}return nx=c,nx}var ix,tM;function Dq(){if(tM)return ix;tM=1;function l(){this.__data__=[],this.size=0}return ix=l,ix}var rx,nM;function W5(){if(nM)return rx;nM=1;function l(c,s){return c===s||c!==c&&s!==s}return rx=l,rx}var sx,iM;function rw(){if(iM)return sx;iM=1;var l=W5();function c(s,o){for(var h=s.length;h--;)if(l(s[h][0],o))return h;return-1}return sx=c,sx}var ox,rM;function Tq(){if(rM)return ox;rM=1;var l=rw(),c=Array.prototype,s=c.splice;function o(h){var g=this.__data__,_=l(g,h);if(_<0)return!1;var y=g.length-1;return _==y?g.pop():s.call(g,_,1),--this.size,!0}return ox=o,ox}var ax,sM;function Mq(){if(sM)return ax;sM=1;var l=rw();function c(s){var o=this.__data__,h=l(o,s);return h<0?void 0:o[h][1]}return ax=c,ax}var lx,oM;function Iq(){if(oM)return lx;oM=1;var l=rw();function c(s){return l(this.__data__,s)>-1}return lx=c,lx}var cx,aM;function Oq(){if(aM)return cx;aM=1;var l=rw();function c(s,o){var h=this.__data__,g=l(h,s);return g<0?(++this.size,h.push([s,o])):h[g][1]=o,this}return cx=c,cx}var dx,lM;function sw(){if(lM)return dx;lM=1;var l=Dq(),c=Tq(),s=Mq(),o=Iq(),h=Oq();function g(_){var y=-1,v=_==null?0:_.length;for(this.clear();++y<v;){var N=_[y];this.set(N[0],N[1])}}return g.prototype.clear=l,g.prototype.delete=c,g.prototype.get=s,g.prototype.has=o,g.prototype.set=h,dx=g,dx}var ux,cM;function Lq(){if(cM)return ux;cM=1;var l=sw();function c(){this.__data__=new l,this.size=0}return ux=c,ux}var hx,dM;function Bq(){if(dM)return hx;dM=1;function l(c){var s=this.__data__,o=s.delete(c);return this.size=s.size,o}return hx=l,hx}var mx,uM;function Pq(){if(uM)return mx;uM=1;function l(c){return this.__data__.get(c)}return mx=l,mx}var fx,hM;function Rq(){if(hM)return fx;hM=1;function l(c){return this.__data__.has(c)}return fx=l,fx}var px,mM;function YA(){if(mM)return px;mM=1;var l=Fm(),c=vu(),s=l(c,"Map");return px=s,px}var gx,fM;function ow(){if(fM)return gx;fM=1;var l=Fm(),c=l(Object,"create");return gx=c,gx}var bx,pM;function zq(){if(pM)return bx;pM=1;var l=ow();function c(){this.__data__=l?l(null):{},this.size=0}return bx=c,bx}var kx,gM;function Fq(){if(gM)return kx;gM=1;function l(c){var s=this.has(c)&&delete this.__data__[c];return this.size-=s?1:0,s}return kx=l,kx}var _x,bM;function Vq(){if(bM)return _x;bM=1;var l=ow(),c="__lodash_hash_undefined__",s=Object.prototype,o=s.hasOwnProperty;function h(g){var _=this.__data__;if(l){var y=_[g];return y===c?void 0:y}return o.call(_,g)?_[g]:void 0}return _x=h,_x}var vx,kM;function Hq(){if(kM)return vx;kM=1;var l=ow(),c=Object.prototype,s=c.hasOwnProperty;function o(h){var g=this.__data__;return l?g[h]!==void 0:s.call(g,h)}return vx=o,vx}var wx,_M;function Uq(){if(_M)return wx;_M=1;var l=ow(),c="__lodash_hash_undefined__";function s(o,h){var g=this.__data__;return this.size+=this.has(o)?0:1,g[o]=l&&h===void 0?c:h,this}return wx=s,wx}var yx,vM;function $q(){if(vM)return yx;vM=1;var l=zq(),c=Fq(),s=Vq(),o=Hq(),h=Uq();function g(_){var y=-1,v=_==null?0:_.length;for(this.clear();++y<v;){var N=_[y];this.set(N[0],N[1])}}return g.prototype.clear=l,g.prototype.delete=c,g.prototype.get=s,g.prototype.has=o,g.prototype.set=h,yx=g,yx}var xx,wM;function qq(){if(wM)return xx;wM=1;var l=$q(),c=sw(),s=YA();function o(){this.size=0,this.__data__={hash:new l,map:new(s||c),string:new l}}return xx=o,xx}var Cx,yM;function Wq(){if(yM)return Cx;yM=1;function l(c){var s=typeof c;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?c!=="__proto__":c===null}return Cx=l,Cx}var Ax,xM;function aw(){if(xM)return Ax;xM=1;var l=Wq();function c(s,o){var h=s.__data__;return l(o)?h[typeof o=="string"?"string":"hash"]:h.map}return Ax=c,Ax}var Nx,CM;function Yq(){if(CM)return Nx;CM=1;var l=aw();function c(s){var o=l(this,s).delete(s);return this.size-=o?1:0,o}return Nx=c,Nx}var Ex,AM;function Gq(){if(AM)return Ex;AM=1;var l=aw();function c(s){return l(this,s).get(s)}return Ex=c,Ex}var Sx,NM;function Kq(){if(NM)return Sx;NM=1;var l=aw();function c(s){return l(this,s).has(s)}return Sx=c,Sx}var jx,EM;function Qq(){if(EM)return jx;EM=1;var l=aw();function c(s,o){var h=l(this,s),g=h.size;return h.set(s,o),this.size+=h.size==g?0:1,this}return jx=c,jx}var Dx,SM;function GA(){if(SM)return Dx;SM=1;var l=qq(),c=Yq(),s=Gq(),o=Kq(),h=Qq();function g(_){var y=-1,v=_==null?0:_.length;for(this.clear();++y<v;){var N=_[y];this.set(N[0],N[1])}}return g.prototype.clear=l,g.prototype.delete=c,g.prototype.get=s,g.prototype.has=o,g.prototype.set=h,Dx=g,Dx}var Tx,jM;function Zq(){if(jM)return Tx;jM=1;var l=sw(),c=YA(),s=GA(),o=200;function h(g,_){var y=this.__data__;if(y instanceof l){var v=y.__data__;if(!c||v.length<o-1)return v.push([g,_]),this.size=++y.size,this;y=this.__data__=new s(v)}return y.set(g,_),this.size=y.size,this}return Tx=h,Tx}var Mx,DM;function Y5(){if(DM)return Mx;DM=1;var l=sw(),c=Lq(),s=Bq(),o=Pq(),h=Rq(),g=Zq();function _(y){var v=this.__data__=new l(y);this.size=v.size}return _.prototype.clear=c,_.prototype.delete=s,_.prototype.get=o,_.prototype.has=h,_.prototype.set=g,Mx=_,Mx}var Ix,TM;function Xq(){if(TM)return Ix;TM=1;var l="__lodash_hash_undefined__";function c(s){return this.__data__.set(s,l),this}return Ix=c,Ix}var Ox,MM;function Jq(){if(MM)return Ox;MM=1;function l(c){return this.__data__.has(c)}return Ox=l,Ox}var Lx,IM;function eW(){if(IM)return Lx;IM=1;var l=GA(),c=Xq(),s=Jq();function o(h){var g=-1,_=h==null?0:h.length;for(this.__data__=new l;++g<_;)this.add(h[g])}return o.prototype.add=o.prototype.push=c,o.prototype.has=s,Lx=o,Lx}var Bx,OM;function tW(){if(OM)return Bx;OM=1;function l(c,s){for(var o=-1,h=c==null?0:c.length;++o<h;)if(s(c[o],o,c))return!0;return!1}return Bx=l,Bx}var Px,LM;function nW(){if(LM)return Px;LM=1;function l(c,s){return c.has(s)}return Px=l,Px}var Rx,BM;function G5(){if(BM)return Rx;BM=1;var l=eW(),c=tW(),s=nW(),o=1,h=2;function g(_,y,v,N,S,D){var j=v&o,B=_.length,F=y.length;if(B!=F&&!(j&&F>B))return!1;var H=D.get(_),$=D.get(y);if(H&&$)return H==y&&$==_;var K=-1,Q=!0,ee=v&h?new l:void 0;for(D.set(_,y),D.set(y,_);++K<B;){var ne=_[K],ce=y[K];if(N)var se=j?N(ce,ne,K,y,_,D):N(ne,ce,K,_,y,D);if(se!==void 0){if(se)continue;Q=!1;break}if(ee){if(!c(y,function(q,ue){if(!s(ee,ue)&&(ne===q||S(ne,q,v,N,D)))return ee.push(ue)})){Q=!1;break}}else if(!(ne===ce||S(ne,ce,v,N,D))){Q=!1;break}}return D.delete(_),D.delete(y),Q}return Rx=g,Rx}var zx,PM;function iW(){if(PM)return zx;PM=1;var l=vu(),c=l.Uint8Array;return zx=c,zx}var Fx,RM;function rW(){if(RM)return Fx;RM=1;function l(c){var s=-1,o=Array(c.size);return c.forEach(function(h,g){o[++s]=[g,h]}),o}return Fx=l,Fx}var Vx,zM;function sW(){if(zM)return Vx;zM=1;function l(c){var s=-1,o=Array(c.size);return c.forEach(function(h){o[++s]=h}),o}return Vx=l,Vx}var Hx,FM;function oW(){if(FM)return Hx;FM=1;var l=iw(),c=iW(),s=W5(),o=G5(),h=rW(),g=sW(),_=1,y=2,v="[object Boolean]",N="[object Date]",S="[object Error]",D="[object Map]",j="[object Number]",B="[object RegExp]",F="[object Set]",H="[object String]",$="[object Symbol]",K="[object ArrayBuffer]",Q="[object DataView]",ee=l?l.prototype:void 0,ne=ee?ee.valueOf:void 0;function ce(se,q,ue,oe,be,pe,we){switch(ue){case Q:if(se.byteLength!=q.byteLength||se.byteOffset!=q.byteOffset)return!1;se=se.buffer,q=q.buffer;case K:return!(se.byteLength!=q.byteLength||!pe(new c(se),new c(q)));case v:case N:case j:return s(+se,+q);case S:return se.name==q.name&&se.message==q.message;case B:case H:return se==q+"";case D:var je=h;case F:var ye=oe&_;if(je||(je=g),se.size!=q.size&&!ye)return!1;var Me=we.get(se);if(Me)return Me==q;oe|=y,we.set(se,q);var le=o(je(se),je(q),oe,be,pe,we);return we.delete(se),le;case $:if(ne)return ne.call(se)==ne.call(q)}return!1}return Hx=ce,Hx}var Ux,VM;function aW(){if(VM)return Ux;VM=1;function l(c,s){for(var o=-1,h=s.length,g=c.length;++o<h;)c[g+o]=s[o];return c}return Ux=l,Ux}var $x,HM;function lW(){if(HM)return $x;HM=1;var l=aW(),c=wu();function s(o,h,g){var _=h(o);return c(o)?_:l(_,g(o))}return $x=s,$x}var qx,UM;function cW(){if(UM)return qx;UM=1;function l(c,s){for(var o=-1,h=c==null?0:c.length,g=0,_=[];++o<h;){var y=c[o];s(y,o,c)&&(_[g++]=y)}return _}return qx=l,qx}var Wx,$M;function dW(){if($M)return Wx;$M=1;function l(){return[]}return Wx=l,Wx}var Yx,qM;function uW(){if(qM)return Yx;qM=1;var l=cW(),c=dW(),s=Object.prototype,o=s.propertyIsEnumerable,h=Object.getOwnPropertySymbols,g=h?function(_){return _==null?[]:(_=Object(_),l(h(_),function(y){return o.call(_,y)}))}:c;return Yx=g,Yx}var Gx,WM;function hW(){if(WM)return Gx;WM=1;var l=lW(),c=uW(),s=WA();function o(h){return l(h,s,c)}return Gx=o,Gx}var Kx,YM;function mW(){if(YM)return Kx;YM=1;var l=hW(),c=1,s=Object.prototype,o=s.hasOwnProperty;function h(g,_,y,v,N,S){var D=y&c,j=l(g),B=j.length,F=l(_),H=F.length;if(B!=H&&!D)return!1;for(var $=B;$--;){var K=j[$];if(!(D?K in _:o.call(_,K)))return!1}var Q=S.get(g),ee=S.get(_);if(Q&&ee)return Q==_&&ee==g;var ne=!0;S.set(g,_),S.set(_,g);for(var ce=D;++$<B;){K=j[$];var se=g[K],q=_[K];if(v)var ue=D?v(q,se,K,_,g,S):v(se,q,K,g,_,S);if(!(ue===void 0?se===q||N(se,q,y,v,S):ue)){ne=!1;break}ce||(ce=K=="constructor")}if(ne&&!ce){var oe=g.constructor,be=_.constructor;oe!=be&&"constructor"in g&&"constructor"in _&&!(typeof oe=="function"&&oe instanceof oe&&typeof be=="function"&&be instanceof be)&&(ne=!1)}return S.delete(g),S.delete(_),ne}return Kx=h,Kx}var Qx,GM;function fW(){if(GM)return Qx;GM=1;var l=Fm(),c=vu(),s=l(c,"DataView");return Qx=s,Qx}var Zx,KM;function pW(){if(KM)return Zx;KM=1;var l=Fm(),c=vu(),s=l(c,"Promise");return Zx=s,Zx}var Xx,QM;function gW(){if(QM)return Xx;QM=1;var l=Fm(),c=vu(),s=l(c,"Set");return Xx=s,Xx}var Jx,ZM;function bW(){if(ZM)return Jx;ZM=1;var l=Fm(),c=vu(),s=l(c,"WeakMap");return Jx=s,Jx}var eC,XM;function kW(){if(XM)return eC;XM=1;var l=fW(),c=YA(),s=pW(),o=gW(),h=bW(),g=Sb(),_=F5(),y="[object Map]",v="[object Object]",N="[object Promise]",S="[object Set]",D="[object WeakMap]",j="[object DataView]",B=_(l),F=_(c),H=_(s),$=_(o),K=_(h),Q=g;return(l&&Q(new l(new ArrayBuffer(1)))!=j||c&&Q(new c)!=y||s&&Q(s.resolve())!=N||o&&Q(new o)!=S||h&&Q(new h)!=D)&&(Q=function(ee){var ne=g(ee),ce=ne==v?ee.constructor:void 0,se=ce?_(ce):"";if(se)switch(se){case B:return j;case F:return y;case H:return N;case $:return S;case K:return D}return ne}),eC=Q,eC}var tC,JM;function _W(){if(JM)return tC;JM=1;var l=Y5(),c=G5(),s=oW(),o=mW(),h=kW(),g=wu(),_=H5(),y=$5(),v=1,N="[object Arguments]",S="[object Array]",D="[object Object]",j=Object.prototype,B=j.hasOwnProperty;function F(H,$,K,Q,ee,ne){var ce=g(H),se=g($),q=ce?S:h(H),ue=se?S:h($);q=q==N?D:q,ue=ue==N?D:ue;var oe=q==D,be=ue==D,pe=q==ue;if(pe&&_(H)){if(!_($))return!1;ce=!0,oe=!1}if(pe&&!oe)return ne||(ne=new l),ce||y(H)?c(H,$,K,Q,ee,ne):s(H,$,q,K,Q,ee,ne);if(!(K&v)){var we=oe&&B.call(H,"__wrapped__"),je=be&&B.call($,"__wrapped__");if(we||je){var ye=we?H.value():H,Me=je?$.value():$;return ne||(ne=new l),ee(ye,Me,K,Q,ne)}}return pe?(ne||(ne=new l),o(H,$,K,Q,ee,ne)):!1}return tC=F,tC}var nC,eI;function K5(){if(eI)return nC;eI=1;var l=_W(),c=jb();function s(o,h,g,_,y){return o===h?!0:o==null||h==null||!c(o)&&!c(h)?o!==o&&h!==h:l(o,h,g,_,s,y)}return nC=s,nC}var iC,tI;function vW(){if(tI)return iC;tI=1;var l=Y5(),c=K5(),s=1,o=2;function h(g,_,y,v){var N=y.length,S=N,D=!v;if(g==null)return!S;for(g=Object(g);N--;){var j=y[N];if(D&&j[2]?j[1]!==g[j[0]]:!(j[0]in g))return!1}for(;++N<S;){j=y[N];var B=j[0],F=g[B],H=j[1];if(D&&j[2]){if(F===void 0&&!(B in g))return!1}else{var $=new l;if(v)var K=v(F,H,B,g,_,$);if(!(K===void 0?c(H,F,s|o,v,$):K))return!1}}return!0}return iC=h,iC}var rC,nI;function Q5(){if(nI)return rC;nI=1;var l=$A();function c(s){return s===s&&!l(s)}return rC=c,rC}var sC,iI;function wW(){if(iI)return sC;iI=1;var l=Q5(),c=WA();function s(o){for(var h=c(o),g=h.length;g--;){var _=h[g],y=o[_];h[g]=[_,y,l(y)]}return h}return sC=s,sC}var oC,rI;function Z5(){if(rI)return oC;rI=1;function l(c,s){return function(o){return o==null?!1:o[c]===s&&(s!==void 0||c in Object(o))}}return oC=l,oC}var aC,sI;function yW(){if(sI)return aC;sI=1;var l=vW(),c=wW(),s=Z5();function o(h){var g=c(h);return g.length==1&&g[0][2]?s(g[0][0],g[0][1]):function(_){return _===h||l(_,h,g)}}return aC=o,aC}var lC,oI;function KA(){if(oI)return lC;oI=1;var l=Sb(),c=jb(),s="[object Symbol]";function o(h){return typeof h=="symbol"||c(h)&&l(h)==s}return lC=o,lC}var cC,aI;function QA(){if(aI)return cC;aI=1;var l=wu(),c=KA(),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;function h(g,_){if(l(g))return!1;var y=typeof g;return y=="number"||y=="symbol"||y=="boolean"||g==null||c(g)?!0:o.test(g)||!s.test(g)||_!=null&&g in Object(_)}return cC=h,cC}var dC,lI;function xW(){if(lI)return dC;lI=1;var l=GA(),c="Expected a function";function s(o,h){if(typeof o!="function"||h!=null&&typeof h!="function")throw new TypeError(c);var g=function(){var _=arguments,y=h?h.apply(this,_):_[0],v=g.cache;if(v.has(y))return v.get(y);var N=o.apply(this,_);return g.cache=v.set(y,N)||v,N};return g.cache=new(s.Cache||l),g}return s.Cache=l,dC=s,dC}var uC,cI;function CW(){if(cI)return uC;cI=1;var l=xW(),c=500;function s(o){var h=l(o,function(_){return g.size===c&&g.clear(),_}),g=h.cache;return h}return uC=s,uC}var hC,dI;function AW(){if(dI)return hC;dI=1;var l=CW(),c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,o=l(function(h){var g=[];return h.charCodeAt(0)===46&&g.push(""),h.replace(c,function(_,y,v,N){g.push(v?N.replace(s,"$1"):y||_)}),g});return hC=o,hC}var mC,uI;function NW(){if(uI)return mC;uI=1;function l(c,s){for(var o=-1,h=c==null?0:c.length,g=Array(h);++o<h;)g[o]=s(c[o],o,c);return g}return mC=l,mC}var fC,hI;function EW(){if(hI)return fC;hI=1;var l=iw(),c=NW(),s=wu(),o=KA(),h=l?l.prototype:void 0,g=h?h.toString:void 0;function _(y){if(typeof y=="string")return y;if(s(y))return c(y,_)+"";if(o(y))return g?g.call(y):"";var v=y+"";return v=="0"&&1/y==-1/0?"-0":v}return fC=_,fC}var pC,mI;function SW(){if(mI)return pC;mI=1;var l=EW();function c(s){return s==null?"":l(s)}return pC=c,pC}var gC,fI;function X5(){if(fI)return gC;fI=1;var l=wu(),c=QA(),s=AW(),o=SW();function h(g,_){return l(g)?g:c(g,_)?[g]:s(o(g))}return gC=h,gC}var bC,pI;function lw(){if(pI)return bC;pI=1;var l=KA();function c(s){if(typeof s=="string"||l(s))return s;var o=s+"";return o=="0"&&1/s==-1/0?"-0":o}return bC=c,bC}var kC,gI;function J5(){if(gI)return kC;gI=1;var l=X5(),c=lw();function s(o,h){h=l(h,o);for(var g=0,_=h.length;o!=null&&g<_;)o=o[c(h[g++])];return g&&g==_?o:void 0}return kC=s,kC}var _C,bI;function jW(){if(bI)return _C;bI=1;var l=J5();function c(s,o,h){var g=s==null?void 0:l(s,o);return g===void 0?h:g}return _C=c,_C}var vC,kI;function DW(){if(kI)return vC;kI=1;function l(c,s){return c!=null&&s in Object(c)}return vC=l,vC}var wC,_I;function TW(){if(_I)return wC;_I=1;var l=X5(),c=V5(),s=wu(),o=U5(),h=qA(),g=lw();function _(y,v,N){v=l(v,y);for(var S=-1,D=v.length,j=!1;++S<D;){var B=g(v[S]);if(!(j=y!=null&&N(y,B)))break;y=y[B]}return j||++S!=D?j:(D=y==null?0:y.length,!!D&&h(D)&&o(B,D)&&(s(y)||c(y)))}return wC=_,wC}var yC,vI;function MW(){if(vI)return yC;vI=1;var l=DW(),c=TW();function s(o,h){return o!=null&&c(o,h,l)}return yC=s,yC}var xC,wI;function IW(){if(wI)return xC;wI=1;var l=K5(),c=jW(),s=MW(),o=QA(),h=Q5(),g=Z5(),_=lw(),y=1,v=2;function N(S,D){return o(S)&&h(D)?g(_(S),D):function(j){var B=c(j,S);return B===void 0&&B===D?s(j,S):l(D,B,y|v)}}return xC=N,xC}var CC,yI;function OW(){if(yI)return CC;yI=1;function l(c){return c}return CC=l,CC}var AC,xI;function LW(){if(xI)return AC;xI=1;function l(c){return function(s){return s==null?void 0:s[c]}}return AC=l,AC}var NC,CI;function BW(){if(CI)return NC;CI=1;var l=J5();function c(s){return function(o){return l(o,s)}}return NC=c,NC}var EC,AI;function PW(){if(AI)return EC;AI=1;var l=LW(),c=BW(),s=QA(),o=lw();function h(g){return s(g)?l(o(g)):c(g)}return EC=h,EC}var SC,NI;function RW(){if(NI)return SC;NI=1;var l=yW(),c=IW(),s=OW(),o=wu(),h=PW();function g(_){return typeof _=="function"?_:_==null?s:typeof _=="object"?o(_)?c(_[0],_[1]):l(_):h(_)}return SC=g,SC}var jC,EI;function zW(){if(EI)return jC;EI=1;var l=hq(),c=jq(),s=RW(),o=wu();function h(g,_){return function(y,v){var N=o(y)?l:c,S=_?_():{};return N(y,g,s(v,2),S)}}return jC=h,jC}var DC,SI;function FW(){if(SI)return DC;SI=1;var l=uq(),c=zW(),s=Object.prototype,o=s.hasOwnProperty,h=c(function(g,_,y){o.call(g,y)?g[y].push(_):l(g,y,[_])});return DC=h,DC}FW();const fh={bookHotel:l=>Ft.post("/hotels/hotel-bookings",l),getUserHotelBookings:l=>Ft.get(`/hotels/hotel-bookings/user/${l}`),searchByCity:l=>kt.get(`http://localhost:3000/api/hotels/search?city=${encodeURIComponent(l)}`)},au="https://walkingguide.onrender.com";function eL({noLayout:l}){var hi;const[c,s]=I.useState([]),[o,h]=I.useState(""),[g,_]=I.useState(""),[y,v]=I.useState(0),[N,S]=I.useState([]),[D,j]=I.useState(!1),{user:B,logout:F,refreshNotifications:H}=I.useContext(cs),[$,K]=I.useState(""),[Q,ee]=I.useState(""),[ne,ce]=I.useState(""),[se,q]=I.useState([]),[ue,oe]=I.useState(""),[be,pe]=I.useState([]),[we,je]=I.useState([]),[ye,Me]=I.useState([]),[le,_e]=I.useState(!1),me=ba(),[Ee,Z]=I.useState(null),[fe,ke]=I.useState(!1),Be=B?B.id:null,[Ve,nt]=I.useState(!1),[te,Ce]=I.useState(""),[qe,Ke]=I.useState("danger"),[Ie,rt]=I.useState([]),[Ye,Te]=I.useState(null),[ht,ze]=I.useState(""),[ut,Rt]=I.useState(""),[Jt,ot]=I.useState(null),[jt,Dt]=I.useState({}),[Qe,Mt]=I.useState(!1),[Lt,$e]=I.useState(null),[bt,$t]=I.useState(""),[mn,Rn]=I.useState(""),[yn,ai]=I.useState(null),[br,Ar]=I.useState("");I.useEffect(()=>{Ft.get("/places").then(ve=>{s(ve.data)}),Ft.get("/tags").then(ve=>pe(ve.data))},[]),I.useEffect(()=>{Ft.get("/hotels").then(ve=>{rt(ve.data.data||ve.data)})},[]),I.useEffect(()=>{$&&Q&&(ze($),Rt(Q))},[$,Q]);const er=ve=>ve?ve.startsWith("http")?ve:`${au}${ve}`:"/default-hotel.jpg",Ii=ve=>ve&&ve.image_url?ve.image_url.startsWith("http")?ve.image_url:`${au}${ve.image_url}`:"/default-place.jpg";I.useEffect(()=>{Jt&&Jt.latitude&&Jt.longitude?Ft.get(`${au}/api/hotels/search?latitude=${Jt.latitude}&longitude=${Jt.longitude}&radius=10`).then(ve=>{rt(ve.data.data||ve.data)}):Jt&&Jt.city&&Ft.get(`${au}/api/hotels/search?city=${encodeURIComponent(Jt.city)}`).then(ve=>{rt(ve.data.data||ve.data)})},[Jt]),I.useEffect(()=>{se.length>0?Promise.all(se.map(ve=>Ft.get(`${au}/api/hotels/search?city=${encodeURIComponent(ve)}`).then(dt=>({city:ve,hotels:dt.data.data||dt.data})).catch(()=>({city:ve,hotels:[]})))).then(ve=>{const dt={};ve.forEach(({city:xt,hotels:Se})=>{dt[xt]=Se}),Dt(dt)}):Ft.get(`${au}/api/hotels`).then(ve=>{Dt({All:ve.data.data||ve.data})})},[se]);const ii=async ve=>{if(!ve||ve.length===0){Me([]);return}_e(!0);try{const dt=[];console.log("Searching places for cities:",ve);for(const xt of ve)try{console.log(`Searching places for city: "${xt}"`);const Se=await Ft.get(`${au}/api/places/search?city=${encodeURIComponent(xt)}`);if(console.log(`Response for "${xt}":`,Se.data),Se.data&&Se.data.length>0){const Et=Se.data.map(Tt=>({...Tt,sourceCity:xt}));dt.push(...Et),console.log(`Found ${Se.data.length} places for "${xt}"`)}else{console.log(`No places found for "${xt}"`);try{const Tt=(await Ft.get(`${au}/api/places`)).data,vn=xt.toLowerCase(),fn=Tt.filter(Pn=>{if(!Pn.city)return!1;const an=Pn.city.toLowerCase();return an.includes(vn)||vn.includes(an)});if(fn.length>0){console.log(`Found ${fn.length} places with similar city names for "${xt}"`);const Pn=fn.map(an=>({...an,sourceCity:xt}));dt.push(...Pn)}}catch(Et){console.error("Error in fallback search:",Et)}}}catch(Se){console.error(`Error searching places for city "${xt}":`,Se)}console.log("Total places found:",dt.length),Me(dt)}catch(dt){console.error("Error searching places by cities:",dt),Me([])}finally{_e(!1)}},Jn=ve=>{const dt=se.filter(xt=>xt!==ve);q(dt),ne===ve&&ce(dt.length>0?dt[0]:""),ii(dt)},Br=()=>{const ve={};return ye.forEach(dt=>{const xt=dt.sourceCity||dt.city;ve[xt]||(ve[xt]=[]),ve[xt].push(dt)}),ve},fi=()=>{const ve=document.getElementById("tagSelect"),dt=ve.value;dt&&!we.includes(dt)&&(je([...we,dt]),ve.value="")},or=ve=>{je(we.filter(dt=>dt!==ve))},kr=()=>{if($&&Q){const ve=new Date($),dt=new Date(Q),xt=Math.abs(dt-ve),Se=Math.ceil(xt/(1e3*60*60*24));return Math.max(1,Se)}return Math.max(1,Math.ceil(N.length/3))},tr=ve=>ve?new Date(ve).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"",Ue=()=>new Date().toISOString().split("T")[0],qt=()=>{if(!$)return Ue();const ve=new Date($),dt=new Date(ve);return dt.setDate(ve.getDate()+1),dt.toISOString().split("T")[0]},lt=()=>{S([...N,{place_id:"",step_order:N.length+1,start_time:"",end_time:"",day:1}])},on=ve=>{const xt=N.filter((Se,Et)=>Et!==ve).map((Se,Et)=>({...Se,step_order:Et+1}));S(xt)},Re=(ve,dt)=>{if(dt==="up"&&ve===0||dt==="down"&&ve===N.length-1)return;const xt=[...N],Se=dt==="up"?ve-1:ve+1;[xt[ve],xt[Se]]=[xt[Se],xt[ve]],xt.forEach((Et,Tt)=>{Et.step_order=Tt+1}),S(xt)},Ot=(ve,dt,xt)=>{const Se=[...N];dt==="step_order"||dt==="day"?Se[ve][dt]=parseInt(xt)||1:Se[ve][dt]=xt,S(Se)},pt=async ve=>{if(ve.preventDefault(),N.length===0){Ce("Vui lòng thêm ít nhất một địa điểm!"),Ke("warning"),nt(!0);return}if(N.some(Tt=>!Tt.place_id)){Ce("Vui lòng chọn địa điểm cho tất cả các bước!"),Ke("warning"),nt(!0);return}const dt=N[0],xt=Bt(dt.place_id),Se=xt?xt.name:o,Et=xt&&xt.image_url?xt.image_url:"";j(!0);try{const Tt=await Ft.post(`${au}/api/tours`,{name:Se,description:g,user_id:Be,total_cost:parseFloat(y)||0,start_time:$,end_time:Q,steps:N,image_url:Et});Z(Tt.data.tour||Tt.data),ke(!0),h(""),_(""),v(0),S([]),H(),setTimeout(()=>me("/my-tours"),1200)}catch{Ce("Lỗi khi tạo tour"),Ke("danger"),nt(!0)}finally{j(!1)}},Bt=ve=>c.find(dt=>dt.id==ve),ln=N.reduce((ve,dt)=>{const xt=dt.day||1;return ve[xt]||(ve[xt]=[]),ve[xt].push(dt),ve},{}),En=Object.keys(ln).sort((ve,dt)=>ve-dt);if(!B){const ve=i.jsx("div",{className:"container py-4",children:i.jsx("div",{className:"alert alert-warning mt-3",children:"Bạn cần đăng nhập để sử dụng chức năng này."})});return l?ve:i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Lr,{}),i.jsx(iq,{activePage:"plan"}),i.jsx("main",{className:"container py-4 flex-grow-1",children:ve}),i.jsx(qr,{})]})}const Dn=i.jsxs("div",{className:"luxury-planner-container",children:[Ve&&i.jsxs("div",{className:`alert alert-${qe} alert-dismissible fade show`,role:"alert",children:[i.jsx("i",{className:`bi ${qe==="danger"?"bi-exclamation-triangle-fill":"bi-exclamation-circle-fill"} me-2`}),te,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>nt(!1)})]}),i.jsx("div",{className:"luxury-card mb-4",children:i.jsx("div",{className:"luxury-card-body",children:i.jsxs("div",{className:"row g-3",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:["Khởi hành từ ",i.jsx("span",{className:"text-danger",children:"*"})]}),i.jsx(UA,{value:o,onChange:h,placeholder:"Nhập điểm khởi hành"})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:[i.jsx("i",{className:"bi bi-geo-alt me-2 text-primary"}),"Thành phố muốn đi"]}),i.jsxs("div",{className:"d-flex gap-2 mb-2",children:[i.jsx(Eb,{value:ue,onChange:ve=>{oe(ve)},onKeyPress:ve=>{if(ve.key==="Enter"&&ue.trim()&&!se.includes(ue.trim())){ve.preventDefault();const dt=[...se,ue.trim()];q(dt),oe(""),ii(dt)}},placeholder:"Chọn hoặc nhập thành phố..."}),i.jsx("button",{type:"button",className:"btn btn-outline-success",onClick:()=>{if(ue.trim()&&!se.includes(ue.trim())){const ve=[...se,ue.trim()];q(ve),oe(""),ii(ve)}},disabled:!ue.trim(),children:i.jsx("i",{className:"bi bi-plus"})})]}),se.length>0&&i.jsx("div",{className:"mt-2",children:se.map((ve,dt)=>i.jsxs("span",{className:"badge bg-success me-2 mb-1",style:{fontSize:"1em"},children:[i.jsx("i",{className:"bi bi-geo-alt me-1"}),ve,i.jsx("button",{type:"button",className:"btn btn-sm btn-link text-white ms-1 p-0 text-decoration-none",style:{fontSize:"1em"},title:"Xóa thành phố",onClick:()=>Jn(ve),children:"×"})]},dt))})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:[i.jsx("i",{className:"bi bi-tags me-2 text-info"}),"Loại địa điểm muốn khám phá"]}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsxs("select",{id:"tagSelect",className:"form-select",onChange:fi,children:[i.jsx("option",{value:"",children:"Chọn loại địa điểm..."}),be.filter(ve=>!we.includes(String(ve.id))).map(ve=>i.jsx("option",{value:ve.id,children:ve.name},ve.id))]}),i.jsx("button",{type:"button",className:"btn btn-outline-info",onClick:fi,disabled:!((hi=document.getElementById("tagSelect"))!=null&&hi.value),children:i.jsx("i",{className:"bi bi-plus"})})]}),we.length>0&&i.jsx("div",{className:"mt-2",children:we.map(ve=>{const dt=be.find(xt=>String(xt.id)===String(ve));return dt?i.jsxs("span",{className:"badge bg-info me-2 mb-1",style:{fontSize:"1em"},children:[i.jsx("i",{className:"bi bi-tag me-1"}),dt.name,i.jsx("button",{type:"button",className:"btn btn-sm btn-link text-white ms-1 p-0 text-decoration-none",style:{fontSize:"1em"},title:"Xóa loại địa điểm",onClick:()=>or(String(dt.id)),children:"×"})]},dt.id):null})})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:[i.jsx("i",{className:"bi bi-currency-dollar me-2 text-success"}),"Tổng chi phí (VND)"]}),i.jsx("input",{className:"form-control",type:"text",value:y?parseInt(y).toLocaleString("vi-VN"):"",onChange:ve=>{const dt=ve.target.value.replace(/\D/g,"");v(dt)},placeholder:"Nhập chi phí dự kiến"}),y&&i.jsxs("div",{className:"form-text",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),"Chi phí: ",parseInt(y).toLocaleString("vi-VN")," VNĐ"]}),y&&y.length>0&&y.length<=3&&!y.endsWith("000")&&i.jsxs("div",{className:"mt-2",children:[i.jsx("small",{className:"text-muted",children:"Gợi ý:"}),i.jsx("div",{className:"d-flex flex-wrap gap-1 mt-1",children:(()=>{const ve=y.replace(/\D/g,"");return[{value:ve+"000",label:ve+".000 VNĐ"},{value:ve+"0000",label:ve+"0.000 VNĐ"},{value:ve+"00000",label:ve+"00.000 VNĐ"},{value:ve+"000000",label:ve+".000.000 VNĐ"},{value:ve+"0000000",label:ve+"0.000.000 VNĐ"}].filter(xt=>xt.value!==y).map((xt,Se)=>i.jsx("button",{type:"button",className:"btn btn-outline-success btn-sm",style:{fontSize:"0.8rem",padding:"0.25rem 0.5rem"},onClick:()=>v(xt.value),children:xt.label},Se))})()})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:[i.jsx("i",{className:"bi bi-calendar-event me-2 text-primary"}),"Ngày bắt đầu"]}),i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"date",className:"form-control",value:$,onChange:ve=>K(ve.target.value),min:Ue()}),$&&i.jsxs("div",{className:"form-text mt-1",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),tr($)]})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:[i.jsx("i",{className:"bi bi-calendar-check me-2 text-primary"}),"Ngày kết thúc"]}),i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"date",className:"form-control",value:Q,onChange:ve=>ee(ve.target.value),min:qt(),disabled:!$}),Q&&i.jsxs("div",{className:"form-text mt-1",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),tr(Q)," (",kr()," ngày)"]}),!$&&i.jsxs("div",{className:"form-text mt-1",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-1 text-warning"}),"Vui lòng chọn ngày bắt đầu trước"]})]})]}),i.jsxs("div",{className:"col-12",children:[i.jsx("label",{className:"form-label fw-bold",children:"Mô tả"}),i.jsx("textarea",{className:"form-control",rows:"3",value:g,onChange:ve=>_(ve.target.value),placeholder:"Mô tả chi tiết về tour của bạn"})]})]})})}),i.jsx("div",{className:"luxury-card",children:i.jsxs("div",{className:"luxury-card-body",children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[i.jsx("h4",{className:"mb-0",children:"Hành trình chuyến đi"}),i.jsx("div",{className:"d-flex gap-2",children:i.jsx("button",{className:"btn btn-main btn-sm",onClick:lt,children:"Thêm địa điểm"})})]}),(ne||se.length>0||we.length>0)&&i.jsx("div",{className:"mt-4",children:i.jsxs("div",{className:"alert alert-info border-0 shadow-sm",children:[i.jsxs("h6",{className:"mb-3",children:[i.jsx("i",{className:"bi bi-info-circle me-2"}),"Tóm tắt lựa chọn của bạn"]}),i.jsxs("div",{className:"row",children:[(ne||se.length>0)&&i.jsxs("div",{className:"col-md-6 mb-2",children:[i.jsxs("strong",{className:"text-primary",children:[i.jsx("i",{className:"bi bi-geo-alt me-1"}),"Thành phố:"]}),i.jsxs("div",{className:"mt-1",children:[ne&&i.jsx("span",{className:"badge bg-primary me-1 mb-1",children:ne}),se.map((ve,dt)=>i.jsx("span",{className:"badge bg-success me-1 mb-1",children:ve},dt))]})]}),we.length>0&&i.jsxs("div",{className:"col-md-6 mb-2",children:[i.jsxs("strong",{className:"text-info",children:[i.jsx("i",{className:"bi bi-tags me-1"}),"Loại địa điểm:"]}),i.jsx("div",{className:"mt-1",children:we.map(ve=>{const dt=be.find(xt=>String(xt.id)===String(ve));return dt?i.jsx("span",{className:"badge bg-info me-1 mb-1",children:dt.name},dt.id):null})})]})]})]})}),se.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("h5",{className:"form-label",children:"Gợi ý địa điểm từ thành phố đã chọn"}),i.jsxs("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:[ye.length===0&&i.jsx("div",{className:"col",children:"Không có địa điểm gợi ý cho thành phố này."}),ye.map(ve=>{const dt=N.some(xt=>xt.place_id===ve.id);return i.jsx("div",{className:"col",children:i.jsxs(ws,{style:{border:dt?"2px solid #1a5bb8":void 0,boxShadow:dt?"0 0 10px #1a5bb844":void 0,cursor:"pointer",transition:"box-shadow 0.2s, border 0.2s"},className:dt?"shadow-lg":"shadow-sm",onClick:()=>{dt||S([...N,{place_id:ve.id,step_order:N.length+1,day:1+Math.floor(N.length/3),start_time:"",end_time:""}])},children:[i.jsx(ws.Img,{variant:"top",src:Ii(ve),style:{height:140,objectFit:"cover",borderTopLeftRadius:12,borderTopRightRadius:12},onError:xt=>{xt.target.src="/default-place.jpg"}}),i.jsxs(ws.Body,{children:[i.jsx(ws.Title,{className:"fw-bold",style:{color:dt?"#1a5bb8":void 0},children:ve.name}),i.jsxs(ws.Text,{children:[i.jsx("span",{children:ve.address}),i.jsx("br",{}),i.jsx("span",{className:"text-muted",children:ve.city}),i.jsx("br",{}),ve.description&&i.jsxs("span",{className:"text-muted small",children:[ve.description.substring(0,60),"..."]})]}),i.jsxs("div",{className:"d-flex gap-2 mt-2",children:[dt?i.jsx(Ut,{variant:"primary",size:"sm",disabled:!0,children:"Đã thêm"}):i.jsx(Ut,{variant:"outline-primary",size:"sm",onClick:xt=>{xt.stopPropagation(),S([...N,{place_id:ve.id,step_order:N.length+1,day:1+Math.floor(N.length/3),start_time:"",end_time:""}])},children:"Thêm vào kế hoạch"}),i.jsx(en,{to:`/places/${ve.id}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline-info btn-sm",onClick:xt=>xt.stopPropagation(),children:"Xem chi tiết"})]})]})]})},ve.id)})]})]}),N.length===0?i.jsxs("div",{className:"text-center py-4",children:[i.jsx("i",{className:"bi bi-map-marker-alt fa-3x text-muted mb-3"}),i.jsx("p",{className:"text-muted",children:"Chưa có địa điểm nào. Hãy thêm địa điểm đầu tiên!"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"tour-steps-container",children:[En.map(ve=>i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"fw-bold mb-3",children:["Ngày ",ve]}),ln[ve].map((dt,xt)=>{const Se=Bt(dt.place_id),Et=N.findIndex(Tt=>Tt===dt);return i.jsxs("div",{className:"tour-step-card mb-3",children:[i.jsxs("div",{className:"tour-step-header",children:[i.jsx("div",{className:"step-number",children:dt.step_order}),i.jsxs("div",{className:"step-controls",children:[i.jsx("button",{className:"btn btn-sm btn-outline-secondary me-1",onClick:()=>Re(Et,"up"),disabled:Et===0,title:"Di chuyển lên",children:i.jsx("i",{className:"bi bi-arrow-up"})}),i.jsx("button",{className:"btn btn-sm btn-outline-secondary me-1",onClick:()=>Re(Et,"down"),disabled:Et===N.length-1,title:"Di chuyển xuống",children:i.jsx("i",{className:"bi bi-arrow-down"})}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>on(Et),title:"Xóa địa điểm",children:i.jsx("i",{className:"bi bi-trash"})})]})]}),i.jsx("div",{className:"tour-step-content",children:i.jsxs("div",{className:"row g-3",children:[i.jsxs("div",{className:"col-md-8",children:[i.jsxs("label",{className:"form-label fw-bold",children:["Địa điểm ",i.jsx("span",{className:"text-danger",children:"*"})]}),i.jsxs("select",{className:"form-select",value:dt.place_id,onChange:Tt=>Ot(Et,"place_id",Tt.target.value),children:[i.jsx("option",{value:"",children:"-- Chọn địa điểm --"}),Object.entries(Br()).map(([Tt,vn])=>i.jsx("optgroup",{label:`${Tt} (${vn.length} địa điểm)`,children:vn.map(fn=>i.jsx("option",{value:fn.id,children:fn.name},`suggested-${fn.id}`))},Tt)),i.jsx("optgroup",{label:"Tất cả địa điểm khác",children:c.filter(Tt=>!ye.some(vn=>vn.id===Tt.id)).map(Tt=>i.jsxs("option",{value:Tt.id,children:[Tt.name," - ",Tt.city]},Tt.id))})]}),Se&&i.jsx("div",{className:"mt-2 p-2 bg-light rounded",children:i.jsxs("small",{className:"text-muted",children:[i.jsx("i",{className:"bi bi-map-marker-alt me-1"}),Se.address]})})]}),i.jsxs("div",{className:"col-md-2",children:[i.jsx("label",{className:"form-label fw-bold",children:"Ngày"}),i.jsx("select",{className:"form-select",value:dt.day||1,onChange:Tt=>Ot(Et,"day",Tt.target.value),children:Array.from({length:kr()},(Tt,vn)=>i.jsxs("option",{value:vn+1,children:["Ngày ",vn+1]},vn+1))})]}),i.jsxs("div",{className:"col-md-2",children:[i.jsx("label",{className:"form-label fw-bold",children:"Thứ tự"}),i.jsx("input",{type:"number",className:"form-control",min:"1",value:dt.step_order,onChange:Tt=>Ot(Et,"step_order",Tt.target.value)})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Thời gian bắt đầu"}),i.jsx("input",{type:"time",className:"form-control",value:dt.start_time||"",onChange:Tt=>Ot(Et,"start_time",Tt.target.value)})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Thời gian kết thúc"}),i.jsx("input",{type:"time",className:"form-control",value:dt.end_time||"",onChange:Tt=>Ot(Et,"end_time",Tt.target.value)})]})]})})]},Et)})]},ve)),i.jsx("button",{className:"btn btn-main btn-sm mb-3",onClick:()=>lt(),title:"Thêm địa điểm",children:"Thêm"})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("h5",{className:"fw-bold",children:"Tóm tắt kế hoạch:"}),i.jsx("ul",{children:En.map(ve=>i.jsxs("li",{children:[i.jsxs("b",{children:["Ngày ",ve,":"]})," ",ln[ve].map(dt=>{const xt=Bt(dt.place_id);return xt?xt.name:"(Chưa chọn địa điểm)"}).join(", ")]},ve))})]})]})]})}),i.jsxs("div",{className:"mb-4 mt-4",children:[i.jsx("h5",{className:"form-label",children:"Bạn có thể chọn khách sạn"}),i.jsx("div",{children:se.length>0?Object.entries(jt).map(([ve,dt])=>i.jsxs("div",{className:"mb-3",children:[i.jsxs("h6",{className:"fw-bold text-primary mb-2",children:["Khách sạn tại ",ve]}),i.jsxs("div",{style:{overflowX:"auto",whiteSpace:"nowrap",paddingBottom:8},children:[dt.length===0&&i.jsx("div",{className:"d-flex align-items-center",children:"Không tìm thấy khách sạn phù hợp."}),dt.map(xt=>i.jsx("div",{style:{display:"inline-block",minWidth:280,maxWidth:320},children:i.jsxs(ws,{style:{border:(Ye==null?void 0:Ye.id)===xt.id?"2px solid #007bff":void 0,boxShadow:(Ye==null?void 0:Ye.id)===xt.id?"0 0 10px #007bff44":void 0,cursor:"pointer",transition:"box-shadow 0.2s, border 0.2s"},className:(Ye==null?void 0:Ye.id)===xt.id?"shadow-lg":"shadow-sm",onClick:Se=>{Se.target.tagName!=="A"&&Se.target.tagName!=="BUTTON"&&Te(xt)},children:[i.jsx(ws.Img,{variant:"top",src:xt.images&&xt.images[0]?er(xt.images[0].image_url):"/default-hotel.jpg",style:{height:180,objectFit:"cover",borderTopLeftRadius:12,borderTopRightRadius:12},onError:Se=>{Se.target.src="/default-hotel.jpg"}}),i.jsxs(ws.Body,{children:[i.jsx(ws.Title,{className:"fw-bold",style:{color:(Ye==null?void 0:Ye.id)===xt.id?"#1a5bb8":void 0},children:xt.name}),i.jsxs(ws.Text,{children:[i.jsx("span",{children:xt.address}),i.jsx("br",{}),i.jsx("span",{className:"text-muted",children:xt.city}),i.jsx("br",{}),xt.min_price&&xt.max_price&&i.jsxs("span",{children:["Giá: ",xt.min_price," - ",xt.max_price," VND"]})]}),i.jsxs("div",{className:"d-flex gap-2 mt-2",children:[i.jsx(Ut,{variant:(Ye==null?void 0:Ye.id)===xt.id?"primary":"outline-primary",size:"sm",onClick:Se=>{Se.stopPropagation(),Te(xt)},children:(Ye==null?void 0:Ye.id)===xt.id?"Đã chọn":"Chọn"}),i.jsx(Ut,{variant:"success",size:"sm",className:"ms-2",onClick:Se=>{Se.stopPropagation(),$e(xt),Mt(!0),$t(""),Rn(""),ai(null)},children:"Booking now"}),i.jsx(en,{to:`/hotels/${xt.id}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline-info btn-sm",onClick:Se=>Se.stopPropagation(),children:"Xem chi tiết"})]})]})]})},xt.id))]})]},ve)):i.jsxs("div",{style:{overflowX:"auto",whiteSpace:"nowrap",paddingBottom:8},children:[jt.All&&jt.All.length===0&&i.jsx("div",{className:"d-flex align-items-center",children:"Không tìm thấy khách sạn phù hợp."}),jt.All&&jt.All.map(ve=>i.jsx("div",{style:{display:"inline-block",minWidth:280,maxWidth:320},children:i.jsxs(ws,{style:{border:(Ye==null?void 0:Ye.id)===ve.id?"2px solid #007bff":void 0,boxShadow:(Ye==null?void 0:Ye.id)===ve.id?"0 0 10px #007bff44":void 0,cursor:"pointer",transition:"box-shadow 0.2s, border 0.2s",borderRadius:"15px"},className:(Ye==null?void 0:Ye.id)===ve.id?"shadow-lg me-2":"shadow-sm me-2",onClick:dt=>{dt.target.tagName!=="A"&&dt.target.tagName!=="BUTTON"&&Te(ve)},children:[i.jsx(ws.Img,{variant:"top",src:ve.images&&ve.images[0]?er(ve.images[0].image_url):"/default-hotel.jpg",style:{height:180,objectFit:"cover"},onError:dt=>{dt.target.src="/default-hotel.jpg"}}),i.jsxs(ws.Body,{children:[i.jsx(ws.Title,{className:"fw-bold",style:{color:(Ye==null?void 0:Ye.id)===ve.id?"#1a5bb8":void 0},children:ve.name}),i.jsxs(ws.Text,{children:[i.jsx("span",{children:ve.address}),i.jsx("br",{}),i.jsx("span",{className:"text-muted",children:ve.city}),i.jsx("br",{}),ve.min_price&&ve.max_price&&i.jsxs("span",{children:["Giá: ",ve.min_price," - ",ve.max_price," VND"]})]}),i.jsxs("div",{className:"d-flex gap-2 mt-2",children:[i.jsx(Ut,{variant:(Ye==null?void 0:Ye.id)===ve.id?"primary":"outline-primary",size:"sm",onClick:dt=>{dt.stopPropagation(),Te(ve)},children:(Ye==null?void 0:Ye.id)===ve.id?"Đã chọn":"Chọn"}),i.jsx(Ut,{variant:"success",size:"sm",className:"ms-2",onClick:dt=>{dt.stopPropagation(),$e(ve),Mt(!0),$t(""),Rn(""),ai(null)},children:"Booking now"}),i.jsx(en,{to:`/hotels/${ve.id}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline-info btn-sm",onClick:dt=>dt.stopPropagation(),children:"Xem chi tiết"})]})]})]})},ve.id))]})})]}),"In trip summary, show selected hotel as a card",Ye&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h6",{children:"Khách sạn đã chọn"}),i.jsxs(ws,{style:{width:"18rem"},children:[i.jsx(ws.Img,{variant:"top",src:Ye.images&&Ye.images[0]?er(Ye.images[0].image_url):"/default-hotel.jpg",style:{height:120,objectFit:"cover"},onError:ve=>{ve.target.src="/default-hotel.jpg"}}),i.jsxs(ws.Body,{children:[i.jsx(ws.Title,{children:Ye.name}),i.jsxs(ws.Text,{children:[i.jsx("span",{children:Ye.address}),i.jsx("br",{}),i.jsx("span",{className:"text-muted",children:Ye.city})]})]})]})]}),i.jsx("div",{className:"text-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:pt,disabled:D,children:D?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-spinner fa-spin me-2"}),"Đang tạo tour..."]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-save me-2"}),"Tạo tour"]})})}),i.jsxs(yt,{show:Qe,onHide:()=>Mt(!1),centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Đặt phòng khách sạn"})}),i.jsx(yt.Body,{children:i.jsxs(bn,{children:[i.jsxs(bn.Group,{className:"mb-3",children:[i.jsx(bn.Label,{children:"Ngày nhận phòng"}),i.jsx(bn.Control,{type:"date",value:bt,onChange:ve=>$t(ve.target.value)})]}),i.jsxs(bn.Group,{className:"mb-3",children:[i.jsx(bn.Label,{children:"Ngày trả phòng"}),i.jsx(bn.Control,{type:"date",value:mn,onChange:ve=>Rn(ve.target.value)})]}),Lt&&Lt.room_types&&i.jsxs(bn.Group,{className:"mb-3",children:[i.jsx(bn.Label,{children:"Loại phòng"}),i.jsxs(bn.Select,{value:br,onChange:ve=>Ar(ve.target.value),children:[i.jsx("option",{value:"",children:"Chọn loại phòng"}),Array.isArray(Lt.room_types)?Lt.room_types.map((ve,dt)=>i.jsx("option",{value:ve,children:ve},dt)):JSON.parse(Lt.room_types||"[]").map((ve,dt)=>i.jsx("option",{value:ve,children:ve},dt))]})]}),yn==="success"&&i.jsx("div",{className:"alert alert-success",children:"Đặt phòng thành công!"}),yn==="error"&&i.jsx("div",{className:"alert alert-danger",children:"Đặt phòng thất bại. Vui lòng thử lại."})]})}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:()=>Mt(!1),children:"Đóng"}),i.jsx(Ut,{variant:"success",onClick:async()=>{ai(null);try{await fh.bookHotel({user_id:B==null?void 0:B.id,hotel_id:Lt==null?void 0:Lt.id,check_in:bt,check_out:mn,room_type:br}),ai("success")}catch{ai("error")}},disabled:!bt||!mn,children:"Xác nhận đặt phòng"})]})]})]});return l?Dn:i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Lr,{}),i.jsxs("main",{className:"container py-4 flex-grow-1",children:[Dn,fe&&Ee&&i.jsx("div",{className:"modal show d-block",tabIndex:"-1",style:{background:"rgba(0,0,0,0.4)"},children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:"Tạo tour thành công!"}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>{ke(!1),me("/my-tours")}})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("p",{children:["Bạn đã tạo tour bắt đầu từ ",i.jsx("b",{children:Ee.name})," thành công."]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Thời gian:"})," ",Ee.start_time||"-"," đến ",Ee.end_time||"-"]}),(ne||se.length>0||we.length>0)&&i.jsxs("div",{className:"mb-3",children:[i.jsx("b",{children:"Lựa chọn của bạn:"}),i.jsxs("div",{className:"mt-2",children:[(ne||se.length>0)&&i.jsxs("div",{className:"mb-2",children:[i.jsxs("small",{className:"text-muted",children:[i.jsx("i",{className:"bi bi-geo-alt me-1"}),i.jsx("strong",{children:"Thành phố:"})]}),i.jsxs("div",{className:"mt-1",children:[ne&&i.jsx("span",{className:"badge bg-primary me-1 mb-1",children:ne}),se.map((ve,dt)=>i.jsx("span",{className:"badge bg-success me-1 mb-1",children:ve},dt))]})]}),we.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsxs("small",{className:"text-muted",children:[i.jsx("i",{className:"bi bi-tags me-1"}),i.jsx("strong",{children:"Loại địa điểm:"})]}),i.jsx("div",{className:"mt-1",children:we.map(ve=>{const dt=be.find(xt=>String(xt.id)===String(ve));return dt?i.jsx("span",{className:"badge bg-info me-1 mb-1",children:dt.name},dt.id):null})})]})]})]}),Ee.start_time&&i.jsxs("div",{className:"alert alert-info mt-3",children:[i.jsx("i",{className:"bi bi-bell me-2"}),i.jsx("strong",{children:"Nhắc nhở tự động:"})," Bạn sẽ nhận được thông báo nhắc nhở trước khi tour bắt đầu."]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Kế hoạch:"}),i.jsx("ul",{children:En.map(ve=>i.jsxs("li",{children:[i.jsxs("b",{children:["Ngày ",ve,":"]})," ",ln[ve].map(dt=>{const xt=Bt(dt.place_id);return xt?xt.name:"(Chưa chọn địa điểm)"}).join(", ")]},ve))})]})]}),i.jsxs("div",{className:"modal-footer",children:[Ee.id&&i.jsx("button",{className:"btn btn-main",onClick:()=>me(`/tours/${Ee.id}`),children:"Xem chi tiết tour"}),i.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>me("/my-tours"),children:"Đến trang My Tours"}),i.jsx("button",{className:"btn btn-link",onClick:()=>ke(!1),children:"Đóng"})]})]})})})]}),i.jsx(qr,{})]})}const F_="https://walkingguide.onrender.com/api/places",fb={getAll:()=>kt.get(F_),getById:l=>kt.get(`${F_}/${l}`),searchByCity:l=>kt.get(`${F_}/search?city=${encodeURIComponent(l)}`),create:l=>kt.post(F_,l)},tL=({noLayout:l})=>{const[c,s]=I.useState(""),[o,h]=I.useState(""),[g,_]=I.useState(null),[y,v]=I.useState(""),[N,S]=I.useState(""),[D,j]=I.useState(!1),[B,F]=I.useState(!1),[H,$]=I.useState(!1),[K,Q]=I.useState(null),{user:ee,refreshNotifications:ne}=I.useContext(cs),[ce,se]=I.useState([]),[q,ue]=I.useState([]),[oe,be]=I.useState(""),[pe,we]=I.useState(""),[je,ye]=I.useState(!1),[Me,le]=I.useState(""),[_e,me]=I.useState(""),[Ee,Z]=I.useState([]),[fe,ke]=I.useState(!1),[Be,Ve]=I.useState(!1),[nt,te]=I.useState(!1),[Ce,qe]=I.useState({name:"",description:"",address:"",opening_hours:"",service:""}),Ke=ba();I.useEffect(()=>{kt.get("http://localhost:3000/api/tags").then(ot=>se(ot.data))},[]);const Ie=async ot=>{if(ot){Ve(!0);try{const jt=await fb.searchByCity(ot);Z(jt.data),ke(!0)}catch(jt){console.error("Error searching places by city:",jt),Z([])}finally{Ve(!1)}}},rt=ot=>{me(ot),ot?Ie(ot):(Z([]),ke(!1))},Ye=async()=>{if(!_e||!Ce.name||!Ce.description){le("Vui lòng nhập đầy đủ thông tin cho địa điểm mới!"),ye(!0);return}try{const jt=await(await fetch(`http://localhost:3000/api/geocoding/coordinates?q=${encodeURIComponent(_e)}&limit=1`)).json();let Dt=10.8231,Qe=106.6297;jt.success&&jt.data&&(Dt=jt.data.latitude,Qe=jt.data.longitude);const Mt={name:Ce.name,description:Ce.description,latitude:Dt,longitude:Qe,city:_e,address:Ce.address,opening_hours:Ce.opening_hours,service:Ce.service,image_url:""};await fb.create(Mt),await Ie(_e),qe({name:"",description:"",address:"",opening_hours:"",service:""}),te(!1),le("Đã tạo địa điểm mới thành công!"),ye(!0)}catch(ot){console.error("Error creating place:",ot),le("Có lỗi xảy ra khi tạo địa điểm mới!"),ye(!0)}},Te=async()=>{var ot,jt;if(!(ee!=null&&ee.id)||isNaN(Number(ee.id))){v("Vui lòng nhập đầy đủ thông tin!");return}if(!_e&&q.length===0&&!c.trim()){v("Vui lòng chọn ít nhất một thành phố hoặc thẻ địa điểm!");return}try{v(""),j(!0);const Dt={interests:c.split(",").map(Mt=>Mt.trim()).filter(Boolean),total_cost:o?parseFloat(o):0,user_id:Number(ee.id),tag_ids:q.map(Number),start_time:oe,end_time:pe,city:_e};console.log("Generating tour with:",{city:_e,tags:q,interests:Dt.interests});const Qe=await kt.post("http://localhost:3000/api/ai/generate-tour",Dt);_(Qe.data)}catch(Dt){console.error(Dt),(jt=(ot=Dt.response)==null?void 0:ot.data)!=null&&jt.error?v(Dt.response.data.error):v("Không thể tạo tour. Hãy kiểm tra lại dữ liệu.")}finally{j(!1)}},ht=async()=>{if(g){F(!0);try{let ot=1;if(oe&&pe){const Mt=new Date(oe),Lt=new Date(pe),$e=Math.abs(Lt-Mt),bt=Math.ceil($e/(1e3*60*60*24));ot=Math.max(1,bt)}else ot=parseInt(days)||1;const jt=Math.ceil(g.steps.length/ot);let Dt="";if(g.steps&&g.steps.length>0){const Mt=g.steps.find(Lt=>Lt.place&&Lt.place.image_url);Mt&&(Dt=Mt.place.image_url)}const Qe=await kt.post("http://localhost:3000/api/tours",{name:N||g.tour.name,description:g.tour.description,image_url:Dt,user_id:ee.id,total_cost:o?parseFloat(o):0,steps:g.steps.map((Mt,Lt)=>({place_id:Mt.place_id,step_order:Lt+1,stay_duration:Mt.stay_duration,start_time:Mt.start_time||null,end_time:Mt.end_time||null,day:Math.floor(Lt/jt)+1})),start_time:oe,end_time:pe,start_from:N});Q(Qe.data.tour),$(!0),_(null),S(""),ne(),setTimeout(()=>Ke("/my-tours"),1200)}catch(ot){console.error("Error saving tour:",ot),le("Lỗi khi lưu tour vào hệ thống!"),ye(!0)}finally{F(!1)}}};function ze(ot,jt){if(!ot||!jt||jt.length===0)return"";const Dt=ot.split(",").map(Lt=>Lt.trim()).filter(Boolean),Qe=jt.map(Lt=>{var $e;return($e=Lt.place)==null?void 0:$e.name}).filter(Boolean);if(Dt.length===0||Qe.length===0)return"";let Mt="";return Dt.length===1?Mt+=`Nếu bạn yêu thích ${Dt[0]}, bạn không thể bỏ qua những địa điểm như ${Qe.slice(0,2).join(", ")}`:Mt+=`Dựa trên sở thích của bạn (${Dt.join(", ")}), các địa điểm nổi bật gồm: ${Qe.slice(0,3).join(", ")}`,Mt}function ut(ot){if(!ot)return"";const jt=document.createElement("div");return jt.innerHTML=ot,jt.textContent||jt.innerText||""}function Rt(ot){const jt={};return ot.forEach(Dt=>{const Qe=Dt.day||1;jt[Qe]||(jt[Qe]=[]),jt[Qe].push(Dt)}),jt}if(!ee){const ot=i.jsxs("div",{className:"container py-4",children:[i.jsx("h2",{children:"Tạo lộ trình tự động"}),i.jsx("div",{className:"alert alert-warning mt-3",children:"Bạn cần đăng nhập để sử dụng chức năng này."})]});return l?ot:i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Lr,{}),i.jsx("main",{className:"container py-4 flex-grow-1",children:ot}),i.jsx(qr,{})]})}const Jt=i.jsxs("div",{className:"luxury-planner-container",children:[je&&i.jsxs("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),Me,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>ye(!1)})]}),i.jsx("div",{className:"luxury-card mb-4",children:i.jsxs("div",{className:"luxury-card-body",children:[i.jsxs("div",{className:"row g-3",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Khởi hành từ"}),i.jsx(UA,{value:N,onChange:S,placeholder:"Nhập điểm khởi hành"})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Thành phố muốn đi"}),i.jsx(Eb,{value:_e,onChange:rt,placeholder:"Chọn thành phố..."})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:[i.jsx("i",{className:"bi bi-calendar-event me-2 text-primary"}),"Ngày bắt đầu"]}),i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"date",className:"form-control",value:oe,onChange:ot=>be(ot.target.value),min:new Date().toISOString().split("T")[0]}),oe&&i.jsxs("div",{className:"form-text mt-1",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),new Date(oe).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:[i.jsx("i",{className:"bi bi-calendar-check me-2 text-primary"}),"Ngày kết thúc"]}),i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"date",className:"form-control",value:pe,onChange:ot=>we(ot.target.value),min:oe||new Date().toISOString().split("T")[0],disabled:!oe}),pe&&i.jsxs("div",{className:"form-text mt-1",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),new Date(pe).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," (",(()=>{const ot=new Date(oe),jt=new Date(pe),Dt=Math.abs(jt-ot),Qe=Math.ceil(Dt/(1e3*60*60*24));return Math.max(1,Qe)})()," ngày)"]}),!oe&&i.jsxs("div",{className:"form-text mt-1",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-1 text-warning"}),"Vui lòng chọn ngày bắt đầu trước"]})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Bạn thích đi đâu?"}),i.jsxs("div",{children:[i.jsx("div",{className:"d-flex align-items-center gap-2",children:i.jsxs("select",{className:"form-select",value:"",onChange:ot=>{const jt=ot.target.value;jt&&!q.includes(jt)&&ue([...q,jt])},children:[i.jsx("option",{value:"",children:"Có thể bạn muốn khám phá..."}),ce.filter(ot=>!q.includes(String(ot.id))).map(ot=>i.jsx("option",{value:ot.id,children:ot.name},ot.id))]})}),i.jsx("div",{className:"mt-2",children:q.map(ot=>{const jt=ce.find(Dt=>String(Dt.id)===String(ot));return jt?i.jsxs("span",{className:"badge bg-primary me-2 mb-1",style:{fontSize:"1em"},children:[jt.name,i.jsx("button",{type:"button",className:"btn btn-sm btn-link text-white ms-1 p-0 text-decoration-none",style:{fontSize:"1em"},title:"Xóa thẻ",onClick:()=>ue(q.filter(Dt=>Dt!==String(jt.id))),children:"×"})]},jt.id):null})})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Ngân sách (VNĐ)"}),i.jsx("input",{type:"text",placeholder:"Nhập ngân sách",value:o,onChange:ot=>{const jt=ot.target.value.replace(/\D/g,"");h(jt)},className:"form-control"}),o&&i.jsxs("div",{className:"form-text",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),"Ngân sách: ",parseInt(o).toLocaleString("vi-VN")," VNĐ"]}),o&&o.length>0&&o.length<=3&&!o.endsWith("000")&&i.jsxs("div",{className:"mt-2",children:[i.jsx("small",{className:"text-muted",children:"Gợi ý:"}),i.jsx("div",{className:"d-flex flex-wrap gap-1 mt-1",children:(()=>{const ot=o.replace(/\D/g,"");return[{value:ot+"000",label:ot+".000 VNĐ"},{value:ot+"0000",label:ot+"0.000 VNĐ"},{value:ot+"00000",label:ot+"00.000 VNĐ"},{value:ot+"000000",label:ot+".000.000 VNĐ"},{value:ot+"0000000",label:ot+"0.000.000 VNĐ"}].filter(Dt=>Dt.value!==o).map((Dt,Qe)=>i.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",style:{fontSize:"0.8rem",padding:"0.25rem 0.5rem"},onClick:()=>h(Dt.value),children:Dt.label},Qe))})()})]})]})]}),fe&&i.jsxs("div",{className:"mt-4",children:[i.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:i.jsxs("h5",{className:"mb-0",children:[i.jsx("i",{className:"bi bi-geo-alt me-2 text-primary"}),"Địa điểm tại ",_e]})}),Be?i.jsxs("div",{className:"text-center py-3",children:[i.jsx("div",{className:"spinner-border text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("p",{className:"mt-2 text-muted",children:"Đang tìm địa điểm..."})]}):Ee.length>0?i.jsx("div",{className:"row g-3",children:Ee.map(ot=>i.jsx("div",{className:"col-md-6 col-lg-4",children:i.jsxs("div",{className:"card h-100 border-0 shadow-sm",children:[ot.image_url&&i.jsx("img",{src:ot.image_url.startsWith("http")?ot.image_url:`http://localhost:3000${ot.image_url}`,className:"card-img-top",alt:ot.name,style:{height:"150px",objectFit:"cover"}}),i.jsxs("div",{className:"card-body",children:[i.jsx("h6",{className:"card-title text-primary",children:ot.name}),i.jsxs("p",{className:"card-text small text-muted",children:[ut(ot.description).substring(0,100),"..."]}),ot.address&&i.jsxs("p",{className:"card-text small",children:[i.jsx("i",{className:"bi bi-geo-alt me-1"}),ot.address]})]})]})},ot.id))}):i.jsxs("div",{className:"text-center py-4",children:[i.jsx("i",{className:"bi bi-map text-muted",style:{fontSize:"3rem"}}),i.jsxs("p",{className:"mt-2 text-muted",children:["Chưa có địa điểm nào tại ",_e]}),i.jsxs("button",{className:"btn btn-primary",onClick:()=>te(!0),children:[i.jsx("i",{className:"bi bi-plus-circle me-1"}),"Tạo địa điểm đầu tiên"]})]})]}),(_e||q.length>0)&&i.jsx("div",{className:"mt-4",children:i.jsxs("div",{className:"alert alert-info border-0 shadow-sm",children:[i.jsxs("h6",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-funnel me-2"}),"Bộ lọc tour"]}),i.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[_e&&i.jsxs("span",{className:"badge bg-primary",children:[i.jsx("i",{className:"bi bi-geo-alt me-1"}),"Thành phố: ",_e]}),q.map(ot=>{const jt=ce.find(Dt=>String(Dt.id)===String(ot));return jt?i.jsxs("span",{className:"badge bg-success",children:[i.jsx("i",{className:"bi bi-tag me-1"}),jt.name]},jt.id):null})]}),i.jsx("small",{className:"text-muted mt-2 d-block",children:"Tour sẽ được tạo với các địa điểm phù hợp với bộ lọc trên"})]})}),i.jsx("div",{className:"text-center mt-4",children:i.jsx("button",{onClick:Te,className:"btn btn-main btn-lg px-5",disabled:D,children:D?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-magic fa-spin me-2"}),"Đang tạo tour..."]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-magic text-white me-2"}),"Tạo tour"]})})})]})}),y&&i.jsxs("div",{className:"alert alert-danger",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),y]}),g&&i.jsx("div",{className:"luxury-card",children:i.jsxs("div",{className:"luxury-card-body",children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[i.jsx("h4",{className:"mb-0",children:"Tour được tạo"}),i.jsx("button",{onClick:ht,className:"btn btn-main",disabled:B,children:B?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-spinner fa-spin me-2"}),"Đang lưu..."]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-save me-2"}),"Lưu tour"]})})]}),i.jsxs("div",{className:"tour-info mb-4",children:[i.jsx("h5",{className:"text-primary mb-2",children:i.jsx("i",{className:"bi bi-route me-2"})}),i.jsx("p",{className:"text-muted mb-2",children:ze(c,g.steps)||ut(g.tour.description)}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-4",children:i.jsxs("small",{className:"text-muted",children:[i.jsx("i",{className:"bi bi-calendar me-1"}),oe&&pe?`${oe} → ${pe}`:`${g.steps.length} địa điểm`]})}),i.jsx("div",{className:"col-md-4",children:i.jsxs("small",{className:"text-muted",children:[i.jsx("i",{className:"bi bi-clock me-1"}),g.steps.reduce((ot,jt)=>ot+(jt.stay_duration||0),0)," phút"]})})]})]}),g&&g.steps&&g.steps.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"fw-bold mb-3",children:"Hành trình gợi ý"}),Object.entries(Rt(g.steps)).map(([ot,jt])=>i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"mb-3",style:{color:"#1a5bb8"},children:["Ngày ",ot]}),i.jsx("div",{className:"row g-3",children:jt.map((Dt,Qe)=>{var Mt,Lt;return i.jsx("div",{className:"col-md-6 col-lg-4",children:i.jsx(en,{to:Dt.place?`/places/${Dt.place.id}`:"#",className:"text-decoration-none",children:i.jsxs("div",{className:"card h-100 shadow-sm",children:[Dt.place&&Dt.place.image_url&&i.jsx("img",{src:Dt.place.image_url.startsWith("http")?Dt.place.image_url:`http://localhost:3000${Dt.place.image_url}`,alt:Dt.place.name,className:"card-img-top",style:{height:140,objectFit:"cover"}}),i.jsxs("div",{className:"card-body",children:[i.jsx("h6",{className:"card-title mb-1 fw-bold",children:(Mt=Dt.place)==null?void 0:Mt.name}),i.jsx("div",{className:"card-text text-muted",style:{fontSize:"0.95em"},children:ut((Lt=Dt.place)==null?void 0:Lt.description)})]})]})})},Dt.place_id||Qe)})})]},ot))]})]})}),nt&&i.jsx("div",{className:"modal show d-block",tabIndex:"-1",style:{background:"rgba(0,0,0,0.4)"},children:i.jsx("div",{className:"modal-dialog modal-lg",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsxs("h5",{className:"modal-title",children:[i.jsx("i",{className:"bi bi-plus-circle me-2 text-primary"}),"Thêm địa điểm mới tại ",_e]}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>te(!1)})]}),i.jsx("div",{className:"modal-body",children:i.jsxs("div",{className:"row g-3",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Tên địa điểm *"}),i.jsx("input",{type:"text",className:"form-control",value:Ce.name,onChange:ot=>qe({...Ce,name:ot.target.value}),placeholder:"Nhập tên địa điểm"})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Địa chỉ"}),i.jsx("input",{type:"text",className:"form-control",value:Ce.address,onChange:ot=>qe({...Ce,address:ot.target.value}),placeholder:"Nhập địa chỉ chi tiết"})]}),i.jsxs("div",{className:"col-12",children:[i.jsx("label",{className:"form-label fw-bold",children:"Mô tả *"}),i.jsx("textarea",{className:"form-control",rows:"3",value:Ce.description,onChange:ot=>qe({...Ce,description:ot.target.value}),placeholder:"Mô tả về địa điểm này..."})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Giờ mở cửa"}),i.jsx("textarea",{className:"form-control",rows:"2",value:Ce.opening_hours,onChange:ot=>qe({...Ce,opening_hours:ot.target.value}),placeholder:"VD: 8:00 - 22:00 hàng ngày"})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Dịch vụ"}),i.jsx("textarea",{className:"form-control",rows:"2",value:Ce.service,onChange:ot=>qe({...Ce,service:ot.target.value}),placeholder:"VD: Ăn uống, Giải trí, Mua sắm"})]})]})}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>te(!1),children:"Hủy"}),i.jsxs("button",{type:"button",className:"btn btn-primary",onClick:Ye,children:[i.jsx("i",{className:"bi bi-plus-circle me-1"}),"Tạo địa điểm"]})]})]})})})]});return l?Jt:i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Lr,{}),i.jsxs("main",{className:"container py-4 flex-grow-1",children:[Jt,H&&K&&i.jsx("div",{className:"modal show d-block",tabIndex:"-1",style:{background:"rgba(0,0,0,0.4)"},children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:"Tạo tour thành công!"}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>{$(!1),Ke("/my-tours")}})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("p",{children:["Bạn đã tạo tour bắt đầu từ ",i.jsx("b",{children:K.name})," thành công."]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("b",{children:"Thời gian:"})," ",K.start_time||"-"," đến ",K.end_time||"-"]}),K.start_time&&i.jsxs("div",{className:"alert alert-info mt-3",children:[i.jsx("i",{className:"bi bi-bell me-2"}),i.jsx("strong",{children:"Nhắc nhở tự động:"})," Bạn sẽ nhận được thông báo nhắc nhở trước khi tour bắt đầu."]})]}),i.jsxs("div",{className:"modal-footer",children:[K.id&&i.jsx("button",{className:"btn btn-main",onClick:()=>window.location.href=`/tours/${K.id}`,children:"Xem chi tiết tour"}),i.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>window.location.href="/my-tours",children:"Đến trang My Tours"}),i.jsx("button",{className:"btn btn-link",onClick:()=>$(!1),children:"Đóng"})]})]})})})]}),i.jsx(qr,{})]})},cd="https://walkingguide.onrender.com";delete sr.Icon.Default.prototype._getIconUrl;sr.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const VW=l=>{if(l.image_url){const o=l.image_url.startsWith("http")?l.image_url:`${cd}${l.image_url}`;return new sr.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          overflow: hidden;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
          <img 
            src="${o}" 
            alt="${l.name}"
            style="
              width: 100%;
              height: 100%;
              margin-left: 11px;
              object-fit: cover;
            "
            onerror="this.style.display='none'; this.parentElement.innerHTML='<i class=\\"bi bi-geo-alt-fill\\" style=\\"font-size: 20px; color: #3498db;\\"></i>';"
          />
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})}else return new sr.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
          <i class="bi bi-geo-alt-fill" style="font-size: 24px; color: #3498db;"></i>
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})},HW=new sr.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),UW=new sr.Icon({iconUrl:tw,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]}),$W=new sr.Icon({iconUrl:nw,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]});function jI({defaultCenter:l,zoom:c}){const s=wh();return I.useEffect(()=>{l&&l.length===2&&s.setView(l,c)},[l,c,s]),null}function DI({onLocationClick:l}){const c=wh(),s=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(o=>{const h=o.coords.latitude,g=o.coords.longitude;c.setView([h,g],15),l({lat:h,lng:g})},o=>{console.error("Error getting current location:",o),alert("Không thể lấy vị trí hiện tại. Vui lòng kiểm tra quyền truy cập vị trí.")}):alert("Trình duyệt của bạn không hỗ trợ định vị.")};return i.jsx("div",{className:"leaflet-control leaflet-bar location-control",children:i.jsx("button",{onClick:s,title:"Đến vị trí hiện tại",children:i.jsx("i",{className:"bi bi-geo-alt-fill"})})})}function TI(){const l=wh(),c=()=>{l.zoomIn()},s=()=>{l.zoomOut()};return i.jsxs("div",{className:"leaflet-control leaflet-bar zoom-controls",children:[i.jsx("button",{onClick:c,title:"Phóng to",className:"zoom-in-btn",children:i.jsx("i",{className:"bi bi-plus-lg"})}),i.jsx("button",{onClick:s,title:"Thu nhỏ",className:"zoom-out-btn",children:i.jsx("i",{className:"bi bi-dash-lg"})})]})}function qW({place:l,onClose:c}){var Be,Ve,nt;const[s,o]=I.useState(!1),[h,g]=I.useState("overview"),[_,y]=I.useState([]),[v,N]=I.useState(null),[S,D]=I.useState(l),[j,B]=I.useState([10.8231,106.6297]),[F,H]=I.useState(!0),$=I.useRef(null),[K,Q]=I.useState(!1),[ee,ne]=I.useState(""),[ce,se]=I.useState([]),[q,ue]=I.useState([]),[oe,be]=I.useState((l==null?void 0:l.type)||"place"),pe=()=>window.matchMedia("(max-width: 600px)").matches,[we,je]=I.useState(!pe());I.useEffect(()=>{const te=()=>{pe()?je(!1):je(!0)};return window.addEventListener("resize",te),()=>window.removeEventListener("resize",te)},[]),I.useEffect(()=>{l&&(D(l),B([parseFloat(l.latitude),parseFloat(l.longitude)]))},[l]),I.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(te=>{const Ce={lat:te.coords.latitude,lng:te.coords.longitude};N(Ce),S||B([Ce.lat,Ce.lng]),ye(Ce)},te=>{console.error("Error getting current location:",te)})},[_,S]),I.useEffect(()=>{(async()=>{try{H(!0);const Ce=await Ft.get("/places");y(Ce.data),!S&&Ce.data.length>0&&D(Ce.data[0])}catch(Ce){console.error("Error fetching places:",Ce)}finally{H(!1)}})()},[S]),I.useEffect(()=>{const te=async()=>{try{const qe=await Ft.get("/hotels");se(qe.data.data||qe.data)}catch{se([])}},Ce=async()=>{try{const qe=await Ft.get("/restaurants");ue(qe.data.data||qe.data)}catch{ue([])}};te(),Ce()},[]);const ye=te=>{if(_.length===0)return;let Ce=_[0],qe=Me(te.lat,te.lng,Ce.latitude,Ce.longitude);_.forEach(Ke=>{const Ie=Me(te.lat,te.lng,Ke.latitude,Ke.longitude);Ie<qe&&(qe=Ie,Ce=Ke)}),S||D(Ce)},Me=(te,Ce,qe,Ke)=>{const rt=(qe-te)*Math.PI/180,Ye=(Ke-Ce)*Math.PI/180,Te=Math.sin(rt/2)*Math.sin(rt/2)+Math.cos(te*Math.PI/180)*Math.cos(qe*Math.PI/180)*Math.sin(Ye/2)*Math.sin(Ye/2);return 6371*(2*Math.atan2(Math.sqrt(Te),Math.sqrt(1-Te)))},le=(te,Ce="place")=>{D(te),be(Ce),pe()&&je(!0)},_e=te=>{N(te)};I.useEffect(()=>{const te=Ce=>{Ce.key==="Escape"&&s&&o(!1)};return document.addEventListener("keydown",te),()=>{document.removeEventListener("keydown",te)}},[s]);const me=te=>te?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(te):"",Ee=te=>{if(!te)return"";const Ce=document.createElement("div");return Ce.innerHTML=te,Ce.textContent||Ce.innerText||""},Z=(te,Ce)=>{if(Ce)return te.find(qe=>qe.id===Ce.id)},fe=Z(ce,S),ke=Z(q,S);return F||!S?i.jsxs("div",{className:"place-detail-map-fullscreen",children:[i.jsx("div",{className:"map-container",children:i.jsxs(hb,{center:j,zoom:13,className:"fullscreen-map",zoomControl:!1,ref:$,children:[i.jsx(mb,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),i.jsx(jI,{defaultCenter:j,zoom:13}),i.jsx(DI,{onLocationClick:_e}),i.jsx(TI,{})]})}),i.jsx("div",{className:"info-overlay",children:i.jsx("div",{className:"overlay-content",children:i.jsx("div",{className:"tab-content",children:i.jsx("div",{className:"place-basic-info",children:i.jsx("div",{className:"d-flex align-items-center justify-content-center",style:{height:"200px"},children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("h5",{className:"text-muted",children:"Đang tải thông tin địa điểm..."})]})})})})})})]}):i.jsxs("div",{className:"place-detail-map-fullscreen",children:[i.jsx("div",{className:"map-container",children:i.jsxs(hb,{center:j,zoom:13,className:"fullscreen-map",zoomControl:!1,ref:$,children:[i.jsx(mb,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),v&&i.jsx(ao,{position:[v.lat,v.lng],icon:HW,children:i.jsx(lo,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("h6",{className:"text-primary mb-1",children:"Vị trí hiện tại"}),i.jsxs("small",{className:"text-muted",children:[v.lat.toFixed(6),", ",v.lng.toFixed(6)]})]})})}),_.map(te=>i.jsx(ao,{position:[parseFloat(te.latitude),parseFloat(te.longitude)],icon:VW(te),eventHandlers:{click:()=>le(te,"place")},children:i.jsx(lo,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("h6",{className:"text-primary mb-1",children:te.name}),te.address&&i.jsx("p",{className:"mb-1 small",children:te.address}),te.city&&i.jsx("p",{className:"mb-0 text-muted small",children:te.city})]})})},te.id)),ce.filter(te=>te.latitude&&te.longitude).map(te=>i.jsx(ao,{position:[te.latitude,te.longitude],icon:UW,eventHandlers:{click:()=>le(te,"hotel")},children:i.jsx(lo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:te.name}),i.jsx("br",{}),te.address&&i.jsxs("span",{children:[te.address,i.jsx("br",{})]}),te.city&&i.jsxs("span",{children:[te.city,i.jsx("br",{})]}),te.price_range&&i.jsxs("span",{children:["Giá: ",te.price_range,i.jsx("br",{})]}),te.rating&&i.jsxs("span",{children:["Đánh giá: ",te.rating.toFixed(1)," / 5"]})]})})},`hotel-${te.id}`)),q.filter(te=>te.latitude&&te.longitude).map(te=>i.jsx(ao,{position:[te.latitude,te.longitude],icon:$W,eventHandlers:{click:()=>le(te,"restaurant")},children:i.jsx(lo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:te.name}),i.jsx("br",{}),te.address&&i.jsxs("span",{children:[te.address,i.jsx("br",{})]}),te.city&&i.jsxs("span",{children:[te.city,i.jsx("br",{})]}),te.price_range&&i.jsxs("span",{children:["Giá: ",te.price_range,i.jsx("br",{})]}),te.rating&&i.jsxs("span",{children:["Đánh giá: ",te.rating.toFixed(1)," / 5"]})]})})},`restaurant-${te.id}`)),i.jsx(jI,{defaultCenter:j,zoom:13}),i.jsx(DI,{onLocationClick:_e}),i.jsx(TI,{})]})}),we||!pe()?i.jsxs("div",{className:`info-overlay ${pe()?we?"mobile-visible":"mobile-hidden":""}`,children:[pe()&&i.jsx("button",{className:"close-overlay-btn",onClick:()=>je(!1),style:{position:"absolute",top:10,right:16,zIndex:10,fontSize:"2rem",background:"#fff",border:"none",borderRadius:"50%",width:36,height:36,color:"#888",boxShadow:"0 2px 8px rgba(0,0,0,0.07)"},children:"×"}),i.jsx("div",{className:"overlay-content",children:i.jsx("div",{className:"tab-content",children:i.jsxs("div",{className:"place-basic-info",children:[oe==="hotel"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"position-relative",style:{height:"250px"},children:[i.jsx("img",{src:(()=>{var te;return fe.image_url?fe.image_url.startsWith("http")?fe.image_url:`${cd}${fe.image_url}`:fe.images&&((te=fe.images[0])!=null&&te.image_url)?fe.images[0].image_url.startsWith("http")?fe.images[0].image_url:`${cd}${fe.images[0].image_url}`:"/default-place.jpg"})(),alt:fe.name,className:"w-100 h-100",style:{objectFit:"cover"},onError:te=>{te.target.src="/default-place.jpg"}}),i.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"linear-gradient(180deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.4) 100%)"}}),i.jsxs("div",{className:"position-absolute bottom-0 start-0 w-100 p-3",children:[i.jsx("h2",{className:"text-white fw-bold mb-2 text-shadow",style:{fontSize:"1.8rem"},children:fe.name}),i.jsxs("div",{className:"d-flex flex-wrap gap-2 align-items-center",children:[fe.city&&i.jsxs("span",{className:"badge bg-primary bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),fe.city]}),fe.rating&&i.jsxs("span",{className:"badge bg-warning bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-star-fill me-1"}),(Be=fe.rating)!=null&&Be.toFixed?fe.rating.toFixed(1):fe.rating,"/5"]})]})]})]}),fe.images&&fe.images.length>1&&i.jsx("div",{className:"mb-3",children:i.jsx("div",{className:"d-flex flex-wrap gap-2",children:fe.images.map((te,Ce)=>(te==null?void 0:te.image_url)&&i.jsx("img",{src:te.image_url.startsWith("http")?te.image_url:`${cd}${te.image_url}`,alt:"Gallery",style:{width:80,height:80,objectFit:"cover",borderRadius:8}},Ce))})}),i.jsxs("div",{className:"mb-4",children:[fe.address&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-house me-2 text-primary"}),i.jsx("span",{className:"fw-medium",children:"Địa chỉ:"})," ",fe.address]}),fe.city&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-geo-alt me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Thành phố:"})," ",fe.city]}),fe.stars&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-star-fill me-2 text-warning"}),i.jsx("span",{className:"fw-medium",children:"Hạng sao:"})," ",fe.stars," / 5"]}),fe.price_range&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-currency-dollar me-2 text-warning"}),i.jsx("span",{className:"fw-medium",children:"Mức giá:"})," ",fe.price_range]}),(fe.min_price||fe.max_price)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-cash-coin me-2 text-success"}),i.jsx("span",{className:"fw-medium",children:"Giá:"})," ",fe.min_price?me(fe.min_price):"",fe.min_price&&fe.max_price?" - ":"",fe.max_price?me(fe.max_price):""]}),fe.phone&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-telephone me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Điện thoại:"})," ",fe.phone]}),fe.email&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-envelope me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Email:"})," ",fe.email]}),fe.website&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-globe me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Website:"})," ",i.jsx("a",{href:fe.website,target:"_blank",rel:"noopener noreferrer",children:fe.website})]}),(fe.check_in_time||fe.check_out_time)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-clock me-2 text-success"}),fe.check_in_time&&i.jsxs("span",{className:"fw-medium me-3",children:["Nhận phòng: ",i.jsx("span",{className:"text-dark",children:fe.check_in_time})]}),fe.check_out_time&&i.jsxs("span",{className:"fw-medium",children:["Trả phòng: ",i.jsx("span",{className:"text-dark",children:fe.check_out_time})]})]}),fe.amenities&&(()=>{let te=fe.amenities;try{const Ce=JSON.parse(te);if(Array.isArray(Ce))return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Tiện nghi:"})," ",Ce.join(", ")]})}catch{}return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Tiện nghi:"})," ",te]})})(),fe.room_types&&(()=>{let te=fe.room_types;try{const Ce=JSON.parse(te);if(Array.isArray(Ce))return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Loại phòng:"})," ",Ce.join(", ")]})}catch{}return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Loại phòng:"})," ",te]})})()]}),fe.description&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"text-primary mb-3",children:[i.jsx("i",{className:"bi bi-info-circle me-2"}),"Mô tả"]}),i.jsx("div",{className:"p-3 bg-light rounded-3 description-text",style:{fontSize:"0.95rem",maxHeight:"150px",overflowY:"auto"},children:i.jsx("div",{children:Ee(fe.description)})})]})]}):oe==="restaurant"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"position-relative",style:{height:"250px"},children:[i.jsx("img",{src:(()=>{var te;return ke.image_url?ke.image_url.startsWith("http")?ke.image_url:`${cd}${ke.image_url}`:ke.images&&((te=ke.images[0])!=null&&te.image_url)?ke.images[0].image_url.startsWith("http")?ke.images[0].image_url:`${cd}${ke.images[0].image_url}`:"/default-place.jpg"})(),alt:ke.name,className:"w-100 h-100",style:{objectFit:"cover"},onError:te=>{te.target.src="/default-place.jpg"}}),i.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"linear-gradient(180deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.4) 100%)"}}),i.jsxs("div",{className:"position-absolute bottom-0 start-0 w-100 p-3",children:[i.jsx("h2",{className:"text-white fw-bold mb-2 text-shadow",style:{fontSize:"1.8rem"},children:ke.name}),i.jsxs("div",{className:"d-flex flex-wrap gap-2 align-items-center",children:[ke.city&&i.jsxs("span",{className:"badge bg-primary bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),ke.city]}),ke.rating&&i.jsxs("span",{className:"badge bg-warning bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-star-fill me-1"}),(Ve=ke.rating)!=null&&Ve.toFixed?ke.rating.toFixed(1):ke.rating,"/5"]})]})]})]}),ke.images&&ke.images.length>1&&i.jsx("div",{className:"mb-3",children:i.jsx("div",{className:"d-flex flex-wrap gap-2",children:ke.images.map((te,Ce)=>(te==null?void 0:te.image_url)&&i.jsx("img",{src:te.image_url.startsWith("http")?te.image_url:`${cd}${te.image_url}`,alt:"Gallery",style:{width:80,height:80,objectFit:"cover",borderRadius:8}},Ce))})}),i.jsxs("div",{className:"mb-4",children:[ke.address&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-house me-2 text-primary"}),i.jsx("span",{className:"fw-medium",children:"Địa chỉ:"})," ",ke.address]}),ke.city&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-geo-alt me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Thành phố:"})," ",ke.city]}),ke.cuisine_type&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-egg-fried me-2 text-warning"}),i.jsx("span",{className:"fw-medium",children:"Ẩm thực:"})," ",ke.cuisine_type]}),ke.price_range&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-currency-dollar me-2 text-warning"}),i.jsx("span",{className:"fw-medium",children:"Mức giá:"})," ",ke.price_range]}),(ke.min_price||ke.max_price)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-cash-coin me-2 text-success"}),i.jsx("span",{className:"fw-medium",children:"Giá:"})," ",ke.min_price?me(ke.min_price):"",ke.min_price&&ke.max_price?" - ":"",ke.max_price?me(ke.max_price):""]}),ke.phone&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-telephone me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Điện thoại:"})," ",ke.phone]}),ke.email&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-envelope me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Email:"})," ",ke.email]}),ke.website&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-globe me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Website:"})," ",i.jsx("a",{href:ke.website,target:"_blank",rel:"noopener noreferrer",children:ke.website})]}),ke.opening_hours&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-clock me-2 text-success"}),i.jsx("span",{className:"fw-medium",children:"Giờ mở cửa:"})," ",(()=>{let te=ke.opening_hours;try{const Ce=JSON.parse(te);if(Array.isArray(Ce))return Ce.map((qe,Ke)=>i.jsxs("span",{className:"ms-2",children:[qe.day,": ",qe.hours]},Ke))}catch{}return te})()]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium me-2",children:"Dịch vụ:"}),i.jsxs("span",{className:"me-2",children:[i.jsx("i",{className:`bi bi-bag-check${ke.delivery_available?"":"-fill text-secondary"}`})," Giao hàng: ",ke.delivery_available?"Có":"Không"]}),i.jsxs("span",{className:"me-2",children:[i.jsx("i",{className:`bi bi-bag${ke.takeout_available?"":"-fill text-secondary"}`})," Mang đi: ",ke.takeout_available?"Có":"Không"]}),i.jsxs("span",{children:[i.jsx("i",{className:`bi bi-people${ke.dine_in_available?"":"-fill text-secondary"}`})," Ăn tại chỗ: ",ke.dine_in_available?"Có":"Không"]})]}),ke.dietary_options&&(()=>{let te=ke.dietary_options;try{const Ce=JSON.parse(te);if(Array.isArray(Ce))return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Tùy chọn ăn kiêng:"})," ",Ce.join(", ")]})}catch{}return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Tùy chọn ăn kiêng:"})," ",te]})})(),ke.features&&(()=>{let te=ke.features;try{const Ce=JSON.parse(te);if(Array.isArray(Ce))return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Tiện ích:"})," ",Ce.join(", ")]})}catch{}return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Tiện ích:"})," ",te]})})()]}),ke.description&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"text-primary mb-3",children:[i.jsx("i",{className:"bi bi-info-circle me-2"}),"Mô tả"]}),i.jsx("div",{className:"p-3 bg-light rounded-3 description-text",style:{fontSize:"0.95rem",maxHeight:"150px",overflowY:"auto"},children:i.jsx("div",{children:Ee(ke.description)})})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"position-relative",style:{height:"250px"},children:[i.jsx("img",{src:(()=>{var te;return S!=null&&S.image_url?S.image_url.startsWith("http")?S.image_url:`${cd}${S.image_url}`:S!=null&&S.images&&((te=S.images[0])!=null&&te.image_url)?S.images[0].image_url.startsWith("http")?S.images[0].image_url:`${cd}${S.images[0].image_url}`:"/default-place.jpg"})(),alt:S==null?void 0:S.name,className:"w-100 h-100",style:{objectFit:"cover"},onError:te=>{te.target.src="/default-place.jpg"}}),i.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"linear-gradient(180deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.4) 100%)"}}),i.jsxs("div",{className:"position-absolute bottom-0 start-0 w-100 p-3",children:[i.jsx("h2",{className:"text-white fw-bold mb-2 text-shadow",style:{fontSize:"1.8rem"},children:S==null?void 0:S.name}),i.jsxs("div",{className:"d-flex flex-wrap gap-2 align-items-center",children:[(S==null?void 0:S.city)&&i.jsxs("span",{className:"badge bg-primary bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),S.city]}),(S==null?void 0:S.rating)&&i.jsxs("span",{className:"badge bg-warning bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-star-fill me-1"}),(nt=S.rating)!=null&&nt.toFixed?S.rating.toFixed(1):S.rating,"/5"]})]})]})]}),(S==null?void 0:S.images)&&S.images.length>1&&i.jsx("div",{className:"mb-3",children:i.jsx("div",{className:"d-flex flex-wrap gap-2",children:S.images.map((te,Ce)=>(te==null?void 0:te.image_url)&&i.jsx("img",{src:te.image_url.startsWith("http")?te.image_url:`${cd}${te.image_url}`,alt:"Gallery",style:{width:80,height:80,objectFit:"cover",borderRadius:8}},Ce))})}),i.jsxs("div",{className:"mb-4",children:[(S==null?void 0:S.address)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-house me-2 text-primary"}),i.jsx("span",{className:"fw-medium",children:"Địa chỉ:"})," ",S.address]}),(S==null?void 0:S.city)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-geo-alt me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Thành phố:"})," ",S.city]}),(S==null?void 0:S.opening_hours)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-clock me-2 text-success"}),i.jsx("span",{className:"fw-medium",children:"Giờ mở cửa:"})," ",S.opening_hours]}),(S==null?void 0:S.service)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-activity me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Dịch vụ:"})," ",S.service]}),(S==null?void 0:S.phone)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-telephone me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Điện thoại:"})," ",S.phone]}),(S==null?void 0:S.email)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-envelope me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Email:"})," ",S.email]}),(S==null?void 0:S.website)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-globe me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Website:"})," ",i.jsx("a",{href:S.website,target:"_blank",rel:"noopener noreferrer",children:S.website})]})]}),(S==null?void 0:S.description)&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"text-primary mb-3",children:[i.jsx("i",{className:"bi bi-info-circle me-2"}),"Mô tả"]}),i.jsx("div",{className:"p-3 bg-light rounded-3 description-text",style:{fontSize:"0.95rem",maxHeight:"150px",overflowY:"auto"},children:i.jsx("div",{children:Ee(S.description)})})]}),S&&S.service&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"text-primary mb-3",children:[i.jsx("i",{className:"bi bi-activity me-2"}),"Dịch vụ"]}),i.jsx("div",{className:"p-3 service-section",children:i.jsx("p",{className:"text-dark mb-0 fw-medium",style:{fontSize:"0.95rem"},children:S.service})})]})]}),i.jsxs("div",{className:"d-flex gap-2 justify-content-center pt-3",children:[i.jsxs("button",{onClick:c,className:"btn btn-outline-primary px-3 py-2 rounded-pill",style:{fontSize:"0.9rem"},children:[i.jsx("i",{className:"bi bi-arrow-left me-2"}),"Quay lại"]}),i.jsxs("button",{className:"btn btn-primary px-3 py-2 rounded-pill",style:{fontSize:"0.9rem"},children:[i.jsx("i",{className:"bi bi-share me-2"}),"Chia sẻ"]})]})]})})})]}):null,K&&i.jsxs("div",{className:"alert alert-warning alert-dismissible fade show position-absolute top-0 start-0 m-3",style:{zIndex:1e3},role:"alert",children:[i.jsx("i",{className:"bi bi-geo-alt me-2"}),ee,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>Q(!1)})]})]})}var nL={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},MI=tt.createContext&&tt.createContext(nL),WW=["attr","size","title"];function YW(l,c){if(l==null)return{};var s=GW(l,c),o,h;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(l);for(h=0;h<g.length;h++)o=g[h],!(c.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(l,o)&&(s[o]=l[o])}return s}function GW(l,c){if(l==null)return{};var s={};for(var o in l)if(Object.prototype.hasOwnProperty.call(l,o)){if(c.indexOf(o)>=0)continue;s[o]=l[o]}return s}function kv(){return kv=Object.assign?Object.assign.bind():function(l){for(var c=1;c<arguments.length;c++){var s=arguments[c];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(l[o]=s[o])}return l},kv.apply(this,arguments)}function II(l,c){var s=Object.keys(l);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(l);c&&(o=o.filter(function(h){return Object.getOwnPropertyDescriptor(l,h).enumerable})),s.push.apply(s,o)}return s}function _v(l){for(var c=1;c<arguments.length;c++){var s=arguments[c]!=null?arguments[c]:{};c%2?II(Object(s),!0).forEach(function(o){KW(l,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(s)):II(Object(s)).forEach(function(o){Object.defineProperty(l,o,Object.getOwnPropertyDescriptor(s,o))})}return l}function KW(l,c,s){return c=QW(c),c in l?Object.defineProperty(l,c,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[c]=s,l}function QW(l){var c=ZW(l,"string");return typeof c=="symbol"?c:c+""}function ZW(l,c){if(typeof l!="object"||!l)return l;var s=l[Symbol.toPrimitive];if(s!==void 0){var o=s.call(l,c);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(l)}function iL(l){return l&&l.map((c,s)=>tt.createElement(c.tag,_v({key:s},c.attr),iL(c.child)))}function ZA(l){return c=>tt.createElement(XW,kv({attr:_v({},l.attr)},c),iL(l.child))}function XW(l){var c=s=>{var{attr:o,size:h,title:g}=l,_=YW(l,WW),y=h||s.size||"1em",v;return s.className&&(v=s.className),l.className&&(v=(v?v+" ":"")+l.className),tt.createElement("svg",kv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,o,_,{className:v,style:_v(_v({color:l.color||s.color},s.style),l.style),height:y,width:y,xmlns:"http://www.w3.org/2000/svg"}),g&&tt.createElement("title",null,g),l.children)};return MI!==void 0?tt.createElement(MI.Consumer,null,s=>c(s)):c(nL)}function JW(l){return ZA({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(l)}function eY(l){return ZA({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(l)}function tY(l){return ZA({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(l)}const zl=({id:l,type:c="place"})=>{const{user:s}=Ab(),[o,h]=I.useState(0),[g,_]=I.useState(0),[y,v]=I.useState(null),[N,S]=I.useState(!1),D=B=>B==="tour"?"tour-ratings":B==="hotel"?"hotel-ratings":B==="restaurant"?"restaurant-ratings":"place-ratings";I.useEffect(()=>{if(!l)return;const B=D(c);Ft.get(`${B}/average`,{params:{[`${c}_id`]:l}}).then(F=>h(F.data.average)).catch(F=>{F.response&&F.response.status===404&&h(0)}),s&&Ft.get(`${B}/user`,{params:{[`${c}_id`]:l}}).then(F=>_(F.data.rating||0)).catch(F=>{F.response&&F.response.status===404&&_(0)})},[l,s,c]);const j=async B=>{if(!s)return alert("Bạn cần đăng nhập để đánh giá!");S(!0);const F=D(c);try{await Ft.post(`${F}/rate`,{[`${c}_id`]:l,rating:B}),_(B);const H=await Ft.get(`${F}/average`,{params:{[`${c}_id`]:l}});h(H.data.average)}catch{alert("Có lỗi khi gửi đánh giá.")}S(!1)};return i.jsxs("div",{className:"d-flex align-items-center gap-2",children:[[1,2,3,4,5].map(B=>i.jsx(tY,{size:24,style:{cursor:s?"pointer":"default",color:(y||g)>=B?"#f1c40f":"#ddd",transition:"color 0.2s, transform 0.1s",transform:y===B?"scale(1.2)":"scale(1)",filter:(y||g)>=B?"drop-shadow(0 0 4px #f1c40f88)":"none"},onMouseEnter:()=>s&&v(B),onMouseLeave:()=>s&&v(null),onClick:()=>s&&j(B)},B)),i.jsx("span",{style:{fontWeight:500,color:"#888",fontSize:15,minWidth:40},children:o?o.toFixed(1):"Chưa có đánh giá"})]})};var iv={exports:{}},nY=iv.exports,OI;function iY(){return OI||(OI=1,function(l,c){(function(s,o){l.exports=o()})(nY,function(){var s=1e3,o=6e4,h=36e5,g="millisecond",_="second",y="minute",v="hour",N="day",S="week",D="month",j="quarter",B="year",F="date",H="Invalid Date",$=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,K=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Q={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ye){var Me=["th","st","nd","rd"],le=ye%100;return"["+ye+(Me[(le-20)%10]||Me[le]||Me[0])+"]"}},ee=function(ye,Me,le){var _e=String(ye);return!_e||_e.length>=Me?ye:""+Array(Me+1-_e.length).join(le)+ye},ne={s:ee,z:function(ye){var Me=-ye.utcOffset(),le=Math.abs(Me),_e=Math.floor(le/60),me=le%60;return(Me<=0?"+":"-")+ee(_e,2,"0")+":"+ee(me,2,"0")},m:function ye(Me,le){if(Me.date()<le.date())return-ye(le,Me);var _e=12*(le.year()-Me.year())+(le.month()-Me.month()),me=Me.clone().add(_e,D),Ee=le-me<0,Z=Me.clone().add(_e+(Ee?-1:1),D);return+(-(_e+(le-me)/(Ee?me-Z:Z-me))||0)},a:function(ye){return ye<0?Math.ceil(ye)||0:Math.floor(ye)},p:function(ye){return{M:D,y:B,w:S,d:N,D:F,h:v,m:y,s:_,ms:g,Q:j}[ye]||String(ye||"").toLowerCase().replace(/s$/,"")},u:function(ye){return ye===void 0}},ce="en",se={};se[ce]=Q;var q="$isDayjsObject",ue=function(ye){return ye instanceof we||!(!ye||!ye[q])},oe=function ye(Me,le,_e){var me;if(!Me)return ce;if(typeof Me=="string"){var Ee=Me.toLowerCase();se[Ee]&&(me=Ee),le&&(se[Ee]=le,me=Ee);var Z=Me.split("-");if(!me&&Z.length>1)return ye(Z[0])}else{var fe=Me.name;se[fe]=Me,me=fe}return!_e&&me&&(ce=me),me||!_e&&ce},be=function(ye,Me){if(ue(ye))return ye.clone();var le=typeof Me=="object"?Me:{};return le.date=ye,le.args=arguments,new we(le)},pe=ne;pe.l=oe,pe.i=ue,pe.w=function(ye,Me){return be(ye,{locale:Me.$L,utc:Me.$u,x:Me.$x,$offset:Me.$offset})};var we=function(){function ye(le){this.$L=oe(le.locale,null,!0),this.parse(le),this.$x=this.$x||le.x||{},this[q]=!0}var Me=ye.prototype;return Me.parse=function(le){this.$d=function(_e){var me=_e.date,Ee=_e.utc;if(me===null)return new Date(NaN);if(pe.u(me))return new Date;if(me instanceof Date)return new Date(me);if(typeof me=="string"&&!/Z$/i.test(me)){var Z=me.match($);if(Z){var fe=Z[2]-1||0,ke=(Z[7]||"0").substring(0,3);return Ee?new Date(Date.UTC(Z[1],fe,Z[3]||1,Z[4]||0,Z[5]||0,Z[6]||0,ke)):new Date(Z[1],fe,Z[3]||1,Z[4]||0,Z[5]||0,Z[6]||0,ke)}}return new Date(me)}(le),this.init()},Me.init=function(){var le=this.$d;this.$y=le.getFullYear(),this.$M=le.getMonth(),this.$D=le.getDate(),this.$W=le.getDay(),this.$H=le.getHours(),this.$m=le.getMinutes(),this.$s=le.getSeconds(),this.$ms=le.getMilliseconds()},Me.$utils=function(){return pe},Me.isValid=function(){return this.$d.toString()!==H},Me.isSame=function(le,_e){var me=be(le);return this.startOf(_e)<=me&&me<=this.endOf(_e)},Me.isAfter=function(le,_e){return be(le)<this.startOf(_e)},Me.isBefore=function(le,_e){return this.endOf(_e)<be(le)},Me.$g=function(le,_e,me){return pe.u(le)?this[_e]:this.set(me,le)},Me.unix=function(){return Math.floor(this.valueOf()/1e3)},Me.valueOf=function(){return this.$d.getTime()},Me.startOf=function(le,_e){var me=this,Ee=!!pe.u(_e)||_e,Z=pe.p(le),fe=function(Ke,Ie){var rt=pe.w(me.$u?Date.UTC(me.$y,Ie,Ke):new Date(me.$y,Ie,Ke),me);return Ee?rt:rt.endOf(N)},ke=function(Ke,Ie){return pe.w(me.toDate()[Ke].apply(me.toDate("s"),(Ee?[0,0,0,0]:[23,59,59,999]).slice(Ie)),me)},Be=this.$W,Ve=this.$M,nt=this.$D,te="set"+(this.$u?"UTC":"");switch(Z){case B:return Ee?fe(1,0):fe(31,11);case D:return Ee?fe(1,Ve):fe(0,Ve+1);case S:var Ce=this.$locale().weekStart||0,qe=(Be<Ce?Be+7:Be)-Ce;return fe(Ee?nt-qe:nt+(6-qe),Ve);case N:case F:return ke(te+"Hours",0);case v:return ke(te+"Minutes",1);case y:return ke(te+"Seconds",2);case _:return ke(te+"Milliseconds",3);default:return this.clone()}},Me.endOf=function(le){return this.startOf(le,!1)},Me.$set=function(le,_e){var me,Ee=pe.p(le),Z="set"+(this.$u?"UTC":""),fe=(me={},me[N]=Z+"Date",me[F]=Z+"Date",me[D]=Z+"Month",me[B]=Z+"FullYear",me[v]=Z+"Hours",me[y]=Z+"Minutes",me[_]=Z+"Seconds",me[g]=Z+"Milliseconds",me)[Ee],ke=Ee===N?this.$D+(_e-this.$W):_e;if(Ee===D||Ee===B){var Be=this.clone().set(F,1);Be.$d[fe](ke),Be.init(),this.$d=Be.set(F,Math.min(this.$D,Be.daysInMonth())).$d}else fe&&this.$d[fe](ke);return this.init(),this},Me.set=function(le,_e){return this.clone().$set(le,_e)},Me.get=function(le){return this[pe.p(le)]()},Me.add=function(le,_e){var me,Ee=this;le=Number(le);var Z=pe.p(_e),fe=function(Ve){var nt=be(Ee);return pe.w(nt.date(nt.date()+Math.round(Ve*le)),Ee)};if(Z===D)return this.set(D,this.$M+le);if(Z===B)return this.set(B,this.$y+le);if(Z===N)return fe(1);if(Z===S)return fe(7);var ke=(me={},me[y]=o,me[v]=h,me[_]=s,me)[Z]||1,Be=this.$d.getTime()+le*ke;return pe.w(Be,this)},Me.subtract=function(le,_e){return this.add(-1*le,_e)},Me.format=function(le){var _e=this,me=this.$locale();if(!this.isValid())return me.invalidDate||H;var Ee=le||"YYYY-MM-DDTHH:mm:ssZ",Z=pe.z(this),fe=this.$H,ke=this.$m,Be=this.$M,Ve=me.weekdays,nt=me.months,te=me.meridiem,Ce=function(Ie,rt,Ye,Te){return Ie&&(Ie[rt]||Ie(_e,Ee))||Ye[rt].slice(0,Te)},qe=function(Ie){return pe.s(fe%12||12,Ie,"0")},Ke=te||function(Ie,rt,Ye){var Te=Ie<12?"AM":"PM";return Ye?Te.toLowerCase():Te};return Ee.replace(K,function(Ie,rt){return rt||function(Ye){switch(Ye){case"YY":return String(_e.$y).slice(-2);case"YYYY":return pe.s(_e.$y,4,"0");case"M":return Be+1;case"MM":return pe.s(Be+1,2,"0");case"MMM":return Ce(me.monthsShort,Be,nt,3);case"MMMM":return Ce(nt,Be);case"D":return _e.$D;case"DD":return pe.s(_e.$D,2,"0");case"d":return String(_e.$W);case"dd":return Ce(me.weekdaysMin,_e.$W,Ve,2);case"ddd":return Ce(me.weekdaysShort,_e.$W,Ve,3);case"dddd":return Ve[_e.$W];case"H":return String(fe);case"HH":return pe.s(fe,2,"0");case"h":return qe(1);case"hh":return qe(2);case"a":return Ke(fe,ke,!0);case"A":return Ke(fe,ke,!1);case"m":return String(ke);case"mm":return pe.s(ke,2,"0");case"s":return String(_e.$s);case"ss":return pe.s(_e.$s,2,"0");case"SSS":return pe.s(_e.$ms,3,"0");case"Z":return Z}return null}(Ie)||Z.replace(":","")})},Me.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Me.diff=function(le,_e,me){var Ee,Z=this,fe=pe.p(_e),ke=be(le),Be=(ke.utcOffset()-this.utcOffset())*o,Ve=this-ke,nt=function(){return pe.m(Z,ke)};switch(fe){case B:Ee=nt()/12;break;case D:Ee=nt();break;case j:Ee=nt()/3;break;case S:Ee=(Ve-Be)/6048e5;break;case N:Ee=(Ve-Be)/864e5;break;case v:Ee=Ve/h;break;case y:Ee=Ve/o;break;case _:Ee=Ve/s;break;default:Ee=Ve}return me?Ee:pe.a(Ee)},Me.daysInMonth=function(){return this.endOf(D).$D},Me.$locale=function(){return se[this.$L]},Me.locale=function(le,_e){if(!le)return this.$L;var me=this.clone(),Ee=oe(le,_e,!0);return Ee&&(me.$L=Ee),me},Me.clone=function(){return pe.w(this.$d,this)},Me.toDate=function(){return new Date(this.valueOf())},Me.toJSON=function(){return this.isValid()?this.toISOString():null},Me.toISOString=function(){return this.$d.toISOString()},Me.toString=function(){return this.$d.toUTCString()},ye}(),je=we.prototype;return be.prototype=je,[["$ms",g],["$s",_],["$m",y],["$H",v],["$W",N],["$M",D],["$y",B],["$D",F]].forEach(function(ye){je[ye[1]]=function(Me){return this.$g(Me,ye[0],ye[1])}}),be.extend=function(ye,Me){return ye.$i||(ye(Me,we,be),ye.$i=!0),be},be.locale=oe,be.isDayjs=ue,be.unix=function(ye){return be(1e3*ye)},be.en=se[ce],be.Ls=se,be.p={},be})}(iv)),iv.exports}iY();function rL(l){var c,s,o="";if(typeof l=="string"||typeof l=="number")o+=l;else if(typeof l=="object")if(Array.isArray(l)){var h=l.length;for(c=0;c<h;c++)l[c]&&(s=rL(l[c]))&&(o&&(o+=" "),o+=s)}else for(s in l)l[s]&&(o&&(o+=" "),o+=s);return o}function Eo(){for(var l,c,s=0,o="",h=arguments.length;s<h;s++)(l=arguments[s])&&(c=rL(l))&&(o&&(o+=" "),o+=c);return o}const sL=6048e5,rY=864e5,cw=6e4,dw=36e5,sY=1e3,LI=Symbol.for("constructDateFrom");function Ji(l,c){return typeof l=="function"?l(c):l&&typeof l=="object"&&LI in l?l[LI](c):l instanceof Date?new l.constructor(c):new Date(c)}function dn(l,c){return Ji(c||l,l)}function kc(l,c,s){const o=dn(l,s==null?void 0:s.in);return isNaN(c)?Ji((s==null?void 0:s.in)||l,NaN):(c&&o.setDate(o.getDate()+c),o)}function _c(l,c,s){const o=dn(l,s==null?void 0:s.in);if(isNaN(c))return Ji(l,NaN);if(!c)return o;const h=o.getDate(),g=Ji(l,o.getTime());g.setMonth(o.getMonth()+c+1,0);const _=g.getDate();return h>=_?g:(o.setFullYear(g.getFullYear(),g.getMonth(),h),o)}function oL(l,c,s){return Ji(l,+dn(l)+c)}function oY(l,c,s){return oL(l,c*dw)}let aY={};function Vm(){return aY}function ku(l,c){var y,v,N,S;const s=Vm(),o=(c==null?void 0:c.weekStartsOn)??((v=(y=c==null?void 0:c.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??s.weekStartsOn??((S=(N=s.locale)==null?void 0:N.options)==null?void 0:S.weekStartsOn)??0,h=dn(l,c==null?void 0:c.in),g=h.getDay(),_=(g<o?7:0)+g-o;return h.setDate(h.getDate()-_),h.setHours(0,0,0,0),h}function op(l,c){return ku(l,{...c,weekStartsOn:1})}function aL(l,c){const s=dn(l,c==null?void 0:c.in),o=s.getFullYear(),h=Ji(s,0);h.setFullYear(o+1,0,4),h.setHours(0,0,0,0);const g=op(h),_=Ji(s,0);_.setFullYear(o,0,4),_.setHours(0,0,0,0);const y=op(_);return s.getTime()>=g.getTime()?o+1:s.getTime()>=y.getTime()?o:o-1}function vv(l){const c=dn(l),s=new Date(Date.UTC(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds()));return s.setUTCFullYear(c.getFullYear()),+l-+s}function yu(l,...c){const s=Ji.bind(null,c.find(o=>typeof o=="object"));return c.map(s)}function Lm(l,c){const s=dn(l,c==null?void 0:c.in);return s.setHours(0,0,0,0),s}function ap(l,c,s){const[o,h]=yu(s==null?void 0:s.in,l,c),g=Lm(o),_=Lm(h),y=+g-vv(g),v=+_-vv(_);return Math.round((y-v)/rY)}function lY(l,c){const s=aL(l,c),o=Ji(l,0);return o.setFullYear(s,0,4),o.setHours(0,0,0,0),op(o)}function hA(l,c,s){const o=dn(l,s==null?void 0:s.in);return o.setTime(o.getTime()+c*cw),o}function XA(l,c,s){return _c(l,c*3,s)}function cY(l,c,s){return oL(l,c*1e3)}function wv(l,c,s){return kc(l,c*7,s)}function uu(l,c,s){return _c(l,c*12,s)}function BI(l,c){let s,o=c==null?void 0:c.in;return l.forEach(h=>{!o&&typeof h=="object"&&(o=Ji.bind(null,h));const g=dn(h,o);(!s||s<g||isNaN(+g))&&(s=g)}),Ji(o,s||NaN)}function PI(l,c){let s,o=c==null?void 0:c.in;return l.forEach(h=>{!o&&typeof h=="object"&&(o=Ji.bind(null,h));const g=dn(h,o);(!s||s>g||isNaN(+g))&&(s=g)}),Ji(o,s||NaN)}function dY(l,c,s){const[o,h]=yu(s==null?void 0:s.in,l,c);return+Lm(o)==+Lm(h)}function hu(l){return l instanceof Date||typeof l=="object"&&Object.prototype.toString.call(l)==="[object Date]"}function yv(l){return!(!hu(l)&&typeof l!="number"||isNaN(+dn(l)))}function xv(l,c,s){const[o,h]=yu(s==null?void 0:s.in,l,c),g=o.getFullYear()-h.getFullYear(),_=o.getMonth()-h.getMonth();return g*12+_}function Tm(l,c){const s=dn(l,c==null?void 0:c.in);return Math.trunc(s.getMonth()/3)+1}function Cv(l,c,s){const[o,h]=yu(s==null?void 0:s.in,l,c),g=o.getFullYear()-h.getFullYear(),_=Tm(o)-Tm(h);return g*4+_}function Av(l,c,s){const[o,h]=yu(s==null?void 0:s.in,l,c);return o.getFullYear()-h.getFullYear()}function uY(l,c,s){const[o,h]=yu(s==null?void 0:s.in,l,c),g=RI(o,h),_=Math.abs(ap(o,h));o.setDate(o.getDate()-g*_);const y=+(RI(o,h)===-g),v=g*(_-y);return v===0?0:v}function RI(l,c){const s=l.getFullYear()-c.getFullYear()||l.getMonth()-c.getMonth()||l.getDate()-c.getDate()||l.getHours()-c.getHours()||l.getMinutes()-c.getMinutes()||l.getSeconds()-c.getSeconds()||l.getMilliseconds()-c.getMilliseconds();return s<0?-1:s>0?1:s}function lL(l,c){const s=dn(l,c==null?void 0:c.in);return s.setHours(23,59,59,999),s}function cL(l,c){const s=dn(l,c==null?void 0:c.in),o=s.getMonth();return s.setFullYear(s.getFullYear(),o+1,0),s.setHours(23,59,59,999),s}function mA(l,c){const s=dn(l,c==null?void 0:c.in),o=s.getMonth(),h=o-o%3;return s.setMonth(h,1),s.setHours(0,0,0,0),s}function dL(l,c){const s=dn(l,c==null?void 0:c.in);return s.setDate(1),s.setHours(0,0,0,0),s}function uL(l,c){const s=dn(l,c==null?void 0:c.in),o=s.getFullYear();return s.setFullYear(o+1,0,0),s.setHours(23,59,59,999),s}function uw(l,c){const s=dn(l,c==null?void 0:c.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}function hY(l,c){var y,v;const s=Vm(),o=s.weekStartsOn??((v=(y=s.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??0,h=dn(l,c==null?void 0:c.in),g=h.getDay(),_=(g<o?-7:0)+6-(g-o);return h.setDate(h.getDate()+_),h.setHours(23,59,59,999),h}const mY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fY=(l,c,s)=>{let o;const h=mY[l];return typeof h=="string"?o=h:c===1?o=h.one:o=h.other.replace("{{count}}",c.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+o:o+" ago":o};function TC(l){return(c={})=>{const s=c.width?String(c.width):l.defaultWidth;return l.formats[s]||l.formats[l.defaultWidth]}}const pY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kY={date:TC({formats:pY,defaultWidth:"full"}),time:TC({formats:gY,defaultWidth:"full"}),dateTime:TC({formats:bY,defaultWidth:"full"})},_Y={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vY=(l,c,s,o)=>_Y[l];function Yg(l){return(c,s)=>{const o=s!=null&&s.context?String(s.context):"standalone";let h;if(o==="formatting"&&l.formattingValues){const _=l.defaultFormattingWidth||l.defaultWidth,y=s!=null&&s.width?String(s.width):_;h=l.formattingValues[y]||l.formattingValues[_]}else{const _=l.defaultWidth,y=s!=null&&s.width?String(s.width):l.defaultWidth;h=l.values[y]||l.values[_]}const g=l.argumentCallback?l.argumentCallback(c):c;return h[g]}}const wY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},CY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},AY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},NY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},EY=(l,c)=>{const s=Number(l),o=s%100;if(o>20||o<10)switch(o%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},SY={ordinalNumber:EY,era:Yg({values:wY,defaultWidth:"wide"}),quarter:Yg({values:yY,defaultWidth:"wide",argumentCallback:l=>l-1}),month:Yg({values:xY,defaultWidth:"wide"}),day:Yg({values:CY,defaultWidth:"wide"}),dayPeriod:Yg({values:AY,defaultWidth:"wide",formattingValues:NY,defaultFormattingWidth:"wide"})};function Gg(l){return(c,s={})=>{const o=s.width,h=o&&l.matchPatterns[o]||l.matchPatterns[l.defaultMatchWidth],g=c.match(h);if(!g)return null;const _=g[0],y=o&&l.parsePatterns[o]||l.parsePatterns[l.defaultParseWidth],v=Array.isArray(y)?DY(y,D=>D.test(_)):jY(y,D=>D.test(_));let N;N=l.valueCallback?l.valueCallback(v):v,N=s.valueCallback?s.valueCallback(N):N;const S=c.slice(_.length);return{value:N,rest:S}}}function jY(l,c){for(const s in l)if(Object.prototype.hasOwnProperty.call(l,s)&&c(l[s]))return s}function DY(l,c){for(let s=0;s<l.length;s++)if(c(l[s]))return s}function TY(l){return(c,s={})=>{const o=c.match(l.matchPattern);if(!o)return null;const h=o[0],g=c.match(l.parsePattern);if(!g)return null;let _=l.valueCallback?l.valueCallback(g[0]):g[0];_=s.valueCallback?s.valueCallback(_):_;const y=c.slice(h.length);return{value:_,rest:y}}}const MY=/^(\d+)(th|st|nd|rd)?/i,IY=/\d+/i,OY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},LY={any:[/^b/i,/^(a|c)/i]},BY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},PY={any:[/1/i,/2/i,/3/i,/4/i]},RY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},FY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},VY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},HY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},UY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$Y={ordinalNumber:TY({matchPattern:MY,parsePattern:IY,valueCallback:l=>parseInt(l,10)}),era:Gg({matchPatterns:OY,defaultMatchWidth:"wide",parsePatterns:LY,defaultParseWidth:"any"}),quarter:Gg({matchPatterns:BY,defaultMatchWidth:"wide",parsePatterns:PY,defaultParseWidth:"any",valueCallback:l=>l+1}),month:Gg({matchPatterns:RY,defaultMatchWidth:"wide",parsePatterns:zY,defaultParseWidth:"any"}),day:Gg({matchPatterns:FY,defaultMatchWidth:"wide",parsePatterns:VY,defaultParseWidth:"any"}),dayPeriod:Gg({matchPatterns:HY,defaultMatchWidth:"any",parsePatterns:UY,defaultParseWidth:"any"})},hL={code:"en-US",formatDistance:fY,formatLong:kY,formatRelative:vY,localize:SY,match:$Y,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qY(l,c){const s=dn(l,c==null?void 0:c.in);return ap(s,uw(s))+1}function JA(l,c){const s=dn(l,c==null?void 0:c.in),o=+op(s)-+lY(s);return Math.round(o/sL)+1}function e1(l,c){var S,D,j,B;const s=dn(l,c==null?void 0:c.in),o=s.getFullYear(),h=Vm(),g=(c==null?void 0:c.firstWeekContainsDate)??((D=(S=c==null?void 0:c.locale)==null?void 0:S.options)==null?void 0:D.firstWeekContainsDate)??h.firstWeekContainsDate??((B=(j=h.locale)==null?void 0:j.options)==null?void 0:B.firstWeekContainsDate)??1,_=Ji((c==null?void 0:c.in)||l,0);_.setFullYear(o+1,0,g),_.setHours(0,0,0,0);const y=ku(_,c),v=Ji((c==null?void 0:c.in)||l,0);v.setFullYear(o,0,g),v.setHours(0,0,0,0);const N=ku(v,c);return+s>=+y?o+1:+s>=+N?o:o-1}function WY(l,c){var y,v,N,S;const s=Vm(),o=(c==null?void 0:c.firstWeekContainsDate)??((v=(y=c==null?void 0:c.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??s.firstWeekContainsDate??((S=(N=s.locale)==null?void 0:N.options)==null?void 0:S.firstWeekContainsDate)??1,h=e1(l,c),g=Ji((c==null?void 0:c.in)||l,0);return g.setFullYear(h,0,o),g.setHours(0,0,0,0),ku(g,c)}function mL(l,c){const s=dn(l,c==null?void 0:c.in),o=+ku(s,c)-+WY(s,c);return Math.round(o/sL)+1}function Xi(l,c){const s=l<0?"-":"",o=Math.abs(l).toString().padStart(c,"0");return s+o}const uh={y(l,c){const s=l.getFullYear(),o=s>0?s:1-s;return Xi(c==="yy"?o%100:o,c.length)},M(l,c){const s=l.getMonth();return c==="M"?String(s+1):Xi(s+1,2)},d(l,c){return Xi(l.getDate(),c.length)},a(l,c){const s=l.getHours()/12>=1?"pm":"am";switch(c){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(l,c){return Xi(l.getHours()%12||12,c.length)},H(l,c){return Xi(l.getHours(),c.length)},m(l,c){return Xi(l.getMinutes(),c.length)},s(l,c){return Xi(l.getSeconds(),c.length)},S(l,c){const s=c.length,o=l.getMilliseconds(),h=Math.trunc(o*Math.pow(10,s-3));return Xi(h,c.length)}},Jf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zI={G:function(l,c,s){const o=l.getFullYear()>0?1:0;switch(c){case"G":case"GG":case"GGG":return s.era(o,{width:"abbreviated"});case"GGGGG":return s.era(o,{width:"narrow"});case"GGGG":default:return s.era(o,{width:"wide"})}},y:function(l,c,s){if(c==="yo"){const o=l.getFullYear(),h=o>0?o:1-o;return s.ordinalNumber(h,{unit:"year"})}return uh.y(l,c)},Y:function(l,c,s,o){const h=e1(l,o),g=h>0?h:1-h;if(c==="YY"){const _=g%100;return Xi(_,2)}return c==="Yo"?s.ordinalNumber(g,{unit:"year"}):Xi(g,c.length)},R:function(l,c){const s=aL(l);return Xi(s,c.length)},u:function(l,c){const s=l.getFullYear();return Xi(s,c.length)},Q:function(l,c,s){const o=Math.ceil((l.getMonth()+1)/3);switch(c){case"Q":return String(o);case"QQ":return Xi(o,2);case"Qo":return s.ordinalNumber(o,{unit:"quarter"});case"QQQ":return s.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(o,{width:"wide",context:"formatting"})}},q:function(l,c,s){const o=Math.ceil((l.getMonth()+1)/3);switch(c){case"q":return String(o);case"qq":return Xi(o,2);case"qo":return s.ordinalNumber(o,{unit:"quarter"});case"qqq":return s.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(o,{width:"wide",context:"standalone"})}},M:function(l,c,s){const o=l.getMonth();switch(c){case"M":case"MM":return uh.M(l,c);case"Mo":return s.ordinalNumber(o+1,{unit:"month"});case"MMM":return s.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(o,{width:"wide",context:"formatting"})}},L:function(l,c,s){const o=l.getMonth();switch(c){case"L":return String(o+1);case"LL":return Xi(o+1,2);case"Lo":return s.ordinalNumber(o+1,{unit:"month"});case"LLL":return s.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(o,{width:"wide",context:"standalone"})}},w:function(l,c,s,o){const h=mL(l,o);return c==="wo"?s.ordinalNumber(h,{unit:"week"}):Xi(h,c.length)},I:function(l,c,s){const o=JA(l);return c==="Io"?s.ordinalNumber(o,{unit:"week"}):Xi(o,c.length)},d:function(l,c,s){return c==="do"?s.ordinalNumber(l.getDate(),{unit:"date"}):uh.d(l,c)},D:function(l,c,s){const o=qY(l);return c==="Do"?s.ordinalNumber(o,{unit:"dayOfYear"}):Xi(o,c.length)},E:function(l,c,s){const o=l.getDay();switch(c){case"E":case"EE":case"EEE":return s.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(o,{width:"short",context:"formatting"});case"EEEE":default:return s.day(o,{width:"wide",context:"formatting"})}},e:function(l,c,s,o){const h=l.getDay(),g=(h-o.weekStartsOn+8)%7||7;switch(c){case"e":return String(g);case"ee":return Xi(g,2);case"eo":return s.ordinalNumber(g,{unit:"day"});case"eee":return s.day(h,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(h,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(h,{width:"short",context:"formatting"});case"eeee":default:return s.day(h,{width:"wide",context:"formatting"})}},c:function(l,c,s,o){const h=l.getDay(),g=(h-o.weekStartsOn+8)%7||7;switch(c){case"c":return String(g);case"cc":return Xi(g,c.length);case"co":return s.ordinalNumber(g,{unit:"day"});case"ccc":return s.day(h,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(h,{width:"narrow",context:"standalone"});case"cccccc":return s.day(h,{width:"short",context:"standalone"});case"cccc":default:return s.day(h,{width:"wide",context:"standalone"})}},i:function(l,c,s){const o=l.getDay(),h=o===0?7:o;switch(c){case"i":return String(h);case"ii":return Xi(h,c.length);case"io":return s.ordinalNumber(h,{unit:"day"});case"iii":return s.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(o,{width:"short",context:"formatting"});case"iiii":default:return s.day(o,{width:"wide",context:"formatting"})}},a:function(l,c,s){const h=l.getHours()/12>=1?"pm":"am";switch(c){case"a":case"aa":return s.dayPeriod(h,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(h,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(h,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(h,{width:"wide",context:"formatting"})}},b:function(l,c,s){const o=l.getHours();let h;switch(o===12?h=Jf.noon:o===0?h=Jf.midnight:h=o/12>=1?"pm":"am",c){case"b":case"bb":return s.dayPeriod(h,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(h,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(h,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(h,{width:"wide",context:"formatting"})}},B:function(l,c,s){const o=l.getHours();let h;switch(o>=17?h=Jf.evening:o>=12?h=Jf.afternoon:o>=4?h=Jf.morning:h=Jf.night,c){case"B":case"BB":case"BBB":return s.dayPeriod(h,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(h,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(h,{width:"wide",context:"formatting"})}},h:function(l,c,s){if(c==="ho"){let o=l.getHours()%12;return o===0&&(o=12),s.ordinalNumber(o,{unit:"hour"})}return uh.h(l,c)},H:function(l,c,s){return c==="Ho"?s.ordinalNumber(l.getHours(),{unit:"hour"}):uh.H(l,c)},K:function(l,c,s){const o=l.getHours()%12;return c==="Ko"?s.ordinalNumber(o,{unit:"hour"}):Xi(o,c.length)},k:function(l,c,s){let o=l.getHours();return o===0&&(o=24),c==="ko"?s.ordinalNumber(o,{unit:"hour"}):Xi(o,c.length)},m:function(l,c,s){return c==="mo"?s.ordinalNumber(l.getMinutes(),{unit:"minute"}):uh.m(l,c)},s:function(l,c,s){return c==="so"?s.ordinalNumber(l.getSeconds(),{unit:"second"}):uh.s(l,c)},S:function(l,c){return uh.S(l,c)},X:function(l,c,s){const o=l.getTimezoneOffset();if(o===0)return"Z";switch(c){case"X":return VI(o);case"XXXX":case"XX":return wm(o);case"XXXXX":case"XXX":default:return wm(o,":")}},x:function(l,c,s){const o=l.getTimezoneOffset();switch(c){case"x":return VI(o);case"xxxx":case"xx":return wm(o);case"xxxxx":case"xxx":default:return wm(o,":")}},O:function(l,c,s){const o=l.getTimezoneOffset();switch(c){case"O":case"OO":case"OOO":return"GMT"+FI(o,":");case"OOOO":default:return"GMT"+wm(o,":")}},z:function(l,c,s){const o=l.getTimezoneOffset();switch(c){case"z":case"zz":case"zzz":return"GMT"+FI(o,":");case"zzzz":default:return"GMT"+wm(o,":")}},t:function(l,c,s){const o=Math.trunc(+l/1e3);return Xi(o,c.length)},T:function(l,c,s){return Xi(+l,c.length)}};function FI(l,c=""){const s=l>0?"-":"+",o=Math.abs(l),h=Math.trunc(o/60),g=o%60;return g===0?s+String(h):s+String(h)+c+Xi(g,2)}function VI(l,c){return l%60===0?(l>0?"-":"+")+Xi(Math.abs(l)/60,2):wm(l,c)}function wm(l,c=""){const s=l>0?"-":"+",o=Math.abs(l),h=Xi(Math.trunc(o/60),2),g=Xi(o%60,2);return s+h+c+g}const HI=(l,c)=>{switch(l){case"P":return c.date({width:"short"});case"PP":return c.date({width:"medium"});case"PPP":return c.date({width:"long"});case"PPPP":default:return c.date({width:"full"})}},fL=(l,c)=>{switch(l){case"p":return c.time({width:"short"});case"pp":return c.time({width:"medium"});case"ppp":return c.time({width:"long"});case"pppp":default:return c.time({width:"full"})}},YY=(l,c)=>{const s=l.match(/(P+)(p+)?/)||[],o=s[1],h=s[2];if(!h)return HI(l,c);let g;switch(o){case"P":g=c.dateTime({width:"short"});break;case"PP":g=c.dateTime({width:"medium"});break;case"PPP":g=c.dateTime({width:"long"});break;case"PPPP":default:g=c.dateTime({width:"full"});break}return g.replace("{{date}}",HI(o,c)).replace("{{time}}",fL(h,c))},fA={p:fL,P:YY},GY=/^D+$/,KY=/^Y+$/,QY=["D","DD","YY","YYYY"];function ZY(l){return GY.test(l)}function XY(l){return KY.test(l)}function JY(l,c,s){const o=eG(l,c,s);if(console.warn(o),QY.includes(l))throw new RangeError(o)}function eG(l,c,s){const o=l[0]==="Y"?"years":"days of the month";return`Use \`${l.toLowerCase()}\` instead of \`${l}\` (in \`${c}\`) for formatting ${o} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iG=/^'([^]*?)'?$/,rG=/''/g,sG=/[a-zA-Z]/;function UI(l,c,s){var S,D,j,B,F,H,$,K;const o=Vm(),h=(s==null?void 0:s.locale)??o.locale??hL,g=(s==null?void 0:s.firstWeekContainsDate)??((D=(S=s==null?void 0:s.locale)==null?void 0:S.options)==null?void 0:D.firstWeekContainsDate)??o.firstWeekContainsDate??((B=(j=o.locale)==null?void 0:j.options)==null?void 0:B.firstWeekContainsDate)??1,_=(s==null?void 0:s.weekStartsOn)??((H=(F=s==null?void 0:s.locale)==null?void 0:F.options)==null?void 0:H.weekStartsOn)??o.weekStartsOn??((K=($=o.locale)==null?void 0:$.options)==null?void 0:K.weekStartsOn)??0,y=dn(l,s==null?void 0:s.in);if(!yv(y))throw new RangeError("Invalid time value");let v=c.match(nG).map(Q=>{const ee=Q[0];if(ee==="p"||ee==="P"){const ne=fA[ee];return ne(Q,h.formatLong)}return Q}).join("").match(tG).map(Q=>{if(Q==="''")return{isToken:!1,value:"'"};const ee=Q[0];if(ee==="'")return{isToken:!1,value:oG(Q)};if(zI[ee])return{isToken:!0,value:Q};if(ee.match(sG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ee+"`");return{isToken:!1,value:Q}});h.localize.preprocessor&&(v=h.localize.preprocessor(y,v));const N={firstWeekContainsDate:g,weekStartsOn:_,locale:h};return v.map(Q=>{if(!Q.isToken)return Q.value;const ee=Q.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&XY(ee)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&ZY(ee))&&JY(ee,c,String(l));const ne=zI[ee[0]];return ne(y,ee,h.localize,N)}).join("")}function oG(l){const c=l.match(iG);return c?c[1].replace(rG,"'"):l}function $I(l,c){return dn(l,c==null?void 0:c.in).getDate()}function aG(l,c){return dn(l,c==null?void 0:c.in).getDay()}function lG(l,c){const s=dn(l,c==null?void 0:c.in),o=s.getFullYear(),h=s.getMonth(),g=Ji(s,0);return g.setFullYear(o,h+1,0),g.setHours(0,0,0,0),g.getDate()}function cG(){return Object.assign({},Vm())}function mu(l,c){return dn(l,c==null?void 0:c.in).getHours()}function dG(l,c){const s=dn(l,c==null?void 0:c.in).getDay();return s===0?7:s}function fu(l,c){return dn(l,c==null?void 0:c.in).getMinutes()}function Ko(l,c){return dn(l,c==null?void 0:c.in).getMonth()}function gh(l){return dn(l).getSeconds()}function pA(l){return+dn(l)}function oi(l,c){return dn(l,c==null?void 0:c.in).getFullYear()}function kh(l,c){return+dn(l)>+dn(c)}function Bm(l,c){return+dn(l)<+dn(c)}function uG(l,c){return+dn(l)==+dn(c)}function hG(l,c){const s=mG(c)?new c(0):Ji(c,0);return s.setFullYear(l.getFullYear(),l.getMonth(),l.getDate()),s.setHours(l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()),s}function mG(l){var c;return typeof l=="function"&&((c=l.prototype)==null?void 0:c.constructor)===l}const fG=10;class pL{constructor(){nn(this,"subPriority",0)}validate(c,s){return!0}}class pG extends pL{constructor(c,s,o,h,g){super(),this.value=c,this.validateValue=s,this.setValue=o,this.priority=h,g&&(this.subPriority=g)}validate(c,s){return this.validateValue(c,this.value,s)}set(c,s,o){return this.setValue(c,s,this.value,o)}}class gG extends pL{constructor(s,o){super();nn(this,"priority",fG);nn(this,"subPriority",-1);this.context=s||(h=>Ji(o,h))}set(s,o){return o.timestampIsSet?s:Ji(s,hG(s,this.context))}}class Ri{run(c,s,o,h){const g=this.parse(c,s,o,h);return g?{setter:new pG(g.value,this.validate,this.set,this.priority,this.subPriority),rest:g.rest}:null}validate(c,s,o){return!0}}class bG extends Ri{constructor(){super(...arguments);nn(this,"priority",140);nn(this,"incompatibleTokens",["R","u","t","T"])}parse(s,o,h){switch(o){case"G":case"GG":case"GGG":return h.era(s,{width:"abbreviated"})||h.era(s,{width:"narrow"});case"GGGGG":return h.era(s,{width:"narrow"});case"GGGG":default:return h.era(s,{width:"wide"})||h.era(s,{width:"abbreviated"})||h.era(s,{width:"narrow"})}}set(s,o,h){return o.era=h,s.setFullYear(h,0,1),s.setHours(0,0,0,0),s}}const as={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},hd={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ls(l,c){return l&&{value:c(l.value),rest:l.rest}}function Or(l,c){const s=c.match(l);return s?{value:parseInt(s[0],10),rest:c.slice(s[0].length)}:null}function md(l,c){const s=c.match(l);if(!s)return null;if(s[0]==="Z")return{value:0,rest:c.slice(1)};const o=s[1]==="+"?1:-1,h=s[2]?parseInt(s[2],10):0,g=s[3]?parseInt(s[3],10):0,_=s[5]?parseInt(s[5],10):0;return{value:o*(h*dw+g*cw+_*sY),rest:c.slice(s[0].length)}}function gL(l){return Or(as.anyDigitsSigned,l)}function Wr(l,c){switch(l){case 1:return Or(as.singleDigit,c);case 2:return Or(as.twoDigits,c);case 3:return Or(as.threeDigits,c);case 4:return Or(as.fourDigits,c);default:return Or(new RegExp("^\\d{1,"+l+"}"),c)}}function Nv(l,c){switch(l){case 1:return Or(as.singleDigitSigned,c);case 2:return Or(as.twoDigitsSigned,c);case 3:return Or(as.threeDigitsSigned,c);case 4:return Or(as.fourDigitsSigned,c);default:return Or(new RegExp("^-?\\d{1,"+l+"}"),c)}}function t1(l){switch(l){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function bL(l,c){const s=c>0,o=s?c:1-c;let h;if(o<=50)h=l||100;else{const g=o+50,_=Math.trunc(g/100)*100,y=l>=g%100;h=l+_-(y?100:0)}return s?h:1-h}function kL(l){return l%400===0||l%4===0&&l%100!==0}class kG extends Ri{constructor(){super(...arguments);nn(this,"priority",130);nn(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(s,o,h){const g=_=>({year:_,isTwoDigitYear:o==="yy"});switch(o){case"y":return ls(Wr(4,s),g);case"yo":return ls(h.ordinalNumber(s,{unit:"year"}),g);default:return ls(Wr(o.length,s),g)}}validate(s,o){return o.isTwoDigitYear||o.year>0}set(s,o,h){const g=s.getFullYear();if(h.isTwoDigitYear){const y=bL(h.year,g);return s.setFullYear(y,0,1),s.setHours(0,0,0,0),s}const _=!("era"in o)||o.era===1?h.year:1-h.year;return s.setFullYear(_,0,1),s.setHours(0,0,0,0),s}}class _G extends Ri{constructor(){super(...arguments);nn(this,"priority",130);nn(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(s,o,h){const g=_=>({year:_,isTwoDigitYear:o==="YY"});switch(o){case"Y":return ls(Wr(4,s),g);case"Yo":return ls(h.ordinalNumber(s,{unit:"year"}),g);default:return ls(Wr(o.length,s),g)}}validate(s,o){return o.isTwoDigitYear||o.year>0}set(s,o,h,g){const _=e1(s,g);if(h.isTwoDigitYear){const v=bL(h.year,_);return s.setFullYear(v,0,g.firstWeekContainsDate),s.setHours(0,0,0,0),ku(s,g)}const y=!("era"in o)||o.era===1?h.year:1-h.year;return s.setFullYear(y,0,g.firstWeekContainsDate),s.setHours(0,0,0,0),ku(s,g)}}class vG extends Ri{constructor(){super(...arguments);nn(this,"priority",130);nn(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(s,o){return Nv(o==="R"?4:o.length,s)}set(s,o,h){const g=Ji(s,0);return g.setFullYear(h,0,4),g.setHours(0,0,0,0),op(g)}}class wG extends Ri{constructor(){super(...arguments);nn(this,"priority",130);nn(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(s,o){return Nv(o==="u"?4:o.length,s)}set(s,o,h){return s.setFullYear(h,0,1),s.setHours(0,0,0,0),s}}class yG extends Ri{constructor(){super(...arguments);nn(this,"priority",120);nn(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(s,o,h){switch(o){case"Q":case"QQ":return Wr(o.length,s);case"Qo":return h.ordinalNumber(s,{unit:"quarter"});case"QQQ":return h.quarter(s,{width:"abbreviated",context:"formatting"})||h.quarter(s,{width:"narrow",context:"formatting"});case"QQQQQ":return h.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return h.quarter(s,{width:"wide",context:"formatting"})||h.quarter(s,{width:"abbreviated",context:"formatting"})||h.quarter(s,{width:"narrow",context:"formatting"})}}validate(s,o){return o>=1&&o<=4}set(s,o,h){return s.setMonth((h-1)*3,1),s.setHours(0,0,0,0),s}}class xG extends Ri{constructor(){super(...arguments);nn(this,"priority",120);nn(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(s,o,h){switch(o){case"q":case"qq":return Wr(o.length,s);case"qo":return h.ordinalNumber(s,{unit:"quarter"});case"qqq":return h.quarter(s,{width:"abbreviated",context:"standalone"})||h.quarter(s,{width:"narrow",context:"standalone"});case"qqqqq":return h.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return h.quarter(s,{width:"wide",context:"standalone"})||h.quarter(s,{width:"abbreviated",context:"standalone"})||h.quarter(s,{width:"narrow",context:"standalone"})}}validate(s,o){return o>=1&&o<=4}set(s,o,h){return s.setMonth((h-1)*3,1),s.setHours(0,0,0,0),s}}class CG extends Ri{constructor(){super(...arguments);nn(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);nn(this,"priority",110)}parse(s,o,h){const g=_=>_-1;switch(o){case"M":return ls(Or(as.month,s),g);case"MM":return ls(Wr(2,s),g);case"Mo":return ls(h.ordinalNumber(s,{unit:"month"}),g);case"MMM":return h.month(s,{width:"abbreviated",context:"formatting"})||h.month(s,{width:"narrow",context:"formatting"});case"MMMMM":return h.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return h.month(s,{width:"wide",context:"formatting"})||h.month(s,{width:"abbreviated",context:"formatting"})||h.month(s,{width:"narrow",context:"formatting"})}}validate(s,o){return o>=0&&o<=11}set(s,o,h){return s.setMonth(h,1),s.setHours(0,0,0,0),s}}class AG extends Ri{constructor(){super(...arguments);nn(this,"priority",110);nn(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(s,o,h){const g=_=>_-1;switch(o){case"L":return ls(Or(as.month,s),g);case"LL":return ls(Wr(2,s),g);case"Lo":return ls(h.ordinalNumber(s,{unit:"month"}),g);case"LLL":return h.month(s,{width:"abbreviated",context:"standalone"})||h.month(s,{width:"narrow",context:"standalone"});case"LLLLL":return h.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return h.month(s,{width:"wide",context:"standalone"})||h.month(s,{width:"abbreviated",context:"standalone"})||h.month(s,{width:"narrow",context:"standalone"})}}validate(s,o){return o>=0&&o<=11}set(s,o,h){return s.setMonth(h,1),s.setHours(0,0,0,0),s}}function NG(l,c,s){const o=dn(l,s==null?void 0:s.in),h=mL(o,s)-c;return o.setDate(o.getDate()-h*7),dn(o,s==null?void 0:s.in)}class EG extends Ri{constructor(){super(...arguments);nn(this,"priority",100);nn(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(s,o,h){switch(o){case"w":return Or(as.week,s);case"wo":return h.ordinalNumber(s,{unit:"week"});default:return Wr(o.length,s)}}validate(s,o){return o>=1&&o<=53}set(s,o,h,g){return ku(NG(s,h,g),g)}}function SG(l,c,s){const o=dn(l,s==null?void 0:s.in),h=JA(o,s)-c;return o.setDate(o.getDate()-h*7),o}class jG extends Ri{constructor(){super(...arguments);nn(this,"priority",100);nn(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(s,o,h){switch(o){case"I":return Or(as.week,s);case"Io":return h.ordinalNumber(s,{unit:"week"});default:return Wr(o.length,s)}}validate(s,o){return o>=1&&o<=53}set(s,o,h){return op(SG(s,h))}}const DG=[31,28,31,30,31,30,31,31,30,31,30,31],TG=[31,29,31,30,31,30,31,31,30,31,30,31];class MG extends Ri{constructor(){super(...arguments);nn(this,"priority",90);nn(this,"subPriority",1);nn(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(s,o,h){switch(o){case"d":return Or(as.date,s);case"do":return h.ordinalNumber(s,{unit:"date"});default:return Wr(o.length,s)}}validate(s,o){const h=s.getFullYear(),g=kL(h),_=s.getMonth();return g?o>=1&&o<=TG[_]:o>=1&&o<=DG[_]}set(s,o,h){return s.setDate(h),s.setHours(0,0,0,0),s}}class IG extends Ri{constructor(){super(...arguments);nn(this,"priority",90);nn(this,"subpriority",1);nn(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(s,o,h){switch(o){case"D":case"DD":return Or(as.dayOfYear,s);case"Do":return h.ordinalNumber(s,{unit:"date"});default:return Wr(o.length,s)}}validate(s,o){const h=s.getFullYear();return kL(h)?o>=1&&o<=366:o>=1&&o<=365}set(s,o,h){return s.setMonth(0,h),s.setHours(0,0,0,0),s}}function n1(l,c,s){var D,j,B,F;const o=Vm(),h=(s==null?void 0:s.weekStartsOn)??((j=(D=s==null?void 0:s.locale)==null?void 0:D.options)==null?void 0:j.weekStartsOn)??o.weekStartsOn??((F=(B=o.locale)==null?void 0:B.options)==null?void 0:F.weekStartsOn)??0,g=dn(l,s==null?void 0:s.in),_=g.getDay(),v=(c%7+7)%7,N=7-h,S=c<0||c>6?c-(_+N)%7:(v+N)%7-(_+N)%7;return kc(g,S,s)}class OG extends Ri{constructor(){super(...arguments);nn(this,"priority",90);nn(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(s,o,h){switch(o){case"E":case"EE":case"EEE":return h.day(s,{width:"abbreviated",context:"formatting"})||h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"});case"EEEEE":return h.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"});case"EEEE":default:return h.day(s,{width:"wide",context:"formatting"})||h.day(s,{width:"abbreviated",context:"formatting"})||h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"})}}validate(s,o){return o>=0&&o<=6}set(s,o,h,g){return s=n1(s,h,g),s.setHours(0,0,0,0),s}}class LG extends Ri{constructor(){super(...arguments);nn(this,"priority",90);nn(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(s,o,h,g){const _=y=>{const v=Math.floor((y-1)/7)*7;return(y+g.weekStartsOn+6)%7+v};switch(o){case"e":case"ee":return ls(Wr(o.length,s),_);case"eo":return ls(h.ordinalNumber(s,{unit:"day"}),_);case"eee":return h.day(s,{width:"abbreviated",context:"formatting"})||h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"});case"eeeee":return h.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"});case"eeee":default:return h.day(s,{width:"wide",context:"formatting"})||h.day(s,{width:"abbreviated",context:"formatting"})||h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"})}}validate(s,o){return o>=0&&o<=6}set(s,o,h,g){return s=n1(s,h,g),s.setHours(0,0,0,0),s}}class BG extends Ri{constructor(){super(...arguments);nn(this,"priority",90);nn(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(s,o,h,g){const _=y=>{const v=Math.floor((y-1)/7)*7;return(y+g.weekStartsOn+6)%7+v};switch(o){case"c":case"cc":return ls(Wr(o.length,s),_);case"co":return ls(h.ordinalNumber(s,{unit:"day"}),_);case"ccc":return h.day(s,{width:"abbreviated",context:"standalone"})||h.day(s,{width:"short",context:"standalone"})||h.day(s,{width:"narrow",context:"standalone"});case"ccccc":return h.day(s,{width:"narrow",context:"standalone"});case"cccccc":return h.day(s,{width:"short",context:"standalone"})||h.day(s,{width:"narrow",context:"standalone"});case"cccc":default:return h.day(s,{width:"wide",context:"standalone"})||h.day(s,{width:"abbreviated",context:"standalone"})||h.day(s,{width:"short",context:"standalone"})||h.day(s,{width:"narrow",context:"standalone"})}}validate(s,o){return o>=0&&o<=6}set(s,o,h,g){return s=n1(s,h,g),s.setHours(0,0,0,0),s}}function PG(l,c,s){const o=dn(l,s==null?void 0:s.in),h=dG(o,s),g=c-h;return kc(o,g,s)}class RG extends Ri{constructor(){super(...arguments);nn(this,"priority",90);nn(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(s,o,h){const g=_=>_===0?7:_;switch(o){case"i":case"ii":return Wr(o.length,s);case"io":return h.ordinalNumber(s,{unit:"day"});case"iii":return ls(h.day(s,{width:"abbreviated",context:"formatting"})||h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"}),g);case"iiiii":return ls(h.day(s,{width:"narrow",context:"formatting"}),g);case"iiiiii":return ls(h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"}),g);case"iiii":default:return ls(h.day(s,{width:"wide",context:"formatting"})||h.day(s,{width:"abbreviated",context:"formatting"})||h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"}),g)}}validate(s,o){return o>=1&&o<=7}set(s,o,h){return s=PG(s,h),s.setHours(0,0,0,0),s}}class zG extends Ri{constructor(){super(...arguments);nn(this,"priority",80);nn(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(s,o,h){switch(o){case"a":case"aa":case"aaa":return h.dayPeriod(s,{width:"abbreviated",context:"formatting"})||h.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaaa":return h.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return h.dayPeriod(s,{width:"wide",context:"formatting"})||h.dayPeriod(s,{width:"abbreviated",context:"formatting"})||h.dayPeriod(s,{width:"narrow",context:"formatting"})}}set(s,o,h){return s.setHours(t1(h),0,0,0),s}}class FG extends Ri{constructor(){super(...arguments);nn(this,"priority",80);nn(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(s,o,h){switch(o){case"b":case"bb":case"bbb":return h.dayPeriod(s,{width:"abbreviated",context:"formatting"})||h.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbbb":return h.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return h.dayPeriod(s,{width:"wide",context:"formatting"})||h.dayPeriod(s,{width:"abbreviated",context:"formatting"})||h.dayPeriod(s,{width:"narrow",context:"formatting"})}}set(s,o,h){return s.setHours(t1(h),0,0,0),s}}class VG extends Ri{constructor(){super(...arguments);nn(this,"priority",80);nn(this,"incompatibleTokens",["a","b","t","T"])}parse(s,o,h){switch(o){case"B":case"BB":case"BBB":return h.dayPeriod(s,{width:"abbreviated",context:"formatting"})||h.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBBB":return h.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return h.dayPeriod(s,{width:"wide",context:"formatting"})||h.dayPeriod(s,{width:"abbreviated",context:"formatting"})||h.dayPeriod(s,{width:"narrow",context:"formatting"})}}set(s,o,h){return s.setHours(t1(h),0,0,0),s}}class HG extends Ri{constructor(){super(...arguments);nn(this,"priority",70);nn(this,"incompatibleTokens",["H","K","k","t","T"])}parse(s,o,h){switch(o){case"h":return Or(as.hour12h,s);case"ho":return h.ordinalNumber(s,{unit:"hour"});default:return Wr(o.length,s)}}validate(s,o){return o>=1&&o<=12}set(s,o,h){const g=s.getHours()>=12;return g&&h<12?s.setHours(h+12,0,0,0):!g&&h===12?s.setHours(0,0,0,0):s.setHours(h,0,0,0),s}}class UG extends Ri{constructor(){super(...arguments);nn(this,"priority",70);nn(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(s,o,h){switch(o){case"H":return Or(as.hour23h,s);case"Ho":return h.ordinalNumber(s,{unit:"hour"});default:return Wr(o.length,s)}}validate(s,o){return o>=0&&o<=23}set(s,o,h){return s.setHours(h,0,0,0),s}}class $G extends Ri{constructor(){super(...arguments);nn(this,"priority",70);nn(this,"incompatibleTokens",["h","H","k","t","T"])}parse(s,o,h){switch(o){case"K":return Or(as.hour11h,s);case"Ko":return h.ordinalNumber(s,{unit:"hour"});default:return Wr(o.length,s)}}validate(s,o){return o>=0&&o<=11}set(s,o,h){return s.getHours()>=12&&h<12?s.setHours(h+12,0,0,0):s.setHours(h,0,0,0),s}}class qG extends Ri{constructor(){super(...arguments);nn(this,"priority",70);nn(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(s,o,h){switch(o){case"k":return Or(as.hour24h,s);case"ko":return h.ordinalNumber(s,{unit:"hour"});default:return Wr(o.length,s)}}validate(s,o){return o>=1&&o<=24}set(s,o,h){const g=h<=24?h%24:h;return s.setHours(g,0,0,0),s}}class WG extends Ri{constructor(){super(...arguments);nn(this,"priority",60);nn(this,"incompatibleTokens",["t","T"])}parse(s,o,h){switch(o){case"m":return Or(as.minute,s);case"mo":return h.ordinalNumber(s,{unit:"minute"});default:return Wr(o.length,s)}}validate(s,o){return o>=0&&o<=59}set(s,o,h){return s.setMinutes(h,0,0),s}}class YG extends Ri{constructor(){super(...arguments);nn(this,"priority",50);nn(this,"incompatibleTokens",["t","T"])}parse(s,o,h){switch(o){case"s":return Or(as.second,s);case"so":return h.ordinalNumber(s,{unit:"second"});default:return Wr(o.length,s)}}validate(s,o){return o>=0&&o<=59}set(s,o,h){return s.setSeconds(h,0),s}}class GG extends Ri{constructor(){super(...arguments);nn(this,"priority",30);nn(this,"incompatibleTokens",["t","T"])}parse(s,o){const h=g=>Math.trunc(g*Math.pow(10,-o.length+3));return ls(Wr(o.length,s),h)}set(s,o,h){return s.setMilliseconds(h),s}}class KG extends Ri{constructor(){super(...arguments);nn(this,"priority",10);nn(this,"incompatibleTokens",["t","T","x"])}parse(s,o){switch(o){case"X":return md(hd.basicOptionalMinutes,s);case"XX":return md(hd.basic,s);case"XXXX":return md(hd.basicOptionalSeconds,s);case"XXXXX":return md(hd.extendedOptionalSeconds,s);case"XXX":default:return md(hd.extended,s)}}set(s,o,h){return o.timestampIsSet?s:Ji(s,s.getTime()-vv(s)-h)}}class QG extends Ri{constructor(){super(...arguments);nn(this,"priority",10);nn(this,"incompatibleTokens",["t","T","X"])}parse(s,o){switch(o){case"x":return md(hd.basicOptionalMinutes,s);case"xx":return md(hd.basic,s);case"xxxx":return md(hd.basicOptionalSeconds,s);case"xxxxx":return md(hd.extendedOptionalSeconds,s);case"xxx":default:return md(hd.extended,s)}}set(s,o,h){return o.timestampIsSet?s:Ji(s,s.getTime()-vv(s)-h)}}class ZG extends Ri{constructor(){super(...arguments);nn(this,"priority",40);nn(this,"incompatibleTokens","*")}parse(s){return gL(s)}set(s,o,h){return[Ji(s,h*1e3),{timestampIsSet:!0}]}}class XG extends Ri{constructor(){super(...arguments);nn(this,"priority",20);nn(this,"incompatibleTokens","*")}parse(s){return gL(s)}set(s,o,h){return[Ji(s,h),{timestampIsSet:!0}]}}const JG={G:new bG,y:new kG,Y:new _G,R:new vG,u:new wG,Q:new yG,q:new xG,M:new CG,L:new AG,w:new EG,I:new jG,d:new MG,D:new IG,E:new OG,e:new LG,c:new BG,i:new RG,a:new zG,b:new FG,B:new VG,h:new HG,H:new UG,K:new $G,k:new qG,m:new WG,s:new YG,S:new GG,X:new KG,x:new QG,t:new ZG,T:new XG},eK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nK=/^'([^]*?)'?$/,iK=/''/g,rK=/\S/,sK=/[a-zA-Z]/;function oK(l,c,s,o){var $,K,Q,ee,ne,ce,se,q;const h=()=>Ji((o==null?void 0:o.in)||s,NaN),g=cG(),_=(o==null?void 0:o.locale)??g.locale??hL,y=(o==null?void 0:o.firstWeekContainsDate)??((K=($=o==null?void 0:o.locale)==null?void 0:$.options)==null?void 0:K.firstWeekContainsDate)??g.firstWeekContainsDate??((ee=(Q=g.locale)==null?void 0:Q.options)==null?void 0:ee.firstWeekContainsDate)??1,v=(o==null?void 0:o.weekStartsOn)??((ce=(ne=o==null?void 0:o.locale)==null?void 0:ne.options)==null?void 0:ce.weekStartsOn)??g.weekStartsOn??((q=(se=g.locale)==null?void 0:se.options)==null?void 0:q.weekStartsOn)??0;if(!c)return l?h():dn(s,o==null?void 0:o.in);const N={firstWeekContainsDate:y,weekStartsOn:v,locale:_},S=[new gG(o==null?void 0:o.in,s)],D=c.match(tK).map(ue=>{const oe=ue[0];if(oe in fA){const be=fA[oe];return be(ue,_.formatLong)}return ue}).join("").match(eK),j=[];for(let ue of D){const oe=ue[0],be=JG[oe];if(be){const{incompatibleTokens:pe}=be;if(Array.isArray(pe)){const je=j.find(ye=>pe.includes(ye.token)||ye.token===oe);if(je)throw new RangeError(`The format string mustn't contain \`${je.fullToken}\` and \`${ue}\` at the same time`)}else if(be.incompatibleTokens==="*"&&j.length>0)throw new RangeError(`The format string mustn't contain \`${ue}\` and any other token at the same time`);j.push({token:oe,fullToken:ue});const we=be.run(l,ue,_.match,N);if(!we)return h();S.push(we.setter),l=we.rest}else{if(oe.match(sK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+oe+"`");if(ue==="''"?ue="'":oe==="'"&&(ue=aK(ue)),l.indexOf(ue)===0)l=l.slice(ue.length);else return h()}}if(l.length>0&&rK.test(l))return h();const B=S.map(ue=>ue.priority).sort((ue,oe)=>oe-ue).filter((ue,oe,be)=>be.indexOf(ue)===oe).map(ue=>S.filter(oe=>oe.priority===ue).sort((oe,be)=>be.subPriority-oe.subPriority)).map(ue=>ue[0]);let F=dn(s,o==null?void 0:o.in);if(isNaN(+F))return h();const H={};for(const ue of B){if(!ue.validate(F,N))return h();const oe=ue.set(F,H,N);Array.isArray(oe)?(F=oe[0],Object.assign(H,oe[1])):F=oe}return F}function aK(l){return l.match(nK)[1].replace(iK,"'")}function lK(l,c,s){const[o,h]=yu(s==null?void 0:s.in,l,c);return o.getFullYear()===h.getFullYear()&&o.getMonth()===h.getMonth()}function cK(l,c,s){const[o,h]=yu(s==null?void 0:s.in,l,c);return+mA(o)==+mA(h)}function dK(l,c,s){const[o,h]=yu(s==null?void 0:s.in,l,c);return o.getFullYear()===h.getFullYear()}function pb(l,c,s){const o=+dn(l,s==null?void 0:s.in),[h,g]=[+dn(c.start,s==null?void 0:s.in),+dn(c.end,s==null?void 0:s.in)].sort((_,y)=>_-y);return o>=h&&o<=g}function uK(l,c,s){return kc(l,-1,s)}function hK(l,c){const s=()=>Ji(c==null?void 0:c.in,NaN),h=gK(l);let g;if(h.date){const N=bK(h.date,2);g=kK(N.restDateString,N.year)}if(!g||isNaN(+g))return s();const _=+g;let y=0,v;if(h.time&&(y=_K(h.time),isNaN(y)))return s();if(h.timezone){if(v=vK(h.timezone),isNaN(v))return s()}else{const N=new Date(_+y),S=dn(0,c==null?void 0:c.in);return S.setFullYear(N.getUTCFullYear(),N.getUTCMonth(),N.getUTCDate()),S.setHours(N.getUTCHours(),N.getUTCMinutes(),N.getUTCSeconds(),N.getUTCMilliseconds()),S}return dn(_+y+v,c==null?void 0:c.in)}const V_={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},mK=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,fK=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,pK=/^([+-])(\d{2})(?::?(\d{2}))?$/;function gK(l){const c={},s=l.split(V_.dateTimeDelimiter);let o;if(s.length>2)return c;if(/:/.test(s[0])?o=s[0]:(c.date=s[0],o=s[1],V_.timeZoneDelimiter.test(c.date)&&(c.date=l.split(V_.timeZoneDelimiter)[0],o=l.substr(c.date.length,l.length))),o){const h=V_.timezone.exec(o);h?(c.time=o.replace(h[1],""),c.timezone=h[1]):c.time=o}return c}function bK(l,c){const s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+c)+"})|(\\d{2}|[+-]\\d{"+(2+c)+"})$)"),o=l.match(s);if(!o)return{year:NaN,restDateString:""};const h=o[1]?parseInt(o[1]):null,g=o[2]?parseInt(o[2]):null;return{year:g===null?h:g*100,restDateString:l.slice((o[1]||o[2]).length)}}function kK(l,c){if(c===null)return new Date(NaN);const s=l.match(mK);if(!s)return new Date(NaN);const o=!!s[4],h=Kg(s[1]),g=Kg(s[2])-1,_=Kg(s[3]),y=Kg(s[4]),v=Kg(s[5])-1;if(o)return AK(c,y,v)?wK(c,y,v):new Date(NaN);{const N=new Date(0);return!xK(c,g,_)||!CK(c,h)?new Date(NaN):(N.setUTCFullYear(c,g,Math.max(h,_)),N)}}function Kg(l){return l?parseInt(l):1}function _K(l){const c=l.match(fK);if(!c)return NaN;const s=MC(c[1]),o=MC(c[2]),h=MC(c[3]);return NK(s,o,h)?s*dw+o*cw+h*1e3:NaN}function MC(l){return l&&parseFloat(l.replace(",","."))||0}function vK(l){if(l==="Z")return 0;const c=l.match(pK);if(!c)return 0;const s=c[1]==="+"?-1:1,o=parseInt(c[2]),h=c[3]&&parseInt(c[3])||0;return EK(o,h)?s*(o*dw+h*cw):NaN}function wK(l,c,s){const o=new Date(0);o.setUTCFullYear(l,0,4);const h=o.getUTCDay()||7,g=(c-1)*7+s+1-h;return o.setUTCDate(o.getUTCDate()+g),o}const yK=[31,null,31,30,31,30,31,31,30,31,30,31];function _L(l){return l%400===0||l%4===0&&l%100!==0}function xK(l,c,s){return c>=0&&c<=11&&s>=1&&s<=(yK[c]||(_L(l)?29:28))}function CK(l,c){return c>=1&&c<=(_L(l)?366:365)}function AK(l,c,s){return c>=1&&c<=53&&s>=0&&s<=6}function NK(l,c,s){return l===24?c===0&&s===0:s>=0&&s<60&&c>=0&&c<60&&l>=0&&l<25}function EK(l,c){return c>=0&&c<=59}function Bl(l,c,s){const o=dn(l,s==null?void 0:s.in),h=o.getFullYear(),g=o.getDate(),_=Ji(l,0);_.setFullYear(h,c,15),_.setHours(0,0,0,0);const y=lG(_);return o.setMonth(c,Math.min(g,y)),o}function rv(l,c,s){const o=dn(l,s==null?void 0:s.in);return o.setHours(c),o}function sv(l,c,s){const o=dn(l,s==null?void 0:s.in);return o.setMinutes(c),o}function ip(l,c,s){const o=dn(l,s==null?void 0:s.in),h=Math.trunc(o.getMonth()/3)+1,g=c-h;return Bl(o,o.getMonth()+g*3)}function ov(l,c,s){const o=dn(l,s==null?void 0:s.in);return o.setSeconds(c),o}function dd(l,c,s){const o=dn(l,s==null?void 0:s.in);return isNaN(+o)?Ji(l,NaN):(o.setFullYear(c),o)}function Mm(l,c,s){return _c(l,-c,s)}function vL(l,c,s){return XA(l,-1,s)}function qI(l,c,s){return wv(l,-1,s)}function lp(l,c,s){return uu(l,-c,s)}function hw(){return typeof window<"u"}function _p(l){return wL(l)?(l.nodeName||"").toLowerCase():"#document"}function ll(l){var c;return(l==null||(c=l.ownerDocument)==null?void 0:c.defaultView)||window}function kd(l){var c;return(c=(wL(l)?l.ownerDocument:l.document)||window.document)==null?void 0:c.documentElement}function wL(l){return hw()?l instanceof Node||l instanceof ll(l).Node:!1}function ga(l){return hw()?l instanceof Element||l instanceof ll(l).Element:!1}function bd(l){return hw()?l instanceof HTMLElement||l instanceof ll(l).HTMLElement:!1}function WI(l){return!hw()||typeof ShadowRoot>"u"?!1:l instanceof ShadowRoot||l instanceof ll(l).ShadowRoot}const SK=new Set(["inline","contents"]);function Db(l){const{overflow:c,overflowX:s,overflowY:o,display:h}=Fl(l);return/auto|scroll|overlay|hidden|clip/.test(c+o+s)&&!SK.has(h)}const jK=new Set(["table","td","th"]);function DK(l){return jK.has(_p(l))}const TK=[":popover-open",":modal"];function mw(l){return TK.some(c=>{try{return l.matches(c)}catch{return!1}})}const MK=["transform","translate","scale","rotate","perspective"],IK=["transform","translate","scale","rotate","perspective","filter"],OK=["paint","layout","strict","content"];function i1(l){const c=r1(),s=ga(l)?Fl(l):l;return MK.some(o=>s[o]?s[o]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!c&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!c&&(s.filter?s.filter!=="none":!1)||IK.some(o=>(s.willChange||"").includes(o))||OK.some(o=>(s.contain||"").includes(o))}function LK(l){let c=_h(l);for(;bd(c)&&!cp(c);){if(i1(c))return c;if(mw(c))return null;c=_h(c)}return null}function r1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const BK=new Set(["html","body","#document"]);function cp(l){return BK.has(_p(l))}function Fl(l){return ll(l).getComputedStyle(l)}function fw(l){return ga(l)?{scrollLeft:l.scrollLeft,scrollTop:l.scrollTop}:{scrollLeft:l.scrollX,scrollTop:l.scrollY}}function _h(l){if(_p(l)==="html")return l;const c=l.assignedSlot||l.parentNode||WI(l)&&l.host||kd(l);return WI(c)?c.host:c}function yL(l){const c=_h(l);return cp(c)?l.ownerDocument?l.ownerDocument.body:l.body:bd(c)&&Db(c)?c:yL(c)}function gb(l,c,s){var o;c===void 0&&(c=[]),s===void 0&&(s=!0);const h=yL(l),g=h===((o=l.ownerDocument)==null?void 0:o.body),_=ll(h);if(g){const y=gA(_);return c.concat(_,_.visualViewport||[],Db(h)?h:[],y&&s?gb(y):[])}return c.concat(h,gb(h,[],s))}function gA(l){return l.parent&&Object.getPrototypeOf(l.parent)?l.frameElement:null}const dp=Math.min,Im=Math.max,Ev=Math.round,H_=Math.floor,gd=l=>({x:l,y:l}),PK={left:"right",right:"left",bottom:"top",top:"bottom"},RK={start:"end",end:"start"};function zK(l,c,s){return Im(l,dp(c,s))}function pw(l,c){return typeof l=="function"?l(c):l}function up(l){return l.split("-")[0]}function Tb(l){return l.split("-")[1]}function FK(l){return l==="x"?"y":"x"}function s1(l){return l==="y"?"height":"width"}const VK=new Set(["top","bottom"]);function Nm(l){return VK.has(up(l))?"y":"x"}function o1(l){return FK(Nm(l))}function HK(l,c,s){s===void 0&&(s=!1);const o=Tb(l),h=o1(l),g=s1(h);let _=h==="x"?o===(s?"end":"start")?"right":"left":o==="start"?"bottom":"top";return c.reference[g]>c.floating[g]&&(_=Sv(_)),[_,Sv(_)]}function UK(l){const c=Sv(l);return[bA(l),c,bA(c)]}function bA(l){return l.replace(/start|end/g,c=>RK[c])}const YI=["left","right"],GI=["right","left"],$K=["top","bottom"],qK=["bottom","top"];function WK(l,c,s){switch(l){case"top":case"bottom":return s?c?GI:YI:c?YI:GI;case"left":case"right":return c?$K:qK;default:return[]}}function YK(l,c,s,o){const h=Tb(l);let g=WK(up(l),s==="start",o);return h&&(g=g.map(_=>_+"-"+h),c&&(g=g.concat(g.map(bA)))),g}function Sv(l){return l.replace(/left|right|bottom|top/g,c=>PK[c])}function GK(l){return{top:0,right:0,bottom:0,left:0,...l}}function xL(l){return typeof l!="number"?GK(l):{top:l,right:l,bottom:l,left:l}}function jv(l){const{x:c,y:s,width:o,height:h}=l;return{width:o,height:h,top:s,left:c,right:c+o,bottom:s+h,x:c,y:s}}var KK=typeof document<"u",QK=function(){},Dv=KK?I.useLayoutEffect:QK;const ZK={...H3},XK=ZK.useInsertionEffect,JK=XK||(l=>l());function eQ(l){const c=I.useRef(()=>{});return JK(()=>{c.current=l}),I.useCallback(function(){for(var s=arguments.length,o=new Array(s),h=0;h<s;h++)o[h]=arguments[h];return c.current==null?void 0:c.current(...o)},[])}function KI(l,c,s){let{reference:o,floating:h}=l;const g=Nm(c),_=o1(c),y=s1(_),v=up(c),N=g==="y",S=o.x+o.width/2-h.width/2,D=o.y+o.height/2-h.height/2,j=o[y]/2-h[y]/2;let B;switch(v){case"top":B={x:S,y:o.y-h.height};break;case"bottom":B={x:S,y:o.y+o.height};break;case"right":B={x:o.x+o.width,y:D};break;case"left":B={x:o.x-h.width,y:D};break;default:B={x:o.x,y:o.y}}switch(Tb(c)){case"start":B[_]-=j*(s&&N?-1:1);break;case"end":B[_]+=j*(s&&N?-1:1);break}return B}const tQ=async(l,c,s)=>{const{placement:o="bottom",strategy:h="absolute",middleware:g=[],platform:_}=s,y=g.filter(Boolean),v=await(_.isRTL==null?void 0:_.isRTL(c));let N=await _.getElementRects({reference:l,floating:c,strategy:h}),{x:S,y:D}=KI(N,o,v),j=o,B={},F=0;for(let H=0;H<y.length;H++){const{name:$,fn:K}=y[H],{x:Q,y:ee,data:ne,reset:ce}=await K({x:S,y:D,initialPlacement:o,placement:j,strategy:h,middlewareData:B,rects:N,platform:_,elements:{reference:l,floating:c}});S=Q??S,D=ee??D,B={...B,[$]:{...B[$],...ne}},ce&&F<=50&&(F++,typeof ce=="object"&&(ce.placement&&(j=ce.placement),ce.rects&&(N=ce.rects===!0?await _.getElementRects({reference:l,floating:c,strategy:h}):ce.rects),{x:S,y:D}=KI(N,j,v)),H=-1)}return{x:S,y:D,placement:j,strategy:h,middlewareData:B}};async function nQ(l,c){var s;c===void 0&&(c={});const{x:o,y:h,platform:g,rects:_,elements:y,strategy:v}=l,{boundary:N="clippingAncestors",rootBoundary:S="viewport",elementContext:D="floating",altBoundary:j=!1,padding:B=0}=pw(c,l),F=xL(B),$=y[j?D==="floating"?"reference":"floating":D],K=jv(await g.getClippingRect({element:(s=await(g.isElement==null?void 0:g.isElement($)))==null||s?$:$.contextElement||await(g.getDocumentElement==null?void 0:g.getDocumentElement(y.floating)),boundary:N,rootBoundary:S,strategy:v})),Q=D==="floating"?{x:o,y:h,width:_.floating.width,height:_.floating.height}:_.reference,ee=await(g.getOffsetParent==null?void 0:g.getOffsetParent(y.floating)),ne=await(g.isElement==null?void 0:g.isElement(ee))?await(g.getScale==null?void 0:g.getScale(ee))||{x:1,y:1}:{x:1,y:1},ce=jv(g.convertOffsetParentRelativeRectToViewportRelativeRect?await g.convertOffsetParentRelativeRectToViewportRelativeRect({elements:y,rect:Q,offsetParent:ee,strategy:v}):Q);return{top:(K.top-ce.top+F.top)/ne.y,bottom:(ce.bottom-K.bottom+F.bottom)/ne.y,left:(K.left-ce.left+F.left)/ne.x,right:(ce.right-K.right+F.right)/ne.x}}const iQ=l=>({name:"arrow",options:l,async fn(c){const{x:s,y:o,placement:h,rects:g,platform:_,elements:y,middlewareData:v}=c,{element:N,padding:S=0}=pw(l,c)||{};if(N==null)return{};const D=xL(S),j={x:s,y:o},B=o1(h),F=s1(B),H=await _.getDimensions(N),$=B==="y",K=$?"top":"left",Q=$?"bottom":"right",ee=$?"clientHeight":"clientWidth",ne=g.reference[F]+g.reference[B]-j[B]-g.floating[F],ce=j[B]-g.reference[B],se=await(_.getOffsetParent==null?void 0:_.getOffsetParent(N));let q=se?se[ee]:0;(!q||!await(_.isElement==null?void 0:_.isElement(se)))&&(q=y.floating[ee]||g.floating[F]);const ue=ne/2-ce/2,oe=q/2-H[F]/2-1,be=dp(D[K],oe),pe=dp(D[Q],oe),we=be,je=q-H[F]-pe,ye=q/2-H[F]/2+ue,Me=zK(we,ye,je),le=!v.arrow&&Tb(h)!=null&&ye!==Me&&g.reference[F]/2-(ye<we?be:pe)-H[F]/2<0,_e=le?ye<we?ye-we:ye-je:0;return{[B]:j[B]+_e,data:{[B]:Me,centerOffset:ye-Me-_e,...le&&{alignmentOffset:_e}},reset:le}}}),rQ=function(l){return l===void 0&&(l={}),{name:"flip",options:l,async fn(c){var s,o;const{placement:h,middlewareData:g,rects:_,initialPlacement:y,platform:v,elements:N}=c,{mainAxis:S=!0,crossAxis:D=!0,fallbackPlacements:j,fallbackStrategy:B="bestFit",fallbackAxisSideDirection:F="none",flipAlignment:H=!0,...$}=pw(l,c);if((s=g.arrow)!=null&&s.alignmentOffset)return{};const K=up(h),Q=Nm(y),ee=up(y)===y,ne=await(v.isRTL==null?void 0:v.isRTL(N.floating)),ce=j||(ee||!H?[Sv(y)]:UK(y)),se=F!=="none";!j&&se&&ce.push(...YK(y,H,F,ne));const q=[y,...ce],ue=await nQ(c,$),oe=[];let be=((o=g.flip)==null?void 0:o.overflows)||[];if(S&&oe.push(ue[K]),D){const ye=HK(h,_,ne);oe.push(ue[ye[0]],ue[ye[1]])}if(be=[...be,{placement:h,overflows:oe}],!oe.every(ye=>ye<=0)){var pe,we;const ye=(((pe=g.flip)==null?void 0:pe.index)||0)+1,Me=q[ye];if(Me&&(!(D==="alignment"?Q!==Nm(Me):!1)||be.every(me=>me.overflows[0]>0&&Nm(me.placement)===Q)))return{data:{index:ye,overflows:be},reset:{placement:Me}};let le=(we=be.filter(_e=>_e.overflows[0]<=0).sort((_e,me)=>_e.overflows[1]-me.overflows[1])[0])==null?void 0:we.placement;if(!le)switch(B){case"bestFit":{var je;const _e=(je=be.filter(me=>{if(se){const Ee=Nm(me.placement);return Ee===Q||Ee==="y"}return!0}).map(me=>[me.placement,me.overflows.filter(Ee=>Ee>0).reduce((Ee,Z)=>Ee+Z,0)]).sort((me,Ee)=>me[1]-Ee[1])[0])==null?void 0:je[0];_e&&(le=_e);break}case"initialPlacement":le=y;break}if(h!==le)return{reset:{placement:le}}}return{}}}},sQ=new Set(["left","top"]);async function oQ(l,c){const{placement:s,platform:o,elements:h}=l,g=await(o.isRTL==null?void 0:o.isRTL(h.floating)),_=up(s),y=Tb(s),v=Nm(s)==="y",N=sQ.has(_)?-1:1,S=g&&v?-1:1,D=pw(c,l);let{mainAxis:j,crossAxis:B,alignmentAxis:F}=typeof D=="number"?{mainAxis:D,crossAxis:0,alignmentAxis:null}:{mainAxis:D.mainAxis||0,crossAxis:D.crossAxis||0,alignmentAxis:D.alignmentAxis};return y&&typeof F=="number"&&(B=y==="end"?F*-1:F),v?{x:B*S,y:j*N}:{x:j*N,y:B*S}}const aQ=function(l){return l===void 0&&(l=0),{name:"offset",options:l,async fn(c){var s,o;const{x:h,y:g,placement:_,middlewareData:y}=c,v=await oQ(c,l);return _===((s=y.offset)==null?void 0:s.placement)&&(o=y.arrow)!=null&&o.alignmentOffset?{}:{x:h+v.x,y:g+v.y,data:{...v,placement:_}}}}};function CL(l){const c=Fl(l);let s=parseFloat(c.width)||0,o=parseFloat(c.height)||0;const h=bd(l),g=h?l.offsetWidth:s,_=h?l.offsetHeight:o,y=Ev(s)!==g||Ev(o)!==_;return y&&(s=g,o=_),{width:s,height:o,$:y}}function a1(l){return ga(l)?l:l.contextElement}function rp(l){const c=a1(l);if(!bd(c))return gd(1);const s=c.getBoundingClientRect(),{width:o,height:h,$:g}=CL(c);let _=(g?Ev(s.width):s.width)/o,y=(g?Ev(s.height):s.height)/h;return(!_||!Number.isFinite(_))&&(_=1),(!y||!Number.isFinite(y))&&(y=1),{x:_,y}}const lQ=gd(0);function AL(l){const c=ll(l);return!r1()||!c.visualViewport?lQ:{x:c.visualViewport.offsetLeft,y:c.visualViewport.offsetTop}}function cQ(l,c,s){return c===void 0&&(c=!1),!s||c&&s!==ll(l)?!1:c}function Pm(l,c,s,o){c===void 0&&(c=!1),s===void 0&&(s=!1);const h=l.getBoundingClientRect(),g=a1(l);let _=gd(1);c&&(o?ga(o)&&(_=rp(o)):_=rp(l));const y=cQ(g,s,o)?AL(g):gd(0);let v=(h.left+y.x)/_.x,N=(h.top+y.y)/_.y,S=h.width/_.x,D=h.height/_.y;if(g){const j=ll(g),B=o&&ga(o)?ll(o):o;let F=j,H=gA(F);for(;H&&o&&B!==F;){const $=rp(H),K=H.getBoundingClientRect(),Q=Fl(H),ee=K.left+(H.clientLeft+parseFloat(Q.paddingLeft))*$.x,ne=K.top+(H.clientTop+parseFloat(Q.paddingTop))*$.y;v*=$.x,N*=$.y,S*=$.x,D*=$.y,v+=ee,N+=ne,F=ll(H),H=gA(F)}}return jv({width:S,height:D,x:v,y:N})}function l1(l,c){const s=fw(l).scrollLeft;return c?c.left+s:Pm(kd(l)).left+s}function NL(l,c,s){s===void 0&&(s=!1);const o=l.getBoundingClientRect(),h=o.left+c.scrollLeft-(s?0:l1(l,o)),g=o.top+c.scrollTop;return{x:h,y:g}}function dQ(l){let{elements:c,rect:s,offsetParent:o,strategy:h}=l;const g=h==="fixed",_=kd(o),y=c?mw(c.floating):!1;if(o===_||y&&g)return s;let v={scrollLeft:0,scrollTop:0},N=gd(1);const S=gd(0),D=bd(o);if((D||!D&&!g)&&((_p(o)!=="body"||Db(_))&&(v=fw(o)),bd(o))){const B=Pm(o);N=rp(o),S.x=B.x+o.clientLeft,S.y=B.y+o.clientTop}const j=_&&!D&&!g?NL(_,v,!0):gd(0);return{width:s.width*N.x,height:s.height*N.y,x:s.x*N.x-v.scrollLeft*N.x+S.x+j.x,y:s.y*N.y-v.scrollTop*N.y+S.y+j.y}}function uQ(l){return Array.from(l.getClientRects())}function hQ(l){const c=kd(l),s=fw(l),o=l.ownerDocument.body,h=Im(c.scrollWidth,c.clientWidth,o.scrollWidth,o.clientWidth),g=Im(c.scrollHeight,c.clientHeight,o.scrollHeight,o.clientHeight);let _=-s.scrollLeft+l1(l);const y=-s.scrollTop;return Fl(o).direction==="rtl"&&(_+=Im(c.clientWidth,o.clientWidth)-h),{width:h,height:g,x:_,y}}function mQ(l,c){const s=ll(l),o=kd(l),h=s.visualViewport;let g=o.clientWidth,_=o.clientHeight,y=0,v=0;if(h){g=h.width,_=h.height;const N=r1();(!N||N&&c==="fixed")&&(y=h.offsetLeft,v=h.offsetTop)}return{width:g,height:_,x:y,y:v}}const fQ=new Set(["absolute","fixed"]);function pQ(l,c){const s=Pm(l,!0,c==="fixed"),o=s.top+l.clientTop,h=s.left+l.clientLeft,g=bd(l)?rp(l):gd(1),_=l.clientWidth*g.x,y=l.clientHeight*g.y,v=h*g.x,N=o*g.y;return{width:_,height:y,x:v,y:N}}function QI(l,c,s){let o;if(c==="viewport")o=mQ(l,s);else if(c==="document")o=hQ(kd(l));else if(ga(c))o=pQ(c,s);else{const h=AL(l);o={x:c.x-h.x,y:c.y-h.y,width:c.width,height:c.height}}return jv(o)}function EL(l,c){const s=_h(l);return s===c||!ga(s)||cp(s)?!1:Fl(s).position==="fixed"||EL(s,c)}function gQ(l,c){const s=c.get(l);if(s)return s;let o=gb(l,[],!1).filter(y=>ga(y)&&_p(y)!=="body"),h=null;const g=Fl(l).position==="fixed";let _=g?_h(l):l;for(;ga(_)&&!cp(_);){const y=Fl(_),v=i1(_);!v&&y.position==="fixed"&&(h=null),(g?!v&&!h:!v&&y.position==="static"&&!!h&&fQ.has(h.position)||Db(_)&&!v&&EL(l,_))?o=o.filter(S=>S!==_):h=y,_=_h(_)}return c.set(l,o),o}function bQ(l){let{element:c,boundary:s,rootBoundary:o,strategy:h}=l;const _=[...s==="clippingAncestors"?mw(c)?[]:gQ(c,this._c):[].concat(s),o],y=_[0],v=_.reduce((N,S)=>{const D=QI(c,S,h);return N.top=Im(D.top,N.top),N.right=dp(D.right,N.right),N.bottom=dp(D.bottom,N.bottom),N.left=Im(D.left,N.left),N},QI(c,y,h));return{width:v.right-v.left,height:v.bottom-v.top,x:v.left,y:v.top}}function kQ(l){const{width:c,height:s}=CL(l);return{width:c,height:s}}function _Q(l,c,s){const o=bd(c),h=kd(c),g=s==="fixed",_=Pm(l,!0,g,c);let y={scrollLeft:0,scrollTop:0};const v=gd(0);function N(){v.x=l1(h)}if(o||!o&&!g)if((_p(c)!=="body"||Db(h))&&(y=fw(c)),o){const B=Pm(c,!0,g,c);v.x=B.x+c.clientLeft,v.y=B.y+c.clientTop}else h&&N();g&&!o&&h&&N();const S=h&&!o&&!g?NL(h,y):gd(0),D=_.left+y.scrollLeft-v.x-S.x,j=_.top+y.scrollTop-v.y-S.y;return{x:D,y:j,width:_.width,height:_.height}}function IC(l){return Fl(l).position==="static"}function ZI(l,c){if(!bd(l)||Fl(l).position==="fixed")return null;if(c)return c(l);let s=l.offsetParent;return kd(l)===s&&(s=s.ownerDocument.body),s}function SL(l,c){const s=ll(l);if(mw(l))return s;if(!bd(l)){let h=_h(l);for(;h&&!cp(h);){if(ga(h)&&!IC(h))return h;h=_h(h)}return s}let o=ZI(l,c);for(;o&&DK(o)&&IC(o);)o=ZI(o,c);return o&&cp(o)&&IC(o)&&!i1(o)?s:o||LK(l)||s}const vQ=async function(l){const c=this.getOffsetParent||SL,s=this.getDimensions,o=await s(l.floating);return{reference:_Q(l.reference,await c(l.floating),l.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function wQ(l){return Fl(l).direction==="rtl"}const yQ={convertOffsetParentRelativeRectToViewportRelativeRect:dQ,getDocumentElement:kd,getClippingRect:bQ,getOffsetParent:SL,getElementRects:vQ,getClientRects:uQ,getDimensions:kQ,getScale:rp,isElement:ga,isRTL:wQ};function jL(l,c){return l.x===c.x&&l.y===c.y&&l.width===c.width&&l.height===c.height}function xQ(l,c){let s=null,o;const h=kd(l);function g(){var y;clearTimeout(o),(y=s)==null||y.disconnect(),s=null}function _(y,v){y===void 0&&(y=!1),v===void 0&&(v=1),g();const N=l.getBoundingClientRect(),{left:S,top:D,width:j,height:B}=N;if(y||c(),!j||!B)return;const F=H_(D),H=H_(h.clientWidth-(S+j)),$=H_(h.clientHeight-(D+B)),K=H_(S),ee={rootMargin:-F+"px "+-H+"px "+-$+"px "+-K+"px",threshold:Im(0,dp(1,v))||1};let ne=!0;function ce(se){const q=se[0].intersectionRatio;if(q!==v){if(!ne)return _();q?_(!1,q):o=setTimeout(()=>{_(!1,1e-7)},1e3)}q===1&&!jL(N,l.getBoundingClientRect())&&_(),ne=!1}try{s=new IntersectionObserver(ce,{...ee,root:h.ownerDocument})}catch{s=new IntersectionObserver(ce,ee)}s.observe(l)}return _(!0),g}function CQ(l,c,s,o){o===void 0&&(o={});const{ancestorScroll:h=!0,ancestorResize:g=!0,elementResize:_=typeof ResizeObserver=="function",layoutShift:y=typeof IntersectionObserver=="function",animationFrame:v=!1}=o,N=a1(l),S=h||g?[...N?gb(N):[],...gb(c)]:[];S.forEach(K=>{h&&K.addEventListener("scroll",s,{passive:!0}),g&&K.addEventListener("resize",s)});const D=N&&y?xQ(N,s):null;let j=-1,B=null;_&&(B=new ResizeObserver(K=>{let[Q]=K;Q&&Q.target===N&&B&&(B.unobserve(c),cancelAnimationFrame(j),j=requestAnimationFrame(()=>{var ee;(ee=B)==null||ee.observe(c)})),s()}),N&&!v&&B.observe(N),B.observe(c));let F,H=v?Pm(l):null;v&&$();function $(){const K=Pm(l);H&&!jL(H,K)&&s(),H=K,F=requestAnimationFrame($)}return s(),()=>{var K;S.forEach(Q=>{h&&Q.removeEventListener("scroll",s),g&&Q.removeEventListener("resize",s)}),D==null||D(),(K=B)==null||K.disconnect(),B=null,v&&cancelAnimationFrame(F)}}const AQ=aQ,NQ=rQ,XI=iQ,EQ=(l,c,s)=>{const o=new Map,h={platform:yQ,...s},g={...h.platform,_c:o};return tQ(l,c,{...h,platform:g})};var SQ=typeof document<"u",jQ=function(){},av=SQ?I.useLayoutEffect:jQ;function Tv(l,c){if(l===c)return!0;if(typeof l!=typeof c)return!1;if(typeof l=="function"&&l.toString()===c.toString())return!0;let s,o,h;if(l&&c&&typeof l=="object"){if(Array.isArray(l)){if(s=l.length,s!==c.length)return!1;for(o=s;o--!==0;)if(!Tv(l[o],c[o]))return!1;return!0}if(h=Object.keys(l),s=h.length,s!==Object.keys(c).length)return!1;for(o=s;o--!==0;)if(!{}.hasOwnProperty.call(c,h[o]))return!1;for(o=s;o--!==0;){const g=h[o];if(!(g==="_owner"&&l.$$typeof)&&!Tv(l[g],c[g]))return!1}return!0}return l!==l&&c!==c}function DL(l){return typeof window>"u"?1:(l.ownerDocument.defaultView||window).devicePixelRatio||1}function JI(l,c){const s=DL(l);return Math.round(c*s)/s}function OC(l){const c=I.useRef(l);return av(()=>{c.current=l}),c}function DQ(l){l===void 0&&(l={});const{placement:c="bottom",strategy:s="absolute",middleware:o=[],platform:h,elements:{reference:g,floating:_}={},transform:y=!0,whileElementsMounted:v,open:N}=l,[S,D]=I.useState({x:0,y:0,strategy:s,placement:c,middlewareData:{},isPositioned:!1}),[j,B]=I.useState(o);Tv(j,o)||B(o);const[F,H]=I.useState(null),[$,K]=I.useState(null),Q=I.useCallback(me=>{me!==se.current&&(se.current=me,H(me))},[]),ee=I.useCallback(me=>{me!==q.current&&(q.current=me,K(me))},[]),ne=g||F,ce=_||$,se=I.useRef(null),q=I.useRef(null),ue=I.useRef(S),oe=v!=null,be=OC(v),pe=OC(h),we=OC(N),je=I.useCallback(()=>{if(!se.current||!q.current)return;const me={placement:c,strategy:s,middleware:j};pe.current&&(me.platform=pe.current),EQ(se.current,q.current,me).then(Ee=>{const Z={...Ee,isPositioned:we.current!==!1};ye.current&&!Tv(ue.current,Z)&&(ue.current=Z,SA.flushSync(()=>{D(Z)}))})},[j,c,s,pe,we]);av(()=>{N===!1&&ue.current.isPositioned&&(ue.current.isPositioned=!1,D(me=>({...me,isPositioned:!1})))},[N]);const ye=I.useRef(!1);av(()=>(ye.current=!0,()=>{ye.current=!1}),[]),av(()=>{if(ne&&(se.current=ne),ce&&(q.current=ce),ne&&ce){if(be.current)return be.current(ne,ce,je);je()}},[ne,ce,je,be,oe]);const Me=I.useMemo(()=>({reference:se,floating:q,setReference:Q,setFloating:ee}),[Q,ee]),le=I.useMemo(()=>({reference:ne,floating:ce}),[ne,ce]),_e=I.useMemo(()=>{const me={position:s,left:0,top:0};if(!le.floating)return me;const Ee=JI(le.floating,S.x),Z=JI(le.floating,S.y);return y?{...me,transform:"translate("+Ee+"px, "+Z+"px)",...DL(le.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:Ee,top:Z}},[s,y,le.floating,S.x,S.y]);return I.useMemo(()=>({...S,update:je,refs:Me,elements:le,floatingStyles:_e}),[S,je,Me,le,_e])}const TQ=l=>{function c(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:l,fn(s){const{element:o,padding:h}=typeof l=="function"?l(s):l;return o&&c(o)?o.current!=null?XI({element:o.current,padding:h}).fn(s):{}:o?XI({element:o,padding:h}).fn(s):{}}}},MQ=(l,c)=>({...AQ(l),options:[l,c]}),IQ=(l,c)=>({...NQ(l),options:[l,c]}),OQ=(l,c)=>({...TQ(l),options:[l,c]}),LQ={...H3};let e3=!1,BQ=0;const t3=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+BQ++;function PQ(){const[l,c]=I.useState(()=>e3?t3():void 0);return Dv(()=>{l==null&&c(t3())},[]),I.useEffect(()=>{e3=!0},[]),l}const RQ=LQ.useId,TL=RQ||PQ,zQ=I.forwardRef(function(c,s){const{context:{placement:o,elements:{floating:h},middlewareData:{arrow:g,shift:_}},width:y=14,height:v=7,tipRadius:N=0,strokeWidth:S=0,staticOffset:D,stroke:j,d:B,style:{transform:F,...H}={},...$}=c,K=TL(),[Q,ee]=I.useState(!1);if(Dv(()=>{if(!h)return;Fl(h).direction==="rtl"&&ee(!0)},[h]),!h)return null;const[ne,ce]=o.split("-"),se=ne==="top"||ne==="bottom";let q=D;(se&&_!=null&&_.x||!se&&_!=null&&_.y)&&(q=null);const ue=S*2,oe=ue/2,be=y/2*(N/-8+1),pe=v/2*N/4,we=!!B,je=q&&ce==="end"?"bottom":"top";let ye=q&&ce==="end"?"right":"left";q&&Q&&(ye=ce==="end"?"left":"right");const Me=(g==null?void 0:g.x)!=null?q||g.x:"",le=(g==null?void 0:g.y)!=null?q||g.y:"",_e=B||"M0,0"+(" H"+y)+(" L"+(y-be)+","+(v-pe))+(" Q"+y/2+","+v+" "+be+","+(v-pe))+" Z",me={top:we?"rotate(180deg)":"",left:we?"rotate(90deg)":"rotate(-90deg)",bottom:we?"":"rotate(180deg)",right:we?"rotate(-90deg)":"rotate(90deg)"}[ne];return i.jsxs("svg",{...$,"aria-hidden":!0,ref:s,width:we?y:y+ue,height:y,viewBox:"0 0 "+y+" "+(v>y?v:y),style:{position:"absolute",pointerEvents:"none",[ye]:Me,[je]:le,[ne]:se||we?"100%":"calc(100% - "+ue/2+"px)",transform:[me,F].filter(Ee=>!!Ee).join(" "),...H},children:[ue>0&&i.jsx("path",{clipPath:"url(#"+K+")",fill:"none",stroke:j,strokeWidth:ue+(B?0:1),d:_e}),i.jsx("path",{stroke:ue&&!B?$.fill:"none",d:_e}),i.jsx("clipPath",{id:K,children:i.jsx("rect",{x:-oe,y:oe*(we?-1:1),width:y+ue,height:y})})]})});function FQ(){const l=new Map;return{emit(c,s){var o;(o=l.get(c))==null||o.forEach(h=>h(s))},on(c,s){l.has(c)||l.set(c,new Set),l.get(c).add(s)},off(c,s){var o;(o=l.get(c))==null||o.delete(s)}}}const VQ=I.createContext(null),HQ=I.createContext(null),UQ=()=>{var l;return((l=I.useContext(VQ))==null?void 0:l.id)||null},$Q=()=>I.useContext(HQ);function qQ(l){const{open:c=!1,onOpenChange:s,elements:o}=l,h=TL(),g=I.useRef({}),[_]=I.useState(()=>FQ()),y=UQ()!=null,[v,N]=I.useState(o.reference),S=eQ((B,F,H)=>{g.current.openEvent=B?F:void 0,_.emit("openchange",{open:B,event:F,reason:H,nested:y}),s==null||s(B,F,H)}),D=I.useMemo(()=>({setPositionReference:N}),[]),j=I.useMemo(()=>({reference:v||o.reference||null,floating:o.floating||null,domReference:o.reference}),[v,o.reference,o.floating]);return I.useMemo(()=>({dataRef:g,open:c,onOpenChange:S,elements:j,events:_,floatingId:h,refs:D}),[c,S,j,_,h,D])}function WQ(l){l===void 0&&(l={});const{nodeId:c}=l,s=qQ({...l,elements:{reference:null,floating:null,...l.elements}}),o=l.rootContext||s,h=o.elements,[g,_]=I.useState(null),[y,v]=I.useState(null),S=(h==null?void 0:h.domReference)||g,D=I.useRef(null),j=$Q();Dv(()=>{S&&(D.current=S)},[S]);const B=DQ({...l,elements:{...h,...y&&{reference:y}}}),F=I.useCallback(ee=>{const ne=ga(ee)?{getBoundingClientRect:()=>ee.getBoundingClientRect(),getClientRects:()=>ee.getClientRects(),contextElement:ee}:ee;v(ne),B.refs.setReference(ne)},[B.refs]),H=I.useCallback(ee=>{(ga(ee)||ee===null)&&(D.current=ee,_(ee)),(ga(B.refs.reference.current)||B.refs.reference.current===null||ee!==null&&!ga(ee))&&B.refs.setReference(ee)},[B.refs]),$=I.useMemo(()=>({...B.refs,setReference:H,setPositionReference:F,domReference:D}),[B.refs,H,F]),K=I.useMemo(()=>({...B.elements,domReference:S}),[B.elements,S]),Q=I.useMemo(()=>({...B,...o,refs:$,elements:K,nodeId:c}),[B,$,K,c,o]);return Dv(()=>{o.dataRef.current.floatingContext=Q;const ee=j==null?void 0:j.nodesRef.current.find(ne=>ne.id===c);ee&&(ee.context=Q)}),I.useMemo(()=>({...B,context:Q,refs:$,elements:K}),[B,$,K,Q])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var kA=function(c,s){return kA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(o[g]=h[g])},kA(c,s)};function co(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");kA(l,c);function s(){this.constructor=l}l.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}var ji=function(){return ji=Object.assign||function(s){for(var o,h=1,g=arguments.length;h<g;h++){o=arguments[h];for(var _ in o)Object.prototype.hasOwnProperty.call(o,_)&&(s[_]=o[_])}return s},ji.apply(this,arguments)};function fd(l,c,s){if(s||arguments.length===2)for(var o=0,h=c.length,g;o<h;o++)(g||!(o in c))&&(g||(g=Array.prototype.slice.call(c,0,o)),g[o]=c[o]);return l.concat(g||Array.prototype.slice.call(c))}var YQ=function(l){var c=l.showTimeSelectOnly,s=c===void 0?!1:c,o=l.showTime,h=o===void 0?!1:o,g=l.className,_=l.children,y=s?"Choose Time":"Choose Date".concat(h?" and Time":"");return tt.createElement("div",{className:g,role:"dialog","aria-label":y,"aria-modal":"true"},_)},GQ=function(l,c){var s=I.useRef(null),o=I.useRef(l);o.current=l;var h=I.useCallback(function(g){var _,y=g.composed&&g.composedPath&&g.composedPath().find(function(v){return v instanceof Node})||g.target;s.current&&!s.current.contains(y)&&(c&&y instanceof HTMLElement&&y.classList.contains(c)||(_=o.current)===null||_===void 0||_.call(o,g))},[c]);return I.useEffect(function(){return document.addEventListener("mousedown",h),function(){document.removeEventListener("mousedown",h)}},[h]),s},gw=function(l){var c=l.children,s=l.onClickOutside,o=l.className,h=l.containerRef,g=l.style,_=l.ignoreClass,y=GQ(s,_);return tt.createElement("div",{className:o,style:g,ref:function(v){y.current=v,h&&(h.current=v)}},c)},Qt;(function(l){l.ArrowUp="ArrowUp",l.ArrowDown="ArrowDown",l.ArrowLeft="ArrowLeft",l.ArrowRight="ArrowRight",l.PageUp="PageUp",l.PageDown="PageDown",l.Home="Home",l.End="End",l.Enter="Enter",l.Space=" ",l.Tab="Tab",l.Escape="Escape",l.Backspace="Backspace",l.X="x"})(Qt||(Qt={}));function ML(){var l=typeof window<"u"?window:globalThis;return l}var Mb=12;function Vi(l){if(l==null)return new Date;var c=typeof l=="string"?hK(l):dn(l);return bw(c)?c:new Date}function LC(l,c,s,o,h){h===void 0&&(h=Vi());for(var g=hp(s)||hp(c1()),_=Array.isArray(c)?c:[c],y=0,v=_;y<v.length;y++){var N=v[y],S=oK(l,N,h,{locale:g});if(bw(S)&&(!o||l===xr(S,N,s)))return S}return null}function bw(l,c){return yv(l)&&!Bm(l,new Date("1/1/1800"))}function xr(l,c,s){if(s==="en")return UI(l,c,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var o=s?hp(s):void 0;return s&&!o&&console.warn('A locale object was not found for the provided string ["'.concat(s,'"].')),o=o||hp(c1()),UI(l,c,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Ll(l,c){var s=c.dateFormat,o=c.locale,h=Array.isArray(s)&&s.length>0?s[0]:s;return l&&xr(l,h,o)||""}var IL=" - ";function KQ(l,c,s){if(!l)return"";var o=Ll(l,s),h=c?Ll(c,s):"";return"".concat(o).concat(IL).concat(h)}function QQ(l,c){if(!(l!=null&&l.length))return"";var s=l[0]?Ll(l[0],c):"";if(l.length===1)return s;if(l.length===2&&l[1]){var o=Ll(l[1],c);return"".concat(s,", ").concat(o)}var h=l.length-1;return"".concat(s," (+").concat(h,")")}function BC(l,c){var s=c.hour,o=s===void 0?0:s,h=c.minute,g=h===void 0?0:h,_=c.second,y=_===void 0?0:_;return rv(sv(ov(l,y),g),o)}function ZQ(l){return JA(l)}function XQ(l,c){return xr(l,"ddd",c)}function lv(l){return Lm(l)}function bh(l,c,s){var o=hp(c||c1());return ku(l,{locale:o,weekStartsOn:s})}function pu(l){return dL(l)}function sb(l){return uw(l)}function n3(l){return mA(l)}function i3(){return Lm(Vi())}function r3(l){return lL(l)}function JQ(l){return hY(l)}function eZ(l){return cL(l)}function ud(l,c){return l&&c?dK(l,c):!l&&!c}function pa(l,c){return l&&c?lK(l,c):!l&&!c}function Mv(l,c){return l&&c?cK(l,c):!l&&!c}function Si(l,c){return l&&c?dY(l,c):!l&&!c}function Em(l,c){return l&&c?uG(l,c):!l&&!c}function ob(l,c,s){var o,h=Lm(c),g=lL(s);try{o=pb(l,{start:h,end:g})}catch{o=!1}return o}function c1(){var l=ML();return l.__localeId__}function hp(l){if(typeof l=="string"){var c=ML();return c.__localeData__?c.__localeData__[l]:void 0}else return l}function tZ(l,c,s){return c(xr(l,"EEEE",s))}function nZ(l,c){return xr(l,"EEEEEE",c)}function iZ(l,c){return xr(l,"EEE",c)}function d1(l,c){return xr(Bl(Vi(),l),"LLLL",c)}function OL(l,c){return xr(Bl(Vi(),l),"LLL",c)}function rZ(l,c){return xr(ip(Vi(),l),"QQQ",c)}function Pl(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.maxDate,g=s.excludeDates,_=s.excludeDateIntervals,y=s.includeDates,v=s.includeDateIntervals,N=s.filterDate;return Ib(l,{minDate:o,maxDate:h})||g&&g.some(function(S){return S instanceof Date?Si(l,S):Si(l,S.date)})||_&&_.some(function(S){var D=S.start,j=S.end;return pb(l,{start:D,end:j})})||y&&!y.some(function(S){return Si(l,S)})||v&&!v.some(function(S){var D=S.start,j=S.end;return pb(l,{start:D,end:j})})||N&&!N(Vi(l))||!1}function u1(l,c){var s=c===void 0?{}:c,o=s.excludeDates,h=s.excludeDateIntervals;return h&&h.length>0?h.some(function(g){var _=g.start,y=g.end;return pb(l,{start:_,end:y})}):o&&o.some(function(g){var _;return g instanceof Date?Si(l,g):Si(l,(_=g.date)!==null&&_!==void 0?_:new Date)})||!1}function LL(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.maxDate,g=s.excludeDates,_=s.includeDates,y=s.filterDate;return Ib(l,{minDate:o?dL(o):void 0,maxDate:h?cL(h):void 0})||(g==null?void 0:g.some(function(v){return pa(l,v instanceof Date?v:v.date)}))||_&&!_.some(function(v){return pa(l,v)})||y&&!y(Vi(l))||!1}function U_(l,c,s,o){var h=oi(l),g=Ko(l),_=oi(c),y=Ko(c),v=oi(o);return h===_&&h===v?g<=s&&s<=y:h<_?v===h&&g<=s||v===_&&y>=s||v<_&&v>h:!1}function sZ(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.maxDate,g=s.excludeDates,_=s.includeDates;return Ib(l,{minDate:o,maxDate:h})||g&&g.some(function(y){return pa(y instanceof Date?y:y.date,l)})||_&&!_.some(function(y){return pa(y,l)})||!1}function $_(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.maxDate,g=s.excludeDates,_=s.includeDates,y=s.filterDate;return Ib(l,{minDate:o,maxDate:h})||(g==null?void 0:g.some(function(v){return Mv(l,v instanceof Date?v:v.date)}))||_&&!_.some(function(v){return Mv(l,v)})||y&&!y(Vi(l))||!1}function q_(l,c,s){if(!c||!s||!yv(c)||!yv(s))return!1;var o=oi(c),h=oi(s);return o<=l&&h>=l}function cv(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.maxDate,g=s.excludeDates,_=s.includeDates,y=s.filterDate,v=new Date(l,0,1);return Ib(v,{minDate:o?uw(o):void 0,maxDate:h?uL(h):void 0})||(g==null?void 0:g.some(function(N){return ud(v,N instanceof Date?N:N.date)}))||_&&!_.some(function(N){return ud(v,N)})||y&&!y(Vi(v))||!1}function W_(l,c,s,o){var h=oi(l),g=Tm(l),_=oi(c),y=Tm(c),v=oi(o);return h===_&&h===v?g<=s&&s<=y:h<_?v===h&&g<=s||v===_&&y>=s||v<_&&v>h:!1}function Ib(l,c){var s,o=c===void 0?{}:c,h=o.minDate,g=o.maxDate;return(s=h&&ap(l,h)<0||g&&ap(l,g)>0)!==null&&s!==void 0?s:!1}function s3(l,c){return c.some(function(s){return mu(s)===mu(l)&&fu(s)===fu(l)&&gh(s)===gh(l)})}function o3(l,c){var s=c===void 0?{}:c,o=s.excludeTimes,h=s.includeTimes,g=s.filterTime;return o&&s3(l,o)||h&&!s3(l,h)||g&&!g(l)||!1}function a3(l,c){var s=c.minTime,o=c.maxTime;if(!s||!o)throw new Error("Both minTime and maxTime props required");var h=Vi();h=rv(h,mu(l)),h=sv(h,fu(l)),h=ov(h,gh(l));var g=Vi();g=rv(g,mu(s)),g=sv(g,fu(s)),g=ov(g,gh(s));var _=Vi();_=rv(_,mu(o)),_=sv(_,fu(o)),_=ov(_,gh(o));var y;try{y=!pb(h,{start:g,end:_})}catch{y=!1}return y}function l3(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.includeDates,g=Mm(l,1);return o&&xv(o,g)>0||h&&h.every(function(_){return xv(_,g)>0})||!1}function c3(l,c){var s=c===void 0?{}:c,o=s.maxDate,h=s.includeDates,g=_c(l,1);return o&&xv(g,o)>0||h&&h.every(function(_){return xv(g,_)>0})||!1}function oZ(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.includeDates,g=uw(l),_=vL(g);return o&&Cv(o,_)>0||h&&h.every(function(y){return Cv(y,_)>0})||!1}function aZ(l,c){var s=c===void 0?{}:c,o=s.maxDate,h=s.includeDates,g=uL(l),_=XA(g,1);return o&&Cv(_,o)>0||h&&h.every(function(y){return Cv(_,y)>0})||!1}function d3(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.includeDates,g=lp(l,1);return o&&Av(o,g)>0||h&&h.every(function(_){return Av(_,g)>0})||!1}function lZ(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.yearItemNumber,g=h===void 0?Mb:h,_=sb(lp(l,g)),y=ph(_,g).endPeriod,v=o&&oi(o);return v&&v>y||!1}function u3(l,c){var s=c===void 0?{}:c,o=s.maxDate,h=s.includeDates,g=uu(l,1);return o&&Av(g,o)>0||h&&h.every(function(_){return Av(g,_)>0})||!1}function cZ(l,c){var s=c===void 0?{}:c,o=s.maxDate,h=s.yearItemNumber,g=h===void 0?Mb:h,_=uu(l,g),y=ph(_,g).startPeriod,v=o&&oi(o);return v&&v<y||!1}function BL(l){var c=l.minDate,s=l.includeDates;if(s&&c){var o=s.filter(function(h){return ap(h,c)>=0});return PI(o)}else return s?PI(s):c}function PL(l){var c=l.maxDate,s=l.includeDates;if(s&&c){var o=s.filter(function(h){return ap(h,c)<=0});return BI(o)}else return s?BI(s):c}function h3(l,c){var s;l===void 0&&(l=[]),c===void 0&&(c="react-datepicker__day--highlighted");for(var o=new Map,h=0,g=l.length;h<g;h++){var _=l[h];if(hu(_)){var y=xr(_,"MM.dd.yyyy"),v=o.get(y)||[];v.includes(c)||(v.push(c),o.set(y,v))}else if(typeof _=="object"){var N=Object.keys(_),S=(s=N[0])!==null&&s!==void 0?s:"",D=_[S];if(typeof S=="string"&&Array.isArray(D))for(var j=0,B=D.length;j<B;j++){var F=D[j];if(F){var y=xr(F,"MM.dd.yyyy"),v=o.get(y)||[];v.includes(S)||(v.push(S),o.set(y,v))}}}}return o}function dZ(l,c){return l.length!==c.length?!1:l.every(function(s,o){return s===c[o]})}function uZ(l,c){l===void 0&&(l=[]),c===void 0&&(c="react-datepicker__day--holidays");var s=new Map;return l.forEach(function(o){var h=o.date,g=o.holidayName;if(hu(h)){var _=xr(h,"MM.dd.yyyy"),y=s.get(_)||{className:"",holidayNames:[]};if(!("className"in y&&y.className===c&&dZ(y.holidayNames,[g]))){y.className=c;var v=y.holidayNames;y.holidayNames=v?fd(fd([],v,!0),[g],!1):[g],s.set(_,y)}}}),s}function hZ(l,c,s,o,h){for(var g=h.length,_=[],y=0;y<g;y++){var v=l,N=h[y];N&&(v=oY(v,mu(N)),v=hA(v,fu(N)),v=cY(v,gh(N)));var S=hA(l,(s+1)*o);kh(v,c)&&Bm(v,S)&&N!=null&&_.push(N)}return _}function m3(l){return l<10?"0".concat(l):"".concat(l)}function ph(l,c){c===void 0&&(c=Mb);var s=Math.ceil(oi(l)/c)*c,o=s-(c-1);return{startPeriod:o,endPeriod:s}}function mZ(l){var c=new Date(l.getFullYear(),l.getMonth(),l.getDate()),s=new Date(l.getFullYear(),l.getMonth(),l.getDate(),24);return Math.round((+s-+c)/36e5)}function f3(l){var c=l.getSeconds(),s=l.getMilliseconds();return dn(l.getTime()-c*1e3-s)}function fZ(l,c){return f3(l).getTime()===f3(c).getTime()}function p3(l){if(!hu(l))throw new Error("Invalid date");var c=new Date(l);return c.setHours(0,0,0,0),c}function g3(l,c){if(!hu(l)||!hu(c))throw new Error("Invalid date received");var s=p3(l),o=p3(c);return Bm(s,o)}function RL(l){return l.key===Qt.Space}var pZ=function(l){co(c,l);function c(s){var o=l.call(this,s)||this;return o.inputRef=tt.createRef(),o.onTimeChange=function(h){var g,_;o.setState({time:h});var y=o.props.date,v=y instanceof Date&&!isNaN(+y),N=v?y:new Date;if(h!=null&&h.includes(":")){var S=h.split(":"),D=S[0],j=S[1];N.setHours(Number(D)),N.setMinutes(Number(j))}(_=(g=o.props).onChange)===null||_===void 0||_.call(g,N)},o.renderTimeInput=function(){var h=o.state.time,g=o.props,_=g.date,y=g.timeString,v=g.customTimeInput;return v?I.cloneElement(v,{date:_,value:h,onChange:o.onTimeChange}):tt.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:o.inputRef,onClick:function(){var N;(N=o.inputRef.current)===null||N===void 0||N.focus()},required:!0,value:h,onChange:function(N){o.onTimeChange(N.target.value||y)}})},o.state={time:o.props.timeString},o}return c.getDerivedStateFromProps=function(s,o){return s.timeString!==o.time?{time:s.timeString}:null},c.prototype.render=function(){return tt.createElement("div",{className:"react-datepicker__input-time-container"},tt.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),tt.createElement("div",{className:"react-datepicker-time__input-container"},tt.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},c}(I.Component),gZ=function(l){co(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.dayEl=I.createRef(),s.handleClick=function(o){!s.isDisabled()&&s.props.onClick&&s.props.onClick(o)},s.handleMouseEnter=function(o){!s.isDisabled()&&s.props.onMouseEnter&&s.props.onMouseEnter(o)},s.handleOnKeyDown=function(o){var h,g,_=o.key;_===Qt.Space&&(o.preventDefault(),o.key=Qt.Enter),(g=(h=s.props).handleOnKeyDown)===null||g===void 0||g.call(h,o)},s.isSameDay=function(o){return Si(s.props.day,o)},s.isKeyboardSelected=function(){var o;if(s.props.disabledKeyboardNavigation)return!1;var h=s.props.selectsMultiple?(o=s.props.selectedDates)===null||o===void 0?void 0:o.some(function(_){return s.isSameDayOrWeek(_)}):s.isSameDayOrWeek(s.props.selected),g=s.props.preSelection&&s.isDisabled(s.props.preSelection);return!h&&s.isSameDayOrWeek(s.props.preSelection)&&!g},s.isDisabled=function(o){return o===void 0&&(o=s.props.day),Pl(o,{minDate:s.props.minDate,maxDate:s.props.maxDate,excludeDates:s.props.excludeDates,excludeDateIntervals:s.props.excludeDateIntervals,includeDateIntervals:s.props.includeDateIntervals,includeDates:s.props.includeDates,filterDate:s.props.filterDate})},s.isExcluded=function(){return u1(s.props.day,{excludeDates:s.props.excludeDates,excludeDateIntervals:s.props.excludeDateIntervals})},s.isStartOfWeek=function(){return Si(s.props.day,bh(s.props.day,s.props.locale,s.props.calendarStartDay))},s.isSameWeek=function(o){return s.props.showWeekPicker&&Si(o,bh(s.props.day,s.props.locale,s.props.calendarStartDay))},s.isSameDayOrWeek=function(o){return s.isSameDay(o)||s.isSameWeek(o)},s.getHighLightedClass=function(){var o=s.props,h=o.day,g=o.highlightDates;if(!g)return!1;var _=xr(h,"MM.dd.yyyy");return g.get(_)},s.getHolidaysClass=function(){var o,h=s.props,g=h.day,_=h.holidays;if(!_)return[void 0];var y=xr(g,"MM.dd.yyyy");return _.has(y)?[(o=_.get(y))===null||o===void 0?void 0:o.className]:[void 0]},s.isInRange=function(){var o=s.props,h=o.day,g=o.startDate,_=o.endDate;return!g||!_?!1:ob(h,g,_)},s.isInSelectingRange=function(){var o,h=s.props,g=h.day,_=h.selectsStart,y=h.selectsEnd,v=h.selectsRange,N=h.selectsDisabledDaysInRange,S=h.startDate,D=h.endDate,j=(o=s.props.selectingDate)!==null&&o!==void 0?o:s.props.preSelection;return!(_||y||v)||!j||!N&&s.isDisabled()?!1:_&&D&&(Bm(j,D)||Em(j,D))?ob(g,j,D):y&&S&&(kh(j,S)||Em(j,S))||v&&S&&!D&&(kh(j,S)||Em(j,S))?ob(g,S,j):!1},s.isSelectingRangeStart=function(){var o;if(!s.isInSelectingRange())return!1;var h=s.props,g=h.day,_=h.startDate,y=h.selectsStart,v=(o=s.props.selectingDate)!==null&&o!==void 0?o:s.props.preSelection;return y?Si(g,v):Si(g,_)},s.isSelectingRangeEnd=function(){var o;if(!s.isInSelectingRange())return!1;var h=s.props,g=h.day,_=h.endDate,y=h.selectsEnd,v=h.selectsRange,N=(o=s.props.selectingDate)!==null&&o!==void 0?o:s.props.preSelection;return y||v?Si(g,N):Si(g,_)},s.isRangeStart=function(){var o=s.props,h=o.day,g=o.startDate,_=o.endDate;return!g||!_?!1:Si(g,h)},s.isRangeEnd=function(){var o=s.props,h=o.day,g=o.startDate,_=o.endDate;return!g||!_?!1:Si(_,h)},s.isWeekend=function(){var o=aG(s.props.day);return o===0||o===6},s.isAfterMonth=function(){return s.props.month!==void 0&&(s.props.month+1)%12===Ko(s.props.day)},s.isBeforeMonth=function(){return s.props.month!==void 0&&(Ko(s.props.day)+1)%12===s.props.month},s.isCurrentDay=function(){return s.isSameDay(Vi())},s.isSelected=function(){var o;return s.props.selectsMultiple?(o=s.props.selectedDates)===null||o===void 0?void 0:o.some(function(h){return s.isSameDayOrWeek(h)}):s.isSameDayOrWeek(s.props.selected)},s.getClassNames=function(o){var h=s.props.dayClassName?s.props.dayClassName(o):void 0;return Eo("react-datepicker__day",h,"react-datepicker__day--"+XQ(s.props.day),{"react-datepicker__day--disabled":s.isDisabled(),"react-datepicker__day--excluded":s.isExcluded(),"react-datepicker__day--selected":s.isSelected(),"react-datepicker__day--keyboard-selected":s.isKeyboardSelected(),"react-datepicker__day--range-start":s.isRangeStart(),"react-datepicker__day--range-end":s.isRangeEnd(),"react-datepicker__day--in-range":s.isInRange(),"react-datepicker__day--in-selecting-range":s.isInSelectingRange(),"react-datepicker__day--selecting-range-start":s.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":s.isSelectingRangeEnd(),"react-datepicker__day--today":s.isCurrentDay(),"react-datepicker__day--weekend":s.isWeekend(),"react-datepicker__day--outside-month":s.isAfterMonth()||s.isBeforeMonth()},s.getHighLightedClass(),s.getHolidaysClass())},s.getAriaLabel=function(){var o=s.props,h=o.day,g=o.ariaLabelPrefixWhenEnabled,_=g===void 0?"Choose":g,y=o.ariaLabelPrefixWhenDisabled,v=y===void 0?"Not available":y,N=s.isDisabled()||s.isExcluded()?v:_;return"".concat(N," ").concat(xr(h,"PPPP",s.props.locale))},s.getTitle=function(){var o=s.props,h=o.day,g=o.holidays,_=g===void 0?new Map:g,y=o.excludeDates,v=xr(h,"MM.dd.yyyy"),N=[];return _.has(v)&&N.push.apply(N,_.get(v).holidayNames),s.isExcluded()&&N.push(y==null?void 0:y.filter(function(S){return S instanceof Date?Si(S,h):Si(S==null?void 0:S.date,h)}).map(function(S){if(!(S instanceof Date))return S==null?void 0:S.message})),N.join(", ")},s.getTabIndex=function(){var o=s.props.selected,h=s.props.preSelection,g=!(s.props.showWeekPicker&&(s.props.showWeekNumber||!s.isStartOfWeek()))&&(s.isKeyboardSelected()||s.isSameDay(o)&&Si(h,o))?0:-1;return g},s.handleFocusDay=function(){var o;s.shouldFocusDay()&&((o=s.dayEl.current)===null||o===void 0||o.focus({preventScroll:!0}))},s.renderDayContents=function(){return s.props.monthShowsDuplicateDaysEnd&&s.isAfterMonth()||s.props.monthShowsDuplicateDaysStart&&s.isBeforeMonth()?null:s.props.renderDayContents?s.props.renderDayContents($I(s.props.day),s.props.day):$I(s.props.day)},s.render=function(){return tt.createElement("div",{ref:s.dayEl,className:s.getClassNames(s.props.day),onKeyDown:s.handleOnKeyDown,onClick:s.handleClick,onMouseEnter:s.props.usePointerEvent?void 0:s.handleMouseEnter,onPointerEnter:s.props.usePointerEvent?s.handleMouseEnter:void 0,tabIndex:s.getTabIndex(),"aria-label":s.getAriaLabel(),role:"option",title:s.getTitle(),"aria-disabled":s.isDisabled(),"aria-current":s.isCurrentDay()?"date":void 0,"aria-selected":s.isSelected()||s.isInRange()},s.renderDayContents(),s.getTitle()!==""&&tt.createElement("span",{className:"overlay"},s.getTitle()))},s}return c.prototype.componentDidMount=function(){this.handleFocusDay()},c.prototype.componentDidUpdate=function(){this.handleFocusDay()},c.prototype.shouldFocusDay=function(){var s=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(s=!1),this.isDayActiveElement()&&(s=!0),this.isDuplicateDay()&&(s=!1)),s},c.prototype.isDayActiveElement=function(){var s,o,h;return((o=(s=this.props.containerRef)===null||s===void 0?void 0:s.current)===null||o===void 0?void 0:o.contains(document.activeElement))&&((h=document.activeElement)===null||h===void 0?void 0:h.classList.contains("react-datepicker__day"))},c.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},c}(I.Component),bZ=function(l){co(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.weekNumberEl=I.createRef(),s.handleClick=function(o){s.props.onClick&&s.props.onClick(o)},s.handleOnKeyDown=function(o){var h,g,_=o.key;_===Qt.Space&&(o.preventDefault(),o.key=Qt.Enter),(g=(h=s.props).handleOnKeyDown)===null||g===void 0||g.call(h,o)},s.isKeyboardSelected=function(){return!s.props.disabledKeyboardNavigation&&!Si(s.props.date,s.props.selected)&&Si(s.props.date,s.props.preSelection)},s.getTabIndex=function(){return s.props.showWeekPicker&&s.props.showWeekNumber&&(s.isKeyboardSelected()||Si(s.props.date,s.props.selected)&&Si(s.props.preSelection,s.props.selected))?0:-1},s.handleFocusWeekNumber=function(o){var h=!1;s.getTabIndex()===0&&!(o!=null&&o.isInputFocused)&&Si(s.props.date,s.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(h=!0),s.props.inline&&!s.props.shouldFocusDayInline&&(h=!1),s.props.containerRef&&s.props.containerRef.current&&s.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(h=!0)),h&&s.weekNumberEl.current&&s.weekNumberEl.current.focus({preventScroll:!0})},s}return Object.defineProperty(c,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),c.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},c.prototype.componentDidUpdate=function(s){this.handleFocusWeekNumber(s)},c.prototype.render=function(){var s=this.props,o=s.weekNumber,h=s.isWeekDisabled,g=s.ariaLabelPrefix,_=g===void 0?c.defaultProps.ariaLabelPrefix:g,y=s.onClick,v={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!y&&!h,"react-datepicker__week-number--selected":!!y&&Si(this.props.date,this.props.selected)};return tt.createElement("div",{ref:this.weekNumberEl,className:Eo(v),"aria-label":"".concat(_," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},o)},c}(I.Component),kZ=function(l){co(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.isDisabled=function(o){return Pl(o,{minDate:s.props.minDate,maxDate:s.props.maxDate,excludeDates:s.props.excludeDates,excludeDateIntervals:s.props.excludeDateIntervals,includeDateIntervals:s.props.includeDateIntervals,includeDates:s.props.includeDates,filterDate:s.props.filterDate})},s.handleDayClick=function(o,h){s.props.onDayClick&&s.props.onDayClick(o,h)},s.handleDayMouseEnter=function(o){s.props.onDayMouseEnter&&s.props.onDayMouseEnter(o)},s.handleWeekClick=function(o,h,g){for(var _,y,v,N=new Date(o),S=0;S<7;S++){var D=new Date(o);D.setDate(D.getDate()+S);var j=!s.isDisabled(D);if(j){N=D;break}}typeof s.props.onWeekSelect=="function"&&s.props.onWeekSelect(N,h,g),s.props.showWeekPicker&&s.handleDayClick(N,g),((_=s.props.shouldCloseOnSelect)!==null&&_!==void 0?_:c.defaultProps.shouldCloseOnSelect)&&((v=(y=s.props).setOpen)===null||v===void 0||v.call(y,!1))},s.formatWeekNumber=function(o){return s.props.formatWeekNumber?s.props.formatWeekNumber(o):ZQ(o)},s.isWeekDisabled=function(){for(var o=s.startOfWeek(),h=kc(o,6),g=new Date(o);g<=h;){if(!s.isDisabled(g))return!1;g=kc(g,1)}return!0},s.renderDays=function(){var o=s.startOfWeek(),h=[],g=s.formatWeekNumber(o);if(s.props.showWeekNumber){var _=s.props.onWeekSelect||s.props.showWeekPicker?s.handleWeekClick.bind(s,o,g):void 0;h.push(tt.createElement(bZ,ji({key:"W"},c.defaultProps,s.props,{weekNumber:g,isWeekDisabled:s.isWeekDisabled(),date:o,onClick:_})))}return h.concat([0,1,2,3,4,5,6].map(function(y){var v=kc(o,y);return tt.createElement(gZ,ji({},c.defaultProps,s.props,{ariaLabelPrefixWhenEnabled:s.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:s.props.disabledDayAriaLabelPrefix,key:v.valueOf(),day:v,onClick:s.handleDayClick.bind(s,v),onMouseEnter:s.handleDayMouseEnter.bind(s,v)}))}))},s.startOfWeek=function(){return bh(s.props.day,s.props.locale,s.props.calendarStartDay)},s.isKeyboardSelected=function(){return!s.props.disabledKeyboardNavigation&&!Si(s.startOfWeek(),s.props.selected)&&Si(s.startOfWeek(),s.props.preSelection)},s}return Object.defineProperty(c,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),c.prototype.render=function(){var s={"react-datepicker__week":!0,"react-datepicker__week--selected":Si(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return tt.createElement("div",{className:Eo(s)},this.renderDays())},c}(I.Component),Qg,_Z=6,sp={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},PC=(Qg={},Qg[sp.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Qg[sp.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Qg[sp.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Qg),Y_=1;function b3(l,c){return l?sp.FOUR_COLUMNS:c?sp.TWO_COLUMNS:sp.THREE_COLUMNS}var vZ=function(l){co(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.MONTH_REFS=fd([],Array(12),!0).map(function(){return I.createRef()}),s.QUARTER_REFS=fd([],Array(4),!0).map(function(){return I.createRef()}),s.isDisabled=function(o){return Pl(o,{minDate:s.props.minDate,maxDate:s.props.maxDate,excludeDates:s.props.excludeDates,excludeDateIntervals:s.props.excludeDateIntervals,includeDateIntervals:s.props.includeDateIntervals,includeDates:s.props.includeDates,filterDate:s.props.filterDate})},s.isExcluded=function(o){return u1(o,{excludeDates:s.props.excludeDates,excludeDateIntervals:s.props.excludeDateIntervals})},s.handleDayClick=function(o,h){var g,_;(_=(g=s.props).onDayClick)===null||_===void 0||_.call(g,o,h,s.props.orderInDisplay)},s.handleDayMouseEnter=function(o){var h,g;(g=(h=s.props).onDayMouseEnter)===null||g===void 0||g.call(h,o)},s.handleMouseLeave=function(){var o,h;(h=(o=s.props).onMouseLeave)===null||h===void 0||h.call(o)},s.isRangeStartMonth=function(o){var h=s.props,g=h.day,_=h.startDate,y=h.endDate;return!_||!y?!1:pa(Bl(g,o),_)},s.isRangeStartQuarter=function(o){var h=s.props,g=h.day,_=h.startDate,y=h.endDate;return!_||!y?!1:Mv(ip(g,o),_)},s.isRangeEndMonth=function(o){var h=s.props,g=h.day,_=h.startDate,y=h.endDate;return!_||!y?!1:pa(Bl(g,o),y)},s.isRangeEndQuarter=function(o){var h=s.props,g=h.day,_=h.startDate,y=h.endDate;return!_||!y?!1:Mv(ip(g,o),y)},s.isInSelectingRangeMonth=function(o){var h,g=s.props,_=g.day,y=g.selectsStart,v=g.selectsEnd,N=g.selectsRange,S=g.startDate,D=g.endDate,j=(h=s.props.selectingDate)!==null&&h!==void 0?h:s.props.preSelection;return!(y||v||N)||!j?!1:y&&D?U_(j,D,o,_):v&&S||N&&S&&!D?U_(S,j,o,_):!1},s.isSelectingMonthRangeStart=function(o){var h;if(!s.isInSelectingRangeMonth(o))return!1;var g=s.props,_=g.day,y=g.startDate,v=g.selectsStart,N=Bl(_,o),S=(h=s.props.selectingDate)!==null&&h!==void 0?h:s.props.preSelection;return v?pa(N,S):pa(N,y)},s.isSelectingMonthRangeEnd=function(o){var h;if(!s.isInSelectingRangeMonth(o))return!1;var g=s.props,_=g.day,y=g.endDate,v=g.selectsEnd,N=g.selectsRange,S=Bl(_,o),D=(h=s.props.selectingDate)!==null&&h!==void 0?h:s.props.preSelection;return v||N?pa(S,D):pa(S,y)},s.isInSelectingRangeQuarter=function(o){var h,g=s.props,_=g.day,y=g.selectsStart,v=g.selectsEnd,N=g.selectsRange,S=g.startDate,D=g.endDate,j=(h=s.props.selectingDate)!==null&&h!==void 0?h:s.props.preSelection;return!(y||v||N)||!j?!1:y&&D?W_(j,D,o,_):v&&S||N&&S&&!D?W_(S,j,o,_):!1},s.isWeekInMonth=function(o){var h=s.props.day,g=kc(o,6);return pa(o,h)||pa(g,h)},s.isCurrentMonth=function(o,h){return oi(o)===oi(Vi())&&h===Ko(Vi())},s.isCurrentQuarter=function(o,h){return oi(o)===oi(Vi())&&h===Tm(Vi())},s.isSelectedMonth=function(o,h,g){return Ko(g)===h&&oi(o)===oi(g)},s.isSelectMonthInList=function(o,h,g){return g.some(function(_){return s.isSelectedMonth(o,h,_)})},s.isSelectedQuarter=function(o,h,g){return Tm(o)===h&&oi(o)===oi(g)},s.isMonthSelected=function(){var o=s.props,h=o.day,g=o.selected,_=o.selectedDates,y=o.selectsMultiple,v=Ko(h);return y?_==null?void 0:_.some(function(N){return s.isSelectedMonth(h,v,N)}):!!g&&s.isSelectedMonth(h,v,g)},s.renderWeeks=function(){for(var o=[],h=s.props.fixedHeight,g=0,_=!1,y=bh(pu(s.props.day),s.props.locale,s.props.calendarStartDay),v=function(F){return s.props.showWeekPicker?bh(F,s.props.locale,s.props.calendarStartDay):s.props.preSelection},N=function(F){return s.props.showWeekPicker?bh(F,s.props.locale,s.props.calendarStartDay):s.props.selected},S=s.props.selected?N(s.props.selected):void 0,D=s.props.preSelection?v(s.props.preSelection):void 0;o.push(tt.createElement(kZ,ji({},s.props,{ariaLabelPrefix:s.props.weekAriaLabelPrefix,key:g,day:y,month:Ko(s.props.day),onDayClick:s.handleDayClick,onDayMouseEnter:s.handleDayMouseEnter,selected:S,preSelection:D,showWeekNumber:s.props.showWeekNumbers}))),!_;){g++,y=wv(y,1);var j=h&&g>=_Z,B=!h&&!s.isWeekInMonth(y);if(j||B)if(s.props.peekNextMonth)_=!0;else break}return o},s.onMonthClick=function(o,h){var g=s.isMonthDisabledForLabelDate(h),_=g.isDisabled,y=g.labelDate;_||s.handleDayClick(pu(y),o)},s.onMonthMouseEnter=function(o){var h=s.isMonthDisabledForLabelDate(o),g=h.isDisabled,_=h.labelDate;g||s.handleDayMouseEnter(pu(_))},s.handleMonthNavigation=function(o,h){var g,_,y,v;(_=(g=s.props).setPreSelection)===null||_===void 0||_.call(g,h),(v=(y=s.MONTH_REFS[o])===null||y===void 0?void 0:y.current)===null||v===void 0||v.focus()},s.handleKeyboardNavigation=function(o,h,g){var _,y=s.props,v=y.selected,N=y.preSelection,S=y.setPreSelection,D=y.minDate,j=y.maxDate,B=y.showFourColumnMonthYearPicker,F=y.showTwoColumnMonthYearPicker;if(N){var H=b3(B,F),$=s.getVerticalOffset(H),K=(_=PC[H])===null||_===void 0?void 0:_.grid,Q=function(q,ue,oe){var be,pe,we=ue,je=oe;switch(q){case Qt.ArrowRight:we=_c(ue,Y_),je=oe===11?0:oe+Y_;break;case Qt.ArrowLeft:we=Mm(ue,Y_),je=oe===0?11:oe-Y_;break;case Qt.ArrowUp:we=Mm(ue,$),je=!((be=K==null?void 0:K[0])===null||be===void 0)&&be.includes(oe)?oe+12-$:oe-$;break;case Qt.ArrowDown:we=_c(ue,$),je=!((pe=K==null?void 0:K[K.length-1])===null||pe===void 0)&&pe.includes(oe)?oe-12+$:oe+$;break}return{newCalculatedDate:we,newCalculatedMonth:je}},ee=function(q,ue,oe){for(var be=40,pe=q,we=!1,je=0,ye=Q(pe,ue,oe),Me=ye.newCalculatedDate,le=ye.newCalculatedMonth;!we;){if(je>=be){Me=ue,le=oe;break}if(D&&Me<D){pe=Qt.ArrowRight;var _e=Q(pe,Me,le);Me=_e.newCalculatedDate,le=_e.newCalculatedMonth}if(j&&Me>j){pe=Qt.ArrowLeft;var _e=Q(pe,Me,le);Me=_e.newCalculatedDate,le=_e.newCalculatedMonth}if(sZ(Me,s.props)){var _e=Q(pe,Me,le);Me=_e.newCalculatedDate,le=_e.newCalculatedMonth}else we=!0;je++}return{newCalculatedDate:Me,newCalculatedMonth:le}};if(h===Qt.Enter){s.isMonthDisabled(g)||(s.onMonthClick(o,g),S==null||S(v));return}var ne=ee(h,N,g),ce=ne.newCalculatedDate,se=ne.newCalculatedMonth;switch(h){case Qt.ArrowRight:case Qt.ArrowLeft:case Qt.ArrowUp:case Qt.ArrowDown:s.handleMonthNavigation(se,ce);break}}},s.getVerticalOffset=function(o){var h,g;return(g=(h=PC[o])===null||h===void 0?void 0:h.verticalNavigationOffset)!==null&&g!==void 0?g:0},s.onMonthKeyDown=function(o,h){var g=s.props,_=g.disabledKeyboardNavigation,y=g.handleOnMonthKeyDown,v=o.key;v!==Qt.Tab&&o.preventDefault(),_||s.handleKeyboardNavigation(o,v,h),y&&y(o)},s.onQuarterClick=function(o,h){var g=ip(s.props.day,h);$_(g,s.props)||s.handleDayClick(n3(g),o)},s.onQuarterMouseEnter=function(o){var h=ip(s.props.day,o);$_(h,s.props)||s.handleDayMouseEnter(n3(h))},s.handleQuarterNavigation=function(o,h){var g,_,y,v;s.isDisabled(h)||s.isExcluded(h)||((_=(g=s.props).setPreSelection)===null||_===void 0||_.call(g,h),(v=(y=s.QUARTER_REFS[o-1])===null||y===void 0?void 0:y.current)===null||v===void 0||v.focus())},s.onQuarterKeyDown=function(o,h){var g,_,y=o.key;if(!s.props.disabledKeyboardNavigation)switch(y){case Qt.Enter:s.onQuarterClick(o,h),(_=(g=s.props).setPreSelection)===null||_===void 0||_.call(g,s.props.selected);break;case Qt.ArrowRight:if(!s.props.preSelection)break;s.handleQuarterNavigation(h===4?1:h+1,XA(s.props.preSelection,1));break;case Qt.ArrowLeft:if(!s.props.preSelection)break;s.handleQuarterNavigation(h===1?4:h-1,vL(s.props.preSelection));break}},s.isMonthDisabledForLabelDate=function(o){var h,g=s.props,_=g.day,y=g.minDate,v=g.maxDate,N=g.excludeDates,S=g.includeDates,D=Bl(_,o);return{isDisabled:(h=(y||v||N||S)&&LL(D,s.props))!==null&&h!==void 0?h:!1,labelDate:D}},s.isMonthDisabled=function(o){var h=s.isMonthDisabledForLabelDate(o).isDisabled;return h},s.getMonthClassNames=function(o){var h=s.props,g=h.day,_=h.startDate,y=h.endDate,v=h.preSelection,N=h.monthClassName,S=N?N(Bl(g,o)):void 0,D=s.getSelection();return Eo("react-datepicker__month-text","react-datepicker__month-".concat(o),S,{"react-datepicker__month-text--disabled":s.isMonthDisabled(o),"react-datepicker__month-text--selected":D?s.isSelectMonthInList(g,o,D):void 0,"react-datepicker__month-text--keyboard-selected":!s.props.disabledKeyboardNavigation&&v&&s.isSelectedMonth(g,o,v)&&!s.isMonthSelected()&&!s.isMonthDisabled(o),"react-datepicker__month-text--in-selecting-range":s.isInSelectingRangeMonth(o),"react-datepicker__month-text--in-range":_&&y?U_(_,y,o,g):void 0,"react-datepicker__month-text--range-start":s.isRangeStartMonth(o),"react-datepicker__month-text--range-end":s.isRangeEndMonth(o),"react-datepicker__month-text--selecting-range-start":s.isSelectingMonthRangeStart(o),"react-datepicker__month-text--selecting-range-end":s.isSelectingMonthRangeEnd(o),"react-datepicker__month-text--today":s.isCurrentMonth(g,o)})},s.getTabIndex=function(o){if(s.props.preSelection==null)return"-1";var h=Ko(s.props.preSelection),g=s.isMonthDisabledForLabelDate(h).isDisabled,_=o===h&&!(g||s.props.disabledKeyboardNavigation)?"0":"-1";return _},s.getQuarterTabIndex=function(o){if(s.props.preSelection==null)return"-1";var h=Tm(s.props.preSelection),g=$_(s.props.day,s.props),_=o===h&&!(g||s.props.disabledKeyboardNavigation)?"0":"-1";return _},s.getAriaLabel=function(o){var h=s.props,g=h.chooseDayAriaLabelPrefix,_=g===void 0?"Choose":g,y=h.disabledDayAriaLabelPrefix,v=y===void 0?"Not available":y,N=h.day,S=h.locale,D=Bl(N,o),j=s.isDisabled(D)||s.isExcluded(D)?v:_;return"".concat(j," ").concat(xr(D,"MMMM yyyy",S))},s.getQuarterClassNames=function(o){var h=s.props,g=h.day,_=h.startDate,y=h.endDate,v=h.selected,N=h.minDate,S=h.maxDate,D=h.excludeDates,j=h.includeDates,B=h.filterDate,F=h.preSelection,H=h.disabledKeyboardNavigation,$=(N||S||D||j||B)&&$_(ip(g,o),s.props);return Eo("react-datepicker__quarter-text","react-datepicker__quarter-".concat(o),{"react-datepicker__quarter-text--disabled":$,"react-datepicker__quarter-text--selected":v?s.isSelectedQuarter(g,o,v):void 0,"react-datepicker__quarter-text--keyboard-selected":!H&&F&&s.isSelectedQuarter(g,o,F)&&!$,"react-datepicker__quarter-text--in-selecting-range":s.isInSelectingRangeQuarter(o),"react-datepicker__quarter-text--in-range":_&&y?W_(_,y,o,g):void 0,"react-datepicker__quarter-text--range-start":s.isRangeStartQuarter(o),"react-datepicker__quarter-text--range-end":s.isRangeEndQuarter(o),"react-datepicker__quarter-text--today":s.isCurrentQuarter(g,o)})},s.getMonthContent=function(o){var h=s.props,g=h.showFullMonthYearPicker,_=h.renderMonthContent,y=h.locale,v=h.day,N=OL(o,y),S=d1(o,y);return _?_(o,N,S,v):g?S:N},s.getQuarterContent=function(o){var h,g=s.props,_=g.renderQuarterContent,y=g.locale,v=rZ(o,y);return(h=_==null?void 0:_(o,v))!==null&&h!==void 0?h:v},s.renderMonths=function(){var o,h=s.props,g=h.showTwoColumnMonthYearPicker,_=h.showFourColumnMonthYearPicker,y=h.day,v=h.selected,N=(o=PC[b3(_,g)])===null||o===void 0?void 0:o.grid;return N==null?void 0:N.map(function(S,D){return tt.createElement("div",{className:"react-datepicker__month-wrapper",key:D},S.map(function(j,B){return tt.createElement("div",{ref:s.MONTH_REFS[j],key:B,onClick:function(F){s.onMonthClick(F,j)},onKeyDown:function(F){RL(F)&&(F.preventDefault(),F.key=Qt.Enter),s.onMonthKeyDown(F,j)},onMouseEnter:s.props.usePointerEvent?void 0:function(){return s.onMonthMouseEnter(j)},onPointerEnter:s.props.usePointerEvent?function(){return s.onMonthMouseEnter(j)}:void 0,tabIndex:Number(s.getTabIndex(j)),className:s.getMonthClassNames(j),"aria-disabled":s.isMonthDisabled(j),role:"option","aria-label":s.getAriaLabel(j),"aria-current":s.isCurrentMonth(y,j)?"date":void 0,"aria-selected":v?s.isSelectedMonth(y,j,v):void 0},s.getMonthContent(j))}))})},s.renderQuarters=function(){var o=s.props,h=o.day,g=o.selected,_=[1,2,3,4];return tt.createElement("div",{className:"react-datepicker__quarter-wrapper"},_.map(function(y,v){return tt.createElement("div",{key:v,ref:s.QUARTER_REFS[v],role:"option",onClick:function(N){s.onQuarterClick(N,y)},onKeyDown:function(N){s.onQuarterKeyDown(N,y)},onMouseEnter:s.props.usePointerEvent?void 0:function(){return s.onQuarterMouseEnter(y)},onPointerEnter:s.props.usePointerEvent?function(){return s.onQuarterMouseEnter(y)}:void 0,className:s.getQuarterClassNames(y),"aria-selected":g?s.isSelectedQuarter(h,y,g):void 0,tabIndex:Number(s.getQuarterTabIndex(y)),"aria-current":s.isCurrentQuarter(h,y)?"date":void 0},s.getQuarterContent(y))}))},s.getClassNames=function(){var o=s.props,h=o.selectingDate,g=o.selectsStart,_=o.selectsEnd,y=o.showMonthYearPicker,v=o.showQuarterYearPicker,N=o.showWeekPicker;return Eo("react-datepicker__month",{"react-datepicker__month--selecting-range":h&&(g||_)},{"react-datepicker__monthPicker":y},{"react-datepicker__quarterPicker":v},{"react-datepicker__weekPicker":N})},s}return c.prototype.getSelection=function(){var s=this.props,o=s.selected,h=s.selectedDates,g=s.selectsMultiple;if(g)return h;if(o)return[o]},c.prototype.render=function(){var s=this.props,o=s.showMonthYearPicker,h=s.showQuarterYearPicker,g=s.day,_=s.ariaLabelPrefix,y=_===void 0?"Month ":_,v=y?y.trim()+" ":"";return tt.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(v).concat(xr(g,"MMMM, yyyy",this.props.locale)),role:"listbox"},o?this.renderMonths():h?this.renderQuarters():this.renderWeeks())},c}(I.Component),wZ=function(l){co(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.isSelectedMonth=function(o){return s.props.month===o},s.renderOptions=function(){return s.props.monthNames.map(function(o,h){return tt.createElement("div",{className:s.isSelectedMonth(h)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:o,onClick:s.onChange.bind(s,h),"aria-selected":s.isSelectedMonth(h)?"true":void 0},s.isSelectedMonth(h)?tt.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",o)})},s.onChange=function(o){return s.props.onChange(o)},s.handleClickOutside=function(){return s.props.onCancel()},s}return c.prototype.render=function(){return tt.createElement(gw,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},c}(I.Component),yZ=function(l){co(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.state={dropdownVisible:!1},s.renderSelectOptions=function(o){return o.map(function(h,g){return tt.createElement("option",{key:h,value:g},h)})},s.renderSelectMode=function(o){return tt.createElement("select",{value:s.props.month,className:"react-datepicker__month-select",onChange:function(h){return s.onChange(parseInt(h.target.value))}},s.renderSelectOptions(o))},s.renderReadView=function(o,h){return tt.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:s.toggleDropdown},tt.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),tt.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},h[s.props.month]))},s.renderDropdown=function(o){return tt.createElement(wZ,ji({key:"dropdown"},s.props,{monthNames:o,onChange:s.onChange,onCancel:s.toggleDropdown}))},s.renderScrollMode=function(o){var h=s.state.dropdownVisible,g=[s.renderReadView(!h,o)];return h&&g.unshift(s.renderDropdown(o)),g},s.onChange=function(o){s.toggleDropdown(),o!==s.props.month&&s.props.onChange(o)},s.toggleDropdown=function(){return s.setState({dropdownVisible:!s.state.dropdownVisible})},s}return c.prototype.render=function(){var s=this,o=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(g){return OL(g,s.props.locale)}:function(g){return d1(g,s.props.locale)}),h;switch(this.props.dropdownMode){case"scroll":h=this.renderScrollMode(o);break;case"select":h=this.renderSelectMode(o);break}return tt.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},h)},c}(I.Component);function xZ(l,c){for(var s=[],o=pu(l),h=pu(c);!kh(o,h);)s.push(Vi(o)),o=_c(o,1);return s}var CZ=function(l){co(c,l);function c(s){var o=l.call(this,s)||this;return o.renderOptions=function(){return o.state.monthYearsList.map(function(h){var g=pA(h),_=ud(o.props.date,h)&&pa(o.props.date,h);return tt.createElement("div",{className:_?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:g,onClick:o.onChange.bind(o,g),"aria-selected":_?"true":void 0},_?tt.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",xr(h,o.props.dateFormat,o.props.locale))})},o.onChange=function(h){return o.props.onChange(h)},o.handleClickOutside=function(){o.props.onCancel()},o.state={monthYearsList:xZ(o.props.minDate,o.props.maxDate)},o}return c.prototype.render=function(){var s=Eo({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return tt.createElement(gw,{className:s,onClickOutside:this.handleClickOutside},this.renderOptions())},c}(I.Component),AZ=function(l){co(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.state={dropdownVisible:!1},s.renderSelectOptions=function(){for(var o=pu(s.props.minDate),h=pu(s.props.maxDate),g=[];!kh(o,h);){var _=pA(o);g.push(tt.createElement("option",{key:_,value:_},xr(o,s.props.dateFormat,s.props.locale))),o=_c(o,1)}return g},s.onSelectChange=function(o){s.onChange(parseInt(o.target.value))},s.renderSelectMode=function(){return tt.createElement("select",{value:pA(pu(s.props.date)),className:"react-datepicker__month-year-select",onChange:s.onSelectChange},s.renderSelectOptions())},s.renderReadView=function(o){var h=xr(s.props.date,s.props.dateFormat,s.props.locale);return tt.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:s.toggleDropdown},tt.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),tt.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},h))},s.renderDropdown=function(){return tt.createElement(CZ,ji({key:"dropdown"},s.props,{onChange:s.onChange,onCancel:s.toggleDropdown}))},s.renderScrollMode=function(){var o=s.state.dropdownVisible,h=[s.renderReadView(!o)];return o&&h.unshift(s.renderDropdown()),h},s.onChange=function(o){s.toggleDropdown();var h=Vi(o);ud(s.props.date,h)&&pa(s.props.date,h)||s.props.onChange(h)},s.toggleDropdown=function(){return s.setState({dropdownVisible:!s.state.dropdownVisible})},s}return c.prototype.render=function(){var s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode();break;case"select":s=this.renderSelectMode();break}return tt.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},s)},c}(I.Component),NZ=function(l){co(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.state={height:null},s.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var o,h,g;s.list&&(s.list.scrollTop=(g=s.centerLi&&c.calcCenterPosition(s.props.monthRef?s.props.monthRef.clientHeight-((h=(o=s.header)===null||o===void 0?void 0:o.clientHeight)!==null&&h!==void 0?h:0):s.list.clientHeight,s.centerLi))!==null&&g!==void 0?g:0)})},s.handleClick=function(o){var h,g;(s.props.minTime||s.props.maxTime)&&a3(o,s.props)||(s.props.excludeTimes||s.props.includeTimes||s.props.filterTime)&&o3(o,s.props)||(g=(h=s.props).onChange)===null||g===void 0||g.call(h,o)},s.isSelectedTime=function(o){return s.props.selected&&fZ(s.props.selected,o)},s.isDisabledTime=function(o){return(s.props.minTime||s.props.maxTime)&&a3(o,s.props)||(s.props.excludeTimes||s.props.includeTimes||s.props.filterTime)&&o3(o,s.props)},s.liClasses=function(o){var h,g=["react-datepicker__time-list-item",s.props.timeClassName?s.props.timeClassName(o):void 0];return s.isSelectedTime(o)&&g.push("react-datepicker__time-list-item--selected"),s.isDisabledTime(o)&&g.push("react-datepicker__time-list-item--disabled"),s.props.injectTimes&&(mu(o)*3600+fu(o)*60+gh(o))%(((h=s.props.intervals)!==null&&h!==void 0?h:c.defaultProps.intervals)*60)!==0&&g.push("react-datepicker__time-list-item--injected"),g.join(" ")},s.handleOnKeyDown=function(o,h){var g,_;o.key===Qt.Space&&(o.preventDefault(),o.key=Qt.Enter),(o.key===Qt.ArrowUp||o.key===Qt.ArrowLeft)&&o.target instanceof HTMLElement&&o.target.previousSibling&&(o.preventDefault(),o.target.previousSibling instanceof HTMLElement&&o.target.previousSibling.focus()),(o.key===Qt.ArrowDown||o.key===Qt.ArrowRight)&&o.target instanceof HTMLElement&&o.target.nextSibling&&(o.preventDefault(),o.target.nextSibling instanceof HTMLElement&&o.target.nextSibling.focus()),o.key===Qt.Enter&&s.handleClick(h),(_=(g=s.props).handleOnKeyDown)===null||_===void 0||_.call(g,o)},s.renderTimes=function(){for(var o,h=[],g=typeof s.props.format=="string"?s.props.format:"p",_=(o=s.props.intervals)!==null&&o!==void 0?o:c.defaultProps.intervals,y=s.props.selected||s.props.openToDate||Vi(),v=lv(y),N=s.props.injectTimes&&s.props.injectTimes.sort(function($,K){return $.getTime()-K.getTime()}),S=60*mZ(y),D=S/_,j=0;j<D;j++){var B=hA(v,j*_);if(h.push(B),N){var F=hZ(v,B,j,_,N);h=h.concat(F)}}var H=h.reduce(function($,K){return K.getTime()<=y.getTime()?K:$},h[0]);return h.map(function($){return tt.createElement("li",{key:$.valueOf(),onClick:s.handleClick.bind(s,$),className:s.liClasses($),ref:function(K){$===H&&(s.centerLi=K)},onKeyDown:function(K){s.handleOnKeyDown(K,$)},tabIndex:$===H?0:-1,role:"option","aria-selected":s.isSelectedTime($)?"true":void 0,"aria-disabled":s.isDisabledTime($)?"true":void 0},xr($,g,s.props.locale))})},s.renderTimeCaption=function(){return s.props.showTimeCaption===!1?tt.createElement(tt.Fragment,null):tt.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(s.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(o){s.header=o}},tt.createElement("div",{className:"react-datepicker-time__header"},s.props.timeCaption))},s}return Object.defineProperty(c,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),c.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},c.prototype.componentWillUnmount=function(){var s;(s=this.resizeObserver)===null||s===void 0||s.disconnect()},c.prototype.observeDatePickerHeightChanges=function(){var s=this,o=this.props.monthRef;this.updateContainerHeight(),o&&(this.resizeObserver=new ResizeObserver(function(){s.updateContainerHeight()}),this.resizeObserver.observe(o))},c.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},c.prototype.render=function(){var s=this,o,h=this.state.height;return tt.createElement("div",{className:"react-datepicker__time-container ".concat(((o=this.props.todayButton)!==null&&o!==void 0?o:c.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),tt.createElement("div",{className:"react-datepicker__time"},tt.createElement("div",{className:"react-datepicker__time-box"},tt.createElement("ul",{className:"react-datepicker__time-list",ref:function(g){s.list=g},style:h?{height:h}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},c.calcCenterPosition=function(s,o){return o.offsetTop-(s/2-o.clientHeight/2)},c}(I.Component),k3=3,EZ=function(l){co(c,l);function c(s){var o=l.call(this,s)||this;return o.YEAR_REFS=fd([],Array(o.props.yearItemNumber),!0).map(function(){return I.createRef()}),o.isDisabled=function(h){return Pl(h,{minDate:o.props.minDate,maxDate:o.props.maxDate,excludeDates:o.props.excludeDates,includeDates:o.props.includeDates,filterDate:o.props.filterDate})},o.isExcluded=function(h){return u1(h,{excludeDates:o.props.excludeDates})},o.selectingDate=function(){var h;return(h=o.props.selectingDate)!==null&&h!==void 0?h:o.props.preSelection},o.updateFocusOnPaginate=function(h){var g=function(){var _,y;(y=(_=o.YEAR_REFS[h])===null||_===void 0?void 0:_.current)===null||y===void 0||y.focus()};window.requestAnimationFrame(g)},o.handleYearClick=function(h,g){o.props.onDayClick&&o.props.onDayClick(h,g)},o.handleYearNavigation=function(h,g){var _,y,v,N,S=o.props,D=S.date,j=S.yearItemNumber;if(!(D===void 0||j===void 0)){var B=ph(D,j).startPeriod;o.isDisabled(g)||o.isExcluded(g)||((y=(_=o.props).setPreSelection)===null||y===void 0||y.call(_,g),h-B<0?o.updateFocusOnPaginate(j-(B-h)):h-B>=j?o.updateFocusOnPaginate(Math.abs(j-(h-B))):(N=(v=o.YEAR_REFS[h-B])===null||v===void 0?void 0:v.current)===null||N===void 0||N.focus())}},o.isSameDay=function(h,g){return Si(h,g)},o.isCurrentYear=function(h){return h===oi(Vi())},o.isRangeStart=function(h){return o.props.startDate&&o.props.endDate&&ud(dd(Vi(),h),o.props.startDate)},o.isRangeEnd=function(h){return o.props.startDate&&o.props.endDate&&ud(dd(Vi(),h),o.props.endDate)},o.isInRange=function(h){return q_(h,o.props.startDate,o.props.endDate)},o.isInSelectingRange=function(h){var g=o.props,_=g.selectsStart,y=g.selectsEnd,v=g.selectsRange,N=g.startDate,S=g.endDate;return!(_||y||v)||!o.selectingDate()?!1:_&&S?q_(h,o.selectingDate(),S):y&&N||v&&N&&!S?q_(h,N,o.selectingDate()):!1},o.isSelectingRangeStart=function(h){var g;if(!o.isInSelectingRange(h))return!1;var _=o.props,y=_.startDate,v=_.selectsStart,N=dd(Vi(),h);return v?ud(N,(g=o.selectingDate())!==null&&g!==void 0?g:null):ud(N,y??null)},o.isSelectingRangeEnd=function(h){var g;if(!o.isInSelectingRange(h))return!1;var _=o.props,y=_.endDate,v=_.selectsEnd,N=_.selectsRange,S=dd(Vi(),h);return v||N?ud(S,(g=o.selectingDate())!==null&&g!==void 0?g:null):ud(S,y??null)},o.isKeyboardSelected=function(h){if(!(o.props.date===void 0||o.props.selected==null||o.props.preSelection==null)){var g=o.props,_=g.minDate,y=g.maxDate,v=g.excludeDates,N=g.includeDates,S=g.filterDate,D=sb(dd(o.props.date,h)),j=(_||y||v||N||S)&&cv(h,o.props);return!o.props.disabledKeyboardNavigation&&!o.props.inline&&!Si(D,sb(o.props.selected))&&Si(D,sb(o.props.preSelection))&&!j}},o.isSelectedYear=function(h){var g=o.props,_=g.selectsMultiple,y=g.selected,v=g.selectedDates;return _?v==null?void 0:v.some(function(N){return h===oi(N)}):!!y&&h===oi(y)},o.onYearClick=function(h,g){var _=o.props.date;_!==void 0&&o.handleYearClick(sb(dd(_,g)),h)},o.onYearKeyDown=function(h,g){var _,y,v=h.key,N=o.props,S=N.date,D=N.yearItemNumber,j=N.handleOnKeyDown;if(v!==Qt.Tab&&h.preventDefault(),!o.props.disabledKeyboardNavigation)switch(v){case Qt.Enter:if(o.props.selected==null)break;o.onYearClick(h,g),(y=(_=o.props).setPreSelection)===null||y===void 0||y.call(_,o.props.selected);break;case Qt.ArrowRight:if(o.props.preSelection==null)break;o.handleYearNavigation(g+1,uu(o.props.preSelection,1));break;case Qt.ArrowLeft:if(o.props.preSelection==null)break;o.handleYearNavigation(g-1,lp(o.props.preSelection,1));break;case Qt.ArrowUp:{if(S===void 0||D===void 0||o.props.preSelection==null)break;var B=ph(S,D).startPeriod,F=k3,H=g-F;if(H<B){var $=D%F;g>=B&&g<B+$?F=$:F+=$,H=g-F}o.handleYearNavigation(H,lp(o.props.preSelection,F));break}case Qt.ArrowDown:{if(S===void 0||D===void 0||o.props.preSelection==null)break;var K=ph(S,D).endPeriod,F=k3,H=g+F;if(H>K){var $=D%F;g<=K&&g>K-$?F=$:F+=$,H=g+F}o.handleYearNavigation(H,uu(o.props.preSelection,F));break}}j&&j(h)},o.getYearClassNames=function(h){var g=o.props,_=g.date,y=g.minDate,v=g.maxDate,N=g.excludeDates,S=g.includeDates,D=g.filterDate,j=g.yearClassName;return Eo("react-datepicker__year-text","react-datepicker__year-".concat(h),_?j==null?void 0:j(dd(_,h)):void 0,{"react-datepicker__year-text--selected":o.isSelectedYear(h),"react-datepicker__year-text--disabled":(y||v||N||S||D)&&cv(h,o.props),"react-datepicker__year-text--keyboard-selected":o.isKeyboardSelected(h),"react-datepicker__year-text--range-start":o.isRangeStart(h),"react-datepicker__year-text--range-end":o.isRangeEnd(h),"react-datepicker__year-text--in-range":o.isInRange(h),"react-datepicker__year-text--in-selecting-range":o.isInSelectingRange(h),"react-datepicker__year-text--selecting-range-start":o.isSelectingRangeStart(h),"react-datepicker__year-text--selecting-range-end":o.isSelectingRangeEnd(h),"react-datepicker__year-text--today":o.isCurrentYear(h)})},o.getYearTabIndex=function(h){if(o.props.disabledKeyboardNavigation||o.props.preSelection==null)return"-1";var g=oi(o.props.preSelection),_=cv(h,o.props);return h===g&&!_?"0":"-1"},o.getYearContent=function(h){return o.props.renderYearContent?o.props.renderYearContent(h):h},o}return c.prototype.render=function(){var s=this,o=[],h=this.props,g=h.date,_=h.yearItemNumber,y=h.onYearMouseEnter,v=h.onYearMouseLeave;if(g===void 0)return null;for(var N=ph(g,_),S=N.startPeriod,D=N.endPeriod,j=function(H){o.push(tt.createElement("div",{ref:B.YEAR_REFS[H-S],onClick:function($){s.onYearClick($,H)},onKeyDown:function($){RL($)&&($.preventDefault(),$.key=Qt.Enter),s.onYearKeyDown($,H)},tabIndex:Number(B.getYearTabIndex(H)),className:B.getYearClassNames(H),onMouseEnter:B.props.usePointerEvent?void 0:function($){return y($,H)},onPointerEnter:B.props.usePointerEvent?function($){return y($,H)}:void 0,onMouseLeave:B.props.usePointerEvent?void 0:function($){return v($,H)},onPointerLeave:B.props.usePointerEvent?function($){return v($,H)}:void 0,key:H,"aria-current":B.isCurrentYear(H)?"date":void 0},B.getYearContent(H)))},B=this,F=S;F<=D;F++)j(F);return tt.createElement("div",{className:"react-datepicker__year"},tt.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},o))},c}(I.Component);function SZ(l,c,s,o){for(var h=[],g=0;g<2*c+1;g++){var _=l+c-g,y=!0;s&&(y=oi(s)<=_),o&&y&&(y=oi(o)>=_),y&&h.push(_)}return h}var jZ=function(l){co(c,l);function c(s){var o=l.call(this,s)||this;o.renderOptions=function(){var y=o.props.year,v=o.state.yearsList.map(function(D){return tt.createElement("div",{className:y===D?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:D,onClick:o.onChange.bind(o,D),"aria-selected":y===D?"true":void 0},y===D?tt.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",D)}),N=o.props.minDate?oi(o.props.minDate):null,S=o.props.maxDate?oi(o.props.maxDate):null;return(!S||!o.state.yearsList.find(function(D){return D===S}))&&v.unshift(tt.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:o.incrementYears},tt.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!N||!o.state.yearsList.find(function(D){return D===N}))&&v.push(tt.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:o.decrementYears},tt.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),v},o.onChange=function(y){o.props.onChange(y)},o.handleClickOutside=function(){o.props.onCancel()},o.shiftYears=function(y){var v=o.state.yearsList.map(function(N){return N+y});o.setState({yearsList:v})},o.incrementYears=function(){return o.shiftYears(1)},o.decrementYears=function(){return o.shiftYears(-1)};var h=s.yearDropdownItemNumber,g=s.scrollableYearDropdown,_=h||(g?10:5);return o.state={yearsList:SZ(o.props.year,_,o.props.minDate,o.props.maxDate)},o.dropdownRef=I.createRef(),o}return c.prototype.componentDidMount=function(){var s=this.dropdownRef.current;if(s){var o=s.children?Array.from(s.children):null,h=o?o.find(function(g){return g.ariaSelected}):null;s.scrollTop=h&&h instanceof HTMLElement?h.offsetTop+(h.clientHeight-s.clientHeight)/2:(s.scrollHeight-s.clientHeight)/2}},c.prototype.render=function(){var s=Eo({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return tt.createElement(gw,{className:s,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},c}(I.Component),DZ=function(l){co(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.state={dropdownVisible:!1},s.renderSelectOptions=function(){for(var o=s.props.minDate?oi(s.props.minDate):1900,h=s.props.maxDate?oi(s.props.maxDate):2100,g=[],_=o;_<=h;_++)g.push(tt.createElement("option",{key:_,value:_},_));return g},s.onSelectChange=function(o){s.onChange(parseInt(o.target.value))},s.renderSelectMode=function(){return tt.createElement("select",{value:s.props.year,className:"react-datepicker__year-select",onChange:s.onSelectChange},s.renderSelectOptions())},s.renderReadView=function(o){return tt.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(h){return s.toggleDropdown(h)}},tt.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),tt.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},s.props.year))},s.renderDropdown=function(){return tt.createElement(jZ,ji({key:"dropdown"},s.props,{onChange:s.onChange,onCancel:s.toggleDropdown}))},s.renderScrollMode=function(){var o=s.state.dropdownVisible,h=[s.renderReadView(!o)];return o&&h.unshift(s.renderDropdown()),h},s.onChange=function(o){s.toggleDropdown(),o!==s.props.year&&s.props.onChange(o)},s.toggleDropdown=function(o){s.setState({dropdownVisible:!s.state.dropdownVisible},function(){s.props.adjustDateOnChange&&s.handleYearChange(s.props.date,o)})},s.handleYearChange=function(o,h){var g;(g=s.onSelect)===null||g===void 0||g.call(s,o,h),s.setOpen()},s.onSelect=function(o,h){var g,_;(_=(g=s.props).onSelect)===null||_===void 0||_.call(g,o,h)},s.setOpen=function(){var o,h;(h=(o=s.props).setOpen)===null||h===void 0||h.call(o,!0)},s}return c.prototype.render=function(){var s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode();break;case"select":s=this.renderSelectMode();break}return tt.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},s)},c}(I.Component),TZ=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],MZ=function(l){var c=(l.className||"").split(/\s+/);return TZ.some(function(s){return c.indexOf(s)>=0})},IZ=function(l){co(c,l);function c(s){var o=l.call(this,s)||this;return o.monthContainer=void 0,o.handleClickOutside=function(h){o.props.onClickOutside(h)},o.setClickOutsideRef=function(){return o.containerRef.current},o.handleDropdownFocus=function(h){var g,_;MZ(h.target)&&((_=(g=o.props).onDropdownFocus)===null||_===void 0||_.call(g,h))},o.getDateInView=function(){var h=o.props,g=h.preSelection,_=h.selected,y=h.openToDate,v=BL(o.props),N=PL(o.props),S=Vi(),D=y||_||g;return D||(v&&Bm(S,v)?v:N&&kh(S,N)?N:S)},o.increaseMonth=function(){o.setState(function(h){var g=h.date;return{date:_c(g,1)}},function(){return o.handleMonthChange(o.state.date)})},o.decreaseMonth=function(){o.setState(function(h){var g=h.date;return{date:Mm(g,1)}},function(){return o.handleMonthChange(o.state.date)})},o.handleDayClick=function(h,g,_){o.props.onSelect(h,g,_),o.props.setPreSelection&&o.props.setPreSelection(h)},o.handleDayMouseEnter=function(h){o.setState({selectingDate:h}),o.props.onDayMouseEnter&&o.props.onDayMouseEnter(h)},o.handleMonthMouseLeave=function(){o.setState({selectingDate:void 0}),o.props.onMonthMouseLeave&&o.props.onMonthMouseLeave()},o.handleYearMouseEnter=function(h,g){o.setState({selectingDate:dd(Vi(),g)}),o.props.onYearMouseEnter&&o.props.onYearMouseEnter(h,g)},o.handleYearMouseLeave=function(h,g){o.props.onYearMouseLeave&&o.props.onYearMouseLeave(h,g)},o.handleYearChange=function(h){var g,_,y,v;(_=(g=o.props).onYearChange)===null||_===void 0||_.call(g,h),o.setState({isRenderAriaLiveMessage:!0}),o.props.adjustDateOnChange&&(o.props.onSelect(h),(v=(y=o.props).setOpen)===null||v===void 0||v.call(y,!0)),o.props.setPreSelection&&o.props.setPreSelection(h)},o.getEnabledPreSelectionDateForMonth=function(h){if(!Pl(h,o.props))return h;for(var g=pu(h),_=eZ(h),y=uY(_,g),v=null,N=0;N<=y;N++){var S=kc(g,N);if(!Pl(S,o.props)){v=S;break}}return v},o.handleMonthChange=function(h){var g,_,y,v=(g=o.getEnabledPreSelectionDateForMonth(h))!==null&&g!==void 0?g:h;o.handleCustomMonthChange(v),o.props.adjustDateOnChange&&(o.props.onSelect(v),(y=(_=o.props).setOpen)===null||y===void 0||y.call(_,!0)),o.props.setPreSelection&&o.props.setPreSelection(v)},o.handleCustomMonthChange=function(h){var g,_;(_=(g=o.props).onMonthChange)===null||_===void 0||_.call(g,h),o.setState({isRenderAriaLiveMessage:!0})},o.handleMonthYearChange=function(h){o.handleYearChange(h),o.handleMonthChange(h)},o.changeYear=function(h){o.setState(function(g){var _=g.date;return{date:dd(_,Number(h))}},function(){return o.handleYearChange(o.state.date)})},o.changeMonth=function(h){o.setState(function(g){var _=g.date;return{date:Bl(_,Number(h))}},function(){return o.handleMonthChange(o.state.date)})},o.changeMonthYear=function(h){o.setState(function(g){var _=g.date;return{date:dd(Bl(_,Ko(h)),oi(h))}},function(){return o.handleMonthYearChange(o.state.date)})},o.header=function(h){h===void 0&&(h=o.state.date);var g=bh(h,o.props.locale,o.props.calendarStartDay),_=[];return o.props.showWeekNumbers&&_.push(tt.createElement("div",{key:"W",className:"react-datepicker__day-name"},o.props.weekLabel||"#")),_.concat([0,1,2,3,4,5,6].map(function(y){var v=kc(g,y),N=o.formatWeekday(v,o.props.locale),S=o.props.weekDayClassName?o.props.weekDayClassName(v):void 0;return tt.createElement("div",{key:y,"aria-label":xr(v,"EEEE",o.props.locale),className:Eo("react-datepicker__day-name",S)},N)}))},o.formatWeekday=function(h,g){return o.props.formatWeekDay?tZ(h,o.props.formatWeekDay,g):o.props.useWeekdaysShort?iZ(h,g):nZ(h,g)},o.decreaseYear=function(){o.setState(function(h){var g,_=h.date;return{date:lp(_,o.props.showYearPicker?(g=o.props.yearItemNumber)!==null&&g!==void 0?g:c.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.clearSelectingDate=function(){o.setState({selectingDate:void 0})},o.renderPreviousButton=function(){var h,g,_;if(!o.props.renderCustomHeader){var y=(h=o.props.monthsShown)!==null&&h!==void 0?h:c.defaultProps.monthsShown,v=o.props.showPreviousMonths?y-1:0,N=(g=o.props.monthSelectedIn)!==null&&g!==void 0?g:v,S=Mm(o.state.date,N),D;switch(!0){case o.props.showMonthYearPicker:D=d3(o.state.date,o.props);break;case o.props.showYearPicker:D=lZ(o.state.date,o.props);break;case o.props.showQuarterYearPicker:D=oZ(o.state.date,o.props);break;default:D=l3(S,o.props);break}if(!(!((_=o.props.forceShowMonthNavigation)!==null&&_!==void 0?_:c.defaultProps.forceShowMonthNavigation)&&!o.props.showDisabledMonthNavigation&&D||o.props.showTimeSelectOnly)){var j=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],B=["react-datepicker__navigation","react-datepicker__navigation--previous"],F=o.decreaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(F=o.decreaseYear),D&&o.props.showDisabledMonthNavigation&&(B.push("react-datepicker__navigation--previous--disabled"),F=void 0);var H=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,$=o.props,K=$.previousMonthButtonLabel,Q=K===void 0?c.defaultProps.previousMonthButtonLabel:K,ee=$.previousYearButtonLabel,ne=ee===void 0?c.defaultProps.previousYearButtonLabel:ee,ce=o.props,se=ce.previousMonthAriaLabel,q=se===void 0?typeof Q=="string"?Q:"Previous Month":se,ue=ce.previousYearAriaLabel,oe=ue===void 0?typeof ne=="string"?ne:"Previous Year":ue;return tt.createElement("button",{type:"button",className:B.join(" "),onClick:F,onKeyDown:o.props.handleOnKeyDown,"aria-label":H?oe:q},tt.createElement("span",{className:j.join(" ")},H?ne:Q))}}},o.increaseYear=function(){o.setState(function(h){var g,_=h.date;return{date:uu(_,o.props.showYearPicker?(g=o.props.yearItemNumber)!==null&&g!==void 0?g:c.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.renderNextButton=function(){var h;if(!o.props.renderCustomHeader){var g;switch(!0){case o.props.showMonthYearPicker:g=u3(o.state.date,o.props);break;case o.props.showYearPicker:g=cZ(o.state.date,o.props);break;case o.props.showQuarterYearPicker:g=aZ(o.state.date,o.props);break;default:g=c3(o.state.date,o.props);break}if(!(!((h=o.props.forceShowMonthNavigation)!==null&&h!==void 0?h:c.defaultProps.forceShowMonthNavigation)&&!o.props.showDisabledMonthNavigation&&g||o.props.showTimeSelectOnly)){var _=["react-datepicker__navigation","react-datepicker__navigation--next"],y=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];o.props.showTimeSelect&&_.push("react-datepicker__navigation--next--with-time"),o.props.todayButton&&_.push("react-datepicker__navigation--next--with-today-button");var v=o.increaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(v=o.increaseYear),g&&o.props.showDisabledMonthNavigation&&(_.push("react-datepicker__navigation--next--disabled"),v=void 0);var N=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,S=o.props,D=S.nextMonthButtonLabel,j=D===void 0?c.defaultProps.nextMonthButtonLabel:D,B=S.nextYearButtonLabel,F=B===void 0?c.defaultProps.nextYearButtonLabel:B,H=o.props,$=H.nextMonthAriaLabel,K=$===void 0?typeof j=="string"?j:"Next Month":$,Q=H.nextYearAriaLabel,ee=Q===void 0?typeof F=="string"?F:"Next Year":Q;return tt.createElement("button",{type:"button",className:_.join(" "),onClick:v,onKeyDown:o.props.handleOnKeyDown,"aria-label":N?ee:K},tt.createElement("span",{className:y.join(" ")},N?F:j))}}},o.renderCurrentMonth=function(h){h===void 0&&(h=o.state.date);var g=["react-datepicker__current-month"];return o.props.showYearDropdown&&g.push("react-datepicker__current-month--hasYearDropdown"),o.props.showMonthDropdown&&g.push("react-datepicker__current-month--hasMonthDropdown"),o.props.showMonthYearDropdown&&g.push("react-datepicker__current-month--hasMonthYearDropdown"),tt.createElement("h2",{className:g.join(" ")},xr(h,o.props.dateFormat,o.props.locale))},o.renderYearDropdown=function(h){if(h===void 0&&(h=!1),!(!o.props.showYearDropdown||h))return tt.createElement(DZ,ji({},c.defaultProps,o.props,{date:o.state.date,onChange:o.changeYear,year:oi(o.state.date)}))},o.renderMonthDropdown=function(h){if(h===void 0&&(h=!1),!(!o.props.showMonthDropdown||h))return tt.createElement(yZ,ji({},c.defaultProps,o.props,{month:Ko(o.state.date),onChange:o.changeMonth}))},o.renderMonthYearDropdown=function(h){if(h===void 0&&(h=!1),!(!o.props.showMonthYearDropdown||h))return tt.createElement(AZ,ji({},c.defaultProps,o.props,{date:o.state.date,onChange:o.changeMonthYear}))},o.handleTodayButtonClick=function(h){o.props.onSelect(i3(),h),o.props.setPreSelection&&o.props.setPreSelection(i3())},o.renderTodayButton=function(){if(!(!o.props.todayButton||o.props.showTimeSelectOnly))return tt.createElement("div",{className:"react-datepicker__today-button",onClick:o.handleTodayButtonClick},o.props.todayButton)},o.renderDefaultHeader=function(h){var g=h.monthDate,_=h.i;return tt.createElement("div",{className:"react-datepicker__header ".concat(o.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},o.renderCurrentMonth(g),tt.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(o.props.dropdownMode),onFocus:o.handleDropdownFocus},o.renderMonthDropdown(_!==0),o.renderMonthYearDropdown(_!==0),o.renderYearDropdown(_!==0)),tt.createElement("div",{className:"react-datepicker__day-names"},o.header(g)))},o.renderCustomHeader=function(h){var g,_,y=h.monthDate,v=h.i;if(o.props.showTimeSelect&&!o.state.monthContainer||o.props.showTimeSelectOnly)return null;var N=l3(o.state.date,o.props),S=c3(o.state.date,o.props),D=d3(o.state.date,o.props),j=u3(o.state.date,o.props),B=!o.props.showMonthYearPicker&&!o.props.showQuarterYearPicker&&!o.props.showYearPicker;return tt.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:o.props.onDropdownFocus},(_=(g=o.props).renderCustomHeader)===null||_===void 0?void 0:_.call(g,ji(ji({},o.state),{customHeaderCount:v,monthDate:y,changeMonth:o.changeMonth,changeYear:o.changeYear,decreaseMonth:o.decreaseMonth,increaseMonth:o.increaseMonth,decreaseYear:o.decreaseYear,increaseYear:o.increaseYear,prevMonthButtonDisabled:N,nextMonthButtonDisabled:S,prevYearButtonDisabled:D,nextYearButtonDisabled:j})),B&&tt.createElement("div",{className:"react-datepicker__day-names"},o.header(y)))},o.renderYearHeader=function(h){var g=h.monthDate,_=o.props,y=_.showYearPicker,v=_.yearItemNumber,N=v===void 0?c.defaultProps.yearItemNumber:v,S=ph(g,N),D=S.startPeriod,j=S.endPeriod;return tt.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},y?"".concat(D," - ").concat(j):oi(g))},o.renderHeader=function(h){var g=h.monthDate,_=h.i,y=_===void 0?0:_,v={monthDate:g,i:y};switch(!0){case o.props.renderCustomHeader!==void 0:return o.renderCustomHeader(v);case(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker):return o.renderYearHeader(v);default:return o.renderDefaultHeader(v)}},o.renderMonths=function(){var h,g;if(!(o.props.showTimeSelectOnly||o.props.showYearPicker)){for(var _=[],y=(h=o.props.monthsShown)!==null&&h!==void 0?h:c.defaultProps.monthsShown,v=o.props.showPreviousMonths?y-1:0,N=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?uu(o.state.date,v):Mm(o.state.date,v),S=(g=o.props.monthSelectedIn)!==null&&g!==void 0?g:v,D=0;D<y;++D){var j=D-S+v,B=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?uu(N,j):_c(N,j),F="month-".concat(D),H=D<y-1,$=D>0;_.push(tt.createElement("div",{key:F,ref:function(K){o.monthContainer=K??void 0},className:"react-datepicker__month-container"},o.renderHeader({monthDate:B,i:D}),tt.createElement(vZ,ji({},c.defaultProps,o.props,{containerRef:o.containerRef,ariaLabelPrefix:o.props.monthAriaLabelPrefix,day:B,onDayClick:o.handleDayClick,handleOnKeyDown:o.props.handleOnDayKeyDown,handleOnMonthKeyDown:o.props.handleOnKeyDown,onDayMouseEnter:o.handleDayMouseEnter,onMouseLeave:o.handleMonthMouseLeave,orderInDisplay:D,selectingDate:o.state.selectingDate,monthShowsDuplicateDaysEnd:H,monthShowsDuplicateDaysStart:$}))))}return _}},o.renderYears=function(){if(!o.props.showTimeSelectOnly&&o.props.showYearPicker)return tt.createElement("div",{className:"react-datepicker__year--container"},o.renderHeader({monthDate:o.state.date}),tt.createElement(EZ,ji({},c.defaultProps,o.props,{selectingDate:o.state.selectingDate,date:o.state.date,onDayClick:o.handleDayClick,clearSelectingDate:o.clearSelectingDate,onYearMouseEnter:o.handleYearMouseEnter,onYearMouseLeave:o.handleYearMouseLeave})))},o.renderTimeSection=function(){if(o.props.showTimeSelect&&(o.state.monthContainer||o.props.showTimeSelectOnly))return tt.createElement(NZ,ji({},c.defaultProps,o.props,{onChange:o.props.onTimeChange,format:o.props.timeFormat,intervals:o.props.timeIntervals,monthRef:o.state.monthContainer}))},o.renderInputTimeSection=function(){var h=o.props.selected?new Date(o.props.selected):void 0,g=h&&bw(h)&&!!o.props.selected,_=g?"".concat(m3(h.getHours()),":").concat(m3(h.getMinutes())):"";if(o.props.showTimeInput)return tt.createElement(pZ,ji({},c.defaultProps,o.props,{date:h,timeString:_,onChange:o.props.onTimeChange}))},o.renderAriaLiveRegion=function(){var h,g=ph(o.state.date,(h=o.props.yearItemNumber)!==null&&h!==void 0?h:c.defaultProps.yearItemNumber),_=g.startPeriod,y=g.endPeriod,v;return o.props.showYearPicker?v="".concat(_," - ").concat(y):o.props.showMonthYearPicker||o.props.showQuarterYearPicker?v=oi(o.state.date):v="".concat(d1(Ko(o.state.date),o.props.locale)," ").concat(oi(o.state.date)),tt.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},o.state.isRenderAriaLiveMessage&&v)},o.renderChildren=function(){if(o.props.children)return tt.createElement("div",{className:"react-datepicker__children-container"},o.props.children)},o.containerRef=I.createRef(),o.state={date:o.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},o}return Object.defineProperty(c,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Mb}},enumerable:!1,configurable:!0}),c.prototype.componentDidMount=function(){var s=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){s.setState({monthContainer:s.monthContainer})}())},c.prototype.componentDidUpdate=function(s){var o=this;if(this.props.preSelection&&(!Si(this.props.preSelection,s.preSelection)||this.props.monthSelectedIn!==s.monthSelectedIn)){var h=!pa(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return h&&o.handleCustomMonthChange(o.state.date)})}else this.props.openToDate&&!Si(this.props.openToDate,s.openToDate)&&this.setState({date:this.props.openToDate})},c.prototype.render=function(){var s=this.props.container||YQ;return tt.createElement(gw,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},tt.createElement("div",{style:{display:"contents"},ref:this.containerRef},tt.createElement(s,{className:Eo("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},c}(I.Component),OZ=function(l){var c=l.icon,s=l.className,o=s===void 0?"":s,h=l.onClick,g="react-datepicker__calendar-icon";if(typeof c=="string")return tt.createElement("i",{className:"".concat(g," ").concat(c," ").concat(o),"aria-hidden":"true",onClick:h});if(tt.isValidElement(c)){var _=c;return tt.cloneElement(_,{className:"".concat(_.props.className||""," ").concat(g," ").concat(o),onClick:function(y){typeof _.props.onClick=="function"&&_.props.onClick(y),typeof h=="function"&&h(y)}})}return tt.createElement("svg",{className:"".concat(g," ").concat(o),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:h},tt.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},zL=function(l){co(c,l);function c(s){var o=l.call(this,s)||this;return o.portalRoot=null,o.el=document.createElement("div"),o}return c.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},c.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},c.prototype.render=function(){return xm.createPortal(this.props.children,this.el)},c}(I.Component),LZ="[tabindex], a, button, input, select, textarea",BZ=function(l){return(l instanceof HTMLAnchorElement||!l.disabled)&&l.tabIndex!==-1},FL=function(l){co(c,l);function c(s){var o=l.call(this,s)||this;return o.getTabChildren=function(){var h;return Array.prototype.slice.call((h=o.tabLoopRef.current)===null||h===void 0?void 0:h.querySelectorAll(LZ),1,-1).filter(BZ)},o.handleFocusStart=function(){var h=o.getTabChildren();h&&h.length>1&&h[h.length-1].focus()},o.handleFocusEnd=function(){var h=o.getTabChildren();h&&h.length>1&&h[0].focus()},o.tabLoopRef=I.createRef(),o}return c.prototype.render=function(){var s;return((s=this.props.enableTabLoop)!==null&&s!==void 0?s:c.defaultProps.enableTabLoop)?tt.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},tt.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,tt.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},c.defaultProps={enableTabLoop:!0},c}(I.Component);function PZ(l){var c=function(s){var o,h=typeof s.hidePopper=="boolean"?s.hidePopper:!0,g=I.useRef(null),_=WQ(ji({open:!h,whileElementsMounted:CQ,placement:s.popperPlacement,middleware:fd([IQ({padding:15}),MQ(10),OQ({element:g})],(o=s.popperModifiers)!==null&&o!==void 0?o:[],!0)},s.popperProps)),y=ji(ji({},s),{hidePopper:h,popperProps:ji(ji({},_),{arrowRef:g})});return tt.createElement(l,ji({},y))};return c}var RZ=function(l){co(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(c,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),c.prototype.render=function(){var s=this.props,o=s.className,h=s.wrapperClassName,g=s.hidePopper,_=g===void 0?c.defaultProps.hidePopper:g,y=s.popperComponent,v=s.targetComponent,N=s.enableTabLoop,S=s.popperOnKeyDown,D=s.portalId,j=s.portalHost,B=s.popperProps,F=s.showArrow,H=void 0;if(!_){var $=Eo("react-datepicker-popper",o);H=tt.createElement(FL,{enableTabLoop:N},tt.createElement("div",{ref:B.refs.setFloating,style:B.floatingStyles,className:$,"data-placement":B.placement,onKeyDown:S},y,F&&tt.createElement(zQ,{ref:B.arrowRef,context:B.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(H=I.createElement(this.props.popperContainer,{},H)),D&&!_&&(H=tt.createElement(zL,{portalId:D,portalHost:j},H));var K=Eo("react-datepicker-wrapper",h);return tt.createElement(tt.Fragment,null,tt.createElement("div",{ref:B.refs.setReference,className:K},v),H)},c}(I.Component),zZ=PZ(RZ),_3="react-datepicker-ignore-onclickoutside";function FZ(l,c){return l&&c?Ko(l)!==Ko(c)||oi(l)!==oi(c):l!==c}var RC="Date input not valid.",Iv=function(l){co(c,l);function c(s){var o=l.call(this,s)||this;return o.calendar=null,o.input=null,o.getPreSelection=function(){return o.props.openToDate?o.props.openToDate:o.props.selectsEnd&&o.props.startDate?o.props.startDate:o.props.selectsStart&&o.props.endDate?o.props.endDate:Vi()},o.modifyHolidays=function(){var h;return(h=o.props.holidays)===null||h===void 0?void 0:h.reduce(function(g,_){var y=new Date(_.date);return bw(y)?fd(fd([],g,!0),[ji(ji({},_),{date:y})],!1):g},[])},o.calcInitialState=function(){var h,g=o.getPreSelection(),_=BL(o.props),y=PL(o.props),v=_&&Bm(g,lv(_))?_:y&&kh(g,r3(y))?y:g;return{open:o.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(h=o.props.selectsRange?o.props.startDate:o.props.selected)!==null&&h!==void 0?h:v,highlightDates:h3(o.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},o.resetHiddenStatus=function(){o.setState(ji(ji({},o.state),{wasHidden:!1}))},o.setHiddenStatus=function(){o.setState(ji(ji({},o.state),{wasHidden:!0}))},o.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&o.setHiddenStatus()},o.clearPreventFocusTimeout=function(){o.preventFocusTimeout&&clearTimeout(o.preventFocusTimeout)},o.setFocus=function(){var h,g;(g=(h=o.input)===null||h===void 0?void 0:h.focus)===null||g===void 0||g.call(h,{preventScroll:!0})},o.setBlur=function(){var h,g;(g=(h=o.input)===null||h===void 0?void 0:h.blur)===null||g===void 0||g.call(h),o.cancelFocusInput()},o.deferBlur=function(){requestAnimationFrame(function(){o.setBlur()})},o.setOpen=function(h,g){g===void 0&&(g=!1),o.setState({open:h,preSelection:h&&o.state.open?o.state.preSelection:o.calcInitialState().preSelection,lastPreSelectChange:zC},function(){h||o.setState(function(_){return{focused:g?_.focused:!1}},function(){!g&&o.deferBlur(),o.setState({inputValue:null})})})},o.inputOk=function(){return hu(o.state.preSelection)},o.isCalendarOpen=function(){return o.props.open===void 0?o.state.open&&!o.props.disabled&&!o.props.readOnly:o.props.open},o.handleFocus=function(h){var g,_,y=o.state.wasHidden,v=y?o.state.open:!0;y&&o.resetHiddenStatus(),o.state.preventFocus||((_=(g=o.props).onFocus)===null||_===void 0||_.call(g,h),v&&!o.props.preventOpenOnFocus&&!o.props.readOnly&&o.setOpen(!0)),o.setState({focused:!0})},o.sendFocusBackToInput=function(){o.preventFocusTimeout&&o.clearPreventFocusTimeout(),o.setState({preventFocus:!0},function(){o.preventFocusTimeout=setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})})},o.cancelFocusInput=function(){clearTimeout(o.inputFocusTimeout),o.inputFocusTimeout=void 0},o.deferFocusInput=function(){o.cancelFocusInput(),o.inputFocusTimeout=setTimeout(function(){return o.setFocus()},1)},o.handleDropdownFocus=function(){o.cancelFocusInput()},o.handleBlur=function(h){var g,_;(!o.state.open||o.props.withPortal||o.props.showTimeInput)&&((_=(g=o.props).onBlur)===null||_===void 0||_.call(g,h)),o.state.open&&o.props.open===!1&&o.setOpen(!1),o.setState({focused:!1})},o.handleCalendarClickOutside=function(h){var g,_;o.props.inline||o.setOpen(!1),(_=(g=o.props).onClickOutside)===null||_===void 0||_.call(g,h),o.props.withPortal&&h.preventDefault()},o.handleChange=function(){for(var h,g,_,y,v,N=[],S=0;S<arguments.length;S++)N[S]=arguments[S];var D=N[0];if(!(o.props.onChangeRaw&&(o.props.onChangeRaw.apply(o,N),!D||typeof D.isDefaultPrevented!="function"||D.isDefaultPrevented()))){o.setState({inputValue:(D==null?void 0:D.target)instanceof HTMLInputElement?D.target.value:null,lastPreSelectChange:VZ});var j=o.props,B=j.selectsRange,F=j.startDate,H=j.endDate,$=(h=o.props.dateFormat)!==null&&h!==void 0?h:c.defaultProps.dateFormat,K=(g=o.props.strictParsing)!==null&&g!==void 0?g:c.defaultProps.strictParsing,Q=(D==null?void 0:D.target)instanceof HTMLInputElement?D.target.value:"";if(B){var ee=Q.split($.includes("-")?IL:"-",2).map(function(pe){return pe.trim()}),ne=ee[0],ce=ee[1],se=LC(ne??"",$,o.props.locale,K),q=LC(ce??"",$,o.props.locale,K),ue=(F==null?void 0:F.getTime())!==(se==null?void 0:se.getTime()),oe=(H==null?void 0:H.getTime())!==(q==null?void 0:q.getTime());if(!ue&&!oe||se&&Pl(se,o.props)||q&&Pl(q,o.props))return;(y=(_=o.props).onChange)===null||y===void 0||y.call(_,[se,q],D)}else{var be=LC(Q,$,o.props.locale,K,(v=o.props.selected)!==null&&v!==void 0?v:void 0);(be||!Q)&&o.setSelected(be,D,!0)}}},o.handleSelect=function(h,g,_){if(!o.props.readOnly){if(o.props.shouldCloseOnSelect&&!o.props.showTimeSelect&&o.sendFocusBackToInput(),o.props.onChangeRaw&&o.props.onChangeRaw(g),o.setSelected(h,g,!1,_),o.props.showDateSelect&&o.setState({isRenderAriaLiveMessage:!0}),!o.props.shouldCloseOnSelect||o.props.showTimeSelect)o.setPreSelection(h);else if(!o.props.inline){o.props.selectsRange||o.setOpen(!1);var y=o.props,v=y.startDate,N=y.endDate;v&&!N&&(o.props.swapRange||!g3(h,v))&&o.setOpen(!1)}}},o.setSelected=function(h,g,_,y){var v,N,S=h;if(o.props.showYearPicker){if(S!==null&&cv(oi(S),o.props))return}else if(o.props.showMonthYearPicker){if(S!==null&&LL(S,o.props))return}else if(S!==null&&Pl(S,o.props))return;var D=o.props,j=D.onChange,B=D.selectsRange,F=D.startDate,H=D.endDate,$=D.selectsMultiple,K=D.selectedDates,Q=D.minTime,ee=D.swapRange;if(!Em(o.props.selected,S)||o.props.allowSameDay||B||$)if(S!==null&&(o.props.selected&&(!_||!o.props.showTimeSelect&&!o.props.showTimeSelectOnly&&!o.props.showTimeInput)&&(S=BC(S,{hour:mu(o.props.selected),minute:fu(o.props.selected),second:gh(o.props.selected)})),!_&&(o.props.showTimeSelect||o.props.showTimeSelectOnly)&&Q&&(S=BC(S,{hour:Q.getHours(),minute:Q.getMinutes(),second:Q.getSeconds()})),o.props.inline||o.setState({preSelection:S}),o.props.focusSelectedMonth||o.setState({monthSelectedIn:y})),B){var ne=!F&&!H,ce=F&&!H,se=F&&H;ne?j==null||j([S,null],g):ce&&(S===null?j==null||j([null,null],g):g3(S,F)?ee?j==null||j([S,F],g):j==null||j([S,null],g):j==null||j([F,S],g)),se&&(j==null||j([S,null],g))}else if($){if(S!==null)if(!(K!=null&&K.length))j==null||j([S],g);else{var q=K.some(function(oe){return Si(oe,S)});if(q){var ue=K.filter(function(oe){return!Si(oe,S)});j==null||j(ue,g)}else j==null||j(fd(fd([],K,!0),[S],!1),g)}}else j==null||j(S,g);_||((N=(v=o.props).onSelect)===null||N===void 0||N.call(v,S,g),o.setState({inputValue:null}))},o.setPreSelection=function(h){if(!o.props.readOnly){var g=hu(o.props.minDate),_=hu(o.props.maxDate),y=!0;if(h){var v=lv(h);if(g&&_)y=ob(h,o.props.minDate,o.props.maxDate);else if(g){var N=lv(o.props.minDate);y=kh(h,N)||Em(v,N)}else if(_){var S=r3(o.props.maxDate);y=Bm(h,S)||Em(v,S)}}y&&o.setState({preSelection:h})}},o.toggleCalendar=function(){o.setOpen(!o.state.open)},o.handleTimeChange=function(h){var g,_;if(!(o.props.selectsRange||o.props.selectsMultiple)){var y=o.props.selected?o.props.selected:o.getPreSelection(),v=o.props.selected?h:BC(y,{hour:mu(h),minute:fu(h)});o.setState({preSelection:v}),(_=(g=o.props).onChange)===null||_===void 0||_.call(g,v),o.props.shouldCloseOnSelect&&!o.props.showTimeInput&&(o.sendFocusBackToInput(),o.setOpen(!1)),o.props.showTimeInput&&o.setOpen(!0),(o.props.showTimeSelectOnly||o.props.showTimeSelect)&&o.setState({isRenderAriaLiveMessage:!0}),o.setState({inputValue:null})}},o.onInputClick=function(){var h,g;!o.props.disabled&&!o.props.readOnly&&o.setOpen(!0),(g=(h=o.props).onInputClick)===null||g===void 0||g.call(h)},o.onInputKeyDown=function(h){var g,_,y,v,N,S;(_=(g=o.props).onKeyDown)===null||_===void 0||_.call(g,h);var D=h.key;if(!o.state.open&&!o.props.inline&&!o.props.preventOpenOnFocus){(D===Qt.ArrowDown||D===Qt.ArrowUp||D===Qt.Enter)&&((y=o.onInputClick)===null||y===void 0||y.call(o));return}if(o.state.open){if(D===Qt.ArrowDown||D===Qt.ArrowUp){h.preventDefault();var j=o.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":o.props.showWeekPicker&&o.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':o.props.showFullMonthYearPicker||o.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',B=((v=o.calendar)===null||v===void 0?void 0:v.containerRef.current)instanceof Element&&o.calendar.containerRef.current.querySelector(j);B instanceof HTMLElement&&B.focus({preventScroll:!0});return}var F=Vi(o.state.preSelection);D===Qt.Enter?(h.preventDefault(),h.target.blur(),o.inputOk()&&o.state.lastPreSelectChange===zC?(o.handleSelect(F,h),!o.props.shouldCloseOnSelect&&o.setPreSelection(F)):o.setOpen(!1)):D===Qt.Escape?(h.preventDefault(),h.target.blur(),o.sendFocusBackToInput(),o.setOpen(!1)):D===Qt.Tab&&o.setOpen(!1),o.inputOk()||(S=(N=o.props).onInputError)===null||S===void 0||S.call(N,{code:1,msg:RC})}},o.onPortalKeyDown=function(h){var g=h.key;g===Qt.Escape&&(h.preventDefault(),o.setState({preventFocus:!0},function(){o.setOpen(!1),setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})}))},o.onDayKeyDown=function(h){var g,_,y,v,N,S,D=o.props,j=D.minDate,B=D.maxDate,F=D.disabledKeyboardNavigation,H=D.showWeekPicker,$=D.shouldCloseOnSelect,K=D.locale,Q=D.calendarStartDay,ee=D.adjustDateOnChange,ne=D.inline;if((_=(g=o.props).onKeyDown)===null||_===void 0||_.call(g,h),!F){var ce=h.key,se=h.shiftKey,q=Vi(o.state.preSelection),ue=function(Me,le){var _e=le;switch(Me){case Qt.ArrowRight:_e=H?wv(le,1):kc(le,1);break;case Qt.ArrowLeft:_e=H?qI(le):uK(le);break;case Qt.ArrowUp:_e=qI(le);break;case Qt.ArrowDown:_e=wv(le,1);break;case Qt.PageUp:_e=se?lp(le,1):Mm(le,1);break;case Qt.PageDown:_e=se?uu(le,1):_c(le,1);break;case Qt.Home:_e=bh(le,K,Q);break;case Qt.End:_e=JQ(le);break}return _e},oe=function(Me,le){for(var _e=40,me=Me,Ee=!1,Z=0,fe=ue(Me,le);!Ee;){if(Z>=_e){fe=le;break}j&&fe<j&&(me=Qt.ArrowRight,fe=Pl(j,o.props)?ue(me,fe):j),B&&fe>B&&(me=Qt.ArrowLeft,fe=Pl(B,o.props)?ue(me,fe):B),Pl(fe,o.props)?((me===Qt.PageUp||me===Qt.Home)&&(me=Qt.ArrowRight),(me===Qt.PageDown||me===Qt.End)&&(me=Qt.ArrowLeft),fe=ue(me,fe)):Ee=!0,Z++}return fe};if(ce===Qt.Enter){h.preventDefault(),o.handleSelect(q,h),!$&&o.setPreSelection(q);return}else if(ce===Qt.Escape){h.preventDefault(),o.setOpen(!1),o.inputOk()||(v=(y=o.props).onInputError)===null||v===void 0||v.call(y,{code:1,msg:RC});return}var be=null;switch(ce){case Qt.ArrowLeft:case Qt.ArrowRight:case Qt.ArrowUp:case Qt.ArrowDown:case Qt.PageUp:case Qt.PageDown:case Qt.Home:case Qt.End:be=oe(ce,q);break}if(!be){(S=(N=o.props).onInputError)===null||S===void 0||S.call(N,{code:1,msg:RC});return}if(h.preventDefault(),o.setState({lastPreSelectChange:zC}),ee&&o.setSelected(be),o.setPreSelection(be),ne){var pe=Ko(q),we=Ko(be),je=oi(q),ye=oi(be);pe!==we||je!==ye?o.setState({shouldFocusDayInline:!0}):o.setState({shouldFocusDayInline:!1})}}},o.onPopperKeyDown=function(h){var g=h.key;g===Qt.Escape&&(h.preventDefault(),o.sendFocusBackToInput(),o.setOpen(!1))},o.onClearClick=function(h){h&&h.preventDefault&&h.preventDefault(),o.sendFocusBackToInput();var g=o.props,_=g.selectsRange,y=g.onChange;_?y==null||y([null,null],h):y==null||y(null,h),o.setState({inputValue:null})},o.clear=function(){o.onClearClick()},o.onScroll=function(h){typeof o.props.closeOnScroll=="boolean"&&o.props.closeOnScroll?(h.target===document||h.target===document.documentElement||h.target===document.body)&&o.setOpen(!1):typeof o.props.closeOnScroll=="function"&&o.props.closeOnScroll(h)&&o.setOpen(!1)},o.renderCalendar=function(){var h,g;return!o.props.inline&&!o.isCalendarOpen()?null:tt.createElement(IZ,ji({showMonthYearDropdown:void 0,ref:function(_){o.calendar=_}},o.props,o.state,{setOpen:o.setOpen,dateFormat:(h=o.props.dateFormatCalendar)!==null&&h!==void 0?h:c.defaultProps.dateFormatCalendar,onSelect:o.handleSelect,onClickOutside:o.handleCalendarClickOutside,holidays:uZ(o.modifyHolidays()),outsideClickIgnoreClass:_3,onDropdownFocus:o.handleDropdownFocus,onTimeChange:o.handleTimeChange,className:o.props.calendarClassName,container:o.props.calendarContainer,handleOnKeyDown:o.props.onKeyDown,handleOnDayKeyDown:o.onDayKeyDown,setPreSelection:o.setPreSelection,dropdownMode:(g=o.props.dropdownMode)!==null&&g!==void 0?g:c.defaultProps.dropdownMode}),o.props.children)},o.renderAriaLiveRegion=function(){var h=o.props,g=h.dateFormat,_=g===void 0?c.defaultProps.dateFormat:g,y=h.locale,v=o.props.showTimeInput||o.props.showTimeSelect,N=v?"PPPPp":"PPPP",S;return o.props.selectsRange?S="Selected start date: ".concat(Ll(o.props.startDate,{dateFormat:N,locale:y}),". ").concat(o.props.endDate?"End date: "+Ll(o.props.endDate,{dateFormat:N,locale:y}):""):o.props.showTimeSelectOnly?S="Selected time: ".concat(Ll(o.props.selected,{dateFormat:_,locale:y})):o.props.showYearPicker?S="Selected year: ".concat(Ll(o.props.selected,{dateFormat:"yyyy",locale:y})):o.props.showMonthYearPicker?S="Selected month: ".concat(Ll(o.props.selected,{dateFormat:"MMMM yyyy",locale:y})):o.props.showQuarterYearPicker?S="Selected quarter: ".concat(Ll(o.props.selected,{dateFormat:"yyyy, QQQ",locale:y})):S="Selected date: ".concat(Ll(o.props.selected,{dateFormat:N,locale:y})),tt.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},S)},o.renderDateInput=function(){var h,g,_,y=Eo(o.props.className,(h={},h[_3]=o.state.open,h)),v=o.props.customInput||tt.createElement("input",{type:"text"}),N=o.props.customInputRef||"ref",S=o.props,D=S.dateFormat,j=D===void 0?c.defaultProps.dateFormat:D,B=S.locale,F=typeof o.props.value=="string"?o.props.value:typeof o.state.inputValue=="string"?o.state.inputValue:o.props.selectsRange?KQ(o.props.startDate,o.props.endDate,{dateFormat:j,locale:B}):o.props.selectsMultiple?QQ((_=o.props.selectedDates)!==null&&_!==void 0?_:[],{dateFormat:j,locale:B}):Ll(o.props.selected,{dateFormat:j,locale:B});return I.cloneElement(v,(g={},g[N]=function(H){o.input=H},g.value=F,g.onBlur=o.handleBlur,g.onChange=o.handleChange,g.onClick=o.onInputClick,g.onFocus=o.handleFocus,g.onKeyDown=o.onInputKeyDown,g.id=o.props.id,g.name=o.props.name,g.form=o.props.form,g.autoFocus=o.props.autoFocus,g.placeholder=o.props.placeholderText,g.disabled=o.props.disabled,g.autoComplete=o.props.autoComplete,g.className=Eo(v.props.className,y),g.title=o.props.title,g.readOnly=o.props.readOnly,g.required=o.props.required,g.tabIndex=o.props.tabIndex,g["aria-describedby"]=o.props.ariaDescribedBy,g["aria-invalid"]=o.props.ariaInvalid,g["aria-labelledby"]=o.props.ariaLabelledBy,g["aria-required"]=o.props.ariaRequired,g))},o.renderClearButton=function(){var h=o.props,g=h.isClearable,_=h.disabled,y=h.selected,v=h.startDate,N=h.endDate,S=h.clearButtonTitle,D=h.clearButtonClassName,j=D===void 0?"":D,B=h.ariaLabelClose,F=B===void 0?"Close":B,H=h.selectedDates,$=h.readOnly;return g&&!$&&(y!=null||v!=null||N!=null||H!=null&&H.length)?tt.createElement("button",{type:"button",className:Eo("react-datepicker__close-icon",j,{"react-datepicker__close-icon--disabled":_}),disabled:_,"aria-label":F,onClick:o.onClearClick,title:S,tabIndex:-1}):null},o.state=o.calcInitialState(),o.preventFocusTimeout=void 0,o}return Object.defineProperty(c,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Mb,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),c.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},c.prototype.componentDidUpdate=function(s,o){var h,g,_,y;s.inline&&FZ(s.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&s.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),s.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:h3(this.props.highlightDates)}),!o.focused&&!Em(s.selected,this.props.selected)&&this.setState({inputValue:null}),o.open!==this.state.open&&(o.open===!1&&this.state.open===!0&&((g=(h=this.props).onCalendarOpen)===null||g===void 0||g.call(h)),o.open===!0&&this.state.open===!1&&((y=(_=this.props).onCalendarClose)===null||y===void 0||y.call(_)))},c.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},c.prototype.renderInputContainer=function(){var s=this.props,o=s.showIcon,h=s.icon,g=s.calendarIconClassname,_=s.calendarIconClassName,y=s.toggleCalendarOnIconClick,v=this.state.open;return g&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),tt.createElement("div",{className:"react-datepicker__input-container".concat(o?" react-datepicker__view-calendar-icon":"")},o&&tt.createElement(OZ,ji({icon:h,className:Eo(_,!_&&g,v&&"react-datepicker-ignore-onclickoutside")},y?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},c.prototype.render=function(){var s=this.renderCalendar();if(this.props.inline)return s;if(this.props.withPortal){var o=this.state.open?tt.createElement(FL,{enableTabLoop:this.props.enableTabLoop},tt.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},s)):null;return this.state.open&&this.props.portalId&&(o=tt.createElement(zL,ji({portalId:this.props.portalId},this.props),o)),tt.createElement("div",null,this.renderInputContainer(),o)}return tt.createElement(zZ,ji({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:s,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},c}(I.Component),VZ="input",zC="navigate";const Zg="/tours",G_="/tour-likes",FC="/tour-ratings",bb={getAll:(l={role:"ADMIN"})=>Ft.get(Zg,{params:l}),getById:l=>Ft.get(`${Zg}/${l}`),getUserTours:l=>Ft.get(`${Zg}/user/${l}`),cloneTour:(l,c)=>Ft.post(`${Zg}/${l}/clone`,{user_id:c}),like:l=>Ft.post(`${G_}/like`,{tour_id:l}),unlike:l=>Ft.post(`${G_}/unlike`,{tour_id:l}),isLiked:l=>Ft.get(`${G_}/is-liked`,{params:{tour_id:l}}),countLikes:l=>Ft.get(`${G_}/count`,{params:{tour_id:l}}),rate:(l,c)=>Ft.post(`${FC}/rate`,{tour_id:l,rating:c}),getAverageRating:l=>Ft.get(`${FC}/average`,{params:{tour_id:l}}),getUserRating:l=>Ft.get(`${FC}/user`,{params:{tour_id:l}}),bookTour:(l,c,s,o,h)=>Ft.post(`${Zg}/${l}/book`,{user_id:c,start_date:s,end_date:o,spots:h}),getUserBookedTours:l=>Ft.get(`/bookings/user/${l}`)},_m="https://walkingguide.onrender.com";function Xg(l,c){const s=[];for(let o=0;o<l.length;o+=c)s.push(l.slice(o,o+c));return s}function HZ(){const{t:l}=vh(),[c,s]=I.useState([]),[o,h]=I.useState([]),[g,_]=I.useState([]),[y,v]=I.useState([]),[N,S]=I.useState([]),[D,j]=I.useState(!0),[B,F]=I.useState(null),[H,$]=I.useState(!1),[K,Q]=I.useState(!1),[ee,ne]=I.useState(""),[ce,se]=I.useState([]),[q,ue]=I.useState(null),[oe,be]=I.useState(-1),[pe,we]=I.useState(!1),[je,ye]=I.useState(null),[Me,le]=I.useState(!1),[_e,me]=I.useState(!1),[Ee,Z]=I.useState(!1),[fe,ke]=I.useState(!1),Be=I.useRef(),[Ve,nt]=I.useState(!1),[te,Ce]=I.useState(!1),[qe,Ke]=I.useState(!1),[Ie,rt]=I.useState(null),[Ye,Te]=I.useState(null),[ht,ze]=I.useState(null),[ut,Rt]=I.useState(""),[Jt,ot]=I.useState(!1),[jt,Dt]=I.useState(null),[Qe,Mt]=I.useState(""),[Lt,$e]=I.useState(""),[bt,$t]=I.useState(null),[mn,Rn]=I.useState(""),{user:yn}=I.useContext(cs),ai=Ue=>Ue?Ue.startsWith("http")?Ue:`${_m}${Ue}`:null,br=async()=>{var Ue,qt;if(Rt(""),!Ye||!ht){Rt("Vui lòng chọn cả ngày bắt đầu và kết thúc.");return}if(ht<Ye){Rt("Ngày kết thúc phải sau ngày bắt đầu.");return}if(!yn||!yn.id){Rt("Bạn cần đăng nhập để đặt tour.");return}try{await bb.bookTour(Ie.id,yn.id,Ye,ht),Ke(!1),alert("Đặt tour thành công!")}catch(lt){Rt(((qt=(Ue=lt==null?void 0:lt.response)==null?void 0:Ue.data)==null?void 0:qt.error)||"Lỗi khi đặt tour. Vui lòng thử lại.")}};I.useEffect(()=>{(async()=>{try{j(!0);const[qt,lt,on,Re,Ot]=await Promise.all([Ft.get("/places"),Ft.get("/tours?adminOnly=true"),Ft.get("/articles"),Ft.get("/hotels"),Ft.get("/restaurants")]);s(qt.data),h(lt.data),_(on.data),v(Re.data.data),S(Ot.data.data)}catch{F("Không thể tải dữ liệu. Vui lòng thử lại.")}finally{j(!1)}})()},[]);const Ar=Array.isArray(c)?[...c].sort((Ue,qt)=>new Date(qt.updated_at||0)-new Date(Ue.updated_at||0)):[],er=Array.isArray(o)?[...o].sort((Ue,qt)=>new Date(qt.updated_at||0)-new Date(Ue.updated_at||0)):[],Ii=Array.isArray(g)?[...g].sort((Ue,qt)=>new Date(qt.updated_at||0)-new Date(Ue.updated_at||0)):[],ii=Array.isArray(y)?[...y].sort((Ue,qt)=>(qt.rating||0)-(Ue.rating||0)):[],Jn=Array.isArray(N)?[...N].sort((Ue,qt)=>(qt.rating||0)-(Ue.rating||0)):[];Array.from(new Set(c.map(Ue=>Ue.city).filter(Boolean)));const Br=Ue=>{const qt=Ue.target.value;ne(qt),se(qt?c.filter(lt=>lt.name.toLowerCase().includes(qt.toLowerCase())):[]),be(-1)},fi=Ue=>{ue(Ue),ne(Ue.name),se([]),be(-1)},or=Ue=>{ce.length!==0&&(Ue.key==="ArrowDown"?be(qt=>(qt+1)%ce.length):Ue.key==="ArrowUp"?be(qt=>(qt-1+ce.length)%ce.length):Ue.key==="Enter"&&oe>=0&&fi(ce[oe]))},kr=()=>{ne(""),se([]),ue(null),be(-1)},tr=Ue=>{Ue.preventDefault(),ye(null),we(!0)};return i.jsxs(i.Fragment,{children:[i.jsx(Lr,{}),i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsxs("div",{className:"bg-planner-map",id:"planner-section",children:[i.jsxs("section",{className:"hero-with-bg",children:[i.jsx("h1",{children:l("Discover & Plan Your Smart Trip")}),i.jsx("p",{children:l("Find places, create your own itinerary, or let us suggest the perfect trip for you!")}),i.jsx("a",{href:"#planner-section",className:"btn btn-main",children:l("Start Planning")})]}),i.jsxs("div",{className:"row mb-5 g-4 luxury-planner-row justify-content-center",children:[i.jsx("div",{className:"col-12 col-md-6 d-flex justify-content-center mb-4",children:i.jsxs("div",{className:"luxury-card luxury-planner-card manual-homepage p-4 d-flex flex-column align-items-center justify-content-center text-center hover-shadow",style:{maxWidth:"550px",cursor:"pointer"},onClick:()=>nt(!0),children:[i.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2 justify-content-center",children:[i.jsx("h2",{className:"h5 fw-bold mb-0",children:l("Manual Planning")}),i.jsx("i",{className:"bi bi-car-front",style:{fontSize:20,marginLeft:6,color:"#3498db"},"aria-label":"manual icon"})]}),i.jsx("p",{className:"text-muted mb-0",children:l("Want to plan your own trip? Use manual mode to create your custom tour.")})]})}),i.jsx("div",{className:"col-12 col-md-6 d-flex justify-content-center mb-4",children:i.jsxs("div",{className:"luxury-card luxury-planner-card p-4 d-flex flex-column align-items-center justify-content-center text-center hover-shadow",style:{maxWidth:"550px",cursor:"pointer"},onClick:()=>Ce(!0),children:[i.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2 justify-content-center",children:[i.jsx("h2",{className:"h5 fw-bold mb-0",children:l("Auto Planning")}),i.jsx("i",{className:"bi bi-robot",style:{fontSize:20,marginLeft:6,color:"#3498db"},"aria-label":"autopilot icon"})]}),i.jsx("p",{className:"text-muted mb-0",children:l("Want us to create a suitable itinerary? Try auto mode for our suggestions!")})]})})]}),i.jsxs(yt,{show:Ve,onHide:()=>nt(!1),size:"lg",centered:!0,dialogClassName:"luxury-modal",children:[i.jsxs(yt.Header,{closeButton:!0,className:"luxury-modal-header",children:[i.jsx("span",{className:"modal-icon me-2",children:i.jsx("i",{className:"bi bi-pencil-square"})}),i.jsx(yt.Title,{className:"luxury-modal-title",children:l("Manual Planning")})]}),i.jsx(yt.Body,{className:"luxury-modal-body",children:i.jsx(eL,{noLayout:!0})})]}),i.jsxs(yt,{show:te,onHide:()=>Ce(!1),size:"lg",centered:!0,dialogClassName:"luxury-modal",children:[i.jsxs(yt.Header,{closeButton:!0,className:"luxury-modal-header",children:[i.jsx("span",{className:"modal-icon me-2",children:i.jsx("i",{className:"bi bi-robot"})}),i.jsx(yt.Title,{className:"luxury-modal-title",children:l("Auto Planning")})]}),i.jsx(yt.Body,{className:"luxury-modal-body",children:i.jsx(tL,{noLayout:!0})})]}),i.jsxs("section",{className:"mb-6",children:[i.jsxs("h2",{className:"h4 mb-3 fw-bold text-center text-light",children:[l("No plans yet? Explore the travel map!")," ",i.jsx("a",{href:"#",onClick:tr,className:"arrow-link ms-2",style:{textDecoration:"none"},children:i.jsx("i",{className:"bi bi-arrow-right",style:{fontSize:24,verticalAlign:"middle",color:"#fff"}})})]}),i.jsxs("div",{className:"mb-3 position-relative",style:{maxWidth:400,margin:"0 auto"},children:[i.jsxs("div",{className:"input-group shadow rounded-pill",children:[i.jsx("span",{className:"input-group-text bg-white border-0 rounded-start-pill",style:{paddingRight:0},children:i.jsx("i",{className:"bi bi-search text-primary",style:{fontSize:20}})}),i.jsx("input",{type:"text",className:"form-control border-0 rounded-end-pill",placeholder:l("Search for a place..."),value:ee,onChange:Br,onKeyDown:or,style:{boxShadow:"none",background:"white"}}),ee&&i.jsx("button",{className:"btn btn-link px-2",style:{color:"#fff"},onClick:kr,tabIndex:-1,children:i.jsx("i",{className:"bi bi-x-circle",style:{fontSize:20}})})]}),ce.length>0&&i.jsx("ul",{className:"list-group position-absolute shadow-lg rounded-4 mt-1",style:{zIndex:10,width:"100%",overflow:"hidden"},children:ce.map((Ue,qt)=>i.jsxs("li",{className:`list-group-item list-group-item-action d-flex align-items-center gap-2 py-2 px-3 border-0 ${qt===oe?"bg-primary text-white":""}`,onClick:()=>fi(Ue),onMouseEnter:()=>be(qt),style:{cursor:"pointer",fontWeight:500,fontSize:"1rem",borderBottom:qt!==ce.length-1?"1px solid #f1f3f4":"none",background:qt===oe?"#3498db":"white"},children:[i.jsx("i",{className:"bi bi-geo-alt-fill text-primary",style:{fontSize:18,color:qt===oe?"white":"#3498db"}}),i.jsx("span",{children:Ue.name})]},Ue.id))})]}),i.jsx("div",{id:"map-section",className:"card shadow-lg border-0 rounded-4",children:i.jsx("div",{className:"card-body",style:{height:"24rem"},children:i.jsx(T$,{children:i.jsx(nq,{ref:Be,locations:q?[{id:q.id,name:q.name,lat:q.latitude,lng:q.longitude,image_url:q.image_url}]:c.map(Ue=>({id:Ue.id,name:Ue.name,lat:Ue.latitude,lng:Ue.longitude,image_url:Ue.image_url})),hotels:y,restaurants:N,className:"w-100 h-100",selectedPlace:q})})})})]})]}),i.jsx("main",{className:"container flex-grow-1 main-content-mobile",style:{paddingTop:80},children:D?i.jsx("p",{className:"text-muted text-center",children:l("Loading data...")}):B?i.jsx("p",{className:"text-danger text-center",children:B}):i.jsxs(i.Fragment,{children:[i.jsxs("section",{className:"cards-section mb-6",children:[i.jsx("h2",{className:"h4 mb-4 fw-bold luxury-section-title",children:l("Featured Destinations")}),Ar.length===0?i.jsx("p",{className:"text-muted text-center",children:l("No destinations to display.")}):Me?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:Ar.map(Ue=>i.jsx("div",{className:"col",children:i.jsx("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:i.jsxs(en,{to:`/places/${Ue.id||Ue._id}`,className:"text-decoration-none",children:[i.jsx("img",{src:Ue.image_url?Ue.image_url.startsWith("http")?Ue.image_url:`${_m}${Ue.image_url}`:"/default-place.jpg",alt:Ue.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"},onError:qt=>{qt.target.src="/default-place.jpg"}}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:Ue.name}),Ue.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),Ue.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:Ue.description?`${Ue.description.replace(/<[^>]+>/g,"").substring(0,100)}...`:l("No description available")}),Ue.service&&i.jsxs("p",{className:"card-text text-muted mb-2 small",children:[i.jsx("i",{className:"bi bi-activity me-1"}),Ue.service.length>80?`${Ue.service.substring(0,80)}...`:Ue.service]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"luxury-star",style:{color:"#f1c40f",fontSize:18},children:"★"}),i.jsx("span",{style:{fontWeight:600,marginLeft:4},children:Ue.rating?Ue.rating.toFixed(1):"0.0"}),i.jsx("span",{style:{color:"#888",marginLeft:2},children:"/ 5"})]})]})]})})},Ue.id||Ue._id||Ue.name))}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>le(!1),children:l("Show Less")})})]}):i.jsx(i.Fragment,{children:i.jsxs("div",{id:"placesCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[i.jsx("div",{className:"carousel-inner",children:Xg(Ar,3).map((Ue,qt)=>i.jsx("div",{className:`carousel-item${qt===0?" active":""}`,children:i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 justify-content-center",children:Ue.map(lt=>i.jsx("div",{className:"col",children:i.jsx("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:i.jsxs(en,{to:`/places/${lt.id||lt._id}`,className:"text-decoration-none",children:[i.jsx("img",{src:lt.image_url?lt.image_url.startsWith("http")?lt.image_url:`${_m}${lt.image_url}`:"/default-place.jpg",alt:lt.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"},onError:on=>{on.target.src="/default-place.jpg"}}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:lt.name}),lt.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),lt.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:lt.description?`${lt.description.replace(/<[^>]+>/g,"").substring(0,100)}...`:l("No description available")}),lt.service&&i.jsxs("p",{className:"card-text text-muted mb-2 small",children:[i.jsx("i",{className:"bi bi-activity me-1"}),lt.service.length>80?`${lt.service.substring(0,80)}...`:lt.service]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"luxury-star",style:{color:"#f1c40f",fontSize:18},children:"★"}),i.jsx("span",{style:{fontWeight:600,marginLeft:4},children:lt.rating?lt.rating.toFixed(1):"0.0"}),i.jsx("span",{style:{color:"#888",marginLeft:2},children:"/ 5"})]})]})]})})},lt.id||lt._id||lt.name))})},Ue.map(lt=>lt.id||lt._id||lt.name).join("-")))}),i.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#placesCarousel","data-bs-slide":"prev",style:{width:"5rem",height:"5rem",top:"50%",left:"-4rem",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Previous"})]}),i.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#placesCarousel","data-bs-slide":"next",style:{width:"5rem",height:"5rem",top:"50%",right:"-4rem",left:"auto",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Next"})]}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>le(!0),children:l("Explore More")})})]})})]}),i.jsx("hr",{className:"my-5 luxury-divider"}),i.jsxs("section",{className:"cards-section mb-6",children:[i.jsx("h2",{className:"h4 mb-4 fw-bold luxury-section-title",children:l("Trips & Itineraries")}),er.length===0?i.jsx("p",{className:"text-muted",children:l("No tours to display.")}):_e?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:er.map(Ue=>i.jsx("div",{className:"col",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs(en,{to:`/tours/${Ue.id}`,className:"text-decoration-none",children:[Ue.image_url?i.jsx("img",{src:Ue.image_url.startsWith("http")?Ue.image_url:`${_m}${Ue.image_url}`,alt:Ue.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"},onError:qt=>{qt.target.style.display="none"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-map"})}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:Ue.name}),Ue.description&&i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:`${Ue.description.replace(/<[^>]+>/g,"").substring(0,100)}...`}),i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"luxury-star",style:{color:"#f1c40f",fontSize:18},children:"★"}),i.jsx("span",{style:{fontWeight:600,marginLeft:4},children:Ue.rating?Ue.rating.toFixed(1):"0.0"}),i.jsx("span",{style:{color:"#888",marginLeft:2},children:"/ 5"})]}),Ue.total_cost&&i.jsxs("p",{className:"card-text text-muted small mb-0 luxury-rating",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",Ue.total_cost," VND"]})]})]}),i.jsx("div",{className:"px-3 pb-3",children:i.jsx("button",{className:"btn btn-main w-100 mt-2",onClick:()=>{rt(Ue),Ke(!0)},children:l("Start Tour")})})]})},Ue.id))}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>me(!1),children:l("Show Less")})})]}):i.jsx(i.Fragment,{children:i.jsxs("div",{id:"toursCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[i.jsx("div",{className:"carousel-inner",children:Xg(er,3).map((Ue,qt)=>i.jsx("div",{className:`carousel-item${qt===0?" active":""}`,children:i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 justify-content-center",children:Ue.map(lt=>i.jsx("div",{className:"col",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs(en,{to:`/tours/${lt.id}`,className:"text-decoration-none",children:[lt.image_url?i.jsx("img",{src:lt.image_url.startsWith("http")?lt.image_url:`${_m}${lt.image_url}`,alt:lt.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"},onError:on=>{on.target.style.display="none"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-map"})}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:lt.name}),lt.description&&i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:`${lt.description.replace(/<[^>]+>/g,"").substring(0,100)}...`}),i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"luxury-star",style:{color:"#f1c40f",fontSize:18},children:"★"}),i.jsx("span",{style:{fontWeight:600,marginLeft:4},children:lt.rating?lt.rating.toFixed(1):"0.0"}),i.jsx("span",{style:{color:"#888",marginLeft:2},children:"/ 5"})]}),lt.total_cost&&i.jsxs("p",{className:"card-text text-muted small mb-0 luxury-rating",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",lt.total_cost," VND"]})]})]}),i.jsx("div",{className:"px-3 pb-3",children:i.jsx(en,{to:`/tours/${lt.id}`,className:"btn btn-main w-100 mt-2",children:l("Start Tour")})})]})},lt.id))})},Ue.map(lt=>lt.id).join("-")))}),i.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#toursCarousel","data-bs-slide":"prev",style:{width:"5rem",height:"5rem",top:"50%",left:"-4rem",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Previous"})]}),i.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#toursCarousel","data-bs-slide":"next",style:{width:"5rem",height:"5rem",top:"50%",right:"-4rem",left:"auto",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Next"})]}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>me(!0),children:l("Join Now")})})]})})]}),i.jsx("hr",{className:"my-5 luxury-divider"}),i.jsxs("section",{className:"cards-section mb-6",children:[i.jsxs("h2",{className:"h4 mb-4 fw-bold luxury-section-title",children:[i.jsx("i",{className:"bi bi-building me-2"}),l("Top Hotels")]}),ii.length===0?i.jsx("p",{className:"text-muted",children:l("No hotels to display.")}):Ee?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:ii.map(Ue=>i.jsx("div",{className:"col",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs(en,{to:`/hotels/${Ue.id}`,className:"text-decoration-none",style:{display:"block",height:"100%"},children:[i.jsxs("div",{className:"position-relative",children:[Ue.images&&Ue.images.length>0?i.jsxs("div",{id:`hotelCarousel${Ue.id}`,className:"carousel slide","data-bs-ride":"false",children:[i.jsx("div",{className:"carousel-inner",children:Ue.images.map((qt,lt)=>i.jsx("div",{className:`carousel-item${lt===0?" active":""}`,children:i.jsx("img",{src:ai(qt.image_url),alt:qt.caption||Ue.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"},onError:on=>{on.target.src="/default-hotel.jpg"}})},qt.id))}),Ue.images.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#hotelCarousel${Ue.id}`,"data-bs-slide":"prev",children:i.jsx("span",{className:"carousel-control-prev-icon"})}),i.jsx("button",{className:"carousel-control-next",type:"button","data-bs-target":`#hotelCarousel${Ue.id}`,"data-bs-slide":"next",children:i.jsx("span",{className:"carousel-control-next-icon"})})]})]}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-building"})}),i.jsx("div",{className:"position-absolute top-0 end-0 m-2",children:i.jsxs("span",{className:"badge bg-warning text-dark",children:[Ue.stars," ",i.jsx("i",{className:"bi bi-star-fill"})]})})]}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:Ue.name}),Ue.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),Ue.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:Ue.description?`${Ue.description.substring(0,100)}...`:l("No description available")}),i.jsx(zl,{id:Ue.id,type:"hotel"}),Ue.price_range&&i.jsxs("p",{className:"card-text text-muted small mb-0",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",Ue.price_range,Ue.min_price>0&&` (${Ue.min_price.toLocaleString()} VND)`]})]})]}),i.jsx("div",{className:"px-3 pb-3",children:i.jsxs(Ut,{className:"btn btn-main w-100 mt-2 ",onClick:()=>{Dt(Ue),ot(!0)},children:[i.jsx("i",{className:"bi bi-calendar-check me-2"}),"Đặt ngay"]})})]})},Ue.id))}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>Z(!1),children:l("Show Less")})})]}):i.jsx(i.Fragment,{children:i.jsxs("div",{id:"hotelsCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[i.jsx("div",{className:"carousel-inner",children:Xg(ii,3).map((Ue,qt)=>i.jsx("div",{className:`carousel-item${qt===0?" active":""}`,children:i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 justify-content-center",children:Ue.map(lt=>i.jsx("div",{className:"col",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs(en,{to:`/hotels/${lt.id}`,className:"text-decoration-none",style:{display:"block",height:"100%"},children:[i.jsxs("div",{className:"position-relative",children:[lt.images&&lt.images.length>0?i.jsxs("div",{id:`hotelCarousel${lt.id}`,className:"carousel slide","data-bs-ride":"false",children:[i.jsx("div",{className:"carousel-inner",children:lt.images.map((on,Re)=>i.jsx("div",{className:`carousel-item${Re===0?" active":""}`,children:i.jsx("img",{src:ai(on.image_url),alt:on.caption||lt.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"},onError:Ot=>{Ot.target.src="/default-hotel.jpg"}})},on.id))}),lt.images.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#hotelCarousel${lt.id}`,"data-bs-slide":"prev",children:i.jsx("span",{className:"carousel-control-prev-icon"})}),i.jsx("button",{className:"carousel-control-next",type:"button","data-bs-target":`#hotelCarousel${lt.id}`,"data-bs-slide":"next",children:i.jsx("span",{className:"carousel-control-next-icon"})})]})]}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-building"})}),i.jsx("div",{className:"position-absolute top-0 end-0 m-2",children:i.jsxs("span",{className:"badge bg-warning text-dark",children:[lt.stars," ",i.jsx("i",{className:"bi bi-star-fill"})]})})]}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:lt.name}),lt.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),lt.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:lt.description?`${lt.description.substring(0,100)}...`:l("No description available")}),i.jsx(zl,{id:lt.id,type:"hotel"}),lt.price_range&&i.jsxs("p",{className:"card-text text-muted small mb-0",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",lt.price_range,lt.min_price>0&&` (${lt.min_price.toLocaleString()} VND)`]})]})]}),i.jsx("div",{className:"px-3 pb-3",children:i.jsxs(Ut,{className:"btn btn-main w-100 mt-2",onClick:()=>{Dt(lt),ot(!0)},children:[i.jsx("i",{className:"bi bi-calendar-check me-2"}),l("Đặt ngay")]})})]})},lt.id))})},Ue.map(lt=>lt.id).join("-")))}),i.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#hotelsCarousel","data-bs-slide":"prev",style:{width:"5rem",height:"5rem",top:"50%",left:"-4rem",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Previous"})]}),i.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#hotelsCarousel","data-bs-slide":"next",style:{width:"5rem",height:"5rem",top:"50%",right:"-4rem",left:"auto",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Next"})]}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>Z(!0),children:l("View All Hotels")})})]})})]}),i.jsx("hr",{className:"my-5 luxury-divider"}),i.jsxs("section",{className:"cards-section mb-6",children:[i.jsxs("h2",{className:"h4 mb-4 fw-bold luxury-section-title",children:[i.jsx("i",{className:"bi bi-cup-hot me-2"}),l("Top Restaurants")]}),Jn.length===0?i.jsx("p",{className:"text-muted",children:l("No restaurants to display.")}):fe?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:Jn.map(Ue=>i.jsx("div",{className:"col",children:i.jsx(en,{to:`/restaurants/${Ue.id}`,className:"text-decoration-none",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs("div",{className:"position-relative",children:[Ue.images&&Ue.images.length>0?i.jsxs("div",{id:`restaurantCarousel${Ue.id}`,className:"carousel slide","data-bs-ride":"false",children:[i.jsx("div",{className:"carousel-inner",children:Ue.images.map((qt,lt)=>i.jsx("div",{className:`carousel-item${lt===0?" active":""}`,children:i.jsx("img",{src:ai(qt.image_url),alt:qt.caption||Ue.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"},onError:on=>{on.target.src="/default-restaurant.jpg"}})},qt.id))}),Ue.images.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#restaurantCarousel${Ue.id}`,"data-bs-slide":"prev",children:i.jsx("span",{className:"carousel-control-prev-icon"})}),i.jsx("button",{className:"carousel-control-next",type:"button","data-bs-target":`#restaurantCarousel${Ue.id}`,"data-bs-slide":"next",children:i.jsx("span",{className:"carousel-control-next-icon"})})]})]}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,background:"linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-cup-hot"})}),Ue.cuisine_type&&i.jsx("div",{className:"position-absolute top-0 start-0 m-2",children:i.jsx("span",{className:"badge bg-primary",children:Ue.cuisine_type})})]}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:Ue.name}),Ue.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),Ue.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:Ue.description?`${Ue.description.substring(0,100)}...`:l("No description available")}),i.jsx(zl,{id:Ue.id,type:"restaurant"}),Ue.price_range&&i.jsxs("p",{className:"card-text text-muted small mb-0",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",Ue.price_range,Ue.min_price>0&&` (${Ue.min_price.toLocaleString()} VND)`]})]})]})})},Ue.id))}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>ke(!1),children:l("Show Less")})})]}):i.jsx(i.Fragment,{children:i.jsxs("div",{id:"restaurantsCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[i.jsx("div",{className:"carousel-inner",children:Xg(Jn,3).map((Ue,qt)=>i.jsx("div",{className:`carousel-item${qt===0?" active":""}`,children:i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 justify-content-center",children:Ue.map(lt=>i.jsx("div",{className:"col",children:i.jsx(en,{to:`/restaurants/${lt.id}`,className:"text-decoration-none",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs("div",{className:"position-relative",children:[lt.images&&lt.images.length>0?i.jsxs("div",{id:`restaurantCarousel${lt.id}`,className:"carousel slide","data-bs-ride":"false",children:[i.jsx("div",{className:"carousel-inner",children:lt.images.map((on,Re)=>i.jsx("div",{className:`carousel-item${Re===0?" active":""}`,children:i.jsx("img",{src:ai(on.image_url),alt:on.caption||lt.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"},onError:Ot=>{Ot.target.src="/default-restaurant.jpg"}})},on.id))}),lt.images.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#restaurantCarousel${lt.id}`,"data-bs-slide":"prev",children:i.jsx("span",{className:"carousel-control-prev-icon"})}),i.jsx("button",{className:"carousel-control-next",type:"button","data-bs-target":`#restaurantCarousel${lt.id}`,"data-bs-slide":"next",children:i.jsx("span",{className:"carousel-control-next-icon"})})]})]}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-cup-hot"})}),lt.cuisine_type&&i.jsx("div",{className:"position-absolute top-0 start-0 m-2",children:i.jsx("span",{className:"badge bg-primary",children:lt.cuisine_type})})]}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:lt.name}),lt.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),lt.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:lt.description?`${lt.description.substring(0,100)}...`:l("No description available")}),i.jsx(zl,{id:lt.id,type:"restaurant"}),lt.price_range&&i.jsxs("p",{className:"card-text text-muted small mb-0",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",lt.price_range,lt.min_price>0&&` (${lt.min_price.toLocaleString()} VND)`]})]})]})})},lt.id))})},Ue.map(lt=>lt.id).join("-")))}),i.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#restaurantsCarousel","data-bs-slide":"prev",style:{width:"5rem",height:"5rem",top:"50%",left:"-4rem",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Previous"})]}),i.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#restaurantsCarousel","data-bs-slide":"next",style:{width:"5rem",height:"5rem",top:"50%",right:"-4rem",left:"auto",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Next"})]}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>ke(!0),children:l("View All Restaurants")})})]})})]}),i.jsxs("section",{className:"autoplanner-banner-section my-5 py-5 text-center rounded-4 shadow-lg",style:{background:"url('/src/images/banner2.jpg') center/cover no-repeat",position:"relative",boxShadow:"0 8px 32px 0 rgba(125, 127, 167, 0.13)"},children:[i.jsx("div",{style:{position:"absolute",inset:0,background:"rgba(23, 22, 22, 0.25)",borderRadius:"1.5rem",zIndex:1}}),i.jsxs("div",{className:"container py-4",style:{position:"relative",zIndex:2},children:[i.jsxs("h2",{className:"display-6 fw-bold mb-4",style:{color:"#fff"},children:[l("Plan Quickly with")," ",i.jsx("span",{style:{color:"#fff"},children:l("AutoPlanner")})]}),i.jsxs("div",{className:"route-banner position-relative mb-4",children:[i.jsxs("svg",{width:"100%",height:"100",viewBox:"0 0 1000 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute",top:30,left:0,zIndex:1},children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"routeGradient",x1:"0",y1:"0",x2:"1000",y2:"0",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#5b9df9"}),i.jsx("stop",{offset:"1",stopColor:"#b6e0fe"})]})}),i.jsx("path",{d:"M 50 50 Q 200 10, 350 50 T 650 50 T 950 50",stroke:"url(#routeGradient)",strokeWidth:"6",fill:"none",strokeLinecap:"round"})]}),(()=>{const Ue=[...Ar].sort(()=>.5-Math.random()),qt=Ue.slice(0,Math.min(5,Ue.length)),lt=[50,250,500,750,950];return qt.map((on,Re)=>i.jsxs(en,{to:`/places/${on.id}`,className:"route-stop d-flex flex-column align-items-center position-absolute text-decoration-none route-stop-link",style:{zIndex:2,left:`${lt[Re]/10}%`,top:Re%2===0?0:60,minWidth:80,cursor:"pointer"},children:[i.jsx("div",{className:"route-img-wrapper mb-2 shadow-lg rounded-circle bg-white d-flex align-items-center justify-content-center",style:{width:64,height:64,overflow:"hidden",border:"3px solid #fff",transition:"box-shadow 0.2s, border-color 0.2s"},children:on.image_url?i.jsx("img",{src:on.image_url.startsWith("http")?on.image_url:`${_m}${on.image_url}`,alt:on.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):i.jsx("i",{className:"bi bi-geo-alt-fill",style:{fontSize:36,color:"#fff"}})}),i.jsx("span",{className:"fw-semibold small",style:{color:"#fff",maxWidth:80,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:on.name})]},on.id))})()]}),i.jsx("p",{className:"lead mb-3",style:{color:"#fff",fontWeight:500},children:l("Your journey will be optimized with just one click!")}),i.jsx("a",{href:"#planner-section",className:"btn btn-main btn-lg mt-2 px-4 py-2",style:{fontSize:"1.2rem"},children:l("Get Started with AutoPlanner")})]})]}),i.jsxs("section",{className:"cards-section mb-6",children:[i.jsx("h2",{className:"h4 mb-4 fw-bold luxury-section-title",children:l("Read interesting shares from travelers")}),Ii.length===0?i.jsx("p",{className:"text-muted",children:l("No articles to display.")}):i.jsxs("div",{id:"articlesCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[i.jsx("div",{className:"carousel-inner",children:Xg(Ii,3).map((Ue,qt)=>i.jsx("div",{className:`carousel-item${qt===0?" active":""}`,children:i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 justify-content-center",children:Ue.map(lt=>i.jsx("div",{className:"col",children:i.jsx("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:i.jsxs(en,{to:`/articles/${lt.article_id}`,className:"text-decoration-none",children:[lt.image_url&&i.jsx("img",{src:lt.image_url.startsWith("http")?lt.image_url:`${_m}${lt.image_url}`,alt:"Ảnh",className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"}}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:lt.title}),lt.content&&i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:`${lt.content.replace(/<[^>]+>/g,"").substring(0,100)}...`})]})]})})},lt.article_id))})},Ue.map(lt=>lt.article_id).join("-")))}),i.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#articlesCarousel","data-bs-slide":"prev",style:{width:"5rem",height:"5rem",top:"50%",left:"-4rem",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Previous"})]}),i.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#articlesCarousel","data-bs-slide":"next",style:{width:"5rem",height:"5rem",top:"50%",right:"-4rem",left:"auto",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Next"})]}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsxs(en,{to:"/create-article",className:"btn btn-main btn-lg px-5",children:[i.jsx("i",{className:"bi bi-pencil-square me-2"}),l("Write Blog")]})})]})]})]})}),i.jsx(qr,{}),pe&&i.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:2e3,background:"rgba(0,0,0,0.15)"},children:i.jsx(qW,{place:je,onClose:()=>we(!1)})}),qe&&Ie&&i.jsxs("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",role:"dialog",children:[i.jsx("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:"Chọn ngày bắt đầu và kết thúc tour"}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>Ke(!1),"aria-label":"Close"})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:i.jsx("strong",{children:"Ngày bắt đầu:"})}),i.jsx(Iv,{selected:Ye,onChange:Ue=>Te(Ue),selectsStart:!0,startDate:Ye,endDate:ht,minDate:new Date,dateFormat:"dd/MM/yyyy",className:"form-control"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:i.jsx("strong",{children:"Ngày kết thúc:"})}),i.jsx(Iv,{selected:ht,onChange:Ue=>ze(Ue),selectsEnd:!0,startDate:Ye,endDate:ht,minDate:Ye||new Date,dateFormat:"dd/MM/yyyy",className:"form-control"})]}),ut&&i.jsx("div",{className:"alert alert-danger py-2",children:ut})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>Ke(!1),children:"Đóng"}),i.jsx("button",{type:"button",className:"btn btn-main",onClick:br,children:"Xác nhận"})]})]})}),i.jsx("div",{className:"modal-backdrop fade show",style:{zIndex:1040}})]}),Jt&&jt&&i.jsxs(yt,{show:Jt,onHide:()=>ot(!1),centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Đặt phòng khách sạn"})}),i.jsx(yt.Body,{children:i.jsxs(bn,{children:[i.jsxs(bn.Group,{className:"mb-3",children:[i.jsx(bn.Label,{children:"Ngày nhận phòng"}),i.jsx(bn.Control,{type:"date",value:Qe,onChange:Ue=>Mt(Ue.target.value)})]}),i.jsxs(bn.Group,{className:"mb-3",children:[i.jsx(bn.Label,{children:"Ngày trả phòng"}),i.jsx(bn.Control,{type:"date",value:Lt,onChange:Ue=>$e(Ue.target.value)})]}),jt&&jt.room_types&&i.jsxs(bn.Group,{className:"mb-3",children:[i.jsx(bn.Label,{children:"Loại phòng"}),i.jsxs(bn.Select,{value:mn,onChange:Ue=>Rn(Ue.target.value),children:[i.jsx("option",{value:"",children:"Chọn loại phòng"}),Array.isArray(jt.room_types)?jt.room_types.map((Ue,qt)=>i.jsx("option",{value:Ue,children:Ue},qt)):JSON.parse(jt.room_types||"[]").map((Ue,qt)=>i.jsx("option",{value:Ue,children:Ue},qt))]})]}),bt==="success"&&i.jsx("div",{className:"alert alert-success",children:"Đặt phòng thành công!"}),bt==="error"&&i.jsx("div",{className:"alert alert-danger",children:"Đặt phòng thất bại. Vui lòng thử lại."})]})}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:()=>ot(!1),children:"Đóng"}),i.jsx(Ut,{variant:"success",onClick:async()=>{$t(null);try{await fh.bookHotel({user_id:yn==null?void 0:yn.id,hotel_id:jt==null?void 0:jt.id,check_in:Qe,check_out:Lt,room_type:mn}),$t("success")}catch{$t("error")}},disabled:!Qe||!Lt||!mn,children:"Xác nhận đặt phòng"})]})]})]})]})}function UZ(){var qe;const{user:l,login:c}=I.useContext(cs),[s,o]=I.useState(null),[h,g]=I.useState(!1),[_,y]=I.useState({full_name:"",email:""}),[v,N]=I.useState([]),[S,D]=I.useState(!0),[j,B]=I.useState(null),[F,H]=I.useState(!1),[$,K]=I.useState(!1),[Q,ee]=I.useState({currentPassword:"",newPassword:"",confirmNewPassword:""}),[ne,ce]=I.useState(""),[se,q]=I.useState(""),[ue,oe]=I.useState(!1),[be,pe]=I.useState(null),[we,je]=I.useState(""),[ye,Me]=I.useState(!1);I.useEffect(()=>{l&&(le(),_e())},[l]);const le=async()=>{try{D(!0);const Ke=await Am.getProfile();o(Ke.data),y({full_name:Ke.data.full_name,email:Ke.data.email})}catch(Ke){B("Failed to load profile"),console.error("Error loading profile:",Ke)}finally{D(!1)}},_e=async()=>{var Ke;try{const Ie=await bb.getUserTours(l.id);console.log("UserPage - User tours:",Ie.data),console.log("UserPage - First tour image_url:",(Ke=Ie.data[0])==null?void 0:Ke.image_url),N(Ie.data)}catch(Ie){console.error("Error loading user tours:",Ie)}},me=()=>{g(!0)},Ee=()=>{g(!1),y({full_name:s.full_name,email:s.email})},Z=async()=>{try{H(!0);const Ke=await Am.updateProfile(_);o(Ke.data),g(!1),c(Ke.data),B(null)}catch(Ke){B("Failed to update profile"),console.error("Error updating profile:",Ke)}finally{H(!1)}},fe=Ke=>{const{name:Ie,value:rt}=Ke.target;y(Ye=>({...Ye,[Ie]:rt}))},ke=Ke=>{const{name:Ie,value:rt}=Ke.target;ee(Ye=>({...Ye,[Ie]:rt}))},Be=async Ke=>{var Ie,rt;if(Ke.preventDefault(),ce(""),q(""),Q.newPassword!==Q.confirmNewPassword){ce("New passwords do not match");return}if(!Q.currentPassword||!Q.newPassword){ce("Please fill in all fields");return}try{oe(!0),await Am.changePassword({currentPassword:Q.currentPassword,newPassword:Q.newPassword}),q("Password updated successfully"),ee({currentPassword:"",newPassword:"",confirmNewPassword:""}),K(!1)}catch(Ye){ce(((rt=(Ie=Ye.response)==null?void 0:Ie.data)==null?void 0:rt.message)||"Failed to update password")}finally{oe(!1)}},Ve=Ke=>new Date(Ke).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"}),nt=Ke=>{const Ie=Ke.target.files[0];if(Ie){pe(Ie);const rt=new FileReader;rt.onload=Ye=>je(Ye.target.result),rt.readAsDataURL(Ie)}},te=async Ke=>{const Ie=new FormData;return Ie.append("file",Ke),(await(await fetch("http://localhost:3000/api/upload",{method:"POST",body:Ie})).json()).url},Ce=async()=>{if(be)try{Me(!0);const Ke=await te(be),Ie=await Am.updateProfile({..._,image_url:Ke});o(Ie.data),c(Ie.data),pe(null),je(""),B(null)}catch(Ke){B("Failed to upload image"),console.error("Error uploading image:",Ke)}finally{Me(!1)}};return l?S?i.jsxs("div",{className:"user-page-container",children:[i.jsx(Lr,{}),i.jsx("div",{className:"user-page-content",children:i.jsx("div",{className:"loading",children:"Đang tải hồ sơ..."})}),i.jsx(qr,{})]}):i.jsxs("div",{className:"user-page-container",children:[i.jsx(Lr,{}),i.jsxs("div",{className:"user-page-content",children:[i.jsxs("div",{className:"profile-header",children:[i.jsx("h1",{children:"Hồ sơ người dùng"}),i.jsxs("div",{className:"profile-avatar",children:[s!=null&&s.image_url?i.jsx("img",{src:s.image_url.startsWith("http")?s.image_url:`http://localhost:3000${s.image_url}`,alt:s.full_name,className:"avatar-image",style:{width:"120px",height:"120px",borderRadius:"50%",objectFit:"cover",border:"4px solid #fff",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},onError:Ke=>{Ke.target.style.display="none",Ke.target.nextSibling.style.display="flex"}}):null,i.jsx("div",{className:"avatar-circle",style:{display:s!=null&&s.image_url?"none":"flex"},children:(qe=s==null?void 0:s.full_name)==null?void 0:qe.charAt(0).toUpperCase()}),!h&&i.jsxs("div",{className:"avatar-upload",children:[i.jsx("label",{htmlFor:"profile-image",className:"upload-btn",children:i.jsx("i",{className:"bi bi-camera"})}),i.jsx("input",{id:"profile-image",type:"file",accept:"image/*",onChange:nt,style:{display:"none"}})]})]}),(be||we)&&i.jsxs("div",{className:"image-upload-section",style:{marginTop:"20px",textAlign:"center"},children:[i.jsx("div",{style:{marginBottom:"10px"},children:i.jsx("img",{src:we,alt:"Preview",style:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover",border:"2px solid #ddd"}})}),i.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[i.jsx("button",{className:"save-btn",onClick:Ce,disabled:ye,style:{padding:"8px 16px",fontSize:"14px"},children:ye?"Đang tải...":"Lưu ảnh"}),i.jsx("button",{className:"cancel-btn",onClick:()=>{pe(null),je("")},style:{padding:"8px 16px",fontSize:"14px"},children:"Hủy"})]})]})]}),j&&i.jsx("div",{className:"error-message",children:j}),i.jsxs("div",{className:"profile-sections",children:[i.jsxs("div",{className:"profile-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Thông tin cá nhân"}),!h&&i.jsx("button",{className:"edit-btn",onClick:me,children:"Chỉnh sửa hồ sơ"})]}),h?i.jsxs("div",{className:"edit-form",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"full_name",children:"Họ và tên"}),i.jsx("input",{type:"text",id:"full_name",name:"full_name",value:_.full_name,onChange:fe,className:"form-input"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"email",children:"Email"}),i.jsx("input",{type:"email",id:"email",name:"email",value:_.email,onChange:fe,className:"form-input"})]}),i.jsxs("div",{className:"form-actions",children:[i.jsx("button",{className:"save-btn",onClick:Z,disabled:F,children:F?"Đang lưu...":"Lưu thay đổi"}),i.jsx("button",{className:"cancel-btn",onClick:Ee,children:"Hủy"})]})]}):i.jsxs("div",{className:"profile-info",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Họ và tên:"}),i.jsx("span",{className:"info-value",children:s==null?void 0:s.full_name})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Email:"}),i.jsx("span",{className:"info-value",children:s==null?void 0:s.email})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Mật khẩu:"}),i.jsx("span",{className:"info-value",children:"••••••••"}),i.jsx("button",{className:"edit-btn",style:{background:$?"#6c757d":"#3498db",marginTop:10},onClick:()=>K(Ke=>!Ke),type:"button",children:$?"Hủy đổi mật khẩu":"Đổi mật khẩu"})]}),$&&i.jsxs("form",{className:"edit-form",onSubmit:Be,style:{marginTop:20},children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"currentPassword",children:"Mật khẩu hiện tại"}),i.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",value:Q.currentPassword,onChange:ke,className:"form-input",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"newPassword",children:"Mật khẩu mới"}),i.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:Q.newPassword,onChange:ke,className:"form-input",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"confirmNewPassword",children:"Xác nhận mật khẩu mới"}),i.jsx("input",{type:"password",id:"confirmNewPassword",name:"confirmNewPassword",value:Q.confirmNewPassword,onChange:ke,className:"form-input",required:!0})]}),ne&&i.jsx("div",{className:"error-message",children:ne}),se&&i.jsx("div",{className:"success-message",children:se}),i.jsx("div",{className:"form-actions",children:i.jsx("button",{className:"save-btn",type:"submit",disabled:ue,children:ue?"Đang lưu...":"Lưu mật khẩu"})})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Thành viên từ:"}),i.jsx("span",{className:"info-value",children:s!=null&&s.created_at?Ve(s.created_at):"Không rõ"})]})]})]}),i.jsxs("div",{className:"profile-section",children:[i.jsx("h2",{children:"Thống kê của bạn"}),i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:v.length}),i.jsx("div",{className:"stat-label",children:"Tổng số tour"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:"0"}),i.jsx("div",{className:"stat-label",children:"Tour đã hoàn thành"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:v.length}),i.jsx("div",{className:"stat-label",children:"Tour đã lên kế hoạch"})]})]})]}),i.jsxs("div",{className:"profile-section",children:[i.jsx("h2",{children:"Tour gần đây"}),v.length>0?i.jsx("div",{className:"tours-list",children:v.slice(0,5).map(Ke=>(console.log("UserPage - Rendering tour:",Ke.name,"image_url:",Ke.image_url),i.jsxs("div",{className:"tour-item",children:[i.jsx("div",{className:"tour-image",children:Ke.image_url?i.jsx("img",{src:Ke.image_url.startsWith("http")?Ke.image_url:`http://localhost:3000${Ke.image_url}`,alt:Ke.name,style:{width:"80px",height:"80px",borderRadius:"12px",objectFit:"cover",border:"2px solid #e9ecef"},onError:Ie=>{console.log("UserPage - Tour image failed to load:",Ie.target.src),Ie.target.style.display="none"},onLoad:()=>console.log("UserPage - Tour image loaded successfully:",Ke.name)}):i.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"12px",background:"linear-gradient(135deg, #1a5bb8 0%, #1a5bb8 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1.5rem"},children:i.jsx("i",{className:"bi bi-map"})})}),i.jsxs("div",{className:"tour-info",children:[i.jsx("h3",{className:"tour-title",children:Ke.name}),i.jsx("p",{className:"tour-description",children:Ke.description}),i.jsxs("div",{className:"tour-meta",children:[i.jsx("span",{className:"tour-date",children:Ke.start_time&&Ke.end_time?`${Ve(Ke.start_time)} - ${Ve(Ke.end_time)}`:"Chưa đặt ngày"}),i.jsx("span",{className:"tour-status status-planned",children:"Đã lên kế hoạch"})]})]})]},Ke.id)))}):i.jsxs("div",{className:"no-tours",children:[i.jsx("p",{children:"Bạn chưa tạo tour nào."}),i.jsx("a",{href:"/plan-trip",className:"create-tour-btn",children:"Tạo tour đầu tiên của bạn"})]})]})]})]}),i.jsx(qr,{})]}):i.jsxs("div",{className:"user-page-container",children:[i.jsx(Lr,{}),i.jsxs("div",{className:"user-page-content",children:[i.jsx("h1",{children:"Hồ sơ người dùng"}),i.jsx("p",{children:"Vui lòng đăng nhập để xem hồ sơ của bạn."})]}),i.jsx(qr,{})]})}const $Z="https://walkingguide.onrender.com";function qZ(){const{t:l}=vh(),[c,s]=I.useState([]),[o,h]=I.useState(!0),[g,_]=I.useState(null);return I.useEffect(()=>{(async()=>{try{h(!0);const N=(await Ft.get("/places")).data.sort((S,D)=>new Date(D.updated_at||0)-new Date(S.updated_at||0));s(N)}catch(v){console.error("Error:",{message:v.message,code:v.code,response:v.response?v.response.data:null}),_("Không thể kết nối đến server. Dữ liệu mặc định sẽ được sử dụng."),s([{id:4,name:"Hòn Chồng",description:"Địa điểm ngắm biển đẹp, yên bình.",latitude:12.2701,longitude:109.2038,image_url:"https://example.com/honchong.jpg",rating:4.2}])}finally{h(!1)}})()},[]),i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Lr,{}),i.jsxs("main",{className:"container px-4 py-5 flex-grow-1",children:[i.jsxs("div",{className:"text-center mb-5",children:[i.jsx("h1",{className:"display-5 fw-bold mb-3",style:{color:"#2c3e50"},children:l("Explore Amazing Destinations")}),i.jsx("p",{className:"lead text-muted mb-4",style:{maxWidth:"600px",margin:"0 auto"},children:l("Discover beautiful places, hidden gems, and must-visit destinations around the world")}),i.jsxs(en,{to:"/",className:"btn btn-main btn-lg px-5",children:[i.jsx("i",{className:"bi bi-map me-2"}),l("View on Map")]})]}),o?i.jsxs("div",{className:"text-center py-5",children:[i.jsx("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("p",{className:"text-muted mt-3",children:l("Loading destinations...")})]}):g?i.jsxs("div",{className:"alert alert-warning text-center",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),g]}):c.length===0?i.jsxs("div",{className:"text-center py-5",children:[i.jsx("i",{className:"bi bi-geo-alt text-muted",style:{fontSize:"4rem",marginBottom:"1rem"}}),i.jsx("h3",{className:"text-muted mb-3",children:l("No Destinations Found")}),i.jsx("p",{className:"text-muted mb-4",children:l("Check back later for new destinations!")})]}):i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:c.map(y=>i.jsx("div",{className:"col",children:i.jsx("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card hover-shadow",children:i.jsxs(en,{to:`/places/${y.id}`,className:"text-decoration-none",children:[i.jsx("img",{src:y.image_url?y.image_url.startsWith("http")?y.image_url:`${$Z}${y.image_url}`:"/default-place.jpg",alt:y.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover",borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem"},onError:v=>{v.target.src="/default-place.jpg"}}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600,color:"#2c3e50"},children:y.name}),y.city&&i.jsxs("p",{className:"card-text text-primary mb-2 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),y.city]}),i.jsx("p",{className:"card-text text-muted mb-3 luxury-desc",children:y.description?`${y.description.replace(/<[^>]+>/g,"").substring(0,120)}...`:l("No description available")}),y.service&&i.jsxs("p",{className:"card-text text-muted mb-3 small",children:[i.jsx("i",{className:"bi bi-activity me-1"}),y.service.length>80?`${y.service.substring(0,80)}...`:y.service]}),i.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[i.jsxs("div",{className:"d-flex align-items-center",children:[i.jsx("span",{className:"luxury-star",style:{color:"#f1c40f",fontSize:18},children:"★"}),i.jsx("span",{style:{fontWeight:600,marginLeft:4},children:y.rating?y.rating.toFixed(1):"0.0"}),i.jsx("span",{style:{color:"#888",marginLeft:2},children:"/ 5"})]}),i.jsxs("span",{className:"badge bg-primary rounded-pill",children:[i.jsx("i",{className:"bi bi-arrow-right me-1"}),l("Explore")]})]})]})]})})},y.id))})]}),i.jsx(qr,{})]})}function WZ(){const{t:l}=vh(),[c,s]=I.useState([]),[o,h]=I.useState(!0),[g,_]=I.useState(null);return I.useEffect(()=>{(async()=>{try{h(!0);const N=(await kt.get("http://localhost:3000/api/tours")).data.sort((S,D)=>new Date(D.updated_at||0)-new Date(S.updated_at||0));s(N)}catch(v){console.error("Lỗi khi tải tour:",v),_("Không thể tải danh sách tour. Vui lòng thử lại sau.")}finally{h(!1)}})()},[]),i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Lr,{}),i.jsxs("main",{className:"container px-4 py-5 flex-grow-1",children:[i.jsxs("div",{className:"text-center mb-5",children:[i.jsx("h1",{className:"display-5 fw-bold mb-3",style:{color:"#2c3e50"},children:l("Discover Amazing Tours")}),i.jsx("p",{className:"lead text-muted mb-4",style:{maxWidth:"600px",margin:"0 auto"},children:l("Explore carefully curated tours and itineraries designed to give you the best travel experience")}),i.jsxs("div",{className:"d-flex gap-3 justify-content-center",children:[i.jsxs(en,{to:"/manual-planner",className:"btn btn-main btn-lg px-4",children:[i.jsx("i",{className:"bi bi-pencil-square me-2"}),l("Create Custom Tour")]}),i.jsxs(en,{to:"/ai/generate-tour",className:"btn btn-outline-primary btn-lg px-4",children:[i.jsx("i",{className:"bi bi-robot me-2"}),l("AI Tour Planner")]})]})]}),o?i.jsxs("div",{className:"text-center py-5",children:[i.jsx("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("p",{className:"text-muted mt-3",children:l("Loading tours...")})]}):g?i.jsxs("div",{className:"alert alert-danger text-center",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),g]}):c.length===0?i.jsxs("div",{className:"text-center py-5",children:[i.jsx("i",{className:"bi bi-map text-muted",style:{fontSize:"4rem",marginBottom:"1rem"}}),i.jsx("h3",{className:"text-muted mb-3",children:l("No Tours Available")}),i.jsx("p",{className:"text-muted mb-4",children:l("Create your first tour and start exploring!")}),i.jsxs(en,{to:"/manual-planner",className:"btn btn-main",children:[i.jsx("i",{className:"bi bi-plus-circle me-2"}),l("Create First Tour")]})]}):i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:c.map(y=>i.jsx("div",{className:"col",children:i.jsx("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card hover-shadow",children:i.jsxs(en,{to:`/tours/${y.id}`,className:"text-decoration-none",children:[y.image_url?i.jsx("img",{src:y.image_url.startsWith("http")?y.image_url:`http://localhost:3000${y.image_url}`,alt:y.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover",borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem"},onError:v=>{v.target.style.display="none"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-map"})}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-3",style:{fontWeight:600,color:"#2c3e50"},children:y.name}),i.jsx("p",{className:"card-text text-muted mb-3 luxury-desc",children:y.description?`${y.description.replace(/<[^>]+>/g,"").substring(0,120)}...`:l("No description available")}),i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[i.jsxs("div",{className:"d-flex align-items-center",children:[i.jsx("span",{className:"luxury-star",style:{color:"#f1c40f",fontSize:18},children:"★"}),i.jsx("span",{style:{fontWeight:600,marginLeft:4},children:y.rating?y.rating.toFixed(1):"0.0"}),i.jsx("span",{style:{color:"#888",marginLeft:2},children:"/ 5"})]}),y.total_cost&&i.jsxs("span",{className:"badge bg-success rounded-pill",children:[i.jsx("i",{className:"bi bi-currency-dollar me-1"}),y.total_cost.toLocaleString()," VND"]})]}),i.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[i.jsxs("small",{className:"text-muted",children:[i.jsx("i",{className:"bi bi-calendar3 me-1"}),new Date(y.created_at||y.updated_at).toLocaleDateString()]}),i.jsxs("span",{className:"badge bg-primary rounded-pill",children:[i.jsx("i",{className:"bi bi-arrow-right me-1"}),l("View Tour")]})]})]})]})})},y.id))})]}),i.jsx(qr,{})]})}function YZ(){const{t:l}=vh(),[c,s]=I.useState([]),[o,h]=I.useState(!0),[g,_]=I.useState(null);return I.useEffect(()=>{(async()=>{try{h(!0);const N=(await kt.get("http://localhost:3000/api/articles")).data.sort((S,D)=>new Date(D.updated_at||0)-new Date(S.updated_at||0));s(N)}catch(v){console.error("Lỗi khi tải bài viết:",v),_("Không thể tải danh sách bài viết. Vui lòng thử lại sau.")}finally{h(!1)}})()},[]),i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Lr,{}),i.jsxs("main",{className:"container px-4 py-5 flex-grow-1",children:[i.jsxs("div",{className:"text-center mb-5",children:[i.jsx("h1",{className:"display-5 fw-bold mb-3",style:{color:"#2c3e50"},children:l("Travel Stories & Experiences")}),i.jsx("p",{className:"lead text-muted mb-4",style:{maxWidth:"600px",margin:"0 auto"},children:l("Discover amazing travel stories, tips, and experiences shared by our community of travelers")}),i.jsxs(en,{to:"/create-article",className:"btn btn-main btn-lg px-5",children:[i.jsx("i",{className:"bi bi-pencil-square me-2"}),l("Share Your Story")]})]}),o?i.jsxs("div",{className:"text-center py-5",children:[i.jsx("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("p",{className:"text-muted mt-3",children:l("Loading articles...")})]}):g?i.jsxs("div",{className:"alert alert-danger text-center",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),g]}):c.length===0?i.jsxs("div",{className:"text-center py-5",children:[i.jsx("i",{className:"bi bi-journal-text text-muted",style:{fontSize:"4rem",marginBottom:"1rem"}}),i.jsx("h3",{className:"text-muted mb-3",children:l("No Articles Yet")}),i.jsx("p",{className:"text-muted mb-4",children:l("Be the first to share your travel experience!")}),i.jsxs(en,{to:"/create-article",className:"btn btn-main",children:[i.jsx("i",{className:"bi bi-plus-circle me-2"}),l("Write First Article")]})]}):i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:c.map(y=>i.jsx("div",{className:"col",children:i.jsx("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card hover-shadow",children:i.jsxs(en,{to:`/articles/${y.article_id||y.id}`,className:"text-decoration-none",children:[y.image_url?i.jsx("img",{src:y.image_url.startsWith("http")?y.image_url:`http://localhost:3000${y.image_url}`,alt:y.title,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover",borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem"},onError:v=>{v.target.style.display="none"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-journal-text"})}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-3",style:{fontWeight:600,color:"#2c3e50"},children:y.title}),i.jsx("p",{className:"card-text text-muted mb-3 luxury-desc",children:y.content?`${y.content.replace(/<[^>]+>/g,"").substring(0,120)}...`:l("No content available")}),i.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[i.jsxs("small",{className:"text-muted",children:[i.jsx("i",{className:"bi bi-calendar3 me-1"}),new Date(y.published_at||y.updated_at).toLocaleDateString()]}),i.jsxs("span",{className:"badge bg-primary rounded-pill",children:[i.jsx("i",{className:"bi bi-eye me-1"}),l("Read More")]})]})]})]})})},y.article_id||y.id))})]}),i.jsx(qr,{})]})}function GZ(){const[l,c]=I.useState(""),[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(!1),{login:v,user:N}=I.useContext(cs),S=ba();tt.useEffect(()=>{N&&S("/",{replace:!0})},[N,S]);const D=async j=>{var B,F;j.preventDefault();try{const H=await kt.post("http://localhost:3000/api/auth/login",{email:l,password:s});v(H.data.user),S("/")}catch(H){g(((F=(B=H.response)==null?void 0:B.data)==null?void 0:F.message)||"Đăng nhập thất bại")}};return i.jsxs("div",{className:"min-vh-100 d-flex flex-column luxury-home-container",children:[i.jsx(Lr,{}),i.jsxs("main",{className:"container d-flex flex-column align-items-center justify-content-center flex-grow-1 py-5",children:[i.jsxs("div",{className:"card shadow border-0 rounded-4 p-4 luxury-card",style:{maxWidth:500,width:"100%",background:"rgba(255,255,255,0.97)"},children:[i.jsx("h2",{className:"mb-4 text-center",style:{color:"#1a5bb8",fontWeight:700},children:"Đăng nhập"}),i.jsxs("form",{onSubmit:D,className:"w-100",children:[h&&i.jsx("div",{className:"alert alert-danger",children:h}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Email:"}),i.jsx("input",{type:"email",className:"form-control",value:l,onChange:j=>c(j.target.value),required:!0})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mật khẩu:"}),i.jsx("input",{type:"password",className:"form-control",value:s,onChange:j=>o(j.target.value),required:!0})]}),i.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center mb-2 gap-2",children:[i.jsx("button",{type:"submit",className:"btn btn-main w-100 w-md-50",children:"Đăng nhập"}),i.jsx("div",{className:"d-flex flex-column align-items-center gap-1",children:i.jsx("button",{type:"button",className:"btn btn-link p-0",style:{fontSize:"0.95rem"},onClick:()=>y(!0),children:"Quên mật khẩu?"})})]}),i.jsxs("p",{className:"mt-3 text-center",children:["Chưa có tài khoản? ",i.jsx(en,{to:"/register",children:"Đăng ký"})]})]})]}),i.jsx(E5,{show:_,onClose:()=>y(!1)})]}),i.jsx(qr,{})]})}function KZ(){const[l,c]=I.useState(""),[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(""),[S,D]=I.useState(""),[j,B]=I.useState(!1),[F,H]=I.useState(!1),[$,K]=I.useState(""),[Q,ee]=I.useState(""),[ne,ce]=I.useState(""),{user:se}=I.useContext(cs),q=ba();tt.useEffect(()=>{se&&q("/",{replace:!0})},[se,q]);const ue=async pe=>{var we,je;if(pe.preventDefault(),N(""),D(""),B(!0),K(""),ee(""),ce(""),h!==_){N("Mật khẩu xác nhận không khớp."),B(!1);return}if(h.length<6){N("Mật khẩu phải có ít nhất 6 ký tự."),B(!1);return}try{const ye=await kt.post("http://localhost:3000/api/auth/register",{full_name:l,email:s,password:h,confirmPassword:_});ye.data.success&&(D(ye.data.message),ce(s),c(""),o(""),g(""),y(""),setTimeout(()=>{q("/login")},3e3))}catch(ye){N(((je=(we=ye.response)==null?void 0:we.data)==null?void 0:je.message)||"Lỗi đăng ký")}finally{B(!1)}},oe=async()=>{var pe,we;H(!0),K(""),ee("");try{const je=await kt.post("http://localhost:3000/api/auth/resend-verification",{email:ne});K(je.data.message||"Email xác thực đã được gửi lại. Vui lòng kiểm tra hộp thư của bạn.")}catch(je){ee(((we=(pe=je.response)==null?void 0:pe.data)==null?void 0:we.message)||"Lỗi gửi lại email xác thực")}finally{H(!1)}},be=()=>{D(""),N(""),K(""),ee(""),ce("")};return i.jsxs("div",{className:"min-vh-100 d-flex flex-column luxury-home-container",children:[i.jsx(Lr,{}),i.jsx("main",{className:"container d-flex flex-column align-items-center justify-content-center flex-grow-1 py-5",children:i.jsxs("div",{className:"card shadow border-0 rounded-4 p-4 luxury-card",style:{maxWidth:500,width:"100%",background:"rgba(255,255,255,0.97)"},children:[i.jsx("h2",{className:"mb-4 text-center",style:{color:"#1a5bb8",fontWeight:700},children:"Đăng ký tài khoản"}),i.jsxs("form",{onSubmit:ue,className:"w-100",children:[v&&i.jsx("div",{className:"alert alert-danger",children:v}),S?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"alert alert-success",children:S}),i.jsx("button",{type:"button",className:"btn btn-link p-0 mt-2 text-decoration-none",onClick:oe,disabled:F||!ne,children:F?"Đang gửi lại...":"Gửi lại email xác thực"}),$&&i.jsx("div",{className:"alert alert-success mt-2",children:$}),Q&&i.jsx("div",{className:"alert alert-danger mt-2",children:Q}),i.jsx("div",{className:"text-center mt-3",children:i.jsx("button",{type:"button",className:"btn btn-link p-0 text-decoration-underline",onClick:be,children:"Nhập email khác"})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Họ và tên:"}),i.jsx("input",{type:"text",className:"form-control",value:l,onChange:pe=>c(pe.target.value),required:!0,disabled:j})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Email:"}),i.jsx("input",{type:"email",className:"form-control",value:s,onChange:pe=>o(pe.target.value),required:!0,disabled:j})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mật khẩu:"}),i.jsx("input",{type:"password",className:"form-control",value:h,onChange:pe=>g(pe.target.value),required:!0,disabled:j,minLength:6}),i.jsx("small",{className:"text-muted",children:"Mật khẩu phải có ít nhất 6 ký tự"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Xác nhận mật khẩu:"}),i.jsx("input",{type:"password",className:"form-control",value:_,onChange:pe=>y(pe.target.value),required:!0,disabled:j,minLength:6}),_&&h!==_&&i.jsx("small",{className:"text-danger",children:"Mật khẩu xác nhận không khớp"}),_&&h===_&&i.jsx("small",{className:"text-success",children:"✓ Mật khẩu khớp"})]}),i.jsx("button",{type:"submit",className:"btn btn-success w-100",disabled:j||!l||!s||!h||!_,children:j?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Đang đăng ký..."]}):"Đăng ký"}),i.jsxs("p",{className:"mt-3 text-center",children:["Đã có tài khoản? ",i.jsx(en,{to:"/login",children:"Đăng nhập"})]})]})]})]})}),i.jsx(qr,{})]})}function _d(){return i.jsx("div",{className:"admin-header",children:i.jsx("div",{className:"container-fluid",children:i.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[i.jsx("div",{className:"d-flex align-items-center",children:i.jsx(en,{to:"/",children:i.jsx("img",{src:"/walking-guide/banner.png",alt:"Walking Guide Banner",style:{height:180,marginRight:28,borderRadius:12}})})}),i.jsx("div",{className:"admin-header-actions",children:i.jsxs("div",{className:"dropdown",children:[i.jsxs("button",{className:"btn btn-link text-white dropdown-toggle",type:"button",id:"adminDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",children:[i.jsx("i",{className:"bi bi-person-circle me-2"}),"Quản trị viên"]}),i.jsxs("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"adminDropdown",children:[i.jsx("li",{children:i.jsxs(en,{className:"dropdown-item",to:"/users",children:[i.jsx("i",{className:"bi bi-person me-2"}),"Hồ sơ"]})}),i.jsx("li",{children:i.jsxs(en,{className:"dropdown-item",to:"/admin/settings",children:[i.jsx("i",{className:"bi bi-gear me-2"}),"Cài đặt"]})}),i.jsx("li",{children:i.jsx("hr",{className:"dropdown-divider"})}),i.jsx("li",{children:i.jsxs(en,{className:"dropdown-item",to:"/",children:[i.jsx("i",{className:"bi bi-house me-2"}),"Về trang chủ"]})}),i.jsx("li",{children:i.jsxs("button",{className:"dropdown-item text-danger",children:[i.jsx("i",{className:"bi bi-box-arrow-right me-2"}),"Đăng xuất"]})})]})]})})]})})})}function vd(){const l=Vl(),c=s=>l.pathname===s;return i.jsx("div",{className:"admin-sidebar",children:i.jsx("nav",{className:"sidebar-nav",children:i.jsxs("ul",{className:"nav flex-column",children:[i.jsx("li",{className:"nav-item",children:i.jsxs(en,{to:"/admin",className:`nav-link ${c("/admin")?"active":""}`,children:[i.jsx("i",{className:"bi bi-house-door me-2"}),"Trang chủ"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(en,{to:"/admin/tours",className:`nav-link ${c("/admin/tours")?"active":""}`,children:[i.jsx("i",{className:"bi bi-map me-2"}),"Quản lý Tour"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(en,{to:"/admin/places",className:`nav-link ${c("/admin/places")?"active":""}`,children:[i.jsx("i",{className:"bi bi-geo-alt me-2"}),"Quản lý Địa điểm"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(en,{to:"/admin/hotels",className:`nav-link ${c("/admin/hotels")?"active":""}`,children:[i.jsx("i",{className:"bi bi-building me-2"}),"Quản lý Khách sạn"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(en,{to:"/admin/restaurants",className:`nav-link ${c("/admin/restaurants")?"active":""}`,children:[i.jsx("i",{className:"bi bi-cup-hot me-2"}),"Quản lý Nhà hàng"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(en,{to:"/admin/bookings",className:`nav-link ${c("/admin/bookings")?"active":""}`,children:[i.jsx("i",{className:"bi bi-calendar-check me-2"}),"Quản lý Booking"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(en,{to:"/admin/users",className:`nav-link ${c("/admin/users")?"active":""}`,children:[i.jsx("i",{className:"bi bi-people me-2"}),"Quản lý Người dùng"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(en,{to:"/admin/articles",className:`nav-link ${c("/admin/articles")?"active":""}`,children:[i.jsx("i",{className:"bi bi-file-text me-2"}),"Quản lý Bài viết"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(en,{to:"/admin/settings",className:`nav-link ${c("/admin/settings")?"active":""}`,children:[i.jsx("i",{className:"bi bi-gear me-2"}),"Cài đặt"]})})]})})})}function QZ(){const{user:l}=I.useContext(cs),[c,s]=I.useState({totalUsers:0,totalPlaces:0,totalTours:0,totalArticles:0,recentUsers:0,recentTours:0,recentArticles:0,recentPlaces:0}),[o,h]=I.useState(!0),[g,_]=I.useState([]);I.useEffect(()=>{(async()=>{try{const[j,B,F,H]=await Promise.all([kt.get("http://localhost:3000/api/users"),kt.get("http://localhost:3000/api/places"),kt.get("http://localhost:3000/api/tours"),kt.get("http://localhost:3000/api/articles")]);s({totalUsers:j.data.length,totalPlaces:B.data.length,totalTours:F.data.length,totalArticles:H.data.length,recentUsers:Math.floor(j.data.length*.15),recentTours:Math.floor(F.data.length*.25),recentArticles:Math.floor(H.data.length*.2),recentPlaces:Math.floor(B.data.length*.1)});const $=j.data.filter(K=>K.full_name).sort((K,Q)=>new Date(Q.created_at||0)-new Date(K.created_at||0));_($.slice(0,4))}catch(j){console.error("Error fetching stats:",j),s({totalUsers:1247,totalPlaces:89,totalTours:156,totalArticles:23,recentUsers:187,recentTours:39,recentArticles:5,recentPlaces:9})}finally{h(!1)}})()},[]);function y(D){if(!D)return"Vừa đăng ký";const j=new Date,B=new Date(D),F=Math.floor((j-B)/1e3);return F<60?"Vừa đăng ký":F<3600?`${Math.floor(F/60)} phút trước`:F<86400?`${Math.floor(F/3600)} giờ trước`:`${Math.floor(F/86400)} ngày trước`}const v=({title:D,value:j,icon:B,color:F,trend:H,subtitle:$})=>i.jsx("div",{className:"stat-card shadow-lg border-0 rounded-4 p-4 mb-4",style:{background:"linear-gradient(135deg, #fff 0%, #f8f9fa 100%)",border:`2px solid ${F}20`},children:i.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[i.jsxs("div",{className:"flex-grow-1",children:[i.jsx("h6",{className:"text-muted mb-1 fw-semibold",children:D}),i.jsx("h3",{className:"fw-bold mb-1",style:{color:F},children:o?"...":j.toLocaleString()}),$&&i.jsx("p",{className:"text-muted small mb-0",children:$}),H&&i.jsxs("div",{className:"d-flex align-items-center mt-2",children:[i.jsx("i",{className:`bi ${H>0?"bi-arrow-up":"bi-arrow-down"} me-1`,style:{color:H>0?"#28a745":"#dc3545"}}),i.jsxs("span",{className:"small fw-semibold",style:{color:H>0?"#28a745":"#dc3545"},children:[Math.abs(H),"% từ tháng trước"]})]})]}),i.jsx("div",{className:"stat-icon rounded-circle d-flex align-items-center justify-content-center",style:{width:60,height:60,background:`${F}15`,color:F},children:i.jsx("i",{className:`bi ${B} fs-3`})})]})}),N=({title:D,description:j,icon:B,link:F,color:H})=>i.jsx(en,{to:F,className:"text-decoration-none",children:i.jsxs("div",{className:"quick-action-card shadow border-0 rounded-4 p-4 h-100",style:{background:"linear-gradient(135deg, #fff 0%, #f8f9fa 100%)",transition:"all 0.3s ease"},children:[i.jsxs("div",{className:"d-flex align-items-center mb-3",children:[i.jsx("div",{className:"quick-action-icon rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:50,height:50,background:`${H}15`,color:H},children:i.jsx("i",{className:`bi ${B} fs-4`})}),i.jsx("h6",{className:"fw-bold mb-0",style:{color:"#1a5bb8"},children:D})]}),i.jsx("p",{className:"text-muted small mb-0",children:j})]})}),S=({title:D,items:j,icon:B,color:F})=>i.jsxs("div",{className:"recent-activity-card shadow-lg border-0 rounded-4 p-4 h-100",style:{background:"linear-gradient(135deg, #fff 0%, #f8f9fa 100%)"},children:[i.jsxs("div",{className:"d-flex align-items-center mb-3",children:[i.jsx("div",{className:"activity-icon rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:40,height:40,background:`${F}15`,color:F},children:i.jsx("i",{className:`bi ${B} fs-5`})}),i.jsx("h6",{className:"fw-bold mb-0",style:{color:"#1a5bb8"},children:D})]}),i.jsx("div",{className:"activity-list",children:j.map((H,$)=>i.jsxs("div",{className:"activity-item d-flex align-items-center py-2 border-bottom",style:{borderColor:"#f1f3f4"},children:[i.jsx("div",{className:"activity-dot rounded-circle me-3",style:{width:8,height:8,background:F}}),i.jsxs("div",{className:"flex-grow-1",children:[i.jsx("div",{className:"fw-semibold small",children:H.title}),i.jsx("div",{className:"text-muted small",children:H.time})]})]},$))})]});return i.jsxs("div",{className:"admin-layout",children:[i.jsx(_d,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(vd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[i.jsxs("div",{className:"dashboard-header text-center mb-5",children:[i.jsx("h1",{className:"display-5 fw-bold mb-2",style:{color:"#1a5bb8",textShadow:"0 2px 4px rgba(26, 91, 184, 0.1)"},children:"Bảng Quản Trị"}),i.jsxs("p",{className:"lead mb-0",style:{color:"#223a5f"},children:["Chào mừng trở lại, ",i.jsx("span",{className:"fw-bold",style:{color:"#3498db"},children:(l==null?void 0:l.full_name)||"Admin"}),"! Đây là tổng quan về hệ thống của bạn."]})]}),i.jsxs("div",{className:"row mb-5",children:[i.jsx("div",{className:"col-lg-3 col-md-6",children:i.jsx(v,{title:"Tổng Người Dùng",value:c.totalUsers,icon:"bi-people-fill",color:"#3498db",trend:12,subtitle:"Người dùng đã đăng ký"})}),i.jsx("div",{className:"col-lg-3 col-md-6",children:i.jsx(v,{title:"Địa Điểm Du Lịch",value:c.totalPlaces,icon:"bi-geo-alt-fill",color:"#e74c3c",trend:8,subtitle:"Địa điểm đã thêm"})}),i.jsx("div",{className:"col-lg-3 col-md-6",children:i.jsx(v,{title:"Lộ Trình Tour",value:c.totalTours,icon:"bi-map-fill",color:"#f39c12",trend:-3,subtitle:"Tour đã tạo"})}),i.jsx("div",{className:"col-lg-3 col-md-6",children:i.jsx(v,{title:"Bài Viết",value:c.totalArticles,icon:"bi-newspaper",color:"#27ae60",trend:15,subtitle:"Bài viết đã xuất bản"})})]}),i.jsxs("div",{className:"row mb-5",children:[i.jsxs("div",{className:"col-lg-8",children:[i.jsx("h4",{className:"fw-bold mb-4",style:{color:"#1a5bb8"},children:"Thao Tác Nhanh"}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6 mb-3",children:i.jsx(N,{title:"Quản Lý Người Dùng",description:"Xem, chỉnh sửa và quản lý tài khoản người dùng",icon:"bi-people-fill",link:"/admin/users",color:"#3498db"})}),i.jsx("div",{className:"col-md-6 mb-3",children:i.jsx(N,{title:"Quản Lý Địa Điểm",description:"Thêm, sửa, xóa địa điểm du lịch và thông tin",icon:"bi-geo-alt-fill",link:"/admin/places",color:"#e74c3c"})}),i.jsx("div",{className:"col-md-6 mb-3",children:i.jsx(N,{title:"Quản Lý Tour",description:"Tạo và quản lý các lộ trình du lịch",icon:"bi-map-fill",link:"/admin/tours",color:"#f39c12"})}),i.jsx("div",{className:"col-md-6 mb-3",children:i.jsx(N,{title:"Quản Lý Bài Viết",description:"Kiểm duyệt và quản lý nội dung bài viết",icon:"bi-newspaper",link:"/admin/articles",color:"#27ae60"})})]})]}),i.jsxs("div",{className:"col-lg-4",children:[i.jsx("h4",{className:"fw-bold mb-4",style:{color:"#1a5bb8"},children:"Hoạt Động Gần Đây"}),i.jsx(S,{title:"Người Dùng Mới",items:g.map(D=>({title:`${D.full_name} đã đăng ký`,time:y(D.created_at)})),icon:"bi-person-plus",color:"#3498db"})]})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-lg-6 mb-4 mt-5",children:i.jsxs("div",{className:"system-status-card shadow-lg border-0 rounded-4 p-4",style:{background:"linear-gradient(135deg, #fff 0%, #f8f9fa 100%)"},children:[i.jsx("h5",{className:"fw-bold mb-3",style:{color:"#1a5bb8"},children:"Trạng Thái Hệ Thống"}),i.jsxs("div",{className:"status-item d-flex justify-content-between align-items-center py-2",children:[i.jsx("span",{className:"fw-semibold",children:"Máy chủ"}),i.jsx("span",{className:"badge bg-success",children:"Hoạt động"})]}),i.jsxs("div",{className:"status-item d-flex justify-content-between align-items-center py-2",children:[i.jsx("span",{className:"fw-semibold",children:"Cơ sở dữ liệu"}),i.jsx("span",{className:"badge bg-success",children:"Hoạt động"})]}),i.jsxs("div",{className:"status-item d-flex justify-content-between align-items-center py-2",children:[i.jsx("span",{className:"fw-semibold",children:"API"}),i.jsx("span",{className:"badge bg-success",children:"Hoạt động"})]}),i.jsxs("div",{className:"status-item d-flex justify-content-between align-items-center py-2",children:[i.jsx("span",{className:"fw-semibold",children:"Bảo mật"}),i.jsx("span",{className:"badge bg-warning",children:"Cần kiểm tra"})]})]})}),i.jsx("div",{className:"col-lg-6 mb-4 mt-5",children:i.jsxs("div",{className:"performance-card shadow-lg border-0 rounded-4 p-4",style:{background:"linear-gradient(135deg, #fff 0%, #f8f9fa 100%)"},children:[i.jsx("h5",{className:"fw-bold mb-3",style:{color:"#1a5bb8"},children:"Hiệu Suất"}),i.jsxs("div",{className:"performance-item mb-3",children:[i.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[i.jsx("span",{className:"fw-semibold",children:"CPU"}),i.jsx("span",{className:"text-muted",children:"45%"})]}),i.jsx("div",{className:"progress",style:{height:8},children:i.jsx("div",{className:"progress-bar bg-success",style:{width:"45%"}})})]}),i.jsxs("div",{className:"performance-item mb-3",children:[i.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[i.jsx("span",{className:"fw-semibold",children:"RAM"}),i.jsx("span",{className:"text-muted",children:"62%"})]}),i.jsx("div",{className:"progress",style:{height:8},children:i.jsx("div",{className:"progress-bar bg-warning",style:{width:"62%"}})})]}),i.jsxs("div",{className:"performance-item mb-3",children:[i.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[i.jsx("span",{className:"fw-semibold",children:"Lưu trữ"}),i.jsx("span",{className:"text-muted",children:"28%"})]}),i.jsx("div",{className:"progress",style:{height:8},children:i.jsx("div",{className:"progress-bar bg-info",style:{width:"28%"}})})]})]})})]})]})})]})]})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function ZZ(){const l={resolve:null,promise:null};return l.promise=new Promise(c=>{l.resolve=c}),l}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function XZ(l){let c=null;return(...s)=>(c||(c={current:l(...s)}),c.current)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Yo=new Array(256).fill("").map((l,c)=>("0"+c.toString(16)).slice(-2));function JZ(){const[l,c,s,o]=crypto.getRandomValues(new Uint32Array(4));return"e"+Yo[l>>0&255]+Yo[l>>8&255]+Yo[l>>16&255]+Yo[l>>24&255]+Yo[c>>0&255]+Yo[c>>8&255]+Yo[c>>16&255]+Yo[c>>24&255]+Yo[s>>0&255]+Yo[s>>8&255]+Yo[s>>16&255]+Yo[s>>24&255]+Yo[o>>0&255]+Yo[o>>8&255]+Yo[o>>16&255]+Yo[o>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function eX(l,c){const s=l.extraPlugins||[];return{...l,extraPlugins:[...s,...c.filter(o=>!s.includes(o))]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function VL(l){return!!l&&/^\d+\.\d+\.\d+/.test(l)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function HL(l){return l?["nightly","alpha","internal","nightly-","staging"].some(c=>l.includes(c)):!1}function tX(l){return VL(l)||HL(l)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function nX(l){if(!VL(l))throw new Error(`Invalid semantic version: ${l||"<blank>"}.`);const[c,s,o]=l.split(".");return{major:Number.parseInt(c,10),minor:Number.parseInt(s,10),patch:Number.parseInt(o,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function iX(l){if(HL(l))return 3;const{major:c}=nX(l);switch(!0){case c>=44:return 3;case c>=38:return 2;default:return 1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function rX(){const{CKEDITOR_VERSION:l,CKEDITOR:c}=window;return tX(l)?{source:c?"cdn":"npm",version:l}:null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function sX(){const l=rX();return l?iX(l.version):null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function UL(l,c){switch(c||(c=sX()||void 0),c){case 1:case 2:return l===void 0;case 3:return l==="GPL";default:return!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function oX(l,c){return function(o){UL(o.config.get("licenseKey"))||o.on("collectUsageData",(h,{setUsageData:g})=>{g(`integration.${l}`,c)})}}var aX=Object.defineProperty,lX=(l,c,s)=>c in l?aX(l,c,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[c]=s,La=(l,c,s)=>lX(l,typeof c!="symbol"?c+"":c,s);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const $L=class qL{constructor(c,s){La(this,"_lifecycle"),La(this,"_element"),La(this,"_releaseLock",null),La(this,"_value",null),La(this,"_afterMountCallbacks",[]),La(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),La(this,"release",XZ(()=>{const{_releaseLock:o,_state:h,_element:g,_lifecycle:_}=this;h.mountingInProgress?h.mountingInProgress.then(()=>_.unmount({element:g,mountResult:this.value})).catch(y=>{console.error("Semaphore unmounting error:",y)}).then(o.resolve).then(()=>{this._value=null}):(h.destroyedBeforeInitialization=!0,o.resolve())})),this._element=c,this._lifecycle=s,this._lock()}get value(){return this._value}unsafeSetValue(c){this._value=c,this._afterMountCallbacks.forEach(s=>s(c)),this._afterMountCallbacks=[]}runAfterMount(c){const{_value:s,_afterMountCallbacks:o}=this;s?c(s):o.push(c)}_lock(){const{_semaphores:c}=qL,{_state:s,_element:o,_lifecycle:h}=this,g=c.get(o)||Promise.resolve(null),_=ZZ();this._releaseLock=_;const y=g.then(()=>s.destroyedBeforeInitialization?Promise.resolve(void 0):(s.mountingInProgress=h.mount().then(v=>(v&&this.unsafeSetValue(v),v)),s.mountingInProgress)).then(async v=>{v&&h.afterMount&&await h.afterMount({element:o,mountResult:v})}).then(()=>_.promise).catch(v=>{console.error("Semaphore mounting error:",v)}).then(()=>{c.get(o)===y&&c.delete(o)});c.set(o,y)}};La($L,"_semaphores",new Map);let cX=$L;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const dX="$__CKEditorReactContextMetadata";function uX(l,c){return{...c,[dX]:l}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const hX=tt.createContext(null),mX=l=>!!l&&typeof l=="object"&&"status"in l&&["initializing","initialized","error"].includes(l.status),WL=l=>c=>mX(c)&&c.status===l,v3=WL("initializing"),fX=l=>WL("initialized")(l)&&l.watchdog.state==="ready";/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const pX=oX("react",{version:"9.5.0",frameworkVersion:tt.version});/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function gX(l){return UL(l.licenseKey)?l:eX(l,[pX])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const VC="Lock from React integration (@ckeditor/ckeditor5-react)";class YL extends tt.Component{constructor(c){super(c),La(this,"domContainer",tt.createRef()),La(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:c}=window;if(!c)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[s]=c.split(".").map(Number);s>=42||c.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:c}=this;return c?c.value:null}get watchdog(){const{_semaphoreValue:c}=this;return c?c.watchdog:null}get editor(){const{_semaphoreValue:c}=this;return c?c.instance:null}shouldComponentUpdate(c){const{props:s,editorSemaphore:o}=this;return c.id!==s.id||c.disableWatchdog!==s.disableWatchdog?!0:(o&&(o.runAfterMount(({instance:h})=>{this._shouldUpdateEditorData(s,c,h)&&h.data.set(c.data)}),"disabled"in c&&o.runAfterMount(({instance:h})=>{c.disabled?h.enableReadOnlyMode(VC):h.disableReadOnlyMode(VC)})),!1)}componentDidMount(){v3(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){v3(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new cX(this.domContainer.current,{mount:async()=>this._initializeEditor(),afterMount:({mountResult:c})=>{const{onReady:s}=this.props;s&&this.domContainer.current!==null&&s(c.instance)},unmount:async({element:c,mountResult:s})=>{const{onAfterDestroy:o}=this.props;try{await this._destroyEditor(s),c.innerHTML=""}finally{o&&o(s.instance)}}})}render(){return tt.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const c=fX(this.context)?new bX(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig),s={current:0};return c.setCreator(async(o,h)=>{var g;const{editorSemaphore:_}=this,{onAfterDestroy:y}=this.props;s.current>0&&y&&((g=_==null?void 0:_.value)!=null&&g.instance)&&y(_.value.instance);const v=await this._createEditor(o,h);return _&&s.current>0&&(_.unsafeSetValue({instance:v,watchdog:c}),setTimeout(()=>{this.props.onReady&&this.props.onReady(c.editor)})),s.current++,v}),c.on("error",(o,{error:h,causesRestart:g})=>{(this.props.onError||console.error)(h,{phase:"runtime",willEditorRestart:g})}),await c.create(this.domContainer.current,this._getConfig()).catch(o=>{(this.props.onError||console.error)(o,{phase:"initialization",willEditorRestart:!1})}),{watchdog:c,instance:c.editor}}_createEditor(c,s){const{contextItemMetadata:o}=this.props;return o&&(s=uX(o,s)),this.props.editor.create(c,gX(s)).then(h=>{if("disabled"in this.props){/* istanbul ignore else -- @preserve */this.props.disabled&&h.enableReadOnlyMode(VC)}const g=h.model.document,_=h.editing.view.document;return g.on("change:data",y=>{/* istanbul ignore else -- @preserve */this.props.onChange&&this.props.onChange(y,h)}),_.on("focus",y=>{/* istanbul ignore else -- @preserve */this.props.onFocus&&this.props.onFocus(y,h)}),_.on("blur",y=>{/* istanbul ignore else -- @preserve */this.props.onBlur&&this.props.onBlur(y,h)}),h})}async _destroyEditor(c){const{watchdog:s,instance:o}=c;return new Promise((h,g)=>{/* istanbul ignore next -- @preserve */setTimeout(async()=>{try{if(s)return await s.destroy(),h();if(o)return await o.destroy(),h();h()}catch(_){console.error(_),g(_)}})})}_shouldUpdateEditorData(c,s,o){return!(c.data===s.data||o.data.get()===s.data)}_getConfig(){const c=this.props.config||{};return this.props.data&&c.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...c,initialData:c.initialData||this.props.data||""}}}La(YL,"contextType",hX);class bX{constructor(c){La(this,"_contextWatchdog"),La(this,"_id"),La(this,"_creator"),this._contextWatchdog=c,this._id=JZ()}setCreator(c){this._creator=c}create(c,s){return this._contextWatchdog.add({sourceElementOrData:c,config:s,creator:this._creator,id:this._id,type:"editor"})}on(c,s){this._contextWatchdog.on("itemError",(o,{itemId:h,error:g})=>{h===this._id&&s(null,{error:g,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function GL(...l){return c=>{l.forEach(s=>{typeof s=="function"?s(c):s!=null&&(s.current=c)})}}const kX=I.memo(I.forwardRef(({id:l,semaphore:c,rootName:s},o)=>{const h=I.useRef(null);return I.useEffect(()=>{let g,_;return c.runAfterMount(({instance:y})=>{if(!h.current)return;_=y;const{ui:v,model:N}=_,S=N.document.getRoot(s);S&&_.ui.getEditableElement(s)&&_.detachEditable(S),g=v.view.createEditable(s,h.current),v.addEditable(g),y.editing.view.forceRender()}),()=>{if(_&&_.state!=="destroyed"&&h.current){const y=_.model.document.getRoot(s);/* istanbul ignore else -- @preserve */y&&_.detachEditable(y)}}},[c.revision]),tt.createElement("div",{key:c.revision,id:l,ref:GL(o,h)})}));kX.displayName="EditorEditable";const _X=I.forwardRef(({editor:l},c)=>{const s=I.useRef(null);return I.useEffect(()=>{const o=s.current;if(!l||!o)return;const h=l.ui.view.toolbar.element;return o.appendChild(h),()=>{o.contains(h)&&o.removeChild(h)}},[l&&l.id]),tt.createElement("div",{ref:GL(s,c)})});_X.displayName="EditorToolbarWrapper";var ab={exports:{}};ab.exports;var w3;function vX(){return w3||(w3=1,function(l,c){(function(s){const o=s.en=s.en||{};o.dictionary=Object.assign(o.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent",Insert:"Insert","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lower–roman":"Lower–roman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower–latin list style":"Toggle the lower–latin list style","Toggle the lower–roman list style":"Toggle the lower–roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper–latin list style":"Toggle the upper–latin list style","Toggle the upper–roman list style":"Toggle the upper–roman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(s,o){l.exports=o()}(self,()=>(()=>{var s={9246:(_,y,v)=>{const N=v(6931),S={};for(const j of Object.keys(N))S[N[j]]=j;const D={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};_.exports=D;for(const j of Object.keys(D)){if(!("channels"in D[j]))throw new Error("missing channels property: "+j);if(!("labels"in D[j]))throw new Error("missing channel labels property: "+j);if(D[j].labels.length!==D[j].channels)throw new Error("channel and label counts mismatch: "+j);const{channels:B,labels:F}=D[j];delete D[j].channels,delete D[j].labels,Object.defineProperty(D[j],"channels",{value:B}),Object.defineProperty(D[j],"labels",{value:F})}D.rgb.hsl=function(j){const B=j[0]/255,F=j[1]/255,H=j[2]/255,$=Math.min(B,F,H),K=Math.max(B,F,H),Q=K-$;let ee,ne;K===$?ee=0:B===K?ee=(F-H)/Q:F===K?ee=2+(H-B)/Q:H===K&&(ee=4+(B-F)/Q),ee=Math.min(60*ee,360),ee<0&&(ee+=360);const ce=($+K)/2;return ne=K===$?0:ce<=.5?Q/(K+$):Q/(2-K-$),[ee,100*ne,100*ce]},D.rgb.hsv=function(j){let B,F,H,$,K;const Q=j[0]/255,ee=j[1]/255,ne=j[2]/255,ce=Math.max(Q,ee,ne),se=ce-Math.min(Q,ee,ne),q=function(ue){return(ce-ue)/6/se+.5};return se===0?($=0,K=0):(K=se/ce,B=q(Q),F=q(ee),H=q(ne),Q===ce?$=H-F:ee===ce?$=.3333333333333333+B-H:ne===ce&&($=.6666666666666666+F-B),$<0?$+=1:$>1&&($-=1)),[360*$,100*K,100*ce]},D.rgb.hwb=function(j){const B=j[0],F=j[1];let H=j[2];const $=D.rgb.hsl(j)[0],K=1/255*Math.min(B,Math.min(F,H));return H=1-.00392156862745098*Math.max(B,Math.max(F,H)),[$,100*K,100*H]},D.rgb.cmyk=function(j){const B=j[0]/255,F=j[1]/255,H=j[2]/255,$=Math.min(1-B,1-F,1-H);return[100*((1-B-$)/(1-$)||0),100*((1-F-$)/(1-$)||0),100*((1-H-$)/(1-$)||0),100*$]},D.rgb.keyword=function(j){const B=S[j];if(B)return B;let F,H=1/0;for(const Q of Object.keys(N)){const ee=N[Q],ne=(K=ee,(($=j)[0]-K[0])**2+($[1]-K[1])**2+($[2]-K[2])**2);ne<H&&(H=ne,F=Q)}var $,K;return F},D.keyword.rgb=function(j){return N[j]},D.rgb.xyz=function(j){let B=j[0]/255,F=j[1]/255,H=j[2]/255;return B=B>.04045?((B+.055)/1.055)**2.4:B/12.92,F=F>.04045?((F+.055)/1.055)**2.4:F/12.92,H=H>.04045?((H+.055)/1.055)**2.4:H/12.92,[100*(.4124*B+.3576*F+.1805*H),100*(.2126*B+.7152*F+.0722*H),100*(.0193*B+.1192*F+.9505*H)]},D.rgb.lab=function(j){const B=D.rgb.xyz(j);let F=B[0],H=B[1],$=B[2];return F/=95.047,H/=100,$/=108.883,F=F>.008856?F**.3333333333333333:7.787*F+.13793103448275862,H=H>.008856?H**.3333333333333333:7.787*H+.13793103448275862,$=$>.008856?$**.3333333333333333:7.787*$+.13793103448275862,[116*H-16,500*(F-H),200*(H-$)]},D.hsl.rgb=function(j){const B=j[0]/360,F=j[1]/100,H=j[2]/100;let $,K,Q;if(F===0)return Q=255*H,[Q,Q,Q];$=H<.5?H*(1+F):H+F-H*F;const ee=2*H-$,ne=[0,0,0];for(let ce=0;ce<3;ce++)K=B+.3333333333333333*-(ce-1),K<0&&K++,K>1&&K--,Q=6*K<1?ee+6*($-ee)*K:2*K<1?$:3*K<2?ee+($-ee)*(.6666666666666666-K)*6:ee,ne[ce]=255*Q;return ne},D.hsl.hsv=function(j){const B=j[0];let F=j[1]/100,H=j[2]/100,$=F;const K=Math.max(H,.01);return H*=2,F*=H<=1?H:2-H,$*=K<=1?K:2-K,[B,100*(H===0?2*$/(K+$):2*F/(H+F)),100*((H+F)/2)]},D.hsv.rgb=function(j){const B=j[0]/60,F=j[1]/100;let H=j[2]/100;const $=Math.floor(B)%6,K=B-Math.floor(B),Q=255*H*(1-F),ee=255*H*(1-F*K),ne=255*H*(1-F*(1-K));switch(H*=255,$){case 0:return[H,ne,Q];case 1:return[ee,H,Q];case 2:return[Q,H,ne];case 3:return[Q,ee,H];case 4:return[ne,Q,H];case 5:return[H,Q,ee]}},D.hsv.hsl=function(j){const B=j[0],F=j[1]/100,H=j[2]/100,$=Math.max(H,.01);let K,Q;Q=(2-F)*H;const ee=(2-F)*$;return K=F*$,K/=ee<=1?ee:2-ee,K=K||0,Q/=2,[B,100*K,100*Q]},D.hwb.rgb=function(j){const B=j[0]/360;let F=j[1]/100,H=j[2]/100;const $=F+H;let K;$>1&&(F/=$,H/=$);const Q=Math.floor(6*B),ee=1-H;K=6*B-Q,1&Q&&(K=1-K);const ne=F+K*(ee-F);let ce,se,q;switch(Q){default:case 6:case 0:ce=ee,se=ne,q=F;break;case 1:ce=ne,se=ee,q=F;break;case 2:ce=F,se=ee,q=ne;break;case 3:ce=F,se=ne,q=ee;break;case 4:ce=ne,se=F,q=ee;break;case 5:ce=ee,se=F,q=ne}return[255*ce,255*se,255*q]},D.cmyk.rgb=function(j){const B=j[0]/100,F=j[1]/100,H=j[2]/100,$=j[3]/100;return[255*(1-Math.min(1,B*(1-$)+$)),255*(1-Math.min(1,F*(1-$)+$)),255*(1-Math.min(1,H*(1-$)+$))]},D.xyz.rgb=function(j){const B=j[0]/100,F=j[1]/100,H=j[2]/100;let $,K,Q;return $=3.2406*B+-1.5372*F+-.4986*H,K=-.9689*B+1.8758*F+.0415*H,Q=.0557*B+-.204*F+1.057*H,$=$>.0031308?1.055*$**.4166666666666667-.055:12.92*$,K=K>.0031308?1.055*K**.4166666666666667-.055:12.92*K,Q=Q>.0031308?1.055*Q**.4166666666666667-.055:12.92*Q,$=Math.min(Math.max(0,$),1),K=Math.min(Math.max(0,K),1),Q=Math.min(Math.max(0,Q),1),[255*$,255*K,255*Q]},D.xyz.lab=function(j){let B=j[0],F=j[1],H=j[2];return B/=95.047,F/=100,H/=108.883,B=B>.008856?B**.3333333333333333:7.787*B+.13793103448275862,F=F>.008856?F**.3333333333333333:7.787*F+.13793103448275862,H=H>.008856?H**.3333333333333333:7.787*H+.13793103448275862,[116*F-16,500*(B-F),200*(F-H)]},D.lab.xyz=function(j){let B,F,H;F=(j[0]+16)/116,B=j[1]/500+F,H=F-j[2]/200;const $=F**3,K=B**3,Q=H**3;return F=$>.008856?$:(F-.13793103448275862)/7.787,B=K>.008856?K:(B-.13793103448275862)/7.787,H=Q>.008856?Q:(H-.13793103448275862)/7.787,B*=95.047,F*=100,H*=108.883,[B,F,H]},D.lab.lch=function(j){const B=j[0],F=j[1],H=j[2];let $;return $=360*Math.atan2(H,F)/2/Math.PI,$<0&&($+=360),[B,Math.sqrt(F*F+H*H),$]},D.lch.lab=function(j){const B=j[0],F=j[1],H=j[2]/360*2*Math.PI;return[B,F*Math.cos(H),F*Math.sin(H)]},D.rgb.ansi16=function(j,B=null){const[F,H,$]=j;let K=B===null?D.rgb.hsv(j)[2]:B;if(K=Math.round(K/50),K===0)return 30;let Q=30+(Math.round($/255)<<2|Math.round(H/255)<<1|Math.round(F/255));return K===2&&(Q+=60),Q},D.hsv.ansi16=function(j){return D.rgb.ansi16(D.hsv.rgb(j),j[2])},D.rgb.ansi256=function(j){const B=j[0],F=j[1],H=j[2];return B===F&&F===H?B<8?16:B>248?231:Math.round((B-8)/247*24)+232:16+36*Math.round(B/255*5)+6*Math.round(F/255*5)+Math.round(H/255*5)},D.ansi16.rgb=function(j){let B=j%10;if(B===0||B===7)return j>50&&(B+=3.5),B=B/10.5*255,[B,B,B];const F=.5*(1+~~(j>50));return[(1&B)*F*255,(B>>1&1)*F*255,(B>>2&1)*F*255]},D.ansi256.rgb=function(j){if(j>=232){const F=10*(j-232)+8;return[F,F,F]}let B;return j-=16,[Math.floor(j/36)/5*255,Math.floor((B=j%36)/6)/5*255,B%6/5*255]},D.rgb.hex=function(j){const B=(((255&Math.round(j[0]))<<16)+((255&Math.round(j[1]))<<8)+(255&Math.round(j[2]))).toString(16).toUpperCase();return"000000".substring(B.length)+B},D.hex.rgb=function(j){const B=j.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!B)return[0,0,0];let F=B[0];B[0].length===3&&(F=F.split("").map($=>$+$).join(""));const H=parseInt(F,16);return[H>>16&255,H>>8&255,255&H]},D.rgb.hcg=function(j){const B=j[0]/255,F=j[1]/255,H=j[2]/255,$=Math.max(Math.max(B,F),H),K=Math.min(Math.min(B,F),H),Q=$-K;let ee,ne;return ee=Q<1?K/(1-Q):0,ne=Q<=0?0:$===B?(F-H)/Q%6:$===F?2+(H-B)/Q:4+(B-F)/Q,ne/=6,ne%=1,[360*ne,100*Q,100*ee]},D.hsl.hcg=function(j){const B=j[1]/100,F=j[2]/100,H=F<.5?2*B*F:2*B*(1-F);let $=0;return H<1&&($=(F-.5*H)/(1-H)),[j[0],100*H,100*$]},D.hsv.hcg=function(j){const B=j[1]/100,F=j[2]/100,H=B*F;let $=0;return H<1&&($=(F-H)/(1-H)),[j[0],100*H,100*$]},D.hcg.rgb=function(j){const B=j[0]/360,F=j[1]/100,H=j[2]/100;if(F===0)return[255*H,255*H,255*H];const $=[0,0,0],K=B%1*6,Q=K%1,ee=1-Q;let ne=0;switch(Math.floor(K)){case 0:$[0]=1,$[1]=Q,$[2]=0;break;case 1:$[0]=ee,$[1]=1,$[2]=0;break;case 2:$[0]=0,$[1]=1,$[2]=Q;break;case 3:$[0]=0,$[1]=ee,$[2]=1;break;case 4:$[0]=Q,$[1]=0,$[2]=1;break;default:$[0]=1,$[1]=0,$[2]=ee}return ne=(1-F)*H,[255*(F*$[0]+ne),255*(F*$[1]+ne),255*(F*$[2]+ne)]},D.hcg.hsv=function(j){const B=j[1]/100,F=B+j[2]/100*(1-B);let H=0;return F>0&&(H=B/F),[j[0],100*H,100*F]},D.hcg.hsl=function(j){const B=j[1]/100,F=j[2]/100*(1-B)+.5*B;let H=0;return F>0&&F<.5?H=B/(2*F):F>=.5&&F<1&&(H=B/(2*(1-F))),[j[0],100*H,100*F]},D.hcg.hwb=function(j){const B=j[1]/100,F=B+j[2]/100*(1-B);return[j[0],100*(F-B),100*(1-F)]},D.hwb.hcg=function(j){const B=j[1]/100,F=1-j[2]/100,H=F-B;let $=0;return H<1&&($=(F-H)/(1-H)),[j[0],100*H,100*$]},D.apple.rgb=function(j){return[j[0]/65535*255,j[1]/65535*255,j[2]/65535*255]},D.rgb.apple=function(j){return[j[0]/255*65535,j[1]/255*65535,j[2]/255*65535]},D.gray.rgb=function(j){return[j[0]/100*255,j[0]/100*255,j[0]/100*255]},D.gray.hsl=function(j){return[0,0,j[0]]},D.gray.hsv=D.gray.hsl,D.gray.hwb=function(j){return[0,100,j[0]]},D.gray.cmyk=function(j){return[0,0,0,j[0]]},D.gray.lab=function(j){return[j[0],0,0]},D.gray.hex=function(j){const B=255&Math.round(j[0]/100*255),F=((B<<16)+(B<<8)+B).toString(16).toUpperCase();return"000000".substring(F.length)+F},D.rgb.gray=function(j){return[(j[0]+j[1]+j[2])/3/255*100]}},9047:(_,y,v)=>{const N=v(9246),S=v(802),D={};Object.keys(N).forEach(j=>{D[j]={},Object.defineProperty(D[j],"channels",{value:N[j].channels}),Object.defineProperty(D[j],"labels",{value:N[j].labels});const B=S(j);Object.keys(B).forEach(F=>{const H=B[F];D[j][F]=function($){const K=function(...Q){const ee=Q[0];if(ee==null)return ee;ee.length>1&&(Q=ee);const ne=$(Q);if(typeof ne=="object")for(let ce=ne.length,se=0;se<ce;se++)ne[se]=Math.round(ne[se]);return ne};return"conversion"in $&&(K.conversion=$.conversion),K}(H),D[j][F].raw=function($){const K=function(...Q){const ee=Q[0];return ee==null?ee:(ee.length>1&&(Q=ee),$(Q))};return"conversion"in $&&(K.conversion=$.conversion),K}(H)})}),_.exports=D},802:(_,y,v)=>{const N=v(9246);function S(B){const F=function(){const $={},K=Object.keys(N);for(let Q=K.length,ee=0;ee<Q;ee++)$[K[ee]]={distance:-1,parent:null};return $}(),H=[B];for(F[B].distance=0;H.length;){const $=H.pop(),K=Object.keys(N[$]);for(let Q=K.length,ee=0;ee<Q;ee++){const ne=K[ee],ce=F[ne];ce.distance===-1&&(ce.distance=F[$].distance+1,ce.parent=$,H.unshift(ne))}}return F}function D(B,F){return function(H){return F(B(H))}}function j(B,F){const H=[F[B].parent,B];let $=N[F[B].parent][B],K=F[B].parent;for(;F[K].parent;)H.unshift(F[K].parent),$=D(N[F[K].parent][K],$),K=F[K].parent;return $.conversion=H,$}_.exports=function(B){const F=S(B),H={},$=Object.keys(F);for(let K=$.length,Q=0;Q<K;Q++){const ee=$[Q];F[ee].parent!==null&&(H[ee]=j(ee,F))}return H}},6931:_=>{_.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4199:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const B=j},8708:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const B=j},1866:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Based on default CKBox theme colors */
	--ck-image-processing-highlight-color: hsl(220, 10%, 98%);
	--ck-image-processing-background-color: hsl(220, 10%, 90%);
}

.ck.ck-editor__editable {
	& .image {
		&.image-processing {
			position: relative;

			&:before {
				content: '';

				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;

				height: 100%;
				width: 100%;

				background: linear-gradient(
					90deg,
					var(--ck-image-processing-background-color),
					var(--ck-image-processing-highlight-color),
					var(--ck-image-processing-background-color)
				);
				background-size: 200% 100%;

				animation: ck-image-processing-animation 2s linear infinite;
			}

			& img {
				height: 100%;
			}
		}
	}
}

@keyframes ck-image-processing-animation {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
`],sourceRoot:""}]);const B=j},7793:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const B=j},7388:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DCED,eDeC,CAjBA,mKCMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAcF,CAjBA,8DAOC,wCAAsB,CAAtB,sBAUD,CARC,8FACC,uBACD,CAEA,qJAEC,QACD,CAMH,yCAEC,0CAA2C,CCtB3C,eDgCD,CAZA,yHChBE,qCAAsC,CDqBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-sticky-panel__content {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border: 1px solid var(--ck-color-base-border);
			border-bottom-width: 0;

			&.ck-sticky-panel__content_sticky {
				border-bottom-width: 1px;
			}

			& .ck-menu-bar,
			& .ck-toolbar {
				border: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},4098:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	@mixin ck-media-forced-colors {
		/*
		 * This is needed for Edge on Windows to use the right color for the placeholder content (::before).
		 * See https://github.com/ckeditor/ckeditor5/issues/14907.
		 */
		forced-color-adjust: preserve-parent-color;
	}

	&::before {
		cursor: text;

		@mixin ck-media-default-colors {
			color: var(--ck-color-engine-placeholder-text);
		}

		@mixin ck-media-forced-colors {
			/*
			 * In the high contrast mode there is no telling between regular and placeholder text. Using
			 * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			font-style: italic;

			/*
			 * Without this margin, the caret will not show up and blink when the user puts the selection
			 * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			margin-left: 1px;
		}
	}
}
`],sourceRoot:""}]);const B=j},8264:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const B=j},6269:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const B=j},265:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const B=j},5247:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@media (forced-colors: active) {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	@mixin ck-media-default-colors {
		animation: ck-image-caption-highlight .6s ease-out;
	}

	@media (prefers-reduced-motion: reduce) {
		animation: none;
	}
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const B=j},4642:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-image-custom-resize-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: flex-start;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},3350:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAMC,yDACC,YAAa,CACb,mCACD,CCFD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-url {
	& .ck-image-insert-url__action-row {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;
		padding: var(--ck-list-button-padding);

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`],sourceRoot:""}]);const B=j},7378:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& img.image_placeholder {
		background-size: 100% 100%;
	}
}
`],sourceRoot:""}]);const B=j},3469:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const B=j},6386:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},7693:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,sBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 0ms;

		&::after {
			animation: none;
			opacity: 1;
			width: 0.3em;
			height: 0.45em;
		}
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const B=j},1559:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const B=j},2267:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;

			@media (prefers-reduced-motion: reduce) {
				opacity: 1;
				animation: none;
			}
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const B=j},4062:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},7719:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const B=j},8762:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},3817:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;
	align-items: flex-start;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},4808:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,k2BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const B=j},1232:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const B=j},6903:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},9968:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const B=j},7141:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const B=j},8991:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAFA,wDApEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAoEA,CAhED,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAFA,wGAtGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAsGD,CAlGA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const B=j},70:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const B=j},7048:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OW0wIDQ1LjM5MWM2Ny4yNjUgMCA3NS4yMzMuMjU3IDEwMS43OTcgMS40NjkgMjQuNTYyIDEuMTIgMzcuOTAxIDUuMjI0IDQ2Ljc3OCA4LjY3NCAxMS43NTkgNC41NyAyMC4xNTEgMTAuMDI5IDI4Ljk2NiAxOC44NDVzMTQuMjc1IDE3LjIwNyAxOC44NDUgMjguOTY2YzMuNDUgOC44NzcgNy41NTQgMjIuMjE2IDguNjc0IDQ2Ljc3OCAxLjIxMiAyNi41NjQgMS40NjkgMzQuNTMyIDEuNDY5IDEwMS43OTggMCA2Ny4yNjUtLjI1NyA3NS4yMzMtMS40NjkgMTAxLjc5Ny0xLjEyIDI0LjU2Mi01LjIyNCAzNy45MDEtOC42NzQgNDYuNzc4LTQuNTcgMTEuNzU5LTEwLjAyOSAyMC4xNTEtMTguODQ1IDI4Ljk2NnMtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1Yy04Ljg3NyAzLjQ1LTIyLjIxNiA3LjU1NC00Ni43NzggOC42NzQtMjYuNTYgMS4yMTItMzQuNTI3IDEuNDY5LTEwMS43OTcgMS40NjktNjcuMjcxIDAtNzUuMjM3LS4yNTctMTAxLjc5OC0xLjQ2OS0yNC41NjItMS4xMi0zNy45MDEtNS4yMjQtNDYuNzc4LTguNjc0LTExLjc1OS00LjU3LTIwLjE1MS0xMC4wMjktMjguOTY2LTE4Ljg0NXMtMTQuMjc1LTE3LjIwNy0xOC44NDUtMjguOTY2Yy0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NnMxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDVjOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OSIgbWFzaz0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yNTEuOTIxIDMzNi4wNTNjLTQ2LjM3OCAwLTgzLjk3NC0zNy41OTYtODMuOTc0LTgzLjk3M3MzNy41OTYtODMuOTc0IDgzLjk3NC04My45NzRjNDYuMzc3IDAgODMuOTczIDM3LjU5NiA4My45NzMgODMuOTc0IDAgNDYuMzc3LTM3LjU5NiA4My45NzMtODMuOTczIDgzLjk3M20wLTIxMy4zMzhjLTcxLjQ0NyAwLTEyOS4zNjUgNTcuOTE4LTEyOS4zNjUgMTI5LjM2NSAwIDcxLjQ0NiA1Ny45MTggMTI5LjM2NCAxMjkuMzY1IDEyOS4zNjQgNzEuNDQ2IDAgMTI5LjM2NC01Ny45MTggMTI5LjM2NC0xMjkuMzY0IDAtNzEuNDQ3LTU3LjkxOC0xMjkuMzY1LTEyOS4zNjQtMTI5LjM2NU00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjNzMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzFjMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,goGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,o+GACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,g/BACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not read–only.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},5651:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},5506:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},4043:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},2655:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const B=j},5032:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const B=j},2329:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const B=j},4143:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@mixin ck-media-forced-colors {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	@mixin ck-media-default-colors {
		&.table__caption_highlighted {
			animation: ck-table-caption-highlight .6s ease-out;
		}
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const B=j},8986:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},8795:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const B=j},8137:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const B=j},1623:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8ECxCD,eD6DC,CArBA,mMCpCA,qCDyDA,CArBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CAXC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEAKD,CAHC,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;

			@media (prefers-reduced-motion: reduce) {
				animation: none;
			}
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},5562:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},8423:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},1801:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}

.ck.ck-aria-live-region-list {
	list-style-type: none;
}
`],sourceRoot:""}]);const B=j},5727:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},9715:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD+ID,CC5IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eFgJD,CA/IA,wIEGE,qCF4IF,CA/IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBA0ID,CAhHC,uCA/BD,6BAgCE,eA+GF,CA9GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAWD,CAZA,6FAIE,mCAQF,CAZA,6FAQE,oCAIF,CAZA,yEAWC,UACD,CAIC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCClIA,+CDsIA,CCnIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDmHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CClJC,mDDuJD,CCpJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDmID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		opacity: .5;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const B=j},4391:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eDgFA,CA5CA,yIChCC,qCD4ED,CA5CA,2DAKE,gBAuCF,CA5CA,2DAUE,iBAkCF,CA5CA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CA2BD,CAxBC,2ECxDD,eDuEC,CAfA,6LCpDA,qCAAsC,CDsDpC,8CAaF,CAfA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CAHC,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEpFA,kCFsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floating–point numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const B=j},25:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-list-button-padding);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const B=j},7317:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	transition: .2s ease box-shadow;

	@mixin ck-media-default-colors {
		width: var(--ck-color-grid-tile-size);
		height: var(--ck-color-grid-tile-size);
		min-width: var(--ck-color-grid-tile-size);
		min-height: var(--ck-color-grid-tile-size);
		padding: 0;
		border: 0;

		&.ck-on,
		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			/* Disable the default .ck-button's border ring. */
			border: 0;
		}

		&.ck-color-selector__color-tile_bordered {
			box-shadow: 0 0 0 1px var(--ck-color-base-border);
		}

		&.ck-on {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);
		}

		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
		}
	}

	/*
	 * In high contrast mode, the colors are replaced with text labels.
	 * See https://github.com/ckeditor/ckeditor5/issues/14907.
	 */
	@mixin ck-media-forced-colors {
		width: unset;
		height: unset;
		min-width: unset;
		min-height: unset;
		padding: 0 var(--ck-spacing-small);

		& .ck-button__label {
			display: inline-block;
		}
	}

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		& .ck.ck-icon {
			display: block;
		}
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const B=j},1905:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const B=j},6309:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const B=j},9819:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cEfC,oCAA8B,CFmB9B,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;

		& .ck-form__header__label {
			cursor: grab;
		}
	}

	@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},9822:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const B=j},8149:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},3629:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},1792:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},1666:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const B=j},8527:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},1185:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},7913:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const B=j},9529:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const B=j},7621:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},253:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eDmDD,CA9CA,iECDE,qCD+CF,CA9CA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CAhCC,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		@media (prefers-reduced-motion: reduce) {
			animation: none;
		}

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},7801:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const B=j},4962:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CA9GA,2FCDE,qCD+GF,CA3GC,mEACC,UAwCD,CAtCC,gFACC,KAoCD,CArCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBAgCF,CArCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAyBF,CArCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAQD,CAHC,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},5199:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,qJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAwCD,CA1CA,uCAME,eAoCF,CA1CA,uCAUE,gBAgCF,CA1CA,6BAgBC,qCA0BD,CAxBC,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.11 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& > .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& > .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},497:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;
	background: var(--ck-color-base-background);
	padding: var(--ck-spacing-small);
	gap: var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);
	width: 100%;
}
`],sourceRoot:""}]);const B=j},4:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	display: block;
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	&.ck-menu-bar__menu_top-level {
		max-width: 100%;
	}
}
`],sourceRoot:""}]);const B=j},3344:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,qCAAsC,CACtC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECdD,kCDgBC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAgBD,CAbC,+FAEC,iBAAkB,CADlB,WAED,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eAiDD,CA/CC,yFACC,wBAAyB,CACzB,eAKD,CAHC,qGACC,0DACD,CAID,iIACC,+DACD,CAEA,qHACC,mCASD,CAVA,+HAIE,wBAMF,CAVA,+HAQE,uBAEF,CAEA,iICrFD,kCDuFC,CAGC,+HAIC,sCAAuC,CAHvC,gCAID,CAIA,+HACC,+BAAgC,CAGhC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu  {
	& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * All menu buttons.
	 */
	& > .ck-menu-bar__menu__button {
		padding: var(--ck-list-button-padding);
		width: 100%;

		& > .ck-button__label {
			flex-grow: 1;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&.ck-disabled > .ck-button__label {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				padding-right: var(--ck-spacing-small);
			}
		}
	}

	/*
	 * Top-level menu buttons only.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {
		padding: var(--ck-spacing-small) var(--ck-spacing-medium);
		min-height: unset;

		& .ck-button__label {
			width: unset;
			line-height: unset;
		}

		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		& .ck-icon {
			display: none;
		}
	}

	/*
	 * Sub-menu buttons.
	 */
	&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {
		border-radius: 0;

		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}

		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}

		& > .ck-menu-bar__menu__button__arrow {
			width: var(--ck-dropdown-arrow-size);

			@mixin ck-dir ltr {
				transform: rotate(-90deg);
			}

			@mixin ck-dir rtl {
				transform: rotate(90deg);
			}
		}

		&.ck-disabled > .ck-menu-bar__menu__button__arrow {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			& > .ck-menu-bar__menu__button__arrow {
				right: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-left: var(--ck-spacing-standard);
			}
		}

		@mixin ck-dir rtl {
			& > .ck-menu-bar__menu__button__arrow {
				left: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-right: var(--ck-spacing-small);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const B=j},9481:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-item-min-width: 18em;
}

.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {
	min-width: var(--ck-menu-bar-menu-item-min-width);
}
`],sourceRoot:""}]);const B=j},977:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css"],names:[],mappings:"AASC,iEACC,eA0BD,CAxBC,0LAGC,8BACD,CAEA,uFAEC,4CAA+C,CAC/C,oCACD,CAMA,uEACC,wBAAyB,CACzB,eAKD,CAHC,mFACC,0DACD,CASD,uLACC,+DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/*
	 * List item buttons.
	 */
	& .ck-button.ck-menu-bar__menu__item__button {
		border-radius: 0;

		& > .ck-spinner-container,
		& > .ck-spinner-container .ck-spinner {
			/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
			--ck-toolbar-spinner-size: 20px;
		}

		& > .ck-spinner-container {
			/* These margins are the same as for .ck-icon. */
			margin-left: calc(-1 * var(--ck-spacing-small));
			margin-right: var(--ck-spacing-small);
		}

		/*
		 * Hovered items automatically get focused. Default focus styles look odd
		 * while moving across a huge list of items so let's get rid of them
		 */
		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}
	}

	/*
	 * First-level sub-menu item buttons.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__panel > ul > .ck-menu-bar__menu__item > .ck-menu-bar__menu__item__button {
		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}
	}
}


`],sourceRoot:""}]);const B=j},9108:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCpDD,MACC,uCACD,CAEA,mDCDC,eDmCD,CAlCA,6ICGE,qCD+BF,CAlCA,mDAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CETT,oCAA8B,CFU9B,kBAAmB,CACnB,iDA0BD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-max-width: 75vw;
	--ck-menu-bar-nested-menu-horizontal-offset: 5px;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	z-index: var(--ck-z-panel);
	max-width: var(--ck-menu-bar-menu-max-width);
	position: absolute;

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_nw {
		bottom: 100%;
	}

	&.ck-menu-bar__menu__panel_position_se,
	&.ck-menu-bar__menu__panel_position_sw {
		top: 100%;
		bottom: auto;
	}

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_se {
		left: 0px;
	}

	&.ck-menu-bar__menu__panel_position_nw,
	&.ck-menu-bar__menu__panel_position_sw {
		right: 0px;
	}

	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_en {
		left: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_es {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_en {
		bottom: 0px;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_wn {
		right: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_ws {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_wn {
		bottom: 0px;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-menu-bar-menu-panel-max-width: 75vw;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-menu-bar-menu-panel-max-width);

	/* Corner border radius consistent with the button. */
	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_se {
		border-top-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_sw {
		border-top-right-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_en,
	&.ck-menu-bar__menu__panel_position_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_wn,
	&.ck-menu-bar__menu__panel_position_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},3710:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},991:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const B=j},5380:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},8298:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},2722:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDrEH",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text,
			& .ck-input-number {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},8107:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const B=j},109:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCAAsC,CADtC,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 3s;
	}
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}
`],sourceRoot:""}]);const B=j},1671:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const B=j},2710:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const B=j},9677:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},9205:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-balloon-panel.ck-tooltip {
	@mixin ck-unselectable;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const B=j},7676:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;

	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const B=j},695:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAYD,CARC,yGCnCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YD2CA,CGvCA,4BACC,yGHoCC,iEGlCD,CACD,CHuCA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
		@mixin ck-media-default-colors {
			background-color: var(--ck-color-widget-editable-focus-background);
		}
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);

				@media (prefers-reduced-motion: reduce) {
					transition: none;
				}
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const B=j},4095:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const B=j},8508:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}

			@media (prefers-reduced-motion: reduce) {
				animation: none;

				& svg {
					& polyline {
						animation: none;
					}

					& line {
						animation: none;
					}
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const B=j},935:_=>{_.exports=function(y){var v=[];return v.toString=function(){return this.map(function(N){var S=y(N);return N[2]?"@media ".concat(N[2]," {").concat(S,"}"):S}).join("")},v.i=function(N,S,D){typeof N=="string"&&(N=[[null,N,""]]);var j={};if(D)for(var B=0;B<this.length;B++){var F=this[B][0];F!=null&&(j[F]=!0)}for(var H=0;H<N.length;H++){var $=[].concat(N[H]);D&&j[$[0]]||(S&&($[2]?$[2]="".concat(S," and ").concat($[2]):$[2]=S),v.push($))}},v}},9372:_=>{function y(N,S){return function(D){if(Array.isArray(D))return D}(N)||function(D,j){var B=D&&(typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"]);if(B!=null){var F,H,$=[],K=!0,Q=!1;try{for(B=B.call(D);!(K=(F=B.next()).done)&&($.push(F.value),!j||$.length!==j);K=!0);}catch(ee){Q=!0,H=ee}finally{try{K||B.return==null||B.return()}finally{if(Q)throw H}}return $}}(N,S)||function(D,j){if(D){if(typeof D=="string")return v(D,j);var B=Object.prototype.toString.call(D).slice(8,-1);if(B==="Object"&&D.constructor&&(B=D.constructor.name),B==="Map"||B==="Set")return Array.from(D);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return v(D,j)}}(N,S)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(N,S){(S==null||S>N.length)&&(S=N.length);for(var D=0,j=new Array(S);D<S;D++)j[D]=N[D];return j}_.exports=function(N){var S=y(N,4),D=S[1],j=S[3];if(!j)return D;if(typeof btoa=="function"){var B=btoa(unescape(encodeURIComponent(JSON.stringify(j)))),F="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(B),H="/*# ".concat(F," */"),$=j.sources.map(function(K){return"/*# sourceURL=".concat(j.sourceRoot||"").concat(K," */")});return[D].concat($).concat([H]).join(`
`)}return[D].join(`
`)}},2591:(_,y,v)=>{var N,S=function(){return N===void 0&&(N=!!(window&&document&&document.all&&!window.atob)),N},D=function(){var q={};return function(ue){if(q[ue]===void 0){var oe=document.querySelector(ue);if(window.HTMLIFrameElement&&oe instanceof window.HTMLIFrameElement)try{oe=oe.contentDocument.head}catch{oe=null}q[ue]=oe}return q[ue]}}(),j=[];function B(q){for(var ue=-1,oe=0;oe<j.length;oe++)if(j[oe].identifier===q){ue=oe;break}return ue}function F(q,ue){for(var oe={},be=[],pe=0;pe<q.length;pe++){var we=q[pe],je=ue.base?we[0]+ue.base:we[0],ye=oe[je]||0,Me="".concat(je," ").concat(ye);oe[je]=ye+1;var le=B(Me),_e={css:we[1],media:we[2],sourceMap:we[3]};le!==-1?(j[le].references++,j[le].updater(_e)):j.push({identifier:Me,updater:se(_e,ue),references:1}),be.push(Me)}return be}function H(q){var ue=document.createElement("style"),oe=q.attributes||{};if(oe.nonce===void 0){var be=v.nc;be&&(oe.nonce=be)}if(Object.keys(oe).forEach(function(we){ue.setAttribute(we,oe[we])}),typeof q.insert=="function")q.insert(ue);else{var pe=D(q.insert||"head");if(!pe)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");pe.appendChild(ue)}return ue}var $,K=($=[],function(q,ue){return $[q]=ue,$.filter(Boolean).join(`
`)});function Q(q,ue,oe,be){var pe=oe?"":be.media?"@media ".concat(be.media," {").concat(be.css,"}"):be.css;if(q.styleSheet)q.styleSheet.cssText=K(ue,pe);else{var we=document.createTextNode(pe),je=q.childNodes;je[ue]&&q.removeChild(je[ue]),je.length?q.insertBefore(we,je[ue]):q.appendChild(we)}}function ee(q,ue,oe){var be=oe.css,pe=oe.media,we=oe.sourceMap;if(pe?q.setAttribute("media",pe):q.removeAttribute("media"),we&&typeof btoa<"u"&&(be+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(we))))," */")),q.styleSheet)q.styleSheet.cssText=be;else{for(;q.firstChild;)q.removeChild(q.firstChild);q.appendChild(document.createTextNode(be))}}var ne=null,ce=0;function se(q,ue){var oe,be,pe;if(ue.singleton){var we=ce++;oe=ne||(ne=H(ue)),be=Q.bind(null,oe,we,!1),pe=Q.bind(null,oe,we,!0)}else oe=H(ue),be=ee.bind(null,oe,ue),pe=function(){(function(je){if(je.parentNode===null)return!1;je.parentNode.removeChild(je)})(oe)};return be(q),function(je){if(je){if(je.css===q.css&&je.media===q.media&&je.sourceMap===q.sourceMap)return;be(q=je)}else pe()}}_.exports=function(q,ue){(ue=ue||{}).singleton||typeof ue.singleton=="boolean"||(ue.singleton=S());var oe=F(q=q||[],ue);return function(be){if(be=be||[],Object.prototype.toString.call(be)==="[object Array]"){for(var pe=0;pe<oe.length;pe++){var we=B(oe[pe]);j[we].references--}for(var je=F(be,ue),ye=0;ye<oe.length;ye++){var Me=B(oe[ye]);j[Me].references===0&&(j[Me].updater(),j.splice(Me,1))}oe=je}}}}},o={};function h(_){var y=o[_];if(y!==void 0)return y.exports;var v=o[_]={id:_,exports:{}};return s[_](v,v.exports,h),v.exports}h.n=_=>{var y=_&&_.__esModule?()=>_.default:()=>_;return h.d(y,{a:y}),y},h.d=(_,y)=>{for(var v in y)h.o(y,v)&&!h.o(_,v)&&Object.defineProperty(_,v,{enumerable:!0,get:y[v]})},h.o=(_,y)=>Object.prototype.hasOwnProperty.call(_,y),h.nc=void 0;var g={};return(()=>{let _;h.d(g,{default:()=>Yy});try{_={window,document}}catch{_={window:{},document:{}}}const y=_,v=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var N;const S={isMac:D(v),isWindows:(N=v,N.indexOf("windows")>-1),isGecko:function(r){return!!r.match(/gecko\/\d+/)}(v),isSafari:function(r){return r.indexOf(" applewebkit/")>-1&&r.indexOf("chrome")===-1}(v),isiOS:function(r){return!!r.match(/iphone|ipad/i)||D(r)&&navigator.maxTouchPoints>0}(v),isAndroid:function(r){return r.indexOf("android")>-1}(v),isBlink:function(r){return r.indexOf("chrome/")>-1&&r.indexOf("edge/")<0}(v),features:{isRegExpUnicodePropertySupported:function(){let r=!1;try{r="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return r}()}};function D(r){return r.indexOf("macintosh")>-1}function j(r,e,t,n){t=t||function(w,A){return w===A};const a=Array.isArray(r)?r:Array.prototype.slice.call(r),u=Array.isArray(e)?e:Array.prototype.slice.call(e),f=function(w,A,E){const O=B(w,A,E);if(O===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const z=F(w,O),U=F(A,O),W=B(z,U,E),X=w.length-W,ae=A.length-W;return{firstIndex:O,lastIndexOld:X,lastIndexNew:ae}}(a,u,t);return n?function(w,A){const{firstIndex:E,lastIndexOld:O,lastIndexNew:z}=w;if(E===-1)return Array(A).fill("equal");let U=[];return E>0&&(U=U.concat(Array(E).fill("equal"))),z-E>0&&(U=U.concat(Array(z-E).fill("insert"))),O-E>0&&(U=U.concat(Array(O-E).fill("delete"))),z<A&&(U=U.concat(Array(A-z).fill("equal"))),U}(f,u.length):function(w,A){const E=[],{firstIndex:O,lastIndexOld:z,lastIndexNew:U}=A;return U-O>0&&E.push({index:O,type:"insert",values:w.slice(O,U)}),z-O>0&&E.push({index:O+(U-O),type:"delete",howMany:z-O}),E}(u,f)}function B(r,e,t){for(let n=0;n<Math.max(r.length,e.length);n++)if(r[n]===void 0||e[n]===void 0||!t(r[n],e[n]))return n;return-1}function F(r,e){return r.slice(e).reverse()}function H(r,e,t){t=t||function(X,ae){return X===ae};const n=r.length,a=e.length;if(n>200||a>200||n+a>300)return H.fastDiff(r,e,t,!0);let u,f;if(a<n){const X=r;r=e,e=X,u="delete",f="insert"}else u="insert",f="delete";const b=r.length,w=e.length,A=w-b,E={},O={};function z(X){const ae=(O[X-1]!==void 0?O[X-1]:-1)+1,ge=O[X+1]!==void 0?O[X+1]:-1,De=ae>ge?-1:1;E[X+De]&&(E[X]=E[X+De].slice(0)),E[X]||(E[X]=[]),E[X].push(ae>ge?u:f);let Ze=Math.max(ae,ge),ft=Ze-X;for(;ft<b&&Ze<w&&t(r[ft],e[Ze]);)ft++,Ze++,E[X].push("equal");return Ze}let U,W=0;do{for(U=-W;U<A;U++)O[U]=z(U);for(U=A+W;U>A;U--)O[U]=z(U);O[A]=z(A),W++}while(O[A]!==w);return E[A].slice(1)}H.fastDiff=j;const $=function(){return function r(){r.called=!0}};class K{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=$(),this.off=$()}}const Q=new Array(256).fill("").map((r,e)=>("0"+e.toString(16)).slice(-2));function ee(){const r=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0;return"e"+Q[255&r]+Q[r>>8&255]+Q[r>>16&255]+Q[r>>24&255]+Q[255&e]+Q[e>>8&255]+Q[e>>16&255]+Q[e>>24&255]+Q[255&t]+Q[t>>8&255]+Q[t>>16&255]+Q[t>>24&255]+Q[255&n]+Q[n>>8&255]+Q[n>>16&255]+Q[n>>24&255]}const ne={get(r="normal"){return typeof r!="number"?this[r]||this.normal:r},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function ce(r,e){const t=ne.get(e.priority);for(let n=0;n<r.length;n++)if(ne.get(r[n].priority)<t)return void r.splice(n,0,e);r.push(e)}const se="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class q extends Error{constructor(e,t,n){super(function(a,u){const f=new WeakSet,b=(E,O)=>{if(typeof O=="object"&&O!==null){if(f.has(O))return`[object ${O.constructor.name}]`;f.add(O)}return O},w=u?` ${JSON.stringify(u,b)}`:"",A=be(a);return a+w+A}(e,n)),this.name="CKEditorError",this.context=t,this.data=n}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const n=new q(e.message,t);throw n.stack=e.stack,n}}function ue(r,e){console.warn(...pe(r,e))}function oe(r,e){console.error(...pe(r,e))}function be(r){return`
Read more: ${se}#error-${r}`}function pe(r,e){const t=be(r);return e?[r,e,t]:[r,t]}const we="41.4.2",je=new Date(2024,4,17);if(globalThis.CKEDITOR_VERSION)throw new q("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=we;const ye=Symbol("listeningTo"),Me=Symbol("emitterId"),le=Symbol("delegations"),_e=me(Object);function me(r){return r?class extends r{on(e,t,n){this.listenTo(this,e,t,n)}once(e,t,n){let a=!1;this.listenTo(this,e,(u,...f)=>{a||(a=!0,u.off(),t.call(this,u,...f))},n)}off(e,t){this.stopListening(this,e,t)}listenTo(e,t,n,a={}){let u,f;this[ye]||(this[ye]={});const b=this[ye];Z(e)||Ee(e);const w=Z(e);(u=b[w])||(u=b[w]={emitter:e,callbacks:{}}),(f=u.callbacks[t])||(f=u.callbacks[t]=[]),f.push(n),function(A,E,O,z,U){E._addEventListener?E._addEventListener(O,z,U):A._addEventListener.call(E,O,z,U)}(this,e,t,n,a)}stopListening(e,t,n){const a=this[ye];let u=e&&Z(e);const f=a&&u?a[u]:void 0,b=f&&t?f.callbacks[t]:void 0;if(!(!a||e&&!f||t&&!b))if(n)nt(this,e,t,n),b.indexOf(n)!==-1&&(b.length===1?delete f.callbacks[t]:nt(this,e,t,n));else if(b){for(;n=b.pop();)nt(this,e,t,n);delete f.callbacks[t]}else if(f){for(t in f.callbacks)this.stopListening(e,t);delete a[u]}else{for(u in a)this.stopListening(a[u].emitter);delete this[ye]}}fire(e,...t){try{const n=e instanceof K?e:new K(this,e),a=n.name;let u=Be(this,a);if(n.path.push(this),u){const b=[n,...t];u=Array.from(u);for(let w=0;w<u.length&&(u[w].callback.apply(this,b),n.off.called&&(delete n.off.called,this._removeEventListener(a,u[w].callback)),!n.stop.called);w++);}const f=this[le];if(f){const b=f.get(a),w=f.get("*");b&&Ve(b,n,t),w&&Ve(w,n,t)}return n.return}catch(n){q.rethrowUnexpectedError(n,this)}}delegate(...e){return{to:(t,n)=>{this[le]||(this[le]=new Map),e.forEach(a=>{const u=this[le].get(a);u?u.set(t,n):this[le].set(a,new Map([[t,n]]))})}}}stopDelegating(e,t){if(this[le])if(e)if(t){const n=this[le].get(e);n&&n.delete(t)}else this[le].delete(e);else this[le].clear()}_addEventListener(e,t,n){(function(f,b){const w=fe(f);if(w[b])return;let A=b,E=null;const O=[];for(;A!==""&&!w[A];)w[A]={callbacks:[],childEvents:[]},O.push(w[A]),E&&w[A].childEvents.push(E),E=A,A=A.substr(0,A.lastIndexOf(":"));if(A!==""){for(const z of O)z.callbacks=w[A].callbacks.slice();w[A].childEvents.push(E)}})(this,e);const a=ke(this,e),u={callback:t,priority:ne.get(n.priority)};for(const f of a)ce(f,u)}_removeEventListener(e,t){const n=ke(this,e);for(const a of n)for(let u=0;u<a.length;u++)a[u].callback==t&&(a.splice(u,1),u--)}}:_e}function Ee(r,e){r[Me]||(r[Me]=e||ee())}function Z(r){return r[Me]}function fe(r){return r._events||Object.defineProperty(r,"_events",{value:{}}),r._events}function ke(r,e){const t=fe(r)[e];if(!t)return[];let n=[t.callbacks];for(let a=0;a<t.childEvents.length;a++){const u=ke(r,t.childEvents[a]);n=n.concat(u)}return n}function Be(r,e){let t;return r._events&&(t=r._events[e])&&t.callbacks.length?t.callbacks:e.indexOf(":")>-1?Be(r,e.substr(0,e.lastIndexOf(":"))):null}function Ve(r,e,t){for(let[n,a]of r){a?typeof a=="function"&&(a=a(e.name)):a=e.name;const u=new K(e.source,a);u.path=[...e.path],n.fire(u,...t)}}function nt(r,e,t,n){e._removeEventListener?e._removeEventListener(t,n):r._removeEventListener.call(e,t,n)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(r=>{me[r]=_e.prototype[r]});const te=function(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")},Ce=Symbol("observableProperties"),qe=Symbol("boundObservables"),Ke=Symbol("boundProperties"),Ie=Symbol("decoratedMethods"),rt=Symbol("decoratedOriginal"),Ye=Te(me());function Te(r){return r?class extends r{set(e,t){if(te(e))return void Object.keys(e).forEach(a=>{this.set(a,e[a])},this);ht(this);const n=this[Ce];if(e in this&&!n.has(e))throw new q("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>n.get(e),set(a){const u=n.get(e);let f=this.fire(`set:${e}`,e,a,u);f===void 0&&(f=a),u===f&&n.has(e)||(n.set(e,f),this.fire(`change:${e}`,e,f,u))}}),this[e]=t}bind(...e){if(!e.length||!Rt(e))throw new q("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new q("observable-bind-duplicate-properties",this);ht(this);const t=this[Ke];e.forEach(a=>{if(t.has(a))throw new q("observable-bind-rebind",this)});const n=new Map;return e.forEach(a=>{const u={property:a,to:[]};t.set(a,u),n.set(a,u)}),{to:ze,toMany:ut,_observable:this,_bindProperties:e,_to:[],_bindings:n}}unbind(...e){if(!this[Ce])return;const t=this[Ke],n=this[qe];if(e.length){if(!Rt(e))throw new q("observable-unbind-wrong-properties",this);e.forEach(a=>{const u=t.get(a);u&&(u.to.forEach(([f,b])=>{const w=n.get(f),A=w[b];A.delete(u),A.size||delete w[b],Object.keys(w).length||(n.delete(f),this.stopListening(f,"change"))}),t.delete(a))})}else n.forEach((a,u)=>{this.stopListening(u,"change")}),n.clear(),t.clear()}decorate(e){ht(this);const t=this[e];if(!t)throw new q("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(n,a)=>{n.return=t.apply(this,a)}),this[e]=function(...n){return this.fire(e,n)},this[e][rt]=t,this[Ie]||(this[Ie]=[]),this[Ie].push(e)}stopListening(e,t,n){if(!e&&this[Ie]){for(const a of this[Ie])this[a]=this[a][rt];delete this[Ie]}super.stopListening(e,t,n)}}:Ye}function ht(r){r[Ce]||(Object.defineProperty(r,Ce,{value:new Map}),Object.defineProperty(r,qe,{value:new Map}),Object.defineProperty(r,Ke,{value:new Map}))}function ze(...r){const e=function(...u){if(!u.length)throw new q("observable-bind-to-parse-error",null);const f={to:[]};let b;return typeof u[u.length-1]=="function"&&(f.callback=u.pop()),u.forEach(w=>{if(typeof w=="string")b.properties.push(w);else{if(typeof w!="object")throw new q("observable-bind-to-parse-error",null);b={observable:w,properties:[]},f.to.push(b)}}),f}(...r),t=Array.from(this._bindings.keys()),n=t.length;if(!e.callback&&e.to.length>1)throw new q("observable-bind-to-no-callback",this);if(n>1&&e.callback)throw new q("observable-bind-to-extra-callback",this);var a;e.to.forEach(u=>{if(u.properties.length&&u.properties.length!==n)throw new q("observable-bind-to-properties-length",this);u.properties.length||(u.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),a=this._observable,this._to.forEach(u=>{const f=a[qe];let b;f.get(u.observable)||a.listenTo(u.observable,"change",(w,A)=>{b=f.get(u.observable)[A],b&&b.forEach(E=>{Jt(a,E.property)})})}),function(u){let f;u._bindings.forEach((b,w)=>{u._to.forEach(A=>{f=A.properties[b.callback?0:u._bindProperties.indexOf(w)],b.to.push([A.observable,f]),function(E,O,z,U){const W=E[qe],X=W.get(z),ae=X||{};ae[U]||(ae[U]=new Set),ae[U].add(O),X||W.set(z,ae)}(u._observable,b,A.observable,f)})})}(this),this._bindProperties.forEach(u=>{Jt(this._observable,u)})}function ut(r,e,t){if(this._bindings.size>1)throw new q("observable-bind-to-many-not-one-binding",this);this.to(...function(n,a){const u=n.map(f=>[f,a]);return Array.prototype.concat.apply([],u)}(r,e),t)}function Rt(r){return r.every(e=>typeof e=="string")}function Jt(r,e){const t=r[Ke].get(e);let n;t.callback?n=t.callback.apply(r,t.to.map(a=>a[0][a[1]])):(n=t.to[0],n=n[0][n[1]]),Object.prototype.hasOwnProperty.call(r,e)?r[e]=n:r.set(e,n)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(r=>{Te[r]=Ye.prototype[r]});class ot{constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display="",t&&t.remove()}),this._replacedElements=[]}}function jt(r){let e=0;for(const t of r)e++;return e}function Dt(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++)if(r[n]!=e[n])return n;return r.length==e.length?"same":r.length<e.length?"prefix":"extension"}function Qe(r){return!(!r||!r[Symbol.iterator])}const Mt=typeof Rl=="object"&&Rl&&Rl.Object===Object&&Rl;var Lt=typeof self=="object"&&self&&self.Object===Object&&self;const $e=Mt||Lt||Function("return this")(),bt=$e.Symbol;var $t=Object.prototype,mn=$t.hasOwnProperty,Rn=$t.toString,yn=bt?bt.toStringTag:void 0;const ai=function(r){var e=mn.call(r,yn),t=r[yn];try{r[yn]=void 0;var n=!0}catch{}var a=Rn.call(r);return n&&(e?r[yn]=t:delete r[yn]),a};var br=Object.prototype.toString;const Ar=function(r){return br.call(r)};var er=bt?bt.toStringTag:void 0;const Ii=function(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":er&&er in Object(r)?ai(r):Ar(r)},ii=Array.isArray,Jn=function(r){return r!=null&&typeof r=="object"},Br=function(r){return typeof r=="string"||!ii(r)&&Jn(r)&&Ii(r)=="[object String]"};function fi(r,e,t={},n=[]){const a=t&&t.xmlns,u=a?r.createElementNS(a,e):r.createElement(e);for(const f in t)u.setAttribute(f,t[f]);!Br(n)&&Qe(n)||(n=[n]);for(let f of n)Br(f)&&(f=r.createTextNode(f)),u.appendChild(f);return u}const or=function(r,e){return function(t){return r(e(t))}},kr=or(Object.getPrototypeOf,Object);var tr=Function.prototype,Ue=Object.prototype,qt=tr.toString,lt=Ue.hasOwnProperty,on=qt.call(Object);const Re=function(r){if(!Jn(r)||Ii(r)!="[object Object]")return!1;var e=kr(r);if(e===null)return!0;var t=lt.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&qt.call(t)==on},Ot=function(){this.__data__=[],this.size=0},pt=function(r,e){return r===e||r!=r&&e!=e},Bt=function(r,e){for(var t=r.length;t--;)if(pt(r[t][0],e))return t;return-1};var ln=Array.prototype.splice;const En=function(r){var e=this.__data__,t=Bt(e,r);return!(t<0)&&(t==e.length-1?e.pop():ln.call(e,t,1),--this.size,!0)},Dn=function(r){var e=this.__data__,t=Bt(e,r);return t<0?void 0:e[t][1]},hi=function(r){return Bt(this.__data__,r)>-1},ve=function(r,e){var t=this.__data__,n=Bt(t,r);return n<0?(++this.size,t.push([r,e])):t[n][1]=e,this};function dt(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}dt.prototype.clear=Ot,dt.prototype.delete=En,dt.prototype.get=Dn,dt.prototype.has=hi,dt.prototype.set=ve;const xt=dt,Se=function(){this.__data__=new xt,this.size=0},Et=function(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t},Tt=function(r){return this.__data__.get(r)},vn=function(r){return this.__data__.has(r)},fn=function(r){if(!te(r))return!1;var e=Ii(r);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Pn=$e["__core-js_shared__"];var an=function(){var r=/[^.]+$/.exec(Pn&&Pn.keys&&Pn.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();const ar=function(r){return!!an&&an in r};var Yn=Function.prototype.toString;const Vn=function(r){if(r!=null){try{return Yn.call(r)}catch{}try{return r+""}catch{}}return""};var Yr=/^\[object .+?Constructor\]$/,So=Function.prototype,ys=Object.prototype,Zo=So.toString,xc=ys.hasOwnProperty,ka=RegExp("^"+Zo.call(xc).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const uo=function(r){return!(!te(r)||ar(r))&&(fn(r)?ka:Yr).test(Vn(r))},$s=function(r,e){return r==null?void 0:r[e]},Gr=function(r,e){var t=$s(r,e);return uo(t)?t:void 0},ds=Gr($e,"Map"),us=Gr(Object,"create"),Ra=function(){this.__data__=us?us(null):{},this.size=0},ho=function(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e};var Gn=Object.prototype.hasOwnProperty;const bi=function(r){var e=this.__data__;if(us){var t=e[r];return t==="__lodash_hash_undefined__"?void 0:t}return Gn.call(e,r)?e[r]:void 0};var _r=Object.prototype.hasOwnProperty;const jo=function(r){var e=this.__data__;return us?e[r]!==void 0:_r.call(e,r)},Xo=function(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=us&&e===void 0?"__lodash_hash_undefined__":e,this};function Kr(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}Kr.prototype.clear=Ra,Kr.prototype.delete=ho,Kr.prototype.get=bi,Kr.prototype.has=jo,Kr.prototype.set=Xo;const Sn=Kr,Kn=function(){this.size=0,this.__data__={hash:new Sn,map:new(ds||xt),string:new Sn}},Nr=function(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null},Di=function(r,e){var t=r.__data__;return Nr(e)?t[typeof e=="string"?"string":"hash"]:t.map},Ai=function(r){var e=Di(this,r).delete(r);return this.size-=e?1:0,e},za=function(r){return Di(this,r).get(r)},qs=function(r){return Di(this,r).has(r)},Hi=function(r,e){var t=Di(this,r),n=t.size;return t.set(r,e),this.size+=t.size==n?0:1,this};function $n(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}$n.prototype.clear=Kn,$n.prototype.delete=Ai,$n.prototype.get=za,$n.prototype.has=qs,$n.prototype.set=Hi;const Pr=$n,Er=function(r,e){var t=this.__data__;if(t instanceof xt){var n=t.__data__;if(!ds||n.length<199)return n.push([r,e]),this.size=++t.size,this;t=this.__data__=new Pr(n)}return t.set(r,e),this.size=t.size,this};function hs(r){var e=this.__data__=new xt(r);this.size=e.size}hs.prototype.clear=Se,hs.prototype.delete=Et,hs.prototype.get=Tt,hs.prototype.has=vn,hs.prototype.set=Er;const Ws=hs,xs=function(r,e){for(var t=-1,n=r==null?0:r.length;++t<n&&e(r[t],t,r)!==!1;);return r},Ys=function(){try{var r=Gr(Object,"defineProperty");return r({},"",{}),r}catch{}}(),xe=function(r,e,t){e=="__proto__"&&Ys?Ys(r,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[e]=t};var Ct=Object.prototype.hasOwnProperty;const tn=function(r,e,t){var n=r[e];Ct.call(r,e)&&pt(n,t)&&(t!==void 0||e in r)||xe(r,e,t)},Tn=function(r,e,t,n){var a=!t;t||(t={});for(var u=-1,f=e.length;++u<f;){var b=e[u],w=void 0;w===void 0&&(w=r[b]),a?xe(t,b,w):tn(t,b,w)}return t},ki=function(r,e){for(var t=-1,n=Array(r);++t<r;)n[t]=e(t);return n},zi=function(r){return Jn(r)&&Ii(r)=="[object Arguments]"};var _i=Object.prototype,dl=_i.hasOwnProperty,Zt=_i.propertyIsEnumerable;const Ui=zi(function(){return arguments}())?zi:function(r){return Jn(r)&&dl.call(r,"callee")&&!Zt.call(r,"callee")},ei=function(){return!1};var ms=c&&!c.nodeType&&c,mo=ms&&!0&&l&&!l.nodeType&&l,_a=mo&&mo.exports===ms?$e.Buffer:void 0;const Qr=(_a?_a.isBuffer:void 0)||ei;var fo=/^(?:0|[1-9]\d*)$/;const Gs=function(r,e){var t=typeof r;return!!(e=e??9007199254740991)&&(t=="number"||t!="symbol"&&fo.test(r))&&r>-1&&r%1==0&&r<e},Do=function(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=9007199254740991};var Mn={};Mn["[object Float32Array]"]=Mn["[object Float64Array]"]=Mn["[object Int8Array]"]=Mn["[object Int16Array]"]=Mn["[object Int32Array]"]=Mn["[object Uint8Array]"]=Mn["[object Uint8ClampedArray]"]=Mn["[object Uint16Array]"]=Mn["[object Uint32Array]"]=!0,Mn["[object Arguments]"]=Mn["[object Array]"]=Mn["[object ArrayBuffer]"]=Mn["[object Boolean]"]=Mn["[object DataView]"]=Mn["[object Date]"]=Mn["[object Error]"]=Mn["[object Function]"]=Mn["[object Map]"]=Mn["[object Number]"]=Mn["[object Object]"]=Mn["[object RegExp]"]=Mn["[object Set]"]=Mn["[object String]"]=Mn["[object WeakMap]"]=!1;const Cs=function(r){return Jn(r)&&Do(r.length)&&!!Mn[Ii(r)]},Hl=function(r){return function(e){return r(e)}};var Sr=c&&!c.nodeType&&c,As=Sr&&!0&&l&&!l.nodeType&&l,Jo=As&&As.exports===Sr&&Mt.process;const fs=function(){try{var r=As&&As.require&&As.require("util").types;return r||Jo&&Jo.binding&&Jo.binding("util")}catch{}}();var wd=fs&&fs.isTypedArray;const To=wd?Hl(wd):Cs;var zn=Object.prototype.hasOwnProperty;const Fa=function(r,e){var t=ii(r),n=!t&&Ui(r),a=!t&&!n&&Qr(r),u=!t&&!n&&!a&&To(r),f=t||n||a||u,b=f?ki(r.length,String):[],w=b.length;for(var A in r)!e&&!zn.call(r,A)||f&&(A=="length"||a&&(A=="offset"||A=="parent")||u&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||Gs(A,w))||b.push(A);return b};var Zr=Object.prototype;const Ns=function(r){var e=r&&r.constructor;return r===(typeof e=="function"&&e.prototype||Zr)},xu=or(Object.keys,Object);var Cu=Object.prototype.hasOwnProperty;const Cc=function(r){if(!Ns(r))return xu(r);var e=[];for(var t in Object(r))Cu.call(r,t)&&t!="constructor"&&e.push(t);return e},Va=function(r){return r!=null&&Do(r.length)&&!fn(r)},Ha=function(r){return Va(r)?Fa(r):Cc(r)},Au=function(r,e){return r&&Tn(e,Ha(e),r)},yd=function(r){var e=[];if(r!=null)for(var t in Object(r))e.push(t);return e};var Ac=Object.prototype.hasOwnProperty;const yh=function(r){if(!te(r))return yd(r);var e=Ns(r),t=[];for(var n in r)(n!="constructor"||!e&&Ac.call(r,n))&&t.push(n);return t},Rr=function(r){return Va(r)?Fa(r,!0):yh(r)},Nu=function(r,e){return r&&Tn(e,Rr(e),r)};var Nc=c&&!c.nodeType&&c,Ks=Nc&&!0&&l&&!l.nodeType&&l,xd=Ks&&Ks.exports===Nc?$e.Buffer:void 0,Ul=xd?xd.allocUnsafe:void 0;const ul=function(r,e){if(e)return r.slice();var t=r.length,n=Ul?Ul(t):new r.constructor(t);return r.copy(n),n},Cd=function(r,e){var t=-1,n=r.length;for(e||(e=Array(n));++t<n;)e[t]=r[t];return e},Ad=function(r,e){for(var t=-1,n=r==null?0:r.length,a=0,u=[];++t<n;){var f=r[t];e(f,t,r)&&(u[a++]=f)}return u},Mo=function(){return[]};var Nd=Object.prototype.propertyIsEnumerable,Eu=Object.getOwnPropertySymbols;const hl=Eu?function(r){return r==null?[]:(r=Object(r),Ad(Eu(r),function(e){return Nd.call(r,e)}))}:Mo,xh=function(r,e){return Tn(r,hl(r),e)},Ed=function(r,e){for(var t=-1,n=e.length,a=r.length;++t<n;)r[a+t]=e[t];return r},Sd=Object.getOwnPropertySymbols?function(r){for(var e=[];r;)Ed(e,hl(r)),r=kr(r);return e}:Mo,Ec=function(r,e){return Tn(r,Sd(r),e)},ea=function(r,e,t){var n=e(r);return ii(r)?n:Ed(n,t(r))},Sc=function(r){return ea(r,Ha,hl)},Ua=function(r){return ea(r,Rr,Sd)},$i=Gr($e,"DataView"),Io=Gr($e,"Promise"),$l=Gr($e,"Set"),$a=Gr($e,"WeakMap");var ql="[object Map]",Wl="[object Promise]",jd="[object Set]",qa="[object WeakMap]",Dd="[object DataView]",Ch=Vn($i),po=Vn(ds),Wa=Vn(Io),Qs=Vn($l),ps=Vn($a),Zs=Ii;($i&&Zs(new $i(new ArrayBuffer(1)))!=Dd||ds&&Zs(new ds)!=ql||Io&&Zs(Io.resolve())!=Wl||$l&&Zs(new $l)!=jd||$a&&Zs(new $a)!=qa)&&(Zs=function(r){var e=Ii(r),t=e=="[object Object]"?r.constructor:void 0,n=t?Vn(t):"";if(n)switch(n){case Ch:return Dd;case po:return ql;case Wa:return Wl;case Qs:return jd;case ps:return qa}return e});const go=Zs;var jc=Object.prototype.hasOwnProperty;const ml=function(r){var e=r.length,t=new r.constructor(e);return e&&typeof r[0]=="string"&&jc.call(r,"index")&&(t.index=r.index,t.input=r.input),t},Ya=$e.Uint8Array,bo=function(r){var e=new r.constructor(r.byteLength);return new Ya(e).set(new Ya(r)),e},Td=function(r,e){var t=e?bo(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.byteLength)};var ta=/\w*$/;const fl=function(r){var e=new r.constructor(r.source,ta.exec(r));return e.lastIndex=r.lastIndex,e};var Md=bt?bt.prototype:void 0,Dc=Md?Md.valueOf:void 0;const Su=function(r){return Dc?Object(Dc.call(r)):{}},ko=function(r,e){var t=e?bo(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.length)},ju=function(r,e,t){var n=r.constructor;switch(e){case"[object ArrayBuffer]":return bo(r);case"[object Boolean]":case"[object Date]":return new n(+r);case"[object DataView]":return Td(r,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ko(r,t);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(r);case"[object RegExp]":return fl(r);case"[object Symbol]":return Su(r)}};var Oo=Object.create;const gs=function(){function r(){}return function(e){if(!te(e))return{};if(Oo)return Oo(e);r.prototype=e;var t=new r;return r.prototype=void 0,t}}(),zr=function(r){return typeof r.constructor!="function"||Ns(r)?{}:gs(kr(r))},Fr=function(r){return Jn(r)&&go(r)=="[object Map]"};var Tc=fs&&fs.isMap;const Mc=Tc?Hl(Tc):Fr,pl=function(r){return Jn(r)&&go(r)=="[object Set]"};var Ga=fs&&fs.isSet;const Ic=Ga?Hl(Ga):pl;var Xs="[object Arguments]",Ka="[object Function]",va="[object Object]",pi={};pi[Xs]=pi["[object Array]"]=pi["[object ArrayBuffer]"]=pi["[object DataView]"]=pi["[object Boolean]"]=pi["[object Date]"]=pi["[object Float32Array]"]=pi["[object Float64Array]"]=pi["[object Int8Array]"]=pi["[object Int16Array]"]=pi["[object Int32Array]"]=pi["[object Map]"]=pi["[object Number]"]=pi[va]=pi["[object RegExp]"]=pi["[object Set]"]=pi["[object String]"]=pi["[object Symbol]"]=pi["[object Uint8Array]"]=pi["[object Uint8ClampedArray]"]=pi["[object Uint16Array]"]=pi["[object Uint32Array]"]=!0,pi["[object Error]"]=pi[Ka]=pi["[object WeakMap]"]=!1;const Oc=function r(e,t,n,a,u,f){var b,w=1&t,A=2&t,E=4&t;if(n&&(b=u?n(e,a,u,f):n(e)),b!==void 0)return b;if(!te(e))return e;var O=ii(e);if(O){if(b=ml(e),!w)return Cd(e,b)}else{var z=go(e),U=z==Ka||z=="[object GeneratorFunction]";if(Qr(e))return ul(e,w);if(z==va||z==Xs||U&&!u){if(b=A||U?{}:zr(e),!w)return A?Ec(e,Nu(b,e)):xh(e,Au(b,e))}else{if(!pi[z])return u?e:{};b=ju(e,z,w)}}f||(f=new Ws);var W=f.get(e);if(W)return W;f.set(e,b),Ic(e)?e.forEach(function(ae){b.add(r(ae,t,n,ae,e,f))}):Mc(e)&&e.forEach(function(ae,ge){b.set(ge,r(ae,t,n,ge,e,f))});var X=O?void 0:(E?A?Ua:Sc:A?Rr:Ha)(e);return xs(X||e,function(ae,ge){X&&(ae=e[ge=ae]),tn(b,ge,r(ae,t,n,ge,e,f))}),b},Es=function(r,e){return Oc(r,5,e=typeof e=="function"?e:void 0)},Ss=function(r){return Jn(r)&&r.nodeType===1&&!Re(r)};class Qa{constructor(e,t){this._config={},t&&this.define(Id(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,n,a=!1){if(Re(t))return void this._setObjectToTarget(e,t,a);const u=t.split(".");t=u.pop();for(const f of u)Re(e[f])||(e[f]={}),e=e[f];if(Re(n))return Re(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,n,a);a&&e[t]!==void 0||(e[t]=n)}_getFromSource(e,t){const n=t.split(".");t=n.pop();for(const a of n){if(!Re(e[a])){e=null;break}e=e[a]}return e?Id(e[t]):void 0}_setObjectToTarget(e,t,n){Object.keys(t).forEach(a=>{this._setToTarget(e,a,t[a],n)})}}function Id(r){return Es(r,wa)}function wa(r){return Ss(r)||typeof r=="function"?r:void 0}function Xr(r){if(r){if(r.defaultView)return r instanceof r.defaultView.Document;if(r.ownerDocument&&r.ownerDocument.defaultView)return r instanceof r.ownerDocument.defaultView.Node}return!1}function nr(r){const e=Object.prototype.toString.apply(r);return e=="[object Window]"||e=="[object global]"}const Za=Js(me());function Js(r){return r?class extends r{listenTo(e,t,n,a={}){if(Xr(e)||nr(e)){const u={capture:!!a.useCapture,passive:!!a.usePassive},f=this._getProxyEmitter(e,u)||new Yl(e,u);this.listenTo(f,t,n,a)}else super.listenTo(e,t,n,a)}stopListening(e,t,n){if(Xr(e)||nr(e)){const a=this._getAllProxyEmitters(e);for(const u of a)this.stopListening(u,t,n)}else super.stopListening(e,t,n)}_getProxyEmitter(e,t){return function(n,a){const u=n[ye];return u&&u[a]?u[a].emitter:null}(this,Od(e,t))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(t=>this._getProxyEmitter(e,t)).filter(t=>!!t)}}:Za}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(r=>{Js[r]=Za.prototype[r]});class Yl extends me(){constructor(e,t){super(),Ee(this,Od(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,t,n){this.attach(e),me().prototype._addEventListener.call(this,e,t,n)}_removeEventListener(e,t){me().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=n=>{this.fire(e,n)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function Od(r,e){let t=function(n){return n["data-ck-expando"]||(n["data-ck-expando"]=ee())}(r);for(const n of Object.keys(e).sort())e[n]&&(t+="-"+n);return t}function Gl(r){const e=r.ownerDocument.defaultView.getComputedStyle(r);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function qi(r){return Object.prototype.toString.call(r)=="[object Text]"}function Lo(r){return Object.prototype.toString.apply(r)=="[object Range]"}function eo(r){return r&&r.parentNode?r.offsetParent===y.document.body?null:r.offsetParent:null}const ya=["top","right","bottom","left","width","height"];class pn{constructor(e){const t=Lo(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),js(e)||t)if(t){const n=pn.getDomRangeRects(e);jr(this,pn.getBoundingRect(n))}else jr(this,e.getBoundingClientRect());else if(nr(e)){const{innerWidth:n,innerHeight:a}=e;jr(this,{top:0,right:n,bottom:a,left:0,width:n,height:a})}else jr(this,e)}clone(){return new pn(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const n=new pn(t);return n._source=this._source,n}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(Xa(e))return t;let n,a=e,u=e.parentNode||e.commonAncestorContainer;for(;u&&!Xa(u);){const b=((f=u)instanceof HTMLElement?f.ownerDocument.defaultView.getComputedStyle(f).overflow:"visible")==="visible";a instanceof HTMLElement&&gl(a)==="absolute"&&(n=a);const w=gl(u);if(b||n&&(w==="relative"&&b||w!=="relative")){a=u,u=u.parentNode;continue}const A=new pn(u),E=t.getIntersection(A);if(!E)return null;E.getArea()<t.getArea()&&(t=E),a=u,u=u.parentNode}var f;return t}isEqual(e){for(const t of ya)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!(!t||!t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=y.window,n=this.clone().moveBy(e,t);if(js(n._source)){const a=eo(n._source);a&&function(u,f){const b=new pn(f),w=Gl(f);let A=0,E=0;A-=b.left,E-=b.top,A+=f.scrollLeft,E+=f.scrollTop,A-=w.left,E-=w.top,u.moveBy(A,E)}(n,a)}return n}excludeScrollbarsAndBorders(){const e=this._source;let t,n,a;if(nr(e))t=e.innerWidth-e.document.documentElement.clientWidth,n=e.innerHeight-e.document.documentElement.clientHeight,a=e.getComputedStyle(e.document.documentElement).direction;else{const u=Gl(e);t=e.offsetWidth-e.clientWidth-u.left-u.right,n=e.offsetHeight-e.clientHeight-u.top-u.bottom,a=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=u.left,this.top+=u.top,this.right-=u.right,this.bottom-=u.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,a==="ltr"?this.right-=t:this.left+=t,this.height-=n,this.bottom-=n,this}static getDomRangeRects(e){const t=[],n=Array.from(e.getClientRects());if(n.length)for(const a of n)t.push(new pn(a));else{let a=e.startContainer;qi(a)&&(a=a.parentNode);const u=new pn(a.getBoundingClientRect());u.right=u.left,u.width=0,t.push(u)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const a of e)n++,t.left=Math.min(t.left,a.left),t.top=Math.min(t.top,a.top),t.right=Math.max(t.right,a.right),t.bottom=Math.max(t.bottom,a.bottom);return n==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new pn(t))}}function jr(r,e){for(const t of ya)r[t]=e[t]}function Xa(r){return!!js(r)&&r===r.ownerDocument.body}function js(r){return r!==null&&typeof r=="object"&&r.nodeType===1&&typeof r.getBoundingClientRect=="function"}function gl(r){return r instanceof HTMLElement?r.ownerDocument.defaultView.getComputedStyle(r).position:"static"}const Oi=class{constructor(r,e){Oi._observerInstance||Oi._createObserver(),this._element=r,this._callback=e,Oi._addElementCallback(r,e),Oi._observerInstance.observe(r)}get element(){return this._element}destroy(){Oi._deleteElementCallback(this._element,this._callback)}static _addElementCallback(r,e){Oi._elementCallbacks||(Oi._elementCallbacks=new Map);let t=Oi._elementCallbacks.get(r);t||(t=new Set,Oi._elementCallbacks.set(r,t)),t.add(e)}static _deleteElementCallback(r,e){const t=Oi._getElementCallbacks(r);t&&(t.delete(e),t.size||(Oi._elementCallbacks.delete(r),Oi._observerInstance.unobserve(r))),Oi._elementCallbacks&&!Oi._elementCallbacks.size&&(Oi._observerInstance=null,Oi._elementCallbacks=null)}static _getElementCallbacks(r){return Oi._elementCallbacks?Oi._elementCallbacks.get(r):null}static _createObserver(){Oi._observerInstance=new y.window.ResizeObserver(r=>{for(const e of r){const t=Oi._getElementCallbacks(e.target);if(t)for(const n of t)n(e)}})}};let _o=Oi;function Jr(r,e){r instanceof HTMLTextAreaElement&&(r.value=e),r.innerHTML=e}function vo(r){return e=>e+r}function to(r){let e=0;for(;r.previousSibling;)r=r.previousSibling,e++;return e}function xa(r,e,t){r.insertBefore(t,r.childNodes[e]||null)}function bl(r){return r&&r.nodeType===Node.COMMENT_NODE}function dr(r){return!!(r&&r.getClientRects&&r.getClientRects().length)}_o._observerInstance=null,_o._elementCallbacks=null;var Kl=Math.pow;function Ds({element:r,target:e,positions:t,limiter:n,fitInViewport:a,viewportOffsetConfig:u}){fn(e)&&(e=e()),fn(n)&&(n=n());const f=eo(r),b=function(z){z=Object.assign({top:0,bottom:0,left:0,right:0},z);const U=new pn(y.window);return U.top+=z.top,U.height-=z.top,U.bottom-=z.bottom,U.height-=z.bottom,U}(u),w=new pn(r),A=Lc(e,b);let E;if(!A||!b.getIntersection(A))return null;const O={targetRect:A,elementRect:w,positionedElementAncestor:f,viewportRect:b};if(n||a){if(n){const z=Lc(n,b);z&&(O.limiterRect=z)}E=function(z,U){const{elementRect:W}=U,X=W.getArea(),ae=z.map(Ze=>new kl(Ze,U)).filter(Ze=>!!Ze.name);let ge=0,De=null;for(const Ze of ae){const{limiterIntersectionArea:ft,viewportIntersectionArea:Ht}=Ze;if(ft===X)return Ze;const jn=Kl(Ht,2)+Kl(ft,2);jn>ge&&(ge=jn,De=Ze)}return De}(t,O)}else E=new kl(t[0],O);return E}function Lc(r,e){const t=new pn(r).getVisible();return t?t.getIntersection(e):null}class kl{constructor(e,t){const n=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!n)return;const{left:a,top:u,name:f,config:b}=n;this.name=f,this.config=b,this._positioningFunctionCoordinates={left:a,top:u},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function wo(r){const e=r.parentNode;e&&e.removeChild(r)}function _l({window:r,rect:e,alignToTop:t,forceScroll:n,viewportOffset:a}){const u=e.clone().moveBy(0,a.bottom),f=e.clone().moveBy(0,-a.top),b=new pn(r).excludeScrollbarsAndBorders(),w=t&&n,A=[f,u].every(W=>b.contains(W));let{scrollX:E,scrollY:O}=r;const z=E,U=O;w?O-=b.top-e.top+a.top:A||(Ca(f,b)?O-=b.top-e.top+a.top:na(u,b)&&(O+=t?e.top-b.top-a.top:e.bottom-b.bottom+a.bottom)),A||(p(e,b)?E-=b.left-e.left+a.left:x(e,b)&&(E+=e.right-b.right+a.right)),E==z&&O===U||r.scrollTo(E,O)}function Bc({parent:r,getRect:e,alignToTop:t,forceScroll:n,ancestorOffset:a=0,limiterElement:u}){const f=T(r),b=t&&n;let w,A,E;const O=u||f.document.body;for(;r!=O;)A=e(),w=new pn(r).excludeScrollbarsAndBorders(),E=w.contains(A),b?r.scrollTop-=w.top-A.top+a:E||(Ca(A,w)?r.scrollTop-=w.top-A.top+a:na(A,w)&&(r.scrollTop+=t?A.top-w.top-a:A.bottom-w.bottom+a)),E||(p(A,w)?r.scrollLeft-=w.left-A.left+a:x(A,w)&&(r.scrollLeft+=A.right-w.right+a)),r=r.parentNode}function na(r,e){return r.bottom>e.bottom}function Ca(r,e){return r.top<e.top}function p(r,e){return r.left<e.left}function x(r,e){return r.right>e.right}function T(r){return Lo(r)?r.startContainer.ownerDocument.defaultView:r.ownerDocument.defaultView}function V(r){if(Lo(r)){let e=r.commonAncestorContainer;return qi(e)&&(e=e.parentNode),e}return r.parentNode}function G(r,e){const t=T(r),n=new pn(r);if(t===e)return n;{let a=t;for(;a!=e;){const u=a.frameElement,f=new pn(u).excludeScrollbarsAndBorders();n.moveBy(f.left,f.top),a=a.parent}}return n}const re={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},Ae={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},We={37:"←",38:"↑",39:"→",40:"↓",9:"⇥",33:"Page Up",34:"Page Down"},Fe=function(){const r={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)r[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)r[e-48]=e;for(let e=112;e<=123;e++)r["f"+(e-111)]=e;return Object.assign(r,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),r}(),Nt=Object.fromEntries(Object.entries(Fe).map(([r,e])=>{let t;return t=e in We?We[e]:r.charAt(0).toUpperCase()+r.slice(1),[e,t]}));function zt(r){let e;if(typeof r=="string"){if(e=Fe[r.toLowerCase()],!e)throw new q("keyboard-unknown-key",null,{key:r})}else e=r.keyCode+(r.altKey?Fe.alt:0)+(r.ctrlKey?Fe.ctrl:0)+(r.shiftKey?Fe.shift:0)+(r.metaKey?Fe.cmd:0);return e}function Gt(r){return typeof r=="string"&&(r=function(e){return e.split("+").map(t=>t.trim())}(r)),r.map(e=>typeof e=="string"?function(t){if(t.endsWith("!"))return zt(t.slice(0,-1));const n=zt(t);return(S.isMac||S.isiOS)&&n==Fe.ctrl?Fe.cmd:n}(e):e).reduce((e,t)=>t+e,0)}function rn(r){let e=Gt(r);return Object.entries(S.isMac||S.isiOS?re:Ae).reduce((t,[n,a])=>(e&Fe[n]&&(e&=~Fe[n],t+=a),t),"")+(e?Nt[e]:"")}function kn(r,e){const t=e==="ltr";switch(r){case Fe.arrowleft:return t?"left":"right";case Fe.arrowright:return t?"right":"left";case Fe.arrowup:return"up";case Fe.arrowdown:return"down"}}function gn(r){return Array.isArray(r)?r:[r]}const vi=function(r,e,t){(t!==void 0&&!pt(r[e],t)||t===void 0&&!(e in r))&&xe(r,e,t)},ur=function(r){return function(e,t,n){for(var a=-1,u=Object(e),f=n(e),b=f.length;b--;){var w=f[++a];if(t(u[w],w,u)===!1)break}return e}}(),Ts=function(r){return Jn(r)&&Va(r)},Ld=function(r,e){if((e!=="constructor"||typeof r[e]!="function")&&e!="__proto__")return r[e]},Du=function(r){return Tn(r,Rr(r))},Ql=function(r,e,t,n,a,u,f){var b=Ld(r,t),w=Ld(e,t),A=f.get(w);if(A)vi(r,t,A);else{var E=void 0,O=E===void 0;if(O){var z=ii(w),U=!z&&Qr(w),W=!z&&!U&&To(w);E=w,z||U||W?ii(b)?E=b:Ts(b)?E=Cd(b):U?(O=!1,E=ul(w,!0)):W?(O=!1,E=ko(w,!0)):E=[]:Re(w)||Ui(w)?(E=b,Ui(b)?E=Du(b):te(b)&&!fn(b)||(E=zr(w))):O=!1}O&&(f.set(w,E),a(E,w,n,u,f),f.delete(w)),vi(r,t,E)}},Bo=function r(e,t,n,a,u){e!==t&&ur(t,function(f,b){if(u||(u=new Ws),te(f))Ql(e,t,b,n,r,a,u);else{var w=void 0;w===void 0&&(w=f),vi(e,b,w)}},Rr)},es=function(r){return r},vl=function(r,e,t){switch(t.length){case 0:return r.call(e);case 1:return r.call(e,t[0]);case 2:return r.call(e,t[0],t[1]);case 3:return r.call(e,t[0],t[1],t[2])}return r.apply(e,t)};var Wi=Math.max;const Po=function(r,e,t){return e=Wi(e===void 0?r.length-1:e,0),function(){for(var n=arguments,a=-1,u=Wi(n.length-e,0),f=Array(u);++a<u;)f[a]=n[e+a];a=-1;for(var b=Array(e+1);++a<e;)b[a]=n[a];return b[e]=t(f),vl(r,this,b)}},ia=function(r){return function(){return r}},Aa=Ys?function(r,e){return Ys(r,"toString",{configurable:!0,enumerable:!1,value:ia(e),writable:!0})}:es;var ra=Date.now;const Rc=function(r){var e=0,t=0;return function(){var n=ra(),a=16-(n-t);if(t=n,a>0){if(++e>=800)return arguments[0]}else e=0;return r.apply(void 0,arguments)}}(Aa),wl=function(r,e){return Rc(Po(r,e,es),r+"")},Tu=function(r,e,t){if(!te(t))return!1;var n=typeof e;return!!(n=="number"?Va(t)&&Gs(e,t.length):n=="string"&&e in t)&&pt(t[e],r)},Ja=function(r){return wl(function(e,t){var n=-1,a=t.length,u=a>1?t[a-1]:void 0,f=a>2?t[2]:void 0;for(u=r.length>3&&typeof u=="function"?(a--,u):void 0,f&&Tu(t[0],t[1],f)&&(u=a<3?void 0:u,a=1),e=Object(e);++n<a;){var b=t[n];b&&r(e,b,n,u)}return e})},vr=Ja(function(r,e,t){Bo(r,e,t)});function Bd(r,e,t=1,n){if(typeof t!="number")throw new q("translation-service-quantity-not-a-number",null,{quantity:t});const a=n||y.window.CKEDITOR_TRANSLATIONS,u=function(E){return Object.keys(E).length}(a);u===1&&(r=Object.keys(a)[0]);const f=e.id||e.string;if(u===0||!function(E,O,z){return!!z[E]&&!!z[E].dictionary[O]}(r,f,a))return t!==1?e.plural:e.string;const b=a[r].dictionary,w=a[r].getPluralForm||(E=>E===1?0:1),A=b[f];return typeof A=="string"?A:A[Number(w(t))]}y.window.CKEDITOR_TRANSLATIONS||(y.window.CKEDITOR_TRANSLATIONS={});const yl=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function Ah(r){return yl.includes(r)?"rtl":"ltr"}class Nh{constructor({uiLanguage:e="en",contentLanguage:t,translations:n}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=Ah(this.uiLanguage),this.contentLanguageDirection=Ah(this.contentLanguage),this.translations=function(a){return Array.isArray(a)?a.reduce((u,f)=>vr(u,f)):a}(n),this.t=(a,u)=>this._t(a,u)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=gn(t),typeof e=="string"&&(e={string:e});const n=e.plural?t[0]:1;return function(a,u){return a.replace(/%(\d+)/g,(f,b)=>b<u.length?u[b]:f)}(Bd(this.uiLanguage,e,n,this.translations),t)}}class Ro extends me(){constructor(e={},t={}){super();const n=Qe(e);if(n||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const a of e)this._items.push(a),this._itemMap.set(this._getItemIdBeforeAdding(a),a)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new q("collection-add-item-invalid-index",this);let n=0;for(const a of e){const u=this._getItemIdBeforeAdding(a),f=t+n;this._items.splice(f,0,a),this._itemMap.set(u,a),this.fire("add",a,f),n++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else{if(typeof e!="number")throw new q("collection-get-invalid-arg",this);t=this._items[e]}return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=e[this._idProperty];return t&&this._itemMap.has(t)}}getIndex(e){let t;return t=typeof e=="string"?this._itemMap.get(e):e,t?this._items.indexOf(t):-1}remove(e){const[t,n]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:n}),t}map(e,t){return this._items.map(e,t)}forEach(e,t){this._items.forEach(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new q("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(n=>new t(n))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(n=>n[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,n=(a,u,f)=>{const b=t._bindToCollection==this,w=t._bindToInternalToExternalMap.get(u);if(b&&w)this._bindToExternalToInternalMap.set(u,w),this._bindToInternalToExternalMap.set(w,u);else{const A=e(u);if(!A)return void this._skippedIndexesFromExternal.push(f);let E=f;for(const O of this._skippedIndexesFromExternal)f>O&&E--;for(const O of t._skippedIndexesFromExternal)E>=O&&E++;this._bindToExternalToInternalMap.set(u,A),this._bindToInternalToExternalMap.set(A,u),this.add(A,E);for(let O=0;O<t._skippedIndexesFromExternal.length;O++)E<=t._skippedIndexesFromExternal[O]&&t._skippedIndexesFromExternal[O]++}};for(const a of t)n(0,a,t.getIndex(a));this.listenTo(t,"add",n),this.listenTo(t,"remove",(a,u,f)=>{const b=this._bindToExternalToInternalMap.get(u);b&&this.remove(b),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((w,A)=>(f<A&&w.push(A-1),f>A&&w.push(A),w),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let n;if(t in e){if(n=e[t],typeof n!="string")throw new q("collection-add-invalid-id",this);if(this.get(n))throw new q("collection-add-item-already-exists",this)}else e[t]=n=ee();return n}_remove(e){let t,n,a,u=!1;const f=this._idProperty;if(typeof e=="string"?(n=e,a=this._itemMap.get(n),u=!a,a&&(t=this._items.indexOf(a))):typeof e=="number"?(t=e,a=this._items[t],u=!a,a&&(n=a[f])):(a=e,n=a[f],t=this._items.indexOf(a),u=t==-1||!this._itemMap.get(n)),u)throw new q("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(n);const b=this._bindToInternalToExternalMap.get(a);return this._bindToInternalToExternalMap.delete(a),this._bindToExternalToInternalMap.delete(b),this.fire("remove",a,t),[a,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function qn(r){const e=r.next();return e.done?null:e.value}class hr extends Js(Te()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new q("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class mr{constructor(){this._listener=new(Js())}listenTo(e){this._listener.listenTo(e,"keydown",(t,n)=>{this._listener.fire("_keydown:"+zt(n),n)})}set(e,t,n={}){const a=Gt(e),u=n.priority;this._listener.listenTo(this._listener,"_keydown:"+a,(f,b)=>{t(b,()=>{b.preventDefault(),b.stopPropagation(),f.stop()}),f.return=!0},{priority:u})}press(e){return!!this._listener.fire("_keydown:"+zt(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function no(r){return Qe(r)?new Map(r):function(e){const t=new Map;for(const n in e)t.set(n,e[n]);return t}(r)}function sa(r,e){let t;function n(...a){n.cancel(),t=setTimeout(()=>r(...a),e)}return n.cancel=()=>{clearTimeout(t)},n}function Ms(r,e){return!!(t=r.charAt(e-1))&&t.length==1&&/[\ud800-\udbff]/.test(t)&&function(n){return!!n&&n.length==1&&/[\udc00-\udfff]/.test(n)}(r.charAt(e));var t}function xl(r,e){return!!(t=r.charAt(e))&&t.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t);var t}const vp=function(){const r=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,t="(?:"+r.map(n=>n.source).join("|")+")";return new RegExp(`${e}|${t}(?:‍${t})*`,"ug")}();function Eh(r,e){const t=String(r).matchAll(vp);return Array.from(t).some(n=>n.index<e&&e<n.index+n[0].length)}class zo extends Ro{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,n,a)=>{this._renderViewIntoCollectionParent(n,a)}),this.on("remove",(t,n)=>{n.element&&this._parentElement&&n.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!e.every(t=>typeof t=="string"))throw new q("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const n of this)for(const a of e)n.delegate(a).to(t);this.on("add",(n,a)=>{for(const u of e)a.delegate(u).to(t)}),this.on("remove",(n,a)=>{for(const u of e)a.stopDelegating(u,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}class Fo extends me(){constructor(e){super(),Object.assign(this,ie(Zl(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new q("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(t){if(t.children)for(const n of t.children)st(n)?yield n:wt(n)&&(yield*e(n))}(this)}static bind(e,t){return{to:(n,a)=>new Sh({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:a}),if:(n,a,u)=>new Pd({observable:e,emitter:t,attribute:n,valueIfTrue:a,callback:u})}}static extend(e,t){if(e._isRendered)throw new q("template-extend-render",[this,e]);Pe(e,ie(Zl(t)))}_renderNode(e){let t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new q("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),zc(this.text)?this._bindToObservable({schema:this.text,updater:Rd(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,n=e.revertData;for(const a in this.attributes){const u=t.getAttribute(a),f=this.attributes[a];n&&(n.attributes[a]=u);const b=Wt(f)?f[0].ns:null;if(zc(f)){const w=Wt(f)?f[0].value:f;n&&Kt(a)&&w.unshift(u),this._bindToObservable({schema:w,updater:Mu(t,a,b),data:e})}else if(a=="style"&&typeof f[0]!="string")this._renderStyleAttribute(f[0],e);else{n&&u&&Kt(a)&&f.unshift(u);const w=f.map(A=>A&&A.value||A).reduce((A,E)=>A.concat(E),[]).reduce(Y,"");Le(w)||t.setAttributeNS(b,a,w)}}}_renderStyleAttribute(e,t){const n=t.node;for(const a in e){const u=e[a];zc(u)?this._bindToObservable({schema:[u],updater:jh(n,a),data:t}):n.style[a]=u}}_renderElementChildren(e){const t=e.node,n=e.intoFragment?document.createDocumentFragment():t,a=e.isApplying;let u=0;for(const f of this.children)if(It(f)){if(!a){f.setParent(t);for(const b of f)n.appendChild(b.element)}}else if(st(f))a||(f.isRendered||f.render(),n.appendChild(f.element));else if(Xr(f))n.appendChild(f);else if(a){const b={children:[],bindings:[],attributes:{}};e.revertData.children.push(b),f._renderNode({intoFragment:!1,node:n.childNodes[u++],isApplying:!0,revertData:b})}else n.appendChild(f.render());e.intoFragment&&t.appendChild(n)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const n=this.eventListeners[t].map(a=>{const[u,f]=t.split("@");return a.activateDomEventListener(u,f,e)});e.revertData&&e.revertData.bindings.push(n)}}_bindToObservable({schema:e,updater:t,data:n}){const a=n.revertData;el(e,t,n);const u=e.filter(f=>!Le(f)).filter(f=>f.observable).map(f=>f.activateAttributeListener(e,t,n));a&&a.bindings.push(u)}_revertTemplateFromNode(e,t){for(const a of t.bindings)for(const u of a)u();if(t.text)return void(e.textContent=t.text);const n=e;for(const a in t.attributes){const u=t.attributes[a];u===null?n.removeAttribute(a):n.setAttribute(a,u)}for(let a=0;a<t.children.length;++a)this._revertTemplateFromNode(n.childNodes[a],t.children[a])}}class oa{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,n){const a=()=>el(e,t,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,a),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,a)}}}class Sh extends oa{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,n){const a=(u,f)=>{t&&!f.target.matches(t)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(f):this.observable.fire(this.eventNameOrFunction,f))};return this.emitter.listenTo(n.node,e,a),()=>{this.emitter.stopListening(n.node,e,a)}}}class Pd extends oa{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!Le(super.getValue(e))&&(this.valueIfTrue||!0)}}function zc(r){return!!r&&(r.value&&(r=r.value),Array.isArray(r)?r.some(zc):r instanceof oa)}function el(r,e,{node:t}){const n=function(u,f){return u.map(b=>b instanceof oa?b.getValue(f):b)}(r,t);let a;a=r.length==1&&r[0]instanceof Pd?n[0]:n.reduce(Y,""),Le(a)?e.remove():e.set(a)}function Rd(r){return{set(e){r.textContent=e},remove(){r.textContent=""}}}function Mu(r,e,t){return{set(n){r.setAttributeNS(t,e,n)},remove(){r.removeAttributeNS(t,e)}}}function jh(r,e){return{set(t){r.style[e]=t},remove(){r.style[e]=null}}}function Zl(r){return Es(r,e=>{if(e&&(e instanceof oa||wt(e)||st(e)||It(e)))return e})}function ie(r){if(typeof r=="string"?r=function(e){return{text:[e]}}(r):r.text&&function(e){e.text=gn(e.text)}(r),r.on&&(r.eventListeners=function(e){for(const t in e)P(e,t);return e}(r.on),delete r.on),!r.text){r.attributes&&function(t){for(const n in t)t[n].value&&(t[n].value=gn(t[n].value)),P(t,n)}(r.attributes);const e=[];if(r.children)if(It(r.children))e.push(r.children);else for(const t of r.children)wt(t)||st(t)||Xr(t)?e.push(t):e.push(new Fo(t));r.children=e}return r}function P(r,e){r[e]=gn(r[e])}function Y(r,e){return Le(e)?r:Le(r)?e:`${r} ${e}`}function he(r,e){for(const t in e)r[t]?r[t].push(...e[t]):r[t]=e[t]}function Pe(r,e){if(e.attributes&&(r.attributes||(r.attributes={}),he(r.attributes,e.attributes)),e.eventListeners&&(r.eventListeners||(r.eventListeners={}),he(r.eventListeners,e.eventListeners)),e.text&&r.text.push(...e.text),e.children&&e.children.length){if(r.children.length!=e.children.length)throw new q("ui-template-extend-children-mismatch",r);let t=0;for(const n of e.children)Pe(r.children[t++],n)}}function Le(r){return!r&&r!==0}function st(r){return r instanceof St}function wt(r){return r instanceof Fo}function It(r){return r instanceof zo}function Wt(r){return te(r[0])&&r[0].ns}function Kt(r){return r=="class"||r=="style"}var Yt=h(2591),mt=h.n(Yt),hn=h(7676),xn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(hn.A,xn),hn.A.locals;class St extends Js(Te()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Ro,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,n)=>{n.locale=e,n.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Fo.bind(this,this)}createCollection(e){const t=new zo(e);return this._viewCollections.add(t),t}registerChild(e){Qe(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){Qe(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new Fo(e)}extendTemplate(e){Fo.extend(this.template,e)}render(){if(this.isRendered)throw new q("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}function Cn({emitter:r,activator:e,callback:t,contextElements:n}){r.listenTo(document,"mousedown",(a,u)=>{if(!e())return;const f=typeof u.composedPath=="function"?u.composedPath():[],b=typeof n=="function"?n():n;for(const w of b)if(w.contains(u.target)||f.includes(w))return;t()})}function ri(r){return class extends r{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function mi({view:r}){r.listenTo(r.element,"submit",(e,t)=>{t.preventDefault(),r.fire("submit")},{useCapture:!0})}function Hn({keystrokeHandler:r,focusTracker:e,gridItems:t,numberOfColumns:n,uiLanguageDirection:a}){const u=()=>n;function f(A){return E=>{const O=t.find(W=>W.element===e.focusedElement),z=t.getIndex(O),U=A(z,t);t.get(U).focus(),E.stopPropagation(),E.preventDefault()}}function b(A,E){return A===E-1?0:A+1}function w(A,E){return A===0?E-1:A-1}r.set("arrowright",f((A,E)=>a==="rtl"?w(A,E.length):b(A,E.length))),r.set("arrowleft",f((A,E)=>a==="rtl"?b(A,E.length):w(A,E.length))),r.set("arrowup",f((A,E)=>{let O=A-u();return O<0&&(O=A+u()*Math.floor(E.length/u()),O>E.length-1&&(O-=u())),O})),r.set("arrowdown",f((A,E)=>{let O=A+u();return O>E.length-1&&(O=A%u()),O}))}class at extends Te(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Ln,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Ln),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Ln(r){r.return=!1,r.stop()}class Vt extends Te(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",t=>{if(!this.affectsData)return;const n=e.model.document.selection,a=n.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(n);(e.isReadOnly||this._isEnabledBasedOnSelection&&!a)&&(t.return=!1,t.stop())},{priority:"highest"}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Xt,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Xt),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function Xt(r){r.return=!1,r.stop()}class cn extends Vt{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const t=this._getFirstEnabledCommand();return!!t&&t.execute(e)}registerChildCommand(e,t={}){ce(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:t})=>t.isEnabled);return e&&e.command}}class wn extends me(){constructor(e,t=[],n=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const a of t)a.pluginName&&this._availablePlugins.set(a.pluginName,a);this._contextPlugins=new Map;for(const[a,u]of n)this._contextPlugins.set(a,u),this._contextPlugins.set(u,a),a.pluginName&&this._availablePlugins.set(a.pluginName,a)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let n=e;throw typeof e=="function"&&(n=e.pluginName||e.name),new q("plugincollection-plugin-not-loaded",this._context,{plugin:n})}return t}has(e){return this._plugins.has(e)}init(e,t=[],n=[]){const a=this,u=this._context;(function W(X,ae=new Set){X.forEach(ge=>{w(ge)&&(ae.has(ge)||(ae.add(ge),ge.pluginName&&!a._availablePlugins.has(ge.pluginName)&&a._availablePlugins.set(ge.pluginName,ge),ge.requires&&W(ge.requires,ae)))})})(e),z(e);const f=[...function W(X,ae=new Set){return X.map(ge=>w(ge)?ge:a._availablePlugins.get(ge)).reduce((ge,De)=>ae.has(De)?ge:(ae.add(De),De.requires&&(z(De.requires,De),W(De.requires,ae).forEach(Ze=>ge.add(Ze))),ge.add(De)),new Set)}(e.filter(W=>!E(W,t)))];(function(W,X){for(const ae of X){if(typeof ae!="function")throw new q("plugincollection-replace-plugin-invalid-type",null,{pluginItem:ae});const ge=ae.pluginName;if(!ge)throw new q("plugincollection-replace-plugin-missing-name",null,{pluginItem:ae});if(ae.requires&&ae.requires.length)throw new q("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:ge});const De=a._availablePlugins.get(ge);if(!De)throw new q("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:ge});const Ze=W.indexOf(De);if(Ze===-1){if(a._contextPlugins.has(De))return;throw new q("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:ge})}if(De.requires&&De.requires.length)throw new q("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:ge});W.splice(Ze,1,ae),a._availablePlugins.set(ge,ae)}})(f,n);const b=f.map(W=>{let X=a._contextPlugins.get(W);return X=X||new W(u),a._add(W,X),X});return U(b,"init").then(()=>U(b,"afterInit")).then(()=>b);function w(W){return typeof W=="function"}function A(W){return w(W)&&!!W.isContextPlugin}function E(W,X){return X.some(ae=>ae===W||O(W)===ae||O(ae)===W)}function O(W){return w(W)?W.pluginName||W.name:W}function z(W,X=null){W.map(ae=>w(ae)?ae:a._availablePlugins.get(ae)||ae).forEach(ae=>{(function(ge,De){if(!w(ge))throw De?new q("plugincollection-soft-required",u,{missingPlugin:ge,requiredBy:O(De)}):new q("plugincollection-plugin-not-found",u,{plugin:ge})})(ae,X),function(ge,De){if(A(De)&&!A(ge))throw new q("plugincollection-context-required",u,{plugin:O(ge),requiredBy:O(De)})}(ae,X),function(ge,De){if(De&&E(ge,t))throw new q("plugincollection-required",u,{plugin:O(ge),requiredBy:O(De)})}(ae,X)})}function U(W,X){return W.reduce((ae,ge)=>ge[X]?a._contextPlugins.has(ge)?ae:ae.then(ge[X].bind(ge)):ae,Promise.resolve())}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy!="function"||this._contextPlugins.has(t)||e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const n=e.pluginName;if(n){if(this._plugins.has(n))throw new q("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}var Yi=Object.getOwnPropertySymbols,Vr=Object.prototype.hasOwnProperty,ts=Object.prototype.propertyIsEnumerable;class Dr{constructor(e){this._contextOwner=null;const t=e||{},{translations:n}=t,a=((b,w)=>{var A={};for(var E in b)Vr.call(b,E)&&w.indexOf(E)<0&&(A[E]=b[E]);if(b!=null&&Yi)for(var E of Yi(b))w.indexOf(E)<0&&ts.call(b,E)&&(A[E]=b[E]);return A})(t,["translations"]);this.config=new Qa(a,this.constructor.defaultConfig);const u=this.constructor.builtinPlugins;this.config.define("plugins",u),this.plugins=new wn(this,u);const f=this.config.get("language")||{};this.locale=new Nh({uiLanguage:typeof f=="string"?f:f.ui,contentLanguage:this.config.get("language.content"),translations:n}),this.t=this.locale.t,this.editors=new Ro}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const n of e.concat(t)){if(typeof n!="function")throw new q("context-initplugins-constructor-only",null,{Plugin:n});if(n.isContextPlugin!==!0)throw new q("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new q("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const n=new this(e);t(n.initPlugins().then(()=>n))})}}class Tr extends Te(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class ns extends mr{constructor(e){super(),this.editor=e}set(e,t,n={}){if(typeof t=="string"){const a=t;t=(u,f)=>{this.editor.execute(a),f()}}super.set(e,t,n)}}var ir=h(4098),wi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(ir.A,wi),ir.A.locals;const Is=new WeakMap;let tl=!1;function wr({view:r,element:e,text:t,isDirectHost:n=!0,keepOnFocus:a=!1}){const u=r.document;function f(b){Is.get(u).set(e,{text:b,isDirectHost:n,keepOnFocus:a,hostElement:n?e:null}),r.change(w=>Vo(u,w))}Is.has(u)||(Is.set(u,new Map),u.registerPostFixer(b=>Vo(u,b)),u.on("change:isComposing",()=>{r.change(b=>Vo(u,b))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(b,w,A)=>{f(A)}),e.placeholder?f(e.placeholder):t&&f(t),t&&function(){tl||ue("enableplaceholder-deprecated-text-option"),tl=!0}()}function Ti(r,e){return!e.hasClass("ck-placeholder")&&(r.addClass("ck-placeholder",e),!0)}function Os(r,e){return!!e.hasClass("ck-placeholder")&&(r.removeClass("ck-placeholder",e),!0)}function io(r,e){if(!r.isAttached()||Array.from(r.getChildren()).some(a=>!a.is("uiElement")))return!1;const t=r.document,n=t.selection.anchor;return(!t.isComposing||!n||n.parent!==r)&&(!!e||!t.isFocused||!!n&&n.parent!==r)}function Vo(r,e){const t=Is.get(r),n=[];let a=!1;for(const[u,f]of t)f.isDirectHost&&(n.push(u),Xl(e,u,f)&&(a=!0));for(const[u,f]of t){if(f.isDirectHost)continue;const b=Ls(u);b&&(n.includes(b)||(f.hostElement=b,Xl(e,u,f)&&(a=!0)))}return a}function Xl(r,e,t){const{text:n,isDirectHost:a,hostElement:u}=t;let f=!1;return u.getAttribute("data-placeholder")!==n&&(r.setAttribute("data-placeholder",n,u),f=!0),(a||e.childCount==1)&&io(u,t.keepOnFocus)?Ti(r,u)&&(f=!0):Os(r,u)&&(f=!0),f}function Ls(r){if(r.childCount){const e=r.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Li{is(){throw new Error("is() method is abstract")}}const Jl=function(r){return Oc(r,4)};class aa extends me(Li){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new q("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),a=e.getAncestors(t);let u=0;for(;n[u]==a[u]&&n[u];)u++;return u===0?null:n[u-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),a=Dt(t,n);switch(a){case"prefix":return!0;case"extension":return!1;default:return t[a]<n[a]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=Jl(this);return delete e.parent,e}}aa.prototype.is=function(r){return r==="node"||r==="view:node"};class gi extends aa{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof gi&&(this===e||this.data===e.data)}_clone(){return new gi(this.document,this.data)}}gi.prototype.is=function(r){return r==="$text"||r==="view:$text"||r==="text"||r==="view:text"||r==="node"||r==="view:node"};class ro extends Li{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.data.length)throw new q("view-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.data.length)throw new q("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let n=e.includeSelf?this.textNode:this.parent;for(;n!==null;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}}ro.prototype.is=function(r){return r==="$textProxy"||r==="view:$textProxy"||r==="textProxy"||r==="view:textProxy"};class Hr{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const n of this._patterns){const a=Fc(t,n);if(a)return{element:t,pattern:n,match:a}}return null}matchAll(...e){const t=[];for(const n of e)for(const a of this._patterns){const u=Fc(n,a);u&&t.push({element:n,pattern:a,match:u})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e=="function"||!t||t instanceof RegExp?null:t}}function Fc(r,e){if(typeof e=="function")return e(r);const t={};return e.name&&(t.name=function(n,a){return n instanceof RegExp?!!a.match(n):n===a}(e.name,r.name),!t.name)||e.attributes&&(t.attributes=function(n,a){const u=new Set(a.getAttributeKeys());return Re(n)?(n.style!==void 0&&ue("matcher-pattern-deprecated-attributes-style-key",n),n.class!==void 0&&ue("matcher-pattern-deprecated-attributes-class-key",n)):(u.delete("style"),u.delete("class")),zd(n,u,f=>a.getAttribute(f))}(e.attributes,r),!t.attributes)||e.classes&&(t.classes=function(n,a){return zd(n,a.getClassNames(),()=>{})}(e.classes,r),!t.classes)||e.styles&&(t.styles=function(n,a){return zd(n,a.getStyleNames(!0),u=>a.getStyle(u))}(e.styles,r),!t.styles)?null:t}function zd(r,e,t){const n=function(f){return Array.isArray(f)?f.map(b=>Re(b)?(b.key!==void 0&&b.value!==void 0||ue("matcher-pattern-missing-key-or-value",b),[b.key,b.value]):[b,!0]):Re(f)?Object.entries(f):[[f,!0]]}(r),a=Array.from(e),u=[];if(n.forEach(([f,b])=>{a.forEach(w=>{(function(A,E){return A===!0||A===E||A instanceof RegExp&&E.match(A)})(f,w)&&function(A,E,O){if(A===!0)return!0;const z=O(E);return A===z||A instanceof RegExp&&!!String(z).match(A)}(b,w,t)&&u.push(w)})}),n.length&&!(u.length<n.length))return u}const ec=function(r){return typeof r=="symbol"||Jn(r)&&Ii(r)=="[object Symbol]"};var Dh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hm=/^\w*$/;const Iu=function(r,e){if(ii(r))return!1;var t=typeof r;return!(t!="number"&&t!="symbol"&&t!="boolean"&&r!=null&&!ec(r))||Hm.test(r)||!Dh.test(r)||e!=null&&r in Object(e)};function Na(r,e){if(typeof r!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var t=function(){var n=arguments,a=e?e.apply(this,n):n[0],u=t.cache;if(u.has(a))return u.get(a);var f=r.apply(this,n);return t.cache=u.set(a,f)||u,f};return t.cache=new(Na.Cache||Pr),t}Na.Cache=Pr;const Fd=Na,Th=function(r){var e=Fd(r,function(n){return t.size===500&&t.clear(),n}),t=e.cache;return e};var Ou=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lu=/\\(\\)?/g,Um=Th(function(r){var e=[];return r.charCodeAt(0)===46&&e.push(""),r.replace(Ou,function(t,n,a,u){e.push(a?u.replace(Lu,"$1"):n||t)}),e});const Mh=Um,Ih=function(r,e){for(var t=-1,n=r==null?0:r.length,a=Array(n);++t<n;)a[t]=e(r[t],t,r);return a};var Bu=bt?bt.prototype:void 0,Pu=Bu?Bu.toString:void 0;const $m=function r(e){if(typeof e=="string")return e;if(ii(e))return Ih(e,r)+"";if(ec(e))return Pu?Pu.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},Vc=function(r){return r==null?"":$m(r)},Hc=function(r,e){return ii(r)?r:Iu(r,e)?[r]:Mh(Vc(r))},Ob=function(r){var e=r==null?0:r.length;return e?r[e-1]:void 0},Vd=function(r){if(typeof r=="string"||ec(r))return r;var e=r+"";return e=="0"&&1/r==-1/0?"-0":e},wp=function(r,e){for(var t=0,n=(e=Hc(e,r)).length;r!=null&&t<n;)r=r[Vd(e[t++])];return t&&t==n?r:void 0},yp=function(r,e,t){var n=-1,a=r.length;e<0&&(e=-e>a?0:a+e),(t=t>a?a:t)<0&&(t+=a),a=e>t?0:t-e>>>0,e>>>=0;for(var u=Array(a);++n<a;)u[n]=r[n+e];return u},Ru=function(r,e){return e.length<2?r:wp(r,yp(e,0,-1))},qm=function(r,e){return e=Hc(e,r),(r=Ru(r,e))==null||delete r[Vd(Ob(e))]},Lb=function(r,e){return r==null||qm(r,e)},Uc=function(r,e,t){var n=r==null?void 0:wp(r,e);return n===void 0?t:n},Oh=function(r,e,t,n){if(!te(r))return r;for(var a=-1,u=(e=Hc(e,r)).length,f=u-1,b=r;b!=null&&++a<u;){var w=Vd(e[a]),A=t;if(w==="__proto__"||w==="constructor"||w==="prototype")return r;if(a!=f){var E=b[w];(A=void 0)==void 0&&(A=te(E)?E:Gs(e[a+1])?[]:{})}tn(b,w,A),b=b[w]}return r},Bb=function(r,e,t){return r==null?r:Oh(r,e,t)};class Wm{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=function(n){let a=null,u=0,f=0,b=null;const w=new Map;if(n==="")return w;n.charAt(n.length-1)!=";"&&(n+=";");for(let A=0;A<n.length;A++){const E=n.charAt(A);if(a===null)switch(E){case":":b||(b=n.substr(u,A-u),f=A+1);break;case'"':case"'":a=E;break;case";":{const O=n.substr(f,A-f);b&&w.set(b.trim(),O.trim()),b=null,u=A+1;break}}else E===a&&(a=null)}return w}(e);for(const[n,a]of t)this._styleProcessor.toNormalizedForm(n,a,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find(([n])=>n===e);return Array.isArray(t)}set(e,t){if(te(e))for(const[n,a]of Object.entries(e))this._styleProcessor.toNormalizedForm(n,a,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=Ym(e);Lb(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!te(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find(([n])=>n===e);return Array.isArray(t)?t[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([t])=>t)}clear(){this._styles={}}getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const n of t)e.push(...this._styleProcessor.getReducedForm(n,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const n=t.splice(0,t.length-1).join("."),a=Uc(this._styles,n);a&&!Object.keys(a).length&&this.remove(n)}}class Pb{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,n){if(te(t))Gm(n,Ym(e),t);else if(this._normalizers.has(e)){const a=this._normalizers.get(e),{path:u,value:f}=a(t);Gm(n,u,f)}else Gm(n,e,t)}getNormalized(e,t){if(!e)return vr({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const n=this._extractors.get(e);if(typeof n=="string")return Uc(t,n);const a=n(e,t);if(a)return a}return Uc(t,Ym(e))}getReducedForm(e,t){const n=this.getNormalized(e,t);return n===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(n):[[e,n]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(a=>{const u=this.getNormalized(a,e);return u&&typeof u=="object"?Object.keys(u).length:u}),n=new Set([...t,...Object.keys(e)]);return Array.from(n)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const n of t)this._mapStyleNames(n,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function Ym(r){return r.replace("-",".")}function Gm(r,e,t){let n=t;te(t)&&(n=vr({},Uc(r,e),t)),Bb(r,e,n)}class Ho extends aa{constructor(e,t,n,a){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=function(u){const f=no(u);for(const[b,w]of f)w===null?f.delete(b):typeof w!="string"&&f.set(b,String(w));return f}(n),this._children=[],a&&this._insertChild(0,a),this._classes=new Set,this._attrs.has("class")){const u=this._attrs.get("class");Km(this._classes,u),this._attrs.delete("class")}this._styles=new Wm(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Ho))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,n]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==n)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new Hr(...e);let n=this.parent;for(;n&&!n.is("documentFragment");){if(t.match(n))return n;n=n.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map(a=>`${a[0]}="${a[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(n==""?"":` ${n}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const a of this.getChildren())t.push(a._clone(e));const n=new this.constructor(this.document,this.name,this._attrs,t);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let n=0;const a=function(u,f){return typeof f=="string"?[new gi(u,f)]:(Qe(f)||(f=[f]),Array.from(f).map(b=>typeof b=="string"?new gi(u,b):b instanceof ro?new gi(u,b.data):b))}(this.document,t);for(const u of a)u.parent!==null&&u._remove(),u.parent=this,u.document=this.document,this._children.splice(e,0,u),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const n=String(t);this._fireChange("attributes",this),e=="class"?Km(this._classes,n):e=="style"?this._styles.setTo(n):this._attrs.set(e,n)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of gn(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of gn(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of gn(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function Km(r,e){const t=e.split(/\s+/);r.clear(),t.forEach(n=>r.add(n))}Ho.prototype.is=function(r,e){return e?e===this.name&&(r==="element"||r==="view:element"):r==="element"||r==="view:element"||r==="node"||r==="view:node"};class zu extends Ho{constructor(e,t,n,a){super(e,t,n,a),this.getFillerOffset=Rb}}function Rb(){const r=[...this.getChildren()],e=r[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of r)if(!t.is("uiElement"))return null;return this.childCount}zu.prototype.is=function(r,e){return e?e===this.name&&(r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class Fu extends Te(zu){constructor(e,t,n,a){super(e,t,n,a),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",u=>u&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Fu.prototype.is=function(r,e){return e?e===this.name&&(r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};const xp=Symbol("rootName");class Cp extends Fu{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(xp)}set rootName(e){this._setCustomProperty(xp,e)}set _name(e){this.name=e}}Cp.prototype.is=function(r,e){return e?e===this.name&&(r==="rootElement"||r==="view:rootElement"||r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="rootElement"||r==="view:rootElement"||r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class Hd{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new q("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new q("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Pt._createAt(e.startPosition):this._position=Pt._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n;do n=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=n)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let a;if(n instanceof gi){if(e.isAtEnd)return this._position=Pt._createAfter(n),this._next();a=n.data[e.offset]}else a=n.getChild(e.offset);if(a instanceof Ho){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new Pt(a,0);return this._position=e,this._formatReturnValue("elementStart",a,t,e,1)}if(a instanceof gi){if(this.singleCharacters)return e=new Pt(a,0),this._position=e,this._next();let u,f=a.data.length;return a==this._boundaryEndParent?(f=this.boundaries.end.offset,u=new ro(a,0,f),e=Pt._createAfter(u)):(u=new ro(a,0,a.data.length),e.offset++),this._position=e,this._formatReturnValue("text",u,t,e,f)}if(typeof a=="string"){let u;this.singleCharacters?u=1:u=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-e.offset;const f=new ro(n,e.offset,u);return e.offset+=u,this._position=e,this._formatReturnValue("text",f,t,e,u)}return e=Pt._createAfter(n),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,t,e)}_previous(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let a;if(n instanceof gi){if(e.isAtStart)return this._position=Pt._createBefore(n),this._previous();a=n.data[e.offset-1]}else a=n.getChild(e.offset-1);if(a instanceof Ho)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",a,t,e,1)):(e=new Pt(a,a.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",a,t,e));if(a instanceof gi){if(this.singleCharacters)return e=new Pt(a,a.data.length),this._position=e,this._previous();let u,f=a.data.length;if(a==this._boundaryStartParent){const b=this.boundaries.start.offset;u=new ro(a,b,a.data.length-b),f=u.data.length,e=Pt._createBefore(u)}else u=new ro(a,0,a.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",u,t,e,f)}if(typeof a=="string"){let u;if(this.singleCharacters)u=1;else{const b=n===this._boundaryStartParent?this.boundaries.start.offset:0;u=e.offset-b}e.offset-=u;const f=new ro(n,e.offset,u);return this._position=e,this._formatReturnValue("text",f,t,e,u)}return e=Pt._createBefore(n),this._position=e,this._formatReturnValue("elementStart",n,t,e,1)}_formatReturnValue(e,t,n,a,u){return t instanceof ro&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=Pt._createAfter(t.textNode):(a=Pt._createAfter(t.textNode),this._position=a)),t.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=Pt._createBefore(t.textNode):(a=Pt._createBefore(t.textNode),this._position=a))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:a,length:u}}}}class Pt extends Li{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Fu);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=Pt._createAt(this),n=t.offset+e;return t.offset=n<0?0:n,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new Hd(t);return n.skip(e),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let a=0;for(;t[a]==n[a]&&t[a];)a++;return a===0?null:t[a-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);const a=Dt(t,n);switch(a){case"prefix":return"before";case"extension":return"after";default:return t[a]<n[a]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Hd(e)}clone(){return new Pt(this.parent,this.offset)}static _createAt(e,t){if(e instanceof Pt)return new this(e.parent,e.offset);{const n=e;if(t=="end")t=n.is("$text")?n.data.length:n.childCount;else{if(t=="before")return this._createBefore(n);if(t=="after")return this._createAfter(n);if(t!==0&&!t)throw new q("view-createpositionat-offset-required",n)}return new Pt(n,t)}}static _createAfter(e){if(e.is("$textProxy"))return new Pt(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new q("view-position-after-root",e,{root:e});return new Pt(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Pt(e.textNode,e.offsetInText);if(!e.parent)throw new q("view-position-before-root",e,{root:e});return new Pt(e.parent,e.index)}}Pt.prototype.is=function(r){return r==="position"||r==="view:position"};class An extends Li{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new Hd({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Lh,{direction:"backward"}),t=this.end.getLastMatchingPosition(Lh);return e.parent.is("$text")&&e.isAtStart&&(e=Pt._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=Pt._createAfter(t.parent)),new An(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(Lh);if(e.isAfter(this.end)||e.isEqual(this.end))return new An(e,e);let t=this.end.getLastMatchingPosition(Lh,{direction:"backward"});const n=e.nodeAfter,a=t.nodeBefore;return n&&n.is("$text")&&(e=new Pt(n,0)),a&&a.is("$text")&&(t=new Pt(a,a.data.length)),new An(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),a=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&a}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new An(this.start,e.start)),this.containsPosition(e.end)&&t.push(new An(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new An(t,n)}return null}getWalker(e={}){return e.boundaries=this,new Hd(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new An(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Hd(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new Hd(e);yield t.position;for(const n of t)yield n.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,n,a){return new this(new Pt(e,t),new Pt(n,a))}static _createFromPositionAndShift(e,t){const n=e,a=e.getShiftedBy(t);return t>0?new this(n,a):new this(a,n)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Pt._createBefore(e),t)}}function Lh(r){return!(!r.item.is("attributeElement")&&!r.item.is("uiElement"))}An.prototype.is=function(r){return r==="range"||r==="view:range"};class la extends me(Li){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const a of e._ranges)if(t.isEqual(a)){n=!0;break}if(!n)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=jt(this.getRanges());if(t!=jt(e.getRanges()))return!1;if(t==0)return!0;for(let n of this.getRanges()){n=n.getTrimmed();let a=!1;for(let u of e.getRanges())if(u=u.getTrimmed(),n.start.isEqual(u.start)&&n.end.isEqual(u.end)){a=!0;break}if(!a)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,n,a]=e;if(typeof n=="object"&&(a=n,n=void 0),t===null)this._setRanges([]),this._setFakeOptions(a);else if(t instanceof la||t instanceof Qm)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof An)this._setRanges([t],a&&a.backward),this._setFakeOptions(a);else if(t instanceof Pt)this._setRanges([new An(t)]),this._setFakeOptions(a);else if(t instanceof aa){const u=!!a&&!!a.backward;let f;if(n===void 0)throw new q("view-selection-setto-required-second-parameter",this);f=n=="in"?An._createIn(t):n=="on"?An._createOn(t):new An(Pt._createAt(t,n)),this._setRanges([f],u),this._setFakeOptions(a)}else{if(!Qe(t))throw new q("view-selection-setto-not-selectable",this);this._setRanges(t,a&&a.backward),this._setFakeOptions(a)}this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new q("view-selection-setfocus-no-ranges",this);const n=Pt._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const a=this.anchor;this._ranges.pop(),n.compareWith(a)=="before"?this._addRange(new An(n,a),!0):this._addRange(new An(a,n)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const n of e)this._addRange(n);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof An))throw new q("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new q("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new An(e.start,e.end))}}la.prototype.is=function(r){return r==="selection"||r==="view:selection"};class Qm extends me(Li){constructor(...e){super(),this._selection=new la,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}Qm.prototype.is=function(r){return r==="selection"||r=="documentSelection"||r=="view:selection"||r=="view:documentSelection"};class Ud extends K{constructor(e,t,n){super(e,t),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Ap=Symbol("bubbling contexts");function Np(r){return class extends r{fire(e,...t){try{const n=e instanceof K?e:new K(this,e),a=Hu(this);if(!a.size)return;if(Vu(n,"capturing",this),Cl(a,"$capture",n,...t))return n.return;const u=n.startRange||this.selection.getFirstRange(),f=u?u.getContainedElement():null,b=!!f&&!!Zm(a,f);let w=f||function(A){if(!A)return null;const E=A.start.parent,O=A.end.parent,z=E.getPath(),U=O.getPath();return z.length>U.length?E:O}(u);if(Vu(n,"atTarget",w),!b){if(Cl(a,"$text",n,...t))return n.return;Vu(n,"bubbling",w)}for(;w;){if(w.is("rootElement")){if(Cl(a,"$root",n,...t))return n.return}else if(w.is("element")&&Cl(a,w.name,n,...t))return n.return;if(Cl(a,w,n,...t))return n.return;w=w.parent,Vu(n,"bubbling",w)}return Vu(n,"bubbling",this),Cl(a,"$document",n,...t),n.return}catch(n){q.rethrowUnexpectedError(n,this)}}_addEventListener(e,t,n){const a=gn(n.context||"$document"),u=Hu(this);for(const f of a){let b=u.get(f);b||(b=new(me()),u.set(f,b)),this.listenTo(b,e,t,n)}}_removeEventListener(e,t){const n=Hu(this);for(const a of n.values())this.stopListening(a,e,t)}}}{const r=Np(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Np[e]=r.prototype[e]})}function Vu(r,e,t){r instanceof Ud&&(r._eventPhase=e,r._currentTarget=t)}function Cl(r,e,t,...n){const a=typeof e=="string"?r.get(e):Zm(r,e);return!!a&&(a.fire(t,...n),t.stop.called)}function Zm(r,e){for(const[t,n]of r)if(typeof t=="function"&&t(e))return n;return null}function Hu(r){return r[Ap]||(r[Ap]=new Map),r[Ap]}class Bh extends Np(Te()){constructor(e){super(),this._postFixers=new Set,this.selection=new Qm,this.roots=new Ro({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(t=n(e),t)break;while(t)}}class $c extends Ho{constructor(e,t,n,a){super(e,t,n,a),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=Xm}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new q("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function Xm(){if(Jm(this))return null;let r=this.parent;for(;r&&r.is("attributeElement");){if(Jm(r)>1)return null;r=r.parent}return!r||Jm(r)>1?null:this.childCount}function Jm(r){return Array.from(r.getChildren()).filter(e=>!e.is("uiElement")).length}$c.DEFAULT_PRIORITY=10,$c.prototype.is=function(r,e){return e?e===this.name&&(r==="attributeElement"||r==="view:attributeElement"||r==="element"||r==="view:element"):r==="attributeElement"||r==="view:attributeElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class ef extends Ho{constructor(e,t,n,a){super(e,t,n,a),this.getFillerOffset=vw}_insertChild(e,t){if(t&&(t instanceof aa||Array.from(t).length>0))throw new q("view-emptyelement-cannot-add",[this,t]);return 0}}function vw(){return null}ef.prototype.is=function(r,e){return e?e===this.name&&(r==="emptyElement"||r==="view:emptyElement"||r==="element"||r==="view:element"):r==="emptyElement"||r==="view:emptyElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class tc extends Ho{constructor(e,t,n,a){super(e,t,n,a),this.getFillerOffset=tf}_insertChild(e,t){if(t&&(t instanceof aa||Array.from(t).length>0))throw new q("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const n of this.getAttributeKeys())t.setAttribute(n,this.getAttribute(n));return t}}function Ph(r){r.document.on("arrowKey",(e,t)=>function(n,a,u){if(a.keyCode==Fe.arrowright){const f=a.domTarget.ownerDocument.defaultView.getSelection(),b=f.rangeCount==1&&f.getRangeAt(0).collapsed;if(b||a.shiftKey){const w=f.focusNode,A=f.focusOffset,E=u.domPositionToView(w,A);if(E===null)return;let O=!1;const z=E.getLastMatchingPosition(U=>(U.item.is("uiElement")&&(O=!0),!(!U.item.is("uiElement")&&!U.item.is("attributeElement"))));if(O){const U=u.viewPositionToDom(z);b?f.collapse(U.parent,U.offset):f.extend(U.parent,U.offset)}}}}(0,t,r.domConverter),{priority:"low"})}function tf(){return null}tc.prototype.is=function(r,e){return e?e===this.name&&(r==="uiElement"||r==="view:uiElement"||r==="element"||r==="view:element"):r==="uiElement"||r==="view:uiElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class $d extends Ho{constructor(e,t,n,a){super(e,t,n,a),this.getFillerOffset=nf}_insertChild(e,t){if(t&&(t instanceof aa||Array.from(t).length>0))throw new q("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}function nf(){return null}$d.prototype.is=function(r,e){return e?e===this.name&&(r==="rawElement"||r==="view:rawElement"||r==="element"||r==="view:element"):r==="rawElement"||r==="view:rawElement"||r===this.name||r==="view:"+this.name||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class qc extends me(Li){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let n=0;const a=function(u,f){return typeof f=="string"?[new gi(u,f)]:(Qe(f)||(f=[f]),Array.from(f).map(b=>typeof b=="string"?new gi(u,b):b instanceof ro?new gi(u,b.data):b))}(this.document,t);for(const u of a)u.parent!==null&&u._remove(),u.parent=this,this._children.splice(e,0,u),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}qc.prototype.is=function(r){return r==="documentFragment"||r==="view:documentFragment"};class Ep{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new qc(this.document,e)}createText(e){return new gi(this.document,e)}createAttributeElement(e,t,n={}){const a=new $c(this.document,e,t);return typeof n.priority=="number"&&(a._priority=n.priority),n.id&&(a._id=n.id),n.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),a}createContainerElement(e,t,n={},a={}){let u=null;Re(n)?a=n:u=n;const f=new zu(this.document,e,t,u);return a.renderUnsafeAttributes&&f._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),f}createEditableElement(e,t,n={}){const a=new Fu(this.document,e,t);return n.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),a}createEmptyElement(e,t,n={}){const a=new ef(this.document,e,t);return n.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),a}createUIElement(e,t,n){const a=new tc(this.document,e,t);return n&&(a.render=n),a}createRawElement(e,t,n,a={}){const u=new $d(this.document,e,t);return n&&(u.render=n),a.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),u}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){Re(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof Pt?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new q("view-writer-break-non-container-element",this.document);if(!t.parent)throw new q("view-writer-break-root",this.document);if(e.isAtStart)return Pt._createBefore(t);if(!e.isAtEnd){const n=t._clone(!1);this.insert(Pt._createAfter(t),n);const a=new An(e,Pt._createAt(t,"end")),u=new Pt(n,0);this.move(a,u)}return Pt._createAfter(t)}mergeAttributes(e){const t=e.offset,n=e.parent;if(n.is("$text"))return e;if(n.is("attributeElement")&&n.childCount===0){const f=n.parent,b=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new Pt(f,b))}const a=n.getChild(t-1),u=n.getChild(t);if(!a||!u)return e;if(a.is("$text")&&u.is("$text"))return nc(a,u);if(a.is("attributeElement")&&u.is("attributeElement")&&a.isSimilar(u)){const f=a.childCount;return a._appendChild(u.getChildren()),u._remove(),this._removeFromClonedElementsGroup(u),this.mergeAttributes(new Pt(a,f))}return e}mergeContainers(e){const t=e.nodeBefore,n=e.nodeAfter;if(!(t&&n&&t.is("containerElement")&&n.is("containerElement")))throw new q("view-writer-merge-containers-invalid-position",this.document);const a=t.getChild(t.childCount-1),u=a instanceof gi?Pt._createAt(a,"end"):Pt._createAt(t,"end");return this.move(An._createIn(n),Pt._createAt(t,"end")),this.remove(An._createOn(n)),u}insert(e,t){ic(t=Qe(t)?[...t]:[t],this.document);const n=t.reduce((f,b)=>{const w=f[f.length-1],A=!b.is("uiElement");return w&&w.breakAttributes==A?w.nodes.push(b):f.push({breakAttributes:A,nodes:[b]}),f},[]);let a=null,u=e;for(const{nodes:f,breakAttributes:b}of n){const w=this._insertNodes(u,f,b);a||(a=w.start),u=w.end}return a?new An(a,u):new An(e)}remove(e){const t=e instanceof An?e:An._createOn(e);if(fr(t,this.document),t.isCollapsed)return new qc(this.document);const{start:n,end:a}=this._breakAttributesRange(t,!0),u=n.parent,f=a.offset-n.offset,b=u._removeChildren(n.offset,f);for(const A of b)this._removeFromClonedElementsGroup(A);const w=this.mergeAttributes(n);return t.start=w,t.end=w.clone(),new qc(this.document,b)}clear(e,t){fr(e,this.document);const n=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const a of n){const u=a.item;let f;if(u.is("element")&&t.isSimilar(u))f=An._createOn(u);else if(!a.nextPosition.isAfter(e.start)&&u.is("$textProxy")){const b=u.getAncestors().find(w=>w.is("element")&&t.isSimilar(w));b&&(f=An._createIn(b))}f&&(f.end.isAfter(e.end)&&(f.end=e.end),f.start.isBefore(e.start)&&(f.start=e.start),this.remove(f))}}move(e,t){let n;if(t.isAfter(e.end)){const a=(t=this._breakAttributes(t,!0)).parent,u=a.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=a.childCount-u}else n=this.remove(e);return this.insert(t,n)}wrap(e,t){if(!(t instanceof $c))throw new q("view-writer-wrap-invalid-attribute",this.document);if(fr(e,this.document),e.isCollapsed){let a=e.start;a.parent.is("element")&&(n=a.parent,!Array.from(n.getChildren()).some(f=>!f.is("uiElement")))&&(a=a.getLastMatchingPosition(f=>f.item.is("uiElement"))),a=this._wrapPosition(a,t);const u=this.document.selection;return u.isCollapsed&&u.getFirstPosition().isEqual(e.start)&&this.setSelection(a),new An(a)}return this._wrapRange(e,t);var n}unwrap(e,t){if(!(t instanceof $c))throw new q("view-writer-unwrap-invalid-attribute",this.document);if(fr(e,this.document),e.isCollapsed)return e;const{start:n,end:a}=this._breakAttributesRange(e,!0),u=n.parent,f=this._unwrapChildren(u,n.offset,a.offset,t),b=this.mergeAttributes(f.start);b.isEqual(f.start)||f.end.offset--;const w=this.mergeAttributes(f.end);return new An(b,w)}rename(e,t){const n=new zu(this.document,e,t.getAttributes());return this.insert(Pt._createAfter(t),n),this.move(An._createIn(t),Pt._createAt(n,0)),this.remove(An._createOn(t)),n}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return Pt._createAt(e,t)}createPositionAfter(e){return Pt._createAfter(e)}createPositionBefore(e){return Pt._createBefore(e)}createRange(e,t){return new An(e,t)}createRangeOn(e){return An._createOn(e)}createRangeIn(e){return An._createIn(e)}createSelection(...e){return new la(...e)}createSlot(e="children"){if(!this._slotFactory)throw new q("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,n){let a,u;if(a=n?Wc(e):e.parent.is("$text")?e.parent.parent:e.parent,!a)throw new q("view-writer-invalid-position-container",this.document);u=n?this._breakAttributes(e,!0):e.parent.is("$text")?Ea(e):e;const f=a._insertChild(u.offset,t);for(const E of t)this._addToClonedElementsGroup(E);const b=u.getShiftedBy(f),w=this.mergeAttributes(u);w.isEqual(u)||b.offset--;const A=this.mergeAttributes(b);return new An(w,A)}_wrapChildren(e,t,n,a){let u=t;const f=[];for(;u<n;){const w=e.getChild(u),A=w.is("$text"),E=w.is("attributeElement");if(E&&this._wrapAttributeElement(a,w))f.push(new Pt(e,u));else if(A||!E||zb(a,w)){const O=a._clone();w._remove(),O._appendChild(w),e._insertChild(u,O),this._addToClonedElementsGroup(O),f.push(new Pt(e,u))}else this._wrapChildren(w,0,w.childCount,a);u++}let b=0;for(const w of f)w.offset-=b,w.offset!=t&&(this.mergeAttributes(w).isEqual(w)||(b++,n--));return An._createFromParentsAndOffsets(e,t,e,n)}_unwrapChildren(e,t,n,a){let u=t;const f=[];for(;u<n;){const w=e.getChild(u);if(w.is("attributeElement"))if(w.isSimilar(a)){const A=w.getChildren(),E=w.childCount;w._remove(),e._insertChild(u,A),this._removeFromClonedElementsGroup(w),f.push(new Pt(e,u),new Pt(e,u+E)),u+=E,n+=E-1}else this._unwrapAttributeElement(a,w)?(f.push(new Pt(e,u),new Pt(e,u+1)),u++):(this._unwrapChildren(w,0,w.childCount,a),u++);else u++}let b=0;for(const w of f)w.offset-=b,!(w.offset==t||w.offset==n)&&(this.mergeAttributes(w).isEqual(w)||(b++,n--));return An._createFromParentsAndOffsets(e,t,e,n)}_wrapRange(e,t){const{start:n,end:a}=this._breakAttributesRange(e,!0),u=n.parent,f=this._wrapChildren(u,n.offset,a.offset,t),b=this.mergeAttributes(f.start);b.isEqual(f.start)||f.end.offset--;const w=this.mergeAttributes(f.end);return new An(b,w)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return ca(e.clone());e.parent.is("$text")&&(e=Ea(e));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,e.parent._insertChild(e.offset,n);const a=new An(e,e.getShiftedBy(1));this.wrap(a,t);const u=new Pt(n.parent,n.index);n._remove();const f=u.nodeBefore,b=u.nodeAfter;return f instanceof gi&&b instanceof gi?nc(f,b):ca(u)}_wrapAttributeElement(e,t){if(!Rh(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(n!=="class"&&n!=="style"&&t.hasAttribute(n)&&t.getAttribute(n)!==e.getAttribute(n))return!1;for(const n of e.getStyleNames())if(t.hasStyle(n)&&t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n!=="class"&&n!=="style"&&(t.hasAttribute(n)||this.setAttribute(n,e.getAttribute(n),t));for(const n of e.getStyleNames())t.hasStyle(n)||this.setStyle(n,e.getStyle(n),t);for(const n of e.getClassNames())t.hasClass(n)||this.addClass(n,t);return!0}_unwrapAttributeElement(e,t){if(!Rh(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(n!=="class"&&n!=="style"&&(!t.hasAttribute(n)||t.getAttribute(n)!==e.getAttribute(n)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const n of e.getStyleNames())if(!t.hasStyle(n)||t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n!=="class"&&n!=="style"&&this.removeAttribute(n,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const n=e.start,a=e.end;if(fr(e,this.document),e.isCollapsed){const w=this._breakAttributes(e.start,t);return new An(w,w)}const u=this._breakAttributes(a,t),f=u.parent.childCount,b=this._breakAttributes(n,t);return u.offset+=u.parent.childCount-f,new An(b,u)}_breakAttributes(e,t=!1){const n=e.offset,a=e.parent;if(e.parent.is("emptyElement"))throw new q("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new q("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new q("view-writer-cannot-break-raw-element",this.document);if(!t&&a.is("$text")&&nl(a.parent)||nl(a))return e.clone();if(a.is("$text"))return this._breakAttributes(Ea(e),t);if(n==a.childCount){const u=new Pt(a.parent,a.index+1);return this._breakAttributes(u,t)}if(n===0){const u=new Pt(a.parent,a.index);return this._breakAttributes(u,t)}{const u=a.index+1,f=a._clone();a.parent._insertChild(u,f),this._addToClonedElementsGroup(f);const b=a.childCount-n,w=a._removeChildren(n,b);f._appendChild(w);const A=new Pt(a.parent,u);return this._breakAttributes(A,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const a of e.getChildren())this._addToClonedElementsGroup(a);const t=e.id;if(!t)return;let n=this._cloneGroups.get(t);n||(n=new Set,this._cloneGroups.set(t,n)),n.add(e),e._clonesGroup=n}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const a of e.getChildren())this._removeFromClonedElementsGroup(a);const t=e.id;if(!t)return;const n=this._cloneGroups.get(t);n&&n.delete(e)}}function Wc(r){let e=r.parent;for(;!nl(e);){if(!e)return;e=e.parent}return e}function zb(r,e){return r.priority<e.priority||!(r.priority>e.priority)&&r.getIdentity()<e.getIdentity()}function ca(r){const e=r.nodeBefore;if(e&&e.is("$text"))return new Pt(e,e.data.length);const t=r.nodeAfter;return t&&t.is("$text")?new Pt(t,0):r}function Ea(r){if(r.offset==r.parent.data.length)return new Pt(r.parent.parent,r.parent.index+1);if(r.offset===0)return new Pt(r.parent.parent,r.parent.index);const e=r.parent.data.slice(r.offset);return r.parent._data=r.parent.data.slice(0,r.offset),r.parent.parent._insertChild(r.parent.index+1,new gi(r.root.document,e)),new Pt(r.parent.parent,r.parent.index+1)}function nc(r,e){const t=r.data.length;return r._data+=e.data,e._remove(),new Pt(r,t)}const Fb=[gi,$c,zu,ef,$d,tc];function ic(r,e){for(const t of r){if(!Fb.some(n=>t instanceof n))throw new q("view-writer-insert-invalid-node-type",e);t.is("$text")||ic(t.getChildren(),e)}}function nl(r){return r&&(r.is("containerElement")||r.is("documentFragment"))}function fr(r,e){const t=Wc(r.start),n=Wc(r.end);if(!t||!n||t!==n)throw new q("view-writer-invalid-range-container",e)}function Rh(r,e){return r.id===null&&e.id===null}const rf=r=>r.createTextNode(" "),sf=r=>{const e=r.createElement("span");return e.dataset.ckeFiller="true",e.innerText=" ",e},Sp=r=>{const e=r.createElement("br");return e.dataset.ckeFiller="true",e},Sa=7,il="⁠".repeat(Sa);function so(r){return typeof r=="string"?r.substr(0,Sa)===il:qi(r)&&r.data.substr(0,Sa)===il}function qd(r){return r.data.length==Sa&&so(r)}function jp(r){const e=typeof r=="string"?r:r.data;return so(r)?e.slice(Sa):e}function Vb(r,e){if(e.keyCode==Fe.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const n=t.getRangeAt(0).startContainer,a=t.getRangeAt(0).startOffset;so(n)&&a<=Sa&&t.collapse(n,0)}}}var zh=h(8264),Hb={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(zh.A,Hb),zh.A.locals;class Dp extends Te(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),S.isBlink&&!S.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else{if(e!=="children")throw new q("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!S.isAndroid)return;let e=null;const t=!(S.isBlink&&!S.isAndroid)||!this.isSelecting;for(const n of this.markedChildren)this._updateChildrenMappings(n);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Pt._createBefore(e.parent)));for(const n of this.markedAttributes)this._updateAttrs(n);for(const n of this.markedChildren)this._updateChildren(n,{inlineFillerPosition:e});for(const n of this.markedTexts)!this.markedChildren.has(n.parent)&&this.domConverter.mapViewToDom(n.parent)&&this._updateText(n,{inlineFillerPosition:e});if(t)if(e){const n=this.domConverter.viewPositionToDom(e),a=n.parent.ownerDocument;so(n.parent)?this._inlineFiller=n.parent:this._inlineFiller=Tp(a,n.parent,n.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.childNodes),a=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),u=this._diffNodeLists(n,a),f=this._findUpdateActions(u,n,a,Ub);if(f.indexOf("update")!==-1){const b={equal:0,insert:0,delete:0};for(const w of f)if(w==="update"){const A=b.equal+b.insert,E=b.equal+b.delete,O=e.getChild(A);!O||O.is("uiElement")||O.is("rawElement")||this._updateElementMappings(O,n[E]),wo(a[A]),b.equal++}else b[w]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Pt._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&qi(t.parent)&&so(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!so(e))throw new q("view-renderer-filler-was-lost",this);qd(e)?e.remove():e.data=e.data.substr(Sa),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!function(f){if(f.getAttribute("contenteditable")=="false")return!1;const b=f.findAncestor(w=>w.hasAttribute("contenteditable"));return!b||b.getAttribute("contenteditable")=="true"}(t))return!1;const a=e.nodeBefore,u=e.nodeAfter;return!(a instanceof gi||u instanceof gi)&&!!(n!==t.getFillerOffset()||a&&a.is("element","br"))&&(!S.isAndroid||!a&&!u)}_updateText(e,t){const n=this.domConverter.findCorrespondingDomText(e);let a=this.domConverter.viewToDom(e).data;const u=t.inlineFillerPosition;u&&u.parent==e.parent&&u.offset==e.index&&(a=il+a),is(n,a)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.attributes).map(u=>u.name),a=e.getAttributeKeys();for(const u of a)this.domConverter.setDomElementAttribute(t,u,e.getAttribute(u),e);for(const u of n)e.hasAttribute(u)||this.domConverter.removeDomElementAttribute(t,u)}_updateChildren(e,t){const n=this.domConverter.mapViewToDom(e);if(!n)return;if(S.isAndroid){let O=null;for(const z of Array.from(n.childNodes)){if(O&&qi(O)&&qi(z)){n.normalize();break}O=z}}const a=t.inlineFillerPosition,u=n.childNodes,f=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));a&&a.parent===e&&Tp(n.ownerDocument,f,a.offset);const b=this._diffNodeLists(u,f),w=this._findUpdateActions(b,u,f,ww);let A=0;const E=new Set;for(const O of w)O==="delete"?(E.add(u[A]),wo(u[A])):O!=="equal"&&O!=="update"||A++;A=0;for(const O of w)O==="insert"?(xa(n,A,f[A]),A++):O==="update"?(is(u[A],f[A].data),A++):O==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(f[A])),A++);for(const O of E)O.parentNode||this.domConverter.unbindDomElement(O)}_diffNodeLists(e,t){return e=function(n,a){const u=Array.from(n);return u.length==0||!a||u[u.length-1]==a&&u.pop(),u}(e,this._fakeSelectionContainer),H(e,t,$b.bind(null,this.domConverter))}_findUpdateActions(e,t,n,a){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let u=[],f=[],b=[];const w={equal:0,insert:0,delete:0};for(const A of e)A==="insert"?b.push(n[w.equal+w.insert]):A==="delete"?f.push(t[w.equal+w.delete]):(u=u.concat(H(f,b,a).map(E=>E==="equal"?"update":E)),u.push("equal"),f=[],b=[]),w[A]++;return u.concat(H(f,b,a).map(A=>A==="equal"?"update":A))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(S.isBlink&&!S.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&S.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(f){const b=f.createElement("div");return b.className="ck-fake-selection-container",Object.assign(b.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),b.textContent=" ",b}(t));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(e))return;n.parentElement&&n.parentElement==e||e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||" ";const a=t.getSelection(),u=t.createRange();a.removeAllRanges(),u.selectNodeContents(n),a.addRange(u)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),a=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(n.parent,n.offset,a.parent,a.offset),S.isGecko&&function(u,f){let b=u.parent,w=u.offset;if(qi(b)&&qd(b)&&(w=to(b)+1,b=b.parentNode),b.nodeType!=Node.ELEMENT_NODE||w!=b.childNodes.length-1)return;const A=b.childNodes[w];A&&A.tagName=="BR"&&f.addRange(f.getRangeAt(0))}(a,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const n=e.activeElement,a=this.domConverter.mapDomToView(n);n&&a&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function Tp(r,e,t){const n=e instanceof Array?e:e.childNodes,a=n[t];if(qi(a))return a.data=il+a.data,a;{const u=r.createTextNode(il);return Array.isArray(e)?n.splice(t,0,u):xa(e,t,u),u}}function Ub(r,e){return Xr(r)&&Xr(e)&&!qi(r)&&!qi(e)&&!bl(r)&&!bl(e)&&r.tagName.toLowerCase()===e.tagName.toLowerCase()}function ww(r,e){return Xr(r)&&Xr(e)&&qi(r)&&qi(e)}function $b(r,e,t){return e===t||(qi(e)&&qi(t)?e.data===t.data:!(!r.isBlockFiller(e)||!r.isBlockFiller(t)))}function is(r,e){const t=r.data;if(t==e)return;const n=j(t,e);for(const a of n)a.type==="insert"?r.insertData(a.index,a.values.join("")):r.deleteData(a.index,a.howMany)}const Bs=Sp(y.document),qb=rf(y.document),Wb=sf(y.document),Fh="data-ck-unsafe-attribute-",Mp="data-ck-unsafe-element";class Vh{constructor(e,{blockFillerMode:t,renderingMode:n="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Hr,this._inlineObjectElementMatcher=new Hr,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=n,this.blockFillerMode=t||(n==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?y.document:y.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new la(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const n of Array.from(e.children))this.unbindDomElement(n)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,n){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(n==="img"&&(e==="src"||e==="srcset")||n==="source"&&e==="srcset"||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data")return void(e.innerHTML=t);const n=new DOMParser().parseFromString(t,"text/html"),a=n.createDocumentFragment(),u=n.body.childNodes;for(;u.length>0;)a.appendChild(u[0]);const f=n.createTreeWalker(a,NodeFilter.SHOW_ELEMENT),b=[];let w;for(;w=f.nextNode();)b.push(w);for(const A of b){for(const O of A.getAttributeNames())this.setDomElementAttribute(A,O,A.getAttribute(O));const E=A.tagName.toLowerCase();this._shouldRenameElement(E)&&(Op(E),A.replaceWith(this._createReplacementDomElement(E,A)))}for(;e.firstChild;)e.firstChild.remove();e.append(a)}viewToDom(e,t={}){if(e.is("$text")){const n=this._processDataFromViewText(e);return this._domDocument.createTextNode(n)}{const n=e;if(this.mapViewToDom(n)){if(!n.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(n);this._elementsWithTemporaryCustomProperties.add(n)}let a;if(n.is("documentFragment"))a=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(a,n);else{if(n.is("uiElement"))return a=n.name==="$comment"?this._domDocument.createComment(n.getCustomProperty("$rawContent")):n.render(this._domDocument,this),t.bind&&this.bindElements(a,n),a;this._shouldRenameElement(n.name)?(Op(n.name),a=this._createReplacementDomElement(n.name)):a=n.hasAttribute("xmlns")?this._domDocument.createElementNS(n.getAttribute("xmlns"),n.name):this._domDocument.createElement(n.name),n.is("rawElement")&&n.render(a,this),t.bind&&this.bindElements(a,n);for(const u of n.getAttributeKeys())this.setDomElementAttribute(a,u,n.getAttribute(u),n)}if(t.withChildren!==!1)for(const u of this.viewChildrenToDom(n,t))a instanceof HTMLTemplateElement?a.content.appendChild(u):a.appendChild(u);return a}}setDomElementAttribute(e,t,n,a){const u=this.shouldRenderAttribute(t,n,e.tagName.toLowerCase())||a&&a.shouldRenderUnsafeAttribute(t);u||ue("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:n}),function(f){try{y.document.createAttribute(f)}catch{return!1}return!0}(t)?(e.hasAttribute(t)&&!u?e.removeAttribute(t):e.hasAttribute(Fh+t)&&u&&e.removeAttribute(Fh+t),e.setAttribute(u?t:Fh+t,n)):ue("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:n})}removeDomElementAttribute(e,t){t!=Mp&&(e.removeAttribute(t),e.removeAttribute(Fh+t))}*viewChildrenToDom(e,t={}){const n=e.getFillerOffset&&e.getFillerOffset();let a=0;for(const u of e.getChildren()){n===a&&(yield this._getBlockFiller());const f=u.is("element")&&!!u.getCustomProperty("dataPipeline:transparentRendering")&&!qn(u.getAttributes());f&&this.renderingMode=="data"?yield*this.viewChildrenToDom(u,t):(f&&ue("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:u}),yield this.viewToDom(u,t)),a++}n===a&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),a=this._domDocument.createRange();return a.setStart(t.parent,t.offset),a.setEnd(n.parent,n.offset),a}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const n=this.findCorrespondingDomText(t);if(!n)return null;let a=e.offset;return so(n)&&(a+=Sa),{parent:n,offset:a}}{let n,a,u;if(e.offset===0){if(n=this.mapViewToDom(t),!n)return null;u=n.childNodes[0]}else{const f=e.nodeBefore;if(a=f.is("$text")?this.findCorrespondingDomText(f):this.mapViewToDom(f),!a)return null;n=a.parentNode,u=a.nextSibling}return qi(u)&&so(u)?{parent:u,offset:Sa}:{parent:n,offset:a?to(a)+1:0}}}domToView(e,t={}){const n=[],a=this._domToView(e,t,n),u=a.next().value;return u?(a.next(),this._processDomInlineNodes(null,n,t),u.is("$text")&&u.data.length==0?null:u):null}*domChildrenToView(e,t={},n=[]){let a=[];a=e instanceof HTMLTemplateElement?[...e.content.childNodes]:[...e.childNodes];for(let u=0;u<a.length;u++){const f=a[u],b=this._domToView(f,t,n),w=b.next().value;w!==null&&(this._isBlockViewElement(w)&&this._processDomInlineNodes(e,n,t),yield w,b.next())}this._processDomInlineNodes(e,n,t)}domSelectionToView(e){if(function(a){if(!S.isGecko||!a.rangeCount)return!1;const u=a.getRangeAt(0).startContainer;try{Object.prototype.toString.call(u)}catch{return!0}return!1}(e))return new la([]);if(e.rangeCount===1){let a=e.getRangeAt(0).startContainer;qi(a)&&(a=a.parentNode);const u=this.fakeSelectionToView(a);if(u)return u}const t=this.isDomSelectionBackward(e),n=[];for(let a=0;a<e.rangeCount;a++){const u=e.getRangeAt(a),f=this.domRangeToView(u);f&&n.push(f)}return new la(n,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new An(t,n):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,to(e));const n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return Pt._createBefore(n);if(qi(e)){if(qd(e))return this.domPositionToView(e.parentNode,to(e));const a=this.findCorrespondingViewText(e);let u=t;return a?(so(e)&&(u-=Sa,u=u<0?0:u),new Pt(a,u)):null}if(t===0){const a=this.mapDomToView(e);if(a)return new Pt(a,0)}else{const a=e.childNodes[t-1];if(qi(a)&&qd(a)||a&&this.isBlockFiller(a))return this.domPositionToView(a.parentNode,to(a));const u=qi(a)?this.findCorrespondingViewText(a):this.mapDomToView(a);if(u&&u.parent)return new Pt(u.parent,u.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(qd(e))return null;const t=this.getHostViewElement(e);if(t)return t;const n=e.previousSibling;if(n){if(!this.isElement(n))return null;const a=this.mapDomToView(n);if(a){const u=a.nextSibling;return u instanceof gi?u:null}}else{const a=this.mapDomToView(e.parentNode);if(a){const u=a.getChild(0);return u instanceof gi?u:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:n,scrollY:a}=y.window,u=[];af(t,f=>{const{scrollLeft:b,scrollTop:w}=f;u.push([b,w])}),t.focus(),af(t,f=>{const[b,w]=u.shift();f.scrollLeft=b,f.scrollTop=w}),y.window.scrollTo(n,a)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),n=this.domSelectionToView(t);n&&n.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(Bs):!(e.tagName!=="BR"||!Ip(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(Wb)||function(t,n){return t.isEqualNode(qb)&&Ip(t,n)&&t.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const n=t.collapsed;return t.detach(),n}getHostViewElement(e){const t=function(n){const a=[];let u=n;for(;u&&u.nodeType!=Node.DOCUMENT_NODE;)a.unshift(u),u=u.parentNode;return a}(e);for(t.pop();t.length;){const n=t.pop(),a=this._domToViewMapping.get(n);if(a&&(a.is("uiElement")||a.is("rawElement")))return a}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return rf(this._domDocument);case"markedNbsp":return sf(this._domDocument);case"br":return Sp(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(qi(e)&&so(e)&&t<Sa||this.isElement(e)&&so(e.childNodes[t]))return!1;const n=this.mapDomToView(e);return!n||!n.is("uiElement")&&!n.is("rawElement")}*_domToView(e,t,n){if(this.isBlockFiller(e))return null;const a=this.getHostViewElement(e);if(a)return a;if(bl(e)&&t.skipComments)return null;if(qi(e)){if(qd(e))return null;{const u=e.data;if(u==="")return null;const f=new gi(this.document,u);return n.push(f),f}}{let u=this.mapDomToView(e);if(u)return this._isInlineObjectElement(u)&&n.push(u),u;if(this.isDocumentFragment(e))u=new qc(this.document),t.bind&&this.bindDocumentFragments(e,u);else{u=this._createViewElement(e,t),t.bind&&this.bindElements(e,u);const b=e.attributes;if(b)for(let w=b.length,A=0;A<w;A++)u._setAttribute(b[A].name,b[A].value);if(this._isViewElementWithRawContent(u,t))return u._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(u)||n.push(u),u;if(bl(e))return u._setCustomProperty("$rawContent",e.data),u}yield u;const f=[];if(t.withChildren!==!1)for(const b of this.domChildrenToView(e,t,f))u._appendChild(b);if(this._isInlineObjectElement(u))n.push(u);else for(const b of f)n.push(b)}}_processDomInlineNodes(e,t,n){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let a=!1;for(let u=0;u<t.length;u++){const f=t[u];if(!f.is("$text")){a=!1;continue}let b,w=!1;if(of(f,this.preElements))b=jp(f.data);else{b=f.data.replace(/[ \n\t\r]{1,}/g," "),w=/[^\S\u00A0]/.test(b.charAt(b.length-1));const A=u>0?t[u-1]:null,E=u+1<t.length?t[u+1]:null,O=!A||A.is("element")&&A.name=="br"||a,z=!E&&!so(f.data);n.withChildren!==!1&&(O&&(b=b.replace(/^ /,"")),z&&(b=b.replace(/ $/,""))),b=jp(b),b=b.replace(/ \u00A0/g,"  ");const U=E&&E.is("element")&&E.name!="br",W=E&&E.is("$text")&&E.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(b)||!E||U||W)&&(b=b.replace(/\u00A0$/," ")),(O||A&&A.is("element")&&A.name!="br")&&(b=b.replace(/^\u00A0/," "))}b.length==0&&f.parent?(f._remove(),t.splice(u,1),u--):(f._data=b,a=w)}t.length=0}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return t;if(t.charAt(0)==" "){const n=this._getTouchingInlineViewNode(e,!1);!(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n))&&n||(t=" "+t.substr(1))}if(t.charAt(t.length-1)==" "){const n=this._getTouchingInlineViewNode(e,!0),a=n&&n.is("$textProxy")&&n.data.charAt(0)==" ";t.charAt(t.length-2)!=" "&&n&&!a||(t=t.substr(0,t.length-1)+" ")}return t.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_getTouchingInlineViewNode(e,t){const n=new Hd({startPosition:t?Pt._createAfter(e):Pt._createBefore(e),direction:t?"forward":"backward"});for(const a of n){if(a.item.is("element","br"))return null;if(this._isInlineObjectElement(a.item))return a.item;if(a.item.is("containerElement"))return null;if(a.item.is("$textProxy"))return a.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,t){if(bl(e))return new tc(this.document,"$comment");const n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Ho(this.document,n)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const n=this._domDocument.createElement("span");if(n.setAttribute(Mp,e),t){for(;t.firstChild;)n.appendChild(t.firstChild);for(const a of t.getAttributeNames())n.setAttribute(a,t.getAttribute(a))}return n}}function of(r,e){return r.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function af(r,e){let t=r;for(;t;)e(t),t=t.parentElement}function Ip(r,e){const t=r.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function Op(r){r==="script"&&ue("domconverter-unsafe-script-element-detected"),r==="style"&&ue("domconverter-unsafe-style-element-detected")}class rl extends Js(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const lf=Ja(function(r,e){Tn(e,Rr(e),r)});class Yc{constructor(e,t,n){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,lf(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Al extends rl{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(t=>{this.listenTo(e,t,(n,a)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(a.target)&&this.onDomEvent(a)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,n){this.isEnabled&&this.document.fire(e,new Yc(this.view,t,n))}}class Yb extends Al{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return zt(this)}};this.fire(e.type,e,t)}}const Hh=function(){return $e.Date.now()};var cf=/\s/;const Lp=function(r){for(var e=r.length;e--&&cf.test(r.charAt(e)););return e};var Gb=/^\s+/;const Bp=function(r){return r&&r.slice(0,Lp(r)+1).replace(Gb,"")};var Kb=/^[-+]0x[0-9a-f]+$/i,rc=/^0b[01]+$/i,Pp=/^0o[0-7]+$/i,yw=parseInt;const Rp=function(r){if(typeof r=="number")return r;if(ec(r))return NaN;if(te(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=te(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=Bp(r);var t=rc.test(r);return t||Pp.test(r)?yw(r.slice(2),t?2:8):Kb.test(r)?NaN:+r};var sc=Math.max,Qb=Math.min;const oc=function(r,e,t){var n,a,u,f,b,w,A=0,E=!1,O=!1,z=!0;if(typeof r!="function")throw new TypeError("Expected a function");function U(De){var Ze=n,ft=a;return n=a=void 0,A=De,f=r.apply(ft,Ze)}function W(De){var Ze=De-w;return w===void 0||Ze>=e||Ze<0||O&&De-A>=u}function X(){var De=Hh();if(W(De))return ae(De);b=setTimeout(X,function(Ze){var ft=e-(Ze-w);return O?Qb(ft,u-(Ze-A)):ft}(De))}function ae(De){return b=void 0,z&&n?U(De):(n=a=void 0,f)}function ge(){var De=Hh(),Ze=W(De);if(n=arguments,a=this,w=De,Ze){if(b===void 0)return function(ft){return A=ft,b=setTimeout(X,e),E?U(ft):f}(w);if(O)return clearTimeout(b),b=setTimeout(X,e),U(w)}return b===void 0&&(b=setTimeout(X,e)),f}return e=Rp(e)||0,te(t)&&(E=!!t.leading,u=(O="maxWait"in t)?sc(Rp(t.maxWait)||0,e):u,z="trailing"in t?!!t.trailing:z),ge.cancel=function(){b!==void 0&&clearTimeout(b),A=0,n=w=a=b=void 0},ge.flush=function(){return b===void 0?f:ae(Hh())},ge};class Uh extends rl{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=oc(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&n.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,n=new la(t.getRanges(),{backward:t.isBackward,fake:!1});e!=Fe.arrowleft&&e!=Fe.arrowup||n.setTo(n.getFirstPosition()),e!=Fe.arrowright&&e!=Fe.arrowdown||n.setTo(n.getLastPosition());const a={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",a),this._fireSelectionChangeDoneDebounced(a)}}const pr=function(r){return this.__data__.set(r,"__lodash_hash_undefined__"),this},xw=function(r){return this.__data__.has(r)};function df(r){var e=-1,t=r==null?0:r.length;for(this.__data__=new Pr;++e<t;)this.add(r[e])}df.prototype.add=df.prototype.push=pr,df.prototype.has=xw;const Zb=df,$h=function(r,e){for(var t=-1,n=r==null?0:r.length;++t<n;)if(e(r[t],t,r))return!0;return!1},Gc=function(r,e){return r.has(e)},zp=function(r,e,t,n,a,u){var f=1&t,b=r.length,w=e.length;if(b!=w&&!(f&&w>b))return!1;var A=u.get(r),E=u.get(e);if(A&&E)return A==e&&E==r;var O=-1,z=!0,U=2&t?new Zb:void 0;for(u.set(r,e),u.set(e,r);++O<b;){var W=r[O],X=e[O];if(n)var ae=f?n(X,W,O,e,r,u):n(W,X,O,r,e,u);if(ae!==void 0){if(ae)continue;z=!1;break}if(U){if(!$h(e,function(ge,De){if(!Gc(U,De)&&(W===ge||a(W,ge,t,n,u)))return U.push(De)})){z=!1;break}}else if(W!==X&&!a(W,X,t,n,u)){z=!1;break}}return u.delete(r),u.delete(e),z},Xb=function(r){var e=-1,t=Array(r.size);return r.forEach(function(n,a){t[++e]=[a,n]}),t},qh=function(r){var e=-1,t=Array(r.size);return r.forEach(function(n){t[++e]=n}),t};var sl=bt?bt.prototype:void 0,uf=sl?sl.valueOf:void 0;const Fp=function(r,e,t,n,a,u,f){switch(t){case"[object DataView]":if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(r.byteLength!=e.byteLength||!u(new Ya(r),new Ya(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return pt(+r,+e);case"[object Error]":return r.name==e.name&&r.message==e.message;case"[object RegExp]":case"[object String]":return r==e+"";case"[object Map]":var b=Xb;case"[object Set]":var w=1&n;if(b||(b=qh),r.size!=e.size&&!w)return!1;var A=f.get(r);if(A)return A==e;n|=2,f.set(r,e);var E=zp(b(r),b(e),n,a,u,f);return f.delete(r),E;case"[object Symbol]":if(uf)return uf.call(r)==uf.call(e)}return!1};var Jb=Object.prototype.hasOwnProperty;const Vp=function(r,e,t,n,a,u){var f=1&t,b=Sc(r),w=b.length;if(w!=Sc(e).length&&!f)return!1;for(var A=w;A--;){var E=b[A];if(!(f?E in e:Jb.call(e,E)))return!1}var O=u.get(r),z=u.get(e);if(O&&z)return O==e&&z==r;var U=!0;u.set(r,e),u.set(e,r);for(var W=f;++A<w;){var X=r[E=b[A]],ae=e[E];if(n)var ge=f?n(ae,X,E,e,r,u):n(X,ae,E,r,e,u);if(!(ge===void 0?X===ae||a(X,ae,t,n,u):ge)){U=!1;break}W||(W=E=="constructor")}if(U&&!W){var De=r.constructor,Ze=e.constructor;De==Ze||!("constructor"in r)||!("constructor"in e)||typeof De=="function"&&De instanceof De&&typeof Ze=="function"&&Ze instanceof Ze||(U=!1)}return u.delete(r),u.delete(e),U};var hf="[object Arguments]",Wh="[object Array]",Yh="[object Object]",Nl=Object.prototype.hasOwnProperty;const Mr=function(r,e,t,n,a,u){var f=ii(r),b=ii(e),w=f?Wh:go(r),A=b?Wh:go(e),E=(w=w==hf?Yh:w)==Yh,O=(A=A==hf?Yh:A)==Yh,z=w==A;if(z&&Qr(r)){if(!Qr(e))return!1;f=!0,E=!1}if(z&&!E)return u||(u=new Ws),f||To(r)?zp(r,e,t,n,a,u):Fp(r,e,w,t,n,a,u);if(!(1&t)){var U=E&&Nl.call(r,"__wrapped__"),W=O&&Nl.call(e,"__wrapped__");if(U||W){var X=U?r.value():r,ae=W?e.value():e;return u||(u=new Ws),a(X,ae,t,n,u)}}return!!z&&(u||(u=new Ws),Vp(r,e,t,n,a,u))},Uu=function r(e,t,n,a,u){return e===t||(e==null||t==null||!Jn(e)&&!Jn(t)?e!=e&&t!=t:Mr(e,t,n,a,r,u))},ek=function(r,e,t){var n=(t=typeof t=="function"?t:void 0)?t(r,e):void 0;return n===void 0?Uu(r,e,void 0,t):!!n};class rs extends rl{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,n=new Set,a=new Set;for(const f of e){const b=t.mapDomToView(f.target);b&&(b.is("uiElement")||b.is("rawElement")||f.type!=="childList"||this._isBogusBrMutation(f)||a.add(b))}for(const f of e){const b=t.mapDomToView(f.target);if((!b||!b.is("uiElement")&&!b.is("rawElement"))&&f.type==="characterData"){const w=t.findCorrespondingViewText(f.target);w&&!a.has(w.parent)?n.add(w):!w&&so(f.target)&&a.add(t.mapDomToView(f.target.parentNode))}}let u=!1;for(const f of n)u=!0,this.renderer.markToSync("text",f);for(const f of a){const b=t.mapViewToDom(f),w=Array.from(f.getChildren()),A=Array.from(t.domChildrenToView(b,{withChildren:!1}));ek(w,A,Cw)||(u=!0,this.renderer.markToSync("children",f))}u&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function Cw(r,e){if(!Array.isArray(r))return r===e||!(!r.is("$text")||!e.is("$text"))&&r.data===e.data}class Gh extends Al{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(n,a)=>{const u=t.selection.editableElement;u!==null&&u!==a.target||(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class tk extends rl{constructor(e){super(e),this.mutationObserver=e.getObserver(rs),this.focusObserver=e.getObserver(Gh),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=oc(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=oc(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,n=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",n,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",n,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",n,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(a,u)=>{this.document.isComposing&&!S.isAndroid||(this._handleSelectionChange(u,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const n=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const a=this.domConverter.domSelectionToView(n);if(a.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(a)||!this.domConverter.isDomSelectionCorrect(n))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(a))this.view.forceRender();else{const u={oldSelection:this.selection,newSelection:a,domSelection:n};this.document.fire("selectionChange",u),this._fireSelectionChangeDoneDebounced(u)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class lr extends Al{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class yo{constructor(e,t={}){this._files=t.cacheFiles?El(e):null,this._native=e}get files(){return this._files||(this._files=El(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,n){this._native.setDragImage(e,t,n)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function El(r){const e=Array.from(r.files||[]),t=Array.from(r.items||[]);return e.length?e:t.filter(n=>n.kind==="file").map(n=>n.getAsFile())}class nk extends Al{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),n=this.view,a=n.document;let u=null,f=null,b=[];if(e.dataTransfer&&(u=new yo(e.dataTransfer)),e.data!==null?f=e.data:u&&(f=u.getData("text/plain")),a.selection.isFake)b=Array.from(a.selection.getRanges());else if(t.length)b=t.map(w=>{const A=n.domConverter.domPositionToView(w.startContainer,w.startOffset),E=n.domConverter.domPositionToView(w.endContainer,w.endOffset);return A?n.createRange(A,E):E?n.createRange(E):void 0}).filter(w=>!!w);else if(S.isAndroid){const w=e.target.ownerDocument.defaultView.getSelection();b=Array.from(n.domConverter.domSelectionToView(w).getRanges())}if(S.isAndroid&&e.inputType=="insertCompositionText"&&f&&f.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[n.createRange(b[0].end)]});else if(e.inputType=="insertText"&&f&&f.includes(`
`)){const w=f.split(/\n{1,2}/g);let A=b;for(let E=0;E<w.length;E++){const O=w[E];O!=""&&(this.fire(e.type,e,{data:O,dataTransfer:u,targetRanges:A,inputType:e.inputType,isComposing:e.isComposing}),A=[a.selection.getFirstRange()]),E+1<w.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:A}),A=[a.selection.getFirstRange()])}}else this.fire(e.type,e,{data:f,dataTransfer:u,targetRanges:b,inputType:e.inputType,isComposing:e.isComposing})}}class ik extends rl{constructor(e){super(e),this.document.on("keydown",(t,n)=>{if(this.isEnabled&&((a=n.keyCode)==Fe.arrowright||a==Fe.arrowleft||a==Fe.arrowup||a==Fe.arrowdown)){const u=new Ud(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(u,n),u.stop.called&&t.stop()}var a})}observe(){}stopObserving(){}}class Aw extends rl{constructor(e){super(e);const t=this.document;t.on("keydown",(n,a)=>{if(!this.isEnabled||a.keyCode!=Fe.tab||a.ctrlKey)return;const u=new Ud(t,"tab",t.selection.getFirstRange());t.fire(u,a),u.stop.called&&n.stop()})}observe(){}stopObserving(){}}const da=function(r){return Oc(r,5)};class ua extends Te(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Bh(e),this.domConverter=new Vh(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Dp(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new Ep(this.document),this.addObserver(rs),this.addObserver(Gh),this.addObserver(tk),this.addObserver(Yb),this.addObserver(Uh),this.addObserver(lr),this.addObserver(ik),this.addObserver(nk),this.addObserver(Aw),this.document.on("arrowKey",Vb,{priority:"low"}),Ph(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),S.isiOS&&this.listenTo(this.document,"blur",(t,n)=>{this.domConverter.mapDomToView(n.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,t="main"){const n=this.document.getRoot(t);n._name=e.tagName.toLowerCase();const a={};for(const{name:f,value:b}of Array.from(e.attributes))a[f]=b,f==="class"?this._writer.addClass(b.split(" "),n):this._writer.setAttribute(f,b,n);this._initialDomRootAttributes.set(e,a);const u=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};u(),this.domRoots.set(t,e),this.domConverter.bindElements(e,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(e.ownerDocument),n.on("change:children",(f,b)=>this._renderer.markToSync("children",b)),n.on("change:attributes",(f,b)=>this._renderer.markToSync("attributes",b)),n.on("change:text",(f,b)=>this._renderer.markToSync("text",b)),n.on("change:isReadOnly",()=>this.change(u)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const f of this._observers.values())f.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:a})=>t.removeAttribute(a));const n=this._initialDomRootAttributes.get(t);for(const a in n)t.setAttribute(a,n[a]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const a of this._observers.values())a.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[n,a]of this.domRoots)t.observe(a,n);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:n=20,ancestorOffset:a=20}={}){const u=this.document.selection.getFirstRange();if(!u)return;const f=da({alignToTop:e,forceScroll:t,viewportOffset:n,ancestorOffset:a});typeof n=="number"&&(n={top:n,bottom:n,left:n,right:n});const b={target:this.domConverter.viewRangeToDom(u),viewportOffset:n,ancestorOffset:a,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",b,f),function({target:w,viewportOffset:A=0,ancestorOffset:E=0,alignToTop:O,forceScroll:z}){const U=T(w);let W=U,X=null;for(A=function(ae){return typeof ae=="number"?{top:ae,bottom:ae,left:ae,right:ae}:ae}(A);W;){let ae;ae=V(W==U?w:X),Bc({parent:ae,getRect:()=>G(w,W),alignToTop:O,ancestorOffset:E,forceScroll:z});const ge=G(w,W);if(_l({window:W,rect:ge,viewportOffset:A,alignToTop:O,forceScroll:z}),W.parent!=W){if(X=W.frameElement,W=W.parent,!X)return}else W=null}}(b)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new q("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){q.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Gh).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return Pt._createAt(e,t)}createPositionAfter(e){return Pt._createAfter(e)}createPositionBefore(e){return Pt._createBefore(e)}createRange(e,t){return new An(e,t)}createRangeOn(e){return An._createOn(e)}createRangeIn(e){return An._createIn(e)}createSelection(...e){return new la(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class bs{is(){throw new Error("is() method is abstract")}}class Kc extends bs{constructor(e){super(),this.parent=null,this._attrs=no(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new q("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new q("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),a=e.getAncestors(t);let u=0;for(;n[u]==a[u]&&n[u];)u++;return u===0?null:n[u-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),a=Dt(t,n);switch(a){case"prefix":return!0;case"extension":return!1;default:return t[a]<n[a]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,n)=>(t[n[0]]=n[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=no(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Kc.prototype.is=function(r){return r==="node"||r==="model:node"};class Ps{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((n,a)=>n+a.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new q("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const n of this._nodes){if(e>=t&&e<t+n.offsetSize)return this.getNodeIndex(n);t+=n.offsetSize}if(t!=e)throw new q("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const n of t)if(!(n instanceof Kc))throw new q("model-nodelist-insertnodes-not-node",this);this._nodes=function(n,a,u,f){if(Math.max(a.length,n.length)>1e4)return n.slice(0,u).concat(a).concat(n.slice(u+f,n.length));{const b=Array.from(n);return b.splice(u,f,...a),b}}(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class Bi extends Kc{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Bi(this.data,this.getAttributes())}static fromJSON(e){return new Bi(e.data,e.attributes)}}Bi.prototype.is=function(r){return r==="$text"||r==="model:$text"||r==="text"||r==="model:text"||r==="node"||r==="model:node"};class ks extends bs{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new q("model-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.offsetSize)throw new q("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}ks.prototype.is=function(r){return r==="$textProxy"||r==="model:$textProxy"||r==="textProxy"||r==="model:textProxy"};class ci extends Kc{constructor(e,t,n){super(t),this._children=new Ps,this.name=e,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}findAncestor(e,t={}){let n=t.includeSelf?this:this.parent;for(;n;){if(n.name===e)return n;n=n.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(n=>n._clone(!0)):void 0;return new ci(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(a){return typeof a=="string"?[new Bi(a)]:(Qe(a)||(a=[a]),Array.from(a).map(u=>typeof u=="string"?new Bi(u):u instanceof ks?new Bi(u.data,u.getAttributes()):u))}(t);for(const a of n)a.parent!==null&&a._remove(),a.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const a of n)a.parent=null;return n}static fromJSON(e){let t;if(e.children){t=[];for(const n of e.children)n.name?t.push(ci.fromJSON(n)):t.push(Bi.fromJSON(n))}return new ci(e.name,e.attributes,t)}}ci.prototype.is=function(r,e){return e?e===this.name&&(r==="element"||r==="model:element"):r==="element"||r==="model:element"||r==="node"||r==="model:node"};class oo{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new q("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new q("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=At._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n,a,u;do a=this.position,u=this._visitedParent,{done:t,value:n}=this.next();while(!t&&e(n));t||(this._position=a,this._visitedParent=u)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const a=Uo(t,n),u=a||Hp(t,n,a);if(u instanceof ci){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t.path.push(0),this._visitedParent=u;return this._position=t,ac("elementStart",u,e,t,1)}if(u instanceof Bi){let f;if(this.singleCharacters)f=1;else{let A=u.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<A&&(A=this.boundaries.end.offset),f=A-t.offset}const b=t.offset-u.startOffset,w=new ks(u,b,f);return t.offset+=f,this._position=t,ac("text",w,e,t,f)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():ac("elementEnd",n,e,t)}_previous(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const a=t.parent,u=Uo(t,a),f=u||Wd(t,a,u);if(f instanceof ci)return t.offset--,this.shallow?(this._position=t,ac("elementStart",f,e,t,1)):(t.path.push(f.maxOffset),this._position=t,this._visitedParent=f,this.ignoreElementEnd?this._previous():ac("elementEnd",f,e,t));if(f instanceof Bi){let b;if(this.singleCharacters)b=1;else{let E=f.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>E&&(E=this.boundaries.start.offset),b=t.offset-E}const w=t.offset-f.startOffset,A=new ks(f,w-b,b);return t.offset-=b,this._position=t,ac("text",A,e,t,b)}return t.path.pop(),this._position=t,this._visitedParent=n.parent,ac("elementStart",n,e,t,1)}}function ac(r,e,t,n,a){return{done:!1,value:{type:r,item:e,previousPosition:t,nextPosition:n,length:a}}}class At extends bs{constructor(e,t,n="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new q("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new q("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new q("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new q("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Uo(this,this.parent)}get nodeAfter(){const e=this.parent;return Hp(this,e,Uo(this,e))}get nodeBefore(){const e=this.parent;return Wd(this,e,Uo(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=Dt(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new oo(t);return n.skip(e),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=Dt(this.path,e.path),n=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let a=0;for(;t[a]==n[a]&&t[a];)a++;return a===0?null:t[a-1]}getShiftedBy(e){const t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let n=0;n<t;n++){const a=this.path[n]-e.path[n];if(a<-1||a>1)return!1;if(a===1)return $u(e,this,n);if(a===-1)return $u(this,e,n)}return this.path.length===e.path.length||(this.path.length>e.path.length?Yd(this.path,t):Yd(e.path,t))}hasSameParentAs(e){return this.root!==e.root?!1:Dt(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=At._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let n;return t.containsPosition(this)||t.start.isEqual(this)?(n=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(n=n._getTransformedByDeletion(e.deletionPosition,1))):n=this.isEqual(e.deletionPosition)?At._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),n}_getTransformedByDeletion(e,t){const n=At._createAt(this);if(this.root!=e.root)return n;if(Dt(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;n.offset-=t}}else if(Dt(e.getParentPath(),this.getParentPath())=="prefix"){const a=e.path.length-1;if(e.offset<=this.path[a]){if(e.offset+t>this.path[a])return null;n.path[a]-=t}}return n}_getTransformedByInsertion(e,t){const n=At._createAt(this);if(this.root!=e.root)return n;if(Dt(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(n.offset+=t);else if(Dt(e.getParentPath(),this.getParentPath())=="prefix"){const a=e.path.length-1;e.offset<=this.path[a]&&(n.path[a]+=t)}return n}_getTransformedByMove(e,t,n){if(t=t._getTransformedByDeletion(e,n),e.isEqual(t))return At._createAt(this);const a=this._getTransformedByDeletion(e,n);return a===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(n).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):a._getTransformedByInsertion(t,n)}_getCombined(e,t){const n=e.path.length-1,a=At._createAt(t);return a.stickiness=this.stickiness,a.offset=a.offset+this.path[n]-e.offset,a.path=[...a.path,...this.path.slice(n+1)],a}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,n="toNone"){if(e instanceof At)return new At(e.root,e.path,e.stickiness);{const a=e;if(t=="end")t=a.maxOffset;else{if(t=="before")return this._createBefore(a,n);if(t=="after")return this._createAfter(a,n);if(t!==0&&!t)throw new q("model-createpositionat-offset-required",[this,e])}if(!a.is("element")&&!a.is("documentFragment"))throw new q("model-position-parent-incorrect",[this,e]);const u=a.getPath();return u.push(t),new this(a.root,u,n)}}static _createAfter(e,t){if(!e.parent)throw new q("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new q("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const n=new At(t.graveyard,e.path);return n.stickiness=e.stickiness,n}if(!t.getRoot(e.root))throw new q("model-position-fromjson-no-root",t,{rootName:e.root});return new At(t.getRoot(e.root),e.path,e.stickiness)}}function Uo(r,e){const t=e.getChild(e.offsetToIndex(r.offset));return t&&t.is("$text")&&t.startOffset<r.offset?t:null}function Hp(r,e,t){return t!==null?null:e.getChild(e.offsetToIndex(r.offset))}function Wd(r,e,t){return t!==null?null:e.getChild(e.offsetToIndex(r.offset)-1)}function $u(r,e,t){return t+1!==r.path.length&&!!Yd(e.path,t+1)&&!!function(n,a){let u=n.parent,f=n.path.length-1,b=0;for(;f>=a;){if(n.path[f]+b!==u.maxOffset)return!1;b=1,f--,u=u.parent}return!0}(r,t+1)}function Yd(r,e){for(;e<r.length;){if(r[e]!==0)return!1;e++}return!0}At.prototype.is=function(r){return r==="position"||r==="model:position"};class Je extends bs{constructor(e,t){super(),this.start=At._createAt(e),this.end=t?At._createAt(t):At._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new oo({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return Dt(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),a=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&a}containsItem(e){const t=At._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Je(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Je(e.end,this.end))):t.push(new Je(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new Je(t,n)}return null}getJoined(e,t=!1){let n=this.isIntersecting(e);if(n||(n=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!n)return null;let a=this.start,u=this.end;return e.start.isBefore(a)&&(a=e.start),e.end.isAfter(u)&&(u=e.end),new Je(a,u)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,n=At._createAt(this.start);let a=n.parent;for(;n.path.length>t+1;){const u=a.maxOffset-n.offset;u!==0&&e.push(new Je(n,n.getShiftedBy(u))),n.path=n.path.slice(0,-1),n.offset++,a=a.parent}for(;n.path.length<=this.end.path.length;){const u=this.end.path[n.path.length-1],f=u-n.offset;f!==0&&e.push(new Je(n,n.getShiftedBy(f))),n.offset=u,n.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new oo(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new oo(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new oo(e);yield t.position;for(const n of t)yield n.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new Je(this.start,this.end)]}getTransformedByOperations(e){const t=[new Je(this.start,this.end)];for(const n of e)for(let a=0;a<t.length;a++){const u=t[a].getTransformedByOperation(n);t.splice(a,1,...u),a+=u.length-1}for(let n=0;n<t.length;n++){const a=t[n];for(let u=n+1;u<t.length;u++){const f=t[u];(a.containsRange(f)||f.containsRange(a)||a.isEqual(f))&&t.splice(u,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const n=e.sourcePosition,a=e.howMany,u=e.targetPosition;return this._getTransformedByMove(n,u,a,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),new Je(t,n)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new Je(this.start);let t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e);return t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)?(e.sourcePosition.isBefore(e.targetPosition)?(t=At._createAt(n),t.offset=0):(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition),new Je(t,n)):new Je(t,n)}_getTransformedByInsertion(e,t,n=!1){if(n&&this.containsPosition(e))return[new Je(this.start,e),new Je(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const a=new Je(this.start,this.end);return a.start=a.start._getTransformedByInsertion(e,t),a.end=a.end._getTransformedByInsertion(e,t),[a]}}_getTransformedByMove(e,t,n,a=!1){if(this.isCollapsed){const O=this.start._getTransformedByMove(e,t,n);return[new Je(O)]}const u=Je._createFromPositionAndShift(e,n),f=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!a&&(u.containsPosition(this.start)||u.containsPosition(this.end))){const O=this.start._getTransformedByMove(e,t,n),z=this.end._getTransformedByMove(e,t,n);return[new Je(O,z)]}let b;const w=this.getDifference(u);let A=null;const E=this.getIntersection(u);if(w.length==1?A=new Je(w[0].start._getTransformedByDeletion(e,n),w[0].end._getTransformedByDeletion(e,n)):w.length==2&&(A=new Je(this.start,this.end._getTransformedByDeletion(e,n))),b=A?A._getTransformedByInsertion(f,n,E!==null||a):[],E){const O=new Je(E.start._getCombined(u.start,f),E.end._getCombined(u.start,f));b.length==2?b.splice(1,0,O):b.push(O)}return b}_getTransformedByDeletion(e,t){let n=this.start._getTransformedByDeletion(e,t),a=this.end._getTransformedByDeletion(e,t);return n==null&&a==null?null:(n==null&&(n=e),a==null&&(a=e),new Je(n,a))}static _createFromPositionAndShift(e,t){const n=e,a=e.getShiftedBy(t);return t>0?new this(n,a):new this(a,n)}static _createIn(e){return new this(At._createAt(e,0),At._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(At._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new q("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((u,f)=>u.start.isAfter(f.start)?1:-1);const n=e.indexOf(t),a=new this(t.start,t.end);if(n>0)for(let u=n-1;e[u].end.isEqual(a.start);u++)a.start=At._createAt(e[u].start);for(let u=n+1;u<e.length&&e[u].start.isEqual(a.end);u++)a.end=At._createAt(e[u].end);return a}static fromJSON(e,t){return new this(At.fromJSON(e.start,t),At.fromJSON(e.end,t))}}Je.prototype.is=function(r){return r==="range"||r==="model:range"};class Up extends me(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const n=this._modelToViewMapping.get(t.modelPosition.parent);if(!n)throw new q("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(n,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const n=this.findMappedViewAncestor(t.viewPosition),a=this._viewToModelMapping.get(n),u=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,n);t.modelPosition=At._createAt(a,u)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const n=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const a of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(a);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(n)==e&&this._modelToViewMapping.delete(n))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const n=this._markerNameToElements.get(t)||new Set;n.add(e);const a=this._elementToMarkerNames.get(e)||new Set;a.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,a)}unbindElementFromMarkerName(e,t){const n=this._markerNameToElements.get(t);n&&(n.delete(e),n.size==0&&this._markerNameToElements.delete(t));const a=this._elementToMarkerNames.get(e);a&&(a.delete(t),a.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Je(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new An(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const n=new Set;for(const a of t)if(a.is("attributeElement"))for(const u of a.getElementsWithSameId())n.add(u);else n.add(a);return n}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,n){if(n!=e)return this._toModelOffset(e.parent,e.index,n)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;let a=0;for(let u=0;u<t;u++)a+=this.getModelLength(e.getChild(u));return a}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const n of e.getChildren())t+=this.getModelLength(n);return t}}findPositionIn(e,t){let n,a=0,u=0,f=0;if(e.is("$text"))return new Pt(e,t);for(;u<t;)n=e.getChild(f),a=this.getModelLength(n),u+=a,f++;return u==t?this._moveViewPositionToTextNode(new Pt(e,f)):this.findPositionIn(n,t-(u-a))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,n=e.nodeAfter;return t instanceof gi?new Pt(t,t.data.length):n instanceof gi?new Pt(n,0):e}}class rk{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=Qc(t),e instanceof ks&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=Qc(t),e instanceof ks&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=Qc(t),e instanceof ks&&(e=this._getSymbolForTextProxy(e));const n=this._consumable.get(e);if(n===void 0)return null;const a=n.get(t);return a===void 0?null:a}revert(e,t){t=Qc(t),e instanceof ks&&(e=this._getSymbolForTextProxy(e));const n=this.test(e,t);return n===!1?(this._consumable.get(e).set(t,!0),!0):n!==!0&&null}verifyAllConsumed(e){const t=[];for(const[n,a]of this._consumable)for(const[u,f]of a){const b=u.split(":")[0];f&&e==b&&t.push({event:u,item:n.name||n.description})}if(t.length)throw new q("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const n=this._textProxyRegistry.get(e.startOffset);if(n){const a=n.get(e.endOffset);a&&(t=a.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,n=e.endOffset,a=e.parent,u=Symbol("$textProxy:"+e.data);let f,b;return f=this._textProxyRegistry.get(t),f||(f=new Map,this._textProxyRegistry.set(t,f)),b=f.get(n),b||(b=new Map,f.set(n,b)),b.set(a,u),u}}function Qc(r){const e=r.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?r:e.length>1?e[0]+":"+e[1]:e[0]}var sk=Object.defineProperty,mf=Object.defineProperties,ok=Object.getOwnPropertyDescriptors,ak=Object.getOwnPropertySymbols,Nw=Object.prototype.hasOwnProperty,Pi=Object.prototype.propertyIsEnumerable,Gi=(r,e,t)=>e in r?sk(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Qn=(r,e)=>{for(var t in e||(e={}))Nw.call(e,t)&&Gi(r,t,e[t]);if(ak)for(var t of ak(e))Pi.call(e,t)&&Gi(r,t,e[t]);return r},di=(r,e)=>mf(r,ok(e));class Mi extends me(){constructor(e){super(),this._conversionApi=Qn({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,t,n){const a=this._createConversionApi(n,e.getRefreshedItems());for(const f of e.getMarkersToRemove())this._convertMarkerRemove(f.name,f.range,a);const u=this._reduceChanges(e.getChanges());for(const f of u)f.type==="insert"?this._convertInsert(Je._createFromPositionAndShift(f.position,f.length),a):f.type==="reinsert"?this._convertReinsert(Je._createFromPositionAndShift(f.position,f.length),a):f.type==="remove"?this._convertRemove(f.position,f.length,f.name,a):this._convertAttribute(f.range,f.attributeKey,f.attributeOldValue,f.attributeNewValue,a);a.mapper.flushDeferredBindings();for(const f of a.mapper.flushUnboundMarkerNames()){const b=t.get(f).getRange();this._convertMarkerRemove(f,b,a),this._convertMarkerAdd(f,b,a)}for(const f of e.getMarkersToAdd())this._convertMarkerAdd(f.name,f.range,a);a.consumable.verifyAllConsumed("insert")}convert(e,t,n,a={}){const u=this._createConversionApi(n,void 0,a);this._convertInsert(e,u);for(const[f,b]of t)this._convertMarkerAdd(f,b,u);u.consumable.verifyAllConsumed("insert")}convertSelection(e,t,n){const a=this._createConversionApi(n);this.fire("cleanSelection",{selection:e},a);const u=e.getFirstPosition().root;if(!a.mapper.toViewElement(u))return;const f=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(a.consumable,e,f),this.fire("selection",{selection:e},a),e.isCollapsed){for(const b of f)if(a.consumable.test(e,"addMarker:"+b.name)){const w=b.getRange();if(!ha(e.getFirstPosition(),b,a.mapper))continue;const A={item:e,markerName:b.name,markerRange:w};this.fire(`addMarker:${b.name}`,A,a)}for(const b of e.getAttributeKeys())if(a.consumable.test(e,"attribute:"+b)){const w={item:e,range:e.getFirstRange(),attributeKey:b,attributeOldValue:null,attributeNewValue:e.getAttribute(b)};this.fire(`attribute:${b}:$text`,w,a)}}}_convertInsert(e,t,n={}){n.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,e);for(const a of Array.from(e.getWalker({shallow:!0})).map(lc))this._testAndFire("insert",a,t)}_convertRemove(e,t,n,a){this.fire(`remove:${n}`,{position:e,length:t},a)}_convertAttribute(e,t,n,a,u){this._addConsumablesForRange(u.consumable,e,`attribute:${t}`);for(const f of e){const b={item:f.item,range:Je._createFromPositionAndShift(f.previousPosition,f.length),attributeKey:t,attributeOldValue:n,attributeNewValue:a};this._testAndFire(`attribute:${t}`,b,u)}}_convertReinsert(e,t){const n=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,n);for(const a of n.map(lc))this._testAndFire("insert",di(Qn({},a),{reconversion:!0}),t)}_convertMarkerAdd(e,t,n){if(t.root.rootName=="$graveyard")return;const a=`addMarker:${e}`;if(n.consumable.add(t,a),this.fire(a,{markerName:e,markerRange:t},n),n.consumable.consume(t,a)){this._addConsumablesForRange(n.consumable,t,a);for(const u of t.getItems()){if(!n.consumable.test(u,a))continue;const f={item:u,range:Je._createOn(u),markerName:e,markerRange:t};this.fire(a,f,n)}}}_convertMarkerRemove(e,t,n){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},n)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const n of t){const a=n.item;if(e.test(a,"insert")===null){e.add(a,"insert");for(const u of a.getAttributeKeys())e.add(a,"attribute:"+u)}}return e}_addConsumablesForRange(e,t,n){for(const a of t.getItems())e.add(a,n);return e}_addConsumablesForSelection(e,t,n){e.add(t,"selection");for(const a of n)e.add(t,"addMarker:"+a.name);for(const a of t.getAttributeKeys())e.add(t,"attribute:"+a);return e}_testAndFire(e,t,n){const a=function(w,A){const E=A.item.is("element")?A.item.name:"$text";return`${w}:${E}`}(e,t),u=t.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(t.item):t.item,f=this._firedEventsMap.get(n),b=f.get(u);if(b){if(b.has(a))return;b.add(a)}else f.set(u,new Set([a]));this.fire(a,t,n)}_testAndFireAddAttributes(e,t){const n={item:e,range:Je._createOn(e)};for(const a of n.item.getAttributeKeys())n.attributeKey=a,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(a),this._testAndFire(`attribute:${a}`,n,t)}_createConversionApi(e,t=new Set,n={}){const a=di(Qn({},this._conversionApi),{consumable:new rk,writer:e,options:n,convertItem:u=>this._convertInsert(Je._createOn(u),a),convertChildren:u=>this._convertInsert(Je._createIn(u),a,{doNotAddConsumables:!0}),convertAttributes:u=>this._testAndFireAddAttributes(u,a),canReuseView:u=>!t.has(a.mapper.toModelElement(u))});return this._firedEventsMap.set(a,new Map),a}}function ha(r,e,t){const n=e.getRange(),a=Array.from(r.getAncestors());return a.shift(),a.reverse(),!a.some(u=>{if(n.containsItem(u))return!!t.toViewElement(u).getCustomProperty("addHighlight")})}function lc(r){return{item:r.item,range:Je._createFromPositionAndShift(r.previousPosition,r.length)}}class _s extends me(bs){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const a of e._ranges)if(t.isEqual(a)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new Je(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new Je(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new Je(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,n,a]=e;if(typeof n=="object"&&(a=n,n=void 0),t===null)this._setRanges([]);else if(t instanceof _s)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof Je)this._setRanges([t],!!a&&!!a.backward);else if(t instanceof At)this._setRanges([new Je(t)]);else if(t instanceof Kc){const u=!!a&&!!a.backward;let f;if(n=="in")f=Je._createIn(t);else if(n=="on")f=Je._createOn(t);else{if(n===void 0)throw new q("model-selection-setto-required-second-parameter",[this,t]);f=new Je(At._createAt(t,n))}this._setRanges([f],u)}else{if(!Qe(t))throw new q("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,a&&!!a.backward)}}_setRanges(e,t=!1){const n=Array.from(e),a=n.some(u=>{if(!(u instanceof Je))throw new q("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(f=>!f.isEqual(u))});(n.length!==this._ranges.length||a)&&(this._replaceAllRanges(n),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new q("model-selection-setfocus-no-ranges",[this,e]);const n=At._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const a=this.anchor;this._ranges.length&&this._popRange(),n.compareWith(a)=="before"?(this._pushRange(new Je(n,a)),this._lastRangeBackward=!0):(this._pushRange(new Je(a,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const n=gr(t.start,e);Gd(n,t)&&(yield n);for(const u of t.getWalker()){const f=u.item;u.type=="elementEnd"&&cc(f,e,t)&&(yield f)}const a=gr(t.end,e);$p(a,t)&&(yield a)}}containsEntireContent(e=this.anchor.root){const t=At._createAt(e,0),n=At._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new Je(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new q("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function ff(r,e){return!e.has(r)&&(e.add(r),r.root.document.model.schema.isBlock(r)&&!!r.parent)}function cc(r,e,t){return ff(r,e)&&Sl(r,t)}function gr(r,e){const t=r.parent.root.document.model.schema,n=r.parent.getAncestors({parentFirst:!0,includeSelf:!0});let a=!1;const u=n.find(f=>!a&&(a=t.isLimit(f),!a&&ff(f,e)));return n.forEach(f=>e.add(f)),u}function Sl(r,e){const t=function(n){const a=n.root.document.model.schema;let u=n.parent;for(;u;){if(a.isBlock(u))return u;u=u.parent}}(r);return t?!e.containsRange(Je._createOn(t),!0):!0}function Gd(r,e){return!!r&&(!(!e.isCollapsed&&!r.isEmpty)||!e.start.isTouching(At._createAt(r,r.maxOffset))&&Sl(r,e))}function $p(r,e){return!!r&&(!(!e.isCollapsed&&!r.isEmpty)||!e.end.isTouching(At._createAt(r,0))&&Sl(r,e))}_s.prototype.is=function(r){return r==="selection"||r==="model:selection"};class cr extends me(Je){constructor(e,t){super(e,t),qu.call(this)}detach(){this.stopListening()}toRange(){return new Je(this.start,this.end)}static fromRange(e){return new cr(e.start,e.end)}}function qu(){this.listenTo(this.root.document.model,"applyOperation",(r,e)=>{const t=e[0];t.isDocumentOperation&&Kh.call(this,t)},{priority:"low"})}function Kh(r){const e=this.getTransformedByOperation(r),t=Je._createFromRanges(e),n=!t.isEqual(this),a=function(f,b){switch(b.type){case"insert":return f.containsPosition(b.position);case"move":case"remove":case"reinsert":case"merge":return f.containsPosition(b.sourcePosition)||f.start.isEqual(b.sourcePosition)||f.containsPosition(b.targetPosition);case"split":return f.containsPosition(b.splitPosition)||f.containsPosition(b.insertionPosition)}return!1}(this,r);let u=null;if(n){t.root.rootName=="$graveyard"&&(u=r.type=="remove"?r.sourcePosition:r.deletionPosition);const f=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",f,{deletionPosition:u})}else a&&this.fire("change:content",this.toRange(),{deletionPosition:u})}cr.prototype.is=function(r){return r==="liveRange"||r==="model:liveRange"||r=="range"||r==="model:range"};const Rs="selection:";class ma extends me(bs){constructor(e){super(),this._selection=new qp(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Rs+e}static _isStoreAttributeKey(e){return e.startsWith(Rs)}}ma.prototype.is=function(r){return r==="selection"||r=="model:selection"||r=="documentSelection"||r=="model:documentSelection"};class qp extends _s{constructor(e){super(),this.markers=new Ro({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,n)=>{const a=n[0];a.isDocumentOperation&&a.type!="marker"&&a.type!="rename"&&a.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,n,a,u)=>{this._updateMarker(n,u)}),this.listenTo(this._document,"change",(t,n)=>{(function(a,u){const f=a.document.differ;for(const b of f.getChanges()){if(b.type!="insert")continue;const w=b.position.parent;b.length===w.maxOffset&&a.enqueueChange(u,A=>{const E=Array.from(w.getAttributeKeys()).filter(O=>O.startsWith(Rs));for(const O of E)A.removeAttribute(O,w)})}})(this._model,n)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const n=[e];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=ee();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new q("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new q("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=cr.fromRange(e);return t.on("change:range",(n,a,u)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=u.deletionPosition;const f=this._ranges.indexOf(t);this._ranges.splice(f,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const a of this._model.markers){const u=a.name.split(":",1)[0];if(!this._observedMarkers.has(u))continue;const f=a.getRange();for(const b of this.getRanges())f.containsRange(b,!b.isCollapsed)&&e.push(a)}const n=Array.from(this.markers);for(const a of e)this.markers.has(a)||(this.markers.add(a),t=!0);for(const a of Array.from(this.markers))e.includes(a)||(this.markers.remove(a),t=!0);t&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(e,t){const n=e.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let a=!1;const u=Array.from(this.markers),f=this.markers.has(e);if(t){let b=!1;for(const w of this.getRanges())if(t.containsRange(w,!w.isCollapsed)){b=!0;break}b&&!f?(this.markers.add(e),a=!0):!b&&f&&(this.markers.remove(e),a=!0)}else f&&(this.markers.remove(e),a=!0);a&&this.fire("change:marker",{oldMarkers:u,directChange:!1})}_updateAttributes(e){const t=no(this._getSurroundingAttributes()),n=no(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[u,f]of this._attributePriority)f=="low"&&(this._attrs.delete(u),this._attributePriority.delete(u));this._setAttributesTo(t);const a=[];for(const[u,f]of this.getAttributes())n.has(u)&&n.get(u)===f||a.push(u);for(const[u]of n)this.hasAttribute(u)||a.push(u);a.length>0&&this.fire("change:attribute",{attributeKeys:a,directChange:!1})}_setAttribute(e,t,n=!0){const a=n?"normal":"low";return a=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,a),!0)}_removeAttribute(e,t=!0){const n=t?"normal":"low";return(n!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,n),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const t=new Set;for(const[n,a]of this.getAttributes())e.get(n)!==a&&this._removeAttribute(n,!1);for(const[n,a]of e)this._setAttribute(n,a,!1)&&t.add(n);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(Rs)&&(yield[t.substr(10),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let n=null;if(this.isCollapsed){const a=e.textNode?e.textNode:e.nodeBefore,u=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=Zc(a,t)),n||(n=Zc(u,t)),!this.isGravityOverridden&&!n){let f=a;for(;f&&!n;)f=f.previousSibling,n=Zc(f,t)}if(!n){let f=u;for(;f&&!n;)f=f.nextSibling,n=Zc(f,t)}n||(n=this.getStoredAttributes())}else{const a=this.getFirstRange();for(const u of a){if(u.item.is("element")&&t.isObject(u.item)){n=Zc(u.item,t);break}if(u.type=="text"){n=u.item.getAttributes();break}}}return n}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function Zc(r,e){if(!r)return null;if(r instanceof ks||r instanceof Bi)return r.getAttributes();if(!e.isInline(r))return null;if(!e.isObject(r))return[];const t=[];for(const[n,a]of r.getAttributes())e.checkAttribute("$text",n)&&e.getAttributeProperties(n).copyFromObject!==!1&&t.push([n,a]);return t}class Qh{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class Xc extends Qh{elementToElement(e){return this.add(function(t){const n=gf(t.model),a=Gu(t.view,"container");return n.attributes.length&&(n.children=!0),u=>{u.on(`insert:${n.name}`,Wu(a,$o(n)),{priority:t.converterPriority||"normal"}),(n.children||n.attributes.length)&&u.on("reduceChanges",Wp(n),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(t){const n=gf(t.model),a=Gu(t.view,"container");return n.children=!0,u=>{if(u._conversionApi.schema.checkChild(n.name,"$text"))throw new q("conversion-element-to-structure-disallowed-text",u,{elementName:n.name});var f,b;u.on(`insert:${n.name}`,(f=a,b=$o(n),(w,A,E)=>{if(!b(A.item,E.consumable,{preflight:!0}))return;const O=new Map;E.writer._registerSlotFactory(function(W,X,ae){return(ge,De)=>{const Ze=ge.createContainerElement("$slot");let ft=null;if(De==="children")ft=Array.from(W.getChildren());else{if(typeof De!="function")throw new q("conversion-slot-mode-unknown",ae.dispatcher,{modeOrFilter:De});ft=Array.from(W.getChildren()).filter(Ht=>De(Ht))}return X.set(Ze,ft),Ze}}(A.item,O,E));const z=f(A.item,E,A);if(E.writer._clearSlotFactory(),!z)return;(function(W,X,ae){const ge=Array.from(X.values()).flat(),De=new Set(ge);if(De.size!=ge.length)throw new q("conversion-slot-filter-overlap",ae.dispatcher,{element:W});if(De.size!=W.childCount)throw new q("conversion-slot-filter-incomplete",ae.dispatcher,{element:W})})(A.item,O,E),b(A.item,E.consumable);const U=E.mapper.toViewPosition(A.range.start);E.mapper.bindElements(A.item,z),E.writer.insert(U,z),E.convertAttributes(A.item),function(W,X,ae,ge){ae.mapper.on("modelToViewPosition",ft,{priority:"highest"});let De=null,Ze=null;for([De,Ze]of X)Yp(W,Ze,ae,ge),ae.writer.move(ae.writer.createRangeIn(De),ae.writer.createPositionBefore(De)),ae.writer.remove(De);function ft(Ht,jn){const Fn=jn.modelPosition.nodeAfter,rr=Ze.indexOf(Fn);rr<0||(jn.viewPosition=jn.mapper.findPositionIn(De,rr))}ae.mapper.off("modelToViewPosition",ft)}(z,O,E,{reconversion:A.reconversion})}),{priority:t.converterPriority||"normal"}),u.on("reduceChanges",Wp(n),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(t){t=da(t);let n=t.model;typeof n=="string"&&(n={key:n});let a=`attribute:${n.key}`;if(n.name&&(a+=":"+n.name),n.values)for(const f of n.values)t.view[f]=Gu(t.view[f],"attribute");else t.view=Gu(t.view,"attribute");const u=Ku(t);return f=>{f.on(a,Jc(u),{priority:t.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=da(t);let n=t.model;typeof n=="string"&&(n={key:n});let a=`attribute:${n.key}`;if(n.name&&(a+=":"+n.name),n.values)for(const f of n.values)t.view[f]=bf(t.view[f]);else t.view=bf(t.view);const u=Ku(t);return f=>{var b;f.on(a,(b=u,(w,A,E)=>{if(!E.consumable.test(A.item,w.name))return;const O=b(A.attributeOldValue,E,A),z=b(A.attributeNewValue,E,A);if(!O&&!z)return;E.consumable.consume(A.item,w.name);const U=E.mapper.toViewElement(A.item),W=E.writer;if(!U)throw new q("conversion-attribute-to-attribute-on-text",E.dispatcher,A);if(A.attributeOldValue!==null&&O)if(O.key=="class"){const X=typeof O.value=="string"?O.value.split(/\s+/):O.value;for(const ae of X)W.removeClass(ae,U)}else if(O.key=="style")if(typeof O.value=="string"){const X=new Wm(W.document.stylesProcessor);X.setTo(O.value);for(const[ae]of X.getStylesEntries())W.removeStyle(ae,U)}else{const X=Object.keys(O.value);for(const ae of X)W.removeStyle(ae,U)}else W.removeAttribute(O.key,U);if(A.attributeNewValue!==null&&z)if(z.key=="class"){const X=typeof z.value=="string"?z.value.split(/\s+/):z.value;for(const ae of X)W.addClass(ae,U)}else if(z.key=="style")if(typeof z.value=="string"){const X=new Wm(W.document.stylesProcessor);X.setTo(z.value);for(const[ae,ge]of X.getStylesEntries())W.setStyle(ae,ge,U)}else{const X=Object.keys(z.value);for(const ae of X)W.setStyle(ae,z.value[ae],U)}else W.setAttribute(z.key,z.value,U)}),{priority:t.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(t){const n=Gu(t.view,"ui");return a=>{a.on(`addMarker:${t.model}`,Yu(n),{priority:t.converterPriority||"normal"}),a.on(`removeMarker:${t.model}`,(u,f,b)=>{const w=b.mapper.markerNameToElements(f.markerName);if(w){for(const A of w)b.mapper.unbindElementFromMarkerName(A,f.markerName),b.writer.clear(b.writer.createRangeOn(A),A);b.writer.clearClonedElementsGroup(f.markerName),u.stop()}},{priority:t.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(t){return n=>{var a;n.on(`addMarker:${t.model}`,(a=t.view,(u,f,b)=>{if(!f.item||!(f.item instanceof _s||f.item instanceof ma||f.item.is("$textProxy")))return;const w=xo(a,f,b);if(!w||!b.consumable.consume(f.item,u.name))return;const A=b.writer,E=vs(A,w),O=A.document.selection;if(f.item instanceof _s||f.item instanceof ma)A.wrap(O.getFirstRange(),E);else{const z=b.mapper.toViewRange(f.range),U=A.wrap(z,E);for(const W of U.getItems())if(W.is("attributeElement")&&W.isSimilar(E)){b.mapper.bindElementToMarker(W,f.markerName);break}}}),{priority:t.converterPriority||"normal"}),n.on(`addMarker:${t.model}`,function(u){return(f,b,w)=>{if(!b.item||!(b.item instanceof ci))return;const A=xo(u,b,w);if(!A||!w.consumable.test(b.item,f.name))return;const E=w.mapper.toViewElement(b.item);if(E&&E.getCustomProperty("addHighlight")){w.consumable.consume(b.item,f.name);for(const O of Je._createIn(b.item))w.consumable.consume(O.item,f.name);E.getCustomProperty("addHighlight")(E,A,w.writer),w.mapper.bindElementToMarker(E,b.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),n.on(`removeMarker:${t.model}`,function(u){return(f,b,w)=>{if(b.markerRange.isCollapsed)return;const A=xo(u,b,w);if(!A)return;const E=vs(w.writer,A),O=w.mapper.markerNameToElements(b.markerName);if(O){for(const z of O)w.mapper.unbindElementFromMarkerName(z,b.markerName),z.is("attributeElement")?w.writer.unwrap(w.writer.createRangeOn(z),E):z.getCustomProperty("removeHighlight")(z,A.id,w.writer);w.writer.clearClonedElementsGroup(b.markerName),f.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(t){t=da(t);const n=t.model;let a=t.view;return a||(a=u=>({group:n,name:u.substr(t.model.length+1)})),u=>{var f;u.on(`addMarker:${n}`,(f=a,(b,w,A)=>{const E=f(w.markerName,A);if(!E)return;const O=w.markerRange;A.consumable.consume(O,b.name)&&(pf(O,!1,A,w,E),pf(O,!0,A,w,E),b.stop())}),{priority:t.converterPriority||"normal"}),u.on(`removeMarker:${n}`,function(b){return(w,A,E)=>{const O=b(A.markerName,E);if(!O)return;const z=E.mapper.markerNameToElements(A.markerName);if(z){for(const W of z)E.mapper.unbindElementFromMarkerName(W,A.markerName),W.is("containerElement")?(U(`data-${O.group}-start-before`,W),U(`data-${O.group}-start-after`,W),U(`data-${O.group}-end-before`,W),U(`data-${O.group}-end-after`,W)):E.writer.clear(E.writer.createRangeOn(W),W);E.writer.clearClonedElementsGroup(A.markerName),w.stop()}function U(W,X){if(X.hasAttribute(W)){const ae=new Set(X.getAttribute(W).split(","));ae.delete(O.name),ae.size==0?E.writer.removeAttribute(W,X):E.writer.setAttribute(W,Array.from(ae).join(","),X)}}}}(a),{priority:t.converterPriority||"normal"})}}(e))}}function vs(r,e){const t=r.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function Jc(r){return(e,t,n)=>{if(!n.consumable.test(t.item,e.name))return;const a=r(t.attributeOldValue,n,t),u=r(t.attributeNewValue,n,t);if(!a&&!u)return;n.consumable.consume(t.item,e.name);const f=n.writer,b=f.document.selection;if(t.item instanceof _s||t.item instanceof ma)f.wrap(b.getFirstRange(),u);else{let w=n.mapper.toViewRange(t.range);t.attributeOldValue!==null&&a&&(w=f.unwrap(w,a)),t.attributeNewValue!==null&&u&&f.wrap(w,u)}}}function Wu(r,e=Ew){return(t,n,a)=>{if(!e(n.item,a.consumable,{preflight:!0}))return;const u=r(n.item,a,n);if(!u)return;e(n.item,a.consumable);const f=a.mapper.toViewPosition(n.range.start);a.mapper.bindElements(n.item,u),a.writer.insert(f,u),a.convertAttributes(n.item),Yp(u,n.item.getChildren(),a,{reconversion:n.reconversion})}}function Yu(r){return(e,t,n)=>{t.isOpening=!0;const a=r(t,n);t.isOpening=!1;const u=r(t,n);if(!a||!u)return;const f=t.markerRange;if(f.isCollapsed&&!n.consumable.consume(f,e.name))return;for(const A of f)if(!n.consumable.consume(A.item,e.name))return;const b=n.mapper,w=n.writer;w.insert(b.toViewPosition(f.start),a),n.mapper.bindElementToMarker(a,t.markerName),f.isCollapsed||(w.insert(b.toViewPosition(f.end),u),n.mapper.bindElementToMarker(u,t.markerName)),e.stop()}}function pf(r,e,t,n,a){const u=e?r.start:r.end,f=u.nodeAfter&&u.nodeAfter.is("element")?u.nodeAfter:null,b=u.nodeBefore&&u.nodeBefore.is("element")?u.nodeBefore:null;if(f||b){let w,A;e&&f||!e&&!b?(w=f,A=!0):(w=b,A=!1);const E=t.mapper.toViewElement(w);if(E)return void function(O,z,U,W,X,ae){const ge=`data-${ae.group}-${z?"start":"end"}-${U?"before":"after"}`,De=O.hasAttribute(ge)?O.getAttribute(ge).split(","):[];De.unshift(ae.name),W.writer.setAttribute(ge,De.join(","),O),W.mapper.bindElementToMarker(O,X.markerName)}(E,e,A,t,n,a)}(function(w,A,E,O,z){const U=`${z.group}-${A?"start":"end"}`,W=z.name?{name:z.name}:null,X=E.writer.createUIElement(U,W);E.writer.insert(w,X),E.mapper.bindElementToMarker(X,O.markerName)})(t.mapper.toViewPosition(u),e,t,n,a)}function gf(r){return typeof r=="string"&&(r={name:r}),{name:r.name,attributes:r.attributes?gn(r.attributes):[],children:!!r.children}}function Gu(r,e){return typeof r=="function"?r:(t,n)=>function(a,u,f){typeof a=="string"&&(a={name:a});let b;const w=u.writer,A=Object.assign({},a.attributes);if(f=="container")b=w.createContainerElement(a.name,A);else if(f=="attribute"){const E={priority:a.priority||$c.DEFAULT_PRIORITY};b=w.createAttributeElement(a.name,A,E)}else b=w.createUIElement(a.name,A);if(a.styles){const E=Object.keys(a.styles);for(const O of E)w.setStyle(O,a.styles[O],b)}if(a.classes){const E=a.classes;if(typeof E=="string")w.addClass(E,b);else for(const O of E)w.addClass(O,b)}return b}(r,n,e)}function Ku(r){return r.model.values?(e,t,n)=>{const a=r.view[e];return a?a(e,t,n):null}:r.view}function bf(r){return typeof r=="string"?e=>({key:r,value:e}):typeof r=="object"?r.value?()=>r:e=>({key:r.key,value:e}):r}function xo(r,e,t){const n=typeof r=="function"?r(e,t):r;return n?(n.priority||(n.priority=10),n.id||(n.id=e.markerName),n):null}function Wp(r){const e=function(t){return(n,a)=>{if(!n.is("element",t.name))return!1;if(a.type=="attribute"){if(t.attributes.includes(a.attributeKey))return!0}else if(t.children)return!0;return!1}}(r);return(t,n)=>{const a=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const u of n.changes){const f=u.type=="attribute"?u.range.start.nodeAfter:u.position.parent;if(f&&e(f,u)){if(!n.reconvertedElements.has(f)){n.reconvertedElements.add(f);const b=At._createBefore(f);let w=a.length;for(let A=a.length-1;A>=0;A--){const E=a[A],O=(E.type=="attribute"?E.range.start:E.position).compareWith(b);if(O=="before"||E.type=="remove"&&O=="same")break;w=A}a.splice(w,0,{type:"remove",name:f.name,position:b,length:1},{type:"reinsert",name:f.name,position:b,length:1})}}else a.push(u)}n.changes=a}}function $o(r){return(e,t,n={})=>{const a=["insert"];for(const u of r.attributes)e.hasAttribute(u)&&a.push(`attribute:${u}`);return!!a.every(u=>t.test(e,u))&&(n.preflight||a.forEach(u=>t.consume(e,u)),!0)}}function Yp(r,e,t,n){for(const a of e)lk(r.root,a,t,n)||t.convertItem(a)}function lk(r,e,t,n){const{writer:a,mapper:u}=t;if(!n.reconversion)return!1;const f=u.toViewElement(e);return!(!f||f.root==r)&&!!t.canReuseView(f)&&(a.move(a.createRangeOn(f),u.toViewPosition(At._createBefore(e))),!0)}function Ew(r,e,{preflight:t}={}){return t?e.test(r,"insert"):e.consume(r,"insert")}function dc(r){const{schema:e,document:t}=r.model;for(const n of t.getRoots())if(n.isEmpty&&!e.checkChild(n,"$text")&&e.checkChild(n,"paragraph"))return r.insertElement("paragraph",n),!0;return!1}function Zh(r,e,t){const n=t.createContext(r);return!!t.checkChild(n,"paragraph")&&!!t.checkChild(n.push("paragraph"),e)}function kf(r,e){const t=e.createElement("paragraph");return e.insert(t,r),e.createPositionAt(t,0)}var Qu=Object.defineProperty,ck=Object.defineProperties,dk=Object.getOwnPropertyDescriptors,Gp=Object.getOwnPropertySymbols,Kp=Object.prototype.hasOwnProperty,Qp=Object.prototype.propertyIsEnumerable,uk=(r,e,t)=>e in r?Qu(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class Sw extends Qh{elementToElement(e){return this.add(hk(e))}elementToAttribute(e){return this.add(function(t){t=da(t),Kd(t);const n=Xh(t,!1),a=_f(t.view),u=a?`element:${a}`:"element";return f=>{f.on(u,n,{priority:t.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=da(t);let n=null;(typeof t.view=="string"||t.view.key)&&(n=function(u){typeof u.view=="string"&&(u.view={key:u.view});const f=u.view.key,b=u.view.value===void 0?/[\s\S]*/:u.view.value;let w;return f=="class"||f=="style"?w={[f=="class"?"classes":"styles"]:b}:w={attributes:{[f]:b}},u.view.name&&(w.name=u.view.name),u.view=w,f}(t)),Kd(t,n);const a=Xh(t,!0);return u=>{u.on("element",a,{priority:t.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(t){const n=function(f){return(b,w)=>{const A=typeof f=="string"?f:f(b,w);return w.writer.createElement("$marker",{"data-name":A})}}(t.model);return hk((a=((f,b)=>{for(var w in b||(b={}))Kp.call(b,w)&&uk(f,w,b[w]);if(Gp)for(var w of Gp(b))Qp.call(b,w)&&uk(f,w,b[w]);return f})({},t),u={model:n},ck(a,dk(u))));var a,u}(e))}dataToMarker(e){return this.add(function(t){t=da(t),t.model||(t.model=f=>f?t.view+":"+f:t.view);const n={view:t.view,model:t.model},a=vf(Zp(n,"start")),u=vf(Zp(n,"end"));return f=>{f.on(`element:${t.view}-start`,a,{priority:t.converterPriority||"normal"}),f.on(`element:${t.view}-end`,u,{priority:t.converterPriority||"normal"});const b=ne.low,w=ne.highest,A=ne.get(t.converterPriority)/w;f.on("element",function(E){return(O,z,U)=>{const W=`data-${E.view}`;function X(ae,ge){for(const De of ge){const Ze=E.model(De,U),ft=U.writer.createElement("$marker",{"data-name":Ze});U.writer.insert(ft,ae),z.modelCursor.isEqual(ae)?z.modelCursor=z.modelCursor.getShiftedBy(1):z.modelCursor=z.modelCursor._getTransformedByInsertion(ae,1),z.modelRange=z.modelRange._getTransformedByInsertion(ae,1)[0]}}(U.consumable.test(z.viewItem,{attributes:W+"-end-after"})||U.consumable.test(z.viewItem,{attributes:W+"-start-after"})||U.consumable.test(z.viewItem,{attributes:W+"-end-before"})||U.consumable.test(z.viewItem,{attributes:W+"-start-before"}))&&(z.modelRange||Object.assign(z,U.convertChildren(z.viewItem,z.modelCursor)),U.consumable.consume(z.viewItem,{attributes:W+"-end-after"})&&X(z.modelRange.end,z.viewItem.getAttribute(W+"-end-after").split(",")),U.consumable.consume(z.viewItem,{attributes:W+"-start-after"})&&X(z.modelRange.end,z.viewItem.getAttribute(W+"-start-after").split(",")),U.consumable.consume(z.viewItem,{attributes:W+"-end-before"})&&X(z.modelRange.start,z.viewItem.getAttribute(W+"-end-before").split(",")),U.consumable.consume(z.viewItem,{attributes:W+"-start-before"})&&X(z.modelRange.start,z.viewItem.getAttribute(W+"-start-before").split(",")))}}(n),{priority:b+A})}}(e))}}function hk(r){const e=vf(r=da(r)),t=_f(r.view),n=t?`element:${t}`:"element";return a=>{a.on(n,e,{priority:r.converterPriority||"normal"})}}function _f(r){return typeof r=="string"?r:typeof r=="object"&&typeof r.name=="string"?r.name:null}function vf(r){const e=new Hr(r.view);return(t,n,a)=>{const u=e.match(n.viewItem);if(!u)return;const f=u.match;if(f.name=!0,!a.consumable.test(n.viewItem,f))return;const b=function(w,A,E){return w instanceof Function?w(A,E):E.writer.createElement(w)}(r.model,n.viewItem,a);b&&a.safeInsert(b,n.modelCursor)&&(a.consumable.consume(n.viewItem,f),a.convertChildren(n.viewItem,b),a.updateConversionResult(b,n))}}function Kd(r,e=null){const t=e===null||(u=>u.getAttribute(e)),n=typeof r.model!="object"?r.model:r.model.key,a=typeof r.model!="object"||r.model.value===void 0?t:r.model.value;r.model={key:n,value:a}}function Xh(r,e){const t=new Hr(r.view);return(n,a,u)=>{if(!a.modelRange&&e)return;const f=t.match(a.viewItem);if(!f||(function(E,O){const z=typeof E=="function"?E(O):E;return typeof z=="object"&&!_f(z)?!1:!z.classes&&!z.attributes&&!z.styles}(r.view,a.viewItem)?f.match.name=!0:delete f.match.name,!u.consumable.test(a.viewItem,f.match)))return;const b=r.model.key,w=typeof r.model.value=="function"?r.model.value(a.viewItem,u):r.model.value;if(w===null)return;a.modelRange||Object.assign(a,u.convertChildren(a.viewItem,a.modelCursor)),function(E,O,z,U){let W=!1;for(const X of Array.from(E.getItems({shallow:z})))U.schema.checkAttribute(X,O.key)&&(W=!0,X.hasAttribute(O.key)||U.writer.setAttribute(O.key,O.value,X));return W}(a.modelRange,{key:b,value:w},e,u)&&(u.consumable.test(a.viewItem,{name:!0})&&(f.match.name=!0),u.consumable.consume(a.viewItem,f.match))}}function Zp(r,e){return{view:`${r.view}-${e}`,model:(t,n)=>{const a=t.getAttribute("name"),u=r.model(a,n);return n.writer.createElement("$marker",{"data-name":u})}}}function mk(r){r.document.registerPostFixer(e=>function(t,n){const a=n.document.selection,u=n.schema,f=[];let b=!1;for(const w of a.getRanges()){const A=Xp(w,u);A&&!A.isEqual(w)?(f.push(A),b=!0):f.push(w)}return b&&t.setSelection(function(w){const A=[...w],E=new Set;let O=1;for(;O<A.length;){const z=A[O],U=A.slice(0,O);for(const[W,X]of U.entries())if(!E.has(W)){if(z.isEqual(X))E.add(W);else if(z.isIntersecting(X)){E.add(W),E.add(O);const ae=z.getJoined(X);A.push(ae)}}O++}return A.filter((z,U)=>!E.has(U))}(f),{backward:a.isBackward}),!1}(e,r))}function Xp(r,e){return r.isCollapsed?function(t,n){const a=t.start,u=n.getNearestSelectionRange(a);if(!u){const b=a.getAncestors().reverse().find(w=>n.isObject(w));return b?Je._createOn(b):null}if(!u.isCollapsed)return u;const f=u.start;return a.isEqual(f)?null:new Je(f)}(r,e):function(t,n){const{start:a,end:u}=t,f=n.checkChild(a,"$text"),b=n.checkChild(u,"$text"),w=n.getLimitElement(a),A=n.getLimitElement(u);if(w===A){if(f&&b)return null;if(function(z,U,W){const X=z.nodeAfter&&!W.isLimit(z.nodeAfter)||W.checkChild(z,"$text"),ae=U.nodeBefore&&!W.isLimit(U.nodeBefore)||W.checkChild(U,"$text");return X||ae}(a,u,n)){const z=a.nodeAfter&&n.isSelectable(a.nodeAfter)?null:n.getNearestSelectionRange(a,"forward"),U=u.nodeBefore&&n.isSelectable(u.nodeBefore)?null:n.getNearestSelectionRange(u,"backward"),W=z?z.start:a,X=U?U.end:u;return new Je(W,X)}}const E=w&&!w.is("rootElement"),O=A&&!A.is("rootElement");if(E||O){const z=a.nodeAfter&&u.nodeBefore&&a.nodeAfter.parent===u.nodeBefore.parent,U=E&&(!z||!eg(a.nodeAfter,n)),W=O&&(!z||!eg(u.nodeBefore,n));let X=a,ae=u;return U&&(X=At._createBefore(Jp(w,n))),W&&(ae=At._createAfter(Jp(A,n))),new Je(X,ae)}return null}(r,e)}function Jp(r,e){let t=r,n=t;for(;e.isLimit(n)&&n.parent;)t=n,n=n.parent;return t}function eg(r,e){return r&&e.isSelectable(r)}class fk extends Te(){constructor(e,t){super(),this.model=e,this.view=new ua(t),this.mapper=new Up,this.downcastDispatcher=new Mi({mapper:this.mapper,schema:e.schema});const n=this.model.document,a=n.selection,u=this.model.markers;var f,b,w;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(A=>{this.downcastDispatcher.convertChanges(n.differ,u,A),this.downcastDispatcher.convertSelection(a,u,A)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(A,E){return(O,z)=>{const U=z.newSelection,W=[];for(const ae of U.getRanges())W.push(E.toModelRange(ae));const X=A.createSelection(W,{backward:U.isBackward});X.isEqual(A.document.selection)||A.change(ae=>{ae.setSelection(X)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(f=this.mapper,b=this.model.schema,w=this.view,(A,E)=>{if(!w.document.isComposing||S.isAndroid)for(let O=0;O<E.targetRanges.length;O++){const z=E.targetRanges[O],U=f.toModelRange(z),W=Xp(U,b);W&&!W.isEqual(U)&&(E.targetRanges[O]=f.toViewRange(W))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(A,E,O)=>{if(!O.consumable.consume(E.item,A.name))return;const z=O.writer,U=O.mapper.toViewPosition(E.range.start),W=z.createText(E.item.data);z.insert(U,W)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(A,E,O)=>{O.convertAttributes(E.item),E.reconversion||!E.item.is("element")||E.item.isEmpty||O.convertChildren(E.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(A,E,O)=>{const z=O.mapper.toViewPosition(E.position),U=E.position.getShiftedBy(E.length),W=O.mapper.toViewPosition(U,{isPhantom:!0}),X=O.writer.createRange(z,W),ae=O.writer.remove(X.getTrimmed());for(const ge of O.writer.createRangeIn(ae).getItems())O.mapper.unbindViewElement(ge,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(A,E,O)=>{const z=O.writer,U=z.document.selection;for(const W of U.getRanges())W.isCollapsed&&W.end.parent.isAttached()&&O.writer.mergeAttributes(W.start);z.setSelection(null)}),this.downcastDispatcher.on("selection",(A,E,O)=>{const z=E.selection;if(z.isCollapsed||!O.consumable.consume(z,"selection"))return;const U=[];for(const W of z.getRanges())U.push(O.mapper.toViewRange(W));O.writer.setSelection(U,{backward:z.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(A,E,O)=>{const z=E.selection;if(!z.isCollapsed||!O.consumable.consume(z,"selection"))return;const U=O.writer,W=z.getFirstPosition(),X=O.mapper.toViewPosition(W),ae=U.breakAttributes(X);U.setSelection(ae)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(A=>{if(A.rootName=="$graveyard")return null;const E=new Cp(this.view.document,A.name);return E.rootName=A.rootName,this.mapper.bindElements(A,E),E})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,n=this.model.markers.get(t);if(!n)throw new q("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(n)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class ed{constructor(){this._consumables=new Map}add(e,t){let n;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?n=this._consumables.get(e):(n=new pk(e),this._consumables.set(e,n)),n.add(t))}test(e,t){const n=this._consumables.get(e);return n===void 0?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const n=this._consumables.get(e);n!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},n=e.getAttributeKeys();for(const f of n)f!="style"&&f!="class"&&t.attributes.push(f);const a=e.getClassNames();for(const f of a)t.classes.push(f);const u=e.getStyleNames();for(const f of u)t.styles.push(f);return t}static createFrom(e,t){if(t||(t=new ed),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,ed.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const n of e.getChildren())t=ed.createFrom(n,t);return t}}const Jh=["attributes","classes","styles"];class pk{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of Jh)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of Jh)if(t in e){const n=this._test(t,e[t]);if(n!==!0)return n}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of Jh)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of Jh)t in e&&this._revert(t,e[t])}_add(e,t){const n=gn(t),a=this._consumables[e];for(const u of n){if(e==="attributes"&&(u==="class"||u==="style"))throw new q("viewconsumable-invalid-attribute",this);if(a.set(u,!0),e==="styles")for(const f of this.element.document.stylesProcessor.getRelatedStyles(u))a.set(f,!0)}}_test(e,t){const n=gn(t),a=this._consumables[e];for(const u of n)if(e!=="attributes"||u!=="class"&&u!=="style"){const f=a.get(u);if(f===void 0)return null;if(!f)return!1}else{const f=u=="class"?"classes":"styles",b=this._test(f,[...this._consumables[f].keys()]);if(b!==!0)return b}return!0}_consume(e,t){const n=gn(t),a=this._consumables[e];for(const u of n)if(e!=="attributes"||u!=="class"&&u!=="style"){if(a.set(u,!1),e=="styles")for(const f of this.element.document.stylesProcessor.getRelatedStyles(u))a.set(f,!1)}else{const f=u=="class"?"classes":"styles";this._consume(f,[...this._consumables[f].keys()])}}_revert(e,t){const n=gn(t),a=this._consumables[e];for(const u of n)if(e!=="attributes"||u!=="class"&&u!=="style")a.get(u)===!1&&a.set(u,!0);else{const f=u=="class"?"classes":"styles";this._revert(f,[...this._consumables[f].keys()])}}}class Ki extends Te(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new uc(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new uc(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new q("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new q("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!!t&&!(!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!!t&&!(!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const n=this.getDefinition(e.last);return!!n&&n.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof At){const n=e.nodeBefore,a=e.nodeAfter;if(!(n instanceof ci))throw new q("schema-check-merge-no-element-before",this);if(!(a instanceof ci))throw new q("schema-check-merge-no-element-after",this);return this.checkMerge(n,a)}for(const n of t.getChildren())if(!this.checkChild(e,n))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[n,a])=>{if(!a)return;const u=e(n,a);typeof u=="boolean"&&(t.stop(),t.return=u)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[n,a])=>{const u=e(n,a);typeof u=="boolean"&&(t.stop(),t.return=u)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof At?t=e.parent:t=(e instanceof Je?[e]:Array.from(e.getRanges())).reduce((n,a)=>{const u=a.getCommonAncestor();return n?n.getCommonAncestor(u,{includeSelf:!0}):u},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const n=[...e.getFirstPosition().getAncestors(),new Bi("",e.getAttributes())];return this.checkAttribute(n,t)}{const n=e.getRanges();for(const a of n)for(const u of a)if(this.checkAttribute(u.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(n){for(const a of n)yield*a.getMinimalFlatRanges()}(e);for(const n of e)yield*this._getValidRangesForRange(n,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new Je(e);let n,a;const u=e.getAncestors().reverse().find(f=>this.isLimit(f))||e.root;t!="both"&&t!="backward"||(n=new oo({boundaries:Je._createIn(u),startPosition:e,direction:"backward"})),t!="both"&&t!="forward"||(a=new oo({boundaries:Je._createIn(u),startPosition:e}));for(const f of function*(b,w){let A=!1;for(;!A;){if(A=!0,b){const E=b.next();E.done||(A=!1,yield{walker:b,value:E.value})}if(w){const E=w.next();E.done||(A=!1,yield{walker:w,value:E.value})}}}(n,a)){const b=f.walker==n?"elementEnd":"elementStart",w=f.value;if(w.type==b&&this.isObject(w.item))return Je._createOn(w.item);if(this.checkChild(w.nextPosition,"$text"))return new Je(w.nextPosition)}return null}findAllowedParent(e,t){let n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(e,t,n){const a=n.model;for(const[u,f]of Object.entries(t))a.schema.checkAttribute(e,u)&&n.setAttribute(u,f,e)}removeDisallowedAttributes(e,t){for(const n of e)if(n.is("$text"))Xu(this,n,t);else{const a=Je._createIn(n).getPositions();for(const u of a)Xu(this,u.nodeBefore||u.parent,t)}}getAttributesWithProperty(e,t,n){const a={};for(const[u,f]of e.getAttributes()){const b=this.getAttributeProperties(u);b[t]!==void 0&&(n!==void 0&&n!==b[t]||(a[u]=f))}return a}createContext(e){return new uc(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,n=Object.keys(t);for(const a of n)e[a]=jw(t[a],a);for(const a of n)gk(e,a);for(const a of n)Dw(e,a);for(const a of n)Tw(e,a);for(const a of n)Mw(e,a),wf(e,a);for(const a of n)Zu(e,a),tg(e,a),yf(e,a);this._compiledDefinitions=e}_checkContextMatch(e,t,n=t.length-1){const a=t.getItem(n);if(e.allowIn.includes(a.name)){if(n==0)return!0;{const u=this.getDefinition(a);return this._checkContextMatch(u,t,n-1)}}return!1}*_getValidRangesForRange(e,t){let n=e.start,a=e.start;for(const u of e.getItems({shallow:!0}))u.is("element")&&(yield*this._getValidRangesForRange(Je._createIn(u),t)),this.checkAttribute(u,t)||(n.isEqual(a)||(yield new Je(n,a)),n=At._createAfter(u)),a=At._createAfter(u);n.isEqual(a)||(yield new Je(n,a))}findOptimalInsertionRange(e,t){const n=e.getSelectedElement();if(n&&this.isObject(n)&&!this.isInline(n))return t=="before"||t=="after"?new Je(At._createAt(n,t)):Je._createOn(n);const a=qn(e.getSelectedBlocks());if(!a)return new Je(e.focus);if(a.isEmpty)return new Je(At._createAt(a,0));const u=At._createAfter(a);return e.focus.isTouching(u)?new Je(u):new Je(At._createBefore(a))}}class uc{constructor(e){if(e instanceof uc)return e;let t;t=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(jl)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new uc([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function jw(r,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(n,a){for(const u of n){const f=Object.keys(u).filter(b=>b.startsWith("is"));for(const b of f)a[b]=!!u[b]}}(r,t),hc(r,t,"allowIn"),hc(r,t,"allowContentOf"),hc(r,t,"allowWhere"),hc(r,t,"allowAttributes"),hc(r,t,"allowAttributesOf"),hc(r,t,"allowChildren"),hc(r,t,"inheritTypesFrom"),function(n,a){for(const u of n){const f=u.inheritAllFrom;f&&(a.allowContentOf.push(f),a.allowWhere.push(f),a.allowAttributesOf.push(f),a.inheritTypesFrom.push(f))}}(r,t),t}function gk(r,e){const t=r[e];for(const n of t.allowChildren){const a=r[n];a&&a.allowIn.push(e)}t.allowChildren.length=0}function Dw(r,e){for(const t of r[e].allowContentOf)r[t]&&Qd(r,t).forEach(n=>{n.allowIn.push(e)});delete r[e].allowContentOf}function Tw(r,e){for(const t of r[e].allowWhere){const n=r[t];if(n){const a=n.allowIn;r[e].allowIn.push(...a)}}delete r[e].allowWhere}function Mw(r,e){for(const t of r[e].allowAttributesOf){const n=r[t];if(n){const a=n.allowAttributes;r[e].allowAttributes.push(...a)}}delete r[e].allowAttributesOf}function wf(r,e){const t=r[e];for(const n of t.inheritTypesFrom){const a=r[n];if(a){const u=Object.keys(a).filter(f=>f.startsWith("is"));for(const f of u)f in t||(t[f]=a[f])}}delete t.inheritTypesFrom}function Zu(r,e){const t=r[e],n=t.allowIn.filter(a=>r[a]);t.allowIn=Array.from(new Set(n))}function tg(r,e){const t=r[e];for(const n of t.allowIn)r[n].allowChildren.push(e)}function yf(r,e){const t=r[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function hc(r,e,t){for(const n of r){const a=n[t];typeof a=="string"?e[t].push(a):Array.isArray(a)&&e[t].push(...a)}}function Qd(r,e){const t=r[e];return(n=r,Object.keys(n).map(a=>n[a])).filter(a=>a.allowIn.includes(t.name));var n}function jl(r){return typeof r=="string"||r.is("documentFragment")?{name:typeof r=="string"?r:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:r.is("element")?r.name:"$text",*getAttributeKeys(){yield*r.getAttributeKeys()},getAttribute:e=>r.getAttribute(e)}}function Xu(r,e,t){for(const n of e.getAttributeKeys())r.checkAttribute(e,n)||t.removeAttribute(n,e)}var Iw=Object.defineProperty,bk=Object.defineProperties,kk=Object.getOwnPropertyDescriptors,ng=Object.getOwnPropertySymbols,_k=Object.prototype.hasOwnProperty,Ow=Object.prototype.propertyIsEnumerable,xf=(r,e,t)=>e in r?Iw(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class vk extends me(){constructor(e){var t;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(t=((n,a)=>{for(var u in a||(a={}))_k.call(a,u)&&xf(n,u,a[u]);if(ng)for(var u of ng(a))Ow.call(a,u)&&xf(n,u,a[u]);return n})({},e),bk(t,kk({consumable:null,writer:null,store:null,convertItem:(n,a)=>this._convertItem(n,a),convertChildren:(n,a)=>this._convertChildren(n,a),safeInsert:(n,a)=>this._safeInsert(n,a),updateConversionResult:(n,a)=>this._updateConversionResult(n,a),splitToAllowedParent:(n,a)=>this._splitToAllowedParent(n,a),getSplitParts:n=>this._getSplitParts(n),keepEmptyElement:n=>this._keepEmptyElement(n)})))}convert(e,t,n=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(f,b){let w;for(const A of new uc(f)){const E={};for(const z of A.getAttributeKeys())E[z]=A.getAttribute(z);const O=b.createElement(A.name,E);w&&b.insert(O,w),w=At._createAt(O,0)}return w}(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=ed.createFrom(e),this.conversionApi.store={};const{modelRange:a}=this._convertItem(e,this._modelCursor),u=t.createDocumentFragment();if(a){this._removeEmptyElements();for(const f of Array.from(this._modelCursor.parent.getChildren()))t.append(f,u);u.markers=function(f,b){const w=new Set,A=new Map,E=Je._createIn(f).getItems();for(const O of E)O.is("element","$marker")&&w.add(O);for(const O of w){const z=O.getAttribute("data-name"),U=b.createPositionBefore(O);A.has(z)?A.get(z).end=U.clone():A.set(z,new Je(U.clone())),b.remove(O)}return A}(u,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,u}_convertItem(e,t){const n={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,n,this.conversionApi):e.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof Je))throw new q("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(e,t){let n=t.is("position")?t:At._createAt(t,0);const a=new Je(n);for(const u of Array.from(e.getChildren())){const f=this._convertItem(u,n);f.modelRange instanceof Je&&(a.end=f.modelRange.end,n=f.modelCursor)}return{modelRange:a,modelCursor:n}}_safeInsert(e,t){const n=this._splitToAllowedParent(e,t);return!!n&&(this.conversionApi.writer.insert(e,n.position),!0)}_updateConversionResult(e,t){const n=this._getSplitParts(e),a=this.conversionApi.writer;t.modelRange||(t.modelRange=a.createRange(a.createPositionBefore(e),a.createPositionAfter(n[n.length-1])));const u=this._cursorParents.get(e);t.modelCursor=u?a.createPositionAt(u,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:n,writer:a}=this.conversionApi;let u=n.findAllowedParent(t,e);if(u){if(u===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(u)&&(u=null)}if(!u)return Zh(t,e,n)?{position:kf(t,a)}:null;const f=this.conversionApi.writer.split(t,u),b=[];for(const A of f.range.getWalker())if(A.type=="elementEnd")b.push(A.item);else{const E=b.pop(),O=A.item;this._registerSplitPair(E,O)}const w=f.range.end.parent;return this._cursorParents.set(e,w),{position:f.position,cursorParent:w}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class wk{getHtml(e){const t=y.document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class Lw{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Vh(e,{renderingMode:"data"}),this.htmlWriter=new wk}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),a=t.body.childNodes;for(;a.length>0;)n.appendChild(a[0]);return n}}class ig extends me(){constructor(e,t){super(),this.model=e,this.mapper=new Up,this.downcastDispatcher=new Mi({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(n,a,u)=>{if(!u.consumable.consume(a.item,n.name))return;const f=u.writer,b=u.mapper.toViewPosition(a.range.start),w=f.createText(a.item.data);f.insert(b,w)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(n,a,u)=>{u.convertAttributes(a.item),a.reconversion||!a.item.is("element")||a.item.isEmpty||u.convertChildren(a.item)},{priority:"lowest"}),this.upcastDispatcher=new vk({schema:e.schema}),this.viewDocument=new Bh(t),this.stylesProcessor=t,this.htmlProcessor=new Lw(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Ep(this.viewDocument),this.upcastDispatcher.on("text",(n,a,{schema:u,consumable:f,writer:b})=>{let w=a.modelCursor;if(!f.test(a.viewItem))return;if(!u.checkChild(w,"$text")){if(!Zh(w,"$text",u)||a.viewItem.data.trim().length==0)return;const E=w.nodeBefore;w=kf(w,b),E&&E.is("element","$marker")&&(b.move(b.createRangeOn(E),w),w=b.createPositionAfter(E))}f.consume(a.viewItem);const A=b.createText(a.viewItem.data);b.insert(A,w),a.modelRange=b.createRange(w,w.getShiftedBy(A.offsetSize)),a.modelCursor=a.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(n,a,u)=>{if(!a.modelRange&&u.consumable.consume(a.viewItem,{name:!0})){const{modelRange:f,modelCursor:b}=u.convertChildren(a.viewItem,a.modelCursor);a.modelRange=f,a.modelCursor=b}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(n,a,u)=>{if(!a.modelRange&&u.consumable.consume(a.viewItem,{name:!0})){const{modelRange:f,modelCursor:b}=u.convertChildren(a.viewItem,a.modelCursor);a.modelRange=f,a.modelCursor=b}},{priority:"lowest"}),Te().prototype.decorate.call(this,"init"),Te().prototype.decorate.call(this,"set"),Te().prototype.decorate.call(this,"get"),Te().prototype.decorate.call(this,"toView"),Te().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},dc)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:n="empty"}=e;if(!this._checkIfRootsExists([t]))throw new q("datacontroller-get-non-existent-root",this);const a=this.model.document.getRoot(t);return a.isAttached()||ue("datacontroller-get-detached-root",this),n!=="empty"||this.model.hasContent(a,{ignoreWhitespaces:!0})?this.stringify(a,e):""}stringify(e,t={}){const n=this.toView(e,t);return this.processor.toData(n)}toView(e,t={}){const n=this.viewDocument,a=this._viewWriter;this.mapper.clearBindings();const u=Je._createIn(e),f=new qc(n);this.mapper.bindElements(e,f);const b=e.is("documentFragment")?e.markers:function(w){const A=[],E=w.root.document;if(!E)return new Map;const O=Je._createIn(w);for(const z of E.model.markers){const U=z.getRange(),W=U.isCollapsed,X=U.start.isEqual(O.start)||U.end.isEqual(O.end);if(W&&X)A.push([z.name,U]);else{const ae=O.getIntersection(U);ae&&A.push([z.name,ae])}}return A.sort(([z,U],[W,X])=>{if(U.end.compareWith(X.start)!=="after")return 1;if(U.start.compareWith(X.end)!=="before")return-1;switch(U.start.compareWith(X.start)){case"before":return 1;case"after":return-1;default:switch(U.end.compareWith(X.end)){case"before":return 1;case"after":return-1;default:return W.localeCompare(z)}}}),new Map(A)}(e);return this.downcastDispatcher.convert(u,b,a,t),f}init(e){if(this.model.document.version)throw new q("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new q("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},n=>{for(const a of Object.keys(t)){const u=this.model.document.getRoot(a);n.insert(this.parse(t[a],u),u,0)}}),Promise.resolve()}set(e,t={}){let n={};if(typeof e=="string"?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new q("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},a=>{a.setSelection(null),a.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const u of Object.keys(n)){const f=this.model.document.getRoot(u);a.remove(a.createRangeIn(f)),a.insert(this.parse(n[u],f),f,0)}})}parse(e,t="$root"){const n=this.processor.toView(e);return this.toModel(n,t)}toModel(e,t="$root"){return this.model.change(n=>this.upcastDispatcher.convert(e,n,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}class rg{constructor(e,t){this._helpers=new Map,this._downcast=gn(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=gn(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new q("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}for(e){if(!this._helpers.has(e))throw new q("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:n}of sg(e))this.for("upcast").elementToElement({model:t,view:n,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:n}of sg(e))this.for("upcast").elementToAttribute({view:n,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:n}of sg(e))this.for("upcast").attributeToAttribute({view:n,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:n}){if(this._helpers.has(e))throw new q("conversion-group-exists",this);const a=n?new Xc(t):new Sw(t);this._helpers.set(e,a)}}function*sg(r){if(r.model.values)for(const e of r.model.values){const t={key:r.model.key,value:e},n=r.view[e],a=r.upcastAlso?r.upcastAlso[e]:void 0;yield*yk(t,n,a)}else yield*yk(r.model,r.view,r.upcastAlso)}function*yk(r,e,t){if(yield{model:r,view:e},t)for(const n of gn(t))yield{model:r,view:n}}class zs{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function og(r,e){const t=Cf(e),n=t.reduce((f,b)=>f+b.offsetSize,0),a=r.parent;Zd(r);const u=r.index;return a._insertChild(u,t),td(a,u+t.length),td(a,u),new Je(r,r.getShiftedBy(n))}function ag(r){if(!r.isFlat)throw new q("operation-utils-remove-range-not-flat",this);const e=r.start.parent;Zd(r.start),Zd(r.end);const t=e._removeChildren(r.start.index,r.end.index-r.start.index);return td(e,r.start.index),t}function Un(r,e){if(!r.isFlat)throw new q("operation-utils-move-range-not-flat",this);const t=ag(r);return og(e=e._getTransformedByDeletion(r.start,r.end.offset-r.start.offset),t)}function Cf(r){const e=[];(function t(n){if(typeof n=="string")e.push(new Bi(n));else if(n instanceof ks)e.push(new Bi(n.data,n.getAttributes()));else if(n instanceof Kc)e.push(n);else if(Qe(n))for(const a of n)t(a)})(r);for(let t=1;t<e.length;t++){const n=e[t],a=e[t-1];n instanceof Bi&&a instanceof Bi&&lg(n,a)&&(e.splice(t-1,2,new Bi(a.data+n.data,a.getAttributes())),t--)}return e}function td(r,e){const t=r.getChild(e-1),n=r.getChild(e);if(t&&n&&t.is("$text")&&n.is("$text")&&lg(t,n)){const a=new Bi(t.data+n.data,t.getAttributes());r._removeChildren(e-1,2),r._insertChild(e-1,a)}}function Zd(r){const e=r.textNode,t=r.parent;if(e){const n=r.offset-e.startOffset,a=e.index;t._removeChildren(a,1);const u=new Bi(e.data.substr(0,n),e.getAttributes()),f=new Bi(e.data.substr(n),e.getAttributes());t._insertChild(a,[u,f])}}function lg(r,e){const t=r.getAttributes(),n=e.getAttributes();for(const a of t){if(a[1]!==e.getAttribute(a[0]))return!1;n.next()}return n.next().done}class ui extends zs{constructor(e,t,n,a){super(a),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[Je._createFromPositionAndShift(this.sourcePosition,this.howMany),Je._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new ui(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new ui(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,a=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new q("move-operation-nodes-do-not-exist",this);if(e===t&&n<a&&a<n+this.howMany)throw new q("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Dt(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const u=this.sourcePosition.path.length-1;if(this.targetPosition.path[u]>=n&&this.targetPosition.path[u]<n+this.howMany)throw new q("move-operation-node-into-itself",this)}}_execute(){Un(Je._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const n=At.fromJSON(e.sourcePosition,t),a=At.fromJSON(e.targetPosition,t);return new this(n,e.howMany,a,e.baseVersion)}}class yr extends zs{constructor(e,t,n){super(n),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Ps(Cf(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Ps([...this.nodes].map(n=>n._clone(!0))),t=new yr(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new At(e,[0]);return new ui(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new q("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Ps([...e].map(t=>t._clone(!0))),og(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const n=[];for(const u of e.nodes)u.name?n.push(ci.fromJSON(u)):n.push(Bi.fromJSON(u));const a=new yr(At.fromJSON(e.position,t),n,e.baseVersion);return a.shouldReceiveAttributes=e.shouldReceiveAttributes,a}}class Ni extends zs{constructor(e,t,n,a,u){super(u),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=n,this.graveyardPosition=a?a.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new At(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Je(this.splitPosition,e)}get affectedSelectable(){const e=[Je._createFromPositionAndShift(this.splitPosition,0),Je._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(Je._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new Ni(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new At(e,[0]);return new Qi(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new q("split-operation-position-invalid",this);if(!e.parent)throw new q("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new q("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new q("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Un(Je._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();og(this.insertionPosition,t)}Un(new Je(At._createAt(e,this.splitPosition.offset),At._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new At(e.root,t,"toPrevious")}static fromJSON(e,t){const n=At.fromJSON(e.splitPosition,t),a=At.fromJSON(e.insertionPosition,t),u=e.graveyardPosition?At.fromJSON(e.graveyardPosition,t):null;return new this(n,e.howMany,a,u,e.baseVersion)}}class Qi extends zs{constructor(e,t,n,a,u){super(u),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=a.clone()}get type(){return"merge"}get deletionPosition(){return new At(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Je(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[Je._createOn(e),Je._createFromPositionAndShift(this.targetPosition,0),Je._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Qi(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new At(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new Ni(e,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new q("merge-operation-source-position-invalid",this);if(!t.parent)throw new q("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new q("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;Un(Je._createIn(e),this.targetPosition),Un(Je._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const n=At.fromJSON(e.sourcePosition,t),a=At.fromJSON(e.targetPosition,t),u=At.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,a,u,e.baseVersion)}}class Co extends zs{constructor(e,t,n,a,u,f){super(f),this.name=e,this.oldRange=t?t.clone():null,this.newRange=n?n.clone():null,this.affectsData=u,this._markers=a}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new Co(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Co(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new Co(e.name,e.oldRange?Je.fromJSON(e.oldRange,t):null,e.newRange?Je.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}const xk=function(r,e){return Uu(r,e)};class Ir extends zs{constructor(e,t,n,a,u){super(u),this.range=e.clone(),this.key=t,this.oldValue=n===void 0?null:n,this.newValue=a===void 0?null:a}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Ir(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Ir(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new q("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!xk(e.getAttribute(this.key),this.oldValue))throw new q("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new q("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){xk(this.oldValue,this.newValue)||function(e,t,n){Zd(e.start),Zd(e.end);for(const a of e.getItems({shallow:!0})){const u=a.is("$textProxy")?a.textNode:a;n!==null?u._setAttribute(t,n):u._removeAttribute(t),td(u.parent,u.index)}td(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new Ir(Je.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Ur extends zs{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Ur(this.baseVersion)}getReversed(){return new Ur(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Ao extends zs{constructor(e,t,n,a){super(a),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=n}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Ao(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Ao(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof ci))throw new q("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new q("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new Ao(At.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class ja extends zs{constructor(e,t,n,a,u){super(u),this.root=e,this.key=t,this.oldValue=n===void 0?null:n,this.newValue=a===void 0?null:a}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new ja(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new ja(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new q("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new q("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new q("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new q("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new ja(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class si extends zs{constructor(e,t,n,a,u){super(u),this.rootName=e,this.elementName=t,this.isAdd=n,this._document=a,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new si(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new si(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new si(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const qo={};qo[Ir.className]=Ir,qo[yr.className]=yr,qo[Co.className]=Co,qo[ui.className]=ui,qo[Ur.className]=Ur,qo[zs.className]=zs,qo[Ao.className]=Ao,qo[ja.className]=ja,qo[si.className]=si,qo[Ni.className]=Ni,qo[Qi.className]=Qi;class Fs{static fromJSON(e,t){return qo[e.__className].fromJSON(e,t)}}const cg=new Map;function li(r,e,t){let n=cg.get(r);n||(n=new Map,cg.set(r,n)),n.set(e,t)}function dg(r){return[r]}function em(r,e,t={}){const n=function(a,u){const f=cg.get(a);return f&&f.has(u)?f.get(u):dg}(r.constructor,e.constructor);try{return n(r=r.clone(),e,t)}catch(a){throw a}}function Ck(r,e,t){r=r.slice(),e=e.slice();const n=new Ak(t.document,t.useRelations,t.forceWeakRemove);n.setOriginalOperations(r),n.setOriginalOperations(e);const a=n.originalOperations;if(r.length==0||e.length==0)return{operationsA:r,operationsB:e,originalOperations:a};const u=new WeakMap;for(const w of r)u.set(w,0);const f={nextBaseVersionA:r[r.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:r.length,originalOperationsBCount:e.length};let b=0;for(;b<r.length;){const w=r[b],A=u.get(w);if(A==e.length){b++;continue}const E=e[A],O=em(w,E,n.getContext(w,E,!0)),z=em(E,w,n.getContext(E,w,!1));n.updateRelation(w,E),n.setOriginalOperations(O,w),n.setOriginalOperations(z,E);for(const U of O)u.set(U,A+z.length);r.splice(b,1,...O),e.splice(A,1,...z)}return Af(r,f.nextBaseVersionB),Af(e,f.nextBaseVersionA),{operationsA:r,operationsB:e,originalOperations:a}}class Ak{constructor(e,t,n=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(e,t=null){const n=t?this.originalOperations.get(t):null;for(const a of e)this.originalOperations.set(a,n||a)}updateRelation(e,t){if(e instanceof ui)t instanceof Qi?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof ui&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof Ni){if(t instanceof Qi)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof ui)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const n=Je._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)){const a=n.end.offset-e.splitPosition.offset,u=e.splitPosition.offset-n.start.offset;this._setRelation(e,t,{howMany:a,offset:u})}}}else if(e instanceof Qi)t instanceof Qi?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof Ni?e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource"):t instanceof ui&&t.howMany>0&&(e.sourcePosition.isEqual(t.sourcePosition.getShiftedBy(t.howMany))&&this._setRelation(e,t,"mergeSourceAffected"),e.targetPosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeTargetWasBefore"));else if(e instanceof Co){const n=e.newRange;if(!n)return;if(t instanceof ui){const a=Je._createFromPositionAndShift(t.sourcePosition,t.howMany),u=a.containsPosition(n.start)||a.start.isEqual(n.start),f=a.containsPosition(n.end)||a.end.isEqual(n.end);!u&&!f||a.containsRange(n)||this._setRelation(e,t,{side:u?"left":"right",path:u?n.start.path.slice():n.end.path.slice()})}else if(t instanceof Qi){const a=n.start.isEqual(t.targetPosition),u=n.start.isEqual(t.deletionPosition),f=n.end.isEqual(t.deletionPosition),b=n.end.isEqual(t.sourcePosition);(a||u||f||b)&&this._setRelation(e,t,{wasInLeftElement:a,wasStartBeforeMergedElement:u,wasEndBeforeMergedElement:f,wasInRightElement:b})}}}getContext(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const n=this.originalOperations.get(t),a=this._history.getUndoneOperation(n);if(!a)return null;const u=this.originalOperations.get(e),f=this._relations.get(u);return f&&f.get(a)||null}_setRelation(e,t,n){const a=this.originalOperations.get(e),u=this.originalOperations.get(t);let f=this._relations.get(a);f||(f=new Map,this._relations.set(a,f)),f.set(u,n)}}function Af(r,e){for(const t of r)t.baseVersion=e++}function Nf(r,e,t){const n=r.nodes.getNode(0).getAttribute(e);if(n==t)return null;const a=new Je(r.position,r.position.getShiftedBy(r.howMany));return new Ir(a,e,n,t,0)}function Nk(r,e){return r.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function Xd(r,e){const t=[];for(let n=0;n<r.length;n++){const a=r[n],u=new ui(a.start,a.end.offset-a.start.offset,e,0);t.push(u);for(let f=n+1;f<r.length;f++)r[f]=r[f]._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany)[0];e=e._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany)}return t}li(Ir,Ir,(r,e,t)=>{if(r.key===e.key&&r.range.start.hasSameParentAs(e.range.start)){const n=r.range.getDifference(e.range).map(u=>new Ir(u,r.key,r.oldValue,r.newValue,0)),a=r.range.getIntersection(e.range);return a&&t.aIsStrong&&n.push(new Ir(a,e.key,e.newValue,r.newValue,0)),n.length==0?[new Ur(0)]:n}return[r]}),li(Ir,yr,(r,e)=>{if(r.range.start.hasSameParentAs(e.position)&&r.range.containsPosition(e.position)){const t=r.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(n=>new Ir(n,r.key,r.oldValue,r.newValue,r.baseVersion));if(e.shouldReceiveAttributes){const n=Nf(e,r.key,r.oldValue);n&&t.unshift(n)}return t}return r.range=r.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[r]}),li(Ir,Qi,(r,e)=>{const t=[];r.range.start.hasSameParentAs(e.deletionPosition)&&(r.range.containsPosition(e.deletionPosition)||r.range.start.isEqual(e.deletionPosition))&&t.push(Je._createFromPositionAndShift(e.graveyardPosition,1));const n=r.range._getTransformedByMergeOperation(e);return n.isCollapsed||t.push(n),t.map(a=>new Ir(a,r.key,r.oldValue,r.newValue,r.baseVersion))}),li(Ir,ui,(r,e)=>function(n,a){const u=Je._createFromPositionAndShift(a.sourcePosition,a.howMany);let f=null,b=[];u.containsRange(n,!0)?f=n:n.start.hasSameParentAs(u.start)?(b=n.getDifference(u),f=n.getIntersection(u)):b=[n];const w=[];for(let A of b){A=A._getTransformedByDeletion(a.sourcePosition,a.howMany);const E=a.getMovedRangeStart(),O=A.start.hasSameParentAs(E),z=A._getTransformedByInsertion(E,a.howMany,O);w.push(...z)}return f&&w.push(f._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany,!1)[0]),w}(r.range,e).map(n=>new Ir(n,r.key,r.oldValue,r.newValue,r.baseVersion))),li(Ir,Ni,(r,e)=>{if(r.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||r.range.end.offset++,[r];if(r.range.start.hasSameParentAs(e.splitPosition)&&r.range.containsPosition(e.splitPosition)){const t=r.clone();return t.range=new Je(e.moveTargetPosition.clone(),r.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),r.range.end=e.splitPosition.clone(),r.range.end.stickiness="toPrevious",[r,t]}return r.range=r.range._getTransformedBySplitOperation(e),[r]}),li(yr,Ir,(r,e)=>{const t=[r];if(r.shouldReceiveAttributes&&r.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(r.position)){const n=Nf(r,e.key,e.newValue);n&&t.push(n)}return t}),li(yr,yr,(r,e,t)=>(r.position.isEqual(e.position)&&t.aIsStrong||(r.position=r.position._getTransformedByInsertOperation(e)),[r])),li(yr,ui,(r,e)=>(r.position=r.position._getTransformedByMoveOperation(e),[r])),li(yr,Ni,(r,e)=>(r.position=r.position._getTransformedBySplitOperation(e),[r])),li(yr,Qi,(r,e)=>(r.position=r.position._getTransformedByMergeOperation(e),[r])),li(Co,yr,(r,e)=>(r.oldRange&&(r.oldRange=r.oldRange._getTransformedByInsertOperation(e)[0]),r.newRange&&(r.newRange=r.newRange._getTransformedByInsertOperation(e)[0]),[r])),li(Co,Co,(r,e,t)=>{if(r.name==e.name){if(!t.aIsStrong)return[new Ur(0)];r.oldRange=e.newRange?e.newRange.clone():null}return[r]}),li(Co,Qi,(r,e)=>(r.oldRange&&(r.oldRange=r.oldRange._getTransformedByMergeOperation(e)),r.newRange&&(r.newRange=r.newRange._getTransformedByMergeOperation(e)),[r])),li(Co,ui,(r,e,t)=>{if(r.oldRange&&(r.oldRange=Je._createFromRanges(r.oldRange._getTransformedByMoveOperation(e))),r.newRange){if(t.abRelation){const n=Je._createFromRanges(r.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(r.newRange.start))return r.newRange.end=n.end,r.newRange.start.path=t.abRelation.path,[r];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(r.newRange.end))return r.newRange.start=n.start,r.newRange.end.path=t.abRelation.path,[r]}r.newRange=Je._createFromRanges(r.newRange._getTransformedByMoveOperation(e))}return[r]}),li(Co,Ni,(r,e,t)=>{if(r.oldRange&&(r.oldRange=r.oldRange._getTransformedBySplitOperation(e)),r.newRange){if(t.abRelation){const n=r.newRange._getTransformedBySplitOperation(e);return r.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?r.newRange.start=At._createAt(e.insertionPosition):r.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(r.newRange.start=At._createAt(e.moveTargetPosition)),r.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?r.newRange.end=At._createAt(e.moveTargetPosition):r.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?r.newRange.end=At._createAt(e.insertionPosition):r.newRange.end=n.end,[r]}r.newRange=r.newRange._getTransformedBySplitOperation(e)}return[r]}),li(Qi,yr,(r,e)=>(r.sourcePosition.hasSameParentAs(e.position)&&(r.howMany+=e.howMany),r.sourcePosition=r.sourcePosition._getTransformedByInsertOperation(e),r.targetPosition=r.targetPosition._getTransformedByInsertOperation(e),[r])),li(Qi,Qi,(r,e,t)=>{if(r.sourcePosition.isEqual(e.sourcePosition)&&r.targetPosition.isEqual(e.targetPosition)){if(t.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),r.sourcePosition=new At(e.graveyardPosition.root,n),r.howMany=0,[r]}return[new Ur(0)]}if(r.sourcePosition.isEqual(e.sourcePosition)&&!r.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const n=r.targetPosition.root.rootName=="$graveyard",a=e.targetPosition.root.rootName=="$graveyard";if(a&&!n||!(n&&!a)&&t.aIsStrong){const u=e.targetPosition._getTransformedByMergeOperation(e),f=r.targetPosition._getTransformedByMergeOperation(e);return[new ui(u,r.howMany,f,0)]}return[new Ur(0)]}return r.sourcePosition.hasSameParentAs(e.targetPosition)&&(r.howMany+=e.howMany),r.sourcePosition=r.sourcePosition._getTransformedByMergeOperation(e),r.targetPosition=r.targetPosition._getTransformedByMergeOperation(e),r.graveyardPosition.isEqual(e.graveyardPosition)&&t.aIsStrong||(r.graveyardPosition=r.graveyardPosition._getTransformedByMergeOperation(e)),[r]}),li(Qi,ui,(r,e,t)=>{const n=Je._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&r.deletionPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(r.sourcePosition)?[new Ur(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(r.sourcePosition)?r.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(r.sourcePosition)&&t.abRelation=="mergeSourceAffected"?r.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(r.targetPosition)?(r.targetPosition.stickiness="toNone",r.howMany-=e.howMany):e.targetPosition.isEqual(r.targetPosition)&&t.abRelation=="mergeTargetWasBefore"?(r.targetPosition.stickiness="toPrevious",r.howMany+=e.howMany):(r.sourcePosition.hasSameParentAs(e.targetPosition)&&(r.howMany+=e.howMany),r.sourcePosition.hasSameParentAs(e.sourcePosition)&&(r.howMany-=e.howMany)),r.sourcePosition=r.sourcePosition._getTransformedByMoveOperation(e),r.targetPosition=r.targetPosition._getTransformedByMoveOperation(e),r.sourcePosition.stickiness="toPrevious",r.targetPosition.stickiness="toNext",r.graveyardPosition.isEqual(e.targetPosition)||(r.graveyardPosition=r.graveyardPosition._getTransformedByMoveOperation(e)),[r])}),li(Qi,Ni,(r,e,t)=>{if(e.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),r.deletionPosition.isEqual(e.graveyardPosition)&&(r.howMany=e.howMany)),r.targetPosition.isEqual(e.splitPosition)){const n=e.howMany!=0,a=e.graveyardPosition&&r.deletionPosition.isEqual(e.graveyardPosition);if(n||a||t.abRelation=="mergeTargetNotMoved")return r.sourcePosition=r.sourcePosition._getTransformedBySplitOperation(e),[r]}if(r.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return r.howMany=0,r.targetPosition=r.targetPosition._getTransformedBySplitOperation(e),[r];if(t.abRelation=="mergeSameElement"||r.sourcePosition.offset>0)return r.sourcePosition=e.moveTargetPosition.clone(),r.targetPosition=r.targetPosition._getTransformedBySplitOperation(e),[r]}return r.sourcePosition.hasSameParentAs(e.splitPosition)&&(r.howMany=e.splitPosition.offset),r.sourcePosition=r.sourcePosition._getTransformedBySplitOperation(e),r.targetPosition=r.targetPosition._getTransformedBySplitOperation(e),[r]}),li(ui,yr,(r,e)=>{const t=Je._createFromPositionAndShift(r.sourcePosition,r.howMany)._getTransformedByInsertOperation(e,!1)[0];return r.sourcePosition=t.start,r.howMany=t.end.offset-t.start.offset,r.targetPosition.isEqual(e.position)||(r.targetPosition=r.targetPosition._getTransformedByInsertOperation(e)),[r]}),li(ui,ui,(r,e,t)=>{const n=Je._createFromPositionAndShift(r.sourcePosition,r.howMany),a=Je._createFromPositionAndShift(e.sourcePosition,e.howMany);let u,f=t.aIsStrong,b=!t.aIsStrong;if(t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?b=!0:t.abRelation!="insertAfter"&&t.baRelation!="insertBefore"||(b=!1),u=r.targetPosition.isEqual(e.targetPosition)&&b?r.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):r.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Nk(r,e)&&Nk(e,r))return[e.getReversed()];if(n.containsPosition(e.targetPosition)&&n.containsRange(a,!0))return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Xd([n],u);if(a.containsPosition(r.targetPosition)&&a.containsRange(n,!0))return n.start=n.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),n.end=n.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Xd([n],u);const w=Dt(r.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(w=="prefix"||w=="extension")return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Xd([n],u);r.type!="remove"||e.type=="remove"||t.aWasUndone||t.forceWeakRemove?r.type=="remove"||e.type!="remove"||t.bWasUndone||t.forceWeakRemove||(f=!1):f=!0;const A=[],E=n.getDifference(a);for(const z of E){z.start=z.start._getTransformedByDeletion(e.sourcePosition,e.howMany),z.end=z.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const U=Dt(z.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",W=z._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,U);A.push(...W)}const O=n.getIntersection(a);return O!==null&&f&&(O.start=O.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),O.end=O.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),A.length===0?A.push(O):A.length==1?a.start.isBefore(n.start)||a.start.isEqual(n.start)?A.unshift(O):A.push(O):A.splice(1,0,O)),A.length===0?[new Ur(r.baseVersion)]:Xd(A,u)}),li(ui,Ni,(r,e,t)=>{let n=r.targetPosition.clone();r.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&t.abRelation!="moveTargetAfter"||(n=r.targetPosition._getTransformedBySplitOperation(e));const a=Je._createFromPositionAndShift(r.sourcePosition,r.howMany);if(a.end.isEqual(e.insertionPosition))return e.graveyardPosition||r.howMany++,r.targetPosition=n,[r];if(a.start.hasSameParentAs(e.splitPosition)&&a.containsPosition(e.splitPosition)){let f=new Je(e.splitPosition,a.end);return f=f._getTransformedBySplitOperation(e),Xd([new Je(a.start,e.splitPosition),f],n)}r.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(n=e.moveTargetPosition),r.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(n=r.targetPosition);const u=[a._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const f=a.start.isEqual(e.graveyardPosition)||a.containsPosition(e.graveyardPosition);r.howMany>1&&f&&!t.aWasUndone&&u.push(Je._createFromPositionAndShift(e.insertionPosition,1))}return Xd(u,n)}),li(ui,Qi,(r,e,t)=>{const n=Je._createFromPositionAndShift(r.sourcePosition,r.howMany);if(e.deletionPosition.hasSameParentAs(r.sourcePosition)&&n.containsPosition(e.sourcePosition)){if(r.type!="remove"||t.forceWeakRemove){if(r.howMany==1)return t.bWasUndone?(r.sourcePosition=e.graveyardPosition.clone(),r.targetPosition=r.targetPosition._getTransformedByMergeOperation(e),[r]):[new Ur(0)]}else if(!t.aWasUndone){const u=[];let f=e.graveyardPosition.clone(),b=e.targetPosition._getTransformedByMergeOperation(e);r.howMany>1&&(u.push(new ui(r.sourcePosition,r.howMany-1,r.targetPosition,0)),f=f._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany-1),b=b._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany-1));const w=e.deletionPosition._getCombined(r.sourcePosition,r.targetPosition),A=new ui(f,1,w,0),E=A.getMovedRangeStart().path.slice();E.push(0);const O=new At(A.targetPosition.root,E);b=b._getTransformedByMove(f,w,1);const z=new ui(b,e.howMany,O,0);return u.push(A),u.push(z),u}}const a=Je._createFromPositionAndShift(r.sourcePosition,r.howMany)._getTransformedByMergeOperation(e);return r.sourcePosition=a.start,r.howMany=a.end.offset-a.start.offset,r.targetPosition=r.targetPosition._getTransformedByMergeOperation(e),[r]}),li(Ao,yr,(r,e)=>(r.position=r.position._getTransformedByInsertOperation(e),[r])),li(Ao,Qi,(r,e)=>r.position.isEqual(e.deletionPosition)?(r.position=e.graveyardPosition.clone(),r.position.stickiness="toNext",[r]):(r.position=r.position._getTransformedByMergeOperation(e),[r])),li(Ao,ui,(r,e)=>(r.position=r.position._getTransformedByMoveOperation(e),[r])),li(Ao,Ao,(r,e,t)=>{if(r.position.isEqual(e.position)){if(!t.aIsStrong)return[new Ur(0)];r.oldName=e.newName}return[r]}),li(Ao,Ni,(r,e)=>{if(Dt(r.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const t=new Ao(r.position.getShiftedBy(1),r.oldName,r.newName,0);return[r,t]}return r.position=r.position._getTransformedBySplitOperation(e),[r]}),li(ja,ja,(r,e,t)=>{if(r.root===e.root&&r.key===e.key){if(!t.aIsStrong||r.newValue===e.newValue)return[new Ur(0)];r.oldValue=e.newValue}return[r]}),li(si,si,(r,e)=>r.rootName===e.rootName&&r.isAdd===e.isAdd?[new Ur(0)]:[r]),li(Ni,yr,(r,e)=>(r.splitPosition.hasSameParentAs(e.position)&&r.splitPosition.offset<e.position.offset&&(r.howMany+=e.howMany),r.splitPosition=r.splitPosition._getTransformedByInsertOperation(e),r.insertionPosition=r.insertionPosition._getTransformedByInsertOperation(e),[r])),li(Ni,Qi,(r,e,t)=>{if(!r.graveyardPosition&&!t.bWasUndone&&r.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const a=new At(e.graveyardPosition.root,n),u=Ni.getInsertionPosition(new At(e.graveyardPosition.root,n)),f=new Ni(a,0,u,null,0);return r.splitPosition=r.splitPosition._getTransformedByMergeOperation(e),r.insertionPosition=Ni.getInsertionPosition(r.splitPosition),r.graveyardPosition=f.insertionPosition.clone(),r.graveyardPosition.stickiness="toNext",[f,r]}return r.splitPosition.hasSameParentAs(e.deletionPosition)&&!r.splitPosition.isAfter(e.deletionPosition)&&r.howMany--,r.splitPosition.hasSameParentAs(e.targetPosition)&&(r.howMany+=e.howMany),r.splitPosition=r.splitPosition._getTransformedByMergeOperation(e),r.insertionPosition=Ni.getInsertionPosition(r.splitPosition),r.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedByMergeOperation(e)),[r]}),li(Ni,ui,(r,e,t)=>{const n=Je._createFromPositionAndShift(e.sourcePosition,e.howMany);if(r.graveyardPosition){const u=n.start.isEqual(r.graveyardPosition)||n.containsPosition(r.graveyardPosition);if(!t.bWasUndone&&u){const f=r.splitPosition._getTransformedByMoveOperation(e),b=r.graveyardPosition._getTransformedByMoveOperation(e),w=b.path.slice();w.push(0);const A=new At(b.root,w);return[new ui(f,r.howMany,A,0)]}r.graveyardPosition=r.graveyardPosition._getTransformedByMoveOperation(e)}const a=r.splitPosition.isEqual(e.targetPosition);if(a&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return r.howMany+=e.howMany,r.splitPosition=r.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),r.insertionPosition=Ni.getInsertionPosition(r.splitPosition),[r];if(a&&t.abRelation&&t.abRelation.howMany){const{howMany:u,offset:f}=t.abRelation;return r.howMany+=u,r.splitPosition=r.splitPosition.getShiftedBy(f),[r]}if(r.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(r.splitPosition)){const u=e.howMany-(r.splitPosition.offset-e.sourcePosition.offset);return r.howMany-=u,r.splitPosition.hasSameParentAs(e.targetPosition)&&r.splitPosition.offset<e.targetPosition.offset&&(r.howMany+=e.howMany),r.splitPosition=e.sourcePosition.clone(),r.insertionPosition=Ni.getInsertionPosition(r.splitPosition),[r]}return e.sourcePosition.isEqual(e.targetPosition)||(r.splitPosition.hasSameParentAs(e.sourcePosition)&&r.splitPosition.offset<=e.sourcePosition.offset&&(r.howMany-=e.howMany),r.splitPosition.hasSameParentAs(e.targetPosition)&&r.splitPosition.offset<e.targetPosition.offset&&(r.howMany+=e.howMany)),r.splitPosition.stickiness="toNone",r.splitPosition=r.splitPosition._getTransformedByMoveOperation(e),r.splitPosition.stickiness="toNext",r.graveyardPosition?r.insertionPosition=r.insertionPosition._getTransformedByMoveOperation(e):r.insertionPosition=Ni.getInsertionPosition(r.splitPosition),[r]}),li(Ni,Ni,(r,e,t)=>{if(r.splitPosition.isEqual(e.splitPosition)){if(!r.graveyardPosition&&!e.graveyardPosition)return[new Ur(0)];if(r.graveyardPosition&&e.graveyardPosition&&r.graveyardPosition.isEqual(e.graveyardPosition))return[new Ur(0)];if(t.abRelation=="splitBefore")return r.howMany=0,r.graveyardPosition=r.graveyardPosition._getTransformedBySplitOperation(e),[r]}if(r.graveyardPosition&&e.graveyardPosition&&r.graveyardPosition.isEqual(e.graveyardPosition)){const n=r.splitPosition.root.rootName=="$graveyard",a=e.splitPosition.root.rootName=="$graveyard";if(a&&!n||!(n&&!a)&&t.aIsStrong){const u=[];return e.howMany&&u.push(new ui(e.moveTargetPosition,e.howMany,e.splitPosition,0)),r.howMany&&u.push(new ui(r.splitPosition,r.howMany,r.moveTargetPosition,0)),u}return[new Ur(0)]}if(r.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedBySplitOperation(e)),r.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return r.howMany++,[r];if(e.splitPosition.isEqual(r.insertionPosition)&&t.baRelation=="splitBefore"){const n=e.insertionPosition.path.slice();n.push(0);const a=new At(e.insertionPosition.root,n);return[r,new ui(r.insertionPosition,1,a,0)]}return r.splitPosition.hasSameParentAs(e.splitPosition)&&r.splitPosition.offset<e.splitPosition.offset&&(r.howMany-=e.howMany),r.splitPosition=r.splitPosition._getTransformedBySplitOperation(e),r.insertionPosition=Ni.getInsertionPosition(r.splitPosition),[r]});class Vs extends me(At){constructor(e,t,n="toNone"){if(super(e,t,n),!this.root.is("rootElement"))throw new q("model-liveposition-root-not-rootelement",e);Ek.call(this)}detach(){this.stopListening()}toPosition(){return new At(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function Ek(){this.listenTo(this.root.document.model,"applyOperation",(r,e)=>{const t=e[0];t.isDocumentOperation&&Bw.call(this,t)},{priority:"low"})}function Bw(r){const e=this.getTransformedByOperation(r);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}Vs.prototype.is=function(r){return r==="livePosition"||r==="model:livePosition"||r=="position"||r==="model:position"};class Ju{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},ue("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:n=!0,isUndo:a=!1,isTyping:u=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=n,this.isUndo=a,this.isTyping=u}get type(){return ue("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var nd=Object.defineProperty,Sk=Object.defineProperties,ug=Object.getOwnPropertyDescriptors,jk=Object.getOwnPropertySymbols,Pw=Object.prototype.hasOwnProperty,hg=Object.prototype.propertyIsEnumerable,Dk=(r,e,t)=>e in r?nd(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Da=(r,e)=>{for(var t in e||(e={}))Pw.call(e,t)&&Dk(r,t,e[t]);if(jk)for(var t of jk(e))hg.call(e,t)&&Dk(r,t,e[t]);return r};class mg{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const n of t.range.getItems({shallow:!0}))this._isInInsertedElement(n.parent)||this._markAttribute(n);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const n=this._isInInsertedElement(t.sourcePosition.parent),a=this._isInInsertedElement(t.targetPosition.parent);n||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),a||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const n=Je._createFromPositionAndShift(t.position,1);for(const a of this._markerCollection.getMarkersIntersectingRange(n)){const u=a.getData();this.bufferMarkerChange(a.name,u,u)}break}case"split":{const n=t.splitPosition.parent;this._isInInsertedElement(n)||this._markRemove(n,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const n=t.sourcePosition.parent;this._isInInsertedElement(n.parent)||this._markRemove(n.parent,n.startOffset,1);const a=t.graveyardPosition.parent;this._markInsert(a,t.graveyardPosition.offset,1);const u=t.targetPosition.parent;this._isInInsertedElement(u)||this._markInsert(u,t.targetPosition.offset,n.maxOffset);break}case"detachRoot":case"addRoot":{const n=t.affectedSelectable;if(!n._isLoaded||n.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const n=t.root.rootName;this._bufferRootAttributeChange(n,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,n){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null);let a=this._changedMarkers.get(e);a?a.newMarkerData=n:(a={newMarkerData:n,oldMarkerData:t},this._changedMarkers.set(e,a)),a.oldMarkerData.range==null&&n.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,n]of this._changedMarkers)n.oldMarkerData.range!=null&&e.push({name:t,range:n.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,n]of this._changedMarkers)n.newMarkerData.range!=null&&e.push({name:t,range:n.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const n=e.range&&!t.range,a=!e.range&&t.range,u=e.range&&t.range&&!e.range.isEqual(t.range);if(n||a||u)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const n of this._changesInElement.keys()){const a=this._changesInElement.get(n).sort((E,O)=>E.offset===O.offset?E.type!=O.type?E.type=="remove"?-1:1:0:E.offset<O.offset?-1:1),u=this._elementSnapshots.get(n),f=fg(n.getChildren()),b=Tk(u.length,a);let w=0,A=0;for(const E of b)if(E==="i")t.push(this._getInsertDiff(n,w,f[w])),w++;else if(E==="r")t.push(this._getRemoveDiff(n,w,u[A])),A++;else if(E==="a"){const O=f[w].attributes,z=u[A].attributes;let U;if(f[w].name=="$text")U=new Je(At._createAt(n,w),At._createAt(n,w+1));else{const W=n.offsetToIndex(w);U=new Je(At._createAt(n,w),At._createAt(n.getChild(W),0))}t.push(...this._getAttributesDiff(U,z,O)),w++,A++}else w++,A++}t.sort((n,a)=>n.position.root!=a.position.root?n.position.root.rootName<a.position.root.rootName?-1:1:n.position.isEqual(a.position)?n.changeCount-a.changeCount:n.position.isBefore(a.position)?-1:1);for(let n=1,a=0;n<t.length;n++){const u=t[a],f=t[n],b=u.type=="remove"&&f.type=="remove"&&u.name=="$text"&&f.name=="$text"&&u.position.isEqual(f.position),w=u.type=="insert"&&f.type=="insert"&&u.name=="$text"&&f.name=="$text"&&u.position.parent==f.position.parent&&u.position.offset+u.length==f.position.offset,A=u.type=="attribute"&&f.type=="attribute"&&u.position.parent==f.position.parent&&u.range.isFlat&&f.range.isFlat&&u.position.offset+u.length==f.position.offset&&u.attributeKey==f.attributeKey&&u.attributeOldValue==f.attributeOldValue&&u.attributeNewValue==f.attributeNewValue;b||w||A?(u.length++,A&&(u.range.end=u.range.end.getShiftedBy(1)),t[n]=null):a=n}t=t.filter(n=>n);for(const n of t)delete n.changeCount,n.type=="attribute"&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(tm),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t=Da({},e);return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});const n=this._changedRoots.get(e);n.state!==void 0?(delete n.state,n.attributes===void 0&&this._changedRoots.delete(e)):n.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,n,a){const u=this._changedRoots.get(e)||{name:e},f=u.attributes||{};if(f[t]){const b=f[t];a===b.oldValue?delete f[t]:b.newValue=a}else f[t]={oldValue:n,newValue:a};Object.entries(f).length===0?(delete u.attributes,u.state===void 0&&this._changedRoots.delete(e)):(u.attributes=f,this._changedRoots.set(e,u))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=Je._createOn(e);for(const n of this._markerCollection.getMarkersIntersectingRange(t)){const a=n.getData();this.bufferMarkerChange(n.name,a,a)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const n of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,n,null,e.getAttribute(n));for(const n of this._markerCollection)if(n.getRange().root==e){const a=n.getData();this.bufferMarkerChange(n.name,(t=Da({},a),Sk(t,ug({range:null}))),a)}var t}}_markInsert(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const a={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,a)}_markRemove(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const a={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,a),this._removeAllNestedChanges(e,t,n)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(let a=0;a<n.length;a++)n[a].howMany<1&&(n.splice(a,1),a--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,fg(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const n of t){const a=e.offset+e.howMany,u=n.offset+n.howMany;if(e.type=="insert"&&(n.type=="insert"&&(e.offset<=n.offset?n.offset+=e.howMany:e.offset<u&&(n.howMany+=e.nodesToHandle,e.nodesToHandle=0)),n.type=="remove"&&e.offset<n.offset&&(n.offset+=e.howMany),n.type=="attribute")){if(e.offset<=n.offset)n.offset+=e.howMany;else if(e.offset<u){const f=n.howMany;n.howMany=e.offset-n.offset,t.unshift({type:"attribute",offset:a,howMany:f-n.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(n.type=="insert"){if(a<=n.offset)n.offset-=e.howMany;else if(a<=u)if(e.offset<n.offset){const f=a-n.offset;n.offset=e.offset,n.howMany-=f,e.nodesToHandle-=f}else n.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=n.offset)e.nodesToHandle-=n.howMany,n.howMany=0;else if(e.offset<u){const f=u-e.offset;n.howMany-=f,e.nodesToHandle-=f}}if(n.type=="remove"&&(a<=n.offset?n.offset-=e.howMany:e.offset<n.offset&&(e.nodesToHandle+=n.howMany,n.howMany=0)),n.type=="attribute"){if(a<=n.offset)n.offset-=e.howMany;else if(e.offset<n.offset){const f=a-n.offset;n.offset=e.offset,n.howMany-=f}else if(e.offset<u)if(a<=u){const f=n.howMany;n.howMany=e.offset-n.offset;const b=f-n.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:b,count:this._changeCount++})}else n.howMany-=u-e.offset}}if(e.type=="attribute"){if(n.type=="insert")if(e.offset<n.offset&&a>n.offset){if(a>u){const f={type:"attribute",offset:u,howMany:a-u,count:this._changeCount++};this._handleChange(f,t),t.push(f)}e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=n.offset&&e.offset<u&&(a>u?(e.nodesToHandle=a-u,e.offset=u):e.nodesToHandle=0);if(n.type=="remove"&&e.offset<n.offset&&a>n.offset){const f={type:"attribute",offset:n.offset,howMany:a-n.offset,count:this._changeCount++};this._handleChange(f,t),t.push(f),e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}n.type=="attribute"&&(e.offset>=n.offset&&a<=u?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=n.offset&&a>=u&&(n.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,n){return{type:"insert",position:At._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++,_element:n.element}}_getRemoveDiff(e,t,n){return{type:"remove",position:At._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++,_element:n.element}}_getAttributesDiff(e,t,n){const a=[];n=new Map(n);for(const[u,f]of t){const b=n.has(u)?n.get(u):null;b!==f&&a.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:u,attributeOldValue:f,attributeNewValue:b,changeCount:this._changeCount++}),n.delete(u)}for(const[u,f]of n)a.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:u,attributeOldValue:null,attributeNewValue:f,changeCount:this._changeCount++});return a}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const n=this._changesInElement.get(t),a=e.startOffset;if(n){for(const u of n)if(u.type=="insert"&&a>=u.offset&&a<u.offset+u.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,n){const a=new Je(At._createAt(e,t),At._createAt(e,t+n));for(const u of a.getItems({shallow:!0}))u.is("element")&&(this._elementSnapshots.delete(u),this._changesInElement.delete(u),this._removeAllNestedChanges(u,0,u.maxOffset))}}function fg(r){const e=[];for(const t of r)if(t.is("$text"))for(let n=0;n<t.data.length;n++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes()),element:t});return e}function Tk(r,e){const t=[];let n=0,a=0;for(const u of e){if(u.offset>n){for(let f=0;f<u.offset-n;f++)t.push("e");a+=u.offset-n}if(u.type=="insert"){for(let f=0;f<u.howMany;f++)t.push("i");n=u.offset+u.howMany}else if(u.type=="remove"){for(let f=0;f<u.howMany;f++)t.push("r");n=u.offset,a+=u.howMany}else t.push(..."a".repeat(u.howMany).split("")),n=u.offset+u.howMany,a+=u.howMany}if(a<r)for(let u=0;u<r-a-n;u++)t.push("e");return t}function tm(r){const e="position"in r&&r.position.root.rootName=="$graveyard",t="range"in r&&r.range.root.rootName=="$graveyard";return!e&&!t}class Ta{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new q("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const n=this._operations[0];e===void 0&&(e=n.baseVersion);let a=t-1;for(const[b,w]of this._gaps)e>b&&e<w&&(e=w),a>b&&a<w&&(a=b-1);if(a<n.baseVersion||e>this.lastOperation.baseVersion)return[];let u=this._baseVersionToOperationIndex.get(e);u===void 0&&(u=0);let f=this._baseVersionToOperationIndex.get(a);return f===void 0&&(f=this._operations.length-1),this._operations.slice(u,f+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class nm extends ci{constructor(e,t,n="main"){super(t),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=n}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}nm.prototype.is=function(r,e){return e?e===this.name&&(r==="rootElement"||r==="model:rootElement"||r==="element"||r==="model:element"):r==="rootElement"||r==="model:rootElement"||r==="element"||r==="model:element"||r==="node"||r==="model:node"};var Ef=Object.defineProperty,mc=Object.defineProperties,Rw=Object.getOwnPropertyDescriptors,Mk=Object.getOwnPropertySymbols,eh=Object.prototype.hasOwnProperty,Ik=Object.prototype.propertyIsEnumerable,Ok=(r,e,t)=>e in r?Ef(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Lk=(r,e)=>{for(var t in e||(e={}))eh.call(e,t)&&Ok(r,t,e[t]);if(Mk)for(var t of Mk(e))Ik.call(e,t)&&Ok(r,t,e[t]);return r},Bk=(r,e)=>mc(r,Rw(e));const Pk="$graveyard";class zw extends me(){constructor(e){super(),this.model=e,this.history=new Ta,this.selection=new ma(this),this.roots=new Ro({idProperty:"rootName"}),this.differ=new mg(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Pk),this.listenTo(e,"applyOperation",(t,n)=>{const a=n[0];a.isDocumentOperation&&this.differ.bufferOperation(a)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,n)=>{const a=n[0];a.isDocumentOperation&&this.history.addOperation(a)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,n,a,u,f)=>{const b=Bk(Lk({},n.getData()),{range:u});this.differ.bufferMarkerChange(n.name,f,b),a===null&&n.on("change",(w,A)=>{const E=n.getData();this.differ.bufferMarkerChange(n.name,Bk(Lk({},E),{range:A}),E)})}),this.registerPostFixer(t=>{let n=!1;for(const a of this.roots)a.isAttached()||a.isEmpty||(t.remove(t.createRangeIn(a)),n=!0);for(const a of this.model.markers)a.getRange().root.isAttached()||(t.removeMarker(a),n=!0);return n})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Pk)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new q("model-document-createroot-name-exists",this,{name:t});const n=new nm(this,e,t);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return this.roots.filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=Jl(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,n=t.schema,a=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(a)||t.createRange(a)}_validateSelectionRange(e){return Rk(e.start)&&Rk(e.end)}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(this.selection.refresh(),t=n(e),t)break;while(t)}}function Rk(r){const e=r.textNode;if(e){const t=e.data,n=r.offset-e.startOffset;return!Ms(t,n)&&!xl(t,n)}return!0}var Fw=Object.defineProperty,zk=Object.defineProperties,th=Object.getOwnPropertyDescriptors,nh=Object.getOwnPropertySymbols,Fk=Object.prototype.hasOwnProperty,Vw=Object.prototype.propertyIsEnumerable,Jd=(r,e,t)=>e in r?Fw(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class im extends me(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof eu?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,n=!1,a=!1){const u=e instanceof eu?e.name:e;if(u.includes(","))throw new q("markercollection-incorrect-marker-name",this);const f=this._markers.get(u);if(f){const E=f.getData(),O=f.getRange();let z=!1;return O.isEqual(t)||(f._attachLiveRange(cr.fromRange(t)),z=!0),n!=f.managedUsingOperations&&(f._managedUsingOperations=n,z=!0),typeof a=="boolean"&&a!=f.affectsData&&(f._affectsData=a,z=!0),z&&this.fire(`update:${u}`,f,O,t,E),f}const b=cr.fromRange(t),w=new eu(u,b,n,a);var A;return this._markers.set(u,w),this.fire(`update:${u}`,w,null,t,(A=((E,O)=>{for(var z in O||(O={}))Fk.call(O,z)&&Jd(E,z,O[z]);if(nh)for(var z of nh(O))Vw.call(O,z)&&Jd(E,z,O[z]);return E})({},w.getData()),zk(A,th({range:null})))),w}_remove(e){const t=e instanceof eu?e.name:e,n=this._markers.get(t);return!!n&&(this._markers.delete(t),this.fire(`update:${t}`,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0)}_refresh(e){const t=e instanceof eu?e.name:e,n=this._markers.get(t);if(!n)throw new q("markercollection-refresh-marker-not-exists",this);const a=n.getRange();this.fire(`update:${t}`,n,a,a,n.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class eu extends me(bs){constructor(e,t,n,a){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=n,this._affectsData=a}get managedUsingOperations(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}eu.prototype.is=function(r){return r==="marker"||r==="model:marker"};class Sf extends zs{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new q("detach-operation-on-document-node",this)}_execute(){ag(Je._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class ol extends bs{constructor(e){super(),this.markers=new Map,this._children=new Ps,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const n of e)n.name?t.push(ci.fromJSON(n)):t.push(Bi.fromJSON(n));return new ol(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(a){return typeof a=="string"?[new Bi(a)]:(Qe(a)||(a=[a]),Array.from(a).map(u=>typeof u=="string"?new Bi(u):u instanceof ks?new Bi(u.data,u.getAttributes()):u))}(t);for(const a of n)a.parent!==null&&a._remove(),a.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const a of n)a.parent=null;return n}}ol.prototype.is=function(r){return r==="documentFragment"||r==="model:documentFragment"};class pg{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Bi(e,t)}createElement(e,t){return new ci(e,t)}createDocumentFragment(){return new ol}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,n=0){if(this._assertWriterUsedCorrectly(),e instanceof Bi&&e.data=="")return;const a=At._createAt(t,n);if(e.parent){if(bg(e.root,a.root))return void this.move(Je._createOn(e),a);if(e.root.document)throw new q("model-writer-insert-forbidden-move",this);this.remove(e)}const u=a.root.document?a.root.document.version:null,f=new yr(a,e,u);if(e instanceof Bi&&(f.shouldReceiveAttributes=!0),this.batch.addOperation(f),this.model.applyOperation(f),e instanceof ol)for(const[b,w]of e.markers){const A=At._createAt(w.root,0),E={range:new Je(w.start._getCombined(A,a),w.end._getCombined(A,a)),usingOperation:!0,affectsData:!0};this.model.markers.has(b)?this.updateMarker(b,E):this.addMarker(b,E)}}insertText(e,t,n,a){t instanceof ol||t instanceof ci||t instanceof At?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,a)}insertElement(e,t,n,a){t instanceof ol||t instanceof ci||t instanceof At?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,a)}append(e,t){this.insert(e,t,"end")}appendText(e,t,n){t instanceof ol||t instanceof ci?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}appendElement(e,t,n){t instanceof ol||t instanceof ci?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}setAttribute(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof Je){const a=n.getMinimalFlatRanges();for(const u of a)rm(this,e,t,u)}else gg(this,e,t,n)}setAttributes(e,t){for(const[n,a]of no(e))this.setAttribute(n,a,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof Je){const n=t.getMinimalFlatRanges();for(const a of n)rm(this,e,null,a)}else gg(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=n=>{for(const a of n.getAttributeKeys())this.removeAttribute(a,n)};if(e instanceof Je)for(const n of e.getItems())t(n);else t(e)}move(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof Je))throw new q("writer-move-invalid-range",this);if(!e.isFlat)throw new q("writer-move-range-not-flat",this);const a=At._createAt(t,n);if(a.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!bg(e.root,a.root))throw new q("writer-move-different-document",this);const u=e.root.document?e.root.document.version:null,f=new ui(e.start,e.end.offset-e.start.offset,a,u);this.batch.addOperation(f),this.model.applyOperation(f)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof Je?e:Je._createOn(e)).getMinimalFlatRanges().reverse();for(const n of t)this._addOperationForAffectedMarkers("move",n),Hw(n.start,n.end.offset-n.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof ci))throw new q("writer-merge-no-element-before",this);if(!(n instanceof ci))throw new q("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,n){return this.model.createPositionFromPath(e,t,n)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,n=e.nodeAfter;this.move(Je._createIn(n),At._createAt(t,"end")),this.remove(n)}_merge(e){const t=At._createAt(e.nodeBefore,"end"),n=At._createAt(e.nodeAfter,0),a=e.root.document.graveyard,u=new At(a,[0]),f=e.root.document.version,b=new Qi(n,e.nodeAfter.maxOffset,t,u,f);this.batch.addOperation(b),this.model.applyOperation(b)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof ci))throw new q("writer-rename-not-element-instance",this);const n=e.root.document?e.root.document.version:null,a=new Ao(At._createBefore(e),e.name,t,n);this.batch.addOperation(a),this.model.applyOperation(a)}split(e,t){this._assertWriterUsedCorrectly();let n,a,u=e.parent;if(!u.parent)throw new q("writer-split-element-no-parent",this);if(t||(t=u.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new q("writer-split-invalid-limit-element",this);do{const f=u.root.document?u.root.document.version:null,b=u.maxOffset-e.offset,w=Ni.getInsertionPosition(e),A=new Ni(e,b,w,null,f);this.batch.addOperation(A),this.model.applyOperation(A),n||a||(n=u,a=e.parent.nextSibling),u=(e=this.createPositionAfter(e.parent)).parent}while(u!==t);return{position:e,range:new Je(At._createAt(n,"end"),At._createAt(a,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new q("writer-wrap-range-not-flat",this);const n=t instanceof ci?t:new ci(t);if(n.childCount>0)throw new q("writer-wrap-element-not-empty",this);if(n.parent!==null)throw new q("writer-wrap-element-attached",this);this.insert(n,e.start);const a=new Je(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(a,At._createAt(n,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new q("writer-unwrap-element-no-parent",this);this.move(Je._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new q("writer-addmarker-no-usingoperation",this);const n=t.usingOperation,a=t.range,u=t.affectsData!==void 0&&t.affectsData;if(this.model.markers.has(e))throw new q("writer-addmarker-marker-exists",this);if(!a)throw new q("writer-addmarker-no-range",this);return n?(ih(this,e,null,a,u),this.model.markers.get(e)):this.model.markers._set(e,a,n,u)}updateMarker(e,t){this._assertWriterUsedCorrectly();const n=typeof e=="string"?e:e.name,a=this.model.markers.get(n);if(!a)throw new q("writer-updatemarker-marker-not-exists",this);if(!t)return ue("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),void this.model.markers._refresh(a);const u=typeof t.usingOperation=="boolean",f=typeof t.affectsData=="boolean",b=f?t.affectsData:a.affectsData;if(!u&&!t.range&&!f)throw new q("writer-updatemarker-wrong-options",this);const w=a.getRange(),A=t.range?t.range:w;u&&t.usingOperation!==a.managedUsingOperations?t.usingOperation?ih(this,n,null,A,b):(ih(this,n,w,null,b),this.model.markers._set(n,A,void 0,b)):a.managedUsingOperations?ih(this,n,w,A,b):this.model.markers._set(n,A,void 0,b)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new q("writer-removemarker-no-marker",this);const n=this.model.markers.get(t);if(!n.managedUsingOperations)return void this.model.markers._remove(t);ih(this,t,n.getRange(),null,n.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(e);if(n&&n.isAttached())throw new q("writer-addroot-root-exists",this);const a=this.model.document,u=new si(e,t,!0,a,a.version);return this.batch.addOperation(u),this.model.applyOperation(u),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new q("writer-detachroot-no-root",this);for(const u of this.model.markers)u.getRange().root===t&&this.removeMarker(u);for(const u of t.getAttributeKeys())this.removeAttribute(u,t);this.remove(this.createRangeIn(t));const n=this.model.document,a=new si(t.rootName,t.name,!1,n,n.version);this.batch.addOperation(a),this.model.applyOperation(a)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[n,a]of no(e))this._setSelectionAttribute(n,a)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const a=ma._getStoreAttributeKey(e);this.setAttribute(a,t,n.anchor.parent)}n._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const n=ma._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new q("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const a=n.getRange();let u=!1;if(e==="move"){const f=t;u=f.containsPosition(a.start)||f.start.isEqual(a.start)||f.containsPosition(a.end)||f.end.isEqual(a.end)}else{const f=t,b=f.nodeBefore,w=f.nodeAfter,A=a.start.parent==b&&a.start.isAtEnd,E=a.end.parent==w&&a.end.offset==0,O=a.end.nodeAfter==w,z=a.start.nodeAfter==w;u=A||E||O||z}u&&this.updateMarker(n.name,{range:a})}}}function rm(r,e,t,n){const a=r.model,u=a.document;let f,b,w,A=n.start;for(const O of n.getWalker({shallow:!0}))w=O.item.getAttribute(e),f&&b!=w&&(b!=t&&E(),A=f),f=O.nextPosition,b=w;function E(){const O=new Je(A,f),z=O.root.document?u.version:null,U=new Ir(O,e,b,t,z);r.batch.addOperation(U),a.applyOperation(U)}f instanceof At&&f!=A&&b!=t&&E()}function gg(r,e,t,n){const a=r.model,u=a.document,f=n.getAttribute(e);let b,w;if(f!=t){if(n.root===n){const A=n.document?u.version:null;w=new ja(n,e,f,t,A)}else{b=new Je(At._createBefore(n),r.createPositionAfter(n));const A=b.root.document?u.version:null;w=new Ir(b,e,f,t,A)}r.batch.addOperation(w),a.applyOperation(w)}}function ih(r,e,t,n,a){const u=r.model,f=u.document,b=new Co(e,t,n,u.markers,!!a,f.version);r.batch.addOperation(b),u.applyOperation(b)}function Hw(r,e,t,n){let a;if(r.root.document){const u=n.document,f=new At(u.graveyard,[0]);a=new ui(r,e,f,u.version)}else a=new Sf(r,e);t.addOperation(a),n.applyOperation(a)}function bg(r,e){return r===e||r instanceof nm&&e instanceof nm}function sm(r,e,t={}){if(e.isCollapsed)return;const n=e.getFirstRange();if(n.root.rootName=="$graveyard")return;const a=r.schema;r.change(u=>{if(!t.doNotResetEntireContent&&function(A,E){const O=A.getLimitElement(E);if(!E.containsEntireContent(O))return!1;const z=E.getFirstRange();return z.start.parent==z.end.parent?!1:A.checkChild(O,"paragraph")}(a,e))return void function(A,E){const O=A.model.schema.getLimitElement(E);A.remove(A.createRangeIn(O)),om(A,A.createPositionAt(O,0),E)}(u,e);const f={};if(!t.doNotAutoparagraph){const A=e.getSelectedElement();A&&Object.assign(f,a.getAttributesWithProperty(A,"copyOnReplace",!0))}const[b,w]=function(A){const E=A.root.document.model,O=A.start;let z=A.end;if(E.hasContent(A,{ignoreMarkers:!0})){const U=function(W){const X=W.parent,ae=X.root.document.model.schema,ge=X.getAncestors({parentFirst:!0,includeSelf:!0});for(const De of ge){if(ae.isLimit(De))return null;if(ae.isBlock(De))return De}}(z);if(U&&z.isTouching(E.createPositionAt(U,0))){const W=E.createSelection(A);E.modifySelection(W,{direction:"backward"});const X=W.getLastPosition(),ae=E.createRange(X,z);E.hasContent(ae,{ignoreMarkers:!0})||(z=X)}}return[Vs.fromPosition(O,"toPrevious"),Vs.fromPosition(z,"toNext")]}(n);b.isTouching(w)||u.remove(u.createRange(b,w)),t.leaveUnmerged||(function(A,E,O){const z=A.model;if(!kg(A.model.schema,E,O))return;const[U,W]=function(X,ae){const ge=X.getAncestors(),De=ae.getAncestors();let Ze=0;for(;ge[Ze]&&ge[Ze]==De[Ze];)Ze++;return[ge[Ze],De[Ze]]}(E,O);!U||!W||(!z.hasContent(U,{ignoreMarkers:!0})&&z.hasContent(W,{ignoreMarkers:!0})?Hk(A,E,O,U.parent):Vk(A,E,O,U.parent))}(u,b,w),a.removeDisallowedAttributes(b.parent.getChildren(),u)),am(u,e,b),!t.doNotAutoparagraph&&function(A,E){const O=A.checkChild(E,"$text"),z=A.checkChild(E,"paragraph");return!O&&z}(a,b)&&om(u,b,e,f),b.detach(),w.detach()})}function Vk(r,e,t,n){const a=e.parent,u=t.parent;if(a!=n&&u!=n){for(e=r.createPositionAfter(a),(t=r.createPositionBefore(u)).isEqual(e)||r.insert(u,e),r.merge(e);t.parent.isEmpty;){const f=t.parent;t=r.createPositionBefore(f),r.remove(f)}kg(r.model.schema,e,t)&&Vk(r,e,t,n)}}function Hk(r,e,t,n){const a=e.parent,u=t.parent;if(a!=n&&u!=n){for(e=r.createPositionAfter(a),(t=r.createPositionBefore(u)).isEqual(e)||r.insert(a,t);e.parent.isEmpty;){const f=e.parent;e=r.createPositionBefore(f),r.remove(f)}t=r.createPositionBefore(u),function(f,b){const w=b.nodeBefore,A=b.nodeAfter;w.name!=A.name&&f.rename(w,A.name),f.clearAttributes(w),f.setAttributes(Object.fromEntries(A.getAttributes()),w),f.merge(b)}(r,t),kg(r.model.schema,e,t)&&Hk(r,e,t,n)}}function kg(r,e,t){const n=e.parent,a=t.parent;return n!=a&&!r.isLimit(n)&&!r.isLimit(a)&&function(u,f,b){const w=new Je(u,f);for(const A of w.getWalker())if(b.isLimit(A.item))return!1;return!0}(e,t,r)}function om(r,e,t,n={}){const a=r.createElement("paragraph");r.model.schema.setAllowedAttributes(a,n,r),r.insert(a,e),am(r,t,r.createPositionAt(a,0))}function am(r,e,t){e instanceof ma?r.setSelection(t):e.setTo(t)}function jf(r,e){const t=[];Array.from(r.getItems({direction:"backward"})).map(n=>e.createRangeOn(n)).filter(n=>(n.start.isAfter(r.start)||n.start.isEqual(r.start))&&(n.end.isBefore(r.end)||n.end.isEqual(r.end))).forEach(n=>{t.push(n.start.parent),e.remove(n)}),t.forEach(n=>{let a=n;for(;a.parent&&a.isEmpty;){const u=e.createRangeOn(a);a=a.parent,e.remove(u)}})}class Uw{constructor(e,t,n){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(e);if(n.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new q("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Je._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Je(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let t=this._checkAndAutoParagraphToAllowedPosition(e);t||(t=this._checkAndSplitToAllowedPosition(e),t)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Vs.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new q("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Vs.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Vs.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof ci)||!this._canMergeLeft(e))return;const t=Vs._createBefore(e);t.stickiness="toNext";const n=Vs.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=Vs._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Vs._createAt(t.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof ci)||!this._canMergeRight(e))return;const t=Vs._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new q("insertcontent-invalid-insertion-position",this);this.position=At._createAt(t.nodeBefore,"end");const n=Vs.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=Vs._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Vs._createAt(t.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof ci&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof ci&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===t&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const n=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=n,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function lm(r,e,t,n={}){if(!r.schema.isObject(e))throw new q("insertobject-element-not-an-object",r,{object:e});const a=t||r.document.selection;let u=a;n.findOptimalPosition&&r.schema.isBlock(e)&&(u=r.createSelection(r.schema.findOptimalInsertionRange(a,n.findOptimalPosition)));const f=qn(a.getSelectedBlocks()),b={};return f&&Object.assign(b,r.schema.getAttributesWithProperty(f,"copyOnReplace",!0)),r.change(w=>{u.isCollapsed||r.deleteContent(u,{doNotAutoparagraph:!0});let A=e;const E=u.anchor.parent;!r.schema.checkChild(E,e)&&r.schema.checkChild(E,"paragraph")&&r.schema.checkChild("paragraph",e)&&(A=w.createElement("paragraph"),w.insert(e,A)),r.schema.setAllowedAttributes(A,b,w);const O=r.insertContent(A,u);return O.isCollapsed||n.setSelection&&function(z,U,W,X){const ae=z.model;if(W=="on")return void z.setSelection(U,"on");if(W!="after")throw new q("insertobject-invalid-place-parameter-value",ae);let ge=U.nextSibling;if(ae.schema.isInline(U))return void z.setSelection(U,"after");!(ge&&ae.schema.checkChild(ge,"$text"))&&ae.schema.checkChild(U.parent,"paragraph")&&(ge=z.createElement("paragraph"),ae.schema.setAllowedAttributes(ge,X,z),ae.insertContent(ge,z.createPositionAfter(U))),ge&&z.setSelection(ge,0)}(w,e,n.setSelection,b),O})}const $w=' ,.?!:;"-()';function Uk(r,e){const{isForward:t,walker:n,unit:a,schema:u,treatEmojiAsSingleUnit:f}=r,{type:b,item:w,nextPosition:A}=e;if(b=="text")return r.unit==="word"?function(E,O){let z=E.position.textNode;for(z||(z=O?E.position.nodeAfter:E.position.nodeBefore);z&&z.is("$text");){const U=E.position.offset-z.startOffset;if(Wk(z,U,O))z=O?E.position.nodeAfter:E.position.nodeBefore;else{if(qk(z.data,U,O))break;E.next()}}return E.position}(n,t):function(E,O,z){const U=E.position.textNode;if(U){const W=U.data;let X=E.position.offset-U.startOffset;for(;Ms(W,X)||O=="character"&&xl(W,X)||z&&Eh(W,X);)E.next(),X=E.position.offset-U.startOffset}return E.position}(n,a,f);if(b==(t?"elementStart":"elementEnd")){if(u.isSelectable(w))return At._createAt(w,t?"after":"before");if(u.checkChild(A,"$text"))return A}else{if(u.isLimit(w))return void n.skip(()=>!0);if(u.checkChild(A,"$text"))return A}}function $k(r,e){const t=r.root,n=At._createAt(t,e?"end":0);return e?new Je(r,n):new Je(n,r)}function qk(r,e,t){const n=e+(t?0:-1);return $w.includes(r.charAt(n))}function Wk(r,e,t){return e===(t?r.offsetSize:0)}class _g extends Te(){constructor(){super(),this.markers=new im,this.document=new zw(this),this.schema=new Ki,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),mk(this),this.document.registerPostFixer(dc),this.on("insertContent",(e,[t,n])=>{e.return=function(a,u,f){return a.change(b=>{const w=f||a.document.selection;w.isCollapsed||a.deleteContent(w,{doNotAutoparagraph:!0});const A=new Uw(a,b,w.anchor),E=[];let O;if(u.is("documentFragment")){if(u.markers.size){const W=[];for(const[X,ae]of u.markers){const{start:ge,end:De}=ae,Ze=ge.isEqual(De);W.push({position:ge,name:X,isCollapsed:Ze},{position:De,name:X,isCollapsed:Ze})}W.sort(({position:X},{position:ae})=>X.isBefore(ae)?1:-1);for(const{position:X,name:ae,isCollapsed:ge}of W){let De=null,Ze=null;const ft=X.parent===u&&X.isAtStart,Ht=X.parent===u&&X.isAtEnd;ft||Ht?ge&&(Ze=ft?"start":"end"):(De=b.createElement("$marker"),b.insert(De,X)),E.push({name:ae,element:De,collapsed:Ze})}}O=u.getChildren()}else O=[u];A.handleNodes(O);let z=A.getSelectionRange();if(u.is("documentFragment")&&E.length){const W=z?cr.fromRange(z):null,X={};for(let ae=E.length-1;ae>=0;ae--){const{name:ge,element:De,collapsed:Ze}=E[ae],ft=!X[ge];if(ft&&(X[ge]=[]),De){const Ht=b.createPositionAt(De,"before");X[ge].push(Ht),b.remove(De)}else{const Ht=A.getAffectedRange();if(!Ht){Ze&&X[ge].push(A.position);continue}Ze?X[ge].push(Ht[Ze]):X[ge].push(ft?Ht.start:Ht.end)}}for(const[ae,[ge,De]]of Object.entries(X))ge&&De&&ge.root===De.root&&ge.root.document&&!b.model.markers.has(ae)&&b.addMarker(ae,{usingOperation:!0,affectsData:!0,range:new Je(ge,De)});W&&(z=W.toRange(),W.detach())}z&&(w instanceof ma?b.setSelection(z):w.setTo(z));const U=A.getAffectedRange()||a.createRange(w.anchor);return A.destroy(),U})}(this,t,n)}),this.on("insertObject",(e,[t,n,a])=>{e.return=lm(this,t,n,a)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Ju,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){q.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new Ju):e instanceof Ju||(e=new Ju(e)):e=new Ju,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(n){q.rethrowUnexpectedError(n,this)}}applyOperation(e){e._execute()}insertContent(e,t,n,...a){const u=Df(t,n);return this.fire("insertContent",[e,u,n,...a])}insertObject(e,t,n,a,...u){const f=Df(t,n);return this.fire("insertObject",[e,f,a,a,...u])}deleteContent(e,t){sm(this,e,t)}modifySelection(e,t){(function(n,a,u={}){const f=n.schema,b=u.direction!="backward",w=u.unit?u.unit:"character",A=!!u.treatEmojiAsSingleUnit,E=a.focus,O=new oo({boundaries:$k(E,b),singleCharacters:!0,direction:b?"forward":"backward"}),z={walker:O,schema:f,isForward:b,unit:w,treatEmojiAsSingleUnit:A};let U;for(;U=O.next();){if(U.done)return;const W=Uk(z,U.value);if(W)return void(a instanceof ma?n.change(X=>{X.setSelectionFocus(W)}):a.setFocus(W))}})(this,e,t)}getSelectedContent(e){return function(t,n){return t.change(a=>{const u=a.createDocumentFragment(),f=n.getFirstRange();if(!f||f.isCollapsed)return u;const b=f.start.root,w=f.start.getCommonPath(f.end),A=b.getNodeByPath(w);let E;E=f.start.parent==f.end.parent?f:a.createRange(a.createPositionAt(A,f.start.path[w.length]),a.createPositionAt(A,f.end.path[w.length]+1));const O=E.end.offset-E.start.offset;for(const z of E.getItems({shallow:!0}))z.is("$textProxy")?a.appendText(z.data,z.getAttributes(),u):a.append(a.cloneElement(z,!0),u);if(E!=f){const z=f._getTransformedByMove(E.start,a.createPositionAt(u,0),O)[0],U=a.createRange(a.createPositionAt(u,0),z.start);jf(a.createRange(z.end,a.createPositionAt(u,"end")),a),jf(U,a)}return u})}(this,e)}hasContent(e,t={}){const n=e instanceof Je?e:Je._createIn(e);if(n.isCollapsed)return!1;const{ignoreWhitespaces:a=!1,ignoreMarkers:u=!1}=t;if(!u){for(const f of this.markers.getMarkersIntersectingRange(n))if(f.affectsData)return!0}for(const f of n.getItems())if(this.schema.isContent(f)&&(!f.is("$textProxy")||!a||f.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const t=Df(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,n){return new At(e,t,n)}createPositionAt(e,t){return At._createAt(e,t)}createPositionAfter(e){return At._createAfter(e)}createPositionBefore(e){return At._createBefore(e)}createRange(e,t){return new Je(e,t)}createRangeIn(e){return Je._createIn(e)}createRangeOn(e){return Je._createOn(e)}createSelection(...e){return new _s(...e)}createBatch(e){return new Ju(e)}createOperationFromJSON(e){return Fs.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new pg(this,t);const n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function Df(r,e){if(r)return r instanceof _s||r instanceof ma?r:r instanceof Kc?e||e===0?new _s(r,e):r.is("rootElement")?new _s(r,"in"):new _s(r,"on"):new _s(r)}class Tf extends Al{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class vg extends Al{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class fc{constructor(e){this.document=e}createDocumentFragment(e){return new qc(this.document,e)}createElement(e,t,n){return new Ho(this.document,e,t,n)}createText(e){return new gi(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,n){return n._insertChild(e,t)}removeChildren(e,t,n){return n._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const n=e.parent;if(n){const a=n.getChildIndex(e);return this.removeChildren(a,1,n),this.insertChild(a,t,n),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const n=t.getChildIndex(e);this.remove(e),this.insertChild(n,e.getChildren(),t)}}rename(e,t){const n=new Ho(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){Re(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return Pt._createAt(e,t)}createPositionAfter(e){return Pt._createAfter(e)}createPositionBefore(e){return Pt._createBefore(e)}createRange(e,t){return new An(e,t)}createRangeOn(e){return An._createOn(e)}createRangeIn(e){return An._createIn(e)}createSelection(...e){return new la(...e)}}class wg{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const n=this.get(e);if(!n)throw new q("commandcollection-command-not-found",this,{commandName:e});return n.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}var yg=Object.defineProperty,cm=Object.getOwnPropertySymbols,xg=Object.prototype.hasOwnProperty,Yk=Object.prototype.propertyIsEnumerable,Mf=(r,e,t)=>e in r?yg(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;const Dl="contentEditing",pc="common";class id{constructor(e){this.keystrokeInfos=new Map,this._editor=e;const t=e.config.get("menuBar.isVisible"),n=e.locale.t;this.addKeystrokeInfoCategory({id:Dl,label:n("Content editing keystrokes"),description:n("These keyboard shortcuts allow for quick access to content editing features.")});const a=[{label:n("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:n("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:n("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:n("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:n("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:n("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];t&&a.push({label:n("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:n("User interface and content navigation keystrokes"),description:n("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:a}]})}addKeystrokeInfoCategory({id:e,label:t,description:n,groups:a}){this.keystrokeInfos.set(e,{id:e,label:t,description:n,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:pc}),a&&a.forEach(u=>{this.addKeystrokeInfoGroup(((f,b)=>{for(var w in b||(b={}))xg.call(b,w)&&Mf(f,w,b[w]);if(cm)for(var w of cm(b))Yk.call(b,w)&&Mf(f,w,b[w]);return f})({categoryId:e},u))})}addKeystrokeInfoGroup({categoryId:e=Dl,id:t,label:n,keystrokes:a}){const u=this.keystrokeInfos.get(e);if(!u)throw new q("accessibility-unknown-keystroke-info-category",this._editor,{groupId:t,categoryId:e});u.groups.set(t,{id:t,label:n,keystrokes:a||[]})}addKeystrokeInfos({categoryId:e=Dl,groupId:t=pc,keystrokes:n}){if(!this.keystrokeInfos.has(e))throw new q("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:n});const a=this.keystrokeInfos.get(e);if(!a.groups.has(t))throw new q("accessibility-unknown-keystroke-info-group",this._editor,{groupId:t,categoryId:e,keystrokes:n});a.groups.get(t).keystrokes.push(...n)}}var rh=Object.getOwnPropertySymbols,dm=Object.prototype.hasOwnProperty,rd=Object.prototype.propertyIsEnumerable,Gk=(r,e)=>{var t={};for(var n in r)dm.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&rh)for(var n of rh(r))e.indexOf(n)<0&&rd.call(r,n)&&(t[n]=r[n]);return t};class Kk extends Te(){constructor(e={}){super();const t=this.constructor,n=t.defaultConfig||{},{translations:a}=n,u=Gk(n,["translations"]),f=e,{translations:b=a}=f,w=Gk(f,["translations"]),A=e.language||u.language;this._context=e.context||new Dr({language:A,translations:b}),this._context._addEditor(this,!e.context);const E=Array.from(t.builtinPlugins||[]);this.config=new Qa(w,u),this.config.define("plugins",E),this.config.define(this._context._getEditorConfig()),this.plugins=new wn(this,E,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new wg,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new _g,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const O=new Pb;this.data=new ig(this.model,O),this.editing=new fk(this.model,O),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new rg([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new ns(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new id(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new q("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new q("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new q("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],a=e.get("extraPlugins")||[],u=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(a),n,u)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(n){q.rethrowUnexpectedError(n,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function tu(r){return class extends r{updateSourceElement(e){if(!this.sourceElement)throw new q("editor-missing-sourceelement",this);const t=this.config.get("updateSourceElementOnDestroy"),n=this.sourceElement instanceof HTMLTextAreaElement;if(!t&&!n)return void Jr(this.sourceElement,"");const a=typeof e=="string"?e:this.data.get();Jr(this.sourceElement,a)}}}tu.updateSourceElement=tu(Object).prototype.updateSourceElement;class Qk extends Tr{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Ro({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new q("pendingactions-add-invalid-message",this);const t=new(Te());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const In={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var um=h(7801),Zk={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(um.A,Zk),um.A.locals;class If extends St{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${ee()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}class Of extends St{constructor(e,t){super(e);const n=e.t,a=new If;a.text=n("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":a.id,role:"document",tabindex:-1},children:[fi(document,"p",{},n("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(t.values())),a]})}focus(){this.element.focus()}_createCategories(e){return e.map(t=>{const n=[fi(document,"h3",{},t.label),...Array.from(t.groups.values()).map(a=>this._createGroup(a)).flat()];return t.description&&n.splice(1,0,fi(document,"p",{},t.description)),fi(document,"section",{},n)})}_createGroup(e){const t=e.keystrokes.sort((a,u)=>a.label.localeCompare(u.label)).map(a=>this._createGroupRow(a)).flat(),n=[fi(document,"dl",{},t)];return e.label&&n.unshift(fi(document,"h4",{},e.label)),n}_createGroupRow(e){const t=this.locale.t,n=fi(document,"dt"),a=fi(document,"dd"),u=function(b){return typeof b=="string"?[[b]]:typeof b[0]=="string"?[b]:b}(e.keystroke),f=[];for(const b of u)f.push(b.map(Lf).join(""));return n.innerHTML=e.label,a.innerHTML=f.join(", ")+(e.mayRequireFn&&S.isMac?` ${t("(may require <kbd>Fn</kbd>)")}`:""),[n,a]}}function Lf(r){return rn(r).split("+").map(e=>`<kbd>${e}</kbd>`).join("+")}const Cg='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var sh=h(8527),Ag={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(sh.A,Ag),sh.A.locals;class Bf extends at{constructor(){super(...arguments),this.contentView=null}static get requires(){return[iu]}static get pluginName(){return"AccessibilityHelp"}init(){const e=this.editor,t=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const n=this._createButton(R);return n.set({tooltip:!0,withText:!1,label:t("Accessibility help")}),n}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const n=this._createButton(al);return n.label=t("Accessibility"),n}),e.keystrokes.set("Alt+0",(n,a)=>{this._showDialog(),a()}),this._setupRootLabels()}_createButton(e){const t=new e(this.editor.locale);return t.set({keystroke:"Alt+0",icon:Cg}),t.on("execute",()=>this._showDialog()),t}_setupRootLabels(){const e=this.editor,t=e.editing.view,n=e.t;function a(u,f){const b=`${f.getAttribute("aria-label")}. ${n("Press %0 for help.",[rn("Alt+0")])}`;u.setAttribute("aria-label",b,f)}e.ui.on("ready",()=>{t.change(u=>{for(const f of t.document.roots)a(u,f)}),e.on("addRoot",(u,f)=>{const b=e.editing.view.document.getRoot(f.rootName);t.change(w=>a(w,b))},{priority:"low"})})}_showDialog(){const e=this.editor,t=e.plugins.get("Dialog"),n=e.locale.t;this.contentView||(this.contentView=new Of(e.locale,e.accessibility.keystrokeInfos)),t.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:n("Accessibility help"),icon:Cg,hasCloseButton:!0,content:this.contentView})}}class Xk extends zo{constructor(e,t=[]){super(t),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Fo({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=fi(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var Jk=h(7621),Pf={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(Jk.A,Pf),Jk.A.locals;const d=class extends St{constructor(){super();const r=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",r.if("isVisible","ck-hidden",e=>!e),"ck-reset_all-excluded",r.if("isColorInherited","ck-icon_inherit-color")],viewBox:r.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const r=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=r.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:t,value:n}of Array.from(r.attributes))d.presentationalAttributeNames.includes(t)&&this.element.setAttribute(t,n);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;r.childNodes.length>0;)this.element.appendChild(r.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(r=>{r.style.fill=this.fillColor})}};let m=d;m.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class k extends St{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var C=h(9715),M={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(C.A,M),C.A.locals;class R extends St{constructor(e,t=new k){super(e),this._focusDelayed=null;const n=this.bindTemplate,a=ee();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${a}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new m,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const u={tag:"button",attributes:{class:["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",f=>!f),n.if("isVisible","ck-hidden",f=>!f),n.to("isOn",f=>f?"ck-on":"ck-off"),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],role:n.to("role"),type:n.to("type",f=>f||"button"),tabindex:n.to("tabindex"),"aria-checked":n.to("ariaChecked"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy"),"aria-disabled":n.if("isEnabled",!0,f=>!f),"aria-pressed":n.to("isOn",f=>!!this.isToggleable&&String(!!f)),"data-cke-tooltip-text":n.to("_tooltipString"),"data-cke-tooltip-position":n.to("tooltipPosition")},children:this.children,on:{click:n.to(f=>{this.isEnabled?this.fire("execute"):f.preventDefault()})}};S.isSafari&&(this._focusDelayed||(this._focusDelayed=sa(()=>this.focus(),0)),u.on.mousedown=n.to(()=>{this._focusDelayed()}),u.on.mouseup=n.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(u)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new St;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>rn(t))}]}),e}_getTooltipString(e,t,n){return e?typeof e=="string"?e:(n&&(n=rn(n)),e instanceof Function?e(t,n):`${t}${n?` (${n})`:""}`):""}}var J=h(4391),de={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(J.A,de),J.A.locals;class Ne extends R{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new St;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class Xe extends R{constructor(e){super(e),this.buttonView=this,this._fileInputView=new gt(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class gt extends St{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const vt='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var et=h(25),it={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(et.A,it),et.A.locals;class On extends St{constructor(e,t){super(e);const n=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),t&&this.children.addMany(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",n.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:n.if("isCollapsed","hidden"),"aria-labelledby":n.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new R(this.locale),t=e.bindTemplate;return e.set({withText:!0,icon:vt}),e.extendTemplate({attributes:{"aria-expanded":t.to("isOn",n=>String(n))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",n=>!n),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}var _n=h(7317),Fi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(_n.A,Fi),_n.A.locals,h(6931),h(9047);var He=h(4962),Oe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(He.A,Oe),He.A.locals;class Ge extends St{constructor(e,t){super(e);const n=`ck-labeled-field-view-${ee()}`,a=`ck-labeled-field-view-status-${ee()}`;this.fieldView=t(this,n,a),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(a),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(f,b)=>f||b);const u=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",u.to("class"),u.if("isEnabled","ck-disabled",f=>!f),u.if("isEmpty","ck-labeled-field-view_empty"),u.if("isFocused","ck-labeled-field-view_focused"),u.if("placeholder","ck-labeled-field-view_placeholder"),u.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new If(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new St(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",a=>!a)],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}}class _t extends St{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new hr,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),tabindex:t.to("tabIndex"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById"),"aria-label":t.to("ariaLabel")},on:{input:t.to((...n)=>{this.fire("input",...n),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,n)=>{this._setDomElementValue(n),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}var sn=h(253),ti={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(sn.A,ti),sn.A.locals;class un extends _t{constructor(e){super(e),this.set("inputMode","text");const t=this.bindTemplate;this.extendTemplate({attributes:{inputmode:t.to("inputMode")}})}}class Nn extends un{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var ss=h(1671),yi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(ss.A,yi),ss.A.locals;class sd extends St{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",n=>`ck-dropdown__panel_${n}`),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to(n=>{n.target.tagName.toLocaleLowerCase()!=="input"&&n.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():ue("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var e_=h(8149),nB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(e_.A,nB),e_.A.locals;const qw=class extends St{constructor(r,e,t){super(r);const n=this.bindTemplate;this.buttonView=e,this.panelView=t,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new mr,this.focusTracker=new hr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",n.to("class"),n.if("isEnabled","ck-disabled",a=>!a)],id:n.to("id"),"aria-describedby":n.to("ariaDescribedById")},children:[e,t]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":n.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(e,t,n)=>{if(n)if(this.panelPosition==="auto"){const a=qw._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=a?a.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const r=(e,t)=>{this.isOpen&&(this.isOpen=!1,t())};this.keystrokes.set("arrowdown",(e,t)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,t())}),this.keystrokes.set("arrowright",(e,t)=>{this.isOpen&&t()}),this.keystrokes.set("arrowleft",r),this.keystrokes.set("esc",r)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:r,north:e,southEast:t,southWest:n,northEast:a,northWest:u,southMiddleEast:f,southMiddleWest:b,northMiddleEast:w,northMiddleWest:A}=qw.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[t,n,f,b,r,a,u,w,A,e]:[n,t,b,f,r,u,a,A,w,e]}};let Ww=qw;Ww.defaultPanelPositions={south:(r,e)=>({top:r.bottom,left:r.left-(e.width-r.width)/2,name:"s"}),southEast:r=>({top:r.bottom,left:r.left,name:"se"}),southWest:(r,e)=>({top:r.bottom,left:r.left-e.width+r.width,name:"sw"}),southMiddleEast:(r,e)=>({top:r.bottom,left:r.left-(e.width-r.width)/4,name:"sme"}),southMiddleWest:(r,e)=>({top:r.bottom,left:r.left-3*(e.width-r.width)/4,name:"smw"}),north:(r,e)=>({top:r.top-e.height,left:r.left-(e.width-r.width)/2,name:"n"}),northEast:(r,e)=>({top:r.top-e.height,left:r.left,name:"ne"}),northWest:(r,e)=>({top:r.top-e.height,left:r.left-e.width+r.width,name:"nw"}),northMiddleEast:(r,e)=>({top:r.top-e.height,left:r.left-(e.width-r.width)/4,name:"nme"}),northMiddleWest:(r,e)=>({top:r.top-e.height,left:r.left-3*(e.width-r.width)/4,name:"nmw"})},Ww._getOptimalPosition=Ds;class iB extends R{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new m;return e.content=vt,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class Tl extends me(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let n=e.actions[t];typeof n=="string"&&(n=[n]);for(const a of n)e.keystrokeHandler.set(a,(u,f)=>{this[t](),f()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(Yw)||null}get last(){return this.focusables.filter(Yw).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,n)=>{const a=t.element===this.focusTracker.focusedElement;return a&&(e=n),a}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}_focus(e,t){e&&this.focusTracker.focusedElement!==e.element&&e.focus(t)}_getDomFocusableItem(e){const t=this.focusables.length;if(!t)return null;const n=this.current;if(n===null)return this[e===1?"first":"last"];let a=this.focusables.get(n),u=(n+t+e)%t;do{const f=this.focusables.get(u);if(Yw(f)){a=f;break}u=(u+t+e)%t}while(u!==n);return a}}function Yw(r){return Ng(r)&&dr(r.element)}function Ng(r){return!(!("focus"in r)||typeof r.focus!="function")}class h1 extends St{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class rB extends St{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var sB=Object.defineProperty,m1=Object.getOwnPropertySymbols,oB=Object.prototype.hasOwnProperty,aB=Object.prototype.propertyIsEnumerable,f1=(r,e,t)=>e in r?sB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,p1=(r,e)=>{for(var t in e||(e={}))oB.call(e,t)&&f1(r,t,e[t]);if(m1)for(var t of m1(e))aB.call(e,t)&&f1(r,t,e[t]);return r};function g1(r){if(Array.isArray(r))return{items:r,removeItems:[]};const e={items:[],removeItems:[]};return r?p1(p1({},e),r):e}var b1=h(9677),lB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(b1.A,lB),b1.A.locals;const cB={alignLeft:In.alignLeft,bold:In.bold,importExport:In.importExport,paragraph:In.paragraph,plus:In.plus,text:In.text,threeVerticalDots:In.threeVerticalDots,pilcrow:In.pilcrow,dragIndicator:In.dragIndicator};class Gw extends St{constructor(e,t){super(e);const n=this.bindTemplate,a=this.t;this.options=t||{},this.set("ariaLabel",a("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new hr,this.keystrokes=new mr,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new dB(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const u=e.uiLanguageDirection==="rtl";this._focusCycler=new Tl({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[u?"arrowright":"arrowleft","arrowup"],focusNext:[u?"arrowleft":"arrowright","arrowdown"]}});const f=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];var b;this.options.shouldGroupWhenFull&&this.options.isFloating&&f.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:f,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(b=this,b.bindTemplate.to(w=>{w.target===b.element&&w.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new hB(this):new uB(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,n){this.items.addMany(this._buildItemsFromConfig(e,t,n))}_buildItemsFromConfig(e,t,n){const a=g1(e),u=n||a.removeItems;return this._cleanItemsConfiguration(a.items,t,u).map(f=>te(f)?this._createNestedToolbarDropdown(f,t,u):f==="|"?new h1:f==="-"?new rB:t.create(f)).filter(f=>!!f)}_cleanItemsConfiguration(e,t,n){const a=e.filter((u,f,b)=>u==="|"||n.indexOf(u)===-1&&(u==="-"?!this.options.shouldGroupWhenFull||(ue("toolbarview-line-break-ignored-when-grouping-items",b),!1):!(!te(u)&&!t.has(u))||(ue("toolbarview-item-unavailable",{item:u}),!1)));return this._cleanSeparatorsAndLineBreaks(a)}_cleanSeparatorsAndLineBreaks(e){const t=f=>f!=="-"&&f!=="|",n=e.length,a=e.findIndex(t);if(a===-1)return[];const u=n-e.slice().reverse().findIndex(t);return e.slice(a,u).filter((f,b,w)=>t(f)?!0:!(b>0&&w[b-1]===f))}_createNestedToolbarDropdown(e,t,n){let{label:a,icon:u,items:f,tooltip:b=!0,withText:w=!1}=e;if(f=this._cleanItemsConfiguration(f,t,n),!f.length)return null;const A=nu(this.locale);return a||ue("toolbarview-nested-toolbar-dropdown-missing-label",e),A.class="ck-toolbar__nested-toolbar-dropdown",A.buttonView.set({label:a,tooltip:b,withText:!!w}),u!==!1?A.buttonView.icon=cB[u]||u||In.threeVerticalDots:A.buttonView.withText=!0,Zw(A,()=>A.toolbarView._buildItemsFromConfig(f,t,n)),A}}class dB extends St{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class uB{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(n=>n),e.focusables.bindTo(e.items).using(n=>Ng(n)?n:null),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class hB{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(t,n)=>{const a=n.index,u=Array.from(n.added);for(const f of n.removed)a>=this.ungroupedItems.length?this.groupedItems.remove(f):this.ungroupedItems.remove(f);for(let f=a;f<a+u.length;f++){const b=u[f-a];f>this.ungroupedItems.length?this.groupedItems.add(b,f-this.ungroupedItems.length):this.ungroupedItems.add(b,f)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!dr(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new pn(e.lastChild),a=new pn(e);if(!this.cachedPadding){const u=y.window.getComputedStyle(e),f=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(u[f])}return t==="ltr"?n.right>a.right-this.cachedPadding:n.left<a.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new _o(this.viewElement,t=>{e&&e===t.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new h1),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,n=nu(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",Zw(n,this.groupedItems),n.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:In.threeVerticalDots}),n}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{Ng(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class Rf extends St{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",n=>!n)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class Kw extends St{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class t_ extends St{constructor(e,t=new If){super(e);const n=this.bindTemplate,a=new Qw(e);this.set({label:"",isVisible:!0}),this.labelView=t,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,a]),a.set({role:"group",ariaLabelledBy:t.id}),a.focusTracker.destroy(),a.keystrokes.destroy(),this.items=a.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",n.if("isVisible","ck-hidden",u=>!u)]},children:this.children})}focus(){if(this.items){const e=this.items.find(t=>!(t instanceof Kw));e&&e.focus()}}}var k1=h(5199),mB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(k1.A,mB),k1.A.locals;class Qw extends St{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const t=this.bindTemplate;this.focusables=new zo,this.items=this.createCollection(),this.focusTracker=new hr,this.keystrokes=new mr,this._focusCycler=new Tl({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof t_?this._registerFocusableItemsGroup(e):e instanceof Rf&&this._registerFocusableListItem(e);this.items.on("change",(e,t)=>{for(const n of t.removed)n instanceof t_?this._deregisterFocusableItemsGroup(n):n instanceof Rf&&this._deregisterFocusableListItem(n);for(const n of Array.from(t.added).reverse())n instanceof t_?this._registerFocusableItemsGroup(n,t.index):this._registerFocusableListItem(n,t.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,n)=>{for(const a of n.removed)this._deregisterFocusableListItem(a);for(const a of Array.from(n.added).reverse())this._registerFocusableListItem(a,this.items.getIndex(e)+n.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach((a,u)=>{const f=t!==void 0?t+u:void 0;this._registerFocusableListItem(a,f)});const n=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,n),e.items.on("change",n)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}var _1=h(1792),fB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(_1.A,fB),_1.A.locals;class n_ extends St{constructor(e,t){super(e);const n=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(t),this.arrowView=this._createArrowView(),this.keystrokes=new mr,this.focusTracker=new hr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",n.to("class"),n.if("isVisible","ck-hidden",a=>!a),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const t=e||new R;return e||t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const e=new R,t=e.bindTemplate;return e.icon=vt,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",n=>String(n))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var v1=h(1666),pB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(v1.A,pB),v1.A.locals;var w1=h(3629),gB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(w1.A,gB),w1.A.locals;function nu(r,e=iB){const t=typeof e=="function"?new e(r):e,n=new sd(r),a=new Ww(r,t,n);return t.bind("isEnabled").to(a),t instanceof n_?t.arrowView.bind("isOn").to(a,"isOpen"):t.bind("isOn").to(a,"isOpen"),function(u){(function(f){f.on("render",()=>{Cn({emitter:f,activator:()=>f.isOpen,callback:()=>{f.isOpen=!1},contextElements:()=>[f.element,...f.focusTracker._elements]})})})(u),function(f){f.on("execute",b=>{b.source instanceof Ne||(f.isOpen=!1)})}(u),function(f){f.focusTracker.on("change:isFocused",(b,w,A)=>{f.isOpen&&!A&&(f.isOpen=!1)})}(u),function(f){f.keystrokes.set("arrowdown",(b,w)=>{f.isOpen&&(f.panelView.focus(),w())}),f.keystrokes.set("arrowup",(b,w)=>{f.isOpen&&(f.panelView.focusLast(),w())})}(u),function(f){f.on("change:isOpen",(b,w,A)=>{if(A)return;const E=f.panelView.element;E&&E.contains(y.document.activeElement)&&f.buttonView.focus()})}(u),function(f){f.on("change:isOpen",(b,w,A)=>{A&&f.panelView.focus()},{priority:"low"})}(u)}(a),a}function Zw(r,e,t={}){r.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),r.isOpen?y1(r,e,t):r.once("change:isOpen",()=>y1(r,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&A1(r,()=>r.toolbarView.items.find(n=>n.isOn))}function y1(r,e,t){const n=r.locale,a=n.t,u=r.toolbarView=new Gw(n),f=typeof e=="function"?e():e;u.ariaLabel=t.ariaLabel||a("Dropdown toolbar"),t.maxWidth&&(u.maxWidth=t.maxWidth),t.class&&(u.class=t.class),t.isCompact&&(u.isCompact=t.isCompact),t.isVertical&&(u.isVertical=!0),f instanceof zo?u.items.bindTo(f).using(b=>b):u.items.addMany(f),r.panelView.children.add(u),u.items.delegate("execute").to(r)}function x1(r,e,t={}){r.isOpen?C1(r,e,t):r.once("change:isOpen",()=>C1(r,e,t),{priority:"highest"}),A1(r,()=>r.listView.items.find(n=>n instanceof Rf&&n.children.first.isOn))}function C1(r,e,t){const n=r.locale,a=r.listView=new Qw(n),u=typeof e=="function"?e():e;a.ariaLabel=t.ariaLabel,a.role=t.role,N1(r,a.items,u,n),r.panelView.children.add(a),a.items.delegate("execute").to(r)}function A1(r,e){r.on("change:isOpen",()=>{if(!r.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():ue("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:ne.low-10})}function N1(r,e,t,n){e.bindTo(t).using(a=>{if(a.type==="separator")return new Kw(n);if(a.type==="group"){const u=new t_(n);return u.set({label:a.label}),N1(r,u.items,a.items,n),u.items.delegate("execute").to(r),u}if(a.type==="button"||a.type==="switchbutton"){const u=new Rf(n);let f;return a.type==="button"?(f=new R(n),f.bind("ariaChecked").to(f,"isOn")):f=new Ne(n),f.bind(...Object.keys(a.model)).to(a.model),f.delegate("execute").to(u),u.children.add(f),u}return null})}const i_=(r,e,t)=>{const n=new Nn(r.locale);return n.set({id:e,ariaDescribedById:t}),n.bind("isReadOnly").to(r,"isEnabled",a=>!a),n.bind("hasError").to(r,"errorText",a=>!!a),n.on("input",()=>{r.errorText=null}),r.bind("isEmpty","isFocused","placeholder").to(n),n};var E1=h(1905),bB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(E1.A,bB),E1.A.locals;var S1=h(6309),kB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(S1.A,kB),S1.A.locals;class _B{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(Xw(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new q("componentfactory-item-missing",this,{name:e});return this._components.get(Xw(e)).callback(this.editor.locale)}has(e){return this._components.has(Xw(e))}}function Xw(r){return String(r).toLowerCase()}var j1=h(7913),vB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(j1.A,vB),j1.A.locals;class wB extends St{constructor(e,t={}){super(e);const n=this.bindTemplate;this.set("label",t.label||""),this.set("class",t.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",n.to("class")]},children:this.children}),t.icon&&(this.iconView=new m,this.iconView.content=t.icon,this.children.add(this.iconView));const a=new St(e);a.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:n.to("label")}]}),this.children.add(a)}}var D1=h(9822),yB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(D1.A,yB),D1.A.locals;class xB extends St{constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new mr,this._focusTracker=new hr,this._focusables=new zo,this.focusCycler=new Tl({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const t of e){const n=new R(this.locale);let a;for(a in n.on("execute",()=>t.onExecute()),t.onCreate&&t.onCreate(n),t)a!="onExecute"&&a!="onCreate"&&n.set(a,t[a]);this.children.add(n)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class CB extends St{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var T1=h(9819),AB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(T1.A,AB),T1.A.locals;const r_="screen-center",M1="editor-center",NB="editor-top-side",EB="editor-top-center",SB="editor-bottom-center",jB="editor-above-center",DB="editor-below-center",I1=vo("px"),O1=class extends function(r){return class extends r{constructor(...e){super(...e),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(y.document,"mouseup",this._onDragEndBound),this.listenTo(y.document,"touchend",this._onDragEndBound),this.listenTo(y.document,"mousemove",this._onDragBound),this.listenTo(y.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(y.document,"mouseup",this._onDragEndBound),this.stopListening(y.document,"touchend",this._onDragEndBound),this.stopListening(y.document,"mousemove",this._onDragBound),this.stopListening(y.document,"touchmove",this._onDragBound)}_onDragStart(e,t){if(!this._isHandleElementPressed(t))return;this._attachDragListeners();let n=0,a=0;t instanceof MouseEvent?(n=t.clientX,a=t.clientY):(n=t.touches[0].clientX,a=t.touches[0].clientY),this._lastDraggingCoordinates={x:n,y:a},this.isDragging=!0}_onDrag(e,t){if(!this.isDragging)return void this._detachDragListeners();let n=0,a=0;t instanceof MouseEvent?(n=t.clientX,a=t.clientY):(n=t.touches[0].clientX,a=t.touches[0].clientY),t.preventDefault(),this.fire("drag",{deltaX:Math.round(n-this._lastDraggingCoordinates.x),deltaY:Math.round(a-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:n,y:a}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(e){return!!this.dragHandleElement&&(this.dragHandleElement===e.target||e.target instanceof HTMLElement&&this.dragHandleElement.contains(e.target))}}}(St){constructor(r,{getCurrentDomRoot:e,getViewportOffset:t}){super(r),this.wasMoved=!1;const n=this.bindTemplate,a=r.t;this.set("className",""),this.set("ariaLabel",a("Editor dialog")),this.set("isModal",!1),this.set("position",r_),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=e,this._getViewportOffset=t,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new mr,this.focusTracker=new hr,this._focusables=new zo,this._focusCycler=new Tl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",n.if("isModal","ck-dialog-overlay__transparent",u=>!u),n.if("_isVisible","ck-hidden",u=>!u)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",n.to("className")],role:"dialog","aria-label":n.to("ariaLabel"),style:{top:n.to("_top",u=>I1(u)),left:n.to("_left",u=>I1(u)),visibility:n.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(r,e)=>{this.fire("close",{source:"escKeyPress"}),e()}),this.on("drag",(r,{deltaX:e,deltaY:t})=>{this.wasMoved=!0,this.moveBy(e,t)}),this.listenTo(y.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(y.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(r,e,t)=>{t&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:r,title:e,hasCloseButton:t=!0,content:n,actionButtons:a}){e&&(this.headerView=new wB(this.locale,{icon:r}),t&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=e,this.ariaLabel=e,this.parts.add(this.headerView,0)),n&&(n instanceof St&&(n=[n]),this.contentView=new CB(this.locale),this.contentView.children.addMany(n),this.parts.add(this.contentView)),a&&(this.actionsView=new xB(this.locale),this.actionsView.setButtons(a),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(r,e){const t=this._getViewportRect(),n=this._getDialogRect();r+n.width>t.right&&(r=t.right-n.width),r<t.left&&(r=t.left),e<t.top&&(e=t.top),this._moveTo(r,e)}_moveTo(r,e){this._left=r,this._top=e}moveBy(r,e){this.moveTo(this._left+r,this._top+e)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const r=this._getViewportRect();let e,t=this.position;this._getCurrentDomRoot()?e=this._getVisibleDomRootRect(r):t=r_;const n=O1.defaultOffset,a=this._getDialogRect();switch(t){case NB:if(e){const u=this.locale.contentLanguageDirection==="ltr"?e.right-a.width-n:e.left+n;this.moveTo(u,e.top+n)}else this._moveOffScreen();break;case M1:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),Math.round(e.top+e.height/2-a.height/2)):this._moveOffScreen();break;case r_:this.moveTo(Math.round((r.width-a.width)/2),Math.round((r.height-a.height)/2));break;case EB:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),e.top+n):this._moveOffScreen();break;case SB:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),e.bottom-a.height-n):this._moveOffScreen();break;case jB:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),e.top-a.height-n):this._moveOffScreen();break;case DB:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),e.bottom+n):this._moveOffScreen()}}_getVisibleDomRootRect(r){let e=new pn(this._getCurrentDomRoot()).getVisible();return e?(e=r.getIntersection(e),e||null):null}_getDialogRect(){return new pn(this.element.firstElementChild)}_getViewportRect(){return function(r){r=Object.assign({top:0,bottom:0,left:0,right:0},r);const e=new pn(y.window);return e.top+=r.top,e.height-=r.top,e.bottom-=r.bottom,e.height-=r.bottom,e.left+=r.left,e.right-=r.right,e.width-=r.left+r.right,e}(this._getViewportOffset())}_updateFocusCyclableItems(){const r=[];if(this.contentView)for(const e of this.contentView.children)Ng(e)&&r.push(e);this.actionsView&&r.push(this.actionsView),this.closeButtonView&&r.push(this.closeButtonView),r.forEach(e=>{var t;this._focusables.add(e),this.focusTracker.add(e.element),Ng(t=e)&&"focusCycler"in t&&t.focusCycler instanceof Tl&&(this.listenTo(e.focusCycler,"forwardCycle",n=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&n.stop()}),this.listenTo(e.focusCycler,"backwardCycle",n=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&n.stop()}))})}_createCloseButton(){const r=new R(this.locale),e=this.locale.t;return r.set({label:e("Close"),tooltip:!0,icon:In.cancel}),r.on("execute",()=>this.fire("close",{source:"closeButton"})),r}};let s_=O1;s_.defaultOffset=15;class iu extends at{constructor(e){super(e);const t=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:t("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",(e,t)=>{this._show(t)}),this.on("show",(e,t)=>{t.onShow&&t.onShow(this)},{priority:"low"}),this.on("hide",()=>{iu._visibleDialogPlugin&&iu._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(t,n)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),n())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const t=e.document.differ.getChangedRoots();for(const n of t)n.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:t,title:n,hasCloseButton:a=!0,content:u,actionButtons:f,className:b,isModal:w,position:A,onHide:E}){const O=this.editor;this.view=new s_(O.locale,{getCurrentDomRoot:()=>O.editing.view.getDomRoot(O.model.document.selection.anchor.root.rootName),getViewportOffset:()=>O.ui.viewportOffset});const z=this.view;z.on("close",()=>{this.hide()}),O.ui.view.body.add(z),O.ui.focusTracker.add(z.element),O.keystrokes.listenTo(z.element),A||(A=w?r_:M1),z.set({position:A,_isVisible:!0,className:b,isModal:w}),z.setupParts({icon:t,title:n,hasCloseButton:a,content:u,actionButtons:f}),this.id=e,E&&(this._onHide=E),this.isOpen=!0,iu._visibleDialogPlugin=this}hide(){iu._visibleDialogPlugin&&iu._visibleDialogPlugin.fire(`hide:${iu._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,t=this.view;t.contentView&&t.contentView.reset(),e.ui.view.body.remove(t),e.ui.focusTracker.remove(t.element),e.keystrokes.stopListening(t.element),t.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,iu._visibleDialogPlugin=null}}var L1=h(3710),TB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(L1.A,TB),L1.A.locals;var MB=Object.defineProperty,B1=Object.getOwnPropertySymbols,IB=Object.prototype.hasOwnProperty,OB=Object.prototype.propertyIsEnumerable,P1=(r,e,t)=>e in r?MB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ei=(r,e)=>{for(var t in e||(e={}))IB.call(e,t)&&P1(r,t,e[t]);if(B1)for(var t of B1(e))OB.call(e,t)&&P1(r,t,e[t]);return r};const R1=vo("px"),z1=y.document.body,LB={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},Jw=class extends St{constructor(r){super(r);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",t=>`ck-balloon-panel_${t}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",R1),left:e.to("left",R1)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(r){this.show();const e=Jw.defaultPositions,t=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:z1,fitInViewport:!0},r),n=Jw._getOptimalPosition(t)||LB,a=parseInt(n.left),u=parseInt(n.top),f=n.name,b=n.config||{},{withArrow:w=!0}=b;this.top=u,this.left=a,this.position=f,this.withArrow=w}pin(r){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(r):this._stopPinning()},this._startPinning(r),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(r){this.attachTo(r);const e=ey(r.target),t=r.limiter?ey(r.limiter):z1;this.listenTo(y.document,"scroll",(n,a)=>{const u=a.target,f=e&&u.contains(e),b=t&&u.contains(t);!f&&!b&&e&&t||this.attachTo(r)},{useCapture:!0}),this.listenTo(y.window,"resize",()=>{this.attachTo(r)})}_stopPinning(){this.stopListening(y.document,"scroll"),this.stopListening(y.window,"resize")}};let Ma=Jw;function ey(r){return Ss(r)?r:Lo(r)?r.commonAncestorContainer:typeof r=="function"?ey(r()):null}function F1(r={}){const{sideOffset:e=Ma.arrowSideOffset,heightOffset:t=Ma.arrowHeightOffset,stickyVerticalOffset:n=Ma.stickyVerticalOffset,config:a}=r;return{northWestArrowSouthWest:(b,w)=>Ei({top:u(b,w),left:b.left-e,name:"arrow_sw"},a&&{config:a}),northWestArrowSouthMiddleWest:(b,w)=>Ei({top:u(b,w),left:b.left-.25*w.width-e,name:"arrow_smw"},a&&{config:a}),northWestArrowSouth:(b,w)=>Ei({top:u(b,w),left:b.left-w.width/2,name:"arrow_s"},a&&{config:a}),northWestArrowSouthMiddleEast:(b,w)=>Ei({top:u(b,w),left:b.left-.75*w.width+e,name:"arrow_sme"},a&&{config:a}),northWestArrowSouthEast:(b,w)=>Ei({top:u(b,w),left:b.left-w.width+e,name:"arrow_se"},a&&{config:a}),northArrowSouthWest:(b,w)=>Ei({top:u(b,w),left:b.left+b.width/2-e,name:"arrow_sw"},a&&{config:a}),northArrowSouthMiddleWest:(b,w)=>Ei({top:u(b,w),left:b.left+b.width/2-.25*w.width-e,name:"arrow_smw"},a&&{config:a}),northArrowSouth:(b,w)=>Ei({top:u(b,w),left:b.left+b.width/2-w.width/2,name:"arrow_s"},a&&{config:a}),northArrowSouthMiddleEast:(b,w)=>Ei({top:u(b,w),left:b.left+b.width/2-.75*w.width+e,name:"arrow_sme"},a&&{config:a}),northArrowSouthEast:(b,w)=>Ei({top:u(b,w),left:b.left+b.width/2-w.width+e,name:"arrow_se"},a&&{config:a}),northEastArrowSouthWest:(b,w)=>Ei({top:u(b,w),left:b.right-e,name:"arrow_sw"},a&&{config:a}),northEastArrowSouthMiddleWest:(b,w)=>Ei({top:u(b,w),left:b.right-.25*w.width-e,name:"arrow_smw"},a&&{config:a}),northEastArrowSouth:(b,w)=>Ei({top:u(b,w),left:b.right-w.width/2,name:"arrow_s"},a&&{config:a}),northEastArrowSouthMiddleEast:(b,w)=>Ei({top:u(b,w),left:b.right-.75*w.width+e,name:"arrow_sme"},a&&{config:a}),northEastArrowSouthEast:(b,w)=>Ei({top:u(b,w),left:b.right-w.width+e,name:"arrow_se"},a&&{config:a}),southWestArrowNorthWest:b=>Ei({top:f(b),left:b.left-e,name:"arrow_nw"},a&&{config:a}),southWestArrowNorthMiddleWest:(b,w)=>Ei({top:f(b),left:b.left-.25*w.width-e,name:"arrow_nmw"},a&&{config:a}),southWestArrowNorth:(b,w)=>Ei({top:f(b),left:b.left-w.width/2,name:"arrow_n"},a&&{config:a}),southWestArrowNorthMiddleEast:(b,w)=>Ei({top:f(b),left:b.left-.75*w.width+e,name:"arrow_nme"},a&&{config:a}),southWestArrowNorthEast:(b,w)=>Ei({top:f(b),left:b.left-w.width+e,name:"arrow_ne"},a&&{config:a}),southArrowNorthWest:b=>Ei({top:f(b),left:b.left+b.width/2-e,name:"arrow_nw"},a&&{config:a}),southArrowNorthMiddleWest:(b,w)=>Ei({top:f(b),left:b.left+b.width/2-.25*w.width-e,name:"arrow_nmw"},a&&{config:a}),southArrowNorth:(b,w)=>Ei({top:f(b),left:b.left+b.width/2-w.width/2,name:"arrow_n"},a&&{config:a}),southArrowNorthMiddleEast:(b,w)=>Ei({top:f(b),left:b.left+b.width/2-.75*w.width+e,name:"arrow_nme"},a&&{config:a}),southArrowNorthEast:(b,w)=>Ei({top:f(b),left:b.left+b.width/2-w.width+e,name:"arrow_ne"},a&&{config:a}),southEastArrowNorthWest:b=>Ei({top:f(b),left:b.right-e,name:"arrow_nw"},a&&{config:a}),southEastArrowNorthMiddleWest:(b,w)=>Ei({top:f(b),left:b.right-.25*w.width-e,name:"arrow_nmw"},a&&{config:a}),southEastArrowNorth:(b,w)=>Ei({top:f(b),left:b.right-w.width/2,name:"arrow_n"},a&&{config:a}),southEastArrowNorthMiddleEast:(b,w)=>Ei({top:f(b),left:b.right-.75*w.width+e,name:"arrow_nme"},a&&{config:a}),southEastArrowNorthEast:(b,w)=>Ei({top:f(b),left:b.right-w.width+e,name:"arrow_ne"},a&&{config:a}),westArrowEast:(b,w)=>Ei({top:b.top+b.height/2-w.height/2,left:b.left-w.width-t,name:"arrow_e"},a&&{config:a}),eastArrowWest:(b,w)=>Ei({top:b.top+b.height/2-w.height/2,left:b.right+t,name:"arrow_w"},a&&{config:a}),viewportStickyNorth:(b,w,A,E)=>{const O=E||A;return b.getIntersection(O)?O.height-b.height>n?null:{top:O.top+n,left:b.left+b.width/2-w.width/2,name:"arrowless",config:Ei({withArrow:!1},a)}:null}};function u(b,w){return b.top-w.height-t}function f(b){return b.bottom+t}}Ma.arrowSideOffset=25,Ma.arrowHeightOffset=10,Ma.stickyVerticalOffset=20,Ma._getOptimalPosition=Ds,Ma.defaultPositions=F1();var V1=h(9205),BB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(V1.A,BB),V1.A.locals;const H1="ck-tooltip",Ia=class extends Js(){constructor(r){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,Ia._editors.add(r),Ia._instance)return Ia._instance;Ia._instance=this,this.tooltipTextView=new St(r.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Ma(r.locale),this.balloonPanelView.class=H1,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(e){const t=new MutationObserver(()=>{e()});return{attach(n){t.observe(n,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){t.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=oc(this._pinTooltip,600),this._unpinTooltipDebounced=oc(this._unpinTooltip,400),this.listenTo(y.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(y.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(y.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(y.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(y.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(y.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(r){const e=r.ui.view&&r.ui.view.body;Ia._editors.delete(r),this.stopListening(r.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),Ia._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Ia._instance=null)}static getPositioningFunctions(r){const e=Ia.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[r]}_onKeyDown(r,e){e.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),e.stopPropagation())}_onEnterOrFocus(r,{target:e}){const t=ty(e);t?t!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(t,U1(t))):r.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(r,{target:e,relatedTarget:t}){if(r.name==="mouseleave"){if(!Ss(e))return;const n=this.balloonPanelView.element,a=n&&(n===t||n.contains(t)),u=!a&&e===n;if(a)return void this._unpinTooltipDebounced.cancel();if(!u&&this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const f=ty(e),b=ty(t);(u||f&&f!==b)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(r,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(r,{text:e,position:t,cssClass:n}){this._unpinTooltip();const a=qn(Ia._editors.values()).ui.view.body;a.has(this.balloonPanelView)||a.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:r,positions:Ia.getPositioningFunctions(t)}),this._resizeObserver=new _o(r,()=>{dr(r)||this._unpinTooltip()}),this._mutationObserver.attach(r),this.balloonPanelView.class=[H1,n].filter(u=>u).join(" ");for(const u of Ia._editors)this.listenTo(u.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=r,this._currentTooltipPosition=t}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const r of Ia._editors)this.stopListening(r.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const r=U1(this._currentElementWithTooltip);dr(this._currentElementWithTooltip)&&r.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Ia.getPositioningFunctions(r.position)}):this._unpinTooltip()}};let o_=Ia;function ty(r){return Ss(r)?r.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function U1(r){return{text:r.dataset.ckeTooltipText,position:r.dataset.ckeTooltipPosition||"s",cssClass:r.dataset.ckeTooltipClass||""}}o_.defaultBalloonPositions=F1({heightOffset:5,sideOffset:13}),o_._editors=new Set,o_._instance=null;const a_=function(r,e,t){var n=!0,a=!0;if(typeof r!="function")throw new TypeError("Expected a function");return te(t)&&(n="leading"in t?!!t.leading:n,a="trailing"in t?!!t.trailing:a),oc(r,e,{leading:n,maxWait:e,trailing:a})};var PB=Object.defineProperty,$1=Object.getOwnPropertySymbols,RB=Object.prototype.hasOwnProperty,zB=Object.prototype.propertyIsEnumerable,q1=(r,e,t)=>e in r?PB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,FB=(r,e)=>{for(var t in e||(e={}))RB.call(e,t)&&q1(r,t,e[t]);if($1)for(var t of $1(e))zB.call(e,t)&&q1(r,t,e[t]);return r};const VB=50,HB=350,UB="Powered by";class $B extends Js(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=a_(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||function(t){function n(U){return U.length>=40&&U.length<=255?"VALID":"INVALID"}if(!t)return"INVALID";let a="";try{a=atob(t)}catch{return"INVALID"}const u=a.split("-"),f=u[0],b=u[1];if(!b)return n(t);try{atob(b)}catch{try{if(atob(f),!atob(f).length)return n(t)}catch{return n(t)}}if(f.length<40||f.length>255)return"INVALID";let w="";try{atob(f),w=atob(b)}catch{return"INVALID"}if(w.length!==8)return"INVALID";const A=Number(w.substring(0,4)),E=Number(w.substring(4,6))-1,O=Number(w.substring(6,8)),z=new Date(A,E,O);return z<je||isNaN(Number(z))?"INVALID":"VALID"}(e.config.get("licenseKey"))!=="VALID")&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(t,n,a)=>{this._updateLastFocusedEditableElement(),a?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(t,n,a)=>{this._updateLastFocusedEditableElement(),a&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,t=this._balloonView=new Ma,n=Y1(e),a=new qB(e.locale,n.label);t.content.add(a),t.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(t),e.ui.focusTracker.add(t.element),this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(t,n){const a=Y1(t),u=a.side==="right"?function(f,b){return W1(f,b,(w,A)=>w.left+w.width-A.width-b.horizontalOffset)}(n,a):function(f,b){return W1(f,b,w=>w.left+b.horizontalOffset)}(n,a);return{target:n,positions:[u]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,n=e.ui.focusTracker.focusedElement;if(!t||!n)return void(this._lastFocusedEditableElement=null);const a=Array.from(e.ui.getEditableElementsNames()).map(u=>e.ui.getEditableElement(u));a.includes(n)?this._lastFocusedEditableElement=n:this._lastFocusedEditableElement=a[0]}}class qB extends St{constructor(e,t){super(e);const n=new m,a=this.bindTemplate;n.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),n.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],n],on:{dragstart:a.to(u=>u.preventDefault())}}]})}}function W1(r,e,t){return(n,a)=>{const u=new pn(r);if(u.width<HB||u.height<VB)return null;let f;f=e.position==="inside"?u.bottom-a.height:u.bottom-a.height/2,f-=e.verticalOffset;const b=t(u,a),w=n.clone().moveTo(b,f).getIntersection(a.clone().moveTo(b,f)).getVisible();return!w||w.getArea()<a.getArea()?null:{top:f,left:b,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function Y1(r){const e=r.config.get("ui.poweredBy"),t=e&&e.position||"border";return FB({position:t,label:UB,verticalOffset:t==="inside"?5:0,horizontalOffset:5,side:r.locale.contentLanguageDirection==="ltr"?"right":"left"},e)}var G1=h(1801),WB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(G1.A,WB),G1.A.locals;const K1={POLITE:"polite",ASSERTIVE:"assertive"};class YB{constructor(e){this.editor=e,e.once("ready",()=>{for(const t of Object.values(K1))this.announce("",t)})}announce(e,t=K1.POLITE){const n=this.editor;if(!n.ui.view)return;this.view||(this.view=new GB(n.locale),n.ui.view.body.add(this.view));const{politeness:a,isUnsafeHTML:u}=typeof t=="string"?{politeness:t}:t;let f=this.view.regionViews.find(b=>b.politeness===a);f||(f=new KB(n,a),this.view.regionViews.add(f)),f.announce({announcement:e,isUnsafeHTML:u})}}class GB extends St{constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class KB extends St{constructor(e,t){super(e.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":t,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=t,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:t}){if(!e.trim().length)return;const n=document.createElement("li");t?this._domConverter.setContentOf(n,e):n.innerText=e,this._listElement.appendChild(n)}get _listElement(){return this.element.querySelector("ul")}}var QB=Object.defineProperty,Q1=Object.getOwnPropertySymbols,ZB=Object.prototype.hasOwnProperty,XB=Object.prototype.propertyIsEnumerable,Z1=(r,e,t)=>e in r?QB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class JB extends Te(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const t=e.editing.view;this.editor=e,this.componentFactory=new _B(e),this.focusTracker=new hr,this.tooltipManager=new o_(e),this.poweredBy=new $B(e),this.ariaLiveAnnouncer=new YB(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const n=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?n():this.once("ready",n)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const n=e.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let n,a;e.keystrokes.set("Alt+F10",(u,f)=>{const b=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(b)&&!Array.from(t.domRoots.values()).includes(b)&&(n=b);const w=this._getCurrentFocusedToolbarDefinition();w&&a||(a=this._getFocusableCandidateToolbarDefinitions());for(let A=0;A<a.length;A++){const E=a.shift();if(a.push(E),E!==w&&this._focusFocusableCandidateToolbar(E)){w&&w.options.afterBlur&&w.options.afterBlur();break}}f()}),e.keystrokes.set("Esc",(u,f)=>{const b=this._getCurrentFocusedToolbarDefinition();b&&(n?(n.focus(),n=null):e.editing.view.focus(),b.options.afterBlur&&b.options.afterBlur(),f())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:n,options:a}=t;(dr(n.element)||a.beforeFocus)&&e.push(t)}return e.sort((t,n)=>X1(t)-X1(n)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:n}}=e;return n&&n(),!!dr(t.element)&&(t.focus(),!0)}_handleScrollToTheSelection(e,t){const n=((a,u)=>{for(var f in u||(u={}))ZB.call(u,f)&&Z1(a,f,u[f]);if(Q1)for(var f of Q1(u))XB.call(u,f)&&Z1(a,f,u[f]);return a})({top:0,bottom:0,left:0,right:0},this.viewportOffset);t.viewportOffset.top+=n.top,t.viewportOffset.bottom+=n.bottom,t.viewportOffset.left+=n.left,t.viewportOffset.right+=n.right}}function X1(r){const{toolbarView:e,options:t}=r;let n=10;return dr(e.element)&&n--,t.isContextual&&n--,n}var J1=h(1185),eP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(J1.A,eP),J1.A.locals;class tP extends St{constructor(e){super(e),this.body=new Xk(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class nP extends tP{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new If;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}class iP extends St{constructor(e,t,n){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function t(n){e.change(a=>{const u=e.document.getRoot(n.name);a.addClass(n.isFocused?"ck-focused":"ck-blurred",u),a.removeClass(n.isFocused?"ck-blurred":"ck-focused",u)})}e.isRenderingInProgress?function n(a){e.once("change:isRenderingInProgress",(u,f,b)=>{b?n(a):t(a)})}(this):t(this)}}class rP extends iP{constructor(e,t,n,a={}){super(e,t,n);const u=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=a.label||(()=>u("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(t=>{const n=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),n)})}}class ny extends Tr{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}class eN extends Te(){constructor(e,t){super(),t&&lf(this,t),e&&this.set(e)}}var tN=h(991),sP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(tN.A,sP),tN.A.locals;var nN=h(5380),oP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(nN.A,oP),nN.A.locals;const l_=vo("px");class c_ extends at{constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const t=this.editor.editing.view,n=t.document.selection.editableElement;return n?t.domConverter.mapViewToDom(n.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new q("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));const n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new q("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new q("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new Ma(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(t=>t[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new aP(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(n,a)=>!a&&n>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(n,a)=>{if(a<2)return"";const u=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[u,a])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new lP(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,n)=>!n&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:n=!0,singleViewMode:a=!1}){this.view.class=t,this.view.withArrow=n,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),a&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class aP extends St{constructor(e){super(e);const t=e.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new hr,this.buttonPrevView=this._createButtonView(t("Previous"),In.previousArrow),this.buttonNextView=this._createButtonView(t("Next"),In.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",a=>a?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const n=new R(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}class lP extends St{constructor(e,t){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",a=>a?"":"ck-hidden")],style:{top:n.to("top",l_),left:n.to("left",l_),width:n.to("width",l_),height:n.to("height",l_)}},children:this.content}),this.on("change:numberOfPanels",(a,u,f,b)=>{f>b?this._addPanels(f-b):this._removePanels(b-f),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new St;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:n,height:a}=new pn(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:n,height:a})}}}var iN=h(8298),cP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(iN.A,cP),iN.A.locals;const zf=vo("px");class dP extends St{constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new Fo({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",n=>n?"block":"none"),height:t.to("isSticky",n=>n?zf(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new Fo({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",n=>n?zf(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_stickyTopOffset",n=>n&&zf(n)),bottom:t.to("_stickyBottomOffset",n=>n&&zf(n)),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(y.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const e=new pn(this.limiterElement);let t=e.getVisible();if(t){const n=new pn(y.window);n.top+=this.viewportTopOffset,n.height-=this.viewportTopOffset,t=t.getIntersection(n)}if(t&&e.top<t.top){const n=t.top;if(n+this._contentPanelRect.height+this.limiterBottomOffset>t.bottom){const a=Math.max(e.bottom-t.bottom,0)+this.limiterBottomOffset;e.bottom-a>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(a):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(n):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=zf(-y.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=zf(-y.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new pn(this.contentPanelElement)}}class uP extends Ge{constructor(e,t){const n=e.t,a=Object.assign({},{showResetButton:!0,showIcon:!0,creator:i_},t);super(e,a.creator),this.label=t.label,this._viewConfig=a,this._viewConfig.showIcon&&(this.iconView=new m,this.iconView.content=In.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new R(e),this.resetButtonView.set({label:n("Clear"),icon:In.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",u=>!u),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class hP extends St{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",t=>!t)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class mP extends St{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new hr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new Tl({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var rN=/[\\^$.*+?()[\]{}|]/g,fP=RegExp(rN.source);const sN=function(r){return(r=Vc(r))&&fP.test(r)?r.replace(rN,"\\$&"):r};var oN=h(8107),pP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(oN.A,pP),oN.A.locals;var gP=Object.defineProperty,aN=Object.getOwnPropertySymbols,bP=Object.prototype.hasOwnProperty,kP=Object.prototype.propertyIsEnumerable,lN=(r,e,t)=>e in r?gP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class _P extends St{constructor(e,t){super(e),this._config=t,this.filteredView=t.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new hr,this.keystrokes=new mr,this.resultsView=new mP(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),t.infoView&&t.infoView.instance?this.infoView=t.infoView.instance:(this.infoView=new hP,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new Tl({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(n,{resultsCount:a,totalItemsCount:u})=>{this.resultsCount=a,this.totalItemsCount=u}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",t.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=t=>t.stopPropagation();for(const t of this.focusableChildren)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const t=e?new RegExp(sN(e),"ig"):null,n=this.filteredView.filter(t);this.fire("search",((a,u)=>{for(var f in u||(u={}))bP.call(u,f)&&lN(a,f,u[f]);if(aN)for(var f of aN(u))kP.call(u,f)&&lN(a,f,u[f]);return a})({query:e},n))}_createSearchTextQueryView(){const e=new uP(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,t=this.infoView;function n(a,{query:u,resultsCount:f,totalItemsCount:b}){return typeof a=="function"?a(u,f,b):a}this.on("search",(a,u)=>{if(u.resultsCount)t.set({isVisible:!1});else{const f=this._config.infoView&&this._config.infoView.text;let b,w;u.totalItemsCount?f&&f.notFound?(b=f.notFound.primary,w=f.notFound.secondary):(b=e("No results found"),w=""):f&&f.noSearchableItems?(b=f.noSearchableItems.primary,w=f.noSearchableItems.secondary):(b=e("No searchable items"),w=""),t.set({primaryText:n(b,u),secondaryText:n(w,u),isVisible:!0})}})}}var cN=h(5727),vP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(cN.A,vP),cN.A.locals;const iy=class extends _P{constructor(r,e){super(r,e),this._config=e;const t=vo("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const n=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[n.if("isVisible","ck-hidden",a=>!a),n.to("_position",a=>`ck-search__results_${a}`)],style:{width:n.to("_width",t)}}}),this.focusTracker.on("change:isFocused",(a,u,f)=>{this._updateResultsVisibility(),f?this.resultsView.element.scrollTop=0:e.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(a,u)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,u())}),this.listenTo(y.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(a,{value:u})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=u,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new pn(this.queryView.fieldView.element).width;const r=iy._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:iy.defaultResultsPositions});this.resultsView._position=r?r.name:"s"}_updateResultsVisibility(){const r=this._config.queryMinChars===void 0?0:this._config.queryMinChars,e=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&e>=r}};let dN=iy;dN.defaultResultsPositions=[r=>({top:r.bottom,left:r.left,name:"s"}),(r,e)=>({top:r.top-e.height,left:r.left,name:"n"})],dN._getOptimalPosition=Ds;var uN=h(9529),wP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(uN.A,wP),uN.A.locals;var hN=h(109),yP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(hN.A,yP),hN.A.locals;var mN=h(2710),xP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(mN.A,xP),mN.A.locals;var fN=h(3344),CP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(fN.A,CP),fN.A.locals;class AP extends R{constructor(e){super(e);const t=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",n=>String(n)),"data-cke-tooltip-disabled":t.to("isOn")},on:{mouseenter:t.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new m;return e.content=vt,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}var pN=h(9481),NP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(pN.A,NP),pN.A.locals;class ry extends Rf{constructor(e,t){super(e);const n=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:n.to("mouseenter")}}),this.delegate("mouseenter").to(t)}}var EP=Object.defineProperty,gN=Object.getOwnPropertySymbols,SP=Object.prototype.hasOwnProperty,jP=Object.prototype.propertyIsEnumerable,bN=(r,e,t)=>e in r?EP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,kN=(r,e)=>{for(var t in e||(e={}))SP.call(e,t)&&bN(r,t,e[t]);if(gN)for(var t of gN(e))jP.call(e,t)&&bN(r,t,e[t]);return r};const Eg={toggleMenusAndFocusItemsOnHover(r){r.on("menu:mouseenter",e=>{if(r.isOpen){for(const t of r.menus){const n=e.path[0],a=n instanceof ry&&n.children.first===t;t.isOpen=(e.path.includes(t)||a)&&t.isEnabled}e.source.focus()}})},focusCycleMenusOnArrows(r){const e=r.locale.uiLanguageDirection==="rtl";function t(n,a){const u=r.children.getIndex(n),f=n.isOpen,b=r.children.length,w=r.children.get((u+b+a)%b);n.isOpen=!1,f&&(w.isOpen=!0),w.buttonView.focus()}r.on("menu:arrowright",n=>{t(n.source,e?-1:1)}),r.on("menu:arrowleft",n=>{t(n.source,e?1:-1)})},closeMenusWhenTheBarCloses(r){r.on("change:isOpen",()=>{r.isOpen||r.menus.forEach(e=>{e.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(r){r.on("menu:change:isOpen",(e,t,n)=>{n&&r.menus.filter(a=>e.source.parentMenuView===a.parentMenuView&&e.source!==a&&a.isOpen).forEach(a=>{a.isOpen=!1})})},closeOnClickOutside(r){Cn({emitter:r,activator:()=>r.isOpen,callback:()=>r.close(),contextElements:()=>r.children.map(e=>e.element)})}},hm={openAndFocusPanelOnArrowDownKey(r){r.keystrokes.set("arrowdown",(e,t)=>{r.focusTracker.focusedElement===r.buttonView.element&&(r.isOpen||(r.isOpen=!0),r.panelView.focus(),t())})},openOnArrowRightKey(r){const e=r.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";r.keystrokes.set(e,(t,n)=>{r.focusTracker.focusedElement===r.buttonView.element&&r.isEnabled&&(r.isOpen||(r.isOpen=!0),r.panelView.focus(),n())})},openOnButtonClick(r){r.buttonView.on("execute",()=>{r.isOpen=!0,r.panelView.focus()})},toggleOnButtonClick(r){r.buttonView.on("execute",()=>{r.isOpen=!r.isOpen,r.isOpen&&r.panelView.focus()})},closeOnArrowLeftKey(r){const e=r.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";r.keystrokes.set(e,(t,n)=>{r.isOpen&&(r.isOpen=!1,r.focus(),n())})},closeOnEscKey(r){r.keystrokes.set("esc",(e,t)=>{r.isOpen&&(r.isOpen=!1,r.focus(),t())})},closeOnParentClose(r){r.parentMenuView.on("change:isOpen",(e,t,n)=>{n||e.source!==r.parentMenuView||(r.isOpen=!1)})}},DP={southEast:r=>({top:r.bottom,left:r.left,name:"se"}),southWest:(r,e)=>({top:r.bottom,left:r.left-e.width+r.width,name:"sw"}),northEast:(r,e)=>({top:r.top-e.height,left:r.left,name:"ne"}),northWest:(r,e)=>({top:r.top-e.height,left:r.left-e.width+r.width,name:"nw"}),eastSouth:r=>({top:r.top,left:r.right-5,name:"es"}),eastNorth:(r,e)=>({top:r.top-e.height,left:r.right-5,name:"en"}),westSouth:(r,e)=>({top:r.top,left:r.left-e.width+5,name:"ws"}),westNorth:(r,e)=>({top:r.top-e.height,left:r.left-e.width+5,name:"wn"})},TP=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function MP({normalizedConfig:r,locale:e,componentFactory:t}){const n=da(r);return function(a,u){const f=u.removeItems,b=[];u.items=u.items.filter(({menuId:w})=>!f.includes(w)||(b.push(w),!1)),Ff(u.items,w=>{w.groups=w.groups.filter(({groupId:A})=>!f.includes(A)||(b.push(A),!1));for(const A of w.groups)A.items=A.items.filter(E=>{const O=wN(E);return!f.includes(O)||(b.push(O),!1)})});for(const w of f)b.includes(w)||ue("menu-bar-item-could-not-be-removed",{menuBarConfig:a,itemName:w})}(r,n),function(a,u){const f=u.addItems,b=[];for(const w of f){const A=LP(w.position),E=BP(w.position);if(IP(w))if(E){const O=u.items.findIndex(z=>z.menuId===E);O!=-1?A==="before"?(u.items.splice(O,0,w.menu),b.push(w)):A==="after"&&(u.items.splice(O+1,0,w.menu),b.push(w)):_N(u,w.menu,E,A)&&b.push(w)}else A==="start"?(u.items.unshift(w.menu),b.push(w)):A==="end"&&(u.items.push(w.menu),b.push(w));else OP(w)?Ff(u.items,O=>{if(O.menuId===E)A==="start"?(O.groups.unshift(w.group),b.push(w)):A==="end"&&(O.groups.push(w.group),b.push(w));else{const z=O.groups.findIndex(U=>U.groupId===E);z!==-1&&(A==="before"?(O.groups.splice(z,0,w.group),b.push(w)):A==="after"&&(O.groups.splice(z+1,0,w.group),b.push(w)))}}):_N(u,w.item,E,A)&&b.push(w)}for(const w of f)b.includes(w)||ue("menu-bar-item-could-not-be-added",{menuBarConfig:a,addedItemConfig:w})}(r,n),function(a,u,f){Ff(u.items,b=>{for(const w of b.groups)w.items=w.items.filter(A=>{const E=typeof A=="string"&&!f.has(A);return E&&!u.isUsingDefaultConfig&&ue("menu-bar-item-unavailable",{menuBarConfig:a,parentMenuConfig:da(b),componentName:A}),!E})})}(r,n,t),vN(r,n),function(a,u){const f=u.t,b={File:f({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:f({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:f({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:f({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:f({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:f({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:f({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:f({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:f({string:"Font",id:"MENU_BAR_MENU_FONT"})};Ff(a.items,w=>{w.label in b&&(w.label=b[w.label])})}(n,e),n}function _N(r,e,t,n){let a=!1;return Ff(r.items,u=>{for(const{groupId:f,items:b}of u.groups){if(a)return;if(f===t)n==="start"?(b.unshift(e),a=!0):n==="end"&&(b.push(e),a=!0);else{const w=b.findIndex(A=>wN(A)===t);w!==-1&&(n==="before"?(b.splice(w,0,e),a=!0):n==="after"&&(b.splice(w+1,0,e),a=!0))}}}),a}function vN(r,e){const t=e.isUsingDefaultConfig;let n=!1;e.items=e.items.filter(a=>!!a.groups.length||(sy(r,a,t),!1)),e.items.length?(Ff(e.items,a=>{a.groups=a.groups.filter(u=>!!u.items.length||(n=!0,!1));for(const u of a.groups)u.items=u.items.filter(f=>!(yN(f)&&!f.groups.length)||(sy(r,f,t),n=!0,!1))}),n&&vN(r,e)):sy(r,r,t)}function sy(r,e,t){t||ue("menu-bar-menu-empty",{menuBarConfig:r,emptyMenuConfig:e})}function Ff(r,e){if(Array.isArray(r))for(const n of r)t(n);function t(n){e(n);for(const a of n.groups)for(const u of a.items)yN(u)&&t(u)}}function IP(r){return typeof r=="object"&&"menu"in r}function OP(r){return typeof r=="object"&&"group"in r}function LP(r){return r.startsWith("start")?"start":r.startsWith("end")?"end":r.startsWith("after")?"after":"before"}function BP(r){const e=r.match(/^[^:]+:(.+)/);return e?e[1]:null}function wN(r){return typeof r=="string"?r:r.menuId}function yN(r){return typeof r=="object"&&"menuId"in r}function PP(r,e){const t=e.element;r.ui.focusTracker.add(t),r.keystrokes.listenTo(t);const n=function(a){let u;return u="items"in a&&a.items?kN({items:a.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1},a):kN({items:da(TP),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0},a),u}(r.config.get("menuBar")||{});e.fillFromConfig(n,r.ui.componentFactory),r.keystrokes.set("Esc",(a,u)=>{t.contains(r.ui.focusTracker.focusedElement)&&(r.editing.view.focus(),u())}),r.keystrokes.set("Alt+F9",(a,u)=>{t.contains(r.ui.focusTracker.focusedElement)||(e.focus(),u())})}var xN=h(9108),RP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(xN.A,RP),xN.A.locals;class zP extends St{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",t.to("position",n=>`ck-menu-bar__menu__panel_position_${n}`),t.if("isVisible","ck-hidden",n=>!n)],tabindex:"-1"},children:this.children,on:{selectstart:t.to(n=>{n.target.tagName.toLocaleLowerCase()!=="input"&&n.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}var CN=h(4),FP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(CN.A,FP),CN.A.locals;const AN=class extends St{constructor(r){super(r);const e=this.bindTemplate;this.buttonView=new AP(r),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new zP(r),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new mr,this.focusTracker=new hr,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",e.to("class"),e.if("isEnabled","ck-disabled",t=>!t),e.if("parentMenuView","ck-menu-bar__menu_top-level",t=>!t)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),hm.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(hm.openOnButtonClick(this),hm.openOnArrowRightKey(this),hm.closeOnArrowLeftKey(this),hm.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),hm.openAndFocusPanelOnArrowDownKey(this),hm.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(r,e)=>{this.fire("arrowright"),e()}),this.keystrokes.set("arrowleft",(r,e)=>{this.fire("arrowleft"),e()})}_repositionPanelOnOpen(){this.on("change:isOpen",(r,e,t)=>{if(!t)return;const n=AN._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=n?n.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:r,southWest:e,northEast:t,northWest:n,westSouth:a,eastSouth:u,westNorth:f,eastNorth:b}=DP;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[u,b,a,f]:[r,e,t,n]:this.parentMenuView?[a,f,u,b]:[e,r,n,t]}};let Vf=AN;Vf._getOptimalPosition=Ds;class oy extends Qw{constructor(e){super(e),this.role="menu"}}var NN=h(977),VP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(NN.A,VP),NN.A.locals;class al extends R{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class EN extends Xe{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var SN=h(497),HP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(SN.A,HP),SN.A.locals;const jN=["mouseenter","arrowleft","arrowright","change:isOpen"];class UP extends St{constructor(e){super(e),this.menus=[];const t=e.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":t("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,t){const n=MP({normalizedConfig:e,locale:this.locale,componentFactory:t}).items.map(a=>this._createMenu({componentFactory:t,menuDefinition:a}));this.children.addMany(n)}render(){super.render(),Eg.toggleMenusAndFocusItemsOnHover(this),Eg.closeMenusWhenTheBarCloses(this),Eg.closeMenuWhenAnotherOnTheSameLevelOpens(this),Eg.focusCycleMenusOnArrows(this),Eg.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e,t=null){t?(e.delegate(...jN).to(t),e.parentMenuView=t):e.delegate(...jN).to(this,n=>"menu:"+n),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:t,parentMenuView:n}){const a=this.locale,u=new Vf(a);return this.registerMenu(u,n),u.buttonView.set({label:t.label}),u.once("change:isOpen",()=>{const f=new oy(a);f.ariaLabel=t.label,u.panelView.children.add(f),f.items.addMany(this._createMenuItems({menuDefinition:t,parentMenuView:u,componentFactory:e}))}),u}_createMenuItems({menuDefinition:e,parentMenuView:t,componentFactory:n}){const a=this.locale,u=[];for(const f of e.groups){for(const b of f.items){const w=new ry(a,t);if(te(b))w.children.add(this._createMenu({componentFactory:n,menuDefinition:b,parentMenuView:t}));else{const A=this._createMenuItemContentFromFactory({componentName:b,componentFactory:n,parentMenuView:t});if(!A)continue;w.children.add(A)}u.push(w)}f!==e.groups[e.groups.length-1]&&u.push(new Kw(a))}return u}_createMenuItemContentFromFactory({componentName:e,parentMenuView:t,componentFactory:n}){const a=n.create(e);return a instanceof Vf||a instanceof al||a instanceof EN?(this._registerMenuTree(a,t),a.on("execute",()=>{this.close()}),a):(ue("menu-bar-component-unsupported",{componentName:e,componentView:a}),null)}_registerMenuTree(e,t){if(!(e instanceof Vf))return void e.delegate("mouseenter").to(t);this.registerMenu(e,t);const n=e.panelView.children.filter(u=>u instanceof oy)[0];if(!n)return void e.delegate("mouseenter").to(t);const a=n.items.filter(u=>u instanceof Rf);for(const u of a)this._registerMenuTree(u.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(t,n,a)=>{clearTimeout(e),a?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(u=>u.isOpen)},0)})}}class $P extends JB{constructor(e,t){super(e),this.view=t,this._toolbarConfig=g1(e.config.get("toolbar")),this._elementReplacer=new ot,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const t=this.editor,n=this.view,a=t.editing.view,u=n.editable,f=a.document.getRoot();u.name=f.rootName,n.render();const b=u.element;this.setEditableElement(u.name,b),n.editable.bind("isFocused").to(this.focusTracker),a.attachDomRoot(b),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),n.menuBarView&&PP(t,n.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:t})=>t||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,n=t.document.getRoot(),a=e.sourceElement;let u;const f=e.config.get("placeholder");f&&(u=typeof f=="string"?f:f[this.view.editable.name]),!u&&a&&a.tagName.toLowerCase()==="textarea"&&(u=a.getAttribute("placeholder")),u&&(n.placeholder=u),wr({view:t,element:n,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,t,n){const a=this.view.stickyPanel;if(a.isSticky){const u=new pn(a.element).height;t.viewportOffset.top+=u}else{const u=()=>{this.editor.editing.view.scrollToTheSelection(n)};this.listenTo(a,"change:isSticky",u),setTimeout(()=>{this.stopListening(a,"change:isSticky",u)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,t=this.editor.plugins.get("Dialog");t.on("show",()=>{const n=t.view;n.on("moveTo",(a,u)=>{if(!e.isSticky||n.wasMoved)return;const f=new pn(e.contentPanelElement);u[1]<f.bottom+s_.defaultOffset&&(u[1]=f.bottom+s_.defaultOffset)},{priority:"high"})},{priority:"low"})}}var DN=h(7388),qP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(DN.A,qP),DN.A.locals;class WP extends nP{constructor(e,t,n={}){super(e),this.stickyPanel=new dP(e),this.toolbar=new Gw(e,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),n.useMenuBar&&(this.menuBarView=new UP(e)),this.editable=new rP(e,t)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class TN{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const n="error"in t?t.error:t.reason;n instanceof Error&&this._handleError(n,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(n=>n!==t)}_fire(e,...t){const n=this._listeners[e]||[];for(const a of n)a.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function ay(r,e=new Set){const t=[r],n=new Set;let a=0;for(;t.length>a;){const u=t[a++];if(!n.has(u)&&YP(u)&&!e.has(u))if(n.add(u),Symbol.iterator in u)try{for(const f of u)t.push(f)}catch{}else for(const f in u)f!=="defaultValue"&&t.push(u[f])}return n}function YP(r){const e=Object.prototype.toString.call(r),t=typeof r;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||r==null||r._watchdogExcluded||r instanceof EventTarget||r instanceof Event)}function MN(r,e,t=new Set){if(r===e&&typeof(n=r)=="object"&&n!==null)return!0;var n;const a=ay(r,t),u=ay(e,t);for(const f of a)if(u.has(f))return!0;return!1}var GP=Object.defineProperty,KP=Object.defineProperties,QP=Object.getOwnPropertyDescriptors,d_=Object.getOwnPropertySymbols,IN=Object.prototype.hasOwnProperty,ON=Object.prototype.propertyIsEnumerable,LN=(r,e,t)=>e in r?GP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ly=(r,e)=>{for(var t in e||(e={}))IN.call(e,t)&&LN(r,t,e[t]);if(d_)for(var t of d_(e))ON.call(e,t)&&LN(r,t,e[t]);return r};class BN extends TN{constructor(e,t={}){super(t),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=a_(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(n,a)=>e.create(n,a)),this._destructor=n=>n.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},t=[],n=this._config.rootsAttributes||{},a={};for(const[w,A]of Object.entries(this._data.roots))A.isLoaded?(e[w]="",a[w]=n[w]||{}):t.push(w);const u=(f=ly({},this._config),b={extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:a,_watchdogInitialData:this._data},KP(f,QP(b)));var f,b;return delete u.initialData,u.extraPlugins.push(ZP),this._initUsingData?this.create(e,u,u.context):Ss(this._elementOrData)?this.create(this._elementOrData,u,u.context):this.create(this._editables,u,u.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,n){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(t)||{},this._config.context=n,this._creator(e,this._config))).then(a=>{this._editor=a,a.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=a.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter(b=>b.isAttached()&&b.rootName!="$graveyard"),{plugins:n}=e,a=n.has("CommentsRepository")&&n.get("CommentsRepository"),u=n.has("TrackChanges")&&n.get("TrackChanges"),f={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach(b=>{f.roots[b.rootName]={content:JSON.stringify(Array.from(b.getChildren())),attributes:JSON.stringify(Array.from(b.getAttributes())),isLoaded:b._isLoaded}});for(const b of e.model.markers)b._affectsData&&(f.markers[b.name]={rangeJSON:b.getRange().toJSON(),usingOperation:b._managedUsingOperations,affectsData:b._affectsData});return a&&(f.commentThreads=JSON.stringify(a.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),u&&(f.suggestions=JSON.stringify(u.getSuggestions({toJSON:!0,skipNotAttached:!0}))),f}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const n=this.editor.ui.getEditableElement(t);n&&(e[t]=n)}return e}_isErrorComingFromThisItem(e){return MN(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Es(e,(t,n)=>Ss(t)||n==="context"?t:void 0)}}class ZP{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},t=>{this._restoreCollaborationData(),this._restoreEditorData(t)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,t){if("name"in t){const n=e.createElement(t.name,t.attributes);if(t.children)for(const a of t.children)n._appendChild(this._createNode(e,a));return n}return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach(([n,{content:a,attributes:u}])=>{const f=JSON.parse(a),b=JSON.parse(u),w=t.model.document.getRoot(n);for(const[A,E]of b)e.setAttribute(A,E,w);for(const A of f){const E=this._createNode(e,A);e.insert(E,w,"end")}}),Object.entries(this._data.markers).forEach(([n,a])=>{const{document:u}=t.model,f=a,{rangeJSON:{start:b,end:w}}=f,A=((W,X)=>{var ae={};for(var ge in W)IN.call(W,ge)&&X.indexOf(ge)<0&&(ae[ge]=W[ge]);if(W!=null&&d_)for(var ge of d_(W))X.indexOf(ge)<0&&ON.call(W,ge)&&(ae[ge]=W[ge]);return ae})(f,["rangeJSON"]),E=u.getRoot(b.root),O=e.createPositionFromPath(E,b.path,b.stickiness),z=e.createPositionFromPath(E,w.path,w.stickiness),U=e.createRange(O,z);e.addMarker(n,ly({range:U},A))})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);e.forEach(n=>{const a=this.editor.config.get("collaboration.channelId"),u=this.editor.plugins.get("CommentsRepository");u.hasCommentThread(n.threadId)&&u.getCommentThread(n.threadId).remove(),u.addCommentThread(ly({channelId:a},n))}),t.forEach(n=>{const a=this.editor.plugins.get("TrackChangesEditing");a.hasSuggestion(n.id)?a.getSuggestion(n.id).attributes=n.attributes:a.addSuggestionData(n)})}}const Sg=Symbol("MainQueueId");class XP{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const n=e===Sg;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const a=(n?Promise.all(this._queues.values()):Promise.all([this._queues.get(Sg),this._queues.get(e)])).then(t),u=a.catch(()=>{});return this._queues.set(e,u),a.finally(()=>{this._activeActions--,this._queues.get(e)===u&&this._activeActions===0&&this._onEmptyCallbacks.forEach(f=>f())})}}function PN(r){return Array.isArray(r)?r:[r]}class u_ extends tu(Kk){constructor(e,t={}){if(!h_(e)&&t.initialData!==void 0)throw new q("editor-create-initial-data",null);super(t),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",function(f){return h_(f)?(b=f,b instanceof HTMLTextAreaElement?b.value:b.innerHTML):f;var b}(e)),h_(e)&&(this.sourceElement=e),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),a=this.config.get("menuBar"),u=new WP(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n,useMenuBar:a.isVisible});this.ui=new $P(this,u),function(f){if(!fn(f.updateSourceElement))throw new q("attachtoform-missing-elementapi-interface",f);const b=f.sourceElement;if(function(w){return!!w&&w.tagName.toLowerCase()==="textarea"}(b)&&b.form){let w;const A=b.form,E=()=>f.updateSourceElement();fn(A.submit)&&(w=A.submit,A.submit=()=>{E(),w.apply(A)}),A.addEventListener("submit",E),f.on("destroy",()=>{A.removeEventListener("submit",E),w&&(A.submit=w)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise(n=>{const a=new this(e,t);n(a.initPlugins().then(()=>a.ui.init(h_(e)?e:null)).then(()=>a.data.init(a.config.get("initialData"))).then(()=>a.fire("ready")).then(()=>a))})}}function h_(r){return Ss(r)}u_.Context=Dr,u_.EditorWatchdog=BN,u_.ContextWatchdog=class extends TN{constructor(r,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new XP,this._watchdogConfig=e,this._creator=t=>r.create(t),this._destructor=t=>t.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(r){this._creator=r}setDestructor(r){this._destructor=r}get context(){return this._context}create(r={}){return this._actionQueues.enqueue(Sg,()=>(this._contextConfig=r,this._create()))}getItem(r){return this._getWatchdog(r)._item}getItemState(r){return this._getWatchdog(r).state}add(r){const e=PN(r);return Promise.all(e.map(t=>this._actionQueues.enqueue(t.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let n;if(this._watchdogs.has(t.id))throw new Error(`Item with the given id is already added: '${t.id}'.`);if(t.type==="editor")return n=new BN(null,this._watchdogConfig),n.setCreator(t.creator),n._setExcludedProperties(this._contextProps),t.destructor&&n.setDestructor(t.destructor),this._watchdogs.set(t.id,n),n.on("error",(a,{error:u,causesRestart:f})=>{this._fire("itemError",{itemId:t.id,error:u}),f&&this._actionQueues.enqueue(t.id,()=>new Promise(b=>{const w=()=>{n.off("restart",w),this._fire("itemRestart",{itemId:t.id}),b()};n.on("restart",w)}))}),n.create(t.sourceElementOrData,t.config,this._context);throw new Error(`Not supported item type: '${t.type}'.`)})))}remove(r){const e=PN(r);return Promise.all(e.map(t=>this._actionQueues.enqueue(t,()=>{const n=this._getWatchdog(t);return this._watchdogs.delete(t),n.destroy()})))}destroy(){return this._actionQueues.enqueue(Sg,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Sg,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(r=>{console.error("An error happened during destroying the context or items.",r)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(r=>(this._context=r,this._contextProps=ay(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const r=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(r))})}_getWatchdog(r){const e=this._watchdogs.get(r);if(!e)throw new Error(`Item with the given id was not registered: ${r}.`);return e}_isErrorComingFromThisItem(r){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(r))return!1;return MN(this._context,r.context)}};class jg extends Al{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const t=this.document;function n(a){return(u,f)=>{f.preventDefault();const b=f.dropRange?[f.dropRange]:null,w=new K(t,a);t.fire(w,{dataTransfer:f.dataTransfer,method:u.name,targetRanges:b,target:f.target,domEvent:f.domEvent}),w.stop.called&&f.stopPropagation()}}this.listenTo(t,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",n("dragging"),{priority:"low"})}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,n=e.type=="drop"||e.type=="paste",a={dataTransfer:new yo(t,{cacheFiles:n})};e.type!="drop"&&e.type!="dragover"||(a.dropRange=function(u,f){const b=f.target.ownerDocument,w=f.clientX,A=f.clientY;let E;return b.caretRangeFromPoint&&b.caretRangeFromPoint(w,A)?E=b.caretRangeFromPoint(w,A):f.rangeParent&&(E=b.createRange(),E.setStart(f.rangeParent,f.rangeOffset),E.collapse(!0)),E?u.domConverter.domRangeToView(E):null}(this.view,e)),this.fire(e.type,e,a)}}const RN=["figcaption","li"],zN=["ol","ul"];function FN(r){if(r.is("$text")||r.is("$textProxy"))return r.data;if(r.is("element","img")&&r.hasAttribute("alt"))return r.getAttribute("alt");if(r.is("element","br"))return`
`;let e="",t=null;for(const n of r.getChildren())e+=JP(n,t)+FN(n),t=n;return e}function JP(r,e){return e?r.is("element","li")&&!r.isEmpty&&r.getChild(0).is("containerElement")||zN.includes(r.name)&&zN.includes(e.name)?`

`:r.is("containerElement")||e.is("containerElement")?RN.includes(r.name)||RN.includes(e.name)?`
`:`

`:"":""}const eR=function(r,e){return r&&ur(r,e,Ha)},tR=function(r,e,t,n){var a=t.length,u=a;if(r==null)return!u;for(r=Object(r);a--;){var f=t[a];if(f[2]?f[1]!==r[f[0]]:!(f[0]in r))return!1}for(;++a<u;){var b=(f=t[a])[0],w=r[b],A=f[1];if(f[2]){if(w===void 0&&!(b in r))return!1}else{var E=new Ws,O;if(!(O===void 0?Uu(A,w,3,n,E):O))return!1}}return!0},VN=function(r){return r==r&&!te(r)},nR=function(r){for(var e=Ha(r),t=e.length;t--;){var n=e[t],a=r[n];e[t]=[n,a,VN(a)]}return e},HN=function(r,e){return function(t){return t!=null&&t[r]===e&&(e!==void 0||r in Object(t))}},iR=function(r){var e=nR(r);return e.length==1&&e[0][2]?HN(e[0][0],e[0][1]):function(t){return t===r||tR(t,r,e)}},rR=function(r,e){return r!=null&&e in Object(r)},sR=function(r,e,t){for(var n=-1,a=(e=Hc(e,r)).length,u=!1;++n<a;){var f=Vd(e[n]);if(!(u=r!=null&&t(r,f)))break;r=r[f]}return u||++n!=a?u:!!(a=r==null?0:r.length)&&Do(a)&&Gs(f,a)&&(ii(r)||Ui(r))},oR=function(r,e){return r!=null&&sR(r,e,rR)},aR=function(r,e){return Iu(r)&&VN(e)?HN(Vd(r),e):function(t){var n=Uc(t,r);return n===void 0&&n===e?oR(t,r):Uu(e,n,3)}},lR=function(r){return function(e){return e==null?void 0:e[r]}},cR=function(r){return function(e){return wp(e,r)}},dR=function(r){return Iu(r)?lR(Vd(r)):cR(r)},uR=function(r){return typeof r=="function"?r:r==null?es:typeof r=="object"?ii(r)?aR(r[0],r[1]):iR(r):dR(r)},hR=function(r,e){var t={};return e=uR(e),eR(r,function(n,a,u){xe(t,a,e(n,a,u))}),t};var mR=Object.defineProperty,fR=Object.defineProperties,pR=Object.getOwnPropertyDescriptors,UN=Object.getOwnPropertySymbols,gR=Object.prototype.hasOwnProperty,bR=Object.prototype.propertyIsEnumerable,$N=(r,e,t)=>e in r?mR(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class Dg extends at{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(e,t){this._markersToCopy.set(e,t)}_copySelectedFragmentWithMarkers(e,t,n=a=>a.model.getSelectedContent(a.model.document.selection)){return this.editor.model.change(a=>{const u=a.model.document.selection;a.setSelection(t);const f=this._insertFakeMarkersIntoSelection(a,a.model.document.selection,e),b=n(a),w=this._removeFakeMarkersInsideElement(a,b);for(const[A,E]of Object.entries(f)){w[A]||(w[A]=a.createRangeIn(b));for(const O of E)a.remove(O)}b.markers.clear();for(const[A,E]of Object.entries(w))b.markers.set(A,E);return a.setSelection(u),b})}_pasteMarkersIntoTransformedElement(e,t){const n=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(a=>{const u=this._insertFakeMarkersElements(a,n),f=t(a),b=this._removeFakeMarkersInsideElement(a,f);for(const w of Object.values(u).flat())a.remove(w);for(const[w,A]of Object.entries(b))a.model.markers.has(w)||a.addMarker(w,{usingOperation:!0,affectsData:!0,range:A});return f})}_pasteFragmentWithMarkers(e){const t=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const n of t)e.markers.set(n.name,n.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,t,n={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const a=this._markersToCopy.get(e);this._markersToCopy.set(e,n),t(),a?this._markersToCopy.set(e,a):this._markersToCopy.delete(e)}_isMarkerCopyable(e,t){const n=this._getMarkerClipboardConfig(e);if(!n)return!1;if(!t)return!0;const{allowedActions:a}=n;return a==="all"||a.includes(t)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[t]=e.split(":");return this._markersToCopy.get(t)||null}_insertFakeMarkersIntoSelection(e,t,n){const a=this._getCopyableMarkersFromSelection(e,t,n);return this._insertFakeMarkersElements(e,a)}_getCopyableMarkersFromSelection(e,t,n){const a=Array.from(t.getRanges()),u=new Set(a.flatMap(f=>Array.from(e.model.markers.getMarkersIntersectingRange(f))));return Array.from(u).filter(f=>{if(!this._isMarkerCopyable(f.name,n))return!1;const{copyPartiallySelected:b}=this._getMarkerClipboardConfig(f.name);if(!b){const w=f.getRange();return a.some(A=>A.containsRange(w,!0))}return!0}).map(f=>({name:n==="dragstart"?this._getUniqueMarkerName(f.name):f.name,range:f.getRange()}))}_getPasteMarkersFromRangeMap(e,t=null){const{model:n}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([a,u])=>{if(!this._hasMarkerConfiguration(a))return[{name:a,range:u}];if(this._isMarkerCopyable(a,t)){const f=this._getMarkerClipboardConfig(a),b=n.markers.has(a)&&n.markers.get(a).getRange().root.rootName==="$graveyard";return(f.duplicateOnPaste||b)&&(a=this._getUniqueMarkerName(a)),[{name:a,range:u}]}return[]})}_insertFakeMarkersElements(e,t){const n={},a=t.flatMap(u=>{const{start:f,end:b}=u.range;return[{position:f,marker:u,type:"start"},{position:b,marker:u,type:"end"}]}).sort(({position:u},{position:f})=>u.isBefore(f)?1:-1);for(const{position:u,marker:f,type:b}of a){const w=e.createElement("$marker",{"data-name":f.name,"data-type":b});n[f.name]||(n[f.name]=[]),n[f.name].push(w),e.insert(w,u)}return n}_removeFakeMarkersInsideElement(e,t){const n=this._getAllFakeMarkersFromElement(e,t).reduce((a,u)=>{const f=u.markerElement&&e.createPositionBefore(u.markerElement);let b=a[u.name],w=!1;b&&b.start&&b.end&&(this._getMarkerClipboardConfig(u.name).duplicateOnPaste?a[this._getUniqueMarkerName(u.name)]=a[u.name]:w=!0,b=null);var A,E;return w||(a[u.name]=(A=((O,z)=>{for(var U in z||(z={}))gR.call(z,U)&&$N(O,U,z[U]);if(UN)for(var U of UN(z))bR.call(z,U)&&$N(O,U,z[U]);return O})({},b),E={[u.type]:f},fR(A,pR(E)))),u.markerElement&&e.remove(u.markerElement),a},{});return hR(n,a=>new Je(a.start||e.createPositionFromPath(t,[0]),a.end||e.createPositionAt(t,"end")))}_getAllFakeMarkersFromElement(e,t){const n=Array.from(e.createRangeIn(t)).flatMap(({item:f})=>{if(!f.is("element","$marker"))return[];const b=f.getAttribute("data-name"),w=f.getAttribute("data-type");return[{markerElement:f,name:b,type:w}]}),a=[],u=[];for(const f of n)f.type==="end"&&(n.some(b=>b.name===f.name&&b.type==="start")||a.push({markerElement:null,name:f.name,type:"start"})),f.type==="start"&&(n.some(b=>b.name===f.name&&b.type==="end")||u.unshift({markerElement:null,name:f.name,type:"end"}));return[...a,...n,...u]}_getUniqueMarkerName(e){const t=e.split(":"),n=ee().substring(1,6);return t.length===3?`${t.slice(0,2).join(":")}:${n}`:`${t.join(":")}:${n}`}}class Ml extends at{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[Dg]}init(){this.editor.editing.view.addObserver(jg),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,n){const a=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:n==="cut"},()=>{const u=a._copySelectedFragmentWithMarkers(n,t);this.fire("outputTransformation",{dataTransfer:e,content:u,method:n})})}_setupPasteDrop(){const e=this.editor,t=e.model,n=e.editing.view,a=n.document,u=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(a,"clipboardInput",(f,b)=>{b.method!="paste"||e.model.canEditAt(e.model.document.selection)||f.stop()},{priority:"highest"}),this.listenTo(a,"clipboardInput",(f,b)=>{const w=b.dataTransfer;let A;if(b.content)A=b.content;else{let z="";w.getData("text/html")?z=function(U){return U.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(W,X)=>X.length==1?" ":X).replace(/<!--[\s\S]*?-->/g,"")}(w.getData("text/html")):w.getData("text/plain")&&(((E=(E=w.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||E.includes("<br>"))&&(E=`<p>${E}</p>`),z=E),A=this.editor.data.htmlProcessor.toView(z)}var E;const O=new K(this,"inputTransformation");this.fire(O,{content:A,dataTransfer:w,targetRanges:b.targetRanges,method:b.method}),O.stop.called&&f.stop(),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(f,b)=>{if(b.content.isEmpty)return;const w=this.editor.data.toModel(b.content,"$clipboardHolder");w.childCount!=0&&(f.stop(),t.change(()=>{this.fire("contentInsertion",{content:w,method:b.method,dataTransfer:b.dataTransfer,targetRanges:b.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(f,b)=>{b.resultRange=u._pasteFragmentWithMarkers(b.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,n=e.editing.view.document,a=(u,f)=>{const b=f.dataTransfer;f.preventDefault(),this._fireOutputTransformationEvent(b,t.selection,u.name)};this.listenTo(n,"copy",a,{priority:"low"}),this.listenTo(n,"cut",(u,f)=>{e.model.canEditAt(e.model.document.selection)?a(u,f):f.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(u,f)=>{const b=e.data.toView(f.content);n.fire("clipboardOutput",{dataTransfer:f.dataTransfer,content:b,method:f.method})},{priority:"low"}),this.listenTo(n,"clipboardOutput",(u,f)=>{f.content.isEmpty||(f.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(f.content)),f.dataTransfer.setData("text/plain",FN(f.content))),f.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}class qN{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(n,a)=>{a.isLocal&&a.isUndoable&&a!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class kR extends Vt{constructor(e,t){super(e),this._buffer=new qN(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,n=t.document,a=e.text||"",u=a.length;let f=n.selection;if(e.selection?f=e.selection:e.range&&(f=t.createSelection(e.range)),!t.canEditAt(f))return;const b=e.resultRange;t.enqueueChange(this._buffer.batch,w=>{this._buffer.lock();const A=Array.from(n.selection.getAttributes());t.deleteContent(f),a&&t.insertContent(w.createText(a,A),f),b?w.setSelection(b):f.is("documentSelection")||w.setSelection(f),this._buffer.unlock(),this._buffer.input(u)})}}const WN=["insertText","insertReplacementText"];class _R extends rl{constructor(e){super(e),this.focusObserver=e.getObserver(Gh),S.isAndroid&&WN.push("insertCompositionText");const t=e.document;t.on("beforeinput",(n,a)=>{if(!this.isEnabled)return;const{data:u,targetRanges:f,inputType:b,domEvent:w}=a;if(!WN.includes(b))return;this.focusObserver.flush();const A=new K(t,"insertText");t.fire(A,new Yc(e,w,{text:u,selection:e.createSelection(f)})),A.stop.called&&n.stop()}),t.on("compositionend",(n,{data:a,domEvent:u})=>{this.isEnabled&&!S.isAndroid&&a&&t.fire("insertText",new Yc(e,u,{text:a,selection:t.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class YN extends at{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,n=e.editing.view,a=t.document.selection;n.addObserver(_R);const u=new kR(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",u),e.commands.add("input",u),this.listenTo(n.document,"insertText",(f,b)=>{n.document.isComposing||b.preventDefault();const{text:w,selection:A,resultRange:E}=b,O=Array.from(A.getRanges()).map(W=>e.editing.mapper.toModelRange(W));let z=w;if(S.isAndroid){const W=Array.from(O[0].getItems()).reduce((X,ae)=>X+(ae.is("$textProxy")?ae.data:""),"");W&&(W.length<=z.length?z.startsWith(W)&&(z=z.substring(W.length),O[0].start=O[0].start.getShiftedBy(W.length)):W.startsWith(z)&&(O[0].start=O[0].start.getShiftedBy(z.length),z=""))}const U={text:z,selection:t.createSelection(O)};E&&(U.resultRange=e.editing.mapper.toModelRange(E)),e.execute("insertText",U),n.scrollToTheSelection()}),S.isAndroid?this.listenTo(n.document,"keydown",(f,b)=>{!a.isCollapsed&&b.keyCode==229&&n.document.isComposing&&GN(t,u)}):this.listenTo(n.document,"compositionstart",()=>{a.isCollapsed||GN(t,u)})}}function GN(r,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),r.enqueueChange(t.batch,()=>{r.deleteContent(r.document.selection)}),t.unlock()}class KN extends Vt{constructor(e,t){super(e),this.direction=t,this._buffer=new qN(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,n=t.document;t.enqueueChange(this._buffer.batch,a=>{this._buffer.lock();const u=a.createSelection(e.selection||n.selection);if(!t.canEditAt(u))return;const f=e.sequence||1,b=u.isCollapsed;if(u.isCollapsed&&t.modifySelection(u,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(f))return void this._replaceEntireContentWithParagraph(a);if(this._shouldReplaceFirstBlockWithParagraph(u,f))return void this.editor.execute("paragraph",{selection:u});if(u.isCollapsed)return;let w=0;u.getFirstRange().getMinimalFlatRanges().forEach(A=>{w+=jt(A.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(u,{doNotResetEntireContent:b,direction:this.direction}),this._buffer.input(w),a.setSelection(u),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,n=t.document.selection,a=t.schema.getLimitElement(n);if(!(n.isCollapsed&&n.containsEntireContent(a))||!t.schema.checkChild(a,"paragraph"))return!1;const u=a.getChild(0);return!u||!u.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const t=this.editor.model,n=t.document.selection,a=t.schema.getLimitElement(n),u=e.createElement("paragraph");e.remove(e.createRangeIn(a)),e.insert(u,a),e.setSelection(u,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const n=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const a=e.getFirstPosition(),u=n.schema.getLimitElement(a),f=u.getChild(0);return a.parent==f&&!!e.containsEntireContent(f)&&!!n.schema.checkChild(u,"paragraph")&&f.name!="paragraph"}}const QN="word",oh="selection",Hf="backward",Tg="forward",ZN={deleteContent:{unit:oh,direction:Hf},deleteContentBackward:{unit:"codePoint",direction:Hf},deleteWordBackward:{unit:QN,direction:Hf},deleteHardLineBackward:{unit:oh,direction:Hf},deleteSoftLineBackward:{unit:oh,direction:Hf},deleteContentForward:{unit:"character",direction:Tg},deleteWordForward:{unit:QN,direction:Tg},deleteHardLineForward:{unit:oh,direction:Tg},deleteSoftLineForward:{unit:oh,direction:Tg}};class vR extends rl{constructor(e){super(e);const t=e.document;let n=0;t.on("keydown",()=>{n++}),t.on("keyup",()=>{n=0}),t.on("beforeinput",(a,u)=>{if(!this.isEnabled)return;const{targetRanges:f,domEvent:b,inputType:w}=u,A=ZN[w];if(!A)return;const E={direction:A.direction,unit:A.unit,sequence:n};E.unit==oh&&(E.selectionToRemove=e.createSelection(f[0])),w==="deleteContentBackward"&&(S.isAndroid&&(E.sequence=1),function(z){if(z.length!=1||z[0].isCollapsed)return!1;const U=z[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let W=0;for(const{nextPosition:X,item:ae}of U){if(X.parent.is("$text")){const ge=X.parent.data,De=X.offset;if(Ms(ge,De)||xl(ge,De)||Eh(ge,De))continue;W++}else(ae.is("containerElement")||ae.is("emptyElement"))&&W++;if(W>1)return!0}return!1}(f)&&(E.unit=oh,E.selectionToRemove=e.createSelection(f)));const O=new Ud(t,"delete",f[0]);t.fire(O,new Yc(e,b,E)),O.stop.called&&a.stop()}),S.isBlink&&function(a){const u=a.view,f=u.document;let b=null,w=!1;function A(O){return O==Fe.backspace||O==Fe.delete}function E(O){return O==Fe.backspace?Hf:Tg}f.on("keydown",(O,{keyCode:z})=>{b=z,w=!1}),f.on("keyup",(O,{keyCode:z,domEvent:U})=>{const W=f.selection,X=a.isEnabled&&z==b&&A(z)&&!W.isCollapsed&&!w;if(b=null,X){const ae=W.getFirstRange(),ge=new Ud(f,"delete",ae),De={unit:oh,direction:E(z),selectionToRemove:W};f.fire(ge,new Yc(u,U,De))}}),f.on("beforeinput",(O,{inputType:z})=>{const U=ZN[z];A(b)&&U&&U.direction==E(b)&&(w=!0)},{priority:"high"}),f.on("beforeinput",(O,{inputType:z,data:U})=>{b==Fe.delete&&z=="insertText"&&U==""&&O.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class ru extends at{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,n=t.document,a=e.model.document;t.addObserver(vR),this._undoOnBackspace=!1;const u=new KN(e,"forward");e.commands.add("deleteForward",u),e.commands.add("forwardDelete",u),e.commands.add("delete",new KN(e,"backward")),this.listenTo(n,"delete",(f,b)=>{n.isComposing||b.preventDefault();const{direction:w,sequence:A,selectionToRemove:E,unit:O}=b,z=w==="forward"?"deleteForward":"delete",U={sequence:A};if(O=="selection"){const W=Array.from(E.getRanges()).map(X=>e.editing.mapper.toModelRange(X));U.selection=e.model.createSelection(W)}else U.unit=O;e.execute(z,U),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",(f,b)=>{this._undoOnBackspace&&b.direction=="backward"&&b.sequence==1&&b.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),b.preventDefault(),f.stop())},{context:"$capture"}),this.listenTo(a,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class wR extends at{static get requires(){return[YN,ru]}static get pluginName(){return"Typing"}}function XN(r,e){let t=r.start;return{text:Array.from(r.getWalker({ignoreElementEnd:!1})).reduce((n,{item:a})=>a.is("$text")||a.is("$textProxy")?n+a.data:(t=e.createPositionAfter(a),""),""),range:e.createRange(t,r.end)}}class JN extends Te(){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(t,{directChange:n})=>{n&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(t,n)=>{!n.isUndo&&n.isLocal&&this._evaluateTextBeforeSelection("data",{batch:n})})}_evaluateTextBeforeSelection(e,t={}){const n=this.model,a=n.document.selection,u=n.createRange(n.createPositionAt(a.focus.parent,0),a.focus),{text:f,range:b}=XN(u,n),w=this.testCallback(f);if(!w&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!w,w){const A=Object.assign(t,{text:f,range:b});typeof w=="object"&&Object.assign(A,w),this.fire(`matched:${e}`,A)}}}class eE extends at{constructor(e){super(e),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const e=this.editor,t=e.model,n=e.editing.view,a=e.locale,u=t.document.selection;this.listenTo(n.document,"arrowKey",(f,b)=>{if(!u.isCollapsed||b.shiftKey||b.altKey||b.ctrlKey)return;const w=b.keyCode==Fe.arrowright,A=b.keyCode==Fe.arrowleft;if(!w&&!A)return;const E=a.contentLanguageDirection;let O=!1;O=E==="ltr"&&w||E==="rtl"&&A?this._handleForwardMovement(b):this._handleBackwardMovement(b),O===!0&&f.stop()},{context:"$text",priority:"highest"}),this.listenTo(u,"change:range",(f,b)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!b.directChange&&Il(u.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,n=this.editor.model,a=n.document.selection,u=a.getFirstPosition();return!this._isGravityOverridden&&(!u.isAtStart||!su(a,t))&&!!Il(u,t)&&(Ig(e),su(a,t)&&Il(u,t,!0)?Mg(n,t):this._overrideGravity(),!0)}_handleBackwardMovement(e){const t=this.attributes,n=this.editor.model,a=n.document.selection,u=a.getFirstPosition();return this._isGravityOverridden?(Ig(e),this._restoreGravity(),Il(u,t,!0)?Mg(n,t):m_(n,t,u),!0):u.isAtStart?!!su(a,t)&&(Ig(e),m_(n,t,u),!0):!su(a,t)&&Il(u,t,!0)?(Ig(e),m_(n,t,u),!0):!!tE(u,t)&&(u.isAtEnd&&!su(a,t)&&Il(u,t)?(Ig(e),m_(n,t,u),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const e=this.editor,t=e.model,n=t.document.selection,a=e.editing.view.document;e.editing.view.addObserver(vg);let u=!1;this.listenTo(a,"mousedown",()=>{u=!0}),this.listenTo(a,"selectionChange",()=>{const f=this.attributes;if(!u||(u=!1,!n.isCollapsed)||!su(n,f))return;const b=n.getFirstPosition();Il(b,f)&&(b.isAtStart||Il(b,f,!0)?Mg(t,f):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection,n=this.attributes;this.listenTo(e,"insertContent",()=>{const a=t.getFirstPosition();su(t,n)&&Il(a,n)&&Mg(e,n)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,t=e.model,n=t.document.selection,a=e.editing.view;let u=!1,f=!1;this.listenTo(a.document,"delete",(b,w)=>{u=w.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{if(!u)return;const b=n.getFirstPosition();f=su(n,this.attributes)&&!tE(b,this.attributes)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{u&&(u=!1,f||e.model.enqueueChange(()=>{const b=n.getFirstPosition();su(n,this.attributes)&&Il(b,this.attributes)&&(b.isAtStart||Il(b,this.attributes,!0)?Mg(t,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function su(r,e){for(const t of e)if(r.hasAttribute(t))return!0;return!1}function m_(r,e,t){const n=t.nodeBefore;r.change(a=>{if(n){const u=[],f=r.schema.isObject(n)&&r.schema.isInline(n);for(const[b,w]of n.getAttributes())!r.schema.checkAttribute("$text",b)||f&&r.schema.getAttributeProperties(b).copyFromObject===!1||u.push([b,w]);a.setSelectionAttribute(u)}else a.removeSelectionAttribute(e)})}function Mg(r,e){r.change(t=>{t.removeSelectionAttribute(e)})}function Ig(r){r.preventDefault()}function tE(r,e){return Il(r.getShiftedBy(-1),e)}function Il(r,e,t=!1){const{nodeBefore:n,nodeAfter:a}=r;for(const u of e){const f=n?n.getAttribute(u):void 0,b=a?a.getAttribute(u):void 0;if((!t||f!==void 0&&b!==void 0)&&b!==f)return!0}return!1}const nE={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:Uf('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:Uf("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:Uf("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:Uf('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:Uf('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:Uf("'"),to:[null,"‚",null,"’"]}},iE={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},yR=["symbols","mathematical","typography","quotes"];function xR(r){return typeof r=="string"?new RegExp(`(${sN(r)})$`):r}function CR(r){return typeof r=="string"?()=>[r]:r instanceof Array?()=>r:r}function AR(r){return(r.textNode?r.textNode:r.nodeAfter).getAttributes()}function Uf(r){return new RegExp(`(^|\\s)(${r})([^${r}]*)(${r})$`)}function f_(r,e,t,n){return n.createRange(rE(r,e,t,!0,n),rE(r,e,t,!1,n))}function rE(r,e,t,n,a){let u=r.textNode||(n?r.nodeBefore:r.nodeAfter),f=null;for(;u&&u.getAttribute(e)==t;)f=u,u=n?u.previousSibling:u.nextSibling;return f?a.createPositionAt(f,n?"before":"after"):r}function*sE(r,e){for(const t of e)t&&r.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}class NR extends Vt{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,n=t.document.selection,a=t.schema,u=n.isCollapsed,f=n.getFirstRange(),b=f.start.parent,w=f.end.parent;if(a.isLimit(b)||a.isLimit(w))return u||b!=w||t.deleteContent(n),!1;if(u){const A=sE(e.model.schema,n.getAttributes());return oE(e,f.start),e.setSelectionAttribute(A),!0}{const A=!(f.start.isAtStart&&f.end.isAtEnd),E=b==w;if(t.deleteContent(n,{leaveUnmerged:A}),A){if(E)return oE(e,n.focus),!0;e.setSelection(w,0)}}return!1}}function oE(r,e){r.split(e),r.setSelection(e.parent.nextSibling,0)}const ER={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class aE extends rl{constructor(e){super(e);const t=this.document;let n=!1;t.on("keydown",(a,u)=>{n=u.shiftKey}),t.on("beforeinput",(a,u)=>{if(!this.isEnabled)return;let f=u.inputType;S.isSafari&&n&&f=="insertParagraph"&&(f="insertLineBreak");const b=u.domEvent,w=ER[f];if(!w)return;const A=new Ud(t,"enter",u.targetRanges[0]);t.fire(A,new Yc(e,b,{isSoft:w.isSoft})),A.stop.called&&a.stop()})}observe(){}stopObserving(){}}class p_ extends at{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,n=t.document,a=this.editor.t;t.addObserver(aE),e.commands.add("enter",new NR(e)),this.listenTo(n,"enter",(u,f)=>{n.isComposing||f.preventDefault(),f.isSoft||(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:a("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class SR extends Vt{execute(){const e=this.editor.model,t=e.document;e.change(n=>{(function(a,u,f){const b=f.isCollapsed,w=f.getFirstRange(),A=w.start.parent,E=w.end.parent,O=A==E;if(b){const z=sE(a.schema,f.getAttributes());lE(a,u,w.end),u.removeSelectionAttribute(f.getAttributeKeys()),u.setSelectionAttribute(z)}else{const z=!(w.start.isAtStart&&w.end.isAtEnd);a.deleteContent(f,{leaveUnmerged:z}),O?lE(a,u,f.focus):z&&u.setSelection(E,0)}})(e,n,t.selection),this.fire("afterExecute",{writer:n})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=function(n,a){if(a.rangeCount>1)return!1;const u=a.anchor;if(!u||!n.checkChild(u,"softBreak"))return!1;const f=a.getFirstRange(),b=f.start.parent,w=f.end.parent;return!((cy(b,n)||cy(w,n))&&b!==w)}(e.schema,t.selection)}}function lE(r,e,t){const n=e.createElement("softBreak");r.insertContent(n,t),e.setSelection(n,"after")}function cy(r,e){return!r.is("rootElement")&&(e.isLimit(r)||cy(r.parent,e))}class jR extends at{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,n=e.conversion,a=e.editing.view,u=a.document,f=this.editor.t;t.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(b,{writer:w})=>w.createEmptyElement("br")}),a.addObserver(aE),e.commands.add("shiftEnter",new SR(e)),this.listenTo(u,"enter",(b,w)=>{u.isComposing||w.preventDefault(),w.isSoft&&(e.execute("shiftEnter"),a.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:f("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class DR extends me(){constructor(){super(...arguments),this._stack=[]}add(e,t){const n=this._stack,a=n[0];this._insertDescriptor(e);const u=n[0];a===u||dy(a,u)||this.fire("change:top",{oldDescriptor:a,newDescriptor:u,writer:t})}remove(e,t){const n=this._stack,a=n[0];this._removeDescriptor(e);const u=n[0];a===u||dy(a,u)||this.fire("change:top",{oldDescriptor:a,newDescriptor:u,writer:t})}_insertDescriptor(e){const t=this._stack,n=t.findIndex(u=>u.id===e.id);if(dy(e,t[n]))return;n>-1&&t.splice(n,1);let a=0;for(;t[a]&&TR(t[a],e);)a++;t.splice(a,0,e)}_removeDescriptor(e){const t=this._stack,n=t.findIndex(a=>a.id===e);n>-1&&t.splice(n,1)}}function dy(r,e){return r&&e&&r.priority==e.priority&&g_(r.classes)==g_(e.classes)}function TR(r,e){return r.priority>e.priority||!(r.priority<e.priority)&&g_(r.classes)>g_(e.classes)}function g_(r){return Array.isArray(r)?r.sort().join(","):r}const MR='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',IR="ck-widget",cE="ck-widget_selected";function os(r){return!!r.is("element")&&!!r.getCustomProperty("widget")}function uy(r,e,t={}){if(!r.is("containerElement"))throw new q("widget-to-widget-wrong-element-type",null,{element:r});return e.setAttribute("contenteditable","false",r),e.addClass(IR,r),e.setCustomProperty("widget",!0,r),r.getFillerOffset=BR,e.setCustomProperty("widgetLabel",[],r),t.label&&function(n,a){n.getCustomProperty("widgetLabel").push(a)}(r,t.label),t.hasSelectionHandle&&function(n,a){const u=a.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(f){const b=this.toDomElement(f),w=new m;return w.set("content",MR),w.render(),b.appendChild(w.element),b});a.insert(a.createPositionAt(n,0),u),a.addClass(["ck-widget_with-selection-handle"],n)}(r,e),dE(r,e),r}function OR(r,e,t){if(e.classes&&t.addClass(gn(e.classes),r),e.attributes)for(const n in e.attributes)t.setAttribute(n,e.attributes[n],r)}function LR(r,e,t){if(e.classes&&t.removeClass(gn(e.classes),r),e.attributes)for(const n in e.attributes)t.removeAttribute(n,r)}function dE(r,e,t=OR,n=LR){const a=new DR;a.on("change:top",(u,f)=>{f.oldDescriptor&&n(r,f.oldDescriptor,f.writer),f.newDescriptor&&t(r,f.newDescriptor,f.writer)}),e.setCustomProperty("addHighlight",(u,f,b)=>a.add(f,b),r),e.setCustomProperty("removeHighlight",(u,f,b)=>a.remove(f,b),r)}function uE(r,e,t={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],r),e.setAttribute("role","textbox",r),e.setAttribute("tabindex","-1",r),t.label&&e.setAttribute("aria-label",t.label,r),e.setAttribute("contenteditable",r.isReadOnly?"false":"true",r),r.on("change:isReadOnly",(n,a,u)=>{e.setAttribute("contenteditable",u?"false":"true",r)}),r.on("change:isFocused",(n,a,u)=>{u?e.addClass("ck-editor__nested-editable_focused",r):e.removeClass("ck-editor__nested-editable_focused",r)}),dE(r,e),r}function hE(r,e){const t=r.getSelectedElement();if(t){const n=ah(r);if(n)return e.createRange(e.createPositionAt(t,n))}return e.schema.findOptimalInsertionRange(r)}function BR(){return null}const ou="widget-type-around";function mm(r,e,t){return!!r&&os(r)&&!t.isInline(e)}function ah(r){return r.getAttribute(ou)}var mE=h(8508),PR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(mE.A,PR),mE.A.locals;const fE=["before","after"],RR=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,pE="ck-widget__type-around_disabled";class zR extends at{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[p_,ru]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(n,a,u)=>{t.change(f=>{for(const b of t.document.roots)u?f.removeClass(pE,b):f.addClass(pE,b)}),u||e.model.change(f=>{f.removeSelectionAttribute(ou)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const n=this.editor,a=n.editing.view,u=n.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(e,t),attributes:u}),a.focus(),a.scrollToTheSelection()}_listenToIfEnabled(e,t,n,a){this.listenTo(e,t,(...u)=>{this.isEnabled&&n(...u)},a)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,t=ah(e);if(!t)return!1;const n=e.getSelectedElement();return this._insertParagraph(n,t),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,n=e.locale.t,a={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(u,f,b)=>{const w=b.mapper.toViewElement(f.item);w&&mm(w,f.item,t)&&(function(A,E,O){const z=A.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(U){const W=this.toDomElement(U);return function(X,ae){for(const ge of fE){const De=new Fo({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${ge}`],title:ae[ge],"aria-hidden":"true"},children:[X.ownerDocument.importNode(RR,!0)]});X.appendChild(De.render())}}(W,E),function(X){const ae=new Fo({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});X.appendChild(ae.render())}(W),W});A.insert(A.createPositionAt(O,"end"),z)}(b.writer,a,w),w.getCustomProperty("widgetLabel").push(()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,n=t.document.selection,a=t.schema,u=e.editing.view;function f(b){return`ck-widget_type-around_show-fake-caret_${b}`}this._listenToIfEnabled(u.document,"arrowKey",(b,w)=>{this._handleArrowKeyPress(b,w)},{context:[os,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",(b,w)=>{w.directChange&&e.model.change(A=>{A.removeSelectionAttribute(ou)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const b=n.getSelectedElement();b&&mm(e.editing.mapper.toViewElement(b),b,a)||e.model.change(w=>{w.removeSelectionAttribute(ou)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(b,w,A)=>{const E=A.writer;if(this._currentFakeCaretModelElement){const W=A.mapper.toViewElement(this._currentFakeCaretModelElement);W&&(E.removeClass(fE.map(f),W),this._currentFakeCaretModelElement=null)}const O=w.selection.getSelectedElement();if(!O)return;const z=A.mapper.toViewElement(O);if(!mm(z,O,a))return;const U=ah(w.selection);U&&(E.addClass(f(U),z),this._currentFakeCaretModelElement=O)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(b,w,A)=>{A||e.model.change(E=>{E.removeSelectionAttribute(ou)})})}_handleArrowKeyPress(e,t){const n=this.editor,a=n.model,u=a.document.selection,f=a.schema,b=n.editing.view,w=function(O,z){const U=kn(O,z);return U==="down"||U==="right"}(t.keyCode,n.locale.contentLanguageDirection),A=b.document.selection.getSelectedElement();let E;mm(A,n.editing.mapper.toModelElement(A),f)?E=this._handleArrowKeyPressOnSelectedWidget(w):u.isCollapsed?E=this._handleArrowKeyPressWhenSelectionNextToAWidget(w):t.shiftKey||(E=this._handleArrowKeyPressWhenNonCollapsedSelection(w)),E&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const t=this.editor.model,n=ah(t.document.selection);return t.change(a=>n?n!==(e?"after":"before")?(a.removeSelectionAttribute(ou),!0):!1:(a.setSelectionAttribute(ou,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,n=t.model,a=n.schema,u=t.plugins.get("Widget"),f=u._getObjectElementNextToSelection(e);return!!mm(t.editing.mapper.toViewElement(f),f,a)&&(n.change(b=>{u._setSelectionOverElement(f),b.setSelectionAttribute(ou,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,n=t.model,a=n.schema,u=t.editing.mapper,f=n.document.selection,b=e?f.getLastPosition().nodeBefore:f.getFirstPosition().nodeAfter;return!!mm(u.toViewElement(b),b,a)&&(n.change(w=>{w.setSelection(b,"on"),w.setSelectionAttribute(ou,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(n,a)=>{const u=a.domTarget.closest(".ck-widget__type-around__button");if(!u)return;const f=function(A){return A.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(u),b=function(A,E){const O=A.closest(".ck-widget");return E.mapDomToView(O)}(u,t.domConverter),w=e.editing.mapper.toModelElement(b);this._insertParagraph(w,f),a.preventDefault(),n.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,n=e.editing.view;this._listenToIfEnabled(n.document,"enter",(a,u)=>{if(a.eventPhase!="atTarget")return;const f=t.getSelectedElement(),b=e.editing.mapper.toViewElement(f),w=e.model.schema;let A;this._insertParagraphAccordingToFakeCaretPosition()?A=!0:mm(b,f,w)&&(this._insertParagraph(f,u.isSoft?"before":"after"),A=!0),A&&(u.preventDefault(),a.stop())},{context:os})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(t,n)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(n.selection=e.selection)},{priority:"high"}),S.isAndroid?this._listenToIfEnabled(e,"keydown",(t,n)=>{n.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,n=e.model,a=n.schema;this._listenToIfEnabled(t.document,"delete",(u,f)=>{if(u.eventPhase!="atTarget")return;const b=ah(n.document.selection);if(!b)return;const w=f.direction,A=n.document.selection.getSelectedElement(),E=w=="forward";if(b==="before"===E)e.execute("delete",{selection:n.createSelection(A,"on")});else{const O=a.getNearestSelectionRange(n.createPositionAt(A,b),w);if(O)if(O.isCollapsed){const z=n.createSelection(O.start);if(n.modifySelection(z,{direction:w}),z.focus.isEqual(O.start)){const U=function(W,X){let ae=X;for(const ge of X.getAncestors({parentFirst:!0})){if(ge.childCount>1||W.isLimit(ge))break;ae=ge}return ae}(a,O.start.parent);n.deleteContent(n.createSelection(U,"on"),{doNotAutoparagraph:!0})}else n.change(U=>{U.setSelection(O),e.execute(E?"deleteForward":"delete")})}else n.change(z=>{z.setSelection(O),e.execute(E?"deleteForward":"delete")})}f.preventDefault(),u.stop()},{context:os})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,n=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(a,[u,f])=>{if(f&&!f.is("documentSelection"))return;const b=ah(n);return b?(a.stop(),t.change(w=>{const A=n.getSelectedElement(),E=t.createPositionAt(A,b),O=w.createSelection(E),z=t.insertContent(u,O);return w.setSelection(O),z})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(n,a)=>{const[,u,f={}]=a;if(u&&!u.is("documentSelection"))return;const b=ah(t);b&&(f.findOptimalPosition=b,a[3]=f)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(n,[a])=>{a&&!a.is("documentSelection")||ah(t)&&n.stop()},{priority:"high"})}}function FR(r){const e=r.model;return(t,n)=>{const a=n.keyCode==Fe.arrowup,u=n.keyCode==Fe.arrowdown,f=n.shiftKey,b=e.document.selection;if(!a&&!u)return;const w=u;if(f&&function(E,O){return!E.isCollapsed&&E.isBackward==O}(b,w))return;const A=function(E,O,z){const U=E.model;if(z){const W=O.isCollapsed?O.focus:O.getLastPosition(),X=gE(U,W,"forward");if(!X)return null;const ae=U.createRange(W,X),ge=bE(U.schema,ae,"backward");return ge?U.createRange(W,ge):null}{const W=O.isCollapsed?O.focus:O.getFirstPosition(),X=gE(U,W,"backward");if(!X)return null;const ae=U.createRange(X,W),ge=bE(U.schema,ae,"forward");return ge?U.createRange(ge,W):null}}(r,b,w);if(A){if(A.isCollapsed&&(b.isCollapsed||f))return;(A.isCollapsed||function(E,O,z){const U=E.model,W=E.view.domConverter;if(z){const Ze=U.createSelection(O.start);U.modifySelection(Ze),Ze.focus.isAtEnd||O.start.isEqual(Ze.focus)||(O=U.createRange(Ze.focus,O.end))}const X=E.mapper.toViewRange(O),ae=W.viewRangeToDom(X),ge=pn.getDomRangeRects(ae);let De;for(const Ze of ge)if(De!==void 0){if(Math.round(Ze.top)>=De)return!1;De=Math.max(De,Math.round(Ze.bottom))}else De=Math.round(Ze.bottom);return!0}(r,A,w))&&(e.change(E=>{const O=w?A.end:A.start;if(f){const z=e.createSelection(b.anchor);z.setFocus(O),E.setSelection(z)}else E.setSelection(O)}),t.stop(),n.preventDefault(),n.stopPropagation())}}}function gE(r,e,t){const n=r.schema,a=r.createRangeIn(e.root),u=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:f,item:b,type:w}of a.getWalker({startPosition:e,direction:t})){if(n.isLimit(b)&&!n.isInline(b))return f;if(w==u&&n.isBlock(b))return null}return null}function bE(r,e,t){const n=t=="backward"?e.end:e.start;if(r.checkChild(n,"$text"))return n;for(const{nextPosition:a}of e.getWalker({direction:t}))if(r.checkChild(a,"$text"))return a;return null}var kE=h(695),VR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(kE.A,VR),kE.A.locals;class Og extends at{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[zR,ru]}init(){const e=this.editor,t=e.editing.view,n=t.document,a=e.t;this.editor.editing.downcastDispatcher.on("selection",(u,f,b)=>{const w=b.writer,A=f.selection;if(A.isCollapsed)return;const E=A.getSelectedElement();if(!E)return;const O=e.editing.mapper.toViewElement(E);var z;os(O)&&b.consumable.consume(A,"selection")&&w.setSelection(w.createRangeOn(O),{fake:!0,label:(z=O,z.getCustomProperty("widgetLabel").reduce((U,W)=>typeof W=="function"?U?U+". "+W():W():U?U+". "+W:W,""))})}),this.editor.editing.downcastDispatcher.on("selection",(u,f,b)=>{this._clearPreviouslySelectedWidgets(b.writer);const w=b.writer,A=w.document.selection;let E=null;for(const O of A.getRanges())for(const z of O){const U=z.item;os(U)&&!HR(U,E)&&(w.addClass(cE,U),this._previouslySelected.add(U),E=U)}},{priority:"low"}),t.addObserver(vg),this.listenTo(n,"mousedown",(...u)=>this._onMousedown(...u)),this.listenTo(n,"arrowKey",(...u)=>{this._handleSelectionChangeOnArrowKeyPress(...u)},{context:[os,"$text"]}),this.listenTo(n,"arrowKey",(...u)=>{this._preventDefaultOnArrowKeyPress(...u)},{context:"$root"}),this.listenTo(n,"arrowKey",FR(this.editor.editing),{context:"$text"}),this.listenTo(n,"delete",(u,f)=>{this._handleDelete(f.direction=="forward")&&(f.preventDefault(),u.stop())},{context:"$root"}),this.listenTo(n,"tab",(u,f)=>{u.eventPhase=="atTarget"&&(f.shiftKey||this._selectFirstNestedEditable()&&(f.preventDefault(),u.stop()))},{context:os,priority:"low"}),this.listenTo(n,"tab",(u,f)=>{f.shiftKey&&this._selectAncestorWidget()&&(f.preventDefault(),u.stop())},{priority:"low"}),this.listenTo(n,"keydown",(u,f)=>{f.keystroke==Fe.esc&&this._selectAncestorWidget()&&(f.preventDefault(),u.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:a("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:a("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:a("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:a("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:a("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,t){const n=this.editor,a=n.editing.view,u=a.document;let f=t.target;if(t.domEvent.detail>=3)return void(this._selectBlockContent(f)&&t.preventDefault());if(function(w){let A=w;for(;A;){if(A.is("editableElement")&&!A.is("rootElement"))return!0;if(os(A))return!1;A=A.parent}return!1}(f)||!os(f)&&(f=f.findAncestor(os),!f))return;S.isAndroid&&t.preventDefault(),u.isFocused||a.focus();const b=n.editing.mapper.toModelElement(f);this._setSelectionOverElement(b)}_selectBlockContent(e){const t=this.editor,n=t.model,a=t.editing.mapper,u=n.schema,f=a.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),b=function(w,A){for(const E of w.getAncestors({includeSelf:!0,parentFirst:!0})){if(A.checkChild(E,"$text"))return E;if(A.isLimit(E)&&!A.isObject(E))break}return null}(a.toModelElement(f),n.schema);return!!b&&(n.change(w=>{const A=u.isLimit(b)?null:function(z,U){const W=new oo({startPosition:z});for(const{item:X}of W){if(U.isLimit(X)||!X.is("element"))return null;if(U.checkChild(X,"$text"))return X}return null}(w.createPositionAfter(b),u),E=w.createPositionAt(b,0),O=A?w.createPositionAt(A,0):w.createPositionAt(b,"end");w.setSelection(w.createRange(E,O))}),!0)}_handleSelectionChangeOnArrowKeyPress(e,t){const n=t.keyCode,a=this.editor.model,u=a.schema,f=a.document.selection,b=f.getSelectedElement(),w=kn(n,this.editor.locale.contentLanguageDirection),A=w=="down"||w=="right",E=w=="up"||w=="down";if(b&&u.isObject(b)){const z=A?f.getLastPosition():f.getFirstPosition(),U=u.getNearestSelectionRange(z,A?"forward":"backward");return void(U&&(a.change(W=>{W.setSelection(U)}),t.preventDefault(),e.stop()))}if(!f.isCollapsed&&!t.shiftKey){const z=f.getFirstPosition(),U=f.getLastPosition(),W=z.nodeAfter,X=U.nodeBefore;return void((W&&u.isObject(W)||X&&u.isObject(X))&&(a.change(ae=>{ae.setSelection(A?U:z)}),t.preventDefault(),e.stop()))}if(!f.isCollapsed)return;const O=this._getObjectElementNextToSelection(A);if(O&&u.isObject(O)){if(u.isInline(O)&&E)return;this._setSelectionOverElement(O),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const n=this.editor.model,a=n.schema,u=n.document.selection.getSelectedElement();u&&a.isObject(u)&&(t.preventDefault(),e.stop())}_handleDelete(e){const t=this.editor.model.document.selection;if(!this.editor.model.canEditAt(t)||!t.isCollapsed)return;const n=this._getObjectElementNextToSelection(e);return n?(this.editor.model.change(a=>{let u=t.anchor.parent;for(;u.isEmpty;){const f=u;u=f.parent,a.remove(f)}this._setSelectionOverElement(n)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,n=t.schema,a=t.document.selection,u=t.createSelection(a);if(t.modifySelection(u,{direction:e?"forward":"backward"}),u.isEqual(a))return null;const f=e?u.focus.nodeBefore:u.focus.nodeAfter;return f&&n.isObject(f)?f:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(cE,t);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,t=this.editor.editing.view.document;for(const n of t.selection.getFirstRange().getItems())if(n.is("editableElement")){const a=e.editing.mapper.toModelElement(n);if(!a)continue;const u=e.model.createPositionAt(a,0),f=e.model.schema.getNearestSelectionRange(u,"forward");return e.model.change(b=>{b.setSelection(f)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,t=e.editing.mapper,n=e.editing.view.document.selection.getFirstPosition().parent,a=(n.is("$text")?n.parent:n).findAncestor(os);if(!a)return!1;const u=t.toModelElement(a);return!!u&&(e.model.change(f=>{f.setSelection(u,"on")}),!0)}}function HR(r,e){return!!e&&Array.from(r.getAncestors()).includes(e)}class b_ extends at{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[c_]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",n=>{(function(a){const u=a.getSelectedElement();return!(!u||!os(u))})(e.editing.view.document.selection)&&n.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:n,getRelatedElement:a,balloonClassName:u="ck-toolbar-container"}){if(!n.length)return void ue("widget-toolbar-no-items",{toolbarId:e});const f=this.editor,b=f.t,w=new Gw(f.locale);if(w.ariaLabel=t||b("Widget toolbar"),this._toolbarDefinitions.has(e))throw new q("widget-toolbar-duplicated",this,{toolbarId:e});const A={view:w,getRelatedElement:a,balloonClassName:u,itemsConfig:n,initialized:!1};f.ui.addToolbar(w,{isContextual:!0,beforeFocus:()=>{const E=a(f.editing.view.document.selection);E&&this._showToolbar(A,E)},afterBlur:()=>{this._hideToolbar(A)}}),this._toolbarDefinitions.set(e,A)}_updateToolbarsVisibility(){let e=0,t=null,n=null;for(const a of this._toolbarDefinitions.values()){const u=a.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&u)if(this.editor.ui.focusTracker.isFocused){const f=u.getAncestors().length;f>e&&(e=f,t=u,n=a)}else this._isToolbarVisible(a)&&this._hideToolbar(a);else this._isToolbarInBalloon(a)&&this._hideToolbar(a)}n&&this._showToolbar(n,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?_E(this.editor,t):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:vE(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const n of this._toolbarDefinitions.values())if(this._isToolbarVisible(n)){const a=n.getRelatedElement(this.editor.editing.view.document.selection);_E(this.editor,a)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function _E(r,e){const t=r.plugins.get("ContextualBalloon"),n=vE(r,e);t.updatePosition(n)}function vE(r,e){const t=r.editing.view,n=Ma.defaultPositions;return{target:t.domConverter.mapViewToDom(e),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}var wE=h(4095),UR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(wE.A,UR),wE.A.locals;const hy=vo("px");class $R extends St{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",t=>!t)],style:{left:e.to("left",t=>hy(t)),top:e.to("top",t=>hy(t)),width:e.to("width",t=>hy(t))}}})}}class k_ extends at{constructor(){super(...arguments),this.removeDropMarkerDelayed=sa(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=a_(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=a_(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new $R,this._domEmitter=new(Js()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,n,a,u,f){this.removeDropMarkerDelayed.cancel();const b=yE(this.editor,e,t,n,a,u,f);if(b)return f&&f.containsRange(b)?this.removeDropMarker():void this._updateDropMarkerThrottled(b)}getFinalDropRange(e,t,n,a,u,f){const b=yE(this.editor,e,t,n,a,u,f);return this.removeDropMarker(),b}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:n})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(n);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,n=t.model.markers;t.model.change(a=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(e)||a.updateMarker("drop-target",{range:e}):a.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(t){const n=this.toDomElement(t);return n.append("⁠",t.createElement("span"),"⁠"),n})}_updateDropTargetLine(e){const t=this.editor.editing,n=e.start.nodeBefore,a=e.start.nodeAfter,u=e.start.parent,f=n?t.mapper.toViewElement(n):null,b=f?t.view.domConverter.mapViewToDom(f):null,w=a?t.mapper.toViewElement(a):null,A=w?t.view.domConverter.mapViewToDom(w):null,E=t.mapper.toViewElement(u);if(!E)return;const O=t.view.domConverter.mapViewToDom(E),z=this._getScrollableRect(E),{scrollX:U,scrollY:W}=y.window,X=b?new pn(b):null,ae=A?new pn(A):null,ge=new pn(O).excludeScrollbarsAndBorders(),De=X?X.bottom:ge.top,Ze=ae?ae.top:ge.bottom,ft=y.window.getComputedStyle(O),Ht=De<=Ze?(De+Ze)/2:Ze;if(z.top<Ht&&Ht<z.bottom){const jn=ge.left+parseFloat(ft.paddingLeft),Fn=ge.right-parseFloat(ft.paddingRight),rr=Math.max(jn+U,z.left),Us=Math.min(Fn+U,z.right);this._dropTargetLineView.set({isVisible:!0,left:rr,top:Ht+W,width:Us-rr})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let n;if(this._scrollables.has(t))n=this._scrollables.get(t).domElement;else{n=function(u){let f=u;do{f=f.parentElement;const b=y.window.getComputedStyle(f).overflowY;if(b=="auto"||b=="scroll")break}while(f.tagName!="BODY");return f}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(n,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const a=new _o(n,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:n,resizeObserver:a})}return new pn(n).excludeScrollbarsAndBorders()}}function yE(r,e,t,n,a,u,f){const b=r.model,w=r.editing.mapper;let A=CE(r,e);for(;A;){if(!u){if(b.schema.checkChild(A,"$text")){if(t){const E=t[0].start,O=w.toModelPosition(E);if(!f||Array.from(f.getItems()).every(z=>b.schema.checkChild(O,z))){if(b.schema.checkChild(O,"$text"))return b.createRange(O);if(E)return __(r,CE(r,E.parent),n,a)}}}else if(b.schema.isInline(A))return __(r,A,n,a)}if(b.schema.isBlock(A))return __(r,A,n,a);if(b.schema.checkChild(A,"$block")){const E=Array.from(A.getChildren()).filter(U=>U.is("element")&&!qR(r,U));let O=0,z=E.length;if(z==0)return b.createRange(b.createPositionAt(A,"end"));for(;O<z-1;){const U=Math.floor((O+z)/2);xE(r,E[U],n,a)=="before"?z=U:O=U}return __(r,E[O],n,a)}A=A.parent}return null}function qR(r,e){const t=r.editing.mapper,n=r.editing.view.domConverter,a=t.toViewElement(e);if(!a)return!0;const u=n.mapViewToDom(a);return y.window.getComputedStyle(u).float!="none"}function __(r,e,t,n){const a=r.model;return a.createRange(a.createPositionAt(e,xE(r,e,t,n)))}function xE(r,e,t,n){const a=r.editing.mapper,u=r.editing.view.domConverter,f=a.toViewElement(e),b=u.mapViewToDom(f),w=new pn(b);return r.model.schema.isInline(e)?t<(w.left+w.right)/2?"before":"after":n<(w.top+w.bottom)/2?"before":"after"}function CE(r,e){const t=r.editing.mapper,n=r.editing.view,a=t.toModelElement(e);if(a)return a;const u=n.createPositionBefore(e),f=t.findMappedViewAncestor(u);return t.toModelElement(f)}var WR=Object.defineProperty,YR=Object.defineProperties,GR=Object.getOwnPropertyDescriptors,AE=Object.getOwnPropertySymbols,KR=Object.prototype.hasOwnProperty,QR=Object.prototype.propertyIsEnumerable,NE=(r,e,t)=>e in r?WR(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class ZR extends at{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(Js())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(t,n,a)=>{a?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),S.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const t=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(t,"dragstart",(n,a)=>this._handleBlockDragStart(a)),this._domEmitter.listenTo(y.document,"dragover",(n,a)=>this._handleBlockDragging(a)),this._domEmitter.listenTo(y.document,"drop",(n,a)=>this._handleBlockDragging(a)),this._domEmitter.listenTo(y.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&t.setAttribute("draggable","true"),this.on("change:isEnabled",(n,a,u)=>{t.setAttribute("draggable",u?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,n=t.document.selection,a=this.editor.editing.view,u=Array.from(n.getSelectedBlocks()),f=t.createRange(t.createPositionBefore(u[0]),t.createPositionAfter(u[u.length-1]));t.change(b=>b.setSelection(f)),this._isBlockDragging=!0,a.focus(),a.getObserver(jg).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),n=e.clientY,a=document.elementFromPoint(t,n),u=this.editor.editing.view;var f,b;a&&a.closest(".ck-editor__editable")&&u.getObserver(jg).onDomEvent((f=((w,A)=>{for(var E in A||(A={}))KR.call(A,E)&&NE(w,E,A[E]);if(AE)for(var E of AE(A))QR.call(A,E)&&NE(w,E,A[E]);return w})({},e),b={type:e.type,dataTransfer:e.dataTransfer,target:a,clientX:t,clientY:n,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()},YR(f,GR(b))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var EE=h(7793),XR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(EE.A,XR),EE.A.locals;class JR extends at{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=sa(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(Js())}static get pluginName(){return"DragDrop"}static get requires(){return[Ml,Og,k_,ZR]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(jg),t.addObserver(vg),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(n,a,u)=>{u?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(n,a,u)=>{u||this._finalizeDragging(!1)}),S.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,n=e.editing.view,a=n.document,u=e.plugins.get(k_);this.listenTo(a,"dragstart",(f,b)=>{if(b.target&&b.target.is("editableElement")||(this._prepareDraggedRange(b.target),!this._draggedRange))return void b.preventDefault();this._draggingUid=ee(),b.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",b.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const w=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(b.dataTransfer,w,"dragstart");const{dataTransfer:A,domTarget:E,domEvent:O}=b,{clientX:z}=O;this._updatePreview({dataTransfer:A,domTarget:E,clientX:z}),b.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(a,"dragend",(f,b)=>{this._finalizeDragging(!b.dataTransfer.isCanceled&&b.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(y.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(a,"dragenter",()=>{this.isEnabled&&n.focus()}),this.listenTo(a,"dragleave",()=>{u.removeDropMarkerDelayed()}),this.listenTo(a,"dragging",(f,b)=>{if(!this.isEnabled)return void(b.dataTransfer.dropEffect="none");const{clientX:w,clientY:A}=b.domEvent;u.updateDropMarker(b.target,b.targetRanges,w,A,this._blockMode,this._draggedRange),this._draggedRange||(b.dataTransfer.dropEffect="copy"),S.isGecko||(b.dataTransfer.effectAllowed=="copy"?b.dataTransfer.dropEffect="copy":["all","copyMove"].includes(b.dataTransfer.effectAllowed)&&(b.dataTransfer.dropEffect="move")),f.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,t=e.editing.view.document,n=e.plugins.get(k_);this.listenTo(t,"clipboardInput",(a,u)=>{if(u.method!="drop")return;const{clientX:f,clientY:b}=u.domEvent,w=n.getFinalDropRange(u.target,u.targetRanges,f,b,this._blockMode,this._draggedRange);if(!w)return this._finalizeDragging(!1),void a.stop();if(this._draggedRange&&this._draggingUid!=u.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),SE(u.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(w,!0))return this._finalizeDragging(!1),void a.stop();u.targetRanges=[e.editing.mapper.toViewRange(w)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Ml);e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const a=n.targetRanges.map(u=>this.editor.editing.mapper.toModelRange(u));this.editor.model.change(u=>u.setSelection(a))},{priority:"high"}),e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const a=SE(n.dataTransfer)=="move",u=!n.resultRange||!n.resultRange.isCollapsed;this._finalizeDragging(u&&a)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,n=t.document;this.listenTo(n,"mousedown",(a,u)=>{if(S.isAndroid||!u)return;this._clearDraggableAttributesDelayed.cancel();let f=jE(u.target);if(S.isBlink&&!e.isReadOnly&&!f&&!n.selection.isCollapsed){const b=n.selection.getSelectedElement();b&&os(b)||(f=n.selection.editableElement)}f&&(t.change(b=>{b.setAttribute("draggable","true",f)}),this._draggableElement=e.editing.mapper.toModelElement(f))}),this.listenTo(n,"mouseup",()=>{S.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const t=this.editor,n=t.model;t.plugins.get(k_).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&n.change(a=>{const u=n.createSelection(this._draggedRange);n.deleteContent(u,{doNotAutoparagraph:!0});const f=u.getFirstPosition().parent;f.isEmpty&&!n.schema.checkChild(f,"$text")&&n.schema.checkChild(f,"paragraph")&&a.insertElement("paragraph",f,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,n=t.model,a=n.document.selection,u=e?jE(e):null;if(u){const A=t.editing.mapper.toModelElement(u);this._draggedRange=cr.fromRange(n.createRangeOn(A)),this._blockMode=n.schema.isBlock(A),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(a.isCollapsed&&!a.getFirstPosition().parent.isEmpty)return;const f=Array.from(a.getSelectedBlocks()),b=a.getFirstRange();if(f.length==0)return void(this._draggedRange=cr.fromRange(b));const w=DE(n,f);if(f.length>1)this._draggedRange=cr.fromRange(w),this._blockMode=!0;else if(f.length==1){const A=b.start.isTouching(w.start)&&b.end.isTouching(w.end);this._draggedRange=cr.fromRange(A?w:b),this._blockMode=A}n.change(A=>A.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:t,clientX:n}){const a=this.editor.editing.view,u=a.document.selection.editableElement,f=a.domConverter.mapViewToDom(u),b=y.window.getComputedStyle(f);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=fi(y.document,"div",{style:"position: fixed; left: -999999px;"}),y.document.body.appendChild(this._previewContainer));const w=new pn(f);if(f.contains(t))return;const A=parseFloat(b.paddingLeft),E=fi(y.document,"div");E.className="ck ck-content",E.style.width=b.width,E.style.paddingLeft=`${w.left-n+A}px`,S.isiOS&&(E.style.backgroundColor="white"),E.innerHTML=e.getData("text/html"),e.setDragImage(E,0,0),this._previewContainer.appendChild(E)}}function SE(r){return S.isGecko?r.dropEffect:["all","copyMove"].includes(r.effectAllowed)?"move":"copy"}function jE(r){if(r.is("editableElement"))return null;if(r.hasClass("ck-widget__selection-handle"))return r.findAncestor(os);if(os(r))return r;const e=r.findAncestor(t=>os(t)||t.is("editableElement"));return os(e)?e:null}function DE(r,e){const t=e[0],n=e[e.length-1],a=t.getCommonAncestor(n),u=r.createPositionBefore(t),f=r.createPositionAfter(n);if(a&&a.is("element")&&!r.schema.isLimit(a)){const b=r.createRangeOn(a),w=u.isTouching(b.start),A=f.isTouching(b.end);if(w&&A)return DE(r,[a])}return r.createRange(u,f)}class e4 extends at{static get pluginName(){return"PastePlainText"}static get requires(){return[Ml]}init(){const e=this.editor,t=e.model,n=e.editing.view,a=n.document,u=t.document.selection;let f=!1;n.addObserver(jg),this.listenTo(a,"keydown",(b,w)=>{f=w.shiftKey}),e.plugins.get(Ml).on("contentInsertion",(b,w)=>{(f||function(A,E){if(A.childCount>1)return!1;const O=A.getChild(0);return E.isObject(O)?!1:Array.from(O.getAttributeKeys()).length==0}(w.content,t.schema))&&t.change(A=>{const E=Array.from(u.getAttributes()).filter(([z])=>t.schema.getAttributeProperties(z).isFormatting);u.isCollapsed||t.deleteContent(u,{doNotAutoparagraph:!0}),E.push(...u.getAttributes());const O=A.createRangeIn(w.content);for(const z of O.getItems())z.is("$textProxy")&&A.setAttributes(E,z)})})}}class TE extends at{static get pluginName(){return"Clipboard"}static get requires(){return[Dg,Ml,JR,e4]}init(){const e=this.editor,t=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Copy selected content"),keystroke:"CTRL+C"},{label:t("Paste content"),keystroke:"CTRL+V"},{label:t("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class t4 extends Vt{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!ME(e.schema,n))do if(n=n.parent,!n)return;while(!ME(e.schema,n));e.change(a=>{a.setSelection(n,"in")})}}function ME(r,e){return r.isLimit(e)&&(r.checkChild(e,"$text")||r.checkChild(e,"paragraph"))}const n4=Gt("Ctrl+A");class i4 extends at{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,t=e.t,n=e.editing.view.document;e.commands.add("selectAll",new t4(e)),this.listenTo(n,"keydown",(a,u)=>{zt(u)===n4&&(e.execute("selectAll"),u.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Select all"),keystroke:"CTRL+A"}]})}}class r4 extends at{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",()=>{const t=this._createButton(R);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(al))}_createButton(e){const t=this.editor,n=t.locale,a=t.commands.get("selectAll"),u=new e(t.locale),f=n.t;return u.set({label:f("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),u.bind("isEnabled").to(a,"isEnabled"),this.listenTo(u,"execute",()=>{t.execute("selectAll"),t.editing.view.focus()}),u}}class s4 extends at{static get requires(){return[i4,r4]}static get pluginName(){return"SelectAll"}}var o4=Object.defineProperty,IE=Object.getOwnPropertySymbols,a4=Object.prototype.hasOwnProperty,l4=Object.prototype.propertyIsEnumerable,OE=(r,e,t)=>e in r?o4(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class LE extends Vt{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(t,n)=>{n[1]=((u,f)=>{for(var b in f||(f={}))a4.call(f,b)&&OE(u,b,f[b]);if(IE)for(var b of IE(f))l4.call(f,b)&&OE(u,b,f[b]);return u})({},n[1]);const a=n[1];a.batchType||(a.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,n)=>{n[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,n){const a=this.editor.model,u=a.document,f=[],b=e.map(A=>A.getTransformedByOperations(n)),w=b.flat();for(const A of b){const E=A.filter(O=>O.root!=u.graveyard).filter(O=>!d4(O,w));E.length&&(c4(E),f.push(E[0]))}f.length&&a.change(A=>{A.setSelection(f,{backward:t})})}_undo(e,t){const n=this.editor.model,a=n.document;this._createdBatches.add(t);const u=e.operations.slice().filter(f=>f.isDocumentOperation);u.reverse();for(const f of u){const b=f.baseVersion+1,w=Array.from(a.history.getOperations(b)),A=Ck([f.getReversed()],w,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let E of A){const O=E.affectedSelectable;O&&!n.canEditAt(O)&&(E=new Ur(E.baseVersion)),t.addOperation(E),n.applyOperation(E),a.history.setOperationAsUndone(f,E)}}}}function c4(r){r.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<r.length;e++){const t=r[e-1].getJoined(r[e],!0);t&&(e--,r.splice(e,2,t))}}function d4(r,e){return e.some(t=>t!==r&&t.containsRange(r,!0))}class u4 extends LE{execute(e=null){const t=e?this._stack.findIndex(u=>u.batch==e):this._stack.length-1,n=this._stack.splice(t,1)[0],a=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(a,()=>{this._undo(n.batch,a);const u=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,u)}),this.fire("revert",n.batch,a),this.refresh()}}class h4 extends LE{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const n=e.batch.operations[e.batch.operations.length-1].baseVersion+1,a=this.editor.model.document.history.getOperations(n);this._restoreSelection(e.selection.ranges,e.selection.isBackward,a),this._undo(e.batch,t)}),this.refresh()}}class m4 extends at{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor,t=e.t;this._undoCommand=new u4(e),this._redoCommand=new h4(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(n,a)=>{const u=a[0];if(!u.isDocumentOperation)return;const f=u.batch,b=this._redoCommand.createdBatches.has(f),w=this._undoCommand.createdBatches.has(f);this._batchRegistry.has(f)||(this._batchRegistry.add(f),f.isUndoable&&(b?this._undoCommand.addBatch(f):w||(this._undoCommand.addBatch(f),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(n,a,u)=>{this._redoCommand.addBatch(u)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Undo"),keystroke:"CTRL+Z"},{label:t("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class f4 extends at{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,n=e.t,a=t.uiLanguageDirection=="ltr"?In.undo:In.redo,u=t.uiLanguageDirection=="ltr"?In.redo:In.undo;this._addButtonsToFactory("undo",n("Undo"),"CTRL+Z",a),this._addButtonsToFactory("redo",n("Redo"),"CTRL+Y",u)}_addButtonsToFactory(e,t,n,a){const u=this.editor;u.ui.componentFactory.add(e,()=>{const f=this._createButton(R,e,t,n,a);return f.set({tooltip:!0}),f}),u.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(al,e,t,n,a))}_createButton(e,t,n,a,u){const f=this.editor,b=f.locale,w=f.commands.get(t),A=new e(b);return A.set({label:n,icon:u,keystroke:a}),A.bind("isEnabled").to(w,"isEnabled"),this.listenTo(A,"execute",()=>{f.execute(t),f.editing.view.focus()}),A}}class BE extends at{static get requires(){return[m4,f4]}static get pluginName(){return"Undo"}}class p4 extends Te(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((n,a)=>{t.onload=()=>{const u=t.result;this._data=u,n(u)},t.onerror=()=>{a("error")},t.onabort=()=>{a("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class gc extends at{constructor(){super(...arguments),this.loaders=new Ro,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[Qk]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return ue("filerepository-no-upload-adapter"),null;const t=new PE(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(n=>{this._loadersMap.set(n,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let n=0;for(const a of this.loaders)n+=a.uploaded;this.uploaded=n}),t.on("change:uploadTotal",()=>{let n=0;for(const a of this.loaders)a.uploadTotal&&(n+=a.uploadTotal);this.uploadTotal=n}),t}destroyLoader(e){const t=e instanceof PE?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((n,a)=>{n===t&&this._loadersMap.delete(a)})}_updatePendingAction(){const e=this.editor.plugins.get(Qk);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,n=a=>`${t("Upload in progress")} ${parseInt(a)}%.`;this._pendingAction=e.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else e.remove(this._pendingAction),this._pendingAction=null}}class PE extends Te(){constructor(e,t){super(),this.id=ee(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new p4,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(n,a)=>a?n/a*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new q("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new q("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((n,a)=>{t.rejecter=a,t.isFulfilled=!1,e.then(u=>{t.isFulfilled=!0,n(u)}).catch(u=>{t.isFulfilled=!0,a(u)})}),t}}const RE="ckCsrfToken",zE="abcdefghijklmnopqrstuvwxyz0123456789";function g4(){let r=function(n){n=n.toLowerCase();const a=document.cookie.split(";");for(const u of a){const f=u.split("=");if(decodeURIComponent(f[0].trim().toLowerCase())===n)return decodeURIComponent(f[1])}return null}(RE);var e,t;return r&&r.length==40||(r=function(n){let a="";const u=new Uint8Array(n);window.crypto.getRandomValues(u);for(let f=0;f<u.length;f++){const b=zE.charAt(u[f]%zE.length);a+=Math.random()>.5?b.toUpperCase():b}return a}(40),e=RE,t=r,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/"),r}class b4{constructor(e,t,n){this.loader=e,this.url=t,this.t=n}upload(){return this.loader.file.then(e=>new Promise((t,n)=>{this._initRequest(),this._initListeners(t,n,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,t,n){const a=this.xhr,u=this.loader,f=(0,this.t)("Cannot upload file:")+` ${n.name}.`;a.addEventListener("error",()=>t(f)),a.addEventListener("abort",()=>t()),a.addEventListener("load",()=>{const b=a.response;if(!b||!b.uploaded)return t(b&&b.error&&b.error.message?b.error.message:f);e({default:b.url})}),a.upload&&a.upload.addEventListener("progress",b=>{b.lengthComputable&&(u.uploadTotal=b.total,u.uploaded=b.loaded)})}_sendRequest(e){const t=new FormData;t.append("upload",e),t.append("ckCsrfToken",g4()),this.xhr.send(t)}}function lh(r,e,t,n){let a,u=null;typeof n=="function"?a=n:(u=r.commands.get(n),a=()=>{r.execute(n)}),r.model.document.on("change:data",(f,b)=>{if(u&&!u.isEnabled||!e.isEnabled)return;const w=qn(r.model.document.selection.getRanges());if(!w.isCollapsed||b.isUndo||!b.isLocal)return;const A=Array.from(r.model.document.differ.getChanges()),E=A[0];if(A.length!=1||E.type!=="insert"||E.name!="$text"||E.length!=1)return;const O=E.position.parent;if(O.is("element","codeBlock")||O.is("element","listItem")&&typeof n!="function"&&!["numberedList","bulletedList","todoList"].includes(n)||u&&u.value===!0)return;const z=O.getChild(0),U=r.model.createRangeOn(z);if(!U.containsRange(w)&&!w.end.isEqual(U.end))return;const W=t.exec(z.data.substr(0,w.end.offset));W&&r.model.enqueueChange(X=>{const ae=X.createPositionAt(O,0),ge=X.createPositionAt(O,W[0].length),De=new cr(ae,ge);if(a({match:W})!==!1){X.remove(De);const Ze=r.model.document.selection.getFirstRange(),ft=X.createRangeIn(O);!O.isEmpty||ft.isEqual(Ze)||ft.containsRange(Ze,!0)||X.remove(O)}De.detach(),r.model.enqueueChange(()=>{r.plugins.get("Delete").requestUndoOnBackspace()})})})}function $f(r,e,t,n){let a,u;t instanceof RegExp?a=t:u=t,u=u||(f=>{let b;const w=[],A=[];for(;(b=a.exec(f))!==null&&!(b&&b.length<4);){let{index:E,1:O,2:z,3:U}=b;const W=O+z+U;E+=b[0].length-W.length;const X=[E,E+O.length],ae=[E+O.length+z.length,E+O.length+z.length+U.length];w.push(X),w.push(ae),A.push([E+O.length,E+O.length+z.length])}return{remove:w,format:A}}),r.model.document.on("change:data",(f,b)=>{if(b.isUndo||!b.isLocal||!e.isEnabled)return;const w=r.model,A=w.document.selection;if(!A.isCollapsed)return;const E=Array.from(w.document.differ.getChanges()),O=E[0];if(E.length!=1||O.type!=="insert"||O.name!="$text"||O.length!=1)return;const z=A.focus,U=z.parent,{text:W,range:X}=function(Ze,ft){let Ht=Ze.start;return{text:Array.from(Ze.getItems()).reduce((Fn,rr)=>!rr.is("$text")&&!rr.is("$textProxy")||rr.getAttribute("code")?(Ht=ft.createPositionAfter(rr),""):Fn+rr.data,""),range:ft.createRange(Ht,Ze.end)}}(w.createRange(w.createPositionAt(U,0),z),w),ae=u(W),ge=FE(X.start,ae.format,w),De=FE(X.start,ae.remove,w);ge.length&&De.length&&w.enqueueChange(Ze=>{if(n(Ze,ge)!==!1){for(const ft of De.reverse())Ze.remove(ft);w.enqueueChange(()=>{r.plugins.get("Delete").requestUndoOnBackspace()})}})})}function FE(r,e,t){return e.filter(n=>n[0]!==void 0&&n[1]!==void 0).map(n=>t.createRange(r.getShiftedBy(n[0]),r.getShiftedBy(n[1])))}function v_(r,e){return(t,n)=>{if(!r.commands.get(e).isEnabled)return!1;const a=r.model.schema.getValidRanges(n,e);for(const u of a)t.setAttribute(e,!0,u);t.removeSelectionAttribute(e)}}class VE extends Vt{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,n=t.document.selection,a=e.forceValue===void 0?!this.value:e.forceValue;t.change(u=>{if(n.isCollapsed)a?u.setSelectionAttribute(this.attributeKey,!0):u.removeSelectionAttribute(this.attributeKey);else{const f=t.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const b of f)a?u.setAttribute(this.attributeKey,a,b):u.removeAttribute(this.attributeKey,b)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const a of n.getRanges())for(const u of a.getItems())if(t.checkAttribute(u,this.attributeKey))return u.hasAttribute(this.attributeKey);return!1}}const qf="bold";class k4 extends at{static get pluginName(){return"BoldEditing"}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:qf}),e.model.schema.setAttributeProperties(qf,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:qf,view:"strong",upcastAlso:["b",n=>{const a=n.getStyle("font-weight");return a&&(a=="bold"||Number(a)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(qf,new VE(e,qf)),e.keystrokes.set("CTRL+B",qf),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Bold text"),keystroke:"CTRL+B"}]})}}function HE({editor:r,commandName:e,plugin:t,icon:n,label:a,keystroke:u}){return f=>{const b=r.commands.get(e),w=new f(r.locale);return w.set({label:a,icon:n,keystroke:u,isToggleable:!0}),w.bind("isEnabled").to(b,"isEnabled"),t.listenTo(w,"execute",()=>{r.execute(e),r.editing.view.focus()}),w}}const w_="bold";class _4 extends at{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.locale.t,n=e.commands.get(w_),a=HE({editor:e,commandName:w_,plugin:this,icon:In.bold,label:t("Bold"),keystroke:"CTRL+B"});e.ui.componentFactory.add(w_,()=>{const u=a(R);return u.set({tooltip:!0}),u.bind("isOn").to(n,"value"),u}),e.ui.componentFactory.add("menuBar:"+w_,()=>a(al))}}var UE=h(4199),v4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(UE.A,v4),UE.A.locals;const Wf="italic";class w4 extends at{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Wf}),e.model.schema.setAttributeProperties(Wf,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Wf,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Wf,new VE(e,Wf)),e.keystrokes.set("CTRL+I",Wf),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Italic text"),keystroke:"CTRL+I"}]})}}const y_="italic";class y4 extends at{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.commands.get(y_),n=e.locale.t,a=HE({editor:e,commandName:y_,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:n("Italic")});e.ui.componentFactory.add(y_,()=>{const u=a(R);return u.set({tooltip:!0}),u.bind("isOn").to(t,"value"),u}),e.ui.componentFactory.add("menuBar:"+y_,()=>a(al))}}class x4 extends Vt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.schema,a=t.document.selection,u=Array.from(a.getSelectedBlocks()),f=e.forceValue===void 0?!this.value:e.forceValue;t.change(b=>{if(f){const w=u.filter(A=>x_(A)||qE(n,A));this._applyQuote(b,w)}else this._removeQuote(b,u.filter(x_))})}_getValue(){const e=qn(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!x_(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=qn(e.getSelectedBlocks());return!!n&&qE(t,n)}_removeQuote(e,t){$E(e,t).reverse().forEach(n=>{if(n.start.isAtStart&&n.end.isAtEnd)return void e.unwrap(n.start.parent);if(n.start.isAtStart){const u=e.createPositionBefore(n.start.parent);return void e.move(n,u)}n.end.isAtEnd||e.split(n.end);const a=e.createPositionAfter(n.end.parent);e.move(n,a)})}_applyQuote(e,t){const n=[];$E(e,t).reverse().forEach(a=>{let u=x_(a.start);u||(u=e.createElement("blockQuote"),e.wrap(a,u)),n.push(u)}),n.reverse().reduce((a,u)=>a.nextSibling==u?(e.merge(e.createPositionAfter(a)),a):u)}}function x_(r){return r.parent.name=="blockQuote"?r.parent:null}function $E(r,e){let t,n=0;const a=[];for(;n<e.length;){const u=e[n],f=e[n+1];t||(t=r.createPositionBefore(u)),f&&u.nextSibling==f||(a.push(r.createRange(t,r.createPositionAfter(u))),t=null),n++}return a}function qE(r,e){const t=r.checkChild(e.parent,"blockQuote"),n=r.checkChild(["$root","blockQuote"],e);return t&&n}class C4 extends at{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[p_,ru]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new x4(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(f=>{const b=e.model.document.differ.getChanges();for(const w of b)if(w.type=="insert"){const A=w.position.nodeAfter;if(!A)continue;if(A.is("element","blockQuote")&&A.isEmpty)return f.remove(A),!0;if(A.is("element","blockQuote")&&!t.checkChild(w.position,A))return f.unwrap(A),!0;if(A.is("element")){const E=f.createRangeIn(A);for(const O of E.getItems())if(O.is("element","blockQuote")&&!t.checkChild(f.createPositionBefore(O),O))return f.unwrap(O),!0}}else if(w.type=="remove"){const A=w.position.parent;if(A.is("element","blockQuote")&&A.isEmpty)return f.remove(A),!0}return!1});const n=this.editor.editing.view.document,a=e.model.document.selection,u=e.commands.get("blockQuote");this.listenTo(n,"enter",(f,b)=>{!a.isCollapsed||!u.value||a.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),b.preventDefault(),f.stop())},{context:"blockquote"}),this.listenTo(n,"delete",(f,b)=>{if(b.direction!="backward"||!a.isCollapsed||!u.value)return;const w=a.getLastPosition().parent;w.isEmpty&&!w.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),b.preventDefault(),f.stop())},{context:"blockquote"})}}var WE=h(8708),A4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(WE.A,A4),WE.A.locals;class N4 extends at{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,t=e.commands.get("blockQuote");e.ui.componentFactory.add("blockQuote",()=>{const n=this._createButton(R);return n.set({tooltip:!0}),n.bind("isOn").to(t,"value"),n}),e.ui.componentFactory.add("menuBar:blockQuote",()=>this._createButton(al))}_createButton(e){const t=this.editor,n=t.locale,a=t.commands.get("blockQuote"),u=new e(t.locale),f=n.t;return u.set({label:f("Block quote"),icon:In.quote,isToggleable:!0}),u.bind("isEnabled").to(a,"isEnabled"),this.listenTo(u,"execute",()=>{t.execute("blockQuote"),t.editing.view.focus()}),u}}class E4 extends at{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor;if(!e.commands.get("ckbox"))return;const t=e.t,n=e.ui.componentFactory;if(n.add("ckbox",()=>{const a=this._createButton(R);return a.tooltip=!0,a}),n.add("menuBar:ckbox",()=>this._createButton(al)),e.plugins.has("ImageInsertUI")){const a=e.plugins.get("ImageInsertUI");a.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckbox"),buttonViewCreator:()=>{const u=this.editor.ui.componentFactory.create("ckbox");return u.icon=In.imageAssetManager,u.bind("label").to(a,"isImageSelected",f=>t(f?"Replace image with file manager":"Insert image with file manager")),u},formViewCreator:()=>{const u=this.editor.ui.componentFactory.create("ckbox");return u.icon=In.imageAssetManager,u.withText=!0,u.bind("label").to(a,"isImageSelected",f=>t(f?"Replace with file manager":"Insert with file manager")),u.on("execute",()=>{a.dropdownView.isOpen=!1}),u}})}}_createButton(e){const t=this.editor,n=t.locale,a=new e(n),u=t.commands.get("ckbox"),f=n.t;return a.set({label:f("Open file manager"),icon:In.browseFiles}),a.bind("isOn","isEnabled").to(u,"value","isEnabled"),a.on("execute",()=>{t.execute("ckbox")}),a}}var S4=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],Lg=r=>{let e=0;for(let t=0;t<r.length;t++){let n=r[t];e=83*e+S4.indexOf(n)}return e},my=r=>{let e=r/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},fy=r=>{let e=Math.max(0,Math.min(1,r));return e<=.0031308?Math.trunc(12.92*e*255+.5):Math.trunc(255*(1.055*Math.pow(e,.4166666666666667)-.055)+.5)},py=(r,e)=>(t=>t<0?-1:1)(r)*Math.pow(Math.abs(r),e),YE=class extends Error{constructor(r){super(r),this.name="ValidationError",this.message=r}},j4=r=>{if(!r||r.length<6)throw new YE("The blurhash string must be at least 6 characters");let e=Lg(r[0]),t=Math.floor(e/9)+1,n=e%9+1;if(r.length!==4+2*n*t)throw new YE(`blurhash length mismatch: length is ${r.length} but it should be ${4+2*n*t}`)},D4=r=>{let e=r>>8&255,t=255&r;return[my(r>>16),my(e),my(t)]},T4=(r,e)=>{let t=Math.floor(r/361),n=Math.floor(r/19)%19,a=r%19;return[py((t-9)/9,2)*e,py((n-9)/9,2)*e,py((a-9)/9,2)*e]},M4=(r,e,t,n)=>{j4(r),n|=1;let a=Lg(r[0]),u=Math.floor(a/9)+1,f=a%9+1,b=(Lg(r[1])+1)/166,w=new Array(f*u);for(let O=0;O<w.length;O++)if(O===0){let z=Lg(r.substring(2,6));w[O]=D4(z)}else{let z=Lg(r.substring(4+2*O,6+2*O));w[O]=T4(z,b*n)}let A=4*e,E=new Uint8ClampedArray(A*t);for(let O=0;O<t;O++)for(let z=0;z<e;z++){let U=0,W=0,X=0;for(let Ze=0;Ze<u;Ze++)for(let ft=0;ft<f;ft++){let Ht=Math.cos(Math.PI*z*ft/e)*Math.cos(Math.PI*O*Ze/t),jn=w[ft+Ze*f];U+=jn[0]*Ht,W+=jn[1]*Ht,X+=jn[2]*Ht}let ae=fy(U),ge=fy(W),De=fy(X);E[4*z+0+O*A]=ae,E[4*z+1+O*A]=ge,E[4*z+2+O*A]=De,E[4*z+3+O*A]=255}return E},I4=Object.defineProperty,GE=Object.getOwnPropertySymbols,O4=Object.prototype.hasOwnProperty,L4=Object.prototype.propertyIsEnumerable,KE=(r,e,t)=>e in r?I4(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;function QE(r){const e=[];let t=0;for(const a in r){const u=parseInt(a,10);isNaN(u)||(u>t&&(t=u),e.push(`${r[a]} ${a}w`))}const n=[{srcset:e.join(","),sizes:`(max-width: ${t}px) 100vw, ${t}px`,type:"image/webp"}];return{imageFallbackUrl:r.default,imageSources:n}}const Bg=32;function ZE({url:r,method:e="GET",data:t,onUploadProgress:n,signal:a,authorization:u}){const f=new XMLHttpRequest;f.open(e,r.toString()),f.setRequestHeader("Authorization",u),f.setRequestHeader("CKBox-Version","CKEditor 5"),f.responseType="json";const b=()=>{f.abort()};return new Promise((w,A)=>{a.throwIfAborted(),a.addEventListener("abort",b),f.addEventListener("loadstart",()=>{a.addEventListener("abort",b)}),f.addEventListener("loadend",()=>{a.removeEventListener("abort",b)}),f.addEventListener("error",()=>{A()}),f.addEventListener("abort",()=>{A()}),f.addEventListener("load",()=>{const E=f.response;if(!E||E.statusCode>=400)return A(E&&E.message);w(E)}),n&&f.upload.addEventListener("progress",E=>{n(E)}),f.send(t)})}const B4={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};function P4(r,e){return t=this,n=null,a=function*(){try{const u=yield fetch(r,((f,b)=>{for(var w in b||(b={}))O4.call(b,w)&&KE(f,w,b[w]);if(GE)for(var w of GE(b))L4.call(b,w)&&KE(f,w,b[w]);return f})({method:"HEAD",cache:"force-cache"},e));return u.ok&&u.headers.get("content-type")||""}catch{return""}},new Promise((u,f)=>{var b=E=>{try{A(a.next(E))}catch(O){f(O)}},w=E=>{try{A(a.throw(E))}catch(O){f(O)}},A=E=>E.done?u(E.value):Promise.resolve(E.value).then(b,w);A((a=a.apply(t,n)).next())});var t,n,a}var R4=Object.defineProperty,XE=Object.getOwnPropertySymbols,z4=Object.prototype.hasOwnProperty,F4=Object.prototype.propertyIsEnumerable,JE=(r,e,t)=>e in r?R4(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,eS=(r,e)=>{for(var t in e||(e={}))z4.call(e,t)&&JE(r,t,e[t]);if(XE)for(var t of XE(e))F4.call(e,t)&&JE(r,t,e[t]);return r};class V4 extends Vt{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");return!(!e.isEnabled&&!t.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,forceDemoLabel:e.forceDemoLabel,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:t=>this.fire("ckbox:choose",t)}}}_initListeners(){const e=this.editor,t=e.model,n=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=fi(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,e.editing.view.focus())}),this.on("ckbox:choose",(a,u)=>{if(!this.isEnabled)return;const f=e.commands.get("insertImage"),b=e.commands.get("link"),w=function({assets:E,isImageAllowed:O,isLinkAllowed:z}){return E.map(U=>function(W){const X=W.data.metadata;return X?X.width&&X.height:!1}(U)?{id:U.data.id,type:"image",attributes:H4(U)}:{id:U.data.id,type:"link",attributes:U4(U)}).filter(U=>U.type==="image"?O:z)}({assets:u,isImageAllowed:f.isEnabled,isLinkAllowed:b.isEnabled}),A=w.length;A!==0&&(t.change(E=>{for(const O of w){const z=O===w[A-1],U=A===1;this._insertAsset(O,z,E,U),n&&(setTimeout(()=>this._chosenAssets.delete(O),1e3),this._chosenAssets.add(O))}}),e.editing.view.focus())}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,t,n,a){const u=this.editor.model.document.selection;n.removeSelectionAttribute("linkHref"),e.type==="image"?this._insertImage(e):this._insertLink(e,n,a),t||n.setSelection(u.getLastPosition())}_insertImage(e){const t=this.editor,{imageFallbackUrl:n,imageSources:a,imageTextAlternative:u,imageWidth:f,imageHeight:b,imagePlaceholder:w}=e.attributes;t.execute("insertImage",{source:eS({src:n,sources:a,alt:u,width:f,height:b},w?{placeholder:w}:null)})}_insertLink(e,t,n){const a=this.editor,u=a.model,f=u.document.selection,{linkName:b,linkHref:w}=e.attributes;if(f.isCollapsed){const A=no(f.getAttributes()),E=t.createText(b,A);if(!n){const z=f.getLastPosition(),U=z.parent;U.name==="paragraph"&&U.isEmpty||a.execute("insertParagraph",{position:z});const W=u.insertContent(E);return t.setSelection(W),void a.execute("link",w)}const O=u.insertContent(E);t.setSelection(O)}a.execute("link",w)}}function H4(r){const{imageFallbackUrl:e,imageSources:t}=QE(r.data.imageUrls),{description:n,width:a,height:u,blurHash:f}=r.data.metadata,b=function(w){if(w)try{const A=`${Bg}px`,E=document.createElement("canvas");E.setAttribute("width",A),E.setAttribute("height",A);const O=E.getContext("2d");if(!O)return;const z=O.createImageData(Bg,Bg),U=M4(w,Bg,Bg);return z.data.set(U),O.putImageData(z,0,0),E.toDataURL()}catch{return}}(f);return eS({imageFallbackUrl:e,imageSources:t,imageTextAlternative:n||"",imageWidth:a,imageHeight:u},b?{imagePlaceholder:b}:null)}function U4(r){return{linkName:r.data.name,linkHref:$4(r)}}function $4(r){const e=new URL(r.data.url);return e.searchParams.set("download","true"),e.toString()}var gy=(r,e,t)=>new Promise((n,a)=>{var u=w=>{try{b(t.next(w))}catch(A){a(A)}},f=w=>{try{b(t.throw(w))}catch(A){a(A)}},b=w=>w.done?n(w.value):Promise.resolve(w.value).then(u,f);b((t=t.apply(r,e)).next())});class tS extends at{static get pluginName(){return"CKBoxUtils"}static get requires(){return["CloudServices"]}init(){return gy(this,null,function*(){const e=this.editor,t=!!e.config.get("ckbox"),n=!!window.CKBox;if(!t&&!n)return;e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"lark",tokenUrl:e.config.get("cloudServices.tokenUrl")});const a=e.plugins.get("CloudServices"),u=e.config.get("cloudServices.tokenUrl"),f=e.config.get("ckbox.tokenUrl");if(!f)throw new q("ckbox-plugin-missing-token-url",this);this._token=f==u?a.token:yield a.registerTokenUrl(f)})}getToken(){return this._token}getWorkspaceId(){const e=(0,this.editor.t)("Cannot access default workspace."),t=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),n=function(a,u){const[,f]=a.value.split("."),b=JSON.parse(atob(f)),w=b.auth&&b.auth.ckbox&&b.auth.ckbox.workspaces||[b.aud];return u?(b.auth&&b.auth.ckbox&&b.auth.ckbox.role)=="superadmin"||w.includes(u)?u:null:w[0]}(this._token,t);if(n==null)throw oe("ckbox-access-default-workspace-error"),e;return n}getCategoryIdForFile(e,t){return gy(this,null,function*(){const n=(0,this.editor.t)("Cannot determine a category for the uploaded file."),a=this.editor.config.get("ckbox.defaultUploadCategories"),u=this._getAvailableCategories(t),f=typeof e=="string"?(b=yield P4(e,t),B4[b]):function(E){const O=E.name,z=new RegExp("\\.(?<ext>[^.]+)$");return O.match(z).groups.ext.toLowerCase()}(e);var b;const w=yield u;if(!w)throw n;if(a){const E=Object.keys(a).find(O=>a[O].find(z=>z.toLowerCase()==f));if(E){const O=w.find(z=>z.id===E||z.name===E);if(!O)throw n;return O.id}}const A=w.find(E=>E.extensions.find(O=>O.toLowerCase()==f));if(!A)throw n;return A.id})}_getAvailableCategories(e){return gy(this,null,function*(){const t=this.editor,n=this._token,{signal:a}=e,u=t.config.get("ckbox.serviceOrigin"),f=this.getWorkspaceId();try{const w=[];let A,E=0;do{const O=yield b(E);w.push(...O.items),A=O.totalCount-(E+50),E+=50}while(A>0);return w}catch{return a.throwIfAborted(),void oe("ckbox-fetch-category-http-error")}function b(w){const A=new URL("categories",u);return A.searchParams.set("limit","50"),A.searchParams.set("offset",w.toString()),A.searchParams.set("workspaceId",f),ZE({url:A,signal:a,authorization:n.value})}})}}var by=(r,e,t)=>new Promise((n,a)=>{var u=w=>{try{b(t.next(w))}catch(A){a(A)}},f=w=>{try{b(t.throw(w))}catch(A){a(A)}},b=w=>w.done?n(w.value):Promise.resolve(w.value).then(u,f);b((t=t.apply(r,e)).next())});class q4 extends at{static get requires(){return["ImageUploadEditing","ImageUploadProgress",gc,nS]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return by(this,null,function*(){const e=this.editor,t=!!e.config.get("ckbox"),n=!!window.CKBox;if(!t&&!n)return;const a=e.plugins.get(gc),u=e.plugins.get(tS);a.createUploadAdapter=w=>new W4(w,e,u);const f=!e.config.get("ckbox.ignoreDataId"),b=e.plugins.get("ImageUploadEditing");f&&b.on("uploadComplete",(w,{imageElement:A,data:E})=>{e.model.change(O=>{O.setAttribute("ckboxImageId",E.ckboxImageId,A)})})})}}class W4{constructor(e,t,n){this.loader=e,this.token=n.getToken(),this.ckboxUtils=n,this.editor=t,this.controller=new AbortController,this.serviceOrigin=t.config.get("ckbox.serviceOrigin")}upload(){return by(this,null,function*(){const e=this.ckboxUtils,t=this.editor.t,n=yield this.loader.file,a=yield e.getCategoryIdForFile(n,{signal:this.controller.signal}),u=new URL("assets",this.serviceOrigin),f=new FormData;return u.searchParams.set("workspaceId",e.getWorkspaceId()),f.append("categoryId",a),f.append("file",n),ZE({method:"POST",url:u,data:f,onUploadProgress:b=>{b.lengthComputable&&(this.loader.uploadTotal=b.total,this.loader.uploaded=b.loaded)},signal:this.controller.signal,authorization:this.token.value}).then(b=>by(this,null,function*(){const w=QE(b.imageUrls);return{ckboxImageId:b.id,default:w.imageFallbackUrl,sources:w.imageSources}})).catch(()=>{const b=t("Cannot upload file:")+` ${n.name}.`;return Promise.reject(b)})})}abort(){this.controller.abort()}}class nS extends at{static get pluginName(){return"CKBoxEditing"}static get requires(){return["LinkEditing","PictureEditing",q4,tS]}init(){const e=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),rS()&&e.commands.add("ckbox",new V4(e)))}afterInit(){const e=this.editor;this._shouldBeInitialised()&&(e.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||rS()}_checkImagePlugins(){const e=this.editor;e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||oe("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((t,n)=>{if(!t.last.getAttribute("linkHref")&&n==="ckboxLinkId")return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(n=>{n.on("attribute:ckboxLinkId:imageBlock",(a,u,f)=>{const{writer:b,mapper:w,consumable:A}=f;if(!A.consume(u.item,a.name))return;const E=[...w.toViewElement(u.item).getChildren()].find(O=>O.name==="a");E&&(u.item.hasAttribute("ckboxLinkId")?b.setAttribute("data-ckbox-resource-id",u.item.getAttribute("ckboxLinkId"),E):b.removeAttribute("data-ckbox-resource-id",E))},{priority:"low"}),n.on("attribute:ckboxLinkId",(a,u,f)=>{const{writer:b,mapper:w,consumable:A}=f;if(A.consume(u.item,a.name)){if(u.attributeOldValue){const E=iS(b,u.attributeOldValue);b.unwrap(w.toViewRange(u.range),E)}if(u.attributeNewValue){const E=iS(b,u.attributeNewValue);if(u.item.is("selection")){const O=b.document.selection;b.wrap(O.getFirstRange(),E)}else b.wrap(w.toViewRange(u.range),E)}}},{priority:"low"})}),e.conversion.for("upcast").add(n=>{n.on("element:a",(a,u,f)=>{const{writer:b,consumable:w}=f;if(!u.viewItem.getAttribute("href")||!w.consume(u.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const A=u.viewItem.getAttribute("data-ckbox-resource-id");if(A)if(u.modelRange)for(let E of u.modelRange.getItems())E.is("$textProxy")&&(E=E.textNode),G4(E)&&b.setAttribute("ckboxLinkId",A,E);else{const E=u.modelCursor.nodeBefore||u.modelCursor.parent;b.setAttribute("ckboxLinkId",A,E)}},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:n=>n.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const t=e.commands.get("replaceImageSource");t&&this.listenTo(t,"cleanupImage",(n,[a,u])=>{a.removeAttribute("ckboxImageId",u)})}_initFixers(){const e=this.editor,t=e.model,n=t.document.selection;t.document.registerPostFixer(function(a){return u=>{let f=!1;const b=a.model,w=a.commands.get("ckbox");if(!w)return f;for(const A of b.document.differ.getChanges()){if(A.type!=="insert"&&A.type!=="attribute")continue;const E=A.type==="insert"?new Je(A.position,A.position.getShiftedBy(A.length)):A.range,O=A.type==="attribute"&&A.attributeKey==="linkHref"&&A.attributeNewValue===null;for(const z of E.getItems()){if(O&&z.hasAttribute("ckboxLinkId")){u.removeAttribute("ckboxLinkId",z),f=!0;continue}const U=Y4(z,w._chosenAssets);for(const W of U){const X=W.type==="image"?"ckboxImageId":"ckboxLinkId";W.id!==z.getAttribute(X)&&(u.setAttribute(X,W.id,z),f=!0)}}}return f}}(e)),t.document.registerPostFixer(function(a){return u=>!(a.hasAttribute("linkHref")||!a.hasAttribute("ckboxLinkId"))&&(u.removeSelectionAttribute("ckboxLinkId"),!0)}(n))}}function Y4(r,e){const t=r.is("element","imageInline")||r.is("element","imageBlock"),n=r.hasAttribute("linkHref");return[...e].filter(a=>a.type==="image"&&t?a.attributes.imageFallbackUrl===r.getAttribute("src"):a.type==="link"&&n?a.attributes.linkHref===r.getAttribute("linkHref"):void 0)}function iS(r,e){const t=r.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return r.setCustomProperty("link",!0,t),t}function G4(r){return!!r.is("$text")||!(!r.is("element","imageInline")&&!r.is("element","imageBlock"))}function rS(){return!!window.CKBox}var sS=h(1866),K4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(sS.A,K4),sS.A.locals;class Q4 extends at{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,t=e.ui.componentFactory,n=e.t;if(t.add("ckfinder",a=>{const u=this._createButton(R),f=a.t;return u.set({label:f("Insert image or file"),tooltip:!0}),u}),t.add("menuBar:ckfinder",a=>{const u=this._createButton(al),f=a.t;return u.label=f("Image or file"),u}),e.plugins.has("ImageInsertUI")){const a=e.plugins.get("ImageInsertUI");a.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckfinder"),buttonViewCreator:()=>{const u=this.editor.ui.componentFactory.create("ckfinder");return u.icon=In.imageAssetManager,u.bind("label").to(a,"isImageSelected",f=>n(f?"Replace image with file manager":"Insert image with file manager")),u},formViewCreator:()=>{const u=this.editor.ui.componentFactory.create("ckfinder");return u.icon=In.imageAssetManager,u.withText=!0,u.bind("label").to(a,"isImageSelected",f=>n(f?"Replace with file manager":"Insert with file manager")),u.on("execute",()=>{a.dropdownView.isOpen=!1}),u}})}}_createButton(e){const t=this.editor,n=new e(t.locale),a=t.commands.get("ckfinder");return n.icon=In.browseFiles,n.bind("isEnabled").to(a),n.on("execute",()=>{t.execute("ckfinder"),t.editing.view.focus()}),n}}class Z4 extends Vt{constructor(e){super(e),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");this.isEnabled=e.isEnabled||t.isEnabled}execute(){const e=this.editor,t=this.editor.config.get("ckfinder.openerMethod")||"modal";if(t!="popup"&&t!="modal")throw new q("ckfinder-unknown-openermethod",e);const n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;const a=n.onInit;n.language||(n.language=e.locale.uiLanguage),n.onInit=u=>{a&&a(u),u.on("files:choose",f=>{const b=f.data.files.toArray(),w=b.filter(O=>!O.isImage()),A=b.filter(O=>O.isImage());for(const O of w)e.execute("link",O.getUrl());const E=[];for(const O of A){const z=O.getUrl();E.push(z||u.request("file:getProxyUrl",{file:O}))}E.length&&oS(e,E)}),u.on("file:choose:resizedImage",f=>{const b=f.data.resizedUrl;if(b)oS(e,[b]);else{const w=e.plugins.get("Notification"),A=e.locale.t;w.showWarning(A("Could not obtain resized image URL."),{title:A("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[t](n)}}function oS(r,e){if(r.commands.get("insertImage").isEnabled)r.execute("insertImage",{source:e});else{const t=r.plugins.get("Notification"),n=r.locale.t;t.showWarning(n("Could not insert image at the current position."),{title:n("Inserting image failed"),namespace:"ckfinder"})}}class X4 extends at{static get pluginName(){return"CKFinderEditing"}static get requires(){return[ny,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new q("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new Z4(e))}}class J4 extends at{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",gc]}init(){const e=this.editor,t=e.plugins.get("CloudServices"),n=t.token,a=t.uploadUrl;if(!n)return;const u=e.plugins.get("CloudServicesCore");this._uploadGateway=u.createUploadGateway(n,a),e.plugins.get(gc).createUploadAdapter=f=>new ez(this._uploadGateway,f)}}class ez{constructor(e,t){this.uploadGateway=e,this.loader=t}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(t,n)=>{this.loader.uploadTotal=n.total,this.loader.uploaded=n.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class tz extends Vt{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=qn(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&aS(t,e.schema)}execute(e={}){const t=this.editor.model,n=t.document,a=e.selection||n.selection;t.canEditAt(a)&&t.change(u=>{const f=a.getSelectedBlocks();for(const b of f)!b.is("element","paragraph")&&aS(b,t.schema)&&u.rename(b,"paragraph")})}}function aS(r,e){return e.checkChild(r.parent,"paragraph")&&!e.isObject(r)}class nz extends Vt{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,n=e.attributes;let a=e.position;t.canEditAt(a)&&t.change(u=>{if(a=this._findPositionToInsertParagraph(a,u),!a)return;const f=u.createElement("paragraph");n&&t.schema.setAllowedAttributes(f,n,u),t.insertContent(f,a),u.setSelection(f,"in")})}_findPositionToInsertParagraph(e,t){const n=this.editor.model;if(n.schema.checkChild(e,"paragraph"))return e;const a=n.schema.findAllowedParent(e,"paragraph");if(!a)return null;const u=e.parent,f=n.schema.checkChild(u,"$text");return u.isEmpty||f&&e.isAtEnd?n.createPositionAfter(u):!u.isEmpty&&f&&e.isAtStart?n.createPositionBefore(u):t.split(e,a).position}}const lS=class extends at{static get pluginName(){return"Paragraph"}init(){const r=this.editor,e=r.model;r.commands.add("paragraph",new tz(r)),r.commands.add("insertParagraph",new nz(r)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),r.conversion.elementToElement({model:"paragraph",view:"p"}),r.conversion.for("upcast").elementToElement({model:(t,{writer:n})=>lS.paragraphLikeElements.has(t.name)?t.isEmpty?null:n.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let ky=lS;ky.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class iz extends Vt{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=qn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>cS(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,n=t.document,a=e.value;t.change(u=>{const f=Array.from(n.selection.getSelectedBlocks()).filter(b=>cS(b,a,t.schema));for(const b of f)b.is("element",a)||u.rename(b,a)})}}function cS(r,e,t){return t.checkChild(r.parent,e)&&!t.isObject(r)}const dS="paragraph";class rz extends at{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[ky]}init(){const e=this.editor,t=e.config.get("heading.options"),n=[];for(const a of t)a.model!=="paragraph"&&(e.model.schema.register(a.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(a),n.push(a.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new iz(e,n))}afterInit(){const e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(a,u)=>{const f=e.model.document.selection.getFirstPosition().parent;n.some(b=>f.is("element",b.model))&&!f.is("element",dS)&&f.childCount===0&&u.writer.rename(f,dS)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:ne.low+1})}}var uS=h(6269),sz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(uS.A,sz),uS.A.locals;class oz extends at{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,t=e.t,n=function(f){const b=f.t,w={Paragraph:b("Paragraph"),"Heading 1":b("Heading 1"),"Heading 2":b("Heading 2"),"Heading 3":b("Heading 3"),"Heading 4":b("Heading 4"),"Heading 5":b("Heading 5"),"Heading 6":b("Heading 6")};return f.config.get("heading.options").map(A=>{const E=w[A.title];return E&&E!=A.title&&(A.title=E),A})}(e),a=t("Choose heading"),u=t("Heading");e.ui.componentFactory.add("heading",f=>{const b={},w=new Ro,A=e.commands.get("heading"),E=e.commands.get("paragraph"),O=[A];for(const U of n){const W={type:"button",model:new eN({label:U.title,class:U.class,role:"menuitemradio",withText:!0})};U.model==="paragraph"?(W.model.bind("isOn").to(E,"value"),W.model.set("commandName","paragraph"),O.push(E)):(W.model.bind("isOn").to(A,"value",X=>X===U.model),W.model.set({commandName:"heading",commandValue:U.model})),w.add(W),b[U.model]=U.title}const z=nu(f);return x1(z,w,{ariaLabel:u,role:"menu"}),z.buttonView.set({ariaLabel:u,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:u}),z.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),z.bind("isEnabled").toMany(O,"isEnabled",(...U)=>U.some(W=>W)),z.buttonView.bind("label").to(A,"value",E,"value",(U,W)=>{const X=W?"paragraph":U;return typeof X=="boolean"?a:b[X]?b[X]:a}),z.buttonView.bind("ariaLabel").to(A,"value",E,"value",(U,W)=>{const X=W?"paragraph":U;return typeof X=="boolean"?u:b[X]?`${b[X]}, ${u}`:u}),this.listenTo(z,"execute",U=>{const{commandName:W,commandValue:X}=U.source;e.execute(W,X?{value:X}:void 0),e.editing.view.focus()}),z}),e.ui.componentFactory.add("menuBar:heading",f=>{const b=new Vf(f),w=e.commands.get("heading"),A=e.commands.get("paragraph"),E=[w],O=new oy(f);b.set({class:"ck-heading-dropdown"}),O.set({ariaLabel:t("Heading"),role:"menu"}),b.buttonView.set({label:t("Heading")}),b.panelView.children.add(O);for(const z of n){const U=new ry(f,b),W=new al(f);U.children.add(W),O.items.add(U),W.set({label:z.title,role:"menuitemradio",class:z.class}),W.bind("ariaChecked").to(W,"isOn"),W.delegate("execute").to(b),W.on("execute",()=>{const X=z.model==="paragraph"?"paragraph":"heading";e.execute(X,{value:z.model}),e.editing.view.focus()}),z.model==="paragraph"?(W.bind("isOn").to(A,"value"),E.push(A)):W.bind("isOn").to(w,"value",X=>X===z.model)}return b.bind("isEnabled").toMany(E,"isEnabled",(...z)=>z.some(U=>U)),b})}}function hS(r){return r.createContainerElement("figure",{class:"image"},[r.createEmptyElement("img"),r.createSlot("children")])}function mS(r,e){const t=r.plugins.get("ImageUtils"),n=r.plugins.has("ImageInlineEditing")&&r.plugins.has("ImageBlockEditing");return u=>t.isInlineImageView(u)?n&&(u.getStyle("display")=="block"||u.findAncestor(t.isBlockImageView)?"imageBlock":"imageInline")!==e?null:a(u):null;function a(u){const f={name:!0};return u.hasAttribute("src")&&(f.attributes=["src"]),f}}function _y(r,e){const t=qn(e.getSelectedBlocks());return!t||r.isObject(t)||t.isEmpty&&t.name!="listItem"?"imageBlock":"imageInline"}function C_(r){return r&&r.endsWith("px")?parseInt(r):null}function fS(r){const e=C_(r.getStyle("width")),t=C_(r.getStyle("height"));return!(!e||!t)}var az=Object.defineProperty,pS=Object.getOwnPropertySymbols,lz=Object.prototype.hasOwnProperty,cz=Object.prototype.propertyIsEnumerable,gS=(r,e,t)=>e in r?az(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,bS=(r,e)=>{for(var t in e||(e={}))lz.call(e,t)&&gS(r,t,e[t]);if(pS)for(var t of pS(e))cz.call(e,t)&&gS(r,t,e[t]);return r};const dz=/^(image|image-inline)$/;class Oa extends at{constructor(){super(...arguments),this._domEmitter=new(Js())}static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,n=null,a={}){const u=this.editor,f=u.model,b=f.document.selection,w=kS(u,t||b,n);e=bS(bS({},Object.fromEntries(b.getAttributes())),e);for(const A in e)f.schema.checkAttribute(w,A)||delete e[A];return f.change(A=>{const{setImageSizes:E=!0}=a,O=A.createElement(w,e);return f.insertObject(O,t,null,{setSelection:"on",findOptimalPosition:t||w=="imageInline"?void 0:"auto"}),O.parent?(E&&this.setImageNaturalSizeAttributes(O),O):null})}setImageNaturalSizeAttributes(e){const t=e.getAttribute("src");t&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(n=>{const a=new y.window.Image;this._domEmitter.listenTo(a,"load",()=>{e.getAttribute("width")||e.getAttribute("height")||this.editor.model.enqueueChange(n.batch,u=>{u.setAttribute("width",a.naturalWidth,e),u.setAttribute("height",a.naturalHeight,e)}),this._domEmitter.stopListening(a,"load")}),a.src=t}))}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const n=e.getSelectedElement();if(n&&this.isImageWidget(n))return n;let a=t.parent;for(;a;){if(a.is("element")&&this.isImageWidget(a))return a;a=a.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:dz})}isImageAllowed(){const e=this.editor.model.document.selection;return function(t,n){if(kS(t,n,null)=="imageBlock"){const u=function(f,b){const w=hE(f,b),A=w.start.parent;return A.isEmpty&&!A.is("element","$root")?A.parent:A}(n,t.model);if(t.model.schema.checkChild(u,"imageBlock"))return!0}else if(t.model.schema.checkChild(n.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(t){return[...t.focus.getAncestors()].every(n=>!n.is("element","imageBlock"))}(e)}toImageWidget(e,t,n){return t.setCustomProperty("image",!0,e),uy(e,t,{label:()=>{const a=this.findViewImgElement(e).getAttribute("alt");return a?`${a} ${n}`:n}})}isImageWidget(e){return!!e.getCustomProperty("image")&&os(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:n}of t.createRangeIn(e))if(this.isInlineImageView(n))return n}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function kS(r,e,t){const n=r.model.schema,a=r.config.get("image.insert.type");return r.plugins.has("ImageBlockEditing")?r.plugins.has("ImageInlineEditing")?t||(a==="inline"?"imageInline":a!=="auto"?"imageBlock":e.is("selection")?_y(n,e):n.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class uz extends Vt{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor,n=t.plugins.get("ImageUtils"),a=t.model,u=n.getClosestSelectedImageElement(a.document.selection);a.change(f=>{f.setAttribute("alt",e.newValue,u)})}}class hz extends at{static get requires(){return[Oa]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new uz(this.editor))}}var _S=h(4062),mz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(_S.A,mz),_S.A.locals;var vS=h(2722),fz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(vS.A,fz),vS.A.locals;class pz extends St{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new hr,this.keystrokes=new mr,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),In.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),In.cancel,"ck-button-cancel","cancel"),this._focusables=new zo,this._focusCycler=new Tl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),mi({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,n,a){const u=new R(this.locale);return u.set({label:e,icon:t,tooltip:!0}),u.extendTemplate({attributes:{class:n}}),a&&u.delegate("execute").to(this,a),u}_createLabeledInputView(){const e=this.locale.t,t=new Ge(this.locale,i_);return t.label=e("Text alternative"),t}}function wS(r){const e=r.editing.view,t=Ma.defaultPositions,n=r.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(n.getClosestSelectedImageWidget(e.document.selection)),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.viewportStickyNorth]}}class gz extends at{static get requires(){return[c_]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",n=>{const a=e.commands.get("imageTextAlternative"),u=new R(n);return u.set({label:t("Change image text alternative"),icon:In.textAlternative,tooltip:!0}),u.bind("isEnabled").to(a,"isEnabled"),u.bind("isOn").to(a,"value",f=>!!f),this.listenTo(u,"execute",()=>{this._showForm()}),u})}_createForm(){const e=this.editor,t=e.editing.view.document,n=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(ri(pz))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(a,u)=>{this._hideForm(!0),u()}),this.listenTo(e.ui,"update",()=>{n.getClosestSelectedImageWidget(t.selection)?this._isVisible&&function(a){const u=a.plugins.get("ContextualBalloon");if(a.plugins.get("ImageUtils").getClosestSelectedImageWidget(a.editing.view.document.selection)){const f=wS(a);u.updatePosition(f)}}(e):this._hideForm(!0)}),Cn({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,t=e.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:wS(e)}),n.fieldView.value=n.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class yS extends at{static get requires(){return[hz,gz]}static get pluginName(){return"ImageTextAlternative"}}function xS(r,e){const t=(n,a,u)=>{if(!u.consumable.consume(a.item,n.name))return;const f=u.writer,b=u.mapper.toViewElement(a.item),w=r.findViewImgElement(b);a.attributeNewValue===null?(f.removeAttribute("srcset",w),f.removeAttribute("sizes",w)):a.attributeNewValue&&(f.setAttribute("srcset",a.attributeNewValue,w),f.setAttribute("sizes","100vw",w))};return n=>{n.on(`attribute:srcset:${e}`,t)}}function A_(r,e,t){const n=(a,u,f)=>{if(!f.consumable.consume(u.item,a.name))return;const b=f.writer,w=f.mapper.toViewElement(u.item),A=r.findViewImgElement(w);b.setAttribute(u.attributeKey,u.attributeNewValue||"",A)};return a=>{a.on(`attribute:${t}:${e}`,n)}}class CS extends rl{observe(e){this.listenTo(e,"load",(t,n)=>{const a=n.target;this.checkShouldIgnoreEventFromTarget(a)||a.tagName=="IMG"&&this._fireEvents(n)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}var bz=Object.defineProperty,AS=Object.getOwnPropertySymbols,kz=Object.prototype.hasOwnProperty,_z=Object.prototype.propertyIsEnumerable,NS=(r,e,t)=>e in r?bz(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,N_=(r,e)=>{for(var t in e||(e={}))kz.call(e,t)&&NS(r,t,e[t]);if(AS)for(var t of AS(e))_z.call(e,t)&&NS(r,t,e[t]);return r};class vz extends Vt{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||t==="block"&&ue("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||t==="inline"&&ue("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=gn(e.source),n=this.editor.model.document.selection,a=this.editor.plugins.get("ImageUtils"),u=Object.fromEntries(n.getAttributes());t.forEach((f,b)=>{const w=n.getSelectedElement();if(typeof f=="string"&&(f={src:f}),b&&w&&a.isImage(w)){const A=this.editor.model.createPositionAfter(w);a.insertImage(N_(N_({},f),u),A)}else a.insertImage(N_(N_({},f),u))})}}class wz extends Vt{constructor(e){super(e),this.decorate("cleanupImage")}refresh(){const e=this.editor.plugins.get("ImageUtils"),t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(t),this.value=this.isEnabled?t.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement(),n=this.editor.plugins.get("ImageUtils");this.editor.model.change(a=>{a.setAttribute("src",e.source,t),this.cleanupImage(a,t),n.setImageNaturalSizeAttributes(t)})}cleanupImage(e,t){e.removeAttribute("srcset",t),e.removeAttribute("sizes",t),e.removeAttribute("sources",t),e.removeAttribute("width",t),e.removeAttribute("height",t),e.removeAttribute("alt",t)}}class vy extends at{static get requires(){return[Oa]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(CS),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const n=new vz(e),a=new wz(e);e.commands.add("insertImage",n),e.commands.add("replaceImageSource",a),e.commands.add("imageInsert",n)}}class ES extends at{static get requires(){return[Oa]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const t=this.editor,n=t.plugins.get("ImageUtils"),a=e==="imageBlock"?"figure":"img";function u(f,b,w,A){f.on(`attribute:${b}:${e}`,(E,O,z)=>{if(!z.consumable.consume(O.item,E.name))return;const U=z.writer,W=z.mapper.toViewElement(O.item),X=n.findViewImgElement(W);if(O.attributeNewValue!==null?U.setAttribute(w,O.attributeNewValue,X):U.removeAttribute(w,X),O.item.hasAttribute("sources"))return;const ae=O.item.hasAttribute("resizedWidth");if(e==="imageInline"&&!ae&&!A)return;const ge=O.item.getAttribute("width"),De=O.item.getAttribute("height");ge&&De&&U.setStyle("aspect-ratio",`${ge}/${De}`,X)})}t.conversion.for("upcast").attributeToAttribute({view:{name:a,styles:{width:/.+/}},model:{key:"width",value:f=>fS(f)?C_(f.getStyle("width")):null}}).attributeToAttribute({view:{name:a,key:"width"},model:"width"}).attributeToAttribute({view:{name:a,styles:{height:/.+/}},model:{key:"height",value:f=>fS(f)?C_(f.getStyle("height")):null}}).attributeToAttribute({view:{name:a,key:"height"},model:"height"}),t.conversion.for("editingDowncast").add(f=>{u(f,"width","width",!0),u(f,"height","height",!0)}),t.conversion.for("dataDowncast").add(f=>{u(f,"width","width",!1),u(f,"height","height",!1)})}}class SS extends Vt{constructor(e,t){super(e),this._modelElementName=t}refresh(){const e=this.editor.plugins.get("ImageUtils"),t=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(t):this.isEnabled=e.isBlockImage(t)}execute(e={}){const t=this.editor,n=this.editor.model,a=t.plugins.get("ImageUtils"),u=a.getClosestSelectedImageElement(n.document.selection),f=Object.fromEntries(u.getAttributes());return f.src||f.uploadId?n.change(b=>{const{setImageSizes:w=!0}=e,A=Array.from(n.markers).filter(z=>z.getRange().containsItem(u)),E=a.insertImage(f,n.createSelection(u,"on"),this._modelElementName,{setImageSizes:w});if(!E)return null;const O=b.createRangeOn(E);for(const z of A){const U=z.getRange(),W=U.root.rootName!="$graveyard"?U.getJoined(O,!0):O;b.updateMarker(z,{range:W})}return{oldElement:u,newElement:E}}):null}}var jS=h(7378),yz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(jS.A,yz),jS.A.locals;class DS extends at{static get requires(){return[Oa]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const e=this.editor.model.schema;e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["placeholder"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const e=this.editor,t=e.conversion,n=e.plugins.get("ImageUtils");t.for("editingDowncast").add(a=>{a.on("attribute:placeholder",(u,f,b)=>{if(!b.consumable.test(f.item,u.name)||!f.item.is("element","imageBlock")&&!f.item.is("element","imageInline"))return;b.consumable.consume(f.item,u.name);const w=b.writer,A=b.mapper.toViewElement(f.item),E=n.findViewImgElement(A);f.attributeNewValue?(w.addClass("image_placeholder",E),w.setStyle("background-image",`url(${f.attributeNewValue})`,E),w.setCustomProperty("editingPipeline:doNotReuseOnce",!0,E)):(w.removeClass("image_placeholder",E),w.removeStyle("background-image",E))})})}_setupLoadListener(){const e=this.editor,t=e.model,n=e.editing,a=n.view,u=e.plugins.get("ImageUtils");a.addObserver(CS),this.listenTo(a.document,"imageLoaded",(f,b)=>{const w=a.domConverter.mapDomToView(b.target);if(!w)return;const A=u.getImageWidgetFromImageView(w);if(!A)return;const E=n.mapper.toModelElement(A);E&&E.hasAttribute("placeholder")&&t.enqueueChange({isUndoable:!1},O=>{O.removeAttribute("placeholder",E)})})}}class TS extends at{static get requires(){return[vy,ES,Oa,DS,Ml]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new SS(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,a=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToStructure({model:"imageBlock",view:(u,{writer:f})=>hS(f)}),n.for("editingDowncast").elementToStructure({model:"imageBlock",view:(u,{writer:f})=>a.toImageWidget(hS(f),f,t("image widget"))}),n.for("downcast").add(A_(a,"imageBlock","src")).add(A_(a,"imageBlock","alt")).add(xS(a,"imageBlock")),n.for("upcast").elementToElement({view:mS(e,"imageBlock"),model:(u,{writer:f})=>f.createElement("imageBlock",u.hasAttribute("src")?{src:u.getAttribute("src")}:void 0)}).add(function(u){const f=(b,w,A)=>{if(!A.consumable.test(w.viewItem,{name:!0,classes:"image"}))return;const E=u.findViewImgElement(w.viewItem);if(!E||!A.consumable.test(E,{name:!0}))return;A.consumable.consume(w.viewItem,{name:!0,classes:"image"});const O=qn(A.convertItem(E,w.modelCursor).modelRange.getItems());O?(A.convertChildren(w.viewItem,O),A.updateConversionResult(O,w)):A.consumable.revert(w.viewItem,{name:!0,classes:"image"})};return b=>{b.on("element:figure",f)}}(a))}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,a=e.plugins.get("ImageUtils"),u=e.plugins.get("ClipboardPipeline");this.listenTo(u,"inputTransformation",(f,b)=>{const w=Array.from(b.content.getChildren());let A;if(!w.every(a.isInlineImageView))return;A=b.targetRanges?e.editing.mapper.toModelRange(b.targetRanges[0]):t.document.selection.getFirstRange();const E=t.createSelection(A);if(_y(t.schema,E)==="imageBlock"){const O=new fc(n.document),z=w.map(U=>O.createElement("figure",{class:"image"},U));b.content=O.createDocumentFragment(z)}}),this.listenTo(u,"contentInsertion",(f,b)=>{b.method==="paste"&&t.change(w=>{const A=w.createRangeIn(b.content);for(const E of A.getItems())E.is("element","imageBlock")&&a.setImageNaturalSizeAttributes(E)})})}}var MS=h(3350),xz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(MS.A,xz),MS.A.locals;class Cz extends St{constructor(e,t=[]){super(e),this.focusTracker=new hr,this.keystrokes=new mr,this._focusables=new zo,this.children=this.createCollection(),this._focusCycler=new Tl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const n of t)this.children.add(n),this._focusables.add(n),n instanceof On&&this._focusables.addMany(n.children);if(this._focusables.length>1)for(const n of this._focusables)Az(n)&&(n.focusCycler.on("forwardCycle",a=>{this._focusCycler.focusNext(),a.stop()}),n.focusCycler.on("backwardCycle",a=>{this._focusCycler.focusPrevious(),a.stop()}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),mi({view:this});for(const t of this._focusables)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function Az(r){return"focusCycler"in r}class IS extends at{constructor(e){super(e),this._integrations=new Map,e.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get requires(){return[Oa]}init(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(e.model.document,"change",()=>{this.isImageSelected=n.isImage(t.getSelectedElement())});const a=u=>this._createToolbarComponent(u);e.ui.componentFactory.add("insertImage",a),e.ui.componentFactory.add("imageInsert",a)}registerIntegration({name:e,observable:t,buttonViewCreator:n,formViewCreator:a,requiresForm:u}){this._integrations.has(e)&&ue("image-insert-integration-exists",{name:e}),this._integrations.set(e,{observable:t,buttonViewCreator:n,formViewCreator:a,requiresForm:!!u})}_createToolbarComponent(e){const t=this.editor,n=e.t,a=this._prepareIntegrations();if(!a.length)return null;let u;const f=a[0];if(a.length==1){if(!f.requiresForm)return f.buttonViewCreator(!0);u=f.buttonViewCreator(!0)}else{const A=f.buttonViewCreator(!1);u=new n_(e,A),u.tooltip=!0,u.bind("label").to(this,"isImageSelected",E=>n(E?"Replace image":"Insert image"))}const b=this.dropdownView=nu(e,u),w=a.map(({observable:A})=>typeof A=="function"?A():A);return b.bind("isEnabled").toMany(w,"isEnabled",(...A)=>A.some(E=>E)),b.once("change:isOpen",()=>{const A=a.map(({formViewCreator:O})=>O(a.length==1)),E=new Cz(t.locale,A);b.panelView.children.add(E)}),b}_prepareIntegrations(){const e=this.editor.config.get("image.insert.integrations"),t=[];if(!e.length)return ue("image-insert-integrations-not-specified"),t;for(const n of e)this._integrations.has(n)?t.push(this._integrations.get(n)):["upload","assetManager","url"].includes(n)||ue("image-insert-unknown-integration",{item:n});return t.length||ue("image-insert-integrations-not-registered"),t}}var OS=h(265),Nz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(OS.A,Nz),OS.A.locals;class Ez extends at{static get requires(){return[TS,Og,yS,IS]}static get pluginName(){return"ImageBlock"}}class Sz extends at{static get requires(){return[vy,ES,Oa,DS,Ml]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),t.addChildCheck((n,a)=>{if(n.endsWith("caption")&&a.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new SS(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,a=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:(u,{writer:f})=>f.createEmptyElement("img")}),n.for("editingDowncast").elementToStructure({model:"imageInline",view:(u,{writer:f})=>a.toImageWidget(function(b){return b.createContainerElement("span",{class:"image-inline"},b.createEmptyElement("img"))}(f),f,t("image widget"))}),n.for("downcast").add(A_(a,"imageInline","src")).add(A_(a,"imageInline","alt")).add(xS(a,"imageInline")),n.for("upcast").elementToElement({view:mS(e,"imageInline"),model:(u,{writer:f})=>f.createElement("imageInline",u.hasAttribute("src")?{src:u.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,a=e.plugins.get("ImageUtils"),u=e.plugins.get("ClipboardPipeline");this.listenTo(u,"inputTransformation",(f,b)=>{const w=Array.from(b.content.getChildren());let A;if(!w.every(a.isBlockImageView))return;A=b.targetRanges?e.editing.mapper.toModelRange(b.targetRanges[0]):t.document.selection.getFirstRange();const E=t.createSelection(A);if(_y(t.schema,E)==="imageInline"){const O=new fc(n.document),z=w.map(U=>U.childCount===1?(Array.from(U.getAttributes()).forEach(W=>O.setAttribute(...W,a.findViewImgElement(U))),U.getChild(0)):U);b.content=O.createDocumentFragment(z)}}),this.listenTo(u,"contentInsertion",(f,b)=>{b.method==="paste"&&t.change(w=>{const A=w.createRangeIn(b.content);for(const E of A.getItems())E.is("element","imageInline")&&a.setImageNaturalSizeAttributes(E)})})}}class jz extends at{static get requires(){return[Sz,Og,yS,IS]}static get pluginName(){return"ImageInline"}}class LS extends at{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Oa]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),n=e.getFirstPosition().findAncestor("caption");return n&&t.isBlockImage(n.parent)?n:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&t.isBlockImageView(e.parent)?{name:!0}:null}}class Dz extends Vt{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils"),n=e.plugins.get("ImageUtils");if(!e.plugins.has(TS))return this.isEnabled=!1,void(this.value=!1);const a=e.model.document.selection,u=a.getSelectedElement();if(!u){const f=t.getCaptionFromModelSelection(a);return this.isEnabled=!!f,void(this.value=!!f)}this.isEnabled=n.isImage(u),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(u):this.value=!1}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change(n=>{this.value?this._hideImageCaption(n):this._showImageCaption(n,t)})}_showImageCaption(e,t){const n=this.editor.model.document.selection,a=this.editor.plugins.get("ImageCaptionEditing"),u=this.editor.plugins.get("ImageUtils");let f=n.getSelectedElement();const b=a._getSavedCaption(f);u.isInlineImage(f)&&(this.editor.execute("imageTypeBlock"),f=n.getSelectedElement());const w=b||e.createElement("caption");e.append(w,f),t&&e.setSelection(w,"in")}_hideImageCaption(e){const t=this.editor,n=t.model.document.selection,a=t.plugins.get("ImageCaptionEditing"),u=t.plugins.get("ImageCaptionUtils");let f,b=n.getSelectedElement();b?f=u.getCaptionFromImageModelElement(b):(f=u.getCaptionFromModelSelection(n),b=f.parent),a._saveCaption(b,f),e.setSelection(b,"on"),e.remove(f)}}class Tz extends at{constructor(e){super(e),this._savedCaptionsMap=new WeakMap}static get requires(){return[Oa,LS]}static get pluginName(){return"ImageCaptionEditing"}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new Dz(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageUtils"),a=e.plugins.get("ImageCaptionUtils"),u=e.t;e.conversion.for("upcast").elementToElement({view:f=>a.matchImageCaptionViewElement(f),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(f,{writer:b})=>n.isBlockImage(f.parent)?b.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(f,{writer:b})=>{if(!n.isBlockImage(f.parent))return null;const w=b.createEditableElement("figcaption");b.setCustomProperty("imageCaption",!0,w),w.placeholder=u("Enter image caption"),wr({view:t,element:w,keepOnFocus:!0});const A=f.parent.getAttribute("alt");return uE(w,b,{label:A?u("Caption for image: %0",[A]):u("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.plugins.get("ImageCaptionUtils"),a=e.commands.get("imageTypeInline"),u=e.commands.get("imageTypeBlock"),f=b=>{if(!b.return)return;const{oldElement:w,newElement:A}=b.return;if(!w)return;if(t.isBlockImage(w)){const O=n.getCaptionFromImageModelElement(w);if(O)return void this._saveCaption(A,O)}const E=this._getSavedCaption(w);E&&this._saveCaption(A,E)};a&&this.listenTo(a,"execute",f,{priority:"low"}),u&&this.listenTo(u,"execute",f,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?ci.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,n=e.plugins.get("ImageUtils"),a=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",()=>{const u=t.document.differ.getChanges();for(const f of u){if(f.attributeKey!=="alt")continue;const b=f.range.start.nodeAfter;if(n.isBlockImage(b)){const w=a.getCaptionFromImageModelElement(b);if(!w)return;e.editing.reconvertItem(w)}}})}}class Mz extends at{static get requires(){return[LS]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageCaptionUtils"),a=e.t;e.ui.componentFactory.add("toggleImageCaption",u=>{const f=e.commands.get("toggleImageCaption"),b=new R(u);return b.set({icon:In.caption,tooltip:!0,isToggleable:!0}),b.bind("isOn","isEnabled").to(f,"value","isEnabled"),b.bind("label").to(f,"value",w=>a(w?"Toggle caption off":"Toggle caption on")),this.listenTo(b,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const w=n.getCaptionFromModelSelection(e.model.document.selection);if(w){const A=e.editing.mapper.toViewElement(w);t.scrollToTheSelection(),t.change(E=>{E.addClass("image__caption_highlighted",A)})}e.editing.view.focus()}),b})}}var BS=h(5247),Iz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(BS.A,Iz),BS.A.locals;function PS(r){const e=r.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function Oz(r){return new Promise((e,t)=>{const n=r.getAttribute("src");fetch(n).then(a=>a.blob()).then(a=>{const u=RS(a,n),f=u.replace("image/",""),b=new File([a],`image.${f}`,{type:u});e(b)}).catch(a=>a&&a.name==="TypeError"?function(u){return function(f){return new Promise((b,w)=>{const A=y.document.createElement("img");A.addEventListener("load",()=>{const E=y.document.createElement("canvas");E.width=A.width,E.height=A.height,E.getContext("2d").drawImage(A,0,0),E.toBlob(O=>O?b(O):w())}),A.addEventListener("error",()=>w()),A.src=f})}(u).then(f=>{const b=RS(f,u),w=b.replace("image/","");return new File([f],`image.${w}`,{type:b})})}(n).then(e).catch(t):t(a))})}function RS(r,e){return r.type?r.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class Lz extends at{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,t=e.t,n=()=>{const a=this._createButton(Xe);return a.set({label:t("Upload image from computer"),tooltip:!0}),a};if(e.ui.componentFactory.add("uploadImage",n),e.ui.componentFactory.add("imageUpload",n),e.ui.componentFactory.add("menuBar:uploadImage",()=>{const a=this._createButton(EN);return a.label=t("Image from computer"),a}),e.plugins.has("ImageInsertUI")){const a=e.plugins.get("ImageInsertUI");a.registerIntegration({name:"upload",observable:()=>e.commands.get("uploadImage"),buttonViewCreator:()=>{const u=e.ui.componentFactory.create("uploadImage");return u.bind("label").to(a,"isImageSelected",f=>t(f?"Replace image from computer":"Upload image from computer")),u},formViewCreator:()=>{const u=e.ui.componentFactory.create("uploadImage");return u.withText=!0,u.bind("label").to(a,"isImageSelected",f=>t(f?"Replace from computer":"Upload from computer")),u.on("execute",()=>{a.dropdownView.isOpen=!1}),u}})}}_createButton(e){const t=this.editor,n=t.locale,a=t.commands.get("uploadImage"),u=t.config.get("image.upload.types"),f=PS(u),b=new e(t.locale),w=n.t;return b.set({acceptedType:u.map(A=>`image/${A}`).join(","),allowMultipleFiles:!0,label:w("Upload image from computer"),icon:In.imageUpload}),b.bind("isEnabled").to(a),b.on("done",(A,E)=>{const O=Array.from(E).filter(z=>f.test(z.type));O.length&&(t.execute("uploadImage",{file:O}),t.editing.view.focus())}),b}}var zS=h(2267),Bz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(zS.A,Bz),zS.A.locals;var FS=h(7693),Pz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(FS.A,Pz),FS.A.locals;var VS=h(1559),Rz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(VS.A,Rz),VS.A.locals;class zz extends at{constructor(e){super(e),this.uploadStatusChange=(t,n,a)=>{const u=this.editor,f=n.item,b=f.getAttribute("uploadId");if(!a.consumable.consume(n.item,t.name))return;const w=u.plugins.get("ImageUtils"),A=u.plugins.get(gc),E=b?n.attributeNewValue:null,O=this.placeholder,z=u.editing.mapper.toViewElement(f),U=a.writer;if(E=="reading")return HS(z,U),void US(w,O,z,U);if(E=="uploading"){const W=A.loaders.get(b);return HS(z,U),void(W?($S(z,U),function(X,ae,ge,De){const Ze=function(ft){const Ht=ft.createUIElement("div",{class:"ck-progress-bar"});return ft.setCustomProperty("progressBar",!0,Ht),Ht}(ae);ae.insert(ae.createPositionAt(X,"end"),Ze),ge.on("change:uploadedPercent",(ft,Ht,jn)=>{De.change(Fn=>{Fn.setStyle("width",jn+"%",Ze)})})}(z,U,W,u.editing.view),function(X,ae,ge,De){if(De.data){const Ze=X.findViewImgElement(ae);ge.setAttribute("src",De.data,Ze)}}(w,z,U,W)):US(w,O,z,U))}E=="complete"&&A.loaders.get(b)&&function(W,X,ae){const ge=X.createUIElement("div",{class:"ck-image-upload-complete-icon"});X.insert(X.createPositionAt(W,"end"),ge),setTimeout(()=>{ae.change(De=>De.remove(De.createRangeOn(ge)))},3e3)}(z,U,u.editing.view),function(W,X){WS(W,X,"progressBar")}(z,U),$S(z,U),function(W,X){X.removeClass("ck-appear",W)}(z,U)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function HS(r,e){r.hasClass("ck-appear")||e.addClass("ck-appear",r)}function US(r,e,t,n){t.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",t);const a=r.findViewImgElement(t);a.getAttribute("src")!==e&&n.setAttribute("src",e,a),qS(t,"placeholder")||n.insert(n.createPositionAfter(a),function(u){const f=u.createUIElement("div",{class:"ck-upload-placeholder-loader"});return u.setCustomProperty("placeholder",!0,f),f}(n))}function $S(r,e){r.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",r),WS(r,e,"placeholder")}function qS(r,e){for(const t of r.getChildren())if(t.getCustomProperty(e))return t}function WS(r,e,t){const n=qS(r,t);n&&e.remove(e.createRangeOn(n))}var Fz=Object.defineProperty,Vz=Object.defineProperties,Hz=Object.getOwnPropertyDescriptors,YS=Object.getOwnPropertySymbols,Uz=Object.prototype.hasOwnProperty,$z=Object.prototype.propertyIsEnumerable,GS=(r,e,t)=>e in r?Fz(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class qz extends Vt{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(n)}execute(e){const t=gn(e.file),n=this.editor.model.document.selection,a=this.editor.plugins.get("ImageUtils"),u=Object.fromEntries(n.getAttributes());t.forEach((f,b)=>{const w=n.getSelectedElement();if(b&&w&&a.isImage(w)){const A=this.editor.model.createPositionAfter(w);this._uploadImage(f,u,A)}else this._uploadImage(f,u)})}_uploadImage(e,t,n){const a=this.editor,u=a.plugins.get(gc).createLoader(e),f=a.plugins.get("ImageUtils");var b,w;u&&f.insertImage((b=((A,E)=>{for(var O in E||(E={}))Uz.call(E,O)&&GS(A,O,E[O]);if(YS)for(var O of YS(E))$z.call(E,O)&&GS(A,O,E[O]);return A})({},t),w={uploadId:u.id},Vz(b,Hz(w))),n)}}class Wz extends at{constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[gc,ny,Ml,Oa]}static get pluginName(){return"ImageUploadEditing"}init(){const e=this.editor,t=e.model.document,n=e.conversion,a=e.plugins.get(gc),u=e.plugins.get("ImageUtils"),f=e.plugins.get("ClipboardPipeline"),b=PS(e.config.get("image.upload.types")),w=new qz(e);e.commands.add("uploadImage",w),e.commands.add("imageUpload",w),n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(A,E)=>{if(O=E.dataTransfer,Array.from(O.types).includes("text/html")&&O.getData("text/html")!=="")return;var O;const z=Array.from(E.dataTransfer.files).filter(U=>!!U&&b.test(U.type));z.length&&(A.stop(),e.model.change(U=>{E.targetRanges&&U.setSelection(E.targetRanges.map(W=>e.editing.mapper.toModelRange(W))),e.execute("uploadImage",{file:z})}))}),this.listenTo(f,"inputTransformation",(A,E)=>{const O=Array.from(e.editing.view.createRangeIn(E.content)).map(U=>U.item).filter(U=>function(W,X){return!(!W.isInlineImageView(X)||!X.getAttribute("src")||!X.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!X.getAttribute("src").match(/^blob:/g))}(u,U)&&!U.getAttribute("uploadProcessed")).map(U=>({promise:Oz(U),imageElement:U}));if(!O.length)return;const z=new fc(e.editing.view.document);for(const U of O){z.setAttribute("uploadProcessed",!0,U.imageElement);const W=a.createLoader(U.promise);W&&(z.setAttribute("src","",U.imageElement),z.setAttribute("uploadId",W.id,U.imageElement))}}),e.editing.view.document.on("dragover",(A,E)=>{E.preventDefault()}),t.on("change",()=>{const A=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),E=new Set;for(const O of A)if(O.type=="insert"&&O.name!="$text"){const z=O.position.nodeAfter,U=O.position.root.rootName=="$graveyard";for(const W of Yz(e,z)){const X=W.getAttribute("uploadId");if(!X)continue;const ae=a.loaders.get(X);ae&&(U?E.has(X)||ae.abort():(E.add(X),this._uploadImageElements.set(X,W),ae.status=="idle"&&this._readAndUpload(ae)))}}}),this.on("uploadComplete",(A,{imageElement:E,data:O})=>{const z=O.urls?O.urls:O;this.editor.model.change(U=>{U.setAttribute("src",z.default,E),this._parseAndSetSrcsetAttributeOnImage(z,E,U),u.setImageNaturalSizeAttributes(E)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const t=this.editor,n=t.model,a=t.locale.t,u=t.plugins.get(gc),f=t.plugins.get(ny),b=t.plugins.get("ImageUtils"),w=this._uploadImageElements;return n.enqueueChange({isUndoable:!1},E=>{E.setAttribute("uploadStatus","reading",w.get(e.id))}),e.read().then(()=>{const E=e.upload(),O=w.get(e.id);if(S.isSafari){const z=t.editing.mapper.toViewElement(O),U=b.findViewImgElement(z);t.editing.view.once("render",()=>{if(!U.parent)return;const W=t.editing.view.domConverter.mapViewToDom(U.parent);if(!W)return;const X=W.style.display;W.style.display="none",W._ckHack=W.offsetHeight,W.style.display=X})}return t.ui&&t.ui.ariaLiveAnnouncer.announce(a("Uploading image")),n.enqueueChange({isUndoable:!1},z=>{z.setAttribute("uploadStatus","uploading",O)}),E}).then(E=>{n.enqueueChange({isUndoable:!1},O=>{const z=w.get(e.id);O.setAttribute("uploadStatus","complete",z),t.ui&&t.ui.ariaLiveAnnouncer.announce(a("Image upload complete")),this.fire("uploadComplete",{data:E,imageElement:z})}),A()}).catch(E=>{if(t.ui&&t.ui.ariaLiveAnnouncer.announce(a("Error during image upload")),e.status!=="error"&&e.status!=="aborted")throw E;e.status=="error"&&E&&f.showWarning(E,{title:a("Upload failed"),namespace:"upload"}),n.enqueueChange({isUndoable:!1},O=>{O.remove(w.get(e.id))}),A()});function A(){n.enqueueChange({isUndoable:!1},E=>{const O=w.get(e.id);E.removeAttribute("uploadId",O),E.removeAttribute("uploadStatus",O),w.delete(e.id)}),u.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,n){let a=0;const u=Object.keys(e).filter(f=>{const b=parseInt(f,10);if(!isNaN(b))return a=Math.max(a,b),!0}).map(f=>`${e[f]} ${f}w`).join(", ");if(u!=""){const f={srcset:u};t.hasAttribute("width")||t.hasAttribute("height")||(f.width=a),n.setAttributes(f,t)}}}function Yz(r,e){const t=r.plugins.get("ImageUtils");return Array.from(r.model.createRangeOn(e)).filter(n=>t.isImage(n.item)).map(n=>n.item)}var KS=h(4642),Gz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(KS.A,Gz),KS.A.locals;var QS=h(3469),Kz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(QS.A,Kz),QS.A.locals;class Qz extends Vt{constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(n=>{if(n.isDefault)for(const a of n.modelElements)this._defaultStyles[a]=n.name;return[n.name,n]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const t=this.editor,n=t.model,a=t.plugins.get("ImageUtils");n.change(u=>{const f=e.value,{setImageSizes:b=!0}=e;let w=a.getClosestSelectedImageElement(n.document.selection);f&&this.shouldConvertImageType(f,w)&&(this.editor.execute(a.isBlockImage(w)?"imageTypeInline":"imageTypeBlock",{setImageSizes:b}),w=a.getClosestSelectedImageElement(n.document.selection)),!f||this._styles.get(f).isDefault?u.removeAttribute("imageStyle",w):u.setAttribute("imageStyle",f,w),b&&a.setImageNaturalSizeAttributes(w)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}var Zz=Object.defineProperty,ZS=Object.getOwnPropertySymbols,Xz=Object.prototype.hasOwnProperty,Jz=Object.prototype.propertyIsEnumerable,XS=(r,e,t)=>e in r?Zz(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,JS=(r,e)=>{for(var t in e||(e={}))Xz.call(e,t)&&XS(r,t,e[t]);if(ZS)for(var t of ZS(e))Jz.call(e,t)&&XS(r,t,e[t]);return r};const{objectFullWidth:eF,objectInline:ej,objectLeft:tj,objectRight:wy,objectCenter:yy,objectBlockLeft:nj,objectBlockRight:ij}=In,E_={get inline(){return{name:"inline",title:"In line",icon:ej,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:tj,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:nj,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:yy,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:wy,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:ij,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:yy,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:wy,modelElements:["imageBlock"],className:"image-style-side"}}},rj={full:eF,left:nj,right:ij,center:yy,inlineLeft:tj,inlineRight:wy,inline:ej},sj=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function oj(r){ue("image-style-configuration-definition-invalid",r)}const xy={normalizeStyles:function(r){return(r.configuredStyles.options||[]).map(e=>function(t){return t=typeof t=="string"?E_[t]?JS({},E_[t]):{name:t}:function(n,a){const u=JS({},a);for(const f in n)Object.prototype.hasOwnProperty.call(a,f)||(u[f]=n[f]);return u}(E_[t.name],t),typeof t.icon=="string"&&(t.icon=rj[t.icon]||t.icon),t}(e)).filter(e=>function(t,{isBlockPluginLoaded:n,isInlinePluginLoaded:a}){const{modelElements:u,name:f}=t;if(!(u&&u.length&&f))return oj({style:t}),!1;{const b=[n?"imageBlock":null,a?"imageInline":null];if(!u.some(w=>b.includes(w)))return ue("image-style-missing-dependency",{style:t,missingPlugins:u.map(w=>w==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,r))},getDefaultStylesConfiguration:function(r,e){return r&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:r?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(r){return r.has("ImageBlockEditing")&&r.has("ImageInlineEditing")?[...sj]:[]},warnInvalidStyle:oj,DEFAULT_OPTIONS:E_,DEFAULT_ICONS:rj,DEFAULT_DROPDOWN_DEFINITIONS:sj};function aj(r,e){for(const t of e)if(t.name===r)return t}class lj extends at{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Oa]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=xy,n=this.editor,a=n.plugins.has("ImageBlockEditing"),u=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",t(a,u)),this.normalizedStyles=e({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:a,isInlinePluginLoaded:u}),this._setupConversion(a,u),this._setupPostFixer(),n.commands.add("imageStyle",new Qz(n,this.normalizedStyles))}_setupConversion(e,t){const n=this.editor,a=n.model.schema,u=(f=this.normalizedStyles,(w,A,E)=>{if(!E.consumable.consume(A.item,w.name))return;const O=aj(A.attributeNewValue,f),z=aj(A.attributeOldValue,f),U=E.mapper.toViewElement(A.item),W=E.writer;z&&W.removeClass(z.className,U),O&&W.addClass(O.className,U)});var f;const b=function(w){const A={imageInline:w.filter(E=>!E.isDefault&&E.modelElements.includes("imageInline")),imageBlock:w.filter(E=>!E.isDefault&&E.modelElements.includes("imageBlock"))};return(E,O,z)=>{if(!O.modelRange)return;const U=O.viewItem,W=qn(O.modelRange.getItems());if(W&&z.schema.checkAttribute(W,"imageStyle"))for(const X of A[W.name])z.consumable.consume(U,{classes:X.className})&&z.writer.setAttribute("imageStyle",X.name,W)}}(this.normalizedStyles);n.editing.downcastDispatcher.on("attribute:imageStyle",u),n.data.downcastDispatcher.on("attribute:imageStyle",u),e&&(a.extend("imageBlock",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:figure",b,{priority:"low"})),t&&(a.extend("imageInline",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:img",b,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,n=e.plugins.get(Oa),a=new Map(this.normalizedStyles.map(u=>[u.name,u]));t.registerPostFixer(u=>{let f=!1;for(const b of t.differ.getChanges())if(b.type=="insert"||b.type=="attribute"&&b.attributeKey=="imageStyle"){let w=b.type=="insert"?b.position.nodeAfter:b.range.start.nodeAfter;if(w&&w.is("element","paragraph")&&w.childCount>0&&(w=w.getChild(0)),!n.isImage(w))continue;const A=w.getAttribute("imageStyle");if(!A)continue;const E=a.get(A);E&&E.modelElements.includes(w.name)||(u.removeAttribute("imageStyle",w),f=!0)}return f})}}var cj=h(6386),tF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(cj.A,tF),cj.A.locals;class nF extends at{static get requires(){return[lj]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],n=dj(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const u of n)this._createButton(u);const a=dj([...t.filter(te),...xy.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const u of a)this._createDropdown(u,n)}_createDropdown(e,t){const n=this.editor.ui.componentFactory;n.add(e.name,a=>{let u;const{defaultItem:f,items:b,title:w}=e,A=b.filter(U=>t.find(({name:W})=>uj(W)===U)).map(U=>{const W=n.create(U);return U===f&&(u=W),W});b.length!==A.length&&xy.warnInvalidStyle({dropdown:e});const E=nu(a,n_),O=E.buttonView,z=O.arrowView;return Zw(E,A,{enableActiveItemFocusOnDropdownOpen:!0}),O.set({label:hj(w,u.label),class:null,tooltip:!0}),z.unbind("label"),z.set({label:w}),O.bind("icon").toMany(A,"isOn",(...U)=>{const W=U.findIndex(es);return W<0?u.icon:A[W].icon}),O.bind("label").toMany(A,"isOn",(...U)=>{const W=U.findIndex(es);return hj(w,W<0?u.label:A[W].label)}),O.bind("isOn").toMany(A,"isOn",(...U)=>U.some(es)),O.bind("class").toMany(A,"isOn",(...U)=>U.some(es)?"ck-splitbutton_flatten":void 0),O.on("execute",()=>{A.some(({isOn:U})=>U)?E.isOpen=!E.isOpen:u.fire("execute")}),E.bind("isEnabled").toMany(A,"isEnabled",(...U)=>U.some(es)),this.listenTo(E,"execute",()=>{this.editor.editing.view.focus()}),E})}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(uj(t),n=>{const a=this.editor.commands.get("imageStyle"),u=new R(n);return u.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),u.bind("isEnabled").to(a,"isEnabled"),u.bind("isOn").to(a,"value",f=>f===t),u.on("execute",this._executeCommand.bind(this,t)),u})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function dj(r,e){for(const t of r)e[t.title]&&(t.title=e[t.title]);return r}function uj(r){return`imageStyle:${r}`}function hj(r,e){return(r?r+": ":"")+e}class iF extends at{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new cn(e)),e.commands.add("outdent",new cn(e))}}class rF extends at{static get pluginName(){return"IndentUI"}init(){const e=this.editor,t=e.locale,n=e.t,a=t.uiLanguageDirection=="ltr"?In.indent:In.outdent,u=t.uiLanguageDirection=="ltr"?In.outdent:In.indent;this._defineButton("indent",n("Increase indent"),a),this._defineButton("outdent",n("Decrease indent"),u)}_defineButton(e,t,n){const a=this.editor;a.ui.componentFactory.add(e,()=>{const u=this._createButton(R,e,t,n);return u.set({tooltip:!0}),u}),a.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(al,e,t,n))}_createButton(e,t,n,a){const u=this.editor,f=u.commands.get(t),b=new e(u.locale);return b.set({label:n,icon:a}),b.bind("isEnabled").to(f,"isEnabled"),this.listenTo(b,"execute",()=>{u.execute(t),u.editing.view.focus()}),b}}class sF{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,n,a)=>{if(!a.consumable.test(n.item,"attribute:linkHref")||!n.item.is("selection")&&!a.schema.isInline(n.item))return;const u=a.writer,f=u.document.selection;for(const b of this._definitions){const w=u.createAttributeElement("a",b.attributes,{priority:5});b.classes&&u.addClass(b.classes,w);for(const A in b.styles)u.setStyle(A,b.styles[A],w);u.setCustomProperty("link",!0,w),b.callback(n.attributeNewValue)?n.item.is("selection")?u.wrap(f.getFirstRange(),w):u.wrap(a.mapper.toViewRange(n.range),w):u.unwrap(a.mapper.toViewRange(n.range),w)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,n,{writer:a,mapper:u})=>{const f=u.toViewElement(n.item),b=Array.from(f.getChildren()).find(w=>w.is("element","a"));for(const w of this._definitions){const A=no(w.attributes);if(w.callback(n.attributeNewValue)){for(const[E,O]of A)E==="class"?a.addClass(O,b):a.setAttribute(E,O,b);w.classes&&a.addClass(w.classes,b);for(const E in w.styles)a.setStyle(E,w.styles[E],b)}else{for(const[E,O]of A)E==="class"?a.removeClass(O,b):a.removeAttribute(E,b);w.classes&&a.removeClass(w.classes,b);for(const E in w.styles)a.removeStyle(E,b)}}})}}}const oF=function(r,e,t){var n=r.length;return t=t===void 0?n:t,!e&&t>=n?r:yp(r,e,t)};var aF=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const mj=function(r){return aF.test(r)},lF=function(r){return r.split("")};var fj="\\ud800-\\udfff",cF="["+fj+"]",Cy="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ay="\\ud83c[\\udffb-\\udfff]",pj="[^"+fj+"]",gj="(?:\\ud83c[\\udde6-\\uddff]){2}",bj="[\\ud800-\\udbff][\\udc00-\\udfff]",kj="(?:"+Cy+"|"+Ay+")?",_j="[\\ufe0e\\ufe0f]?",dF=_j+kj+("(?:\\u200d(?:"+[pj,gj,bj].join("|")+")"+_j+kj+")*"),uF="(?:"+[pj+Cy+"?",Cy,gj,bj,cF].join("|")+")",hF=RegExp(Ay+"(?="+Ay+")|"+uF+dF,"g");const mF=function(r){return r.match(hF)||[]},fF=function(r){return mj(r)?mF(r):lF(r)},pF=function(r){return function(e){e=Vc(e);var t=mj(e)?fF(e):void 0,n=t?t[0]:e.charAt(0),a=t?oF(t,1).join(""):e.slice(1);return n[r]()+a}}("toUpperCase"),gF=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,bF=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,kF=/^((\w+:(\/{2,})?)|(\W))/i,_F=["https?","ftps?","mailto"],S_="Ctrl+K";function vj(r,{writer:e}){const t=e.createAttributeElement("a",{href:r},{priority:5});return e.setCustomProperty("link",!0,t),t}function wj(r,e=_F){const t=String(r),n=e.join("|");return function(a,u){return!!a.replace(gF,"").match(u)}(t,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",n)}`,"i"))?t:"#"}function Ny(r,e){return!!r&&e.checkAttribute(r.name,"linkHref")}function Ey(r,e){const t=(n=r,bF.test(n)?"mailto:":e);var n;const a=!!t&&!yj(r);return r&&a?t+r:r}function yj(r){return kF.test(r)}function xj(r){window.open(r,"_blank","noopener")}class vF extends Vt{constructor(){super(...arguments),this.manualDecorators=new Ro,this.automaticDecorators=new sF}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement()||qn(t.getSelectedBlocks());Ny(n,e.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const a of this.manualDecorators)a.value=this._getDecoratorStateFromModel(a.id)}execute(e,t={}){const n=this.editor.model,a=n.document.selection,u=[],f=[];for(const b in t)t[b]?u.push(b):f.push(b);n.change(b=>{if(a.isCollapsed){const w=a.getFirstPosition();if(a.hasAttribute("linkHref")){const A=Cj(a);let E=f_(w,"linkHref",a.getAttribute("linkHref"),n);a.getAttribute("linkHref")===A&&(E=this._updateLinkContent(n,b,E,e)),b.setAttribute("linkHref",e,E),u.forEach(O=>{b.setAttribute(O,!0,E)}),f.forEach(O=>{b.removeAttribute(O,E)}),b.setSelection(b.createPositionAfter(E.end.nodeBefore))}else if(e!==""){const A=no(a.getAttributes());A.set("linkHref",e),u.forEach(O=>{A.set(O,!0)});const{end:E}=n.insertContent(b.createText(e,A),w);b.setSelection(E)}["linkHref",...u,...f].forEach(A=>{b.removeSelectionAttribute(A)})}else{const w=n.schema.getValidRanges(a.getRanges(),"linkHref"),A=[];for(const O of a.getSelectedBlocks())n.schema.checkAttribute(O,"linkHref")&&A.push(b.createRangeOn(O));const E=A.slice();for(const O of w)this._isRangeToUpdate(O,A)&&E.push(O);for(const O of E){let z=O;if(E.length===1){const U=Cj(a);a.getAttribute("linkHref")===U&&(z=this._updateLinkContent(n,b,O,e),b.setSelection(b.createSelection(z)))}b.setAttribute("linkHref",e,z),u.forEach(U=>{b.setAttribute(U,!0,z)}),f.forEach(U=>{b.removeAttribute(U,z)})}}})}_getDecoratorStateFromModel(e){const t=this.editor.model,n=t.document.selection,a=n.getSelectedElement();return Ny(a,t.schema)?a.getAttribute(e):n.getAttribute(e)}_isRangeToUpdate(e,t){for(const n of t)if(n.containsRange(e))return!1;return!0}_updateLinkContent(e,t,n,a){const u=t.createText(a,{linkHref:a});return e.insertContent(u,n)}}function Cj(r){if(r.isCollapsed){const e=r.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(r.getFirstRange().getItems());if(e.length>1)return null;const t=e[0];return t.is("$text")||t.is("$textProxy")?t.data:null}}class wF extends Vt{refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement();Ny(n,e.schema)?this.isEnabled=e.schema.checkAttribute(n,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,n=t.document.selection,a=e.commands.get("link");t.change(u=>{const f=n.isCollapsed?[f_(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),t)]:t.schema.getValidRanges(n.getRanges(),"linkHref");for(const b of f)if(u.removeAttribute("linkHref",b),a)for(const w of a.manualDecorators)u.removeAttribute(w.id,b)})}}class yF extends Te(){constructor({id:e,label:t,attributes:n,classes:a,styles:u,defaultValue:f}){super(),this.id=e,this.set("value",void 0),this.defaultValue=f,this.label=t,this.attributes=n,this.classes=a,this.styles=u}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var Aj=h(7719),xF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(Aj.A,xF),Aj.A.locals;var CF=Object.defineProperty,Nj=Object.getOwnPropertySymbols,AF=Object.prototype.hasOwnProperty,NF=Object.prototype.propertyIsEnumerable,Ej=(r,e,t)=>e in r?CF(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,EF=(r,e)=>{for(var t in e||(e={}))AF.call(e,t)&&Ej(r,t,e[t]);if(Nj)for(var t of Nj(e))NF.call(e,t)&&Ej(r,t,e[t]);return r};const Sj="automatic",SF=/^(https?:)?\/\//;class jj extends at{static get pluginName(){return"LinkEditing"}static get requires(){return[eE,YN,Ml]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const e=this.editor,t=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:vj}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(a,u)=>vj(wj(a,t),u)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:a=>a.getAttribute("href")}}),e.commands.add("link",new vF(e)),e.commands.add("unlink",new wF(e));const n=function(a,u){const f={"Open in a new tab":a("Open in a new tab"),Downloadable:a("Downloadable")};return u.forEach(b=>("label"in b&&f[b.label]&&(b.label=f[b.label]),b)),u}(e.t,function(a){const u=[];if(a)for(const[f,b]of Object.entries(a)){const w=Object.assign({},b,{id:`link${pF(f)}`});u.push(w)}return u}(e.config.get("link.decorators")));this._enableAutomaticDecorators(n.filter(a=>a.mode===Sj)),this._enableManualDecorators(n.filter(a=>a.mode==="manual")),e.plugins.get(eE).registerAttribute("linkHref"),function(a,u,f,b){const w=a.editing.view,A=new Set;w.document.registerPostFixer(E=>{const O=a.model.document.selection;let z=!1;if(O.hasAttribute(u)){const U=f_(O.getFirstPosition(),u,O.getAttribute(u),a.model),W=a.editing.mapper.toViewRange(U);for(const X of W.getItems())X.is("element",f)&&!X.hasClass(b)&&(E.addClass(b,X),A.add(X),z=!0)}return z}),a.conversion.for("editingDowncast").add(E=>{function O(){w.change(z=>{for(const U of A.values())z.removeClass(b,U),A.delete(U)})}E.on("insert",O,{priority:"highest"}),E.on("remove",O,{priority:"highest"}),E.on("attribute",O,{priority:"highest"}),E.on("selection",O,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor,n=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:Sj,callback:a=>!!a&&SF.test(a),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(e),n.length&&t.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,n=t.commands.get("link").manualDecorators;e.forEach(a=>{t.model.schema.extend("$text",{allowAttributes:a.id});const u=new yF(a);n.add(u),t.conversion.for("downcast").attributeToElement({model:u.id,view:(f,{writer:b,schema:w},{item:A})=>{if((A.is("selection")||w.isInline(A))&&f){const E=b.createAttributeElement("a",u.attributes,{priority:5});u.classes&&b.addClass(u.classes,E);for(const O in u.styles)b.setStyle(O,u.styles[O],E);return b.setCustomProperty("link",!0,E),E}}}),t.conversion.for("upcast").elementToAttribute({view:EF({name:"a"},u._createPattern()),model:{key:u.id}})})}_enableLinkOpen(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(n,a)=>{if(!(S.isMac?a.domEvent.metaKey:a.domEvent.ctrlKey))return;let u=a.domTarget;if(u.tagName.toLowerCase()!="a"&&(u=u.closest("a")),!u)return;const f=u.getAttribute("href");f&&(n.stop(),a.preventDefault(),xj(f))},{context:"$capture"}),this.listenTo(t,"keydown",(n,a)=>{const u=e.commands.get("link").value;u&&a.keyCode===Fe.enter&&a.altKey&&(n.stop(),xj(u))})}_enableSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection;this.listenTo(t,"change:attribute",(n,{attributeKeys:a})=>{a.includes("linkHref")&&!t.hasAttribute("linkHref")&&e.change(u=>{var f;(function(b,w){b.removeSelectionAttribute("linkHref");for(const A of w)b.removeSelectionAttribute(A)})(u,(f=e.schema,f.getDefinition("$text").allowAttributes.filter(b=>b.startsWith("link"))))})})}_enableClipboardIntegration(){const e=this.editor,t=e.model,n=this.editor.config.get("link.defaultProtocol");n&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(a,u)=>{t.change(f=>{const b=f.createRangeIn(u.content);for(const w of b.getItems())if(w.hasAttribute("linkHref")){const A=Ey(w.getAttribute("linkHref"),n);f.setAttribute("linkHref",A,w)}})})}}var Dj=h(3817),jF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(Dj.A,jF),Dj.A.locals;class DF extends St{constructor(e,t,n){super(e),this.focusTracker=new hr,this.keystrokes=new mr,this._focusables=new zo;const a=e.t;this._validators=n,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),In.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(a("Cancel"),In.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new Tl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const u=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&u.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:u,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),mi({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const e=this.locale.t,t=new Ge(this.locale,i_);return t.label=e("Link URL"),t}_createButton(e,t,n,a){const u=new R(this.locale);return u.set({label:e,icon:t,tooltip:!0}),u.extendTemplate({attributes:{class:n}}),a&&u.delegate("execute").to(this,a),u}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const n of e.manualDecorators){const a=new Ne(this.locale);a.set({name:n.id,label:n.label,withText:!0}),a.bind("isOn").toMany([n,e],"value",(u,f)=>f===void 0&&u===void 0?!!n.defaultValue:!!u),a.on("execute",()=>{n.set("value",!a.isOn)}),t.add(a)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const n=new St;n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(a=>({tag:"li",children:[a],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(n)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}var Tj=h(8762),TF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(Tj.A,TF),Tj.A.locals;class MF extends St{constructor(e,t={}){super(e),this.focusTracker=new hr,this.keystrokes=new mr,this._focusables=new zo;const n=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(n("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(n("Edit link"),In.pencil,"edit"),this.set("href",void 0),this._linkConfig=t,this._focusCycler=new Tl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,n){const a=new R(this.locale);return a.set({label:e,icon:t,tooltip:!0}),a.delegate("execute").to(this,n),a}_createPreviewButton(){const e=new R(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",a=>a&&wj(a,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",a=>a||n("This link has no URL")),e.bind("isEnabled").to(this,"href",a=>!!a),e.template.tag="a",e.template.eventListeners={},e}}const od="link-ui";class IF extends at{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[c_]}static get pluginName(){return"LinkUI"}init(){const e=this.editor,t=this.editor.t;e.editing.view.addObserver(Tf),this._balloon=e.plugins.get(c_),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:od,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:od,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Create link"),keystroke:S_},{label:t("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new MF(e.locale,e.config.get("link")),n=e.commands.get("link"),a=e.commands.get("unlink");return t.bind("href").to(n,"value"),t.editButtonView.bind("isEnabled").to(n),t.unlinkButtonView.bind("isEnabled").to(a),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(u,f)=>{this._hideUI(),f()}),t.keystrokes.set(S_,(u,f)=>{this._addFormView(),f()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),n=e.config.get("link.defaultProtocol"),a=new(ri(DF))(e.locale,t,function(u){const f=u.t,b=u.config.get("link.allowCreatingEmptyLinks");return[w=>{if(!b&&!w.url.length)return f("Link URL must not be empty.")}]}(e));return a.urlInputView.fieldView.bind("value").to(t,"value"),a.urlInputView.bind("isEnabled").to(t,"isEnabled"),a.saveButtonView.bind("isEnabled").to(t,"isEnabled"),this.listenTo(a,"submit",()=>{if(a.isValid()){const{value:u}=a.urlInputView.fieldView.element,f=Ey(u,n);e.execute("link",f,a.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(a.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(a,"cancel",()=>{this._closeFormView()}),a.keystrokes.set("Esc",(u,f)=>{this._closeFormView(),f()}),a}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link");e.ui.componentFactory.add("link",()=>{const n=this._createButton(R);return n.set({tooltip:!0,isToggleable:!0}),n.bind("isOn").to(t,"value",a=>!!a),n}),e.ui.componentFactory.add("menuBar:link",()=>this._createButton(al))}_createButton(e){const t=this.editor,n=t.locale,a=t.commands.get("link"),u=new e(t.locale),f=n.t;return u.set({label:f("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:S_}),u.bind("isEnabled").to(a,"isEnabled"),this.listenTo(u,"execute",()=>this._showUI(!0)),u}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(S_,(n,a)=>{a(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),Cn({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let n=this._getSelectedLinkElement(),a=f();const u=()=>{const b=this._getSelectedLinkElement(),w=f();n&&!b||!n&&w!==a?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=b,a=w};function f(){return t.selection.focus.getAncestors().reverse().find(b=>b.is("element"))}this.listenTo(e.ui,"update",u),this.listenTo(this._balloon,"change:visibleView",u)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,n=e.document;let a;if(t.markers.has(od)){const u=Array.from(this.editor.editing.mapper.markerNameToElements(od)),f=e.createRange(e.createPositionBefore(u[0]),e.createPositionAfter(u[u.length-1]));a=e.domConverter.viewRangeToDom(f)}else a=()=>{const u=this._getSelectedLinkElement();return u?e.domConverter.mapViewToDom(u):e.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:a}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,n=t.getSelectedElement();if(t.isCollapsed||n&&os(n))return Sy(t.getFirstPosition());{const a=t.getFirstRange().getTrimmed(),u=Sy(a.start),f=Sy(a.end);return u&&u==f&&e.createRangeIn(u).getTrimmed().isEqual(a)?u:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const n=e.document.selection.getFirstRange();if(e.markers.has(od))t.updateMarker(od,{range:n});else if(n.start.isAtEnd){const a=n.start.getLastMatchingPosition(({item:u})=>!e.schema.isContent(u),{boundaries:n});t.addMarker(od,{usingOperation:!1,affectsData:!1,range:t.createRange(a,n.end)})}else t.addMarker(od,{usingOperation:!1,affectsData:!1,range:n})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(od)&&e.change(t=>{t.removeMarker(od)})}}function Sy(r){return r.getAncestors().find(e=>{return(t=e).is("attributeElement")&&!!t.getCustomProperty("link");var t})||null}const Mj=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class OF extends at{static get requires(){return[ru,jj]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,t){return t.textNode&&t.textNode.hasAttribute("linkHref")?f_(t,"linkHref",t.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,t){const n=this.editor.model,a=n.document.selection,u=a.getFirstPosition(),f=a.getLastPosition();let b=t.getJoined(this._expandLinkRange(n,u)||t);b&&(b=b.getJoined(this._expandLinkRange(n,f)||t)),b&&(b.start.isBefore(u)||b.end.isAfter(f))&&e.setSelection(b)}_enablePasteLinking(){const e=this.editor,t=e.model,n=t.document.selection,a=e.plugins.get("ClipboardPipeline"),u=e.commands.get("link");a.on("inputTransformation",(f,b)=>{if(!this.isEnabled||!u.isEnabled||n.isCollapsed||b.method!=="paste"||n.rangeCount>1)return;const w=n.getFirstRange(),A=b.dataTransfer.getData("text/plain");if(!A)return;const E=A.match(Mj);E&&E[2]===A&&(t.change(O=>{this._selectEntireLinks(O,w),u.execute(A)}),f.stop())},{priority:"high"})}_enableTypingHandling(){const e=this.editor,t=new JN(e.model,n=>{if(!function(u){return u.length>4&&u[u.length-1]===" "&&u[u.length-2]!==" "}(n))return;const a=Ij(n.substr(0,n.length-1));return a?{url:a}:void 0});t.on("matched:data",(n,a)=>{const{batch:u,range:f,url:b}=a;if(!u.isTyping)return;const w=f.end.getShiftedBy(-1),A=w.getShiftedBy(-b.length),E=e.model.createRange(A,w);this._applyAutoLink(b,E)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("enter");n&&n.on("execute",()=>{const a=t.document.selection.getFirstPosition();if(!a.parent.previousSibling)return;const u=t.createRangeIn(a.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(u)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("shiftEnter");n&&n.on("execute",()=>{const a=t.document.selection.getFirstPosition(),u=t.createRange(t.createPositionAt(a.parent,0),a.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(u)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:n,range:a}=XN(e,t),u=Ij(n);if(u){const f=t.createRange(a.end.getShiftedBy(-u.length),a.end);this._applyAutoLink(u,f)}}_applyAutoLink(e,t){const n=this.editor.model,a=Ey(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(u,f){return f.schema.checkAttributeInSelection(f.createSelection(u),"linkHref")}(t,n)&&yj(a)&&!function(u){const f=u.start.nodeAfter;return!!f&&f.hasAttribute("linkHref")}(t)&&this._persistAutoLink(a,t)}_persistAutoLink(e,t){const n=this.editor.model,a=this.editor.plugins.get("Delete");n.enqueueChange(u=>{u.setAttribute("linkHref",e,t),n.enqueueChange(()=>{a.requestUndoOnBackspace()})})}}function Ij(r){const e=Mj.exec(r);return e?e[2]:null}var Oj=h(4808),LF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(Oj.A,LF),Oj.A.locals;class Ol{constructor(e,t){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward=t.direction=="forward",this._includeSelf=!!t.includeSelf,this._sameAttributes=gn(t.sameAttributes||[]),this._sameIndent=!!t.sameIndent,this._lowerIndent=!!t.lowerIndent,this._higherIndent=!!t.higherIndent}static first(e,t){return qn(new this(e,t)[Symbol.iterator]())}*[Symbol.iterator](){const e=[];for(const{node:t}of Pg(this._getStartNode(),this._isForward?"forward":"backward")){const n=t.getAttribute("listIndent");if(n<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=n}else if(n>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(t);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some(a=>t.getAttribute(a)!==this._startElement.getAttribute(a)))break}e.length&&(yield*e,e.length=0),yield t}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*Pg(r,e="forward"){const t=e=="forward",n=[];let a=null;for(;Hs(r);){let u=null;if(a){const f=r.getAttribute("listIndent"),b=a.getAttribute("listIndent");f>b?n[b]=a:f<b?(u=n[f],n.length=f):u=a}yield{node:r,previous:a,previousNodeInList:u},a=r,r=t?r.nextSibling:r.previousSibling}}class BF{constructor(e){this._listHead=e}[Symbol.iterator](){return Pg(this._listHead,"forward")}}var PF=Object.defineProperty,RF=Object.defineProperties,zF=Object.getOwnPropertyDescriptors,Lj=Object.getOwnPropertySymbols,FF=Object.prototype.hasOwnProperty,VF=Object.prototype.propertyIsEnumerable,Bj=(r,e,t)=>e in r?PF(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Rg=(r,e)=>{for(var t in e||(e={}))FF.call(e,t)&&Bj(r,t,e[t]);if(Lj)for(var t of Lj(e))VF.call(e,t)&&Bj(r,t,e[t]);return r},jy=(r,e)=>RF(r,zF(e));class Yf{static next(){return ee()}}function Hs(r){return!!r&&r.is("element")&&r.hasAttribute("listItemId")}function Dy(r,e={}){return[...ch(r,jy(Rg({},e),{direction:"backward"})),...ch(r,jy(Rg({},e),{direction:"forward"}))]}function ch(r,e={}){const t=e.direction=="forward",n=Array.from(new Ol(r,jy(Rg({},e),{includeSelf:t,sameIndent:!0,sameAttributes:"listItemId"})));return t?n:n.reverse()}function Pj(r,e){const t=new Ol(r,Rg({sameIndent:!0,sameAttributes:"listType"},e)),n=new Ol(r,Rg({sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"},e));return[...Array.from(t).reverse(),...n]}function fm(r){return!Ol.first(r,{sameIndent:!0,sameAttributes:"listItemId"})}function Rj(r){return!Ol.first(r,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function zg(r,e={}){r=gn(r);const t=e.withNested!==!1,n=new Set;for(const a of r)for(const u of Dy(a,{higherIndent:t}))n.add(u);return pm(n)}function HF(r){r=gn(r);const e=new Set;for(const t of r)for(const n of Pj(t))e.add(n);return pm(e)}function Ty(r,e){const t=ch(r,{direction:"forward"}),n=Yf.next();for(const a of t)e.setAttribute("listItemId",n,a);return t}function My(r,e,t){const n={};for(const[u,f]of e.getAttributes())u.startsWith("list")&&(n[u]=f);const a=ch(r,{direction:"forward"});for(const u of a)t.setAttributes(n,u);return a}function Iy(r,e,{expand:t,indentBy:n=1}={}){r=gn(r);const a=t?zg(r):r;for(const u of a){const f=u.getAttribute("listIndent")+n;f<0?j_(u,e):e.setAttribute("listIndent",f,u)}return a}function j_(r,e){r=gn(r);for(const t of r)t.is("element","listItem")&&e.rename(t,"paragraph");for(const t of r)for(const n of t.getAttributeKeys())n.startsWith("list")&&e.removeAttribute(n,t);return r}function Fg(r){if(!r.length)return!1;const e=r[0].getAttribute("listItemId");return!!e&&!r.some(t=>t.getAttribute("listItemId")!=e)}function pm(r){return Array.from(r).filter(e=>e.root.rootName!=="$graveyard").sort((e,t)=>e.index-t.index)}function Vg(r){const e=r.document.selection.getSelectedElement();return e&&r.schema.isObject(e)&&r.schema.isBlock(e)?e:null}function Oy(r,e){return e.checkChild(r.parent,"listItem")&&e.checkChild(r,"$text")&&!e.isObject(r)}function UF(r){return r=="numbered"||r=="customNumbered"}function $F(r,e,t){return ch(e,{direction:"forward"}).pop().index>r.index?My(r,e,t):[]}class zj extends Vt{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=Fj(e.document.selection);e.change(n=>{const a=[];Fg(t)&&!fm(t[0])?(this._direction=="forward"&&a.push(...Iy(t,n)),a.push(...Ty(t[0],n))):this._direction=="forward"?a.push(...Iy(t,n,{expand:!0})):a.push(...function(u,f){const b=zg(u=gn(u)),w=new Set,A=Math.min(...b.map(O=>O.getAttribute("listIndent"))),E=new Map;for(const O of b)E.set(O,Ol.first(O,{lowerIndent:!0}));for(const O of b){if(w.has(O))continue;w.add(O);const z=O.getAttribute("listIndent")-1;if(z<0)j_(O,f);else{if(O.getAttribute("listIndent")==A){const U=$F(O,E.get(O),f);for(const W of U)w.add(W);if(U.length)continue}f.setAttribute("listIndent",z,O)}}return pm(w)}(t,n));for(const u of a){if(!u.hasAttribute("listType"))continue;const f=Ol.first(u,{sameIndent:!0});f&&n.setAttribute("listType",f.getAttribute("listType"),u)}this._fireAfterExecute(a)})}_fireAfterExecute(e){this.fire("afterExecute",pm(new Set(e)))}_checkEnabled(){let e=Fj(this.editor.model.document.selection),t=e[0];if(!t)return!1;if(this._direction=="backward"||Fg(e)&&!fm(e[0]))return!0;e=zg(e),t=e[0];const n=Ol.first(t,{sameIndent:!0});return!!n&&n.getAttribute("listType")==t.getAttribute("listType")}}function Fj(r){const e=Array.from(r.getSelectedBlocks()),t=e.findIndex(n=>!Hs(n));return t!=-1&&(e.length=t),e}var qF=Object.defineProperty,WF=Object.defineProperties,YF=Object.getOwnPropertyDescriptors,Vj=Object.getOwnPropertySymbols,GF=Object.prototype.hasOwnProperty,KF=Object.prototype.propertyIsEnumerable,Hj=(r,e,t)=>e in r?qF(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ly=(r,e)=>{for(var t in e||(e={}))GF.call(e,t)&&Hj(r,t,e[t]);if(Vj)for(var t of Vj(e))KF.call(e,t)&&Hj(r,t,e[t]);return r},By=(r,e)=>WF(r,YF(e));class D_ extends Vt{constructor(e,t,n={}){super(e),this.type=t,this._listWalkerOptions=n.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.document,a=Vg(t),u=Array.from(n.selection.getSelectedBlocks()).filter(b=>t.schema.checkAttribute(b,"listType")||Oy(b,t.schema)),f=e.forceValue!==void 0?!e.forceValue:this.value;t.change(b=>{if(f){const w=u[u.length-1],A=ch(w,{direction:"forward"}),E=[];A.length>1&&E.push(...Ty(A[1],b)),E.push(...j_(u,b)),E.push(...function(O,z){const U=[];let W=Number.POSITIVE_INFINITY;for(const{node:X}of Pg(O.nextSibling,"forward")){const ae=X.getAttribute("listIndent");if(ae==0)break;ae<W&&(W=ae);const ge=ae-W;z.setAttribute("listIndent",ge,X),U.push(X)}return U}(w,b)),this._fireAfterExecute(E)}else if((a||n.selection.isCollapsed)&&Hs(u[0])){const w=Pj(a||u[0],this._listWalkerOptions);for(const A of w)b.setAttributes(By(Ly({},e.additionalAttributes),{listType:this.type}),A);this._fireAfterExecute(w)}else{const w=[];for(const A of u)if(A.hasAttribute("listType"))for(const E of zg(A,{withNested:!1}))E.getAttribute("listType")!=this.type&&(b.setAttributes(By(Ly({},e.additionalAttributes),{listType:this.type}),E),w.push(E));else!A.is("element","listItem")&&Oy(A,t.schema)&&b.rename(A,"listItem"),b.setAttributes(By(Ly({},e.additionalAttributes),{listIndent:0,listItemId:Yf.next(),listType:this.type}),A),w.push(A);this._fireAfterExecute(w)}})}_fireAfterExecute(e){this.fire("afterExecute",pm(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,t=Array.from(e.getSelectedBlocks());if(!t.length)return!1;for(const n of t)if(n.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,t=e.schema,n=e.document.selection,a=Array.from(n.getSelectedBlocks());if(!a.length)return!1;if(this.value)return!0;for(const u of a)if(t.checkAttribute(u,"listType")||Oy(u,t))return!0;return!1}}class Uj extends Vt{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const t=this.editor.model,n=t.document.selection,a=[];t.change(u=>{const{firstElement:f,lastElement:b}=this._getMergeSubjectElements(n,e),w=f.getAttribute("listIndent")||0,A=b.getAttribute("listIndent"),E=b.getAttribute("listItemId");if(w!=A){const z=(O=b,Array.from(new Ol(O,{direction:"forward",higherIndent:!0})));a.push(...Iy([b,...z],u,{indentBy:w-A,expand:w<A}))}var O;if(e){let z=n;n.isCollapsed&&(z=u.createSelection(u.createRange(u.createPositionAt(f,"end"),u.createPositionAt(b,0)))),t.deleteContent(z,{doNotResetEntireContent:n.isCollapsed});const U=z.getLastPosition().parent,W=U.nextSibling;a.push(U),W&&W!==b&&W.getAttribute("listItemId")==E&&a.push(...My(W,U,u))}else a.push(...My(b,f,u));this._fireAfterExecute(a)})}_fireAfterExecute(e){this.fire("afterExecute",pm(new Set(e)))}_checkEnabled(){const e=this.editor.model,t=e.document.selection,n=Vg(e);if(t.isCollapsed||n){const a=n||t.getFirstPosition().parent;if(!Hs(a))return!1;const u=this._direction=="backward"?a.previousSibling:a.nextSibling;if(!u||Fg([a,u]))return!1}else{const a=t.getLastPosition(),u=t.getFirstPosition();if(a.parent===u.parent||!Hs(a.parent))return!1}return!0}_getMergeSubjectElements(e,t){const n=Vg(this.editor.model);let a,u;if(e.isCollapsed||n){const f=n||e.getFirstPosition().parent,b=fm(f);this._direction=="backward"?(u=f,a=b&&!t?Ol.first(f,{sameIndent:!0,lowerIndent:!0}):f.previousSibling):(a=f,u=f.nextSibling)}else a=e.getFirstPosition().parent,u=e.getLastPosition().parent;return{firstElement:a,lastElement:u}}}class $j extends Vt{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(e=>{const t=Ty(this._getStartBlock(),e);this._fireAfterExecute(t)})}_fireAfterExecute(e){this.fire("afterExecute",pm(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,t=this._getStartBlock();return e.isCollapsed&&Hs(t)&&!fm(t)}_getStartBlock(){const e=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?e:e.nextSibling}}class QF extends at{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(e){return HF(e)}isFirstBlockOfListItem(e){return fm(e)}isListItemBlock(e){return Hs(e)}expandListBlocksToCompleteItems(e,t={}){return zg(e,t)}isNumberedListType(e){return UF(e)}}function qj(r){return r.is("element","ol")||r.is("element","ul")}function T_(r){return r.is("element","li")}function ZF(r,e,t,n=Yj(t,e)){return r.createAttributeElement(Wj(t),null,{priority:2*e/100-100,id:n})}function XF(r,e,t){return r.createAttributeElement("li",null,{priority:(2*e+1)/100-100,id:t})}function Wj(r){return r=="numbered"||r=="customNumbered"?"ol":"ul"}function Yj(r,e){return`list-${r}-${e}`}function bc(r,e){const t=r.nodeBefore;if(Hs(t)){let n=t;for(const{node:a}of Pg(n,"backward"))if(n=a,e.has(n))return;e.set(t,n)}else{const n=r.nodeAfter;Hs(n)&&e.set(n,n)}}function JF(){return(r,e,t)=>{const{writer:n,schema:a}=t;if(!e.modelRange)return;const u=Array.from(e.modelRange.getItems({shallow:!0})).filter(O=>a.checkAttribute(O,"listItemId"));if(!u.length)return;const f=Yf.next(),b=function(O){let z=0,U=O.parent;for(;U;){if(T_(U))z++;else{const W=U.previousSibling;W&&T_(W)&&z++}U=U.parent}return z}(e.viewItem);let w=e.viewItem.parent&&e.viewItem.parent.is("element","ol")?"numbered":"bulleted";const A=u[0].getAttribute("listType");A&&(w=A);const E={listItemId:f,listIndent:b,listType:w};for(const O of u)O.hasAttribute("listItemId")||n.setAttributes(E,O);u.length>1&&u[1].getAttribute("listItemId")!=E.listItemId&&t.keepEmptyElement(u[0])}}function Gj(){return(r,e,t)=>{if(!t.consumable.test(e.viewItem,{name:!0}))return;const n=new fc(e.viewItem.document);for(const a of Array.from(e.viewItem.getChildren()))T_(a)||qj(a)||n.remove(a)}}function Kj(r,e,t,{dataPipeline:n}={}){const a=function(u){return(f,b)=>{const w=[];for(const A of u)f.hasAttribute(A)&&w.push(`attribute:${A}`);return!!w.every(A=>b.test(f,A)!==!1)&&(w.forEach(A=>b.consume(f,A)),!0)}}(r);return(u,f,b)=>{const{writer:w,mapper:A,consumable:E}=b,O=f.item;if(!r.includes(f.attributeKey)||!a(O,E))return;const z=function(W,X,ae){const ge=ae.createRangeOn(W);return X.toViewRange(ge).getTrimmed().end.nodeBefore}(O,A,t);Zj(z,w,A),function(W,X){let ae=W.parent;for(;ae.is("attributeElement")&&["ul","ol","li"].includes(ae.name);){const ge=ae.parent;X.unwrap(X.createRangeOn(W),ae),ae=ge}}(z,w);const U=function(W,X,ae,ge,{dataPipeline:De}){let Ze=ge.createRangeOn(X);if(!fm(W))return Ze;for(const ft of ae){if(ft.scope!="itemMarker")continue;const Ht=ft.createElement(ge,W,{dataPipeline:De});if(!Ht||(ge.setCustomProperty("listItemMarker",!0,Ht),ft.canInjectMarkerIntoElement&&ft.canInjectMarkerIntoElement(W)?ge.insert(ge.createPositionAt(X,0),Ht):(ge.insert(Ze.start,Ht),Ze=ge.createRange(ge.createPositionBefore(Ht),ge.createPositionAfter(X))),!ft.createWrapperElement||!ft.canWrapElement))continue;const jn=ft.createWrapperElement(ge,W,{dataPipeline:De});ge.setCustomProperty("listItemWrapper",!0,jn),ft.canWrapElement(W)?Ze=ge.wrap(Ze,jn):(Ze=ge.wrap(ge.createRangeOn(Ht),jn),Ze=ge.createRange(Ze.start,ge.createPositionAfter(X)))}return Ze}(O,z,e,w,{dataPipeline:n});(function(W,X,ae,ge){if(!W.hasAttribute("listIndent"))return;const De=W.getAttribute("listIndent");let Ze=W;for(let ft=De;ft>=0;ft--){const Ht=XF(ge,ft,Ze.getAttribute("listItemId")),jn=ZF(ge,ft,Ze.getAttribute("listType"));for(const Fn of ae)Fn.scope!="list"&&Fn.scope!="item"||!Ze.hasAttribute(Fn.attributeName)||Fn.setAttributeOnDowncast(ge,Ze.getAttribute(Fn.attributeName),Fn.scope=="list"?jn:Ht);if(X=ge.wrap(X,Ht),X=ge.wrap(X,jn),ft==0||(Ze=Ol.first(Ze,{lowerIndent:!0}),!Ze))break}})(O,U,e,w)}}function Qj(r,{dataPipeline:e}={}){return(t,{writer:n})=>{if(!Xj(t,r))return null;if(!e)return n.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const a=n.createContainerElement("p");return n.setCustomProperty("dataPipeline:transparentRendering",!0,a),a}}function Zj(r,e,t){for(;r.parent.is("attributeElement")&&r.parent.getCustomProperty("listItemWrapper");)e.unwrap(e.createRangeOn(r),r.parent);const n=[];a(e.createPositionBefore(r).getWalker({direction:"backward"})),a(e.createRangeIn(r).getWalker());for(const u of n)e.remove(u);function a(u){for(const{item:f}of u){if(f.is("element")&&t.toModelElement(f))break;f.is("element")&&f.getCustomProperty("listItemMarker")&&n.push(f)}}}function Xj(r,e,t=Dy(r)){if(!Hs(r))return!1;for(const n of r.getAttributeKeys())if(!n.startsWith("selection:")&&!e.includes(n))return!1;return t.length<2}var Jj=h(1232),e6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(Jj.A,e6),Jj.A.locals;var eD=h(6903),t6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(eD.A,t6),eD.A.locals;const M_=["listType","listIndent","listItemId"];class n6 extends at{constructor(e){super(e),this._downcastStrategies=[],e.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get requires(){return[p_,ru,QF,Ml]}init(){const e=this.editor,t=e.model,n=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new q("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});t.schema.register("$listItem",{allowAttributes:M_}),n?(t.schema.extend("$container",{allowAttributesOf:"$listItem"}),t.schema.extend("$block",{allowAttributesOf:"$listItem"}),t.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):t.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const a of M_)t.schema.setAttributeProperties(a,{copyOnReplace:!0});e.commands.add("numberedList",new D_(e,"numbered")),e.commands.add("bulletedList",new D_(e,"bulleted")),e.commands.add("customNumberedList",new D_(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new D_(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new zj(e,"forward")),e.commands.add("outdentList",new zj(e,"backward")),e.commands.add("splitListItemBefore",new $j(e,"before")),e.commands.add("splitListItemAfter",new $j(e,"after")),n&&(e.commands.add("mergeListItemBackward",new Uj(e,"backward")),e.commands.add("mergeListItemForward",new Uj(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList"),{priority:"high"}),n&&n.registerChildCommand(e.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...M_,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,t=e.commands.get("mergeListItemBackward"),n=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(a,u)=>{const f=e.model.document.selection;Vg(e.model)||e.model.change(()=>{const b=f.getFirstPosition();if(f.isCollapsed&&u.direction=="backward"){if(!b.isAtStart)return;const w=b.parent;if(!Hs(w))return;if(Ol.first(w,{sameAttributes:"listType",sameIndent:!0})||w.getAttribute("listIndent")!==0){if(!t||!t.isEnabled)return;t.execute({shouldMergeOnBlocksContentLevel:tD(e.model,"backward")})}else Rj(w)||e.execute("splitListItemAfter"),e.execute("outdentList");u.preventDefault(),a.stop()}else{if(f.isCollapsed&&!f.getLastPosition().isAtEnd||!n||!n.isEnabled)return;n.execute({shouldMergeOnBlocksContentLevel:tD(e.model,"forward")}),u.preventDefault(),a.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,t=e.model,n=e.commands,a=n.get("enter");this.listenTo(e.editing.view.document,"enter",(u,f)=>{const b=t.document,w=b.selection.getFirstPosition().parent;if(b.selection.isCollapsed&&Hs(w)&&w.isEmpty&&!f.isSoft){const A=fm(w),E=Rj(w);A&&E?(e.execute("outdentList"),f.preventDefault(),u.stop()):A&&!E?(e.execute("splitListItemAfter"),f.preventDefault(),u.stop()):E&&(e.execute("splitListItemBefore"),f.preventDefault(),u.stop())}},{context:"li"}),this.listenTo(a,"afterExecute",()=>{const u=n.get("splitListItemBefore");u.refresh(),u.isEnabled&&Dy(e.model.document.selection.getLastPosition().parent).length===2&&u.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(t,n)=>{const a=n.shiftKey?"outdentList":"indentList";this.editor.commands.get(a).isEnabled&&(e.execute(a),n.stopPropagation(),n.preventDefault(),t.stop())},{context:"li"})}_setupConversion(){const e=this.editor,t=e.model,n=this.getListAttributeNames(),a=e.config.get("list.multiBlock"),u=a?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(A,{writer:E})=>E.createElement(u,{listType:""})}).elementToElement({view:"p",model:(A,{writer:E})=>A.parent&&A.parent.is("element","li")?E.createElement(u,{listType:""}):null,converterPriority:"high"}).add(A=>{A.on("element:li",JF()),A.on("element:ul",Gj(),{priority:"high"}),A.on("element:ol",Gj(),{priority:"high"})}),a||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:u,view:Qj(n),converterPriority:"high"}).add(A=>{var E;A.on("attribute",Kj(n,this._downcastStrategies,t)),A.on("remove",(E=t.schema,(O,z,U)=>{const{writer:W,mapper:X}=U,ae=O.name.split(":")[1];if(!E.checkAttribute(ae,"listItemId"))return;const ge=X.toViewPosition(z.position),De=z.position.getShiftedBy(z.length),Ze=X.toViewPosition(De,{isPhantom:!0}),ft=W.createRange(ge,Ze).getTrimmed().end.nodeBefore;ft&&Zj(ft,W,X)}))}),e.conversion.for("dataDowncast").elementToElement({model:u,view:Qj(n,{dataPipeline:!0}),converterPriority:"high"}).add(A=>{A.on("attribute",Kj(n,this._downcastStrategies,t,{dataPipeline:!0}))});const f=(b=this._downcastStrategies,w=e.editing.view,(A,E)=>{if(E.modelPosition.offset>0)return;const O=E.modelPosition.parent;if(!Hs(O)||!b.some(ae=>ae.scope=="itemMarker"&&ae.canInjectMarkerIntoElement&&ae.canInjectMarkerIntoElement(O)))return;const z=E.mapper.toViewElement(O),U=w.createRangeIn(z),W=U.getWalker();let X=U.start;for(const{item:ae}of W){if(ae.is("element")&&E.mapper.toModelElement(ae)||ae.is("$textProxy"))break;ae.is("element")&&ae.getCustomProperty("listItemMarker")&&(X=w.createPositionAfter(ae),W.skip(({previousPosition:ge})=>!ge.isEqual(X)))}E.viewPosition=X});var b,w;e.editing.mapper.on("modelToViewPosition",f),e.data.mapper.on("modelToViewPosition",f),this.listenTo(t.document,"change:data",function(A,E,O,z){return()=>{const ae=A.document.differ.getChanges(),ge=[],De=new Map,Ze=new Set;for(const ft of ae)if(ft.type=="insert"&&ft.name!="$text")bc(ft.position,De),ft.attributes.has("listItemId")?Ze.add(ft.position.nodeAfter):bc(ft.position.getShiftedBy(ft.length),De);else if(ft.type=="remove"&&ft.attributes.has("listItemId"))bc(ft.position,De);else if(ft.type=="attribute"){const Ht=ft.range.start.nodeAfter;O.includes(ft.attributeKey)?(bc(ft.range.start,De),ft.attributeNewValue===null?(bc(ft.range.start.getShiftedBy(1),De),W(Ht)&&ge.push(Ht)):Ze.add(Ht)):Hs(Ht)&&W(Ht)&&ge.push(Ht)}for(const ft of De.values())ge.push(...U(ft,Ze));for(const ft of new Set(ge))E.reconvertItem(ft)};function U(ae,ge){const De=[],Ze=new Set,ft=[];for(const{node:Ht,previous:jn}of Pg(ae,"forward")){if(Ze.has(Ht))continue;const Fn=Ht.getAttribute("listIndent");jn&&Fn<jn.getAttribute("listIndent")&&(ft.length=Fn+1),ft[Fn]=Object.fromEntries(Array.from(Ht.getAttributes()).filter(([Us])=>O.includes(Us)));const rr=ch(Ht,{direction:"forward"});for(const Us of rr)Ze.add(Us),(W(Us,rr)||X(Us,ft,ge))&&De.push(Us)}return De}function W(ae,ge){const De=E.mapper.toViewElement(ae);if(!De)return!1;if(z.fire("checkElement",{modelElement:ae,viewElement:De}))return!0;if(!ae.is("element","paragraph")&&!ae.is("element","listItem"))return!1;const Ze=Xj(ae,O,ge);return!(!Ze||!De.is("element","p"))||!(Ze||!De.is("element","span"))}function X(ae,ge,De){if(De.has(ae))return!1;const Ze=E.mapper.toViewElement(ae);let ft=ge.length-1;for(let Ht=Ze.parent;!Ht.is("editableElement");Ht=Ht.parent){const jn=T_(Ht),Fn=qj(Ht);if(!Fn&&!jn)continue;const rr="checkAttributes:"+(jn?"item":"list");if(z.fire(rr,{viewElement:Ht,modelAttributes:ge[ft]}))break;if(Fn&&(ft--,ft<0))return!1}return!0}}(t,e.editing,n,this),{priority:"high"}),this.on("checkAttributes:item",(A,{viewElement:E,modelAttributes:O})=>{E.id!=O.listItemId&&(A.return=!0,A.stop())}),this.on("checkAttributes:list",(A,{viewElement:E,modelAttributes:O})=>{E.name==Wj(O.listType)&&E.id==Yj(O.listType,O.listIndent)||(A.return=!0,A.stop())})}_setupModelPostFixing(){const e=this.editor.model,t=this.getListAttributeNames();e.document.registerPostFixer(n=>function(a,u,f,b){const w=a.document.differ.getChanges(),A=new Map,E=b.editor.config.get("list.multiBlock");let O=!1;for(const U of w){if(U.type=="insert"&&U.name!="$text"){const W=U.position.nodeAfter;if(!a.schema.checkAttribute(W,"listItemId"))for(const X of Array.from(W.getAttributeKeys()))f.includes(X)&&(u.removeAttribute(X,W),O=!0);bc(U.position,A),U.attributes.has("listItemId")||bc(U.position.getShiftedBy(U.length),A);for(const{item:X,previousPosition:ae}of a.createRangeIn(W))Hs(X)&&bc(ae,A)}else U.type=="remove"?bc(U.position,A):U.type=="attribute"&&f.includes(U.attributeKey)&&(bc(U.range.start,A),U.attributeNewValue===null&&bc(U.range.start.getShiftedBy(1),A));if(!E&&U.type=="attribute"&&M_.includes(U.attributeKey)){const W=U.range.start.nodeAfter;U.attributeNewValue===null&&W&&W.is("element","listItem")?(u.rename(W,"paragraph"),O=!0):U.attributeOldValue===null&&W&&W.is("element")&&W.name!="listItem"&&(u.rename(W,"listItem"),O=!0)}}const z=new Set;for(const U of A.values())O=b.fire("postFixer",{listNodes:new BF(U),listHead:U,writer:u,seenIds:z})||O;return O}(e,n,t,this)),this.on("postFixer",(n,{listNodes:a,writer:u})=>{n.return=function(f,b){let w=0,A=-1,E=null,O=!1;for(const{node:z}of f){const U=z.getAttribute("listIndent");if(U>w){let W;E===null?(E=U-w,W=w):(E>U&&(E=U),W=U-E),W>A+1&&(W=A+1),b.setAttribute("listIndent",W,z),O=!0,A=W}else E=null,w=U+1,A=U}return O}(a,u)||n.return},{priority:"high"}),this.on("postFixer",(n,{listNodes:a,writer:u,seenIds:f})=>{n.return=function(b,w,A){const E=new Set;let O=!1;for(const{node:z}of b){if(E.has(z))continue;let U=z.getAttribute("listType"),W=z.getAttribute("listItemId");if(w.has(W)&&(W=Yf.next()),w.add(W),z.is("element","listItem"))z.getAttribute("listItemId")!=W&&(A.setAttribute("listItemId",W,z),O=!0);else for(const X of ch(z,{direction:"forward"}))E.add(X),X.getAttribute("listType")!=U&&(W=Yf.next(),U=X.getAttribute("listType")),X.getAttribute("listItemId")!=W&&(A.setAttribute("listItemId",W,X),O=!0)}return O}(a,f,u)||n.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,t=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",function(n){return(a,[u,f])=>{const b=u.is("documentFragment")?Array.from(u.getChildren()):[u];if(!b.length)return;const w=(f?n.createSelection(f):n.document.selection).getFirstPosition();let A;if(Hs(w.parent))A=w.parent;else{if(!Hs(w.nodeBefore))return;A=w.nodeBefore}n.change(E=>{const O=A.getAttribute("listType"),z=A.getAttribute("listIndent"),U=b[0].getAttribute("listIndent")||0,W=Math.max(z-U,0);for(const X of b){const ae=Hs(X);A.is("element","listItem")&&X.is("element","paragraph")&&E.rename(X,"listItem"),E.setAttributes({listIndent:(ae?X.getAttribute("listIndent"):0)+W,listItemId:ae?X.getAttribute("listItemId"):Yf.next(),listType:O},X)}})}}(e),{priority:"high"}),this.listenTo(t,"outputTransformation",(n,a)=>{e.change(u=>{const f=Array.from(a.content.getChildren()),b=f[f.length-1];if(f.length>1&&b.is("element")&&b.isEmpty&&f.slice(0,-1).every(Hs)&&u.remove(b),a.method=="copy"||a.method=="cut"){const w=Array.from(a.content.getChildren());Fg(w)&&j_(w,u)}})})}_setupAccessibilityIntegration(){const e=this.editor,t=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:t("Keystrokes that can be used in a list"),keystrokes:[{label:t("Increase list item indent"),keystroke:"Tab"},{label:t("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function tD(r,e){const t=r.document.selection;if(!t.isCollapsed)return!Vg(r);if(e==="forward")return!0;const n=t.getFirstPosition().parent,a=n.previousSibling;return!r.schema.isObject(a)&&(!!a.isEmpty||Fg([n,a]))}function nD(r,e,t,n){r.ui.componentFactory.add(e,()=>{const a=iD(R,r,e,t,n);return a.set({tooltip:!0,isToggleable:!0}),a}),r.ui.componentFactory.add(`menuBar:${e}`,()=>iD(al,r,e,t,n))}function iD(r,e,t,n,a){const u=e.commands.get(t),f=new r(e.locale);return f.set({label:n,icon:a}),f.bind("isOn","isEnabled").to(u,"value","isEnabled"),f.on("execute",()=>{e.execute(t),e.editing.view.focus()}),f}class i6 extends at{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||nD(this.editor,"numberedList",e("Numbered List"),In.numberedList),this.editor.ui.componentFactory.has("bulletedList")||nD(this.editor,"bulletedList",e("Bulleted List"),In.bulletedList)}}class r6 extends at{static get requires(){return[n6,i6]}static get pluginName(){return"List"}}const s6=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:r,typeAttribute:e,listType:t}of s6);var rD=h(9968),o6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(rD.A,o6),rD.A.locals;var sD=h(7141),a6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(sD.A,a6),sD.A.locals,Gt("Ctrl+Enter");var oD=h(8991),l6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(oD.A,l6),oD.A.locals,Gt("Ctrl+Enter");function aD(r,e){const t=(n,a,u)=>{if(!u.consumable.consume(a.item,n.name))return;const f=a.attributeNewValue,b=u.writer,w=u.mapper.toViewElement(a.item),A=[...w.getChildren()].find(O=>O.getCustomProperty("media-content"));b.remove(A);const E=r.getMediaViewElement(b,f,e);b.insert(b.createPositionAt(w,0),E)};return n=>{n.on("attribute:url:media",t)}}function lD(r,e,t,n){return r.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(r,t,n),r.createSlot()])}function cD(r){const e=r.getSelectedElement();return e&&e.is("element","media")?e:null}function dD(r,e,t,n){r.change(a=>{const u=a.createElement("media",{url:e});r.insertObject(u,t,null,{setSelection:"on",findOptimalPosition:n?"auto":void 0})})}class c6 extends Vt{refresh(){const e=this.editor.model,t=e.document.selection,n=cD(t);this.value=n?n.getAttribute("url"):void 0,this.isEnabled=function(a){const u=a.getSelectedElement();return!!u&&u.name==="media"}(t)||function(a,u){let b=hE(a,u).start.parent;return b.isEmpty&&!u.schema.isLimit(b)&&(b=b.parent),u.schema.checkChild(b,"media")}(t,e)}execute(e){const t=this.editor.model,n=t.document.selection,a=cD(n);a?t.change(u=>{u.setAttribute("url",e,a)}):dD(t,e,n,!0)}}class d6{constructor(e,t){const n=t.providers,a=t.extraProviders||[],u=new Set(t.removeProviders),f=n.concat(a).filter(b=>{const w=b.name;return w?!u.has(w):(ue("media-embed-no-provider-name",{provider:b}),!1)});this.locale=e,this.providerDefinitions=f}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,n){return this._getMedia(t).getViewElement(e,n)}_getMedia(e){if(!e)return new uD(this.locale);e=e.trim();for(const t of this.providerDefinitions){const n=t.html,a=gn(t.url);for(const u of a){const f=this._getUrlMatches(e,u);if(f)return new uD(this.locale,e,f,n)}}return null}_getUrlMatches(e,t){let n=e.match(t);if(n)return n;let a=e.replace(/^https?:\/\//,"");return n=a.match(t),n||(a=a.replace(/^www\./,""),n=a.match(t),n||null)}}class uD{constructor(e,t,n,a){this.url=this._getValidUrl(t),this._locale=e,this._match=n,this._previewRenderer=a}getViewElement(e,t){const n={};let a;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),t.renderForEditingView&&(n.class="ck-media__wrapper");const u=this._getPreviewHtml(t);a=e.createRawElement("div",n,(f,b)=>{b.setContentOf(f,u)})}else this.url&&(n.url=this.url),a=e.createEmptyElement(t.elementName,n);return e.setCustomProperty("media-content",!0,a),a}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new m,t=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new Fo({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":t("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var hD=h(7048),u6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(hD.A,u6),hD.A.locals;class I_ extends at{constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:t=>{const n=t[1],a=t[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${n}${a?`?start=${a}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new d6(e.locale,e.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const e=this.editor,t=e.model.schema,n=e.t,a=e.conversion,u=e.config.get("mediaEmbed.previewsInData"),f=e.config.get("mediaEmbed.elementName"),b=this.registry;e.commands.add("mediaEmbed",new c6(e)),t.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),a.for("dataDowncast").elementToStructure({model:"media",view:(w,{writer:A})=>{const E=w.getAttribute("url");return lD(A,b,E,{elementName:f,renderMediaPreview:!!E&&u})}}),a.for("dataDowncast").add(aD(b,{elementName:f,renderMediaPreview:u})),a.for("editingDowncast").elementToStructure({model:"media",view:(w,{writer:A})=>{const E=w.getAttribute("url");return function(O,z,U){return z.setCustomProperty("media",!0,O),uy(O,z,{label:U})}(lD(A,b,E,{elementName:f,renderForEditingView:!0}),A,n("media widget"))}}),a.for("editingDowncast").add(aD(b,{elementName:f,renderForEditingView:!0})),a.for("upcast").elementToElement({view:w=>["oembed",f].includes(w.name)&&w.getAttribute("url")?{name:!0}:null,model:(w,{writer:A})=>{const E=w.getAttribute("url");return b.hasMedia(E)?A.createElement("media",{url:E}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(w,{writer:A})=>{const E=w.getAttribute("data-oembed-url");return b.hasMedia(E)?A.createElement("media",{url:E}):null}}).add(w=>{w.on("element:figure",(A,E,O)=>{if(!O.consumable.consume(E.viewItem,{name:!0,classes:"media"}))return;const{modelRange:z,modelCursor:U}=O.convertChildren(E.viewItem,E.modelCursor);E.modelRange=z,E.modelCursor=U,qn(z.getItems())||O.consumable.revert(E.viewItem,{name:!0,classes:"media"})})})}}const h6=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class m6 extends at{constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[TE,ru,BE]}static get pluginName(){return"AutoMediaEmbed"}init(){const e=this.editor,t=e.model.document,n=e.plugins.get("ClipboardPipeline");this.listenTo(n,"inputTransformation",()=>{const a=t.selection.getFirstRange(),u=Vs.fromPosition(a.start);u.stickiness="toPrevious";const f=Vs.fromPosition(a.end);f.stickiness="toNext",t.once("change:data",()=>{this._embedMediaBetweenPositions(u,f),u.detach(),f.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(y.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,t){const n=this.editor,a=n.plugins.get(I_).registry,u=new cr(e,t),f=u.getWalker({ignoreElementEnd:!0});let b="";for(const w of f)w.item.is("$textProxy")&&(b+=w.item.data);if(b=b.trim(),!b.match(h6)||!a.hasMedia(b))return void u.detach();n.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Vs.fromPosition(e),this._timeoutId=y.window.setTimeout(()=>{n.model.change(w=>{this._timeoutId=null,w.remove(u),u.detach();let A=null;this._positionToInsert.root.rootName!=="$graveyard"&&(A=this._positionToInsert),dD(n.model,b,A,!1),this._positionToInsert.detach(),this._positionToInsert=null}),n.plugins.get(ru).requestUndoOnBackspace()},100)):u.detach()}}var mD=h(5651),f6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(mD.A,f6),mD.A.locals;class p6 extends St{constructor(e,t){super(t);const n=t.t;this.focusTracker=new hr,this.keystrokes=new mr,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),In.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),In.cancel,"ck-button-cancel","cancel"),this._focusables=new zo,this._focusCycler=new Tl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),mi({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,t=new Ge(this.locale,i_),n=t.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),t.label=e("Media URL"),t.infoText=this._urlInputViewInfoDefault,n.on("input",()=>{t.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=n.element.value.trim()}),t}_createButton(e,t,n,a){const u=new R(this.locale);return u.set({label:e,icon:t,tooltip:!0}),u.extendTemplate({attributes:{class:n}}),a&&u.delegate("execute").to(this,a),u}}class g6 extends at{static get requires(){return[I_]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,t=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",n=>{const a=nu(n);return this._setUpDropdown(a,t),a})}_setUpDropdown(e,t){const n=this.editor,a=n.t,u=e.buttonView,f=n.plugins.get(I_).registry;e.once("change:isOpen",()=>{const b=new(ri(p6))(function(w,A){return[E=>{if(!E.url.length)return w("The URL must not be empty.")},E=>{if(!A.hasMedia(E.url))return w("This media URL is not supported.")}]}(n.t,f),n.locale);e.panelView.children.add(b),u.on("open",()=>{b.disableCssTransitions(),b.url=t.value||"",b.urlInputView.fieldView.select(),b.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{b.isValid()&&(n.execute("mediaEmbed",b.url),n.editing.view.focus())}),e.on("change:isOpen",()=>b.resetFormStatus()),e.on("cancel",()=>{n.editing.view.focus()}),b.delegate("submit","cancel").to(e),b.urlInputView.fieldView.bind("value").to(t,"value"),b.urlInputView.on("change:errorText",()=>{n.ui.update()}),b.urlInputView.bind("isEnabled").to(t,"isEnabled")}),e.bind("isEnabled").to(t),u.set({label:a("Insert media"),icon:'<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',tooltip:!0})}}var fD=h(70),b6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(fD.A,b6),fD.A.locals;function pD(r){return r!==void 0&&r.endsWith("px")}function Gf(r){return r.toFixed(2).replace(/\.?0+$/,"")+"px"}var k6=Object.defineProperty,_6=Object.defineProperties,v6=Object.getOwnPropertyDescriptors,gD=Object.getOwnPropertySymbols,w6=Object.prototype.hasOwnProperty,y6=Object.prototype.propertyIsEnumerable,bD=(r,e,t)=>e in r?k6(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,x6=(r,e)=>{for(var t in e||(e={}))w6.call(e,t)&&bD(r,t,e[t]);if(gD)for(var t of gD(e))y6.call(e,t)&&bD(r,t,e[t]);return r};function C6(r,e,t){if(!r.childCount)return;const n=new fc(r.document),a=function(w,A){const E=A.createRangeIn(w),O=[],z=new Set;for(const U of E.getItems()){if(!U.is("element")||!U.name.match(/^(p|h\d+|li|div)$/))continue;let W=M6(U);if(W===void 0||parseFloat(W)!=0||Array.from(U.getClassNames()).find(X=>X.startsWith("MsoList"))||(W=void 0),U.hasStyle("mso-list")||W!==void 0&&z.has(W)){const X=D6(U);O.push({element:U,id:X.id,order:X.order,indent:X.indent,marginLeft:W}),W!==void 0&&z.add(W)}else z.clear()}return O}(r,n);if(!a.length)return;const u={},f=[];for(const w of a)if(w.indent!==void 0){A6(w)||(f.length=0);const A=`${w.id}:${w.indent}`,E=Math.min(w.indent-1,f.length);if(E<f.length&&f[E].id!==w.id&&(f.length=E),E<f.length-1)f.length=E+1;else{const z=E6(w,e);if(E>f.length-1||f[E].listElement.name!=z.type){E==0&&z.type=="ol"&&w.id!==void 0&&u[A]&&(z.startIndex=u[A]);const U=j6(z,n,t);if(pD(w.marginLeft)&&(E==0||pD(f[E-1].marginLeft))){let W=w.marginLeft;E>0&&(W=Gf(parseFloat(W)-parseFloat(f[E-1].marginLeft))),n.setStyle("padding-left",W,U)}if(f.length==0){const W=w.element.parent,X=W.getChildIndex(w.element)+1;n.insertChild(X,U,W)}else{const W=f[E-1].listItemElements;n.appendChild(U,W[W.length-1])}f[E]=(b=x6({},w),_6(b,v6({listElement:U,listItemElements:[]}))),E==0&&w.id!==void 0&&(u[A]=z.startIndex||1)}}const O=w.element.name=="li"?w.element:n.createElement("li");n.appendChild(O,f[E].listElement),f[E].listItemElements.push(O),E==0&&w.id!==void 0&&u[A]++,w.element!=O&&n.appendChild(w.element,O),T6(w.element,n),n.removeStyle("text-indent",w.element),n.removeStyle("margin-left",w.element)}else{const A=f.find(E=>E.marginLeft==w.marginLeft);if(A){const E=A.listItemElements;n.appendChild(w.element,E[E.length-1]),n.removeStyle("margin-left",w.element)}else f.length=0}var b}function A6(r){const e=r.element.previousSibling;return N6(e||r.element.parent)}function N6(r){return r.is("element","ol")||r.is("element","ul")}function E6(r,e){const t=new RegExp(`@list l${r.id}:level${r.indent}\\s*({[^}]*)`,"gi"),n=/mso-level-number-format:([^;]{0,100});/gi,a=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,u=new RegExp(`@list\\s+l${r.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),f=new RegExp(`@list l${r.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),b=u.exec(e),w=f.exec(e),A=b&&!w,E=t.exec(e);let O="decimal",z="ol",U=null;if(E&&E[1]){const W=n.exec(E[1]);if(W&&W[1]&&(O=W[1].trim(),z=O!=="bullet"&&O!=="image"?"ol":"ul"),O==="bullet"){const X=function(ae){if(ae.name=="li"&&ae.parent.name=="ul"&&ae.parent.hasAttribute("type"))return ae.parent.getAttribute("type");const ge=function(Ze){if(Ze.getChild(0).is("$text"))return null;for(const ft of Ze.getChildren()){if(!ft.is("element","span"))continue;const Ht=ft.getChild(0);if(Ht)return Ht.is("$text")?Ht:Ht.getChild(0)}return null}(ae);if(!ge)return null;const De=ge._data;return De==="o"?"circle":De==="·"?"disc":De==="§"?"square":null}(r.element);X&&(O=X)}else{const X=a.exec(E[1]);X&&X[1]&&(U=parseInt(X[1]))}A&&(z="ol")}return{type:z,startIndex:U,style:S6(O),isLegalStyleList:A}}function S6(r){if(r.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(r){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return r;default:return null}}function j6(r,e,t){const n=e.createElement(r.type);return r.style&&e.setStyle("list-style-type",r.style,n),r.startIndex&&r.startIndex>1&&e.setAttribute("start",r.startIndex,n),r.isLegalStyleList&&t&&e.addClass("legal-list",n),n}function D6(r){const e=r.getStyle("mso-list");if(e===void 0)return{};const t=e.match(/(^|\s{1,100})l(\d+)/i),n=e.match(/\s{0,100}lfo(\d+)/i),a=e.match(/\s{0,100}level(\d+)/i);return t&&n&&a?{id:t[2],order:n[1],indent:parseInt(a[1])}:{indent:1}}function T6(r,e){const t=new Hr({name:"span",styles:{"mso-list":"Ignore"}}),n=e.createRangeIn(r);for(const a of n)a.type==="elementStart"&&t.match(a.item)&&e.remove(a.item)}function M6(r){const e=r.getStyle("margin-left");return e===void 0||e.endsWith("px")?e:function(t){const n=parseFloat(t);return t.endsWith("pt")?Gf(96*n/72):t.endsWith("pc")?Gf(12*n*96/72):t.endsWith("in")?Gf(96*n):t.endsWith("cm")?Gf(96*n/2.54):t.endsWith("mm")?Gf(n/10*96/2.54):t}(e)}function I6(r,e){if(!r.childCount)return;const t=new fc(r.document),n=function(u,f){const b=f.createRangeIn(u),w=new Hr({name:/v:(.+)/}),A=[];for(const E of b){if(E.type!="elementStart")continue;const O=E.item,z=O.previousSibling,U=z&&z.is("element")?z.name:null,W=["Chart"],X=w.match(O),ae=O.getAttribute("o:gfxdata"),ge=U==="v:shapetype",De=ae&&W.some(Ze=>O.getAttribute("id").includes(Ze));X&&ae&&!ge&&!De&&A.push(E.item.getAttribute("id"))}return A}(r,t);(function(u,f,b){const w=b.createRangeIn(f),A=new Hr({name:"img"}),E=[];for(const O of w)if(O.item.is("element")&&A.match(O.item)){const z=O.item,U=z.getAttribute("v:shapes")?z.getAttribute("v:shapes").split(" "):[];U.length&&U.every(W=>u.indexOf(W)>-1)?E.push(z):z.getAttribute("src")||E.push(z)}for(const O of E)b.remove(O)})(n,r,t),function(u,f,b){const w=b.createRangeIn(f),A=[];for(const z of w)if(z.type=="elementStart"&&z.item.is("element","v:shape")){const U=z.item.getAttribute("id");if(u.includes(U))continue;E(z.item.parent.getChildren(),U)||A.push(z.item)}for(const z of A){const U={src:O(z)};z.hasAttribute("alt")&&(U.alt=z.getAttribute("alt"));const W=b.createElement("img",U);b.insertChild(z.index+1,W,z.parent)}function E(z,U){for(const W of z)if(W.is("element")&&(W.name=="img"&&W.getAttribute("v:shapes")==U||E(W.getChildren(),U)))return!0;return!1}function O(z){for(const U of z.getChildren())if(U.is("element")&&U.getAttribute("src"))return U.getAttribute("src")}}(n,r,t),function(u,f){const b=f.createRangeIn(u),w=new Hr({name:/v:(.+)/}),A=[];for(const E of b)E.type=="elementStart"&&w.match(E.item)&&A.push(E.item);for(const E of A)f.remove(E)}(r,t);const a=function(u,f){const b=f.createRangeIn(u),w=new Hr({name:"img"}),A=[];for(const E of b)E.item.is("element")&&w.match(E.item)&&E.item.getAttribute("src").startsWith("file://")&&A.push(E.item);return A}(r,t);a.length&&function(u,f,b){if(u.length===f.length)for(let w=0;w<u.length;w++){const A=`data:${f[w].type};base64,${O6(f[w].hex)}`;b.setAttribute("src",A,u[w])}}(a,function(u){if(!u)return[];const f=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,b=new RegExp("(?:("+f.source+"))([\\da-fA-F\\s]+)\\}","g"),w=u.match(b),A=[];if(w)for(const E of w){let O=!1;E.includes("\\pngblip")?O="image/png":E.includes("\\jpegblip")&&(O="image/jpeg"),O&&A.push({hex:E.replace(f,"").replace(/[^\da-fA-F]/g,""),type:O})}return A}(e),t)}function O6(r){return btoa(r.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const L6=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,B6=/xmlns:o="urn:schemas-microsoft-com/i;class P6{constructor(e,t=!1){this.document=e,this.hasMultiLevelListPlugin=t}isActive(e){return L6.test(e)||B6.test(e)}execute(e){const{body:t,stylesString:n}=e._parsedData;C6(t,n,this.hasMultiLevelListPlugin),I6(t,e.dataTransfer.getData("text/rtf")),function(a){const u=[],f=new fc(a.document);for(const{item:b}of f.createRangeIn(a))if(b.is("element")){for(const w of b.getClassNames())/\bmso/gi.exec(w)&&f.removeClass(w,b);for(const w of b.getStyleNames())/\bmso/gi.exec(w)&&f.removeStyle(w,b);(b.is("element","w:sdt")||b.is("element","w:sdtpr")&&b.isEmpty||b.is("element","o:p")&&b.isEmpty)&&u.push(b)}for(const b of u){const w=b.parent,A=w.getChildIndex(b);f.insertChild(A,b.getChildren(),w),f.remove(b)}}(t),e.content=t}}function kD(r,e,t,{blockElements:n,inlineObjectElements:a}){let u=t.createPositionAt(r,e=="forward"?"after":"before");return u=u.getLastMatchingPosition(({item:f})=>f.is("element")&&!n.includes(f.name)&&!a.includes(f.name),{direction:e}),e=="forward"?u.nodeAfter:u.nodeBefore}function _D(r,e){return!!r&&r.is("element")&&e.includes(r.name)}const R6=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class z6{constructor(e){this.document=e}isActive(e){return R6.test(e)}execute(e){const t=new fc(this.document),{body:n}=e._parsedData;(function(a,u){for(const f of a.getChildren())if(f.is("element","b")&&f.getStyle("font-weight")==="normal"){const b=a.getChildIndex(f);u.remove(f),u.insertChild(b,f.getChildren(),a)}})(n,t),function(a,u){for(const f of u.createRangeIn(a)){const b=f.item;if(b.is("element","li")){const w=b.getChild(0);w&&w.is("element","p")&&u.unwrapElement(w)}}}(n,t),function(a,u){const f=new Bh(u.document.stylesProcessor),b=new Vh(f,{renderingMode:"data"}),w=b.blockElements,A=b.inlineObjectElements,E=[];for(const O of u.createRangeIn(a)){const z=O.item;if(z.is("element","br")){const U=kD(z,"forward",u,{blockElements:w,inlineObjectElements:A}),W=kD(z,"backward",u,{blockElements:w,inlineObjectElements:A}),X=_D(U,w);(_D(W,w)||X)&&E.push(z)}}for(const O of E)O.hasClass("Apple-interchange-newline")?u.remove(O):u.replace(O,u.createElement("p"))}(n,t),e.content=n}}const F6=/<google-sheets-html-origin/i;class V6{constructor(e){this.document=e}isActive(e){return F6.test(e)}execute(e){const t=new fc(this.document),{body:n}=e._parsedData;(function(a,u){for(const f of a.getChildren())if(f.is("element","google-sheets-html-origin")){const b=a.getChildIndex(f);u.remove(f),u.insertChild(b,f.getChildren(),a)}})(n,t),function(a,u){for(const f of a.getChildren())f.is("element","table")&&f.hasAttribute("xmlns")&&u.removeAttribute("xmlns",f)}(n,t),function(a,u){for(const f of a.getChildren())f.is("element","table")&&f.getStyle("width")==="0px"&&u.removeStyle("width",f)}(n,t),function(a,u){for(const f of Array.from(a.getChildren()))f.is("element","style")&&u.remove(f)}(n,t),e.content=n}}function vD(r){return r.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length===1?" ":Array(t.length+1).join("  ").substr(0,t.length))}function H6(r,e){const t=new DOMParser,n=function(w){return vD(vD(w)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(w){const A="</body>",E="</html>",O=w.indexOf(A);if(O<0)return w;const z=w.indexOf(E,O+A.length);return w.substring(0,O+A.length)+(z>=0?w.substring(z):"")}(r=(r=r.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),a=t.parseFromString(n,"text/html");(function(w){w.querySelectorAll("span[style*=spacerun]").forEach(A=>{const E=A,O=E.innerText.length||0;E.innerText=Array(O+1).join("  ").substr(0,O)})})(a);const u=a.body.innerHTML,f=function(w,A){const E=new Bh(A),O=new Vh(E,{renderingMode:"data"}),z=w.createDocumentFragment(),U=w.body.childNodes;for(;U.length>0;)z.appendChild(U[0]);return O.domToView(z,{skipComments:!0})}(a,e),b=function(w){const A=[],E=[],O=Array.from(w.getElementsByTagName("style"));for(const z of O)z.sheet&&z.sheet.cssRules&&z.sheet.cssRules.length&&(A.push(z.sheet),E.push(z.innerHTML));return{styles:A,stylesString:E.join(" ")}}(a);return{body:f,bodyString:u,styles:b.styles,stylesString:b.stylesString}}function $r(r,e,t,n,a=1){e!=null&&a!=null&&e>a?n.setAttribute(r,e,t):n.removeAttribute(r,t)}function gm(r,e,t={}){const n=r.createElement("tableCell",t);return r.insertElement("paragraph",n),r.insert(n,e),n}function Py(r,e){const t=e.parent.parent,n=parseInt(t.getAttribute("headingColumns")||"0"),{column:a}=r.getCellLocation(e);return!!n&&a<n}function U6(){return r=>{r.on("element:table",(e,t,n)=>{const a=t.viewItem;if(!n.consumable.test(a,{name:!0}))return;const{rows:u,headingRows:f,headingColumns:b}=function(E){let O,z=0;const U=[],W=[];let X;for(const ae of Array.from(E.getChildren())){if(ae.name!=="tbody"&&ae.name!=="thead"&&ae.name!=="tfoot")continue;ae.name!=="thead"||X||(X=ae);const ge=Array.from(ae.getChildren()).filter(De=>De.is("element","tr"));for(const De of ge)if(X&&ae===X||ae.name==="tbody"&&Array.from(De.getChildren()).length&&Array.from(De.getChildren()).every(Ze=>Ze.is("element","th")))z++,U.push(De);else{W.push(De);const Ze=$6(De);(!O||Ze<O)&&(O=Ze)}}return{headingRows:z,headingColumns:O||0,rows:[...U,...W]}}(a),w={};b&&(w.headingColumns=b),f&&(w.headingRows=f);const A=n.writer.createElement("table",w);if(n.safeInsert(A,t.modelCursor)){if(n.consumable.consume(a,{name:!0}),u.forEach(E=>n.convertItem(E,n.writer.createPositionAt(A,"end"))),n.convertChildren(a,n.writer.createPositionAt(A,"end")),A.isEmpty){const E=n.writer.createElement("tableRow");n.writer.insert(E,n.writer.createPositionAt(A,"end")),gm(n.writer,n.writer.createPositionAt(E,"end"))}n.updateConversionResult(A,t)}})}}function wD(r){return e=>{e.on(`element:${r}`,(t,n,{writer:a})=>{if(!n.modelRange)return;const u=n.modelRange.start.nodeAfter,f=a.createPositionAt(u,0);if(n.viewItem.isEmpty)return void a.insertElement("paragraph",f);const b=Array.from(u.getChildren());if(b.every(w=>w.is("element","$marker"))){const w=a.createElement("paragraph");a.insert(w,a.createPositionAt(u,0));for(const A of b)a.move(a.createRangeOn(A),a.createPositionAt(w,"end"))}},{priority:"low"})}}function $6(r){let e=0,t=0;const n=Array.from(r.getChildren()).filter(a=>a.name==="th"||a.name==="td");for(;t<n.length&&n[t].name==="th";){const a=n[t];e+=parseInt(a.getAttribute("colspan")||"1"),t++}return e}class Zi{constructor(e,t={}){this._jumpedToStartRow=!1,this._table=e,this._startRow=t.row!==void 0?t.row:t.startRow||0,this._endRow=t.row!==void 0?t.row:t.endRow,this._startColumn=t.column!==void 0?t.column:t.startColumn||0,this._endColumn=t.column!==void 0?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let t=null;const n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(n.cell,n.row,n.column));else{const a=e.getChild(this._cellIndex);if(!a)return this._advanceToNextRow();const u=parseInt(a.getAttribute("colspan")||"1"),f=parseInt(a.getAttribute("rowspan")||"1");(u>1||f>1)&&this._recordSpans(a,f,u),this._shouldSkipSlot()||(t=this._formatOutValue(a)),this._nextCellAtColumn=this._column+u}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,t=this._row,n=this._column){return{done:!1,value:new q6(this,e,t,n)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),t=this._row<this._startRow,n=this._column<this._startColumn,a=this._endColumn!==void 0&&this._column>this._endColumn;return e||t||n||a}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,t,n){const a={cell:e,row:this._row,column:this._column};for(let u=this._row;u<this._row+t;u++)for(let f=this._column;f<this._column+n;f++)u==this._row&&f==this._column||this._markSpannedCell(u,f,a)}_markSpannedCell(e,t,n){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,n)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let t=this._startRow;!this._jumpedToStartRow;t--)e===this._getRowLength(t)&&(this._row=t,this._rowIndex=t,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((t,n)=>t+parseInt(n.getAttribute("colspan")||"1"),0)}}class q6{constructor(e,t,n,a){this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=n,this.cellAnchorColumn=a,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function yD(r,e){return(t,{writer:n})=>{const a=t.getAttribute("headingRows")||0,u=n.createContainerElement("table",null,[]),f=n.createContainerElement("figure",{class:"table"},u);a>0&&n.insert(n.createPositionAt(u,"end"),n.createContainerElement("thead",null,n.createSlot(b=>b.is("element","tableRow")&&b.index<a))),a<r.getRows(t)&&n.insert(n.createPositionAt(u,"end"),n.createContainerElement("tbody",null,n.createSlot(b=>b.is("element","tableRow")&&b.index>=a)));for(const{positionOffset:b,filter:w}of e.additionalSlots)n.insert(n.createPositionAt(u,b),n.createSlot(w));return n.insert(n.createPositionAt(u,"after"),n.createSlot(b=>!b.is("element","tableRow")&&!e.additionalSlots.some(({filter:w})=>w(b)))),e.asWidget?function(b,w){return w.setCustomProperty("table",!0,b),uy(b,w,{hasSelectionHandle:!0})}(f,n):f}}function xD(r={}){return(e,{writer:t})=>{const n=e.parent,a=n.parent,u=a.getChildIndex(n),f=new Zi(a,{row:u}),b=a.getAttribute("headingRows")||0,w=a.getAttribute("headingColumns")||0;let A=null;for(const E of f)if(E.cell==e){const O=E.row<b||E.column<w?"th":"td";A=r.asWidget?uE(t.createEditableElement(O),t):t.createContainerElement(O);break}return A}}function CD(r={}){return(e,{writer:t})=>{if(!e.parent.is("element","tableCell")||!AD(e))return null;if(r.asWidget)return t.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const n=t.createContainerElement("p");return t.setCustomProperty("dataPipeline:transparentRendering",!0,n),n}}}function AD(r){return r.parent.childCount==1&&!!r.getAttributeKeys().next().done}class W6 extends Vt{refresh(){const e=this.editor.model,t=e.document.selection,n=e.schema;this.isEnabled=function(a,u){const f=a.getFirstPosition().parent,b=f===f.root?f:f.parent;return u.checkChild(b,"table")}(t,n)}execute(e={}){const t=this.editor,n=t.model,a=t.plugins.get("TableUtils"),u=t.config.get("table.defaultHeadings.rows"),f=t.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&u&&(e.headingRows=u),e.headingColumns===void 0&&f&&(e.headingColumns=f),n.change(b=>{const w=a.createTable(b,e);n.insertObject(w,null,null,{findOptimalPosition:"auto"}),b.setSelection(b.createPositionAt(w.getNodeByPath([0,0,0]),0))})}}class ND extends Vt{constructor(e,t={}){super(e),this.order=t.order||"below"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),a=this.order==="above",u=n.getSelectionAffectedTableCells(t),f=n.getRowIndexes(u),b=a?f.first:f.last,w=u[0].findAncestor("table");n.insertRows(w,{at:a?b:b+1,copyStructureFromAbove:!a})}}class ED extends Vt{constructor(e,t={}){super(e),this.order=t.order||"right"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),a=this.order==="left",u=n.getSelectionAffectedTableCells(t),f=n.getColumnIndexes(u),b=a?f.first:f.last,w=u[0].findAncestor("table");n.insertColumns(w,{columns:1,at:a?b:b+1})}}class SD extends Vt{constructor(e,t={}){super(e),this.direction=t.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}}function jD(r,e,t){const{startRow:n,startColumn:a,endRow:u,endColumn:f}=e,b=t.createElement("table"),w=u-n+1;for(let E=0;E<w;E++)t.insertElement("tableRow",b,"end");const A=[...new Zi(r,{startRow:n,endRow:u,startColumn:a,endColumn:f,includeAllSlots:!0})];for(const{row:E,column:O,cell:z,isAnchor:U,cellAnchorRow:W,cellAnchorColumn:X}of A){const ae=E-n,ge=b.getChild(ae);if(U){const De=t.cloneElement(z);t.append(De,ge),OD(De,E,O,u,f,t)}else(W<n||X<a)&&gm(t,t.createPositionAt(ge,"end"))}return function(E,O,z,U,W){const X=parseInt(O.getAttribute("headingRows")||"0");X>0&&$r("headingRows",X-z,E,W,0);const ae=parseInt(O.getAttribute("headingColumns")||"0");ae>0&&$r("headingColumns",ae-U,E,W,0)}(b,r,n,a,t),b}function DD(r,e,t=0){const n=[],a=new Zi(r,{startRow:t,endRow:e-1});for(const u of a){const{row:f,cellHeight:b}=u;f<e&&e<=f+b-1&&n.push(u)}return n}function TD(r,e,t){const n=r.parent,a=n.parent,u=n.index,f=e-u,b={},w=parseInt(r.getAttribute("rowspan"))-f;w>1&&(b.rowspan=w);const A=parseInt(r.getAttribute("colspan")||"1");A>1&&(b.colspan=A);const E=u+f,O=[...new Zi(a,{startRow:u,endRow:E,includeAllSlots:!0})];let z,U=null;for(const W of O){const{row:X,column:ae,cell:ge}=W;ge===r&&z===void 0&&(z=ae),z!==void 0&&z===ae&&X===E&&(U=gm(t,W.getPositionBefore(),b))}return $r("rowspan",f,r,t),U}function MD(r,e){const t=[],n=new Zi(r);for(const a of n){const{column:u,cellWidth:f}=a;u<e&&e<=u+f-1&&t.push(a)}return t}function ID(r,e,t,n){const a=t-e,u={},f=parseInt(r.getAttribute("colspan"))-a;f>1&&(u.colspan=f);const b=parseInt(r.getAttribute("rowspan")||"1");b>1&&(u.rowspan=b);const w=gm(n,n.createPositionAfter(r),u);return $r("colspan",a,r,n),w}function OD(r,e,t,n,a,u){const f=parseInt(r.getAttribute("colspan")||"1"),b=parseInt(r.getAttribute("rowspan")||"1");t+f-1>a&&$r("colspan",a-t+1,r,u,1),e+b-1>n&&$r("rowspan",n-e+1,r,u,1)}function Ry(r,e){const t=e.getColumns(r),n=new Array(t).fill(0);for(const{column:u}of new Zi(r))n[u]++;const a=n.reduce((u,f,b)=>f?u:[...u,b],[]);if(a.length>0){const u=a[a.length-1];return e.removeColumns(r,{at:u}),!0}return!1}function zy(r,e){const t=[],n=e.getRows(r);for(let a=0;a<n;a++)r.getChild(a).isEmpty&&t.push(a);if(t.length>0){const a=t[t.length-1];return e.removeRows(r,{at:a}),!0}return!1}function Fy(r,e){Ry(r,e)||zy(r,e)}function LD(r,e){const t=Array.from(new Zi(r,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(t.every(({cellHeight:a})=>a===1))return e.lastRow;const n=t[0].cellHeight-1;return e.lastRow+n}function BD(r,e){const t=Array.from(new Zi(r,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(t.every(({cellWidth:a})=>a===1))return e.lastColumn;const n=t[0].cellWidth-1;return e.lastColumn+n}class O_ extends Vt{constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,t=e.document,n=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(t.selection)[0],a=this.value,u=this.direction;e.change(f=>{const b=u=="right"||u=="down",w=b?n:a,A=b?a:n,E=A.parent;(function(X,ae,ge){PD(X)||(PD(ae)&&ge.remove(ge.createRangeIn(ae)),ge.move(ge.createRangeIn(X),ge.createPositionAt(ae,"end"))),ge.remove(X)})(A,w,f);const O=this.isHorizontal?"colspan":"rowspan",z=parseInt(n.getAttribute(O)||"1"),U=parseInt(a.getAttribute(O)||"1");f.setAttribute(O,z+U,w),f.setSelection(f.createRangeIn(w));const W=this.editor.plugins.get("TableUtils");Fy(E.findAncestor("table"),W)})}_getMergeableCell(){const e=this.editor.model.document,t=this.editor.plugins.get("TableUtils"),n=t.getTableCellsContainingSelection(e.selection)[0];if(!n)return;const a=this.isHorizontal?function(b,w,A){const E=b.parent,O=E.parent,z=w=="right"?b.nextSibling:b.previousSibling,U=(O.getAttribute("headingColumns")||0)>0;if(!z)return;const W=w=="right"?b:z,X=w=="right"?z:b,{column:ae}=A.getCellLocation(W),{column:ge}=A.getCellLocation(X),De=parseInt(W.getAttribute("colspan")||"1"),Ze=Py(A,W),ft=Py(A,X);if(!(U&&Ze!=ft))return ae+De===ge?z:void 0}(n,this.direction,t):function(b,w,A){const E=b.parent,O=E.parent,z=O.getChildIndex(E);if(w=="down"&&z===A.getRows(O)-1||w=="up"&&z===0)return null;const U=parseInt(b.getAttribute("rowspan")||"1"),W=O.getAttribute("headingRows")||0,X=w=="down"&&z+U===W,ae=w=="up"&&z===W;if(W&&(X||ae))return null;const ge=parseInt(b.getAttribute("rowspan")||"1"),De=w=="down"?z+ge:z,Ze=[...new Zi(O,{endRow:De})],ft=Ze.find(Fn=>Fn.cell===b),Ht=ft.column,jn=Ze.find(({row:Fn,cellHeight:rr,column:Us})=>Us===Ht&&(w=="down"?Fn===De:De===Fn+rr));return jn&&jn.cell?jn.cell:null}(n,this.direction,t);if(!a)return;const u=this.isHorizontal?"rowspan":"colspan",f=parseInt(n.getAttribute(u)||"1");return parseInt(a.getAttribute(u)||"1")===f?a:void 0}}function PD(r){const e=r.getChild(0);return r.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class Y6 extends Vt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){const a=n.findAncestor("table"),u=e.getRows(a)-1,f=e.getRowIndexes(t),b=f.first===0&&f.last===u;this.isEnabled=!b}else this.isEnabled=!1}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),a=t.getRowIndexes(n),u=n[0],f=u.findAncestor("table"),b=t.getCellLocation(u).column;e.change(w=>{const A=a.last-a.first+1;t.removeRows(f,{at:a.first,rows:A});const E=function(O,z,U,W){const X=O.getChild(Math.min(z,W-1));let ae=X.getChild(0),ge=0;for(const De of X.getChildren()){if(ge>U)return ae;ae=De,ge+=parseInt(De.getAttribute("colspan")||"1")}return ae}(f,a.first,b,t.getRows(f));w.setSelection(w.createPositionAt(E,0))})}}class G6 extends Vt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){const a=n.findAncestor("table"),u=e.getColumns(a),{first:f,last:b}=e.getColumnIndexes(t);this.isEnabled=b-f<u-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[t,n]=function(w,A){const E=A.getSelectionAffectedTableCells(w),O=E[0],z=E.pop(),U=[O,z];return O.isBefore(z)?U:U.reverse()}(this.editor.model.document.selection,e),a=t.parent.parent,u=[...new Zi(a)],f={first:u.find(w=>w.cell===t).column,last:u.find(w=>w.cell===n).column},b=function(w,A,E,O){return parseInt(E.getAttribute("colspan")||"1")>1?E:A.previousSibling||E.nextSibling?E.nextSibling||A.previousSibling:O.first?w.reverse().find(({column:U})=>U<O.first).cell:w.reverse().find(({column:U})=>U>O.last).cell}(u,t,n,f);this.editor.model.change(w=>{const A=f.last-f.first+1;e.removeColumns(a,{at:f.first,columns:A}),w.setSelection(w.createPositionAt(b,0))})}}class K6 extends Vt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),a=n.length>0;this.isEnabled=a,this.value=a&&n.every(u=>this._isInHeading(u,u.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),n=this.editor.model,a=t.getSelectionAffectedTableCells(n.document.selection),u=a[0].findAncestor("table"),{first:f,last:b}=t.getRowIndexes(a),w=this.value?f:b+1,A=u.getAttribute("headingRows")||0;n.change(E=>{if(w){const O=DD(u,w,w>A?A:0);for(const{cell:z}of O)TD(z,w,E)}$r("headingRows",w,u,E,0)})}_isInHeading(e,t){const n=parseInt(t.getAttribute("headingRows")||"0");return!!n&&e.parent.index<n}}class Q6 extends Vt{refresh(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),a=n.length>0;this.isEnabled=a,this.value=a&&n.every(u=>Py(t,u))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),n=this.editor.model,a=t.getSelectionAffectedTableCells(n.document.selection),u=a[0].findAncestor("table"),{first:f,last:b}=t.getColumnIndexes(a),w=this.value?f:b+1;n.change(A=>{if(w){const E=MD(u,w);for(const{cell:O,column:z}of E)ID(O,z,w,A)}$r("headingColumns",w,u,A,0)})}}function Z6(r){if(r.is("element","tableColumnGroup"))return r;const e=r.getChildren();return Array.from(e).find(t=>t.is("element","tableColumnGroup"))}function X6(r){const e=Z6(r);return e?Array.from(e.getChildren()):[]}class No extends at{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const t=e.parent,n=t.parent,a=n.getChildIndex(t),u=new Zi(n,{row:a});for(const{cell:f,row:b,column:w}of u)if(f===e)return{row:b,column:w}}createTable(e,t){const n=e.createElement("table"),a=t.rows||2,u=t.columns||2;return Vy(e,n,0,a,u),t.headingRows&&$r("headingRows",Math.min(t.headingRows,a),n,e,0),t.headingColumns&&$r("headingColumns",Math.min(t.headingColumns,u),n,e,0),n}insertRows(e,t={}){const n=this.editor.model,a=t.at||0,u=t.rows||1,f=t.copyStructureFromAbove!==void 0,b=t.copyStructureFromAbove?a-1:a,w=this.getRows(e),A=this.getColumns(e);if(a>w)throw new q("tableutils-insertrows-insert-out-of-range",this,{options:t});n.change(E=>{const O=e.getAttribute("headingRows")||0;if(O>a&&$r("headingRows",O+u,e,E,0),!f&&(a===0||a===w))return void Vy(E,e,a,u,A);const z=f?Math.max(a,b):a,U=new Zi(e,{endRow:z}),W=new Array(A).fill(1);for(const{row:X,column:ae,cellHeight:ge,cellWidth:De,cell:Ze}of U){const ft=X+ge-1,Ht=X<=b&&b<=ft;X<a&&a<=ft?(E.setAttribute("rowspan",ge+u,Ze),W[ae]=-De):f&&Ht&&(W[ae]=De)}for(let X=0;X<u;X++){const ae=E.createElement("tableRow");E.insert(ae,e,a);for(let ge=0;ge<W.length;ge++){const De=W[ge],Ze=E.createPositionAt(ae,"end");De>0&&gm(E,Ze,De>1?{colspan:De}:void 0),ge+=Math.abs(De)-1}}})}insertColumns(e,t={}){const n=this.editor.model,a=t.at||0,u=t.columns||1;n.change(f=>{const b=e.getAttribute("headingColumns");a<b&&f.setAttribute("headingColumns",b+u,e);const w=this.getColumns(e);if(a===0||w===a){for(const E of e.getChildren())E.is("element","tableRow")&&Kf(u,f,f.createPositionAt(E,a?"end":0));return}const A=new Zi(e,{column:a,includeAllSlots:!0});for(const E of A){const{row:O,cell:z,cellAnchorColumn:U,cellAnchorRow:W,cellWidth:X,cellHeight:ae}=E;if(U<a){f.setAttribute("colspan",X+u,z);const ge=W+ae-1;for(let De=O;De<=ge;De++)A.skipRow(De)}else Kf(u,f,E.getPositionBefore())}})}removeRows(e,t){const n=this.editor.model,a=t.rows||1,u=this.getRows(e),f=t.at,b=f+a-1;if(b>u-1)throw new q("tableutils-removerows-row-index-out-of-range",this,{table:e,options:t});n.change(w=>{const A={first:f,last:b},{cellsToMove:E,cellsToTrim:O}=function(z,{first:U,last:W}){const X=new Map,ae=[];for(const{row:ge,column:De,cellHeight:Ze,cell:ft}of new Zi(z,{endRow:W})){const Ht=ge+Ze-1;if(ge>=U&&ge<=W&&Ht>W){const jn=Ze-(W-ge+1);X.set(De,{cell:ft,rowspan:jn})}if(ge<U&&Ht>=U){let jn;jn=Ht>=W?W-U+1:Ht-U+1,ae.push({cell:ft,rowspan:Ze-jn})}}return{cellsToMove:X,cellsToTrim:ae}}(e,A);E.size&&function(z,U,W,X){const ae=new Zi(z,{includeAllSlots:!0,row:U}),ge=[...ae],De=z.getChild(U);let Ze;for(const{column:ft,cell:Ht,isAnchor:jn}of ge)if(W.has(ft)){const{cell:Fn,rowspan:rr}=W.get(ft),Us=Ze?X.createPositionAfter(Ze):X.createPositionAt(De,0);X.move(X.createRangeOn(Fn),Us),$r("rowspan",rr,Fn,X),Ze=Fn}else jn&&(Ze=Ht)}(e,b+1,E,w);for(let z=b;z>=f;z--)w.remove(e.getChild(z));for(const{rowspan:z,cell:U}of O)$r("rowspan",z,U,w);(function(z,{first:U,last:W},X){const ae=z.getAttribute("headingRows")||0;U<ae&&$r("headingRows",W<ae?ae-(W-U+1):U,z,X,0)})(e,A,w),Ry(e,this)||zy(e,this)})}removeColumns(e,t){const n=this.editor.model,a=t.at,u=t.columns||1,f=t.at+u-1;n.change(b=>{(function(A,E,O){const z=A.getAttribute("headingColumns")||0;if(z&&E.first<z){const U=Math.min(z-1,E.last)-E.first+1;O.setAttribute("headingColumns",z-U,A)}})(e,{first:a,last:f},b);const w=X6(e);for(let A=f;A>=a;A--){for(const{cell:E,column:O,cellWidth:z}of[...new Zi(e)])O<=A&&z>1&&O+z>A?$r("colspan",z-1,E,b):O===A&&b.remove(E);if(w[A]){const E=A===0?w[1]:w[A-1],O=parseFloat(w[A].getAttribute("columnWidth")),z=parseFloat(E.getAttribute("columnWidth"));b.remove(w[A]),b.setAttribute("columnWidth",O+z+"%",E)}}zy(e,this)||Ry(e,this)})}splitCellVertically(e,t=2){const n=this.editor.model,a=e.parent.parent,u=parseInt(e.getAttribute("rowspan")||"1"),f=parseInt(e.getAttribute("colspan")||"1");n.change(b=>{if(f>1){const{newCellsSpan:w,updatedSpan:A}=RD(f,t);$r("colspan",A,e,b);const E={};w>1&&(E.colspan=w),u>1&&(E.rowspan=u),Kf(f>t?t-1:f-1,b,b.createPositionAfter(e),E)}if(f<t){const w=t-f,A=[...new Zi(a)],{column:E}=A.find(({cell:W})=>W===e),O=A.filter(({cell:W,cellWidth:X,column:ae})=>W!==e&&ae===E||ae<E&&ae+X>E);for(const{cell:W,cellWidth:X}of O)b.setAttribute("colspan",X+w,W);const z={};u>1&&(z.rowspan=u),Kf(w,b,b.createPositionAfter(e),z);const U=a.getAttribute("headingColumns")||0;U>E&&$r("headingColumns",U+w,a,b)}})}splitCellHorizontally(e,t=2){const n=this.editor.model,a=e.parent,u=a.parent,f=u.getChildIndex(a),b=parseInt(e.getAttribute("rowspan")||"1"),w=parseInt(e.getAttribute("colspan")||"1");n.change(A=>{if(b>1){const E=[...new Zi(u,{startRow:f,endRow:f+b-1,includeAllSlots:!0})],{newCellsSpan:O,updatedSpan:z}=RD(b,t);$r("rowspan",z,e,A);const{column:U}=E.find(({cell:X})=>X===e),W={};O>1&&(W.rowspan=O),w>1&&(W.colspan=w);for(const X of E){const{column:ae,row:ge}=X;ge>=f+z&&ae===U&&(ge+f+z)%O==0&&Kf(1,A,X.getPositionBefore(),W)}}if(b<t){const E=t-b,O=[...new Zi(u,{startRow:0,endRow:f})];for(const{cell:W,cellHeight:X,row:ae}of O)if(W!==e&&ae+X>f){const ge=X+E;A.setAttribute("rowspan",ge,W)}const z={};w>1&&(z.colspan=w),Vy(A,u,f+1,E,1,z);const U=u.getAttribute("headingRows")||0;U>f&&$r("headingRows",U+E,u,A)}})}getColumns(e){return[...e.getChild(0).getChildren()].filter(t=>t.is("element","tableCell")).reduce((t,n)=>t+parseInt(n.getAttribute("colspan")||"1"),0)}getRows(e){return Array.from(e.getChildren()).reduce((t,n)=>n.is("element","tableRow")?t+1:t,0)}createTableWalker(e,t={}){return new Zi(e,t)}getSelectedTableCells(e){const t=[];for(const n of this.sortRanges(e.getRanges())){const a=n.getContainedElement();a&&a.is("element","tableCell")&&t.push(a)}return t}getTableCellsContainingSelection(e){const t=[];for(const n of e.getRanges()){const a=n.start.findAncestor("tableCell");a&&t.push(a)}return t}getSelectionAffectedTableCells(e){const t=this.getSelectedTableCells(e);return t.length?t:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const t=e.map(n=>n.parent.index);return this._getFirstLastIndexesObject(t)}getColumnIndexes(e){const t=e[0].findAncestor("table"),n=[...new Zi(t)].filter(a=>e.includes(a.cell)).map(a=>a.column);return this._getFirstLastIndexesObject(n)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const t=new Set,n=new Set;let a=0;for(const f of e){const{row:b,column:w}=this.getCellLocation(f),A=parseInt(f.getAttribute("rowspan"))||1,E=parseInt(f.getAttribute("colspan"))||1;t.add(b),n.add(w),A>1&&t.add(b+A-1),E>1&&n.add(w+E-1),a+=A*E}return function(f,b){const w=Array.from(f.values()),A=Array.from(b.values()),E=Math.max(...w),O=Math.min(...w),z=Math.max(...A),U=Math.min(...A);return(E-O+1)*(z-U+1)}(t,n)==a}sortRanges(e){return Array.from(e).sort(J6)}_getFirstLastIndexesObject(e){const t=e.sort((n,a)=>n-a);return{first:t[0],last:t[t.length-1]}}_areCellInTheSameTableSection(e){const t=e[0].findAncestor("table"),n=this.getRowIndexes(e),a=parseInt(t.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(n,a))return!1;const u=this.getColumnIndexes(e),f=parseInt(t.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(u,f)}_areIndexesInSameSection({first:e,last:t},n){return e<n==t<n}}function Vy(r,e,t,n,a,u={}){for(let f=0;f<n;f++){const b=r.createElement("tableRow");r.insert(b,e,t),Kf(a,r,r.createPositionAt(b,"end"),u)}}function Kf(r,e,t,n={}){for(let a=0;a<r;a++)gm(e,t,n)}function RD(r,e){if(r<e)return{newCellsSpan:1,updatedSpan:1};const t=Math.floor(r/e);return{newCellsSpan:t,updatedSpan:r-t*e+t}}function J6(r,e){const t=r.start,n=e.start;return t.isBefore(n)?-1:1}class e8 extends Vt{refresh(){const e=this.editor.plugins.get(No),t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t)}execute(){const e=this.editor.model,t=this.editor.plugins.get(No);e.change(n=>{const a=t.getSelectedTableCells(e.document.selection),u=a.shift(),{mergeWidth:f,mergeHeight:b}=function(w,A,E){let O=0,z=0;for(const ge of A){const{row:De,column:Ze}=E.getCellLocation(ge);O=FD(ge,Ze,O,"colspan"),z=FD(ge,De,z,"rowspan")}const{row:U,column:W}=E.getCellLocation(w),X=O-W,ae=z-U;return{mergeWidth:X,mergeHeight:ae}}(u,a,t);$r("colspan",f,u,n),$r("rowspan",b,u,n);for(const w of a)t8(w,u,n);Fy(u.findAncestor("table"),t),n.setSelection(u,"in")})}}function t8(r,e,t){zD(r)||(zD(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(r),t.createPositionAt(e,"end"))),t.remove(r)}function zD(r){const e=r.getChild(0);return r.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function FD(r,e,t,n){const a=parseInt(r.getAttribute(n)||"1");return Math.max(t,e+a)}class n8 extends Vt{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),a=t.getRowIndexes(n),u=n[0].findAncestor("table"),f=[];for(let b=a.first;b<=a.last;b++)for(const w of u.getChild(b).getChildren())f.push(e.createRangeOn(w));e.change(b=>{b.setSelection(f)})}}class i8 extends Vt{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),a=n[0],u=n.pop(),f=a.findAncestor("table"),b=e.getCellLocation(a),w=e.getCellLocation(u),A=Math.min(b.column,w.column),E=Math.max(b.column,w.column),O=[];for(const z of new Zi(f,{startColumn:A,endColumn:E}))O.push(t.createRangeOn(z.cell));t.change(z=>{z.setSelection(O)})}}function r8(r){r.document.registerPostFixer(e=>function(t,n){const a=n.document.differ.getChanges();let u=!1;const f=new Set;for(const b of a){let w=null;b.type=="insert"&&b.name=="table"&&(w=b.position.nodeAfter),b.type!="insert"&&b.type!="remove"||b.name!="tableRow"&&b.name!="tableCell"||(w=b.position.findAncestor("table")),a8(b)&&(w=b.range.start.findAncestor("table")),w&&!f.has(w)&&(u=s8(w,t)||u,u=o8(w,t)||u,f.add(w))}return u}(e,r))}function s8(r,e){let t=!1;const n=function(a){const u=parseInt(a.getAttribute("headingRows")||"0"),f=Array.from(a.getChildren()).reduce((w,A)=>A.is("element","tableRow")?w+1:w,0),b=[];for(const{row:w,cell:A,cellHeight:E}of new Zi(a)){if(E<2)continue;const O=w<u?u:f;if(w+E>O){const z=O-w;b.push({cell:A,rowspan:z})}}return b}(r);if(n.length){t=!0;for(const a of n)$r("rowspan",a.rowspan,a.cell,e,1)}return t}function o8(r,e){let t=!1;const n=function(b){const w=new Array(b.childCount).fill(0);for(const{rowIndex:A}of new Zi(b,{includeAllSlots:!0}))w[A]++;return w}(r),a=[];for(const[b,w]of n.entries())!w&&r.getChild(b).is("element","tableRow")&&a.push(b);if(a.length){t=!0;for(const b of a.reverse())e.remove(r.getChild(b)),n.splice(b,1)}const u=n.filter((b,w)=>r.getChild(w).is("element","tableRow")),f=u[0];if(!u.every(b=>b===f)){const b=u.reduce((w,A)=>A>w?A:w,0);for(const[w,A]of u.entries()){const E=b-A;if(E){for(let O=0;O<E;O++)gm(e,e.createPositionAt(r.getChild(w),"end"));t=!0}}}return t}function a8(r){if(r.type!=="attribute")return!1;const e=r.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function l8(r){r.document.registerPostFixer(e=>function(t,n){const a=n.document.differ.getChanges();let u=!1;for(const f of a)f.type=="insert"&&f.name=="table"&&(u=c8(f.position.nodeAfter,t)||u),f.type=="insert"&&f.name=="tableRow"&&(u=VD(f.position.nodeAfter,t)||u),f.type=="insert"&&f.name=="tableCell"&&(u=Hy(f.position.nodeAfter,t)||u),f.type!="remove"&&f.type!="insert"||!d8(f)||(u=Hy(f.position.parent,t)||u);return u}(e,r))}function c8(r,e){let t=!1;for(const n of r.getChildren())n.is("element","tableRow")&&(t=VD(n,e)||t);return t}function VD(r,e){let t=!1;for(const n of r.getChildren())t=Hy(n,e)||t;return t}function Hy(r,e){if(r.childCount==0)return e.insertElement("paragraph",r),!0;const t=Array.from(r.getChildren()).filter(n=>n.is("$text"));for(const n of t)e.wrap(e.createRangeOn(n),"paragraph");return!!t.length}function d8(r){return!!r.position.parent.is("element","tableCell")&&(r.type=="insert"&&r.name=="$text"||r.type=="remove")}function u8(r,e){if(!r.is("element","paragraph"))return!1;const t=e.toViewElement(r);return!!t&&AD(r)!==t.is("element","span")}var HD=h(8137),h8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(HD.A,h8),HD.A.locals;class m8 extends at{constructor(e){super(e),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[No]}init(){const e=this.editor,t=e.model,n=t.schema,a=e.conversion,u=e.plugins.get(No);n.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),a.for("upcast").add(f=>{f.on("element:figure",(b,w,A)=>{if(!A.consumable.test(w.viewItem,{name:!0,classes:"table"}))return;const E=function(z){for(const U of z.getChildren())if(U.is("element","table"))return U}(w.viewItem);if(!E||!A.consumable.test(E,{name:!0}))return;A.consumable.consume(w.viewItem,{name:!0,classes:"table"});const O=qn(A.convertItem(E,w.modelCursor).modelRange.getItems());O?(A.convertChildren(w.viewItem,A.writer.createPositionAt(O,"end")),A.updateConversionResult(O,w)):A.consumable.revert(w.viewItem,{name:!0,classes:"table"})})}),a.for("upcast").add(U6()),a.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:yD(u,{asWidget:!0,additionalSlots:this._additionalSlots})}),a.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:yD(u,{additionalSlots:this._additionalSlots})}),a.for("upcast").elementToElement({model:"tableRow",view:"tr"}),a.for("upcast").add(f=>{f.on("element:tr",(b,w)=>{w.viewItem.isEmpty&&w.modelCursor.index==0&&b.stop()},{priority:"high"})}),a.for("downcast").elementToElement({model:"tableRow",view:(f,{writer:b})=>f.isEmpty?b.createEmptyElement("tr"):b.createContainerElement("tr")}),a.for("upcast").elementToElement({model:"tableCell",view:"td"}),a.for("upcast").elementToElement({model:"tableCell",view:"th"}),a.for("upcast").add(wD("td")),a.for("upcast").add(wD("th")),a.for("editingDowncast").elementToElement({model:"tableCell",view:xD({asWidget:!0})}),a.for("dataDowncast").elementToElement({model:"tableCell",view:xD()}),a.for("editingDowncast").elementToElement({model:"paragraph",view:CD({asWidget:!0}),converterPriority:"high"}),a.for("dataDowncast").elementToElement({model:"paragraph",view:CD(),converterPriority:"high"}),a.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),a.for("upcast").attributeToAttribute({model:{key:"colspan",value:UD("colspan")},view:"colspan"}),a.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),a.for("upcast").attributeToAttribute({model:{key:"rowspan",value:UD("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new W6(e)),e.commands.add("insertTableRowAbove",new ND(e,{order:"above"})),e.commands.add("insertTableRowBelow",new ND(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new ED(e,{order:"left"})),e.commands.add("insertTableColumnRight",new ED(e,{order:"right"})),e.commands.add("removeTableRow",new Y6(e)),e.commands.add("removeTableColumn",new G6(e)),e.commands.add("splitTableCellVertically",new SD(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new SD(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new e8(e)),e.commands.add("mergeTableCellRight",new O_(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new O_(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new O_(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new O_(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new Q6(e)),e.commands.add("setTableRowHeader",new K6(e)),e.commands.add("selectTableRow",new n8(e)),e.commands.add("selectTableColumn",new i8(e)),r8(t),l8(t),this.listenTo(t.document,"change:data",()=>{(function(f,b){const w=f.document.differ;for(const A of w.getChanges()){let E,O=!1;if(A.type=="attribute"){const X=A.range.start.nodeAfter;if(!X||!X.is("element","table")||A.attributeKey!="headingRows"&&A.attributeKey!="headingColumns")continue;E=X,O=A.attributeKey=="headingRows"}else A.name!="tableRow"&&A.name!="tableCell"||(E=A.position.findAncestor("table"),O=A.name=="tableRow");if(!E)continue;const z=E.getAttribute("headingRows")||0,U=E.getAttribute("headingColumns")||0,W=new Zi(E);for(const X of W){const ae=X.row<z||X.column<U?"th":"td",ge=b.mapper.toViewElement(X.cell);ge&&ge.is("element")&&ge.name!=ae&&b.reconvertItem(O?X.cell.parent:X.cell)}}})(t,e.editing),function(f,b){const w=f.document.differ,A=new Set;for(const E of w.getChanges()){const O=E.type=="attribute"?E.range.start.parent:E.position.parent;O.is("element","tableCell")&&A.add(O)}for(const E of A.values()){const O=Array.from(E.getChildren()).filter(z=>u8(z,b.mapper));for(const z of O)b.reconvertItem(z)}}(t,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function UD(r){return e=>{const t=parseInt(e.getAttribute(r));return Number.isNaN(t)||t<=0?null:t}}var $D=h(5032),f8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()($D.A,f8),$D.A.locals;class qD extends St{constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new mr,this.focusTracker=new hr,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(n,a)=>`${a} × ${n}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:t.to("label")}]}],on:{mousedown:t.to(n=>{n.preventDefault()}),click:t.to(()=>{this.fire("execute")})}}),this.on("boxover",(n,a)=>{const{row:u,column:f}=a.target.dataset;this.items.get(10*(parseInt(u,10)-1)+(parseInt(f,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(n,a,u)=>{if(!u)return;const{row:f,column:b}=u.dataset;this.set({rows:parseInt(f),columns:parseInt(b)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),Hn({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,t=this.columns;this.items.map((n,a)=>{const u=Math.floor(a/10)<e&&a%10<t;n.set("isOn",u)})}_createGridButton(e,t,n,a){const u=new R(e);return u.set({label:a,class:"ck-insert-table-dropdown-grid-box"}),u.extendTemplate({attributes:{"data-row":t,"data-column":n}}),u}_createGridCollection(){const e=[];for(let t=0;t<100;t++){const n=Math.floor(t/10),a=t%10,u=`${n+1} × ${a+1}`;e.push(this._createGridButton(this.locale,n+1,a+1,u))}return this.createCollection(e)}}class p8 extends at{static get pluginName(){return"TableUI"}init(){const e=this.editor,t=this.editor.t,n=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",a=>{const u=e.commands.get("insertTable"),f=nu(a);let b;return f.bind("isEnabled").to(u),f.buttonView.set({icon:In.table,label:t("Insert table"),tooltip:!0}),f.on("change:isOpen",()=>{b||(b=new qD(a),f.panelView.children.add(b),b.delegate("execute").to(f),f.on("execute",()=>{e.execute("insertTable",{rows:b.rows,columns:b.columns}),e.editing.view.focus()}))}),f}),e.ui.componentFactory.add("menuBar:insertTable",a=>{const u=e.commands.get("insertTable"),f=new Vf(a),b=new qD(a);return b.delegate("execute").to(f),f.on("change:isOpen",(w,A,E)=>{E||b.reset()}),b.on("execute",()=>{e.execute("insertTable",{rows:b.rows,columns:b.columns}),e.editing.view.focus()}),f.buttonView.set({label:t("Table"),icon:In.table}),f.panelView.children.add(b),f.bind("isEnabled").to(u),f}),e.ui.componentFactory.add("tableColumn",a=>{const u=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:t("Select column")}}];return this._prepareDropdown(t("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',u,a)}),e.ui.componentFactory.add("tableRow",a=>{const u=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:t("Select row")}}];return this._prepareDropdown(t("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',u,a)}),e.ui.componentFactory.add("mergeTableCells",a=>{const u=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(t("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',u,a)})}_prepareDropdown(e,t,n,a){const u=this.editor,f=nu(a),b=this._fillDropdownWithListOptions(f,n);return f.buttonView.set({label:e,icon:t,tooltip:!0}),f.bind("isEnabled").toMany(b,"isEnabled",(...w)=>w.some(A=>A)),this.listenTo(f,"execute",w=>{u.execute(w.source.commandName),w.source instanceof Ne||u.editing.view.focus()}),f}_prepareMergeSplitButtonDropdown(e,t,n,a){const u=this.editor,f=nu(a,n_),b="mergeTableCells",w=u.commands.get(b),A=this._fillDropdownWithListOptions(f,n);return f.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),f.bind("isEnabled").toMany([w,...A],"isEnabled",(...E)=>E.some(O=>O)),this.listenTo(f.buttonView,"execute",()=>{u.execute(b),u.editing.view.focus()}),this.listenTo(f,"execute",E=>{u.execute(E.source.commandName),u.editing.view.focus()}),f}_fillDropdownWithListOptions(e,t){const n=this.editor,a=[],u=new Ro;for(const f of t)g8(f,n,a,u);return x1(e,u),a}}function g8(r,e,t,n){if(r.type==="button"||r.type==="switchbutton"){const a=r.model=new eN(r.model),{commandName:u,bindIsOn:f}=r.model,b=e.commands.get(u);t.push(b),a.set({commandName:u}),a.bind("isEnabled").to(b),f&&a.bind("isOn").to(b,"value"),a.set({withText:!0})}n.add(r)}var WD=h(8423),b8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(WD.A,b8),WD.A.locals;class bm extends at{static get pluginName(){return"TableSelection"}static get requires(){return[No,No]}init(){const e=this.editor,t=e.model,n=e.editing.view;this.listenTo(t,"deleteContent",(a,u)=>this._handleDeleteContent(a,u),{priority:"high"}),this.listenTo(n.document,"insertText",(a,u)=>this._handleInsertTextEvent(a,u),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(No),t=this.editor.model.document.selection,n=e.getSelectedTableCells(t);return n.length==0?null:n}getSelectionAsFragment(){const e=this.editor.plugins.get(No),t=this.getSelectedTableCells();return t?this.editor.model.change(n=>{const a=n.createDocumentFragment(),{first:u,last:f}=e.getColumnIndexes(t),{first:b,last:w}=e.getRowIndexes(t),A=t[0].findAncestor("table");let E=w,O=f;if(e.isSelectionRectangular(t)){const U={firstColumn:u,lastColumn:f,firstRow:b,lastRow:w};E=LD(A,U),O=BD(A,U)}const z=jD(A,{startRow:b,startColumn:u,endRow:E,endColumn:O},n);return n.insert(z,a,0),a}):null}setCellSelection(e,t){const n=this._getCellsToSelect(e,t);this.editor.model.change(a=>{a.setSelection(n.cells.map(u=>a.createRangeOn(u)),{backward:n.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=qn(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,t=new Set;e.conversion.for("editingDowncast").add(n=>n.on("selection",(a,u,f)=>{const b=f.writer;(function(E){for(const O of t)E.removeClass("ck-editor__editable_selected",O);t.clear()})(b);const w=this.getSelectedTableCells();if(!w)return;for(const E of w){const O=f.mapper.toViewElement(E);b.addClass("ck-editor__editable_selected",O),t.add(O)}const A=f.mapper.toViewElement(w[w.length-1]);b.setSelection(A,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const t=this.getSelectedTableCells();if(!t)return;e.model.change(n=>{const a=n.createPositionAt(t[0],0),u=e.model.schema.getNearestSelectionRange(a);n.setSelection(u)})}})}_handleDeleteContent(e,t){const n=this.editor.plugins.get(No),a=t[0],u=t[1],f=this.editor.model,b=!u||u.direction=="backward",w=n.getSelectedTableCells(a);w.length&&(e.stop(),f.change(A=>{const E=w[b?w.length-1:0];f.change(z=>{for(const U of w)f.deleteContent(z.createSelection(U,"in"))});const O=f.schema.getNearestSelectionRange(A.createPositionAt(E,0));a.is("documentSelection")?A.setSelection(O):a.setTo(O)}))}_handleInsertTextEvent(e,t){const n=this.editor,a=this.getSelectedTableCells();if(!a)return;const u=n.editing.view,f=n.editing.mapper,b=a.map(w=>u.createRangeOn(f.toViewElement(w)));t.selection=u.createSelection(b)}_getCellsToSelect(e,t){const n=this.editor.plugins.get("TableUtils"),a=n.getCellLocation(e),u=n.getCellLocation(t),f=Math.min(a.row,u.row),b=Math.max(a.row,u.row),w=Math.min(a.column,u.column),A=Math.max(a.column,u.column),E=new Array(b-f+1).fill(null).map(()=>[]),O={startRow:f,endRow:b,startColumn:w,endColumn:A};for(const{row:W,cell:X}of new Zi(e.findAncestor("table"),O))E[W-f].push(X);const z=u.row<a.row,U=u.column<a.column;return z&&E.reverse(),U&&E.forEach(W=>W.reverse()),{cells:E.flat(),backward:z||U}}}class k8 extends at{static get pluginName(){return"TableClipboard"}static get requires(){return[Dg,Ml,bm,No]}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"copy",(n,a)=>this._onCopyCut(n,a)),this.listenTo(t,"cut",(n,a)=>this._onCopyCut(n,a)),this.listenTo(e.model,"insertContent",(n,[a,u])=>this._onInsertContent(n,a,u),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,t){const n=this.editor.editing.view,a=this.editor.plugins.get(bm),u=this.editor.plugins.get(Dg);a.getSelectedTableCells()&&(e.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(t.preventDefault(),e.stop(),this.editor.model.enqueueChange({isUndoable:e.name==="cut"},()=>{const f=u._copySelectedFragmentWithMarkers(e.name,this.editor.model.document.selection,()=>a.getSelectionAsFragment());n.document.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:this.editor.data.toView(f),method:e.name})}))}_onInsertContent(e,t,n){if(n&&!n.is("documentSelection"))return;const a=this.editor.model,u=this.editor.plugins.get(No),f=this.editor.plugins.get(Dg),b=this.getTableIfOnlyTableInContent(t,a);if(!b)return;const w=u.getSelectionAffectedTableCells(a.document.selection);w.length?(e.stop(),t.is("documentFragment")?f._pasteMarkersIntoTransformedElement(t.markers,A=>this._replaceSelectedCells(b,w,A)):this.editor.model.change(A=>{this._replaceSelectedCells(b,w,A)})):Fy(b,u)}_replaceSelectedCells(e,t,n){const a=this.editor.plugins.get(No),u={width:a.getColumns(e),height:a.getRows(e)},f=function(O,z,U,W){const X=O[0].findAncestor("table"),ae=W.getColumnIndexes(O),ge=W.getRowIndexes(O),De={firstColumn:ae.first,lastColumn:ae.last,firstRow:ge.first,lastRow:ge.last},Ze=O.length===1;return Ze&&(De.lastRow+=z.height-1,De.lastColumn+=z.width-1,function(ft,Ht,jn,Fn){const rr=Fn.getColumns(ft),Us=Fn.getRows(ft);jn>rr&&Fn.insertColumns(ft,{at:rr,columns:jn-rr}),Ht>Us&&Fn.insertRows(ft,{at:Us,rows:Ht-Us})}(X,De.lastRow+1,De.lastColumn+1,W)),Ze||!W.isSelectionRectangular(O)?function(ft,Ht,jn){const{firstRow:Fn,lastRow:rr,firstColumn:Us,lastColumn:d2}=Ht,u2={first:Fn,last:rr},h2={first:Us,last:d2};$y(ft,Us,u2,jn),$y(ft,d2+1,u2,jn),Uy(ft,Fn,h2,jn),Uy(ft,rr+1,h2,jn,Fn)}(X,De,U):(De.lastRow=LD(X,De),De.lastColumn=BD(X,De)),De}(t,u,n,a),b=f.lastRow-f.firstRow+1,w=f.lastColumn-f.firstColumn+1;e=jD(e,{startRow:0,startColumn:0,endRow:Math.min(b,u.height)-1,endColumn:Math.min(w,u.width)-1},n);const A=t[0].findAncestor("table"),E=this._replaceSelectedCellsWithPasted(e,u,A,f,n);if(this.editor.plugins.get("TableSelection").isEnabled){const O=a.sortRanges(E.map(z=>n.createRangeOn(z)));n.setSelection(O)}else n.setSelection(E[0],0);return A}_replaceSelectedCellsWithPasted(e,t,n,a,u){const{width:f,height:b}=t,w=function(ae,ge,De){const Ze=new Array(De).fill(null).map(()=>new Array(ge).fill(null));for(const{column:ft,row:Ht,cell:jn}of new Zi(ae))Ze[Ht][ft]=jn;return Ze}(e,f,b),A=[...new Zi(n,{startRow:a.firstRow,endRow:a.lastRow,startColumn:a.firstColumn,endColumn:a.lastColumn,includeAllSlots:!0})],E=[];let O;for(const ae of A){const{row:ge,column:De}=ae;De===a.firstColumn&&(O=ae.getPositionBefore());const Ze=ge-a.firstRow,ft=De-a.firstColumn,Ht=w[Ze%b][ft%f],jn=Ht?u.cloneElement(Ht):null,Fn=this._replaceTableSlotCell(ae,jn,O,u);Fn&&(OD(Fn,ge,De,a.lastRow,a.lastColumn,u),E.push(Fn),O=u.createPositionAfter(Fn))}const z=parseInt(n.getAttribute("headingRows")||"0"),U=parseInt(n.getAttribute("headingColumns")||"0"),W=a.firstRow<z&&z<=a.lastRow,X=a.firstColumn<U&&U<=a.lastColumn;if(W){const ae=Uy(n,z,{first:a.firstColumn,last:a.lastColumn},u,a.firstRow);E.push(...ae)}if(X){const ae=$y(n,U,{first:a.firstRow,last:a.lastRow},u);E.push(...ae)}return E}_replaceTableSlotCell(e,t,n,a){const{cell:u,isAnchor:f}=e;return f&&a.remove(u),t?(a.insert(t,n),t):null}getTableIfOnlyTableInContent(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const n=t.createRangeIn(e);for(const a of n.getItems())if(a.is("element","table")){const u=t.createRange(n.start,t.createPositionBefore(a));if(t.hasContent(u,{ignoreWhitespaces:!0}))return null;const f=t.createRange(t.createPositionAfter(a),n.end);return t.hasContent(f,{ignoreWhitespaces:!0})?null:a}return null}}function Uy(r,e,t,n,a=0){if(!(e<1))return DD(r,e,a).filter(({column:u,cellWidth:f})=>YD(u,f,t)).map(({cell:u})=>TD(u,e,n))}function $y(r,e,t,n){if(!(e<1))return MD(r,e).filter(({row:a,cellHeight:u})=>YD(a,u,t)).map(({cell:a,column:u})=>ID(a,u,e,n))}function YD(r,e,t){const n=r+e-1,{first:a,last:u}=t;return r>=a&&r<=u||r<a&&n>=a}class _8 extends at{static get pluginName(){return"TableKeyboard"}static get requires(){return[bm,No]}init(){const e=this.editor,t=e.editing.view.document,n=e.t;this.listenTo(t,"arrowKey",(...a)=>this._onArrowKey(...a),{context:"table"}),this.listenTo(t,"tab",(...a)=>this._handleTabOnSelectedTable(...a),{context:"figure"}),this.listenTo(t,"tab",(...a)=>this._handleTab(...a),{context:["th","td"]}),e.accessibility.addKeystrokeInfoGroup({id:"table",label:n("Keystrokes that can be used in a table cell"),keystrokes:[{label:n("Move the selection to the next cell"),keystroke:"Tab"},{label:n("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:n("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:n("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(e,t){const n=this.editor,a=n.model.document.selection.getSelectedElement();a&&a.is("element","table")&&(t.preventDefault(),t.stopPropagation(),e.stop(),n.model.change(u=>{u.setSelection(u.createRangeIn(a.getChild(0).getChild(0)))}))}_handleTab(e,t){const n=this.editor,a=this.editor.plugins.get(No),u=this.editor.plugins.get("TableSelection"),f=n.model.document.selection,b=!t.shiftKey;let w=a.getTableCellsContainingSelection(f)[0];if(w||(w=u.getFocusCell()),!w)return;t.preventDefault(),t.stopPropagation(),e.stop();const A=w.parent,E=A.parent,O=E.getChildIndex(A),z=A.getChildIndex(w),U=z===0;if(!b&&U&&O===0)return void n.model.change(ge=>{ge.setSelection(ge.createRangeOn(E))});const W=z===A.childCount-1,X=O===a.getRows(E)-1;if(b&&X&&W&&(n.execute("insertTableRowBelow"),O===a.getRows(E)-1))return void n.model.change(ge=>{ge.setSelection(ge.createRangeOn(E))});let ae;if(b&&W)ae=E.getChild(O+1).getChild(0);else if(!b&&U){const ge=E.getChild(O-1);ae=ge.getChild(ge.childCount-1)}else ae=A.getChild(z+(b?1:-1));n.model.change(ge=>{ge.setSelection(ge.createRangeIn(ae))})}_onArrowKey(e,t){const n=this.editor,a=kn(t.keyCode,n.locale.contentLanguageDirection);this._handleArrowKeys(a,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}_handleArrowKeys(e,t){const n=this.editor.plugins.get(No),a=this.editor.plugins.get("TableSelection"),u=this.editor.model,f=u.document.selection,b=["right","down"].includes(e),w=n.getSelectedTableCells(f);if(w.length){let E;return E=t?a.getFocusCell():b?w[w.length-1]:w[0],this._navigateFromCellInDirection(E,e,t),!0}const A=f.focus.findAncestor("tableCell");if(!A)return!1;if(!f.isCollapsed)if(t){if(f.isBackward==b&&!f.containsEntireContent(A))return!1}else{const E=f.getSelectedElement();if(!E||!u.schema.isObject(E))return!1}return!!this._isSelectionAtCellEdge(f,A,b)&&(this._navigateFromCellInDirection(A,e,t),!0)}_isSelectionAtCellEdge(e,t,n){const a=this.editor.model,u=this.editor.model.schema,f=n?e.getLastPosition():e.getFirstPosition();if(!u.getLimitElement(f).is("element","tableCell"))return a.createPositionAt(t,n?"end":0).isTouching(f);const b=a.createSelection(f);return a.modifySelection(b,{direction:n?"forward":"backward"}),f.isEqual(b.focus)}_navigateFromCellInDirection(e,t,n=!1){const a=this.editor.model,u=e.findAncestor("table"),f=[...new Zi(u,{includeAllSlots:!0})],{row:b,column:w}=f[f.length-1],A=f.find(({cell:X})=>X==e);let{row:E,column:O}=A;switch(t){case"left":O--;break;case"up":E--;break;case"right":O+=A.cellWidth;break;case"down":E+=A.cellHeight}if(E<0||E>b||O<0&&E<=0||O>w&&E>=b)return void a.change(X=>{X.setSelection(X.createRangeOn(u))});O<0?(O=n?0:w,E--):O>w&&(O=n?w:0,E++);const z=f.find(X=>X.row==E&&X.column==O).cell,U=["right","down"].includes(t),W=this.editor.plugins.get("TableSelection");if(n&&W.isEnabled){const X=W.getAnchorCell()||e;W.setCellSelection(X,z)}else{const X=a.createPositionAt(z,U?0:"end");a.change(ae=>{ae.setSelection(X)})}}}class v8 extends Al{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class w8 extends at{static get pluginName(){return"TableMouse"}static get requires(){return[bm,No]}init(){this.editor.editing.view.addObserver(v8),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,t=e.plugins.get(No);let n=!1;const a=e.plugins.get(bm);this.listenTo(e.editing.view.document,"mousedown",(u,f)=>{const b=e.model.document.selection;if(!this.isEnabled||!a.isEnabled||!f.domEvent.shiftKey)return;const w=a.getAnchorCell()||t.getTableCellsContainingSelection(b)[0];if(!w)return;const A=this._getModelTableCellFromDomEvent(f);A&&GD(w,A)&&(n=!0,a.setCellSelection(w,A),f.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{n=!1}),this.listenTo(e.editing.view.document,"selectionChange",u=>{n&&u.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let t,n,a=!1,u=!1;const f=e.plugins.get(bm);this.listenTo(e.editing.view.document,"mousedown",(b,w)=>{this.isEnabled&&f.isEnabled&&(w.domEvent.shiftKey||w.domEvent.ctrlKey||w.domEvent.altKey||(t=this._getModelTableCellFromDomEvent(w)))}),this.listenTo(e.editing.view.document,"mousemove",(b,w)=>{if(!w.domEvent.buttons||!t)return;const A=this._getModelTableCellFromDomEvent(w);A&&GD(t,A)&&(n=A,a||n==t||(a=!0)),a&&(u=!0,f.setCellSelection(t,n),w.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{a=!1,u=!1,t=null,n=null}),this.listenTo(e.editing.view.document,"selectionChange",b=>{u&&b.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const t=e.target,n=this.editor.editing.view.createPositionAt(t,0);return this.editor.editing.mapper.toModelPosition(n).parent.findAncestor("tableCell",{includeSelf:!0})}}function GD(r,e){return r.parent.parent==e.parent.parent}var KD=h(2329),y8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(KD.A,y8),KD.A.locals;function x8(r){const e=r.getSelectedElement();return e&&QD(e)?e:null}function C8(r){const e=r.getFirstPosition();if(!e)return null;let t=e.parent;for(;t;){if(t.is("element")&&QD(t))return t;t=t.parent}return null}function QD(r){return!!r.getCustomProperty("table")&&os(r)}var ZD=h(5506),A8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(ZD.A,A8),ZD.A.locals;var XD=h(2655),N8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(XD.A,N8),XD.A.locals;var JD=h(4043),E8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(JD.A,E8),JD.A.locals;var e2=h(1623),S8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(e2.A,S8),e2.A.locals;var t2=h(8986),j8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(t2.A,j8),t2.A.locals;const km=Ma.defaultPositions;km.northArrowSouth,km.northArrowSouthWest,km.northArrowSouthEast,km.southArrowNorth,km.southArrowNorthWest,km.southArrowNorthEast,km.viewportStickyNorth;var n2=h(5562),D8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(n2.A,D8),n2.A.locals;var i2=h(4143),T8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(i2.A,T8),i2.A.locals;var r2=h(8795),M8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mt()(r2.A,M8),r2.A.locals;var I8=Object.defineProperty,s2=Object.getOwnPropertySymbols,O8=Object.prototype.hasOwnProperty,L8=Object.prototype.propertyIsEnumerable,o2=(r,e,t)=>e in r?I8(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,a2=(r,e)=>{for(var t in e||(e={}))O8.call(e,t)&&o2(r,t,e[t]);if(s2)for(var t of s2(e))L8.call(e,t)&&o2(r,t,e[t]);return r};const B8={autoRefresh:!0},l2=36e5;class qy extends Te(){constructor(e,t={}){if(super(),!e)throw new q("token-missing-token-url",this);t.initValue&&this._validateTokenValue(t.initValue),this.set("value",t.initValue),this._refresh=typeof e=="function"?e:()=>{return n=e,new Promise((a,u)=>{const f=new XMLHttpRequest;f.open("GET",n),f.addEventListener("load",()=>{const b=f.status,w=f.response;return b<200||b>299?u(new q("token-cannot-download-new-token",null)):a(w)}),f.addEventListener("error",()=>u(new Error("Network Error"))),f.addEventListener("abort",()=>u(new Error("Abort"))),f.send()});var n},this._options=a2(a2({},B8),t)}init(){return new Promise((e,t)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(t)})}refreshToken(){return this._refresh().then(e=>(this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const t=typeof e=="string",n=!/^".*"$/.test(e),a=t&&e.split(".").length===3;if(!n||!a)throw new q("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:t}=JSON.parse(atob(e));return t?Math.floor((1e3*t-Date.now())/2):l2}catch{return l2}}static create(e,t={}){return new qy(e,t).init()}}const Wy=/^data:(\S*?);base64,/;class P8 extends me(){constructor(e,t,n){if(super(),!e)throw new q("fileuploader-missing-file",null);if(!t)throw new q("fileuploader-missing-token",null);if(!n)throw new q("fileuploader-missing-api-address",null);this.file=function(a){if(typeof a!="string")return!1;const u=a.match(Wy);return!(!u||!u.length)}(e)?function(a,u=512){try{const f=a.match(Wy)[1],b=atob(a.replace(Wy,"")),w=[];for(let A=0;A<b.length;A+=u){const E=b.slice(A,A+u),O=new Array(E.length);for(let z=0;z<E.length;z++)O[z]=E.charCodeAt(z);w.push(new Uint8Array(O))}return new Blob(w,{type:f})}catch{throw new q("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=t,this._apiAddress=n}onProgress(e){return this.on("progress",(t,n)=>e(n)),this}onError(e){return this.once("error",(t,n)=>e(n)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,t=n=>()=>this.fire("error",n);e.addEventListener("error",t("Network Error")),e.addEventListener("abort",t("Abort")),e.upload&&e.upload.addEventListener("progress",n=>{n.lengthComputable&&this.fire("progress",{total:n.total,uploaded:n.loaded})}),e.addEventListener("load",()=>{const n=e.status,a=e.response;if(n<200||n>299)return this.fire("error",a.message||a.error)})}_sendRequest(){const e=new FormData,t=this.xhr;return e.append("file",this.file),new Promise((n,a)=>{t.addEventListener("load",()=>{const u=t.status,f=t.response;return u<200||u>299?f.message?a(new q("fileuploader-uploading-data-failed",this,{message:f.message})):a(f.error):n(f)}),t.addEventListener("error",()=>a(new Error("Network Error"))),t.addEventListener("abort",()=>a(new Error("Abort"))),t.send(e)})}}class R8{constructor(e,t){if(!e)throw new q("uploadgateway-missing-token",null);if(!t)throw new q("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=t}upload(e){return new P8(e,this._token,this._apiAddress)}}class z8 extends Tr{static get pluginName(){return"CloudServicesCore"}createToken(e,t){return new qy(e,t)}createUploadGateway(e,t){return new R8(e,t)}}var c2=(r,e,t)=>new Promise((n,a)=>{var u=w=>{try{b(t.next(w))}catch(A){a(A)}},f=w=>{try{b(t.throw(w))}catch(A){a(A)}},b=w=>w.done?n(w.value):Promise.resolve(w.value).then(u,f);b((t=t.apply(r,e)).next())});class Yy extends u_{}Yy.builtinPlugins=[class extends at{static get requires(){return[Bf,TE,p_,s4,jR,wR,BE]}static get pluginName(){return"Essentials"}},class extends at{static get requires(){return[gc]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const r=this.editor.config.get("ckfinder.uploadUrl");r&&(this.editor.plugins.get(gc).createUploadAdapter=e=>new b4(e,r,this.editor.t))}},class extends at{static get requires(){return[ru]}static get pluginName(){return"Autoformat"}afterInit(){const r=this.editor,e=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),r.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const r=this.editor.commands;r.get("bulletedList")&&lh(this.editor,this,/^[*-]\s$/,"bulletedList"),r.get("numberedList")&&lh(this.editor,this,/^1[.|)]\s$/,"numberedList"),r.get("todoList")&&lh(this.editor,this,/^\[\s?\]\s$/,"todoList"),r.get("checkTodoList")&&lh(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const r=this.editor.commands;if(r.get("bold")){const e=v_(this.editor,"bold");$f(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),$f(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(r.get("italic")){const e=v_(this.editor,"italic");$f(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),$f(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(r.get("code")){const e=v_(this.editor,"code");$f(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(r.get("strikethrough")){const e=v_(this.editor,"strikethrough");$f(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const r=this.editor.commands.get("heading");r&&r.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const t=e[7],n=new RegExp(`^(#{${t}})\\s$`);lh(this.editor,this,n,()=>{if(!r.isEnabled||r.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&lh(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const r=this.editor,e=r.model.document.selection;r.commands.get("codeBlock")&&lh(r,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&lh(this.editor,this,/^---$/,"horizontalLine")}},class extends at{static get requires(){return[k4,_4]}static get pluginName(){return"Bold"}},class extends at{static get requires(){return[w4,y4]}static get pluginName(){return"Italic"}},class extends at{static get requires(){return[C4,N4]}static get pluginName(){return"BlockQuote"}},class extends at{static get pluginName(){return"CKBox"}static get requires(){return[nS,E4]}},class extends at{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",X4,Q4]}},class extends Tr{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[z8]}init(){return c2(this,null,function*(){const r=this.context.config.get("cloudServices")||{};for(const[t,n]of Object.entries(r))this[t]=n;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore");this.token=yield e.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(r){return c2(this,null,function*(){if(this._tokens.has(r))return this.getTokenFor(r);const e=this.context.plugins.get("CloudServicesCore"),t=yield e.createToken(r).init();return this._tokens.set(r,t),t})}getTokenFor(r){const e=this._tokens.get(r);if(!e)throw new q("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const r of this._tokens.values())r.destroy()}},class extends at{static get pluginName(){return"EasyImage"}static get requires(){return[J4,"ImageUpload"]}init(){const r=this.editor;r.plugins.has("ImageBlockEditing")||r.plugins.has("ImageInlineEditing")||ue("easy-image-image-feature-missing",r)}},class extends at{static get requires(){return[rz,oz]}static get pluginName(){return"Heading"}},class extends at{static get requires(){return[Ez,jz]}static get pluginName(){return"Image"}},class extends at{static get requires(){return[Tz,Mz]}static get pluginName(){return"ImageCaption"}},class extends at{static get requires(){return[lj,nF]}static get pluginName(){return"ImageStyle"}},class extends at{static get requires(){return[b_,Oa]}static get pluginName(){return"ImageToolbar"}afterInit(){const r=this.editor,e=r.t,t=r.plugins.get(b_),n=r.plugins.get("ImageUtils");var a;t.register("image",{ariaLabel:e("Image toolbar"),items:(a=r.config.get("image.toolbar")||[],a.map(u=>te(u)?u.name:u)),getRelatedElement:u=>n.getClosestSelectedImageWidget(u)})}},class extends at{static get pluginName(){return"ImageUpload"}static get requires(){return[Wz,Lz,zz]}},class extends at{static get pluginName(){return"Indent"}static get requires(){return[iF,rF]}},class extends at{static get requires(){return[jj,IF,OF]}static get pluginName(){return"Link"}},r6,class extends at{static get requires(){return[I_,g6,m6,Og]}static get pluginName(){return"MediaEmbed"}},ky,class extends at{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Ml]}init(){const r=this.editor,e=r.plugins.get("ClipboardPipeline"),t=r.editing.view.document,n=[],a=this.editor.plugins.has("MultiLevelList");n.push(new P6(t,a)),n.push(new z6(t)),n.push(new V6(t)),e.on("inputTransformation",(u,f)=>{if(f._isTransformedWithPasteFromOffice||r.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const b=f.dataTransfer.getData("text/html"),w=n.find(A=>A.isActive(b));w&&(f._parsedData||(f._parsedData=H6(b,t.stylesProcessor)),w.execute(f),f._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends at{static get requires(){return[vy,Oa]}static get pluginName(){return"PictureEditing"}afterInit(){const r=this.editor;r.plugins.has("ImageBlockEditing")&&r.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),r.plugins.has("ImageInlineEditing")&&r.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const r=this.editor,e=r.conversion,t=r.plugins.get("ImageUtils");e.for("upcast").add(function(n){const a=["srcset","media","type","sizes"],u=(f,b,w)=>{const A=b.viewItem;if(!w.consumable.test(A,{name:!0}))return;const E=new Map;for(const U of A.getChildren())if(U.is("element","source")){const W={};for(const X of a)U.hasAttribute(X)&&w.consumable.test(U,{attributes:X})&&(W[X]=U.getAttribute(X));Object.keys(W).length&&E.set(U,W)}const O=n.findViewImgElement(A);if(!O)return;let z=b.modelCursor.parent;if(!z.is("element","imageBlock")){const U=w.convertItem(O,b.modelCursor);b.modelRange=U.modelRange,b.modelCursor=U.modelCursor,z=qn(U.modelRange.getItems())}w.consumable.consume(A,{name:!0});for(const[U,W]of E)w.consumable.consume(U,{attributes:Object.keys(W)});E.size&&w.writer.setAttribute("sources",Array.from(E.values()),z),w.convertChildren(A,z)};return f=>{f.on("element:picture",u)}}(t)),e.for("downcast").add(function(n){const a=(u,f,b)=>{if(!b.consumable.consume(f.item,u.name))return;const w=b.writer,A=b.mapper.toViewElement(f.item),E=n.findViewImgElement(A),O=f.attributeNewValue;if(O&&O.length){const z=w.createContainerElement("picture",null,O.map(X=>w.createEmptyElement("source",X))),U=[];let W=E.parent;for(;W&&W.is("attributeElement");){const X=W.parent;w.unwrap(w.createRangeOn(E),W),U.unshift(W),W=X}w.insert(w.createPositionBefore(E),z),w.move(w.createRangeOn(E),w.createPositionAt(z,"end"));for(const X of U)w.wrap(w.createRangeOn(z),X)}else if(E.parent.is("element","picture")){const z=E.parent;w.move(w.createRangeOn(E),w.createPositionBefore(z)),w.remove(z)}};return u=>{u.on("attribute:sources:imageBlock",a),u.on("attribute:sources:imageInline",a)}}(t))}_setupImageUploadEditingIntegration(){const r=this.editor;if(!r.plugins.has("ImageUploadEditing"))return;const e=r.plugins.get("ImageUploadEditing");this.listenTo(e,"uploadComplete",(t,{imageElement:n,data:a})=>{const u=a.sources;u&&r.model.change(f=>{f.setAttributes({sources:u},n)})})}},class extends at{static get requires(){return[m8,p8,bm,w8,_8,k8,Og]}static get pluginName(){return"Table"}},class extends at{static get requires(){return[b_]}static get pluginName(){return"TableToolbar"}afterInit(){const r=this.editor,e=r.t,t=r.plugins.get(b_),n=r.config.get("table.contentToolbar"),a=r.config.get("table.tableToolbar");n&&t.register("tableContent",{ariaLabel:e("Table toolbar"),items:n,getRelatedElement:C8}),a&&t.register("table",{ariaLabel:e("Table toolbar"),items:a,getRelatedElement:x8})}},class extends at{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(r){super(r),r.config.define("typing",{transformations:{include:yR}})}init(){const r=this.editor.model.document.selection;r.on("change:range",()=>{this.isEnabled=!r.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const r=this.editor,e=r.model,t=r.plugins.get("Delete"),n=function(u){const f=u.extra||[],b=u.remove||[],w=A=>!b.includes(A);return function(A){const E=new Set;for(const O of A)if(typeof O=="string"&&iE[O])for(const z of iE[O])E.add(z);else E.add(O);return Array.from(E)}(u.include.concat(f).filter(w)).filter(w).map(A=>typeof A=="string"&&nE[A]?nE[A]:A).filter(A=>typeof A=="object").map(A=>({from:xR(A.from),to:CR(A.to)}))}(r.config.get("typing.transformations")),a=new JN(r.model,u=>{for(const f of n)if(f.from.test(u))return{normalizedTransformation:f}});a.on("matched:data",(u,f)=>{if(!f.batch.isTyping)return;const{from:b,to:w}=f.normalizedTransformation,A=b.exec(f.text),E=w(A.slice(1)),O=f.range;let z=A.index;e.enqueueChange(U=>{for(let W=1;W<A.length;W++){const X=A[W],ae=E[W-1];if(ae==null){z+=X.length;continue}const ge=O.start.getShiftedBy(z),De=e.createRange(ge,ge.getShiftedBy(X.length)),Ze=AR(ge);e.insertContent(U.createText(ae,Ze),De),z+=ae.length}e.enqueueChange(()=>{t.requestUndoOnBackspace()})})}),a.bind("isEnabled").to(this)}}],Yy.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),g=g.default})())}(ab,ab.exports)),ab.exports}var wX=vX();const yX=Rm(wX);function kw({value:l,onChange:c,placeholder:s}){return i.jsx(YL,{editor:yX,data:l,config:{placeholder:s||"Nhập nội dung..."},onChange:(o,h)=>{const g=h.getData();c(g)}})}function xX(){const{user:l}=I.useContext(cs),[c,s]=I.useState([]),[o,h]=I.useState(""),[g,_]=I.useState(""),[y,v]=I.useState(null),[N,S]=I.useState(null),[D,j]=I.useState(""),[B,F]=I.useState(!1),[H,$]=I.useState(""),[K,Q]=I.useState(!1),[ee,ne]=I.useState(null),[ce,se]=I.useState([]),[q,ue]=I.useState(null),[oe,be]=I.useState(!1),[pe,we]=I.useState(null),[je,ye]=I.useState(""),[Me,le]=I.useState(null);I.useEffect(()=>{_e(),me()},[]);const _e=async()=>{const Ie=await kt.get("http://localhost:3000/api/articles");s(Ie.data)},me=async()=>{try{console.log("Admin fetching reports with token:",l==null?void 0:l.token);const Ie=await kt.get("http://localhost:3000/api/article-reports",{headers:{Authorization:`Bearer ${l==null?void 0:l.token}`}});se(Ie.data)}catch{se([])}},Ee=async()=>{if(!l||!l.id){$("Bạn cần đăng nhập để tạo bài viết."),F(!0);return}let Ie="";if(y){const rt=new FormData;rt.append("file",y),Ie=(await kt.post("http://localhost:3000/api/upload",rt,{headers:{"Content-Type":"multipart/form-data"}})).data.url}await kt.post("http://localhost:3000/api/articles",{title:o,content:g,image_url:Ie,admin_id:l.id}),_e(),Ke()},Z=Ie=>{S(Ie.article_id),h(Ie.title),_(Ie.content),j(Ie.image_url),v(null),window.scrollTo({top:0,behavior:"smooth"})},fe=async()=>{let Ie=D;if(y){const rt=new FormData;rt.append("file",y),Ie=(await kt.post("http://localhost:3000/api/upload",rt,{headers:{"Content-Type":"multipart/form-data"}})).data.url}await kt.put(`http://localhost:3000/api/articles/${N}`,{title:o,content:g,image_url:Ie}),_e(),S(null),Ke()},ke=async Ie=>{ne(Ie),Q(!0)},Be=async()=>{if(ee)try{await kt.delete(`http://localhost:3000/api/articles/${ee}`),_e(),Q(!1),ne(null)}catch(Ie){console.error("Error deleting article:",Ie)}},Ve=()=>{Q(!1),ne(null)},nt=async(Ie,rt)=>{try{console.log("Admin updating report with token:",l==null?void 0:l.token,"role:",l==null?void 0:l.role),await kt.patch(`http://localhost:3000/api/article-reports/${Ie}`,{status:rt},{headers:{Authorization:`Bearer ${l==null?void 0:l.token}`}}),ue("success"),me()}catch{ue("error")}},te=async Ie=>{if(window.confirm("Bạn có chắc chắn muốn xóa bài viết này? Hành động này không thể hoàn tác."))try{await kt.delete(`http://localhost:3000/api/articles/${Ie}`,{headers:{Authorization:`Bearer ${l==null?void 0:l.token}`}}),_e(),me(),ue("success")}catch{ue("error")}},Ce=Ie=>{we(Ie),ye(""),le(null),be(!0)},qe=async()=>{if(pe)try{const Ie=ce.find(Ye=>c.find(Te=>Te.article_id===Ye.article_id&&Te.admin_id===pe)),rt=Ie?Ie.article_id:null;await kt.post("http://localhost:3000/api/notifications",{user_id:pe,content:je||"Bài viết của bạn đã bị báo cáo. Vui lòng kiểm tra lại nội dung.",type:"warning",article_id:rt},{headers:{Authorization:`Bearer ${l==null?void 0:l.token}`}}),le("success"),setTimeout(()=>be(!1),1200)}catch{le("error")}},Ke=()=>{h(""),_(""),v(null),j("")};return i.jsxs("div",{className:"admin-layout",children:[i.jsx(_d,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(vd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[B&&i.jsxs("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-circle-fill me-2"}),H,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>F(!1)})]}),i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:N?"Chỉnh sửa Bài viết":"Tạo Bài viết Mới"})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tiêu đề *"}),i.jsx("input",{type:"text",className:"form-control",value:o,onChange:Ie=>h(Ie.target.value),placeholder:"Nhập tiêu đề bài viết"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Nội dung"}),i.jsx(kw,{value:g,onChange:_,placeholder:"Nhập nội dung bài viết"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Hình ảnh"}),i.jsx("input",{type:"file",accept:"image/*",onChange:Ie=>v(Ie.target.files[0]),className:"form-control"}),D&&!y&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:D.startsWith("http")?D:`http://localhost:3000${D}`,alt:"Ảnh hiện tại",style:{maxWidth:"200px",maxHeight:"150px",objectFit:"cover",borderRadius:"8px",border:"1px solid #ddd"}})})]}),i.jsx("div",{className:"d-flex gap-2",children:N?i.jsxs(i.Fragment,{children:[i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:fe,children:"Cập nhật Bài viết"}),i.jsx(Ut,{variant:"secondary",onClick:()=>{S(null),Ke()},children:"Hủy"})]}):i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:Ee,children:"Tạo Bài viết"})})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Tất cả Bài viết"})}),i.jsx("div",{className:"card-body",children:i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-striped",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Tiêu đề"}),i.jsx("th",{children:"Nội dung"}),i.jsx("th",{children:"Hình ảnh"}),i.jsx("th",{children:"Thao tác"})]})}),i.jsx("tbody",{children:c.map(Ie=>i.jsxs("tr",{children:[i.jsx("td",{children:Ie.article_id}),i.jsx("td",{children:Ie.title}),i.jsx("td",{children:i.jsx("div",{style:{maxHeight:"60px",overflow:"hidden",fontSize:"0.9rem"},dangerouslySetInnerHTML:{__html:Ie.content?Ie.content.length>60?Ie.content.substring(0,60)+"...":Ie.content:""}})}),i.jsx("td",{children:Ie.image_url?i.jsx("img",{src:Ie.image_url.startsWith("http")?Ie.image_url:`http://localhost:3000${Ie.image_url}`,alt:"Ảnh bài viết",style:{width:"80px",height:"60px",objectFit:"cover",borderRadius:"4px"}}):i.jsx("div",{style:{width:"80px",height:"60px",backgroundColor:"#e9ecef",display:"flex",alignItems:"center",justifyContent:"center",color:"#6c757d",borderRadius:"4px"},children:i.jsx("i",{className:"bi bi-image"})})}),i.jsx("td",{children:i.jsxs("div",{className:"btn-group",role:"group",children:[i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>Z(Ie),children:"Sửa"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>ke(Ie.article_id),children:"Xóa"})]})})]},Ie.article_id))})]})})})]}),i.jsxs("div",{className:"card mt-5",children:[i.jsxs("div",{className:"card-header bg-danger text-white d-flex align-items-center",style:{borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem"},children:[i.jsx("i",{className:"bi bi-flag-fill me-2",style:{fontSize:22}}),i.jsx("h5",{className:"mb-0",children:"Báo cáo bài viết"})]}),i.jsxs("div",{className:"card-body bg-light",style:{borderBottomLeftRadius:"1rem",borderBottomRightRadius:"1rem"},children:[q==="success"&&i.jsx("div",{className:"alert alert-success",children:"Cập nhật trạng thái thành công!"}),q==="error"&&i.jsx("div",{className:"alert alert-danger",children:"Có lỗi khi cập nhật trạng thái."}),i.jsxs("div",{className:"row mb-4 g-4",children:[ce.filter(Ie=>Ie.status==="pending").filter(Ie=>c.some(rt=>rt.article_id===Ie.article_id)).map(Ie=>{const rt=c.find(Ye=>Ye.article_id===Ie.article_id);return i.jsx("div",{className:"col-md-6 col-lg-4",children:i.jsx("div",{className:"card h-100 shadow border-0 report-card position-relative",style:{borderRadius:"1rem",transition:"box-shadow 0.2s",background:"#fff"},children:i.jsxs("div",{className:"card-body p-4",children:[i.jsxs("div",{className:"d-flex align-items-center mb-2",children:[i.jsx("i",{className:"bi bi-flag text-danger me-2",style:{fontSize:20}}),i.jsxs("h6",{className:"card-title mb-0",children:["Báo cáo #",Ie.id]}),i.jsx("span",{className:"badge bg-warning text-dark ms-2",style:{fontSize:"0.95em"},children:Ie.status})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Bài viết:"})," ",i.jsx("a",{href:`/articles/${Ie.article_id}`,target:"_blank",rel:"noopener noreferrer",className:"text-decoration-underline fw-semibold",children:(rt==null?void 0:rt.title)||"Không tìm thấy"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Người báo cáo:"})," ",i.jsxs("span",{className:"badge bg-secondary",children:["User #",Ie.user_id]})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Loại báo cáo:"})," ",i.jsx("span",{className:"badge bg-info text-dark text-capitalize",children:Ie.type||"Không rõ"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Lý do:"})," ",i.jsx("span",{className:"fst-italic",children:Ie.reason})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Ngày tạo:"})," ",new Date(Ie.created_at).toLocaleString()]}),i.jsxs("div",{className:"d-flex gap-2 mt-3 flex-wrap",children:[i.jsxs("button",{className:"btn btn-success btn-sm px-3",onClick:()=>nt(Ie.id,"resolved"),title:"Đánh dấu đã xử lý",children:[i.jsx("i",{className:"bi bi-check-circle me-1"}),"Đã xử lý"]}),i.jsxs("button",{className:"btn btn-secondary btn-sm px-3",onClick:()=>nt(Ie.id,"dismissed"),title:"Bỏ qua báo cáo",children:[i.jsx("i",{className:"bi bi-x-circle me-1"}),"Bỏ qua"]}),i.jsxs("button",{className:"btn btn-danger btn-sm px-3",onClick:()=>te(Ie.article_id),title:"Xóa bài viết này",children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xóa bài viết"]}),(rt==null?void 0:rt.admin_id)&&i.jsxs("button",{className:"btn btn-warning btn-sm px-3 text-white",style:{background:"#ffc107",border:"none"},onClick:()=>Ce(rt.admin_id),title:"Cảnh báo tác giả",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-1"}),"Cảnh báo tác giả"]})]})]})})},Ie.id)}),ce.filter(Ie=>Ie.status==="pending").filter(Ie=>c.some(rt=>rt.article_id===Ie.article_id)).length===0&&i.jsx("div",{className:"col-12 text-center text-muted",children:"Không có báo cáo nào."})]}),i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-bordered",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Bài viết"}),i.jsx("th",{children:"Người báo cáo"}),i.jsx("th",{children:"Lý do"}),i.jsx("th",{children:"Trạng thái"}),i.jsx("th",{children:"Ngày tạo"}),i.jsx("th",{children:"Hành động"})]})}),i.jsxs("tbody",{children:[ce.filter(Ie=>Ie.status==="pending").filter(Ie=>c.some(rt=>rt.article_id===Ie.article_id)).length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:"7",className:"text-center",children:"Không có báo cáo nào."})}),ce.filter(Ie=>Ie.status==="pending").filter(Ie=>c.some(rt=>rt.article_id===Ie.article_id)).map(Ie=>i.jsxs("tr",{children:[i.jsx("td",{children:Ie.id}),i.jsx("td",{children:i.jsx("a",{href:`/articles/${Ie.article_id}`,target:"_blank",rel:"noopener noreferrer",children:"Xem bài viết"})}),i.jsx("td",{children:Ie.user_id}),i.jsx("td",{children:Ie.reason}),i.jsx("td",{children:Ie.status}),i.jsx("td",{children:new Date(Ie.created_at).toLocaleString()}),i.jsxs("td",{children:[i.jsx("button",{className:"btn btn-success btn-sm me-2",onClick:()=>nt(Ie.id,"resolved"),children:"Đã xử lý"}),i.jsx("button",{className:"btn btn-secondary btn-sm me-2",onClick:()=>nt(Ie.id,"dismissed"),children:"Bỏ qua"}),i.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>te(Ie.article_id),children:"Xóa bài viết"})]})]},Ie.id))]})]})})]})]})]})})]}),i.jsxs(yt,{show:K,onHide:Ve,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Xác nhận xóa"})}),i.jsx(yt.Body,{children:"Bạn có chắc chắn muốn xóa bài viết này? Hành động này không thể hoàn tác."}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:Ve,children:"Hủy"}),i.jsx(Ut,{variant:"danger",className:"admin-btn-danger",onClick:Be,children:"Xóa"})]})]}),i.jsxs(yt,{show:oe,onHide:()=>be(!1),centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Gửi cảnh báo tới tác giả"})}),i.jsxs(yt.Body,{children:[Me==="success"&&i.jsx("div",{className:"alert alert-success",children:"Đã gửi cảnh báo thành công!"}),Me==="error"&&i.jsx("div",{className:"alert alert-danger",children:"Có lỗi khi gửi cảnh báo."}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Nội dung cảnh báo"}),i.jsx("textarea",{className:"form-control",value:je,onChange:Ie=>ye(Ie.target.value),placeholder:"Nhập nội dung cảnh báo gửi tới tác giả...",rows:3})]})]}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:()=>be(!1),children:"Hủy"}),i.jsx(Ut,{variant:"warning",className:"text-white",onClick:qe,children:"Gửi cảnh báo"})]})]})]})}function CX(){const[l,c]=I.useState([]),[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(null),[v,N]=I.useState(""),[S,D]=I.useState("USER"),[j,B]=I.useState(""),[F,H]=I.useState(null),[$,K]=I.useState(!1),[Q,ee]=I.useState(!1),[ne,ce]=I.useState(""),[se,q]=I.useState("danger"),[ue,oe]=I.useState(!1),[be,pe]=I.useState(null);I.useEffect(()=>{we()},[]);const we=async()=>{const ke=await kt.get("http://localhost:3000/api/users");c(ke.data)},je=ke=>{const Be=ke.target.files[0];if(Be){y(Be);const Ve=new FileReader;Ve.onload=nt=>N(nt.target.result),Ve.readAsDataURL(Be)}},ye=async ke=>{const Be=new FormData;return Be.append("file",ke),(await kt.post("http://localhost:3000/api/upload",Be,{headers:{"Content-Type":"multipart/form-data"}})).data.url},Me=async()=>{K(!0);try{let ke="";_&&(ke=await ye(_)),await kt.post("http://localhost:3000/api/users",{full_name:s,email:h,image_url:ke,password:j,role:S}),we(),fe()}catch(ke){console.error("Error creating user:",ke),ce("Có lỗi xảy ra khi tạo người dùng"),q("danger"),ee(!0)}finally{K(!1)}},le=ke=>{H(ke.id),o(ke.full_name),g(ke.email),y(null),N(ke.image_url||""),D(ke.role),B(ke.password_hash),window.scrollTo({top:0,behavior:"smooth"})},_e=async()=>{K(!0);try{let ke=v;_&&(ke=await ye(_)),await kt.put(`http://localhost:3000/api/users/${F}`,{full_name:s,email:h,image_url:ke,password_hash:j||void 0,role:S}),we(),H(null),fe()}catch(ke){console.error("Error updating user:",ke),ce("Có lỗi xảy ra khi cập nhật người dùng"),q("danger"),ee(!0)}finally{K(!1)}},me=async ke=>{pe(ke),oe(!0)},Ee=async()=>{if(be)try{await kt.delete(`http://localhost:3000/api/users/${be}`),we(),oe(!1),pe(null)}catch(ke){console.error("Error deleting user:",ke),ce("Có lỗi xảy ra khi xóa người dùng"),q("danger"),ee(!0)}},Z=()=>{oe(!1),pe(null)},fe=()=>{H(null),o(""),g(""),y(null),N(""),B(""),D("USER")};return i.jsxs("div",{className:"admin-layout",children:[i.jsx(_d,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(vd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[Q&&i.jsxs("div",{className:`alert alert-${se} alert-dismissible fade show`,role:"alert",children:[i.jsx("i",{className:`bi ${se==="danger"?"bi-exclamation-triangle-fill":"bi-exclamation-circle-fill"} me-2`}),ne,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>ee(!1)})]}),i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:F?"Chỉnh sửa Người dùng":"Tạo Người dùng Mới"})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Họ và tên *"}),i.jsx("input",{type:"text",className:"form-control",value:s,onChange:ke=>o(ke.target.value),placeholder:"Nhập họ và tên"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Email *"}),i.jsx("input",{type:"email",className:"form-control",value:h,onChange:ke=>g(ke.target.value),placeholder:"Nhập email"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("label",{className:"form-label",children:["Mật khẩu ",!F&&"*"]}),i.jsx("input",{type:"password",className:"form-control",value:j,onChange:ke=>B(ke.target.value),placeholder:F?"Để trống nếu không thay đổi":"Nhập mật khẩu"})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Vai trò"}),i.jsxs("select",{className:"form-control",value:S,onChange:ke=>D(ke.target.value),children:[i.jsx("option",{value:"USER",children:"Người dùng"}),i.jsx("option",{value:"ADMIN",children:"Quản trị viên"}),i.jsx("option",{value:"MODERATOR",children:"Điều hành viên"})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Hình ảnh"}),i.jsx("input",{type:"file",accept:"image/*",onChange:je,className:"form-control"}),v&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:v.startsWith("data:")?v:`http://localhost:3000${v}`,alt:"Xem trước",style:{maxWidth:"200px",maxHeight:"150px",objectFit:"cover",borderRadius:"8px",border:"1px solid #ddd"}})})]})]})]}),i.jsx("div",{className:"d-flex gap-2",children:F?i.jsxs(i.Fragment,{children:[i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:_e,disabled:$,children:$?"Đang cập nhật...":"Cập nhật Người dùng"}),i.jsx(Ut,{variant:"secondary",onClick:fe,disabled:$,children:"Hủy"})]}):i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:Me,disabled:$,children:$?"Đang tạo...":"Tạo Người dùng"})})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Tất cả Người dùng"})}),i.jsx("div",{className:"card-body",children:i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-striped",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Hình ảnh"}),i.jsx("th",{children:"Họ và tên"}),i.jsx("th",{children:"Email"}),i.jsx("th",{children:"Vai trò"}),i.jsx("th",{children:"Ngày tạo"}),i.jsx("th",{children:"Thao tác"})]})}),i.jsx("tbody",{children:l.map(ke=>i.jsxs("tr",{children:[i.jsx("td",{children:ke.id}),i.jsx("td",{children:ke.image_url?i.jsx("img",{src:`http://localhost:3000${ke.image_url}`,alt:ke.full_name,style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"50%"}}):i.jsx("div",{style:{width:"50px",height:"50px",backgroundColor:"#e9ecef",display:"flex",alignItems:"center",justifyContent:"center",color:"#6c757d",borderRadius:"50%"},children:i.jsx("i",{className:"bi bi-person"})})}),i.jsx("td",{children:ke.full_name}),i.jsx("td",{children:ke.email}),i.jsx("td",{children:i.jsx("span",{className:`badge ${ke.role==="ADMIN"?"bg-danger":ke.role==="MODERATOR"?"bg-warning":"bg-primary"}`,children:ke.role==="ADMIN"?"Quản trị viên":ke.role==="MODERATOR"?"Điều hành viên":"Người dùng"})}),i.jsx("td",{children:ke.created_at?new Date(ke.created_at).toLocaleDateString("vi-VN"):"N/A"}),i.jsx("td",{children:i.jsxs("div",{className:"btn-group",role:"group",children:[i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>le(ke),children:"Sửa"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>me(ke.id),children:"Xóa"})]})})]},ke.id))})]})})})]})]})})]}),i.jsxs(yt,{show:ue,onHide:Z,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Xác nhận xóa"})}),i.jsx(yt.Body,{children:"Bạn có chắc chắn muốn xóa người dùng này? Hành động này không thể hoàn tác."}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:Z,children:"Hủy"}),i.jsx(Ut,{variant:"danger",className:"admin-btn-danger",onClick:Ee,children:"Xóa"})]})]})]})}const KL=()=>Ft.get("/tags"),AX=l=>Ft.post("/tags",l),NX=(l,c)=>Ft.put(`/tags/${l}`,c),EX=l=>Ft.delete(`/tags/${l}`),SX=()=>Ft.get("/place-tags"),HC=l=>Ft.post("/place-tags",l),y3=l=>Ft.delete(`/place-tags/${l}`);var UC,x3;function jX(){if(x3)return UC;x3=1;var l="Expected a function",c=NaN,s="[object Symbol]",o=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,_=/^0o[0-7]+$/i,y=parseInt,v=typeof Rl=="object"&&Rl&&Rl.Object===Object&&Rl,N=typeof self=="object"&&self&&self.Object===Object&&self,S=v||N||Function("return this")(),D=Object.prototype,j=D.toString,B=Math.max,F=Math.min,H=function(){return S.Date.now()};function $(ce,se,q){var ue,oe,be,pe,we,je,ye=0,Me=!1,le=!1,_e=!0;if(typeof ce!="function")throw new TypeError(l);se=ne(se)||0,K(q)&&(Me=!!q.leading,le="maxWait"in q,be=le?B(ne(q.maxWait)||0,se):be,_e="trailing"in q?!!q.trailing:_e);function me(Ce){var qe=ue,Ke=oe;return ue=oe=void 0,ye=Ce,pe=ce.apply(Ke,qe),pe}function Ee(Ce){return ye=Ce,we=setTimeout(ke,se),Me?me(Ce):pe}function Z(Ce){var qe=Ce-je,Ke=Ce-ye,Ie=se-qe;return le?F(Ie,be-Ke):Ie}function fe(Ce){var qe=Ce-je,Ke=Ce-ye;return je===void 0||qe>=se||qe<0||le&&Ke>=be}function ke(){var Ce=H();if(fe(Ce))return Be(Ce);we=setTimeout(ke,Z(Ce))}function Be(Ce){return we=void 0,_e&&ue?me(Ce):(ue=oe=void 0,pe)}function Ve(){we!==void 0&&clearTimeout(we),ye=0,ue=je=oe=we=void 0}function nt(){return we===void 0?pe:Be(H())}function te(){var Ce=H(),qe=fe(Ce);if(ue=arguments,oe=this,je=Ce,qe){if(we===void 0)return Ee(je);if(le)return we=setTimeout(ke,se),me(je)}return we===void 0&&(we=setTimeout(ke,se)),pe}return te.cancel=Ve,te.flush=nt,te}function K(ce){var se=typeof ce;return!!ce&&(se=="object"||se=="function")}function Q(ce){return!!ce&&typeof ce=="object"}function ee(ce){return typeof ce=="symbol"||Q(ce)&&j.call(ce)==s}function ne(ce){if(typeof ce=="number")return ce;if(ee(ce))return c;if(K(ce)){var se=typeof ce.valueOf=="function"?ce.valueOf():ce;ce=K(se)?se+"":se}if(typeof ce!="string")return ce===0?ce:+ce;ce=ce.replace(o,"");var q=g.test(ce);return q||_.test(ce)?y(ce.slice(2),q?2:8):h.test(ce)?c:+ce}return UC=$,UC}jX();function DX(){const[l,c]=I.useState([]),[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(null),[S,D]=I.useState(""),[j,B]=I.useState(""),[F,H]=I.useState(""),[$,K]=I.useState(""),[Q,ee]=I.useState(null),[ne,ce]=I.useState([]),[se,q]=I.useState([]),[ue,oe]=I.useState([]),[be,pe]=I.useState(!1),[we,je]=I.useState(null),[ye,Me]=I.useState([]),[le,_e]=I.useState([]),[me,Ee]=I.useState(!1),[Z,fe]=I.useState(!1),[ke,Be]=I.useState(null),[Ve,nt]=I.useState(!1);I.useEffect(()=>{te(),Ce(),qe()},[]);const te=async()=>{const $e=await kt.get("http://localhost:3000/api/places");c($e.data)},Ce=async()=>{const $e=await KL();ce($e.data)},qe=async()=>{const $e=await SX();q($e.data)},Ke=$e=>$e?$e.startsWith("http")?$e:`http://localhost:3000${$e}`:null,Ie=async $e=>{if($e.length<3){_e([]),Ee(!1);return}try{let bt=$e;S&&S.trim()&&(bt=`${$e}, ${S}`);const $t=await kt.get(`http://localhost:3000/api/geocoding/search?q=${encodeURIComponent(bt)}&limit=5&addressdetails=1`);_e($t.data),Ee(!0)}catch(bt){console.error("Error fetching address suggestions:",bt)}},rt=$e=>{B($e),Ie($e)},Ye=$e=>{var bt,$t,mn;B($e.display_name),D(((bt=$e.address)==null?void 0:bt.city)||(($t=$e.address)==null?void 0:$t.town)||((mn=$e.address)==null?void 0:mn.state)||""),Ee(!1),_e([])},Te=async $e=>{nt(!0);try{const bt=await kt.get(`http://localhost:3000/api/geocoding/coordinates?q=${encodeURIComponent($e)}&limit=1`);return bt.data.success&&bt.data.data?{latitude:bt.data.data.latitude,longitude:bt.data.data.longitude}:null}catch(bt){return console.error("Error getting coordinates:",bt),null}finally{nt(!1)}},ht=async()=>{try{const $e=await Te(j);if(!$e){alert("Không thể tìm thấy tọa độ cho địa chỉ này. Vui lòng kiểm tra lại địa chỉ.");return}let bt=_;if(v){const mn=new FormData;mn.append("file",v),bt=(await kt.post("http://localhost:3000/api/upload",mn,{headers:{"Content-Type":"multipart/form-data"}})).data.url}const $t=await kt.post("http://localhost:3000/api/places",{name:s,description:h,latitude:$e.latitude,longitude:$e.longitude,image_url:bt,city:S,address:j,opening_hours:F,service:$});if(ue.length>0)for(const mn of ue)await HC({place_id:$t.data.id,tag_id:mn});te(),qe(),jt()}catch($e){console.error("Error creating place:",$e),alert("Lỗi khi tạo địa điểm. Vui lòng thử lại.")}},ze=$e=>{ee($e.id),o($e.name),g($e.description),y($e.image_url),D($e.city||""),B($e.address||""),H($e.opening_hours||""),K($e.service||"");const bt=Dt($e.id).map($t=>$t.id);oe(bt),window.scrollTo({top:0,behavior:"smooth"})},ut=async()=>{try{const $e=await Te(j);if(!$e){alert("Không thể tìm thấy tọa độ cho địa chỉ này. Vui lòng kiểm tra lại địa chỉ.");return}let bt=_;if(v){const yn=new FormData;yn.append("file",v),bt=(await kt.post("http://localhost:3000/api/upload",yn,{headers:{"Content-Type":"multipart/form-data"}})).data.url}await kt.put(`http://localhost:3000/api/places/${Q}`,{name:s,description:h,latitude:$e.latitude,longitude:$e.longitude,image_url:bt,city:S,address:j,opening_hours:F,service:$});const $t=Dt(Q).map(yn=>yn.id),mn=ue.filter(yn=>!$t.includes(yn)),Rn=$t.filter(yn=>!ue.includes(yn));for(const yn of mn)await HC({place_id:Q,tag_id:yn});for(const yn of Rn){const ai=se.find(br=>br.place_id===Q&&br.tag_id===yn);ai&&await y3(ai.id)}te(),qe(),ee(null),jt()}catch($e){console.error("Error updating place:",$e),alert("Lỗi khi cập nhật địa điểm. Vui lòng thử lại.")}},Rt=async $e=>{Be($e),fe(!0)},Jt=async()=>{if(ke)try{await kt.delete(`http://localhost:3000/api/places/${ke}`),te(),fe(!1),Be(null)}catch($e){console.error("Error deleting place:",$e)}},ot=()=>{fe(!1),Be(null)},jt=()=>{o(""),g(""),y(""),N(null),D(""),B(""),H(""),K(""),oe([]),_e([]),Ee(!1)},Dt=$e=>{const bt=se.filter($t=>$t.place_id===$e).map($t=>$t.tag_id);return ne.filter($t=>bt.includes($t.id))},Qe=$e=>{je($e),Me(Dt($e.id).map(bt=>bt.id)),pe(!0)},Mt=()=>{pe(!1),je(null),Me([])},Lt=async()=>{if(!we)return;const $e=Dt(we.id).map(mn=>mn.id),bt=ye.filter(mn=>!$e.includes(mn)),$t=$e.filter(mn=>!ye.includes(mn));for(const mn of bt)await HC({place_id:we.id,tag_id:mn});for(const mn of $t){const Rn=se.find(yn=>yn.place_id===we.id&&yn.tag_id===mn);Rn&&await y3(Rn.id)}qe(),Mt()};return i.jsxs("div",{className:"admin-layout",children:[i.jsx(_d,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(vd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:Q?"Chỉnh sửa Địa điểm":"Tạo Địa điểm Mới"})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tên địa điểm *"}),i.jsx("input",{type:"text",className:"form-control",value:s,onChange:$e=>o($e.target.value),placeholder:"Nhập tên địa điểm"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mô tả"}),i.jsx(kw,{value:h,onChange:g,placeholder:"Mô tả địa điểm"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Thành phố"}),i.jsx(Eb,{value:S,onChange:D,placeholder:"Chọn thành phố"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Địa chỉ *"}),i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"text",className:"form-control",value:j,onChange:$e=>rt($e.target.value),placeholder:S?`Nhập địa chỉ trong ${S}...`:"Nhập địa chỉ để tìm kiếm...",autoComplete:"off"}),Ve&&i.jsx("div",{className:"position-absolute top-50 end-0 translate-middle-y me-2",children:i.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),me&&le.length>0&&i.jsx("div",{className:"position-absolute w-100 bg-white border rounded shadow-sm",style:{zIndex:1e3,top:"100%"},children:le.map(($e,bt)=>i.jsxs("div",{className:"p-2 border-bottom suggestion-item",style:{cursor:"pointer"},onClick:()=>Ye($e),onMouseEnter:$t=>$t.target.style.backgroundColor="#f8f9fa",onMouseLeave:$t=>$t.target.style.backgroundColor="white",children:[i.jsx("div",{className:"fw-semibold",children:$e.display_name.split(",")[0]}),i.jsx("div",{className:"small text-muted",children:$e.display_name})]},bt))})]})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Giờ mở cửa"}),i.jsx("textarea",{className:"form-control",rows:"3",value:F,onChange:$e=>H($e.target.value),placeholder:"VD: Thứ 2 - Thứ 6: 8:00 - 18:00"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Dịch vụ"}),i.jsx("textarea",{className:"form-control",rows:"3",value:$,onChange:$e=>K($e.target.value),placeholder:"Mô tả các dịch vụ có sẵn"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Link ảnh"}),i.jsx("input",{type:"url",className:"form-control",value:_,onChange:$e=>y($e.target.value),placeholder:"https://example.com/image.jpg"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Hoặc tải ảnh lên"}),i.jsx("input",{type:"file",accept:"image/*",onChange:$e=>N($e.target.files[0]),className:"form-control"})]}),Q&&_&&i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Ảnh hiện tại:"}),i.jsx("div",{className:"border rounded p-2",children:i.jsx("img",{src:Ke(_),alt:"Current image",style:{maxWidth:"200px",maxHeight:"150px",objectFit:"cover"},className:"img-thumbnail"})})]})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label fw-bold",children:"Thẻ địa điểm:"}),i.jsx("div",{className:"row",children:ne.map($e=>i.jsx("div",{className:"col-md-3 col-sm-6 mb-2",children:i.jsxs("div",{className:"form-check",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:`tag-${$e.id}`,checked:ue.includes($e.id),onChange:bt=>{bt.target.checked?oe([...ue,$e.id]):oe(ue.filter($t=>$t!==$e.id))}}),i.jsx("label",{className:"form-check-label",htmlFor:`tag-${$e.id}`,children:$e.name})]})},$e.id))})]}),i.jsx("div",{className:"d-flex gap-2",children:Q?i.jsxs(i.Fragment,{children:[i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:ut,children:"Cập nhật Địa điểm"}),i.jsx(Ut,{variant:"secondary",onClick:()=>{ee(null),jt()},children:"Hủy"})]}):i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:ht,children:"Tạo Địa điểm"})})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Tất cả Địa điểm"})}),i.jsx("div",{className:"card-body",children:i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-striped",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Hình ảnh"}),i.jsx("th",{children:"Tên"}),i.jsx("th",{children:"Thành phố"}),i.jsx("th",{children:"Địa chỉ"}),i.jsx("th",{children:"Thẻ"}),i.jsx("th",{children:"Thao tác"})]})}),i.jsx("tbody",{children:l.map($e=>i.jsxs("tr",{children:[i.jsx("td",{children:$e.id}),i.jsx("td",{children:$e.image_url?i.jsx("img",{src:Ke($e.image_url),alt:$e.name,style:{width:"50px",height:"50px",objectFit:"cover"}}):i.jsx("div",{style:{width:"50px",height:"50px",backgroundColor:"#f8f9fa",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx("i",{className:"bi bi-geo-alt"})})}),i.jsx("td",{children:$e.name}),i.jsx("td",{children:$e.city}),i.jsx("td",{children:i.jsx("div",{style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:$e.address})}),i.jsx("td",{children:i.jsx("div",{className:"d-flex flex-wrap gap-1",children:Dt($e.id).map(bt=>i.jsx("span",{className:"badge bg-primary",children:bt.name},bt.id))})}),i.jsx("td",{children:i.jsxs("div",{className:"btn-group",role:"group",children:[i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>ze($e),children:"Sửa"}),i.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:()=>Qe($e),children:"Thẻ"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>Rt($e.id),children:"Xóa"})]})})]},$e.id))})]})})})]})]})})]}),i.jsxs(yt,{show:Z,onHide:ot,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Xác nhận xóa"})}),i.jsx(yt.Body,{children:"Bạn có chắc chắn muốn xóa địa điểm này? Hành động này không thể hoàn tác."}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:ot,children:"Hủy"}),i.jsx(Ut,{variant:"danger",className:"admin-btn-danger",onClick:Jt,children:"Xóa"})]})]}),i.jsxs(yt,{show:be,onHide:Mt,size:"lg",children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsxs(yt.Title,{children:["Quản lý thẻ cho: ",we==null?void 0:we.name]})}),i.jsx(yt.Body,{children:i.jsx("div",{className:"row",children:ne.map($e=>i.jsx("div",{className:"col-md-4 mb-2",children:i.jsxs("div",{className:"form-check",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:`modal-tag-${$e.id}`,checked:ye.includes($e.id),onChange:bt=>{bt.target.checked?Me([...ye,$e.id]):Me(ye.filter($t=>$t!==$e.id))}}),i.jsx("label",{className:"form-check-label",htmlFor:`modal-tag-${$e.id}`,children:$e.name})]})},$e.id))})}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:Mt,children:"Hủy"}),i.jsx(Ut,{variant:"primary",onClick:Lt,children:"Lưu thay đổi"})]})]})]})}const TX="https://walkingguide.onrender.com";function MX(){const[l,c]=I.useState([]),[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(""),[S,D]=I.useState(""),[j,B]=I.useState(""),[F,H]=I.useState(""),[$,K]=I.useState(""),[Q,ee]=I.useState(""),[ne,ce]=I.useState(""),[se,q]=I.useState(""),[ue,oe]=I.useState(""),[be,pe]=I.useState([]),[we,je]=I.useState([]),[ye,Me]=I.useState(""),[le,_e]=I.useState(""),[me,Ee]=I.useState("15:00"),[Z,fe]=I.useState("11:00"),[ke,Be]=I.useState(0),[Ve,nt]=I.useState([]),[te,Ce]=I.useState([]),[qe,Ke]=I.useState(null),[Ie,rt]=I.useState(!1),[Ye,Te]=I.useState(null),[ht,ze]=I.useState([]),[ut,Rt]=I.useState(!1),[Jt,ot]=I.useState(!1),[jt,Dt]=I.useState(!1),[Qe,Mt]=I.useState(null),[Lt,$e]=I.useState({}),[bt,$t]=I.useState(!1),[mn,Rn]=I.useState(null);I.useEffect(()=>{yn()},[]);const yn=async()=>{try{const Se=await Ft.get("/hotels");c(Se.data.data||Se.data)}catch(Se){console.error("Error fetching hotels:",Se)}},ai=Se=>Se?Se.startsWith("http")?Se:`${TX}${Se}`:null,br=async Se=>{if(Se.length<3){ze([]),Rt(!1);return}try{let Et=Se;_&&_.trim()&&(Et=`${Se}, ${_}`);const Tt=await Ft.get(`/geocoding/search?q=${encodeURIComponent(Et)}&limit=5&addressdetails=1`);ze(Tt.data),Rt(!0)}catch(Et){console.error("Error fetching address suggestions:",Et)}},Ar=Se=>{N(Se),br(Se)},er=Se=>{var Et,Tt,vn;N(Se.display_name),y(((Et=Se.address)==null?void 0:Et.city)||((Tt=Se.address)==null?void 0:Tt.town)||((vn=Se.address)==null?void 0:vn.state)||""),Rt(!1),ze([])},Ii=Se=>{y(Se),v&&v.trim()&&br(v)},ii=Se=>{const Tt=Array.from(Se.target.files).filter(fn=>{const Pn=fn.type.startsWith("image/"),an=fn.size<=5*1024*1024;return Pn?an?!0:(alert(`File ${fn.name} quá lớn (tối đa 5MB)`),!1):(alert(`File ${fn.name} không phải là hình ảnh hợp lệ`),!1)});if(Tt.length===0)return;Ce(fn=>[...fn,...Tt]);const vn=Tt.map((fn,Pn)=>({id:`new-${Date.now()}-${Pn}`,image_url:URL.createObjectURL(fn),caption:"",is_primary:Ve.length===0&&Pn===0,sort_order:Ve.length+Pn,file:fn}));nt(fn=>[...fn,...vn])},Jn=Se=>{nt(Ve.filter((Et,Tt)=>Tt!==Se)),Ce(te.filter((Et,Tt)=>Tt!==Se))},Br=(Se,Et)=>{const Tt=[...Ve];Tt[Se].caption=Et,nt(Tt)},fi=Se=>{const Et=Ve.map((Tt,vn)=>({...Tt,is_primary:vn===Se}));nt(Et)},or=(Se,Et)=>{Rn(Et),Se.dataTransfer.effectAllowed="move"},kr=Se=>{Se.preventDefault(),Se.dataTransfer.dropEffect="move"},tr=(Se,Et)=>{if(Se.preventDefault(),mn===null||mn===Et)return;const Tt=[...Ve],vn=Tt[mn];Tt.splice(mn,1),Tt.splice(Et,0,vn),Tt.forEach((fn,Pn)=>{fn.sort_order=Pn,fn.is_primary=Pn===0}),nt(Tt),Rn(null)},Ue=()=>{Rn(null)},qt=()=>{if(ye.trim()&&!be.includes(ye.trim())){const Se=[...be,ye.trim()];pe(Se),q(JSON.stringify(Se)),Me("")}},lt=Se=>{const Et=be.filter((Tt,vn)=>vn!==Se);pe(Et),q(JSON.stringify(Et))},on=()=>{if(le.trim()&&!we.includes(le.trim())){const Se=[...we,le.trim()];je(Se),oe(JSON.stringify(Se)),_e("")}},Re=Se=>{const Et=we.filter((Tt,vn)=>vn!==Se);je(Et),oe(JSON.stringify(Et))},Ot=Se=>{Se.key==="Enter"&&(Se.preventDefault(),qt())},pt=Se=>{Se.key==="Enter"&&(Se.preventDefault(),on())},Bt=async Se=>{ot(!0);try{const Et=await Ft.get(`/geocoding/coordinates?q=${encodeURIComponent(Se)}&limit=1`);return Et.data.success&&Et.data.data?{latitude:Et.data.data.latitude,longitude:Et.data.data.longitude}:null}catch(Et){return console.error("Error getting coordinates:",Et),null}finally{ot(!1)}},ln=async()=>{try{const Se=await Bt(v);if(!Se){alert("Không thể tìm thấy tọa độ cho địa chỉ này. Vui lòng kiểm tra lại địa chỉ.");return}const Et=[];for(let vn=0;vn<te.length;vn++){const fn=new FormData;fn.append("file",te[vn]);const Pn=await Ft.post("/upload",fn,{headers:{"Content-Type":"multipart/form-data"}});Et.push({url:Pn.data.url,caption:Ve[vn].caption,is_primary:Ve[vn].is_primary,sort_order:vn})}const Tt=await Ft.post("/hotels",{name:s,description:h,latitude:Se.latitude,longitude:Se.longitude,city:_,address:v,phone:S,email:j,website:F,price_range:$,min_price:parseFloat(Q)||0,max_price:parseFloat(ne)||0,amenities:se,room_types:ue,check_in_time:me,check_out_time:Z,stars:parseInt(ke)||0,images:Et});yn(),xt()}catch(Se){console.error("Error creating hotel:",Se),alert("Lỗi khi tạo khách sạn. Vui lòng thử lại.")}},En=Se=>{Ke(Se.id),o(Se.name),g(Se.description||""),y(Se.city||""),N(Se.address||""),D(Se.phone||""),B(Se.email||""),H(Se.website||""),K(Se.price_range||""),ee(Se.min_price||""),ce(Se.max_price||""),q(Se.amenities||""),oe(Se.room_types||""),Ee(Se.check_in_time||"15:00"),fe(Se.check_out_time||"11:00"),Be(Se.stars||0),nt(Se.images||[]),Ce([]);try{const Et=Se.amenities?JSON.parse(Se.amenities):[];pe(Array.isArray(Et)?Et:[])}catch{pe([])}try{const Et=Se.room_types?JSON.parse(Se.room_types):[];je(Array.isArray(Et)?Et:[])}catch{je([])}window.scrollTo({top:0,behavior:"smooth"})},Dn=async()=>{var Se;try{const Et=await Bt(v);if(!Et){alert("Không thể tìm thấy tọa độ cho địa chỉ này. Vui lòng kiểm tra lại địa chỉ.");return}const Tt=[],vn=Ve.filter(Yn=>Yn.id.toString().startsWith("new-"));console.log("New images to upload:",vn.length);for(let Yn=0;Yn<vn.length;Yn++){const Vn=vn[Yn];if(Vn.file){console.log("Uploading image:",Vn.file.name);const Yr=new FormData;Yr.append("file",Vn.file);const So=await Ft.post("/upload",Yr,{headers:{"Content-Type":"multipart/form-data"}});Tt.push({url:So.data.url,caption:Vn.caption||"",is_primary:Vn.is_primary||!1,sort_order:Vn.sort_order||0})}}const Pn=[...Ve.filter(Yn=>!Yn.id.toString().startsWith("new-")).map(Yn=>({url:Yn.image_url,caption:Yn.caption||"",is_primary:Yn.is_primary||!1,sort_order:Yn.sort_order||0})),...Tt];console.log("Total images to send:",Pn.length),console.log("Images data:",Pn);const an={name:s,description:h,latitude:Et.latitude,longitude:Et.longitude,city:_,address:v,phone:S,email:j,website:F,price_range:$,min_price:parseFloat(Q)||0,max_price:parseFloat(ne)||0,amenities:se,room_types:ue,check_in_time:me,check_out_time:Z,stars:parseInt(ke)||0,images:Pn};if(console.log("Update data:",an),!an.name||!an.name.trim()){alert("Tên khách sạn không được để trống");return}if(!an.address||!an.address.trim()){alert("Địa chỉ không được để trống");return}if(!an.latitude||!an.longitude){alert("Không thể xác định tọa độ. Vui lòng kiểm tra lại địa chỉ.");return}if(an.images&&an.images.length>0){for(let Yn=0;Yn<an.images.length;Yn++)if(!an.images[Yn].url){alert(`Ảnh thứ ${Yn+1} không có URL hợp lệ`);return}}const ar=await Ft.put(`/hotels/${qe}`,an);console.log("Update response:",ar.data),yn(),Ke(null),xt()}catch(Et){console.error("Error updating hotel:",Et),console.error("Error response:",(Se=Et.response)==null?void 0:Se.data),alert("Lỗi khi cập nhật khách sạn. Vui lòng thử lại.")}},hi=async Se=>{Te(Se),rt(!0)},ve=async()=>{if(Ye)try{await Ft.delete(`/hotels/${Ye}`),yn(),rt(!1),Te(null)}catch(Se){console.error("Error deleting hotel:",Se)}},dt=()=>{rt(!1),Te(null)},xt=()=>{o(""),g(""),y(""),N(""),D(""),B(""),H(""),K(""),ee(""),ce(""),q(""),oe(""),pe([]),je([]),Me(""),_e(""),Ee("15:00"),fe("11:00"),Be(0),nt([]),Ce([]),ze([]),Rt(!1)};return i.jsxs("div",{className:"admin-layout",children:[i.jsx(_d,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(vd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:qe?"Chỉnh sửa Khách sạn":"Tạo Khách sạn Mới"})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tên khách sạn *"}),i.jsx("input",{type:"text",className:"form-control",value:s,onChange:Se=>o(Se.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mô tả"}),i.jsx("textarea",{className:"form-control",rows:"3",value:h,onChange:Se=>g(Se.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Thành phố"}),i.jsx(Eb,{value:_,onChange:Ii,placeholder:"Chọn thành phố"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Địa chỉ *"}),i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"text",className:"form-control",value:v,onChange:Se=>Ar(Se.target.value),placeholder:_?`Nhập địa chỉ trong ${_}...`:"Nhập địa chỉ để tìm kiếm..."}),Jt&&i.jsx("div",{className:"position-absolute top-50 end-0 translate-middle-y me-2",children:i.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),ut&&ht.length>0&&i.jsx("div",{className:"position-absolute w-100 bg-white border rounded shadow-sm",style:{zIndex:1e3,top:"100%"},children:ht.map((Se,Et)=>i.jsxs("div",{className:"p-2 border-bottom suggestion-item",style:{cursor:"pointer"},onClick:()=>er(Se),onMouseEnter:Tt=>Tt.target.style.backgroundColor="#f8f9fa",onMouseLeave:Tt=>Tt.target.style.backgroundColor="white",children:[i.jsx("div",{className:"fw-semibold",children:Se.display_name.split(",")[0]}),i.jsx("div",{className:"small text-muted",children:Se.display_name})]},Et))})]})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Số điện thoại"}),i.jsx("input",{type:"text",className:"form-control",value:S,onChange:Se=>D(Se.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Email"}),i.jsx("input",{type:"email",className:"form-control",value:j,onChange:Se=>B(Se.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Website"}),i.jsx("input",{type:"url",className:"form-control",value:F,onChange:Se=>H(Se.target.value)})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mức giá"}),i.jsxs("select",{className:"form-control",value:$,onChange:Se=>K(Se.target.value),children:[i.jsx("option",{value:"",children:"Chọn mức giá"}),i.jsx("option",{value:"$",children:"$ (Bình dân)"}),i.jsx("option",{value:"$$",children:"$$ (Trung bình)"}),i.jsx("option",{value:"$$$",children:"$$$ (Cao cấp)"}),i.jsx("option",{value:"$$$$",children:"$$$$ (Sang trọng)"})]})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Sao"}),i.jsxs("select",{className:"form-control",value:ke,onChange:Se=>Be(parseInt(Se.target.value)),children:[i.jsx("option",{value:0,children:"Chọn số sao"}),i.jsx("option",{value:1,children:"1 Sao"}),i.jsx("option",{value:2,children:"2 Sao"}),i.jsx("option",{value:3,children:"3 Sao"}),i.jsx("option",{value:4,children:"4 Sao"}),i.jsx("option",{value:5,children:"5 Sao"})]})]})})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Giá tối thiểu (VND)"}),i.jsx("input",{type:"number",className:"form-control",value:Q,onChange:Se=>ee(Se.target.value)})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Giá tối đa (VND)"}),i.jsx("input",{type:"number",className:"form-control",value:ne,onChange:Se=>ce(Se.target.value)})]})})]})]})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tiện ích"}),i.jsxs("div",{className:"input-group",children:[i.jsx("input",{type:"text",className:"form-control",placeholder:"Nhập tiện ích và nhấn Enter hoặc +",value:ye,onChange:Se=>Me(Se.target.value),onKeyPress:Ot}),i.jsx("button",{className:"btn btn-outline-primary",type:"button",onClick:qt,children:i.jsx("i",{className:"bi bi-plus"})})]}),be.length>0&&i.jsx("div",{className:"mt-2",children:i.jsx("div",{className:"d-flex flex-wrap gap-1",children:be.map((Se,Et)=>i.jsxs("span",{className:"badge bg-primary d-flex align-items-center gap-1",style:{fontSize:"0.875rem"},children:[Se,i.jsx("button",{type:"button",className:"btn-close btn-close-white",style:{fontSize:"0.5rem"},onClick:()=>lt(Et)})]},Et))})}),i.jsx("div",{className:"form-text",children:"Gợi ý: WiFi, Hồ bơi, Spa, Gym, Nhà hàng, Bar, Dịch vụ giặt ủi"})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Loại phòng"}),i.jsxs("div",{className:"input-group",children:[i.jsx("input",{type:"text",className:"form-control",placeholder:"Nhập loại phòng và nhấn Enter hoặc +",value:le,onChange:Se=>_e(Se.target.value),onKeyPress:pt}),i.jsx("button",{className:"btn btn-outline-primary",type:"button",onClick:on,children:i.jsx("i",{className:"bi bi-plus"})})]}),we.length>0&&i.jsx("div",{className:"mt-2",children:i.jsx("div",{className:"d-flex flex-wrap gap-1",children:we.map((Se,Et)=>i.jsxs("span",{className:"badge bg-success d-flex align-items-center gap-1",style:{fontSize:"0.875rem"},children:[Se,i.jsx("button",{type:"button",className:"btn-close btn-close-white",style:{fontSize:"0.5rem"},onClick:()=>Re(Et)})]},Et))})}),i.jsx("div",{className:"form-text",children:"Gợi ý: Standard, Deluxe, Suite, Executive, Family, Presidential"})]})})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Giờ nhận phòng"}),i.jsx("input",{type:"time",className:"form-control",value:me,onChange:Se=>Ee(Se.target.value)})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Giờ trả phòng"}),i.jsx("input",{type:"time",className:"form-control",value:Z,onChange:Se=>fe(Se.target.value)})]})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[i.jsxs("label",{className:"form-label fw-bold",children:["Hình ảnh (",Ve.length,")"]}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"form-control",style:{width:"auto"},onChange:ii,id:"hotel-image-upload"}),i.jsxs("label",{htmlFor:"hotel-image-upload",className:"btn btn-outline-primary btn-sm",children:[i.jsx("i",{className:"bi bi-plus-circle me-1"}),"Thêm ảnh"]}),Ve.length>1&&i.jsxs("button",{className:"btn btn-outline-warning btn-sm",onClick:()=>{window.confirm("Bạn có chắc muốn xóa tất cả ảnh?")&&(nt([]),Ce([]))},children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xóa tất cả"]})]})]}),Ve.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"alert alert-info",children:[i.jsx("i",{className:"bi bi-info-circle me-2"}),"Kéo thả để sắp xếp lại thứ tự ảnh. Ảnh đầu tiên sẽ là ảnh chính."]}),i.jsx("div",{className:"row",children:Ve.map((Se,Et)=>i.jsx("div",{className:"col-md-3 col-sm-6 mb-3",onDragStart:Tt=>or(Tt,Et),onDragOver:kr,onDrop:Tt=>tr(Tt,Et),onDragEnd:Ue,draggable:!0,children:i.jsxs("div",{className:"card h-100 shadow-sm",children:[i.jsxs("div",{className:"position-relative",children:[i.jsx("img",{src:ai(Se.image_url),className:"card-img-top",alt:`Khách sạn ${Et+1}`,style:{height:"200px",objectFit:"cover"},onError:Tt=>{Tt.target.src="/default-hotel.jpg"}}),i.jsx("div",{className:"position-absolute top-0 start-0 p-2",children:Se.is_primary&&i.jsxs("span",{className:"badge bg-success",children:[i.jsx("i",{className:"bi bi-star-fill me-1"}),"Chính"]})}),i.jsx("div",{className:"position-absolute top-0 end-0 p-2",children:i.jsxs("span",{className:"badge bg-secondary",children:["#",Et+1]})}),i.jsx("div",{className:"position-absolute bottom-0 start-0 w-100 p-2",style:{background:"linear-gradient(transparent, rgba(0,0,0,0.7))"},children:i.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[i.jsx("button",{className:`btn btn-sm ${Se.is_primary?"btn-success":"btn-outline-success"}`,onClick:()=>fi(Et),title:Se.is_primary?"Đã là ảnh chính":"Đặt làm ảnh chính",children:i.jsx("i",{className:`bi ${Se.is_primary?"bi-star-fill":"bi-star"}`})}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>Jn(Et),title:"Xóa ảnh",children:i.jsx("i",{className:"bi bi-trash"})})]})})]}),i.jsxs("div",{className:"card-body",children:[i.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Chú thích ảnh...",value:Se.caption,onChange:Tt=>Br(Et,Tt.target.value)}),i.jsx("div",{className:"mt-2",children:i.jsx("small",{className:"text-muted",children:Se.image_url&&Se.image_url.startsWith("blob:")?"Ảnh mới":"Ảnh hiện có"})})]})]})},Se.id))}),i.jsx("div",{className:"mt-3",children:i.jsxs("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>Dt(!jt),children:[i.jsx("i",{className:"bi bi-images me-1"}),jt?"Ẩn":"Xem"," thư viện ảnh"]})}),jt&&i.jsx("div",{className:"mt-3",children:i.jsx("div",{className:"row",children:Ve.map((Se,Et)=>i.jsx("div",{className:"col-md-2 col-sm-4 col-6 mb-2",children:i.jsxs("div",{className:"position-relative",children:[i.jsx("img",{src:ai(Se.image_url),className:"img-thumbnail",alt:`Khách sạn ${Et+1}`,style:{height:"100px",objectFit:"cover",cursor:"pointer"},onClick:()=>Mt(Se),onError:Tt=>{Tt.target.src="/default-hotel.jpg"}}),Se.is_primary&&i.jsx("div",{className:"position-absolute top-0 start-0",children:i.jsx("i",{className:"bi bi-star-fill text-warning"})})]})},Et))})})]}),Ve.length===0&&i.jsxs("div",{className:"text-center py-4 border rounded bg-light",children:[i.jsx("i",{className:"bi bi-images text-muted",style:{fontSize:"3rem"}}),i.jsx("p",{className:"text-muted mt-2",children:"Chưa có hình ảnh nào"}),i.jsx("p",{className:"text-muted small",children:'Nhấn "Thêm ảnh" để bắt đầu'})]})]}),i.jsx("div",{className:"d-flex gap-2",children:qe?i.jsxs(i.Fragment,{children:[i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:Dn,children:"Cập nhật Khách sạn"}),i.jsx(Ut,{variant:"secondary",onClick:()=>{Ke(null),xt()},children:"Hủy"})]}):i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:ln,children:"Tạo Khách sạn"})})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Tất cả Khách sạn"})}),i.jsx("div",{className:"card-body",children:i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-striped",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Hình ảnh"}),i.jsx("th",{children:"Tên"}),i.jsx("th",{children:"Thành phố"}),i.jsx("th",{children:"Địa chỉ"}),i.jsx("th",{children:"Sao"}),i.jsx("th",{children:"Mức giá"}),i.jsx("th",{children:"Đánh giá"}),i.jsx("th",{children:"Thao tác"})]})}),i.jsx("tbody",{children:l.map(Se=>i.jsxs("tr",{children:[i.jsx("td",{children:Se.id}),i.jsx("td",{children:Se.images&&Se.images.length>0?i.jsx("img",{src:ai(Se.images[0].image_url),alt:Se.name,style:{width:"50px",height:"50px",objectFit:"cover"}}):i.jsx("div",{style:{width:"50px",height:"50px",backgroundColor:"#f8f9fa",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx("i",{className:"bi bi-building"})})}),i.jsx("td",{children:i.jsx(en,{to:`/hotels/${Se.id}`,children:Se.name})}),i.jsx("td",{children:Se.city}),i.jsx("td",{children:i.jsx("div",{style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Se.address})}),i.jsx("td",{children:Se.stars>0&&i.jsxs("span",{className:"badge bg-warning text-dark",children:[Se.stars," ",i.jsx("i",{className:"bi bi-star-fill"})]})}),i.jsx("td",{children:Se.price_range}),i.jsx("td",{children:Se.rating?Se.rating.toFixed(1):"0.0"}),i.jsx("td",{children:i.jsxs("div",{className:"btn-group",role:"group",children:[i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>En(Se),children:"Sửa"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>hi(Se.id),children:"Xóa"})]})})]},Se.id))})]})})})]})]})})]}),i.jsxs(yt,{show:Ie,onHide:dt,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Xác nhận xóa"})}),i.jsx(yt.Body,{children:"Bạn có chắc chắn muốn xóa khách sạn này? Hành động này không thể hoàn tác."}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:dt,children:"Hủy"}),i.jsx(Ut,{variant:"danger",className:"admin-btn-danger",onClick:ve,children:"Xóa"})]})]})]})}function IX(){const[l,c]=I.useState([]),[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(""),[S,D]=I.useState(""),[j,B]=I.useState(""),[F,H]=I.useState(""),[$,K]=I.useState(""),[Q,ee]=I.useState(""),[ne,ce]=I.useState(""),[se,q]=I.useState(""),[ue,oe]=I.useState(""),[be,pe]=I.useState(!1),[we,je]=I.useState(!0),[ye,Me]=I.useState(!0),[le,_e]=I.useState(""),[me,Ee]=I.useState(""),[Z,fe]=I.useState([]),[ke,Be]=I.useState([]),[Ve,nt]=I.useState([]),[te,Ce]=I.useState({day:"",time:""}),[qe,Ke]=I.useState(""),[Ie,rt]=I.useState(""),[Ye,Te]=I.useState([]),[ht,ze]=I.useState([]),[ut,Rt]=I.useState(null),[Jt,ot]=I.useState(!1),[jt,Dt]=I.useState(null),[Qe,Mt]=I.useState([]),[Lt,$e]=I.useState(!1),[bt,$t]=I.useState(!1),[mn,Rn]=I.useState(!1),[yn,ai]=I.useState(null),[br,Ar]=I.useState({}),[er,Ii]=I.useState(!1),[ii,Jn]=I.useState(null),[Br,fi]=I.useState(!1),[or,kr]=I.useState(null),[tr,Ue]=I.useState([]),[qt,lt]=I.useState(!1),[on,Re]=I.useState(null),[Ot,pt]=I.useState(!1),[Bt,ln]=I.useState(null),[En,Dn]=I.useState(!1),[hi,ve]=I.useState([]),[dt,xt]=I.useState(!1),[Se,Et]=I.useState(null),[Tt,vn]=I.useState(null),[fn,Pn]=I.useState(null);I.useEffect(()=>{an()},[]);const an=async()=>{try{const xe=await kt.get("http://localhost:3000/api/restaurants");c(xe.data.data||xe.data)}catch(xe){console.error("Error fetching restaurants:",xe)}},ar=xe=>xe?xe.startsWith("http")?xe:`http://localhost:3000${xe}`:null,Yn=async xe=>{if(xe.length<3){Mt([]),$e(!1);return}try{let Ct=xe;_&&_.trim()&&(Ct=`${xe}, ${_}`);const tn=await kt.get(`http://localhost:3000/api/geocoding/search?q=${encodeURIComponent(Ct)}&limit=5&addressdetails=1`);Mt(tn.data),$e(!0)}catch(Ct){console.error("Error fetching address suggestions:",Ct)}},Vn=xe=>{N(xe),Yn(xe)},Yr=xe=>{var Ct,tn,Tn;N(xe.display_name),y(((Ct=xe.address)==null?void 0:Ct.city)||((tn=xe.address)==null?void 0:tn.town)||((Tn=xe.address)==null?void 0:Tn.state)||""),$e(!1),Mt([])},So=xe=>{y(xe),v&&v.trim()&&Yn(v)},ys=xe=>{const tn=Array.from(xe.target.files).filter(ki=>{const zi=ki.type.startsWith("image/"),_i=ki.size<=5*1024*1024;return zi?_i?!0:(alert(`File ${ki.name} quá lớn (tối đa 5MB)`),!1):(alert(`File ${ki.name} không phải là hình ảnh hợp lệ`),!1)});if(tn.length===0)return;ze(ki=>[...ki,...tn]);const Tn=tn.map((ki,zi)=>({id:`new-${Date.now()}-${zi}`,image_url:URL.createObjectURL(ki),caption:"",is_primary:Ye.length===0&&zi===0,sort_order:Ye.length+zi,file:ki}));Te(ki=>[...ki,...Tn])},Zo=xe=>{Te(Ye.filter((Ct,tn)=>tn!==xe)),ze(ht.filter((Ct,tn)=>tn!==xe))},xc=(xe,Ct)=>{const tn=[...Ye];tn[xe].caption=Ct,Te(tn)},ka=xe=>{const Ct=Ye.map((tn,Tn)=>({...tn,is_primary:Tn===xe}));Te(Ct)},uo=(xe,Ct)=>{Jn(Ct),xe.dataTransfer.effectAllowed="move"},$s=xe=>{xe.preventDefault(),xe.dataTransfer.dropEffect="move"},Gr=(xe,Ct)=>{if(xe.preventDefault(),ii===null||ii===Ct)return;const tn=[...Ye],Tn=tn[ii];tn.splice(ii,1),tn.splice(Ct,0,Tn),tn.forEach((ki,zi)=>{ki.sort_order=zi,ki.is_primary=zi===0}),Te(tn),Jn(null)},ds=()=>{Jn(null)},us=()=>{if(te.day.trim()&&te.time.trim()){const xe=[...Z,{...te}];fe(xe),oe(JSON.stringify(xe)),Ce({day:"",time:""})}},Ra=xe=>{const Ct=Z.filter((tn,Tn)=>Tn!==xe);fe(Ct),oe(JSON.stringify(Ct))},ho=()=>{if(qe.trim()&&!ke.includes(qe.trim())){const xe=[...ke,qe.trim()];Be(xe),_e(JSON.stringify(xe)),Ke("")}},Gn=xe=>{const Ct=ke.filter((tn,Tn)=>Tn!==xe);Be(Ct),_e(JSON.stringify(Ct))},bi=()=>{if(Ie.trim()&&!Ve.includes(Ie.trim())){const xe=[...Ve,Ie.trim()];nt(xe),Ee(JSON.stringify(xe)),rt("")}},_r=xe=>{const Ct=Ve.filter((tn,Tn)=>Tn!==xe);nt(Ct),Ee(JSON.stringify(Ct))},jo=xe=>{xe.key==="Enter"&&(xe.preventDefault(),ho())},Xo=xe=>{xe.key==="Enter"&&(xe.preventDefault(),bi())},Kr=async xe=>{$t(!0);try{const Ct=await kt.get(`http://localhost:3000/api/geocoding/coordinates?q=${encodeURIComponent(xe)}&limit=1`);return Ct.data.success&&Ct.data.data?{latitude:Ct.data.data.latitude,longitude:Ct.data.data.longitude}:null}catch(Ct){return console.error("Error getting coordinates:",Ct),null}finally{$t(!1)}},Sn=async()=>{try{const xe=await Kr(v);if(!xe){alert("Không thể tìm thấy tọa độ cho địa chỉ này. Vui lòng kiểm tra lại địa chỉ.");return}const Ct=[];for(let Tn=0;Tn<ht.length;Tn++){const ki=new FormData;ki.append("file",ht[Tn]);const zi=await kt.post("http://localhost:3000/api/upload",ki,{headers:{"Content-Type":"multipart/form-data"}});Ct.push({url:zi.data.url,caption:Ye[Tn].caption,is_primary:Ye[Tn].is_primary,sort_order:Tn})}const tn=await kt.post("http://localhost:3000/api/restaurants",{name:s,description:h,latitude:xe.latitude,longitude:xe.longitude,city:_,address:v,phone:S,email:j,website:F,cuisine_type:$,price_range:Q,min_price:parseFloat(ne)||0,max_price:parseFloat(se)||0,opening_hours:ue,delivery_available:be,takeout_available:we,dine_in_available:ye,dietary_options:le,features:me,images:Ct});an(),qs()}catch(xe){console.error("Error creating restaurant:",xe),alert("Lỗi khi tạo nhà hàng. Vui lòng thử lại.")}},Kn=xe=>{Rt(xe.id),o(xe.name),g(xe.description||""),y(xe.city||""),N(xe.address||""),D(xe.phone||""),B(xe.email||""),H(xe.website||""),K(xe.cuisine_type||""),ee(xe.price_range||""),ce(xe.min_price||""),q(xe.max_price||""),oe(xe.opening_hours||""),pe(xe.delivery_available||!1),je(xe.takeout_available!==!1),Me(xe.dine_in_available!==!1),_e(xe.dietary_options||""),Ee(xe.features||""),Te(xe.images||[]),ze([]);try{const Ct=xe.opening_hours?JSON.parse(xe.opening_hours):[];fe(Array.isArray(Ct)?Ct:[])}catch{fe([])}try{const Ct=xe.dietary_options?JSON.parse(xe.dietary_options):[];Be(Array.isArray(Ct)?Ct:[])}catch{Be([])}try{const Ct=xe.features?JSON.parse(xe.features):[];nt(Array.isArray(Ct)?Ct:[])}catch{nt([])}window.scrollTo({top:0,behavior:"smooth"})},Nr=async()=>{var xe;try{const Ct=await Kr(v);if(!Ct){alert("Không thể tìm thấy tọa độ cho địa chỉ này. Vui lòng kiểm tra lại địa chỉ.");return}const tn=[],Tn=Ye.filter(Zt=>Zt.id.toString().startsWith("new-"));console.log("New images to upload:",Tn.length);for(let Zt=0;Zt<Tn.length;Zt++){const Ui=Tn[Zt];if(Ui.file){console.log("Uploading image:",Ui.file.name);const ei=new FormData;ei.append("file",Ui.file);const ms=await kt.post("http://localhost:3000/api/upload",ei,{headers:{"Content-Type":"multipart/form-data"}});tn.push({url:ms.data.url,caption:Ui.caption||"",is_primary:Ui.is_primary||!1,sort_order:Ui.sort_order||0})}}const zi=[...Ye.filter(Zt=>!Zt.id.toString().startsWith("new-")).map(Zt=>({url:Zt.image_url,caption:Zt.caption||"",is_primary:Zt.is_primary||!1,sort_order:Zt.sort_order||0})),...tn];console.log("Total images to send:",zi.length),console.log("Images data:",zi);const _i={name:s,description:h,latitude:Ct.latitude,longitude:Ct.longitude,city:_,address:v,phone:S,email:j,website:F,cuisine_type:$,price_range:Q,min_price:parseFloat(ne)||0,max_price:parseFloat(se)||0,opening_hours:ue,delivery_available:be,takeout_available:we,dine_in_available:ye,dietary_options:le,features:me,images:zi};if(console.log("Update data:",_i),!_i.name||!_i.name.trim()){alert("Tên nhà hàng không được để trống");return}if(!_i.address||!_i.address.trim()){alert("Địa chỉ không được để trống");return}if(!_i.latitude||!_i.longitude){alert("Không thể xác định tọa độ. Vui lòng kiểm tra lại địa chỉ.");return}if(_i.images&&_i.images.length>0){for(let Zt=0;Zt<_i.images.length;Zt++)if(!_i.images[Zt].url){alert(`Ảnh thứ ${Zt+1} không có URL hợp lệ`);return}}const dl=await kt.put(`http://localhost:3000/api/restaurants/${ut}`,_i);console.log("Update response:",dl.data),an(),Rt(null),qs()}catch(Ct){console.error("Error updating restaurant:",Ct),console.error("Error response:",(xe=Ct.response)==null?void 0:xe.data),alert("Lỗi khi cập nhật nhà hàng. Vui lòng thử lại.")}},Di=async xe=>{Dt(xe),ot(!0)},Ai=async()=>{if(jt)try{await kt.delete(`http://localhost:3000/api/restaurants/${jt}`),an(),ot(!1),Dt(null)}catch(xe){console.error("Error deleting restaurant:",xe)}},za=()=>{ot(!1),Dt(null)},qs=()=>{o(""),g(""),y(""),N(""),D(""),B(""),H(""),K(""),ee(""),ce(""),q(""),oe(""),pe(!1),je(!0),Me(!0),_e(""),Ee(""),fe([]),Be([]),nt([]),Ce({day:"",time:""}),Ke(""),rt(""),Te([]),ze([]),Mt([]),$e(!1)},Hi=async xe=>{kr(xe),fi(!0),lt(!0);try{const tn=(await kt.get(`http://localhost:3000/api/restaurants/${xe.id}/menus`)).data.data||[];Ue(tn),tn.length>0?(Pn(tn[0]),$n(tn[0].id)):(Pn(null),ve([]))}catch{Ue([]),Pn(null),ve([])}finally{lt(!1)}},$n=async xe=>{xt(!0);try{const Ct=await kt.get(`http://localhost:3000/api/restaurants/menus/${xe}/items`);ve(Ct.data.data||[])}catch{ve([])}finally{xt(!1)}},Pr=async xe=>{if(confirm("Bạn có chắc chắn muốn xóa mục thực đơn này?"))try{await kt.delete(`http://localhost:3000/api/restaurants/menus/${xe}`);const Ct=await kt.get(`http://localhost:3000/api/restaurants/${or.id}/menus`);Ue(Ct.data.data||[]),pt(!1),Re(null)}catch{alert("Xóa mục thực đơn thất bại.")}},Er=async()=>{if(!(!or||!(on!=null&&on.name)))try{on.id?await kt.put(`http://localhost:3000/api/restaurants/menus/${on.id}`,{name:on.name,description:on.description}):await kt.post("http://localhost:3000/api/restaurants/menus",{restaurant_id:or.id,name:on.name,description:on.description});const xe=await kt.get(`http://localhost:3000/api/restaurants/${or.id}/menus`);Ue(xe.data.data||[]),pt(!1),Re(null)}catch{alert("Lưu mục thực đơn thất bại.")}},hs=async xe=>{if(confirm("Bạn có chắc chắn muốn xóa mục thực đơn này?"))try{await kt.delete(`http://localhost:3000/api/restaurants/menu-items/${xe}`);const Ct=await kt.get(`http://localhost:3000/api/restaurants/menus/${on.id}/items`);ve(Ct.data.data||[]),ln(null)}catch{alert("Xóa mục thực đơn thất bại.")}},Ws=async()=>{if(!fn||!(Bt!=null&&Bt.name))return;let xe=Bt.image_url||"";try{if(Se){const tn=new FormData;tn.append("file",Se),xe=(await Ft.post("/upload",tn,{headers:{"Content-Type":"multipart/form-data"}})).data.url}Bt.id?await kt.put(`http://localhost:3000/api/restaurants/menu-items/${Bt.id}`,{name:Bt.name,description:Bt.description,price:Bt.price,image_url:xe}):await kt.post("http://localhost:3000/api/restaurants/menu-items",{menu_id:fn.id,name:Bt.name,description:Bt.description,price:Bt.price,image_url:xe});const Ct=await kt.get(`http://localhost:3000/api/restaurants/menus/${fn.id}/items`);ve(Ct.data.data||[]),ln(null),Et(null),vn(null),Dn(!1)}catch{alert("Lưu mục thực đơn thất bại.")}},xs=xe=>{const Ct=xe.target.files[0];Ct&&(Et(Ct),vn(URL.createObjectURL(Ct)),ln(tn=>({...tn,image_url:""})))},Ys=xe=>{Pn(xe),$n(xe.id)};return i.jsxs("div",{className:"admin-layout",children:[i.jsx(_d,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(vd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:ut?"Chỉnh sửa Nhà hàng":"Tạo Nhà hàng Mới"})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tên nhà hàng *"}),i.jsx("input",{type:"text",className:"form-control",value:s,onChange:xe=>o(xe.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mô tả"}),i.jsx("textarea",{className:"form-control",rows:"3",value:h,onChange:xe=>g(xe.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Thành phố"}),i.jsx(Eb,{value:_,onChange:So,placeholder:"Chọn thành phố"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Địa chỉ *"}),i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"text",className:"form-control",value:v,onChange:xe=>Vn(xe.target.value),placeholder:_?`Nhập địa chỉ trong ${_}...`:"Nhập địa chỉ để tìm kiếm..."}),bt&&i.jsx("div",{className:"position-absolute top-50 end-0 translate-middle-y me-2",children:i.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),Lt&&Qe.length>0&&i.jsx("div",{className:"position-absolute w-100 bg-white border rounded shadow-sm",style:{zIndex:1e3,top:"100%"},children:Qe.map((xe,Ct)=>i.jsxs("div",{className:"p-2 border-bottom suggestion-item",style:{cursor:"pointer"},onClick:()=>Yr(xe),onMouseEnter:tn=>tn.target.style.backgroundColor="#f8f9fa",onMouseLeave:tn=>tn.target.style.backgroundColor="white",children:[i.jsx("div",{className:"fw-semibold",children:xe.display_name.split(",")[0]}),i.jsx("div",{className:"small text-muted",children:xe.display_name})]},Ct))})]})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Số điện thoại"}),i.jsx("input",{type:"text",className:"form-control",value:S,onChange:xe=>D(xe.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Email"}),i.jsx("input",{type:"email",className:"form-control",value:j,onChange:xe=>B(xe.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Website"}),i.jsx("input",{type:"url",className:"form-control",value:F,onChange:xe=>H(xe.target.value)})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Loại ẩm thực"}),i.jsx("input",{type:"text",className:"form-control",placeholder:"VD: Việt Nam, Ý, Nhật",value:$,onChange:xe=>K(xe.target.value)})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mức giá"}),i.jsxs("select",{className:"form-control",value:Q,onChange:xe=>ee(xe.target.value),children:[i.jsx("option",{value:"",children:"Chọn mức giá"}),i.jsx("option",{value:"$",children:"$ (Bình dân)"}),i.jsx("option",{value:"$$",children:"$$ (Trung bình)"}),i.jsx("option",{value:"$$$",children:"$$$ (Cao cấp)"}),i.jsx("option",{value:"$$$$",children:"$$$$ (Sang trọng)"})]})]})})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Giá tối thiểu (VND)"}),i.jsx("input",{type:"number",className:"form-control",value:ne,onChange:xe=>ce(xe.target.value)})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Giá tối đa (VND)"}),i.jsx("input",{type:"number",className:"form-control",value:se,onChange:xe=>q(xe.target.value)})]})})]})]})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Giờ mở cửa"}),i.jsxs("div",{className:"row g-2 mb-2",children:[i.jsx("div",{className:"col-5",children:i.jsxs("select",{className:"form-control",value:te.day,onChange:xe=>Ce({...te,day:xe.target.value}),children:[i.jsx("option",{value:"",children:"Chọn ngày"}),i.jsx("option",{value:"Thứ 2",children:"Thứ 2"}),i.jsx("option",{value:"Thứ 3",children:"Thứ 3"}),i.jsx("option",{value:"Thứ 4",children:"Thứ 4"}),i.jsx("option",{value:"Thứ 5",children:"Thứ 5"}),i.jsx("option",{value:"Thứ 6",children:"Thứ 6"}),i.jsx("option",{value:"Thứ 7",children:"Thứ 7"}),i.jsx("option",{value:"Chủ nhật",children:"Chủ nhật"}),i.jsx("option",{value:"Tất cả các ngày",children:"Tất cả các ngày"})]})}),i.jsx("div",{className:"col-5",children:i.jsx("input",{type:"text",className:"form-control",placeholder:"VD: 09:00-22:00",value:te.time,onChange:xe=>Ce({...te,time:xe.target.value})})}),i.jsx("div",{className:"col-2",children:i.jsx("button",{className:"btn btn-outline-primary w-100",type:"button",onClick:us,children:i.jsx("i",{className:"bi bi-plus"})})})]}),Z.length>0&&i.jsx("div",{className:"mt-2",children:i.jsx("div",{className:"d-flex flex-column gap-1",children:Z.map((xe,Ct)=>i.jsxs("div",{className:"d-flex justify-content-between align-items-center p-2 border rounded bg-light",children:[i.jsxs("span",{className:"fw-semibold",children:[xe.day,":"]}),i.jsx("span",{children:xe.time}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>Ra(Ct),children:i.jsx("i",{className:"bi bi-trash"})})]},Ct))})}),i.jsx("div",{className:"form-text",children:"Gợi ý: 09:00-22:00, 07:00-23:00, 24/7"})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Dịch vụ"}),i.jsxs("div",{className:"form-check",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",checked:be,onChange:xe=>pe(xe.target.checked)}),i.jsx("label",{className:"form-check-label",children:"Giao hàng"})]}),i.jsxs("div",{className:"form-check",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",checked:we,onChange:xe=>je(xe.target.checked)}),i.jsx("label",{className:"form-check-label",children:"Mang về"})]}),i.jsxs("div",{className:"form-check",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",checked:ye,onChange:xe=>Me(xe.target.checked)}),i.jsx("label",{className:"form-check-label",children:"Dùng tại chỗ"})]})]})})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tùy chọn ăn kiêng"}),i.jsxs("div",{className:"input-group",children:[i.jsx("input",{type:"text",className:"form-control",placeholder:"Nhập tùy chọn ăn kiêng và nhấn Enter hoặc +",value:qe,onChange:xe=>Ke(xe.target.value),onKeyPress:jo}),i.jsx("button",{className:"btn btn-outline-primary",type:"button",onClick:ho,children:i.jsx("i",{className:"bi bi-plus"})})]}),ke.length>0&&i.jsx("div",{className:"mt-2",children:i.jsx("div",{className:"d-flex flex-wrap gap-1",children:ke.map((xe,Ct)=>i.jsxs("span",{className:"badge bg-info d-flex align-items-center gap-1",style:{fontSize:"0.875rem"},children:[xe,i.jsx("button",{type:"button",className:"btn-close btn-close-white",style:{fontSize:"0.5rem"},onClick:()=>Gn(Ct)})]},Ct))})}),i.jsx("div",{className:"form-text",children:"Gợi ý: Chay, Thuần chay, Không gluten, Không sữa, Hải sản"})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tính năng"}),i.jsxs("div",{className:"input-group",children:[i.jsx("input",{type:"text",className:"form-control",placeholder:"Nhập tính năng và nhấn Enter hoặc +",value:Ie,onChange:xe=>rt(xe.target.value),onKeyPress:Xo}),i.jsx("button",{className:"btn btn-outline-primary",type:"button",onClick:bi,children:i.jsx("i",{className:"bi bi-plus"})})]}),Ve.length>0&&i.jsx("div",{className:"mt-2",children:i.jsx("div",{className:"d-flex flex-wrap gap-1",children:Ve.map((xe,Ct)=>i.jsxs("span",{className:"badge bg-warning text-dark d-flex align-items-center gap-1",style:{fontSize:"0.875rem"},children:[xe,i.jsx("button",{type:"button",className:"btn-close",style:{fontSize:"0.5rem"},onClick:()=>_r(Ct)})]},Ct))})}),i.jsx("div",{className:"form-text",children:"Gợi ý: Chỗ ngồi ngoài trời, Nhạc sống, Ghép rượu, WiFi, Đỗ xe"})]})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[i.jsxs("label",{className:"form-label fw-bold",children:["Hình ảnh (",Ye.length,")"]}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"form-control",style:{width:"auto"},onChange:ys,id:"restaurant-image-upload"}),i.jsxs("label",{htmlFor:"restaurant-image-upload",className:"btn btn-outline-primary btn-sm",children:[i.jsx("i",{className:"bi bi-plus-circle me-1"}),"Thêm ảnh"]}),Ye.length>1&&i.jsxs("button",{className:"btn btn-outline-warning btn-sm",onClick:()=>{window.confirm("Bạn có chắc muốn xóa tất cả ảnh?")&&(Te([]),ze([]))},children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xóa tất cả"]})]})]}),Ye.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"alert alert-info",children:[i.jsx("i",{className:"bi bi-info-circle me-2"}),"Kéo thả để sắp xếp lại thứ tự ảnh. Ảnh đầu tiên sẽ là ảnh chính."]}),i.jsx("div",{className:"row",children:Ye.map((xe,Ct)=>i.jsx("div",{className:"col-md-3 col-sm-6 mb-3",onDragStart:tn=>uo(tn,Ct),onDragOver:$s,onDrop:tn=>Gr(tn,Ct),onDragEnd:ds,draggable:!0,children:i.jsxs("div",{className:"card h-100 shadow-sm",children:[i.jsxs("div",{className:"position-relative",children:[i.jsx("img",{src:ar(xe.image_url),className:"card-img-top",alt:`Nhà hàng ${Ct+1}`,style:{height:"200px",objectFit:"cover"},onError:tn=>{tn.target.src="/default-restaurant.jpg"}}),i.jsx("div",{className:"position-absolute top-0 start-0 p-2",children:xe.is_primary&&i.jsxs("span",{className:"badge bg-success",children:[i.jsx("i",{className:"bi bi-star-fill me-1"}),"Chính"]})}),i.jsx("div",{className:"position-absolute top-0 end-0 p-2",children:i.jsxs("span",{className:"badge bg-secondary",children:["#",Ct+1]})}),i.jsx("div",{className:"position-absolute bottom-0 start-0 w-100 p-2",style:{background:"linear-gradient(transparent, rgba(0,0,0,0.7))"},children:i.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[i.jsx("button",{className:`btn btn-sm ${xe.is_primary?"btn-success":"btn-outline-success"}`,onClick:()=>ka(Ct),title:xe.is_primary?"Đã là ảnh chính":"Đặt làm ảnh chính",children:i.jsx("i",{className:`bi ${xe.is_primary?"bi-star-fill":"bi-star"}`})}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>Zo(Ct),title:"Xóa ảnh",children:i.jsx("i",{className:"bi bi-trash"})})]})})]}),i.jsxs("div",{className:"card-body",children:[i.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Chú thích ảnh...",value:xe.caption,onChange:tn=>xc(Ct,tn.target.value)}),i.jsx("div",{className:"mt-2",children:i.jsx("small",{className:"text-muted",children:xe.image_url&&xe.image_url.startsWith("blob:")?"Ảnh mới":"Ảnh hiện có"})})]})]})},xe.id))}),i.jsx("div",{className:"mt-3",children:i.jsxs("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>Rn(!mn),children:[i.jsx("i",{className:"bi bi-images me-1"}),mn?"Ẩn":"Xem"," thư viện ảnh"]})}),mn&&i.jsx("div",{className:"mt-3",children:i.jsx("div",{className:"row",children:Ye.map((xe,Ct)=>i.jsx("div",{className:"col-md-2 col-sm-4 col-6 mb-2",children:i.jsxs("div",{className:"position-relative",children:[i.jsx("img",{src:ar(xe.image_url),className:"img-thumbnail",alt:`Nhà hàng ${Ct+1}`,style:{height:"100px",objectFit:"cover",cursor:"pointer"},onClick:()=>ai(xe),onError:tn=>{tn.target.src="/default-restaurant.jpg"}}),xe.is_primary&&i.jsx("div",{className:"position-absolute top-0 start-0",children:i.jsx("i",{className:"bi bi-star-fill text-warning"})})]})},Ct))})})]}),Ye.length===0&&i.jsxs("div",{className:"text-center py-4 border rounded bg-light",children:[i.jsx("i",{className:"bi bi-images text-muted",style:{fontSize:"3rem"}}),i.jsx("p",{className:"text-muted mt-2",children:"Chưa có hình ảnh nào"}),i.jsx("p",{className:"text-muted small",children:'Nhấn "Thêm ảnh" để bắt đầu'})]})]}),i.jsx("div",{className:"d-flex gap-2",children:ut?i.jsxs(i.Fragment,{children:[i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:Nr,children:"Cập nhật Nhà hàng"}),i.jsx(Ut,{variant:"secondary",onClick:()=>{Rt(null),qs()},children:"Hủy"})]}):i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:Sn,children:"Tạo Nhà hàng"})})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Tất cả Nhà hàng"})}),i.jsx("div",{className:"card-body",children:i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-striped",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Hình ảnh"}),i.jsx("th",{children:"Tên"}),i.jsx("th",{children:"Ẩm thực"}),i.jsx("th",{children:"Thành phố"}),i.jsx("th",{children:"Địa chỉ"}),i.jsx("th",{children:"Mức giá"}),i.jsx("th",{children:"Đánh giá"}),i.jsx("th",{children:"Thao tác"})]})}),i.jsx("tbody",{children:l.map(xe=>i.jsxs("tr",{children:[i.jsx("td",{children:xe.id}),i.jsx("td",{children:xe.images&&xe.images.length>0?i.jsx("img",{src:ar(xe.images[0].image_url),alt:xe.name,style:{width:"50px",height:"50px",objectFit:"cover"}}):i.jsx("div",{style:{width:"50px",height:"50px",backgroundColor:"#f8f9fa",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx("i",{className:"bi bi-cup-hot"})})}),i.jsx("td",{children:i.jsx(en,{to:`/restaurants/${xe.id}`,children:xe.name})}),i.jsx("td",{children:xe.cuisine_type&&i.jsx("span",{className:"badge bg-primary",children:xe.cuisine_type})}),i.jsx("td",{children:xe.city}),i.jsx("td",{children:i.jsx("div",{style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:xe.address})}),i.jsx("td",{children:xe.price_range}),i.jsx("td",{children:xe.rating?xe.rating.toFixed(1):"0.0"}),i.jsx("td",{children:i.jsxs("div",{className:"btn-group",role:"group",children:[i.jsx(Ut,{variant:"outline-primary",size:"sm",onClick:()=>Hi(xe),children:"Quản lý thực đơn"}),i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>Kn(xe),children:"Sửa"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>Di(xe.id),children:"Xóa"})]})})]},xe.id))})]})})})]})]})})]}),i.jsxs(yt,{show:Jt,onHide:za,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Xác nhận xóa"})}),i.jsx(yt.Body,{children:"Bạn có chắc chắn muốn xóa nhà hàng này? Hành động này không thể hoàn tác."}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:za,children:"Hủy"}),i.jsx(Ut,{variant:"danger",className:"admin-btn-danger",onClick:Ai,children:"Xóa"})]})]}),i.jsxs(yt,{show:Br,onHide:()=>fi(!1),size:"lg",centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsxs(yt.Title,{children:["Quản lý thực đơn cho ",or==null?void 0:or.name]})}),i.jsxs(yt.Body,{children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[i.jsx("h6",{children:"Các mục thực đơn"}),i.jsxs(Ut,{variant:"outline-primary",onClick:()=>pt(!0),children:[i.jsx("i",{className:"bi bi-plus-circle me-1"}),"Thêm mục thực đơn"]})]}),qt?i.jsx("div",{className:"text-center py-4",children:i.jsx("div",{className:"spinner-border text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):tr.length===0?i.jsx("p",{children:"Chưa có mục thực đơn nào cho nhà hàng này."}):i.jsx("div",{className:"list-group",children:tr.map(xe=>i.jsxs("div",{className:"list-group-item d-flex justify-content-between align-items-center",children:[i.jsxs("div",{children:[i.jsx("h6",{className:"mb-1",children:xe.name}),i.jsx("p",{className:"mb-0 text-muted",children:xe.description})]}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsxs(Ut,{variant:"outline-info",size:"sm",onClick:()=>$n(xe.id),children:[i.jsx("i",{className:"bi bi-list-ul me-1"}),"Xem mục"]}),i.jsxs(Ut,{variant:"outline-warning",size:"sm",onClick:()=>Re(xe),children:[i.jsx("i",{className:"bi bi-pencil-square me-1"}),"Sửa"]}),i.jsxs(Ut,{variant:"outline-danger",size:"sm",onClick:()=>Pr(xe.id),children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xóa"]})]})]},xe.id))}),i.jsxs("div",{className:"d-flex gap-2 mb-3",children:[tr.map(xe=>i.jsx(Ut,{variant:fn&&fn.id===xe.id?"primary":"outline-primary",size:"sm",onClick:()=>Ys(xe),children:xe.name},xe.id)),i.jsxs(Ut,{variant:"outline-success",size:"sm",onClick:()=>pt(!0),children:[i.jsx("i",{className:"bi bi-plus-circle me-1"})," Thêm mục thực đơn"]})]}),fn?i.jsxs("div",{children:[i.jsxs("h6",{children:["Món ăn trong mục: ",fn.name]}),dt?i.jsx("div",{className:"text-center py-4",children:i.jsx("div",{className:"spinner-border text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):hi.length===0?i.jsx("p",{children:"Chưa có món ăn nào trong mục này."}):i.jsx("div",{className:"list-group",children:hi.map(xe=>i.jsxs("div",{className:"list-group-item d-flex justify-content-between align-items-center",children:[i.jsxs("div",{children:[i.jsx("h6",{className:"mb-1",children:xe.name}),i.jsx("p",{className:"mb-0 text-muted",children:xe.description}),i.jsxs("p",{className:"mb-0 text-muted",children:["Giá: ",xe.price?xe.price.toLocaleString("vi-VN")+" VND":"---"]}),xe.image_url&&i.jsx("img",{src:xe.image_url.startsWith("http")?xe.image_url:`http://localhost:3000${xe.image_url}`,alt:xe.name,style:{maxWidth:80,borderRadius:8,marginTop:4}})]}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsxs(Ut,{variant:"outline-warning",size:"sm",onClick:()=>ln(xe),children:[i.jsx("i",{className:"bi bi-pencil-square me-1"}),"Sửa"]}),i.jsxs(Ut,{variant:"outline-danger",size:"sm",onClick:()=>hs(xe.id),children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xóa"]})]})]},xe.id))}),i.jsx(Ut,{className:"mt-3",variant:"primary",onClick:()=>{ln({name:"",description:"",price:"",image_url:""}),Et(null),vn(null),Dn(!0)},children:"Thêm món ăn"})]}):i.jsx("div",{className:"text-muted",children:"Chưa có mục thực đơn nào. Hãy thêm mục thực đơn trước."})]}),i.jsx(yt.Footer,{children:i.jsx(Ut,{variant:"secondary",onClick:()=>fi(!1),children:"Đóng"})})]}),i.jsxs(yt,{show:Ot,onHide:()=>pt(!1),children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:on?"Sửa mục thực đơn":"Thêm mục thực đơn"})}),i.jsxs(yt.Body,{children:[i.jsxs(bn.Group,{className:"mb-3",children:[i.jsx(bn.Label,{children:"Tên mục thực đơn *"}),i.jsx(bn.Control,{type:"text",value:(on==null?void 0:on.name)||"",onChange:xe=>Re({...on,name:xe.target.value}),required:!0})]}),i.jsxs(bn.Group,{className:"mb-3",children:[i.jsx(bn.Label,{children:"Mô tả (tùy chọn)"}),i.jsx(bn.Control,{type:"text",value:(on==null?void 0:on.description)||"",onChange:xe=>Re({...on,description:xe.target.value})})]})]}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:()=>pt(!1),children:"Hủy"}),i.jsx(Ut,{variant:"primary",onClick:Er,children:on?"Cập nhật":"Thêm"})]})]}),i.jsxs(yt,{show:En,onHide:()=>Dn(!1),children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:Bt?"Sửa mục thực đơn":"Thêm mục thực đơn"})}),i.jsxs(yt.Body,{children:[i.jsxs(bn.Group,{className:"mb-3",children:[i.jsx(bn.Label,{children:"Tên mục thực đơn *"}),i.jsx(bn.Control,{type:"text",value:(Bt==null?void 0:Bt.name)||"",onChange:xe=>ln({...Bt,name:xe.target.value}),required:!0})]}),i.jsxs(bn.Group,{className:"mb-3",children:[i.jsx(bn.Label,{children:"Mô tả (tùy chọn)"}),i.jsx(bn.Control,{type:"text",value:(Bt==null?void 0:Bt.description)||"",onChange:xe=>ln({...Bt,description:xe.target.value})})]}),i.jsxs(bn.Group,{className:"mb-3",children:[i.jsx(bn.Label,{children:"Giá (VND)"}),i.jsx(bn.Control,{type:"number",value:(Bt==null?void 0:Bt.price)||"",onChange:xe=>ln({...Bt,price:xe.target.value}),required:!0})]}),i.jsxs(bn.Group,{className:"mb-3",children:[i.jsx(bn.Label,{children:"Hình ảnh món ăn"}),i.jsx(bn.Control,{type:"file",accept:"image/*",onChange:xs}),Tt&&i.jsx("img",{src:Tt,alt:"Preview",style:{maxWidth:120,marginTop:8,borderRadius:8}}),!Tt&&(Bt==null?void 0:Bt.image_url)&&i.jsx("img",{src:Bt.image_url.startsWith("http")?Bt.image_url:`http://localhost:3000${Bt.image_url}`,alt:"Preview",style:{maxWidth:120,marginTop:8,borderRadius:8}})]})]}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:()=>Dn(!1),children:"Hủy"}),i.jsx(Ut,{variant:"primary",onClick:Ws,children:Bt?"Cập nhật":"Thêm"})]})]})]})}const OX="https://walkingguide.onrender.com/api",QL={getByTourId:l=>kt.get(`${OX}/tour-steps/by-tour/${l}`)};function LX(){const{user:l}=I.useContext(cs),[c,s]=I.useState([]),[o,h]=I.useState(""),[g,_]=I.useState(""),[y,v]=I.useState(null),[N,S]=I.useState(""),[D,j]=I.useState(null),[B,F]=I.useState(!1),[H,$]=I.useState([]),[K,Q]=I.useState([]),[ee,ne]=I.useState({}),[ce,se]=I.useState({}),[q,ue]=I.useState(0),[oe,be]=I.useState(""),[pe,we]=I.useState(""),[je,ye]=I.useState(!1),[Me,le]=I.useState(""),[_e,me]=I.useState("danger"),[Ee,Z]=I.useState(!1),[fe,ke]=I.useState(null),[Be,Ve]=I.useState([]),nt=async()=>{const Qe=await kt.get("http://localhost:3000/api/tours?role=ADMIN");s(Qe.data);const Mt={};await Promise.all(Qe.data.map(async Lt=>{try{const $e=await QL.getByTourId(Lt.id);Mt[Lt.id]=$e.data}catch{Mt[Lt.id]=[]}})),ne(Mt)},te=I.useCallback(async()=>{const Qe=await kt.get("http://localhost:3000/api/tours/pending/user");Ve(Qe.data)},[]);I.useEffect(()=>{nt(),te(),fb.getAll().then(Qe=>$(Qe.data)).catch(()=>$([]))},[te]);const Ce=Qe=>{const Mt=Qe.target.files[0];if(Mt){v(Mt);const Lt=new FileReader;Lt.onload=$e=>S($e.target.result),Lt.readAsDataURL(Mt)}},qe=async Qe=>{const Mt=new FormData;return Mt.append("file",Qe),(await kt.post("http://localhost:3000/api/upload",Mt,{headers:{"Content-Type":"multipart/form-data"}})).data.url},Ke=Qe=>{K.includes(Qe)||(Q([...K,Qe]),se(Mt=>({...Mt,[Qe]:{day:1,stay_duration:60,start_time:"",end_time:""}})))},Ie=Qe=>{Q(K.filter(Mt=>Mt!==Qe)),se(Mt=>{const Lt={...Mt};return delete Lt[Qe],Lt})},rt=(Qe,Mt,Lt)=>{se($e=>({...$e,[Qe]:{...$e[Qe],[Mt]:Lt}}))},Ye=(Qe,Mt)=>{const Lt=[...K],$e=Lt[Qe];Lt.splice(Qe,1),Lt.splice(Qe+Mt,0,$e),Q(Lt)},Te=async()=>{if(!l){le("Bạn cần đăng nhập để tạo tour."),me("warning"),ye(!0);return}F(!0);try{let Qe="";y&&(Qe=await qe(y));const Mt=K.map((Lt,$e)=>{var bt,$t;return{place_id:Lt,step_order:$e+1,day:((bt=ce[Lt])==null?void 0:bt.day)||1,stay_duration:Number(($t=ce[Lt])==null?void 0:$t.stay_duration)||60}});await kt.post("http://localhost:3000/api/tours",{name:o,description:g,image_url:Qe,user_id:l.id,total_cost:parseFloat(q)||0,steps:Mt}),nt(),Dt()}catch(Qe){console.error("Error creating tour:",Qe),le("Có lỗi xảy ra khi tạo tour"),me("danger"),ye(!0)}finally{F(!1)}},ht=Qe=>{j(Qe.id),h(Qe.name),_(Qe.description),v(null),S(Qe.image_url||""),ue(Qe.total_cost?Qe.total_cost.toString():"0");const Mt=ee[Qe.id]||[];Q(Mt.sort(($e,bt)=>$e.step_order-bt.step_order).map($e=>$e.place_id));const Lt={};Mt.forEach($e=>{Lt[$e.place_id]={day:$e.day||1,stay_duration:$e.stay_duration||60}}),se(Lt),window.scrollTo({top:0,behavior:"smooth"})},ze=async()=>{F(!0);try{let Qe=N;y&&(Qe=await qe(y));const Mt=K.map((Lt,$e)=>{var bt,$t;return{place_id:Lt,step_order:$e+1,day:((bt=ce[Lt])==null?void 0:bt.day)||1,stay_duration:Number(($t=ce[Lt])==null?void 0:$t.stay_duration)||60}});await kt.put(`http://localhost:3000/api/tours/${D}`,{name:o,description:g,image_url:Qe,total_cost:parseFloat(q)||0,steps:Mt}),nt(),j(null),Dt()}catch(Qe){console.error("Error updating tour:",Qe),le("Có lỗi xảy ra khi cập nhật tour"),me("danger"),ye(!0)}finally{F(!1)}},ut=Qe=>{ke(Qe),Z(!0)},Rt=async()=>{if(fe)try{await kt.delete(`http://localhost:3000/api/tours/${fe}`),nt(),Z(!1),ke(null)}catch(Qe){console.error("Error deleting tour:",Qe),le("Có lỗi xảy ra khi xóa tour"),me("danger"),ye(!0)}},Jt=()=>{Z(!1),ke(null)},ot=async Qe=>{await kt.post(`http://localhost:3000/api/tours/${Qe}/approve`),te(),nt()},jt=async Qe=>{await kt.post(`http://localhost:3000/api/tours/${Qe}/reject`),te(),nt()},Dt=()=>{j(null),h(""),_(""),v(null),S(""),Q([]),se({}),ue(0),be(""),we("")};return i.jsxs("div",{className:"admin-layout",children:[i.jsx(_d,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(vd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[je&&i.jsxs("div",{className:`alert alert-${_e} alert-dismissible fade show`,role:"alert",children:[i.jsx("i",{className:`bi ${_e==="danger"?"bi-exclamation-triangle-fill":"bi-exclamation-circle-fill"} me-2`}),Me,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>ye(!1)})]}),i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:D?"Chỉnh sửa Tour":"Tạo Tour Mới"})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tên tour *"}),i.jsx("input",{type:"text",className:"form-control",value:o,onChange:Qe=>h(Qe.target.value),placeholder:"Nhập tên tour"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Hình ảnh tour"}),i.jsx("input",{type:"file",accept:"image/*",onChange:Ce,className:"form-control"}),N&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:N.startsWith("data:")?N:`http://localhost:3000${N}`,alt:"Xem trước",style:{maxWidth:"200px",maxHeight:"150px",objectFit:"cover",borderRadius:"8px",border:"1px solid #ddd"}})})]})]}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tổng chi phí (VND)"}),i.jsx("input",{type:"text",value:q?parseInt(q).toLocaleString("vi-VN"):"",onChange:Qe=>{const Mt=Qe.target.value.replace(/\D/g,"");ue(Mt)},className:"form-control",placeholder:"Nhập tổng chi phí tour"}),q&&i.jsxs("div",{className:"form-text",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),"Chi phí: ",parseInt(q).toLocaleString("vi-VN")," VNĐ"]}),q&&q.length>0&&q.length<=3&&!q.endsWith("000")&&i.jsxs("div",{className:"mt-2",children:[i.jsx("small",{className:"text-muted",children:"Gợi ý:"}),i.jsx("div",{className:"d-flex flex-wrap gap-1 mt-1",children:(()=>{const Qe=q.replace(/\D/g,"");return[{value:Qe+"000",label:Qe+".000 VNĐ"},{value:Qe+"0000",label:Qe+"0.000 VNĐ"},{value:Qe+"00000",label:Qe+"00.000 VNĐ"},{value:Qe+"000000",label:Qe+".000.000 VNĐ"},{value:Qe+"0000000",label:Qe+"0.000.000 VNĐ"}].filter(Lt=>Lt.value!==q).map((Lt,$e)=>i.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",style:{fontSize:"0.8rem",padding:"0.25rem 0.5rem"},onClick:()=>ue(Lt.value),children:Lt.label},$e))})()})]})]})})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mô tả"}),i.jsx(kw,{value:g,onChange:_,placeholder:"Mô tả tour"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Chọn các địa điểm cho tour (kéo để sắp xếp):"}),i.jsx("div",{className:"d-flex flex-wrap gap-2 mb-2",children:H.map(Qe=>i.jsx("button",{type:"button",className:`btn btn-sm ${K.includes(Qe.id)?"btn-primary":"btn-outline-primary"}`,onClick:()=>Ke(Qe.id),disabled:K.includes(Qe.id),children:Qe.name},Qe.id))}),K.length>0&&i.jsx("ul",{className:"list-group",children:K.map((Qe,Mt)=>{const Lt=H.find(bt=>bt.id===Qe),$e=ce[Qe]||{};return i.jsxs("li",{className:"list-group-item d-flex align-items-center justify-content-between flex-wrap gap-2",children:[i.jsx("span",{children:Lt?Lt.name:Qe}),i.jsx("select",{className:"form-select form-select-sm",style:{width:90},value:$e.day||1,onChange:bt=>rt(Qe,"day",Number(bt.target.value)),children:[...Array(15)].map((bt,$t)=>i.jsxs("option",{value:$t+1,children:["Ngày ",$t+1]},$t+1))}),i.jsx("input",{type:"number",className:"form-control form-control-sm",style:{width:70},min:1,value:$e.stay_duration||60,onChange:bt=>rt(Qe,"stay_duration",bt.target.value),placeholder:"Phút",title:"Thời gian lưu trú (phút)"}),i.jsxs("div",{children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-light me-1",disabled:Mt===0,onClick:()=>Ye(Mt,-1),children:i.jsx("i",{className:"bi bi-arrow-up"})}),i.jsx("button",{type:"button",className:"btn btn-sm btn-light me-1",disabled:Mt===K.length-1,onClick:()=>Ye(Mt,1),children:i.jsx("i",{className:"bi bi-arrow-down"})}),i.jsx("button",{type:"button",className:"btn btn-sm btn-danger",onClick:()=>Ie(Qe),children:i.jsx("i",{className:"bi bi-x"})})]})]},Qe)})})]}),i.jsx("div",{className:"d-flex gap-2",children:D?i.jsxs(i.Fragment,{children:[i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:ze,disabled:B,children:B?"Đang cập nhật...":"Cập nhật Tour"}),i.jsx(Ut,{variant:"secondary",onClick:Dt,disabled:B,children:"Hủy"})]}):i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:Te,disabled:B,children:B?"Đang tạo...":"Tạo Tour"})})]})]}),i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header bg-warning text-dark",children:i.jsx("h5",{children:"Tour do người dùng tạo chờ duyệt"})}),i.jsx("div",{className:"card-body",children:Be.length===0?i.jsx("div",{className:"text-muted",children:"Không có tour nào chờ duyệt."}):i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-bordered",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Tên tour"}),i.jsx("th",{children:"Người tạo"}),i.jsx("th",{children:"Mô tả"}),i.jsx("th",{children:"Thao tác"})]})}),i.jsx("tbody",{children:Be.map(Qe=>i.jsxs("tr",{children:[i.jsx("td",{children:Qe.id}),i.jsx("td",{children:Qe.name}),i.jsx("td",{children:Qe.user_id}),i.jsx("td",{style:{maxWidth:200,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Qe.description}),i.jsxs("td",{children:[i.jsx("button",{className:"btn btn-success btn-sm me-2",onClick:()=>ot(Qe.id),children:"Duyệt"}),i.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>jt(Qe.id),children:"Từ chối"})]})]},Qe.id))})]})})})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Tất cả Tour"})}),i.jsx("div",{className:"card-body",children:i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-striped",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Hình ảnh"}),i.jsx("th",{children:"Tên tour"}),i.jsx("th",{children:"Mô tả"}),i.jsx("th",{children:"Địa điểm (thứ tự)"}),i.jsx("th",{children:"Tổng chi phí"}),i.jsx("th",{children:"Thao tác"})]})}),i.jsx("tbody",{children:c.map(Qe=>i.jsxs("tr",{children:[i.jsx("td",{children:Qe.id}),i.jsx("td",{children:Qe.image_url?i.jsx("img",{src:`http://localhost:3000${Qe.image_url}`,alt:Qe.name,style:{width:"80px",height:"60px",objectFit:"cover",borderRadius:"4px"}}):i.jsx("div",{style:{width:"80px",height:"60px",backgroundColor:"#e9ecef",display:"flex",alignItems:"center",justifyContent:"center",color:"#6c757d",borderRadius:"4px"},children:i.jsx("i",{className:"bi bi-image"})})}),i.jsx("td",{children:Qe.name}),i.jsx("td",{children:i.jsx("div",{style:{maxHeight:"60px",overflow:"hidden",fontSize:"0.9rem"},dangerouslySetInnerHTML:{__html:Qe.description}})}),i.jsx("td",{children:ee[Qe.id]&&ee[Qe.id].length>0?i.jsx("div",{style:{maxHeight:"60px",overflow:"hidden",fontSize:"0.8rem"},children:ee[Qe.id].sort((Mt,Lt)=>Mt.step_order-Lt.step_order).map((Mt,Lt)=>{const $e=H.find(bt=>bt.id===Mt.place_id);return i.jsxs("div",{style:{marginBottom:"2px"},children:[i.jsxs("span",{className:"badge bg-primary me-1",children:["Ngày ",Mt.day]}),i.jsx("span",{children:$e?$e.name:`Place ${Mt.place_id}`}),Lt<ee[Qe.id].length-1&&i.jsx("i",{className:"bi bi-arrow-right ms-1",style:{fontSize:"0.7rem"}})]},Mt.id)})}):i.jsx("span",{className:"text-muted",children:"Chưa có địa điểm"})}),i.jsx("td",{children:Qe.total_cost?i.jsxs("span",{className:"fw-semibold text-success",children:[Qe.total_cost.toLocaleString("vi-VN")," VND"]}):i.jsx("span",{className:"text-muted",children:"Chưa có"})}),i.jsx("td",{children:i.jsxs("div",{className:"btn-group",role:"group",children:[i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>ht(Qe),children:"Sửa"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>ut(Qe.id),children:"Xóa"})]})})]},Qe.id))})]})})})]})]})})]}),i.jsxs(yt,{show:Ee,onHide:Jt,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Xác nhận xóa"})}),i.jsx(yt.Body,{children:"Bạn có chắc chắn muốn xóa tour này? Hành động này không thể hoàn tác."}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:Jt,children:"Hủy"}),i.jsx(Ut,{variant:"danger",className:"admin-btn-danger",onClick:Rt,children:"Xóa"})]})]})]})}function BX(){var _e,me;const[l,c]=I.useState([]),[s,o]=I.useState({total:0,pending:0,approved:0,rejected:0,cancelled:0}),[h,g]=I.useState(!0),[_,y]=I.useState(null),[v,N]=I.useState("all"),[S,D]=I.useState(!1),[j,B]=I.useState(null),[F,H]=I.useState(""),[$,K]=I.useState(""),[Q,ee]=I.useState(!1);I.useEffect(()=>{ne(),ce()},[v]);const ne=async()=>{try{g(!0);let Ee="http://localhost:3000/api/bookings/admin/all";v!=="all"&&(Ee=`http://localhost:3000/api/bookings/admin/status/${v}`);const Z=await kt.get(Ee);c(Z.data.data||[])}catch(Ee){console.error("Error fetching bookings:",Ee),y("Lỗi khi tải danh sách đặt tour")}finally{g(!1)}},ce=async()=>{try{const Ee=await kt.get("http://localhost:3000/api/bookings/admin/stats");o(Ee.data.data||{})}catch(Ee){console.error("Error fetching stats:",Ee)}},se=(Ee,Z)=>{B(Ee),H(Z),K(""),D(!0)},q=async()=>{if(j)try{ee(!0);let Ee="",Z={};switch(F){case"approve":Ee=`http://localhost:3000/api/bookings/admin/${j.id}/approve`,Z={admin_notes:$};break;case"reject":Ee=`http://localhost:3000/api/bookings/admin/${j.id}/reject`,Z={admin_notes:$};break;case"cancel":Ee=`http://localhost:3000/api/bookings/admin/${j.id}/cancel`,Z={admin_notes:$};break;default:return}(await kt.put(Ee,Z)).data.success&&(ne(),ce(),D(!1),B(null),H(""),K(""))}catch(Ee){console.error("Error processing action:",Ee),alert("Lỗi khi xử lý yêu cầu. Vui lòng thử lại.")}finally{ee(!1)}},ue=Ee=>{const fe={pending:{variant:"warning",text:"Chờ xử lý"},approved:{variant:"success",text:"Đã phê duyệt"},rejected:{variant:"danger",text:"Đã từ chối"},cancelled:{variant:"secondary",text:"Đã hủy"}}[Ee]||{variant:"light",text:Ee};return i.jsx(QO,{bg:fe.variant,children:fe.text})},oe=Ee=>new Date(Ee).toLocaleDateString("vi-VN"),be=Ee=>new Date(Ee).toLocaleString("vi-VN"),pe=Ee=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Ee),we=(Ee,Z=30)=>Ee?Ee.length<=Z?Ee:Ee.substring(0,Z)+"...":"N/A",je=Ee=>Ee.status==="pending"?i.jsxs("div",{className:"btn-group",role:"group",children:[i.jsx("button",{className:"btn btn-sm btn-success",onClick:()=>se(Ee,"approve"),title:"Phê duyệt",children:i.jsx("i",{className:"bi bi-check-circle"})}),i.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>se(Ee,"reject"),title:"Từ chối",children:i.jsx("i",{className:"bi bi-x-circle"})})]}):Ee.status!=="cancelled"?i.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:()=>se(Ee,"cancel"),title:"Hủy đặt tour",children:[i.jsx("i",{className:"bi bi-x-circle"})," Hủy"]}):null,ye=()=>{switch(F){case"approve":return"Phê duyệt đặt tour";case"reject":return"Từ chối đặt tour";case"cancel":return"Hủy đặt tour";default:return"Xử lý đặt tour"}},Me=()=>{switch(F){case"approve":return"Bạn có chắc chắn muốn phê duyệt đặt tour này?";case"reject":return"Bạn có chắc chắn muốn từ chối đặt tour này? Vui lòng cung cấp lý do.";case"cancel":return"Bạn có chắc chắn muốn hủy đặt tour này?";default:return""}},le=()=>F==="reject";return i.jsxs("div",{className:"admin-layout",children:[i.jsx(_d,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(vd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[i.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:i.jsxs("div",{className:"d-flex gap-2",children:[i.jsxs("select",{className:"form-select",value:v,onChange:Ee=>N(Ee.target.value),style:{width:"auto"},children:[i.jsxs("option",{value:"all",children:["Tất cả (",s.total,")"]}),i.jsxs("option",{value:"pending",children:["Chờ xử lý (",s.pending,")"]}),i.jsxs("option",{value:"approved",children:["Đã phê duyệt (",s.approved,")"]}),i.jsxs("option",{value:"rejected",children:["Đã từ chối (",s.rejected,")"]}),i.jsxs("option",{value:"cancelled",children:["Đã hủy (",s.cancelled,")"]})]}),i.jsx("button",{className:"btn btn-outline-primary",onClick:()=>{ne(),ce()},children:i.jsx("i",{className:"bi bi-arrow-clockwise"})})]})}),i.jsxs("div",{className:"row mb-4",children:[i.jsx("div",{className:"col-md-2",children:i.jsx("div",{className:"card text-center",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h5",{className:"card-title text-primary",children:s.total}),i.jsx("p",{className:"card-text small",children:"Tổng cộng"})]})})}),i.jsx("div",{className:"col-md-2",children:i.jsx("div",{className:"card text-center",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h5",{className:"card-title text-warning",children:s.pending}),i.jsx("p",{className:"card-text small",children:"Chờ xử lý"})]})})}),i.jsx("div",{className:"col-md-2",children:i.jsx("div",{className:"card text-center",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h5",{className:"card-title text-success",children:s.approved}),i.jsx("p",{className:"card-text small",children:"Đã phê duyệt"})]})})}),i.jsx("div",{className:"col-md-2",children:i.jsx("div",{className:"card text-center",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h5",{className:"card-title text-danger",children:s.rejected}),i.jsx("p",{className:"card-text small",children:"Đã từ chối"})]})})}),i.jsx("div",{className:"col-md-2",children:i.jsx("div",{className:"card text-center",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h5",{className:"card-title text-secondary",children:s.cancelled}),i.jsx("p",{className:"card-text small",children:"Đã hủy"})]})})})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Danh sách đặt tour"})}),i.jsx("div",{className:"card-body",children:h?i.jsx("div",{className:"text-center py-4",children:i.jsx("div",{className:"spinner-border",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):_?i.jsx(nv,{variant:"danger",children:_}):l.length===0?i.jsxs("div",{className:"text-center py-4",children:[i.jsx("i",{className:"bi bi-calendar-x text-muted",style:{fontSize:"3rem"}}),i.jsx("p",{className:"text-muted mt-2",children:"Không có đặt tour nào"})]}):i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-striped",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Người dùng"}),i.jsx("th",{children:"Tour"}),i.jsx("th",{children:"Ngày đi"}),i.jsx("th",{children:"Ngày về"}),i.jsx("th",{children:"Số chỗ"}),i.jsx("th",{children:"Tổng tiền"}),i.jsx("th",{children:"Trạng thái"}),i.jsx("th",{children:"Ngày tạo"}),i.jsx("th",{children:"Thao tác"})]})}),i.jsx("tbody",{children:l.map(Ee=>{var Z,fe,ke,Be,Ve;return i.jsxs("tr",{children:[i.jsx("td",{children:Ee.id}),i.jsx("td",{children:i.jsxs("div",{children:[i.jsx("div",{className:"fw-semibold",children:((Z=Ee.user)==null?void 0:Z.full_name)||"N/A"}),i.jsx("small",{className:"text-muted",children:((fe=Ee.user)==null?void 0:fe.email)||"N/A"})]})}),i.jsx("td",{children:i.jsxs("div",{children:[i.jsx("div",{className:"fw-semibold",title:(ke=Ee.tour)!=null&&ke.name&&Ee.tour.name.length>30?Ee.tour.name:"",style:{cursor:(Be=Ee.tour)!=null&&Be.name&&Ee.tour.name.length>30?"help":"default"},children:we((Ve=Ee.tour)==null?void 0:Ve.name)}),i.jsxs("small",{className:"text-muted",children:["ID: ",Ee.tour_id]})]})}),i.jsx("td",{children:oe(Ee.start_date)}),i.jsx("td",{children:oe(Ee.end_date)}),i.jsx("td",{children:Ee.spots}),i.jsx("td",{children:pe(Ee.total_price)}),i.jsx("td",{children:ue(Ee.status)}),i.jsx("td",{children:i.jsxs("div",{children:[i.jsx("div",{children:oe(Ee.created_at)}),i.jsx("small",{className:"text-muted",children:be(Ee.created_at).split(" ")[1]})]})}),i.jsx("td",{children:je(Ee)})]},Ee.id)})})]})})})]})]})})]}),i.jsxs(yt,{show:S,onHide:()=>D(!1),children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:ye()})}),i.jsxs(yt.Body,{children:[i.jsx("p",{children:Me()}),j&&i.jsxs("div",{className:"mb-3",children:[i.jsx("strong",{children:"Thông tin đặt tour:"}),i.jsxs("ul",{className:"mt-2",children:[i.jsxs("li",{children:["ID: ",j.id]}),i.jsxs("li",{children:["Người dùng: ",(_e=j.user)==null?void 0:_e.full_name]}),i.jsxs("li",{children:["Tour: ",((me=j.tour)==null?void 0:me.name)||"N/A"]}),i.jsxs("li",{children:["Ngày đi: ",oe(j.start_date)]}),i.jsxs("li",{children:["Ngày về: ",oe(j.end_date)]}),i.jsxs("li",{children:["Số chỗ: ",j.spots]}),i.jsxs("li",{children:["Tổng tiền: ",pe(j.total_price)]})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("label",{className:"form-label",children:["Ghi chú ",le()&&i.jsx("span",{className:"text-danger",children:"*"})]}),i.jsx("textarea",{className:"form-control",rows:"3",placeholder:F==="reject"?"Vui lòng nhập lý do từ chối...":"Ghi chú (tùy chọn)...",value:$,onChange:Ee=>K(Ee.target.value),required:le()})]})]}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:()=>D(!1),children:"Hủy"}),i.jsx(Ut,{variant:F==="approve"?"success":F==="reject"?"danger":"secondary",onClick:q,disabled:Q||le()&&!$.trim(),children:Q?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Đang xử lý..."]}):F==="approve"?"Phê duyệt":F==="reject"?"Từ chối":"Hủy"})]})]})]})}function PX(){const[l,c]=I.useState([]),[s,o]=I.useState(""),[h,g]=I.useState(null),[_,y]=I.useState(!1),[v,N]=I.useState(null);I.useEffect(()=>{S()},[]);const S=async()=>{const K=await KL();c(K.data)},D=async()=>{s.trim()&&(await AX({name:s}),o(""),S())},j=K=>{g(K.id),o(K.name),window.scrollTo({top:0,behavior:"smooth"})},B=async()=>{s.trim()&&(await NX(h,{name:s}),g(null),o(""),S())},F=async K=>{N(K),y(!0)},H=async()=>{if(v)try{await EX(v),S(),y(!1),N(null)}catch(K){console.error("Error deleting tag:",K)}},$=()=>{y(!1),N(null)};return i.jsxs("div",{className:"min-vh-100 d-flex flex-row",style:{background:"#f6f8fa"},children:[i.jsx(vd,{alwaysExpanded:!0}),i.jsxs("div",{className:"flex-grow-1 d-flex flex-column admin-dashboard",style:{marginLeft:220,minHeight:"100vh",padding:0,background:"#f6f8fa"},children:[i.jsx(_d,{}),i.jsx("main",{className:"flex-grow-1",style:{padding:0,maxWidth:"100%",width:"100%",margin:0},children:i.jsx("div",{className:"admin-dashboard-cards-row",children:i.jsxs("div",{className:"container py-4",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("input",{value:s,onChange:K=>o(K.target.value),className:"form-control mb-2",placeholder:"Tên thẻ"}),h?i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:B,className:"btn admin-main-btn me-2",children:"Cập nhật"}),i.jsx("button",{onClick:()=>{g(null),o("")},className:"btn admin-btn-secondary",children:"Hủy"})]}):i.jsx("button",{onClick:D,className:"btn admin-main-btn",children:"Thêm"})]}),i.jsxs("table",{className:"table table-bordered",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Tên thẻ"}),i.jsx("th",{children:"Hành động"})]})}),i.jsx("tbody",{children:l.map(K=>i.jsxs("tr",{children:[i.jsx("td",{children:K.id}),i.jsx("td",{children:K.name}),i.jsxs("td",{children:[i.jsx("button",{className:"btn admin-main-btn btn-sm me-2",onClick:()=>j(K),children:"Sửa"}),i.jsx("button",{className:"btn admin-btn-danger btn-sm",onClick:()=>F(K.id),children:"Xóa"})]})]},K.id))})]})]})})})]}),i.jsx("div",{className:`modal fade ${_?"show":""}`,style:{display:_?"block":"none"},tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content border-0 shadow-lg",children:[i.jsxs("div",{className:"modal-header bg-danger text-white",children:[i.jsxs("h5",{className:"modal-title",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),"Xác nhận xóa"]}),i.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:$})]}),i.jsx("div",{className:"modal-body",children:i.jsx("p",{className:"mb-0",children:"Bạn có chắc muốn xóa thẻ này? Hành động này không thể hoàn tác."})}),i.jsxs("div",{className:"modal-footer",children:[i.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:$,children:[i.jsx("i",{className:"bi bi-x-circle me-1"}),"Hủy"]}),i.jsxs("button",{type:"button",className:"btn btn-danger",onClick:H,children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xóa"]})]})]})})}),_&&i.jsx("div",{className:"modal-backdrop fade show"})]})}function RX(){const l={footerDescription:"Walking Guide là một trang web giúp bạn lên kế hoạch du lịch, và tìm kiếm các địa điểm du lịch gần bạn.",footerCopyright:`© ${new Date().getFullYear()} Walking Guide. Tất cả quyền được bảo lưu.`,contactEmail:"info@walkingguide.com",contactPhone:"+1 234 567 890",contactAddress:"Hà Nội, Việt Nam",facebookUrl:"https://facebook.com/walkingguide",instagramUrl:"https://instagram.com/walkingguide",twitterUrl:"https://twitter.com/walkingguide",youtubeUrl:"https://youtube.com/walkingguide"},[c,s]=I.useState(l),[o,h]=I.useState(!1),[g,_]=I.useState({type:"",message:""}),[y,v]=I.useState(!0);I.useEffect(()=>{let D=!0;return M5().then(j=>{D&&j.data&&j.data.success&&s({...l,...j.data.data})}).catch(()=>{_({type:"error",message:"Không thể tải cài đặt từ máy chủ."})}).finally(()=>v(!1)),()=>{D=!1}},[]);const N=(D,j)=>{s(B=>({...B,[D]:j}))},S=async()=>{h(!0),_({type:"",message:""});try{await D$(c),_({type:"success",message:"Cài đặt footer đã được lưu thành công!"}),setTimeout(()=>_({type:"",message:""}),2e3)}catch{_({type:"error",message:"Có lỗi xảy ra khi lưu cài đặt!"})}finally{h(!1)}};return y?i.jsx("div",{className:"admin-content",children:i.jsx("div",{className:"container-fluid py-5 text-center",children:"Đang tải cài đặt..."})}):i.jsxs("div",{className:"admin-layout",children:[i.jsx(_d,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(vd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[g.message&&i.jsxs("div",{className:`alert alert-${g.type==="success"?"success":"danger"} alert-dismissible fade show mb-4`,children:[g.message,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>_({type:"",message:""})})]}),i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Cài đặt"})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mô tả"}),i.jsx("textarea",{className:"form-control",value:c.footerDescription,onChange:D=>N("footerDescription",D.target.value),placeholder:"Mô tả hiển thị trong footer",rows:3})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Bản quyền"}),i.jsx("input",{className:"form-control",value:c.footerCopyright,onChange:D=>N("footerCopyright",D.target.value),placeholder:"© 2024 Walking Guide. Tất cả quyền được bảo lưu."})]}),i.jsx("hr",{className:"my-4"}),i.jsx("h5",{className:"mb-3",children:"Thông tin liên hệ & Mạng xã hội"}),i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-4 mb-3",children:[i.jsx("label",{className:"form-label",children:"Email"}),i.jsx("input",{className:"form-control",value:c.contactEmail,onChange:D=>N("contactEmail",D.target.value),placeholder:"info@walkingguide.com"})]}),i.jsxs("div",{className:"col-md-4 mb-3",children:[i.jsx("label",{className:"form-label",children:"Số điện thoại"}),i.jsx("input",{className:"form-control",value:c.contactPhone,onChange:D=>N("contactPhone",D.target.value),placeholder:"+1 234 567 890"})]}),i.jsxs("div",{className:"col-md-4 mb-3",children:[i.jsx("label",{className:"form-label",children:"Địa chỉ"}),i.jsx("input",{className:"form-control",value:c.contactAddress,onChange:D=>N("contactAddress",D.target.value),placeholder:"Hà Nội, Việt Nam"})]})]}),i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6 mb-3",children:[i.jsx("label",{className:"form-label",children:"Facebook URL"}),i.jsx("input",{className:"form-control",value:c.facebookUrl,onChange:D=>N("facebookUrl",D.target.value),placeholder:"https://facebook.com/walkingguide"})]}),i.jsxs("div",{className:"col-md-6 mb-3",children:[i.jsx("label",{className:"form-label",children:"Instagram URL"}),i.jsx("input",{className:"form-control",value:c.instagramUrl,onChange:D=>N("instagramUrl",D.target.value),placeholder:"https://instagram.com/walkingguide"})]}),i.jsxs("div",{className:"col-md-6 mb-3",children:[i.jsx("label",{className:"form-label",children:"Twitter URL"}),i.jsx("input",{className:"form-control",value:c.twitterUrl,onChange:D=>N("twitterUrl",D.target.value),placeholder:"https://twitter.com/walkingguide"})]}),i.jsxs("div",{className:"col-md-6 mb-3",children:[i.jsx("label",{className:"form-label",children:"YouTube URL"}),i.jsx("input",{className:"form-control",value:c.youtubeUrl,onChange:D=>N("youtubeUrl",D.target.value),placeholder:"https://youtube.com/walkingguide"})]})]}),i.jsx(Ut,{variant:"primary",className:"admin-main-btn",onClick:S,disabled:o,children:o?"Đang lưu...":"Lưu thay đổi"})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsxs("h5",{children:[i.jsx("i",{className:"bi bi-eye me-2"}),"Xem trước Footer"]})}),i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"preview-content",children:[i.jsx("p",{className:"text-muted mb-2",children:c.footerDescription}),i.jsx("p",{className:"text-muted small mb-0",children:c.footerCopyright}),i.jsxs("div",{className:"mt-2",children:[i.jsxs("span",{className:"me-3",children:[i.jsx("i",{className:"bi bi-envelope me-1"}),c.contactEmail]}),i.jsxs("span",{className:"me-3",children:[i.jsx("i",{className:"bi bi-telephone me-1"}),c.contactPhone]}),i.jsxs("span",{className:"me-3",children:[i.jsx("i",{className:"bi bi-geo-alt me-1"}),c.contactAddress]})]}),i.jsxs("div",{className:"mt-2",children:[c.facebookUrl&&i.jsx("a",{href:c.facebookUrl,target:"_blank",rel:"noopener noreferrer",className:"me-2",children:i.jsx("i",{className:"bi bi-facebook"})}),c.instagramUrl&&i.jsx("a",{href:c.instagramUrl,target:"_blank",rel:"noopener noreferrer",className:"me-2",children:i.jsx("i",{className:"bi bi-instagram"})}),c.twitterUrl&&i.jsx("a",{href:c.twitterUrl,target:"_blank",rel:"noopener noreferrer",className:"me-2",children:i.jsx("i",{className:"bi bi-twitter-x"})}),c.youtubeUrl&&i.jsx("a",{href:c.youtubeUrl,target:"_blank",rel:"noopener noreferrer",className:"me-2",children:i.jsx("i",{className:"bi bi-youtube"})})]})]})})]})]})})]})]})}function lu({children:l}){const{user:c}=I.useContext(cs);return c?l:i.jsx(J3,{to:"/login"})}function ld({children:l}){const{user:c}=I.useContext(cs);return(c==null?void 0:c.role)==="ADMIN"?l:i.jsx(J3,{to:"/"})}const Jg="https://walkingguide.onrender.com/api/articles",ZL={getAll:()=>kt.get(Jg),getById:l=>kt.get(`${Jg}/${l}`),create:l=>kt.post(Jg,l),update:(l,c)=>kt.put(`${Jg}/${l}`,c),delete:l=>kt.delete(`${Jg}/${l}`)},zX=[{value:"",label:"Chọn loại báo cáo"},{value:"spam",label:"Spam"},{value:"inappropriate",label:"Nội dung không phù hợp"},{value:"misinformation",label:"Thông tin sai lệch"},{value:"copyright",label:"Vi phạm bản quyền"},{value:"other",label:"Khác"}],FX=({open:l,onClose:c,onSubmit:s,submitting:o,error:h,success:g})=>{const[_,y]=I.useState(""),[v,N]=I.useState(""),[S,D]=I.useState("");I.useEffect(()=>{l||(y(""),N(""),D(""))},[l]);const j=B=>{if(B.preventDefault(),!_){D("Vui lòng chọn loại báo cáo.");return}if(!v.trim()){D("Vui lòng nhập lý do báo cáo.");return}D(""),s({type:_,reason:v})};return i.jsxs(yt,{show:l,onHide:c,centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Báo cáo bài viết"})}),i.jsxs(yt.Body,{children:[g&&i.jsx(nv,{variant:"success",children:"Báo cáo của bạn đã được gửi!"}),h&&i.jsx(nv,{variant:"danger",children:h}),S&&i.jsx(nv,{variant:"warning",children:S}),i.jsxs("form",{onSubmit:j,children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Loại báo cáo"}),i.jsx("div",{children:zX.filter(B=>B.value).map(B=>i.jsxs("div",{className:"form-check form-check-inline",children:[i.jsx("input",{className:"form-check-input",type:"radio",name:"reportType",id:`report-type-${B.value}`,value:B.value,checked:_===B.value,onChange:F=>y(F.target.value),disabled:o||g}),i.jsx("label",{className:"form-check-label",htmlFor:`report-type-${B.value}`,children:B.label})]},B.value))})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Lý do báo cáo"}),i.jsx("textarea",{className:"form-control",value:v,onChange:B=>N(B.target.value),placeholder:"Mô tả lý do bạn muốn báo cáo bài viết này...",rows:4,disabled:o||g})]}),i.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[i.jsx(Ut,{variant:"secondary",onClick:c,disabled:o||g,children:"Hủy"}),i.jsx(Ut,{type:"submit",variant:"danger",disabled:o||g,children:o?i.jsx(N5,{animation:"border",size:"sm"}):"Gửi báo cáo"})]})]})]})]})},VX=`
  .highlight-comment {
    background:rgb(117, 189, 249) !important;
    animation: highlight-comment 0.5s ease-in-out;
  }
`,C3=()=>{const[l,c]=I.useState(null),[s,o]=I.useState(!0),[h,g]=I.useState(null),[_,y]=I.useState(null),[v,N]=I.useState([]),{id:S}=wb(),D=ba(),{user:j}=tt.useContext(cs),[B,F]=I.useState(0),[H,$]=I.useState(!1),[K,Q]=I.useState([]),[ee,ne]=I.useState(""),[ce,se]=I.useState(!1),[q,ue]=I.useState(""),[oe,be]=I.useState({}),[pe,we]=I.useState(null),[je,ye]=I.useState(""),Me=Vl(),[le,_e]=I.useState(!1),[me,Ee]=I.useState(!1),[Z,fe]=I.useState(null),[ke,Be]=I.useState(!1);I.useEffect(()=>{if(!S||isNaN(S)){g("ID bài viết không hợp lệ"),o(!1);return}const rt=async()=>{try{const ht=`http://localhost:3000/api/articles/${S}`,ze=await fetch(ht,{method:"GET",headers:{Accept:"application/json"}});if(!ze.ok){const Jt=await ze.text();throw new Error(`Lỗi ${ze.status}: ${Jt||ze.statusText}`)}const ut=ze.headers.get("Content-Type");if(!ut||!ut.includes("application/json")){const Jt=await ze.text();throw new Error(`Response không phải JSON: ${Jt.slice(0,100)}...`)}const Rt=await ze.json();c(Rt),Ye(Rt.admin_id),o(!1)}catch(ht){g(`Lỗi khi gọi API: ${ht.message}`),o(!1)}},Ye=async ht=>{try{const ut=(await Am.getAll()).data.find(Rt=>Rt.id===ht||Rt.id===Number(ht));y(ut)}catch{y(null)}};rt(),(async()=>{try{let ze=(await ZL.getAll()).data||[];ze=ze.filter(ut=>ut.article_id!==Number(S)),ze.sort((ut,Rt)=>new Date(Rt.published_at)-new Date(ut.published_at)),N(ze)}catch{N([])}})(),S&&(fetch(`http://localhost:3000/api/article-likes/${S}/likes`).then(ht=>ht.json()).then(ht=>F(ht.count||0)),j?fetch(`http://localhost:3000/api/article-likes/is-liked?article_id=${S}&user_id=${j.id}`).then(ht=>ht.json()).then(ht=>$(!!ht.liked)):$(!1),fetch(`http://localhost:3000/api/article-comments/${S}`).then(ht=>ht.json()).then(ht=>Q(Array.isArray(ht)?ht:[])),Am.getAll().then(ht=>{const ze={};(ht.data||[]).forEach(ut=>{ze[ut.id]=ut.full_name||`User #${ut.id}`}),be(ze)}))},[S,j]),I.useEffect(()=>{if(Me.hash.startsWith("#comment-")&&K.length>0){const rt=Me.hash.replace("#comment-",""),Ye=document.getElementById(`comment-${rt}`);Ye&&(Ye.scrollIntoView({behavior:"smooth",block:"center"}),Ye.classList.add("highlight-comment"),setTimeout(()=>Ye.classList.remove("highlight-comment"),2e3))}},[Me,K]);const Ve=async()=>{if(!j)return;await fetch(`http://localhost:3000/api/article-likes/${H?"unlike":"like"}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({article_id:S,user_id:j.id})}),$(!H),F(B+(H?-1:1))},nt=async rt=>{if(rt.preventDefault(),!(!j||!ee.trim())){se(!0),ue("");try{if(!(await fetch("http://localhost:3000/api/article-comments/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({article_id:S,user_id:j.id,content:ee})})).ok)throw new Error("Lỗi khi gửi bình luận");ne(""),fetch(`http://localhost:3000/api/article-comments/${S}`).then(Te=>Te.json()).then(Te=>Q(Array.isArray(Te)?Te:[]))}catch(Ye){ue(Ye.message)}finally{se(!1)}}},te=rt=>{we(rt.id),ye(rt.content)},Ce=()=>{we(null),ye("")},qe=async rt=>{if(je.trim()){se(!0),ue("");try{if(!(await fetch(`http://localhost:3000/api/article-comments/${rt.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:je,user_id:j.id})})).ok)throw new Error("Lỗi khi sửa bình luận");we(null),ye(""),fetch(`http://localhost:3000/api/article-comments/${S}`).then(Te=>Te.json()).then(Te=>Q(Array.isArray(Te)?Te:[]))}catch(Ye){ue(Ye.message)}finally{se(!1)}}},Ke=async rt=>{if(window.confirm("Bạn có chắc muốn xóa bình luận này?")){se(!0),ue("");try{if(!(await fetch(`http://localhost:3000/api/article-comments/${rt.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:j.id})})).ok)throw new Error("Lỗi khi xóa bình luận");fetch(`http://localhost:3000/api/article-comments/${S}`).then(Te=>Te.json()).then(Te=>Q(Array.isArray(Te)?Te:[]))}catch(Ye){ue(Ye.message)}finally{se(!1)}}};if(s)return i.jsx("div",{className:"flex justify-center items-center h-screen",children:i.jsx("p",{className:"text-xl text-gray-600",children:"Đang tải..."})});if(h)return i.jsx("div",{className:"flex justify-center items-center h-screen",children:i.jsx("p",{className:"text-xl text-red-600",children:h})});function Ie(rt,Ye){const Te=[];for(let ht=0;ht<rt.length;ht+=Ye)Te.push(rt.slice(ht,ht+Ye));return Te}return i.jsxs("div",{className:"min-vh-100 d-flex flex-column luxury-home-container",children:[i.jsx(Lr,{}),i.jsx("main",{className:"flex-grow-1",children:i.jsx("div",{className:"container mx-auto p-4 max-w-3xl",children:i.jsxs("div",{style:{background:"rgba(245, 250, 255, 0.95)",borderRadius:"1.5rem",boxShadow:"0 4px 24px 0 rgba(31, 38, 135, 0.10)",padding:"2.5rem 2rem",margin:"2rem 0"},children:[l&&i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[i.jsx("h2",{style:{margin:0},children:l.title}),j&&i.jsx("button",{onClick:()=>_e(!0),className:"btn btn-outline-danger btn-sm",children:"Báo cáo"})]}),l.published_at&&i.jsxs("div",{className:"text-center text-muted mb-2",style:{fontSize:"1rem"},children:["Đăng ngày: ",new Date(l.published_at).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),l.image_url&&i.jsx("div",{className:"d-flex justify-content-center mb-4",children:i.jsx("img",{src:l.image_url.startsWith("http")?l.image_url:`http://localhost:3000${l.image_url}`,alt:l.title,style:{maxWidth:"420px",maxHeight:"260px",width:"100%",objectFit:"cover",borderRadius:"1rem",boxShadow:"0 2px 12px #b6e0fe55"}})}),i.jsxs("div",{className:"text-gray-600 mb-4 d-flex flex-wrap gap-4 justify-content-center align-items-center",style:{fontSize:"1.05rem"},children:[i.jsxs("span",{className:"d-flex align-items-center gap-2",children:["Người đăng: ",i.jsx("b",{children:_?_.full_name:"Admin"})]}),i.jsx("span",{className:"d-flex align-items-center gap-2 ms-3",children:i.jsxs("button",{className:`btn btn-sm ${H?"btn-danger":"btn-outline-danger"}`,onClick:Ve,disabled:!j,title:j?H?"Bỏ thích":"Thích bài viết":"Đăng nhập để thích",style:{minWidth:40},children:[i.jsx("i",{className:`bi ${H?"bi-heart-fill":"bi-heart"}`}),i.jsx("span",{className:"ms-1",children:B})]})})]}),i.jsx("div",{className:"prose prose-lg mb-4",style:{color:"#223a5f",fontSize:"1.15rem",lineHeight:1.7},children:i.jsx("div",{dangerouslySetInnerHTML:{__html:l.content}})}),i.jsxs("div",{className:"mt-5",children:[i.jsxs("h4",{className:"fw-bold mb-3",children:["Bình luận (",K.length,")"]}),j?i.jsxs("form",{className:"mb-3 d-flex gap-2",onSubmit:nt,children:[i.jsx("input",{type:"text",className:"form-control",placeholder:"Viết bình luận...",value:ee,onChange:rt=>ne(rt.target.value),disabled:ce}),i.jsx("button",{className:"btn btn-main",type:"submit",disabled:ce||!ee.trim(),children:ce?i.jsx("i",{className:"bi bi-send fa-spin"}):i.jsx("i",{className:"bi bi-send"})})]}):i.jsx("div",{className:"alert alert-warning",children:"Bạn cần đăng nhập để bình luận."}),q&&i.jsx("div",{className:"alert alert-danger",children:q}),i.jsx("div",{className:"comments-list",children:K.length===0?i.jsx("div",{className:"text-muted",children:"Chưa có bình luận nào."}):K.map((rt,Ye)=>i.jsxs("div",{id:`comment-${rt.id}`,className:"mb-3 p-2 bg-light rounded",children:[i.jsxs("b",{children:[rt.user_id&&oe[rt.user_id]?oe[rt.user_id]:"Ẩn danh",":"]})," ",pe===rt.id?i.jsxs(i.Fragment,{children:[i.jsx("input",{type:"text",className:"form-control d-inline-block w-auto",value:je,onChange:Te=>ye(Te.target.value),disabled:ce,style:{maxWidth:300,marginRight:8}}),i.jsx("button",{className:"btn btn-success btn-sm me-1",onClick:()=>qe(rt),disabled:ce||!je.trim(),children:"Lưu"}),i.jsx("button",{className:"btn btn-secondary btn-sm",onClick:Ce,disabled:ce,children:"Hủy"})]}):i.jsxs(i.Fragment,{children:[rt.content,j&&rt.user_id===j.id&&i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"btn btn-link btn-sm text-primary ms-2 text-decoration-none",onClick:()=>te(rt),disabled:ce,children:"Sửa"}),i.jsx("button",{className:"btn btn-link btn-sm text-danger text-decoration-none",onClick:()=>Ke(rt),disabled:ce,children:"Xóa"})]})]}),i.jsx("div",{className:"text-muted small",children:rt.created_at?new Date(rt.created_at).toLocaleString("vi-VN"):""})]},rt.id||Ye))})]}),i.jsx("div",{className:"d-flex justify-content-center",children:i.jsx("button",{onClick:()=>D(-1),className:"mt-6 btn btn-main",style:{minWidth:140},children:"Quay lại"})})]})})}),i.jsxs("div",{className:"container my-5",children:[i.jsx("h2",{className:"h4 mb-4 fw-bold luxury-section-title",children:"Bài viết khác"}),v.length===0?i.jsx("p",{className:"text-muted text-center",children:"Không có bài viết nào để hiển thị."}):i.jsxs("div",{id:"articlesCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[i.jsx("div",{className:"carousel-inner",children:Ie(v,3).map((rt,Ye)=>i.jsx("div",{className:`carousel-item${Ye===0?" active":""}`,children:i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 justify-content-center",children:rt.map(Te=>i.jsx("div",{className:"col",children:i.jsx("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:i.jsxs(en,{to:`/articles/${Te.article_id}`,className:"text-decoration-none",children:[Te.image_url&&i.jsx("img",{src:Te.image_url.startsWith("http")?Te.image_url:`http://localhost:3000${Te.image_url}`,alt:Te.title,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover",borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem"}}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:Te.title}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:Te.content?`${Te.content.replace(/<[^>]+>/g,"").substring(0,100)}...`:"Chưa có nội dung"})]})]})})},Te.article_id))})},rt.map(Te=>Te.article_id).join("-")))}),v.length>3&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#articlesCarousel","data-bs-slide":"prev",style:{width:"5rem",height:"5rem",top:"50%",left:"-4rem",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Previous"})]}),i.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#articlesCarousel","data-bs-slide":"next",style:{width:"5rem",height:"5rem",top:"50%",right:"-4rem",left:"auto",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Next"})]})]})]})]}),i.jsx(qr,{}),i.jsx("style",{children:VX}),i.jsx(FX,{open:le,onClose:()=>{_e(!1),fe(null),Be(!1)},onSubmit:async({type:rt,reason:Ye})=>{Ee(!0),fe(null),Be(!1);try{const Te=await fetch(`http://localhost:3000/api/articles/${S}/report`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j==null?void 0:j.token}`},body:JSON.stringify({type:rt,reason:Ye})});if(!Te.ok){const ht=await Te.json().catch(()=>({}));throw new Error(ht.message||"Gửi báo cáo thất bại")}Be(!0),setTimeout(()=>_e(!1),1500)}catch(Te){fe(Te.message)}finally{Ee(!1)}},submitting:me,error:Z,success:ke}),ke&&i.jsx("div",{style:{color:"green",marginTop:8},children:"Report submitted!"}),Z&&i.jsx("div",{style:{color:"red",marginTop:8},children:Z})]})},XL=({id:l,type:c="place"})=>{const{user:s}=Ab(),[o,h]=I.useState(!1),[g,_]=I.useState(0),[y,v]=I.useState(!1);I.useEffect(()=>{if(!l)return;const S=c==="tour"?"tour-likes":"place-likes";Ft.get(`${S}/count`,{params:{[`${c}_id`]:l}}).then(D=>_(D.data.count)).catch(D=>{D.response&&D.response.status===404&&_(0)}),s&&Ft.get(`${S}/is-liked`,{params:{[`${c}_id`]:l}}).then(D=>h(D.data.liked)).catch(D=>{D.response&&D.response.status===404&&h(!1)})},[l,s,c]);const N=async()=>{if(!s)return alert("Bạn cần đăng nhập để thích!");v(!0);const S=c==="tour"?"tour-likes":"place-likes";try{o?(await Ft.post(`${S}/unlike`,{[`${c}_id`]:l}),h(!1),_(D=>D-1)):(await Ft.post(`${S}/like`,{[`${c}_id`]:l}),h(!0),_(D=>D+1))}catch{alert("Có lỗi khi cập nhật lượt thích.")}v(!1)};return i.jsxs("button",{className:`btn btn-sm d-flex align-items-center gap-1 shadow-sm px-3 py-2 ${o?"btn-primary":"btn-outline-danger"}`,onClick:N,disabled:y,style:{borderRadius:24,fontWeight:600,fontSize:16,transition:"all 0.2s"},children:[i.jsx(JW,{style:{color:o?"#e74c3c":"#aaa",transition:"color 0.2s",filter:o?"drop-shadow(0 0 6px #e74c3c88)":"none",transform:o?"scale(1.2)":"scale(1)"}}),i.jsx("span",{style:{minWidth:24,textAlign:"center"},children:g})]})},HX=({placeId:l})=>{const{user:c}=Ab(),[s,o]=I.useState([]),[h,g]=I.useState(""),[_,y]=I.useState(!1),v=async()=>{try{const D=await Ft.get(`comments/place/${l}`);o(Array.isArray(D.data)?D.data:[])}catch{o([])}};I.useEffect(()=>{l&&v()},[l]);const N=async D=>{if(D.preventDefault(),!c)return alert("Bạn cần đăng nhập để bình luận!");if(h.trim()){y(!0);try{await Ft.post("comments",{place_id:l,user_id:c.id,content:h}),g(""),v()}catch{alert("Có lỗi khi gửi bình luận.")}y(!1)}},S=async D=>{if(window.confirm("Xóa bình luận này?")){y(!0);try{await Ft.delete(`comments/${D}`),v()}catch{alert("Không thể xóa bình luận.")}y(!1)}};return i.jsxs("div",{className:"comment-section mt-3",children:[i.jsx("h6",{className:"fw-bold mb-2",style:{color:"#3498db"},children:"Bình luận"}),i.jsxs("form",{onSubmit:N,className:"mb-2 d-flex gap-2",children:[i.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Viết bình luận...",value:h,onChange:D=>g(D.target.value),disabled:_,style:{borderRadius:16,border:"1px solid #b6e0fe"}}),i.jsx("button",{className:"btn btn-primary btn-sm px-3",type:"submit",disabled:_||!h.trim(),style:{borderRadius:16},children:"Gửi"})]}),i.jsxs("div",{className:"comments-list",children:[(!Array.isArray(s)||s.length===0)&&i.jsx("div",{className:"text-muted",children:"Chưa có bình luận."}),Array.isArray(s)&&s.map(D=>i.jsxs("div",{className:"border rounded p-2 mb-2 bg-light d-flex justify-content-between align-items-center shadow-sm",style:{borderRadius:14},children:[i.jsxs("div",{children:[i.jsxs("span",{className:"fw-bold",style:{color:"#1a2a47"},children:[D.user_full_name||`Người dùng #${D.comment_user_id||D.user_id}`,":"]})," ",D.comment_content||D.content]}),c&&(c.id===D.comment_user_id||c.id===D.user_id)&&i.jsx("button",{className:"btn btn-link text-danger btn-sm text-decoration-none",onClick:()=>S(D.comment_id||D.id),children:"Xóa"})]},D.comment_id||D.id))]})]})},JL="https://walkingguide.onrender.com";delete sr.Icon.Default.prototype._getIconUrl;sr.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const $C=l=>{if(l.image_url){const o=l.image_url.startsWith("http")?l.image_url:`${JL}${l.image_url}`;return new sr.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          overflow: hidden;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
          <img 
            src="${o}" 
            alt="${l.name}"
            style="
              width: 100%;
              height: 100%;
              margin-left: 11px;
              object-fit: cover;
            "
            onerror="this.style.display='none'; this.parentElement.innerHTML='<i class=\\"bi bi-geo-alt-fill\\" style=\\"font-size: 20px; color: #3498db;\\"></i>';"
          />
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})}else return new sr.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
                          <i className="bi bi-geo-alt-fill" style="fontSize: 24, color: '#3498db'"></i>
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})},ep="5ae2e3f221c38a28845f05b61952da66ed7231df6303c387c3d2a08c",tp="https://api.opentripmap.com/0.1/en/places",A3=new sr.Icon({iconUrl:tw,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]}),N3=new sr.Icon({iconUrl:nw,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]}),UX=()=>{var nt;const[l,c]=I.useState(null),[s,o]=I.useState(!0),[h,g]=I.useState(null),[_,y]=I.useState(!1),{id:v}=wb(),N=ba(),[S,D]=I.useState([]),[j,B]=I.useState([]),[F,H]=I.useState(null),[$,K]=I.useState([]),[Q,ee]=I.useState(null),[ne,ce]=I.useState(!1),[se,q]=I.useState(null),[ue,oe]=I.useState([]),[be,pe]=I.useState([]),[we,je]=I.useState(!1),[ye,Me]=I.useState(null),[le,_e]=I.useState({}),[me,Ee]=I.useState([]),[Z,fe]=I.useState([]);I.useEffect(()=>{(async()=>{try{const Ke=await Ft.get(`/places/${v}`);if(Ke.status!==200)throw new Error("Không tìm thấy địa điểm");const Ie=Ke.data;c(Ie),o(!1)}catch(Ke){g(Ke.message),o(!1)}})(),Ft.get("/places").then(Ke=>K(Ke.data)).catch(()=>K([]));const Ce=async()=>{try{const Ke=await Ft.get("/hotels");Ee(Ke.data.data||Ke.data)}catch{Ee([])}},qe=async()=>{try{const Ke=await Ft.get("/restaurants");fe(Ke.data.data||Ke.data)}catch{fe([])}};Ce(),qe()},[v]),I.useEffect(()=>{if(!l)return;(async()=>{try{const qe=(await Ft.get("/tours")).data;let Ke=null,Ie=[],rt=1/0;for(const Ye of qe){const ht=(await Ft.get(`/tour-steps/by-tour/${Ye.id}`)).data;if(ht.some(ut=>ut.place_id===l.id)&&ht.length>0){const ut=ht[0],Jt=(await Ft.get(`/places/${ut.place_id}`)).data,ot=Math.sqrt(Math.pow(l.latitude-Jt.latitude,2)+Math.pow(l.longitude-Jt.longitude,2));ot<rt&&(rt=ot,Ke=Ye,Ie=ht)}}if(Ie.length>0){const Ye=await Promise.all(Ie.map(Te=>Ft.get(`/places/${Te.place_id}`).then(ht=>ht.data)));D(Ie),B(Ye),H(Ke)}else D([]),B([]),H(null)}catch{D([]),B([]),H(null)}})()},[l]),I.useEffect(()=>{const te=Ce=>{Ce.key==="Escape"&&_&&y(!1)};return document.addEventListener("keydown",te),()=>{document.removeEventListener("keydown",te)}},[_]);const ke=te=>{const Ce=document.createElement("div");return Ce.innerHTML=te,Ce.textContent||Ce.innerText||""},Be=I.useCallback(async te=>{if(te){ce(!0),q(null),ee(null);try{let Ce=null;const qe=Ke=>/^[\x00-\x7F]*$/.test(Ke);if(te.name&&qe(te.name)){let Ke=te.name;te.city&&!te.name.includes(te.city)&&!/phường|quận|tỉnh|việt|nam|vn|,|huyện/i.test(te.city)&&(Ke+=`, ${te.city}`),Ke=encodeURIComponent(Ke);const Ie=`${tp}/autosuggest?query=${Ke}&apikey=${ep}`,rt=await fetch(Ie);if(rt.status===429){q("Bạn đã gửi quá nhiều yêu cầu tới OpenTripMap. Vui lòng thử lại sau."),ee(null),ce(!1);return}if(rt.status!==400){const Ye=await rt.json();Ye&&Ye.features&&Ye.features.length>0&&(Ce=Ye.features[0])}}if(!Ce&&te.latitude&&te.longitude){const Ie=`${tp}/radius?radius=200&lon=${te.longitude}&lat=${te.latitude}&apikey=${ep}`,Ye=await(await fetch(Ie)).json();if(Ye.features&&Ye.features.length>0){const Te=ht=>ht==null?void 0:ht.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"");Ce=Ye.features.find(ht=>Te(ht.properties.name)===Te(te.name)),Ce||(Ce=Ye.features[0])}}if(Ce&&Ce.properties&&Ce.properties.xid){const Ke=`${tp}/xid/${Ce.properties.xid}?apikey=${ep}`,rt=await(await fetch(Ke)).json();ee(rt)}else ee(null)}catch{q("Không thể tải thông tin từ OpenTripMap"),ee(null)}finally{ce(!1)}}},[]),Ve=I.useCallback(async te=>{if(!(!te||!te.latitude||!te.longitude)){je(!0),Me(null),_e({});try{const Ce=`${tp}/radius?radius=500&lon=${te.longitude}&lat=${te.latitude}&kinds=restaurants&limit=2&apikey=${ep}`,Ie=(await(await fetch(Ce)).json()).features||[];oe(Ie);const rt=`${tp}/radius?radius=500&lon=${te.longitude}&lat=${te.latitude}&kinds=accomodations&limit=2&apikey=${ep}`,Ye=await fetch(rt);if(Ye.status===429){Me("Bạn đã gửi quá nhiều yêu cầu tới OpenTripMap. Vui lòng thử lại sau."),pe([]),je(!1);return}const ht=(await Ye.json()).features||[];pe(ht);const ze=[...Ie,...ht],ut={};for(const Rt of ze)if(Rt.properties&&Rt.properties.xid){const Jt=`otm_detail_${Rt.properties.xid}`;let ot=null;const jt=localStorage.getItem(Jt);if(jt)ot=JSON.parse(jt);else{try{ot=await(await fetch(`${tp}/xid/${Rt.properties.xid}?apikey=${ep}`)).json(),localStorage.setItem(Jt,JSON.stringify(ot))}catch{}await new Promise(Dt=>setTimeout(Dt,2e3))}ut[Rt.properties.xid]=ot}_e(ut)}catch{Me("Không thể tải nhà hàng/khách sạn lân cận"),oe([]),pe([]),_e({})}finally{je(!1)}}},[]);return I.useEffect(()=>{l&&Be(l)},[l,Be]),I.useEffect(()=>{l&&Ve(l)},[l,Ve]),s?i.jsx("div",{className:"min-vh-100 d-flex align-items-center justify-content-center",style:{background:"linear-gradient(90deg, #2196f3, #64b5f6)"},children:i.jsxs("div",{className:"text-center text-white",children:[i.jsx("div",{className:"spinner-border mb-3",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("h4",{children:"Đang tải thông tin địa điểm..."})]})}):h?i.jsx("div",{className:"min-vh-100 d-flex align-items-center justify-content-center",style:{background:"linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%)"},children:i.jsxs("div",{className:"text-center text-white",children:[i.jsx("i",{className:"bi bi-exclamation-triangle display-1 mb-3"}),i.jsx("h4",{children:h}),i.jsxs("button",{onClick:()=>N(-1),className:"btn btn-light mt-3",children:[i.jsx("i",{className:"bi bi-arrow-left me-2"}),"Quay lại"]})]})}):i.jsxs("div",{className:"min-vh-100 d-flex flex-column",style:{background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)"},children:[i.jsx(Lr,{}),i.jsx("main",{className:"flex-grow-1",children:i.jsx("div",{className:"container-fluid p-0",children:i.jsx("div",{className:"row g-0",children:i.jsx("div",{className:"col-12",children:i.jsxs("div",{className:"place-detail-map-container",children:[i.jsx("div",{className:"map-background",children:i.jsxs(hb,{center:[parseFloat(l.latitude),parseFloat(l.longitude)],zoom:16,className:"detail-map",zoomControl:!0,children:[i.jsx(mb,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),j.map((te,Ce)=>i.jsx(ao,{position:[parseFloat(te.latitude),parseFloat(te.longitude)],icon:$C(te.id===l.id?{...te}:te),children:i.jsx(lo,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("h5",{className:"text-primary mb-2",children:te.name}),te.address&&i.jsx("p",{className:"mb-1 small",children:te.address}),te.city&&i.jsx("p",{className:"mb-0 text-muted small",children:te.city})]})})},te.id)),j.length===0&&i.jsx(ao,{position:[parseFloat(l.latitude),parseFloat(l.longitude)],icon:$C(l),children:i.jsx(lo,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("h5",{className:"text-primary mb-2",children:l.name}),l.address&&i.jsx("p",{className:"mb-1 small",children:l.address}),l.city&&i.jsx("p",{className:"mb-0 text-muted small",children:l.city})]})})}),$.filter(te=>!j.some(Ce=>Ce.id===te.id)).map(te=>i.jsx(ao,{position:[parseFloat(te.latitude),parseFloat(te.longitude)],icon:$C(te),children:i.jsx(lo,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("h5",{className:"text-primary mb-2",children:te.name}),te.address&&i.jsx("p",{className:"mb-1 small",children:te.address}),te.city&&i.jsx("p",{className:"mb-0 text-muted small",children:te.city})]})})},te.id)),me.filter(te=>te.latitude&&te.longitude).map(te=>i.jsx(ao,{position:[te.latitude,te.longitude],icon:A3,children:i.jsx(lo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:te.name}),i.jsx("br",{}),te.address&&i.jsxs("span",{children:[te.address,i.jsx("br",{})]}),te.city&&i.jsxs("span",{children:[te.city,i.jsx("br",{})]}),te.price_range&&i.jsxs("span",{children:["Giá: ",te.price_range,i.jsx("br",{})]}),te.rating&&i.jsxs("span",{children:["Đánh giá: ",te.rating.toFixed(1)," / 5"]})]})})},`hotel-backend-${te.id}`)),Z.filter(te=>te.latitude&&te.longitude).map(te=>i.jsx(ao,{position:[te.latitude,te.longitude],icon:N3,children:i.jsx(lo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:te.name}),i.jsx("br",{}),te.address&&i.jsxs("span",{children:[te.address,i.jsx("br",{})]}),te.city&&i.jsxs("span",{children:[te.city,i.jsx("br",{})]}),te.price_range&&i.jsxs("span",{children:["Giá: ",te.price_range,i.jsx("br",{})]}),te.rating&&i.jsxs("span",{children:["Đánh giá: ",te.rating.toFixed(1)," / 5"]})]})})},`restaurant-backend-${te.id}`)),be.filter(te=>te.geometry&&te.geometry.coordinates).map((te,Ce)=>i.jsx(ao,{position:[te.geometry.coordinates[1],te.geometry.coordinates[0]],icon:A3,children:i.jsx(lo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:te.properties.name||"Khách sạn lân cận"}),i.jsx("br",{}),te.properties.address&&i.jsxs("span",{children:[Object.values(te.properties.address).join(", "),i.jsx("br",{})]})]})})},`hotel-otm-${te.properties.xid}`)),ue.filter(te=>te.geometry&&te.geometry.coordinates).map((te,Ce)=>i.jsx(ao,{position:[te.geometry.coordinates[1],te.geometry.coordinates[0]],icon:N3,children:i.jsx(lo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:te.properties.name||"Nhà hàng lân cận"}),i.jsx("br",{}),te.properties.address&&i.jsxs("span",{children:[Object.values(te.properties.address).join(", "),i.jsx("br",{})]})]})})},`restaurant-otm-${te.properties.xid}`))]})}),i.jsx("div",{className:`info-overlay ${_?"expanded":""}`,children:i.jsx("div",{className:"overlay-content",children:i.jsx("div",{className:"tab-content",children:i.jsxs("div",{className:"place-basic-info",children:[l.image_url&&i.jsxs("div",{className:"position-relative",style:{height:"250px"},children:[i.jsx("img",{src:l.image_url.startsWith("http")?l.image_url:`${JL}${l.image_url}`,alt:l.name,className:"w-100 h-100",style:{objectFit:"cover"},onError:te=>{te.target.src="/default-place.jpg"}}),i.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"linear-gradient(180deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.4) 100%)"}}),i.jsxs("div",{className:"position-absolute bottom-0 start-0 w-100 p-3",children:[i.jsx("h2",{className:"text-white fw-bold mb-2 text-shadow",style:{fontSize:"1.8rem"},children:l.name}),i.jsxs("div",{className:"d-flex flex-wrap gap-2 align-items-center",children:[l.city&&i.jsxs("span",{className:"badge bg-primary bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),l.city]}),i.jsxs("span",{className:"badge bg-warning bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-star-fill me-1"}),(nt=l.rating)!=null&&nt.toFixed?l.rating.toFixed(1):l.rating,"/5"]})]})]})]}),i.jsx("div",{className:"d-flex justify-content-end pe-3",children:i.jsxs("button",{className:"btn btn-primary btn-sm rounded-pill",style:{fontSize:"0.8rem"},title:_?"Thu nhỏ thông tin":"Mở rộng thông tin",onClick:()=>y(!_),children:[i.jsx("i",{className:`bi ${_?"bi-arrows-collapse":"bi-arrows-expand"} me-1`}),_?"Xem bản đồ":"Xem thêm"]})}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"row g-3 mb-4",children:[l.address&&i.jsx("div",{className:"col-12",children:i.jsxs("div",{className:"d-flex align-items-center p-3 bg-light rounded-3",children:[i.jsx("div",{className:"bg-primary bg-opacity-10 p-2 rounded-circle me-3",children:i.jsx("i",{className:"bi bi-house text-primary"})}),i.jsxs("div",{children:[i.jsx("small",{className:"text-muted d-block",children:"Địa chỉ"}),i.jsx("strong",{className:"text-dark",children:l.address})]})]})}),l.opening_hours&&i.jsx("div",{className:"col-12",children:i.jsxs("div",{className:"d-flex align-items-center p-3 bg-light rounded-3",children:[i.jsx("div",{className:"bg-success bg-opacity-10 p-2 rounded-circle me-3",children:i.jsx("i",{className:"bi bi-clock text-success"})}),i.jsxs("div",{children:[i.jsx("small",{className:"text-muted d-block",children:"Giờ mở cửa"}),i.jsx("strong",{className:"text-dark",children:l.opening_hours})]})]})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"text-primary mb-3",children:[i.jsx("i",{className:"bi bi-info-circle me-2"}),"Mô tả"]}),i.jsx("div",{className:"p-3 bg-light rounded-3 description-text",style:{fontSize:"0.95rem",maxHeight:"150px",overflowY:"auto"},children:i.jsx("div",{children:ke(l.description)})})]}),l.service&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"text-primary mb-3",children:[i.jsx("i",{className:"bi bi-activity me-2"}),"Dịch vụ"]}),i.jsx("div",{className:"p-3 service-section",children:i.jsx("p",{className:"text-dark mb-0 fw-medium",style:{fontSize:"0.95rem"},children:l.service})})]}),i.jsxs("div",{className:"card shadow-sm p-4 mb-4",style:{borderRadius:20,background:"linear-gradient(120deg, #f8fafc 0%, #e3f0ff 100%)"},children:[i.jsxs("h5",{className:"text-warning mb-3",children:[i.jsx("i",{className:"bi bi-star-fill me-2"}),"Đánh giá"]}),i.jsxs("div",{className:"d-flex align-items-center gap-4 mb-3 flex-wrap",children:[i.jsx(XL,{placeId:l.id}),i.jsx(zl,{id:l.id})]}),i.jsx(HX,{placeId:l.id})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"text-success mb-3",children:[i.jsx("i",{className:"bi bi-geo-alt me-2"}),"Nhà hàng & Khách sạn lân cận"]}),we&&i.jsx("div",{children:"Đang tải nhà hàng/khách sạn lân cận..."}),ye&&i.jsx("div",{className:"text-danger",children:ye}),!we&&!ye&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("strong",{children:"Nhà hàng gần đây:"}),ue.length===0?i.jsx("span",{className:"text-muted ms-2",children:"Không có dữ liệu"}):i.jsx("ul",{className:"list-unstyled ms-2",children:ue.map(te=>{const Ce=le[te.properties.xid]||{};return i.jsxs("li",{className:"mb-3 d-flex align-items-start gap-3",children:[Ce.preview&&Ce.preview.source?i.jsx("img",{src:Ce.preview.source,alt:Ce.name,style:{width:56,height:56,objectFit:"cover",borderRadius:8,flexShrink:0}}):i.jsx("div",{style:{width:56,height:56,background:"#eee",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",color:"#bbb",fontSize:24},children:i.jsx("i",{className:"bi bi-image"})}),i.jsxs("div",{children:[i.jsx("a",{href:`https://opentripmap.com/en/place/${te.properties.xid}`,target:"_blank",rel:"noopener noreferrer",style:{fontWeight:600},children:Ce.name||te.properties.name||"Nhà hàng không tên"}),Ce.address&&i.jsx("div",{className:"small text-muted",children:Object.values(Ce.address).join(", ")}),Ce.wikipedia_extracts&&i.jsx("div",{className:"small",children:Ce.wikipedia_extracts.text})]})]},te.properties.xid)})})]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Khách sạn gần đây:"}),be.length===0?i.jsx("span",{className:"text-muted ms-2",children:"Không có dữ liệu"}):i.jsx("ul",{className:"list-unstyled ms-2",children:be.map(te=>{const Ce=le[te.properties.xid]||{};return i.jsxs("li",{className:"mb-3 d-flex align-items-start gap-3",children:[Ce.preview&&Ce.preview.source?i.jsx("img",{src:Ce.preview.source,alt:Ce.name,style:{width:56,height:56,objectFit:"cover",borderRadius:8,flexShrink:0}}):i.jsx("div",{style:{width:56,height:56,background:"#eee",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",color:"#bbb",fontSize:24},children:i.jsx("i",{className:"bi bi-image"})}),i.jsxs("div",{children:[i.jsx("a",{href:`https://opentripmap.com/en/place/${te.properties.xid}`,target:"_blank",rel:"noopener noreferrer",style:{fontWeight:600},children:Ce.name||te.properties.name||"Khách sạn không tên"}),Ce.address&&i.jsx("div",{className:"small text-muted",children:Object.values(Ce.address).join(", ")}),Ce.wikipedia_extracts&&i.jsx("div",{className:"small",children:Ce.wikipedia_extracts.text})]})]},te.properties.xid)})})]})]})]}),i.jsxs("div",{className:"d-flex gap-2 justify-content-center pt-3",children:[i.jsxs("button",{onClick:()=>N(-1),className:"btn btn-outline-primary px-3 py-2 rounded-pill",style:{fontSize:"0.9rem"},children:[i.jsx("i",{className:"bi bi-arrow-left me-2"}),"Quay lại"]}),i.jsxs("button",{className:"btn btn-primary px-3 py-2 rounded-pill",style:{fontSize:"0.9rem"},children:[i.jsx("i",{className:"bi bi-share me-2"}),"Chia sẻ"]})]})]})]})})})})]})})})})})]})},K_={searchByCity:l=>kt.get(`https://walkingguide.onrender.com/api/restaurants/search?city=${encodeURIComponent(l)}`)},$X=({places:l})=>{const c=wh();return I.useEffect(()=>{if(l&&l.length>0)if(l.length===1)c.setView([parseFloat(l[0].latitude),parseFloat(l[0].longitude)],14);else{const s=sr.latLngBounds(l.map(o=>[parseFloat(o.latitude),parseFloat(o.longitude)]));c.fitBounds(s,{padding:[20,20]})}},[l,c]),null},qX=l=>{if(l.image_url){const o=l.image_url.startsWith("http")?l.image_url:`http://localhost:3000${l.image_url}`;return new sr.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          overflow: hidden;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
          <img 
            src="${o}" 
            alt="${l.name}"
            style="
              width: 100%;
              height: 100%;
              margin-left: 11px;
              object-fit: cover;
            "
            onerror="this.style.display='none'; this.parentElement.innerHTML='<i class=\\"bi bi-geo-alt-fill\\" style=\\"font-size: 20px; color: #3498db;\\"></i>';"
          />
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})}else return new sr.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
          <i class="bi bi-geo-alt-fill" style="font-size: 24px; color: #3498db;"></i>
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})},WX=()=>new sr.Icon({iconUrl:tw,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]}),YX=()=>new sr.Icon({iconUrl:nw,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]});function cu(l){return l?l.normalize("NFD").replace(/\u0300-\u036f/g,"").replace(/[\u0300-\u036f]/g,"").replace(/đ/g,"d").replace(/Đ/g,"D").trim().toLowerCase():""}const GX=()=>{var rt,Ye;const[l,c]=I.useState(null),[s,o]=I.useState(!0),[h,g]=I.useState(null),{id:_}=wb();ba();const[y,v]=I.useState([]),[N,S]=I.useState([]),[D,j]=I.useState(!1),[B,F]=I.useState(null),[H,$]=I.useState(null),{user:K}=tt.useContext(cs),[Q,ee]=I.useState(!1),[ne,ce]=I.useState(null),[se,q]=I.useState(null),[ue,oe]=I.useState(""),[be,pe]=I.useState(1),[we,je]=I.useState(!1),[ye,Me]=I.useState("journey"),[le,_e]=I.useState([]),[me,Ee]=I.useState([]),[Z,fe]=I.useState(!1),[ke,Be]=I.useState(!1),[Ve,nt]=I.useState([]),[te,Ce]=I.useState([]);I.useEffect(()=>{(async()=>{try{const ze=await fetch(`http://localhost:3000/api/tours/${_}`);if(!ze.ok)throw new Error("Không tìm thấy lộ trình");const ut=ze.headers.get("content-type");if(!ut||!ut.includes("application/json"))throw new Error("Server trả về dữ liệu không hợp lệ");const Rt=await ze.json();console.log("Fetched tour:",Rt),c(Rt),o(!1)}catch(ze){g(ze.message),o(!1)}})(),(async()=>{try{let ut=(await bb.getAll({role:"ADMIN"})).data||[];v(ut)}catch{v([])}})()},[_]),I.useEffect(()=>{if(!l||!l.steps||l.steps.length===0){S([]);return}(async()=>{const ht=[...l.steps].sort((ot,jt)=>ot.step_order-jt.step_order),ze=ht.filter(ot=>ot.place_id&&!isNaN(Number(ot.place_id))),ut=await Promise.all(ze.map(ot=>kt.get(`http://localhost:3000/api/places/${Number(ot.place_id)}`).then(jt=>jt.data)));S(ut);let Rt=0;const Jt=ht.map(ot=>{if(ot.place_id&&!isNaN(Number(ot.place_id))){const jt=ut[Rt];return Rt++,{...ot,place:jt}}return ot});console.log("Steps with place:",Jt),c(ot=>({...ot,steps:Jt}))})()},[l==null?void 0:l.id,(rt=l==null?void 0:l.steps)==null?void 0:rt.length]),I.useEffect(()=>{const Te=async()=>{try{const ze=await fh.getAll?fh.getAll():fh.searchByCity("");nt(ze.data.data||ze.data||[])}catch{nt([])}},ht=async()=>{try{const ze=await K_.getAll?K_.getAll():K_.searchByCity("");Ce(ze.data.data||ze.data||[])}catch{Ce([])}};Te(),ht()},[]),I.useEffect(()=>{if(N.length>0){const Te=async()=>{fe(!0);const ze=Ie();console.log("Fetching hotels for cities:",ze);let ut=[];for(const Rt of ze)try{const Jt=await fh.searchByCity(Rt);console.log(`Hotels for ${Rt}:`,Jt.data),Jt.data&&Jt.data.data&&(ut=ut.concat(Jt.data.data))}catch(Jt){console.error(`Error fetching hotels for ${Rt}:`,Jt)}console.log("All fetched hotels:",ut),nt(ut),fe(!1)},ht=async()=>{Be(!0);const ze=Ie();console.log("Fetching restaurants for cities:",ze);let ut=[];for(const Rt of ze)try{const Jt=await K_.searchByCity(Rt);console.log(`Restaurants for ${Rt}:`,Jt.data),Jt.data&&Jt.data.data&&(ut=ut.concat(Jt.data.data))}catch(Jt){console.error(`Error fetching restaurants for ${Rt}:`,Jt)}console.log("All fetched restaurants:",ut),Ce(ut),Be(!1)};Te(),ht()}},[N]),I.useEffect(()=>{if(ye==="hotels"&&N.length>0&&Ve){fe(!0);const Te=N.map(ze=>cu(ze.city)).filter(Boolean),ht=Ve.filter(ze=>{const ut=cu(ze.city);return Te.includes(ut)});_e(ht),fe(!1)}if(ye==="restaurants"&&N.length>0&&te){Be(!0);const Te=N.map(ze=>cu(ze.city)).filter(Boolean),ht=te.filter(ze=>{const ut=cu(ze.city);return Te.includes(ut)});Ee(ht),Be(!1)}},[ye,N,Ve,te]);function qe(Te,ht){const ze=[];for(let ut=0;ut<Te.length;ut+=ht)ze.push(Te.slice(ut,ut+ht));return ze}const Ke=async()=>{var Te,ht;if(oe(""),!ne||!se){oe("Vui lòng chọn cả ngày bắt đầu và kết thúc.");return}if(se<ne){oe("Ngày kết thúc phải sau ngày bắt đầu.");return}if(!K||!K.id){oe("Bạn cần đăng nhập để đặt tour.");return}if(be<1||be>20){oe("Số lượng chỗ phải từ 1 đến 20.");return}je(!0);try{await bb.bookTour(l.id,K.id,ne,se,be),ee(!1),F(`Đặt tour thành công!
Số lượng khách: ${be}
Tổng giá: ${(be*(l.total_cost||0)).toLocaleString("vi-VN")} VND`)}catch(ze){oe(((ht=(Te=ze==null?void 0:ze.response)==null?void 0:Te.data)==null?void 0:ht.error)||"Lỗi khi đặt tour. Vui lòng thử lại.")}finally{je(!1)}};function Ie(){console.log("Route places:",N);const Te=N.map(ut=>ut.city&&ut.city.trim()).filter(Boolean);console.log("Extracted cities:",Te);const ht=new Set,ze=Te.filter(ut=>{const Rt=cu(ut);return ht.has(Rt)?!1:(ht.add(Rt),!0)});return console.log("Unique normalized cities:",ze),ze}return s?i.jsx("div",{className:"flex justify-center items-center h-screen",children:i.jsx("p",{className:"text-xl text-gray-600",children:"Đang tải..."})}):h?i.jsx("div",{className:"flex justify-center items-center h-screen",children:i.jsx("p",{className:"text-xl text-red-600",children:h})}):i.jsxs("div",{className:"min-vh-100 d-flex flex-column luxury-home-container",children:[i.jsx(Lr,{}),i.jsx("main",{className:"flex-grow-1",children:i.jsx("div",{className:"container mx-auto p-4 max-w-3xl",children:i.jsxs("div",{style:{background:"rgba(245, 250, 255, 0.95)",borderRadius:"1.5rem",boxShadow:"0 4px 24px 0 rgba(31, 38, 135, 0.10)",padding:"2.5rem 2rem",margin:"2rem 0"},children:["            ",i.jsxs("div",{style:{position:"relative",width:"100%",minHeight:380,maxHeight:520,borderRadius:"1.5rem",overflow:"hidden",marginBottom:40,boxShadow:"0 4px 32px 0 rgba(177, 178, 189, 0.13)"},children:[i.jsx("img",{src:l.image_url.startsWith("http")?l.image_url:`http://localhost:3000${l.image_url}`,alt:l.name,style:{width:"100%",height:520,objectFit:"cover",objectPosition:"center",filter:"brightness(0.6)",position:"absolute",top:0,left:0,zIndex:1}}),i.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(180deg, rgba(24, 24, 24, 0.55) 0%, rgba(134, 132, 132, 0.18) 60%, rgba(60, 60, 60, 0.65) 100%)",zIndex:2}}),i.jsxs("div",{style:{position:"relative",zIndex:3,height:520,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"0 2.5rem",textAlign:"center"},children:[i.jsx("h1",{className:"display-3 fw-bold mb-3",style:{color:"#fff",textShadow:"0 2px 24px #000a",letterSpacing:"-1.5px",fontSize:"3.2rem"},children:l.name}),i.jsxs("div",{className:"d-flex gap-3 justify-content-center align-items-center mb-2",children:[i.jsx(XL,{id:l.id,type:"tour"}),i.jsx(zl,{id:l.id,type:"tour"})]})]})]}),i.jsxs("div",{className:"mb-5 p-4",style:{background:"#fafdff",borderRadius:"1.25rem",boxShadow:"0 2px 12px #b6e0fe22"},children:[i.jsx("h2",{className:"h5 fw-bold mb-3",style:{color:"#3c69b0",letterSpacing:"-0.5px"},children:"Giới thiệu về chuyến đi"}),i.jsx("hr",{style:{margin:"0 0 1.5rem 0",borderColor:"#e3f0ff"}}),i.jsx("div",{className:"prose prose-lg",style:{color:"#223a5f",fontSize:"1.15rem",lineHeight:1.7},children:i.jsx("div",{dangerouslySetInnerHTML:{__html:l.description}})})]}),i.jsx("div",{style:{width:"100%",maxWidth:"100%",height:340,borderRadius:"1.5rem",overflow:"hidden",boxShadow:"0 4px 24px #b6e0fe55",border:"1px solid #e3f0ff",flex:"1 1 400px",background:"#fafdff"},children:i.jsxs(hb,{center:[10.8231,106.6297],zoom:13,style:{width:"100%",height:"100%"},scrollWheelZoom:!1,dragging:!0,doubleClickZoom:!1,boxZoom:!1,keyboard:!1,zoomControl:!0,children:[i.jsx($X,{places:N}),i.jsx(mb,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),N.length>1&&i.jsx(Y$,{positions:N.map(Te=>[parseFloat(Te.latitude),parseFloat(Te.longitude)]),pathOptions:{color:"#1a5bb8",weight:4,opacity:.8}}),N.map((Te,ht)=>i.jsx(ao,{position:[parseFloat(Te.latitude),parseFloat(Te.longitude)],icon:qX(Te),children:i.jsx(lo,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("h5",{className:"text-primary mb-2",children:Te.name}),Te.address&&i.jsx("p",{className:"mb-1 small",children:Te.address}),Te.city&&i.jsx("p",{className:"mb-0 text-muted small",children:Te.city})]})})},`place-${Te.id}`)),Ve.map((Te,ht)=>i.jsx(ao,{position:[parseFloat(Te.latitude),parseFloat(Te.longitude)],icon:WX(),children:i.jsx(lo,{children:i.jsxs("div",{className:"text-center",children:[i.jsxs("h6",{className:"text-danger mb-2",children:[i.jsx("i",{className:"bi bi-building me-1"}),Te.name]}),Te.city&&i.jsx("p",{className:"mb-1 small",children:Te.city}),Te.price_range&&i.jsx("p",{className:"mb-1 text-muted small",children:Te.price_range}),i.jsxs(en,{to:`/hotels/${Te.id}`,className:"btn btn-sm btn-outline-danger mt-2",children:[i.jsx("i",{className:"bi bi-arrow-right me-1"}),"Xem chi tiết"]})]})})},`hotel-${Te.id}`)),te.map((Te,ht)=>i.jsx(ao,{position:[parseFloat(Te.latitude),parseFloat(Te.longitude)],icon:YX(),children:i.jsx(lo,{children:i.jsxs("div",{className:"text-center",children:[i.jsxs("h6",{className:"text-warning mb-2",children:[i.jsx("i",{className:"bi bi-cup-hot me-1"}),Te.name]}),Te.city&&i.jsx("p",{className:"mb-1 small",children:Te.city}),Te.cuisine_type&&i.jsx("p",{className:"mb-1 small text-muted",children:Te.cuisine_type}),Te.price_range&&i.jsx("p",{className:"mb-1 text-muted small",children:Te.price_range}),i.jsxs(en,{to:`/restaurants/${Te.id}`,className:"btn btn-sm btn-outline-warning mt-2",children:[i.jsx("i",{className:"bi bi-arrow-right me-1"}),"Xem chi tiết"]})]})})},`restaurant-${Te.id}`))]})}),i.jsxs("div",{style:{display:"flex",justifyContent:"center",marginTop:24,marginBottom:16},children:[i.jsx("button",{className:`tab-btn${ye==="journey"?" active":""}`,style:{padding:"10px 24px",border:"none",borderRadius:"1.5rem 0 0 1.5rem",background:ye==="journey"?"#b6e0fe":"#e3f0ff",color:ye==="journey"?"#1a5bb8":"#3c69b0",fontWeight:600,fontSize:16,cursor:"pointer",transition:"background 0.2s, color 0.2s",outline:"none"},onClick:()=>Me("journey"),children:"Hành trình"}),i.jsx("button",{className:`tab-btn${ye==="hotels"?" active":""}`,style:{padding:"10px 24px",border:"none",borderRadius:0,background:ye==="hotels"?"#b6e0fe":"#e3f0ff",color:ye==="hotels"?"#1a5bb8":"#3c69b0",fontWeight:600,fontSize:16,cursor:"pointer",transition:"background 0.2s, color 0.2s",outline:"none"},onClick:()=>Me("hotels"),children:"Khách sạn"}),i.jsx("button",{className:`tab-btn${ye==="restaurants"?" active":""}`,style:{padding:"10px 24px",border:"none",borderRadius:"0 1.5rem 1.5rem 0",background:ye==="restaurants"?"#b6e0fe":"#e3f0ff",color:ye==="restaurants"?"#1a5bb8":"#3c69b0",fontWeight:600,fontSize:16,cursor:"pointer",transition:"background 0.2s, color 0.2s",outline:"none"},onClick:()=>Me("restaurants"),children:"Nhà hàng"})]}),i.jsxs("div",{style:{marginTop:16},children:[ye==="journey"&&i.jsx("div",{children:l.steps&&l.steps.length>0&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl fw-bold mb-3 mt-4",style:{color:"#3c69b0"},children:"Hành trình:"}),(()=>{const Te=l.steps.reduce((ze,ut)=>{const Rt=ut.day||1;return ze[Rt]||(ze[Rt]=[]),ze[Rt].push(ut),ze},{}),ht=Object.keys(Te).sort((ze,ut)=>ze-ut);return i.jsx("div",{children:ht.map(ze=>i.jsxs("div",{className:"mb-3",children:[i.jsxs("h4",{className:"fw-bold mb-2",style:{color:"#3c69b0"},children:["Ngày ",ze]}),i.jsx("div",{children:Te[ze].sort((ut,Rt)=>ut.step_order-Rt.step_order).map(ut=>i.jsxs("div",{className:"mb-4",style:{position:"relative",paddingLeft:0},children:[i.jsx("div",{style:{fontWeight:700,color:"#3c69b0",fontSize:"1.12rem",marginBottom:4},children:ut.place_name||ut.place&&ut.place.name}),ut.place&&ut.place.description&&i.jsxs("div",{style:{color:"#223a5f",fontSize:"1.01rem",background:"#fafdff",borderRadius:8,padding:"10px 14px",boxShadow:"0 1px 6px #e3f0ff33"},children:[ut.place.description.replace(/<[^>]+>/g,"").slice(0,180),ut.place.description.length>180?"...":""]})]},ut.id))})]},ze))})})()]})}),ye==="hotels"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl fw-bold mb-3 mt-4",style:{color:"#3c69b0"},children:"Khách sạn dọc hành trình"}),Z?i.jsx("div",{className:"text-muted",children:"Đang tải khách sạn..."}):Ie().length===0?i.jsx("div",{className:"text-muted",children:"Không tìm thấy thành phố nào trong hành trình."}):Ie().map(Te=>{const ht=Ve.filter(ze=>cu(ze.city)===cu(Te));return i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"fw-bold mb-3",children:["Khách sạn tại ",Te]}),i.jsx("div",{className:"row g-4",children:ht.length===0?i.jsx("div",{className:"col-12 text-muted",children:"Không tìm thấy khách sạn phù hợp."}):ht.map((ze,ut)=>i.jsx("div",{className:"col-12 col-md-6 col-lg-4",children:i.jsx(en,{to:`/hotels/${ze.id}`,className:"text-decoration-none",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs("div",{className:"position-relative",children:[ze.images&&ze.images.length>0&&ze.images[0].image_url?i.jsx("img",{src:ze.images[0].image_url.startsWith("http")?ze.images[0].image_url:`http://localhost:3000${ze.images[0].image_url}`,alt:ze.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,background:"linear-gradient(135deg, #3498db 0%, #2980b9 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-building"})}),ze.stars&&i.jsx("div",{className:"position-absolute top-0 end-0 m-2",children:i.jsxs("span",{className:"badge bg-warning text-dark",children:[i.jsx("i",{className:"bi bi-star-fill me-1"}),ze.stars]})})]}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:ze.name}),ze.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),ze.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:ze.description?`${ze.description.substring(0,100)}...`:"Không có mô tả"}),i.jsx(zl,{id:ze.id,type:"hotel"}),ze.price_range&&i.jsxs("p",{className:"card-text text-muted small mb-0",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",ze.price_range,ze.min_price>0&&` (${ze.min_price.toLocaleString()} VND)`]})]})]})})},ze.id||ut))})]},Te)})]}),ye==="restaurants"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl fw-bold mb-3 mt-4",style:{color:"#3c69b0"},children:"Nhà hàng dọc hành trình"}),ke?i.jsx("div",{className:"text-muted",children:"Đang tải nhà hàng..."}):Ie().length===0?i.jsx("div",{className:"text-muted",children:"Không tìm thấy thành phố nào trong hành trình."}):Ie().map(Te=>{const ht=te.filter(ze=>cu(ze.city)===cu(Te));return i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"fw-bold mb-3",children:["Nhà hàng tại ",Te]}),i.jsx("div",{className:"row g-4",children:ht.length===0?i.jsx("div",{className:"col-12 text-muted",children:"Không tìm thấy nhà hàng phù hợp."}):ht.map((ze,ut)=>i.jsx("div",{className:"col-12 col-md-6 col-lg-4",children:i.jsx(en,{to:`/restaurants/${ze.id}`,className:"text-decoration-none",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs("div",{className:"position-relative",children:[ze.images&&ze.images.length>0&&ze.images[0].image_url?i.jsx("img",{src:ze.images[0].image_url.startsWith("http")?ze.images[0].image_url:`http://localhost:3000${ze.images[0].image_url}`,alt:ze.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,background:"linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-cup-hot"})}),ze.cuisine_type&&i.jsx("div",{className:"position-absolute top-0 start-0 m-2",children:i.jsx("span",{className:"badge bg-primary",children:ze.cuisine_type})})]}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:ze.name}),ze.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),ze.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:ze.description?`${ze.description.substring(0,100)}...`:"Không có mô tả"}),i.jsx(zl,{id:ze.id,type:"restaurant"}),ze.price_range&&i.jsxs("p",{className:"card-text text-muted small mb-0",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",ze.price_range,ze.min_price>0&&` (${ze.min_price.toLocaleString()} VND)`]})]})]})})},ze.id||ut))})]},Te)})]})]}),i.jsx("div",{className:"d-flex justify-content-center mt-3",children:l&&K&&l.user_id!==K.id&&i.jsx("button",{className:"btn btn-main",onClick:()=>ee(!0),disabled:D,children:D?"Đang thêm...":"Thêm vào chuyến đi của tôi"})}),i.jsx(OO,{open:!!B,onClose:()=>F(null),children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{style:{fontSize:48,color:"#28a745",marginBottom:16},children:i.jsx("i",{className:"bi bi-check-circle-fill"})}),i.jsx("h4",{className:"mb-3",style:{color:"#28a745"},children:"Thành công!"}),i.jsx("div",{className:"mb-4",style:{whiteSpace:"pre-line"},children:B}),i.jsx("button",{className:"btn btn-main px-4",onClick:()=>F(null),children:"Đóng"})]})}),H&&i.jsx("div",{className:"alert alert-danger text-center mt-3",children:H})]})})}),i.jsxs("div",{className:"container my-5",children:[i.jsx("h2",{className:"h4 mb-4 fw-bold luxury-section-title",children:"Chuyến đi khác"}),(()=>{const Te=(Array.isArray(y)?y:[]).filter(ht=>ht.id!==Number(_));return Te.length===0?i.jsx("p",{className:"text-muted text-center",children:"Không có chuyến đi nào để hiển thị."}):i.jsxs("div",{id:"toursCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[i.jsx("div",{className:"carousel-inner",children:qe(Te,3).map((ht,ze)=>i.jsx("div",{className:`carousel-item${ze===0?" active":""}`,children:i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 justify-content-center",children:ht.map(ut=>i.jsx("div",{className:"col",children:i.jsx(en,{to:`/tours/${ut.id}`,className:"text-decoration-none",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsx("div",{className:"position-relative",children:ut.image_url?i.jsx("img",{src:ut.image_url.startsWith("http")?ut.image_url:`http://localhost:3000${ut.image_url}`,alt:ut.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,background:"linear-gradient(135deg, #1a5bb8 0%, #3c69b0 100%)",color:"white",fontSize:"3rem",borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem"},children:i.jsx("i",{className:"bi bi-map"})})}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:ut.name}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:ut.description?`${ut.description.replace(/<[^>]+>/g,"").substring(0,100)}...`:"Chưa có mô tả"}),i.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[i.jsxs("span",{className:"card-text text-muted small mb-0 luxury-rating",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",ut.total_cost?ut.total_cost.toLocaleString("vi-VN"):"0"," VND"]}),ut.rating&&i.jsx(zl,{id:ut.id,type:"tour"})]})]})]})})},ut.id))})},ht.map(ut=>ut.id).join("-")))}),qe(Te,3).length>1&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#toursCarousel","data-bs-slide":"prev",style:{width:"5rem",height:"5rem",top:"50%",left:"-4rem",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Previous"})]}),i.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#toursCarousel","data-bs-slide":"next",style:{width:"5rem",height:"5rem",top:"50%",right:"-4rem",left:"auto",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Next"})]})]})]})})()]}),Q&&i.jsxs(yt,{show:Q,onHide:()=>ee(!1),centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Chọn ngày bắt đầu, kết thúc và số lượng chỗ"})}),i.jsxs(yt.Body,{children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:i.jsx("strong",{children:"Ngày bắt đầu:"})}),i.jsx(Iv,{selected:ne,onChange:Te=>ce(Te),selectsStart:!0,startDate:ne,endDate:se,minDate:new Date,dateFormat:"dd/MM/yyyy",className:"form-control"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:i.jsx("strong",{children:"Ngày kết thúc:"})}),i.jsx(Iv,{selected:se,onChange:Te=>q(Te),selectsEnd:!0,startDate:ne,endDate:se,minDate:ne||new Date,dateFormat:"dd/MM/yyyy",className:"form-control"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:i.jsx("strong",{children:"Số lượng chỗ:"})}),i.jsx("input",{type:"number",min:1,max:20,value:be,onChange:Te=>pe(Math.max(1,Math.min(20,Number(Te.target.value)))),className:"form-control",style:{maxWidth:120}})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("strong",{children:"Giá mỗi chỗ:"})," ",(Ye=l.total_cost)==null?void 0:Ye.toLocaleString("vi-VN")," VND",i.jsx("br",{}),i.jsx("strong",{children:"Tổng cộng:"})," ",(be*(l.total_cost||0)).toLocaleString("vi-VN")," VND"]}),ue&&i.jsx("div",{className:"alert alert-danger py-2",children:ue})]}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:()=>ee(!1),disabled:we,children:"Đóng"}),i.jsxs(Ut,{variant:"primary",onClick:Ke,disabled:we||!ne||!se||be<1||be>20,children:[we?i.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}):null,"Xác nhận"]})]})]}),i.jsx(qr,{})]})},KX=({show:l,onClose:c,onConfirm:s,title:o="Xác nhận",message:h,confirmText:g="Xác nhận",cancelText:_="Hủy",type:y="warning",confirmVariant:v="danger"})=>{const N=()=>{switch(y){case"danger":return i.jsx("i",{className:"bi bi-exclamation-triangle-fill text-danger me-2"});case"warning":return i.jsx("i",{className:"bi bi-exclamation-triangle-fill text-warning me-2"});default:return i.jsx("i",{className:"bi bi-question-circle-fill text-info me-2"})}},S=()=>{switch(v){case"danger":return"danger";case"warning":return"warning";case"success":return"success";default:return"primary"}};return i.jsxs(yt,{show:l,onHide:c,centered:!0,className:"luxury-modal",children:[i.jsx(yt.Header,{closeButton:!0,className:"luxury-modal-header",children:i.jsxs(yt.Title,{className:"luxury-modal-title d-flex align-items-center",children:[N(),o]})}),i.jsx(yt.Body,{className:"luxury-modal-body",children:i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"mb-0",style:{fontSize:"1.1rem",lineHeight:"1.6"},children:h})})}),i.jsxs(yt.Footer,{className:"luxury-modal-footer",children:[i.jsx(Ut,{variant:"secondary",onClick:c,style:{minWidth:"100px"},children:_}),i.jsx(Ut,{variant:S(),onClick:s,className:"btn-main",style:{minWidth:"100px"},children:g})]})]})};function QX(){var on;const{user:l}=I.useContext(cs),[c,s]=I.useState([]),[o,h]=I.useState(!0),[g,_]=I.useState(""),[y,v]=I.useState(null),[N,S]=I.useState(!1),[D,j]=I.useState(!1),[B,F]=I.useState(!1),[H,$]=I.useState(null),[K,Q]=I.useState(""),[ee,ne]=I.useState([]),[ce,se]=I.useState({}),[q,ue]=I.useState([]),[oe,be]=I.useState({name:"",description:"",image_url:"",total_cost:"",start_from:""}),[pe,we]=I.useState(""),[je,ye]=I.useState(!1),[Me,le]=I.useState(null),[_e,me]=I.useState({stay_duration:""}),[Ee,Z]=I.useState(""),[fe,ke]=I.useState([]),[Be,Ve]=I.useState([]),[nt,te]=I.useState(!1),[Ce,qe]=I.useState(null),[Ke,Ie]=I.useState([]),[rt,Ye]=I.useState({}),{alertModal:Te,confirmModal:ht,showSuccess:ze,showError:ut,showDeleteConfirm:Rt,showCancelConfirm:Jt,hideAlert:ot,hideConfirm:jt,handleConfirm:Dt}=T5(),[Qe,Mt]=I.useState([]),[Lt,$e]=I.useState([]),[bt,$t]=I.useState(!1),[mn,Rn]=I.useState(!1),[yn,ai]=I.useState([]),br=Re=>{$t(Re.target.checked),Mt(Re.target.checked?c.map(Ot=>Ot.id):[])},Ar=Re=>{Rn(Re.target.checked),$e(Re.target.checked?Be.map(Ot=>{var pt;return(pt=Ot.booking)==null?void 0:pt.id}).filter(Boolean):[])},er=Re=>{Mt(Ot=>Ot.includes(Re)?Ot.filter(pt=>pt!==Re):[...Ot,Re])},Ii=Re=>{$e(Ot=>Ot.includes(Re)?Ot.filter(pt=>pt!==Re):[...Ot,Re])},ii=async()=>{Qe.length!==0&&Rt("Bạn có chắc chắn muốn xóa các tour đã chọn?",async()=>{try{await Promise.all(Qe.map(Re=>kt.delete(`http://localhost:3000/api/tours/${Re}`))),s(Re=>Re.filter(Ot=>!Qe.includes(Ot.id))),Mt([]),$t(!1),ze("Đã xóa các tour thành công!")}catch{ut("Không thể xóa một số tour.")}},"Xác nhận xóa tour")},Jn=async()=>{Lt.length!==0&&Jt("Bạn có chắc chắn muốn hủy các booking đã chọn?",async()=>{try{await Promise.all(Lt.map(Re=>kt.delete(`http://localhost:3000/api/bookings/${Re}`))),Ve(Re=>Re.filter(Ot=>{var pt;return!Lt.includes((pt=Ot.booking)==null?void 0:pt.id)})),$e([]),Rn(!1),ze("Đã hủy các booking thành công!")}catch{ut("Không thể hủy một số booking.")}},"Xác nhận hủy booking")};I.useEffect(()=>{l&&(kt.get(`http://localhost:3000/api/tours/user/${l.id}`).then(Re=>{s(Re.data),Re.data.length>0&&v(Re.data[0])}).catch(()=>_("Không thể tải danh sách tour.")).finally(()=>h(!1)),bb.getUserBookedTours(l.id).then(Re=>Ve(Re.data)).catch(()=>Ve([])),fh.getUserHotelBookings(l.id).then(Re=>ai(Re.data)).catch(()=>ai([])))},[l]),I.useEffect(()=>{if(!y)return;let Re=!0;async function Ot(){try{const pt=await QL.getByTourId(y.id);if(!Re)return;console.log("Tour steps data:",pt.data),ne(pt.data);const Bt=pt.data.map(Dn=>Dn.place_id),ln=[...new Set(Bt)],En={};for(const Dn of ln)if(ce[Dn])En[Dn]=ce[Dn];else{const hi=await fb.getById(Dn);En[Dn]=hi.data}se(Dn=>({...Dn,...En}))}catch{}}return Ot(),()=>{Re=!1}},[y]),I.useEffect(()=>{fb.getAll().then(Re=>ue(Re.data)).catch(()=>ue([]))},[]),I.useEffect(()=>{D&&y&&ee.length>0&&(be({name:y.name||"",description:y.description||"",image_url:y.image_url||"",total_cost:y.total_cost||"",start_time:y.start_time||"",end_time:y.end_time||"",steps:ee.map(Re=>({...Re})),start_from:y.start_from||""}),we(""))},[D,y,ee]);const Br=Re=>{const{name:Ot,value:pt}=Re.target;be(Bt=>({...Bt,[Ot]:pt}))},fi=(Re,Ot,pt)=>{be(Bt=>{const ln=[...Bt.steps];return ln[Re]={...ln[Re],[Ot]:pt},{...Bt,steps:ln}})},or=()=>{be(Re=>{var Ot;return{...Re,steps:[...Re.steps,{place_id:((Ot=q[0])==null?void 0:Ot.id)||"",stay_duration:30,step_order:Re.steps.length+1}]}})},kr=Re=>{be(Ot=>{const pt=Ot.steps[Re],Bt=Ot.steps.filter((ln,En)=>En!==Re).map((ln,En)=>({...ln,step_order:En+1}));return pt.id&&ke(ln=>[...ln,pt.id]),{...Ot,steps:Bt}})},tr=async Re=>{Re.preventDefault();try{const Ot=oe.steps&&oe.steps[0],pt=Ot?q.find(Dn=>Dn.id==Ot.place_id):null,Bt=pt?pt.name:oe.name,ln=pt&&pt.image_url?pt.image_url:oe.image_url,En=await kt.put(`http://localhost:3000/api/tours/${y.id}`,{name:Bt,description:oe.description,image_url:ln,total_cost:oe.total_cost,start_time:oe.start_time,end_time:oe.end_time,start_from:oe.start_from});await Promise.all(oe.steps.map(Dn=>kt.put(`http://localhost:3000/api/tour-steps/${Dn.id}`,{place_id:Dn.place_id,stay_duration:Dn.stay_duration,step_order:Dn.step_order,start_time:Dn.start_time,end_time:Dn.end_time,day:Dn.day||1}))),await Promise.all(fe.map(Dn=>kt.delete(`http://localhost:3000/api/tour-steps/${Dn}`))),s(Dn=>Dn.map(hi=>hi.id===y.id?{...hi,...En.data}:hi)),v(Dn=>({...Dn,...En.data})),ne(oe.steps),ke([]),j(!1)}catch{we("Không thể cập nhật tour hoặc hành trình.")}},Ue=async Re=>{try{await kt.delete(`http://localhost:3000/api/tours/${Re}`),s(Ot=>Ot.filter(pt=>pt.id!==Re)),te(!1),ze("Đã xóa tour thành công!")}catch{ut("Không thể xóa tour.")}},qt=async Re=>{var Ot;if(!Re){ut("Không tìm thấy booking để hủy.");return}try{const pt=await kt.delete(`http://localhost:3000/api/bookings/${Re}`);pt.status===200&&((Ot=pt.data)!=null&&Ot.message)?(Ve(Bt=>Bt.filter(ln=>{var En;return((En=ln.booking)==null?void 0:En.id)!==Re})),te(!1),ze("Đã hủy đặt tour thành công!")):ut("Không thể hủy đặt tour.")}catch{ut("Không thể hủy đặt tour.")}},lt=async Re=>{var Ot;if(!Re){ut("Không tìm thấy booking để hủy.");return}try{const pt=await kt.delete(`http://localhost:3000/api/hotels/hotel-bookings/${Re}`);pt.status===200&&((Ot=pt.data)!=null&&Ot.message)?(ai(Bt=>Bt.filter(ln=>ln.id!==Re)),ze("Đã hủy đặt khách sạn thành công!")):ut("Không thể hủy đặt khách sạn.")}catch{ut("Không thể hủy đặt khách sạn.")}};return i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Lr,{}),i.jsxs("main",{className:"container px-4 py-4 flex-grow-1",children:[i.jsxs("div",{className:"mb-5 d-flex align-items-center gap-3 border-bottom pb-3",children:[i.jsx("h2",{className:"fw-bold mb-0",style:{color:"#1a5bb8"},children:"Chuyến đi của bạn"}),i.jsxs("button",{className:"btn btn-main ms-auto d-flex align-items-center gap-2",style:{borderRadius:8,fontWeight:600},onClick:()=>S(!0),children:[i.jsx(eY,{})," Tạo chuyến đi mới"]})]}),N&&i.jsx("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.25)"},tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",style:{borderRadius:16,boxShadow:"0 4px 24px #1a5bb822"},children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:"Tạo tour mới"}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>S(!1)})]}),i.jsxs("div",{className:"modal-body text-center",children:[i.jsx("p",{className:"mb-4",children:"Bạn muốn tạo tour bằng cách nào?"}),i.jsxs("div",{className:"d-flex flex-column gap-3",children:[i.jsxs("button",{className:"btn btn-main",style:{fontWeight:600,fontSize:"1.1rem"},onClick:()=>{S(!1),window.location.href="/ai/generate-tour"},children:[i.jsx("i",{className:"bi bi-stars me-2"}),"Tạo tour bằng AI"]}),i.jsxs("button",{className:"btn btn-outline-primary",style:{fontWeight:600,fontSize:"1.1rem"},onClick:()=>{S(!1),window.location.href="/manual-planner"},children:[i.jsx("i",{className:"bi bi-pencil-square me-2"}),"Tạo tour thủ công"]})]})]})]})})}),B&&H&&i.jsx("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.25)"},tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",style:{borderRadius:16,boxShadow:"0 4px 24px #1a5bb822"},children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:"Xác nhận xóa tour"}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>{F(!1),$(null)}})]}),i.jsxs("div",{className:"modal-body text-center",children:[i.jsxs("p",{children:["Bạn có chắc muốn xóa tour ",i.jsx("b",{children:H.name}),"?"]}),i.jsxs("div",{className:"d-flex justify-content-center gap-3 mt-4",children:[i.jsx("button",{className:"btn btn-danger",style:{fontWeight:600},onClick:async()=>{try{await kt.delete(`http://localhost:3000/api/tours/${H.id}`),s(c.filter(Re=>Re.id!==H.id)),y&&y.id===H.id&&v(null),F(!1),$(null)}catch{Q("Không thể xóa tour.")}},children:"Xóa"}),i.jsx("button",{className:"btn btn-secondary",onClick:()=>{F(!1),$(null)},children:"Hủy"})]})]})]})})}),K&&i.jsx("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.25)"},tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",style:{borderRadius:16,boxShadow:"0 4px 24px #1a5bb822"},children:[i.jsxs("div",{className:"modal-header",children:[i.jsxs("h5",{className:"modal-title text-danger",children:[i.jsx("i",{className:"bi bi-x-circle-fill me-2"}),"Lỗi"]}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>Q("")})]}),i.jsxs("div",{className:"modal-body text-center",children:[i.jsxs("div",{className:"alert alert-danger d-flex align-items-center justify-content-center",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),i.jsx("div",{children:K})]}),i.jsx("button",{className:"btn btn-main mt-3",onClick:()=>Q(""),children:"Đóng"})]})]})})}),D&&y&&i.jsx("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.25)"},tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered modal-xl",children:i.jsxs("div",{className:"modal-content",style:{borderRadius:16,boxShadow:"0 4px 24px #1a5bb822"},children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:"Chỉnh sửa tour & hành trình"}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>j(!1)})]}),i.jsxs("form",{onSubmit:tr,children:[i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tên tour"}),i.jsx("input",{type:"text",className:"form-control",name:"name",value:(()=>{const Re=oe.steps&&oe.steps[0],Ot=Re?q.find(pt=>pt.id==Re.place_id):null;return Ot?Ot.name:""})(),readOnly:!0})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mô tả"}),i.jsx("textarea",{className:"form-control",name:"description",value:oe.description,onChange:Br,rows:4,required:!0})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Điểm khởi hành"}),i.jsx(UA,{value:oe.start_from,onChange:Re=>be(Ot=>({...Ot,start_from:Re})),placeholder:"Nhập điểm khởi hành"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Ngày bắt đầu"}),i.jsx("input",{type:"date",className:"form-control",name:"start_time",value:oe.start_time,onChange:Br})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Ngày kết thúc"}),i.jsx("input",{type:"date",className:"form-control",name:"end_time",value:oe.end_time,onChange:Br})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Chi phí (VND)"}),i.jsx("input",{type:"text",className:"form-control",name:"total_cost",value:oe.total_cost?parseInt(oe.total_cost).toLocaleString("vi-VN"):"",onChange:Re=>{const Ot=Re.target.value.replace(/\D/g,"");Br({target:{name:"total_cost",value:Ot}})},placeholder:"Nhập chi phí dự kiến"}),oe.total_cost&&i.jsxs("div",{className:"form-text",children:[i.jsx("i",{className:"fas fa-info-circle me-1"}),"Chi phí: ",parseInt(oe.total_cost).toLocaleString("vi-VN")," VNĐ"]}),oe.total_cost&&oe.total_cost.length>0&&oe.total_cost.length<=3&&!oe.total_cost.endsWith("000")&&i.jsxs("div",{className:"mt-2",children:[i.jsx("small",{className:"text-muted",children:"Gợi ý:"}),i.jsx("div",{className:"d-flex flex-wrap gap-1 mt-1",children:(()=>{const Re=oe.total_cost.replace(/\D/g,"");return[{value:Re+"000",label:Re+".000 VNĐ"},{value:Re+"0000",label:Re+"0.000 VNĐ"},{value:Re+"00000",label:Re+"00.000 VNĐ"},{value:Re+"000000",label:Re+".000.000 VNĐ"},{value:Re+"0000000",label:Re+"0.000.000 VNĐ"}].filter(pt=>pt.value!==oe.total_cost).map((pt,Bt)=>i.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",style:{fontSize:"0.8rem",padding:"0.25rem 0.5rem"},onClick:()=>Br({target:{name:"total_cost",value:pt.value}}),children:pt.label},Bt))})()})]})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label",children:"Hành trình"}),i.jsx("div",{className:"tour-steps-edit-container",style:{maxHeight:"400px",overflowY:"auto"},children:oe.steps&&oe.steps.map((Re,Ot)=>i.jsx("div",{className:"tour-step-edit-item mb-3 p-3 border rounded",style:{background:"#f8f9fa",cursor:"grab",transition:"all 0.2s ease",border:"1px solid #dee2e6"},draggable:!0,onDragStart:pt=>{pt.dataTransfer.setData("text/plain",Ot),pt.currentTarget.style.opacity="0.5"},onDragEnd:pt=>{pt.currentTarget.style.opacity="1"},onDragOver:pt=>{pt.preventDefault(),pt.currentTarget.style.borderColor="#007bff",pt.currentTarget.style.background="#e3f2fd"},onDragLeave:pt=>{pt.currentTarget.style.borderColor="#dee2e6",pt.currentTarget.style.background="#f8f9fa"},onDrop:pt=>{pt.preventDefault();const Bt=parseInt(pt.dataTransfer.getData("text/plain")),ln=Ot;if(Bt!==ln){const En=[...oe.steps],Dn=En[Bt];En.splice(Bt,1),En.splice(ln,0,Dn),En.forEach((hi,ve)=>{hi.step_order=ve+1}),be(hi=>({...hi,steps:En}))}pt.currentTarget.style.borderColor="#dee2e6",pt.currentTarget.style.background="#f8f9fa"},children:i.jsxs("div",{className:"d-flex align-items-center gap-2",children:[i.jsx("div",{className:"step-number",style:{background:"#007bff",color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem",fontWeight:"bold"},children:Re.step_order}),i.jsx("div",{className:"flex-grow-1",children:i.jsxs("select",{className:"form-select form-select-sm",value:Re.place_id,onChange:pt=>fi(Ot,"place_id",pt.target.value),children:[i.jsx("option",{value:"",children:"Chọn địa điểm..."}),q.map(pt=>i.jsx("option",{value:pt.id,children:pt.name},pt.id))]})}),i.jsxs("div",{className:"d-flex gap-1",children:[i.jsx("input",{type:"time",className:"form-control form-control-sm",style:{width:"100px"},value:Re.start_time||"",onChange:pt=>fi(Ot,"start_time",pt.target.value)}),i.jsx("input",{type:"time",className:"form-control form-control-sm",style:{width:"100px"},value:Re.end_time||"",onChange:pt=>fi(Ot,"end_time",pt.target.value)}),i.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>kr(Ot),title:"Xóa địa điểm",children:i.jsx("i",{className:"bi bi-trash"})})]})]})},Re.id||Ot))}),i.jsxs("button",{type:"button",className:"btn btn-outline-success btn-sm mt-2",onClick:or,children:[i.jsx("i",{className:"bi bi-plus"})," Thêm địa điểm"]})]})]}),pe&&i.jsx("div",{className:"text-danger mb-2",children:pe})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"submit",className:"btn btn-primary",children:"Lưu"}),i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>j(!1),children:"Hủy"})]})]})]})})}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h5",{className:"fw-bold",style:{color:"rgb(26, 91, 184)"},children:"Danh sách chuyến đi bạn đã tạo "}),i.jsxs("div",{className:"d-flex align-items-center mb-2",children:[i.jsx("input",{type:"checkbox",checked:bt,onChange:br}),i.jsx("span",{className:"ms-2",children:"Chọn tất cả"}),i.jsx(Ut,{variant:"danger",size:"sm",className:"ms-3",disabled:Qe.length===0,onClick:ii,children:"Xóa các chuyến đi đã chọn"})]}),i.jsx("div",{className:"list-group",children:c.map(Re=>i.jsxs("div",{className:"list-group-item d-flex align-items-center",children:[i.jsx("input",{type:"checkbox",className:"me-2",checked:Qe.includes(Re.id),onChange:()=>er(Re.id)}),i.jsx("div",{className:"flex-grow-1",children:i.jsx(en,{to:`/tours/${Re.id}`,children:Re.name})}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:Ot=>{Ot.stopPropagation(),v(Re),j(!0)},children:"Sửa"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:Ot=>{Ot.stopPropagation(),Rt("Bạn có chắc muốn xóa tour này?",()=>Ue(Re.id))},children:"Xóa"})]})]},Re.id))})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h5",{className:"fw-bold",style:{color:"rgb(26, 91, 184)"},children:"Chuyến đi yêu thích"}),i.jsxs("div",{className:"d-flex align-items-center mb-2",children:[i.jsx("input",{type:"checkbox",checked:mn,onChange:Ar}),i.jsx("span",{className:"ms-2",children:"Chọn tất cả"}),i.jsx(Ut,{variant:"danger",size:"sm",className:"ms-3",disabled:Lt.length===0,onClick:Jn,children:"Bỏ các chuyến đi đã chọn"})]}),i.jsx("div",{className:"list-group",children:Be.map(Re=>{var Ot,pt;return i.jsxs("div",{className:"list-group-item d-flex align-items-center",children:[i.jsx("input",{type:"checkbox",className:"me-2",checked:Lt.includes((Ot=Re.booking)==null?void 0:Ot.id),onChange:()=>{var Bt;return Ii((Bt=Re.booking)==null?void 0:Bt.id)}}),i.jsx("div",{className:"flex-grow-1",children:i.jsx(en,{to:`/tours/${Re.id}`,className:"text-decoration-none",children:Re.name})}),i.jsx("div",{className:"d-flex gap-2",children:i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:Bt=>{Bt.stopPropagation(),Jt("Bạn có chắc muốn hủy đặt tour này?",()=>qt(Re.booking.id))},children:"Hủy đặt"})})]},((pt=Re.booking)==null?void 0:pt.id)||Re.id)})})]}),i.jsxs("section",{className:"mb-5",children:[i.jsx("div",{className:"d-flex align-items-center mb-3 gap-2"}),Be.length===0?i.jsxs("div",{className:"text-center text-muted py-5",children:[i.jsx("i",{className:"bi bi-calendar-x",style:{fontSize:"3rem"}}),i.jsx("div",{className:"fw-bold mb-1",children:"Bạn chưa đặt tour nào."})]}):i.jsx("div",{className:"row g-4",children:Be.map(Re=>{var Ot,pt,Bt;return i.jsx("div",{className:"col-12 col-md-6 col-lg-4",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs(en,{to:`/tours/${Re.id}`,className:"text-decoration-none",style:{display:"block"},children:[Re.image_url?i.jsx("img",{src:Re.image_url.startsWith("http")?Re.image_url:`http://localhost:3000${Re.image_url}`,alt:Re.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-map"})}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:Re.name}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:Re.description?`${Re.description.replace(/<[^>]+>/g,"").substring(0,100)}...`:""}),i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"luxury-star",style:{color:"#f1c40f",fontSize:18},children:"★"}),i.jsx("span",{style:{fontWeight:600,marginLeft:4},children:Re.rating?Re.rating.toFixed(1):"0.0"}),i.jsx("span",{style:{color:"#888",marginLeft:2},children:"/ 5"})]}),Re.total_cost&&i.jsxs("p",{className:"card-text text-muted small mb-0 luxury-rating",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",Re.total_cost," VND"]}),Re.booking&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"text-muted small mb-1",children:["Số lượng khách: ",i.jsx("b",{children:Re.booking.spots})]}),i.jsxs("div",{className:"text-muted small mb-2",children:["Tổng giá: ",i.jsxs("b",{children:[(Ot=Re.booking.total_price)==null?void 0:Ot.toLocaleString("vi-VN")," VND"]})]})]})]})]}),i.jsx("div",{className:"px-3 pb-3 d-flex gap-2",children:((pt=Re.booking)==null?void 0:pt.status)==="rejected"?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-danger small fw-bold flex-fill align-self-center",children:"Đặt tour thất bại"}),i.jsx("button",{className:"btn btn-outline-primary btn-sm flex-fill",onClick:ln=>{ln.stopPropagation(),showInfo("Chức năng Đặt lại sẽ được triển khai ở đây!","Thông báo")},children:"Đặt lại"})]}):i.jsx("button",{className:"btn btn-outline-danger btn-sm flex-fill",disabled:!((Bt=Re.booking)!=null&&Bt.id),onClick:ln=>{var En;ln.stopPropagation(),(En=Re.booking)!=null&&En.id&&Jt("Bạn có chắc muốn hủy đặt tour này?",()=>qt(Re.booking.id))},children:"Bỏ chuyến đi"})})]})},Re.id)})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h5",{className:"fw-bold",style:{color:"rgb(26, 91, 184)"},children:"Khách sạn đã đặt"}),yn.length===0?i.jsxs("div",{className:"text-center text-muted py-3",children:[i.jsx("i",{className:"bi bi-building",style:{fontSize:"2rem"}}),i.jsx("div",{className:"fw-bold mb-1",children:"Bạn chưa đặt khách sạn nào."})]}):i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:yn.map(Re=>i.jsx("div",{className:"col",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs(en,{to:`/hotels/${Re.hotel_id}`,className:"text-decoration-none",style:{display:"block",height:"100%"},children:[i.jsxs("div",{className:"position-relative",children:[i.jsx("img",{src:Re.hotel_image_url?Re.hotel_image_url.startsWith("http")?Re.hotel_image_url:`http://localhost:3000${Re.hotel_image_url}`:"/default-hotel.jpg",alt:Re.hotel_name||"Khách sạn",className:"card-img-top luxury-img-top",style:{height:180,objectFit:"cover",borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem"},onError:Ot=>{Ot.target.src="/default-hotel.jpg"}}),i.jsx("div",{className:"position-absolute top-0 end-0 m-2",children:i.jsx("span",{className:"badge bg-warning text-dark",children:i.jsx("i",{className:"bi bi-star-fill"})})})]}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h5",{className:"card-title mb-2",style:{fontWeight:600},children:Re.hotel_name||Re.hotel_id}),i.jsx("div",{className:"mb-2",children:i.jsx("span",{className:"badge bg-info me-2",children:Re.room_type||"N/A"})}),i.jsxs("div",{className:"mb-2 text-muted small",children:[i.jsx("i",{className:"bi bi-calendar-event me-1"}),"Nhận phòng: ",i.jsx("b",{children:Re.check_in})]}),i.jsxs("div",{className:"mb-2 text-muted small",children:[i.jsx("i",{className:"bi bi-calendar-check me-1"}),"Trả phòng: ",i.jsx("b",{children:Re.check_out})]})]})]}),i.jsx("div",{className:"px-3 pb-3",children:i.jsxs("button",{className:"btn btn-outline-danger btn-sm w-100",onClick:()=>{Jt("Bạn có chắc muốn hủy đặt khách sạn này?",()=>lt(Re.id),"Xác nhận hủy đặt phòng")},children:[i.jsx("i",{className:"bi bi-x-circle me-1"}),"Hủy đặt"]})})]})},Re.id))})]})]}),i.jsx(qr,{}),i.jsxs(yt,{show:nt,onHide:()=>te(!1),centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:Ce==null?void 0:Ce.name})}),i.jsxs(yt.Body,{children:[(Ce==null?void 0:Ce.image_url)&&i.jsx("img",{src:Ce.image_url.startsWith("http")?Ce.image_url:`http://localhost:3000${Ce.image_url}`,alt:Ce.name,className:"img-fluid rounded mb-3",style:{maxHeight:200,objectFit:"cover",width:"100%"}}),i.jsx("p",{children:Ce==null?void 0:Ce.description}),i.jsxs("div",{className:"mb-2",children:[i.jsxs("span",{className:"badge bg-info text-dark me-2",children:[Ce!=null&&Ce.start_time?new Date(Ce.start_time).toLocaleDateString():"--"," → ",Ce!=null&&Ce.end_time?new Date(Ce.end_time).toLocaleDateString():"--"]}),i.jsxs("span",{className:"badge bg-light text-dark",children:[i.jsx("i",{className:"bi bi-currency-exchange"})," ",(on=Ce==null?void 0:Ce.total_cost)==null?void 0:on.toLocaleString("vi-VN")," VND"]})]}),Ke.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h6",{className:"fw-bold mb-3",children:"Hành trình chi tiết"}),i.jsx("div",{className:"list-group",children:Ke.map((Re,Ot)=>{const pt=rt[Re.place_id];return i.jsxs("div",{className:"list-group-item d-flex align-items-center gap-3 py-3",style:{borderLeft:"4px solid #1a5bb8",background:"#f8f9fa",borderRadius:12,marginBottom:8,boxShadow:"0 2px 8px #b6e0fe22"},children:[(pt==null?void 0:pt.image_url)&&i.jsx("img",{src:pt.image_url.startsWith("http")?pt.image_url:`http://localhost:3000${pt.image_url}`,alt:pt.name,style:{width:64,height:64,objectFit:"cover",borderRadius:12,boxShadow:"0 2px 8px #b6e0fe33",flexShrink:0}}),i.jsxs("div",{className:"flex-grow-1",children:[i.jsx("div",{className:"fw-bold mb-1",style:{color:"#1a5bb8",fontSize:"1.1em"},children:i.jsx(en,{to:`/places/${pt==null?void 0:pt.id}`,className:"text-decoration-none",style:{color:"#1a5bb8"},target:"_blank",rel:"noopener noreferrer",children:(pt==null?void 0:pt.name)||`Địa điểm #${Re.place_id}`})}),i.jsx("div",{className:"small text-muted mb-1",children:pt!=null&&pt.description?`${pt.description.replace(/<[^>]+>/g,"").slice(0,100)}${pt.description.length>100?"...":""}`:"Chưa có mô tả"}),i.jsxs("div",{className:"d-flex gap-2 flex-wrap align-items-center mt-1",children:[Re.start_time&&i.jsxs("span",{className:"badge bg-success",children:[i.jsx("i",{className:"bi bi-play me-1"}),"Bắt đầu: ",Re.start_time]}),Re.end_time&&i.jsxs("span",{className:"badge bg-info",children:[i.jsx("i",{className:"bi bi-stop me-1"}),"Kết thúc: ",Re.end_time]})]})]})]},Re.id||Ot)})})]})]}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{className:"btn btn-main",onClick:()=>te(!1),children:"Đóng"}),i.jsx(Ut,{className:"btn btn-danger",onClick:()=>{j(!0),v(Ce),te(!1)},children:"Sửa"})]})]}),i.jsx(uA,{show:Te.show,title:Te.title,message:Te.message,type:Te.type,confirmText:Te.confirmText,onClose:ot}),i.jsx(KX,{show:ht.show,message:ht.message,title:ht.title,confirmText:ht.confirmText,cancelText:ht.cancelText,type:ht.type,confirmVariant:ht.confirmVariant,onClose:jt,onConfirm:Dt})]})}function ZX(){const{t:l}=vh(),c=ba(),{user:s}=Ab(),[o,h]=I.useState({title:"",content:"",image_url:""}),[g,_]=I.useState(null),[y,v]=I.useState(""),[N,S]=I.useState(!1),[D,j]=I.useState(!1),[B,F]=I.useState(""),[H,$]=I.useState(""),K=I.useRef(null),Q=je=>{const{name:ye,value:Me}=je.target;h(le=>({...le,[ye]:Me}))},ee=je=>{h(ye=>({...ye,content:je}))},ne=je=>{if(je&&je.type.startsWith("image/")){_(je);const ye=new FileReader;ye.onload=Me=>{v(Me.target.result)},ye.readAsDataURL(je)}else F("Vui lòng chọn một file ảnh hợp lệ.")},ce=je=>{const ye=je.target.files[0];ye&&ne(ye)},se=je=>{je.preventDefault(),S(!0)},q=je=>{je.preventDefault(),S(!1)},ue=je=>{je.preventDefault(),S(!1);const ye=je.dataTransfer.files[0];ye&&ne(ye)},oe=async()=>{if(!g)return"";try{const je=new FormData;return je.append("file",g),(await kt.post("http://localhost:3000/api/upload",je,{headers:{"Content-Type":"multipart/form-data"}})).data.url}catch(je){throw console.error("Lỗi khi upload ảnh:",je),new Error("Không thể upload ảnh. Vui lòng thử lại.")}},be=async je=>{var ye,Me,le,_e;if(je.preventDefault(),!s||!s.id){F("Bạn cần đăng nhập để viết bài.");return}if(!o.title.trim()||!o.content.trim()){F("Vui lòng điền đầy đủ tiêu đề và nội dung bài viết.");return}try{j(!0),F("");let me="";g&&(me=await oe());const Ee={...o,image_url:me,admin_id:s.id};console.log("Sending article data:",Ee),await ZL.create(Ee),$("Bài viết đã được đăng thành công!"),setTimeout(()=>{c("/articles")},2e3)}catch(me){console.error("Lỗi khi tạo bài viết:",me),F(((Me=(ye=me==null?void 0:me.response)==null?void 0:ye.data)==null?void 0:Me.message)||((_e=(le=me==null?void 0:me.response)==null?void 0:le.data)==null?void 0:_e.error)||me.message||"Có lỗi xảy ra khi đăng bài viết. Vui lòng thử lại.")}finally{j(!1)}},pe=()=>{c("/articles")},we=()=>{_(null),v(""),K.current&&(K.current.value="")};return i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Lr,{}),i.jsx("main",{className:"container px-4 py-5 flex-grow-1",children:i.jsx("div",{className:"row justify-content-center",children:i.jsx("div",{className:"col-12 col-lg-8",children:i.jsxs("div",{className:"card shadow-lg border-0 rounded-4 luxury-card",children:[i.jsx("div",{className:"card-header luxury-card-header bg-white border-0 rounded-top-4 py-4",children:i.jsxs("div",{className:"d-flex align-items-center",children:[i.jsx("div",{className:"me-3",children:i.jsx("i",{className:"bi bi-pencil-square text-primary",style:{fontSize:"2rem"}})}),i.jsxs("div",{children:[i.jsx("h1",{className:"h3 mb-1 fw-bold",children:l("Write Your Travel Blog")}),i.jsx("p",{className:"text-muted mb-0",children:l("Share your amazing travel experiences with the community")})]})]})}),i.jsxs("div",{className:"card-body luxury-card-body p-4",children:[B&&i.jsxs("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),B,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>F("")})]}),H&&i.jsxs("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[i.jsx("i",{className:"bi bi-check-circle-fill me-2"}),H,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>$("")})]}),i.jsxs("form",{onSubmit:be,children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{htmlFor:"title",className:"form-label fw-semibold",children:[l("Article Title")," ",i.jsx("span",{className:"text-danger",children:"*"})]}),i.jsx("input",{type:"text",className:"form-control form-control-lg border-0 shadow-sm",id:"title",name:"title",value:o.title,onChange:Q,placeholder:l("Enter your article title..."),style:{borderRadius:"0.75rem"},required:!0})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"form-label fw-semibold",children:[i.jsx("i",{className:"bi bi-image me-2 text-primary"}),l("Cover Image")," (",l("Optional"),")"]}),i.jsx("div",{className:`border-2 border-dashed rounded-4 p-4 text-center position-relative ${N?"border-primary bg-primary bg-opacity-10":"border-secondary"}`,style:{minHeight:"200px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease"},onDragOver:se,onDragLeave:q,onDrop:ue,onClick:()=>{var je;return(je=K.current)==null?void 0:je.click()},children:y?i.jsxs("div",{className:"position-relative w-100",children:[i.jsx("img",{src:y,alt:"Preview",className:"img-fluid rounded-3",style:{maxHeight:"300px",objectFit:"cover"}}),i.jsx("button",{type:"button",className:"btn btn-danger btn-sm position-absolute top-0 end-0 m-2",onClick:je=>{je.stopPropagation(),we()},style:{zIndex:10},children:i.jsx("i",{className:"bi bi-x"})})]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-cloud-upload text-muted",style:{fontSize:"3rem",marginBottom:"1rem"}}),i.jsx("h5",{className:"text-muted mb-2",children:l("Upload Cover Image")}),i.jsx("p",{className:"text-muted mb-3",children:l("Drag and drop an image here, or click to select")}),i.jsxs("div",{className:"d-flex gap-2 flex-wrap justify-content-center",children:[i.jsx("span",{className:"badge bg-light text-dark",children:"JPG"}),i.jsx("span",{className:"badge bg-light text-dark",children:"PNG"}),i.jsx("span",{className:"badge bg-light text-dark",children:"GIF"}),i.jsx("span",{className:"badge bg-light text-dark",children:"WEBP"})]})]})}),i.jsx("input",{ref:K,type:"file",accept:"image/*",onChange:ce,className:"d-none"}),i.jsxs("div",{className:"form-text mt-2",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),l("Add a cover image to make your article more attractive. Recommended size: 1200x630px")]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"form-label fw-semibold",children:[i.jsx("i",{className:"bi bi-file-text me-2 text-primary"}),l("Article Content")," ",i.jsx("span",{className:"text-danger",children:"*"})]}),i.jsx(kw,{value:o.content,onChange:ee,placeholder:l("Share your travel story, tips, experiences, and recommendations...")}),i.jsxs("div",{className:"form-text mt-2",children:[i.jsx("i",{className:"bi bi-lightbulb me-1"}),l("Tips: Include details about places visited, food tried, cultural experiences, and travel tips")]})]}),i.jsxs("div",{className:"d-flex gap-3 justify-content-end",children:[i.jsxs("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4",onClick:pe,disabled:D,children:[i.jsx("i",{className:"bi bi-x-circle me-2"}),l("Cancel")]}),i.jsx("button",{type:"submit",className:"btn btn-main btn-lg px-5",disabled:D,children:D?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),l("Publishing...")]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-send me-2"}),l("Publish Article")]})})]})]})]})]})})})}),i.jsx(qr,{})]})}const XX=()=>{const{user:l,notificationRefreshTrigger:c}=I.useContext(cs),[s,o]=I.useState([]),[h,g]=I.useState(!0),[_,y]=I.useState(""),[v,N]=I.useState(!1),[S,D]=I.useState(null);I.useEffect(()=>{l&&j()},[l,c]);const j=async()=>{try{g(!0);const se=await LO(l.id);o(se.data)}catch(se){console.error("Error fetching notifications:",se),y("Không thể tải thông báo")}finally{g(!1)}},B=async se=>{try{await BO(se,{is_read:!0}),o(q=>q.map(ue=>ue.notification_id===se?{...ue,is_read:!0}:ue))}catch(q){console.error("Error marking notification as read:",q)}},F=async()=>{try{await rA(l.id),o(se=>se.map(q=>({...q,is_read:!0})))}catch(se){console.error("Error marking all notifications as read:",se)}},H=async se=>{D(se),N(!0)},$=async()=>{if(S)try{await PO(S),o(se=>se.filter(q=>q.notification_id!==S)),N(!1),D(null)}catch(se){console.error("Error deleting notification:",se)}},K=()=>{N(!1),D(null)},Q=se=>{try{return new Date(se).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return se}},ee=se=>{switch(se){case"tour_reminder":return"bi bi-calendar-event text-warning";case"tour_completion":return"bi bi-check-circle text-success";case"tour_created":return"bi bi-plus-circle text-primary";default:return"bi bi-bell text-info"}},ne=se=>{switch(se){case"tour_reminder":return"badge bg-warning text-dark";case"tour_completion":return"badge bg-success";case"tour_created":return"badge bg-primary";default:return"badge bg-info"}},ce=se=>{se.article_id&&se.comment_id?navigate(`/articles/${se.article_id}#comment-${se.comment_id}`):se.article_id?navigate(`/articles/${se.article_id}`):se.tour_id?navigate(`/tours/${se.tour_id}`):se.place_id&&navigate(`/places/${se.place_id}`)};return l?i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Lr,{}),i.jsx("main",{className:"container py-4 flex-grow-1",children:i.jsxs("div",{className:"user-page-content",children:[i.jsx("div",{className:"profile-header",children:i.jsxs("h1",{className:"text-center mb-0",children:[i.jsx("i",{className:"bi bi-bell me-3"}),"Thông báo của tôi"]})}),i.jsx("div",{className:"profile-sections",children:i.jsxs("div",{className:"profile-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h3",{children:"Danh sách thông báo"}),s.length>0&&i.jsxs("button",{className:"btn btn-outline-primary",onClick:F,children:[i.jsx("i",{className:"bi bi-check-all me-2"}),"Đánh dấu tất cả đã đọc"]})]}),h?i.jsxs("div",{className:"loading",children:[i.jsx("div",{className:"spinner-border text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("p",{className:"mt-3",children:"Đang tải thông báo..."})]}):_?i.jsxs("div",{className:"error-message",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),_]}):s.length===0?i.jsxs("div",{className:"no-tours",children:[i.jsx("i",{className:"bi bi-bell-slash fa-3x text-muted mb-3"}),i.jsx("p",{children:"Bạn chưa có thông báo nào"})]}):i.jsx("div",{className:"notifications-list",children:s.map(se=>i.jsx("div",{className:`notification-item ${se.is_read?"":"unread"}`,style:{cursor:"pointer"},onClick:()=>ce(se),children:i.jsxs("div",{className:"notification-content",children:[i.jsx("div",{className:"notification-header",children:i.jsxs("div",{className:"d-flex align-items-center",children:[i.jsx("i",{className:ee(se.type),style:{fontSize:"1.5rem",marginRight:"1rem"}}),i.jsxs("div",{className:"flex-grow-1",children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[i.jsx("p",{className:"notification-text mb-1",children:se.content}),i.jsxs("div",{className:"notification-actions",children:[!se.is_read&&i.jsx("span",{className:"badge bg-primary rounded-pill me-2",children:"Mới"}),i.jsxs("span",{className:ne(se.type),children:[se.type==="tour_reminder"&&"Nhắc nhở",se.type==="tour_completion"&&"Hoàn thành",se.type==="tour_created"&&"Tạo tour",!se.type&&"Thông báo"]})]})]}),i.jsx("small",{className:"text-muted",children:Q(se.created_at)})]})]})}),i.jsxs("div",{className:"notification-actions mt-2",children:[!se.is_read&&i.jsxs("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>B(se.notification_id),children:[i.jsx("i",{className:"bi bi-check me-1"}),"Đánh dấu đã đọc"]}),i.jsxs("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>H(se.notification_id),children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xóa"]})]})]})},se.notification_id))})]})})]})}),i.jsx(qr,{}),i.jsx("div",{className:`modal fade ${v?"show":""}`,style:{display:v?"block":"none"},tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content border-0 shadow-lg",children:[i.jsxs("div",{className:"modal-header bg-danger text-white",children:[i.jsxs("h5",{className:"modal-title",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),"Xác nhận xóa"]}),i.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:K})]}),i.jsx("div",{className:"modal-body",children:i.jsx("p",{className:"mb-0",children:"Bạn có chắc muốn xóa thông báo này? Hành động này không thể hoàn tác."})}),i.jsxs("div",{className:"modal-footer",children:[i.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:K,children:[i.jsx("i",{className:"bi bi-x-circle me-1"}),"Hủy"]}),i.jsxs("button",{type:"button",className:"btn btn-danger",onClick:$,children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xóa"]})]})]})})}),v&&i.jsx("div",{className:"modal-backdrop fade show"})]}):i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Lr,{}),i.jsx("main",{className:"container py-4 flex-grow-1",children:i.jsx("div",{className:"alert alert-warning",children:"Bạn cần đăng nhập để xem thông báo."})}),i.jsx(qr,{})]})};function JX(){const{pathname:l}=Vl(),[c,s]=I.useState(!1);I.useEffect(()=>{const h=()=>{s(window.scrollY>200)};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]),I.useEffect(()=>{window.scrollTo({top:0,behavior:"auto"})},[l]);const o=()=>{window.scrollTo({top:0,behavior:"smooth"})};return i.jsx(i.Fragment,{children:c&&i.jsx("button",{onClick:o,"aria-label":"Scroll to top",style:{position:"fixed",right:22,bottom:80,zIndex:9999,background:"linear-gradient(135deg, #3498db 0%, #2980b9 100%)",color:"#fff",border:"none",borderRadius:"50%",width:48,height:48,boxShadow:"0 4px 16px rgba(52,152,219,0.18)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:24,cursor:"pointer",transition:"opacity 0.2s"},children:i.jsx("i",{className:"bi bi-arrow-up"})})})}const eJ=()=>{const[l]=sO(),[c,s]=I.useState("Verifying..."),[o,h]=I.useState(!0),g=ba();return I.useEffect(()=>{const _=l.get("token");if(!_){s("Invalid verification link."),h(!1);return}fetch(`http://localhost:3000/api/auth/verify-email?token=${_}`).then(y=>y.json()).then(y=>{y.success?(s("Email verified! You can now log in."),setTimeout(()=>g("/login"),2e3)):s(y.message||"Verification failed."),h(!1)}).catch(()=>{s("Verification failed."),h(!1)})},[l,g]),i.jsx("div",{className:"container py-5 text-center",children:o?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("h2",{children:c})]}):i.jsx("h2",{children:c})})},tJ=()=>{const[l,c]=I.useState(""),[s,o]=I.useState(""),[h,g]=I.useState(!1),_=async y=>{y.preventDefault(),g(!0),o("");try{const N=await(await fetch("http://localhost:3000/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l})})).json();N.success?o("Check your email for a password reset link or OTP."):o(N.message||"Failed to send reset email.")}catch{o("Failed to send reset email.")}g(!1)};return i.jsxs("div",{className:"container py-5",style:{maxWidth:400},children:[i.jsx("h2",{className:"mb-4",children:"Forgot Password"}),i.jsxs("form",{onSubmit:_,children:[i.jsx("div",{className:"mb-3",children:i.jsx("input",{type:"email",className:"form-control",placeholder:"Enter your email",value:l,onChange:y=>c(y.target.value),required:!0})}),i.jsx("button",{className:"btn btn-primary w-100",disabled:h,children:h?"Sending...":"Send Reset Link"})]}),s&&i.jsx("div",{className:"alert alert-info mt-3",children:s})]})},nJ=({onVerify:l,email:c})=>{const[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(!1),v=async N=>{N.preventDefault(),y(!0),g("");try{const D=await(await fetch("http://localhost:3000/api/auth/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,otp:s})})).json();D.success?(g("OTP verified!"),l&&l()):g(D.message||"Invalid OTP.")}catch{g("Failed to verify OTP.")}y(!1)};return i.jsxs("form",{onSubmit:v,style:{maxWidth:400,margin:"0 auto"},children:[i.jsx("h2",{className:"mb-4",children:"Enter OTP"}),i.jsx("div",{className:"mb-3",children:i.jsx("input",{type:"text",className:"form-control",placeholder:"Enter OTP",value:s,onChange:N=>o(N.target.value),required:!0})}),i.jsx("button",{className:"btn btn-primary w-100",disabled:_,children:_?"Verifying...":"Verify OTP"}),h&&i.jsx("div",{className:"alert alert-info mt-3",children:h})]})};function iJ(){const[l]=sO(),c=l.get("token"),[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(""),[S,D]=I.useState(!1),j=ba(),B=async F=>{var H,$;if(F.preventDefault(),y(""),N(""),!c){y("Liên kết không hợp lệ hoặc đã hết hạn.");return}if(s.length<6){y("Mật khẩu phải có ít nhất 6 ký tự.");return}if(s!==h){y("Mật khẩu xác nhận không khớp.");return}D(!0);try{const K=await kt.post("http://localhost:3000/api/auth/reset-password",{token:c,password:s,confirmPassword:h});N(K.data.message||"Đặt lại mật khẩu thành công."),setTimeout(()=>{j("/login")},3e3)}catch(K){y((($=(H=K.response)==null?void 0:H.data)==null?void 0:$.message)||"Lỗi đặt lại mật khẩu")}finally{D(!1)}};return i.jsxs("div",{className:"min-vh-100 d-flex flex-column luxury-home-container",children:[i.jsx(Lr,{}),i.jsx("main",{className:"container d-flex flex-column align-items-center justify-content-center flex-grow-1 py-5",children:i.jsxs("div",{className:"card shadow border-0 rounded-4 p-4 luxury-card",style:{maxWidth:420,width:"100%",background:"rgba(255,255,255,0.97)"},children:[i.jsx("h2",{className:"mb-4 text-center",style:{color:"#1a5bb8",fontWeight:700},children:"Đặt lại mật khẩu"}),i.jsxs("form",{onSubmit:B,className:"w-100",children:[_&&i.jsx("div",{className:"alert alert-danger",children:_}),v&&i.jsx("div",{className:"alert alert-success",children:v}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mật khẩu mới:"}),i.jsx("input",{type:"password",className:"form-control",value:s,onChange:F=>o(F.target.value),required:!0,minLength:6,disabled:S}),i.jsx("small",{className:"text-muted",children:"Mật khẩu phải có ít nhất 6 ký tự"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Xác nhận mật khẩu mới:"}),i.jsx("input",{type:"password",className:"form-control",value:h,onChange:F=>g(F.target.value),required:!0,minLength:6,disabled:S}),h&&s!==h&&i.jsx("small",{className:"text-danger",children:"Mật khẩu xác nhận không khớp"}),h&&s===h&&i.jsx("small",{className:"text-success",children:"✓ Mật khẩu khớp"})]}),i.jsx("button",{type:"submit",className:"btn btn-success w-100",disabled:S||!s||!h,children:S?"Đang đặt lại...":"Đặt lại mật khẩu"})]})]})}),i.jsx(qr,{})]})}const rJ=()=>{const{id:l}=wb(),[c,s]=I.useState(null),[o,h]=I.useState(!0),[g,_]=I.useState(""),[y,v]=I.useState(null),[N,S]=I.useState(!1),[D,j]=I.useState(!1),[B,F]=I.useState(""),[H,$]=I.useState(""),[K,Q]=I.useState(null),{user:ee}=I.useContext(cs);if(I.useEffect(()=>{h(!0),kt.get(`http://localhost:3000/api/hotels/${l}`).then(ue=>s(ue.data.data)).catch(()=>_("Không tìm thấy khách sạn này.")).finally(()=>h(!1))},[l]),o)return i.jsx("div",{className:"d-flex justify-content-center align-items-center py-5",children:i.jsx("div",{className:"spinner-border text-primary",role:"status"})});if(g)return i.jsx("div",{className:"alert alert-danger mt-4 text-center",children:g});if(!c)return i.jsx("div",{className:"alert alert-warning mt-4 text-center",children:"Không tìm thấy khách sạn."});const ne=c.images?c.images.map(ue=>ue.image_url):[],ce=ne.length>0?ne[0].startsWith("http")?ne[0]:`http://localhost:3000${ne[0]}`:null,se=ne.length>1?ne.slice(1):[],q=ue=>{v(ue),S(!0)};return i.jsxs("div",{className:"luxury-home-container",children:[i.jsx(Lr,{}),i.jsx("div",{className:"container py-4",children:i.jsxs("div",{className:"row g-3 align-items-start",style:{minHeight:350},children:[i.jsxs("div",{className:"col-md-7 col-12",children:[i.jsx("h2",{className:"fw-bold mb-2",style:{color:"#1a5bb8"},children:c.name}),i.jsx(zl,{id:c.id,type:"hotel"}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-geo-alt me-2 text-primary"}),i.jsx("b",{children:"Địa chỉ:"})," ",i.jsx("span",{className:"text-dark",children:c.address||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-building me-2 text-secondary"}),i.jsx("b",{children:"Thành phố:"})," ",i.jsx("span",{className:"text-dark",children:c.city||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-telephone me-2 text-success"}),i.jsx("b",{children:"Liên hệ:"})," ",i.jsx("span",{className:"text-dark",children:c.phone||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-star me-2 text-warning"}),i.jsx("b",{children:"Hạng sao:"})," ",i.jsx("span",{className:"text-dark",children:c.stars||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-currency-dollar me-2 text-success"}),i.jsx("b",{children:"Giá:"})," ",i.jsx("span",{className:"text-dark",children:c.price?c.price.toLocaleString("vi-VN")+" VND":"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-info-circle me-2 text-info"}),i.jsx("b",{children:"Mô tả:"})," ",i.jsx("span",{className:"text-muted",children:c.description||"---"})]}),Array.isArray(c.amenities)&&c.amenities.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-gem me-2 text-info"}),i.jsx("b",{children:"Tiện nghi:"}),i.jsx("div",{className:"d-flex flex-wrap gap-2 mt-1",children:c.amenities.map((ue,oe)=>i.jsx("span",{className:"badge bg-light text-dark border border-1 px-3 py-2",style:{fontSize:"1em",borderRadius:12},children:ue},oe))})]}),i.jsxs(Ut,{className:"mt-3 btn btn-main",onClick:()=>j(!0),children:[i.jsx("i",{className:"bi bi-calendar-check me-2"}),"Đặt phòng khách sạn"]}),K==="success"&&i.jsx("div",{className:"alert alert-success mt-3",children:"Đặt phòng thành công!"}),K==="error"&&i.jsx("div",{className:"alert alert-danger mt-3",children:"Đặt phòng thất bại. Vui lòng thử lại."})]}),i.jsxs("div",{className:"col-md-5 col-12 d-flex flex-column align-items-end",children:[ce?i.jsx("img",{src:ce,alt:c.name,style:{width:"100%",maxWidth:400,maxHeight:300,objectFit:"cover",borderRadius:16,marginBottom:8,cursor:"pointer"},onClick:()=>q(ce)}):i.jsx("div",{className:"d-flex align-items-center justify-content-center bg-light",style:{width:"100%",maxWidth:400,height:220,borderRadius:16},children:i.jsx("i",{className:"bi bi-image text-muted",style:{fontSize:"4rem"}})}),se.length>0&&i.jsx("div",{className:"d-flex flex-wrap gap-2 mt-2 justify-content-end",children:se.map((ue,oe)=>{const be=ue.startsWith("http")?ue:`http://localhost:3000${ue}`;return i.jsx("img",{src:be,alt:c.name,style:{height:60,width:90,objectFit:"cover",borderRadius:8,border:"1px solid #e9ecef",background:"#f8f9fa",cursor:"pointer"},onClick:()=>q(be)},oe)})})]})]})}),N&&i.jsx("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.7)"},tabIndex:"-1",onClick:()=>S(!1),children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",onClick:ue=>ue.stopPropagation(),children:i.jsxs("div",{className:"modal-content bg-transparent border-0",children:[i.jsx("button",{type:"button",className:"btn-close btn-close-white ms-auto",style:{fontSize:24},onClick:()=>S(!1)}),i.jsx("img",{src:y,alt:"Preview",className:"img-fluid rounded-4 shadow",style:{maxHeight:"70vh",maxWidth:"90vw",display:"block",margin:"0 auto"}})]})})}),i.jsxs(yt,{show:D,onHide:()=>j(!1),centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Đặt phòng khách sạn"})}),i.jsx(yt.Body,{children:i.jsxs(bn,{children:[i.jsxs(bn.Group,{className:"mb-3",children:[i.jsx(bn.Label,{children:"Ngày nhận phòng"}),i.jsx(bn.Control,{type:"date",value:B,onChange:ue=>F(ue.target.value)})]}),i.jsxs(bn.Group,{className:"mb-3",children:[i.jsx(bn.Label,{children:"Ngày trả phòng"}),i.jsx(bn.Control,{type:"date",value:H,onChange:ue=>$(ue.target.value)})]})]})}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:()=>j(!1),children:"Đóng"}),i.jsx(Ut,{variant:"success",onClick:async()=>{Q(null);try{await fh.bookHotel({user_id:ee==null?void 0:ee.id,hotel_id:c.id,check_in:B,check_out:H}),Q("success")}catch{Q("error")}},disabled:!B||!H,children:"Xác nhận đặt phòng"})]})]}),i.jsx(qr,{})]})},sJ=()=>{const{id:l}=wb(),[c,s]=I.useState(null),[o,h]=I.useState(!0),[g,_]=I.useState(""),{user:y}=Ab(),[v,N]=I.useState(!1),[S,D]=I.useState(""),[j,B]=I.useState(2),[F,H]=I.useState(""),[$,K]=I.useState(null),[Q,ee]=I.useState([]),[ne,ce]=I.useState(!0),[se,q]=I.useState(null);if(I.useEffect(()=>{h(!0),kt.get(`http://localhost:3000/api/restaurants/${l}`).then(we=>s(we.data.data)).catch(()=>_("Không tìm thấy nhà hàng này.")).finally(()=>h(!1))},[l]),I.useEffect(()=>{ce(!0),kt.get(`http://localhost:3000/api/restaurants/${l}/menus`).then(async we=>{const je=we.data.data||[],ye=await Promise.all(je.map(async Me=>{const le=await kt.get(`http://localhost:3000/api/restaurants/menus/${Me.id}/items`).catch(()=>({data:{data:[]}}));return{...Me,items:le.data.data||[]}}));ee(ye),q(ye.length>0?ye[0]:null)}).catch(()=>{ee([]),q(null)}).finally(()=>ce(!1))},[l]),o)return i.jsx("div",{className:"d-flex justify-content-center align-items-center py-5",children:i.jsx("div",{className:"spinner-border text-primary",role:"status"})});if(g)return i.jsx("div",{className:"alert alert-danger mt-4 text-center",children:g});if(!c)return i.jsx("div",{className:"alert alert-warning mt-4 text-center",children:"Không tìm thấy nhà hàng."});const ue=c.images?c.images.map(we=>we.image_url):[],oe=ue.length>0?ue[0].startsWith("http")?ue[0]:`http://localhost:3000${ue[0]}`:null,be=ue.length>1?ue.slice(1):[],pe=async we=>{if(we.preventDefault(),!y){K({success:!1,message:"Bạn cần đăng nhập để đặt bàn."});return}try{const je=await kt.post(`http://localhost:3000/api/restaurants/${l}/bookings`,{user_id:y.id,restaurant_id:l,booking_time:S,number_of_people:j,special_requests:F});K({success:!0,message:"Đặt bàn thành công!"}),N(!1)}catch{K({success:!1,message:"Đặt bàn thất bại. Vui lòng thử lại."})}};return i.jsxs("div",{className:"luxury-home-container",children:[i.jsx(Lr,{}),i.jsx("div",{className:"container py-4",children:i.jsxs("div",{className:"row g-3 align-items-start",style:{minHeight:350},children:[i.jsxs("div",{className:"col-md-7 col-12",children:[i.jsx("h2",{className:"fw-bold mb-2",style:{color:"#1a5bb8"},children:c.name}),i.jsx(zl,{id:c.id,type:"restaurant"}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-geo-alt me-2 text-primary"}),i.jsx("b",{children:"Địa chỉ:"})," ",i.jsx("span",{className:"text-dark",children:c.address||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-building me-2 text-secondary"}),i.jsx("b",{children:"Thành phố:"})," ",i.jsx("span",{className:"text-dark",children:c.city||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-telephone me-2 text-success"}),i.jsx("b",{children:"Liên hệ:"})," ",i.jsx("span",{className:"text-dark",children:c.phone||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-star me-2 text-warning"}),i.jsx("b",{children:"Đánh giá:"})," ",i.jsx("span",{className:"text-dark",children:c.rating||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-info-circle me-2 text-info"}),i.jsx("b",{children:"Mô tả:"})," ",i.jsx("span",{className:"text-muted",children:c.description||"---"})]}),c.cuisine_type&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-egg-fried me-2 text-danger"}),i.jsx("b",{children:"Loại ẩm thực:"})," ",i.jsx("span",{className:"text-dark",children:c.cuisine_type})]}),Array.isArray(c.features)&&c.features.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-gem me-2 text-info"}),i.jsx("b",{children:"Tiện ích:"}),i.jsx("div",{className:"d-flex flex-wrap gap-2 mt-1",children:c.features.map((we,je)=>i.jsx("span",{className:"badge bg-light text-dark border border-1 px-3 py-2",style:{fontSize:"1em",borderRadius:12},children:we},je))})]}),i.jsx(Ut,{className:"mt-3 btn btn-main",onClick:()=>N(!0),children:"Đặt bàn ngay"}),$&&i.jsx("div",{className:`alert mt-3 ${$.success?"alert-success":"alert-danger"}`,children:$.message}),i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"fw-bold mb-3",children:"Thực đơn"}),ne?i.jsx("div",{children:"Đang tải thực đơn..."}):Q.length===0?i.jsx("div",{className:"text-muted",children:"Nhà hàng chưa có thực đơn."}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"d-flex overflow-auto mb-3",style:{gap:8},children:Q.map(we=>i.jsx(Ut,{variant:se&&se.id===we.id?"primary":"outline-primary",className:"me-2 btn btn-main",onClick:()=>q(we),style:{whiteSpace:"nowrap"},children:we.name},we.id))}),se&&se.items&&se.items.length>0?i.jsx("div",{className:"row g-3",children:se.items.map(we=>i.jsx("div",{className:"col-md-6 col-lg-4",children:i.jsxs("div",{className:"card h-100 shadow-sm",children:[we.image_url&&i.jsx("img",{src:we.image_url.startsWith("http")?we.image_url:`http://localhost:3000${we.image_url}`,alt:we.name,className:"card-img-top",style:{height:160,objectFit:"cover"}}),i.jsxs("div",{className:"card-body",children:[i.jsx("h6",{className:"card-title mb-1 fw-bold",children:we.name}),i.jsx("div",{className:"mb-1 text-success",children:we.price?we.price.toLocaleString("vi-VN")+" VND":""}),i.jsx("div",{className:"card-text text-muted",style:{fontSize:"0.95em"},children:we.description})]})]})},we.id))}):i.jsx("div",{className:"text-muted",children:"Chưa có món ăn nào trong mục này."})]})]})]}),i.jsxs("div",{className:"col-md-5 col-12 d-flex flex-column align-items-end",children:[oe?i.jsx("img",{src:oe,alt:c.name,style:{width:"100%",maxWidth:400,maxHeight:300,objectFit:"cover",borderRadius:16,marginBottom:8}}):i.jsx("div",{className:"d-flex align-items-center justify-content-center bg-light",style:{width:"100%",maxWidth:400,height:220,borderRadius:16},children:i.jsx("i",{className:"bi bi-image text-muted",style:{fontSize:"4rem"}})}),be.length>0&&i.jsx("div",{className:"d-flex flex-wrap gap-2 mt-2 justify-content-end",children:be.map((we,je)=>i.jsx("img",{src:we.startsWith("http")?we:`http://localhost:3000${we}`,alt:c.name,style:{height:60,width:90,objectFit:"cover",borderRadius:8,border:"1px solid #e9ecef",background:"#f8f9fa"}},je))})]})]})}),i.jsxs(yt,{show:v,onHide:()=>N(!1),centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsxs(yt.Title,{children:["Đặt bàn tại ",c==null?void 0:c.name]})}),i.jsxs(bn,{onSubmit:pe,children:[i.jsxs(yt.Body,{children:[i.jsxs(bn.Group,{className:"mb-3",children:[i.jsx(bn.Label,{children:"Ngày & Giờ"}),i.jsx(bn.Control,{type:"datetime-local",value:S,onChange:we=>D(we.target.value),required:!0})]}),i.jsxs(bn.Group,{className:"mb-3",children:[i.jsx(bn.Label,{children:"Số người"}),i.jsx(bn.Control,{type:"number",min:1,max:30,value:j,onChange:we=>B(we.target.value),required:!0})]}),i.jsxs(bn.Group,{className:"mb-3",children:[i.jsx(bn.Label,{children:"Ghi chú đặc biệt"}),i.jsx(bn.Control,{as:"textarea",rows:2,value:F,onChange:we=>H(we.target.value),placeholder:"(Không bắt buộc)"})]})]}),i.jsxs(yt.Footer,{children:[i.jsx(Ut,{variant:"secondary",onClick:()=>N(!1),children:"Hủy"}),i.jsx(Ut,{variant:"primary",type:"submit",children:"Đặt bàn"})]})]})]}),i.jsx(qr,{})]})},oJ=({message:l,type:c="success",duration:s=3e3,onClose:o,position:h="top-right"})=>{const[g,_]=I.useState(!0),[y,v]=I.useState(!1);I.useEffect(()=>{const j=setTimeout(()=>{N()},s);return()=>clearTimeout(j)},[s]);const N=()=>{v(!0),setTimeout(()=>{_(!1),o&&o()},300)},S=()=>{switch(c){case"success":return i.jsx("i",{className:"bi bi-check-circle-fill"});case"error":return i.jsx("i",{className:"bi bi-exclamation-triangle-fill"});case"warning":return i.jsx("i",{className:"bi bi-exclamation-triangle-fill"});case"info":return i.jsx("i",{className:"bi bi-info-circle-fill"});default:return i.jsx("i",{className:"bi bi-check-circle-fill"})}},D=()=>{const j="toast-notification",B=`toast-${c}`,F=`toast-${h.replace("-","-")}`;return`${j} ${B} ${F} ${y?"toast-exit":"toast-enter"}`};return g?i.jsxs("div",{className:D(),children:[i.jsxs("div",{className:"toast-content",children:[i.jsx("div",{className:"toast-icon",children:S()}),i.jsx("div",{className:"toast-message",children:l}),i.jsx("button",{className:"toast-close",onClick:N,"aria-label":"Close notification",children:i.jsx("i",{className:"bi bi-x"})})]}),i.jsx("div",{className:"toast-progress",children:i.jsx("div",{className:"toast-progress-bar",style:{animationDuration:`${s}ms`,animationDelay:"0ms"}})})]}):null},aJ=()=>{const[l,c]=I.useState([]),s=I.useCallback((h,g="success",_=3e3)=>{const y=Date.now()+Math.random(),v={id:y,message:h,type:g,duration:_};return c(N=>[...N,v]),y},[]),o=I.useCallback(h=>{c(g=>g.filter(_=>_.id!==h))},[]);return tt.useEffect(()=>(window.showToast=s,()=>{delete window.showToast}),[s]),i.jsx("div",{className:"toast-container",children:l.map(h=>i.jsx(oJ,{message:h.message,type:h.type,duration:h.duration,onClose:()=>o(h.id)},h.id))})};function lJ(){return i.jsxs(m9,{children:[i.jsx(JX,{}),i.jsx(aJ,{}),i.jsxs(H7,{children:[i.jsx(xi,{path:"/",element:i.jsx(HZ,{})}),i.jsx(xi,{path:"/login",element:i.jsx(GZ,{})}),i.jsx(xi,{path:"/register",element:i.jsx(KZ,{})}),i.jsx(xi,{path:"/verify-email",element:i.jsx(eJ,{})}),i.jsx(xi,{path:"/forgot-password",element:i.jsx(tJ,{})}),i.jsx(xi,{path:"/reset-password",element:i.jsx(iJ,{})}),i.jsx(xi,{path:"/otp",element:i.jsx(nJ,{})}),i.jsx(xi,{path:"/users",element:i.jsx(lu,{children:i.jsx(UZ,{})})}),i.jsx(xi,{path:"/places",element:i.jsx(lu,{children:i.jsx(qZ,{})})}),i.jsx(xi,{path:"/tours",element:i.jsx(lu,{children:i.jsx(WZ,{})})}),i.jsx(xi,{path:"/articles",element:i.jsx(lu,{children:i.jsx(YZ,{})})}),i.jsx(xi,{path:"/create-article",element:i.jsx(lu,{children:i.jsx(ZX,{})})}),i.jsx(xi,{path:"/notifications",element:i.jsx(lu,{children:i.jsx(XX,{})})}),i.jsx(xi,{path:"/admin",element:i.jsx(ld,{children:i.jsx(QZ,{})})}),i.jsx(xi,{path:"/admin/users",element:i.jsx(ld,{children:i.jsx(CX,{})})}),i.jsx(xi,{path:"/admin/places",element:i.jsx(ld,{children:i.jsx(DX,{})})}),i.jsx(xi,{path:"/admin/hotels",element:i.jsx(ld,{children:i.jsx(MX,{})})}),i.jsx(xi,{path:"/admin/restaurants",element:i.jsx(ld,{children:i.jsx(IX,{})})}),i.jsx(xi,{path:"/admin/articles",element:i.jsx(ld,{children:i.jsx(xX,{})})}),i.jsx(xi,{path:"/admin/tours",element:i.jsx(ld,{children:i.jsx(LX,{})})}),i.jsx(xi,{path:"/admin/bookings",element:i.jsx(ld,{children:i.jsx(BX,{})})}),i.jsx(xi,{path:"/admin/tags",element:i.jsx(ld,{children:i.jsx(PX,{})})}),i.jsx(xi,{path:"/admin/settings",element:i.jsx(ld,{children:i.jsx(RX,{})})}),i.jsx(xi,{path:"/manual-planner",element:i.jsx(lu,{children:i.jsx(eL,{})})}),i.jsx(xi,{path:"/my-tours",element:i.jsx(lu,{children:i.jsx(QX,{})})}),i.jsx(xi,{path:"/ai/generate-tour",element:i.jsx(lu,{children:i.jsx(tL,{})})}),i.jsx(xi,{path:"/articles/:id",element:i.jsx(C3,{})}),i.jsx(xi,{path:"/articles/:id/report",element:i.jsx(C3,{})}),i.jsx(xi,{path:"/places/:id",element:i.jsx(UX,{})}),i.jsx(xi,{path:"/tours/:id",element:i.jsx(GX,{})}),i.jsx(xi,{path:"/hotels/:id",element:i.jsx(rJ,{})}),i.jsx(xi,{path:"/restaurants/:id",element:i.jsx(sJ,{})}),i.jsx(xi,{path:"/place-ratings/rate/:id",element:i.jsx(zl,{})})]})]})}var dv={exports:{}};/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var cJ=dv.exports,E3;function dJ(){return E3||(E3=1,function(l,c){(function(s,o){l.exports=o()})(cJ,function(){const s=new Map,o={set(ie,P,Y){s.has(ie)||s.set(ie,new Map);const he=s.get(ie);he.has(P)||he.size===0?he.set(P,Y):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(he.keys())[0]}.`)},get:(ie,P)=>s.has(ie)&&s.get(ie).get(P)||null,remove(ie,P){if(!s.has(ie))return;const Y=s.get(ie);Y.delete(P),Y.size===0&&s.delete(ie)}},h="transitionend",g=ie=>(ie&&window.CSS&&window.CSS.escape&&(ie=ie.replace(/#([^\s"#']+)/g,(P,Y)=>`#${CSS.escape(Y)}`)),ie),_=ie=>{ie.dispatchEvent(new Event(h))},y=ie=>!(!ie||typeof ie!="object")&&(ie.jquery!==void 0&&(ie=ie[0]),ie.nodeType!==void 0),v=ie=>y(ie)?ie.jquery?ie[0]:ie:typeof ie=="string"&&ie.length>0?document.querySelector(g(ie)):null,N=ie=>{if(!y(ie)||ie.getClientRects().length===0)return!1;const P=getComputedStyle(ie).getPropertyValue("visibility")==="visible",Y=ie.closest("details:not([open])");if(!Y)return P;if(Y!==ie){const he=ie.closest("summary");if(he&&he.parentNode!==Y||he===null)return!1}return P},S=ie=>!ie||ie.nodeType!==Node.ELEMENT_NODE||!!ie.classList.contains("disabled")||(ie.disabled!==void 0?ie.disabled:ie.hasAttribute("disabled")&&ie.getAttribute("disabled")!=="false"),D=ie=>{if(!document.documentElement.attachShadow)return null;if(typeof ie.getRootNode=="function"){const P=ie.getRootNode();return P instanceof ShadowRoot?P:null}return ie instanceof ShadowRoot?ie:ie.parentNode?D(ie.parentNode):null},j=()=>{},B=ie=>{ie.offsetHeight},F=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,H=[],$=()=>document.documentElement.dir==="rtl",K=ie=>{var P;P=()=>{const Y=F();if(Y){const he=ie.NAME,Pe=Y.fn[he];Y.fn[he]=ie.jQueryInterface,Y.fn[he].Constructor=ie,Y.fn[he].noConflict=()=>(Y.fn[he]=Pe,ie.jQueryInterface)}},document.readyState==="loading"?(H.length||document.addEventListener("DOMContentLoaded",()=>{for(const Y of H)Y()}),H.push(P)):P()},Q=(ie,P=[],Y=ie)=>typeof ie=="function"?ie.call(...P):Y,ee=(ie,P,Y=!0)=>{if(!Y)return void Q(ie);const he=(st=>{if(!st)return 0;let{transitionDuration:wt,transitionDelay:It}=window.getComputedStyle(st);const Wt=Number.parseFloat(wt),Kt=Number.parseFloat(It);return Wt||Kt?(wt=wt.split(",")[0],It=It.split(",")[0],1e3*(Number.parseFloat(wt)+Number.parseFloat(It))):0})(P)+5;let Pe=!1;const Le=({target:st})=>{st===P&&(Pe=!0,P.removeEventListener(h,Le),Q(ie))};P.addEventListener(h,Le),setTimeout(()=>{Pe||_(P)},he)},ne=(ie,P,Y,he)=>{const Pe=ie.length;let Le=ie.indexOf(P);return Le===-1?!Y&&he?ie[Pe-1]:ie[0]:(Le+=Y?1:-1,he&&(Le=(Le+Pe)%Pe),ie[Math.max(0,Math.min(Le,Pe-1))])},ce=/[^.]*(?=\..*)\.|.*/,se=/\..*/,q=/::\d+$/,ue={};let oe=1;const be={mouseenter:"mouseover",mouseleave:"mouseout"},pe=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function we(ie,P){return P&&`${P}::${oe++}`||ie.uidEvent||oe++}function je(ie){const P=we(ie);return ie.uidEvent=P,ue[P]=ue[P]||{},ue[P]}function ye(ie,P,Y=null){return Object.values(ie).find(he=>he.callable===P&&he.delegationSelector===Y)}function Me(ie,P,Y){const he=typeof P=="string",Pe=he?Y:P||Y;let Le=Ee(ie);return pe.has(Le)||(Le=ie),[he,Pe,Le]}function le(ie,P,Y,he,Pe){if(typeof P!="string"||!ie)return;let[Le,st,wt]=Me(P,Y,he);P in be&&(st=(xn=>function(St){if(!St.relatedTarget||St.relatedTarget!==St.delegateTarget&&!St.delegateTarget.contains(St.relatedTarget))return xn.call(this,St)})(st));const It=je(ie),Wt=It[wt]||(It[wt]={}),Kt=ye(Wt,st,Le?Y:null);if(Kt)return void(Kt.oneOff=Kt.oneOff&&Pe);const Yt=we(st,P.replace(ce,"")),mt=Le?function(hn,xn,St){return function Cn(ri){const mi=hn.querySelectorAll(xn);for(let{target:Hn}=ri;Hn&&Hn!==this;Hn=Hn.parentNode)for(const at of mi)if(at===Hn)return fe(ri,{delegateTarget:Hn}),Cn.oneOff&&Z.off(hn,ri.type,xn,St),St.apply(Hn,[ri])}}(ie,Y,st):function(hn,xn){return function St(Cn){return fe(Cn,{delegateTarget:hn}),St.oneOff&&Z.off(hn,Cn.type,xn),xn.apply(hn,[Cn])}}(ie,st);mt.delegationSelector=Le?Y:null,mt.callable=st,mt.oneOff=Pe,mt.uidEvent=Yt,Wt[Yt]=mt,ie.addEventListener(wt,mt,Le)}function _e(ie,P,Y,he,Pe){const Le=ye(P[Y],he,Pe);Le&&(ie.removeEventListener(Y,Le,!!Pe),delete P[Y][Le.uidEvent])}function me(ie,P,Y,he){const Pe=P[Y]||{};for(const[Le,st]of Object.entries(Pe))Le.includes(he)&&_e(ie,P,Y,st.callable,st.delegationSelector)}function Ee(ie){return ie=ie.replace(se,""),be[ie]||ie}const Z={on(ie,P,Y,he){le(ie,P,Y,he,!1)},one(ie,P,Y,he){le(ie,P,Y,he,!0)},off(ie,P,Y,he){if(typeof P!="string"||!ie)return;const[Pe,Le,st]=Me(P,Y,he),wt=st!==P,It=je(ie),Wt=It[st]||{},Kt=P.startsWith(".");if(Le===void 0){if(Kt)for(const Yt of Object.keys(It))me(ie,It,Yt,P.slice(1));for(const[Yt,mt]of Object.entries(Wt)){const hn=Yt.replace(q,"");wt&&!P.includes(hn)||_e(ie,It,st,mt.callable,mt.delegationSelector)}}else{if(!Object.keys(Wt).length)return;_e(ie,It,st,Le,Pe?Y:null)}},trigger(ie,P,Y){if(typeof P!="string"||!ie)return null;const he=F();let Pe=null,Le=!0,st=!0,wt=!1;P!==Ee(P)&&he&&(Pe=he.Event(P,Y),he(ie).trigger(Pe),Le=!Pe.isPropagationStopped(),st=!Pe.isImmediatePropagationStopped(),wt=Pe.isDefaultPrevented());const It=fe(new Event(P,{bubbles:Le,cancelable:!0}),Y);return wt&&It.preventDefault(),st&&ie.dispatchEvent(It),It.defaultPrevented&&Pe&&Pe.preventDefault(),It}};function fe(ie,P={}){for(const[Y,he]of Object.entries(P))try{ie[Y]=he}catch{Object.defineProperty(ie,Y,{configurable:!0,get:()=>he})}return ie}function ke(ie){if(ie==="true")return!0;if(ie==="false")return!1;if(ie===Number(ie).toString())return Number(ie);if(ie===""||ie==="null")return null;if(typeof ie!="string")return ie;try{return JSON.parse(decodeURIComponent(ie))}catch{return ie}}function Be(ie){return ie.replace(/[A-Z]/g,P=>`-${P.toLowerCase()}`)}const Ve={setDataAttribute(ie,P,Y){ie.setAttribute(`data-bs-${Be(P)}`,Y)},removeDataAttribute(ie,P){ie.removeAttribute(`data-bs-${Be(P)}`)},getDataAttributes(ie){if(!ie)return{};const P={},Y=Object.keys(ie.dataset).filter(he=>he.startsWith("bs")&&!he.startsWith("bsConfig"));for(const he of Y){let Pe=he.replace(/^bs/,"");Pe=Pe.charAt(0).toLowerCase()+Pe.slice(1),P[Pe]=ke(ie.dataset[he])}return P},getDataAttribute:(ie,P)=>ke(ie.getAttribute(`data-bs-${Be(P)}`))};class nt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(P){return P=this._mergeConfigObj(P),P=this._configAfterMerge(P),this._typeCheckConfig(P),P}_configAfterMerge(P){return P}_mergeConfigObj(P,Y){const he=y(Y)?Ve.getDataAttribute(Y,"config"):{};return{...this.constructor.Default,...typeof he=="object"?he:{},...y(Y)?Ve.getDataAttributes(Y):{},...typeof P=="object"?P:{}}}_typeCheckConfig(P,Y=this.constructor.DefaultType){for(const[Pe,Le]of Object.entries(Y)){const st=P[Pe],wt=y(st)?"element":(he=st)==null?`${he}`:Object.prototype.toString.call(he).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(Le).test(wt))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${Pe}" provided type "${wt}" but expected type "${Le}".`)}var he}}class te extends nt{constructor(P,Y){super(),(P=v(P))&&(this._element=P,this._config=this._getConfig(Y),o.set(this._element,this.constructor.DATA_KEY,this))}dispose(){o.remove(this._element,this.constructor.DATA_KEY),Z.off(this._element,this.constructor.EVENT_KEY);for(const P of Object.getOwnPropertyNames(this))this[P]=null}_queueCallback(P,Y,he=!0){ee(P,Y,he)}_getConfig(P){return P=this._mergeConfigObj(P,this._element),P=this._configAfterMerge(P),this._typeCheckConfig(P),P}static getInstance(P){return o.get(v(P),this.DATA_KEY)}static getOrCreateInstance(P,Y={}){return this.getInstance(P)||new this(P,typeof Y=="object"?Y:null)}static get VERSION(){return"5.3.6"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(P){return`${P}${this.EVENT_KEY}`}}const Ce=ie=>{let P=ie.getAttribute("data-bs-target");if(!P||P==="#"){let Y=ie.getAttribute("href");if(!Y||!Y.includes("#")&&!Y.startsWith("."))return null;Y.includes("#")&&!Y.startsWith("#")&&(Y=`#${Y.split("#")[1]}`),P=Y&&Y!=="#"?Y.trim():null}return P?P.split(",").map(Y=>g(Y)).join(","):null},qe={find:(ie,P=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(P,ie)),findOne:(ie,P=document.documentElement)=>Element.prototype.querySelector.call(P,ie),children:(ie,P)=>[].concat(...ie.children).filter(Y=>Y.matches(P)),parents(ie,P){const Y=[];let he=ie.parentNode.closest(P);for(;he;)Y.push(he),he=he.parentNode.closest(P);return Y},prev(ie,P){let Y=ie.previousElementSibling;for(;Y;){if(Y.matches(P))return[Y];Y=Y.previousElementSibling}return[]},next(ie,P){let Y=ie.nextElementSibling;for(;Y;){if(Y.matches(P))return[Y];Y=Y.nextElementSibling}return[]},focusableChildren(ie){const P=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(Y=>`${Y}:not([tabindex^="-"])`).join(",");return this.find(P,ie).filter(Y=>!S(Y)&&N(Y))},getSelectorFromElement(ie){const P=Ce(ie);return P&&qe.findOne(P)?P:null},getElementFromSelector(ie){const P=Ce(ie);return P?qe.findOne(P):null},getMultipleElementsFromSelector(ie){const P=Ce(ie);return P?qe.find(P):[]}},Ke=(ie,P="hide")=>{const Y=`click.dismiss${ie.EVENT_KEY}`,he=ie.NAME;Z.on(document,Y,`[data-bs-dismiss="${he}"]`,function(Pe){if(["A","AREA"].includes(this.tagName)&&Pe.preventDefault(),S(this))return;const Le=qe.getElementFromSelector(this)||this.closest(`.${he}`);ie.getOrCreateInstance(Le)[P]()})},Ie=".bs.alert",rt=`close${Ie}`,Ye=`closed${Ie}`;class Te extends te{static get NAME(){return"alert"}close(){if(Z.trigger(this._element,rt).defaultPrevented)return;this._element.classList.remove("show");const P=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,P)}_destroyElement(){this._element.remove(),Z.trigger(this._element,Ye),this.dispose()}static jQueryInterface(P){return this.each(function(){const Y=Te.getOrCreateInstance(this);if(typeof P=="string"){if(Y[P]===void 0||P.startsWith("_")||P==="constructor")throw new TypeError(`No method named "${P}"`);Y[P](this)}})}}Ke(Te,"close"),K(Te);const ht='[data-bs-toggle="button"]';class ze extends te{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(P){return this.each(function(){const Y=ze.getOrCreateInstance(this);P==="toggle"&&Y[P]()})}}Z.on(document,"click.bs.button.data-api",ht,ie=>{ie.preventDefault();const P=ie.target.closest(ht);ze.getOrCreateInstance(P).toggle()}),K(ze);const ut=".bs.swipe",Rt=`touchstart${ut}`,Jt=`touchmove${ut}`,ot=`touchend${ut}`,jt=`pointerdown${ut}`,Dt=`pointerup${ut}`,Qe={endCallback:null,leftCallback:null,rightCallback:null},Mt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Lt extends nt{constructor(P,Y){super(),this._element=P,P&&Lt.isSupported()&&(this._config=this._getConfig(Y),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Qe}static get DefaultType(){return Mt}static get NAME(){return"swipe"}dispose(){Z.off(this._element,ut)}_start(P){this._supportPointerEvents?this._eventIsPointerPenTouch(P)&&(this._deltaX=P.clientX):this._deltaX=P.touches[0].clientX}_end(P){this._eventIsPointerPenTouch(P)&&(this._deltaX=P.clientX-this._deltaX),this._handleSwipe(),Q(this._config.endCallback)}_move(P){this._deltaX=P.touches&&P.touches.length>1?0:P.touches[0].clientX-this._deltaX}_handleSwipe(){const P=Math.abs(this._deltaX);if(P<=40)return;const Y=P/this._deltaX;this._deltaX=0,Y&&Q(Y>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Z.on(this._element,jt,P=>this._start(P)),Z.on(this._element,Dt,P=>this._end(P)),this._element.classList.add("pointer-event")):(Z.on(this._element,Rt,P=>this._start(P)),Z.on(this._element,Jt,P=>this._move(P)),Z.on(this._element,ot,P=>this._end(P)))}_eventIsPointerPenTouch(P){return this._supportPointerEvents&&(P.pointerType==="pen"||P.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const $e=".bs.carousel",bt=".data-api",$t="ArrowLeft",mn="ArrowRight",Rn="next",yn="prev",ai="left",br="right",Ar=`slide${$e}`,er=`slid${$e}`,Ii=`keydown${$e}`,ii=`mouseenter${$e}`,Jn=`mouseleave${$e}`,Br=`dragstart${$e}`,fi=`load${$e}${bt}`,or=`click${$e}${bt}`,kr="carousel",tr="active",Ue=".active",qt=".carousel-item",lt=Ue+qt,on={[$t]:br,[mn]:ai},Re={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ot={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class pt extends te{constructor(P,Y){super(P,Y),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=qe.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===kr&&this.cycle()}static get Default(){return Re}static get DefaultType(){return Ot}static get NAME(){return"carousel"}next(){this._slide(Rn)}nextWhenVisible(){!document.hidden&&N(this._element)&&this.next()}prev(){this._slide(yn)}pause(){this._isSliding&&_(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?Z.one(this._element,er,()=>this.cycle()):this.cycle())}to(P){const Y=this._getItems();if(P>Y.length-1||P<0)return;if(this._isSliding)return void Z.one(this._element,er,()=>this.to(P));const he=this._getItemIndex(this._getActive());if(he===P)return;const Pe=P>he?Rn:yn;this._slide(Pe,Y[P])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(P){return P.defaultInterval=P.interval,P}_addEventListeners(){this._config.keyboard&&Z.on(this._element,Ii,P=>this._keydown(P)),this._config.pause==="hover"&&(Z.on(this._element,ii,()=>this.pause()),Z.on(this._element,Jn,()=>this._maybeEnableCycle())),this._config.touch&&Lt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const Y of qe.find(".carousel-item img",this._element))Z.on(Y,Br,he=>he.preventDefault());const P={leftCallback:()=>this._slide(this._directionToOrder(ai)),rightCallback:()=>this._slide(this._directionToOrder(br)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Lt(this._element,P)}_keydown(P){if(/input|textarea/i.test(P.target.tagName))return;const Y=on[P.key];Y&&(P.preventDefault(),this._slide(this._directionToOrder(Y)))}_getItemIndex(P){return this._getItems().indexOf(P)}_setActiveIndicatorElement(P){if(!this._indicatorsElement)return;const Y=qe.findOne(Ue,this._indicatorsElement);Y.classList.remove(tr),Y.removeAttribute("aria-current");const he=qe.findOne(`[data-bs-slide-to="${P}"]`,this._indicatorsElement);he&&(he.classList.add(tr),he.setAttribute("aria-current","true"))}_updateInterval(){const P=this._activeElement||this._getActive();if(!P)return;const Y=Number.parseInt(P.getAttribute("data-bs-interval"),10);this._config.interval=Y||this._config.defaultInterval}_slide(P,Y=null){if(this._isSliding)return;const he=this._getActive(),Pe=P===Rn,Le=Y||ne(this._getItems(),he,Pe,this._config.wrap);if(Le===he)return;const st=this._getItemIndex(Le),wt=Yt=>Z.trigger(this._element,Yt,{relatedTarget:Le,direction:this._orderToDirection(P),from:this._getItemIndex(he),to:st});if(wt(Ar).defaultPrevented||!he||!Le)return;const It=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(st),this._activeElement=Le;const Wt=Pe?"carousel-item-start":"carousel-item-end",Kt=Pe?"carousel-item-next":"carousel-item-prev";Le.classList.add(Kt),B(Le),he.classList.add(Wt),Le.classList.add(Wt),this._queueCallback(()=>{Le.classList.remove(Wt,Kt),Le.classList.add(tr),he.classList.remove(tr,Kt,Wt),this._isSliding=!1,wt(er)},he,this._isAnimated()),It&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return qe.findOne(lt,this._element)}_getItems(){return qe.find(qt,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(P){return $()?P===ai?yn:Rn:P===ai?Rn:yn}_orderToDirection(P){return $()?P===yn?ai:br:P===yn?br:ai}static jQueryInterface(P){return this.each(function(){const Y=pt.getOrCreateInstance(this,P);if(typeof P!="number"){if(typeof P=="string"){if(Y[P]===void 0||P.startsWith("_")||P==="constructor")throw new TypeError(`No method named "${P}"`);Y[P]()}}else Y.to(P)})}}Z.on(document,or,"[data-bs-slide], [data-bs-slide-to]",function(ie){const P=qe.getElementFromSelector(this);if(!P||!P.classList.contains(kr))return;ie.preventDefault();const Y=pt.getOrCreateInstance(P),he=this.getAttribute("data-bs-slide-to");return he?(Y.to(he),void Y._maybeEnableCycle()):Ve.getDataAttribute(this,"slide")==="next"?(Y.next(),void Y._maybeEnableCycle()):(Y.prev(),void Y._maybeEnableCycle())}),Z.on(window,fi,()=>{const ie=qe.find('[data-bs-ride="carousel"]');for(const P of ie)pt.getOrCreateInstance(P)}),K(pt);const Bt=".bs.collapse",ln=`show${Bt}`,En=`shown${Bt}`,Dn=`hide${Bt}`,hi=`hidden${Bt}`,ve=`click${Bt}.data-api`,dt="show",xt="collapse",Se="collapsing",Et=`:scope .${xt} .${xt}`,Tt='[data-bs-toggle="collapse"]',vn={parent:null,toggle:!0},fn={parent:"(null|element)",toggle:"boolean"};class Pn extends te{constructor(P,Y){super(P,Y),this._isTransitioning=!1,this._triggerArray=[];const he=qe.find(Tt);for(const Pe of he){const Le=qe.getSelectorFromElement(Pe),st=qe.find(Le).filter(wt=>wt===this._element);Le!==null&&st.length&&this._triggerArray.push(Pe)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return vn}static get DefaultType(){return fn}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let P=[];if(this._config.parent&&(P=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(Pe=>Pe!==this._element).map(Pe=>Pn.getOrCreateInstance(Pe,{toggle:!1}))),P.length&&P[0]._isTransitioning||Z.trigger(this._element,ln).defaultPrevented)return;for(const Pe of P)Pe.hide();const Y=this._getDimension();this._element.classList.remove(xt),this._element.classList.add(Se),this._element.style[Y]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const he=`scroll${Y[0].toUpperCase()+Y.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Se),this._element.classList.add(xt,dt),this._element.style[Y]="",Z.trigger(this._element,En)},this._element,!0),this._element.style[Y]=`${this._element[he]}px`}hide(){if(this._isTransitioning||!this._isShown()||Z.trigger(this._element,Dn).defaultPrevented)return;const P=this._getDimension();this._element.style[P]=`${this._element.getBoundingClientRect()[P]}px`,B(this._element),this._element.classList.add(Se),this._element.classList.remove(xt,dt);for(const Y of this._triggerArray){const he=qe.getElementFromSelector(Y);he&&!this._isShown(he)&&this._addAriaAndCollapsedClass([Y],!1)}this._isTransitioning=!0,this._element.style[P]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Se),this._element.classList.add(xt),Z.trigger(this._element,hi)},this._element,!0)}_isShown(P=this._element){return P.classList.contains(dt)}_configAfterMerge(P){return P.toggle=!!P.toggle,P.parent=v(P.parent),P}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const P=this._getFirstLevelChildren(Tt);for(const Y of P){const he=qe.getElementFromSelector(Y);he&&this._addAriaAndCollapsedClass([Y],this._isShown(he))}}_getFirstLevelChildren(P){const Y=qe.find(Et,this._config.parent);return qe.find(P,this._config.parent).filter(he=>!Y.includes(he))}_addAriaAndCollapsedClass(P,Y){if(P.length)for(const he of P)he.classList.toggle("collapsed",!Y),he.setAttribute("aria-expanded",Y)}static jQueryInterface(P){const Y={};return typeof P=="string"&&/show|hide/.test(P)&&(Y.toggle=!1),this.each(function(){const he=Pn.getOrCreateInstance(this,Y);if(typeof P=="string"){if(he[P]===void 0)throw new TypeError(`No method named "${P}"`);he[P]()}})}}Z.on(document,ve,Tt,function(ie){(ie.target.tagName==="A"||ie.delegateTarget&&ie.delegateTarget.tagName==="A")&&ie.preventDefault();for(const P of qe.getMultipleElementsFromSelector(this))Pn.getOrCreateInstance(P,{toggle:!1}).toggle()}),K(Pn);var an="top",ar="bottom",Yn="right",Vn="left",Yr="auto",So=[an,ar,Yn,Vn],ys="start",Zo="end",xc="clippingParents",ka="viewport",uo="popper",$s="reference",Gr=So.reduce(function(ie,P){return ie.concat([P+"-"+ys,P+"-"+Zo])},[]),ds=[].concat(So,[Yr]).reduce(function(ie,P){return ie.concat([P,P+"-"+ys,P+"-"+Zo])},[]),us="beforeRead",Ra="read",ho="afterRead",Gn="beforeMain",bi="main",_r="afterMain",jo="beforeWrite",Xo="write",Kr="afterWrite",Sn=[us,Ra,ho,Gn,bi,_r,jo,Xo,Kr];function Kn(ie){return ie?(ie.nodeName||"").toLowerCase():null}function Nr(ie){if(ie==null)return window;if(ie.toString()!=="[object Window]"){var P=ie.ownerDocument;return P&&P.defaultView||window}return ie}function Di(ie){return ie instanceof Nr(ie).Element||ie instanceof Element}function Ai(ie){return ie instanceof Nr(ie).HTMLElement||ie instanceof HTMLElement}function za(ie){return typeof ShadowRoot<"u"&&(ie instanceof Nr(ie).ShadowRoot||ie instanceof ShadowRoot)}const qs={name:"applyStyles",enabled:!0,phase:"write",fn:function(ie){var P=ie.state;Object.keys(P.elements).forEach(function(Y){var he=P.styles[Y]||{},Pe=P.attributes[Y]||{},Le=P.elements[Y];Ai(Le)&&Kn(Le)&&(Object.assign(Le.style,he),Object.keys(Pe).forEach(function(st){var wt=Pe[st];wt===!1?Le.removeAttribute(st):Le.setAttribute(st,wt===!0?"":wt)}))})},effect:function(ie){var P=ie.state,Y={popper:{position:P.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(P.elements.popper.style,Y.popper),P.styles=Y,P.elements.arrow&&Object.assign(P.elements.arrow.style,Y.arrow),function(){Object.keys(P.elements).forEach(function(he){var Pe=P.elements[he],Le=P.attributes[he]||{},st=Object.keys(P.styles.hasOwnProperty(he)?P.styles[he]:Y[he]).reduce(function(wt,It){return wt[It]="",wt},{});Ai(Pe)&&Kn(Pe)&&(Object.assign(Pe.style,st),Object.keys(Le).forEach(function(wt){Pe.removeAttribute(wt)}))})}},requires:["computeStyles"]};function Hi(ie){return ie.split("-")[0]}var $n=Math.max,Pr=Math.min,Er=Math.round;function hs(){var ie=navigator.userAgentData;return ie!=null&&ie.brands&&Array.isArray(ie.brands)?ie.brands.map(function(P){return P.brand+"/"+P.version}).join(" "):navigator.userAgent}function Ws(){return!/^((?!chrome|android).)*safari/i.test(hs())}function xs(ie,P,Y){P===void 0&&(P=!1),Y===void 0&&(Y=!1);var he=ie.getBoundingClientRect(),Pe=1,Le=1;P&&Ai(ie)&&(Pe=ie.offsetWidth>0&&Er(he.width)/ie.offsetWidth||1,Le=ie.offsetHeight>0&&Er(he.height)/ie.offsetHeight||1);var st=(Di(ie)?Nr(ie):window).visualViewport,wt=!Ws()&&Y,It=(he.left+(wt&&st?st.offsetLeft:0))/Pe,Wt=(he.top+(wt&&st?st.offsetTop:0))/Le,Kt=he.width/Pe,Yt=he.height/Le;return{width:Kt,height:Yt,top:Wt,right:It+Kt,bottom:Wt+Yt,left:It,x:It,y:Wt}}function Ys(ie){var P=xs(ie),Y=ie.offsetWidth,he=ie.offsetHeight;return Math.abs(P.width-Y)<=1&&(Y=P.width),Math.abs(P.height-he)<=1&&(he=P.height),{x:ie.offsetLeft,y:ie.offsetTop,width:Y,height:he}}function xe(ie,P){var Y=P.getRootNode&&P.getRootNode();if(ie.contains(P))return!0;if(Y&&za(Y)){var he=P;do{if(he&&ie.isSameNode(he))return!0;he=he.parentNode||he.host}while(he)}return!1}function Ct(ie){return Nr(ie).getComputedStyle(ie)}function tn(ie){return["table","td","th"].indexOf(Kn(ie))>=0}function Tn(ie){return((Di(ie)?ie.ownerDocument:ie.document)||window.document).documentElement}function ki(ie){return Kn(ie)==="html"?ie:ie.assignedSlot||ie.parentNode||(za(ie)?ie.host:null)||Tn(ie)}function zi(ie){return Ai(ie)&&Ct(ie).position!=="fixed"?ie.offsetParent:null}function _i(ie){for(var P=Nr(ie),Y=zi(ie);Y&&tn(Y)&&Ct(Y).position==="static";)Y=zi(Y);return Y&&(Kn(Y)==="html"||Kn(Y)==="body"&&Ct(Y).position==="static")?P:Y||function(he){var Pe=/firefox/i.test(hs());if(/Trident/i.test(hs())&&Ai(he)&&Ct(he).position==="fixed")return null;var Le=ki(he);for(za(Le)&&(Le=Le.host);Ai(Le)&&["html","body"].indexOf(Kn(Le))<0;){var st=Ct(Le);if(st.transform!=="none"||st.perspective!=="none"||st.contain==="paint"||["transform","perspective"].indexOf(st.willChange)!==-1||Pe&&st.willChange==="filter"||Pe&&st.filter&&st.filter!=="none")return Le;Le=Le.parentNode}return null}(ie)||P}function dl(ie){return["top","bottom"].indexOf(ie)>=0?"x":"y"}function Zt(ie,P,Y){return $n(ie,Pr(P,Y))}function Ui(ie){return Object.assign({},{top:0,right:0,bottom:0,left:0},ie)}function ei(ie,P){return P.reduce(function(Y,he){return Y[he]=ie,Y},{})}const ms={name:"arrow",enabled:!0,phase:"main",fn:function(ie){var P,Y=ie.state,he=ie.name,Pe=ie.options,Le=Y.elements.arrow,st=Y.modifiersData.popperOffsets,wt=Hi(Y.placement),It=dl(wt),Wt=[Vn,Yn].indexOf(wt)>=0?"height":"width";if(Le&&st){var Kt=function(cn,wn){return Ui(typeof(cn=typeof cn=="function"?cn(Object.assign({},wn.rects,{placement:wn.placement})):cn)!="number"?cn:ei(cn,So))}(Pe.padding,Y),Yt=Ys(Le),mt=It==="y"?an:Vn,hn=It==="y"?ar:Yn,xn=Y.rects.reference[Wt]+Y.rects.reference[It]-st[It]-Y.rects.popper[Wt],St=st[It]-Y.rects.reference[It],Cn=_i(Le),ri=Cn?It==="y"?Cn.clientHeight||0:Cn.clientWidth||0:0,mi=xn/2-St/2,Hn=Kt[mt],at=ri-Yt[Wt]-Kt[hn],Ln=ri/2-Yt[Wt]/2+mi,Vt=Zt(Hn,Ln,at),Xt=It;Y.modifiersData[he]=((P={})[Xt]=Vt,P.centerOffset=Vt-Ln,P)}},effect:function(ie){var P=ie.state,Y=ie.options.element,he=Y===void 0?"[data-popper-arrow]":Y;he!=null&&(typeof he!="string"||(he=P.elements.popper.querySelector(he)))&&xe(P.elements.popper,he)&&(P.elements.arrow=he)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function mo(ie){return ie.split("-")[1]}var _a={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Qr(ie){var P,Y=ie.popper,he=ie.popperRect,Pe=ie.placement,Le=ie.variation,st=ie.offsets,wt=ie.position,It=ie.gpuAcceleration,Wt=ie.adaptive,Kt=ie.roundOffsets,Yt=ie.isFixed,mt=st.x,hn=mt===void 0?0:mt,xn=st.y,St=xn===void 0?0:xn,Cn=typeof Kt=="function"?Kt({x:hn,y:St}):{x:hn,y:St};hn=Cn.x,St=Cn.y;var ri=st.hasOwnProperty("x"),mi=st.hasOwnProperty("y"),Hn=Vn,at=an,Ln=window;if(Wt){var Vt=_i(Y),Xt="clientHeight",cn="clientWidth";Vt===Nr(Y)&&Ct(Vt=Tn(Y)).position!=="static"&&wt==="absolute"&&(Xt="scrollHeight",cn="scrollWidth"),(Pe===an||(Pe===Vn||Pe===Yn)&&Le===Zo)&&(at=ar,St-=(Yt&&Vt===Ln&&Ln.visualViewport?Ln.visualViewport.height:Vt[Xt])-he.height,St*=It?1:-1),Pe!==Vn&&(Pe!==an&&Pe!==ar||Le!==Zo)||(Hn=Yn,hn-=(Yt&&Vt===Ln&&Ln.visualViewport?Ln.visualViewport.width:Vt[cn])-he.width,hn*=It?1:-1)}var wn,Yi=Object.assign({position:wt},Wt&&_a),Vr=Kt===!0?function(ts,Dr){var Tr=ts.x,ns=ts.y,ir=Dr.devicePixelRatio||1;return{x:Er(Tr*ir)/ir||0,y:Er(ns*ir)/ir||0}}({x:hn,y:St},Nr(Y)):{x:hn,y:St};return hn=Vr.x,St=Vr.y,It?Object.assign({},Yi,((wn={})[at]=mi?"0":"",wn[Hn]=ri?"0":"",wn.transform=(Ln.devicePixelRatio||1)<=1?"translate("+hn+"px, "+St+"px)":"translate3d("+hn+"px, "+St+"px, 0)",wn)):Object.assign({},Yi,((P={})[at]=mi?St+"px":"",P[Hn]=ri?hn+"px":"",P.transform="",P))}const fo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(ie){var P=ie.state,Y=ie.options,he=Y.gpuAcceleration,Pe=he===void 0||he,Le=Y.adaptive,st=Le===void 0||Le,wt=Y.roundOffsets,It=wt===void 0||wt,Wt={placement:Hi(P.placement),variation:mo(P.placement),popper:P.elements.popper,popperRect:P.rects.popper,gpuAcceleration:Pe,isFixed:P.options.strategy==="fixed"};P.modifiersData.popperOffsets!=null&&(P.styles.popper=Object.assign({},P.styles.popper,Qr(Object.assign({},Wt,{offsets:P.modifiersData.popperOffsets,position:P.options.strategy,adaptive:st,roundOffsets:It})))),P.modifiersData.arrow!=null&&(P.styles.arrow=Object.assign({},P.styles.arrow,Qr(Object.assign({},Wt,{offsets:P.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:It})))),P.attributes.popper=Object.assign({},P.attributes.popper,{"data-popper-placement":P.placement})},data:{}};var Gs={passive:!0};const Do={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(ie){var P=ie.state,Y=ie.instance,he=ie.options,Pe=he.scroll,Le=Pe===void 0||Pe,st=he.resize,wt=st===void 0||st,It=Nr(P.elements.popper),Wt=[].concat(P.scrollParents.reference,P.scrollParents.popper);return Le&&Wt.forEach(function(Kt){Kt.addEventListener("scroll",Y.update,Gs)}),wt&&It.addEventListener("resize",Y.update,Gs),function(){Le&&Wt.forEach(function(Kt){Kt.removeEventListener("scroll",Y.update,Gs)}),wt&&It.removeEventListener("resize",Y.update,Gs)}},data:{}};var Mn={left:"right",right:"left",bottom:"top",top:"bottom"};function Cs(ie){return ie.replace(/left|right|bottom|top/g,function(P){return Mn[P]})}var Hl={start:"end",end:"start"};function Sr(ie){return ie.replace(/start|end/g,function(P){return Hl[P]})}function As(ie){var P=Nr(ie);return{scrollLeft:P.pageXOffset,scrollTop:P.pageYOffset}}function Jo(ie){return xs(Tn(ie)).left+As(ie).scrollLeft}function fs(ie){var P=Ct(ie),Y=P.overflow,he=P.overflowX,Pe=P.overflowY;return/auto|scroll|overlay|hidden/.test(Y+Pe+he)}function wd(ie){return["html","body","#document"].indexOf(Kn(ie))>=0?ie.ownerDocument.body:Ai(ie)&&fs(ie)?ie:wd(ki(ie))}function To(ie,P){var Y;P===void 0&&(P=[]);var he=wd(ie),Pe=he===((Y=ie.ownerDocument)==null?void 0:Y.body),Le=Nr(he),st=Pe?[Le].concat(Le.visualViewport||[],fs(he)?he:[]):he,wt=P.concat(st);return Pe?wt:wt.concat(To(ki(st)))}function zn(ie){return Object.assign({},ie,{left:ie.x,top:ie.y,right:ie.x+ie.width,bottom:ie.y+ie.height})}function Fa(ie,P,Y){return P===ka?zn(function(he,Pe){var Le=Nr(he),st=Tn(he),wt=Le.visualViewport,It=st.clientWidth,Wt=st.clientHeight,Kt=0,Yt=0;if(wt){It=wt.width,Wt=wt.height;var mt=Ws();(mt||!mt&&Pe==="fixed")&&(Kt=wt.offsetLeft,Yt=wt.offsetTop)}return{width:It,height:Wt,x:Kt+Jo(he),y:Yt}}(ie,Y)):Di(P)?function(he,Pe){var Le=xs(he,!1,Pe==="fixed");return Le.top=Le.top+he.clientTop,Le.left=Le.left+he.clientLeft,Le.bottom=Le.top+he.clientHeight,Le.right=Le.left+he.clientWidth,Le.width=he.clientWidth,Le.height=he.clientHeight,Le.x=Le.left,Le.y=Le.top,Le}(P,Y):zn(function(he){var Pe,Le=Tn(he),st=As(he),wt=(Pe=he.ownerDocument)==null?void 0:Pe.body,It=$n(Le.scrollWidth,Le.clientWidth,wt?wt.scrollWidth:0,wt?wt.clientWidth:0),Wt=$n(Le.scrollHeight,Le.clientHeight,wt?wt.scrollHeight:0,wt?wt.clientHeight:0),Kt=-st.scrollLeft+Jo(he),Yt=-st.scrollTop;return Ct(wt||Le).direction==="rtl"&&(Kt+=$n(Le.clientWidth,wt?wt.clientWidth:0)-It),{width:It,height:Wt,x:Kt,y:Yt}}(Tn(ie)))}function Zr(ie){var P,Y=ie.reference,he=ie.element,Pe=ie.placement,Le=Pe?Hi(Pe):null,st=Pe?mo(Pe):null,wt=Y.x+Y.width/2-he.width/2,It=Y.y+Y.height/2-he.height/2;switch(Le){case an:P={x:wt,y:Y.y-he.height};break;case ar:P={x:wt,y:Y.y+Y.height};break;case Yn:P={x:Y.x+Y.width,y:It};break;case Vn:P={x:Y.x-he.width,y:It};break;default:P={x:Y.x,y:Y.y}}var Wt=Le?dl(Le):null;if(Wt!=null){var Kt=Wt==="y"?"height":"width";switch(st){case ys:P[Wt]=P[Wt]-(Y[Kt]/2-he[Kt]/2);break;case Zo:P[Wt]=P[Wt]+(Y[Kt]/2-he[Kt]/2)}}return P}function Ns(ie,P){P===void 0&&(P={});var Y=P,he=Y.placement,Pe=he===void 0?ie.placement:he,Le=Y.strategy,st=Le===void 0?ie.strategy:Le,wt=Y.boundary,It=wt===void 0?xc:wt,Wt=Y.rootBoundary,Kt=Wt===void 0?ka:Wt,Yt=Y.elementContext,mt=Yt===void 0?uo:Yt,hn=Y.altBoundary,xn=hn!==void 0&&hn,St=Y.padding,Cn=St===void 0?0:St,ri=Ui(typeof Cn!="number"?Cn:ei(Cn,So)),mi=mt===uo?$s:uo,Hn=ie.rects.popper,at=ie.elements[xn?mi:mt],Ln=function(Dr,Tr,ns,ir){var wi=Tr==="clippingParents"?function(Ti){var Os=To(ki(Ti)),io=["absolute","fixed"].indexOf(Ct(Ti).position)>=0&&Ai(Ti)?_i(Ti):Ti;return Di(io)?Os.filter(function(Vo){return Di(Vo)&&xe(Vo,io)&&Kn(Vo)!=="body"}):[]}(Dr):[].concat(Tr),Is=[].concat(wi,[ns]),tl=Is[0],wr=Is.reduce(function(Ti,Os){var io=Fa(Dr,Os,ir);return Ti.top=$n(io.top,Ti.top),Ti.right=Pr(io.right,Ti.right),Ti.bottom=Pr(io.bottom,Ti.bottom),Ti.left=$n(io.left,Ti.left),Ti},Fa(Dr,tl,ir));return wr.width=wr.right-wr.left,wr.height=wr.bottom-wr.top,wr.x=wr.left,wr.y=wr.top,wr}(Di(at)?at:at.contextElement||Tn(ie.elements.popper),It,Kt,st),Vt=xs(ie.elements.reference),Xt=Zr({reference:Vt,element:Hn,placement:Pe}),cn=zn(Object.assign({},Hn,Xt)),wn=mt===uo?cn:Vt,Yi={top:Ln.top-wn.top+ri.top,bottom:wn.bottom-Ln.bottom+ri.bottom,left:Ln.left-wn.left+ri.left,right:wn.right-Ln.right+ri.right},Vr=ie.modifiersData.offset;if(mt===uo&&Vr){var ts=Vr[Pe];Object.keys(Yi).forEach(function(Dr){var Tr=[Yn,ar].indexOf(Dr)>=0?1:-1,ns=[an,ar].indexOf(Dr)>=0?"y":"x";Yi[Dr]+=ts[ns]*Tr})}return Yi}function xu(ie,P){P===void 0&&(P={});var Y=P,he=Y.placement,Pe=Y.boundary,Le=Y.rootBoundary,st=Y.padding,wt=Y.flipVariations,It=Y.allowedAutoPlacements,Wt=It===void 0?ds:It,Kt=mo(he),Yt=Kt?wt?Gr:Gr.filter(function(xn){return mo(xn)===Kt}):So,mt=Yt.filter(function(xn){return Wt.indexOf(xn)>=0});mt.length===0&&(mt=Yt);var hn=mt.reduce(function(xn,St){return xn[St]=Ns(ie,{placement:St,boundary:Pe,rootBoundary:Le,padding:st})[Hi(St)],xn},{});return Object.keys(hn).sort(function(xn,St){return hn[xn]-hn[St]})}const Cu={name:"flip",enabled:!0,phase:"main",fn:function(ie){var P=ie.state,Y=ie.options,he=ie.name;if(!P.modifiersData[he]._skip){for(var Pe=Y.mainAxis,Le=Pe===void 0||Pe,st=Y.altAxis,wt=st===void 0||st,It=Y.fallbackPlacements,Wt=Y.padding,Kt=Y.boundary,Yt=Y.rootBoundary,mt=Y.altBoundary,hn=Y.flipVariations,xn=hn===void 0||hn,St=Y.allowedAutoPlacements,Cn=P.options.placement,ri=Hi(Cn),mi=It||(ri!==Cn&&xn?function(Ti){if(Hi(Ti)===Yr)return[];var Os=Cs(Ti);return[Sr(Ti),Os,Sr(Os)]}(Cn):[Cs(Cn)]),Hn=[Cn].concat(mi).reduce(function(Ti,Os){return Ti.concat(Hi(Os)===Yr?xu(P,{placement:Os,boundary:Kt,rootBoundary:Yt,padding:Wt,flipVariations:xn,allowedAutoPlacements:St}):Os)},[]),at=P.rects.reference,Ln=P.rects.popper,Vt=new Map,Xt=!0,cn=Hn[0],wn=0;wn<Hn.length;wn++){var Yi=Hn[wn],Vr=Hi(Yi),ts=mo(Yi)===ys,Dr=[an,ar].indexOf(Vr)>=0,Tr=Dr?"width":"height",ns=Ns(P,{placement:Yi,boundary:Kt,rootBoundary:Yt,altBoundary:mt,padding:Wt}),ir=Dr?ts?Yn:Vn:ts?ar:an;at[Tr]>Ln[Tr]&&(ir=Cs(ir));var wi=Cs(ir),Is=[];if(Le&&Is.push(ns[Vr]<=0),wt&&Is.push(ns[ir]<=0,ns[wi]<=0),Is.every(function(Ti){return Ti})){cn=Yi,Xt=!1;break}Vt.set(Yi,Is)}if(Xt)for(var tl=function(Ti){var Os=Hn.find(function(io){var Vo=Vt.get(io);if(Vo)return Vo.slice(0,Ti).every(function(Xl){return Xl})});if(Os)return cn=Os,"break"},wr=xn?3:1;wr>0&&tl(wr)!=="break";wr--);P.placement!==cn&&(P.modifiersData[he]._skip=!0,P.placement=cn,P.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Cc(ie,P,Y){return Y===void 0&&(Y={x:0,y:0}),{top:ie.top-P.height-Y.y,right:ie.right-P.width+Y.x,bottom:ie.bottom-P.height+Y.y,left:ie.left-P.width-Y.x}}function Va(ie){return[an,Yn,ar,Vn].some(function(P){return ie[P]>=0})}const Ha={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(ie){var P=ie.state,Y=ie.name,he=P.rects.reference,Pe=P.rects.popper,Le=P.modifiersData.preventOverflow,st=Ns(P,{elementContext:"reference"}),wt=Ns(P,{altBoundary:!0}),It=Cc(st,he),Wt=Cc(wt,Pe,Le),Kt=Va(It),Yt=Va(Wt);P.modifiersData[Y]={referenceClippingOffsets:It,popperEscapeOffsets:Wt,isReferenceHidden:Kt,hasPopperEscaped:Yt},P.attributes.popper=Object.assign({},P.attributes.popper,{"data-popper-reference-hidden":Kt,"data-popper-escaped":Yt})}},Au={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(ie){var P=ie.state,Y=ie.options,he=ie.name,Pe=Y.offset,Le=Pe===void 0?[0,0]:Pe,st=ds.reduce(function(Kt,Yt){return Kt[Yt]=function(mt,hn,xn){var St=Hi(mt),Cn=[Vn,an].indexOf(St)>=0?-1:1,ri=typeof xn=="function"?xn(Object.assign({},hn,{placement:mt})):xn,mi=ri[0],Hn=ri[1];return mi=mi||0,Hn=(Hn||0)*Cn,[Vn,Yn].indexOf(St)>=0?{x:Hn,y:mi}:{x:mi,y:Hn}}(Yt,P.rects,Le),Kt},{}),wt=st[P.placement],It=wt.x,Wt=wt.y;P.modifiersData.popperOffsets!=null&&(P.modifiersData.popperOffsets.x+=It,P.modifiersData.popperOffsets.y+=Wt),P.modifiersData[he]=st}},yd={name:"popperOffsets",enabled:!0,phase:"read",fn:function(ie){var P=ie.state,Y=ie.name;P.modifiersData[Y]=Zr({reference:P.rects.reference,element:P.rects.popper,placement:P.placement})},data:{}},Ac={name:"preventOverflow",enabled:!0,phase:"main",fn:function(ie){var P=ie.state,Y=ie.options,he=ie.name,Pe=Y.mainAxis,Le=Pe===void 0||Pe,st=Y.altAxis,wt=st!==void 0&&st,It=Y.boundary,Wt=Y.rootBoundary,Kt=Y.altBoundary,Yt=Y.padding,mt=Y.tether,hn=mt===void 0||mt,xn=Y.tetherOffset,St=xn===void 0?0:xn,Cn=Ns(P,{boundary:It,rootBoundary:Wt,padding:Yt,altBoundary:Kt}),ri=Hi(P.placement),mi=mo(P.placement),Hn=!mi,at=dl(ri),Ln=at==="x"?"y":"x",Vt=P.modifiersData.popperOffsets,Xt=P.rects.reference,cn=P.rects.popper,wn=typeof St=="function"?St(Object.assign({},P.rects,{placement:P.placement})):St,Yi=typeof wn=="number"?{mainAxis:wn,altAxis:wn}:Object.assign({mainAxis:0,altAxis:0},wn),Vr=P.modifiersData.offset?P.modifiersData.offset[P.placement]:null,ts={x:0,y:0};if(Vt){if(Le){var Dr,Tr=at==="y"?an:Vn,ns=at==="y"?ar:Yn,ir=at==="y"?"height":"width",wi=Vt[at],Is=wi+Cn[Tr],tl=wi-Cn[ns],wr=hn?-cn[ir]/2:0,Ti=mi===ys?Xt[ir]:cn[ir],Os=mi===ys?-cn[ir]:-Xt[ir],io=P.elements.arrow,Vo=hn&&io?Ys(io):{width:0,height:0},Xl=P.modifiersData["arrow#persistent"]?P.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Ls=Xl[Tr],Li=Xl[ns],Jl=Zt(0,Xt[ir],Vo[ir]),aa=Hn?Xt[ir]/2-wr-Jl-Ls-Yi.mainAxis:Ti-Jl-Ls-Yi.mainAxis,gi=Hn?-Xt[ir]/2+wr+Jl+Li+Yi.mainAxis:Os+Jl+Li+Yi.mainAxis,ro=P.elements.arrow&&_i(P.elements.arrow),Hr=ro?at==="y"?ro.clientTop||0:ro.clientLeft||0:0,Fc=(Dr=Vr==null?void 0:Vr[at])!=null?Dr:0,zd=wi+gi-Fc,ec=Zt(hn?Pr(Is,wi+aa-Fc-Hr):Is,wi,hn?$n(tl,zd):tl);Vt[at]=ec,ts[at]=ec-wi}if(wt){var Dh,Hm=at==="x"?an:Vn,Iu=at==="x"?ar:Yn,Na=Vt[Ln],Fd=Ln==="y"?"height":"width",Th=Na+Cn[Hm],Ou=Na-Cn[Iu],Lu=[an,Vn].indexOf(ri)!==-1,Um=(Dh=Vr==null?void 0:Vr[Ln])!=null?Dh:0,Mh=Lu?Th:Na-Xt[Fd]-cn[Fd]-Um+Yi.altAxis,Ih=Lu?Na+Xt[Fd]+cn[Fd]-Um-Yi.altAxis:Ou,Bu=hn&&Lu?function(Pu,$m,Vc){var Hc=Zt(Pu,$m,Vc);return Hc>Vc?Vc:Hc}(Mh,Na,Ih):Zt(hn?Mh:Th,Na,hn?Ih:Ou);Vt[Ln]=Bu,ts[Ln]=Bu-Na}P.modifiersData[he]=ts}},requiresIfExists:["offset"]};function yh(ie,P,Y){Y===void 0&&(Y=!1);var he,Pe,Le=Ai(P),st=Ai(P)&&function(Yt){var mt=Yt.getBoundingClientRect(),hn=Er(mt.width)/Yt.offsetWidth||1,xn=Er(mt.height)/Yt.offsetHeight||1;return hn!==1||xn!==1}(P),wt=Tn(P),It=xs(ie,st,Y),Wt={scrollLeft:0,scrollTop:0},Kt={x:0,y:0};return(Le||!Le&&!Y)&&((Kn(P)!=="body"||fs(wt))&&(Wt=(he=P)!==Nr(he)&&Ai(he)?{scrollLeft:(Pe=he).scrollLeft,scrollTop:Pe.scrollTop}:As(he)),Ai(P)?((Kt=xs(P,!0)).x+=P.clientLeft,Kt.y+=P.clientTop):wt&&(Kt.x=Jo(wt))),{x:It.left+Wt.scrollLeft-Kt.x,y:It.top+Wt.scrollTop-Kt.y,width:It.width,height:It.height}}function Rr(ie){var P=new Map,Y=new Set,he=[];function Pe(Le){Y.add(Le.name),[].concat(Le.requires||[],Le.requiresIfExists||[]).forEach(function(st){if(!Y.has(st)){var wt=P.get(st);wt&&Pe(wt)}}),he.push(Le)}return ie.forEach(function(Le){P.set(Le.name,Le)}),ie.forEach(function(Le){Y.has(Le.name)||Pe(Le)}),he}var Nu={placement:"bottom",modifiers:[],strategy:"absolute"};function Nc(){for(var ie=arguments.length,P=new Array(ie),Y=0;Y<ie;Y++)P[Y]=arguments[Y];return!P.some(function(he){return!(he&&typeof he.getBoundingClientRect=="function")})}function Ks(ie){ie===void 0&&(ie={});var P=ie,Y=P.defaultModifiers,he=Y===void 0?[]:Y,Pe=P.defaultOptions,Le=Pe===void 0?Nu:Pe;return function(st,wt,It){It===void 0&&(It=Le);var Wt,Kt,Yt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Nu,Le),modifiersData:{},elements:{reference:st,popper:wt},attributes:{},styles:{}},mt=[],hn=!1,xn={state:Yt,setOptions:function(Cn){var ri=typeof Cn=="function"?Cn(Yt.options):Cn;St(),Yt.options=Object.assign({},Le,Yt.options,ri),Yt.scrollParents={reference:Di(st)?To(st):st.contextElement?To(st.contextElement):[],popper:To(wt)};var mi,Hn,at=function(Ln){var Vt=Rr(Ln);return Sn.reduce(function(Xt,cn){return Xt.concat(Vt.filter(function(wn){return wn.phase===cn}))},[])}((mi=[].concat(he,Yt.options.modifiers),Hn=mi.reduce(function(Ln,Vt){var Xt=Ln[Vt.name];return Ln[Vt.name]=Xt?Object.assign({},Xt,Vt,{options:Object.assign({},Xt.options,Vt.options),data:Object.assign({},Xt.data,Vt.data)}):Vt,Ln},{}),Object.keys(Hn).map(function(Ln){return Hn[Ln]})));return Yt.orderedModifiers=at.filter(function(Ln){return Ln.enabled}),Yt.orderedModifiers.forEach(function(Ln){var Vt=Ln.name,Xt=Ln.options,cn=Xt===void 0?{}:Xt,wn=Ln.effect;if(typeof wn=="function"){var Yi=wn({state:Yt,name:Vt,instance:xn,options:cn});mt.push(Yi||function(){})}}),xn.update()},forceUpdate:function(){if(!hn){var Cn=Yt.elements,ri=Cn.reference,mi=Cn.popper;if(Nc(ri,mi)){Yt.rects={reference:yh(ri,_i(mi),Yt.options.strategy==="fixed"),popper:Ys(mi)},Yt.reset=!1,Yt.placement=Yt.options.placement,Yt.orderedModifiers.forEach(function(wn){return Yt.modifiersData[wn.name]=Object.assign({},wn.data)});for(var Hn=0;Hn<Yt.orderedModifiers.length;Hn++)if(Yt.reset!==!0){var at=Yt.orderedModifiers[Hn],Ln=at.fn,Vt=at.options,Xt=Vt===void 0?{}:Vt,cn=at.name;typeof Ln=="function"&&(Yt=Ln({state:Yt,options:Xt,name:cn,instance:xn})||Yt)}else Yt.reset=!1,Hn=-1}}},update:(Wt=function(){return new Promise(function(Cn){xn.forceUpdate(),Cn(Yt)})},function(){return Kt||(Kt=new Promise(function(Cn){Promise.resolve().then(function(){Kt=void 0,Cn(Wt())})})),Kt}),destroy:function(){St(),hn=!0}};if(!Nc(st,wt))return xn;function St(){mt.forEach(function(Cn){return Cn()}),mt=[]}return xn.setOptions(It).then(function(Cn){!hn&&It.onFirstUpdate&&It.onFirstUpdate(Cn)}),xn}}var xd=Ks(),Ul=Ks({defaultModifiers:[Do,yd,fo,qs]}),ul=Ks({defaultModifiers:[Do,yd,fo,qs,Au,Cu,Ac,ms,Ha]});const Cd=Object.freeze(Object.defineProperty({__proto__:null,afterMain:_r,afterRead:ho,afterWrite:Kr,applyStyles:qs,arrow:ms,auto:Yr,basePlacements:So,beforeMain:Gn,beforeRead:us,beforeWrite:jo,bottom:ar,clippingParents:xc,computeStyles:fo,createPopper:ul,createPopperBase:xd,createPopperLite:Ul,detectOverflow:Ns,end:Zo,eventListeners:Do,flip:Cu,hide:Ha,left:Vn,main:bi,modifierPhases:Sn,offset:Au,placements:ds,popper:uo,popperGenerator:Ks,popperOffsets:yd,preventOverflow:Ac,read:Ra,reference:$s,right:Yn,start:ys,top:an,variationPlacements:Gr,viewport:ka,write:Xo},Symbol.toStringTag,{value:"Module"})),Ad="dropdown",Mo=".bs.dropdown",Nd=".data-api",Eu="ArrowUp",hl="ArrowDown",xh=`hide${Mo}`,Ed=`hidden${Mo}`,Sd=`show${Mo}`,Ec=`shown${Mo}`,ea=`click${Mo}${Nd}`,Sc=`keydown${Mo}${Nd}`,Ua=`keyup${Mo}${Nd}`,$i="show",Io='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',$l=`${Io}.${$i}`,$a=".dropdown-menu",ql=$()?"top-end":"top-start",Wl=$()?"top-start":"top-end",jd=$()?"bottom-end":"bottom-start",qa=$()?"bottom-start":"bottom-end",Dd=$()?"left-start":"right-start",Ch=$()?"right-start":"left-start",po={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Wa={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Qs extends te{constructor(P,Y){super(P,Y),this._popper=null,this._parent=this._element.parentNode,this._menu=qe.next(this._element,$a)[0]||qe.prev(this._element,$a)[0]||qe.findOne($a,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return po}static get DefaultType(){return Wa}static get NAME(){return Ad}toggle(){return this._isShown()?this.hide():this.show()}show(){if(S(this._element)||this._isShown())return;const P={relatedTarget:this._element};if(!Z.trigger(this._element,Sd,P).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const Y of[].concat(...document.body.children))Z.on(Y,"mouseover",j);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add($i),this._element.classList.add($i),Z.trigger(this._element,Ec,P)}}hide(){if(S(this._element)||!this._isShown())return;const P={relatedTarget:this._element};this._completeHide(P)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(P){if(!Z.trigger(this._element,xh,P).defaultPrevented){if("ontouchstart"in document.documentElement)for(const Y of[].concat(...document.body.children))Z.off(Y,"mouseover",j);this._popper&&this._popper.destroy(),this._menu.classList.remove($i),this._element.classList.remove($i),this._element.setAttribute("aria-expanded","false"),Ve.removeDataAttribute(this._menu,"popper"),Z.trigger(this._element,Ed,P),this._element.focus()}}_getConfig(P){if(typeof(P=super._getConfig(P)).reference=="object"&&!y(P.reference)&&typeof P.reference.getBoundingClientRect!="function")throw new TypeError(`${Ad.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return P}_createPopper(){if(Cd===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let P=this._element;this._config.reference==="parent"?P=this._parent:y(this._config.reference)?P=v(this._config.reference):typeof this._config.reference=="object"&&(P=this._config.reference);const Y=this._getPopperConfig();this._popper=ul(P,this._menu,Y)}_isShown(){return this._menu.classList.contains($i)}_getPlacement(){const P=this._parent;if(P.classList.contains("dropend"))return Dd;if(P.classList.contains("dropstart"))return Ch;if(P.classList.contains("dropup-center"))return"top";if(P.classList.contains("dropdown-center"))return"bottom";const Y=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return P.classList.contains("dropup")?Y?Wl:ql:Y?qa:jd}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:P}=this._config;return typeof P=="string"?P.split(",").map(Y=>Number.parseInt(Y,10)):typeof P=="function"?Y=>P(Y,this._element):P}_getPopperConfig(){const P={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ve.setDataAttribute(this._menu,"popper","static"),P.modifiers=[{name:"applyStyles",enabled:!1}]),{...P,...Q(this._config.popperConfig,[void 0,P])}}_selectMenuItem({key:P,target:Y}){const he=qe.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Pe=>N(Pe));he.length&&ne(he,Y,P===hl,!he.includes(Y)).focus()}static jQueryInterface(P){return this.each(function(){const Y=Qs.getOrCreateInstance(this,P);if(typeof P=="string"){if(Y[P]===void 0)throw new TypeError(`No method named "${P}"`);Y[P]()}})}static clearMenus(P){if(P.button===2||P.type==="keyup"&&P.key!=="Tab")return;const Y=qe.find($l);for(const he of Y){const Pe=Qs.getInstance(he);if(!Pe||Pe._config.autoClose===!1)continue;const Le=P.composedPath(),st=Le.includes(Pe._menu);if(Le.includes(Pe._element)||Pe._config.autoClose==="inside"&&!st||Pe._config.autoClose==="outside"&&st||Pe._menu.contains(P.target)&&(P.type==="keyup"&&P.key==="Tab"||/input|select|option|textarea|form/i.test(P.target.tagName)))continue;const wt={relatedTarget:Pe._element};P.type==="click"&&(wt.clickEvent=P),Pe._completeHide(wt)}}static dataApiKeydownHandler(P){const Y=/input|textarea/i.test(P.target.tagName),he=P.key==="Escape",Pe=[Eu,hl].includes(P.key);if(!Pe&&!he||Y&&!he)return;P.preventDefault();const Le=this.matches(Io)?this:qe.prev(this,Io)[0]||qe.next(this,Io)[0]||qe.findOne(Io,P.delegateTarget.parentNode),st=Qs.getOrCreateInstance(Le);if(Pe)return P.stopPropagation(),st.show(),void st._selectMenuItem(P);st._isShown()&&(P.stopPropagation(),st.hide(),Le.focus())}}Z.on(document,Sc,Io,Qs.dataApiKeydownHandler),Z.on(document,Sc,$a,Qs.dataApiKeydownHandler),Z.on(document,ea,Qs.clearMenus),Z.on(document,Ua,Qs.clearMenus),Z.on(document,ea,Io,function(ie){ie.preventDefault(),Qs.getOrCreateInstance(this).toggle()}),K(Qs);const ps="backdrop",Zs="show",go=`mousedown.bs.${ps}`,jc={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ml={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ya extends nt{constructor(P){super(),this._config=this._getConfig(P),this._isAppended=!1,this._element=null}static get Default(){return jc}static get DefaultType(){return ml}static get NAME(){return ps}show(P){if(!this._config.isVisible)return void Q(P);this._append();const Y=this._getElement();this._config.isAnimated&&B(Y),Y.classList.add(Zs),this._emulateAnimation(()=>{Q(P)})}hide(P){this._config.isVisible?(this._getElement().classList.remove(Zs),this._emulateAnimation(()=>{this.dispose(),Q(P)})):Q(P)}dispose(){this._isAppended&&(Z.off(this._element,go),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const P=document.createElement("div");P.className=this._config.className,this._config.isAnimated&&P.classList.add("fade"),this._element=P}return this._element}_configAfterMerge(P){return P.rootElement=v(P.rootElement),P}_append(){if(this._isAppended)return;const P=this._getElement();this._config.rootElement.append(P),Z.on(P,go,()=>{Q(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(P){ee(P,this._getElement(),this._config.isAnimated)}}const bo=".bs.focustrap",Td=`focusin${bo}`,ta=`keydown.tab${bo}`,fl="backward",Md={autofocus:!0,trapElement:null},Dc={autofocus:"boolean",trapElement:"element"};class Su extends nt{constructor(P){super(),this._config=this._getConfig(P),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Md}static get DefaultType(){return Dc}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Z.off(document,bo),Z.on(document,Td,P=>this._handleFocusin(P)),Z.on(document,ta,P=>this._handleKeydown(P)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Z.off(document,bo))}_handleFocusin(P){const{trapElement:Y}=this._config;if(P.target===document||P.target===Y||Y.contains(P.target))return;const he=qe.focusableChildren(Y);he.length===0?Y.focus():this._lastTabNavDirection===fl?he[he.length-1].focus():he[0].focus()}_handleKeydown(P){P.key==="Tab"&&(this._lastTabNavDirection=P.shiftKey?fl:"forward")}}const ko=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ju=".sticky-top",Oo="padding-right",gs="margin-right";class zr{constructor(){this._element=document.body}getWidth(){const P=document.documentElement.clientWidth;return Math.abs(window.innerWidth-P)}hide(){const P=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Oo,Y=>Y+P),this._setElementAttributes(ko,Oo,Y=>Y+P),this._setElementAttributes(ju,gs,Y=>Y-P)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Oo),this._resetElementAttributes(ko,Oo),this._resetElementAttributes(ju,gs)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(P,Y,he){const Pe=this.getWidth();this._applyManipulationCallback(P,Le=>{if(Le!==this._element&&window.innerWidth>Le.clientWidth+Pe)return;this._saveInitialAttribute(Le,Y);const st=window.getComputedStyle(Le).getPropertyValue(Y);Le.style.setProperty(Y,`${he(Number.parseFloat(st))}px`)})}_saveInitialAttribute(P,Y){const he=P.style.getPropertyValue(Y);he&&Ve.setDataAttribute(P,Y,he)}_resetElementAttributes(P,Y){this._applyManipulationCallback(P,he=>{const Pe=Ve.getDataAttribute(he,Y);Pe!==null?(Ve.removeDataAttribute(he,Y),he.style.setProperty(Y,Pe)):he.style.removeProperty(Y)})}_applyManipulationCallback(P,Y){if(y(P))Y(P);else for(const he of qe.find(P,this._element))Y(he)}}const Fr=".bs.modal",Tc=`hide${Fr}`,Mc=`hidePrevented${Fr}`,pl=`hidden${Fr}`,Ga=`show${Fr}`,Ic=`shown${Fr}`,Xs=`resize${Fr}`,Ka=`click.dismiss${Fr}`,va=`mousedown.dismiss${Fr}`,pi=`keydown.dismiss${Fr}`,Oc=`click${Fr}.data-api`,Es="modal-open",Ss="show",Qa="modal-static",Id={backdrop:!0,focus:!0,keyboard:!0},wa={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Xr extends te{constructor(P,Y){super(P,Y),this._dialog=qe.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new zr,this._addEventListeners()}static get Default(){return Id}static get DefaultType(){return wa}static get NAME(){return"modal"}toggle(P){return this._isShown?this.hide():this.show(P)}show(P){this._isShown||this._isTransitioning||Z.trigger(this._element,Ga,{relatedTarget:P}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Es),this._adjustDialog(),this._backdrop.show(()=>this._showElement(P)))}hide(){this._isShown&&!this._isTransitioning&&(Z.trigger(this._element,Tc).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ss),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){Z.off(window,Fr),Z.off(this._dialog,Fr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ya({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Su({trapElement:this._element})}_showElement(P){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const Y=qe.findOne(".modal-body",this._dialog);Y&&(Y.scrollTop=0),B(this._element),this._element.classList.add(Ss),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Z.trigger(this._element,Ic,{relatedTarget:P})},this._dialog,this._isAnimated())}_addEventListeners(){Z.on(this._element,pi,P=>{P.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),Z.on(window,Xs,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Z.on(this._element,va,P=>{Z.one(this._element,Ka,Y=>{this._element===P.target&&this._element===Y.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Es),this._resetAdjustments(),this._scrollBar.reset(),Z.trigger(this._element,pl)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Z.trigger(this._element,Mc).defaultPrevented)return;const P=this._element.scrollHeight>document.documentElement.clientHeight,Y=this._element.style.overflowY;Y==="hidden"||this._element.classList.contains(Qa)||(P||(this._element.style.overflowY="hidden"),this._element.classList.add(Qa),this._queueCallback(()=>{this._element.classList.remove(Qa),this._queueCallback(()=>{this._element.style.overflowY=Y},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const P=this._element.scrollHeight>document.documentElement.clientHeight,Y=this._scrollBar.getWidth(),he=Y>0;if(he&&!P){const Pe=$()?"paddingLeft":"paddingRight";this._element.style[Pe]=`${Y}px`}if(!he&&P){const Pe=$()?"paddingRight":"paddingLeft";this._element.style[Pe]=`${Y}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(P,Y){return this.each(function(){const he=Xr.getOrCreateInstance(this,P);if(typeof P=="string"){if(he[P]===void 0)throw new TypeError(`No method named "${P}"`);he[P](Y)}})}}Z.on(document,Oc,'[data-bs-toggle="modal"]',function(ie){const P=qe.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&ie.preventDefault(),Z.one(P,Ga,he=>{he.defaultPrevented||Z.one(P,pl,()=>{N(this)&&this.focus()})});const Y=qe.findOne(".modal.show");Y&&Xr.getInstance(Y).hide(),Xr.getOrCreateInstance(P).toggle(this)}),Ke(Xr),K(Xr);const nr=".bs.offcanvas",Za=".data-api",Js=`load${nr}${Za}`,Yl="show",Od="showing",Gl="hiding",qi=".offcanvas.show",Lo=`show${nr}`,eo=`shown${nr}`,ya=`hide${nr}`,pn=`hidePrevented${nr}`,jr=`hidden${nr}`,Xa=`resize${nr}`,js=`click${nr}${Za}`,gl=`keydown.dismiss${nr}`,Oi={backdrop:!0,keyboard:!0,scroll:!1},_o={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Jr extends te{constructor(P,Y){super(P,Y),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Oi}static get DefaultType(){return _o}static get NAME(){return"offcanvas"}toggle(P){return this._isShown?this.hide():this.show(P)}show(P){this._isShown||Z.trigger(this._element,Lo,{relatedTarget:P}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new zr().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Od),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Yl),this._element.classList.remove(Od),Z.trigger(this._element,eo,{relatedTarget:P})},this._element,!0))}hide(){this._isShown&&(Z.trigger(this._element,ya).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Gl),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Yl,Gl),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new zr().reset(),Z.trigger(this._element,jr)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const P=!!this._config.backdrop;return new Ya({className:"offcanvas-backdrop",isVisible:P,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:P?()=>{this._config.backdrop!=="static"?this.hide():Z.trigger(this._element,pn)}:null})}_initializeFocusTrap(){return new Su({trapElement:this._element})}_addEventListeners(){Z.on(this._element,gl,P=>{P.key==="Escape"&&(this._config.keyboard?this.hide():Z.trigger(this._element,pn))})}static jQueryInterface(P){return this.each(function(){const Y=Jr.getOrCreateInstance(this,P);if(typeof P=="string"){if(Y[P]===void 0||P.startsWith("_")||P==="constructor")throw new TypeError(`No method named "${P}"`);Y[P](this)}})}}Z.on(document,js,'[data-bs-toggle="offcanvas"]',function(ie){const P=qe.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&ie.preventDefault(),S(this))return;Z.one(P,jr,()=>{N(this)&&this.focus()});const Y=qe.findOne(qi);Y&&Y!==P&&Jr.getInstance(Y).hide(),Jr.getOrCreateInstance(P).toggle(this)}),Z.on(window,Js,()=>{for(const ie of qe.find(qi))Jr.getOrCreateInstance(ie).show()}),Z.on(window,Xa,()=>{for(const ie of qe.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(ie).position!=="fixed"&&Jr.getOrCreateInstance(ie).hide()}),Ke(Jr),K(Jr);const vo={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},to=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),xa=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,bl=(ie,P)=>{const Y=ie.nodeName.toLowerCase();return P.includes(Y)?!to.has(Y)||!!xa.test(ie.nodeValue):P.filter(he=>he instanceof RegExp).some(he=>he.test(Y))},dr={allowList:vo,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Kl={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ds={entry:"(string|element|function|null)",selector:"(string|element)"};class Lc extends nt{constructor(P){super(),this._config=this._getConfig(P)}static get Default(){return dr}static get DefaultType(){return Kl}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(P=>this._resolvePossibleFunction(P)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(P){return this._checkContent(P),this._config.content={...this._config.content,...P},this}toHtml(){const P=document.createElement("div");P.innerHTML=this._maybeSanitize(this._config.template);for(const[Pe,Le]of Object.entries(this._config.content))this._setContent(P,Le,Pe);const Y=P.children[0],he=this._resolvePossibleFunction(this._config.extraClass);return he&&Y.classList.add(...he.split(" ")),Y}_typeCheckConfig(P){super._typeCheckConfig(P),this._checkContent(P.content)}_checkContent(P){for(const[Y,he]of Object.entries(P))super._typeCheckConfig({selector:Y,entry:he},Ds)}_setContent(P,Y,he){const Pe=qe.findOne(he,P);Pe&&((Y=this._resolvePossibleFunction(Y))?y(Y)?this._putElementInTemplate(v(Y),Pe):this._config.html?Pe.innerHTML=this._maybeSanitize(Y):Pe.textContent=Y:Pe.remove())}_maybeSanitize(P){return this._config.sanitize?function(Y,he,Pe){if(!Y.length)return Y;if(Pe&&typeof Pe=="function")return Pe(Y);const Le=new window.DOMParser().parseFromString(Y,"text/html"),st=[].concat(...Le.body.querySelectorAll("*"));for(const wt of st){const It=wt.nodeName.toLowerCase();if(!Object.keys(he).includes(It)){wt.remove();continue}const Wt=[].concat(...wt.attributes),Kt=[].concat(he["*"]||[],he[It]||[]);for(const Yt of Wt)bl(Yt,Kt)||wt.removeAttribute(Yt.nodeName)}return Le.body.innerHTML}(P,this._config.allowList,this._config.sanitizeFn):P}_resolvePossibleFunction(P){return Q(P,[void 0,this])}_putElementInTemplate(P,Y){if(this._config.html)return Y.innerHTML="",void Y.append(P);Y.textContent=P.textContent}}const kl=new Set(["sanitize","allowList","sanitizeFn"]),wo="fade",_l="show",Bc=".tooltip-inner",na=".modal",Ca="hide.bs.modal",p="hover",x="focus",T={AUTO:"auto",TOP:"top",RIGHT:$()?"left":"right",BOTTOM:"bottom",LEFT:$()?"right":"left"},V={allowList:vo,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},G={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class re extends te{constructor(P,Y){if(Cd===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(P,Y),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return V}static get DefaultType(){return G}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),Z.off(this._element.closest(na),Ca,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const P=Z.trigger(this._element,this.constructor.eventName("show")),Y=(D(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(P.defaultPrevented||!Y)return;this._disposePopper();const he=this._getTipElement();this._element.setAttribute("aria-describedby",he.getAttribute("id"));const{container:Pe}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Pe.append(he),Z.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(he),he.classList.add(_l),"ontouchstart"in document.documentElement)for(const Le of[].concat(...document.body.children))Z.on(Le,"mouseover",j);this._queueCallback(()=>{Z.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Z.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(_l),"ontouchstart"in document.documentElement)for(const P of[].concat(...document.body.children))Z.off(P,"mouseover",j);this._activeTrigger.click=!1,this._activeTrigger[x]=!1,this._activeTrigger[p]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Z.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(P){const Y=this._getTemplateFactory(P).toHtml();if(!Y)return null;Y.classList.remove(wo,_l),Y.classList.add(`bs-${this.constructor.NAME}-auto`);const he=(Pe=>{do Pe+=Math.floor(1e6*Math.random());while(document.getElementById(Pe));return Pe})(this.constructor.NAME).toString();return Y.setAttribute("id",he),this._isAnimated()&&Y.classList.add(wo),Y}setContent(P){this._newContent=P,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(P){return this._templateFactory?this._templateFactory.changeContent(P):this._templateFactory=new Lc({...this._config,content:P,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Bc]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(P){return this.constructor.getOrCreateInstance(P.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(wo)}_isShown(){return this.tip&&this.tip.classList.contains(_l)}_createPopper(P){const Y=Q(this._config.placement,[this,P,this._element]),he=T[Y.toUpperCase()];return ul(this._element,P,this._getPopperConfig(he))}_getOffset(){const{offset:P}=this._config;return typeof P=="string"?P.split(",").map(Y=>Number.parseInt(Y,10)):typeof P=="function"?Y=>P(Y,this._element):P}_resolvePossibleFunction(P){return Q(P,[this._element,this._element])}_getPopperConfig(P){const Y={placement:P,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:he=>{this._getTipElement().setAttribute("data-popper-placement",he.state.placement)}}]};return{...Y,...Q(this._config.popperConfig,[void 0,Y])}}_setListeners(){const P=this._config.trigger.split(" ");for(const Y of P)if(Y==="click")Z.on(this._element,this.constructor.eventName("click"),this._config.selector,he=>{this._initializeOnDelegatedTarget(he).toggle()});else if(Y!=="manual"){const he=Y===p?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),Pe=Y===p?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Z.on(this._element,he,this._config.selector,Le=>{const st=this._initializeOnDelegatedTarget(Le);st._activeTrigger[Le.type==="focusin"?x:p]=!0,st._enter()}),Z.on(this._element,Pe,this._config.selector,Le=>{const st=this._initializeOnDelegatedTarget(Le);st._activeTrigger[Le.type==="focusout"?x:p]=st._element.contains(Le.relatedTarget),st._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Z.on(this._element.closest(na),Ca,this._hideModalHandler)}_fixTitle(){const P=this._element.getAttribute("title");P&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",P),this._element.setAttribute("data-bs-original-title",P),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(P,Y){clearTimeout(this._timeout),this._timeout=setTimeout(P,Y)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(P){const Y=Ve.getDataAttributes(this._element);for(const he of Object.keys(Y))kl.has(he)&&delete Y[he];return P={...Y,...typeof P=="object"&&P?P:{}},P=this._mergeConfigObj(P),P=this._configAfterMerge(P),this._typeCheckConfig(P),P}_configAfterMerge(P){return P.container=P.container===!1?document.body:v(P.container),typeof P.delay=="number"&&(P.delay={show:P.delay,hide:P.delay}),typeof P.title=="number"&&(P.title=P.title.toString()),typeof P.content=="number"&&(P.content=P.content.toString()),P}_getDelegateConfig(){const P={};for(const[Y,he]of Object.entries(this._config))this.constructor.Default[Y]!==he&&(P[Y]=he);return P.selector=!1,P.trigger="manual",P}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(P){return this.each(function(){const Y=re.getOrCreateInstance(this,P);if(typeof P=="string"){if(Y[P]===void 0)throw new TypeError(`No method named "${P}"`);Y[P]()}})}}K(re);const Ae=".popover-header",We=".popover-body",Fe={...re.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Nt={...re.DefaultType,content:"(null|string|element|function)"};class zt extends re{static get Default(){return Fe}static get DefaultType(){return Nt}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Ae]:this._getTitle(),[We]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(P){return this.each(function(){const Y=zt.getOrCreateInstance(this,P);if(typeof P=="string"){if(Y[P]===void 0)throw new TypeError(`No method named "${P}"`);Y[P]()}})}}K(zt);const Gt=".bs.scrollspy",rn=`activate${Gt}`,kn=`click${Gt}`,gn=`load${Gt}.data-api`,vi="active",ur="[href]",Ts=".nav-link",Ld=`${Ts}, .nav-item > ${Ts}, .list-group-item`,Du={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ql={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Bo extends te{constructor(P,Y){super(P,Y),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Du}static get DefaultType(){return Ql}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const P of this._observableSections.values())this._observer.observe(P)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(P){return P.target=v(P.target)||document.body,P.rootMargin=P.offset?`${P.offset}px 0px -30%`:P.rootMargin,typeof P.threshold=="string"&&(P.threshold=P.threshold.split(",").map(Y=>Number.parseFloat(Y))),P}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Z.off(this._config.target,kn),Z.on(this._config.target,kn,ur,P=>{const Y=this._observableSections.get(P.target.hash);if(Y){P.preventDefault();const he=this._rootElement||window,Pe=Y.offsetTop-this._element.offsetTop;if(he.scrollTo)return void he.scrollTo({top:Pe,behavior:"smooth"});he.scrollTop=Pe}}))}_getNewObserver(){const P={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(Y=>this._observerCallback(Y),P)}_observerCallback(P){const Y=st=>this._targetLinks.get(`#${st.target.id}`),he=st=>{this._previousScrollData.visibleEntryTop=st.target.offsetTop,this._process(Y(st))},Pe=(this._rootElement||document.documentElement).scrollTop,Le=Pe>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Pe;for(const st of P){if(!st.isIntersecting){this._activeTarget=null,this._clearActiveClass(Y(st));continue}const wt=st.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Le&&wt){if(he(st),!Pe)return}else Le||wt||he(st)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const P=qe.find(ur,this._config.target);for(const Y of P){if(!Y.hash||S(Y))continue;const he=qe.findOne(decodeURI(Y.hash),this._element);N(he)&&(this._targetLinks.set(decodeURI(Y.hash),Y),this._observableSections.set(Y.hash,he))}}_process(P){this._activeTarget!==P&&(this._clearActiveClass(this._config.target),this._activeTarget=P,P.classList.add(vi),this._activateParents(P),Z.trigger(this._element,rn,{relatedTarget:P}))}_activateParents(P){if(P.classList.contains("dropdown-item"))qe.findOne(".dropdown-toggle",P.closest(".dropdown")).classList.add(vi);else for(const Y of qe.parents(P,".nav, .list-group"))for(const he of qe.prev(Y,Ld))he.classList.add(vi)}_clearActiveClass(P){P.classList.remove(vi);const Y=qe.find(`${ur}.${vi}`,P);for(const he of Y)he.classList.remove(vi)}static jQueryInterface(P){return this.each(function(){const Y=Bo.getOrCreateInstance(this,P);if(typeof P=="string"){if(Y[P]===void 0||P.startsWith("_")||P==="constructor")throw new TypeError(`No method named "${P}"`);Y[P]()}})}}Z.on(window,gn,()=>{for(const ie of qe.find('[data-bs-spy="scroll"]'))Bo.getOrCreateInstance(ie)}),K(Bo);const es=".bs.tab",vl=`hide${es}`,Wi=`hidden${es}`,Po=`show${es}`,ia=`shown${es}`,Aa=`click${es}`,ra=`keydown${es}`,Pc=`load${es}`,Rc="ArrowLeft",wl="ArrowRight",Tu="ArrowUp",Ja="ArrowDown",vr="Home",Bd="End",yl="active",Ah="fade",Nh="show",Ro=".dropdown-toggle",qn=`:not(${Ro})`,hr='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',mr=`.nav-link${qn}, .list-group-item${qn}, [role="tab"]${qn}, ${hr}`,no=`.${yl}[data-bs-toggle="tab"], .${yl}[data-bs-toggle="pill"], .${yl}[data-bs-toggle="list"]`;class sa extends te{constructor(P){super(P),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Z.on(this._element,ra,Y=>this._keydown(Y)))}static get NAME(){return"tab"}show(){const P=this._element;if(this._elemIsActive(P))return;const Y=this._getActiveElem(),he=Y?Z.trigger(Y,vl,{relatedTarget:P}):null;Z.trigger(P,Po,{relatedTarget:Y}).defaultPrevented||he&&he.defaultPrevented||(this._deactivate(Y,P),this._activate(P,Y))}_activate(P,Y){P&&(P.classList.add(yl),this._activate(qe.getElementFromSelector(P)),this._queueCallback(()=>{P.getAttribute("role")==="tab"?(P.removeAttribute("tabindex"),P.setAttribute("aria-selected",!0),this._toggleDropDown(P,!0),Z.trigger(P,ia,{relatedTarget:Y})):P.classList.add(Nh)},P,P.classList.contains(Ah)))}_deactivate(P,Y){P&&(P.classList.remove(yl),P.blur(),this._deactivate(qe.getElementFromSelector(P)),this._queueCallback(()=>{P.getAttribute("role")==="tab"?(P.setAttribute("aria-selected",!1),P.setAttribute("tabindex","-1"),this._toggleDropDown(P,!1),Z.trigger(P,Wi,{relatedTarget:Y})):P.classList.remove(Nh)},P,P.classList.contains(Ah)))}_keydown(P){if(![Rc,wl,Tu,Ja,vr,Bd].includes(P.key))return;P.stopPropagation(),P.preventDefault();const Y=this._getChildren().filter(Pe=>!S(Pe));let he;if([vr,Bd].includes(P.key))he=Y[P.key===vr?0:Y.length-1];else{const Pe=[wl,Ja].includes(P.key);he=ne(Y,P.target,Pe,!0)}he&&(he.focus({preventScroll:!0}),sa.getOrCreateInstance(he).show())}_getChildren(){return qe.find(mr,this._parent)}_getActiveElem(){return this._getChildren().find(P=>this._elemIsActive(P))||null}_setInitialAttributes(P,Y){this._setAttributeIfNotExists(P,"role","tablist");for(const he of Y)this._setInitialAttributesOnChild(he)}_setInitialAttributesOnChild(P){P=this._getInnerElement(P);const Y=this._elemIsActive(P),he=this._getOuterElement(P);P.setAttribute("aria-selected",Y),he!==P&&this._setAttributeIfNotExists(he,"role","presentation"),Y||P.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(P,"role","tab"),this._setInitialAttributesOnTargetPanel(P)}_setInitialAttributesOnTargetPanel(P){const Y=qe.getElementFromSelector(P);Y&&(this._setAttributeIfNotExists(Y,"role","tabpanel"),P.id&&this._setAttributeIfNotExists(Y,"aria-labelledby",`${P.id}`))}_toggleDropDown(P,Y){const he=this._getOuterElement(P);if(!he.classList.contains("dropdown"))return;const Pe=(Le,st)=>{const wt=qe.findOne(Le,he);wt&&wt.classList.toggle(st,Y)};Pe(Ro,yl),Pe(".dropdown-menu",Nh),he.setAttribute("aria-expanded",Y)}_setAttributeIfNotExists(P,Y,he){P.hasAttribute(Y)||P.setAttribute(Y,he)}_elemIsActive(P){return P.classList.contains(yl)}_getInnerElement(P){return P.matches(mr)?P:qe.findOne(mr,P)}_getOuterElement(P){return P.closest(".nav-item, .list-group-item")||P}static jQueryInterface(P){return this.each(function(){const Y=sa.getOrCreateInstance(this);if(typeof P=="string"){if(Y[P]===void 0||P.startsWith("_")||P==="constructor")throw new TypeError(`No method named "${P}"`);Y[P]()}})}}Z.on(document,Aa,hr,function(ie){["A","AREA"].includes(this.tagName)&&ie.preventDefault(),S(this)||sa.getOrCreateInstance(this).show()}),Z.on(window,Pc,()=>{for(const ie of qe.find(no))sa.getOrCreateInstance(ie)}),K(sa);const Ms=".bs.toast",xl=`mouseover${Ms}`,vp=`mouseout${Ms}`,Eh=`focusin${Ms}`,zo=`focusout${Ms}`,Fo=`hide${Ms}`,oa=`hidden${Ms}`,Sh=`show${Ms}`,Pd=`shown${Ms}`,zc="hide",el="show",Rd="showing",Mu={animation:"boolean",autohide:"boolean",delay:"number"},jh={animation:!0,autohide:!0,delay:5e3};class Zl extends te{constructor(P,Y){super(P,Y),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return jh}static get DefaultType(){return Mu}static get NAME(){return"toast"}show(){Z.trigger(this._element,Sh).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(zc),B(this._element),this._element.classList.add(el,Rd),this._queueCallback(()=>{this._element.classList.remove(Rd),Z.trigger(this._element,Pd),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(Z.trigger(this._element,Fo).defaultPrevented||(this._element.classList.add(Rd),this._queueCallback(()=>{this._element.classList.add(zc),this._element.classList.remove(Rd,el),Z.trigger(this._element,oa)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(el),super.dispose()}isShown(){return this._element.classList.contains(el)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(P,Y){switch(P.type){case"mouseover":case"mouseout":this._hasMouseInteraction=Y;break;case"focusin":case"focusout":this._hasKeyboardInteraction=Y}if(Y)return void this._clearTimeout();const he=P.relatedTarget;this._element===he||this._element.contains(he)||this._maybeScheduleHide()}_setListeners(){Z.on(this._element,xl,P=>this._onInteraction(P,!0)),Z.on(this._element,vp,P=>this._onInteraction(P,!1)),Z.on(this._element,Eh,P=>this._onInteraction(P,!0)),Z.on(this._element,zo,P=>this._onInteraction(P,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(P){return this.each(function(){const Y=Zl.getOrCreateInstance(this,P);if(typeof P=="string"){if(Y[P]===void 0)throw new TypeError(`No method named "${P}"`);Y[P](this)}})}}return Ke(Zl),K(Zl),{Alert:Te,Button:ze,Carousel:pt,Collapse:Pn,Dropdown:Qs,Modal:Xr,Offcanvas:Jr,Popover:zt,ScrollSpy:Bo,Tab:sa,Toast:Zl,Tooltip:re}})}(dv)),dv.exports}dJ();const Bn=l=>typeof l=="string",eb=()=>{let l,c;const s=new Promise((o,h)=>{l=o,c=h});return s.resolve=l,s.reject=c,s},S3=l=>l==null?"":""+l,uJ=(l,c,s)=>{l.forEach(o=>{c[o]&&(s[o]=c[o])})},hJ=/###/g,j3=l=>l&&l.indexOf("###")>-1?l.replace(hJ,"."):l,D3=l=>!l||Bn(l),lb=(l,c,s)=>{const o=Bn(c)?c.split("."):c;let h=0;for(;h<o.length-1;){if(D3(l))return{};const g=j3(o[h]);!l[g]&&s&&(l[g]=new s),Object.prototype.hasOwnProperty.call(l,g)?l=l[g]:l={},++h}return D3(l)?{}:{obj:l,k:j3(o[h])}},T3=(l,c,s)=>{const{obj:o,k:h}=lb(l,c,Object);if(o!==void 0||c.length===1){o[h]=s;return}let g=c[c.length-1],_=c.slice(0,c.length-1),y=lb(l,_,Object);for(;y.obj===void 0&&_.length;)g=`${_[_.length-1]}.${g}`,_=_.slice(0,_.length-1),y=lb(l,_,Object),y!=null&&y.obj&&typeof y.obj[`${y.k}.${g}`]<"u"&&(y.obj=void 0);y.obj[`${y.k}.${g}`]=s},mJ=(l,c,s,o)=>{const{obj:h,k:g}=lb(l,c,Object);h[g]=h[g]||[],h[g].push(s)},Ov=(l,c)=>{const{obj:s,k:o}=lb(l,c);if(s&&Object.prototype.hasOwnProperty.call(s,o))return s[o]},fJ=(l,c,s)=>{const o=Ov(l,s);return o!==void 0?o:Ov(c,s)},eB=(l,c,s)=>{for(const o in c)o!=="__proto__"&&o!=="constructor"&&(o in l?Bn(l[o])||l[o]instanceof String||Bn(c[o])||c[o]instanceof String?s&&(l[o]=c[o]):eB(l[o],c[o],s):l[o]=c[o]);return l},np=l=>l.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var pJ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const gJ=l=>Bn(l)?l.replace(/[&<>"'\/]/g,c=>pJ[c]):l;class bJ{constructor(c){this.capacity=c,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(c){const s=this.regExpMap.get(c);if(s!==void 0)return s;const o=new RegExp(c);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(c,o),this.regExpQueue.push(c),o}}const kJ=[" ",",","?","!",";"],_J=new bJ(20),vJ=(l,c,s)=>{c=c||"",s=s||"";const o=kJ.filter(_=>c.indexOf(_)<0&&s.indexOf(_)<0);if(o.length===0)return!0;const h=_J.getRegExp(`(${o.map(_=>_==="?"?"\\?":_).join("|")})`);let g=!h.test(l);if(!g){const _=l.indexOf(s);_>0&&!h.test(l.substring(0,_))&&(g=!0)}return g},_A=(l,c,s=".")=>{if(!l)return;if(l[c])return Object.prototype.hasOwnProperty.call(l,c)?l[c]:void 0;const o=c.split(s);let h=l;for(let g=0;g<o.length;){if(!h||typeof h!="object")return;let _,y="";for(let v=g;v<o.length;++v)if(v!==g&&(y+=s),y+=o[v],_=h[y],_!==void 0){if(["string","number","boolean"].indexOf(typeof _)>-1&&v<o.length-1)continue;g+=v-g+1;break}h=_}return h},kb=l=>l==null?void 0:l.replace("_","-"),wJ={type:"logger",log(l){this.output("log",l)},warn(l){this.output("warn",l)},error(l){this.output("error",l)},output(l,c){var s,o;(o=(s=console==null?void 0:console[l])==null?void 0:s.apply)==null||o.call(s,console,c)}};class Lv{constructor(c,s={}){this.init(c,s)}init(c,s={}){this.prefix=s.prefix||"i18next:",this.logger=c||wJ,this.options=s,this.debug=s.debug}log(...c){return this.forward(c,"log","",!0)}warn(...c){return this.forward(c,"warn","",!0)}error(...c){return this.forward(c,"error","")}deprecate(...c){return this.forward(c,"warn","WARNING DEPRECATED: ",!0)}forward(c,s,o,h){return h&&!this.debug?null:(Bn(c[0])&&(c[0]=`${o}${this.prefix} ${c[0]}`),this.logger[s](c))}create(c){return new Lv(this.logger,{prefix:`${this.prefix}:${c}:`,...this.options})}clone(c){return c=c||this.options,c.prefix=c.prefix||this.prefix,new Lv(this.logger,c)}}var pd=new Lv;class _w{constructor(){this.observers={}}on(c,s){return c.split(" ").forEach(o=>{this.observers[o]||(this.observers[o]=new Map);const h=this.observers[o].get(s)||0;this.observers[o].set(s,h+1)}),this}off(c,s){if(this.observers[c]){if(!s){delete this.observers[c];return}this.observers[c].delete(s)}}emit(c,...s){this.observers[c]&&Array.from(this.observers[c].entries()).forEach(([h,g])=>{for(let _=0;_<g;_++)h(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([h,g])=>{for(let _=0;_<g;_++)h.apply(h,[c,...s])})}}class M3 extends _w{constructor(c,s={ns:["translation"],defaultNS:"translation"}){super(),this.data=c||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(c){this.options.ns.indexOf(c)<0&&this.options.ns.push(c)}removeNamespaces(c){const s=this.options.ns.indexOf(c);s>-1&&this.options.ns.splice(s,1)}getResource(c,s,o,h={}){var N,S;const g=h.keySeparator!==void 0?h.keySeparator:this.options.keySeparator,_=h.ignoreJSONStructure!==void 0?h.ignoreJSONStructure:this.options.ignoreJSONStructure;let y;c.indexOf(".")>-1?y=c.split("."):(y=[c,s],o&&(Array.isArray(o)?y.push(...o):Bn(o)&&g?y.push(...o.split(g)):y.push(o)));const v=Ov(this.data,y);return!v&&!s&&!o&&c.indexOf(".")>-1&&(c=y[0],s=y[1],o=y.slice(2).join(".")),v||!_||!Bn(o)?v:_A((S=(N=this.data)==null?void 0:N[c])==null?void 0:S[s],o,g)}addResource(c,s,o,h,g={silent:!1}){const _=g.keySeparator!==void 0?g.keySeparator:this.options.keySeparator;let y=[c,s];o&&(y=y.concat(_?o.split(_):o)),c.indexOf(".")>-1&&(y=c.split("."),h=s,s=y[1]),this.addNamespaces(s),T3(this.data,y,h),g.silent||this.emit("added",c,s,o,h)}addResources(c,s,o,h={silent:!1}){for(const g in o)(Bn(o[g])||Array.isArray(o[g]))&&this.addResource(c,s,g,o[g],{silent:!0});h.silent||this.emit("added",c,s,o)}addResourceBundle(c,s,o,h,g,_={silent:!1,skipCopy:!1}){let y=[c,s];c.indexOf(".")>-1&&(y=c.split("."),h=o,o=s,s=y[1]),this.addNamespaces(s);let v=Ov(this.data,y)||{};_.skipCopy||(o=JSON.parse(JSON.stringify(o))),h?eB(v,o,g):v={...v,...o},T3(this.data,y,v),_.silent||this.emit("added",c,s,o)}removeResourceBundle(c,s){this.hasResourceBundle(c,s)&&delete this.data[c][s],this.removeNamespaces(s),this.emit("removed",c,s)}hasResourceBundle(c,s){return this.getResource(c,s)!==void 0}getResourceBundle(c,s){return s||(s=this.options.defaultNS),this.getResource(c,s)}getDataByLanguage(c){return this.data[c]}hasLanguageSomeTranslations(c){const s=this.getDataByLanguage(c);return!!(s&&Object.keys(s)||[]).find(h=>s[h]&&Object.keys(s[h]).length>0)}toJSON(){return this.data}}var tB={processors:{},addPostProcessor(l){this.processors[l.name]=l},handle(l,c,s,o,h){return l.forEach(g=>{var _;c=((_=this.processors[g])==null?void 0:_.process(c,s,o,h))??c}),c}};const I3={},O3=l=>!Bn(l)&&typeof l!="boolean"&&typeof l!="number";class Bv extends _w{constructor(c,s={}){super(),uJ(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],c,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=pd.create("translator")}changeLanguage(c){c&&(this.language=c)}exists(c,s={interpolation:{}}){const o={...s};if(c==null)return!1;const h=this.resolve(c,o);return(h==null?void 0:h.res)!==void 0}extractFromKey(c,s){let o=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");const h=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let g=s.ns||this.options.defaultNS||[];const _=o&&c.indexOf(o)>-1,y=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!vJ(c,o,h);if(_&&!y){const v=c.match(this.interpolator.nestingRegexp);if(v&&v.length>0)return{key:c,namespaces:Bn(g)?[g]:g};const N=c.split(o);(o!==h||o===h&&this.options.ns.indexOf(N[0])>-1)&&(g=N.shift()),c=N.join(h)}return{key:c,namespaces:Bn(g)?[g]:g}}translate(c,s,o){let h=typeof s=="object"?{...s}:s;if(typeof h!="object"&&this.options.overloadTranslationOptionHandler&&(h=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(h={...h}),h||(h={}),c==null)return"";Array.isArray(c)||(c=[String(c)]);const g=h.returnDetails!==void 0?h.returnDetails:this.options.returnDetails,_=h.keySeparator!==void 0?h.keySeparator:this.options.keySeparator,{key:y,namespaces:v}=this.extractFromKey(c[c.length-1],h),N=v[v.length-1];let S=h.nsSeparator!==void 0?h.nsSeparator:this.options.nsSeparator;S===void 0&&(S=":");const D=h.lng||this.language,j=h.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((D==null?void 0:D.toLowerCase())==="cimode")return j?g?{res:`${N}${S}${y}`,usedKey:y,exactUsedKey:y,usedLng:D,usedNS:N,usedParams:this.getUsedParamsDetails(h)}:`${N}${S}${y}`:g?{res:y,usedKey:y,exactUsedKey:y,usedLng:D,usedNS:N,usedParams:this.getUsedParamsDetails(h)}:y;const B=this.resolve(c,h);let F=B==null?void 0:B.res;const H=(B==null?void 0:B.usedKey)||y,$=(B==null?void 0:B.exactUsedKey)||y,K=["[object Number]","[object Function]","[object RegExp]"],Q=h.joinArrays!==void 0?h.joinArrays:this.options.joinArrays,ee=!this.i18nFormat||this.i18nFormat.handleAsObject,ne=h.count!==void 0&&!Bn(h.count),ce=Bv.hasDefaultValue(h),se=ne?this.pluralResolver.getSuffix(D,h.count,h):"",q=h.ordinal&&ne?this.pluralResolver.getSuffix(D,h.count,{ordinal:!1}):"",ue=ne&&!h.ordinal&&h.count===0,oe=ue&&h[`defaultValue${this.options.pluralSeparator}zero`]||h[`defaultValue${se}`]||h[`defaultValue${q}`]||h.defaultValue;let be=F;ee&&!F&&ce&&(be=oe);const pe=O3(be),we=Object.prototype.toString.apply(be);if(ee&&be&&pe&&K.indexOf(we)<0&&!(Bn(Q)&&Array.isArray(be))){if(!h.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const je=this.options.returnedObjectHandler?this.options.returnedObjectHandler(H,be,{...h,ns:v}):`key '${y} (${this.language})' returned an object instead of string.`;return g?(B.res=je,B.usedParams=this.getUsedParamsDetails(h),B):je}if(_){const je=Array.isArray(be),ye=je?[]:{},Me=je?$:H;for(const le in be)if(Object.prototype.hasOwnProperty.call(be,le)){const _e=`${Me}${_}${le}`;ce&&!F?ye[le]=this.translate(_e,{...h,defaultValue:O3(oe)?oe[le]:void 0,joinArrays:!1,ns:v}):ye[le]=this.translate(_e,{...h,joinArrays:!1,ns:v}),ye[le]===_e&&(ye[le]=be[le])}F=ye}}else if(ee&&Bn(Q)&&Array.isArray(F))F=F.join(Q),F&&(F=this.extendTranslation(F,c,h,o));else{let je=!1,ye=!1;!this.isValidLookup(F)&&ce&&(je=!0,F=oe),this.isValidLookup(F)||(ye=!0,F=y);const le=(h.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ye?void 0:F,_e=ce&&oe!==F&&this.options.updateMissing;if(ye||je||_e){if(this.logger.log(_e?"updateKey":"missingKey",D,N,y,_e?oe:F),_){const fe=this.resolve(y,{...h,keySeparator:!1});fe&&fe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let me=[];const Ee=this.languageUtils.getFallbackCodes(this.options.fallbackLng,h.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ee&&Ee[0])for(let fe=0;fe<Ee.length;fe++)me.push(Ee[fe]);else this.options.saveMissingTo==="all"?me=this.languageUtils.toResolveHierarchy(h.lng||this.language):me.push(h.lng||this.language);const Z=(fe,ke,Be)=>{var nt;const Ve=ce&&Be!==F?Be:le;this.options.missingKeyHandler?this.options.missingKeyHandler(fe,N,ke,Ve,_e,h):(nt=this.backendConnector)!=null&&nt.saveMissing&&this.backendConnector.saveMissing(fe,N,ke,Ve,_e,h),this.emit("missingKey",fe,N,ke,F)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ne?me.forEach(fe=>{const ke=this.pluralResolver.getSuffixes(fe,h);ue&&h[`defaultValue${this.options.pluralSeparator}zero`]&&ke.indexOf(`${this.options.pluralSeparator}zero`)<0&&ke.push(`${this.options.pluralSeparator}zero`),ke.forEach(Be=>{Z([fe],y+Be,h[`defaultValue${Be}`]||oe)})}):Z(me,y,oe))}F=this.extendTranslation(F,c,h,B,o),ye&&F===y&&this.options.appendNamespaceToMissingKey&&(F=`${N}${S}${y}`),(ye||je)&&this.options.parseMissingKeyHandler&&(F=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${N}${S}${y}`:y,je?F:void 0,h))}return g?(B.res=F,B.usedParams=this.getUsedParamsDetails(h),B):F}extendTranslation(c,s,o,h,g){var v,N;if((v=this.i18nFormat)!=null&&v.parse)c=this.i18nFormat.parse(c,{...this.options.interpolation.defaultVariables,...o},o.lng||this.language||h.usedLng,h.usedNS,h.usedKey,{resolved:h});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init({...o,interpolation:{...this.options.interpolation,...o.interpolation}});const S=Bn(c)&&(((N=o==null?void 0:o.interpolation)==null?void 0:N.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let D;if(S){const B=c.match(this.interpolator.nestingRegexp);D=B&&B.length}let j=o.replace&&!Bn(o.replace)?o.replace:o;if(this.options.interpolation.defaultVariables&&(j={...this.options.interpolation.defaultVariables,...j}),c=this.interpolator.interpolate(c,j,o.lng||this.language||h.usedLng,o),S){const B=c.match(this.interpolator.nestingRegexp),F=B&&B.length;D<F&&(o.nest=!1)}!o.lng&&h&&h.res&&(o.lng=this.language||h.usedLng),o.nest!==!1&&(c=this.interpolator.nest(c,(...B)=>(g==null?void 0:g[0])===B[0]&&!o.context?(this.logger.warn(`It seems you are nesting recursively key: ${B[0]} in key: ${s[0]}`),null):this.translate(...B,s),o)),o.interpolation&&this.interpolator.reset()}const _=o.postProcess||this.options.postProcess,y=Bn(_)?[_]:_;return c!=null&&(y!=null&&y.length)&&o.applyPostProcessor!==!1&&(c=tB.handle(y,c,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...h,usedParams:this.getUsedParamsDetails(o)},...o}:o,this)),c}resolve(c,s={}){let o,h,g,_,y;return Bn(c)&&(c=[c]),c.forEach(v=>{if(this.isValidLookup(o))return;const N=this.extractFromKey(v,s),S=N.key;h=S;let D=N.namespaces;this.options.fallbackNS&&(D=D.concat(this.options.fallbackNS));const j=s.count!==void 0&&!Bn(s.count),B=j&&!s.ordinal&&s.count===0,F=s.context!==void 0&&(Bn(s.context)||typeof s.context=="number")&&s.context!=="",H=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);D.forEach($=>{var K,Q;this.isValidLookup(o)||(y=$,!I3[`${H[0]}-${$}`]&&((K=this.utils)!=null&&K.hasLoadedNamespace)&&!((Q=this.utils)!=null&&Q.hasLoadedNamespace(y))&&(I3[`${H[0]}-${$}`]=!0,this.logger.warn(`key "${h}" for languages "${H.join(", ")}" won't get resolved as namespace "${y}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),H.forEach(ee=>{var se;if(this.isValidLookup(o))return;_=ee;const ne=[S];if((se=this.i18nFormat)!=null&&se.addLookupKeys)this.i18nFormat.addLookupKeys(ne,S,ee,$,s);else{let q;j&&(q=this.pluralResolver.getSuffix(ee,s.count,s));const ue=`${this.options.pluralSeparator}zero`,oe=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(j&&(ne.push(S+q),s.ordinal&&q.indexOf(oe)===0&&ne.push(S+q.replace(oe,this.options.pluralSeparator)),B&&ne.push(S+ue)),F){const be=`${S}${this.options.contextSeparator}${s.context}`;ne.push(be),j&&(ne.push(be+q),s.ordinal&&q.indexOf(oe)===0&&ne.push(be+q.replace(oe,this.options.pluralSeparator)),B&&ne.push(be+ue))}}let ce;for(;ce=ne.pop();)this.isValidLookup(o)||(g=ce,o=this.getResource(ee,$,ce,s))}))})}),{res:o,usedKey:h,exactUsedKey:g,usedLng:_,usedNS:y}}isValidLookup(c){return c!==void 0&&!(!this.options.returnNull&&c===null)&&!(!this.options.returnEmptyString&&c==="")}getResource(c,s,o,h={}){var g;return(g=this.i18nFormat)!=null&&g.getResource?this.i18nFormat.getResource(c,s,o,h):this.resourceStore.getResource(c,s,o,h)}getUsedParamsDetails(c={}){const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],o=c.replace&&!Bn(c.replace);let h=o?c.replace:c;if(o&&typeof c.count<"u"&&(h.count=c.count),this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),!o){h={...h};for(const g of s)delete h[g]}return h}static hasDefaultValue(c){const s="defaultValue";for(const o in c)if(Object.prototype.hasOwnProperty.call(c,o)&&s===o.substring(0,s.length)&&c[o]!==void 0)return!0;return!1}}class L3{constructor(c){this.options=c,this.supportedLngs=this.options.supportedLngs||!1,this.logger=pd.create("languageUtils")}getScriptPartFromCode(c){if(c=kb(c),!c||c.indexOf("-")<0)return null;const s=c.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(c){if(c=kb(c),!c||c.indexOf("-")<0)return c;const s=c.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(c){if(Bn(c)&&c.indexOf("-")>-1){let s;try{s=Intl.getCanonicalLocales(c)[0]}catch{}return s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s||(this.options.lowerCaseLng?c.toLowerCase():c)}return this.options.cleanCode||this.options.lowerCaseLng?c.toLowerCase():c}isSupportedCode(c){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(c=this.getLanguagePartFromCode(c)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(c)>-1}getBestMatchFromCodes(c){if(!c)return null;let s;return c.forEach(o=>{if(s)return;const h=this.formatLanguageCode(o);(!this.options.supportedLngs||this.isSupportedCode(h))&&(s=h)}),!s&&this.options.supportedLngs&&c.forEach(o=>{if(s)return;const h=this.getScriptPartFromCode(o);if(this.isSupportedCode(h))return s=h;const g=this.getLanguagePartFromCode(o);if(this.isSupportedCode(g))return s=g;s=this.options.supportedLngs.find(_=>{if(_===g)return _;if(!(_.indexOf("-")<0&&g.indexOf("-")<0)&&(_.indexOf("-")>0&&g.indexOf("-")<0&&_.substring(0,_.indexOf("-"))===g||_.indexOf(g)===0&&g.length>1))return _})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(c,s){if(!c)return[];if(typeof c=="function"&&(c=c(s)),Bn(c)&&(c=[c]),Array.isArray(c))return c;if(!s)return c.default||[];let o=c[s];return o||(o=c[this.getScriptPartFromCode(s)]),o||(o=c[this.formatLanguageCode(s)]),o||(o=c[this.getLanguagePartFromCode(s)]),o||(o=c.default),o||[]}toResolveHierarchy(c,s){const o=this.getFallbackCodes((s===!1?[]:s)||this.options.fallbackLng||[],c),h=[],g=_=>{_&&(this.isSupportedCode(_)?h.push(_):this.logger.warn(`rejecting language code not found in supportedLngs: ${_}`))};return Bn(c)&&(c.indexOf("-")>-1||c.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&g(this.formatLanguageCode(c)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&g(this.getScriptPartFromCode(c)),this.options.load!=="currentOnly"&&g(this.getLanguagePartFromCode(c))):Bn(c)&&g(this.formatLanguageCode(c)),o.forEach(_=>{h.indexOf(_)<0&&g(this.formatLanguageCode(_))}),h}}const B3={zero:0,one:1,two:2,few:3,many:4,other:5},P3={select:l=>l===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class yJ{constructor(c,s={}){this.languageUtils=c,this.options=s,this.logger=pd.create("pluralResolver"),this.pluralRulesCache={}}addRule(c,s){this.rules[c]=s}clearCache(){this.pluralRulesCache={}}getRule(c,s={}){const o=kb(c==="dev"?"en":c),h=s.ordinal?"ordinal":"cardinal",g=JSON.stringify({cleanedCode:o,type:h});if(g in this.pluralRulesCache)return this.pluralRulesCache[g];let _;try{_=new Intl.PluralRules(o,{type:h})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),P3;if(!c.match(/-|_/))return P3;const v=this.languageUtils.getLanguagePartFromCode(c);_=this.getRule(v,s)}return this.pluralRulesCache[g]=_,_}needsPlural(c,s={}){let o=this.getRule(c,s);return o||(o=this.getRule("dev",s)),(o==null?void 0:o.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(c,s,o={}){return this.getSuffixes(c,o).map(h=>`${s}${h}`)}getSuffixes(c,s={}){let o=this.getRule(c,s);return o||(o=this.getRule("dev",s)),o?o.resolvedOptions().pluralCategories.sort((h,g)=>B3[h]-B3[g]).map(h=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${h}`):[]}getSuffix(c,s,o={}){const h=this.getRule(c,o);return h?`${this.options.prepend}${o.ordinal?`ordinal${this.options.prepend}`:""}${h.select(s)}`:(this.logger.warn(`no plural rule found for: ${c}`),this.getSuffix("dev",s,o))}}const R3=(l,c,s,o=".",h=!0)=>{let g=fJ(l,c,s);return!g&&h&&Bn(s)&&(g=_A(l,s,o),g===void 0&&(g=_A(c,s,o))),g},qC=l=>l.replace(/\$/g,"$$$$");class xJ{constructor(c={}){var s;this.logger=pd.create("interpolator"),this.options=c,this.format=((s=c==null?void 0:c.interpolation)==null?void 0:s.format)||(o=>o),this.init(c)}init(c={}){c.interpolation||(c.interpolation={escapeValue:!0});const{escape:s,escapeValue:o,useRawValueToEscape:h,prefix:g,prefixEscaped:_,suffix:y,suffixEscaped:v,formatSeparator:N,unescapeSuffix:S,unescapePrefix:D,nestingPrefix:j,nestingPrefixEscaped:B,nestingSuffix:F,nestingSuffixEscaped:H,nestingOptionsSeparator:$,maxReplaces:K,alwaysFormat:Q}=c.interpolation;this.escape=s!==void 0?s:gJ,this.escapeValue=o!==void 0?o:!0,this.useRawValueToEscape=h!==void 0?h:!1,this.prefix=g?np(g):_||"{{",this.suffix=y?np(y):v||"}}",this.formatSeparator=N||",",this.unescapePrefix=S?"":D||"-",this.unescapeSuffix=this.unescapePrefix?"":S||"",this.nestingPrefix=j?np(j):B||np("$t("),this.nestingSuffix=F?np(F):H||np(")"),this.nestingOptionsSeparator=$||",",this.maxReplaces=K||1e3,this.alwaysFormat=Q!==void 0?Q:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const c=(s,o)=>(s==null?void 0:s.source)===o?(s.lastIndex=0,s):new RegExp(o,"g");this.regexp=c(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=c(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=c(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(c,s,o,h){var B;let g,_,y;const v=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},N=F=>{if(F.indexOf(this.formatSeparator)<0){const Q=R3(s,v,F,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(Q,void 0,o,{...h,...s,interpolationkey:F}):Q}const H=F.split(this.formatSeparator),$=H.shift().trim(),K=H.join(this.formatSeparator).trim();return this.format(R3(s,v,$,this.options.keySeparator,this.options.ignoreJSONStructure),K,o,{...h,...s,interpolationkey:$})};this.resetRegExp();const S=(h==null?void 0:h.missingInterpolationHandler)||this.options.missingInterpolationHandler,D=((B=h==null?void 0:h.interpolation)==null?void 0:B.skipOnVariables)!==void 0?h.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:F=>qC(F)},{regex:this.regexp,safeValue:F=>this.escapeValue?qC(this.escape(F)):qC(F)}].forEach(F=>{for(y=0;g=F.regex.exec(c);){const H=g[1].trim();if(_=N(H),_===void 0)if(typeof S=="function"){const K=S(c,g,h);_=Bn(K)?K:""}else if(h&&Object.prototype.hasOwnProperty.call(h,H))_="";else if(D){_=g[0];continue}else this.logger.warn(`missed to pass in variable ${H} for interpolating ${c}`),_="";else!Bn(_)&&!this.useRawValueToEscape&&(_=S3(_));const $=F.safeValue(_);if(c=c.replace(g[0],$),D?(F.regex.lastIndex+=_.length,F.regex.lastIndex-=g[0].length):F.regex.lastIndex=0,y++,y>=this.maxReplaces)break}}),c}nest(c,s,o={}){let h,g,_;const y=(v,N)=>{const S=this.nestingOptionsSeparator;if(v.indexOf(S)<0)return v;const D=v.split(new RegExp(`${S}[ ]*{`));let j=`{${D[1]}`;v=D[0],j=this.interpolate(j,_);const B=j.match(/'/g),F=j.match(/"/g);(((B==null?void 0:B.length)??0)%2===0&&!F||F.length%2!==0)&&(j=j.replace(/'/g,'"'));try{_=JSON.parse(j),N&&(_={...N,..._})}catch(H){return this.logger.warn(`failed parsing options string in nesting for key ${v}`,H),`${v}${S}${j}`}return _.defaultValue&&_.defaultValue.indexOf(this.prefix)>-1&&delete _.defaultValue,v};for(;h=this.nestingRegexp.exec(c);){let v=[];_={...o},_=_.replace&&!Bn(_.replace)?_.replace:_,_.applyPostProcessor=!1,delete _.defaultValue;const N=/{.*}/.test(h[1])?h[1].lastIndexOf("}")+1:h[1].indexOf(this.formatSeparator);if(N!==-1&&(v=h[1].slice(N).split(this.formatSeparator).map(S=>S.trim()).filter(Boolean),h[1]=h[1].slice(0,N)),g=s(y.call(this,h[1].trim(),_),_),g&&h[0]===c&&!Bn(g))return g;Bn(g)||(g=S3(g)),g||(this.logger.warn(`missed to resolve ${h[1]} for nesting ${c}`),g=""),v.length&&(g=v.reduce((S,D)=>this.format(S,D,o.lng,{...o,interpolationkey:h[1].trim()}),g.trim())),c=c.replace(h[0],g),this.regexp.lastIndex=0}return c}}const CJ=l=>{let c=l.toLowerCase().trim();const s={};if(l.indexOf("(")>-1){const o=l.split("(");c=o[0].toLowerCase().trim();const h=o[1].substring(0,o[1].length-1);c==="currency"&&h.indexOf(":")<0?s.currency||(s.currency=h.trim()):c==="relativetime"&&h.indexOf(":")<0?s.range||(s.range=h.trim()):h.split(";").forEach(_=>{if(_){const[y,...v]=_.split(":"),N=v.join(":").trim().replace(/^'+|'+$/g,""),S=y.trim();s[S]||(s[S]=N),N==="false"&&(s[S]=!1),N==="true"&&(s[S]=!0),isNaN(N)||(s[S]=parseInt(N,10))}})}return{formatName:c,formatOptions:s}},z3=l=>{const c={};return(s,o,h)=>{let g=h;h&&h.interpolationkey&&h.formatParams&&h.formatParams[h.interpolationkey]&&h[h.interpolationkey]&&(g={...g,[h.interpolationkey]:void 0});const _=o+JSON.stringify(g);let y=c[_];return y||(y=l(kb(o),h),c[_]=y),y(s)}},AJ=l=>(c,s,o)=>l(kb(s),o)(c);class NJ{constructor(c={}){this.logger=pd.create("formatter"),this.options=c,this.init(c)}init(c,s={interpolation:{}}){this.formatSeparator=s.interpolation.formatSeparator||",";const o=s.cacheInBuiltFormats?z3:AJ;this.formats={number:o((h,g)=>{const _=new Intl.NumberFormat(h,{...g});return y=>_.format(y)}),currency:o((h,g)=>{const _=new Intl.NumberFormat(h,{...g,style:"currency"});return y=>_.format(y)}),datetime:o((h,g)=>{const _=new Intl.DateTimeFormat(h,{...g});return y=>_.format(y)}),relativetime:o((h,g)=>{const _=new Intl.RelativeTimeFormat(h,{...g});return y=>_.format(y,g.range||"day")}),list:o((h,g)=>{const _=new Intl.ListFormat(h,{...g});return y=>_.format(y)})}}add(c,s){this.formats[c.toLowerCase().trim()]=s}addCached(c,s){this.formats[c.toLowerCase().trim()]=z3(s)}format(c,s,o,h={}){const g=s.split(this.formatSeparator);if(g.length>1&&g[0].indexOf("(")>1&&g[0].indexOf(")")<0&&g.find(y=>y.indexOf(")")>-1)){const y=g.findIndex(v=>v.indexOf(")")>-1);g[0]=[g[0],...g.splice(1,y)].join(this.formatSeparator)}return g.reduce((y,v)=>{var D;const{formatName:N,formatOptions:S}=CJ(v);if(this.formats[N]){let j=y;try{const B=((D=h==null?void 0:h.formatParams)==null?void 0:D[h.interpolationkey])||{},F=B.locale||B.lng||h.locale||h.lng||o;j=this.formats[N](y,F,{...S,...h,...B})}catch(B){this.logger.warn(B)}return j}else this.logger.warn(`there was no format function for ${N}`);return y},c)}}const EJ=(l,c)=>{l.pending[c]!==void 0&&(delete l.pending[c],l.pendingCount--)};class SJ extends _w{constructor(c,s,o,h={}){var g,_;super(),this.backend=c,this.store=s,this.services=o,this.languageUtils=o.languageUtils,this.options=h,this.logger=pd.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=h.maxParallelReads||10,this.readingCalls=0,this.maxRetries=h.maxRetries>=0?h.maxRetries:5,this.retryTimeout=h.retryTimeout>=1?h.retryTimeout:350,this.state={},this.queue=[],(_=(g=this.backend)==null?void 0:g.init)==null||_.call(g,o,h.backend,h)}queueLoad(c,s,o,h){const g={},_={},y={},v={};return c.forEach(N=>{let S=!0;s.forEach(D=>{const j=`${N}|${D}`;!o.reload&&this.store.hasResourceBundle(N,D)?this.state[j]=2:this.state[j]<0||(this.state[j]===1?_[j]===void 0&&(_[j]=!0):(this.state[j]=1,S=!1,_[j]===void 0&&(_[j]=!0),g[j]===void 0&&(g[j]=!0),v[D]===void 0&&(v[D]=!0)))}),S||(y[N]=!0)}),(Object.keys(g).length||Object.keys(_).length)&&this.queue.push({pending:_,pendingCount:Object.keys(_).length,loaded:{},errors:[],callback:h}),{toLoad:Object.keys(g),pending:Object.keys(_),toLoadLanguages:Object.keys(y),toLoadNamespaces:Object.keys(v)}}loaded(c,s,o){const h=c.split("|"),g=h[0],_=h[1];s&&this.emit("failedLoading",g,_,s),!s&&o&&this.store.addResourceBundle(g,_,o,void 0,void 0,{skipCopy:!0}),this.state[c]=s?-1:2,s&&o&&(this.state[c]=0);const y={};this.queue.forEach(v=>{mJ(v.loaded,[g],_),EJ(v,c),s&&v.errors.push(s),v.pendingCount===0&&!v.done&&(Object.keys(v.loaded).forEach(N=>{y[N]||(y[N]={});const S=v.loaded[N];S.length&&S.forEach(D=>{y[N][D]===void 0&&(y[N][D]=!0)})}),v.done=!0,v.errors.length?v.callback(v.errors):v.callback())}),this.emit("loaded",y),this.queue=this.queue.filter(v=>!v.done)}read(c,s,o,h=0,g=this.retryTimeout,_){if(!c.length)return _(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:c,ns:s,fcName:o,tried:h,wait:g,callback:_});return}this.readingCalls++;const y=(N,S)=>{if(this.readingCalls--,this.waitingReads.length>0){const D=this.waitingReads.shift();this.read(D.lng,D.ns,D.fcName,D.tried,D.wait,D.callback)}if(N&&S&&h<this.maxRetries){setTimeout(()=>{this.read.call(this,c,s,o,h+1,g*2,_)},g);return}_(N,S)},v=this.backend[o].bind(this.backend);if(v.length===2){try{const N=v(c,s);N&&typeof N.then=="function"?N.then(S=>y(null,S)).catch(y):y(null,N)}catch(N){y(N)}return}return v(c,s,y)}prepareLoading(c,s,o={},h){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),h&&h();Bn(c)&&(c=this.languageUtils.toResolveHierarchy(c)),Bn(s)&&(s=[s]);const g=this.queueLoad(c,s,o,h);if(!g.toLoad.length)return g.pending.length||h(),null;g.toLoad.forEach(_=>{this.loadOne(_)})}load(c,s,o){this.prepareLoading(c,s,{},o)}reload(c,s,o){this.prepareLoading(c,s,{reload:!0},o)}loadOne(c,s=""){const o=c.split("|"),h=o[0],g=o[1];this.read(h,g,"read",void 0,void 0,(_,y)=>{_&&this.logger.warn(`${s}loading namespace ${g} for language ${h} failed`,_),!_&&y&&this.logger.log(`${s}loaded namespace ${g} for language ${h}`,y),this.loaded(c,_,y)})}saveMissing(c,s,o,h,g,_={},y=()=>{}){var v,N,S,D,j;if((N=(v=this.services)==null?void 0:v.utils)!=null&&N.hasLoadedNamespace&&!((D=(S=this.services)==null?void 0:S.utils)!=null&&D.hasLoadedNamespace(s))){this.logger.warn(`did not save key "${o}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if((j=this.backend)!=null&&j.create){const B={..._,isUpdate:g},F=this.backend.create.bind(this.backend);if(F.length<6)try{let H;F.length===5?H=F(c,s,o,h,B):H=F(c,s,o,h),H&&typeof H.then=="function"?H.then($=>y(null,$)).catch(y):y(null,H)}catch(H){y(H)}else F(c,s,o,h,y,B)}!c||!c[0]||this.store.addResource(c[0],s,o,h)}}}const F3=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:l=>{let c={};if(typeof l[1]=="object"&&(c=l[1]),Bn(l[1])&&(c.defaultValue=l[1]),Bn(l[2])&&(c.tDescription=l[2]),typeof l[2]=="object"||typeof l[3]=="object"){const s=l[3]||l[2];Object.keys(s).forEach(o=>{c[o]=s[o]})}return c},interpolation:{escapeValue:!0,format:l=>l,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),V3=l=>{var c,s;return Bn(l.ns)&&(l.ns=[l.ns]),Bn(l.fallbackLng)&&(l.fallbackLng=[l.fallbackLng]),Bn(l.fallbackNS)&&(l.fallbackNS=[l.fallbackNS]),((s=(c=l.supportedLngs)==null?void 0:c.indexOf)==null?void 0:s.call(c,"cimode"))<0&&(l.supportedLngs=l.supportedLngs.concat(["cimode"])),typeof l.initImmediate=="boolean"&&(l.initAsync=l.initImmediate),l},Q_=()=>{},jJ=l=>{Object.getOwnPropertyNames(Object.getPrototypeOf(l)).forEach(s=>{typeof l[s]=="function"&&(l[s]=l[s].bind(l))})};class _b extends _w{constructor(c={},s){if(super(),this.options=V3(c),this.services={},this.logger=pd,this.modules={external:[]},jJ(this),s&&!this.isInitialized&&!c.isClone){if(!this.options.initAsync)return this.init(c,s),this;setTimeout(()=>{this.init(c,s)},0)}}init(c={},s){this.isInitializing=!0,typeof c=="function"&&(s=c,c={}),c.defaultNS==null&&c.ns&&(Bn(c.ns)?c.defaultNS=c.ns:c.ns.indexOf("translation")<0&&(c.defaultNS=c.ns[0]));const o=F3();this.options={...o,...this.options,...V3(c)},this.options.interpolation={...o.interpolation,...this.options.interpolation},c.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=c.keySeparator),c.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=c.nsSeparator);const h=N=>N?typeof N=="function"?new N:N:null;if(!this.options.isClone){this.modules.logger?pd.init(h(this.modules.logger),this.options):pd.init(null,this.options);let N;this.modules.formatter?N=this.modules.formatter:N=NJ;const S=new L3(this.options);this.store=new M3(this.options.resources,this.options);const D=this.services;D.logger=pd,D.resourceStore=this.store,D.languageUtils=S,D.pluralResolver=new yJ(S,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),N&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(D.formatter=h(N),D.formatter.init&&D.formatter.init(D,this.options),this.options.interpolation.format=D.formatter.format.bind(D.formatter)),D.interpolator=new xJ(this.options),D.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},D.backendConnector=new SJ(h(this.modules.backend),D.resourceStore,D,this.options),D.backendConnector.on("*",(B,...F)=>{this.emit(B,...F)}),this.modules.languageDetector&&(D.languageDetector=h(this.modules.languageDetector),D.languageDetector.init&&D.languageDetector.init(D,this.options.detection,this.options)),this.modules.i18nFormat&&(D.i18nFormat=h(this.modules.i18nFormat),D.i18nFormat.init&&D.i18nFormat.init(this)),this.translator=new Bv(this.services,this.options),this.translator.on("*",(B,...F)=>{this.emit(B,...F)}),this.modules.external.forEach(B=>{B.init&&B.init(this)})}if(this.format=this.options.interpolation.format,s||(s=Q_),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const N=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);N.length>0&&N[0]!=="dev"&&(this.options.lng=N[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(N=>{this[N]=(...S)=>this.store[N](...S)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(N=>{this[N]=(...S)=>(this.store[N](...S),this)});const y=eb(),v=()=>{const N=(S,D)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),y.resolve(D),s(S,D)};if(this.languages&&!this.isInitialized)return N(null,this.t.bind(this));this.changeLanguage(this.options.lng,N)};return this.options.resources||!this.options.initAsync?v():setTimeout(v,0),y}loadResources(c,s=Q_){var g,_;let o=s;const h=Bn(c)?c:this.language;if(typeof c=="function"&&(o=c),!this.options.resources||this.options.partialBundledLanguages){if((h==null?void 0:h.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return o();const y=[],v=N=>{if(!N||N==="cimode")return;this.services.languageUtils.toResolveHierarchy(N).forEach(D=>{D!=="cimode"&&y.indexOf(D)<0&&y.push(D)})};h?v(h):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(S=>v(S)),(_=(g=this.options.preload)==null?void 0:g.forEach)==null||_.call(g,N=>v(N)),this.services.backendConnector.load(y,this.options.ns,N=>{!N&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),o(N)})}else o(null)}reloadResources(c,s,o){const h=eb();return typeof c=="function"&&(o=c,c=void 0),typeof s=="function"&&(o=s,s=void 0),c||(c=this.languages),s||(s=this.options.ns),o||(o=Q_),this.services.backendConnector.reload(c,s,g=>{h.resolve(),o(g)}),h}use(c){if(!c)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!c.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return c.type==="backend"&&(this.modules.backend=c),(c.type==="logger"||c.log&&c.warn&&c.error)&&(this.modules.logger=c),c.type==="languageDetector"&&(this.modules.languageDetector=c),c.type==="i18nFormat"&&(this.modules.i18nFormat=c),c.type==="postProcessor"&&tB.addPostProcessor(c),c.type==="formatter"&&(this.modules.formatter=c),c.type==="3rdParty"&&this.modules.external.push(c),this}setResolvedLanguage(c){if(!(!c||!this.languages)&&!(["cimode","dev"].indexOf(c)>-1)){for(let s=0;s<this.languages.length;s++){const o=this.languages[s];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}!this.resolvedLanguage&&this.languages.indexOf(c)<0&&this.store.hasLanguageSomeTranslations(c)&&(this.resolvedLanguage=c,this.languages.unshift(c))}}changeLanguage(c,s){this.isLanguageChangingTo=c;const o=eb();this.emit("languageChanging",c);const h=y=>{this.language=y,this.languages=this.services.languageUtils.toResolveHierarchy(y),this.resolvedLanguage=void 0,this.setResolvedLanguage(y)},g=(y,v)=>{v?this.isLanguageChangingTo===c&&(h(v),this.translator.changeLanguage(v),this.isLanguageChangingTo=void 0,this.emit("languageChanged",v),this.logger.log("languageChanged",v)):this.isLanguageChangingTo=void 0,o.resolve((...N)=>this.t(...N)),s&&s(y,(...N)=>this.t(...N))},_=y=>{var S,D;!c&&!y&&this.services.languageDetector&&(y=[]);const v=Bn(y)?y:y&&y[0],N=this.store.hasLanguageSomeTranslations(v)?v:this.services.languageUtils.getBestMatchFromCodes(Bn(y)?[y]:y);N&&(this.language||h(N),this.translator.language||this.translator.changeLanguage(N),(D=(S=this.services.languageDetector)==null?void 0:S.cacheUserLanguage)==null||D.call(S,N)),this.loadResources(N,j=>{g(j,N)})};return!c&&this.services.languageDetector&&!this.services.languageDetector.async?_(this.services.languageDetector.detect()):!c&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(_):this.services.languageDetector.detect(_):_(c),o}getFixedT(c,s,o){const h=(g,_,...y)=>{let v;typeof _!="object"?v=this.options.overloadTranslationOptionHandler([g,_].concat(y)):v={..._},v.lng=v.lng||h.lng,v.lngs=v.lngs||h.lngs,v.ns=v.ns||h.ns,v.keyPrefix!==""&&(v.keyPrefix=v.keyPrefix||o||h.keyPrefix);const N=this.options.keySeparator||".";let S;return v.keyPrefix&&Array.isArray(g)?S=g.map(D=>`${v.keyPrefix}${N}${D}`):S=v.keyPrefix?`${v.keyPrefix}${N}${g}`:g,this.t(S,v)};return Bn(c)?h.lng=c:h.lngs=c,h.ns=s,h.keyPrefix=o,h}t(...c){var s;return(s=this.translator)==null?void 0:s.translate(...c)}exists(...c){var s;return(s=this.translator)==null?void 0:s.exists(...c)}setDefaultNamespace(c){this.options.defaultNS=c}hasLoadedNamespace(c,s={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const o=s.lng||this.resolvedLanguage||this.languages[0],h=this.options?this.options.fallbackLng:!1,g=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;const _=(y,v)=>{const N=this.services.backendConnector.state[`${y}|${v}`];return N===-1||N===0||N===2};if(s.precheck){const y=s.precheck(this,_);if(y!==void 0)return y}return!!(this.hasResourceBundle(o,c)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||_(o,c)&&(!h||_(g,c)))}loadNamespaces(c,s){const o=eb();return this.options.ns?(Bn(c)&&(c=[c]),c.forEach(h=>{this.options.ns.indexOf(h)<0&&this.options.ns.push(h)}),this.loadResources(h=>{o.resolve(),s&&s(h)}),o):(s&&s(),Promise.resolve())}loadLanguages(c,s){const o=eb();Bn(c)&&(c=[c]);const h=this.options.preload||[],g=c.filter(_=>h.indexOf(_)<0&&this.services.languageUtils.isSupportedCode(_));return g.length?(this.options.preload=h.concat(g),this.loadResources(_=>{o.resolve(),s&&s(_)}),o):(s&&s(),Promise.resolve())}dir(c){var h,g;if(c||(c=this.resolvedLanguage||(((h=this.languages)==null?void 0:h.length)>0?this.languages[0]:this.language)),!c)return"rtl";try{const _=new Intl.Locale(c);if(_&&_.getTextInfo){const y=_.getTextInfo();if(y&&y.direction)return y.direction}}catch{}const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=((g=this.services)==null?void 0:g.languageUtils)||new L3(F3());return c.toLowerCase().indexOf("-latn")>1?"ltr":s.indexOf(o.getLanguagePartFromCode(c))>-1||c.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(c={},s){return new _b(c,s)}cloneInstance(c={},s=Q_){const o=c.forkResourceStore;o&&delete c.forkResourceStore;const h={...this.options,...c,isClone:!0},g=new _b(h);if((c.debug!==void 0||c.prefix!==void 0)&&(g.logger=g.logger.clone(c)),["store","services","language"].forEach(y=>{g[y]=this[y]}),g.services={...this.services},g.services.utils={hasLoadedNamespace:g.hasLoadedNamespace.bind(g)},o){const y=Object.keys(this.store.data).reduce((v,N)=>(v[N]={...this.store.data[N]},v[N]=Object.keys(v[N]).reduce((S,D)=>(S[D]={...v[N][D]},S),v[N]),v),{});g.store=new M3(y,h),g.services.resourceStore=g.store}return g.translator=new Bv(g.services,h),g.translator.on("*",(y,...v)=>{g.emit(y,...v)}),g.init(h,s),g.translator.options=h,g.translator.backendConnector.services.utils={hasLoadedNamespace:g.hasLoadedNamespace.bind(g)},g}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Qo=_b.createInstance();Qo.createInstance=_b.createInstance;Qo.createInstance;Qo.dir;Qo.init;Qo.loadResources;Qo.reloadResources;Qo.use;Qo.changeLanguage;Qo.getFixedT;Qo.t;Qo.exists;Qo.setDefaultNamespace;Qo.hasLoadedNamespace;Qo.loadNamespaces;Qo.loadLanguages;const DJ={en:{translation:{"Trang chủ":"Home","Khám phá":"Explore","Chuyến đi của bạn":"Your Bookings","Trang cá nhân":"Profile","Đăng nhập":"Login","Đăng ký":"Register","Đăng xuất":"Logout","Thông báo":"Notifications","Khám phá & Lên Kế Hoạch Du Lịch Thông Minh":"Discover & Plan Your Smart Trip","Tìm kiếm địa điểm, tạo lộ trình cá nhân hoặc để chúng tôi gợi ý chuyến đi hoàn hảo cho bạn!":"Find places, create your own itinerary, or let us suggest the perfect trip for you!","Bắt đầu lên kế hoạch":"Start Planning","Tự tạo lộ trình":"Manual Planning","Bạn muốn tự lên kế hoạch chuyến đi? Hãy sử dụng chế độ thủ công để tự tạo tour theo ý thích của mình.":"Want to plan your own trip? Use manual mode to create your custom tour.","Tạo lộ trình tự động":"Auto Planning","Bạn muốn chúng tôi tạo lộ trình phù hợp? Hãy thử chế độ tự động để chúng tôi đề xuất tour cho bạn!":"Want us to create a suitable itinerary? Try auto mode for our suggestions!","Bạn chưa có dự định? Hãy cùng khám phá bản đồ du lịch!":"No plans yet? Explore the travel map!","Viết bài viết":"Write Blog","Các khách sạn hàng đầu":"Top Hotels","Đặt ngay":"Booking now","Xem tất cả khách sạn":"View All Hotels","Các nhà hàng nổi tiếg":"Top Hotels","Xem tất cả nhà hàng":"View All Restaurants"}},vi:{translation:{Home:"Trang chủ",Explore:"Khám phá","Your Bookings":"Chuyến đi của bạn",Profile:"Hồ sơ",Login:"Đăng nhập",Register:"Đăng ký",Logout:"Đăng xuất",Notifications:"Thông báo","Discover & Plan Your Smart Trip":"Khám phá & Lên Kế Hoạch Du Lịch Thông Minh","Find places, create your own itinerary, or let us suggest the perfect trip for you!":"Tìm kiếm địa điểm, tạo lộ trình cá nhân hoặc để chúng tôi gợi ý chuyến đi hoàn hảo cho bạn!","Start Planning":"Bắt đầu lên kế hoạch","Manual Planning":"Tự tạo lộ trình","Want to plan your own trip? Use manual mode to create your custom tour.":"Bạn muốn tự lên kế hoạch chuyến đi? Hãy sử dụng chế độ thủ công để tự tạo tour theo ý thích của mình.","Auto Planning":"Tạo lộ trình tự động","Want us to create a suitable itinerary? Try auto mode for our suggestions!":"Bạn muốn chúng tôi tạo lộ trình phù hợp? Hãy thử chế độ tự động để chúng tôi đề xuất tour cho bạn!","No plans yet? Explore the travel map!":"Bạn chưa có dự định? Hãy cùng khám phá bản đồ du lịch!","Trips & Itineraries":"Chuyến đi & Lịch trình","Featured Destinations":"Điểm đến nổi bật","Read interesting shares from travelers":"Đọc những chia sẻ thú vị từ các du khách","Plan Quickly with":"Lên kế hoạch nhanh chóng với","Your journey will be optimized with just one click!":"Chuyến đi của bạn sẽ được tối ưu hóa chỉ với một cú nhấp chuột!","Get Started with AutoPlanner":"Bắt đầu với AutoPlanner","Join Now":"Tham gia ngay","Explore More":"Khám phá thêm",About:"Về chúng tôi","Quick Links":"Liên kết nhanh",Contact:"Liên hệ","Follow Us":"Theo dõi chúng tôi","Developed by":"Phát triển bởi",Places:"Địa điểm",Tours:"Tour",Articles:"Bài viết","Write Blog":"Viết bài viết","Top Hotels":"Các khách sạn hàng đầu","Booking now":"Đặt ngay","View All Hotels":"Xem tất cả khách sạn","Top Restaurants":"Các nhà hàng nổi tiếng","View All Restaurants":"Xem tất cả nhà hàng"}}};Qo.use(dH).init({resources:DJ,lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});Z8.createRoot(document.getElementById("root")).render(i.jsx(tt.StrictMode,{children:i.jsx(pH,{children:i.jsx(wH,{children:i.jsx(lJ,{})})})}));
