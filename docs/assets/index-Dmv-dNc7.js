var G8=Object.defineProperty;var K8=(l,c,s)=>c in l?G8(l,c,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[c]=s;var tn=(l,c,s)=>K8(l,typeof c!="symbol"?c+"":c,s);function Q8(l,c){for(var s=0;s<c.length;s++){const o=c[s];if(typeof o!="string"&&!Array.isArray(o)){for(const h in o)if(h!=="default"&&!(h in l)){const g=Object.getOwnPropertyDescriptor(o,h);g&&Object.defineProperty(l,h,g.get?g:{enumerable:!0,get:()=>o[h]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))o(h);new MutationObserver(h=>{for(const g of h)if(g.type==="childList")for(const _ of g.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&o(_)}).observe(document,{childList:!0,subtree:!0});function s(h){const g={};return h.integrity&&(g.integrity=h.integrity),h.referrerPolicy&&(g.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?g.credentials="include":h.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function o(h){if(h.ep)return;h.ep=!0;const g=s(h);fetch(h.href,g)}})();var Fl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vm(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Xy={exports:{}},qg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _2;function Z8(){if(_2)return qg;_2=1;var l=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function s(o,h,g){var _=null;if(g!==void 0&&(_=""+g),h.key!==void 0&&(_=""+h.key),"key"in h){g={};for(var y in h)y!=="key"&&(g[y]=h[y])}else g=h;return h=g.ref,{$$typeof:l,type:o,key:_,ref:h!==void 0?h:null,props:g}}return qg.Fragment=c,qg.jsx=s,qg.jsxs=s,qg}var v2;function X8(){return v2||(v2=1,Xy.exports=Z8()),Xy.exports}var i=X8(),Jy={exports:{}},Xn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2;function J8(){if(w2)return Xn;w2=1;var l=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),_=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),D=Symbol.iterator;function j(Z){return Z===null||typeof Z!="object"?null:(Z=D&&Z[D]||Z["@@iterator"],typeof Z=="function"?Z:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,H={};function $(Z,pe,xe){this.props=Z,this.context=pe,this.refs=H,this.updater=xe||B}$.prototype.isReactComponent={},$.prototype.setState=function(Z,pe){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,pe,"setState")},$.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function K(){}K.prototype=$.prototype;function Q(Z,pe,xe){this.props=Z,this.context=pe,this.refs=H,this.updater=xe||B}var ee=Q.prototype=new K;ee.constructor=Q,F(ee,$.prototype),ee.isPureReactComponent=!0;var ne=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function q(Z,pe,xe,Se,Fe,tt){return xe=tt.ref,{$$typeof:l,type:Z,key:pe,ref:xe!==void 0?xe:null,props:tt}}function de(Z,pe){return q(Z.type,pe,void 0,void 0,void 0,Z.props)}function re(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===l}function be(Z){var pe={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(xe){return pe[xe]})}var ke=/\/+/g;function Ne(Z,pe){return typeof Z=="object"&&Z!==null&&Z.key!=null?be(""+Z.key):pe.toString(36)}function De(){}function _e(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(De,De):(Z.status="pending",Z.then(function(pe){Z.status==="pending"&&(Z.status="fulfilled",Z.value=pe)},function(pe){Z.status==="pending"&&(Z.status="rejected",Z.reason=pe)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function je(Z,pe,xe,Se,Fe){var tt=typeof Z;(tt==="undefined"||tt==="boolean")&&(Z=null);var fe=!1;if(Z===null)fe=!0;else switch(tt){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(Z.$$typeof){case l:case c:fe=!0;break;case S:return fe=Z._init,je(fe(Z._payload),pe,xe,Se,Fe)}}if(fe)return Fe=Fe(Z),fe=Se===""?"."+Ne(Z,0):Se,ne(Fe)?(xe="",fe!=null&&(xe=fe.replace(ke,"$&/")+"/"),je(Fe,pe,xe,"",function(qe){return qe})):Fe!=null&&(re(Fe)&&(Fe=de(Fe,xe+(Fe.key==null||Z&&Z.key===Fe.key?"":(""+Fe.key).replace(ke,"$&/")+"/")+fe)),pe.push(Fe)),1;fe=0;var me=Se===""?".":Se+":";if(ne(Z))for(var Ie=0;Ie<Z.length;Ie++)Se=Z[Ie],tt=me+Ne(Se,Ie),fe+=je(Se,pe,xe,tt,Fe);else if(Ie=j(Z),typeof Ie=="function")for(Z=Ie.call(Z),Ie=0;!(Se=Z.next()).done;)Se=Se.value,tt=me+Ne(Se,Ie++),fe+=je(Se,pe,xe,tt,Fe);else if(tt==="object"){if(typeof Z.then=="function")return je(_e(Z),pe,xe,Se,Fe);throw pe=String(Z),Error("Objects are not valid as a React child (found: "+(pe==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":pe)+"). If you meant to render a collection of children, use an array instead.")}return fe}function oe(Z,pe,xe){if(Z==null)return Z;var Se=[],Fe=0;return je(Z,Se,"","",function(tt){return pe.call(xe,tt,Fe++)}),Se}function ve(Z){if(Z._status===-1){var pe=Z._result;pe=pe(),pe.then(function(xe){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=xe)},function(xe){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=xe)}),Z._status===-1&&(Z._status=0,Z._result=pe)}if(Z._status===1)return Z._result.default;throw Z._result}var he=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var pe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(pe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)};function Ee(){}return Xn.Children={map:oe,forEach:function(Z,pe,xe){oe(Z,function(){pe.apply(this,arguments)},xe)},count:function(Z){var pe=0;return oe(Z,function(){pe++}),pe},toArray:function(Z){return oe(Z,function(pe){return pe})||[]},only:function(Z){if(!re(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},Xn.Component=$,Xn.Fragment=s,Xn.Profiler=h,Xn.PureComponent=Q,Xn.StrictMode=o,Xn.Suspense=v,Xn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Xn.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return le.H.useMemoCache(Z)}},Xn.cache=function(Z){return function(){return Z.apply(null,arguments)}},Xn.cloneElement=function(Z,pe,xe){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var Se=F({},Z.props),Fe=Z.key,tt=void 0;if(pe!=null)for(fe in pe.ref!==void 0&&(tt=void 0),pe.key!==void 0&&(Fe=""+pe.key),pe)!se.call(pe,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&pe.ref===void 0||(Se[fe]=pe[fe]);var fe=arguments.length-2;if(fe===1)Se.children=xe;else if(1<fe){for(var me=Array(fe),Ie=0;Ie<fe;Ie++)me[Ie]=arguments[Ie+2];Se.children=me}return q(Z.type,Fe,void 0,void 0,tt,Se)},Xn.createContext=function(Z){return Z={$$typeof:_,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:g,_context:Z},Z},Xn.createElement=function(Z,pe,xe){var Se,Fe={},tt=null;if(pe!=null)for(Se in pe.key!==void 0&&(tt=""+pe.key),pe)se.call(pe,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(Fe[Se]=pe[Se]);var fe=arguments.length-2;if(fe===1)Fe.children=xe;else if(1<fe){for(var me=Array(fe),Ie=0;Ie<fe;Ie++)me[Ie]=arguments[Ie+2];Fe.children=me}if(Z&&Z.defaultProps)for(Se in fe=Z.defaultProps,fe)Fe[Se]===void 0&&(Fe[Se]=fe[Se]);return q(Z,tt,void 0,void 0,null,Fe)},Xn.createRef=function(){return{current:null}},Xn.forwardRef=function(Z){return{$$typeof:y,render:Z}},Xn.isValidElement=re,Xn.lazy=function(Z){return{$$typeof:S,_payload:{_status:-1,_result:Z},_init:ve}},Xn.memo=function(Z,pe){return{$$typeof:N,type:Z,compare:pe===void 0?null:pe}},Xn.startTransition=function(Z){var pe=le.T,xe={};le.T=xe;try{var Se=Z(),Fe=le.S;Fe!==null&&Fe(xe,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(Ee,he)}catch(tt){he(tt)}finally{le.T=pe}},Xn.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Xn.use=function(Z){return le.H.use(Z)},Xn.useActionState=function(Z,pe,xe){return le.H.useActionState(Z,pe,xe)},Xn.useCallback=function(Z,pe){return le.H.useCallback(Z,pe)},Xn.useContext=function(Z){return le.H.useContext(Z)},Xn.useDebugValue=function(){},Xn.useDeferredValue=function(Z,pe){return le.H.useDeferredValue(Z,pe)},Xn.useEffect=function(Z,pe,xe){var Se=le.H;if(typeof xe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Se.useEffect(Z,pe)},Xn.useId=function(){return le.H.useId()},Xn.useImperativeHandle=function(Z,pe,xe){return le.H.useImperativeHandle(Z,pe,xe)},Xn.useInsertionEffect=function(Z,pe){return le.H.useInsertionEffect(Z,pe)},Xn.useLayoutEffect=function(Z,pe){return le.H.useLayoutEffect(Z,pe)},Xn.useMemo=function(Z,pe){return le.H.useMemo(Z,pe)},Xn.useOptimistic=function(Z,pe){return le.H.useOptimistic(Z,pe)},Xn.useReducer=function(Z,pe,xe){return le.H.useReducer(Z,pe,xe)},Xn.useRef=function(Z){return le.H.useRef(Z)},Xn.useState=function(Z){return le.H.useState(Z)},Xn.useSyncExternalStore=function(Z,pe,xe){return le.H.useSyncExternalStore(Z,pe,xe)},Xn.useTransition=function(){return le.H.useTransition()},Xn.version="19.1.0",Xn}var y2;function NA(){return y2||(y2=1,Jy.exports=J8()),Jy.exports}var I=NA();const it=Vm(I),QO=Q8({__proto__:null,default:it},[I]);var e0={exports:{}},Wg={},t0={exports:{}},n0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2;function e7(){return x2||(x2=1,function(l){function c(oe,ve){var he=oe.length;oe.push(ve);e:for(;0<he;){var Ee=he-1>>>1,Z=oe[Ee];if(0<h(Z,ve))oe[Ee]=ve,oe[he]=Z,he=Ee;else break e}}function s(oe){return oe.length===0?null:oe[0]}function o(oe){if(oe.length===0)return null;var ve=oe[0],he=oe.pop();if(he!==ve){oe[0]=he;e:for(var Ee=0,Z=oe.length,pe=Z>>>1;Ee<pe;){var xe=2*(Ee+1)-1,Se=oe[xe],Fe=xe+1,tt=oe[Fe];if(0>h(Se,he))Fe<Z&&0>h(tt,Se)?(oe[Ee]=tt,oe[Fe]=he,Ee=Fe):(oe[Ee]=Se,oe[xe]=he,Ee=xe);else if(Fe<Z&&0>h(tt,he))oe[Ee]=tt,oe[Fe]=he,Ee=Fe;else break e}}return ve}function h(oe,ve){var he=oe.sortIndex-ve.sortIndex;return he!==0?he:oe.id-ve.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var g=performance;l.unstable_now=function(){return g.now()}}else{var _=Date,y=_.now();l.unstable_now=function(){return _.now()-y}}var v=[],N=[],S=1,D=null,j=3,B=!1,F=!1,H=!1,$=!1,K=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function ne(oe){for(var ve=s(N);ve!==null;){if(ve.callback===null)o(N);else if(ve.startTime<=oe)o(N),ve.sortIndex=ve.expirationTime,c(v,ve);else break;ve=s(N)}}function le(oe){if(H=!1,ne(oe),!F)if(s(v)!==null)F=!0,se||(se=!0,Ne());else{var ve=s(N);ve!==null&&je(le,ve.startTime-oe)}}var se=!1,q=-1,de=5,re=-1;function be(){return $?!0:!(l.unstable_now()-re<de)}function ke(){if($=!1,se){var oe=l.unstable_now();re=oe;var ve=!0;try{e:{F=!1,H&&(H=!1,Q(q),q=-1),B=!0;var he=j;try{t:{for(ne(oe),D=s(v);D!==null&&!(D.expirationTime>oe&&be());){var Ee=D.callback;if(typeof Ee=="function"){D.callback=null,j=D.priorityLevel;var Z=Ee(D.expirationTime<=oe);if(oe=l.unstable_now(),typeof Z=="function"){D.callback=Z,ne(oe),ve=!0;break t}D===s(v)&&o(v),ne(oe)}else o(v);D=s(v)}if(D!==null)ve=!0;else{var pe=s(N);pe!==null&&je(le,pe.startTime-oe),ve=!1}}break e}finally{D=null,j=he,B=!1}ve=void 0}}finally{ve?Ne():se=!1}}}var Ne;if(typeof ee=="function")Ne=function(){ee(ke)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,_e=De.port2;De.port1.onmessage=ke,Ne=function(){_e.postMessage(null)}}else Ne=function(){K(ke,0)};function je(oe,ve){q=K(function(){oe(l.unstable_now())},ve)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(oe){oe.callback=null},l.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<oe?Math.floor(1e3/oe):5},l.unstable_getCurrentPriorityLevel=function(){return j},l.unstable_next=function(oe){switch(j){case 1:case 2:case 3:var ve=3;break;default:ve=j}var he=j;j=ve;try{return oe()}finally{j=he}},l.unstable_requestPaint=function(){$=!0},l.unstable_runWithPriority=function(oe,ve){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var he=j;j=oe;try{return ve()}finally{j=he}},l.unstable_scheduleCallback=function(oe,ve,he){var Ee=l.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ee+he:Ee):he=Ee,oe){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=he+Z,oe={id:S++,callback:ve,priorityLevel:oe,startTime:he,expirationTime:Z,sortIndex:-1},he>Ee?(oe.sortIndex=he,c(N,oe),s(v)===null&&oe===s(N)&&(H?(Q(q),q=-1):H=!0,je(le,he-Ee))):(oe.sortIndex=Z,c(v,oe),F||B||(F=!0,se||(se=!0,Ne()))),oe},l.unstable_shouldYield=be,l.unstable_wrapCallback=function(oe){var ve=j;return function(){var he=j;j=ve;try{return oe.apply(this,arguments)}finally{j=he}}}}(n0)),n0}var C2;function t7(){return C2||(C2=1,t0.exports=e7()),t0.exports}var i0={exports:{}},Wo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A2;function n7(){if(A2)return Wo;A2=1;var l=NA();function c(v){var N="https://react.dev/errors/"+v;if(1<arguments.length){N+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)N+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+N+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(c(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},h=Symbol.for("react.portal");function g(v,N,S){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:D==null?null:""+D,children:v,containerInfo:N,implementation:S}}var _=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,N){if(v==="font")return"";if(typeof N=="string")return N==="use-credentials"?N:""}return Wo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Wo.createPortal=function(v,N){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N||N.nodeType!==1&&N.nodeType!==9&&N.nodeType!==11)throw Error(c(299));return g(v,N,null,S)},Wo.flushSync=function(v){var N=_.T,S=o.p;try{if(_.T=null,o.p=2,v)return v()}finally{_.T=N,o.p=S,o.d.f()}},Wo.preconnect=function(v,N){typeof v=="string"&&(N?(N=N.crossOrigin,N=typeof N=="string"?N==="use-credentials"?N:"":void 0):N=null,o.d.C(v,N))},Wo.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},Wo.preinit=function(v,N){if(typeof v=="string"&&N&&typeof N.as=="string"){var S=N.as,D=y(S,N.crossOrigin),j=typeof N.integrity=="string"?N.integrity:void 0,B=typeof N.fetchPriority=="string"?N.fetchPriority:void 0;S==="style"?o.d.S(v,typeof N.precedence=="string"?N.precedence:void 0,{crossOrigin:D,integrity:j,fetchPriority:B}):S==="script"&&o.d.X(v,{crossOrigin:D,integrity:j,fetchPriority:B,nonce:typeof N.nonce=="string"?N.nonce:void 0})}},Wo.preinitModule=function(v,N){if(typeof v=="string")if(typeof N=="object"&&N!==null){if(N.as==null||N.as==="script"){var S=y(N.as,N.crossOrigin);o.d.M(v,{crossOrigin:S,integrity:typeof N.integrity=="string"?N.integrity:void 0,nonce:typeof N.nonce=="string"?N.nonce:void 0})}}else N==null&&o.d.M(v)},Wo.preload=function(v,N){if(typeof v=="string"&&typeof N=="object"&&N!==null&&typeof N.as=="string"){var S=N.as,D=y(S,N.crossOrigin);o.d.L(v,S,{crossOrigin:D,integrity:typeof N.integrity=="string"?N.integrity:void 0,nonce:typeof N.nonce=="string"?N.nonce:void 0,type:typeof N.type=="string"?N.type:void 0,fetchPriority:typeof N.fetchPriority=="string"?N.fetchPriority:void 0,referrerPolicy:typeof N.referrerPolicy=="string"?N.referrerPolicy:void 0,imageSrcSet:typeof N.imageSrcSet=="string"?N.imageSrcSet:void 0,imageSizes:typeof N.imageSizes=="string"?N.imageSizes:void 0,media:typeof N.media=="string"?N.media:void 0})}},Wo.preloadModule=function(v,N){if(typeof v=="string")if(N){var S=y(N.as,N.crossOrigin);o.d.m(v,{as:typeof N.as=="string"&&N.as!=="script"?N.as:void 0,crossOrigin:S,integrity:typeof N.integrity=="string"?N.integrity:void 0})}else o.d.m(v)},Wo.requestFormReset=function(v){o.d.r(v)},Wo.unstable_batchedUpdates=function(v,N){return v(N)},Wo.useFormState=function(v,N,S){return _.H.useFormState(v,N,S)},Wo.useFormStatus=function(){return _.H.useHostTransitionStatus()},Wo.version="19.1.0",Wo}var N2;function ZO(){if(N2)return i0.exports;N2=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(c){console.error(c)}}return l(),i0.exports=n7(),i0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E2;function i7(){if(E2)return Wg;E2=1;var l=t7(),c=NA(),s=ZO();function o(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var k=2;k<arguments.length;k++)m+="&args[]="+encodeURIComponent(arguments[k])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function g(d){var m=d,k=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(k=m.return),d=m.return;while(d)}return m.tag===3?k:null}function _(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function y(d){if(g(d)!==d)throw Error(o(188))}function v(d){var m=d.alternate;if(!m){if(m=g(d),m===null)throw Error(o(188));return m!==d?null:d}for(var k=d,C=m;;){var M=k.return;if(M===null)break;var P=M.alternate;if(P===null){if(C=M.return,C!==null){k=C;continue}break}if(M.child===P.child){for(P=M.child;P;){if(P===k)return y(M),d;if(P===C)return y(M),m;P=P.sibling}throw Error(o(188))}if(k.return!==C.return)k=M,C=P;else{for(var J=!1,ce=M.child;ce;){if(ce===k){J=!0,k=M,C=P;break}if(ce===C){J=!0,C=M,k=P;break}ce=ce.sibling}if(!J){for(ce=P.child;ce;){if(ce===k){J=!0,k=P,C=M;break}if(ce===C){J=!0,C=P,k=M;break}ce=ce.sibling}if(!J)throw Error(o(189))}}if(k.alternate!==C)throw Error(o(190))}if(k.tag!==3)throw Error(o(188));return k.stateNode.current===k?d:m}function N(d){var m=d.tag;if(m===5||m===26||m===27||m===6)return d;for(d=d.child;d!==null;){if(m=N(d),m!==null)return m;d=d.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),ke=Symbol.iterator;function Ne(d){return d===null||typeof d!="object"?null:(d=ke&&d[ke]||d["@@iterator"],typeof d=="function"?d:null)}var De=Symbol.for("react.client.reference");function _e(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===De?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case F:return"Fragment";case $:return"Profiler";case H:return"StrictMode";case le:return"Suspense";case se:return"SuspenseList";case re:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case B:return"Portal";case ee:return(d.displayName||"Context")+".Provider";case Q:return(d._context.displayName||"Context")+".Consumer";case ne:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case q:return m=d.displayName||null,m!==null?m:_e(d.type)||"Memo";case de:m=d._payload,d=d._init;try{return _e(d(m))}catch{}}return null}var je=Array.isArray,oe=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ee=[],Z=-1;function pe(d){return{current:d}}function xe(d){0>Z||(d.current=Ee[Z],Ee[Z]=null,Z--)}function Se(d,m){Z++,Ee[Z]=d.current,d.current=m}var Fe=pe(null),tt=pe(null),fe=pe(null),me=pe(null);function Ie(d,m){switch(Se(fe,m),Se(tt,d),Se(Fe,null),m.nodeType){case 9:case 11:d=(d=m.documentElement)&&(d=d.namespaceURI)?Ek(d):0;break;default:if(d=m.tagName,m=m.namespaceURI)m=Ek(m),d=Sk(m,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}xe(Fe),Se(Fe,d)}function qe(){xe(Fe),xe(tt),xe(fe)}function Le(d){d.memoizedState!==null&&Se(me,d);var m=Fe.current,k=Sk(m,d.type);m!==k&&(Se(tt,d),Se(Fe,k))}function st(d){tt.current===d&&(xe(Fe),xe(tt)),me.current===d&&(xe(me),dm._currentValue=he)}var Ye=Object.prototype.hasOwnProperty,Oe=l.unstable_scheduleCallback,ut=l.unstable_cancelCallback,ze=l.unstable_shouldYield,ht=l.unstable_requestPaint,Rt=l.unstable_now,Xt=l.unstable_getCurrentPriorityLevel,at=l.unstable_ImmediatePriority,jt=l.unstable_UserBlockingPriority,Dt=l.unstable_NormalPriority,Qe=l.unstable_LowPriority,It=l.unstable_IdlePriority,Lt=l.log,Ue=l.unstable_setDisableYieldValue,bt=null,Ut=null;function hn(d){if(typeof Lt=="function"&&Ue(d),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(bt,d)}catch{}}var Pn=Math.clz32?Math.clz32:di,yn=Math.log,li=Math.LN2;function di(d){return d>>>=0,d===0?32:31-(yn(d)/li|0)|0}var Ar=256,tr=4194304;function Oi(d){var m=d&42;if(m!==0)return m;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function ri(d,m,k){var C=d.pendingLanes;if(C===0)return 0;var M=0,P=d.suspendedLanes,J=d.pingedLanes;d=d.warmLanes;var ce=C&134217727;return ce!==0?(C=ce&~P,C!==0?M=Oi(C):(J&=ce,J!==0?M=Oi(J):k||(k=ce&~d,k!==0&&(M=Oi(k))))):(ce=C&~P,ce!==0?M=Oi(ce):J!==0?M=Oi(J):k||(k=C&~d,k!==0&&(M=Oi(k)))),M===0?0:m!==0&&m!==M&&(m&P)===0&&(P=M&-M,k=m&-m,P>=k||P===32&&(k&4194048)!==0)?m:M}function ei(d,m){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&m)===0}function Us(d,m){switch(d){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ui(){var d=Ar;return Ar<<=1,(Ar&4194048)===0&&(Ar=256),d}function nr(){var d=tr;return tr<<=1,(tr&62914560)===0&&(tr=4194304),d}function kr(d){for(var m=[],k=0;31>k;k++)m.push(d);return m}function ir(d,m){d.pendingLanes|=m,m!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function $e(d,m,k,C,M,P){var J=d.pendingLanes;d.pendingLanes=k,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=k,d.entangledLanes&=k,d.errorRecoveryDisabledLanes&=k,d.shellSuspendCounter=0;var ce=d.entanglements,Ae=d.expirationTimes,Xe=d.hiddenUpdates;for(k=J&~k;0<k;){var gt=31-Pn(k),vt=1<<gt;ce[gt]=0,Ae[gt]=-1;var nt=Xe[gt];if(nt!==null)for(Xe[gt]=null,gt=0;gt<nt.length;gt++){var rt=nt[gt];rt!==null&&(rt.lane&=-536870913)}k&=~vt}C!==0&&Gt(d,C,0),P!==0&&M===0&&d.tag!==0&&(d.suspendedLanes|=P&~(J&~m))}function Gt(d,m,k){d.pendingLanes|=m,d.suspendedLanes&=~m;var C=31-Pn(m);d.entangledLanes|=m,d.entanglements[C]=d.entanglements[C]|1073741824|k&4194090}function mt(d,m){var k=d.entangledLanes|=m;for(d=d.entanglements;k;){var C=31-Pn(k),M=1<<C;M&m|d[C]&m&&(d[C]|=m),k&=~M}}function dn(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function $n(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function Ge(){var d=ve.p;return d!==0?d:(d=window.event,d===void 0?32:Qk(d.type))}function Tt(d,m){var k=ve.p;try{return ve.p=d,m()}finally{ve.p=k}}var Je=Math.random().toString(36).slice(2),rn="__reactFiber$"+Je,xn="__reactProps$"+Je,Bn="__reactContainer$"+Je,bn="__reactEvents$"+Je,we="__reactListeners$"+Je,ct="__reactHandles$"+Je,xt="__reactResources$"+Je,Te="__reactMarker$"+Je;function Et(d){delete d[rn],delete d[xn],delete d[bn],delete d[we],delete d[ct]}function Mt(d){var m=d[rn];if(m)return m;for(var k=d.parentNode;k;){if(m=k[Bn]||k[rn]){if(k=m.alternate,m.child!==null||k!==null&&k.child!==null)for(d=bg(d);d!==null;){if(k=d[rn])return k;d=bg(d)}return m}d=k,k=d.parentNode}return null}function vn(d){if(d=d[rn]||d[Bn]){var m=d.tag;if(m===5||m===6||m===13||m===26||m===27||m===3)return d}return null}function mn(d){var m=d.tag;if(m===5||m===26||m===27||m===6)return d.stateNode;throw Error(o(33))}function Rn(d){var m=d[xt];return m||(m=d[xt]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function on(d){d[Te]=!0}var lr=new Set,Gn={};function Vn(d,m){Wr(d,m),Wr(d+"Capture",m)}function Wr(d,m){for(Gn[d]=m,d=0;d<m.length;d++)lr.add(m[d])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ws={},Zo={};function Ac(d){return Ye.call(Zo,d)?!0:Ye.call(ws,d)?!1:So.test(d)?Zo[d]=!0:(ws[d]=!0,!1)}function ka(d,m,k){if(Ac(m))if(k===null)d.removeAttribute(m);else{switch(typeof k){case"undefined":case"function":case"symbol":d.removeAttribute(m);return;case"boolean":var C=m.toLowerCase().slice(0,5);if(C!=="data-"&&C!=="aria-"){d.removeAttribute(m);return}}d.setAttribute(m,""+k)}}function uo(d,m,k){if(k===null)d.removeAttribute(m);else{switch(typeof k){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(m);return}d.setAttribute(m,""+k)}}function $s(d,m,k,C){if(C===null)d.removeAttribute(k);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(k);return}d.setAttributeNS(m,k,""+C)}}var Yr,cs;function ds(d){if(Yr===void 0)try{throw Error()}catch(k){var m=k.stack.trim().match(/\n( *(at )?)/);Yr=m&&m[1]||"",cs=-1<k.stack.indexOf(`
    at`)?" (<anonymous>)":-1<k.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+d+cs}var za=!1;function ho(d,m){if(!d||za)return"";za=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(m){var vt=function(){throw Error()};if(Object.defineProperty(vt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(vt,[])}catch(rt){var nt=rt}Reflect.construct(d,[],vt)}else{try{vt.call()}catch(rt){nt=rt}d.call(vt.prototype)}}else{try{throw Error()}catch(rt){nt=rt}(vt=d())&&typeof vt.catch=="function"&&vt.catch(function(){})}}catch(rt){if(rt&&nt&&typeof rt.stack=="string")return[rt.stack,nt.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=C.DetermineComponentFrameRoot(),J=P[0],ce=P[1];if(J&&ce){var Ae=J.split(`
`),Xe=ce.split(`
`);for(M=C=0;C<Ae.length&&!Ae[C].includes("DetermineComponentFrameRoot");)C++;for(;M<Xe.length&&!Xe[M].includes("DetermineComponentFrameRoot");)M++;if(C===Ae.length||M===Xe.length)for(C=Ae.length-1,M=Xe.length-1;1<=C&&0<=M&&Ae[C]!==Xe[M];)M--;for(;1<=C&&0<=M;C--,M--)if(Ae[C]!==Xe[M]){if(C!==1||M!==1)do if(C--,M--,0>M||Ae[C]!==Xe[M]){var gt=`
`+Ae[C].replace(" at new "," at ");return d.displayName&&gt.includes("<anonymous>")&&(gt=gt.replace("<anonymous>",d.displayName)),gt}while(1<=C&&0<=M);break}}}finally{za=!1,Error.prepareStackTrace=k}return(k=d?d.displayName||d.name:"")?ds(k):""}function Kn(d){switch(d.tag){case 26:case 27:case 5:return ds(d.type);case 16:return ds("Lazy");case 13:return ds("Suspense");case 19:return ds("SuspenseList");case 0:case 15:return ho(d.type,!1);case 11:return ho(d.type.render,!1);case 1:return ho(d.type,!0);case 31:return ds("Activity");default:return""}}function ki(d){try{var m="";do m+=Kn(d),d=d.return;while(d);return m}catch(k){return`
Error generating stack: `+k.message+`
`+k.stack}}function _r(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function jo(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Xo(d){var m=jo(d)?"checked":"value",k=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),C=""+d[m];if(!d.hasOwnProperty(m)&&typeof k<"u"&&typeof k.get=="function"&&typeof k.set=="function"){var M=k.get,P=k.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return M.call(this)},set:function(J){C=""+J,P.call(this,J)}}),Object.defineProperty(d,m,{enumerable:k.enumerable}),{getValue:function(){return C},setValue:function(J){C=""+J},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function Gr(d){d._valueTracker||(d._valueTracker=Xo(d))}function Sn(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var k=m.getValue(),C="";return d&&(C=jo(d)?d.checked?"true":"false":d.value),d=C,d!==k?(m.setValue(d),!0):!1}function Qn(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var Nr=/[\n"\\]/g;function Ti(d){return d.replace(Nr,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function Ni(d,m,k,C,M,P,J,ce){d.name="",J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?d.type=J:d.removeAttribute("type"),m!=null?J==="number"?(m===0&&d.value===""||d.value!=m)&&(d.value=""+_r(m)):d.value!==""+_r(m)&&(d.value=""+_r(m)):J!=="submit"&&J!=="reset"||d.removeAttribute("value"),m!=null?qs(d,J,_r(m)):k!=null?qs(d,J,_r(k)):C!=null&&d.removeAttribute("value"),M==null&&P!=null&&(d.defaultChecked=!!P),M!=null&&(d.checked=M&&typeof M!="function"&&typeof M!="symbol"),ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?d.name=""+_r(ce):d.removeAttribute("name")}function Fa(d,m,k,C,M,P,J,ce){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(d.type=P),m!=null||k!=null){if(!(P!=="submit"&&P!=="reset"||m!=null))return;k=k!=null?""+_r(k):"",m=m!=null?""+_r(m):k,ce||m===d.value||(d.value=m),d.defaultValue=m}C=C??M,C=typeof C!="function"&&typeof C!="symbol"&&!!C,d.checked=ce?d.checked:!!C,d.defaultChecked=!!C,J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(d.name=J)}function qs(d,m,k){m==="number"&&Qn(d.ownerDocument)===d||d.defaultValue===""+k||(d.defaultValue=""+k)}function Ui(d,m,k,C){if(d=d.options,m){m={};for(var M=0;M<k.length;M++)m["$"+k[M]]=!0;for(k=0;k<d.length;k++)M=m.hasOwnProperty("$"+d[k].value),d[k].selected!==M&&(d[k].selected=M),M&&C&&(d[k].defaultSelected=!0)}else{for(k=""+_r(k),m=null,M=0;M<d.length;M++){if(d[M].value===k){d[M].selected=!0,C&&(d[M].defaultSelected=!0);return}m!==null||d[M].disabled||(m=d[M])}m!==null&&(m.selected=!0)}}function qn(d,m,k){if(m!=null&&(m=""+_r(m),m!==d.value&&(d.value=m),k==null)){d.defaultValue!==m&&(d.defaultValue=m);return}d.defaultValue=k!=null?""+_r(k):""}function Br(d,m,k,C){if(m==null){if(C!=null){if(k!=null)throw Error(o(92));if(je(C)){if(1<C.length)throw Error(o(93));C=C[0]}k=C}k==null&&(k=""),m=k}k=_r(m),d.defaultValue=k,C=d.textContent,C===k&&C!==""&&C!==null&&(d.value=C)}function Er(d,m){if(m){var k=d.firstChild;if(k&&k===d.lastChild&&k.nodeType===3){k.nodeValue=m;return}}d.textContent=m}var us=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ws(d,m,k){var C=m.indexOf("--")===0;k==null||typeof k=="boolean"||k===""?C?d.setProperty(m,""):m==="float"?d.cssFloat="":d[m]="":C?d.setProperty(m,k):typeof k!="number"||k===0||us.has(m)?m==="float"?d.cssFloat=k:d[m]=(""+k).trim():d[m]=k+"px"}function ys(d,m,k){if(m!=null&&typeof m!="object")throw Error(o(62));if(d=d.style,k!=null){for(var C in k)!k.hasOwnProperty(C)||m!=null&&m.hasOwnProperty(C)||(C.indexOf("--")===0?d.setProperty(C,""):C==="float"?d.cssFloat="":d[C]="");for(var M in m)C=m[M],m.hasOwnProperty(M)&&k[M]!==C&&Ws(d,M,C)}else for(var P in m)m.hasOwnProperty(P)&&Ws(d,P,m[P])}function Ys(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function en(d){return Ct.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}var Dn=null;function _i(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Fi=null,vi=null;function ul(d){var m=vn(d);if(m&&(d=m.stateNode)){var k=d[xn]||null;e:switch(d=m.stateNode,m.type){case"input":if(Ni(d,k.value,k.defaultValue,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name),m=k.name,k.type==="radio"&&m!=null){for(k=d;k.parentNode;)k=k.parentNode;for(k=k.querySelectorAll('input[name="'+Ti(""+m)+'"][type="radio"]'),m=0;m<k.length;m++){var C=k[m];if(C!==d&&C.form===d.form){var M=C[xn]||null;if(!M)throw Error(o(90));Ni(C,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name)}}for(m=0;m<k.length;m++)C=k[m],C.form===d.form&&Sn(C)}break e;case"textarea":qn(d,k.value,k.defaultValue);break e;case"select":m=k.value,m!=null&&Ui(d,!!k.multiple,m,!1)}}}var Qt=!1;function $i(d,m,k){if(Qt)return d(m,k);Qt=!0;try{var C=d(m);return C}finally{if(Qt=!1,(Fi!==null||vi!==null)&&(Jh(),Fi&&(m=Fi,d=vi,vi=Fi=null,ul(m),d)))for(m=0;m<d.length;m++)ul(d[m])}}function ti(d,m){var k=d.stateNode;if(k===null)return null;var C=k[xn]||null;if(C===null)return null;k=C[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(d=d.type,C=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!C;break e;default:d=!1}if(d)return null;if(k&&typeof k!="function")throw Error(o(231,m,typeof k));return k}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mo=!1;if(hs)try{var _a={};Object.defineProperty(_a,"passive",{get:function(){mo=!0}}),window.addEventListener("test",_a,_a),window.removeEventListener("test",_a,_a)}catch{mo=!1}var Kr=null,fo=null,Gs=null;function Do(){if(Gs)return Gs;var d,m=fo,k=m.length,C,M="value"in Kr?Kr.value:Kr.textContent,P=M.length;for(d=0;d<k&&m[d]===M[d];d++);var J=k-d;for(C=1;C<=J&&m[k-C]===M[P-C];C++);return Gs=M.slice(d,1<C?1-C:void 0)}function Tn(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function xs(){return!0}function $l(){return!1}function Sr(d){function m(k,C,M,P,J){this._reactName=k,this._targetInst=M,this.type=C,this.nativeEvent=P,this.target=J,this.currentTarget=null;for(var ce in d)d.hasOwnProperty(ce)&&(k=d[ce],this[ce]=k?k(P):P[ce]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?xs:$l,this.isPropagationStopped=$l,this}return S(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var k=this.nativeEvent;k&&(k.preventDefault?k.preventDefault():typeof k.returnValue!="unknown"&&(k.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var k=this.nativeEvent;k&&(k.stopPropagation?k.stopPropagation():typeof k.cancelBubble!="unknown"&&(k.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),m}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jo=Sr(Cs),ms=S({},Cs,{view:0,detail:0}),xd=Sr(ms),To,zn,Va,Qr=S({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ql,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Va&&(Va&&d.type==="mousemove"?(To=d.screenX-Va.screenX,zn=d.screenY-Va.screenY):zn=To=0,Va=d),To)},movementY:function(d){return"movementY"in d?d.movementY:zn}}),As=Sr(Qr),Au=S({},Qr,{dataTransfer:0}),Nu=Sr(Au),Nc=S({},ms,{relatedTarget:0}),Ha=Sr(Nc),Ua=S({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=Sr(Ua),Cd=S({},Cs,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Ec=Sr(Cd),Ch=S({},Cs,{data:0}),Rr=Sr(Ch),Su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ks={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ad(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=Ks[d])?!!m[d]:!1}function ql(){return Ad}var hl=S({},ms,{key:function(d){if(d.key){var m=Su[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=Tn(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Sc[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ql,charCode:function(d){return d.type==="keypress"?Tn(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Tn(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Nd=Sr(hl),Ed=S({},Qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mo=Sr(Ed),Sd=S({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ql}),ju=Sr(Sd),ml=S({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ah=Sr(ml),jd=S({},Qr,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Dd=Sr(jd),jc=S({},Cs,{newState:0,oldState:0}),ea=Sr(jc),Dc=[9,13,27,32],$a=hs&&"CompositionEvent"in window,qi=null;hs&&"documentMode"in document&&(qi=document.documentMode);var Io=hs&&"TextEvent"in window&&!qi,Wl=hs&&(!$a||qi&&8<qi&&11>=qi),qa=" ",Yl=!1;function Gl(d,m){switch(d){case"keyup":return Dc.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Td(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Wa=!1;function Md(d,m){switch(d){case"compositionend":return Td(m);case"keypress":return m.which!==32?null:(Yl=!0,qa);case"textInput":return d=m.data,d===qa&&Yl?null:d;default:return null}}function Nh(d,m){if(Wa)return d==="compositionend"||!$a&&Gl(d,m)?(d=Do(),Gs=fo=Kr=null,Wa=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return Wl&&m.locale!=="ko"?null:m.data;default:return null}}var po={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ya(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!po[d.type]:m==="textarea"}function Qs(d,m,k,C){Fi?vi?vi.push(C):vi=[C]:Fi=C,m=Ei(m,"onChange"),0<m.length&&(k=new Jo("onChange","change",null,k,C),d.push({event:k,listeners:m}))}var fs=null,Zs=null;function go(d){dg(d,0)}function Tc(d){var m=mn(d);if(Sn(m))return d}function fl(d,m){if(d==="change")return m}var Ga=!1;if(hs){var bo;if(hs){var Id="oninput"in document;if(!Id){var ta=document.createElement("div");ta.setAttribute("oninput","return;"),Id=typeof ta.oninput=="function"}bo=Id}else bo=!1;Ga=bo&&(!document.documentMode||9<document.documentMode)}function pl(){fs&&(fs.detachEvent("onpropertychange",Od),Zs=fs=null)}function Od(d){if(d.propertyName==="value"&&Tc(Zs)){var m=[];Qs(m,Zs,d,_i(d)),$i(go,m)}}function Mc(d,m,k){d==="focusin"?(pl(),fs=m,Zs=k,fs.attachEvent("onpropertychange",Od)):d==="focusout"&&pl()}function Du(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Tc(Zs)}function ko(d,m){if(d==="click")return Tc(m)}function Tu(d,m){if(d==="input"||d==="change")return Tc(m)}function Oo(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var ps=typeof Object.is=="function"?Object.is:Oo;function Pr(d,m){if(ps(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var k=Object.keys(d),C=Object.keys(m);if(k.length!==C.length)return!1;for(C=0;C<k.length;C++){var M=k[C];if(!Ye.call(m,M)||!ps(d[M],m[M]))return!1}return!0}function zr(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Ic(d,m){var k=zr(d);d=0;for(var C;k;){if(k.nodeType===3){if(C=d+k.textContent.length,d<=m&&C>=m)return{node:k,offset:m-d};d=C}e:{for(;k;){if(k.nextSibling){k=k.nextSibling;break e}k=k.parentNode}k=void 0}k=zr(k)}}function Oc(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?Oc(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function gl(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var m=Qn(d.document);m instanceof d.HTMLIFrameElement;){try{var k=typeof m.contentWindow.location.href=="string"}catch{k=!1}if(k)d=m.contentWindow;else break;m=Qn(d.document)}return m}function Ka(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}var Lc=hs&&"documentMode"in document&&11>=document.documentMode,Xs=null,Qa=null,va=null,gi=!1;function Bc(d,m,k){var C=k.window===k?k.document:k.nodeType===9?k:k.ownerDocument;gi||Xs==null||Xs!==Qn(C)||(C=Xs,"selectionStart"in C&&Ka(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),va&&Pr(va,C)||(va=C,C=Ei(Qa,"onSelect"),0<C.length&&(m=new Jo("onSelect","select",null,m,k),d.push({event:m,listeners:C}),m.target=Xs)))}function Ns(d,m){var k={};return k[d.toLowerCase()]=m.toLowerCase(),k["Webkit"+d]="webkit"+m,k["Moz"+d]="moz"+m,k}var Es={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},Za={},Ld={};hs&&(Ld=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function wa(d){if(Za[d])return Za[d];if(!Es[d])return d;var m=Es[d],k;for(k in m)if(m.hasOwnProperty(k)&&k in Ld)return Za[d]=m[k];return d}var Zr=wa("animationend"),rr=wa("animationiteration"),Xa=wa("animationstart"),Js=wa("transitionrun"),Kl=wa("transitionstart"),Bd=wa("transitioncancel"),Ql=wa("transitionend"),Wi=new Map,Lo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lo.push("scrollEnd");function eo(d,m){Wi.set(d,m),Vn(m,[d])}var ya=new WeakMap;function fn(d,m){if(typeof d=="object"&&d!==null){var k=ya.get(d);return k!==void 0?k:(m={value:d,source:m,stack:ki(m)},ya.set(d,m),m)}return{value:d,source:m,stack:ki(m)}}var jr=[],Ja=0,Ss=0;function bl(){for(var d=Ja,m=Ss=Ja=0;m<d;){var k=jr[m];jr[m++]=null;var C=jr[m];jr[m++]=null;var M=jr[m];jr[m++]=null;var P=jr[m];if(jr[m++]=null,C!==null&&M!==null){var J=C.pending;J===null?M.next=M:(M.next=J.next,J.next=M),C.pending=M}P!==0&&vo(k,M,P)}}function Li(d,m,k,C){jr[Ja++]=d,jr[Ja++]=m,jr[Ja++]=k,jr[Ja++]=C,Ss|=C,d.lanes|=C,d=d.alternate,d!==null&&(d.lanes|=C)}function _o(d,m,k,C){return Li(d,m,k,C),to(d)}function Xr(d,m){return Li(d,null,null,m),to(d)}function vo(d,m,k){d.lanes|=k;var C=d.alternate;C!==null&&(C.lanes|=k);for(var M=!1,P=d.return;P!==null;)P.childLanes|=k,C=P.alternate,C!==null&&(C.childLanes|=k),P.tag===22&&(d=P.stateNode,d===null||d._visibility&1||(M=!0)),d=P,P=P.return;return d.tag===3?(P=d.stateNode,M&&m!==null&&(M=31-Pn(k),d=P.hiddenUpdates,C=d[M],C===null?d[M]=[m]:C.push(m),m.lane=k|536870912),P):null}function to(d){if(50<Zu)throw Zu=0,vf=null,Error(o(185));for(var m=d.return;m!==null;)d=m,m=d.return;return d.tag===3?d.stateNode:null}var xa={};function kl(d,m,k,C){this.tag=d,this.key=k,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(d,m,k,C){return new kl(d,m,k,C)}function Zl(d){return d=d.prototype,!(!d||!d.isReactComponent)}function js(d,m){var k=d.alternate;return k===null?(k=ur(d.tag,m,d.key,d.mode),k.elementType=d.elementType,k.type=d.type,k.stateNode=d.stateNode,k.alternate=d,d.alternate=k):(k.pendingProps=m,k.type=d.type,k.flags=0,k.subtreeFlags=0,k.deletions=null),k.flags=d.flags&65011712,k.childLanes=d.childLanes,k.lanes=d.lanes,k.child=d.child,k.memoizedProps=d.memoizedProps,k.memoizedState=d.memoizedState,k.updateQueue=d.updateQueue,m=d.dependencies,k.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},k.sibling=d.sibling,k.index=d.index,k.ref=d.ref,k.refCleanup=d.refCleanup,k}function Rc(d,m){d.flags&=65011714;var k=d.alternate;return k===null?(d.childLanes=0,d.lanes=m,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=k.childLanes,d.lanes=k.lanes,d.child=k.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=k.memoizedProps,d.memoizedState=k.memoizedState,d.updateQueue=k.updateQueue,d.type=k.type,m=k.dependencies,d.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),d}function _l(d,m,k,C,M,P){var J=0;if(C=d,typeof d=="function")Zl(d)&&(J=1);else if(typeof d=="string")J=Ww(d,k,Fe.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case re:return d=ur(31,k,m,M),d.elementType=re,d.lanes=P,d;case F:return wo(k.children,M,P,m);case H:J=8,M|=24;break;case $:return d=ur(12,k,m,M|2),d.elementType=$,d.lanes=P,d;case le:return d=ur(13,k,m,M),d.elementType=le,d.lanes=P,d;case se:return d=ur(19,k,m,M),d.elementType=se,d.lanes=P,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case K:case ee:J=10;break e;case Q:J=9;break e;case ne:J=11;break e;case q:J=14;break e;case de:J=16,C=null;break e}J=29,k=Error(o(130,d===null?"null":typeof d,"")),C=null}return m=ur(J,k,m,M),m.elementType=d,m.type=C,m.lanes=P,m}function wo(d,m,k,C){return d=ur(7,d,C,m),d.lanes=k,d}function vl(d,m,k){return d=ur(6,d,null,m),d.lanes=k,d}function Pc(d,m,k){return m=ur(4,d.children!==null?d.children:[],d.key,m),m.lanes=k,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}var na=[],Ca=0,p=null,x=0,T=[],V=0,G=null,ie=1,Ce="";function We(d,m){na[Ca++]=x,na[Ca++]=p,p=d,x=m}function Ve(d,m,k){T[V++]=ie,T[V++]=Ce,T[V++]=G,G=d;var C=ie;d=Ce;var M=32-Pn(C)-1;C&=~(1<<M),k+=1;var P=32-Pn(m)+M;if(30<P){var J=M-M%5;P=(C&(1<<J)-1).toString(32),C>>=J,M-=J,ie=1<<32-Pn(m)+M|k<<M|C,Ce=P+d}else ie=1<<P|k<<M|C,Ce=d}function Nt(d){d.return!==null&&(We(d,1),Ve(d,1,0))}function Pt(d){for(;d===p;)p=na[--Ca],na[Ca]=null,x=na[--Ca],na[Ca]=null;for(;d===G;)G=T[--V],T[V]=null,Ce=T[--V],T[V]=null,ie=T[--V],T[V]=null}var Wt=null,nn=null,kn=!1,pn=null,wi=!1,hr=Error(o(519));function Ds(d){var m=Error(o(418,""));throw wl(fn(m,d)),hr}function Rd(d){var m=d.stateNode,k=d.type,C=d.memoizedProps;switch(m[rn]=d,m[xn]=C,k){case"dialog":Un("cancel",m),Un("close",m);break;case"iframe":case"object":case"embed":Un("load",m);break;case"video":case"audio":for(k=0;k<Ps.length;k++)Un(Ps[k],m);break;case"source":Un("error",m);break;case"img":case"image":case"link":Un("error",m),Un("load",m);break;case"details":Un("toggle",m);break;case"input":Un("invalid",m),Fa(m,C.value,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name,!0),Gr(m);break;case"select":Un("invalid",m);break;case"textarea":Un("invalid",m),Br(m,C.value,C.defaultValue,C.children),Gr(m)}k=C.children,typeof k!="string"&&typeof k!="number"&&typeof k!="bigint"||m.textContent===""+k||C.suppressHydrationWarning===!0||Ao(m.textContent,k)?(C.popover!=null&&(Un("beforetoggle",m),Un("toggle",m)),C.onScroll!=null&&Un("scroll",m),C.onScrollEnd!=null&&Un("scrollend",m),C.onClick!=null&&(m.onclick=ja),m=!0):m=!1,m||Ds(d)}function Mu(d){for(Wt=d.return;Wt;)switch(Wt.tag){case 5:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:Wt=Wt.return}}function Xl(d){if(d!==Wt)return!1;if(!kn)return Mu(d),kn=!0,!1;var m=d.tag,k;if((k=m!==3&&m!==27)&&((k=m===5)&&(k=d.type,k=!(k!=="form"&&k!=="button")||Sf(d.type,d.memoizedProps)),k=!k),k&&nn&&Ds(d),Mu(d),m===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));e:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8)if(k=d.data,k==="/$"){if(m===0){nn=Da(d.nextSibling);break e}m--}else k!=="$"&&k!=="$!"&&k!=="$?"||m++;d=d.nextSibling}nn=null}}else m===27?(m=nn,rd(d.type)?(d=gg,gg=null,nn=d):nn=m):nn=Wt?Da(d.stateNode.nextSibling):null;return!0}function Bo(){nn=Wt=null,kn=!1}function Jr(){var d=pn;return d!==null&&(Rs===null?Rs=d:Rs.push.apply(Rs,d),pn=null),d}function wl(d){pn===null?pn=[d]:pn.push(d)}var Yi=pe(null),Ro=null,ia=null;function Aa(d,m,k){Se(Yi,m._currentValue),m._currentValue=k}function ra(d){d._currentValue=Yi.current,xe(Yi)}function zc(d,m,k){for(;d!==null;){var C=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,C!==null&&(C.childLanes|=m)):C!==null&&(C.childLanes&m)!==m&&(C.childLanes|=m),d===k)break;d=d.return}}function Fc(d,m,k,C){var M=d.child;for(M!==null&&(M.return=d);M!==null;){var P=M.dependencies;if(P!==null){var J=M.child;P=P.firstContext;e:for(;P!==null;){var ce=P;P=M;for(var Ae=0;Ae<m.length;Ae++)if(ce.context===m[Ae]){P.lanes|=k,ce=P.alternate,ce!==null&&(ce.lanes|=k),zc(P.return,k,d),C||(J=null);break e}P=ce.next}}else if(M.tag===18){if(J=M.return,J===null)throw Error(o(341));J.lanes|=k,P=J.alternate,P!==null&&(P.lanes|=k),zc(J,k,d),J=null}else J=M.child;if(J!==null)J.return=M;else for(J=M;J!==null;){if(J===d){J=null;break}if(M=J.sibling,M!==null){M.return=J.return,J=M;break}J=J.return}M=J}}function yl(d,m,k,C){d=null;for(var M=m,P=!1;M!==null;){if(!P){if((M.flags&524288)!==0)P=!0;else if((M.flags&262144)!==0)break}if(M.tag===10){var J=M.alternate;if(J===null)throw Error(o(387));if(J=J.memoizedProps,J!==null){var ce=M.type;ps(M.pendingProps.value,J.value)||(d!==null?d.push(ce):d=[ce])}}else if(M===me.current){if(J=M.alternate,J===null)throw Error(o(387));J.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(d!==null?d.push(dm):d=[dm])}M=M.return}d!==null&&Fc(m,d,k,C),m.flags|=262144}function Iu(d){for(d=d.firstContext;d!==null;){if(!ps(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function el(d){Ro=d,ia=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function vr(d){return xl(Ro,d)}function Pd(d,m){return Ro===null&&el(d),xl(d,m)}function xl(d,m){var k=m._currentValue;if(m={context:m,memoizedValue:k,next:null},ia===null){if(d===null)throw Error(o(308));ia=m,d.dependencies={lanes:0,firstContext:m},d.flags|=524288}else ia=ia.next=m;return k}var Eh=typeof AbortController<"u"?AbortController:function(){var d=[],m=this.signal={aborted:!1,addEventListener:function(k,C){d.push(C)}};this.abort=function(){m.aborted=!0,d.forEach(function(k){return k()})}},Sh=l.unstable_scheduleCallback,Po=l.unstable_NormalPriority,Wn={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mr(){return{controller:new Eh,data:new Map,refCount:0}}function fr(d){d.refCount--,d.refCount===0&&Sh(Po,function(){d.controller.abort()})}var no=null,sa=0,Ts=0,Cl=null;function xp(d,m){if(no===null){var k=no=[];sa=0,Ts=Nf(),Cl={status:"pending",value:void 0,then:function(C){k.push(C)}}}return sa++,m.then(jh,jh),m}function jh(){if(--sa===0&&no!==null){Cl!==null&&(Cl.status="fulfilled");var d=no;no=null,Ts=0,Cl=null;for(var m=0;m<d.length;m++)(0,d[m])()}}function zo(d,m){var k=[],C={status:"pending",value:null,reason:null,then:function(M){k.push(M)}};return d.then(function(){C.status="fulfilled",C.value=m;for(var M=0;M<k.length;M++)(0,k[M])(m)},function(M){for(C.status="rejected",C.reason=M,M=0;M<k.length;M++)(0,k[M])(void 0)}),C}var Fo=oe.S;oe.S=function(d,m){typeof m=="object"&&m!==null&&typeof m.then=="function"&&xp(d,m),Fo!==null&&Fo(d,m)};var oa=pe(null);function Dh(){var d=oa.current;return d!==null?d:Ki.pooledCache}function zd(d,m){m===null?Se(oa,oa.current):Se(oa,m.pool)}function Vc(){var d=Dh();return d===null?null:{parent:Wn._currentValue,pool:d}}var tl=Error(o(460)),Fd=Error(o(474)),Ou=Error(o(542)),Th={then:function(){}};function Jl(d){return d=d.status,d==="fulfilled"||d==="rejected"}function te(){}function R(d,m,k){switch(k=d[k],k===void 0?d.push(m):k!==m&&(m.then(te,te),m=k),m.status){case"fulfilled":return m.value;case"rejected":throw d=m.reason,Pe(d),d;default:if(typeof m.status=="string")m.then(te,te);else{if(d=Ki,d!==null&&100<d.shellSuspendCounter)throw Error(o(482));d=m,d.status="pending",d.then(function(C){if(m.status==="pending"){var M=m;M.status="fulfilled",M.value=C}},function(C){if(m.status==="pending"){var M=m;M.status="rejected",M.reason=C}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw d=m.reason,Pe(d),d}throw Y=m,tl}}var Y=null;function ue(){if(Y===null)throw Error(o(459));var d=Y;return Y=null,d}function Pe(d){if(d===tl||d===Ou)throw Error(o(483))}var Re=!1;function ot(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wt(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function Ot(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function $t(d,m,k){var C=d.updateQueue;if(C===null)return null;if(C=C.shared,(Pi&2)!==0){var M=C.pending;return M===null?m.next=m:(m.next=M.next,M.next=m),C.pending=m,m=to(d),vo(d,null,k),m}return Li(d,C,m,k),to(d)}function Yt(d,m,k){if(m=m.updateQueue,m!==null&&(m=m.shared,(k&4194048)!==0)){var C=m.lanes;C&=d.pendingLanes,k|=C,m.lanes=k,mt(d,k)}}function qt(d,m){var k=d.updateQueue,C=d.alternate;if(C!==null&&(C=C.updateQueue,k===C)){var M=null,P=null;if(k=k.firstBaseUpdate,k!==null){do{var J={lane:k.lane,tag:k.tag,payload:k.payload,callback:null,next:null};P===null?M=P=J:P=P.next=J,k=k.next}while(k!==null);P===null?M=P=m:P=P.next=m}else M=P=m;k={baseState:C.baseState,firstBaseUpdate:M,lastBaseUpdate:P,shared:C.shared,callbacks:C.callbacks},d.updateQueue=k;return}d=k.lastBaseUpdate,d===null?k.firstBaseUpdate=m:d.next=m,k.lastBaseUpdate=m}var ft=!1;function un(){if(ft){var d=Cl;if(d!==null)throw d}}function Cn(d,m,k,C){ft=!1;var M=d.updateQueue;Re=!1;var P=M.firstBaseUpdate,J=M.lastBaseUpdate,ce=M.shared.pending;if(ce!==null){M.shared.pending=null;var Ae=ce,Xe=Ae.next;Ae.next=null,J===null?P=Xe:J.next=Xe,J=Ae;var gt=d.alternate;gt!==null&&(gt=gt.updateQueue,ce=gt.lastBaseUpdate,ce!==J&&(ce===null?gt.firstBaseUpdate=Xe:ce.next=Xe,gt.lastBaseUpdate=Ae))}if(P!==null){var vt=M.baseState;J=0,gt=Xe=Ae=null,ce=P;do{var nt=ce.lane&-536870913,rt=nt!==ce.lane;if(rt?(mi&nt)===nt:(C&nt)===nt){nt!==0&&nt===Ts&&(ft=!0),gt!==null&&(gt=gt.next={lane:0,tag:ce.tag,payload:ce.payload,callback:null,next:null});e:{var In=d,_n=ce;nt=m;var Vi=k;switch(_n.tag){case 1:if(In=_n.payload,typeof In=="function"){vt=In.call(Vi,vt,nt);break e}vt=In;break e;case 3:In.flags=In.flags&-65537|128;case 0:if(In=_n.payload,nt=typeof In=="function"?In.call(Vi,vt,nt):In,nt==null)break e;vt=S({},vt,nt);break e;case 2:Re=!0}}nt=ce.callback,nt!==null&&(d.flags|=64,rt&&(d.flags|=8192),rt=M.callbacks,rt===null?M.callbacks=[nt]:rt.push(nt))}else rt={lane:nt,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},gt===null?(Xe=gt=rt,Ae=vt):gt=gt.next=rt,J|=nt;if(ce=ce.next,ce===null){if(ce=M.shared.pending,ce===null)break;rt=ce,ce=rt.next,rt.next=null,M.lastBaseUpdate=rt,M.shared.pending=null}}while(!0);gt===null&&(Ae=vt),M.baseState=Ae,M.firstBaseUpdate=Xe,M.lastBaseUpdate=gt,P===null&&(M.shared.lanes=0),jl|=J,d.lanes=J,d.memoizedState=vt}}function St(d,m){if(typeof d!="function")throw Error(o(191,d));d.call(m)}function An(d,m){var k=d.callbacks;if(k!==null)for(d.callbacks=null,d=0;d<k.length;d++)St(k[d],m)}var si=pe(null),pi=pe(0);function Hn(d,m){d=uc,Se(pi,d),Se(si,m),uc=d|m.baseLanes}function lt(){Se(pi,uc),Se(si,si.current)}function On(){uc=pi.current,xe(si),xe(pi)}var Ft=0,Zt=null,an=null,wn=null,Gi=!1,Fr=!1,es=!1,Dr=0,Tr=0,ts=null,sr=0;function yi(){throw Error(o(321))}function Ms(d,m){if(m===null)return!1;for(var k=0;k<m.length&&k<d.length;k++)if(!ps(d[k],m[k]))return!1;return!0}function nl(d,m,k,C,M,P){return Ft=P,Zt=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,oe.H=d===null||d.memoizedState===null?nf:rf,es=!1,P=k(C,M),es=!1,Fr&&(P=Mi(m,k,C,M)),wr(d),P}function wr(d){oe.H=tf;var m=an!==null&&an.next!==null;if(Ft=0,wn=an=Zt=null,Gi=!1,Tr=0,ts=null,m)throw Error(o(300));d===null||ns||(d=d.dependencies,d!==null&&Iu(d)&&(ns=!0))}function Mi(d,m,k,C){Zt=d;var M=0;do{if(Fr&&(ts=null),Tr=0,Fr=!1,25<=M)throw Error(o(301));if(M+=1,wn=an=null,d.updateQueue!=null){var P=d.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}oe.H=Cw,P=m(k,C)}while(Fr);return P}function Is(){var d=oe.H,m=d.useState()[0];return m=typeof m.then=="function"?aa(m):m,d=d.useState()[0],(an!==null?an.memoizedState:null)!==d&&(Zt.flags|=1024),m}function io(){var d=Dr!==0;return Dr=0,d}function Vo(d,m,k){m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~k}function ec(d){if(Gi){for(d=d.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Gi=!1}Ft=0,wn=an=Zt=null,Fr=!1,Tr=Dr=0,ts=null}function Os(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Zt.memoizedState=wn=d:wn=wn.next=d,wn}function Bi(){if(an===null){var d=Zt.alternate;d=d!==null?d.memoizedState:null}else d=an.next;var m=wn===null?Zt.memoizedState:wn.next;if(m!==null)wn=m,an=d;else{if(d===null)throw Zt.alternate===null?Error(o(467)):Error(o(310));an=d,d={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},wn===null?Zt.memoizedState=wn=d:wn=wn.next=d}return wn}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function aa(d){var m=Tr;return Tr+=1,ts===null&&(ts=[]),d=R(ts,d,m),m=Zt,(wn===null?m.memoizedState:wn.next)===null&&(m=m.alternate,oe.H=m===null||m.memoizedState===null?nf:rf),d}function bi(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return aa(d);if(d.$$typeof===ee)return vr(d)}throw Error(o(438,String(d)))}function ro(d){var m=null,k=Zt.updateQueue;if(k!==null&&(m=k.memoCache),m==null){var C=Zt.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(m={data:C.data.map(function(M){return M.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),k===null&&(k=tc(),Zt.updateQueue=k),k.memoCache=m,k=m.data[m.index],k===void 0)for(k=m.data[m.index]=Array(d),C=0;C<d;C++)k[C]=be;return m.index++,k}function Vr(d,m){return typeof m=="function"?m(d):m}function Hc(d){var m=Bi();return Vd(m,an,d)}function Vd(d,m,k){var C=d.queue;if(C===null)throw Error(o(311));C.lastRenderedReducer=k;var M=d.baseQueue,P=C.pending;if(P!==null){if(M!==null){var J=M.next;M.next=P.next,P.next=J}m.baseQueue=M=P,C.pending=null}if(P=d.baseState,M===null)d.memoizedState=P;else{m=M.next;var ce=J=null,Ae=null,Xe=m,gt=!1;do{var vt=Xe.lane&-536870913;if(vt!==Xe.lane?(mi&vt)===vt:(Ft&vt)===vt){var nt=Xe.revertLane;if(nt===0)Ae!==null&&(Ae=Ae.next={lane:0,revertLane:0,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),vt===Ts&&(gt=!0);else if((Ft&nt)===nt){Xe=Xe.next,nt===Ts&&(gt=!0);continue}else vt={lane:0,revertLane:Xe.revertLane,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Ae===null?(ce=Ae=vt,J=P):Ae=Ae.next=vt,Zt.lanes|=nt,jl|=nt;vt=Xe.action,es&&k(P,vt),P=Xe.hasEagerState?Xe.eagerState:k(P,vt)}else nt={lane:vt,revertLane:Xe.revertLane,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Ae===null?(ce=Ae=nt,J=P):Ae=Ae.next=nt,Zt.lanes|=vt,jl|=vt;Xe=Xe.next}while(Xe!==null&&Xe!==m);if(Ae===null?J=P:Ae.next=ce,!ps(P,d.memoizedState)&&(ns=!0,gt&&(k=Cl,k!==null)))throw k;d.memoizedState=P,d.baseState=J,d.baseQueue=Ae,C.lastRenderedState=P}return M===null&&(C.lanes=0),[d.memoizedState,C.dispatch]}function nc(d){var m=Bi(),k=m.queue;if(k===null)throw Error(o(311));k.lastRenderedReducer=d;var C=k.dispatch,M=k.pending,P=m.memoizedState;if(M!==null){k.pending=null;var J=M=M.next;do P=d(P,J.action),J=J.next;while(J!==M);ps(P,m.memoizedState)||(ns=!0),m.memoizedState=P,m.baseQueue===null&&(m.baseState=P),k.lastRenderedState=P}return[P,C]}function Mh(d,m,k){var C=Zt,M=Bi(),P=kn;if(P){if(k===void 0)throw Error(o(407));k=k()}else k=m();var J=!ps((an||M).memoizedState,k);J&&(M.memoizedState=k,ns=!0),M=M.queue;var ce=Na.bind(null,C,M,d);if(Bh(2048,8,ce,[d]),M.getSnapshot!==m||J||wn!==null&&wn.memoizedState.tag&1){if(C.flags|=2048,Fu(9,Gm(),Lu.bind(null,C,M,k,m),null),Ki===null)throw Error(o(349));P||(Ft&124)!==0||qm(C,m,k)}return k}function qm(d,m,k){d.flags|=16384,d={getSnapshot:m,value:k},m=Zt.updateQueue,m===null?(m=tc(),Zt.updateQueue=m,m.stores=[d]):(k=m.stores,k===null?m.stores=[d]:k.push(d))}function Lu(d,m,k,C){m.value=k,m.getSnapshot=C,Hd(m)&&Ih(d)}function Na(d,m,k){return k(function(){Hd(m)&&Ih(d)})}function Hd(d){var m=d.getSnapshot;d=d.value;try{var k=m();return!ps(d,k)}catch{return!0}}function Ih(d){var m=Xr(d,2);m!==null&&$o(m,d,2)}function Bu(d){var m=Os();if(typeof d=="function"){var k=d;if(d=k(),es){hn(!0);try{k()}finally{hn(!1)}}}return m.memoizedState=m.baseState=d,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:d},m}function Ru(d,m,k,C){return d.baseState=k,Vd(d,an,typeof C=="function"?C:Vr)}function Wm(d,m,k,C,M){if($u(d))throw Error(o(485));if(d=m.action,d!==null){var P={payload:M,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){P.listeners.push(J)}};oe.T!==null?k(!0):P.isTransition=!1,C(P),k=m.pending,k===null?(P.next=m.pending=P,Oh(m,P)):(P.next=k.next,m.pending=k.next=P)}}function Oh(d,m){var k=m.action,C=m.payload,M=d.state;if(m.isTransition){var P=oe.T,J={};oe.T=J;try{var ce=k(M,C),Ae=oe.S;Ae!==null&&Ae(J,ce),Lh(d,m,ce)}catch(Xe){zu(d,m,Xe)}finally{oe.T=P}}else try{P=k(M,C),Lh(d,m,P)}catch(Xe){zu(d,m,Xe)}}function Lh(d,m,k){k!==null&&typeof k=="object"&&typeof k.then=="function"?k.then(function(C){Pu(d,m,C)},function(C){return zu(d,m,C)}):Pu(d,m,k)}function Pu(d,m,k){m.status="fulfilled",m.value=k,Ym(m),d.state=k,m=d.pending,m!==null&&(k=m.next,k===m?d.pending=null:(k=k.next,m.next=k,Oh(d,k)))}function zu(d,m,k){var C=d.pending;if(d.pending=null,C!==null){C=C.next;do m.status="rejected",m.reason=k,Ym(m),m=m.next;while(m!==C)}d.action=null}function Ym(d){d=d.listeners;for(var m=0;m<d.length;m++)(0,d[m])()}function Uc(d,m){return m}function $c(d,m){if(kn){var k=Ki.formState;if(k!==null){e:{var C=Zt;if(kn){if(nn){t:{for(var M=nn,P=wi;M.nodeType!==8;){if(!P){M=null;break t}if(M=Da(M.nextSibling),M===null){M=null;break t}}P=M.data,M=P==="F!"||P==="F"?M:null}if(M){nn=Da(M.nextSibling),C=M.data==="F!";break e}}Ds(C)}C=!1}C&&(m=k[0])}}return k=Os(),k.memoizedState=k.baseState=m,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uc,lastRenderedState:m},k.queue=C,k=Uu.bind(null,Zt,C),C.dispatch=k,C=Bu(!1),P=ef.bind(null,Zt,!1,C.queue),C=Os(),M={state:m,dispatch:null,action:d,pending:null},C.queue=M,k=Wm.bind(null,Zt,M,P,k),M.dispatch=k,C.memoizedState=d,[m,k,!1]}function Rb(d){var m=Bi();return Ud(m,an,d)}function Ud(d,m,k){if(m=Vd(d,m,Uc)[0],d=Hc(Vr)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var C=aa(m)}catch(J){throw J===tl?Ou:J}else C=m;m=Bi();var M=m.queue,P=M.dispatch;return k!==m.memoizedState&&(Zt.flags|=2048,Fu(9,Gm(),Cp.bind(null,M,k),null)),[C,P,d]}function Cp(d,m){d.action=m}function Ap(d){var m=Bi(),k=an;if(k!==null)return Ud(m,k,d);Bi(),m=m.memoizedState,k=Bi();var C=k.queue.dispatch;return k.memoizedState=d,[m,C,!1]}function Fu(d,m,k,C){return d={tag:d,create:k,deps:C,inst:m,next:null},m=Zt.updateQueue,m===null&&(m=tc(),Zt.updateQueue=m),k=m.lastEffect,k===null?m.lastEffect=d.next=d:(C=k.next,k.next=d,d.next=C,m.lastEffect=d),d}function Gm(){return{destroy:void 0,resource:void 0}}function Pb(){return Bi().memoizedState}function qc(d,m,k,C){var M=Os();C=C===void 0?null:C,Zt.flags|=d,M.memoizedState=Fu(1|m,Gm(),k,C)}function Bh(d,m,k,C){var M=Bi();C=C===void 0?null:C;var P=M.memoizedState.inst;an!==null&&C!==null&&Ms(C,an.memoizedState.deps)?M.memoizedState=Fu(m,P,k,C):(Zt.flags|=d,M.memoizedState=Fu(1|m,P,k,C))}function zb(d,m){qc(8390656,8,d,m)}function Km(d,m){Bh(2048,8,d,m)}function Fb(d,m){return Bh(4,2,d,m)}function Qm(d,m){return Bh(4,4,d,m)}function Zm(d,m){if(typeof m=="function"){d=d();var k=m(d);return function(){typeof k=="function"?k():m(null)}}if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function Ho(d,m,k){k=k!=null?k.concat([d]):null,Bh(4,4,Zm.bind(null,m,d),k)}function Xm(){}function Vu(d,m){var k=Bi();m=m===void 0?null:m;var C=k.memoizedState;return m!==null&&Ms(m,C[1])?C[0]:(k.memoizedState=[d,m],d)}function Vb(d,m){var k=Bi();m=m===void 0?null:m;var C=k.memoizedState;if(m!==null&&Ms(m,C[1]))return C[0];if(C=d(),es){hn(!0);try{d()}finally{hn(!1)}}return k.memoizedState=[C,m],C}function Hu(d,m,k){return k===void 0||(Ft&1073741824)!==0?d.memoizedState=m:(d.memoizedState=k,d=Kp(),Zt.lanes|=d,jl|=d,k)}function Np(d,m,k,C){return ps(k,m)?k:si.current!==null?(d=Hu(d,k,C),ps(d,m)||(ns=!0),d):(Ft&42)===0?(ns=!0,d.memoizedState=k):(d=Kp(),Zt.lanes|=d,jl|=d,m)}function Ep(d,m,k,C,M){var P=ve.p;ve.p=P!==0&&8>P?P:8;var J=oe.T,ce={};oe.T=ce,ef(d,!1,m,k);try{var Ae=M(),Xe=oe.S;if(Xe!==null&&Xe(ce,Ae),Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var gt=zo(Ae,C);Al(d,m,gt,xo(d))}else Al(d,m,C,xo(d))}catch(vt){Al(d,m,{then:function(){},status:"rejected",reason:vt},xo())}finally{ve.p=P,oe.T=J}}function $d(){}function Bt(d,m,k,C){if(d.tag!==5)throw Error(o(476));var M=Nn(d).queue;Ep(d,M,m,he,k===null?$d:function(){return Rh(d),k(C)})}function Nn(d){var m=d.memoizedState;if(m!==null)return m;m={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:he},next:null};var k={};return m.next={memoizedState:k,baseState:k,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:k},next:null},d.memoizedState=m,d=d.alternate,d!==null&&(d.memoizedState=m),m}function Rh(d){var m=Nn(d).next.queue;Al(d,m,{},xo())}function la(){return vr(dm)}function Jm(){return Bi().memoizedState}function qd(){return Bi().memoizedState}function Sp(d){for(var m=d.return;m!==null;){switch(m.tag){case 24:case 3:var k=xo();d=Ot(k);var C=$t(m,d,k);C!==null&&($o(C,m,k),Yt(C,m,k)),m={cache:mr()},d.payload=m;return}m=m.return}}function jp(d,m,k){var C=xo();k={lane:C,revertLane:0,action:k,hasEagerState:!1,eagerState:null,next:null},$u(d)?Ph(m,k):(k=_o(d,m,k,C),k!==null&&($o(k,d,C),Wc(k,m,C)))}function Uu(d,m,k){var C=xo();Al(d,m,k,C)}function Al(d,m,k,C){var M={lane:C,revertLane:0,action:k,hasEagerState:!1,eagerState:null,next:null};if($u(d))Ph(m,M);else{var P=d.alternate;if(d.lanes===0&&(P===null||P.lanes===0)&&(P=m.lastRenderedReducer,P!==null))try{var J=m.lastRenderedState,ce=P(J,k);if(M.hasEagerState=!0,M.eagerState=ce,ps(ce,J))return Li(d,m,M,0),Ki===null&&bl(),!1}catch{}finally{}if(k=_o(d,m,M,C),k!==null)return $o(k,d,C),Wc(k,m,C),!0}return!1}function ef(d,m,k,C){if(C={lane:2,revertLane:Nf(),action:C,hasEagerState:!1,eagerState:null,next:null},$u(d)){if(m)throw Error(o(479))}else m=_o(d,k,C,2),m!==null&&$o(m,d,2)}function $u(d){var m=d.alternate;return d===Zt||m!==null&&m===Zt}function Ph(d,m){Fr=Gi=!0;var k=d.pending;k===null?m.next=m:(m.next=k.next,k.next=m),d.pending=m}function Wc(d,m,k){if((k&4194048)!==0){var C=m.lanes;C&=d.pendingLanes,k|=C,m.lanes=k,mt(d,k)}}var tf={readContext:vr,use:bi,useCallback:yi,useContext:yi,useEffect:yi,useImperativeHandle:yi,useLayoutEffect:yi,useInsertionEffect:yi,useMemo:yi,useReducer:yi,useRef:yi,useState:yi,useDebugValue:yi,useDeferredValue:yi,useTransition:yi,useSyncExternalStore:yi,useId:yi,useHostTransitionStatus:yi,useFormState:yi,useActionState:yi,useOptimistic:yi,useMemoCache:yi,useCacheRefresh:yi},nf={readContext:vr,use:bi,useCallback:function(d,m){return Os().memoizedState=[d,m===void 0?null:m],d},useContext:vr,useEffect:zb,useImperativeHandle:function(d,m,k){k=k!=null?k.concat([d]):null,qc(4194308,4,Zm.bind(null,m,d),k)},useLayoutEffect:function(d,m){return qc(4194308,4,d,m)},useInsertionEffect:function(d,m){qc(4,2,d,m)},useMemo:function(d,m){var k=Os();m=m===void 0?null:m;var C=d();if(es){hn(!0);try{d()}finally{hn(!1)}}return k.memoizedState=[C,m],C},useReducer:function(d,m,k){var C=Os();if(k!==void 0){var M=k(m);if(es){hn(!0);try{k(m)}finally{hn(!1)}}}else M=m;return C.memoizedState=C.baseState=M,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:M},C.queue=d,d=d.dispatch=jp.bind(null,Zt,d),[C.memoizedState,d]},useRef:function(d){var m=Os();return d={current:d},m.memoizedState=d},useState:function(d){d=Bu(d);var m=d.queue,k=Uu.bind(null,Zt,m);return m.dispatch=k,[d.memoizedState,k]},useDebugValue:Xm,useDeferredValue:function(d,m){var k=Os();return Hu(k,d,m)},useTransition:function(){var d=Bu(!1);return d=Ep.bind(null,Zt,d.queue,!0,!1),Os().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,m,k){var C=Zt,M=Os();if(kn){if(k===void 0)throw Error(o(407));k=k()}else{if(k=m(),Ki===null)throw Error(o(349));(mi&124)!==0||qm(C,m,k)}M.memoizedState=k;var P={value:k,getSnapshot:m};return M.queue=P,zb(Na.bind(null,C,P,d),[d]),C.flags|=2048,Fu(9,Gm(),Lu.bind(null,C,P,k,m),null),k},useId:function(){var d=Os(),m=Ki.identifierPrefix;if(kn){var k=Ce,C=ie;k=(C&~(1<<32-Pn(C)-1)).toString(32)+k,m=""+m+"R"+k,k=Dr++,0<k&&(m+="H"+k.toString(32)),m+=""}else k=sr++,m=""+m+"r"+k.toString(32)+"";return d.memoizedState=m},useHostTransitionStatus:la,useFormState:$c,useActionState:$c,useOptimistic:function(d){var m=Os();m.memoizedState=m.baseState=d;var k={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=k,m=ef.bind(null,Zt,!0,k),k.dispatch=m,[d,m]},useMemoCache:ro,useCacheRefresh:function(){return Os().memoizedState=Sp.bind(null,Zt)}},rf={readContext:vr,use:bi,useCallback:Vu,useContext:vr,useEffect:Km,useImperativeHandle:Ho,useInsertionEffect:Fb,useLayoutEffect:Qm,useMemo:Vb,useReducer:Hc,useRef:Pb,useState:function(){return Hc(Vr)},useDebugValue:Xm,useDeferredValue:function(d,m){var k=Bi();return Np(k,an.memoizedState,d,m)},useTransition:function(){var d=Hc(Vr)[0],m=Bi().memoizedState;return[typeof d=="boolean"?d:aa(d),m]},useSyncExternalStore:Mh,useId:Jm,useHostTransitionStatus:la,useFormState:Rb,useActionState:Rb,useOptimistic:function(d,m){var k=Bi();return Ru(k,an,d,m)},useMemoCache:ro,useCacheRefresh:qd},Cw={readContext:vr,use:bi,useCallback:Vu,useContext:vr,useEffect:Km,useImperativeHandle:Ho,useInsertionEffect:Fb,useLayoutEffect:Qm,useMemo:Vb,useReducer:nc,useRef:Pb,useState:function(){return nc(Vr)},useDebugValue:Xm,useDeferredValue:function(d,m){var k=Bi();return an===null?Hu(k,d,m):Np(k,an.memoizedState,d,m)},useTransition:function(){var d=nc(Vr)[0],m=Bi().memoizedState;return[typeof d=="boolean"?d:aa(d),m]},useSyncExternalStore:Mh,useId:Jm,useHostTransitionStatus:la,useFormState:Ap,useActionState:Ap,useOptimistic:function(d,m){var k=Bi();return an!==null?Ru(k,an,d,m):(k.baseState=d,[d,k.queue.dispatch])},useMemoCache:ro,useCacheRefresh:qd},ic=null,zh=0;function sf(d){var m=zh;return zh+=1,ic===null&&(ic=[]),R(ic,d,m)}function Wd(d,m){m=m.props.ref,d.ref=m!==void 0?m:null}function of(d,m){throw m.$$typeof===D?Error(o(525)):(d=Object.prototype.toString.call(m),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d)))}function Yc(d){var m=d._init;return m(d._payload)}function Dp(d){function m(He,Be){if(d){var Ke=He.deletions;Ke===null?(He.deletions=[Be],He.flags|=16):Ke.push(Be)}}function k(He,Be){if(!d)return null;for(;Be!==null;)m(He,Be),Be=Be.sibling;return null}function C(He){for(var Be=new Map;He!==null;)He.key!==null?Be.set(He.key,He):Be.set(He.index,He),He=He.sibling;return Be}function M(He,Be){return He=js(He,Be),He.index=0,He.sibling=null,He}function P(He,Be,Ke){return He.index=Ke,d?(Ke=He.alternate,Ke!==null?(Ke=Ke.index,Ke<Be?(He.flags|=67108866,Be):Ke):(He.flags|=67108866,Be)):(He.flags|=1048576,Be)}function J(He){return d&&He.alternate===null&&(He.flags|=67108866),He}function ce(He,Be,Ke,_t){return Be===null||Be.tag!==6?(Be=vl(Ke,He.mode,_t),Be.return=He,Be):(Be=M(Be,Ke),Be.return=He,Be)}function Ae(He,Be,Ke,_t){var sn=Ke.type;return sn===F?gt(He,Be,Ke.props.children,_t,Ke.key):Be!==null&&(Be.elementType===sn||typeof sn=="object"&&sn!==null&&sn.$$typeof===de&&Yc(sn)===Be.type)?(Be=M(Be,Ke.props),Wd(Be,Ke),Be.return=He,Be):(Be=_l(Ke.type,Ke.key,Ke.props,null,He.mode,_t),Wd(Be,Ke),Be.return=He,Be)}function Xe(He,Be,Ke,_t){return Be===null||Be.tag!==4||Be.stateNode.containerInfo!==Ke.containerInfo||Be.stateNode.implementation!==Ke.implementation?(Be=Pc(Ke,He.mode,_t),Be.return=He,Be):(Be=M(Be,Ke.children||[]),Be.return=He,Be)}function gt(He,Be,Ke,_t,sn){return Be===null||Be.tag!==7?(Be=wo(Ke,He.mode,_t,sn),Be.return=He,Be):(Be=M(Be,Ke),Be.return=He,Be)}function vt(He,Be,Ke){if(typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint")return Be=vl(""+Be,He.mode,Ke),Be.return=He,Be;if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case j:return Ke=_l(Be.type,Be.key,Be.props,null,He.mode,Ke),Wd(Ke,Be),Ke.return=He,Ke;case B:return Be=Pc(Be,He.mode,Ke),Be.return=He,Be;case de:var _t=Be._init;return Be=_t(Be._payload),vt(He,Be,Ke)}if(je(Be)||Ne(Be))return Be=wo(Be,He.mode,Ke,null),Be.return=He,Be;if(typeof Be.then=="function")return vt(He,sf(Be),Ke);if(Be.$$typeof===ee)return vt(He,Pd(He,Be),Ke);of(He,Be)}return null}function nt(He,Be,Ke,_t){var sn=Be!==null?Be.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return sn!==null?null:ce(He,Be,""+Ke,_t);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case j:return Ke.key===sn?Ae(He,Be,Ke,_t):null;case B:return Ke.key===sn?Xe(He,Be,Ke,_t):null;case de:return sn=Ke._init,Ke=sn(Ke._payload),nt(He,Be,Ke,_t)}if(je(Ke)||Ne(Ke))return sn!==null?null:gt(He,Be,Ke,_t,null);if(typeof Ke.then=="function")return nt(He,Be,sf(Ke),_t);if(Ke.$$typeof===ee)return nt(He,Be,Pd(He,Ke),_t);of(He,Ke)}return null}function rt(He,Be,Ke,_t,sn){if(typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint")return He=He.get(Ke)||null,ce(Be,He,""+_t,sn);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case j:return He=He.get(_t.key===null?Ke:_t.key)||null,Ae(Be,He,_t,sn);case B:return He=He.get(_t.key===null?Ke:_t.key)||null,Xe(Be,He,_t,sn);case de:var ni=_t._init;return _t=ni(_t._payload),rt(He,Be,Ke,_t,sn)}if(je(_t)||Ne(_t))return He=He.get(Ke)||null,gt(Be,He,_t,sn,null);if(typeof _t.then=="function")return rt(He,Be,Ke,sf(_t),sn);if(_t.$$typeof===ee)return rt(He,Be,Ke,Pd(Be,_t),sn);of(Be,_t)}return null}function In(He,Be,Ke,_t){for(var sn=null,ni=null,cn=Be,En=Be=0,rs=null;cn!==null&&En<Ke.length;En++){cn.index>En?(rs=cn,cn=null):rs=cn.sibling;var xi=nt(He,cn,Ke[En],_t);if(xi===null){cn===null&&(cn=rs);break}d&&cn&&xi.alternate===null&&m(He,cn),Be=P(xi,Be,En),ni===null?sn=xi:ni.sibling=xi,ni=xi,cn=rs}if(En===Ke.length)return k(He,cn),kn&&We(He,En),sn;if(cn===null){for(;En<Ke.length;En++)cn=vt(He,Ke[En],_t),cn!==null&&(Be=P(cn,Be,En),ni===null?sn=cn:ni.sibling=cn,ni=cn);return kn&&We(He,En),sn}for(cn=C(cn);En<Ke.length;En++)rs=rt(cn,He,En,Ke[En],_t),rs!==null&&(d&&rs.alternate!==null&&cn.delete(rs.key===null?En:rs.key),Be=P(rs,Be,En),ni===null?sn=rs:ni.sibling=rs,ni=rs);return d&&cn.forEach(function(ad){return m(He,ad)}),kn&&We(He,En),sn}function _n(He,Be,Ke,_t){if(Ke==null)throw Error(o(151));for(var sn=null,ni=null,cn=Be,En=Be=0,rs=null,xi=Ke.next();cn!==null&&!xi.done;En++,xi=Ke.next()){cn.index>En?(rs=cn,cn=null):rs=cn.sibling;var ad=nt(He,cn,xi.value,_t);if(ad===null){cn===null&&(cn=rs);break}d&&cn&&ad.alternate===null&&m(He,cn),Be=P(ad,Be,En),ni===null?sn=ad:ni.sibling=ad,ni=ad,cn=rs}if(xi.done)return k(He,cn),kn&&We(He,En),sn;if(cn===null){for(;!xi.done;En++,xi=Ke.next())xi=vt(He,xi.value,_t),xi!==null&&(Be=P(xi,Be,En),ni===null?sn=xi:ni.sibling=xi,ni=xi);return kn&&We(He,En),sn}for(cn=C(cn);!xi.done;En++,xi=Ke.next())xi=rt(cn,He,En,xi.value,_t),xi!==null&&(d&&xi.alternate!==null&&cn.delete(xi.key===null?En:xi.key),Be=P(xi,Be,En),ni===null?sn=xi:ni.sibling=xi,ni=xi);return d&&cn.forEach(function(i_){return m(He,i_)}),kn&&We(He,En),sn}function Vi(He,Be,Ke,_t){if(typeof Ke=="object"&&Ke!==null&&Ke.type===F&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case j:e:{for(var sn=Ke.key;Be!==null;){if(Be.key===sn){if(sn=Ke.type,sn===F){if(Be.tag===7){k(He,Be.sibling),_t=M(Be,Ke.props.children),_t.return=He,He=_t;break e}}else if(Be.elementType===sn||typeof sn=="object"&&sn!==null&&sn.$$typeof===de&&Yc(sn)===Be.type){k(He,Be.sibling),_t=M(Be,Ke.props),Wd(_t,Ke),_t.return=He,He=_t;break e}k(He,Be);break}else m(He,Be);Be=Be.sibling}Ke.type===F?(_t=wo(Ke.props.children,He.mode,_t,Ke.key),_t.return=He,He=_t):(_t=_l(Ke.type,Ke.key,Ke.props,null,He.mode,_t),Wd(_t,Ke),_t.return=He,He=_t)}return J(He);case B:e:{for(sn=Ke.key;Be!==null;){if(Be.key===sn)if(Be.tag===4&&Be.stateNode.containerInfo===Ke.containerInfo&&Be.stateNode.implementation===Ke.implementation){k(He,Be.sibling),_t=M(Be,Ke.children||[]),_t.return=He,He=_t;break e}else{k(He,Be);break}else m(He,Be);Be=Be.sibling}_t=Pc(Ke,He.mode,_t),_t.return=He,He=_t}return J(He);case de:return sn=Ke._init,Ke=sn(Ke._payload),Vi(He,Be,Ke,_t)}if(je(Ke))return In(He,Be,Ke,_t);if(Ne(Ke)){if(sn=Ne(Ke),typeof sn!="function")throw Error(o(150));return Ke=sn.call(Ke),_n(He,Be,Ke,_t)}if(typeof Ke.then=="function")return Vi(He,Be,sf(Ke),_t);if(Ke.$$typeof===ee)return Vi(He,Be,Pd(He,Ke),_t);of(He,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint"?(Ke=""+Ke,Be!==null&&Be.tag===6?(k(He,Be.sibling),_t=M(Be,Ke),_t.return=He,He=_t):(k(He,Be),_t=vl(Ke,He.mode,_t),_t.return=He,He=_t),J(He)):k(He,Be)}return function(He,Be,Ke,_t){try{zh=0;var sn=Vi(He,Be,Ke,_t);return ic=null,sn}catch(cn){if(cn===tl||cn===Ou)throw cn;var ni=ur(29,cn,null,He.mode);return ni.lanes=_t,ni.return=He,ni}finally{}}}var Gc=Dp(!0),Hb=Dp(!1),ca=pe(null),Ea=null;function rc(d){var m=d.alternate;Se(pr,pr.current&1),Se(ca,d),Ea===null&&(m===null||si.current!==null||m.memoizedState!==null)&&(Ea=d)}function Ub(d){if(d.tag===22){if(Se(pr,pr.current),Se(ca,d),Ea===null){var m=d.alternate;m!==null&&m.memoizedState!==null&&(Ea=d)}}else sc()}function sc(){Se(pr,pr.current),Se(ca,ca.current)}function il(d){xe(ca),Ea===d&&(Ea=null),xe(pr)}var pr=pe(0);function Fh(d){for(var m=d;m!==null;){if(m.tag===13){var k=m.memoizedState;if(k!==null&&(k=k.dehydrated,k===null||k.data==="$?"||pg(k)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function af(d,m,k,C){m=d.memoizedState,k=k(C,m),k=k==null?m:S({},m,k),d.memoizedState=k,d.lanes===0&&(d.updateQueue.baseState=k)}var lf={enqueueSetState:function(d,m,k){d=d._reactInternals;var C=xo(),M=Ot(C);M.payload=m,k!=null&&(M.callback=k),m=$t(d,M,C),m!==null&&($o(m,d,C),Yt(m,d,C))},enqueueReplaceState:function(d,m,k){d=d._reactInternals;var C=xo(),M=Ot(C);M.tag=1,M.payload=m,k!=null&&(M.callback=k),m=$t(d,M,C),m!==null&&($o(m,d,C),Yt(m,d,C))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var k=xo(),C=Ot(k);C.tag=2,m!=null&&(C.callback=m),m=$t(d,C,k),m!==null&&($o(m,d,k),Yt(m,d,k))}};function Tp(d,m,k,C,M,P,J){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(C,P,J):m.prototype&&m.prototype.isPureReactComponent?!Pr(k,C)||!Pr(M,P):!0}function Sa(d,m,k,C){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(k,C),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(k,C),m.state!==d&&lf.enqueueReplaceState(m,m.state,null)}function rl(d,m){var k=m;if("ref"in m){k={};for(var C in m)C!=="ref"&&(k[C]=m[C])}if(d=d.defaultProps){k===m&&(k=S({},k));for(var M in d)k[M]===void 0&&(k[M]=d[M])}return k}var so=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)};function Yd(d){so(d)}function Mp(d){console.error(d)}function $b(d){so(d)}function Vh(d,m){try{var k=d.onUncaughtError;k(m.value,{componentStack:m.stack})}catch(C){setTimeout(function(){throw C})}}function qb(d,m,k){try{var C=d.onCaughtError;C(k.value,{componentStack:k.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function Ip(d,m,k){return k=Ot(k),k.tag=3,k.payload={element:null},k.callback=function(){Vh(d,m)},k}function Op(d){return d=Ot(d),d.tag=3,d}function Wb(d,m,k,C){var M=k.type.getDerivedStateFromError;if(typeof M=="function"){var P=C.value;d.payload=function(){return M(P)},d.callback=function(){qb(m,k,C)}}var J=k.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(d.callback=function(){qb(m,k,C),typeof M!="function"&&(ed===null?ed=new Set([this]):ed.add(this));var ce=C.stack;this.componentDidCatch(C.value,{componentStack:ce!==null?ce:""})})}function Aw(d,m,k,C,M){if(k.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(m=k.alternate,m!==null&&yl(m,k,M,!0),k=ca.current,k!==null){switch(k.tag){case 13:return Ea===null?Xp():k.alternate===null&&br===0&&(br=3),k.flags&=-257,k.flags|=65536,k.lanes=M,C===Th?k.flags|=16384:(m=k.updateQueue,m===null?k.updateQueue=new Set([C]):m.add(C),mc(d,C,M)),!1;case 22:return k.flags|=65536,C===Th?k.flags|=16384:(m=k.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([C])},k.updateQueue=m):(k=m.retryQueue,k===null?m.retryQueue=new Set([C]):k.add(C)),mc(d,C,M)),!1}throw Error(o(435,k.tag))}return mc(d,C,M),Xp(),!1}if(kn)return m=ca.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=M,C!==hr&&(d=Error(o(422),{cause:C}),wl(fn(d,k)))):(C!==hr&&(m=Error(o(423),{cause:C}),wl(fn(m,k))),d=d.current.alternate,d.flags|=65536,M&=-M,d.lanes|=M,C=fn(C,k),M=Ip(d.stateNode,C,M),qt(d,M),br!==4&&(br=2)),!1;var P=Error(o(520),{cause:C});if(P=fn(P,k),Zh===null?Zh=[P]:Zh.push(P),br!==4&&(br=2),m===null)return!0;C=fn(C,k),k=m;do{switch(k.tag){case 3:return k.flags|=65536,d=M&-M,k.lanes|=d,d=Ip(k.stateNode,C,d),qt(k,d),!1;case 1:if(m=k.type,P=k.stateNode,(k.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(ed===null||!ed.has(P))))return k.flags|=65536,M&=-M,k.lanes|=M,M=Op(M),Wb(M,d,k,C),qt(k,M),!1}k=k.return}while(k!==null);return!1}var Yb=Error(o(461)),ns=!1;function Ls(d,m,k,C){m.child=d===null?Hb(m,null,k,C):Gc(m,d.child,k,C)}function Gb(d,m,k,C,M){k=k.render;var P=m.ref;if("ref"in C){var J={};for(var ce in C)ce!=="ref"&&(J[ce]=C[ce])}else J=C;return el(m),C=nl(d,m,k,J,P,M),ce=io(),d!==null&&!ns?(Vo(d,m,M),oc(d,m,M)):(kn&&ce&&Nt(m),m.flags|=1,Ls(d,m,C,M),m.child)}function Kb(d,m,k,C,M){if(d===null){var P=k.type;return typeof P=="function"&&!Zl(P)&&P.defaultProps===void 0&&k.compare===null?(m.tag=15,m.type=P,Hh(d,m,P,C,M)):(d=_l(k.type,null,C,m,m.mode,M),d.ref=m.ref,d.return=m,m.child=d)}if(P=d.child,!Fp(d,M)){var J=P.memoizedProps;if(k=k.compare,k=k!==null?k:Pr,k(J,C)&&d.ref===m.ref)return oc(d,m,M)}return m.flags|=1,d=js(P,C),d.ref=m.ref,d.return=m,m.child=d}function Hh(d,m,k,C,M){if(d!==null){var P=d.memoizedProps;if(Pr(P,C)&&d.ref===m.ref)if(ns=!1,m.pendingProps=C=P,Fp(d,M))(d.flags&131072)!==0&&(ns=!0);else return m.lanes=d.lanes,oc(d,m,M)}return df(d,m,k,C,M)}function Lp(d,m,k){var C=m.pendingProps,M=C.children,P=d!==null?d.memoizedState:null;if(C.mode==="hidden"){if((m.flags&128)!==0){if(C=P!==null?P.baseLanes|k:k,d!==null){for(M=m.child=d.child,P=0;M!==null;)P=P|M.lanes|M.childLanes,M=M.sibling;m.childLanes=P&~C}else m.childLanes=0,m.child=null;return Uh(d,m,C,k)}if((k&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},d!==null&&zd(m,P!==null?P.cachePool:null),P!==null?Hn(m,P):lt(),Ub(m);else return m.lanes=m.childLanes=536870912,Uh(d,m,P!==null?P.baseLanes|k:k,k)}else P!==null?(zd(m,P.cachePool),Hn(m,P),sc(),m.memoizedState=null):(d!==null&&zd(m,null),lt(),sc());return Ls(d,m,M,k),m.child}function Uh(d,m,k,C){var M=Dh();return M=M===null?null:{parent:Wn._currentValue,pool:M},m.memoizedState={baseLanes:k,cachePool:M},d!==null&&zd(m,null),lt(),Ub(m),d!==null&&yl(d,m,C,!0),null}function cf(d,m){var k=m.ref;if(k===null)d!==null&&d.ref!==null&&(m.flags|=4194816);else{if(typeof k!="function"&&typeof k!="object")throw Error(o(284));(d===null||d.ref!==k)&&(m.flags|=4194816)}}function df(d,m,k,C,M){return el(m),k=nl(d,m,k,C,void 0,M),C=io(),d!==null&&!ns?(Vo(d,m,M),oc(d,m,M)):(kn&&C&&Nt(m),m.flags|=1,Ls(d,m,k,M),m.child)}function Bp(d,m,k,C,M,P){return el(m),m.updateQueue=null,k=Mi(m,C,k,M),wr(d),C=io(),d!==null&&!ns?(Vo(d,m,P),oc(d,m,P)):(kn&&C&&Nt(m),m.flags|=1,Ls(d,m,k,P),m.child)}function Rp(d,m,k,C,M){if(el(m),m.stateNode===null){var P=xa,J=k.contextType;typeof J=="object"&&J!==null&&(P=vr(J)),P=new k(C,P),m.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=lf,m.stateNode=P,P._reactInternals=m,P=m.stateNode,P.props=C,P.state=m.memoizedState,P.refs={},ot(m),J=k.contextType,P.context=typeof J=="object"&&J!==null?vr(J):xa,P.state=m.memoizedState,J=k.getDerivedStateFromProps,typeof J=="function"&&(af(m,k,J,C),P.state=m.memoizedState),typeof k.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(J=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),J!==P.state&&lf.enqueueReplaceState(P,P.state,null),Cn(m,C,P,M),un(),P.state=m.memoizedState),typeof P.componentDidMount=="function"&&(m.flags|=4194308),C=!0}else if(d===null){P=m.stateNode;var ce=m.memoizedProps,Ae=rl(k,ce);P.props=Ae;var Xe=P.context,gt=k.contextType;J=xa,typeof gt=="object"&&gt!==null&&(J=vr(gt));var vt=k.getDerivedStateFromProps;gt=typeof vt=="function"||typeof P.getSnapshotBeforeUpdate=="function",ce=m.pendingProps!==ce,gt||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(ce||Xe!==J)&&Sa(m,P,C,J),Re=!1;var nt=m.memoizedState;P.state=nt,Cn(m,C,P,M),un(),Xe=m.memoizedState,ce||nt!==Xe||Re?(typeof vt=="function"&&(af(m,k,vt,C),Xe=m.memoizedState),(Ae=Re||Tp(m,k,Ae,C,nt,Xe,J))?(gt||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(m.flags|=4194308)):(typeof P.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=C,m.memoizedState=Xe),P.props=C,P.state=Xe,P.context=J,C=Ae):(typeof P.componentDidMount=="function"&&(m.flags|=4194308),C=!1)}else{P=m.stateNode,wt(d,m),J=m.memoizedProps,gt=rl(k,J),P.props=gt,vt=m.pendingProps,nt=P.context,Xe=k.contextType,Ae=xa,typeof Xe=="object"&&Xe!==null&&(Ae=vr(Xe)),ce=k.getDerivedStateFromProps,(Xe=typeof ce=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(J!==vt||nt!==Ae)&&Sa(m,P,C,Ae),Re=!1,nt=m.memoizedState,P.state=nt,Cn(m,C,P,M),un();var rt=m.memoizedState;J!==vt||nt!==rt||Re||d!==null&&d.dependencies!==null&&Iu(d.dependencies)?(typeof ce=="function"&&(af(m,k,ce,C),rt=m.memoizedState),(gt=Re||Tp(m,k,gt,C,nt,rt,Ae)||d!==null&&d.dependencies!==null&&Iu(d.dependencies))?(Xe||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(C,rt,Ae),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(C,rt,Ae)),typeof P.componentDidUpdate=="function"&&(m.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof P.componentDidUpdate!="function"||J===d.memoizedProps&&nt===d.memoizedState||(m.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||J===d.memoizedProps&&nt===d.memoizedState||(m.flags|=1024),m.memoizedProps=C,m.memoizedState=rt),P.props=C,P.state=rt,P.context=Ae,C=gt):(typeof P.componentDidUpdate!="function"||J===d.memoizedProps&&nt===d.memoizedState||(m.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||J===d.memoizedProps&&nt===d.memoizedState||(m.flags|=1024),C=!1)}return P=C,cf(d,m),C=(m.flags&128)!==0,P||C?(P=m.stateNode,k=C&&typeof k.getDerivedStateFromError!="function"?null:P.render(),m.flags|=1,d!==null&&C?(m.child=Gc(m,d.child,null,M),m.child=Gc(m,null,k,M)):Ls(d,m,k,M),m.memoizedState=P.state,d=m.child):d=oc(d,m,M),d}function sl(d,m,k,C){return Bo(),m.flags|=256,Ls(d,m,k,C),m.child}var uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kc(d){return{baseLanes:d,cachePool:Vc()}}function Nl(d,m,k){return d=d!==null?d.childLanes&~k:0,m&&(d|=dr),d}function Qb(d,m,k){var C=m.pendingProps,M=!1,P=(m.flags&128)!==0,J;if((J=P)||(J=d!==null&&d.memoizedState===null?!1:(pr.current&2)!==0),J&&(M=!0,m.flags&=-129),J=(m.flags&32)!==0,m.flags&=-33,d===null){if(kn){if(M?rc(m):sc(),kn){var ce=nn,Ae;if(Ae=ce){e:{for(Ae=ce,ce=wi;Ae.nodeType!==8;){if(!ce){ce=null;break e}if(Ae=Da(Ae.nextSibling),Ae===null){ce=null;break e}}ce=Ae}ce!==null?(m.memoizedState={dehydrated:ce,treeContext:G!==null?{id:ie,overflow:Ce}:null,retryLane:536870912,hydrationErrors:null},Ae=ur(18,null,null,0),Ae.stateNode=ce,Ae.return=m,m.child=Ae,Wt=m,nn=null,Ae=!0):Ae=!1}Ae||Ds(m)}if(ce=m.memoizedState,ce!==null&&(ce=ce.dehydrated,ce!==null))return pg(ce)?m.lanes=32:m.lanes=536870912,null;il(m)}return ce=C.children,C=C.fallback,M?(sc(),M=m.mode,ce=hf({mode:"hidden",children:ce},M),C=wo(C,M,k,null),ce.return=m,C.return=m,ce.sibling=C,m.child=ce,M=m.child,M.memoizedState=Kc(k),M.childLanes=Nl(d,J,k),m.memoizedState=uf,C):(rc(m),$h(m,ce))}if(Ae=d.memoizedState,Ae!==null&&(ce=Ae.dehydrated,ce!==null)){if(P)m.flags&256?(rc(m),m.flags&=-257,m=Pp(d,m,k)):m.memoizedState!==null?(sc(),m.child=d.child,m.flags|=128,m=null):(sc(),M=C.fallback,ce=m.mode,C=hf({mode:"visible",children:C.children},ce),M=wo(M,ce,k,null),M.flags|=2,C.return=m,M.return=m,C.sibling=M,m.child=C,Gc(m,d.child,null,k),C=m.child,C.memoizedState=Kc(k),C.childLanes=Nl(d,J,k),m.memoizedState=uf,m=M);else if(rc(m),pg(ce)){if(J=ce.nextSibling&&ce.nextSibling.dataset,J)var Xe=J.dgst;J=Xe,C=Error(o(419)),C.stack="",C.digest=J,wl({value:C,source:null,stack:null}),m=Pp(d,m,k)}else if(ns||yl(d,m,k,!1),J=(k&d.childLanes)!==0,ns||J){if(J=Ki,J!==null&&(C=k&-k,C=(C&42)!==0?1:dn(C),C=(C&(J.suspendedLanes|k))!==0?0:C,C!==0&&C!==Ae.retryLane))throw Ae.retryLane=C,Xr(d,C),$o(J,d,C),Yb;ce.data==="$?"||Xp(),m=Pp(d,m,k)}else ce.data==="$?"?(m.flags|=192,m.child=d.child,m=null):(d=Ae.treeContext,nn=Da(ce.nextSibling),Wt=m,kn=!0,pn=null,wi=!1,d!==null&&(T[V++]=ie,T[V++]=Ce,T[V++]=G,ie=d.id,Ce=d.overflow,G=m),m=$h(m,C.children),m.flags|=4096);return m}return M?(sc(),M=C.fallback,ce=m.mode,Ae=d.child,Xe=Ae.sibling,C=js(Ae,{mode:"hidden",children:C.children}),C.subtreeFlags=Ae.subtreeFlags&65011712,Xe!==null?M=js(Xe,M):(M=wo(M,ce,k,null),M.flags|=2),M.return=m,C.return=m,C.sibling=M,m.child=C,C=M,M=m.child,ce=d.child.memoizedState,ce===null?ce=Kc(k):(Ae=ce.cachePool,Ae!==null?(Xe=Wn._currentValue,Ae=Ae.parent!==Xe?{parent:Xe,pool:Xe}:Ae):Ae=Vc(),ce={baseLanes:ce.baseLanes|k,cachePool:Ae}),M.memoizedState=ce,M.childLanes=Nl(d,J,k),m.memoizedState=uf,C):(rc(m),k=d.child,d=k.sibling,k=js(k,{mode:"visible",children:C.children}),k.return=m,k.sibling=null,d!==null&&(J=m.deletions,J===null?(m.deletions=[d],m.flags|=16):J.push(d)),m.child=k,m.memoizedState=null,k)}function $h(d,m){return m=hf({mode:"visible",children:m},d.mode),m.return=d,d.child=m}function hf(d,m){return d=ur(22,d,null,m),d.lanes=0,d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},d}function Pp(d,m,k){return Gc(m,d.child,null,k),d=$h(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function Zb(d,m,k){d.lanes|=m;var C=d.alternate;C!==null&&(C.lanes|=m),zc(d.return,m,k)}function zp(d,m,k,C,M){var P=d.memoizedState;P===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:C,tail:k,tailMode:M}:(P.isBackwards=m,P.rendering=null,P.renderingStartTime=0,P.last=C,P.tail=k,P.tailMode=M)}function Xb(d,m,k){var C=m.pendingProps,M=C.revealOrder,P=C.tail;if(Ls(d,m,C.children,k),C=pr.current,(C&2)!==0)C=C&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&Zb(d,k,m);else if(d.tag===19)Zb(d,k,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}C&=1}switch(Se(pr,C),M){case"forwards":for(k=m.child,M=null;k!==null;)d=k.alternate,d!==null&&Fh(d)===null&&(M=k),k=k.sibling;k=M,k===null?(M=m.child,m.child=null):(M=k.sibling,k.sibling=null),zp(m,!1,M,k,P);break;case"backwards":for(k=null,M=m.child,m.child=null;M!==null;){if(d=M.alternate,d!==null&&Fh(d)===null){m.child=M;break}d=M.sibling,M.sibling=k,k=M,M=d}zp(m,!0,k,null,P);break;case"together":zp(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function oc(d,m,k){if(d!==null&&(m.dependencies=d.dependencies),jl|=m.lanes,(k&m.childLanes)===0)if(d!==null){if(yl(d,m,k,!1),(k&m.childLanes)===0)return null}else return null;if(d!==null&&m.child!==d.child)throw Error(o(153));if(m.child!==null){for(d=m.child,k=js(d,d.pendingProps),m.child=k,k.return=m;d.sibling!==null;)d=d.sibling,k=k.sibling=js(d,d.pendingProps),k.return=m;k.sibling=null}return m.child}function Fp(d,m){return(d.lanes&m)!==0?!0:(d=d.dependencies,!!(d!==null&&Iu(d)))}function Nw(d,m,k){switch(m.tag){case 3:Ie(m,m.stateNode.containerInfo),Aa(m,Wn,d.memoizedState.cache),Bo();break;case 27:case 5:Le(m);break;case 4:Ie(m,m.stateNode.containerInfo);break;case 10:Aa(m,m.type,m.memoizedProps.value);break;case 13:var C=m.memoizedState;if(C!==null)return C.dehydrated!==null?(rc(m),m.flags|=128,null):(k&m.child.childLanes)!==0?Qb(d,m,k):(rc(m),d=oc(d,m,k),d!==null?d.sibling:null);rc(m);break;case 19:var M=(d.flags&128)!==0;if(C=(k&m.childLanes)!==0,C||(yl(d,m,k,!1),C=(k&m.childLanes)!==0),M){if(C)return Xb(d,m,k);m.flags|=128}if(M=m.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Se(pr,pr.current),C)break;return null;case 22:case 23:return m.lanes=0,Lp(d,m,k);case 24:Aa(m,Wn,d.memoizedState.cache)}return oc(d,m,k)}function Vp(d,m,k){if(d!==null)if(d.memoizedProps!==m.pendingProps)ns=!0;else{if(!Fp(d,k)&&(m.flags&128)===0)return ns=!1,Nw(d,m,k);ns=(d.flags&131072)!==0}else ns=!1,kn&&(m.flags&1048576)!==0&&Ve(m,x,m.index);switch(m.lanes=0,m.tag){case 16:e:{d=m.pendingProps;var C=m.elementType,M=C._init;if(C=M(C._payload),m.type=C,typeof C=="function")Zl(C)?(d=rl(C,d),m.tag=1,m=Rp(null,m,C,d,k)):(m.tag=0,m=df(null,m,C,d,k));else{if(C!=null){if(M=C.$$typeof,M===ne){m.tag=11,m=Gb(null,m,C,d,k);break e}else if(M===q){m.tag=14,m=Kb(null,m,C,d,k);break e}}throw m=_e(C)||C,Error(o(306,m,""))}}return m;case 0:return df(d,m,m.type,m.pendingProps,k);case 1:return C=m.type,M=rl(C,m.pendingProps),Rp(d,m,C,M,k);case 3:e:{if(Ie(m,m.stateNode.containerInfo),d===null)throw Error(o(387));C=m.pendingProps;var P=m.memoizedState;M=P.element,wt(d,m),Cn(m,C,null,k);var J=m.memoizedState;if(C=J.cache,Aa(m,Wn,C),C!==P.cache&&Fc(m,[Wn],k,!0),un(),C=J.element,P.isDehydrated)if(P={element:C,isDehydrated:!1,cache:J.cache},m.updateQueue.baseState=P,m.memoizedState=P,m.flags&256){m=sl(d,m,C,k);break e}else if(C!==M){M=fn(Error(o(424)),m),wl(M),m=sl(d,m,C,k);break e}else{switch(d=m.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(nn=Da(d.firstChild),Wt=m,kn=!0,pn=null,wi=!0,k=Hb(m,null,C,k),m.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling}else{if(Bo(),C===M){m=oc(d,m,k);break e}Ls(d,m,C,k)}m=m.child}return m;case 26:return cf(d,m),d===null?(k=Hk(m.type,null,m.pendingProps,null))?m.memoizedState=k:kn||(k=m.type,d=m.pendingProps,C=nm(fe.current).createElement(k),C[rn]=m,C[xn]=d,zs(C,k,d),on(C),m.stateNode=C):m.memoizedState=Hk(m.type,d.memoizedProps,m.pendingProps,d.memoizedState),null;case 27:return Le(m),d===null&&kn&&(C=m.stateNode=Ok(m.type,m.pendingProps,fe.current),Wt=m,wi=!0,M=nn,rd(m.type)?(gg=M,nn=Da(C.firstChild)):nn=M),Ls(d,m,m.pendingProps.children,k),cf(d,m),d===null&&(m.flags|=4194304),m.child;case 5:return d===null&&kn&&((M=C=nn)&&(C=Mk(C,m.type,m.pendingProps,wi),C!==null?(m.stateNode=C,Wt=m,nn=Da(C.firstChild),wi=!1,M=!0):M=!1),M||Ds(m)),Le(m),M=m.type,P=m.pendingProps,J=d!==null?d.memoizedProps:null,C=P.children,Sf(M,P)?C=null:J!==null&&Sf(M,J)&&(m.flags|=32),m.memoizedState!==null&&(M=nl(d,m,Is,null,null,k),dm._currentValue=M),cf(d,m),Ls(d,m,C,k),m.child;case 6:return d===null&&kn&&((d=k=nn)&&(k=Vw(k,m.pendingProps,wi),k!==null?(m.stateNode=k,Wt=m,nn=null,d=!0):d=!1),d||Ds(m)),null;case 13:return Qb(d,m,k);case 4:return Ie(m,m.stateNode.containerInfo),C=m.pendingProps,d===null?m.child=Gc(m,null,C,k):Ls(d,m,C,k),m.child;case 11:return Gb(d,m,m.type,m.pendingProps,k);case 7:return Ls(d,m,m.pendingProps,k),m.child;case 8:return Ls(d,m,m.pendingProps.children,k),m.child;case 12:return Ls(d,m,m.pendingProps.children,k),m.child;case 10:return C=m.pendingProps,Aa(m,m.type,C.value),Ls(d,m,C.children,k),m.child;case 9:return M=m.type._context,C=m.pendingProps.children,el(m),M=vr(M),C=C(M),m.flags|=1,Ls(d,m,C,k),m.child;case 14:return Kb(d,m,m.type,m.pendingProps,k);case 15:return Hh(d,m,m.type,m.pendingProps,k);case 19:return Xb(d,m,k);case 31:return C=m.pendingProps,k=m.mode,C={mode:C.mode,children:C.children},d===null?(k=hf(C,k),k.ref=m.ref,m.child=k,k.return=m,m=k):(k=js(d.child,C),k.ref=m.ref,m.child=k,k.return=m,m=k),m;case 22:return Lp(d,m,k);case 24:return el(m),C=vr(Wn),d===null?(M=Dh(),M===null&&(M=Ki,P=mr(),M.pooledCache=P,P.refCount++,P!==null&&(M.pooledCacheLanes|=k),M=P),m.memoizedState={parent:C,cache:M},ot(m),Aa(m,Wn,M)):((d.lanes&k)!==0&&(wt(d,m),Cn(m,null,null,k),un()),M=d.memoizedState,P=m.memoizedState,M.parent!==C?(M={parent:C,cache:C},m.memoizedState=M,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=M),Aa(m,Wn,C)):(C=P.cache,Aa(m,Wn,C),C!==M.cache&&Fc(m,[Wn],k,!0))),Ls(d,m,m.pendingProps.children,k),m.child;case 29:throw m.pendingProps}throw Error(o(156,m.tag))}function ac(d){d.flags|=4}function Jb(d,m){if(m.type!=="stylesheet"||(m.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!vg(m)){if(m=ca.current,m!==null&&((mi&4194048)===mi?Ea!==null:(mi&62914560)!==mi&&(mi&536870912)===0||m!==Ea))throw Y=Th,Fd;d.flags|=8192}}function lc(d,m){m!==null&&(d.flags|=4),d.flags&16384&&(m=d.tag!==22?nr():536870912,d.lanes|=m,Yu|=m)}function qh(d,m){if(!kn)switch(d.tailMode){case"hidden":m=d.tail;for(var k=null;m!==null;)m.alternate!==null&&(k=m),m=m.sibling;k===null?d.tail=null:k.sibling=null;break;case"collapsed":k=d.tail;for(var C=null;k!==null;)k.alternate!==null&&(C=k),k=k.sibling;C===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:C.sibling=null}}function gr(d){var m=d.alternate!==null&&d.alternate.child===d.child,k=0,C=0;if(m)for(var M=d.child;M!==null;)k|=M.lanes|M.childLanes,C|=M.subtreeFlags&65011712,C|=M.flags&65011712,M.return=d,M=M.sibling;else for(M=d.child;M!==null;)k|=M.lanes|M.childLanes,C|=M.subtreeFlags,C|=M.flags,M.return=d,M=M.sibling;return d.subtreeFlags|=C,d.childLanes=k,m}function Ew(d,m,k){var C=m.pendingProps;switch(Pt(m),m.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(m),null;case 1:return gr(m),null;case 3:return k=m.stateNode,C=null,d!==null&&(C=d.memoizedState.cache),m.memoizedState.cache!==C&&(m.flags|=2048),ra(Wn),qe(),k.pendingContext&&(k.context=k.pendingContext,k.pendingContext=null),(d===null||d.child===null)&&(Xl(m)?ac(m):d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Jr())),gr(m),null;case 26:return k=m.memoizedState,d===null?(ac(m),k!==null?(gr(m),Jb(m,k)):(gr(m),m.flags&=-16777217)):k?k!==d.memoizedState?(ac(m),gr(m),Jb(m,k)):(gr(m),m.flags&=-16777217):(d.memoizedProps!==C&&ac(m),gr(m),m.flags&=-16777217),null;case 27:st(m),k=fe.current;var M=m.type;if(d!==null&&m.stateNode!=null)d.memoizedProps!==C&&ac(m);else{if(!C){if(m.stateNode===null)throw Error(o(166));return gr(m),null}d=Fe.current,Xl(m)?Rd(m):(d=Ok(M,C,k),m.stateNode=d,ac(m))}return gr(m),null;case 5:if(st(m),k=m.type,d!==null&&m.stateNode!=null)d.memoizedProps!==C&&ac(m);else{if(!C){if(m.stateNode===null)throw Error(o(166));return gr(m),null}if(d=Fe.current,Xl(m))Rd(m);else{switch(M=nm(fe.current),d){case 1:d=M.createElementNS("http://www.w3.org/2000/svg",k);break;case 2:d=M.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;default:switch(k){case"svg":d=M.createElementNS("http://www.w3.org/2000/svg",k);break;case"math":d=M.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;case"script":d=M.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof C.is=="string"?M.createElement("select",{is:C.is}):M.createElement("select"),C.multiple?d.multiple=!0:C.size&&(d.size=C.size);break;default:d=typeof C.is=="string"?M.createElement(k,{is:C.is}):M.createElement(k)}}d[rn]=m,d[xn]=C;e:for(M=m.child;M!==null;){if(M.tag===5||M.tag===6)d.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===m)break e;for(;M.sibling===null;){if(M.return===null||M.return===m)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}m.stateNode=d;e:switch(zs(d,k,C),k){case"button":case"input":case"select":case"textarea":d=!!C.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&ac(m)}}return gr(m),m.flags&=-16777217,null;case 6:if(d&&m.stateNode!=null)d.memoizedProps!==C&&ac(m);else{if(typeof C!="string"&&m.stateNode===null)throw Error(o(166));if(d=fe.current,Xl(m)){if(d=m.stateNode,k=m.memoizedProps,C=null,M=Wt,M!==null)switch(M.tag){case 27:case 5:C=M.memoizedProps}d[rn]=m,d=!!(d.nodeValue===k||C!==null&&C.suppressHydrationWarning===!0||Ao(d.nodeValue,k)),d||Ds(m)}else d=nm(d).createTextNode(C),d[rn]=m,m.stateNode=d}return gr(m),null;case 13:if(C=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(M=Xl(m),C!==null&&C.dehydrated!==null){if(d===null){if(!M)throw Error(o(318));if(M=m.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(o(317));M[rn]=m}else Bo(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;gr(m),M=!1}else M=Jr(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=M),M=!0;if(!M)return m.flags&256?(il(m),m):(il(m),null)}if(il(m),(m.flags&128)!==0)return m.lanes=k,m;if(k=C!==null,d=d!==null&&d.memoizedState!==null,k){C=m.child,M=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(M=C.alternate.memoizedState.cachePool.pool);var P=null;C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(P=C.memoizedState.cachePool.pool),P!==M&&(C.flags|=2048)}return k!==d&&k&&(m.child.flags|=8192),lc(m,m.updateQueue),gr(m),null;case 4:return qe(),d===null&&Jd(m.stateNode.containerInfo),gr(m),null;case 10:return ra(m.type),gr(m),null;case 19:if(xe(pr),M=m.memoizedState,M===null)return gr(m),null;if(C=(m.flags&128)!==0,P=M.rendering,P===null)if(C)qh(M,!1);else{if(br!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(P=Fh(d),P!==null){for(m.flags|=128,qh(M,!1),d=P.updateQueue,m.updateQueue=d,lc(m,d),m.subtreeFlags=0,d=k,k=m.child;k!==null;)Rc(k,d),k=k.sibling;return Se(pr,pr.current&1|2),m.child}d=d.sibling}M.tail!==null&&Rt()>Jc&&(m.flags|=128,C=!0,qh(M,!1),m.lanes=4194304)}else{if(!C)if(d=Fh(P),d!==null){if(m.flags|=128,C=!0,d=d.updateQueue,m.updateQueue=d,lc(m,d),qh(M,!0),M.tail===null&&M.tailMode==="hidden"&&!P.alternate&&!kn)return gr(m),null}else 2*Rt()-M.renderingStartTime>Jc&&k!==536870912&&(m.flags|=128,C=!0,qh(M,!1),m.lanes=4194304);M.isBackwards?(P.sibling=m.child,m.child=P):(d=M.last,d!==null?d.sibling=P:m.child=P,M.last=P)}return M.tail!==null?(m=M.tail,M.rendering=m,M.tail=m.sibling,M.renderingStartTime=Rt(),m.sibling=null,d=pr.current,Se(pr,C?d&1|2:d&1),m):(gr(m),null);case 22:case 23:return il(m),On(),C=m.memoizedState!==null,d!==null?d.memoizedState!==null!==C&&(m.flags|=8192):C&&(m.flags|=8192),C?(k&536870912)!==0&&(m.flags&128)===0&&(gr(m),m.subtreeFlags&6&&(m.flags|=8192)):gr(m),k=m.updateQueue,k!==null&&lc(m,k.retryQueue),k=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(k=d.memoizedState.cachePool.pool),C=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(C=m.memoizedState.cachePool.pool),C!==k&&(m.flags|=2048),d!==null&&xe(oa),null;case 24:return k=null,d!==null&&(k=d.memoizedState.cache),m.memoizedState.cache!==k&&(m.flags|=2048),ra(Wn),gr(m),null;case 25:return null;case 30:return null}throw Error(o(156,m.tag))}function mf(d,m){switch(Pt(m),m.tag){case 1:return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return ra(Wn),qe(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 26:case 27:case 5:return st(m),null;case 13:if(il(m),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(o(340));Bo()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return xe(pr),null;case 4:return qe(),null;case 10:return ra(m.type),null;case 22:case 23:return il(m),On(),d!==null&&xe(oa),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 24:return ra(Wn),null;case 25:return null;default:return null}}function ek(d,m){switch(Pt(m),m.tag){case 3:ra(Wn),qe();break;case 26:case 27:case 5:st(m);break;case 4:qe();break;case 13:il(m);break;case 19:xe(pr);break;case 10:ra(m.type);break;case 22:case 23:il(m),On(),d!==null&&xe(oa);break;case 24:ra(Wn)}}function Wh(d,m){try{var k=m.updateQueue,C=k!==null?k.lastEffect:null;if(C!==null){var M=C.next;k=M;do{if((k.tag&d)===d){C=void 0;var P=k.create,J=k.inst;C=P(),J.destroy=C}k=k.next}while(k!==M)}}catch(ce){Qi(m,m.return,ce)}}function Qc(d,m,k){try{var C=m.updateQueue,M=C!==null?C.lastEffect:null;if(M!==null){var P=M.next;C=P;do{if((C.tag&d)===d){var J=C.inst,ce=J.destroy;if(ce!==void 0){J.destroy=void 0,M=m;var Ae=k,Xe=ce;try{Xe()}catch(gt){Qi(M,Ae,gt)}}}C=C.next}while(C!==P)}}catch(gt){Qi(m,m.return,gt)}}function Hp(d){var m=d.updateQueue;if(m!==null){var k=d.stateNode;try{An(m,k)}catch(C){Qi(d,d.return,C)}}}function tk(d,m,k){k.props=rl(d.type,d.memoizedProps),k.state=d.memoizedState;try{k.componentWillUnmount()}catch(C){Qi(d,m,C)}}function Yh(d,m){try{var k=d.ref;if(k!==null){switch(d.tag){case 26:case 27:case 5:var C=d.stateNode;break;case 30:C=d.stateNode;break;default:C=d.stateNode}typeof k=="function"?d.refCleanup=k(C):k.current=C}}catch(M){Qi(d,m,M)}}function ol(d,m){var k=d.ref,C=d.refCleanup;if(k!==null)if(typeof C=="function")try{C()}catch(M){Qi(d,m,M)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof k=="function")try{k(null)}catch(M){Qi(d,m,M)}else k.current=null}function ff(d){var m=d.type,k=d.memoizedProps,C=d.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":k.autoFocus&&C.focus();break e;case"img":k.src?C.src=k.src:k.srcSet&&(C.srcset=k.srcSet)}}catch(M){Qi(d,d.return,M)}}function Up(d,m,k){try{var C=d.stateNode;hg(C,d.type,k,m),C[xn]=m}catch(M){Qi(d,d.return,M)}}function nk(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&rd(d.type)||d.tag===4}function $p(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||nk(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&rd(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function pf(d,m,k){var C=d.tag;if(C===5||C===6)d=d.stateNode,m?(k.nodeType===9?k.body:k.nodeName==="HTML"?k.ownerDocument.body:k).insertBefore(d,m):(m=k.nodeType===9?k.body:k.nodeName==="HTML"?k.ownerDocument.body:k,m.appendChild(d),k=k._reactRootContainer,k!=null||m.onclick!==null||(m.onclick=ja));else if(C!==4&&(C===27&&rd(d.type)&&(k=d.stateNode,m=null),d=d.child,d!==null))for(pf(d,m,k),d=d.sibling;d!==null;)pf(d,m,k),d=d.sibling}function Gh(d,m,k){var C=d.tag;if(C===5||C===6)d=d.stateNode,m?k.insertBefore(d,m):k.appendChild(d);else if(C!==4&&(C===27&&rd(d.type)&&(k=d.stateNode),d=d.child,d!==null))for(Gh(d,m,k),d=d.sibling;d!==null;)Gh(d,m,k),d=d.sibling}function Kh(d){var m=d.stateNode,k=d.memoizedProps;try{for(var C=d.type,M=m.attributes;M.length;)m.removeAttributeNode(M[0]);zs(m,C,k),m[rn]=d,m[xn]=k}catch(P){Qi(d,d.return,P)}}var El=!1,Mr=!1,qu=!1,ik=typeof WeakSet=="function"?WeakSet:Set,is=null;function Sw(d,m){if(d=d.containerInfo,ci=Of,d=gl(d),Ka(d)){if("selectionStart"in d)var k={start:d.selectionStart,end:d.selectionEnd};else e:{k=(k=d.ownerDocument)&&k.defaultView||window;var C=k.getSelection&&k.getSelection();if(C&&C.rangeCount!==0){k=C.anchorNode;var M=C.anchorOffset,P=C.focusNode;C=C.focusOffset;try{k.nodeType,P.nodeType}catch{k=null;break e}var J=0,ce=-1,Ae=-1,Xe=0,gt=0,vt=d,nt=null;t:for(;;){for(var rt;vt!==k||M!==0&&vt.nodeType!==3||(ce=J+M),vt!==P||C!==0&&vt.nodeType!==3||(Ae=J+C),vt.nodeType===3&&(J+=vt.nodeValue.length),(rt=vt.firstChild)!==null;)nt=vt,vt=rt;for(;;){if(vt===d)break t;if(nt===k&&++Xe===M&&(ce=J),nt===P&&++gt===C&&(Ae=J),(rt=vt.nextSibling)!==null)break;vt=nt,nt=vt.parentNode}vt=rt}k=ce===-1||Ae===-1?null:{start:ce,end:Ae}}else k=null}k=k||{start:0,end:0}}else k=null;for(mg={focusedElem:d,selectionRange:k},Of=!1,is=m;is!==null;)if(m=is,d=m.child,(m.subtreeFlags&1024)!==0&&d!==null)d.return=m,is=d;else for(;is!==null;){switch(m=is,P=m.alternate,d=m.flags,m.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&P!==null){d=void 0,k=m,M=P.memoizedProps,P=P.memoizedState,C=k.stateNode;try{var In=rl(k.type,M,k.elementType===k.type);d=C.getSnapshotBeforeUpdate(In,P),C.__reactInternalSnapshotBeforeUpdate=d}catch(_n){Qi(k,k.return,_n)}}break;case 3:if((d&1024)!==0){if(d=m.stateNode.containerInfo,k=d.nodeType,k===9)fg(d);else if(k===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":fg(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(o(163))}if(d=m.sibling,d!==null){d.return=m.return,is=d;break}is=m.return}}function Qh(d,m,k){var C=k.flags;switch(k.tag){case 0:case 11:case 15:bs(d,k),C&4&&Wh(5,k);break;case 1:if(bs(d,k),C&4)if(d=k.stateNode,m===null)try{d.componentDidMount()}catch(J){Qi(k,k.return,J)}else{var M=rl(k.type,m.memoizedProps);m=m.memoizedState;try{d.componentDidUpdate(M,m,d.__reactInternalSnapshotBeforeUpdate)}catch(J){Qi(k,k.return,J)}}C&64&&Hp(k),C&512&&Yh(k,k.return);break;case 3:if(bs(d,k),C&64&&(d=k.updateQueue,d!==null)){if(m=null,k.child!==null)switch(k.child.tag){case 27:case 5:m=k.child.stateNode;break;case 1:m=k.child.stateNode}try{An(d,m)}catch(J){Qi(k,k.return,J)}}break;case 27:m===null&&C&4&&Kh(k);case 26:case 5:bs(d,k),m===null&&C&4&&ff(k),C&512&&Yh(k,k.return);break;case 12:bs(d,k);break;case 13:bs(d,k),C&4&&ok(d,k),C&64&&(d=k.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(k=Ow.bind(null,k),Ik(d,k))));break;case 22:if(C=k.memoizedState!==null||El,!C){m=m!==null&&m.memoizedState!==null||Mr,M=El;var P=Mr;El=C,(Mr=m)&&!P?oo(d,k,(k.subtreeFlags&8772)!==0):bs(d,k),El=M,Mr=P}break;case 30:break;default:bs(d,k)}}function rk(d){var m=d.alternate;m!==null&&(d.alternate=null,rk(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&Et(m)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var cr=null,yo=!1;function Sl(d,m,k){for(k=k.child;k!==null;)sk(d,m,k),k=k.sibling}function sk(d,m,k){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(bt,k)}catch{}switch(k.tag){case 26:Mr||ol(k,m),Sl(d,m,k),k.memoizedState?k.memoizedState.count--:k.stateNode&&(k=k.stateNode,k.parentNode.removeChild(k));break;case 27:Mr||ol(k,m);var C=cr,M=yo;rd(k.type)&&(cr=k.stateNode,yo=!1),Sl(d,m,k),im(k.stateNode),cr=C,yo=M;break;case 5:Mr||ol(k,m);case 6:if(C=cr,M=yo,cr=null,Sl(d,m,k),cr=C,yo=M,cr!==null)if(yo)try{(cr.nodeType===9?cr.body:cr.nodeName==="HTML"?cr.ownerDocument.body:cr).removeChild(k.stateNode)}catch(P){Qi(k,m,P)}else try{cr.removeChild(k.stateNode)}catch(P){Qi(k,m,P)}break;case 18:cr!==null&&(yo?(d=cr,Tk(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,k.stateNode),ah(d)):Tk(cr,k.stateNode));break;case 4:C=cr,M=yo,cr=k.stateNode.containerInfo,yo=!0,Sl(d,m,k),cr=C,yo=M;break;case 0:case 11:case 14:case 15:Mr||Qc(2,k,m),Mr||Qc(4,k,m),Sl(d,m,k);break;case 1:Mr||(ol(k,m),C=k.stateNode,typeof C.componentWillUnmount=="function"&&tk(k,m,C)),Sl(d,m,k);break;case 21:Sl(d,m,k);break;case 22:Mr=(C=Mr)||k.memoizedState!==null,Sl(d,m,k),Mr=C;break;default:Sl(d,m,k)}}function ok(d,m){if(m.memoizedState===null&&(d=m.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{ah(d)}catch(k){Qi(m,m.return,k)}}function jw(d){switch(d.tag){case 13:case 19:var m=d.stateNode;return m===null&&(m=d.stateNode=new ik),m;case 22:return d=d.stateNode,m=d._retryCache,m===null&&(m=d._retryCache=new ik),m;default:throw Error(o(435,d.tag))}}function da(d,m){var k=jw(d);m.forEach(function(C){var M=Lw.bind(null,d,C);k.has(C)||(k.add(C),C.then(M,M))})}function ua(d,m){var k=m.deletions;if(k!==null)for(var C=0;C<k.length;C++){var M=k[C],P=d,J=m,ce=J;e:for(;ce!==null;){switch(ce.tag){case 27:if(rd(ce.type)){cr=ce.stateNode,yo=!1;break e}break;case 5:cr=ce.stateNode,yo=!1;break e;case 3:case 4:cr=ce.stateNode.containerInfo,yo=!0;break e}ce=ce.return}if(cr===null)throw Error(o(160));sk(P,J,M),cr=null,yo=!1,P=M.alternate,P!==null&&(P.return=null),M.return=null}if(m.subtreeFlags&13878)for(m=m.child;m!==null;)Zc(m,d),m=m.sibling}var gs=null;function Zc(d,m){var k=d.alternate,C=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:ua(m,d),Bs(d),C&4&&(Qc(3,d,d.return),Wh(3,d),Qc(5,d,d.return));break;case 1:ua(m,d),Bs(d),C&512&&(Mr||k===null||ol(k,k.return)),C&64&&El&&(d=d.updateQueue,d!==null&&(C=d.callbacks,C!==null&&(k=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=k===null?C:k.concat(C))));break;case 26:var M=gs;if(ua(m,d),Bs(d),C&512&&(Mr||k===null||ol(k,k.return)),C&4){var P=k!==null?k.memoizedState:null;if(C=d.memoizedState,k===null)if(C===null)if(d.stateNode===null){e:{C=d.type,k=d.memoizedProps,M=M.ownerDocument||M;t:switch(C){case"title":P=M.getElementsByTagName("title")[0],(!P||P[Te]||P[rn]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=M.createElement(C),M.head.insertBefore(P,M.querySelector("head > title"))),zs(P,C,k),P[rn]=d,on(P),C=P;break e;case"link":var J=_g("link","href",M).get(C+(k.href||""));if(J){for(var ce=0;ce<J.length;ce++)if(P=J[ce],P.getAttribute("href")===(k.href==null||k.href===""?null:k.href)&&P.getAttribute("rel")===(k.rel==null?null:k.rel)&&P.getAttribute("title")===(k.title==null?null:k.title)&&P.getAttribute("crossorigin")===(k.crossOrigin==null?null:k.crossOrigin)){J.splice(ce,1);break t}}P=M.createElement(C),zs(P,C,k),M.head.appendChild(P);break;case"meta":if(J=_g("meta","content",M).get(C+(k.content||""))){for(ce=0;ce<J.length;ce++)if(P=J[ce],P.getAttribute("content")===(k.content==null?null:""+k.content)&&P.getAttribute("name")===(k.name==null?null:k.name)&&P.getAttribute("property")===(k.property==null?null:k.property)&&P.getAttribute("http-equiv")===(k.httpEquiv==null?null:k.httpEquiv)&&P.getAttribute("charset")===(k.charSet==null?null:k.charSet)){J.splice(ce,1);break t}}P=M.createElement(C),zs(P,C,k),M.head.appendChild(P);break;default:throw Error(o(468,C))}P[rn]=d,on(P),C=P}d.stateNode=C}else sh(M,d.type,d.stateNode);else d.stateNode=nu(M,C,d.memoizedProps);else P!==C?(P===null?k.stateNode!==null&&(k=k.stateNode,k.parentNode.removeChild(k)):P.count--,C===null?sh(M,d.type,d.stateNode):nu(M,C,d.memoizedProps)):C===null&&d.stateNode!==null&&Up(d,d.memoizedProps,k.memoizedProps)}break;case 27:ua(m,d),Bs(d),C&512&&(Mr||k===null||ol(k,k.return)),k!==null&&C&4&&Up(d,d.memoizedProps,k.memoizedProps);break;case 5:if(ua(m,d),Bs(d),C&512&&(Mr||k===null||ol(k,k.return)),d.flags&32){M=d.stateNode;try{Er(M,"")}catch(rt){Qi(d,d.return,rt)}}C&4&&d.stateNode!=null&&(M=d.memoizedProps,Up(d,M,k!==null?k.memoizedProps:M)),C&1024&&(qu=!0);break;case 6:if(ua(m,d),Bs(d),C&4){if(d.stateNode===null)throw Error(o(162));C=d.memoizedProps,k=d.stateNode;try{k.nodeValue=C}catch(rt){Qi(d,d.return,rt)}}break;case 3:if(om=null,M=gs,gs=Df(m.containerInfo),ua(m,d),gs=M,Bs(d),C&4&&k!==null&&k.memoizedState.isDehydrated)try{ah(m.containerInfo)}catch(rt){Qi(d,d.return,rt)}qu&&(qu=!1,Ri(d));break;case 4:C=gs,gs=Df(d.stateNode.containerInfo),ua(m,d),Bs(d),gs=C;break;case 12:ua(m,d),Bs(d);break;case 13:ua(m,d),Bs(d),d.child.flags&8192&&d.memoizedState!==null!=(k!==null&&k.memoizedState!==null)&&(Gp=Rt()),C&4&&(C=d.updateQueue,C!==null&&(d.updateQueue=null,da(d,C)));break;case 22:M=d.memoizedState!==null;var Ae=k!==null&&k.memoizedState!==null,Xe=El,gt=Mr;if(El=Xe||M,Mr=gt||Ae,ua(m,d),Mr=gt,El=Xe,Bs(d),C&8192)e:for(m=d.stateNode,m._visibility=M?m._visibility&-2:m._visibility|1,M&&(k===null||Ae||El||Mr||hi(d)),k=null,m=d;;){if(m.tag===5||m.tag===26){if(k===null){Ae=k=m;try{if(P=Ae.stateNode,M)J=P.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none";else{ce=Ae.stateNode;var vt=Ae.memoizedProps.style,nt=vt!=null&&vt.hasOwnProperty("display")?vt.display:null;ce.style.display=nt==null||typeof nt=="boolean"?"":(""+nt).trim()}}catch(rt){Qi(Ae,Ae.return,rt)}}}else if(m.tag===6){if(k===null){Ae=m;try{Ae.stateNode.nodeValue=M?"":Ae.memoizedProps}catch(rt){Qi(Ae,Ae.return,rt)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===d)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break e;for(;m.sibling===null;){if(m.return===null||m.return===d)break e;k===m&&(k=null),m=m.return}k===m&&(k=null),m.sibling.return=m.return,m=m.sibling}C&4&&(C=d.updateQueue,C!==null&&(k=C.retryQueue,k!==null&&(C.retryQueue=null,da(d,k))));break;case 19:ua(m,d),Bs(d),C&4&&(C=d.updateQueue,C!==null&&(d.updateQueue=null,da(d,C)));break;case 30:break;case 21:break;default:ua(m,d),Bs(d)}}function Bs(d){var m=d.flags;if(m&2){try{for(var k,C=d.return;C!==null;){if(nk(C)){k=C;break}C=C.return}if(k==null)throw Error(o(160));switch(k.tag){case 27:var M=k.stateNode,P=$p(d);Gh(d,P,M);break;case 5:var J=k.stateNode;k.flags&32&&(Er(J,""),k.flags&=-33);var ce=$p(d);Gh(d,ce,J);break;case 3:case 4:var Ae=k.stateNode.containerInfo,Xe=$p(d);pf(d,Xe,Ae);break;default:throw Error(o(161))}}catch(gt){Qi(d,d.return,gt)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function Ri(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var m=d;Ri(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),d=d.sibling}}function bs(d,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)Qh(d,m.alternate,m),m=m.sibling}function hi(d){for(d=d.child;d!==null;){var m=d;switch(m.tag){case 0:case 11:case 14:case 15:Qc(4,m,m.return),hi(m);break;case 1:ol(m,m.return);var k=m.stateNode;typeof k.componentWillUnmount=="function"&&tk(m,m.return,k),hi(m);break;case 27:im(m.stateNode);case 26:case 5:ol(m,m.return),hi(m);break;case 22:m.memoizedState===null&&hi(m);break;case 30:hi(m);break;default:hi(m)}d=d.sibling}}function oo(d,m,k){for(k=k&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var C=m.alternate,M=d,P=m,J=P.flags;switch(P.tag){case 0:case 11:case 15:oo(M,P,k),Wh(4,P);break;case 1:if(oo(M,P,k),C=P,M=C.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(Xe){Qi(C,C.return,Xe)}if(C=P,M=C.updateQueue,M!==null){var ce=C.stateNode;try{var Ae=M.shared.hiddenCallbacks;if(Ae!==null)for(M.shared.hiddenCallbacks=null,M=0;M<Ae.length;M++)St(Ae[M],ce)}catch(Xe){Qi(C,C.return,Xe)}}k&&J&64&&Hp(P),Yh(P,P.return);break;case 27:Kh(P);case 26:case 5:oo(M,P,k),k&&C===null&&J&4&&ff(P),Yh(P,P.return);break;case 12:oo(M,P,k);break;case 13:oo(M,P,k),k&&J&4&&ok(M,P);break;case 22:P.memoizedState===null&&oo(M,P,k),Yh(P,P.return);break;case 30:break;default:oo(M,P,k)}m=m.sibling}}function cc(d,m){var k=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(k=d.memoizedState.cachePool.pool),d=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(d=m.memoizedState.cachePool.pool),d!==k&&(d!=null&&d.refCount++,k!=null&&fr(k))}function At(d,m){d=null,m.alternate!==null&&(d=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==d&&(m.refCount++,d!=null&&fr(d))}function Uo(d,m,k,C){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)qp(d,m,k,C),m=m.sibling}function qp(d,m,k,C){var M=m.flags;switch(m.tag){case 0:case 11:case 15:Uo(d,m,k,C),M&2048&&Wh(9,m);break;case 1:Uo(d,m,k,C);break;case 3:Uo(d,m,k,C),M&2048&&(d=null,m.alternate!==null&&(d=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==d&&(m.refCount++,d!=null&&fr(d)));break;case 12:if(M&2048){Uo(d,m,k,C),d=m.stateNode;try{var P=m.memoizedProps,J=P.id,ce=P.onPostCommit;typeof ce=="function"&&ce(J,m.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(Ae){Qi(m,m.return,Ae)}}else Uo(d,m,k,C);break;case 13:Uo(d,m,k,C);break;case 23:break;case 22:P=m.stateNode,J=m.alternate,m.memoizedState!==null?P._visibility&2?Uo(d,m,k,C):Wu(d,m):P._visibility&2?Uo(d,m,k,C):(P._visibility|=2,Gd(d,m,k,C,(m.subtreeFlags&10256)!==0)),M&2048&&cc(J,m);break;case 24:Uo(d,m,k,C),M&2048&&At(m.alternate,m);break;default:Uo(d,m,k,C)}}function Gd(d,m,k,C,M){for(M=M&&(m.subtreeFlags&10256)!==0,m=m.child;m!==null;){var P=d,J=m,ce=k,Ae=C,Xe=J.flags;switch(J.tag){case 0:case 11:case 15:Gd(P,J,ce,Ae,M),Wh(8,J);break;case 23:break;case 22:var gt=J.stateNode;J.memoizedState!==null?gt._visibility&2?Gd(P,J,ce,Ae,M):Wu(P,J):(gt._visibility|=2,Gd(P,J,ce,Ae,M)),M&&Xe&2048&&cc(J.alternate,J);break;case 24:Gd(P,J,ce,Ae,M),M&&Xe&2048&&At(J.alternate,J);break;default:Gd(P,J,ce,Ae,M)}m=m.sibling}}function Wu(d,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var k=d,C=m,M=C.flags;switch(C.tag){case 22:Wu(k,C),M&2048&&cc(C.alternate,C);break;case 24:Wu(k,C),M&2048&&At(C.alternate,C);break;default:Wu(k,C)}m=m.sibling}}var Kd=8192;function et(d){if(d.subtreeFlags&Kd)for(d=d.child;d!==null;)Wp(d),d=d.sibling}function Wp(d){switch(d.tag){case 26:et(d),d.flags&Kd&&d.memoizedState!==null&&qk(gs,d.memoizedState,d.memoizedProps);break;case 5:et(d);break;case 3:case 4:var m=gs;gs=Df(d.stateNode.containerInfo),et(d),gs=m;break;case 22:d.memoizedState===null&&(m=d.alternate,m!==null&&m.memoizedState!==null?(m=Kd,Kd=16777216,et(d),Kd=m):et(d));break;default:et(d)}}function ak(d){var m=d.alternate;if(m!==null&&(d=m.child,d!==null)){m.child=null;do m=d.sibling,d.sibling=null,d=m;while(d!==null)}}function Xc(d){var m=d.deletions;if((d.flags&16)!==0){if(m!==null)for(var k=0;k<m.length;k++){var C=m[k];is=C,ck(C,d)}ak(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)lk(d),d=d.sibling}function lk(d){switch(d.tag){case 0:case 11:case 15:Xc(d),d.flags&2048&&Qc(9,d,d.return);break;case 3:Xc(d);break;case 12:Xc(d);break;case 22:var m=d.stateNode;d.memoizedState!==null&&m._visibility&2&&(d.return===null||d.return.tag!==13)?(m._visibility&=-3,gf(d)):Xc(d);break;default:Xc(d)}}function gf(d){var m=d.deletions;if((d.flags&16)!==0){if(m!==null)for(var k=0;k<m.length;k++){var C=m[k];is=C,ck(C,d)}ak(d)}for(d=d.child;d!==null;){switch(m=d,m.tag){case 0:case 11:case 15:Qc(8,m,m.return),gf(m);break;case 22:k=m.stateNode,k._visibility&2&&(k._visibility&=-3,gf(m));break;default:gf(m)}d=d.sibling}}function ck(d,m){for(;is!==null;){var k=is;switch(k.tag){case 0:case 11:case 15:Qc(8,k,m);break;case 23:case 22:if(k.memoizedState!==null&&k.memoizedState.cachePool!==null){var C=k.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:fr(k.memoizedState.cache)}if(C=k.child,C!==null)C.return=k,is=C;else e:for(k=d;is!==null;){C=is;var M=C.sibling,P=C.return;if(rk(C),C===k){is=null;break e}if(M!==null){M.return=P,is=M;break e}is=P}}}var dk={getCacheForType:function(d){var m=vr(Wn),k=m.data.get(d);return k===void 0&&(k=d(),m.data.set(d,k)),k}},Dw=typeof WeakMap=="function"?WeakMap:Map,Pi=0,Ki=null,Zn=null,mi=0,Ii=0,ha=null,dc=!1,ks=!1,bf=!1,uc=0,br=0,jl=0,Qd=0,Yp=0,dr=0,Yu=0,Zh=null,Rs=null,ma=!1,Gp=0,Jc=1/0,Xh=null,ed=null,_s=0,td=null,Gu=null,Ku=0,kf=0,_f=null,Qu=null,Zu=0,vf=null;function xo(){if((Pi&2)!==0&&mi!==0)return mi&-mi;if(oe.T!==null){var d=Ts;return d!==0?d:Nf()}return Ge()}function Kp(){dr===0&&(dr=(mi&536870912)===0||kn?ui():536870912);var d=ca.current;return d!==null&&(d.flags|=32),dr}function $o(d,m,k){(d===Ki&&(Ii===2||Ii===9)||d.cancelPendingCommit!==null)&&(Xu(d,0),hc(d,mi,dr,!1)),ir(d,k),((Pi&2)===0||d!==Ki)&&(d===Ki&&((Pi&2)===0&&(Qd|=k),br===4&&hc(d,mi,dr,!1)),Dl(d))}function Qp(d,m,k){if((Pi&6)!==0)throw Error(o(327));var C=!k&&(m&124)===0&&(m&d.expiredLanes)===0||ei(d,m),M=C?Mw(d,m):Jp(d,m,!0),P=C;do{if(M===0){ks&&!C&&hc(d,m,0,!1);break}else{if(k=d.current.alternate,P&&!Tw(k)){M=Jp(d,m,!1),P=!1;continue}if(M===2){if(P=m,d.errorRecoveryDisabledLanes&P)var J=0;else J=d.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){m=J;e:{var ce=d;M=Zh;var Ae=ce.current.memoizedState.isDehydrated;if(Ae&&(Xu(ce,J).flags|=256),J=Jp(ce,J,!1),J!==2){if(bf&&!Ae){ce.errorRecoveryDisabledLanes|=P,Qd|=P,M=4;break e}P=Rs,Rs=M,P!==null&&(Rs===null?Rs=P:Rs.push.apply(Rs,P))}M=J}if(P=!1,M!==2)continue}}if(M===1){Xu(d,0),hc(d,m,0,!0);break}e:{switch(C=d,P=M,P){case 0:case 1:throw Error(o(345));case 4:if((m&4194048)!==m)break;case 6:hc(C,m,dr,!dc);break e;case 2:Rs=null;break;case 3:case 5:break;default:throw Error(o(329))}if((m&62914560)===m&&(M=Gp+300-Rt(),10<M)){if(hc(C,m,dr,!dc),ri(C,0,!0)!==0)break e;C.timeoutHandle=eu(uk.bind(null,C,k,Rs,Xh,ma,m,dr,Qd,Yu,dc,P,2,-0,0),M);break e}uk(C,k,Rs,Xh,ma,m,dr,Qd,Yu,dc,P,0,-0,0)}}break}while(!0);Dl(d)}function uk(d,m,k,C,M,P,J,ce,Ae,Xe,gt,vt,nt,rt){if(d.timeoutHandle=-1,vt=m.subtreeFlags,(vt&8192||(vt&16785408)===16785408)&&(am={stylesheets:null,count:0,unsuspend:$k},Wp(m),vt=wg(),vt!==null)){d.cancelPendingCommit=vt(gk.bind(null,d,m,P,k,C,M,J,ce,Ae,gt,1,nt,rt)),hc(d,P,J,!Xe);return}gk(d,m,P,k,C,M,J,ce,Ae)}function Tw(d){for(var m=d;;){var k=m.tag;if((k===0||k===11||k===15)&&m.flags&16384&&(k=m.updateQueue,k!==null&&(k=k.stores,k!==null)))for(var C=0;C<k.length;C++){var M=k[C],P=M.getSnapshot;M=M.value;try{if(!ps(P(),M))return!1}catch{return!1}}if(k=m.child,m.subtreeFlags&16384&&k!==null)k.return=m,m=k;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function hc(d,m,k,C){m&=~Yp,m&=~Qd,d.suspendedLanes|=m,d.pingedLanes&=~m,C&&(d.warmLanes|=m),C=d.expirationTimes;for(var M=m;0<M;){var P=31-Pn(M),J=1<<P;C[P]=-1,M&=~J}k!==0&&Gt(d,k,m)}function Jh(){return(Pi&6)===0?(eh(0),!1):!0}function wf(){if(Zn!==null){if(Ii===0)var d=Zn.return;else d=Zn,ia=Ro=null,ec(d),ic=null,zh=0,d=Zn;for(;d!==null;)ek(d.alternate,d),d=d.return;Zn=null}}function Xu(d,m){var k=d.timeoutHandle;k!==-1&&(d.timeoutHandle=-1,Fs(k)),k=d.cancelPendingCommit,k!==null&&(d.cancelPendingCommit=null,k()),wf(),Ki=d,Zn=k=js(d.current,null),mi=m,Ii=0,ha=null,dc=!1,ks=ei(d,m),bf=!1,Yu=dr=Yp=Qd=jl=br=0,Rs=Zh=null,ma=!1,(m&8)!==0&&(m|=m&32);var C=d.entangledLanes;if(C!==0)for(d=d.entanglements,C&=m;0<C;){var M=31-Pn(C),P=1<<M;m|=d[M],C&=~P}return uc=m,bl(),k}function hk(d,m){Zt=null,oe.H=tf,m===tl||m===Ou?(m=ue(),Ii=3):m===Fd?(m=ue(),Ii=4):Ii=m===Yb?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,ha=m,Zn===null&&(br=1,Vh(d,fn(m,d.current)))}function mk(){var d=oe.H;return oe.H=tf,d===null?tf:d}function Zp(){var d=oe.A;return oe.A=dk,d}function Xp(){br=4,dc||(mi&4194048)!==mi&&ca.current!==null||(ks=!0),(jl&134217727)===0&&(Qd&134217727)===0||Ki===null||hc(Ki,mi,dr,!1)}function Jp(d,m,k){var C=Pi;Pi|=2;var M=mk(),P=Zp();(Ki!==d||mi!==m)&&(Xh=null,Xu(d,m)),m=!1;var J=br;e:do try{if(Ii!==0&&Zn!==null){var ce=Zn,Ae=ha;switch(Ii){case 8:wf(),J=6;break e;case 3:case 2:case 9:case 6:ca.current===null&&(m=!0);var Xe=Ii;if(Ii=0,ha=null,Zd(d,ce,Ae,Xe),k&&ks){J=0;break e}break;default:Xe=Ii,Ii=0,ha=null,Zd(d,ce,Ae,Xe)}}fk(),J=br;break}catch(gt){hk(d,gt)}while(!0);return m&&d.shellSuspendCounter++,ia=Ro=null,Pi=C,oe.H=M,oe.A=P,Zn===null&&(Ki=null,mi=0,bl()),J}function fk(){for(;Zn!==null;)yf(Zn)}function Mw(d,m){var k=Pi;Pi|=2;var C=mk(),M=Zp();Ki!==d||mi!==m?(Xh=null,Jc=Rt()+500,Xu(d,m)):ks=ei(d,m);e:do try{if(Ii!==0&&Zn!==null){m=Zn;var P=ha;t:switch(Ii){case 1:Ii=0,ha=null,Zd(d,m,P,1);break;case 2:case 9:if(Jl(P)){Ii=0,ha=null,xf(m);break}m=function(){Ii!==2&&Ii!==9||Ki!==d||(Ii=7),Dl(d)},P.then(m,m);break e;case 3:Ii=7;break e;case 4:Ii=5;break e;case 7:Jl(P)?(Ii=0,ha=null,xf(m)):(Ii=0,ha=null,Zd(d,m,P,7));break;case 5:var J=null;switch(Zn.tag){case 26:J=Zn.memoizedState;case 5:case 27:var ce=Zn;if(!J||vg(J)){Ii=0,ha=null;var Ae=ce.sibling;if(Ae!==null)Zn=Ae;else{var Xe=ce.return;Xe!==null?(Zn=Xe,em(Xe)):Zn=null}break t}}Ii=0,ha=null,Zd(d,m,P,5);break;case 6:Ii=0,ha=null,Zd(d,m,P,6);break;case 8:wf(),br=6;break e;default:throw Error(o(462))}}pk();break}catch(gt){hk(d,gt)}while(!0);return ia=Ro=null,oe.H=C,oe.A=M,Pi=k,Zn!==null?0:(Ki=null,mi=0,bl(),br)}function pk(){for(;Zn!==null&&!ze();)yf(Zn)}function yf(d){var m=Vp(d.alternate,d,uc);d.memoizedProps=d.pendingProps,m===null?em(d):Zn=m}function xf(d){var m=d,k=m.alternate;switch(m.tag){case 15:case 0:m=Bp(k,m,m.pendingProps,m.type,void 0,mi);break;case 11:m=Bp(k,m,m.pendingProps,m.type.render,m.ref,mi);break;case 5:ec(m);default:ek(k,m),m=Zn=Rc(m,uc),m=Vp(k,m,uc)}d.memoizedProps=d.pendingProps,m===null?em(d):Zn=m}function Zd(d,m,k,C){ia=Ro=null,ec(m),ic=null,zh=0;var M=m.return;try{if(Aw(d,M,m,k,mi)){br=1,Vh(d,fn(k,d.current)),Zn=null;return}}catch(P){if(M!==null)throw Zn=M,P;br=1,Vh(d,fn(k,d.current)),Zn=null;return}m.flags&32768?(kn||C===1?d=!0:ks||(mi&536870912)!==0?d=!1:(dc=d=!0,(C===2||C===9||C===3||C===6)&&(C=ca.current,C!==null&&C.tag===13&&(C.flags|=16384))),eg(m,d)):em(m)}function em(d){var m=d;do{if((m.flags&32768)!==0){eg(m,dc);return}d=m.return;var k=Ew(m.alternate,m,uc);if(k!==null){Zn=k;return}if(m=m.sibling,m!==null){Zn=m;return}Zn=m=d}while(m!==null);br===0&&(br=5)}function eg(d,m){do{var k=mf(d.alternate,d);if(k!==null){k.flags&=32767,Zn=k;return}if(k=d.return,k!==null&&(k.flags|=32768,k.subtreeFlags=0,k.deletions=null),!m&&(d=d.sibling,d!==null)){Zn=d;return}Zn=d=k}while(d!==null);br=6,Zn=null}function gk(d,m,k,C,M,P,J,ce,Ae){d.cancelPendingCommit=null;do nd();while(_s!==0);if((Pi&6)!==0)throw Error(o(327));if(m!==null){if(m===d.current)throw Error(o(177));if(P=m.lanes|m.childLanes,P|=Ss,$e(d,k,P,J,ce,Ae),d===Ki&&(Zn=Ki=null,mi=0),Gu=m,td=d,Ku=k,kf=P,_f=M,Qu=C,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,Bw(Dt,function(){return tm(),null})):(d.callbackNode=null,d.callbackPriority=0),C=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||C){C=oe.T,oe.T=null,M=ve.p,ve.p=2,J=Pi,Pi|=4;try{Sw(d,m,k)}finally{Pi=J,ve.p=M,oe.T=C}}_s=1,tg(),ng(),ig()}}function tg(){if(_s===1){_s=0;var d=td,m=Gu,k=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||k){k=oe.T,oe.T=null;var C=ve.p;ve.p=2;var M=Pi;Pi|=4;try{Zc(m,d);var P=mg,J=gl(d.containerInfo),ce=P.focusedElem,Ae=P.selectionRange;if(J!==ce&&ce&&ce.ownerDocument&&Oc(ce.ownerDocument.documentElement,ce)){if(Ae!==null&&Ka(ce)){var Xe=Ae.start,gt=Ae.end;if(gt===void 0&&(gt=Xe),"selectionStart"in ce)ce.selectionStart=Xe,ce.selectionEnd=Math.min(gt,ce.value.length);else{var vt=ce.ownerDocument||document,nt=vt&&vt.defaultView||window;if(nt.getSelection){var rt=nt.getSelection(),In=ce.textContent.length,_n=Math.min(Ae.start,In),Vi=Ae.end===void 0?_n:Math.min(Ae.end,In);!rt.extend&&_n>Vi&&(J=Vi,Vi=_n,_n=J);var He=Ic(ce,_n),Be=Ic(ce,Vi);if(He&&Be&&(rt.rangeCount!==1||rt.anchorNode!==He.node||rt.anchorOffset!==He.offset||rt.focusNode!==Be.node||rt.focusOffset!==Be.offset)){var Ke=vt.createRange();Ke.setStart(He.node,He.offset),rt.removeAllRanges(),_n>Vi?(rt.addRange(Ke),rt.extend(Be.node,Be.offset)):(Ke.setEnd(Be.node,Be.offset),rt.addRange(Ke))}}}}for(vt=[],rt=ce;rt=rt.parentNode;)rt.nodeType===1&&vt.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof ce.focus=="function"&&ce.focus(),ce=0;ce<vt.length;ce++){var _t=vt[ce];_t.element.scrollLeft=_t.left,_t.element.scrollTop=_t.top}}Of=!!ci,mg=ci=null}finally{Pi=M,ve.p=C,oe.T=k}}d.current=m,_s=2}}function ng(){if(_s===2){_s=0;var d=td,m=Gu,k=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||k){k=oe.T,oe.T=null;var C=ve.p;ve.p=2;var M=Pi;Pi|=4;try{Qh(d,m.alternate,m)}finally{Pi=M,ve.p=C,oe.T=k}}_s=3}}function ig(){if(_s===4||_s===3){_s=0,ht();var d=td,m=Gu,k=Ku,C=Qu;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?_s=5:(_s=0,Gu=td=null,bk(d,d.pendingLanes));var M=d.pendingLanes;if(M===0&&(ed=null),$n(k),m=m.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(bt,m,void 0,(m.current.flags&128)===128)}catch{}if(C!==null){m=oe.T,M=ve.p,ve.p=2,oe.T=null;try{for(var P=d.onRecoverableError,J=0;J<C.length;J++){var ce=C[J];P(ce.value,{componentStack:ce.stack})}}finally{oe.T=m,ve.p=M}}(Ku&3)!==0&&nd(),Dl(d),M=d.pendingLanes,(k&4194090)!==0&&(M&42)!==0?d===vf?Zu++:(Zu=0,vf=d):Zu=0,eh(0)}}function bk(d,m){(d.pooledCacheLanes&=m)===0&&(m=d.pooledCache,m!=null&&(d.pooledCache=null,fr(m)))}function nd(d){return tg(),ng(),ig(),tm()}function tm(){if(_s!==5)return!1;var d=td,m=kf;kf=0;var k=$n(Ku),C=oe.T,M=ve.p;try{ve.p=32>k?32:k,oe.T=null,k=_f,_f=null;var P=td,J=Ku;if(_s=0,Gu=td=null,Ku=0,(Pi&6)!==0)throw Error(o(331));var ce=Pi;if(Pi|=4,lk(P.current),qp(P,P.current,J,k),Pi=ce,eh(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(bt,P)}catch{}return!0}finally{ve.p=M,oe.T=C,bk(d,m)}}function kk(d,m,k){m=fn(k,m),m=Ip(d.stateNode,m,2),d=$t(d,m,2),d!==null&&(ir(d,2),Dl(d))}function Qi(d,m,k){if(d.tag===3)kk(d,d,k);else for(;m!==null;){if(m.tag===3){kk(m,d,k);break}else if(m.tag===1){var C=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(ed===null||!ed.has(C))){d=fn(k,d),k=Op(2),C=$t(m,k,2),C!==null&&(Wb(k,C,m,d),ir(C,2),Dl(C));break}}m=m.return}}function mc(d,m,k){var C=d.pingCache;if(C===null){C=d.pingCache=new Dw;var M=new Set;C.set(m,M)}else M=C.get(m),M===void 0&&(M=new Set,C.set(m,M));M.has(k)||(bf=!0,M.add(k),d=Iw.bind(null,d,m,k),m.then(d,d))}function Iw(d,m,k){var C=d.pingCache;C!==null&&C.delete(m),d.pingedLanes|=d.suspendedLanes&k,d.warmLanes&=~k,Ki===d&&(mi&k)===k&&(br===4||br===3&&(mi&62914560)===mi&&300>Rt()-Gp?(Pi&2)===0&&Xu(d,0):Yp|=k,Yu===mi&&(Yu=0)),Dl(d)}function _k(d,m){m===0&&(m=nr()),d=Xr(d,m),d!==null&&(ir(d,m),Dl(d))}function Ow(d){var m=d.memoizedState,k=0;m!==null&&(k=m.retryLane),_k(d,k)}function Lw(d,m){var k=0;switch(d.tag){case 13:var C=d.stateNode,M=d.memoizedState;M!==null&&(k=M.retryLane);break;case 19:C=d.stateNode;break;case 22:C=d.stateNode._retryCache;break;default:throw Error(o(314))}C!==null&&C.delete(m),_k(d,k)}function Bw(d,m){return Oe(d,m)}var Cf=null,Ju=null,rg=!1,Af=!1,fc=!1,Xd=0;function Dl(d){d!==Ju&&d.next===null&&(Ju===null?Cf=Ju=d:Ju=Ju.next=d),Af=!0,rg||(rg=!0,Pw())}function eh(d,m){if(!fc&&Af){fc=!0;do for(var k=!1,C=Cf;C!==null;){if(d!==0){var M=C.pendingLanes;if(M===0)var P=0;else{var J=C.suspendedLanes,ce=C.pingedLanes;P=(1<<31-Pn(42|d)+1)-1,P&=M&~(J&~ce),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(k=!0,yk(C,P))}else P=mi,P=ri(C,C===Ki?P:0,C.cancelPendingCommit!==null||C.timeoutHandle!==-1),(P&3)===0||ei(C,P)||(k=!0,yk(C,P));C=C.next}while(k);fc=!1}}function Rw(){vk()}function vk(){Af=rg=!1;var d=0;Xd!==0&&(jk()&&(d=Xd),Xd=0);for(var m=Rt(),k=null,C=Cf;C!==null;){var M=C.next,P=wk(C,m);P===0?(C.next=null,k===null?Cf=M:k.next=M,M===null&&(Ju=k)):(k=C,(d!==0||(P&3)!==0)&&(Af=!0)),C=M}eh(d)}function wk(d,m){for(var k=d.suspendedLanes,C=d.pingedLanes,M=d.expirationTimes,P=d.pendingLanes&-62914561;0<P;){var J=31-Pn(P),ce=1<<J,Ae=M[J];Ae===-1?((ce&k)===0||(ce&C)!==0)&&(M[J]=Us(ce,m)):Ae<=m&&(d.expiredLanes|=ce),P&=~ce}if(m=Ki,k=mi,k=ri(d,d===m?k:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),C=d.callbackNode,k===0||d===m&&(Ii===2||Ii===9)||d.cancelPendingCommit!==null)return C!==null&&C!==null&&ut(C),d.callbackNode=null,d.callbackPriority=0;if((k&3)===0||ei(d,k)){if(m=k&-k,m===d.callbackPriority)return m;switch(C!==null&&ut(C),$n(k)){case 2:case 8:k=jt;break;case 32:k=Dt;break;case 268435456:k=It;break;default:k=Dt}return C=sg.bind(null,d),k=Oe(k,C),d.callbackPriority=m,d.callbackNode=k,m}return C!==null&&C!==null&&ut(C),d.callbackPriority=2,d.callbackNode=null,2}function sg(d,m){if(_s!==0&&_s!==5)return d.callbackNode=null,d.callbackPriority=0,null;var k=d.callbackNode;if(nd()&&d.callbackNode!==k)return null;var C=mi;return C=ri(d,d===Ki?C:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),C===0?null:(Qp(d,C,m),wk(d,Rt()),d.callbackNode!=null&&d.callbackNode===k?sg.bind(null,d):null)}function yk(d,m){if(nd())return null;Qp(d,m,!0)}function Pw(){Fw(function(){(Pi&6)!==0?Oe(at,Rw):vk()})}function Nf(){return Xd===0&&(Xd=ui()),Xd}function xk(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:en(""+d)}function Ck(d,m){var k=m.ownerDocument.createElement("input");return k.name=m.name,k.value=m.value,d.id&&k.setAttribute("form",d.id),m.parentNode.insertBefore(k,m),d=new FormData(d),k.parentNode.removeChild(k),d}function zw(d,m,k,C,M){if(m==="submit"&&k&&k.stateNode===M){var P=xk((M[xn]||null).action),J=C.submitter;J&&(m=(m=J[xn]||null)?xk(m.formAction):J.getAttribute("formAction"),m!==null&&(P=m,J=null));var ce=new Jo("action","action",null,C,M);d.push({event:ce,listeners:[{instance:null,listener:function(){if(C.defaultPrevented){if(Xd!==0){var Ae=J?Ck(M,J):new FormData(M);Bt(k,{pending:!0,data:Ae,method:M.method,action:P},null,Ae)}}else typeof P=="function"&&(ce.preventDefault(),Ae=J?Ck(M,J):new FormData(M),Bt(k,{pending:!0,data:Ae,method:M.method,action:P},P,Ae))},currentTarget:M}]})}}for(var og=0;og<Lo.length;og++){var ag=Lo[og],lg=ag.toLowerCase(),Ak=ag[0].toUpperCase()+ag.slice(1);eo(lg,"on"+Ak)}eo(Zr,"onAnimationEnd"),eo(rr,"onAnimationIteration"),eo(Xa,"onAnimationStart"),eo("dblclick","onDoubleClick"),eo("focusin","onFocus"),eo("focusout","onBlur"),eo(Js,"onTransitionRun"),eo(Kl,"onTransitionStart"),eo(Bd,"onTransitionCancel"),eo(Ql,"onTransitionEnd"),Wr("onMouseEnter",["mouseout","mouseover"]),Wr("onMouseLeave",["mouseout","mouseover"]),Wr("onPointerEnter",["pointerout","pointerover"]),Wr("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ps));function dg(d,m){m=(m&4)!==0;for(var k=0;k<d.length;k++){var C=d[k],M=C.event;C=C.listeners;e:{var P=void 0;if(m)for(var J=C.length-1;0<=J;J--){var ce=C[J],Ae=ce.instance,Xe=ce.currentTarget;if(ce=ce.listener,Ae!==P&&M.isPropagationStopped())break e;P=ce,M.currentTarget=Xe;try{P(M)}catch(gt){so(gt)}M.currentTarget=null,P=Ae}else for(J=0;J<C.length;J++){if(ce=C[J],Ae=ce.instance,Xe=ce.currentTarget,ce=ce.listener,Ae!==P&&M.isPropagationStopped())break e;P=ce,M.currentTarget=Xe;try{P(M)}catch(gt){so(gt)}M.currentTarget=null,P=Ae}}}}function Un(d,m){var k=m[bn];k===void 0&&(k=m[bn]=new Set);var C=d+"__bubble";k.has(C)||(ug(m,d,2,!1),k.add(C))}function Ef(d,m,k){var C=0;m&&(C|=4),ug(k,d,C,m)}var id="_reactListening"+Math.random().toString(36).slice(2);function Jd(d){if(!d[id]){d[id]=!0,lr.forEach(function(k){k!=="selectionchange"&&(cg.has(k)||Ef(k,!1,d),Ef(k,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[id]||(m[id]=!0,Ef("selectionchange",!1,m))}}function ug(d,m,k,C){switch(Qk(m)){case 2:var M=xg;break;case 8:M=gc;break;default:M=Cg}k=M.bind(null,m,k,d),M=void 0,!mo||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(M=!0),C?M!==void 0?d.addEventListener(m,k,{capture:!0,passive:M}):d.addEventListener(m,k,!0):M!==void 0?d.addEventListener(m,k,{passive:M}):d.addEventListener(m,k,!1)}function fi(d,m,k,C,M){var P=C;if((m&1)===0&&(m&2)===0&&C!==null)e:for(;;){if(C===null)return;var J=C.tag;if(J===3||J===4){var ce=C.stateNode.containerInfo;if(ce===M)break;if(J===4)for(J=C.return;J!==null;){var Ae=J.tag;if((Ae===3||Ae===4)&&J.stateNode.containerInfo===M)return;J=J.return}for(;ce!==null;){if(J=Mt(ce),J===null)return;if(Ae=J.tag,Ae===5||Ae===6||Ae===26||Ae===27){C=P=J;continue e}ce=ce.parentNode}}C=C.return}$i(function(){var Xe=P,gt=_i(k),vt=[];e:{var nt=Wi.get(d);if(nt!==void 0){var rt=Jo,In=d;switch(d){case"keypress":if(Tn(k)===0)break e;case"keydown":case"keyup":rt=Nd;break;case"focusin":In="focus",rt=Ha;break;case"focusout":In="blur",rt=Ha;break;case"beforeblur":case"afterblur":rt=Ha;break;case"click":if(k.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=As;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=Nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=ju;break;case Zr:case rr:case Xa:rt=Eu;break;case Ql:rt=Ah;break;case"scroll":case"scrollend":rt=xd;break;case"wheel":rt=Dd;break;case"copy":case"cut":case"paste":rt=Ec;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Mo;break;case"toggle":case"beforetoggle":rt=ea}var _n=(m&4)!==0,Vi=!_n&&(d==="scroll"||d==="scrollend"),He=_n?nt!==null?nt+"Capture":null:nt;_n=[];for(var Be=Xe,Ke;Be!==null;){var _t=Be;if(Ke=_t.stateNode,_t=_t.tag,_t!==5&&_t!==26&&_t!==27||Ke===null||He===null||(_t=ti(Be,He),_t!=null&&_n.push(yr(Be,_t,Ke))),Vi)break;Be=Be.return}0<_n.length&&(nt=new rt(nt,In,null,k,gt),vt.push({event:nt,listeners:_n}))}}if((m&7)===0){e:{if(nt=d==="mouseover"||d==="pointerover",rt=d==="mouseout"||d==="pointerout",nt&&k!==Dn&&(In=k.relatedTarget||k.fromElement)&&(Mt(In)||In[Bn]))break e;if((rt||nt)&&(nt=gt.window===gt?gt:(nt=gt.ownerDocument)?nt.defaultView||nt.parentWindow:window,rt?(In=k.relatedTarget||k.toElement,rt=Xe,In=In?Mt(In):null,In!==null&&(Vi=g(In),_n=In.tag,In!==Vi||_n!==5&&_n!==27&&_n!==6)&&(In=null)):(rt=null,In=Xe),rt!==In)){if(_n=As,_t="onMouseLeave",He="onMouseEnter",Be="mouse",(d==="pointerout"||d==="pointerover")&&(_n=Mo,_t="onPointerLeave",He="onPointerEnter",Be="pointer"),Vi=rt==null?nt:mn(rt),Ke=In==null?nt:mn(In),nt=new _n(_t,Be+"leave",rt,k,gt),nt.target=Vi,nt.relatedTarget=Ke,_t=null,Mt(gt)===Xe&&(_n=new _n(He,Be+"enter",In,k,gt),_n.target=Ke,_n.relatedTarget=Vi,_t=_n),Vi=_t,rt&&In)t:{for(_n=rt,He=In,Be=0,Ke=_n;Ke;Ke=Zi(Ke))Be++;for(Ke=0,_t=He;_t;_t=Zi(_t))Ke++;for(;0<Be-Ke;)_n=Zi(_n),Be--;for(;0<Ke-Be;)He=Zi(He),Ke--;for(;Be--;){if(_n===He||He!==null&&_n===He.alternate)break t;_n=Zi(_n),He=Zi(He)}_n=null}else _n=null;rt!==null&&Co(vt,nt,rt,_n,!1),In!==null&&Vi!==null&&Co(vt,Vi,In,_n,!0)}}e:{if(nt=Xe?mn(Xe):window,rt=nt.nodeName&&nt.nodeName.toLowerCase(),rt==="select"||rt==="input"&&nt.type==="file")var sn=fl;else if(Ya(nt))if(Ga)sn=Tu;else{sn=Du;var ni=Mc}else rt=nt.nodeName,!rt||rt.toLowerCase()!=="input"||nt.type!=="checkbox"&&nt.type!=="radio"?Xe&&Ys(Xe.elementType)&&(sn=fl):sn=ko;if(sn&&(sn=sn(d,Xe))){Qs(vt,sn,k,gt);break e}ni&&ni(d,nt,Xe),d==="focusout"&&Xe&&nt.type==="number"&&Xe.memoizedProps.value!=null&&qs(nt,"number",nt.value)}switch(ni=Xe?mn(Xe):window,d){case"focusin":(Ya(ni)||ni.contentEditable==="true")&&(Xs=ni,Qa=Xe,va=null);break;case"focusout":va=Qa=Xs=null;break;case"mousedown":gi=!0;break;case"contextmenu":case"mouseup":case"dragend":gi=!1,Bc(vt,k,gt);break;case"selectionchange":if(Lc)break;case"keydown":case"keyup":Bc(vt,k,gt)}var cn;if($a)e:{switch(d){case"compositionstart":var En="onCompositionStart";break e;case"compositionend":En="onCompositionEnd";break e;case"compositionupdate":En="onCompositionUpdate";break e}En=void 0}else Wa?Gl(d,k)&&(En="onCompositionEnd"):d==="keydown"&&k.keyCode===229&&(En="onCompositionStart");En&&(Wl&&k.locale!=="ko"&&(Wa||En!=="onCompositionStart"?En==="onCompositionEnd"&&Wa&&(cn=Do()):(Kr=gt,fo="value"in Kr?Kr.value:Kr.textContent,Wa=!0)),ni=Ei(Xe,En),0<ni.length&&(En=new Rr(En,d,null,k,gt),vt.push({event:En,listeners:ni}),cn?En.data=cn:(cn=Td(k),cn!==null&&(En.data=cn)))),(cn=Io?Md(d,k):Nh(d,k))&&(En=Ei(Xe,"onBeforeInput"),0<En.length&&(ni=new Rr("onBeforeInput","beforeinput",null,k,gt),vt.push({event:ni,listeners:En}),ni.data=cn)),zw(vt,d,Xe,k,gt)}dg(vt,m)})}function yr(d,m,k){return{instance:d,listener:m,currentTarget:k}}function Ei(d,m){for(var k=m+"Capture",C=[];d!==null;){var M=d,P=M.stateNode;if(M=M.tag,M!==5&&M!==26&&M!==27||P===null||(M=ti(d,k),M!=null&&C.unshift(yr(d,M,P)),M=ti(d,m),M!=null&&C.push(yr(d,M,P))),d.tag===3)return C;d=d.return}return[]}function Zi(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function Co(d,m,k,C,M){for(var P=m._reactName,J=[];k!==null&&k!==C;){var ce=k,Ae=ce.alternate,Xe=ce.stateNode;if(ce=ce.tag,Ae!==null&&Ae===C)break;ce!==5&&ce!==26&&ce!==27||Xe===null||(Ae=Xe,M?(Xe=ti(k,P),Xe!=null&&J.unshift(yr(k,Xe,Ae))):M||(Xe=ti(k,P),Xe!=null&&J.push(yr(k,Xe,Ae)))),k=k.return}J.length!==0&&d.push({event:m,listeners:J})}var Nk=/\r\n?/g,Ir=/\u0000|\uFFFD/g;function Hr(d){return(typeof d=="string"?d:""+d).replace(Nk,`
`).replace(Ir,"")}function Ao(d,m){return m=Hr(m),Hr(d)===m}function ja(){}function oi(d,m,k,C,M,P){switch(k){case"children":typeof C=="string"?m==="body"||m==="textarea"&&C===""||Er(d,C):(typeof C=="number"||typeof C=="bigint")&&m!=="body"&&Er(d,""+C);break;case"className":uo(d,"class",C);break;case"tabIndex":uo(d,"tabindex",C);break;case"dir":case"role":case"viewBox":case"width":case"height":uo(d,k,C);break;case"style":ys(d,C,P);break;case"data":if(m!=="object"){uo(d,"data",C);break}case"src":case"href":if(C===""&&(m!=="a"||k!=="href")){d.removeAttribute(k);break}if(C==null||typeof C=="function"||typeof C=="symbol"||typeof C=="boolean"){d.removeAttribute(k);break}C=en(""+C),d.setAttribute(k,C);break;case"action":case"formAction":if(typeof C=="function"){d.setAttribute(k,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(k==="formAction"?(m!=="input"&&oi(d,m,"name",M.name,M,null),oi(d,m,"formEncType",M.formEncType,M,null),oi(d,m,"formMethod",M.formMethod,M,null),oi(d,m,"formTarget",M.formTarget,M,null)):(oi(d,m,"encType",M.encType,M,null),oi(d,m,"method",M.method,M,null),oi(d,m,"target",M.target,M,null)));if(C==null||typeof C=="symbol"||typeof C=="boolean"){d.removeAttribute(k);break}C=en(""+C),d.setAttribute(k,C);break;case"onClick":C!=null&&(d.onclick=ja);break;case"onScroll":C!=null&&Un("scroll",d);break;case"onScrollEnd":C!=null&&Un("scrollend",d);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(o(61));if(k=C.__html,k!=null){if(M.children!=null)throw Error(o(60));d.innerHTML=k}}break;case"multiple":d.multiple=C&&typeof C!="function"&&typeof C!="symbol";break;case"muted":d.muted=C&&typeof C!="function"&&typeof C!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(C==null||typeof C=="function"||typeof C=="boolean"||typeof C=="symbol"){d.removeAttribute("xlink:href");break}k=en(""+C),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",k);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":C!=null&&typeof C!="function"&&typeof C!="symbol"?d.setAttribute(k,""+C):d.removeAttribute(k);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":C&&typeof C!="function"&&typeof C!="symbol"?d.setAttribute(k,""):d.removeAttribute(k);break;case"capture":case"download":C===!0?d.setAttribute(k,""):C!==!1&&C!=null&&typeof C!="function"&&typeof C!="symbol"?d.setAttribute(k,C):d.removeAttribute(k);break;case"cols":case"rows":case"size":case"span":C!=null&&typeof C!="function"&&typeof C!="symbol"&&!isNaN(C)&&1<=C?d.setAttribute(k,C):d.removeAttribute(k);break;case"rowSpan":case"start":C==null||typeof C=="function"||typeof C=="symbol"||isNaN(C)?d.removeAttribute(k):d.setAttribute(k,C);break;case"popover":Un("beforetoggle",d),Un("toggle",d),ka(d,"popover",C);break;case"xlinkActuate":$s(d,"http://www.w3.org/1999/xlink","xlink:actuate",C);break;case"xlinkArcrole":$s(d,"http://www.w3.org/1999/xlink","xlink:arcrole",C);break;case"xlinkRole":$s(d,"http://www.w3.org/1999/xlink","xlink:role",C);break;case"xlinkShow":$s(d,"http://www.w3.org/1999/xlink","xlink:show",C);break;case"xlinkTitle":$s(d,"http://www.w3.org/1999/xlink","xlink:title",C);break;case"xlinkType":$s(d,"http://www.w3.org/1999/xlink","xlink:type",C);break;case"xmlBase":$s(d,"http://www.w3.org/XML/1998/namespace","xml:base",C);break;case"xmlLang":$s(d,"http://www.w3.org/XML/1998/namespace","xml:lang",C);break;case"xmlSpace":$s(d,"http://www.w3.org/XML/1998/namespace","xml:space",C);break;case"is":ka(d,"is",C);break;case"innerText":case"textContent":break;default:(!(2<k.length)||k[0]!=="o"&&k[0]!=="O"||k[1]!=="n"&&k[1]!=="N")&&(k=ye.get(k)||k,ka(d,k,C))}}function qo(d,m,k,C,M,P){switch(k){case"style":ys(d,C,P);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(o(61));if(k=C.__html,k!=null){if(M.children!=null)throw Error(o(60));d.innerHTML=k}}break;case"children":typeof C=="string"?Er(d,C):(typeof C=="number"||typeof C=="bigint")&&Er(d,""+C);break;case"onScroll":C!=null&&Un("scroll",d);break;case"onScrollEnd":C!=null&&Un("scrollend",d);break;case"onClick":C!=null&&(d.onclick=ja);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gn.hasOwnProperty(k))e:{if(k[0]==="o"&&k[1]==="n"&&(M=k.endsWith("Capture"),m=k.slice(2,M?k.length-7:void 0),P=d[xn]||null,P=P!=null?P[k]:null,typeof P=="function"&&d.removeEventListener(m,P,M),typeof C=="function")){typeof P!="function"&&P!==null&&(k in d?d[k]=null:d.hasAttribute(k)&&d.removeAttribute(k)),d.addEventListener(m,C,M);break e}k in d?d[k]=C:C===!0?d.setAttribute(k,""):ka(d,k,C)}}}function zs(d,m,k){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Un("error",d),Un("load",d);var C=!1,M=!1,P;for(P in k)if(k.hasOwnProperty(P)){var J=k[P];if(J!=null)switch(P){case"src":C=!0;break;case"srcSet":M=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,m));default:oi(d,m,P,J,k,null)}}M&&oi(d,m,"srcSet",k.srcSet,k,null),C&&oi(d,m,"src",k.src,k,null);return;case"input":Un("invalid",d);var ce=P=J=M=null,Ae=null,Xe=null;for(C in k)if(k.hasOwnProperty(C)){var gt=k[C];if(gt!=null)switch(C){case"name":M=gt;break;case"type":J=gt;break;case"checked":Ae=gt;break;case"defaultChecked":Xe=gt;break;case"value":P=gt;break;case"defaultValue":ce=gt;break;case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(o(137,m));break;default:oi(d,m,C,gt,k,null)}}Fa(d,P,ce,Ae,Xe,J,M,!1),Gr(d);return;case"select":Un("invalid",d),C=J=P=null;for(M in k)if(k.hasOwnProperty(M)&&(ce=k[M],ce!=null))switch(M){case"value":P=ce;break;case"defaultValue":J=ce;break;case"multiple":C=ce;default:oi(d,m,M,ce,k,null)}m=P,k=J,d.multiple=!!C,m!=null?Ui(d,!!C,m,!1):k!=null&&Ui(d,!!C,k,!0);return;case"textarea":Un("invalid",d),P=M=C=null;for(J in k)if(k.hasOwnProperty(J)&&(ce=k[J],ce!=null))switch(J){case"value":C=ce;break;case"defaultValue":M=ce;break;case"children":P=ce;break;case"dangerouslySetInnerHTML":if(ce!=null)throw Error(o(91));break;default:oi(d,m,J,ce,k,null)}Br(d,C,M,P),Gr(d);return;case"option":for(Ae in k)if(k.hasOwnProperty(Ae)&&(C=k[Ae],C!=null))switch(Ae){case"selected":d.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:oi(d,m,Ae,C,k,null)}return;case"dialog":Un("beforetoggle",d),Un("toggle",d),Un("cancel",d),Un("close",d);break;case"iframe":case"object":Un("load",d);break;case"video":case"audio":for(C=0;C<Ps.length;C++)Un(Ps[C],d);break;case"image":Un("error",d),Un("load",d);break;case"details":Un("toggle",d);break;case"embed":case"source":case"link":Un("error",d),Un("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Xe in k)if(k.hasOwnProperty(Xe)&&(C=k[Xe],C!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,m));default:oi(d,m,Xe,C,k,null)}return;default:if(Ys(m)){for(gt in k)k.hasOwnProperty(gt)&&(C=k[gt],C!==void 0&&qo(d,m,gt,C,k,void 0));return}}for(ce in k)k.hasOwnProperty(ce)&&(C=k[ce],C!=null&&oi(d,m,ce,C,k,null))}function hg(d,m,k,C){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var M=null,P=null,J=null,ce=null,Ae=null,Xe=null,gt=null;for(rt in k){var vt=k[rt];if(k.hasOwnProperty(rt)&&vt!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":Ae=vt;default:C.hasOwnProperty(rt)||oi(d,m,rt,null,C,vt)}}for(var nt in C){var rt=C[nt];if(vt=k[nt],C.hasOwnProperty(nt)&&(rt!=null||vt!=null))switch(nt){case"type":P=rt;break;case"name":M=rt;break;case"checked":Xe=rt;break;case"defaultChecked":gt=rt;break;case"value":J=rt;break;case"defaultValue":ce=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(o(137,m));break;default:rt!==vt&&oi(d,m,nt,rt,C,vt)}}Ni(d,J,ce,Ae,Xe,gt,P,M);return;case"select":rt=J=ce=nt=null;for(P in k)if(Ae=k[P],k.hasOwnProperty(P)&&Ae!=null)switch(P){case"value":break;case"multiple":rt=Ae;default:C.hasOwnProperty(P)||oi(d,m,P,null,C,Ae)}for(M in C)if(P=C[M],Ae=k[M],C.hasOwnProperty(M)&&(P!=null||Ae!=null))switch(M){case"value":nt=P;break;case"defaultValue":ce=P;break;case"multiple":J=P;default:P!==Ae&&oi(d,m,M,P,C,Ae)}m=ce,k=J,C=rt,nt!=null?Ui(d,!!k,nt,!1):!!C!=!!k&&(m!=null?Ui(d,!!k,m,!0):Ui(d,!!k,k?[]:"",!1));return;case"textarea":rt=nt=null;for(ce in k)if(M=k[ce],k.hasOwnProperty(ce)&&M!=null&&!C.hasOwnProperty(ce))switch(ce){case"value":break;case"children":break;default:oi(d,m,ce,null,C,M)}for(J in C)if(M=C[J],P=k[J],C.hasOwnProperty(J)&&(M!=null||P!=null))switch(J){case"value":nt=M;break;case"defaultValue":rt=M;break;case"children":break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(o(91));break;default:M!==P&&oi(d,m,J,M,C,P)}qn(d,nt,rt);return;case"option":for(var In in k)if(nt=k[In],k.hasOwnProperty(In)&&nt!=null&&!C.hasOwnProperty(In))switch(In){case"selected":d.selected=!1;break;default:oi(d,m,In,null,C,nt)}for(Ae in C)if(nt=C[Ae],rt=k[Ae],C.hasOwnProperty(Ae)&&nt!==rt&&(nt!=null||rt!=null))switch(Ae){case"selected":d.selected=nt&&typeof nt!="function"&&typeof nt!="symbol";break;default:oi(d,m,Ae,nt,C,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _n in k)nt=k[_n],k.hasOwnProperty(_n)&&nt!=null&&!C.hasOwnProperty(_n)&&oi(d,m,_n,null,C,nt);for(Xe in C)if(nt=C[Xe],rt=k[Xe],C.hasOwnProperty(Xe)&&nt!==rt&&(nt!=null||rt!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(o(137,m));break;default:oi(d,m,Xe,nt,C,rt)}return;default:if(Ys(m)){for(var Vi in k)nt=k[Vi],k.hasOwnProperty(Vi)&&nt!==void 0&&!C.hasOwnProperty(Vi)&&qo(d,m,Vi,void 0,C,nt);for(gt in C)nt=C[gt],rt=k[gt],!C.hasOwnProperty(gt)||nt===rt||nt===void 0&&rt===void 0||qo(d,m,gt,nt,C,rt);return}}for(var He in k)nt=k[He],k.hasOwnProperty(He)&&nt!=null&&!C.hasOwnProperty(He)&&oi(d,m,He,null,C,nt);for(vt in C)nt=C[vt],rt=k[vt],!C.hasOwnProperty(vt)||nt===rt||nt==null&&rt==null||oi(d,m,vt,nt,C,rt)}var ci=null,mg=null;function nm(d){return d.nodeType===9?d:d.ownerDocument}function Ek(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sk(d,m){if(d===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&m==="foreignObject"?0:d}function Sf(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var jf=null;function jk(){var d=window.event;return d&&d.type==="popstate"?d===jf?!1:(jf=d,!0):(jf=null,!1)}var eu=typeof setTimeout=="function"?setTimeout:void 0,Fs=typeof clearTimeout=="function"?clearTimeout:void 0,Dk=typeof Promise=="function"?Promise:void 0,Fw=typeof queueMicrotask=="function"?queueMicrotask:typeof Dk<"u"?function(d){return Dk.resolve(null).then(d).catch(th)}:eu;function th(d){setTimeout(function(){throw d})}function rd(d){return d==="head"}function Tk(d,m){var k=m,C=0,M=0;do{var P=k.nextSibling;if(d.removeChild(k),P&&P.nodeType===8)if(k=P.data,k==="/$"){if(0<C&&8>C){k=C;var J=d.ownerDocument;if(k&1&&im(J.documentElement),k&2&&im(J.body),k&4)for(k=J.head,im(k),J=k.firstChild;J;){var ce=J.nextSibling,Ae=J.nodeName;J[Te]||Ae==="SCRIPT"||Ae==="STYLE"||Ae==="LINK"&&J.rel.toLowerCase()==="stylesheet"||k.removeChild(J),J=ce}}if(M===0){d.removeChild(P),ah(m);return}M--}else k==="$"||k==="$?"||k==="$!"?M++:C=k.charCodeAt(0)-48;else C=0;k=P}while(k);ah(m)}function fg(d){var m=d.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var k=m;switch(m=m.nextSibling,k.nodeName){case"HTML":case"HEAD":case"BODY":fg(k),Et(k);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(k.rel.toLowerCase()==="stylesheet")continue}d.removeChild(k)}}function Mk(d,m,k,C){for(;d.nodeType===1;){var M=k;if(d.nodeName.toLowerCase()!==m.toLowerCase()){if(!C&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(C){if(!d[Te])switch(m){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(P=d.getAttribute("rel"),P==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(P!==M.rel||d.getAttribute("href")!==(M.href==null||M.href===""?null:M.href)||d.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin)||d.getAttribute("title")!==(M.title==null?null:M.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(P=d.getAttribute("src"),(P!==(M.src==null?null:M.src)||d.getAttribute("type")!==(M.type==null?null:M.type)||d.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin))&&P&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(m==="input"&&d.type==="hidden"){var P=M.name==null?null:""+M.name;if(M.type==="hidden"&&d.getAttribute("name")===P)return d}else return d;if(d=Da(d.nextSibling),d===null)break}return null}function Vw(d,m,k){if(m==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!k||(d=Da(d.nextSibling),d===null))return null;return d}function pg(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState==="complete"}function Ik(d,m){var k=d.ownerDocument;if(d.data!=="$?"||k.readyState==="complete")m();else{var C=function(){m(),k.removeEventListener("DOMContentLoaded",C)};k.addEventListener("DOMContentLoaded",C),d._reactRetry=C}}function Da(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?"||m==="F!"||m==="F")break;if(m==="/$")return null}}return d}var gg=null;function bg(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var k=d.data;if(k==="$"||k==="$!"||k==="$?"){if(m===0)return d;m--}else k==="/$"&&m++}d=d.previousSibling}return null}function Ok(d,m,k){switch(m=nm(k),d){case"html":if(d=m.documentElement,!d)throw Error(o(452));return d;case"head":if(d=m.head,!d)throw Error(o(453));return d;case"body":if(d=m.body,!d)throw Error(o(454));return d;default:throw Error(o(451))}}function im(d){for(var m=d.attributes;m.length;)d.removeAttributeNode(m[0]);Et(d)}var Ta=new Map,rm=new Set;function Df(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var pc=ve.d;ve.d={f:Hw,r:Lk,D:Rk,C:Pk,L:zk,m:Fk,X:Vk,S:Uw,M:$w};function Hw(){var d=pc.f(),m=Jh();return d||m}function Lk(d){var m=vn(d);m!==null&&m.tag===5&&m.type==="form"?Rh(m):pc.r(d)}var nh=typeof document>"u"?null:document;function Bk(d,m,k){var C=nh;if(C&&typeof m=="string"&&m){var M=Ti(m);M='link[rel="'+d+'"][href="'+M+'"]',typeof k=="string"&&(M+='[crossorigin="'+k+'"]'),rm.has(M)||(rm.add(M),d={rel:d,crossOrigin:k,href:m},C.querySelector(M)===null&&(m=C.createElement("link"),zs(m,"link",d),on(m),C.head.appendChild(m)))}}function Rk(d){pc.D(d),Bk("dns-prefetch",d,null)}function Pk(d,m){pc.C(d,m),Bk("preconnect",d,m)}function zk(d,m,k){pc.L(d,m,k);var C=nh;if(C&&d&&m){var M='link[rel="preload"][as="'+Ti(m)+'"]';m==="image"&&k&&k.imageSrcSet?(M+='[imagesrcset="'+Ti(k.imageSrcSet)+'"]',typeof k.imageSizes=="string"&&(M+='[imagesizes="'+Ti(k.imageSizes)+'"]')):M+='[href="'+Ti(d)+'"]';var P=M;switch(m){case"style":P=ih(d);break;case"script":P=tu(d)}Ta.has(P)||(d=S({rel:"preload",href:m==="image"&&k&&k.imageSrcSet?void 0:d,as:m},k),Ta.set(P,d),C.querySelector(M)!==null||m==="style"&&C.querySelector(rh(P))||m==="script"&&C.querySelector(sm(P))||(m=C.createElement("link"),zs(m,"link",d),on(m),C.head.appendChild(m)))}}function Fk(d,m){pc.m(d,m);var k=nh;if(k&&d){var C=m&&typeof m.as=="string"?m.as:"script",M='link[rel="modulepreload"][as="'+Ti(C)+'"][href="'+Ti(d)+'"]',P=M;switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=tu(d)}if(!Ta.has(P)&&(d=S({rel:"modulepreload",href:d},m),Ta.set(P,d),k.querySelector(M)===null)){switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(k.querySelector(sm(P)))return}C=k.createElement("link"),zs(C,"link",d),on(C),k.head.appendChild(C)}}}function Uw(d,m,k){pc.S(d,m,k);var C=nh;if(C&&d){var M=Rn(C).hoistableStyles,P=ih(d);m=m||"default";var J=M.get(P);if(!J){var ce={loading:0,preload:null};if(J=C.querySelector(rh(P)))ce.loading=5;else{d=S({rel:"stylesheet",href:d,"data-precedence":m},k),(k=Ta.get(P))&&al(d,k);var Ae=J=C.createElement("link");on(Ae),zs(Ae,"link",d),Ae._p=new Promise(function(Xe,gt){Ae.onload=Xe,Ae.onerror=gt}),Ae.addEventListener("load",function(){ce.loading|=1}),Ae.addEventListener("error",function(){ce.loading|=2}),ce.loading|=4,Tf(J,m,C)}J={type:"stylesheet",instance:J,count:1,state:ce},M.set(P,J)}}}function Vk(d,m){pc.X(d,m);var k=nh;if(k&&d){var C=Rn(k).hoistableScripts,M=tu(d),P=C.get(M);P||(P=k.querySelector(sm(M)),P||(d=S({src:d,async:!0},m),(m=Ta.get(M))&&kg(d,m),P=k.createElement("script"),on(P),zs(P,"link",d),k.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},C.set(M,P))}}function $w(d,m){pc.M(d,m);var k=nh;if(k&&d){var C=Rn(k).hoistableScripts,M=tu(d),P=C.get(M);P||(P=k.querySelector(sm(M)),P||(d=S({src:d,async:!0,type:"module"},m),(m=Ta.get(M))&&kg(d,m),P=k.createElement("script"),on(P),zs(P,"link",d),k.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},C.set(M,P))}}function Hk(d,m,k,C){var M=(M=fe.current)?Df(M):null;if(!M)throw Error(o(446));switch(d){case"meta":case"title":return null;case"style":return typeof k.precedence=="string"&&typeof k.href=="string"?(m=ih(k.href),k=Rn(M).hoistableStyles,C=k.get(m),C||(C={type:"style",instance:null,count:0,state:null},k.set(m,C)),C):{type:"void",instance:null,count:0,state:null};case"link":if(k.rel==="stylesheet"&&typeof k.href=="string"&&typeof k.precedence=="string"){d=ih(k.href);var P=Rn(M).hoistableStyles,J=P.get(d);if(J||(M=M.ownerDocument||M,J={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(d,J),(P=M.querySelector(rh(d)))&&!P._p&&(J.instance=P,J.state.loading=5),Ta.has(d)||(k={rel:"preload",as:"style",href:k.href,crossOrigin:k.crossOrigin,integrity:k.integrity,media:k.media,hrefLang:k.hrefLang,referrerPolicy:k.referrerPolicy},Ta.set(d,k),P||qw(M,d,k,J.state))),m&&C===null)throw Error(o(528,""));return J}if(m&&C!==null)throw Error(o(529,""));return null;case"script":return m=k.async,k=k.src,typeof k=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=tu(k),k=Rn(M).hoistableScripts,C=k.get(m),C||(C={type:"script",instance:null,count:0,state:null},k.set(m,C)),C):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,d))}}function ih(d){return'href="'+Ti(d)+'"'}function rh(d){return'link[rel="stylesheet"]['+d+"]"}function Uk(d){return S({},d,{"data-precedence":d.precedence,precedence:null})}function qw(d,m,k,C){d.querySelector('link[rel="preload"][as="style"]['+m+"]")?C.loading=1:(m=d.createElement("link"),C.preload=m,m.addEventListener("load",function(){return C.loading|=1}),m.addEventListener("error",function(){return C.loading|=2}),zs(m,"link",k),on(m),d.head.appendChild(m))}function tu(d){return'[src="'+Ti(d)+'"]'}function sm(d){return"script[async]"+d}function nu(d,m,k){if(m.count++,m.instance===null)switch(m.type){case"style":var C=d.querySelector('style[data-href~="'+Ti(k.href)+'"]');if(C)return m.instance=C,on(C),C;var M=S({},k,{"data-href":k.href,"data-precedence":k.precedence,href:null,precedence:null});return C=(d.ownerDocument||d).createElement("style"),on(C),zs(C,"style",M),Tf(C,k.precedence,d),m.instance=C;case"stylesheet":M=ih(k.href);var P=d.querySelector(rh(M));if(P)return m.state.loading|=4,m.instance=P,on(P),P;C=Uk(k),(M=Ta.get(M))&&al(C,M),P=(d.ownerDocument||d).createElement("link"),on(P);var J=P;return J._p=new Promise(function(ce,Ae){J.onload=ce,J.onerror=Ae}),zs(P,"link",C),m.state.loading|=4,Tf(P,k.precedence,d),m.instance=P;case"script":return P=tu(k.src),(M=d.querySelector(sm(P)))?(m.instance=M,on(M),M):(C=k,(M=Ta.get(P))&&(C=S({},k),kg(C,M)),d=d.ownerDocument||d,M=d.createElement("script"),on(M),zs(M,"link",C),d.head.appendChild(M),m.instance=M);case"void":return null;default:throw Error(o(443,m.type))}else m.type==="stylesheet"&&(m.state.loading&4)===0&&(C=m.instance,m.state.loading|=4,Tf(C,k.precedence,d));return m.instance}function Tf(d,m,k){for(var C=k.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),M=C.length?C[C.length-1]:null,P=M,J=0;J<C.length;J++){var ce=C[J];if(ce.dataset.precedence===m)P=ce;else if(P!==M)break}P?P.parentNode.insertBefore(d,P.nextSibling):(m=k.nodeType===9?k.head:k,m.insertBefore(d,m.firstChild))}function al(d,m){d.crossOrigin==null&&(d.crossOrigin=m.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=m.referrerPolicy),d.title==null&&(d.title=m.title)}function kg(d,m){d.crossOrigin==null&&(d.crossOrigin=m.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=m.referrerPolicy),d.integrity==null&&(d.integrity=m.integrity)}var om=null;function _g(d,m,k){if(om===null){var C=new Map,M=om=new Map;M.set(k,C)}else M=om,C=M.get(k),C||(C=new Map,M.set(k,C));if(C.has(d))return C;for(C.set(d,null),k=k.getElementsByTagName(d),M=0;M<k.length;M++){var P=k[M];if(!(P[Te]||P[rn]||d==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var J=P.getAttribute(m)||"";J=d+J;var ce=C.get(J);ce?ce.push(P):C.set(J,[P])}}return C}function sh(d,m,k){d=d.ownerDocument||d,d.head.insertBefore(k,m==="title"?d.querySelector("head > title"):null)}function Ww(d,m,k){if(k===1||m.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;switch(m.rel){case"stylesheet":return d=m.disabled,typeof m.precedence=="string"&&d==null;default:return!0}case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function vg(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}var am=null;function $k(){}function qk(d,m,k){if(am===null)throw Error(o(475));var C=am;if(m.type==="stylesheet"&&(typeof k.media!="string"||matchMedia(k.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var M=ih(k.href),P=d.querySelector(rh(M));if(P){d=P._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(C.count++,C=lm.bind(C),d.then(C,C)),m.state.loading|=4,m.instance=P,on(P);return}P=d.ownerDocument||d,k=Uk(k),(M=Ta.get(M))&&al(k,M),P=P.createElement("link"),on(P);var J=P;J._p=new Promise(function(ce,Ae){J.onload=ce,J.onerror=Ae}),zs(P,"link",k),m.instance=P}C.stylesheets===null&&(C.stylesheets=new Map),C.stylesheets.set(m,d),(d=m.state.preload)&&(m.state.loading&3)===0&&(C.count++,m=lm.bind(C),d.addEventListener("load",m),d.addEventListener("error",m))}}function wg(){if(am===null)throw Error(o(475));var d=am;return d.stylesheets&&d.count===0&&Mf(d,d.stylesheets),0<d.count?function(m){var k=setTimeout(function(){if(d.stylesheets&&Mf(d,d.stylesheets),d.unsuspend){var C=d.unsuspend;d.unsuspend=null,C()}},6e4);return d.unsuspend=m,function(){d.unsuspend=null,clearTimeout(k)}}:null}function lm(){if(this.count--,this.count===0){if(this.stylesheets)Mf(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var cm=null;function Mf(d,m){d.stylesheets=null,d.unsuspend!==null&&(d.count++,cm=new Map,m.forEach(Yw,d),cm=null,lm.call(d))}function Yw(d,m){if(!(m.state.loading&4)){var k=cm.get(d);if(k)var C=k.get(null);else{k=new Map,cm.set(d,k);for(var M=d.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<M.length;P++){var J=M[P];(J.nodeName==="LINK"||J.getAttribute("media")!=="not all")&&(k.set(J.dataset.precedence,J),C=J)}C&&k.set(null,C)}M=m.instance,J=M.getAttribute("data-precedence"),P=k.get(J)||C,P===C&&k.set(null,M),k.set(J,M),this.count++,C=lm.bind(this),M.addEventListener("load",C),M.addEventListener("error",C),P?P.parentNode.insertBefore(M,P.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(M,d.firstChild)),m.state.loading|=4}}var dm={$$typeof:ee,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function Gw(d,m,k,C,M,P,J,ce){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.hiddenUpdates=kr(null),this.identifierPrefix=C,this.onUncaughtError=M,this.onCaughtError=P,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ce,this.incompleteTransitions=new Map}function Wk(d,m,k,C,M,P,J,ce,Ae,Xe,gt,vt){return d=new Gw(d,m,k,J,ce,Ae,Xe,vt),m=1,P===!0&&(m|=24),P=ur(3,null,null,m),d.current=P,P.stateNode=d,m=mr(),m.refCount++,d.pooledCache=m,m.refCount++,P.memoizedState={element:C,isDehydrated:k,cache:m},ot(P),d}function Yk(d){return d?(d=xa,d):xa}function Gk(d,m,k,C,M,P){M=Yk(M),C.context===null?C.context=M:C.pendingContext=M,C=Ot(m),C.payload={element:k},P=P===void 0?null:P,P!==null&&(C.callback=P),k=$t(d,C,m),k!==null&&($o(k,d,m),Yt(k,d,m))}function Kk(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var k=d.retryLane;d.retryLane=k!==0&&k<m?k:m}}function yg(d,m){Kk(d,m),(d=d.alternate)&&Kk(d,m)}function If(d){if(d.tag===13){var m=Xr(d,67108864);m!==null&&$o(m,d,67108864),yg(d,67108864)}}var Of=!0;function xg(d,m,k,C){var M=oe.T;oe.T=null;var P=ve.p;try{ve.p=2,Cg(d,m,k,C)}finally{ve.p=P,oe.T=M}}function gc(d,m,k,C){var M=oe.T;oe.T=null;var P=ve.p;try{ve.p=8,Cg(d,m,k,C)}finally{ve.p=P,oe.T=M}}function Cg(d,m,k,C){if(Of){var M=Ag(C);if(M===null)fi(d,m,C,um,k),Xk(d,C);else if(Jk(M,d,m,k,C))C.stopPropagation();else if(Xk(d,C),m&4&&-1<Zk.indexOf(d)){for(;M!==null;){var P=vn(M);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var J=Oi(P.pendingLanes);if(J!==0){var ce=P;for(ce.pendingLanes|=2,ce.entangledLanes|=2;J;){var Ae=1<<31-Pn(J);ce.entanglements[1]|=Ae,J&=~Ae}Dl(P),(Pi&6)===0&&(Jc=Rt()+500,eh(0))}}break;case 13:ce=Xr(P,2),ce!==null&&$o(ce,P,2),Jh(),yg(P,2)}if(P=Ag(C),P===null&&fi(d,m,C,um,k),P===M)break;M=P}M!==null&&C.stopPropagation()}else fi(d,m,C,null,k)}}function Ag(d){return d=_i(d),Ng(d)}var um=null;function Ng(d){if(um=null,d=Mt(d),d!==null){var m=g(d);if(m===null)d=null;else{var k=m.tag;if(k===13){if(d=_(m),d!==null)return d;d=null}else if(k===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null)}}return um=d,null}function Qk(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xt()){case at:return 2;case jt:return 8;case Dt:case Qe:return 32;case It:return 268435456;default:return 32}default:return 32}}var Lf=!1,Tl=null,bc=null,sd=null,oh=new Map,hm=new Map,od=[],Zk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xk(d,m){switch(d){case"focusin":case"focusout":Tl=null;break;case"dragenter":case"dragleave":bc=null;break;case"mouseover":case"mouseout":sd=null;break;case"pointerover":case"pointerout":oh.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":hm.delete(m.pointerId)}}function iu(d,m,k,C,M,P){return d===null||d.nativeEvent!==P?(d={blockedOn:m,domEventName:k,eventSystemFlags:C,nativeEvent:P,targetContainers:[M]},m!==null&&(m=vn(m),m!==null&&If(m)),d):(d.eventSystemFlags|=C,m=d.targetContainers,M!==null&&m.indexOf(M)===-1&&m.push(M),d)}function Jk(d,m,k,C,M){switch(m){case"focusin":return Tl=iu(Tl,d,m,k,C,M),!0;case"dragenter":return bc=iu(bc,d,m,k,C,M),!0;case"mouseover":return sd=iu(sd,d,m,k,C,M),!0;case"pointerover":var P=M.pointerId;return oh.set(P,iu(oh.get(P)||null,d,m,k,C,M)),!0;case"gotpointercapture":return P=M.pointerId,hm.set(P,iu(hm.get(P)||null,d,m,k,C,M)),!0}return!1}function Mn(d){var m=Mt(d.target);if(m!==null){var k=g(m);if(k!==null){if(m=k.tag,m===13){if(m=_(k),m!==null){d.blockedOn=m,Tt(d.priority,function(){if(k.tag===13){var C=xo();C=dn(C);var M=Xr(k,C);M!==null&&$o(M,k,C),yg(k,C)}});return}}else if(m===3&&k.stateNode.current.memoizedState.isDehydrated){d.blockedOn=k.tag===3?k.stateNode.containerInfo:null;return}}}d.blockedOn=null}function mm(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var k=Ag(d.nativeEvent);if(k===null){k=d.nativeEvent;var C=new k.constructor(k.type,k);Dn=C,k.target.dispatchEvent(C),Dn=null}else return m=vn(k),m!==null&&If(m),d.blockedOn=k,!1;m.shift()}return!0}function e_(d,m,k){mm(d)&&k.delete(m)}function Bf(){Lf=!1,Tl!==null&&mm(Tl)&&(Tl=null),bc!==null&&mm(bc)&&(bc=null),sd!==null&&mm(sd)&&(sd=null),oh.forEach(e_),hm.forEach(e_)}function Rf(d,m){d.blockedOn===m&&(d.blockedOn=null,Lf||(Lf=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Bf)))}var Pf=null;function Eg(d){Pf!==d&&(Pf=d,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Pf===d&&(Pf=null);for(var m=0;m<d.length;m+=3){var k=d[m],C=d[m+1],M=d[m+2];if(typeof C!="function"){if(Ng(C||k)===null)continue;break}var P=vn(k);P!==null&&(d.splice(m,3),m-=3,Bt(P,{pending:!0,data:M,method:k.method,action:C},C,M))}}))}function ah(d){function m(Ae){return Rf(Ae,d)}Tl!==null&&Rf(Tl,d),bc!==null&&Rf(bc,d),sd!==null&&Rf(sd,d),oh.forEach(m),hm.forEach(m);for(var k=0;k<od.length;k++){var C=od[k];C.blockedOn===d&&(C.blockedOn=null)}for(;0<od.length&&(k=od[0],k.blockedOn===null);)Mn(k),k.blockedOn===null&&od.shift();if(k=(d.ownerDocument||d).$$reactFormReplay,k!=null)for(C=0;C<k.length;C+=3){var M=k[C],P=k[C+1],J=M[xn]||null;if(typeof P=="function")J||Eg(k);else if(J){var ce=null;if(P&&P.hasAttribute("formAction")){if(M=P,J=P[xn]||null)ce=J.formAction;else if(Ng(M)!==null)continue}else ce=J.action;typeof ce=="function"?k[C+1]=ce:(k.splice(C,3),C-=3),Eg(k)}}}function Sg(d){this._internalRoot=d}zf.prototype.render=Sg.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(o(409));var k=m.current,C=xo();Gk(k,C,d,m,null,null)},zf.prototype.unmount=Sg.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;Gk(d.current,2,null,d,null,null),Jh(),m[Bn]=null}};function zf(d){this._internalRoot=d}zf.prototype.unstable_scheduleHydration=function(d){if(d){var m=Ge();d={blockedOn:null,target:d,priority:m};for(var k=0;k<od.length&&m!==0&&m<od[k].priority;k++);od.splice(k,0,d),k===0&&Mn(d)}};var t_=c.version;if(t_!=="19.1.0")throw Error(o(527,t_,"19.1.0"));ve.findDOMNode=function(d){var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=v(m),d=d!==null?N(d):null,d=d===null?null:d.stateNode,d};var n_={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:oe,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ff.isDisabled&&Ff.supportsFiber)try{bt=Ff.inject(n_),Ut=Ff}catch{}}return Wg.createRoot=function(d,m){if(!h(d))throw Error(o(299));var k=!1,C="",M=Yd,P=Mp,J=$b,ce=null;return m!=null&&(m.unstable_strictMode===!0&&(k=!0),m.identifierPrefix!==void 0&&(C=m.identifierPrefix),m.onUncaughtError!==void 0&&(M=m.onUncaughtError),m.onCaughtError!==void 0&&(P=m.onCaughtError),m.onRecoverableError!==void 0&&(J=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(ce=m.unstable_transitionCallbacks)),m=Wk(d,1,!1,null,null,k,C,M,P,J,ce,null),d[Bn]=m.current,Jd(d),new Sg(m)},Wg.hydrateRoot=function(d,m,k){if(!h(d))throw Error(o(299));var C=!1,M="",P=Yd,J=Mp,ce=$b,Ae=null,Xe=null;return k!=null&&(k.unstable_strictMode===!0&&(C=!0),k.identifierPrefix!==void 0&&(M=k.identifierPrefix),k.onUncaughtError!==void 0&&(P=k.onUncaughtError),k.onCaughtError!==void 0&&(J=k.onCaughtError),k.onRecoverableError!==void 0&&(ce=k.onRecoverableError),k.unstable_transitionCallbacks!==void 0&&(Ae=k.unstable_transitionCallbacks),k.formState!==void 0&&(Xe=k.formState)),m=Wk(d,1,!0,m,k??null,C,M,P,J,ce,Ae,Xe),m.context=Yk(null),k=m.current,C=xo(),C=dn(C),M=Ot(C),M.callback=null,$t(k,M,C),k=C,m.current.lanes=k,ir(m,k),Dl(m),d[Bn]=m.current,Jd(d),new zf(m)},Wg.version="19.1.0",Wg}var S2;function r7(){if(S2)return e0.exports;S2=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(c){console.error(c)}}return l(),e0.exports=i7(),e0.exports}var s7=r7(),Yg={},j2;function o7(){if(j2)return Yg;j2=1,Object.defineProperty(Yg,"__esModule",{value:!0}),Yg.parse=_,Yg.serialize=N;const l=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,c=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,h=Object.prototype.toString,g=(()=>{const j=function(){};return j.prototype=Object.create(null),j})();function _(j,B){const F=new g,H=j.length;if(H<2)return F;const $=(B==null?void 0:B.decode)||S;let K=0;do{const Q=j.indexOf("=",K);if(Q===-1)break;const ee=j.indexOf(";",K),ne=ee===-1?H:ee;if(Q>ne){K=j.lastIndexOf(";",Q-1)+1;continue}const le=y(j,K,Q),se=v(j,Q,le),q=j.slice(le,se);if(F[q]===void 0){let de=y(j,Q+1,ne),re=v(j,ne,de);const be=$(j.slice(de,re));F[q]=be}K=ne+1}while(K<H);return F}function y(j,B,F){do{const H=j.charCodeAt(B);if(H!==32&&H!==9)return B}while(++B<F);return F}function v(j,B,F){for(;B>F;){const H=j.charCodeAt(--B);if(H!==32&&H!==9)return B+1}return F}function N(j,B,F){const H=(F==null?void 0:F.encode)||encodeURIComponent;if(!l.test(j))throw new TypeError(`argument name is invalid: ${j}`);const $=H(B);if(!c.test($))throw new TypeError(`argument val is invalid: ${B}`);let K=j+"="+$;if(!F)return K;if(F.maxAge!==void 0){if(!Number.isInteger(F.maxAge))throw new TypeError(`option maxAge is invalid: ${F.maxAge}`);K+="; Max-Age="+F.maxAge}if(F.domain){if(!s.test(F.domain))throw new TypeError(`option domain is invalid: ${F.domain}`);K+="; Domain="+F.domain}if(F.path){if(!o.test(F.path))throw new TypeError(`option path is invalid: ${F.path}`);K+="; Path="+F.path}if(F.expires){if(!D(F.expires)||!Number.isFinite(F.expires.valueOf()))throw new TypeError(`option expires is invalid: ${F.expires}`);K+="; Expires="+F.expires.toUTCString()}if(F.httpOnly&&(K+="; HttpOnly"),F.secure&&(K+="; Secure"),F.partitioned&&(K+="; Partitioned"),F.priority)switch(typeof F.priority=="string"?F.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${F.priority}`)}if(F.sameSite)switch(typeof F.sameSite=="string"?F.sameSite.toLowerCase():F.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${F.sameSite}`)}return K}function S(j){if(j.indexOf("%")===-1)return j;try{return decodeURIComponent(j)}catch{return j}}function D(j){return h.call(j)==="[object Date]"}return Yg}o7();var D2="popstate";function a7(l={}){function c(h,g){let{pathname:_="/",search:y="",hash:v=""}=Hm(h.location.hash.substring(1));return!_.startsWith("/")&&!_.startsWith(".")&&(_="/"+_),XC("",{pathname:_,search:y,hash:v},g.state&&g.state.usr||null,g.state&&g.state.key||"default")}function s(h,g){let _=h.document.querySelector("base"),y="";if(_&&_.getAttribute("href")){let v=h.location.href,N=v.indexOf("#");y=N===-1?v:v.slice(0,N)}return y+"#"+(typeof g=="string"?g:hb(g))}function o(h,g){dl(h.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(g)})`)}return c7(c,s,o,l)}function Cr(l,c){if(l===!1||l===null||typeof l>"u")throw new Error(c)}function dl(l,c){if(!l){typeof console<"u"&&console.warn(c);try{throw new Error(c)}catch{}}}function l7(){return Math.random().toString(36).substring(2,10)}function T2(l,c){return{usr:l.state,key:l.key,idx:c}}function XC(l,c,s=null,o){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof c=="string"?Hm(c):c,state:s,key:c&&c.key||o||l7()}}function hb({pathname:l="/",search:c="",hash:s=""}){return c&&c!=="?"&&(l+=c.charAt(0)==="?"?c:"?"+c),s&&s!=="#"&&(l+=s.charAt(0)==="#"?s:"#"+s),l}function Hm(l){let c={};if(l){let s=l.indexOf("#");s>=0&&(c.hash=l.substring(s),l=l.substring(0,s));let o=l.indexOf("?");o>=0&&(c.search=l.substring(o),l=l.substring(0,o)),l&&(c.pathname=l)}return c}function c7(l,c,s,o={}){let{window:h=document.defaultView,v5Compat:g=!1}=o,_=h.history,y="POP",v=null,N=S();N==null&&(N=0,_.replaceState({..._.state,idx:N},""));function S(){return(_.state||{idx:null}).idx}function D(){y="POP";let $=S(),K=$==null?null:$-N;N=$,v&&v({action:y,location:H.location,delta:K})}function j($,K){y="PUSH";let Q=XC(H.location,$,K);s&&s(Q,$),N=S()+1;let ee=T2(Q,N),ne=H.createHref(Q);try{_.pushState(ee,"",ne)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;h.location.assign(ne)}g&&v&&v({action:y,location:H.location,delta:1})}function B($,K){y="REPLACE";let Q=XC(H.location,$,K);s&&s(Q,$),N=S();let ee=T2(Q,N),ne=H.createHref(Q);_.replaceState(ee,"",ne),g&&v&&v({action:y,location:H.location,delta:0})}function F($){return d7($)}let H={get action(){return y},get location(){return l(h,_)},listen($){if(v)throw new Error("A history only accepts one active listener");return h.addEventListener(D2,D),v=$,()=>{h.removeEventListener(D2,D),v=null}},createHref($){return c(h,$)},createURL:F,encodeLocation($){let K=F($);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:j,replace:B,go($){return _.go($)}};return H}function d7(l,c=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Cr(s,"No window.location.(origin|href) available to create URL");let o=typeof l=="string"?l:hb(l);return o=o.replace(/ $/,"%20"),!c&&o.startsWith("//")&&(o=s+o),new URL(o,s)}function XO(l,c,s="/"){return u7(l,c,s,!1)}function u7(l,c,s,o){let h=typeof c=="string"?Hm(c):c,g=ku(h.pathname||"/",s);if(g==null)return null;let _=JO(l);h7(_);let y=null;for(let v=0;y==null&&v<_.length;++v){let N=x7(g);y=w7(_[v],N,o)}return y}function JO(l,c=[],s=[],o=""){let h=(g,_,y)=>{let v={relativePath:y===void 0?g.path||"":y,caseSensitive:g.caseSensitive===!0,childrenIndex:_,route:g};v.relativePath.startsWith("/")&&(Cr(v.relativePath.startsWith(o),`Absolute route path "${v.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(o.length));let N=hu([o,v.relativePath]),S=s.concat(v);g.children&&g.children.length>0&&(Cr(g.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${N}".`),JO(g.children,c,S,N)),!(g.path==null&&!g.index)&&c.push({path:N,score:_7(N,g.index),routesMeta:S})};return l.forEach((g,_)=>{var y;if(g.path===""||!((y=g.path)!=null&&y.includes("?")))h(g,_);else for(let v of e5(g.path))h(g,_,v)}),c}function e5(l){let c=l.split("/");if(c.length===0)return[];let[s,...o]=c,h=s.endsWith("?"),g=s.replace(/\?$/,"");if(o.length===0)return h?[g,""]:[g];let _=e5(o.join("/")),y=[];return y.push(..._.map(v=>v===""?g:[g,v].join("/"))),h&&y.push(..._),y.map(v=>l.startsWith("/")&&v===""?"/":v)}function h7(l){l.sort((c,s)=>c.score!==s.score?s.score-c.score:v7(c.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}var m7=/^:[\w-]+$/,f7=3,p7=2,g7=1,b7=10,k7=-2,M2=l=>l==="*";function _7(l,c){let s=l.split("/"),o=s.length;return s.some(M2)&&(o+=k7),c&&(o+=p7),s.filter(h=>!M2(h)).reduce((h,g)=>h+(m7.test(g)?f7:g===""?g7:b7),o)}function v7(l,c){return l.length===c.length&&l.slice(0,-1).every((o,h)=>o===c[h])?l[l.length-1]-c[c.length-1]:0}function w7(l,c,s=!1){let{routesMeta:o}=l,h={},g="/",_=[];for(let y=0;y<o.length;++y){let v=o[y],N=y===o.length-1,S=g==="/"?c:c.slice(g.length)||"/",D=pv({path:v.relativePath,caseSensitive:v.caseSensitive,end:N},S),j=v.route;if(!D&&N&&s&&!o[o.length-1].route.index&&(D=pv({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},S)),!D)return null;Object.assign(h,D.params),_.push({params:h,pathname:hu([g,D.pathname]),pathnameBase:E7(hu([g,D.pathnameBase])),route:j}),D.pathnameBase!=="/"&&(g=hu([g,D.pathnameBase]))}return _}function pv(l,c){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[s,o]=y7(l.path,l.caseSensitive,l.end),h=c.match(s);if(!h)return null;let g=h[0],_=g.replace(/(.)\/+$/,"$1"),y=h.slice(1);return{params:o.reduce((N,{paramName:S,isOptional:D},j)=>{if(S==="*"){let F=y[j]||"";_=g.slice(0,g.length-F.length).replace(/(.)\/+$/,"$1")}const B=y[j];return D&&!B?N[S]=void 0:N[S]=(B||"").replace(/%2F/g,"/"),N},{}),pathname:g,pathnameBase:_,pattern:l}}function y7(l,c=!1,s=!0){dl(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let o=[],h="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(_,y,v)=>(o.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(o.push({paramName:"*"}),h+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?h+="\\/*$":l!==""&&l!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,c?void 0:"i"),o]}function x7(l){try{return l.split("/").map(c=>decodeURIComponent(c).replace(/\//g,"%2F")).join("/")}catch(c){return dl(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${c}).`),l}}function ku(l,c){if(c==="/")return l;if(!l.toLowerCase().startsWith(c.toLowerCase()))return null;let s=c.endsWith("/")?c.length-1:c.length,o=l.charAt(s);return o&&o!=="/"?null:l.slice(s)||"/"}function C7(l,c="/"){let{pathname:s,search:o="",hash:h=""}=typeof l=="string"?Hm(l):l;return{pathname:s?s.startsWith("/")?s:A7(s,c):c,search:S7(o),hash:j7(h)}}function A7(l,c){let s=c.replace(/\/+$/,"").split("/");return l.split("/").forEach(h=>{h===".."?s.length>1&&s.pop():h!=="."&&s.push(h)}),s.length>1?s.join("/"):"/"}function r0(l,c,s,o){return`Cannot include a '${l}' character in a manually specified \`to.${c}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N7(l){return l.filter((c,s)=>s===0||c.route.path&&c.route.path.length>0)}function EA(l){let c=N7(l);return c.map((s,o)=>o===c.length-1?s.pathname:s.pathnameBase)}function SA(l,c,s,o=!1){let h;typeof l=="string"?h=Hm(l):(h={...l},Cr(!h.pathname||!h.pathname.includes("?"),r0("?","pathname","search",h)),Cr(!h.pathname||!h.pathname.includes("#"),r0("#","pathname","hash",h)),Cr(!h.search||!h.search.includes("#"),r0("#","search","hash",h)));let g=l===""||h.pathname==="",_=g?"/":h.pathname,y;if(_==null)y=s;else{let D=c.length-1;if(!o&&_.startsWith("..")){let j=_.split("/");for(;j[0]==="..";)j.shift(),D-=1;h.pathname=j.join("/")}y=D>=0?c[D]:"/"}let v=C7(h,y),N=_&&_!=="/"&&_.endsWith("/"),S=(g||_===".")&&s.endsWith("/");return!v.pathname.endsWith("/")&&(N||S)&&(v.pathname+="/"),v}var hu=l=>l.join("/").replace(/\/\/+/g,"/"),E7=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),S7=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,j7=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function D7(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}var t5=["POST","PUT","PATCH","DELETE"];new Set(t5);var T7=["GET",...t5];new Set(T7);var gp=I.createContext(null);gp.displayName="DataRouter";var Vv=I.createContext(null);Vv.displayName="DataRouterState";var n5=I.createContext({isTransitioning:!1});n5.displayName="ViewTransition";var M7=I.createContext(new Map);M7.displayName="Fetchers";var I7=I.createContext(null);I7.displayName="Await";var yc=I.createContext(null);yc.displayName="Navigation";var xb=I.createContext(null);xb.displayName="Location";var xc=I.createContext({outlet:null,matches:[],isDataRoute:!1});xc.displayName="Route";var jA=I.createContext(null);jA.displayName="RouteError";function O7(l,{relative:c}={}){Cr(bp(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:o}=I.useContext(yc),{hash:h,pathname:g,search:_}=Ab(l,{relative:c}),y=g;return s!=="/"&&(y=g==="/"?s:hu([s,g])),o.createHref({pathname:y,search:_,hash:h})}function bp(){return I.useContext(xb)!=null}function Ul(){return Cr(bp(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(xb).location}var i5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function r5(l){I.useContext(yc).static||I.useLayoutEffect(l)}function ba(){let{isDataRoute:l}=I.useContext(xc);return l?Y7():L7()}function L7(){Cr(bp(),"useNavigate() may be used only in the context of a <Router> component.");let l=I.useContext(gp),{basename:c,navigator:s}=I.useContext(yc),{matches:o}=I.useContext(xc),{pathname:h}=Ul(),g=JSON.stringify(EA(o)),_=I.useRef(!1);return r5(()=>{_.current=!0}),I.useCallback((v,N={})=>{if(dl(_.current,i5),!_.current)return;if(typeof v=="number"){s.go(v);return}let S=SA(v,JSON.parse(g),h,N.relative==="path");l==null&&c!=="/"&&(S.pathname=S.pathname==="/"?c:hu([c,S.pathname])),(N.replace?s.replace:s.push)(S,N.state,N)},[c,s,g,h,l])}I.createContext(null);function Cb(){let{matches:l}=I.useContext(xc),c=l[l.length-1];return c?c.params:{}}function Ab(l,{relative:c}={}){let{matches:s}=I.useContext(xc),{pathname:o}=Ul(),h=JSON.stringify(EA(s));return I.useMemo(()=>SA(l,JSON.parse(h),o,c==="path"),[l,h,o,c])}function B7(l,c){return s5(l,c)}function s5(l,c,s,o){var K;Cr(bp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=I.useContext(yc),{matches:g}=I.useContext(xc),_=g[g.length-1],y=_?_.params:{},v=_?_.pathname:"/",N=_?_.pathnameBase:"/",S=_&&_.route;{let Q=S&&S.path||"";o5(v,!S||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let D=Ul(),j;if(c){let Q=typeof c=="string"?Hm(c):c;Cr(N==="/"||((K=Q.pathname)==null?void 0:K.startsWith(N)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${N}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),j=Q}else j=D;let B=j.pathname||"/",F=B;if(N!=="/"){let Q=N.replace(/^\//,"").split("/");F="/"+B.replace(/^\//,"").split("/").slice(Q.length).join("/")}let H=XO(l,{pathname:F});dl(S||H!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),dl(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=V7(H&&H.map(Q=>Object.assign({},Q,{params:Object.assign({},y,Q.params),pathname:hu([N,h.encodeLocation?h.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?N:hu([N,h.encodeLocation?h.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),g,s,o);return c&&$?I.createElement(xb.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},$):$}function R7(){let l=W7(),c=D7(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),s=l instanceof Error?l.stack:null,o="rgba(200,200,200, 0.5)",h={padding:"0.5rem",backgroundColor:o},g={padding:"2px 4px",backgroundColor:o},_=null;return console.error("Error handled by React Router default ErrorBoundary:",l),_=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:g},"ErrorBoundary")," or"," ",I.createElement("code",{style:g},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},c),s?I.createElement("pre",{style:h},s):null,_)}var P7=I.createElement(R7,null),z7=class extends I.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,c){return c.location!==l.location||c.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:c.error,location:c.location,revalidation:l.revalidation||c.revalidation}}componentDidCatch(l,c){console.error("React Router caught the following error during render",l,c)}render(){return this.state.error!==void 0?I.createElement(xc.Provider,{value:this.props.routeContext},I.createElement(jA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function F7({routeContext:l,match:c,children:s}){let o=I.useContext(gp);return o&&o.static&&o.staticContext&&(c.route.errorElement||c.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=c.route.id),I.createElement(xc.Provider,{value:l},s)}function V7(l,c=[],s=null,o=null){if(l==null){if(!s)return null;if(s.errors)l=s.matches;else if(c.length===0&&!s.initialized&&s.matches.length>0)l=s.matches;else return null}let h=l,g=s==null?void 0:s.errors;if(g!=null){let v=h.findIndex(N=>N.route.id&&(g==null?void 0:g[N.route.id])!==void 0);Cr(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(g).join(",")}`),h=h.slice(0,Math.min(h.length,v+1))}let _=!1,y=-1;if(s)for(let v=0;v<h.length;v++){let N=h[v];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(y=v),N.route.id){let{loaderData:S,errors:D}=s,j=N.route.loader&&!S.hasOwnProperty(N.route.id)&&(!D||D[N.route.id]===void 0);if(N.route.lazy||j){_=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}return h.reduceRight((v,N,S)=>{let D,j=!1,B=null,F=null;s&&(D=g&&N.route.id?g[N.route.id]:void 0,B=N.route.errorElement||P7,_&&(y<0&&S===0?(o5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,F=null):y===S&&(j=!0,F=N.route.hydrateFallbackElement||null)));let H=c.concat(h.slice(0,S+1)),$=()=>{let K;return D?K=B:j?K=F:N.route.Component?K=I.createElement(N.route.Component,null):N.route.element?K=N.route.element:K=v,I.createElement(F7,{match:N,routeContext:{outlet:v,matches:H,isDataRoute:s!=null},children:K})};return s&&(N.route.ErrorBoundary||N.route.errorElement||S===0)?I.createElement(z7,{location:s.location,revalidation:s.revalidation,component:B,error:D,children:$(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):$()},null)}function DA(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H7(l){let c=I.useContext(gp);return Cr(c,DA(l)),c}function U7(l){let c=I.useContext(Vv);return Cr(c,DA(l)),c}function $7(l){let c=I.useContext(xc);return Cr(c,DA(l)),c}function TA(l){let c=$7(l),s=c.matches[c.matches.length-1];return Cr(s.route.id,`${l} can only be used on routes that contain a unique "id"`),s.route.id}function q7(){return TA("useRouteId")}function W7(){var o;let l=I.useContext(jA),c=U7("useRouteError"),s=TA("useRouteError");return l!==void 0?l:(o=c.errors)==null?void 0:o[s]}function Y7(){let{router:l}=H7("useNavigate"),c=TA("useNavigate"),s=I.useRef(!1);return r5(()=>{s.current=!0}),I.useCallback(async(h,g={})=>{dl(s.current,i5),s.current&&(typeof h=="number"?l.navigate(h):await l.navigate(h,{fromRouteId:c,...g}))},[l,c])}var I2={};function o5(l,c,s){!c&&!I2[l]&&(I2[l]=!0,dl(!1,s))}I.memo(G7);function G7({routes:l,future:c,state:s}){return s5(l,void 0,s,c)}function a5({to:l,replace:c,state:s,relative:o}){Cr(bp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:h}=I.useContext(yc);dl(!h,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:g}=I.useContext(xc),{pathname:_}=Ul(),y=ba(),v=SA(l,EA(g),_,o==="path"),N=JSON.stringify(v);return I.useEffect(()=>{y(JSON.parse(N),{replace:c,state:s,relative:o})},[y,N,o,c,s]),null}function Ci(l){Cr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K7({basename:l="/",children:c=null,location:s,navigationType:o="POP",navigator:h,static:g=!1}){Cr(!bp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let _=l.replace(/^\/*/,"/"),y=I.useMemo(()=>({basename:_,navigator:h,static:g,future:{}}),[_,h,g]);typeof s=="string"&&(s=Hm(s));let{pathname:v="/",search:N="",hash:S="",state:D=null,key:j="default"}=s,B=I.useMemo(()=>{let F=ku(v,_);return F==null?null:{location:{pathname:F,search:N,hash:S,state:D,key:j},navigationType:o}},[_,v,N,S,D,j,o]);return dl(B!=null,`<Router basename="${_}"> is not able to match the URL "${v}${N}${S}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:I.createElement(yc.Provider,{value:y},I.createElement(xb.Provider,{children:c,value:B}))}function Q7({children:l,location:c}){return B7(JC(l),c)}function JC(l,c=[]){let s=[];return I.Children.forEach(l,(o,h)=>{if(!I.isValidElement(o))return;let g=[...c,h];if(o.type===I.Fragment){s.push.apply(s,JC(o.props.children,g));return}Cr(o.type===Ci,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Cr(!o.props.index||!o.props.children,"An index route cannot have child routes.");let _={id:o.props.id||g.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(_.children=JC(o.props.children,g)),s.push(_)}),s}var tv="get",nv="application/x-www-form-urlencoded";function Hv(l){return l!=null&&typeof l.tagName=="string"}function Z7(l){return Hv(l)&&l.tagName.toLowerCase()==="button"}function X7(l){return Hv(l)&&l.tagName.toLowerCase()==="form"}function J7(l){return Hv(l)&&l.tagName.toLowerCase()==="input"}function e9(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function t9(l,c){return l.button===0&&(!c||c==="_self")&&!e9(l)}function eA(l=""){return new URLSearchParams(typeof l=="string"||Array.isArray(l)||l instanceof URLSearchParams?l:Object.keys(l).reduce((c,s)=>{let o=l[s];return c.concat(Array.isArray(o)?o.map(h=>[s,h]):[[s,o]])},[]))}function n9(l,c){let s=eA(l);return c&&c.forEach((o,h)=>{s.has(h)||c.getAll(h).forEach(g=>{s.append(h,g)})}),s}var P_=null;function i9(){if(P_===null)try{new FormData(document.createElement("form"),0),P_=!1}catch{P_=!0}return P_}var r9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function s0(l){return l!=null&&!r9.has(l)?(dl(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nv}"`),null):l}function s9(l,c){let s,o,h,g,_;if(X7(l)){let y=l.getAttribute("action");o=y?ku(y,c):null,s=l.getAttribute("method")||tv,h=s0(l.getAttribute("enctype"))||nv,g=new FormData(l)}else if(Z7(l)||J7(l)&&(l.type==="submit"||l.type==="image")){let y=l.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=l.getAttribute("formaction")||y.getAttribute("action");if(o=v?ku(v,c):null,s=l.getAttribute("formmethod")||y.getAttribute("method")||tv,h=s0(l.getAttribute("formenctype"))||s0(y.getAttribute("enctype"))||nv,g=new FormData(y,l),!i9()){let{name:N,type:S,value:D}=l;if(S==="image"){let j=N?`${N}.`:"";g.append(`${j}x`,"0"),g.append(`${j}y`,"0")}else N&&g.append(N,D)}}else{if(Hv(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=tv,o=null,h=nv,_=l}return g&&h==="text/plain"&&(_=g,g=void 0),{action:o,method:s.toLowerCase(),encType:h,formData:g,body:_}}function MA(l,c){if(l===!1||l===null||typeof l>"u")throw new Error(c)}async function o9(l,c){if(l.id in c)return c[l.id];try{let s=await import(l.module);return c[l.id]=s,s}catch(s){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function a9(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function l9(l,c,s){let o=await Promise.all(l.map(async h=>{let g=c.routes[h.route.id];if(g){let _=await o9(g,s);return _.links?_.links():[]}return[]}));return h9(o.flat(1).filter(a9).filter(h=>h.rel==="stylesheet"||h.rel==="preload").map(h=>h.rel==="stylesheet"?{...h,rel:"prefetch",as:"style"}:{...h,rel:"prefetch"}))}function O2(l,c,s,o,h,g){let _=(v,N)=>s[N]?v.route.id!==s[N].route.id:!0,y=(v,N)=>{var S;return s[N].pathname!==v.pathname||((S=s[N].route.path)==null?void 0:S.endsWith("*"))&&s[N].params["*"]!==v.params["*"]};return g==="assets"?c.filter((v,N)=>_(v,N)||y(v,N)):g==="data"?c.filter((v,N)=>{var D;let S=o.routes[v.route.id];if(!S||!S.hasLoader)return!1;if(_(v,N)||y(v,N))return!0;if(v.route.shouldRevalidate){let j=v.route.shouldRevalidate({currentUrl:new URL(h.pathname+h.search+h.hash,window.origin),currentParams:((D=s[0])==null?void 0:D.params)||{},nextUrl:new URL(l,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function c9(l,c,{includeHydrateFallback:s}={}){return d9(l.map(o=>{let h=c.routes[o.route.id];if(!h)return[];let g=[h.module];return h.clientActionModule&&(g=g.concat(h.clientActionModule)),h.clientLoaderModule&&(g=g.concat(h.clientLoaderModule)),s&&h.hydrateFallbackModule&&(g=g.concat(h.hydrateFallbackModule)),h.imports&&(g=g.concat(h.imports)),g}).flat(1))}function d9(l){return[...new Set(l)]}function u9(l){let c={},s=Object.keys(l).sort();for(let o of s)c[o]=l[o];return c}function h9(l,c){let s=new Set;return new Set(c),l.reduce((o,h)=>{let g=JSON.stringify(u9(h));return s.has(g)||(s.add(g),o.push({key:g,link:h})),o},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var m9=new Set([100,101,204,205]);function f9(l,c){let s=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return s.pathname==="/"?s.pathname="_root.data":c&&ku(s.pathname,c)==="/"?s.pathname=`${c.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function l5(){let l=I.useContext(gp);return MA(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function p9(){let l=I.useContext(Vv);return MA(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var IA=I.createContext(void 0);IA.displayName="FrameworkContext";function c5(){let l=I.useContext(IA);return MA(l,"You must render this element inside a <HydratedRouter> element"),l}function g9(l,c){let s=I.useContext(IA),[o,h]=I.useState(!1),[g,_]=I.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:N,onMouseLeave:S,onTouchStart:D}=c,j=I.useRef(null);I.useEffect(()=>{if(l==="render"&&_(!0),l==="viewport"){let H=K=>{K.forEach(Q=>{_(Q.isIntersecting)})},$=new IntersectionObserver(H,{threshold:.5});return j.current&&$.observe(j.current),()=>{$.disconnect()}}},[l]),I.useEffect(()=>{if(o){let H=setTimeout(()=>{_(!0)},100);return()=>{clearTimeout(H)}}},[o]);let B=()=>{h(!0)},F=()=>{h(!1),_(!1)};return s?l!=="intent"?[g,j,{}]:[g,j,{onFocus:Gg(y,B),onBlur:Gg(v,F),onMouseEnter:Gg(N,B),onMouseLeave:Gg(S,F),onTouchStart:Gg(D,B)}]:[!1,j,{}]}function Gg(l,c){return s=>{l&&l(s),s.defaultPrevented||c(s)}}function b9({page:l,...c}){let{router:s}=l5(),o=I.useMemo(()=>XO(s.routes,l,s.basename),[s.routes,l,s.basename]);return o?I.createElement(_9,{page:l,matches:o,...c}):null}function k9(l){let{manifest:c,routeModules:s}=c5(),[o,h]=I.useState([]);return I.useEffect(()=>{let g=!1;return l9(l,c,s).then(_=>{g||h(_)}),()=>{g=!0}},[l,c,s]),o}function _9({page:l,matches:c,...s}){let o=Ul(),{manifest:h,routeModules:g}=c5(),{basename:_}=l5(),{loaderData:y,matches:v}=p9(),N=I.useMemo(()=>O2(l,c,v,h,o,"data"),[l,c,v,h,o]),S=I.useMemo(()=>O2(l,c,v,h,o,"assets"),[l,c,v,h,o]),D=I.useMemo(()=>{if(l===o.pathname+o.search+o.hash)return[];let F=new Set,H=!1;if(c.forEach(K=>{var ee;let Q=h.routes[K.route.id];!Q||!Q.hasLoader||(!N.some(ne=>ne.route.id===K.route.id)&&K.route.id in y&&((ee=g[K.route.id])!=null&&ee.shouldRevalidate)||Q.hasClientLoader?H=!0:F.add(K.route.id))}),F.size===0)return[];let $=f9(l,_);return H&&F.size>0&&$.searchParams.set("_routes",c.filter(K=>F.has(K.route.id)).map(K=>K.route.id).join(",")),[$.pathname+$.search]},[_,y,o,h,N,c,l,g]),j=I.useMemo(()=>c9(S,h),[S,h]),B=k9(S);return I.createElement(I.Fragment,null,D.map(F=>I.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...s})),j.map(F=>I.createElement("link",{key:F,rel:"modulepreload",href:F,...s})),B.map(({key:F,link:H})=>I.createElement("link",{key:F,...H})))}function v9(...l){return c=>{l.forEach(s=>{typeof s=="function"?s(c):s!=null&&(s.current=c)})}}var d5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d5&&(window.__reactRouterVersion="7.6.2")}catch{}function w9({basename:l,children:c,window:s}){let o=I.useRef();o.current==null&&(o.current=a7({window:s,v5Compat:!0}));let h=o.current,[g,_]=I.useState({action:h.action,location:h.location}),y=I.useCallback(v=>{I.startTransition(()=>_(v))},[_]);return I.useLayoutEffect(()=>h.listen(y),[h,y]),I.createElement(K7,{basename:l,children:c,location:g.location,navigationType:g.action,navigator:h})}var u5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jt=I.forwardRef(function({onClick:c,discover:s="render",prefetch:o="none",relative:h,reloadDocument:g,replace:_,state:y,target:v,to:N,preventScrollReset:S,viewTransition:D,...j},B){let{basename:F}=I.useContext(yc),H=typeof N=="string"&&u5.test(N),$,K=!1;if(typeof N=="string"&&H&&($=N,d5))try{let re=new URL(window.location.href),be=N.startsWith("//")?new URL(re.protocol+N):new URL(N),ke=ku(be.pathname,F);be.origin===re.origin&&ke!=null?N=ke+be.search+be.hash:K=!0}catch{dl(!1,`<Link to="${N}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=O7(N,{relative:h}),[ee,ne,le]=g9(o,j),se=A9(N,{replace:_,state:y,target:v,preventScrollReset:S,relative:h,viewTransition:D});function q(re){c&&c(re),re.defaultPrevented||se(re)}let de=I.createElement("a",{...j,...le,href:$||Q,onClick:K||g?c:q,ref:v9(B,ne),target:v,"data-discover":!H&&s==="render"?"true":void 0});return ee&&!H?I.createElement(I.Fragment,null,de,I.createElement(b9,{page:Q})):de});Jt.displayName="Link";var y9=I.forwardRef(function({"aria-current":c="page",caseSensitive:s=!1,className:o="",end:h=!1,style:g,to:_,viewTransition:y,children:v,...N},S){let D=Ab(_,{relative:N.relative}),j=Ul(),B=I.useContext(Vv),{navigator:F,basename:H}=I.useContext(yc),$=B!=null&&D9(D)&&y===!0,K=F.encodeLocation?F.encodeLocation(D).pathname:D.pathname,Q=j.pathname,ee=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;s||(Q=Q.toLowerCase(),ee=ee?ee.toLowerCase():null,K=K.toLowerCase()),ee&&H&&(ee=ku(ee,H)||ee);const ne=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let le=Q===K||!h&&Q.startsWith(K)&&Q.charAt(ne)==="/",se=ee!=null&&(ee===K||!h&&ee.startsWith(K)&&ee.charAt(K.length)==="/"),q={isActive:le,isPending:se,isTransitioning:$},de=le?c:void 0,re;typeof o=="function"?re=o(q):re=[o,le?"active":null,se?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let be=typeof g=="function"?g(q):g;return I.createElement(Jt,{...N,"aria-current":de,className:re,ref:S,style:be,to:_,viewTransition:y},typeof v=="function"?v(q):v)});y9.displayName="NavLink";var x9=I.forwardRef(({discover:l="render",fetcherKey:c,navigate:s,reloadDocument:o,replace:h,state:g,method:_=tv,action:y,onSubmit:v,relative:N,preventScrollReset:S,viewTransition:D,...j},B)=>{let F=S9(),H=j9(y,{relative:N}),$=_.toLowerCase()==="get"?"get":"post",K=typeof y=="string"&&u5.test(y),Q=ee=>{if(v&&v(ee),ee.defaultPrevented)return;ee.preventDefault();let ne=ee.nativeEvent.submitter,le=(ne==null?void 0:ne.getAttribute("formmethod"))||_;F(ne||ee.currentTarget,{fetcherKey:c,method:le,navigate:s,replace:h,state:g,relative:N,preventScrollReset:S,viewTransition:D})};return I.createElement("form",{ref:B,method:$,action:H,onSubmit:o?v:Q,...j,"data-discover":!K&&l==="render"?"true":void 0})});x9.displayName="Form";function C9(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h5(l){let c=I.useContext(gp);return Cr(c,C9(l)),c}function A9(l,{target:c,replace:s,state:o,preventScrollReset:h,relative:g,viewTransition:_}={}){let y=ba(),v=Ul(),N=Ab(l,{relative:g});return I.useCallback(S=>{if(t9(S,c)){S.preventDefault();let D=s!==void 0?s:hb(v)===hb(N);y(l,{replace:D,state:o,preventScrollReset:h,relative:g,viewTransition:_})}},[v,y,N,s,o,c,l,h,g,_])}function m5(l){dl(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let c=I.useRef(eA(l)),s=I.useRef(!1),o=Ul(),h=I.useMemo(()=>n9(o.search,s.current?null:c.current),[o.search]),g=ba(),_=I.useCallback((y,v)=>{const N=eA(typeof y=="function"?y(h):y);s.current=!0,g("?"+N,v)},[g,h]);return[h,_]}var N9=0,E9=()=>`__${String(++N9)}__`;function S9(){let{router:l}=h5("useSubmit"),{basename:c}=I.useContext(yc),s=q7();return I.useCallback(async(o,h={})=>{let{action:g,method:_,encType:y,formData:v,body:N}=s9(o,c);if(h.navigate===!1){let S=h.fetcherKey||E9();await l.fetch(S,s,h.action||g,{preventScrollReset:h.preventScrollReset,formData:v,body:N,formMethod:h.method||_,formEncType:h.encType||y,flushSync:h.flushSync})}else await l.navigate(h.action||g,{preventScrollReset:h.preventScrollReset,formData:v,body:N,formMethod:h.method||_,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:s,flushSync:h.flushSync,viewTransition:h.viewTransition})},[l,c,s])}function j9(l,{relative:c}={}){let{basename:s}=I.useContext(yc),o=I.useContext(xc);Cr(o,"useFormAction must be used inside a RouteContext");let[h]=o.matches.slice(-1),g={...Ab(l||".",{relative:c})},_=Ul();if(l==null){g.search=_.search;let y=new URLSearchParams(g.search),v=y.getAll("index");if(v.some(S=>S==="")){y.delete("index"),v.filter(D=>D).forEach(D=>y.append("index",D));let S=y.toString();g.search=S?`?${S}`:""}}return(!l||l===".")&&h.route.index&&(g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(g.pathname=g.pathname==="/"?s:hu([s,g.pathname])),hb(g)}function D9(l,c={}){let s=I.useContext(n5);Cr(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=h5("useViewTransitionState"),h=Ab(l,{relative:c.relative});if(!s.isTransitioning)return!1;let g=ku(s.currentLocation.pathname,o)||s.currentLocation.pathname,_=ku(s.nextLocation.pathname,o)||s.nextLocation.pathname;return pv(h.pathname,_)!=null||pv(h.pathname,g)!=null}[...m9];var OA=ZO();const Nm=Vm(OA);function f5(l,c){return function(){return l.apply(c,arguments)}}const{toString:T9}=Object.prototype,{getPrototypeOf:LA}=Object,{iterator:Uv,toStringTag:p5}=Symbol,$v=(l=>c=>{const s=T9.call(c);return l[s]||(l[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Cc=l=>(l=l.toLowerCase(),c=>$v(c)===l),qv=l=>c=>typeof c===l,{isArray:kp}=Array,mb=qv("undefined");function M9(l){return l!==null&&!mb(l)&&l.constructor!==null&&!mb(l.constructor)&&Ra(l.constructor.isBuffer)&&l.constructor.isBuffer(l)}const g5=Cc("ArrayBuffer");function I9(l){let c;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?c=ArrayBuffer.isView(l):c=l&&l.buffer&&g5(l.buffer),c}const O9=qv("string"),Ra=qv("function"),b5=qv("number"),Wv=l=>l!==null&&typeof l=="object",L9=l=>l===!0||l===!1,iv=l=>{if($v(l)!=="object")return!1;const c=LA(l);return(c===null||c===Object.prototype||Object.getPrototypeOf(c)===null)&&!(p5 in l)&&!(Uv in l)},B9=Cc("Date"),R9=Cc("File"),P9=Cc("Blob"),z9=Cc("FileList"),F9=l=>Wv(l)&&Ra(l.pipe),V9=l=>{let c;return l&&(typeof FormData=="function"&&l instanceof FormData||Ra(l.append)&&((c=$v(l))==="formdata"||c==="object"&&Ra(l.toString)&&l.toString()==="[object FormData]"))},H9=Cc("URLSearchParams"),[U9,$9,q9,W9]=["ReadableStream","Request","Response","Headers"].map(Cc),Y9=l=>l.trim?l.trim():l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nb(l,c,{allOwnKeys:s=!1}={}){if(l===null||typeof l>"u")return;let o,h;if(typeof l!="object"&&(l=[l]),kp(l))for(o=0,h=l.length;o<h;o++)c.call(null,l[o],o,l);else{const g=s?Object.getOwnPropertyNames(l):Object.keys(l),_=g.length;let y;for(o=0;o<_;o++)y=g[o],c.call(null,l[y],y,l)}}function k5(l,c){c=c.toLowerCase();const s=Object.keys(l);let o=s.length,h;for(;o-- >0;)if(h=s[o],c===h.toLowerCase())return h;return null}const Em=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_5=l=>!mb(l)&&l!==Em;function tA(){const{caseless:l}=_5(this)&&this||{},c={},s=(o,h)=>{const g=l&&k5(c,h)||h;iv(c[g])&&iv(o)?c[g]=tA(c[g],o):iv(o)?c[g]=tA({},o):kp(o)?c[g]=o.slice():c[g]=o};for(let o=0,h=arguments.length;o<h;o++)arguments[o]&&Nb(arguments[o],s);return c}const G9=(l,c,s,{allOwnKeys:o}={})=>(Nb(c,(h,g)=>{s&&Ra(h)?l[g]=f5(h,s):l[g]=h},{allOwnKeys:o}),l),K9=l=>(l.charCodeAt(0)===65279&&(l=l.slice(1)),l),Q9=(l,c,s,o)=>{l.prototype=Object.create(c.prototype,o),l.prototype.constructor=l,Object.defineProperty(l,"super",{value:c.prototype}),s&&Object.assign(l.prototype,s)},Z9=(l,c,s,o)=>{let h,g,_;const y={};if(c=c||{},l==null)return c;do{for(h=Object.getOwnPropertyNames(l),g=h.length;g-- >0;)_=h[g],(!o||o(_,l,c))&&!y[_]&&(c[_]=l[_],y[_]=!0);l=s!==!1&&LA(l)}while(l&&(!s||s(l,c))&&l!==Object.prototype);return c},X9=(l,c,s)=>{l=String(l),(s===void 0||s>l.length)&&(s=l.length),s-=c.length;const o=l.indexOf(c,s);return o!==-1&&o===s},J9=l=>{if(!l)return null;if(kp(l))return l;let c=l.length;if(!b5(c))return null;const s=new Array(c);for(;c-- >0;)s[c]=l[c];return s},eV=(l=>c=>l&&c instanceof l)(typeof Uint8Array<"u"&&LA(Uint8Array)),tV=(l,c)=>{const o=(l&&l[Uv]).call(l);let h;for(;(h=o.next())&&!h.done;){const g=h.value;c.call(l,g[0],g[1])}},nV=(l,c)=>{let s;const o=[];for(;(s=l.exec(c))!==null;)o.push(s);return o},iV=Cc("HTMLFormElement"),rV=l=>l.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,o,h){return o.toUpperCase()+h}),L2=(({hasOwnProperty:l})=>(c,s)=>l.call(c,s))(Object.prototype),sV=Cc("RegExp"),v5=(l,c)=>{const s=Object.getOwnPropertyDescriptors(l),o={};Nb(s,(h,g)=>{let _;(_=c(h,g,l))!==!1&&(o[g]=_||h)}),Object.defineProperties(l,o)},oV=l=>{v5(l,(c,s)=>{if(Ra(l)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const o=l[s];if(Ra(o)){if(c.enumerable=!1,"writable"in c){c.writable=!1;return}c.set||(c.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},aV=(l,c)=>{const s={},o=h=>{h.forEach(g=>{s[g]=!0})};return kp(l)?o(l):o(String(l).split(c)),s},lV=()=>{},cV=(l,c)=>l!=null&&Number.isFinite(l=+l)?l:c;function dV(l){return!!(l&&Ra(l.append)&&l[p5]==="FormData"&&l[Uv])}const uV=l=>{const c=new Array(10),s=(o,h)=>{if(Wv(o)){if(c.indexOf(o)>=0)return;if(!("toJSON"in o)){c[h]=o;const g=kp(o)?[]:{};return Nb(o,(_,y)=>{const v=s(_,h+1);!mb(v)&&(g[y]=v)}),c[h]=void 0,g}}return o};return s(l,0)},hV=Cc("AsyncFunction"),mV=l=>l&&(Wv(l)||Ra(l))&&Ra(l.then)&&Ra(l.catch),w5=((l,c)=>l?setImmediate:c?((s,o)=>(Em.addEventListener("message",({source:h,data:g})=>{h===Em&&g===s&&o.length&&o.shift()()},!1),h=>{o.push(h),Em.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Ra(Em.postMessage)),fV=typeof queueMicrotask<"u"?queueMicrotask.bind(Em):typeof process<"u"&&process.nextTick||w5,pV=l=>l!=null&&Ra(l[Uv]),dt={isArray:kp,isArrayBuffer:g5,isBuffer:M9,isFormData:V9,isArrayBufferView:I9,isString:O9,isNumber:b5,isBoolean:L9,isObject:Wv,isPlainObject:iv,isReadableStream:U9,isRequest:$9,isResponse:q9,isHeaders:W9,isUndefined:mb,isDate:B9,isFile:R9,isBlob:P9,isRegExp:sV,isFunction:Ra,isStream:F9,isURLSearchParams:H9,isTypedArray:eV,isFileList:z9,forEach:Nb,merge:tA,extend:G9,trim:Y9,stripBOM:K9,inherits:Q9,toFlatObject:Z9,kindOf:$v,kindOfTest:Cc,endsWith:X9,toArray:J9,forEachEntry:tV,matchAll:nV,isHTMLForm:iV,hasOwnProperty:L2,hasOwnProp:L2,reduceDescriptors:v5,freezeMethods:oV,toObjectSet:aV,toCamelCase:rV,noop:lV,toFiniteNumber:cV,findKey:k5,global:Em,isContextDefined:_5,isSpecCompliantForm:dV,toJSONObject:uV,isAsyncFn:hV,isThenable:mV,setImmediate:w5,asap:fV,isIterable:pV};function Yn(l,c,s,o,h){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=l,this.name="AxiosError",c&&(this.code=c),s&&(this.config=s),o&&(this.request=o),h&&(this.response=h,this.status=h.status?h.status:null)}dt.inherits(Yn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:dt.toJSONObject(this.config),code:this.code,status:this.status}}});const y5=Yn.prototype,x5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(l=>{x5[l]={value:l}});Object.defineProperties(Yn,x5);Object.defineProperty(y5,"isAxiosError",{value:!0});Yn.from=(l,c,s,o,h,g)=>{const _=Object.create(y5);return dt.toFlatObject(l,_,function(v){return v!==Error.prototype},y=>y!=="isAxiosError"),Yn.call(_,l.message,c,s,o,h),_.cause=l,_.name=l.name,g&&Object.assign(_,g),_};const gV=null;function nA(l){return dt.isPlainObject(l)||dt.isArray(l)}function C5(l){return dt.endsWith(l,"[]")?l.slice(0,-2):l}function B2(l,c,s){return l?l.concat(c).map(function(h,g){return h=C5(h),!s&&g?"["+h+"]":h}).join(s?".":""):c}function bV(l){return dt.isArray(l)&&!l.some(nA)}const kV=dt.toFlatObject(dt,{},null,function(c){return/^is[A-Z]/.test(c)});function Yv(l,c,s){if(!dt.isObject(l))throw new TypeError("target must be an object");c=c||new FormData,s=dt.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(H,$){return!dt.isUndefined($[H])});const o=s.metaTokens,h=s.visitor||S,g=s.dots,_=s.indexes,v=(s.Blob||typeof Blob<"u"&&Blob)&&dt.isSpecCompliantForm(c);if(!dt.isFunction(h))throw new TypeError("visitor must be a function");function N(F){if(F===null)return"";if(dt.isDate(F))return F.toISOString();if(dt.isBoolean(F))return F.toString();if(!v&&dt.isBlob(F))throw new Yn("Blob is not supported. Use a Buffer instead.");return dt.isArrayBuffer(F)||dt.isTypedArray(F)?v&&typeof Blob=="function"?new Blob([F]):Buffer.from(F):F}function S(F,H,$){let K=F;if(F&&!$&&typeof F=="object"){if(dt.endsWith(H,"{}"))H=o?H:H.slice(0,-2),F=JSON.stringify(F);else if(dt.isArray(F)&&bV(F)||(dt.isFileList(F)||dt.endsWith(H,"[]"))&&(K=dt.toArray(F)))return H=C5(H),K.forEach(function(ee,ne){!(dt.isUndefined(ee)||ee===null)&&c.append(_===!0?B2([H],ne,g):_===null?H:H+"[]",N(ee))}),!1}return nA(F)?!0:(c.append(B2($,H,g),N(F)),!1)}const D=[],j=Object.assign(kV,{defaultVisitor:S,convertValue:N,isVisitable:nA});function B(F,H){if(!dt.isUndefined(F)){if(D.indexOf(F)!==-1)throw Error("Circular reference detected in "+H.join("."));D.push(F),dt.forEach(F,function(K,Q){(!(dt.isUndefined(K)||K===null)&&h.call(c,K,dt.isString(Q)?Q.trim():Q,H,j))===!0&&B(K,H?H.concat(Q):[Q])}),D.pop()}}if(!dt.isObject(l))throw new TypeError("data must be an object");return B(l),c}function R2(l){const c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(l).replace(/[!'()~]|%20|%00/g,function(o){return c[o]})}function BA(l,c){this._pairs=[],l&&Yv(l,this,c)}const A5=BA.prototype;A5.append=function(c,s){this._pairs.push([c,s])};A5.toString=function(c){const s=c?function(o){return c.call(this,o,R2)}:R2;return this._pairs.map(function(h){return s(h[0])+"="+s(h[1])},"").join("&")};function _V(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function N5(l,c,s){if(!c)return l;const o=s&&s.encode||_V;dt.isFunction(s)&&(s={serialize:s});const h=s&&s.serialize;let g;if(h?g=h(c,s):g=dt.isURLSearchParams(c)?c.toString():new BA(c,s).toString(o),g){const _=l.indexOf("#");_!==-1&&(l=l.slice(0,_)),l+=(l.indexOf("?")===-1?"?":"&")+g}return l}class P2{constructor(){this.handlers=[]}use(c,s,o){return this.handlers.push({fulfilled:c,rejected:s,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(c){this.handlers[c]&&(this.handlers[c]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(c){dt.forEach(this.handlers,function(o){o!==null&&c(o)})}}const E5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vV=typeof URLSearchParams<"u"?URLSearchParams:BA,wV=typeof FormData<"u"?FormData:null,yV=typeof Blob<"u"?Blob:null,xV={isBrowser:!0,classes:{URLSearchParams:vV,FormData:wV,Blob:yV},protocols:["http","https","file","blob","url","data"]},RA=typeof window<"u"&&typeof document<"u",iA=typeof navigator=="object"&&navigator||void 0,CV=RA&&(!iA||["ReactNative","NativeScript","NS"].indexOf(iA.product)<0),AV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",NV=RA&&window.location.href||"http://localhost",EV=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:RA,hasStandardBrowserEnv:CV,hasStandardBrowserWebWorkerEnv:AV,navigator:iA,origin:NV},Symbol.toStringTag,{value:"Module"})),Go={...EV,...xV};function SV(l,c){return Yv(l,new Go.classes.URLSearchParams,Object.assign({visitor:function(s,o,h,g){return Go.isNode&&dt.isBuffer(s)?(this.append(o,s.toString("base64")),!1):g.defaultVisitor.apply(this,arguments)}},c))}function jV(l){return dt.matchAll(/\w+|\[(\w*)]/g,l).map(c=>c[0]==="[]"?"":c[1]||c[0])}function DV(l){const c={},s=Object.keys(l);let o;const h=s.length;let g;for(o=0;o<h;o++)g=s[o],c[g]=l[g];return c}function S5(l){function c(s,o,h,g){let _=s[g++];if(_==="__proto__")return!0;const y=Number.isFinite(+_),v=g>=s.length;return _=!_&&dt.isArray(h)?h.length:_,v?(dt.hasOwnProp(h,_)?h[_]=[h[_],o]:h[_]=o,!y):((!h[_]||!dt.isObject(h[_]))&&(h[_]=[]),c(s,o,h[_],g)&&dt.isArray(h[_])&&(h[_]=DV(h[_])),!y)}if(dt.isFormData(l)&&dt.isFunction(l.entries)){const s={};return dt.forEachEntry(l,(o,h)=>{c(jV(o),h,s,0)}),s}return null}function TV(l,c,s){if(dt.isString(l))try{return(c||JSON.parse)(l),dt.trim(l)}catch(o){if(o.name!=="SyntaxError")throw o}return(s||JSON.stringify)(l)}const Eb={transitional:E5,adapter:["xhr","http","fetch"],transformRequest:[function(c,s){const o=s.getContentType()||"",h=o.indexOf("application/json")>-1,g=dt.isObject(c);if(g&&dt.isHTMLForm(c)&&(c=new FormData(c)),dt.isFormData(c))return h?JSON.stringify(S5(c)):c;if(dt.isArrayBuffer(c)||dt.isBuffer(c)||dt.isStream(c)||dt.isFile(c)||dt.isBlob(c)||dt.isReadableStream(c))return c;if(dt.isArrayBufferView(c))return c.buffer;if(dt.isURLSearchParams(c))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),c.toString();let y;if(g){if(o.indexOf("application/x-www-form-urlencoded")>-1)return SV(c,this.formSerializer).toString();if((y=dt.isFileList(c))||o.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return Yv(y?{"files[]":c}:c,v&&new v,this.formSerializer)}}return g||h?(s.setContentType("application/json",!1),TV(c)):c}],transformResponse:[function(c){const s=this.transitional||Eb.transitional,o=s&&s.forcedJSONParsing,h=this.responseType==="json";if(dt.isResponse(c)||dt.isReadableStream(c))return c;if(c&&dt.isString(c)&&(o&&!this.responseType||h)){const _=!(s&&s.silentJSONParsing)&&h;try{return JSON.parse(c)}catch(y){if(_)throw y.name==="SyntaxError"?Yn.from(y,Yn.ERR_BAD_RESPONSE,this,null,this.response):y}}return c}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Go.classes.FormData,Blob:Go.classes.Blob},validateStatus:function(c){return c>=200&&c<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};dt.forEach(["delete","get","head","post","put","patch"],l=>{Eb.headers[l]={}});const MV=dt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),IV=l=>{const c={};let s,o,h;return l&&l.split(`
`).forEach(function(_){h=_.indexOf(":"),s=_.substring(0,h).trim().toLowerCase(),o=_.substring(h+1).trim(),!(!s||c[s]&&MV[s])&&(s==="set-cookie"?c[s]?c[s].push(o):c[s]=[o]:c[s]=c[s]?c[s]+", "+o:o)}),c},z2=Symbol("internals");function Kg(l){return l&&String(l).trim().toLowerCase()}function rv(l){return l===!1||l==null?l:dt.isArray(l)?l.map(rv):String(l)}function OV(l){const c=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=s.exec(l);)c[o[1]]=o[2];return c}const LV=l=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(l.trim());function o0(l,c,s,o,h){if(dt.isFunction(o))return o.call(this,c,s);if(h&&(c=s),!!dt.isString(c)){if(dt.isString(o))return c.indexOf(o)!==-1;if(dt.isRegExp(o))return o.test(c)}}function BV(l){return l.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(c,s,o)=>s.toUpperCase()+o)}function RV(l,c){const s=dt.toCamelCase(" "+c);["get","set","has"].forEach(o=>{Object.defineProperty(l,o+s,{value:function(h,g,_){return this[o].call(this,c,h,g,_)},configurable:!0})})}let Pa=class{constructor(c){c&&this.set(c)}set(c,s,o){const h=this;function g(y,v,N){const S=Kg(v);if(!S)throw new Error("header name must be a non-empty string");const D=dt.findKey(h,S);(!D||h[D]===void 0||N===!0||N===void 0&&h[D]!==!1)&&(h[D||v]=rv(y))}const _=(y,v)=>dt.forEach(y,(N,S)=>g(N,S,v));if(dt.isPlainObject(c)||c instanceof this.constructor)_(c,s);else if(dt.isString(c)&&(c=c.trim())&&!LV(c))_(IV(c),s);else if(dt.isObject(c)&&dt.isIterable(c)){let y={},v,N;for(const S of c){if(!dt.isArray(S))throw TypeError("Object iterator must return a key-value pair");y[N=S[0]]=(v=y[N])?dt.isArray(v)?[...v,S[1]]:[v,S[1]]:S[1]}_(y,s)}else c!=null&&g(s,c,o);return this}get(c,s){if(c=Kg(c),c){const o=dt.findKey(this,c);if(o){const h=this[o];if(!s)return h;if(s===!0)return OV(h);if(dt.isFunction(s))return s.call(this,h,o);if(dt.isRegExp(s))return s.exec(h);throw new TypeError("parser must be boolean|regexp|function")}}}has(c,s){if(c=Kg(c),c){const o=dt.findKey(this,c);return!!(o&&this[o]!==void 0&&(!s||o0(this,this[o],o,s)))}return!1}delete(c,s){const o=this;let h=!1;function g(_){if(_=Kg(_),_){const y=dt.findKey(o,_);y&&(!s||o0(o,o[y],y,s))&&(delete o[y],h=!0)}}return dt.isArray(c)?c.forEach(g):g(c),h}clear(c){const s=Object.keys(this);let o=s.length,h=!1;for(;o--;){const g=s[o];(!c||o0(this,this[g],g,c,!0))&&(delete this[g],h=!0)}return h}normalize(c){const s=this,o={};return dt.forEach(this,(h,g)=>{const _=dt.findKey(o,g);if(_){s[_]=rv(h),delete s[g];return}const y=c?BV(g):String(g).trim();y!==g&&delete s[g],s[y]=rv(h),o[y]=!0}),this}concat(...c){return this.constructor.concat(this,...c)}toJSON(c){const s=Object.create(null);return dt.forEach(this,(o,h)=>{o!=null&&o!==!1&&(s[h]=c&&dt.isArray(o)?o.join(", "):o)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([c,s])=>c+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(c){return c instanceof this?c:new this(c)}static concat(c,...s){const o=new this(c);return s.forEach(h=>o.set(h)),o}static accessor(c){const o=(this[z2]=this[z2]={accessors:{}}).accessors,h=this.prototype;function g(_){const y=Kg(_);o[y]||(RV(h,_),o[y]=!0)}return dt.isArray(c)?c.forEach(g):g(c),this}};Pa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);dt.reduceDescriptors(Pa.prototype,({value:l},c)=>{let s=c[0].toUpperCase()+c.slice(1);return{get:()=>l,set(o){this[s]=o}}});dt.freezeMethods(Pa);function a0(l,c){const s=this||Eb,o=c||s,h=Pa.from(o.headers);let g=o.data;return dt.forEach(l,function(y){g=y.call(s,g,h.normalize(),c?c.status:void 0)}),h.normalize(),g}function j5(l){return!!(l&&l.__CANCEL__)}function _p(l,c,s){Yn.call(this,l??"canceled",Yn.ERR_CANCELED,c,s),this.name="CanceledError"}dt.inherits(_p,Yn,{__CANCEL__:!0});function D5(l,c,s){const o=s.config.validateStatus;!s.status||!o||o(s.status)?l(s):c(new Yn("Request failed with status code "+s.status,[Yn.ERR_BAD_REQUEST,Yn.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function PV(l){const c=/^([-+\w]{1,25})(:?\/\/|:)/.exec(l);return c&&c[1]||""}function zV(l,c){l=l||10;const s=new Array(l),o=new Array(l);let h=0,g=0,_;return c=c!==void 0?c:1e3,function(v){const N=Date.now(),S=o[g];_||(_=N),s[h]=v,o[h]=N;let D=g,j=0;for(;D!==h;)j+=s[D++],D=D%l;if(h=(h+1)%l,h===g&&(g=(g+1)%l),N-_<c)return;const B=S&&N-S;return B?Math.round(j*1e3/B):void 0}}function FV(l,c){let s=0,o=1e3/c,h,g;const _=(N,S=Date.now())=>{s=S,h=null,g&&(clearTimeout(g),g=null),l.apply(null,N)};return[(...N)=>{const S=Date.now(),D=S-s;D>=o?_(N,S):(h=N,g||(g=setTimeout(()=>{g=null,_(h)},o-D)))},()=>h&&_(h)]}const gv=(l,c,s=3)=>{let o=0;const h=zV(50,250);return FV(g=>{const _=g.loaded,y=g.lengthComputable?g.total:void 0,v=_-o,N=h(v),S=_<=y;o=_;const D={loaded:_,total:y,progress:y?_/y:void 0,bytes:v,rate:N||void 0,estimated:N&&y&&S?(y-_)/N:void 0,event:g,lengthComputable:y!=null,[c?"download":"upload"]:!0};l(D)},s)},F2=(l,c)=>{const s=l!=null;return[o=>c[0]({lengthComputable:s,total:l,loaded:o}),c[1]]},V2=l=>(...c)=>dt.asap(()=>l(...c)),VV=Go.hasStandardBrowserEnv?((l,c)=>s=>(s=new URL(s,Go.origin),l.protocol===s.protocol&&l.host===s.host&&(c||l.port===s.port)))(new URL(Go.origin),Go.navigator&&/(msie|trident)/i.test(Go.navigator.userAgent)):()=>!0,HV=Go.hasStandardBrowserEnv?{write(l,c,s,o,h,g){const _=[l+"="+encodeURIComponent(c)];dt.isNumber(s)&&_.push("expires="+new Date(s).toGMTString()),dt.isString(o)&&_.push("path="+o),dt.isString(h)&&_.push("domain="+h),g===!0&&_.push("secure"),document.cookie=_.join("; ")},read(l){const c=document.cookie.match(new RegExp("(^|;\\s*)("+l+")=([^;]*)"));return c?decodeURIComponent(c[3]):null},remove(l){this.write(l,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function UV(l){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(l)}function $V(l,c){return c?l.replace(/\/?\/$/,"")+"/"+c.replace(/^\/+/,""):l}function T5(l,c,s){let o=!UV(c);return l&&(o||s==!1)?$V(l,c):c}const H2=l=>l instanceof Pa?{...l}:l;function Rm(l,c){c=c||{};const s={};function o(N,S,D,j){return dt.isPlainObject(N)&&dt.isPlainObject(S)?dt.merge.call({caseless:j},N,S):dt.isPlainObject(S)?dt.merge({},S):dt.isArray(S)?S.slice():S}function h(N,S,D,j){if(dt.isUndefined(S)){if(!dt.isUndefined(N))return o(void 0,N,D,j)}else return o(N,S,D,j)}function g(N,S){if(!dt.isUndefined(S))return o(void 0,S)}function _(N,S){if(dt.isUndefined(S)){if(!dt.isUndefined(N))return o(void 0,N)}else return o(void 0,S)}function y(N,S,D){if(D in c)return o(N,S);if(D in l)return o(void 0,N)}const v={url:g,method:g,data:g,baseURL:_,transformRequest:_,transformResponse:_,paramsSerializer:_,timeout:_,timeoutMessage:_,withCredentials:_,withXSRFToken:_,adapter:_,responseType:_,xsrfCookieName:_,xsrfHeaderName:_,onUploadProgress:_,onDownloadProgress:_,decompress:_,maxContentLength:_,maxBodyLength:_,beforeRedirect:_,transport:_,httpAgent:_,httpsAgent:_,cancelToken:_,socketPath:_,responseEncoding:_,validateStatus:y,headers:(N,S,D)=>h(H2(N),H2(S),D,!0)};return dt.forEach(Object.keys(Object.assign({},l,c)),function(S){const D=v[S]||h,j=D(l[S],c[S],S);dt.isUndefined(j)&&D!==y||(s[S]=j)}),s}const M5=l=>{const c=Rm({},l);let{data:s,withXSRFToken:o,xsrfHeaderName:h,xsrfCookieName:g,headers:_,auth:y}=c;c.headers=_=Pa.from(_),c.url=N5(T5(c.baseURL,c.url,c.allowAbsoluteUrls),l.params,l.paramsSerializer),y&&_.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):"")));let v;if(dt.isFormData(s)){if(Go.hasStandardBrowserEnv||Go.hasStandardBrowserWebWorkerEnv)_.setContentType(void 0);else if((v=_.getContentType())!==!1){const[N,...S]=v?v.split(";").map(D=>D.trim()).filter(Boolean):[];_.setContentType([N||"multipart/form-data",...S].join("; "))}}if(Go.hasStandardBrowserEnv&&(o&&dt.isFunction(o)&&(o=o(c)),o||o!==!1&&VV(c.url))){const N=h&&g&&HV.read(g);N&&_.set(h,N)}return c},qV=typeof XMLHttpRequest<"u",WV=qV&&function(l){return new Promise(function(s,o){const h=M5(l);let g=h.data;const _=Pa.from(h.headers).normalize();let{responseType:y,onUploadProgress:v,onDownloadProgress:N}=h,S,D,j,B,F;function H(){B&&B(),F&&F(),h.cancelToken&&h.cancelToken.unsubscribe(S),h.signal&&h.signal.removeEventListener("abort",S)}let $=new XMLHttpRequest;$.open(h.method.toUpperCase(),h.url,!0),$.timeout=h.timeout;function K(){if(!$)return;const ee=Pa.from("getAllResponseHeaders"in $&&$.getAllResponseHeaders()),le={data:!y||y==="text"||y==="json"?$.responseText:$.response,status:$.status,statusText:$.statusText,headers:ee,config:l,request:$};D5(function(q){s(q),H()},function(q){o(q),H()},le),$=null}"onloadend"in $?$.onloadend=K:$.onreadystatechange=function(){!$||$.readyState!==4||$.status===0&&!($.responseURL&&$.responseURL.indexOf("file:")===0)||setTimeout(K)},$.onabort=function(){$&&(o(new Yn("Request aborted",Yn.ECONNABORTED,l,$)),$=null)},$.onerror=function(){o(new Yn("Network Error",Yn.ERR_NETWORK,l,$)),$=null},$.ontimeout=function(){let ne=h.timeout?"timeout of "+h.timeout+"ms exceeded":"timeout exceeded";const le=h.transitional||E5;h.timeoutErrorMessage&&(ne=h.timeoutErrorMessage),o(new Yn(ne,le.clarifyTimeoutError?Yn.ETIMEDOUT:Yn.ECONNABORTED,l,$)),$=null},g===void 0&&_.setContentType(null),"setRequestHeader"in $&&dt.forEach(_.toJSON(),function(ne,le){$.setRequestHeader(le,ne)}),dt.isUndefined(h.withCredentials)||($.withCredentials=!!h.withCredentials),y&&y!=="json"&&($.responseType=h.responseType),N&&([j,F]=gv(N,!0),$.addEventListener("progress",j)),v&&$.upload&&([D,B]=gv(v),$.upload.addEventListener("progress",D),$.upload.addEventListener("loadend",B)),(h.cancelToken||h.signal)&&(S=ee=>{$&&(o(!ee||ee.type?new _p(null,l,$):ee),$.abort(),$=null)},h.cancelToken&&h.cancelToken.subscribe(S),h.signal&&(h.signal.aborted?S():h.signal.addEventListener("abort",S)));const Q=PV(h.url);if(Q&&Go.protocols.indexOf(Q)===-1){o(new Yn("Unsupported protocol "+Q+":",Yn.ERR_BAD_REQUEST,l));return}$.send(g||null)})},YV=(l,c)=>{const{length:s}=l=l?l.filter(Boolean):[];if(c||s){let o=new AbortController,h;const g=function(N){if(!h){h=!0,y();const S=N instanceof Error?N:this.reason;o.abort(S instanceof Yn?S:new _p(S instanceof Error?S.message:S))}};let _=c&&setTimeout(()=>{_=null,g(new Yn(`timeout ${c} of ms exceeded`,Yn.ETIMEDOUT))},c);const y=()=>{l&&(_&&clearTimeout(_),_=null,l.forEach(N=>{N.unsubscribe?N.unsubscribe(g):N.removeEventListener("abort",g)}),l=null)};l.forEach(N=>N.addEventListener("abort",g));const{signal:v}=o;return v.unsubscribe=()=>dt.asap(y),v}},GV=function*(l,c){let s=l.byteLength;if(s<c){yield l;return}let o=0,h;for(;o<s;)h=o+c,yield l.slice(o,h),o=h},KV=async function*(l,c){for await(const s of QV(l))yield*GV(s,c)},QV=async function*(l){if(l[Symbol.asyncIterator]){yield*l;return}const c=l.getReader();try{for(;;){const{done:s,value:o}=await c.read();if(s)break;yield o}}finally{await c.cancel()}},U2=(l,c,s,o)=>{const h=KV(l,c);let g=0,_,y=v=>{_||(_=!0,o&&o(v))};return new ReadableStream({async pull(v){try{const{done:N,value:S}=await h.next();if(N){y(),v.close();return}let D=S.byteLength;if(s){let j=g+=D;s(j)}v.enqueue(new Uint8Array(S))}catch(N){throw y(N),N}},cancel(v){return y(v),h.return()}},{highWaterMark:2})},Gv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",I5=Gv&&typeof ReadableStream=="function",ZV=Gv&&(typeof TextEncoder=="function"?(l=>c=>l.encode(c))(new TextEncoder):async l=>new Uint8Array(await new Response(l).arrayBuffer())),O5=(l,...c)=>{try{return!!l(...c)}catch{return!1}},XV=I5&&O5(()=>{let l=!1;const c=new Request(Go.origin,{body:new ReadableStream,method:"POST",get duplex(){return l=!0,"half"}}).headers.has("Content-Type");return l&&!c}),$2=64*1024,rA=I5&&O5(()=>dt.isReadableStream(new Response("").body)),bv={stream:rA&&(l=>l.body)};Gv&&(l=>{["text","arrayBuffer","blob","formData","stream"].forEach(c=>{!bv[c]&&(bv[c]=dt.isFunction(l[c])?s=>s[c]():(s,o)=>{throw new Yn(`Response type '${c}' is not supported`,Yn.ERR_NOT_SUPPORT,o)})})})(new Response);const JV=async l=>{if(l==null)return 0;if(dt.isBlob(l))return l.size;if(dt.isSpecCompliantForm(l))return(await new Request(Go.origin,{method:"POST",body:l}).arrayBuffer()).byteLength;if(dt.isArrayBufferView(l)||dt.isArrayBuffer(l))return l.byteLength;if(dt.isURLSearchParams(l)&&(l=l+""),dt.isString(l))return(await ZV(l)).byteLength},eH=async(l,c)=>{const s=dt.toFiniteNumber(l.getContentLength());return s??JV(c)},tH=Gv&&(async l=>{let{url:c,method:s,data:o,signal:h,cancelToken:g,timeout:_,onDownloadProgress:y,onUploadProgress:v,responseType:N,headers:S,withCredentials:D="same-origin",fetchOptions:j}=M5(l);N=N?(N+"").toLowerCase():"text";let B=YV([h,g&&g.toAbortSignal()],_),F;const H=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let $;try{if(v&&XV&&s!=="get"&&s!=="head"&&($=await eH(S,o))!==0){let le=new Request(c,{method:"POST",body:o,duplex:"half"}),se;if(dt.isFormData(o)&&(se=le.headers.get("content-type"))&&S.setContentType(se),le.body){const[q,de]=F2($,gv(V2(v)));o=U2(le.body,$2,q,de)}}dt.isString(D)||(D=D?"include":"omit");const K="credentials"in Request.prototype;F=new Request(c,{...j,signal:B,method:s.toUpperCase(),headers:S.normalize().toJSON(),body:o,duplex:"half",credentials:K?D:void 0});let Q=await fetch(F,j);const ee=rA&&(N==="stream"||N==="response");if(rA&&(y||ee&&H)){const le={};["status","statusText","headers"].forEach(re=>{le[re]=Q[re]});const se=dt.toFiniteNumber(Q.headers.get("content-length")),[q,de]=y&&F2(se,gv(V2(y),!0))||[];Q=new Response(U2(Q.body,$2,q,()=>{de&&de(),H&&H()}),le)}N=N||"text";let ne=await bv[dt.findKey(bv,N)||"text"](Q,l);return!ee&&H&&H(),await new Promise((le,se)=>{D5(le,se,{data:ne,headers:Pa.from(Q.headers),status:Q.status,statusText:Q.statusText,config:l,request:F})})}catch(K){throw H&&H(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new Yn("Network Error",Yn.ERR_NETWORK,l,F),{cause:K.cause||K}):Yn.from(K,K&&K.code,l,F)}}),sA={http:gV,xhr:WV,fetch:tH};dt.forEach(sA,(l,c)=>{if(l){try{Object.defineProperty(l,"name",{value:c})}catch{}Object.defineProperty(l,"adapterName",{value:c})}});const q2=l=>`- ${l}`,nH=l=>dt.isFunction(l)||l===null||l===!1,L5={getAdapter:l=>{l=dt.isArray(l)?l:[l];const{length:c}=l;let s,o;const h={};for(let g=0;g<c;g++){s=l[g];let _;if(o=s,!nH(s)&&(o=sA[(_=String(s)).toLowerCase()],o===void 0))throw new Yn(`Unknown adapter '${_}'`);if(o)break;h[_||"#"+g]=o}if(!o){const g=Object.entries(h).map(([y,v])=>`adapter ${y} `+(v===!1?"is not supported by the environment":"is not available in the build"));let _=c?g.length>1?`since :
`+g.map(q2).join(`
`):" "+q2(g[0]):"as no adapter specified";throw new Yn("There is no suitable adapter to dispatch the request "+_,"ERR_NOT_SUPPORT")}return o},adapters:sA};function l0(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new _p(null,l)}function W2(l){return l0(l),l.headers=Pa.from(l.headers),l.data=a0.call(l,l.transformRequest),["post","put","patch"].indexOf(l.method)!==-1&&l.headers.setContentType("application/x-www-form-urlencoded",!1),L5.getAdapter(l.adapter||Eb.adapter)(l).then(function(o){return l0(l),o.data=a0.call(l,l.transformResponse,o),o.headers=Pa.from(o.headers),o},function(o){return j5(o)||(l0(l),o&&o.response&&(o.response.data=a0.call(l,l.transformResponse,o.response),o.response.headers=Pa.from(o.response.headers))),Promise.reject(o)})}const B5="1.10.0",Kv={};["object","boolean","number","function","string","symbol"].forEach((l,c)=>{Kv[l]=function(o){return typeof o===l||"a"+(c<1?"n ":" ")+l}});const Y2={};Kv.transitional=function(c,s,o){function h(g,_){return"[Axios v"+B5+"] Transitional option '"+g+"'"+_+(o?". "+o:"")}return(g,_,y)=>{if(c===!1)throw new Yn(h(_," has been removed"+(s?" in "+s:"")),Yn.ERR_DEPRECATED);return s&&!Y2[_]&&(Y2[_]=!0,console.warn(h(_," has been deprecated since v"+s+" and will be removed in the near future"))),c?c(g,_,y):!0}};Kv.spelling=function(c){return(s,o)=>(console.warn(`${o} is likely a misspelling of ${c}`),!0)};function iH(l,c,s){if(typeof l!="object")throw new Yn("options must be an object",Yn.ERR_BAD_OPTION_VALUE);const o=Object.keys(l);let h=o.length;for(;h-- >0;){const g=o[h],_=c[g];if(_){const y=l[g],v=y===void 0||_(y,g,l);if(v!==!0)throw new Yn("option "+g+" must be "+v,Yn.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Yn("Unknown option "+g,Yn.ERR_BAD_OPTION)}}const sv={assertOptions:iH,validators:Kv},cd=sv.validators;let Tm=class{constructor(c){this.defaults=c||{},this.interceptors={request:new P2,response:new P2}}async request(c,s){try{return await this._request(c,s)}catch(o){if(o instanceof Error){let h={};Error.captureStackTrace?Error.captureStackTrace(h):h=new Error;const g=h.stack?h.stack.replace(/^.+\n/,""):"";try{o.stack?g&&!String(o.stack).endsWith(g.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+g):o.stack=g}catch{}}throw o}}_request(c,s){typeof c=="string"?(s=s||{},s.url=c):s=c||{},s=Rm(this.defaults,s);const{transitional:o,paramsSerializer:h,headers:g}=s;o!==void 0&&sv.assertOptions(o,{silentJSONParsing:cd.transitional(cd.boolean),forcedJSONParsing:cd.transitional(cd.boolean),clarifyTimeoutError:cd.transitional(cd.boolean)},!1),h!=null&&(dt.isFunction(h)?s.paramsSerializer={serialize:h}:sv.assertOptions(h,{encode:cd.function,serialize:cd.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),sv.assertOptions(s,{baseUrl:cd.spelling("baseURL"),withXsrfToken:cd.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let _=g&&dt.merge(g.common,g[s.method]);g&&dt.forEach(["delete","get","head","post","put","patch","common"],F=>{delete g[F]}),s.headers=Pa.concat(_,g);const y=[];let v=!0;this.interceptors.request.forEach(function(H){typeof H.runWhen=="function"&&H.runWhen(s)===!1||(v=v&&H.synchronous,y.unshift(H.fulfilled,H.rejected))});const N=[];this.interceptors.response.forEach(function(H){N.push(H.fulfilled,H.rejected)});let S,D=0,j;if(!v){const F=[W2.bind(this),void 0];for(F.unshift.apply(F,y),F.push.apply(F,N),j=F.length,S=Promise.resolve(s);D<j;)S=S.then(F[D++],F[D++]);return S}j=y.length;let B=s;for(D=0;D<j;){const F=y[D++],H=y[D++];try{B=F(B)}catch($){H.call(this,$);break}}try{S=W2.call(this,B)}catch(F){return Promise.reject(F)}for(D=0,j=N.length;D<j;)S=S.then(N[D++],N[D++]);return S}getUri(c){c=Rm(this.defaults,c);const s=T5(c.baseURL,c.url,c.allowAbsoluteUrls);return N5(s,c.params,c.paramsSerializer)}};dt.forEach(["delete","get","head","options"],function(c){Tm.prototype[c]=function(s,o){return this.request(Rm(o||{},{method:c,url:s,data:(o||{}).data}))}});dt.forEach(["post","put","patch"],function(c){function s(o){return function(g,_,y){return this.request(Rm(y||{},{method:c,headers:o?{"Content-Type":"multipart/form-data"}:{},url:g,data:_}))}}Tm.prototype[c]=s(),Tm.prototype[c+"Form"]=s(!0)});let rH=class R5{constructor(c){if(typeof c!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(g){s=g});const o=this;this.promise.then(h=>{if(!o._listeners)return;let g=o._listeners.length;for(;g-- >0;)o._listeners[g](h);o._listeners=null}),this.promise.then=h=>{let g;const _=new Promise(y=>{o.subscribe(y),g=y}).then(h);return _.cancel=function(){o.unsubscribe(g)},_},c(function(g,_,y){o.reason||(o.reason=new _p(g,_,y),s(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(c){if(this.reason){c(this.reason);return}this._listeners?this._listeners.push(c):this._listeners=[c]}unsubscribe(c){if(!this._listeners)return;const s=this._listeners.indexOf(c);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const c=new AbortController,s=o=>{c.abort(o)};return this.subscribe(s),c.signal.unsubscribe=()=>this.unsubscribe(s),c.signal}static source(){let c;return{token:new R5(function(h){c=h}),cancel:c}}};function sH(l){return function(s){return l.apply(null,s)}}function oH(l){return dt.isObject(l)&&l.isAxiosError===!0}const oA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oA).forEach(([l,c])=>{oA[c]=l});function P5(l){const c=new Tm(l),s=f5(Tm.prototype.request,c);return dt.extend(s,Tm.prototype,c,{allOwnKeys:!0}),dt.extend(s,c,null,{allOwnKeys:!0}),s.create=function(h){return P5(Rm(l,h))},s}const kt=P5(Eb);kt.Axios=Tm;kt.CanceledError=_p;kt.CancelToken=rH;kt.isCancel=j5;kt.VERSION=B5;kt.toFormData=Yv;kt.AxiosError=Yn;kt.Cancel=kt.CanceledError;kt.all=function(c){return Promise.all(c)};kt.spread=sH;kt.isAxiosError=oH;kt.mergeConfig=Rm;kt.AxiosHeaders=Pa;kt.formToJSON=l=>S5(dt.isHTMLForm(l)?new FormData(l):l);kt.getAdapter=L5.getAdapter;kt.HttpStatusCode=oA;kt.default=kt;const{Axios:UJ,AxiosError:$J,CanceledError:qJ,isCancel:WJ,CancelToken:YJ,VERSION:GJ,all:KJ,Cancel:QJ,isAxiosError:ZJ,spread:XJ,toFormData:JJ,AxiosHeaders:eee,HttpStatusCode:tee,formToJSON:nee,getAdapter:iee,mergeConfig:ree}=kt,aH=(l,c,s,o)=>{var g,_,y,v;const h=[s,{code:c,...o||{}}];if((_=(g=l==null?void 0:l.services)==null?void 0:g.logger)!=null&&_.forward)return l.services.logger.forward(h,"warn","react-i18next::",!0);Mm(h[0])&&(h[0]=`react-i18next:: ${h[0]}`),(v=(y=l==null?void 0:l.services)==null?void 0:y.logger)!=null&&v.warn?l.services.logger.warn(...h):console!=null&&console.warn&&console.warn(...h)},G2={},aA=(l,c,s,o)=>{Mm(s)&&G2[s]||(Mm(s)&&(G2[s]=new Date),aH(l,c,s,o))},z5=(l,c)=>()=>{if(l.isInitialized)c();else{const s=()=>{setTimeout(()=>{l.off("initialized",s)},0),c()};l.on("initialized",s)}},lA=(l,c,s)=>{l.loadNamespaces(c,z5(l,s))},K2=(l,c,s,o)=>{if(Mm(s)&&(s=[s]),l.options.preload&&l.options.preload.indexOf(c)>-1)return lA(l,s,o);s.forEach(h=>{l.options.ns.indexOf(h)<0&&l.options.ns.push(h)}),l.loadLanguages(c,z5(l,o))},lH=(l,c,s={})=>!c.languages||!c.languages.length?(aA(c,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:c.languages}),!0):c.hasLoadedNamespace(l,{lng:s.lng,precheck:(o,h)=>{var g;if(((g=s.bindI18n)==null?void 0:g.indexOf("languageChanging"))>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!h(o.isLanguageChangingTo,l))return!1}}),Mm=l=>typeof l=="string",cH=l=>typeof l=="object"&&l!==null,dH=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,uH={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},hH=l=>uH[l],mH=l=>l.replace(dH,hH);let cA={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:mH};const fH=(l={})=>{cA={...cA,...l}},pH=()=>cA;let F5;const gH=l=>{F5=l},bH=()=>F5,kH={type:"3rdParty",init(l){fH(l.options.react),gH(l)}},_H=I.createContext();class vH{constructor(){this.usedNamespaces={}}addUsedNamespaces(c){c.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const wH=(l,c)=>{const s=I.useRef();return I.useEffect(()=>{s.current=l},[l,c]),s.current},V5=(l,c,s,o)=>l.getFixedT(c,s,o),yH=(l,c,s,o)=>I.useCallback(V5(l,c,s,o),[l,c,s,o]),yh=(l,c={})=>{var ne,le,se,q;const{i18n:s}=c,{i18n:o,defaultNS:h}=I.useContext(_H)||{},g=s||o||bH();if(g&&!g.reportNamespaces&&(g.reportNamespaces=new vH),!g){aA(g,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const de=(be,ke)=>Mm(ke)?ke:cH(ke)&&Mm(ke.defaultValue)?ke.defaultValue:Array.isArray(be)?be[be.length-1]:be,re=[de,{},!1];return re.t=de,re.i18n={},re.ready=!1,re}(ne=g.options.react)!=null&&ne.wait&&aA(g,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const _={...pH(),...g.options.react,...c},{useSuspense:y,keyPrefix:v}=_;let N=h||((le=g.options)==null?void 0:le.defaultNS);N=Mm(N)?[N]:N||["translation"],(q=(se=g.reportNamespaces).addUsedNamespaces)==null||q.call(se,N);const S=(g.isInitialized||g.initializedStoreOnce)&&N.every(de=>lH(de,g,_)),D=yH(g,c.lng||null,_.nsMode==="fallback"?N:N[0],v),j=()=>D,B=()=>V5(g,c.lng||null,_.nsMode==="fallback"?N:N[0],v),[F,H]=I.useState(j);let $=N.join();c.lng&&($=`${c.lng}${$}`);const K=wH($),Q=I.useRef(!0);I.useEffect(()=>{const{bindI18n:de,bindI18nStore:re}=_;Q.current=!0,!S&&!y&&(c.lng?K2(g,c.lng,N,()=>{Q.current&&H(B)}):lA(g,N,()=>{Q.current&&H(B)})),S&&K&&K!==$&&Q.current&&H(B);const be=()=>{Q.current&&H(B)};return de&&(g==null||g.on(de,be)),re&&(g==null||g.store.on(re,be)),()=>{Q.current=!1,g&&(de==null||de.split(" ").forEach(ke=>g.off(ke,be))),re&&g&&re.split(" ").forEach(ke=>g.store.off(ke,be))}},[g,$]),I.useEffect(()=>{Q.current&&S&&H(j)},[g,v,S]);const ee=[F,g,S];if(ee.t=F,ee.i18n=g,ee.ready=S,S||!S&&!y)return ee;throw new Promise(de=>{c.lng?K2(g,c.lng,N,()=>de()):lA(g,N,()=>de())})},zt=kt.create({baseURL:"https://walkingguide.onrender.com/api",headers:{"Content-Type":"application/json"}});zt.interceptors.request.use(l=>{const c=localStorage.getItem("token");return c&&(l.headers.Authorization=`Bearer ${c}`),l},l=>Promise.reject(l));zt.interceptors.response.use(l=>l,l=>{var c,s;return(((c=l.response)==null?void 0:c.status)===401||((s=l.response)==null?void 0:s.status)===403)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(l)});const hh="https://walkingguide.onrender.com/api",Sm={getAll:()=>zt.get(`${hh}/users`),getById:l=>zt.get(`${hh}/users/${l}`),create:l=>zt.post(`${hh}/users`,l),update:(l,c)=>zt.put(`${hh}/users/${l}`,c),delete:l=>zt.delete(`${hh}/users/${l}`),getProfile:()=>zt.get(`${hh}/users/profile/me`),updateProfile:l=>zt.put(`${hh}/users/profile/me`,l),changePassword:l=>zt.put(`${hh}/users/profile/change-password`,l)},ls=I.createContext();function Sb(){return I.useContext(ls)}function xH({children:l}){const[c,s]=I.useState(()=>{const v=localStorage.getItem("user"),N=localStorage.getItem("token");return!N||N==="null"?null:v?{...JSON.parse(v),token:N}:null}),[o,h]=I.useState(0);I.useEffect(()=>{(async()=>{if(localStorage.getItem("token")&&c)try{const S=await Sm.getProfile();s(S.data)}catch(S){console.error("Failed to refresh user data:",S)}})()},[]),I.useEffect(()=>{c?localStorage.setItem("user",JSON.stringify(c)):localStorage.removeItem("user")},[c]);const g=v=>{const N=localStorage.getItem("token");s({...v,token:N})},_=()=>{s(null),localStorage.removeItem("token")},y=()=>{console.log("[AuthContext] refreshNotifications function called"),h(v=>{const N=v+1;return console.log("[AuthContext] refreshNotifications called, new trigger:",N),N})};return I.useEffect(()=>{console.log("[AuthContext] notificationRefreshTrigger changed:",o)},[o]),i.jsx(ls.Provider,{value:{user:c,login:g,logout:_,notificationRefreshTrigger:o,refreshNotifications:y},children:l})}function H5({open:l,onClose:c,children:s}){return l?i.jsx("div",{className:"auth-modal-overlay",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.25)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsxs("div",{className:"auth-modal-content",style:{background:"#fff",borderRadius:16,boxShadow:"0 8px 32px 0 rgba(31,38,135,0.15)",padding:32,minWidth:340,maxWidth:420,width:"100%",position:"relative"},children:[i.jsx("button",{onClick:c,style:{position:"absolute",top:12,right:16,border:"none",background:"none",fontSize:22,color:"#888",cursor:"pointer"},"aria-label":"ng",children:""}),s]})}):null}function CH({onSuccess:l,onSwitch:c,onForgotPassword:s,onLoginSuccess:o}){const[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(""),{login:S}=I.useContext(ls),D="https://walkingguide.onrender.com",j=async B=>{var F,H;B.preventDefault();try{const $=await kt.post(`${D}/api/auth/login`,{email:h,password:_});localStorage.setItem("token",$.data.token),S({...$.data.user,token:$.data.token}),o&&o($.data.user),l&&l()}catch($){N(((H=(F=$.response)==null?void 0:F.data)==null?void 0:H.message)||"ng nhp tht bi")}};return i.jsxs("form",{onSubmit:j,className:"w-100",children:[v&&i.jsx("div",{className:"alert alert-danger",children:v}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Email:"}),i.jsx("input",{type:"email",className:"form-control",value:h,onChange:B=>g(B.target.value),required:!0})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mt khu:"}),i.jsx("input",{type:"password",className:"form-control",value:_,onChange:B=>y(B.target.value),required:!0})]}),i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[i.jsx("button",{type:"submit",className:"btn btn-main w-50",children:"ng nhp"}),i.jsx("button",{type:"button",className:"btn btn-link p-0",style:{fontSize:"0.95rem"},onClick:s,children:"Qun mt khu?"})]}),i.jsxs("p",{className:"mt-3 text-center",children:["Cha c ti khon? ",i.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:c,children:"ng k"})]})]})}function AH({onSuccess:l,onSwitch:c}){const[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(""),[S,D]=I.useState(""),[j,B]=I.useState(""),[F,H]=I.useState(!1),[$,K]=I.useState(!1),[Q,ee]=I.useState(""),[ne,le]=I.useState(""),[se,q]=I.useState(""),de="https://walkingguide.onrender.com",re=async Ne=>{var De,_e;if(Ne.preventDefault(),D(""),B(""),H(!0),ee(""),le(""),q(""),_!==v){D("Mt khu xc nhn khng khp."),H(!1);return}if(_.length<6){D("Mt khu phi c t nht 6 k t."),H(!1);return}try{const je=await kt.post(`${de}/api/auth/register`,{full_name:s,email:h,password:_,confirmPassword:v});je.data.success&&(B(je.data.message),q(h),o(""),g(""),y(""),N(""))}catch(je){D(((_e=(De=je.response)==null?void 0:De.data)==null?void 0:_e.message)||"Li ng k")}finally{H(!1)}},be=async()=>{var Ne,De;K(!0),ee(""),le("");try{const _e=await kt.post("https://walkingguide.onrender.com/api/auth/resend-verification",{email:se});ee(_e.data.message||"Email xc thc  c gi li. Vui lng kim tra hp th ca bn.")}catch(_e){le(((De=(Ne=_e.response)==null?void 0:Ne.data)==null?void 0:De.message)||"Li gi li email xc thc")}finally{K(!1)}},ke=()=>{B(""),D(""),ee(""),le(""),q("")};return i.jsxs("form",{onSubmit:re,className:"w-100",children:[S&&i.jsx("div",{className:"alert alert-danger",children:S}),j?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"alert alert-success",children:j}),i.jsx("button",{type:"button",className:"btn btn-link p-0 mt-2 text-decoration-none",onClick:be,disabled:$||!se,children:$?"ang gi li...":"Gi li email xc thc"}),Q&&i.jsx("div",{className:"alert alert-success mt-2",children:Q}),ne&&i.jsx("div",{className:"alert alert-danger mt-2",children:ne}),i.jsx("div",{className:"text-center mt-3",children:i.jsx("button",{type:"button",className:"btn btn-link p-0 text-decoration-underline",onClick:ke,children:"Nhp email khc"})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"H v tn:"}),i.jsx("input",{type:"text",className:"form-control",value:s,onChange:Ne=>o(Ne.target.value),required:!0,disabled:F})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Email:"}),i.jsx("input",{type:"email",className:"form-control",value:h,onChange:Ne=>g(Ne.target.value),required:!0,disabled:F})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mt khu:"}),i.jsx("input",{type:"password",className:"form-control",value:_,onChange:Ne=>y(Ne.target.value),required:!0,disabled:F,minLength:6}),i.jsx("small",{className:"text-muted",children:"Mt khu phi c t nht 6 k t"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Xc nhn mt khu:"}),i.jsx("input",{type:"password",className:"form-control",value:v,onChange:Ne=>N(Ne.target.value),required:!0,disabled:F,minLength:6}),v&&_!==v&&i.jsx("small",{className:"text-danger",children:"Mt khu xc nhn khng khp"}),v&&_===v&&i.jsx("small",{className:"text-success",children:" Mt khu khp"})]}),i.jsx("button",{type:"submit",className:"btn btn-success w-100",disabled:F||!s||!h||!_||!v,children:F?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"ang ng k..."]}):"ng k"}),i.jsxs("p",{className:"mt-3 text-center",children:[" c ti khon? ",i.jsx("button",{type:"button",className:"btn btn-link p-0",onClick:c,children:"ng nhp"})]})]})]})}function NH({open:l,title:c,message:s,onConfirm:o,onCancel:h}){return l?i.jsx("div",{className:"modal fade show",tabIndex:"-1",style:{display:"block",background:"rgba(0,0,0,0.25)",zIndex:2e3},children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",style:{borderRadius:"1.2rem"},children:[i.jsx("div",{className:"modal-header border-0 pb-0",children:i.jsx("h5",{className:"modal-title",style:{fontWeight:700,color:"#1a5bb8"},children:c||"Xc nhn"})}),i.jsxs("div",{className:"modal-body text-center",children:[i.jsx("div",{className:"mb-3",style:{fontSize:"1.08rem"},children:s}),i.jsxs("div",{className:"d-flex justify-content-center gap-3",children:[i.jsx("button",{className:"btn btn-main px-4",onClick:o,children:"ng "}),i.jsx("button",{className:"btn btn-outline-secondary px-4",onClick:h,children:"Hu"})]})]})]})})}):null}const U5=l=>zt.get(`/notifications/user/${l}`),EH=l=>zt.get(`/notifications/user/${l}/unread-count`),$5=(l,c)=>zt.put(`/notifications/${l}`,c),dA=l=>zt.put(`/notifications/user/${l}/mark-all-read`),q5=l=>zt.delete(`/notifications/${l}`);console.log("[NotificationIcon] File loaded");const Q2=()=>{const{user:l,notificationRefreshTrigger:c}=I.useContext(ls),[s,o]=I.useState([]),[h,g]=I.useState(0),[_,y]=I.useState(!1),[v,N]=I.useState(!1),[S,D]=I.useState(!1),[j,B]=I.useState(null),F=ba();I.useEffect(()=>{console.log("[NotificationIcon] notificationRefreshTrigger:",c),l&&(H(),$())},[l,c]),I.useEffect(()=>{_&&h>0&&l&&dA(l.id).then(()=>{o(re=>re.map(be=>({...be,is_read:!0}))),g(0)})},[_]);const H=async()=>{try{N(!0);const re=await U5(l.id);o(re.data)}catch(re){console.error("Error fetching notifications:",re)}finally{N(!1)}},$=async()=>{try{const re=await EH(l.id);g(re.data.count)}catch(re){console.error("Error fetching unread count:",re)}},K=async re=>{try{await $5(re,{is_read:!0}),o(be=>be.map(ke=>ke.notification_id===re?{...ke,is_read:!0}:ke)),g(be=>Math.max(0,be-1))}catch(be){console.error("Error marking notification as read:",be)}},Q=async()=>{try{await dA(l.id),o(re=>re.map(be=>({...be,is_read:!0}))),g(0)}catch(re){console.error("Error marking all notifications as read:",re)}},ee=async(re,be)=>{be.stopPropagation(),B(re),D(!0)},ne=async()=>{if(j)try{await q5(j);const re=s.find(be=>be.notification_id===j);o(be=>be.filter(ke=>ke.notification_id!==j)),re&&!re.is_read&&g(be=>Math.max(0,be-1)),D(!1),B(null)}catch(re){console.error("Error deleting notification:",re)}},le=()=>{D(!1),B(null)},se=re=>{try{return new Date(re).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return re}},q=re=>{switch(re){case"tour_reminder":return"bi bi-calendar-event text-warning";case"tour_completion":return"bi bi-check-circle text-success";case"tour_created":return"bi bi-plus-circle text-primary";default:return"bi bi-bell text-info"}},de=re=>{re.article_id&&re.comment_id?F(`/articles/${re.article_id}#comment-${re.comment_id}`):re.article_id?F(`/articles/${re.article_id}`):re.tour_id?F(`/tours/${re.tour_id}`):re.place_id&&F(`/places/${re.place_id}`)};return l?i.jsxs("div",{className:"position-relative",children:[i.jsxs("button",{className:"btn rounded-circle p-0 d-flex align-items-center justify-content-center border-0 position-relative",style:{width:48,height:48,background:"none",boxShadow:"none"},onClick:()=>y(!_),"aria-label":"Notifications",children:[i.jsx("i",{className:"bi bi-bell",style:{fontSize:24,color:"#1a5bb8"}}),h>0&&!_&&i.jsx("span",{className:"position-absolute badge rounded-pill bg-danger",style:{fontSize:"0.7rem",top:"2px",right:"-8px",minWidth:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center",padding:"2px 6px"},children:h>99?"99+":h})]}),_&&i.jsxs("div",{className:"dropdown-menu show position-absolute d-flex flex-column",style:{minWidth:350,maxWidth:400,maxHeight:500,overflowY:"auto",right:0,left:"auto",zIndex:1e3,boxShadow:"0 4px 20px rgba(0,0,0,0.15)",border:"none",borderRadius:"12px",padding:0},children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-center p-3 border-bottom",children:[i.jsx("h6",{className:"mb-0 fw-bold",children:"Thng bo"}),h>0&&i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:Q,children:"nh du  c"})]}),i.jsxs("div",{className:"flex-grow-1 p-0",style:{overflowY:"auto"},children:[v?i.jsx("div",{className:"text-center p-3",children:i.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):s.length===0?i.jsxs("div",{className:"text-center p-4 text-muted",children:[i.jsx("i",{className:"bi bi-bell-slash",style:{fontSize:"2rem"}}),i.jsx("p",{className:"mt-2 mb-0",children:"Khng c thng bo no"})]}):s.map(re=>i.jsx("div",{className:`p-3 border-bottom ${re.is_read?"":"bg-light"}`,style:{cursor:"pointer"},onClick:be=>{be.stopPropagation(),K(re.notification_id),de(re)},children:i.jsxs("div",{className:"d-flex align-items-start",children:[i.jsx("div",{className:"me-3 mt-1",children:i.jsx("i",{className:q(re.type),style:{fontSize:"1.2rem"}})}),i.jsxs("div",{className:"flex-grow-1",children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[i.jsx("p",{className:"mb-1",style:{fontSize:"0.9rem",lineHeight:"1.4"},children:re.content}),!re.is_read&&i.jsx("span",{className:"badge bg-primary rounded-pill ms-2",style:{fontSize:"0.6rem"},children:"Mi"})]}),i.jsx("small",{className:"text-muted",children:se(re.created_at)}),!re.is_read&&i.jsxs("button",{className:"btn btn-sm btn-outline-primary mt-2",style:{fontSize:"0.8rem",padding:"2px 8px"},onClick:be=>{be.stopPropagation(),K(re.notification_id)},children:[i.jsx("i",{className:"bi bi-check me-1"}),"nh du  c"]})]}),i.jsx("div",{className:"ms-2",children:i.jsx("i",{className:"bi bi-trash",style:{fontSize:"1.2rem",color:"#dc3545",cursor:"pointer"},onClick:be=>{be.stopPropagation(),ee(re.notification_id,be)}})})]})},re.notification_id)),s.length>0&&i.jsx("div",{className:"p-2 text-center",children:i.jsxs("small",{className:"text-muted",children:[s.length," thng bo"]})})]}),i.jsx("div",{className:"border-top bg-white text-center",style:{position:"sticky",bottom:0,zIndex:3,padding:"16px 0"},children:i.jsxs(Jt,{to:"/notifications",className:"btn btn-link fw-bold text-decoration-none",style:{color:"#1a5bb8"},children:[i.jsx("i",{className:"bi bi-arrow-right-circle me-2"}),"Xem tt c thng bo"]})})]}),_&&i.jsx("div",{className:"position-fixed",style:{top:0,left:0,right:0,bottom:0,zIndex:999},onClick:()=>y(!1)}),i.jsx("div",{className:`modal fade ${S?"show":""}`,style:{display:S?"block":"none"},tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content border-0 shadow-lg",children:[i.jsxs("div",{className:"modal-header bg-danger text-white",children:[i.jsxs("h5",{className:"modal-title",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),"Xc nhn xa"]}),i.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:le})]}),i.jsx("div",{className:"modal-body",children:i.jsx("p",{className:"mb-0",children:"Bn c chc mun xa thng bo ny? Hnh ng ny khng th hon tc."})}),i.jsxs("div",{className:"modal-footer",children:[i.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:le,children:[i.jsx("i",{className:"bi bi-x-circle me-1"}),"Hy"]}),i.jsxs("button",{type:"button",className:"btn btn-danger",onClick:ne,children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xa"]})]})]})})}),S&&i.jsx("div",{className:"modal-backdrop fade show"})]}):null},W5=I.createContext(),SH=[{code:"en",icon:"en"},{code:"vi",icon:""}],jH=({children:l})=>{const[c,s]=I.useState("en"),o=h=>{s(h)};return i.jsx(W5.Provider,{value:{language:c,switchLanguage:o,languages:SH},children:l})},DH=()=>I.useContext(W5),TH="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='24'%20viewBox='0%200%2032%2024'%3e%3crect%20width='32'%20height='24'%20fill='%23b22234'/%3e%3cg%20fill='%23fff'%3e%3crect%20y='2.18'%20width='32'%20height='2.18'/%3e%3crect%20y='6.54'%20width='32'%20height='2.18'/%3e%3crect%20y='10.9'%20width='32'%20height='2.18'/%3e%3crect%20y='15.26'%20width='32'%20height='2.18'/%3e%3crect%20y='19.62'%20width='32'%20height='2.18'/%3e%3c/g%3e%3crect%20width='13.7'%20height='9.6'%20fill='%233c3b6e'/%3e%3cg%20fill='%23fff'%3e%3cg%20id='s18'%3e%3cg%20id='s9'%3e%3cpolygon%20points='1.37,1.44%201.68,2.36%202.65,2.36%201.87,2.93%202.18,3.85%201.37,3.28%200.56,3.85%200.87,2.93%200.09,2.36%201.06,2.36'/%3e%3c/g%3e%3cuse%20xlink:href='%23s9'%20x='2.74'/%3e%3cuse%20xlink:href='%23s9'%20x='5.48'/%3e%3cuse%20xlink:href='%23s9'%20x='8.22'/%3e%3cuse%20xlink:href='%23s9'%20x='10.96'/%3e%3c/g%3e%3cuse%20xlink:href='%23s18'%20y='1.92'/%3e%3cuse%20xlink:href='%23s18'%20y='3.84'/%3e%3cuse%20xlink:href='%23s18'%20y='5.76'/%3e%3cuse%20xlink:href='%23s18'%20y='7.68'/%3e%3c/g%3e%3c/svg%3e",MH="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='24'%20viewBox='0%200%2032%2024'%3e%3crect%20width='32'%20height='24'%20fill='%23da251d'/%3e%3cpolygon%20fill='%23ff0'%20points='16,5%2017.76,11.09%2024.18,11.09%2018.71,14.41%2020.47,20.5%2016,17.18%2011.53,20.5%2013.29,14.41%207.82,11.09%2014.24,11.09'/%3e%3c/svg%3e",Z2={en:TH,vi:MH},z_={en:"English",vi:"Ting Vit"},X2=()=>{const{language:l,switchLanguage:c,languages:s}=DH(),{i18n:o}=yh(),[h,g]=I.useState(!1),_=I.useRef();return I.useEffect(()=>{o.changeLanguage(l)},[l,o]),I.useEffect(()=>{const y=v=>{_.current&&!_.current.contains(v.target)&&g(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]),s.find(y=>y.code===l),i.jsxs("div",{className:"language-switcher-dropdown",ref:_,style:{position:"relative",display:"inline-block"},children:[i.jsx("button",{className:"lang-dropdown-btn",style:{background:"none",border:"none",borderRadius:0,padding:0,width:38,height:28,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},onClick:()=>g(y=>!y),"aria-label":z_[l],children:i.jsx("img",{src:Z2[l],alt:z_[l],style:{width:28,height:20,borderRadius:3,objectFit:"cover"},onError:y=>{y.target.onerror=null,y.target.src="https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg"}})}),h&&i.jsx("div",{className:"lang-dropdown-menu",style:{position:"absolute",top:34,left:0,background:"#fff",border:"none",borderRadius:6,boxShadow:"0 2px 8px rgba(0,0,0,0.08)",zIndex:100,width:35,padding:0},children:s.filter(y=>y.code!==l).map(y=>i.jsx("button",{className:"lang-dropdown-item",style:{background:"none",border:"none",width:"100%",display:"flex",alignItems:"center",gap:8,padding:4,cursor:"pointer",borderRadius:4,transition:"background 0.2s"},onClick:()=>{c(y.code),g(!1)},"aria-label":z_[y.code],children:i.jsx("img",{src:Z2[y.code],alt:z_[y.code],style:{width:28,height:20,borderRadius:3,objectFit:"cover"},onError:v=>{v.target.onerror=null,v.target.src="https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg"}})},y.code))})]})};var c0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var J2;function IH(){return J2||(J2=1,function(l){(function(){var c={}.hasOwnProperty;function s(){for(var g="",_=0;_<arguments.length;_++){var y=arguments[_];y&&(g=h(g,o(y)))}return g}function o(g){if(typeof g=="string"||typeof g=="number")return g;if(typeof g!="object")return"";if(Array.isArray(g))return s.apply(null,g);if(g.toString!==Object.prototype.toString&&!g.toString.toString().includes("[native code]"))return g.toString();var _="";for(var y in g)c.call(g,y)&&g[y]&&(_=h(_,y));return _}function h(g,_){return _?g?g+" "+_:g+_:g}l.exports?(s.default=s,l.exports=s):window.classNames=s})()}(c0)),c0.exports}var OH=IH();const Jn=Vm(OH);function uA(){return uA=Object.assign?Object.assign.bind():function(l){for(var c=1;c<arguments.length;c++){var s=arguments[c];for(var o in s)({}).hasOwnProperty.call(s,o)&&(l[o]=s[o])}return l},uA.apply(null,arguments)}function Y5(l,c){if(l==null)return{};var s={};for(var o in l)if({}.hasOwnProperty.call(l,o)){if(c.indexOf(o)!==-1)continue;s[o]=l[o]}return s}function eT(l){return"default"+l.charAt(0).toUpperCase()+l.substr(1)}function LH(l){var c=BH(l,"string");return typeof c=="symbol"?c:String(c)}function BH(l,c){if(typeof l!="object"||l===null)return l;var s=l[Symbol.toPrimitive];if(s!==void 0){var o=s.call(l,c);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(l)}function RH(l,c,s){var o=I.useRef(l!==void 0),h=I.useState(c),g=h[0],_=h[1],y=l!==void 0,v=o.current;return o.current=y,!y&&v&&g!==c&&_(c),[y?l:g,I.useCallback(function(N){for(var S=arguments.length,D=new Array(S>1?S-1:0),j=1;j<S;j++)D[j-1]=arguments[j];s&&s.apply(void 0,[N].concat(D)),_(N)},[s])]}function PH(l,c){return Object.keys(c).reduce(function(s,o){var h,g=s,_=g[eT(o)],y=g[o],v=Y5(g,[eT(o),o].map(LH)),N=c[o],S=RH(y,_,l[N]),D=S[0],j=S[1];return uA({},v,(h={},h[o]=D,h[N]=j,h))},l)}function hA(l,c){return hA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},hA(l,c)}function zH(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,hA(l,c)}const FH=["xxl","xl","lg","md","sm","xs"],VH="xs",jb=I.createContext({prefixes:{},breakpoints:FH,minBreakpoint:VH}),{Consumer:see,Provider:oee}=jb;function Ai(l,c){const{prefixes:s}=I.useContext(jb);return l||s[c]||c}function HH(){const{breakpoints:l}=I.useContext(jb);return l}function UH(){const{minBreakpoint:l}=I.useContext(jb);return l}function $H(){const{dir:l}=I.useContext(jb);return l==="rtl"}function Qv(l){return l&&l.ownerDocument||document}function qH(l){var c=Qv(l);return c&&c.defaultView||window}function WH(l,c){return qH(l).getComputedStyle(l,c)}var YH=/([A-Z])/g;function GH(l){return l.replace(YH,"-$1").toLowerCase()}var KH=/^ms-/;function F_(l){return GH(l).replace(KH,"-ms-")}var QH=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function ZH(l){return!!(l&&QH.test(l))}function Im(l,c){var s="",o="";if(typeof c=="string")return l.style.getPropertyValue(F_(c))||WH(l).getPropertyValue(F_(c));Object.keys(c).forEach(function(h){var g=c[h];!g&&g!==0?l.style.removeProperty(F_(h)):ZH(h)?o+=h+"("+g+") ":s+=F_(h)+": "+g+";"}),o&&(s+="transform: "+o+";"),l.style.cssText+=";"+s}var d0={exports:{}},u0,tT;function XH(){if(tT)return u0;tT=1;var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return u0=l,u0}var h0,nT;function JH(){if(nT)return h0;nT=1;var l=XH();function c(){}function s(){}return s.resetWarningCache=c,h0=function(){function o(_,y,v,N,S,D){if(D!==l){var j=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw j.name="Invariant Violation",j}}o.isRequired=o;function h(){return o}var g={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:h,element:o,elementType:o,instanceOf:h,node:o,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h,checkPropTypes:s,resetWarningCache:c};return g.PropTypes=g,g},h0}var iT;function eU(){return iT||(iT=1,d0.exports=JH()()),d0.exports}var tU=eU();const ii=Vm(tU),rT={disabled:!1},G5=it.createContext(null);var nU=function(c){return c.scrollTop},rb="unmounted",ym="exited",fh="entering",Am="entered",mA="exiting",wu=function(l){zH(c,l);function c(o,h){var g;g=l.call(this,o,h)||this;var _=h,y=_&&!_.isMounting?o.enter:o.appear,v;return g.appearStatus=null,o.in?y?(v=ym,g.appearStatus=fh):v=Am:o.unmountOnExit||o.mountOnEnter?v=rb:v=ym,g.state={status:v},g.nextCallback=null,g}c.getDerivedStateFromProps=function(h,g){var _=h.in;return _&&g.status===rb?{status:ym}:null};var s=c.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(h){var g=null;if(h!==this.props){var _=this.state.status;this.props.in?_!==fh&&_!==Am&&(g=fh):(_===fh||_===Am)&&(g=mA)}this.updateStatus(!1,g)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var h=this.props.timeout,g,_,y;return g=_=y=h,h!=null&&typeof h!="number"&&(g=h.exit,_=h.enter,y=h.appear!==void 0?h.appear:_),{exit:g,enter:_,appear:y}},s.updateStatus=function(h,g){if(h===void 0&&(h=!1),g!==null)if(this.cancelNextCallback(),g===fh){if(this.props.unmountOnExit||this.props.mountOnEnter){var _=this.props.nodeRef?this.props.nodeRef.current:Nm.findDOMNode(this);_&&nU(_)}this.performEnter(h)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ym&&this.setState({status:rb})},s.performEnter=function(h){var g=this,_=this.props.enter,y=this.context?this.context.isMounting:h,v=this.props.nodeRef?[y]:[Nm.findDOMNode(this),y],N=v[0],S=v[1],D=this.getTimeouts(),j=y?D.appear:D.enter;if(!h&&!_||rT.disabled){this.safeSetState({status:Am},function(){g.props.onEntered(N)});return}this.props.onEnter(N,S),this.safeSetState({status:fh},function(){g.props.onEntering(N,S),g.onTransitionEnd(j,function(){g.safeSetState({status:Am},function(){g.props.onEntered(N,S)})})})},s.performExit=function(){var h=this,g=this.props.exit,_=this.getTimeouts(),y=this.props.nodeRef?void 0:Nm.findDOMNode(this);if(!g||rT.disabled){this.safeSetState({status:ym},function(){h.props.onExited(y)});return}this.props.onExit(y),this.safeSetState({status:mA},function(){h.props.onExiting(y),h.onTransitionEnd(_.exit,function(){h.safeSetState({status:ym},function(){h.props.onExited(y)})})})},s.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(h,g){g=this.setNextCallback(g),this.setState(h,g)},s.setNextCallback=function(h){var g=this,_=!0;return this.nextCallback=function(y){_&&(_=!1,g.nextCallback=null,h(y))},this.nextCallback.cancel=function(){_=!1},this.nextCallback},s.onTransitionEnd=function(h,g){this.setNextCallback(g);var _=this.props.nodeRef?this.props.nodeRef.current:Nm.findDOMNode(this),y=h==null&&!this.props.addEndListener;if(!_||y){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var v=this.props.nodeRef?[this.nextCallback]:[_,this.nextCallback],N=v[0],S=v[1];this.props.addEndListener(N,S)}h!=null&&setTimeout(this.nextCallback,h)},s.render=function(){var h=this.state.status;if(h===rb)return null;var g=this.props,_=g.children;g.in,g.mountOnEnter,g.unmountOnExit,g.appear,g.enter,g.exit,g.timeout,g.addEndListener,g.onEnter,g.onEntering,g.onEntered,g.onExit,g.onExiting,g.onExited,g.nodeRef;var y=Y5(g,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return it.createElement(G5.Provider,{value:null},typeof _=="function"?_(h,y):it.cloneElement(it.Children.only(_),y))},c}(it.Component);wu.contextType=G5;wu.propTypes={};function Jf(){}wu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Jf,onEntering:Jf,onEntered:Jf,onExit:Jf,onExiting:Jf,onExited:Jf};wu.UNMOUNTED=rb;wu.EXITED=ym;wu.ENTERING=fh;wu.ENTERED=Am;wu.EXITING=mA;function iU(l){return l.code==="Escape"||l.keyCode===27}function rU(){const l=I.version.split(".");return{major:+l[0],minor:+l[1],patch:+l[2]}}function Zv(l){if(!l||typeof l=="function")return null;const{major:c}=rU();return c>=19?l.props.ref:l.ref}const vp=!!(typeof window<"u"&&window.document&&window.document.createElement);var fA=!1,pA=!1;try{var m0={get passive(){return fA=!0},get once(){return pA=fA=!0}};vp&&(window.addEventListener("test",m0,m0),window.removeEventListener("test",m0,!0))}catch{}function K5(l,c,s,o){if(o&&typeof o!="boolean"&&!pA){var h=o.once,g=o.capture,_=s;!pA&&h&&(_=s.__once||function y(v){this.removeEventListener(c,y,g),s.call(this,v)},s.__once=_),l.addEventListener(c,_,fA?o:g)}l.addEventListener(c,s,o)}function gA(l,c,s,o){var h=o&&typeof o!="boolean"?o.capture:o;l.removeEventListener(c,s,h),s.__once&&l.removeEventListener(c,s.__once,h)}function kv(l,c,s,o){return K5(l,c,s,o),function(){gA(l,c,s,o)}}function sU(l,c,s,o){if(o===void 0&&(o=!0),l){var h=document.createEvent("HTMLEvents");h.initEvent(c,s,o),l.dispatchEvent(h)}}function oU(l){var c=Im(l,"transitionDuration")||"",s=c.indexOf("ms")===-1?1e3:1;return parseFloat(c)*s}function aU(l,c,s){s===void 0&&(s=5);var o=!1,h=setTimeout(function(){o||sU(l,"transitionend",!0)},c+s),g=kv(l,"transitionend",function(){o=!0},{once:!0});return function(){clearTimeout(h),g()}}function Q5(l,c,s,o){s==null&&(s=oU(l)||0);var h=aU(l,s,o),g=kv(l,"transitionend",c);return function(){h(),g()}}function sT(l,c){const s=Im(l,c)||"",o=s.indexOf("ms")===-1?1e3:1;return parseFloat(s)*o}function lU(l,c){const s=sT(l,"transitionDuration"),o=sT(l,"transitionDelay"),h=Q5(l,g=>{g.target===l&&(h(),c(g))},s+o)}function cU(l){l.offsetHeight}const oT=l=>!l||typeof l=="function"?l:c=>{l.current=c};function dU(l,c){const s=oT(l),o=oT(c);return h=>{s&&s(h),o&&o(h)}}function Z5(l,c){return I.useMemo(()=>dU(l,c),[l,c])}function uU(l){return l&&"setState"in l?Nm.findDOMNode(l):l??null}const X5=it.forwardRef(({onEnter:l,onEntering:c,onEntered:s,onExit:o,onExiting:h,onExited:g,addEndListener:_,children:y,childRef:v,...N},S)=>{const D=I.useRef(null),j=Z5(D,v),B=se=>{j(uU(se))},F=se=>q=>{se&&D.current&&se(D.current,q)},H=I.useCallback(F(l),[l]),$=I.useCallback(F(c),[c]),K=I.useCallback(F(s),[s]),Q=I.useCallback(F(o),[o]),ee=I.useCallback(F(h),[h]),ne=I.useCallback(F(g),[g]),le=I.useCallback(F(_),[_]);return i.jsx(wu,{ref:S,...N,onEnter:H,onEntered:K,onEntering:$,onExit:Q,onExited:ne,onExiting:ee,addEndListener:le,nodeRef:D,children:typeof y=="function"?(se,q)=>y(se,{...q,ref:B}):it.cloneElement(y,{ref:B})})});X5.displayName="TransitionWrapper";function hU(l){const c=I.useRef(l);return I.useEffect(()=>{c.current=l},[l]),c}function _v(l){const c=hU(l);return I.useCallback(function(...s){return c.current&&c.current(...s)},[c])}const Xv=l=>I.forwardRef((c,s)=>i.jsx("div",{...c,ref:s,className:Jn(c.className,l)})),J5=Xv("h4");J5.displayName="DivStyledAsH4";const e3=I.forwardRef(({className:l,bsPrefix:c,as:s=J5,...o},h)=>(c=Ai(c,"alert-heading"),i.jsx(s,{ref:h,className:Jn(l,c),...o})));e3.displayName="AlertHeading";function mU(l){const c=I.useRef(l);return I.useEffect(()=>{c.current=l},[l]),c}function ph(l){const c=mU(l);return I.useCallback(function(...s){return c.current&&c.current(...s)},[c])}function fU(){const l=I.useRef(!0),c=I.useRef(()=>l.current);return I.useEffect(()=>(l.current=!0,()=>{l.current=!1}),[]),c.current}function pU(l){const c=I.useRef(null);return I.useEffect(()=>{c.current=l}),c.current}const gU=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",bU=typeof document<"u",aT=bU||gU?I.useLayoutEffect:I.useEffect,kU=["as","disabled"];function _U(l,c){if(l==null)return{};var s={};for(var o in l)if({}.hasOwnProperty.call(l,o)){if(c.indexOf(o)>=0)continue;s[o]=l[o]}return s}function vU(l){return!l||l.trim()==="#"}function PA({tagName:l,disabled:c,href:s,target:o,rel:h,role:g,onClick:_,tabIndex:y=0,type:v}){l||(s!=null||o!=null||h!=null?l="a":l="button");const N={tagName:l};if(l==="button")return[{type:v||"button",disabled:c},N];const S=j=>{if((c||l==="a"&&vU(s))&&j.preventDefault(),c){j.stopPropagation();return}_==null||_(j)},D=j=>{j.key===" "&&(j.preventDefault(),S(j))};return l==="a"&&(s||(s="#"),c&&(s=void 0)),[{role:g??"button",disabled:void 0,tabIndex:c?void 0:y,href:s,target:l==="a"?o:void 0,"aria-disabled":c||void 0,rel:l==="a"?h:void 0,onClick:S,onKeyDown:D},N]}const wU=I.forwardRef((l,c)=>{let{as:s,disabled:o}=l,h=_U(l,kU);const[g,{tagName:_}]=PA(Object.assign({tagName:s,disabled:o},h));return i.jsx(_,Object.assign({},h,g,{ref:c}))});wU.displayName="Button";const yU=["onKeyDown"];function xU(l,c){if(l==null)return{};var s={};for(var o in l)if({}.hasOwnProperty.call(l,o)){if(c.indexOf(o)>=0)continue;s[o]=l[o]}return s}function CU(l){return!l||l.trim()==="#"}const t3=I.forwardRef((l,c)=>{let{onKeyDown:s}=l,o=xU(l,yU);const[h]=PA(Object.assign({tagName:"a"},o)),g=ph(_=>{h.onKeyDown(_),s==null||s(_)});return CU(o.href)||o.role==="button"?i.jsx("a",Object.assign({ref:c},o,h,{onKeyDown:g})):i.jsx("a",Object.assign({ref:c},o,{onKeyDown:s}))});t3.displayName="Anchor";const n3=I.forwardRef(({className:l,bsPrefix:c,as:s=t3,...o},h)=>(c=Ai(c,"alert-link"),i.jsx(s,{ref:h,className:Jn(l,c),...o})));n3.displayName="AlertLink";const AU={[fh]:"show",[Am]:"show"},fb=I.forwardRef(({className:l,children:c,transitionClasses:s={},onEnter:o,...h},g)=>{const _={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...h},y=I.useCallback((v,N)=>{cU(v),o==null||o(v,N)},[o]);return i.jsx(X5,{ref:g,addEndListener:lU,..._,onEnter:y,childRef:Zv(c),children:(v,N)=>I.cloneElement(c,{...N,className:Jn("fade",l,c.props.className,AU[v],s[v])})})});fb.displayName="Fade";const NU={"aria-label":ii.string,onClick:ii.func,variant:ii.oneOf(["white"])},Jv=I.forwardRef(({className:l,variant:c,"aria-label":s="Close",...o},h)=>i.jsx("button",{ref:h,type:"button",className:Jn("btn-close",c&&`btn-close-${c}`,l),"aria-label":s,...o}));Jv.displayName="CloseButton";Jv.propTypes=NU;const i3=I.forwardRef((l,c)=>{const{bsPrefix:s,show:o=!0,closeLabel:h="Close alert",closeVariant:g,className:_,children:y,variant:v="primary",onClose:N,dismissible:S,transition:D=fb,...j}=PH(l,{show:"onClose"}),B=Ai(s,"alert"),F=_v(K=>{N&&N(!1,K)}),H=D===!0?fb:D,$=i.jsxs("div",{role:"alert",...H?void 0:j,ref:c,className:Jn(_,B,v&&`${B}-${v}`,S&&`${B}-dismissible`),children:[S&&i.jsx(Jv,{onClick:F,"aria-label":h,variant:g}),y]});return H?i.jsx(H,{unmountOnExit:!0,...j,ref:void 0,in:o,children:$}):o?$:null});i3.displayName="Alert";const ov=Object.assign(i3,{Link:n3,Heading:e3}),r3=I.forwardRef(({bsPrefix:l,bg:c="primary",pill:s=!1,text:o,className:h,as:g="span",..._},y)=>{const v=Ai(l,"badge");return i.jsx(g,{ref:y,..._,className:Jn(h,v,s&&"rounded-pill",o&&`text-${o}`,c&&`bg-${c}`)})});r3.displayName="Badge";const Ht=I.forwardRef(({as:l,bsPrefix:c,variant:s="primary",size:o,active:h=!1,disabled:g=!1,className:_,...y},v)=>{const N=Ai(c,"btn"),[S,{tagName:D}]=PA({tagName:l,disabled:g,...y}),j=D;return i.jsx(j,{...S,...y,ref:v,disabled:g,className:Jn(_,N,h&&"active",s&&`${N}-${s}`,o&&`${N}-${o}`,y.href&&g&&"disabled")})});Ht.displayName="Button";const zA=I.forwardRef(({className:l,bsPrefix:c,as:s="div",...o},h)=>(c=Ai(c,"card-body"),i.jsx(s,{ref:h,className:Jn(l,c),...o})));zA.displayName="CardBody";const s3=I.forwardRef(({className:l,bsPrefix:c,as:s="div",...o},h)=>(c=Ai(c,"card-footer"),i.jsx(s,{ref:h,className:Jn(l,c),...o})));s3.displayName="CardFooter";const o3=I.createContext(null);o3.displayName="CardHeaderContext";const a3=I.forwardRef(({bsPrefix:l,className:c,as:s="div",...o},h)=>{const g=Ai(l,"card-header"),_=I.useMemo(()=>({cardHeaderBsPrefix:g}),[g]);return i.jsx(o3.Provider,{value:_,children:i.jsx(s,{ref:h,...o,className:Jn(c,g)})})});a3.displayName="CardHeader";const l3=I.forwardRef(({bsPrefix:l,className:c,variant:s,as:o="img",...h},g)=>{const _=Ai(l,"card-img");return i.jsx(o,{ref:g,className:Jn(s?`${_}-${s}`:_,c),...h})});l3.displayName="CardImg";const c3=I.forwardRef(({className:l,bsPrefix:c,as:s="div",...o},h)=>(c=Ai(c,"card-img-overlay"),i.jsx(s,{ref:h,className:Jn(l,c),...o})));c3.displayName="CardImgOverlay";const d3=I.forwardRef(({className:l,bsPrefix:c,as:s="a",...o},h)=>(c=Ai(c,"card-link"),i.jsx(s,{ref:h,className:Jn(l,c),...o})));d3.displayName="CardLink";const EU=Xv("h6"),u3=I.forwardRef(({className:l,bsPrefix:c,as:s=EU,...o},h)=>(c=Ai(c,"card-subtitle"),i.jsx(s,{ref:h,className:Jn(l,c),...o})));u3.displayName="CardSubtitle";const h3=I.forwardRef(({className:l,bsPrefix:c,as:s="p",...o},h)=>(c=Ai(c,"card-text"),i.jsx(s,{ref:h,className:Jn(l,c),...o})));h3.displayName="CardText";const SU=Xv("h5"),m3=I.forwardRef(({className:l,bsPrefix:c,as:s=SU,...o},h)=>(c=Ai(c,"card-title"),i.jsx(s,{ref:h,className:Jn(l,c),...o})));m3.displayName="CardTitle";const f3=I.forwardRef(({bsPrefix:l,className:c,bg:s,text:o,border:h,body:g=!1,children:_,as:y="div",...v},N)=>{const S=Ai(l,"card");return i.jsx(y,{ref:N,...v,className:Jn(c,S,s&&`bg-${s}`,o&&`text-${o}`,h&&`border-${h}`),children:g?i.jsx(zA,{children:_}):_})});f3.displayName="Card";const vs=Object.assign(f3,{Img:l3,Title:m3,Subtitle:u3,Body:zA,Link:d3,Text:h3,Header:a3,Footer:s3,ImgOverlay:c3});function jU(l){const c=I.useRef(l);return c.current=l,c}function DU(l){const c=jU(l);I.useEffect(()=>()=>c.current(),[])}function TU(l,c){return I.Children.toArray(l).some(s=>I.isValidElement(s)&&s.type===c)}function MU({as:l,bsPrefix:c,className:s,...o}){c=Ai(c,"col");const h=HH(),g=UH(),_=[],y=[];return h.forEach(v=>{const N=o[v];delete o[v];let S,D,j;typeof N=="object"&&N!=null?{span:S,offset:D,order:j}=N:S=N;const B=v!==g?`-${v}`:"";S&&_.push(S===!0?`${c}${B}`:`${c}${B}-${S}`),j!=null&&y.push(`order${B}-${j}`),D!=null&&y.push(`offset${B}-${D}`)}),[{...o,className:Jn(s,..._,...y)},{as:l,bsPrefix:c,spans:_}]}const p3=I.forwardRef((l,c)=>{const[{className:s,...o},{as:h="div",bsPrefix:g,spans:_}]=MU(l);return i.jsx(h,{...o,ref:c,className:Jn(s,!_.length&&g)})});p3.displayName="Col";var IU=Function.prototype.bind.call(Function.prototype.call,[].slice);function ep(l,c){return IU(l.querySelectorAll(c))}function lT(l,c){if(l.contains)return l.contains(c);if(l.compareDocumentPosition)return l===c||!!(l.compareDocumentPosition(c)&16)}const OU="data-rr-ui-";function LU(l){return`${OU}${l}`}const g3=I.createContext(vp?window:void 0);g3.Provider;function FA(){return I.useContext(g3)}const BU={type:ii.string,tooltip:ii.bool,as:ii.elementType},ew=I.forwardRef(({as:l="div",className:c,type:s="valid",tooltip:o=!1,...h},g)=>i.jsx(l,{...h,ref:g,className:Jn(c,`${s}-${o?"tooltip":"feedback"}`)}));ew.displayName="Feedback";ew.propTypes=BU;const _u=I.createContext({}),VA=I.forwardRef(({id:l,bsPrefix:c,className:s,type:o="checkbox",isValid:h=!1,isInvalid:g=!1,as:_="input",...y},v)=>{const{controlId:N}=I.useContext(_u);return c=Ai(c,"form-check-input"),i.jsx(_,{...y,ref:v,type:o,id:l||N,className:Jn(s,c,h&&"is-valid",g&&"is-invalid")})});VA.displayName="FormCheckInput";const vv=I.forwardRef(({bsPrefix:l,className:c,htmlFor:s,...o},h)=>{const{controlId:g}=I.useContext(_u);return l=Ai(l,"form-check-label"),i.jsx("label",{...o,ref:h,htmlFor:s||g,className:Jn(c,l)})});vv.displayName="FormCheckLabel";const b3=I.forwardRef(({id:l,bsPrefix:c,bsSwitchPrefix:s,inline:o=!1,reverse:h=!1,disabled:g=!1,isValid:_=!1,isInvalid:y=!1,feedbackTooltip:v=!1,feedback:N,feedbackType:S,className:D,style:j,title:B="",type:F="checkbox",label:H,children:$,as:K="input",...Q},ee)=>{c=Ai(c,"form-check"),s=Ai(s,"form-switch");const{controlId:ne}=I.useContext(_u),le=I.useMemo(()=>({controlId:l||ne}),[ne,l]),se=!$&&H!=null&&H!==!1||TU($,vv),q=i.jsx(VA,{...Q,type:F==="switch"?"checkbox":F,ref:ee,isValid:_,isInvalid:y,disabled:g,as:K});return i.jsx(_u.Provider,{value:le,children:i.jsx("div",{style:j,className:Jn(D,se&&c,o&&`${c}-inline`,h&&`${c}-reverse`,F==="switch"&&s),children:$||i.jsxs(i.Fragment,{children:[q,se&&i.jsx(vv,{title:B,children:H}),N&&i.jsx(ew,{type:S,tooltip:v,children:N})]})})})});b3.displayName="FormCheck";const wv=Object.assign(b3,{Input:VA,Label:vv}),k3=I.forwardRef(({bsPrefix:l,type:c,size:s,htmlSize:o,id:h,className:g,isValid:_=!1,isInvalid:y=!1,plaintext:v,readOnly:N,as:S="input",...D},j)=>{const{controlId:B}=I.useContext(_u);return l=Ai(l,"form-control"),i.jsx(S,{...D,type:c,size:o,ref:j,readOnly:N,id:h||B,className:Jn(g,v?`${l}-plaintext`:l,s&&`${l}-${s}`,c==="color"&&`${l}-color`,_&&"is-valid",y&&"is-invalid")})});k3.displayName="FormControl";const RU=Object.assign(k3,{Feedback:ew}),_3=I.forwardRef(({className:l,bsPrefix:c,as:s="div",...o},h)=>(c=Ai(c,"form-floating"),i.jsx(s,{ref:h,className:Jn(l,c),...o})));_3.displayName="FormFloating";const HA=I.forwardRef(({controlId:l,as:c="div",...s},o)=>{const h=I.useMemo(()=>({controlId:l}),[l]);return i.jsx(_u.Provider,{value:h,children:i.jsx(c,{...s,ref:o})})});HA.displayName="FormGroup";const v3=I.forwardRef(({as:l="label",bsPrefix:c,column:s=!1,visuallyHidden:o=!1,className:h,htmlFor:g,..._},y)=>{const{controlId:v}=I.useContext(_u);c=Ai(c,"form-label");let N="col-form-label";typeof s=="string"&&(N=`${N} ${N}-${s}`);const S=Jn(h,c,o&&"visually-hidden",s&&N);return g=g||v,s?i.jsx(p3,{ref:y,as:"label",className:S,htmlFor:g,..._}):i.jsx(l,{ref:y,className:S,htmlFor:g,..._})});v3.displayName="FormLabel";const w3=I.forwardRef(({bsPrefix:l,className:c,id:s,...o},h)=>{const{controlId:g}=I.useContext(_u);return l=Ai(l,"form-range"),i.jsx("input",{...o,type:"range",ref:h,className:Jn(c,l),id:s||g})});w3.displayName="FormRange";const y3=I.forwardRef(({bsPrefix:l,size:c,htmlSize:s,className:o,isValid:h=!1,isInvalid:g=!1,id:_,...y},v)=>{const{controlId:N}=I.useContext(_u);return l=Ai(l,"form-select"),i.jsx("select",{...y,size:s,ref:v,className:Jn(o,l,c&&`${l}-${c}`,h&&"is-valid",g&&"is-invalid"),id:_||N})});y3.displayName="FormSelect";const x3=I.forwardRef(({bsPrefix:l,className:c,as:s="small",muted:o,...h},g)=>(l=Ai(l,"form-text"),i.jsx(s,{...h,ref:g,className:Jn(c,l,o&&"text-muted")})));x3.displayName="FormText";const C3=I.forwardRef((l,c)=>i.jsx(wv,{...l,ref:c,type:"switch"}));C3.displayName="Switch";const PU=Object.assign(C3,{Input:wv.Input,Label:wv.Label}),A3=I.forwardRef(({bsPrefix:l,className:c,children:s,controlId:o,label:h,...g},_)=>(l=Ai(l,"form-floating"),i.jsxs(HA,{ref:_,className:Jn(c,l),controlId:o,...g,children:[s,i.jsx("label",{htmlFor:o,children:h})]})));A3.displayName="FloatingLabel";const zU={_ref:ii.any,validated:ii.bool,as:ii.elementType},UA=I.forwardRef(({className:l,validated:c,as:s="form",...o},h)=>i.jsx(s,{...o,ref:h,className:Jn(l,c&&"was-validated")}));UA.displayName="Form";UA.propTypes=zU;const gn=Object.assign(UA,{Group:HA,Control:RU,Floating:_3,Check:wv,Switch:PU,Label:v3,Text:x3,Range:w3,Select:y3,FloatingLabel:A3}),cT=l=>!l||typeof l=="function"?l:c=>{l.current=c};function FU(l,c){const s=cT(l),o=cT(c);return h=>{s&&s(h),o&&o(h)}}function $A(l,c){return I.useMemo(()=>FU(l,c),[l,c])}var V_;function dT(l){if((!V_&&V_!==0||l)&&vp){var c=document.createElement("div");c.style.position="absolute",c.style.top="-9999px",c.style.width="50px",c.style.height="50px",c.style.overflow="scroll",document.body.appendChild(c),V_=c.offsetWidth-c.clientWidth,document.body.removeChild(c)}return V_}function VU(){return I.useState(null)}function f0(l){l===void 0&&(l=Qv());try{var c=l.activeElement;return!c||!c.nodeName?null:c}catch{return l.body}}function HU(l){const c=I.useRef(l);return c.current=l,c}function UU(l){const c=HU(l);I.useEffect(()=>()=>c.current(),[])}function $U(l=document){const c=l.defaultView;return Math.abs(c.innerWidth-l.documentElement.clientWidth)}const uT=LU("modal-open");class qA{constructor({ownerDocument:c,handleContainerOverflow:s=!0,isRTL:o=!1}={}){this.handleContainerOverflow=s,this.isRTL=o,this.modals=[],this.ownerDocument=c}getScrollbarWidth(){return $U(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(c){}removeModalAttributes(c){}setContainerStyle(c){const s={overflow:"hidden"},o=this.isRTL?"paddingLeft":"paddingRight",h=this.getElement();c.style={overflow:h.style.overflow,[o]:h.style[o]},c.scrollBarWidth&&(s[o]=`${parseInt(Im(h,o)||"0",10)+c.scrollBarWidth}px`),h.setAttribute(uT,""),Im(h,s)}reset(){[...this.modals].forEach(c=>this.remove(c))}removeContainerStyle(c){const s=this.getElement();s.removeAttribute(uT),Object.assign(s.style,c.style)}add(c){let s=this.modals.indexOf(c);return s!==-1||(s=this.modals.length,this.modals.push(c),this.setModalAttributes(c),s!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),s}remove(c){const s=this.modals.indexOf(c);s!==-1&&(this.modals.splice(s,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(c))}isTopModal(c){return!!this.modals.length&&this.modals[this.modals.length-1]===c}}const p0=(l,c)=>vp?l==null?(c||Qv()).body:(typeof l=="function"&&(l=l()),l&&"current"in l&&(l=l.current),l&&("nodeType"in l||l.getBoundingClientRect)?l:null):null;function qU(l,c){const s=FA(),[o,h]=I.useState(()=>p0(l,s==null?void 0:s.document));if(!o){const g=p0(l);g&&h(g)}return I.useEffect(()=>{},[c,o]),I.useEffect(()=>{const g=p0(l);g!==o&&h(g)},[l,o]),o}function WU({children:l,in:c,onExited:s,mountOnEnter:o,unmountOnExit:h}){const g=I.useRef(null),_=I.useRef(c),y=ph(s);I.useEffect(()=>{c?_.current=!0:y(g.current)},[c,y]);const v=$A(g,Zv(l)),N=I.cloneElement(l,{ref:v});return c?N:h||!_.current&&o?null:N}const YU=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function GU(l,c){if(l==null)return{};var s={};for(var o in l)if({}.hasOwnProperty.call(l,o)){if(c.indexOf(o)>=0)continue;s[o]=l[o]}return s}function KU(l){let{onEnter:c,onEntering:s,onEntered:o,onExit:h,onExiting:g,onExited:_,addEndListener:y,children:v}=l,N=GU(l,YU);const S=I.useRef(null),D=$A(S,Zv(v)),j=ne=>le=>{ne&&S.current&&ne(S.current,le)},B=I.useCallback(j(c),[c]),F=I.useCallback(j(s),[s]),H=I.useCallback(j(o),[o]),$=I.useCallback(j(h),[h]),K=I.useCallback(j(g),[g]),Q=I.useCallback(j(_),[_]),ee=I.useCallback(j(y),[y]);return Object.assign({},N,{nodeRef:S},c&&{onEnter:B},s&&{onEntering:F},o&&{onEntered:H},h&&{onExit:$},g&&{onExiting:K},_&&{onExited:Q},y&&{addEndListener:ee},{children:typeof v=="function"?(ne,le)=>v(ne,Object.assign({},le,{ref:D})):I.cloneElement(v,{ref:D})})}const QU=["component"];function ZU(l,c){if(l==null)return{};var s={};for(var o in l)if({}.hasOwnProperty.call(l,o)){if(c.indexOf(o)>=0)continue;s[o]=l[o]}return s}const XU=I.forwardRef((l,c)=>{let{component:s}=l,o=ZU(l,QU);const h=KU(o);return i.jsx(s,Object.assign({ref:c},h))});function JU({in:l,onTransition:c}){const s=I.useRef(null),o=I.useRef(!0),h=ph(c);return aT(()=>{if(!s.current)return;let g=!1;return h({in:l,element:s.current,initial:o.current,isStale:()=>g}),()=>{g=!0}},[l,h]),aT(()=>(o.current=!1,()=>{o.current=!0}),[]),s}function e$({children:l,in:c,onExited:s,onEntered:o,transition:h}){const[g,_]=I.useState(!c);c&&g&&_(!1);const y=JU({in:!!c,onTransition:N=>{const S=()=>{N.isStale()||(N.in?o==null||o(N.element,N.initial):(_(!0),s==null||s(N.element)))};Promise.resolve(h(N)).then(S,D=>{throw N.in||_(!0),D})}}),v=$A(y,Zv(l));return g&&!c?null:I.cloneElement(l,{ref:v})}function hT(l,c,s){return l?i.jsx(XU,Object.assign({},s,{component:l})):c?i.jsx(e$,Object.assign({},s,{transition:c})):i.jsx(WU,Object.assign({},s))}const t$=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function n$(l,c){if(l==null)return{};var s={};for(var o in l)if({}.hasOwnProperty.call(l,o)){if(c.indexOf(o)>=0)continue;s[o]=l[o]}return s}let g0;function i$(l){return g0||(g0=new qA({ownerDocument:l==null?void 0:l.document})),g0}function r$(l){const c=FA(),s=l||i$(c),o=I.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>s.add(o.current),remove:()=>s.remove(o.current),isTopModal:()=>s.isTopModal(o.current),setDialogRef:I.useCallback(h=>{o.current.dialog=h},[]),setBackdropRef:I.useCallback(h=>{o.current.backdrop=h},[])})}const N3=I.forwardRef((l,c)=>{let{show:s=!1,role:o="dialog",className:h,style:g,children:_,backdrop:y=!0,keyboard:v=!0,onBackdropClick:N,onEscapeKeyDown:S,transition:D,runTransition:j,backdropTransition:B,runBackdropTransition:F,autoFocus:H=!0,enforceFocus:$=!0,restoreFocus:K=!0,restoreFocusOptions:Q,renderDialog:ee,renderBackdrop:ne=ze=>i.jsx("div",Object.assign({},ze)),manager:le,container:se,onShow:q,onHide:de=()=>{},onExit:re,onExited:be,onExiting:ke,onEnter:Ne,onEntering:De,onEntered:_e}=l,je=n$(l,t$);const oe=FA(),ve=qU(se),he=r$(le),Ee=fU(),Z=pU(s),[pe,xe]=I.useState(!s),Se=I.useRef(null);I.useImperativeHandle(c,()=>he,[he]),vp&&!Z&&s&&(Se.current=f0(oe==null?void 0:oe.document)),s&&pe&&xe(!1);const Fe=ph(()=>{if(he.add(),Le.current=kv(document,"keydown",Ie),qe.current=kv(document,"focus",()=>setTimeout(fe),!0),q&&q(),H){var ze,ht;const Rt=f0((ze=(ht=he.dialog)==null?void 0:ht.ownerDocument)!=null?ze:oe==null?void 0:oe.document);he.dialog&&Rt&&!lT(he.dialog,Rt)&&(Se.current=Rt,he.dialog.focus())}}),tt=ph(()=>{if(he.remove(),Le.current==null||Le.current(),qe.current==null||qe.current(),K){var ze;(ze=Se.current)==null||ze.focus==null||ze.focus(Q),Se.current=null}});I.useEffect(()=>{!s||!ve||Fe()},[s,ve,Fe]),I.useEffect(()=>{pe&&tt()},[pe,tt]),UU(()=>{tt()});const fe=ph(()=>{if(!$||!Ee()||!he.isTopModal())return;const ze=f0(oe==null?void 0:oe.document);he.dialog&&ze&&!lT(he.dialog,ze)&&he.dialog.focus()}),me=ph(ze=>{ze.target===ze.currentTarget&&(N==null||N(ze),y===!0&&de())}),Ie=ph(ze=>{v&&iU(ze)&&he.isTopModal()&&(S==null||S(ze),ze.defaultPrevented||de())}),qe=I.useRef(),Le=I.useRef(),st=(...ze)=>{xe(!0),be==null||be(...ze)};if(!ve)return null;const Ye=Object.assign({role:o,ref:he.setDialogRef,"aria-modal":o==="dialog"?!0:void 0},je,{style:g,className:h,tabIndex:-1});let Oe=ee?ee(Ye):i.jsx("div",Object.assign({},Ye,{children:I.cloneElement(_,{role:"document"})}));Oe=hT(D,j,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!s,onExit:re,onExiting:ke,onExited:st,onEnter:Ne,onEntering:De,onEntered:_e,children:Oe});let ut=null;return y&&(ut=ne({ref:he.setBackdropRef,onClick:me}),ut=hT(B,F,{in:!!s,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ut})),i.jsx(i.Fragment,{children:Nm.createPortal(i.jsxs(i.Fragment,{children:[ut,Oe]}),ve)})});N3.displayName="Modal";const s$=Object.assign(N3,{Manager:qA});function o$(l,c){return l.classList?l.classList.contains(c):(" "+(l.className.baseVal||l.className)+" ").indexOf(" "+c+" ")!==-1}function a$(l,c){l.classList?l.classList.add(c):o$(l,c)||(typeof l.className=="string"?l.className=l.className+" "+c:l.setAttribute("class",(l.className&&l.className.baseVal||"")+" "+c))}function mT(l,c){return l.replace(new RegExp("(^|\\s)"+c+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function l$(l,c){l.classList?l.classList.remove(c):typeof l.className=="string"?l.className=mT(l.className,c):l.setAttribute("class",mT(l.className&&l.className.baseVal||"",c))}const tp={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class c$ extends qA{adjustAndStore(c,s,o){const h=s.style[c];s.dataset[c]=h,Im(s,{[c]:`${parseFloat(Im(s,c))+o}px`})}restore(c,s){const o=s.dataset[c];o!==void 0&&(delete s.dataset[c],Im(s,{[c]:o}))}setContainerStyle(c){super.setContainerStyle(c);const s=this.getElement();if(a$(s,"modal-open"),!c.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",h=this.isRTL?"marginLeft":"marginRight";ep(s,tp.FIXED_CONTENT).forEach(g=>this.adjustAndStore(o,g,c.scrollBarWidth)),ep(s,tp.STICKY_CONTENT).forEach(g=>this.adjustAndStore(h,g,-c.scrollBarWidth)),ep(s,tp.NAVBAR_TOGGLER).forEach(g=>this.adjustAndStore(h,g,c.scrollBarWidth))}removeContainerStyle(c){super.removeContainerStyle(c);const s=this.getElement();l$(s,"modal-open");const o=this.isRTL?"paddingLeft":"paddingRight",h=this.isRTL?"marginLeft":"marginRight";ep(s,tp.FIXED_CONTENT).forEach(g=>this.restore(o,g)),ep(s,tp.STICKY_CONTENT).forEach(g=>this.restore(h,g)),ep(s,tp.NAVBAR_TOGGLER).forEach(g=>this.restore(h,g))}}let b0;function d$(l){return b0||(b0=new c$(l)),b0}const E3=I.forwardRef(({className:l,bsPrefix:c,as:s="div",...o},h)=>(c=Ai(c,"modal-body"),i.jsx(s,{ref:h,className:Jn(l,c),...o})));E3.displayName="ModalBody";const S3=I.createContext({onHide(){}}),WA=I.forwardRef(({bsPrefix:l,className:c,contentClassName:s,centered:o,size:h,fullscreen:g,children:_,scrollable:y,...v},N)=>{l=Ai(l,"modal");const S=`${l}-dialog`,D=typeof g=="string"?`${l}-fullscreen-${g}`:`${l}-fullscreen`;return i.jsx("div",{...v,ref:N,className:Jn(S,c,h&&`${l}-${h}`,o&&`${S}-centered`,y&&`${S}-scrollable`,g&&D),children:i.jsx("div",{className:Jn(`${l}-content`,s),children:_})})});WA.displayName="ModalDialog";const j3=I.forwardRef(({className:l,bsPrefix:c,as:s="div",...o},h)=>(c=Ai(c,"modal-footer"),i.jsx(s,{ref:h,className:Jn(l,c),...o})));j3.displayName="ModalFooter";const D3=I.forwardRef(({closeLabel:l="Close",closeVariant:c,closeButton:s=!1,onHide:o,children:h,...g},_)=>{const y=I.useContext(S3),v=_v(()=>{y==null||y.onHide(),o==null||o()});return i.jsxs("div",{ref:_,...g,children:[h,s&&i.jsx(Jv,{"aria-label":l,variant:c,onClick:v})]})});D3.displayName="AbstractModalHeader";const T3=I.forwardRef(({bsPrefix:l,className:c,closeLabel:s="Close",closeButton:o=!1,...h},g)=>(l=Ai(l,"modal-header"),i.jsx(D3,{ref:g,...h,className:Jn(c,l),closeLabel:s,closeButton:o})));T3.displayName="ModalHeader";const u$=Xv("h4"),M3=I.forwardRef(({className:l,bsPrefix:c,as:s=u$,...o},h)=>(c=Ai(c,"modal-title"),i.jsx(s,{ref:h,className:Jn(l,c),...o})));M3.displayName="ModalTitle";function h$(l){return i.jsx(fb,{...l,timeout:null})}function m$(l){return i.jsx(fb,{...l,timeout:null})}const I3=I.forwardRef(({bsPrefix:l,className:c,style:s,dialogClassName:o,contentClassName:h,children:g,dialogAs:_=WA,"data-bs-theme":y,"aria-labelledby":v,"aria-describedby":N,"aria-label":S,show:D=!1,animation:j=!0,backdrop:B=!0,keyboard:F=!0,onEscapeKeyDown:H,onShow:$,onHide:K,container:Q,autoFocus:ee=!0,enforceFocus:ne=!0,restoreFocus:le=!0,restoreFocusOptions:se,onEntered:q,onExit:de,onExiting:re,onEnter:be,onEntering:ke,onExited:Ne,backdropClassName:De,manager:_e,...je},oe)=>{const[ve,he]=I.useState({}),[Ee,Z]=I.useState(!1),pe=I.useRef(!1),xe=I.useRef(!1),Se=I.useRef(null),[Fe,tt]=VU(),fe=Z5(oe,tt),me=_v(K),Ie=$H();l=Ai(l,"modal");const qe=I.useMemo(()=>({onHide:me}),[me]);function Le(){return _e||d$({isRTL:Ie})}function st(bt){if(!vp)return;const Ut=Le().getScrollbarWidth()>0,hn=bt.scrollHeight>Qv(bt).documentElement.clientHeight;he({paddingRight:Ut&&!hn?dT():void 0,paddingLeft:!Ut&&hn?dT():void 0})}const Ye=_v(()=>{Fe&&st(Fe.dialog)});DU(()=>{gA(window,"resize",Ye),Se.current==null||Se.current()});const Oe=()=>{pe.current=!0},ut=bt=>{pe.current&&Fe&&bt.target===Fe.dialog&&(xe.current=!0),pe.current=!1},ze=()=>{Z(!0),Se.current=Q5(Fe.dialog,()=>{Z(!1)})},ht=bt=>{bt.target===bt.currentTarget&&ze()},Rt=bt=>{if(B==="static"){ht(bt);return}if(xe.current||bt.target!==bt.currentTarget){xe.current=!1;return}K==null||K()},Xt=bt=>{F?H==null||H(bt):(bt.preventDefault(),B==="static"&&ze())},at=(bt,Ut)=>{bt&&st(bt),be==null||be(bt,Ut)},jt=bt=>{Se.current==null||Se.current(),de==null||de(bt)},Dt=(bt,Ut)=>{ke==null||ke(bt,Ut),K5(window,"resize",Ye)},Qe=bt=>{bt&&(bt.style.display=""),Ne==null||Ne(bt),gA(window,"resize",Ye)},It=I.useCallback(bt=>i.jsx("div",{...bt,className:Jn(`${l}-backdrop`,De,!j&&"show")}),[j,De,l]),Lt={...s,...ve};Lt.display="block";const Ue=bt=>i.jsx("div",{role:"dialog",...bt,style:Lt,className:Jn(c,l,Ee&&`${l}-static`,!j&&"show"),onClick:B?Rt:void 0,onMouseUp:ut,"data-bs-theme":y,"aria-label":S,"aria-labelledby":v,"aria-describedby":N,children:i.jsx(_,{...je,onMouseDown:Oe,className:o,contentClassName:h,children:g})});return i.jsx(S3.Provider,{value:qe,children:i.jsx(s$,{show:D,ref:fe,backdrop:B,container:Q,keyboard:!0,autoFocus:ee,enforceFocus:ne,restoreFocus:le,restoreFocusOptions:se,onEscapeKeyDown:Xt,onShow:$,onHide:K,onEnter:at,onEntering:Dt,onEntered:q,onExit:jt,onExiting:re,onExited:Qe,manager:Le(),transition:j?h$:void 0,backdropTransition:j?m$:void 0,renderBackdrop:It,renderDialog:Ue})})});I3.displayName="Modal";const yt=Object.assign(I3,{Body:E3,Header:T3,Title:M3,Footer:j3,Dialog:WA,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),O3=I.forwardRef(({bsPrefix:l,variant:c,animation:s="border",size:o,as:h="div",className:g,..._},y)=>{l=Ai(l,"spinner");const v=`${l}-${s}`;return i.jsx(h,{ref:y,..._,className:Jn(g,v,o&&`${v}-${o}`,c&&`text-${c}`)})});O3.displayName="Spinner";function L3({show:l,onClose:c}){const[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(!1),[S,D]=I.useState(!1),[j,B]=I.useState(""),[F,H]=I.useState(""),$=async ee=>{var ne,le;ee.preventDefault(),g(""),y(""),B(""),H(""),N(!0);try{const se=await kt.post("http://localhost:3000/api/auth/forgot-password",{email:s});g(se.data.message||"Nu email tn ti, hng dn t li mt khu  c gi.")}catch(se){y(((le=(ne=se.response)==null?void 0:ne.data)==null?void 0:le.message)||"Li gi email t li mt khu")}finally{N(!1)}},K=async()=>{var ee,ne;D(!0),B(""),H("");try{const le=await kt.post("http://localhost:3000/api/auth/forgot-password",{email:s});B(le.data.message||"Email t li mt khu  c gi li.")}catch(le){H(((ne=(ee=le.response)==null?void 0:ee.data)==null?void 0:ne.message)||"Li gi li email t li mt khu")}finally{D(!1)}},Q=()=>{g(""),y(""),B(""),H(""),o("")};return i.jsxs(yt,{show:l,onHide:c,centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Qun mt khu"})}),i.jsx(yt.Body,{children:h?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"alert alert-success",children:h}),i.jsx("button",{type:"button",className:"btn btn-link p-0 mt-2 text-decoration-none",onClick:K,disabled:S||!s,children:S?"ang gi li...":"Gi li email t li mt khu"}),j&&i.jsx("div",{className:"alert alert-success mt-2",children:j}),F&&i.jsx("div",{className:"alert alert-danger mt-2",children:F}),i.jsx("div",{className:"text-center mt-3",children:i.jsx("button",{type:"button",className:"btn btn-link p-0 text-decoration-underline",onClick:Q,children:"Nhp email khc"})})]}):i.jsxs("form",{onSubmit:$,children:[_&&i.jsx("div",{className:"alert alert-danger",children:_}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Nhp email ca bn:"}),i.jsx("input",{type:"email",className:"form-control",value:s,onChange:ee=>o(ee.target.value),required:!0,disabled:v})]}),i.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:v||!s,children:v?"ang gi...":"Gi email t li mt khu"})]})})]})}var H_={},fT;function f$(){if(fT)return H_;fT=1,H_.match=g,H_.parse=_;var l=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,c=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,s=/^(?:(min|max)-)?(.+)/,o=/(em|rem|px|cm|mm|in|pt|pc)?$/,h=/(dpi|dpcm|dppx)?$/;function g(S,D){return _(S).some(function(j){var B=j.inverse,F=j.type==="all"||D.type===j.type;if(F&&B||!(F||B))return!1;var H=j.expressions.every(function($){var K=$.feature,Q=$.modifier,ee=$.value,ne=D[K];if(!ne)return!1;switch(K){case"orientation":case"scan":return ne.toLowerCase()===ee.toLowerCase();case"width":case"height":case"device-width":case"device-height":ee=N(ee),ne=N(ne);break;case"resolution":ee=v(ee),ne=v(ne);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":ee=y(ee),ne=y(ne);break;case"grid":case"color":case"color-index":case"monochrome":ee=parseInt(ee,10)||1,ne=parseInt(ne,10)||0;break}switch(Q){case"min":return ne>=ee;case"max":return ne<=ee;default:return ne===ee}});return H&&!B||!H&&B})}function _(S){return S.split(",").map(function(D){D=D.trim();var j=D.match(l),B=j[1],F=j[2],H=j[3]||"",$={};return $.inverse=!!B&&B.toLowerCase()==="not",$.type=F?F.toLowerCase():"all",H=H.match(/\([^\)]+\)/g)||[],$.expressions=H.map(function(K){var Q=K.match(c),ee=Q[1].toLowerCase().match(s);return{modifier:ee[1],feature:ee[2],value:Q[2]}}),$})}function y(S){var D=Number(S),j;return D||(j=S.match(/^(\d+)\s*\/\s*(\d+)$/),D=j[1]/j[2]),D}function v(S){var D=parseFloat(S),j=String(S).match(h)[1];switch(j){case"dpcm":return D/2.54;case"dppx":return D*96;default:return D}}function N(S){var D=parseFloat(S),j=String(S).match(o)[1];switch(j){case"em":return D*16;case"rem":return D*16;case"cm":return D*96/2.54;case"mm":return D*96/2.54/10;case"in":return D*96;case"pt":return D*72;case"pc":return D*72/12;default:return D}}return H_}var k0,pT;function p$(){if(pT)return k0;pT=1;var l=f$().match,c=typeof window<"u"?window.matchMedia:null;function s(h,g,_){var y=this,v;c&&!_&&(v=c.call(window,h)),v?(this.matches=v.matches,this.media=v.media,v.addListener(D)):(this.matches=l(h,g),this.media=h),this.addListener=N,this.removeListener=S,this.dispose=j;function N(B){v&&v.addListener(B)}function S(B){v&&v.removeListener(B)}function D(B){y.matches=B.matches,y.media=B.media}function j(){v&&v.removeListener(D)}}function o(h,g,_){return new s(h,g,_)}return k0=o,k0}var g$=p$();const b$=Vm(g$);var k$=/[A-Z]/g,_$=/^ms-/,_0={};function v$(l){return"-"+l.toLowerCase()}function B3(l){if(_0.hasOwnProperty(l))return _0[l];var c=l.replace(k$,v$);return _0[l]=_$.test(c)?"-"+c:c}function w$(l,c){if(l===c)return!0;if(!l||!c)return!1;const s=Object.keys(l),o=Object.keys(c),h=s.length;if(o.length!==h)return!1;for(let g=0;g<h;g++){const _=s[g];if(l[_]!==c[_]||!Object.prototype.hasOwnProperty.call(c,_))return!1}return!0}const fa=ii.oneOfType([ii.string,ii.number]),R3={all:ii.bool,grid:ii.bool,aural:ii.bool,braille:ii.bool,handheld:ii.bool,print:ii.bool,projection:ii.bool,screen:ii.bool,tty:ii.bool,tv:ii.bool,embossed:ii.bool},y$={orientation:ii.oneOf(["portrait","landscape"]),scan:ii.oneOf(["progressive","interlace"]),aspectRatio:ii.string,deviceAspectRatio:ii.string,height:fa,deviceHeight:fa,width:fa,deviceWidth:fa,color:ii.bool,colorIndex:ii.bool,monochrome:ii.bool,resolution:fa,type:Object.keys(R3)},{type:aee,...x$}=y$,C$={minAspectRatio:ii.string,maxAspectRatio:ii.string,minDeviceAspectRatio:ii.string,maxDeviceAspectRatio:ii.string,minHeight:fa,maxHeight:fa,minDeviceHeight:fa,maxDeviceHeight:fa,minWidth:fa,maxWidth:fa,minDeviceWidth:fa,maxDeviceWidth:fa,minColor:ii.number,maxColor:ii.number,minColorIndex:ii.number,maxColorIndex:ii.number,minMonochrome:ii.number,maxMonochrome:ii.number,minResolution:fa,maxResolution:fa,...x$},A$={...R3,...C$};var N$={all:A$};const E$=l=>`not ${l}`,S$=(l,c)=>{const s=B3(l);return typeof c=="number"&&(c=`${c}px`),c===!0?s:c===!1?E$(s):`(${s}: ${c})`},j$=l=>l.join(" and "),D$=l=>{const c=[];return Object.keys(N$.all).forEach(s=>{const o=l[s];o!=null&&c.push(S$(s,o))}),j$(c)},T$=I.createContext(void 0),M$=l=>l.query||D$(l),gT=l=>l?Object.keys(l).reduce((s,o)=>(s[B3(o)]=l[o],s),{}):void 0,P3=()=>{const l=I.useRef(!1);return I.useEffect(()=>{l.current=!0},[]),l.current},I$=l=>{const c=I.useContext(T$),s=()=>gT(l)||gT(c),[o,h]=I.useState(s);return I.useEffect(()=>{const g=s();w$(o,g)||h(g)},[l,c]),o},O$=l=>{const c=()=>M$(l),[s,o]=I.useState(c);return I.useEffect(()=>{const h=c();s!==h&&o(h)},[l]),s},L$=(l,c)=>{const s=()=>b$(l,c||{},!!c),[o,h]=I.useState(s),g=P3();return I.useEffect(()=>{if(g){const _=s();return h(_),()=>{_&&_.dispose()}}},[l,c]),o},B$=l=>{const[c,s]=I.useState(l.matches);return I.useEffect(()=>{const o=h=>{s(h.matches)};return l.addListener(o),s(l.matches),()=>{l.removeListener(o)}},[l]),c},R$=(l,c,s)=>{const o=I$(c),h=O$(l);if(!h)throw new Error("Invalid or missing MediaQuery!");const g=L$(h,o),_=B$(g);return P3(),I.useEffect(()=>{},[_]),I.useEffect(()=>()=>{g&&g.dispose()},[]),_},z3=()=>{const[l,c]=I.useState({show:!1,message:"",title:"",type:"info",confirmText:"ng"}),[s,o]=I.useState({show:!1,message:"",title:"Xc nhn",onConfirm:null,confirmText:"Xc nhn",cancelText:"Hy",type:"warning",confirmVariant:"danger"}),h=(H,$="Thng bo",K="info",Q="ng")=>{c({show:!0,message:H,title:$,type:K,confirmText:Q})},g=()=>{c({show:!1,message:"",title:"",type:"info",confirmText:"ng"})},_=(H,$,K="Xc nhn",Q="Xc nhn",ee="Hy",ne="warning",le="danger")=>{o({show:!0,message:H,title:K,onConfirm:$,confirmText:Q,cancelText:ee,type:ne,confirmVariant:le})},y=()=>{o({show:!1,message:"",title:"Xc nhn",onConfirm:null,confirmText:"Xc nhn",cancelText:"Hy",type:"warning",confirmVariant:"danger"})};return{alertModal:l,confirmModal:s,showAlert:h,hideAlert:g,showConfirm:_,hideConfirm:y,handleConfirm:()=>{s.onConfirm&&s.onConfirm(),y()},showSuccess:(H,$="Thnh cng")=>{h(H,$,"success","ng")},showError:(H,$="Li")=>{h(H,$,"error","ng")},showWarning:(H,$="Cnh bo")=>{h(H,$,"warning","ng")},showInfo:(H,$="Thng tin")=>{h(H,$,"info","ng")},showDeleteConfirm:(H,$,K="Xc nhn xa")=>{_(H,$,K,"Xa","Hy","danger","danger")},showCancelConfirm:(H,$,K="Xc nhn hy")=>{_(H,$,K,"Hy","Khng","warning","warning")}}},bA=({show:l,onClose:c,title:s="Thng bo",message:o,type:h="info",confirmText:g="ng"})=>{const _=()=>{switch(h){case"success":return i.jsx("i",{className:"bi bi-check-circle-fill text-success me-2"});case"error":return i.jsx("i",{className:"bi bi-exclamation-triangle-fill text-danger me-2"});case"warning":return i.jsx("i",{className:"bi bi-exclamation-triangle-fill text-warning me-2"});default:return i.jsx("i",{className:"bi bi-info-circle-fill text-info me-2"})}},y=()=>{switch(h){case"success":return"success";case"error":return"danger";case"warning":return"warning";default:return"primary"}};return i.jsxs(yt,{show:l,onHide:c,centered:!0,className:"luxury-modal",children:[i.jsx(yt.Header,{closeButton:!0,className:"luxury-modal-header",children:i.jsxs(yt.Title,{className:"luxury-modal-title d-flex align-items-center",children:[_(),s]})}),i.jsx(yt.Body,{className:"luxury-modal-body",children:i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"mb-0",style:{fontSize:"1.1rem",lineHeight:"1.6"},children:o})})}),i.jsx(yt.Footer,{className:"luxury-modal-footer",children:i.jsx(Ht,{variant:y(),onClick:c,className:"btn-main",style:{minWidth:"100px"},children:g})})]})};function Lr(){const{user:l,logout:c}=I.useContext(ls);ba();const[s,o]=I.useState(!1),[h,g]=I.useState("login"),[_,y]=I.useState(!1),[v,N]=I.useState(!1),[S,D]=I.useState(!1),j=I.useRef(),B=I.useRef(),{t:F}=yh(),[H,$]=I.useState(!1),K=R$({maxWidth:768}),{showSuccess:Q}=z3(),[ee,ne]=I.useState(!1),[le,se]=I.useState(!1),[q,de]=I.useState(""),re="https://walkingguide.onrender.com",be=()=>{c(),ne(!0)},ke=()=>{c(),y(!1),N(!1),Q("ng xut thnh cng!")},Ne=()=>N(!1),De=()=>{g("login"),o(!0),y(!1)},_e=()=>{g("register"),o(!0),y(!1)},je=()=>o(!1),oe=()=>{ne(!1)},ve=he=>{de(`Cho mng tr li, ${he.full_name}!`),se(!0)};return it.useEffect(()=>{function he(Ee){j.current&&!j.current.contains(Ee.target)&&y(!1),B.current&&!B.current.contains(Ee.target)&&$(!1)}return _||H?document.addEventListener("mousedown",he):document.removeEventListener("mousedown",he),()=>document.removeEventListener("mousedown",he)},[_,H]),i.jsxs(i.Fragment,{children:[i.jsx("header",{className:"luxury-navbar luxury-header navbar navbar-expand-lg fixed-top app-header-mobile",style:{marginBottom:0},children:i.jsxs("div",{className:"container d-flex align-items-center justify-content-between header-content-mobile",children:[i.jsx("div",{className:"d-flex align-items-center",children:i.jsx(Jt,{to:"/",children:i.jsx("img",{src:"/banner.png",alt:"Walking Guide Banner",className:"header-logo-mobile",style:{height:K?56:180,width:"auto",objectFit:"contain",display:"block"}})})}),K?i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"btn btn-link p-0 ms-auto",style:{fontSize:32,color:"#1a5bb8",background:"none",border:"none"},onClick:()=>$(he=>!he),"aria-label":"Open navigation menu",children:i.jsx("i",{className:"bi bi-list"})}),H&&i.jsxs("div",{ref:B,style:{position:"absolute",top:56,right:8,background:"#fff",boxShadow:"0 4px 16px rgba(60,72,100,0.15)",borderRadius:12,zIndex:1e4,minWidth:180,padding:12,display:"flex",flexDirection:"column",gap:10},children:[i.jsx(X2,{}),l&&i.jsxs(Jt,{to:"/my-tours",className:"btn d-flex align-items-center text-decoration-none",style:{gap:8,fontSize:16,padding:6},onClick:()=>$(!1),children:[i.jsx("i",{className:"bi bi-person-walking",style:{fontSize:20,color:"#1a5bb8"}}),i.jsx("span",{style:{color:"#1a5bb8"},children:F("Your Bookings")})]}),l&&i.jsx(Q2,{}),i.jsxs("div",{className:"dropdown mt-2",children:[i.jsx("button",{className:"btn rounded-circle p-0 d-flex align-items-center justify-content-center border-0",style:{width:40,height:40,background:"none",boxShadow:"none"},onClick:()=>y(he=>!he),"aria-label":"User menu",children:l&&l.image_url?i.jsx("img",{src:l.image_url.startsWith("http")?l.image_url:`${re}${l.image_url}`,alt:"User Avatar",style:{width:36,height:36,objectFit:"cover",borderRadius:"50%",border:"2px solid #fff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}):i.jsx("i",{className:"bi bi-person-circle",style:{fontSize:28,color:"#1a5bb8",padding:0,background:"none"}})}),_&&i.jsx("div",{className:"dropdown-menu dropdown-menu-end show mt-2 p-3 shadow",style:{minWidth:220,right:0,left:"auto",position:"absolute",zIndex:10001},children:l?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-3 text-center",children:[l.image_url&&i.jsx("div",{className:"mb-2",children:i.jsx("img",{src:l.image_url.startsWith("http")?l.image_url:`${re}${l.image_url}`,alt:"User Avatar",style:{width:60,height:60,objectFit:"cover",borderRadius:"50%",border:"3px solid #fff",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}})}),i.jsx("div",{className:"fw-bold",style:{fontSize:"1.1rem"},children:l.full_name}),i.jsx("div",{className:"text-muted",style:{fontSize:"0.95rem"},children:l.email})]}),i.jsx("hr",{className:"my-2"}),l.role==="ADMIN"&&i.jsxs(Jt,{to:"/admin",className:"dropdown-item text-decoration-none",onClick:()=>{y(!1),$(!1)},children:[i.jsx("i",{className:"bi bi-gear-wide-connected me-2"}),F("Admin Dashboard")]}),i.jsxs(Jt,{to:"/users",className:"dropdown-item text-decoration-none me-2",onClick:()=>{y(!1),$(!1)},children:[i.jsx("i",{className:"bi bi-person-circle me-2"}),F("Profile")]}),i.jsxs(Jt,{to:"/notifications",className:"dropdown-item text-decoration-none me-2",onClick:()=>{y(!1),$(!1)},children:[i.jsx("i",{className:"bi bi-bell me-2"}),F("Notifications")]}),i.jsxs("button",{className:"dropdown-item text-danger mt-2",onClick:()=>{be(),y(!1),$(!1)},children:[i.jsx("i",{className:"bi bi-box-arrow-right me-2"}),F("Logout")]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("button",{className:"dropdown-item",onClick:()=>{De(),$(!1)},children:[i.jsx("i",{className:"bi bi-box-arrow-in-right me-2"}),F("Login")]}),i.jsxs("button",{className:"dropdown-item",onClick:()=>{_e(),$(!1)},children:[i.jsx("i",{className:"bi bi-person-plus me-2"}),F("Register")]})]})})]})]})]}):i.jsxs("div",{className:"d-flex align-items-center gap-2 position-relative",ref:j,children:[i.jsx(X2,{}),l&&i.jsxs(Jt,{to:"/my-tours",className:"btn d-flex align-items-center me-2 text-decoration-none",style:{gap:8},children:[i.jsx("i",{className:"bi bi-person-walking",style:{fontSize:20,color:"#1a5bb8"}}),i.jsx("span",{style:{color:"#1a5bb8"},children:F("Your Bookings")})]}),l&&i.jsx(Q2,{}),i.jsxs("div",{className:"dropdown",children:[i.jsx("button",{className:"btn rounded-circle p-0 d-flex align-items-center justify-content-center border-0",style:{width:48,height:48,background:"none",boxShadow:"none"},onClick:()=>y(he=>!he),"aria-label":"User menu",children:l&&l.image_url?i.jsx("img",{src:l.image_url.startsWith("http")?l.image_url:`${re}${l.image_url}`,alt:"User Avatar",style:{width:40,height:40,objectFit:"cover",borderRadius:"50%",border:"2px solid #fff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}):i.jsx("i",{className:"bi bi-person-circle",style:{fontSize:32,color:"#1a5bb8",padding:0,background:"none"}})}),_&&i.jsx("div",{className:"dropdown-menu dropdown-menu-end show mt-2 p-3 shadow",style:{minWidth:220,right:0,left:"auto"},children:l?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-3 text-center",children:[l.image_url&&i.jsx("div",{className:"mb-2",children:i.jsx("img",{src:l.image_url.startsWith("http")?l.image_url:`${re}${l.image_url}`,alt:"User Avatar",style:{width:60,height:60,objectFit:"cover",borderRadius:"50%",border:"3px solid #fff",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}})}),i.jsx("div",{className:"fw-bold",style:{fontSize:"1.1rem"},children:l.full_name}),i.jsx("div",{className:"text-muted",style:{fontSize:"0.95rem"},children:l.email})]}),i.jsx("hr",{className:"my-2"}),l.role==="ADMIN"&&i.jsxs(Jt,{to:"/admin",className:"dropdown-item text-decoration-none",onClick:()=>y(!1),children:[i.jsx("i",{className:"bi bi-gear-wide-connected me-2"}),F("Admin Dashboard")]}),i.jsxs(Jt,{to:"/users",className:"dropdown-item text-decoration-none me-2",onClick:()=>y(!1),children:[i.jsx("i",{className:"bi bi-person-circle me-2"}),F("Profile")]}),i.jsxs(Jt,{to:"/notifications",className:"dropdown-item text-decoration-none me-2",onClick:()=>y(!1),children:[i.jsx("i",{className:"bi bi-bell me-2"}),F("Notifications")]}),i.jsxs("button",{className:"dropdown-item text-danger mt-2",onClick:be,children:[i.jsx("i",{className:"bi bi-box-arrow-right me-2"}),F("Logout")]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("button",{className:"dropdown-item",onClick:De,children:[i.jsx("i",{className:"bi bi-box-arrow-in-right me-2"}),F("Login")]}),i.jsxs("button",{className:"dropdown-item",onClick:_e,children:[i.jsx("i",{className:"bi bi-person-plus me-2"}),F("Register")]})]})})]})]})]})}),i.jsx(H5,{open:s,onClose:je,children:h==="login"?i.jsx(CH,{onSuccess:je,onLoginSuccess:ve,onSwitch:()=>g("register"),onForgotPassword:()=>D(!0)}):i.jsx(AH,{onSuccess:je,onSwitch:()=>g("login")})}),i.jsx(L3,{show:S,onClose:()=>D(!1)}),i.jsx(NH,{open:v,title:"Xc nhn ng xut",message:"Bn c chc chn mun ng xut?",onConfirm:ke,onCancel:Ne}),i.jsx(bA,{show:ee,onClose:oe,title:"Thnh cng",message:"ng xut thnh cng!",type:"success",confirmText:"ng"}),i.jsx(bA,{show:le,onClose:()=>se(!1),title:"Thnh cng",message:q,type:"success",confirmText:"ng"})]})}const F3=()=>zt.get("/settings/footer"),P$=l=>zt.put("/settings/footer",l);function $r(){const[l,c]=I.useState({}),{t:s}=yh();I.useEffect(()=>{let j=!0;return F3().then(B=>{j&&B.data&&B.data.success&&c(B.data.data||{})}).catch(()=>{}),()=>{j=!1}},[]);const o=l.footerDescription||s("Walking Guide l mt trang web gip bn ln k hoch du lch, v tm kim cc a im du lch gn bn."),h=l.footerCopyright||s(` ${new Date().getFullYear()} Walking Guide. All rights reserved.`),g=l.contactEmail||s("info@walkingguide.com"),_=l.contactPhone||s("+1 234 567 890"),y=l.contactAddress||s(""),v=l.facebookUrl||s("https://facebook.com"),N=l.instagramUrl||s("https://instagram.com"),S=l.twitterUrl||"https://twitter.com",D=l.youtubeUrl||"";return i.jsx("footer",{className:"luxury-footer",children:i.jsxs("div",{className:"container",children:[i.jsxs("div",{className:"row text-center text-md-start gy-4 align-items-start",children:[i.jsxs("div",{className:"col-12 col-md-3 mb-3 mb-md-0",children:[i.jsx("h5",{className:"mb-3",style:{color:"#b6e0fe"},children:s("About")}),i.jsx("p",{style:{fontSize:"1rem",color:"#e3f0ff",margin:0},children:o})]}),i.jsxs("div",{className:"col-12 col-md-3 mb-3 mb-md-0",children:[i.jsx("h5",{className:"mb-3",style:{color:"#b6e0fe"},children:s("Quick Links")}),i.jsxs("ul",{className:"list-unstyled",style:{fontSize:"1rem",color:"#e3f0ff",margin:0},children:[i.jsx("li",{children:i.jsx("a",{href:"/",style:{color:"#fff",textDecoration:"underline"},children:s("Home")})}),i.jsx("li",{children:i.jsx("a",{href:"/tours",style:{color:"#fff",textDecoration:"underline"},children:s("Tours")})}),i.jsx("li",{children:i.jsx("a",{href:"/places",style:{color:"#fff",textDecoration:"underline"},children:s("Places")})}),i.jsx("li",{children:i.jsx("a",{href:"/articles",style:{color:"#fff",textDecoration:"underline"},children:s("Articles")})})]})]}),i.jsxs("div",{className:"col-12 col-md-3 mb-3 mb-md-0",children:[i.jsx("h5",{className:"mb-3",style:{color:"#b6e0fe"},children:s("Contact")}),i.jsxs("p",{style:{fontSize:"1rem",color:"#e3f0ff",margin:0},children:[s("Email:")," ",i.jsx("a",{href:`mailto:${g}`,style:{color:"#fff",textDecoration:"underline"},children:g}),i.jsx("br",{}),s("Phone:")," ",i.jsx("a",{href:`tel:${_}`,style:{color:"#fff",textDecoration:"underline"},children:_}),y&&i.jsxs(i.Fragment,{children:[i.jsx("br",{}),s("Address:")," ",i.jsx("span",{style:{color:"#fff"},children:y})]})]})]}),i.jsxs("div",{className:"col-12 col-md-3 mb-3 mb-md-0",children:[i.jsx("h5",{className:"mb-3",style:{color:"#b6e0fe"},children:s("Follow Us")}),i.jsxs("div",{style:{fontSize:"1.5rem"},children:[v&&i.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",style:{margin:"0 8px",color:"#fff"},children:i.jsx("i",{className:"bi bi-facebook"})}),N&&i.jsx("a",{href:N,target:"_blank",rel:"noopener noreferrer",style:{margin:"0 8px",color:"#fff"},children:i.jsx("i",{className:"bi bi-instagram"})}),i.jsx("a",{href:S,target:"_blank",rel:"noopener noreferrer",style:{margin:"0 8px",color:"#fff"},children:i.jsx("i",{className:"bi bi-twitter-x"})}),D&&i.jsx("a",{href:D,target:"_blank",rel:"noopener noreferrer",style:{margin:"0 8px",color:"#fff"},children:i.jsx("i",{className:"bi bi-youtube"})})]}),i.jsxs("div",{style:{fontSize:"0.95rem",color:"#b6e0fe",marginTop:8},children:[s("Developed by")," ",i.jsx("a",{href:"https://github.com/yourteam",target:"_blank",rel:"noopener noreferrer",style:{color:"#fff",textDecoration:"underline"},children:"Walking Guide Team"})]})]})]}),i.jsx("hr",{style:{borderColor:"#b6e0fe",opacity:.3,margin:"1.5rem 0"}}),i.jsx("div",{className:"text-center",style:{fontSize:"1rem",color:"#e3f0ff"},children:h})]})})}class z$ extends it.Component{constructor(){super(...arguments);tn(this,"state",{hasError:!1})}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?i.jsx("div",{className:"text-danger text-center",children:"Li hin th bn . Vui lng th li sau."}):this.props.children}}function V3(l,c){const s=I.useRef(c);I.useEffect(function(){c!==s.current&&l.attributionControl!=null&&(s.current!=null&&l.attributionControl.removeAttribution(s.current),c!=null&&l.attributionControl.addAttribution(c)),s.current=c},[l,c])}const F$=1;function V$(l){return Object.freeze({__version:F$,map:l})}function H3(l,c){return Object.freeze({...l,...c})}const YA=I.createContext(null);function tw(){const l=I.use(YA);if(l==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return l}function U3(l){function c(s,o){const{instance:h,context:g}=l(s).current;I.useImperativeHandle(o,()=>h);const{children:_}=s;return _==null?null:it.createElement(YA,{value:g},_)}return I.forwardRef(c)}function H$(l){function c(s,o){const[h,g]=I.useState(!1),{instance:_}=l(s,g).current;I.useImperativeHandle(o,()=>_),I.useEffect(function(){h&&_.update()},[_,h,s.children]);const y=_._contentNode;return y?OA.createPortal(s.children,y):null}return I.forwardRef(c)}function U$(l){function c(s,o){const{instance:h}=l(s).current;return I.useImperativeHandle(o,()=>h),null}return I.forwardRef(c)}function GA(l,c){const s=I.useRef(void 0);I.useEffect(function(){return c!=null&&l.instance.on(c),s.current=c,function(){s.current!=null&&l.instance.off(s.current),s.current=null}},[l,c])}function nw(l,c){const s=l.pane??c.pane;return s?{...l,pane:s}:l}function $$(l,c){return function(o,h){const g=tw(),_=l(nw(o,g),g);return V3(g.map,o.attribution),GA(_.current,o.eventHandlers),c(_.current,g,o,h),_}}var sb={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var q$=sb.exports,bT;function W$(){return bT||(bT=1,function(l,c){(function(s,o){o(c)})(q$,function(s){var o="1.9.4";function h(p){var x,T,V,G;for(T=1,V=arguments.length;T<V;T++){G=arguments[T];for(x in G)p[x]=G[x]}return p}var g=Object.create||function(){function p(){}return function(x){return p.prototype=x,new p}}();function _(p,x){var T=Array.prototype.slice;if(p.bind)return p.bind.apply(p,T.call(arguments,1));var V=T.call(arguments,2);return function(){return p.apply(x,V.length?V.concat(T.call(arguments)):arguments)}}var y=0;function v(p){return"_leaflet_id"in p||(p._leaflet_id=++y),p._leaflet_id}function N(p,x,T){var V,G,ie,Ce;return Ce=function(){V=!1,G&&(ie.apply(T,G),G=!1)},ie=function(){V?G=arguments:(p.apply(T,arguments),setTimeout(Ce,x),V=!0)},ie}function S(p,x,T){var V=x[1],G=x[0],ie=V-G;return p===V&&T?p:((p-G)%ie+ie)%ie+G}function D(){return!1}function j(p,x){if(x===!1)return p;var T=Math.pow(10,x===void 0?6:x);return Math.round(p*T)/T}function B(p){return p.trim?p.trim():p.replace(/^\s+|\s+$/g,"")}function F(p){return B(p).split(/\s+/)}function H(p,x){Object.prototype.hasOwnProperty.call(p,"options")||(p.options=p.options?g(p.options):{});for(var T in x)p.options[T]=x[T];return p.options}function $(p,x,T){var V=[];for(var G in p)V.push(encodeURIComponent(T?G.toUpperCase():G)+"="+encodeURIComponent(p[G]));return(!x||x.indexOf("?")===-1?"?":"&")+V.join("&")}var K=/\{ *([\w_ -]+) *\}/g;function Q(p,x){return p.replace(K,function(T,V){var G=x[V];if(G===void 0)throw new Error("No value provided for variable "+T);return typeof G=="function"&&(G=G(x)),G})}var ee=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"};function ne(p,x){for(var T=0;T<p.length;T++)if(p[T]===x)return T;return-1}var le="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function se(p){return window["webkit"+p]||window["moz"+p]||window["ms"+p]}var q=0;function de(p){var x=+new Date,T=Math.max(0,16-(x-q));return q=x+T,window.setTimeout(p,T)}var re=window.requestAnimationFrame||se("RequestAnimationFrame")||de,be=window.cancelAnimationFrame||se("CancelAnimationFrame")||se("CancelRequestAnimationFrame")||function(p){window.clearTimeout(p)};function ke(p,x,T){if(T&&re===de)p.call(x);else return re.call(window,_(p,x))}function Ne(p){p&&be.call(window,p)}var De={__proto__:null,extend:h,create:g,bind:_,get lastId(){return y},stamp:v,throttle:N,wrapNum:S,falseFn:D,formatNum:j,trim:B,splitWords:F,setOptions:H,getParamString:$,template:Q,isArray:ee,indexOf:ne,emptyImageUrl:le,requestFn:re,cancelFn:be,requestAnimFrame:ke,cancelAnimFrame:Ne};function _e(){}_e.extend=function(p){var x=function(){H(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},T=x.__super__=this.prototype,V=g(T);V.constructor=x,x.prototype=V;for(var G in this)Object.prototype.hasOwnProperty.call(this,G)&&G!=="prototype"&&G!=="__super__"&&(x[G]=this[G]);return p.statics&&h(x,p.statics),p.includes&&(je(p.includes),h.apply(null,[V].concat(p.includes))),h(V,p),delete V.statics,delete V.includes,V.options&&(V.options=T.options?g(T.options):{},h(V.options,p.options)),V._initHooks=[],V.callInitHooks=function(){if(!this._initHooksCalled){T.callInitHooks&&T.callInitHooks.call(this),this._initHooksCalled=!0;for(var ie=0,Ce=V._initHooks.length;ie<Ce;ie++)V._initHooks[ie].call(this)}},x},_e.include=function(p){var x=this.prototype.options;return h(this.prototype,p),p.options&&(this.prototype.options=x,this.mergeOptions(p.options)),this},_e.mergeOptions=function(p){return h(this.prototype.options,p),this},_e.addInitHook=function(p){var x=Array.prototype.slice.call(arguments,1),T=typeof p=="function"?p:function(){this[p].apply(this,x)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(T),this};function je(p){if(!(typeof L>"u"||!L||!L.Mixin)){p=ee(p)?p:[p];for(var x=0;x<p.length;x++)p[x]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var oe={on:function(p,x,T){if(typeof p=="object")for(var V in p)this._on(V,p[V],x);else{p=F(p);for(var G=0,ie=p.length;G<ie;G++)this._on(p[G],x,T)}return this},off:function(p,x,T){if(!arguments.length)delete this._events;else if(typeof p=="object")for(var V in p)this._off(V,p[V],x);else{p=F(p);for(var G=arguments.length===1,ie=0,Ce=p.length;ie<Ce;ie++)G?this._off(p[ie]):this._off(p[ie],x,T)}return this},_on:function(p,x,T,V){if(typeof x!="function"){console.warn("wrong listener type: "+typeof x);return}if(this._listens(p,x,T)===!1){T===this&&(T=void 0);var G={fn:x,ctx:T};V&&(G.once=!0),this._events=this._events||{},this._events[p]=this._events[p]||[],this._events[p].push(G)}},_off:function(p,x,T){var V,G,ie;if(this._events&&(V=this._events[p],!!V)){if(arguments.length===1){if(this._firingCount)for(G=0,ie=V.length;G<ie;G++)V[G].fn=D;delete this._events[p];return}if(typeof x!="function"){console.warn("wrong listener type: "+typeof x);return}var Ce=this._listens(p,x,T);if(Ce!==!1){var We=V[Ce];this._firingCount&&(We.fn=D,this._events[p]=V=V.slice()),V.splice(Ce,1)}}},fire:function(p,x,T){if(!this.listens(p,T))return this;var V=h({},x,{type:p,target:this,sourceTarget:x&&x.sourceTarget||this});if(this._events){var G=this._events[p];if(G){this._firingCount=this._firingCount+1||1;for(var ie=0,Ce=G.length;ie<Ce;ie++){var We=G[ie],Ve=We.fn;We.once&&this.off(p,Ve,We.ctx),Ve.call(We.ctx||this,V)}this._firingCount--}}return T&&this._propagateEvent(V),this},listens:function(p,x,T,V){typeof p!="string"&&console.warn('"string" type argument expected');var G=x;typeof x!="function"&&(V=!!x,G=void 0,T=void 0);var ie=this._events&&this._events[p];if(ie&&ie.length&&this._listens(p,G,T)!==!1)return!0;if(V){for(var Ce in this._eventParents)if(this._eventParents[Ce].listens(p,x,T,V))return!0}return!1},_listens:function(p,x,T){if(!this._events)return!1;var V=this._events[p]||[];if(!x)return!!V.length;T===this&&(T=void 0);for(var G=0,ie=V.length;G<ie;G++)if(V[G].fn===x&&V[G].ctx===T)return G;return!1},once:function(p,x,T){if(typeof p=="object")for(var V in p)this._on(V,p[V],x,!0);else{p=F(p);for(var G=0,ie=p.length;G<ie;G++)this._on(p[G],x,T,!0)}return this},addEventParent:function(p){return this._eventParents=this._eventParents||{},this._eventParents[v(p)]=p,this},removeEventParent:function(p){return this._eventParents&&delete this._eventParents[v(p)],this},_propagateEvent:function(p){for(var x in this._eventParents)this._eventParents[x].fire(p.type,h({layer:p.target,propagatedFrom:p.target},p),!0)}};oe.addEventListener=oe.on,oe.removeEventListener=oe.clearAllEventListeners=oe.off,oe.addOneTimeEventListener=oe.once,oe.fireEvent=oe.fire,oe.hasEventListeners=oe.listens;var ve=_e.extend(oe);function he(p,x,T){this.x=T?Math.round(p):p,this.y=T?Math.round(x):x}var Ee=Math.trunc||function(p){return p>0?Math.floor(p):Math.ceil(p)};he.prototype={clone:function(){return new he(this.x,this.y)},add:function(p){return this.clone()._add(Z(p))},_add:function(p){return this.x+=p.x,this.y+=p.y,this},subtract:function(p){return this.clone()._subtract(Z(p))},_subtract:function(p){return this.x-=p.x,this.y-=p.y,this},divideBy:function(p){return this.clone()._divideBy(p)},_divideBy:function(p){return this.x/=p,this.y/=p,this},multiplyBy:function(p){return this.clone()._multiplyBy(p)},_multiplyBy:function(p){return this.x*=p,this.y*=p,this},scaleBy:function(p){return new he(this.x*p.x,this.y*p.y)},unscaleBy:function(p){return new he(this.x/p.x,this.y/p.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ee(this.x),this.y=Ee(this.y),this},distanceTo:function(p){p=Z(p);var x=p.x-this.x,T=p.y-this.y;return Math.sqrt(x*x+T*T)},equals:function(p){return p=Z(p),p.x===this.x&&p.y===this.y},contains:function(p){return p=Z(p),Math.abs(p.x)<=Math.abs(this.x)&&Math.abs(p.y)<=Math.abs(this.y)},toString:function(){return"Point("+j(this.x)+", "+j(this.y)+")"}};function Z(p,x,T){return p instanceof he?p:ee(p)?new he(p[0],p[1]):p==null?p:typeof p=="object"&&"x"in p&&"y"in p?new he(p.x,p.y):new he(p,x,T)}function pe(p,x){if(p)for(var T=x?[p,x]:p,V=0,G=T.length;V<G;V++)this.extend(T[V])}pe.prototype={extend:function(p){var x,T;if(!p)return this;if(p instanceof he||typeof p[0]=="number"||"x"in p)x=T=Z(p);else if(p=xe(p),x=p.min,T=p.max,!x||!T)return this;return!this.min&&!this.max?(this.min=x.clone(),this.max=T.clone()):(this.min.x=Math.min(x.x,this.min.x),this.max.x=Math.max(T.x,this.max.x),this.min.y=Math.min(x.y,this.min.y),this.max.y=Math.max(T.y,this.max.y)),this},getCenter:function(p){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,p)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(p){var x,T;return typeof p[0]=="number"||p instanceof he?p=Z(p):p=xe(p),p instanceof pe?(x=p.min,T=p.max):x=T=p,x.x>=this.min.x&&T.x<=this.max.x&&x.y>=this.min.y&&T.y<=this.max.y},intersects:function(p){p=xe(p);var x=this.min,T=this.max,V=p.min,G=p.max,ie=G.x>=x.x&&V.x<=T.x,Ce=G.y>=x.y&&V.y<=T.y;return ie&&Ce},overlaps:function(p){p=xe(p);var x=this.min,T=this.max,V=p.min,G=p.max,ie=G.x>x.x&&V.x<T.x,Ce=G.y>x.y&&V.y<T.y;return ie&&Ce},isValid:function(){return!!(this.min&&this.max)},pad:function(p){var x=this.min,T=this.max,V=Math.abs(x.x-T.x)*p,G=Math.abs(x.y-T.y)*p;return xe(Z(x.x-V,x.y-G),Z(T.x+V,T.y+G))},equals:function(p){return p?(p=xe(p),this.min.equals(p.getTopLeft())&&this.max.equals(p.getBottomRight())):!1}};function xe(p,x){return!p||p instanceof pe?p:new pe(p,x)}function Se(p,x){if(p)for(var T=x?[p,x]:p,V=0,G=T.length;V<G;V++)this.extend(T[V])}Se.prototype={extend:function(p){var x=this._southWest,T=this._northEast,V,G;if(p instanceof tt)V=p,G=p;else if(p instanceof Se){if(V=p._southWest,G=p._northEast,!V||!G)return this}else return p?this.extend(fe(p)||Fe(p)):this;return!x&&!T?(this._southWest=new tt(V.lat,V.lng),this._northEast=new tt(G.lat,G.lng)):(x.lat=Math.min(V.lat,x.lat),x.lng=Math.min(V.lng,x.lng),T.lat=Math.max(G.lat,T.lat),T.lng=Math.max(G.lng,T.lng)),this},pad:function(p){var x=this._southWest,T=this._northEast,V=Math.abs(x.lat-T.lat)*p,G=Math.abs(x.lng-T.lng)*p;return new Se(new tt(x.lat-V,x.lng-G),new tt(T.lat+V,T.lng+G))},getCenter:function(){return new tt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new tt(this.getNorth(),this.getWest())},getSouthEast:function(){return new tt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(p){typeof p[0]=="number"||p instanceof tt||"lat"in p?p=fe(p):p=Fe(p);var x=this._southWest,T=this._northEast,V,G;return p instanceof Se?(V=p.getSouthWest(),G=p.getNorthEast()):V=G=p,V.lat>=x.lat&&G.lat<=T.lat&&V.lng>=x.lng&&G.lng<=T.lng},intersects:function(p){p=Fe(p);var x=this._southWest,T=this._northEast,V=p.getSouthWest(),G=p.getNorthEast(),ie=G.lat>=x.lat&&V.lat<=T.lat,Ce=G.lng>=x.lng&&V.lng<=T.lng;return ie&&Ce},overlaps:function(p){p=Fe(p);var x=this._southWest,T=this._northEast,V=p.getSouthWest(),G=p.getNorthEast(),ie=G.lat>x.lat&&V.lat<T.lat,Ce=G.lng>x.lng&&V.lng<T.lng;return ie&&Ce},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(p,x){return p?(p=Fe(p),this._southWest.equals(p.getSouthWest(),x)&&this._northEast.equals(p.getNorthEast(),x)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Fe(p,x){return p instanceof Se?p:new Se(p,x)}function tt(p,x,T){if(isNaN(p)||isNaN(x))throw new Error("Invalid LatLng object: ("+p+", "+x+")");this.lat=+p,this.lng=+x,T!==void 0&&(this.alt=+T)}tt.prototype={equals:function(p,x){if(!p)return!1;p=fe(p);var T=Math.max(Math.abs(this.lat-p.lat),Math.abs(this.lng-p.lng));return T<=(x===void 0?1e-9:x)},toString:function(p){return"LatLng("+j(this.lat,p)+", "+j(this.lng,p)+")"},distanceTo:function(p){return Ie.distance(this,fe(p))},wrap:function(){return Ie.wrapLatLng(this)},toBounds:function(p){var x=180*p/40075017,T=x/Math.cos(Math.PI/180*this.lat);return Fe([this.lat-x,this.lng-T],[this.lat+x,this.lng+T])},clone:function(){return new tt(this.lat,this.lng,this.alt)}};function fe(p,x,T){return p instanceof tt?p:ee(p)&&typeof p[0]!="object"?p.length===3?new tt(p[0],p[1],p[2]):p.length===2?new tt(p[0],p[1]):null:p==null?p:typeof p=="object"&&"lat"in p?new tt(p.lat,"lng"in p?p.lng:p.lon,p.alt):x===void 0?null:new tt(p,x,T)}var me={latLngToPoint:function(p,x){var T=this.projection.project(p),V=this.scale(x);return this.transformation._transform(T,V)},pointToLatLng:function(p,x){var T=this.scale(x),V=this.transformation.untransform(p,T);return this.projection.unproject(V)},project:function(p){return this.projection.project(p)},unproject:function(p){return this.projection.unproject(p)},scale:function(p){return 256*Math.pow(2,p)},zoom:function(p){return Math.log(p/256)/Math.LN2},getProjectedBounds:function(p){if(this.infinite)return null;var x=this.projection.bounds,T=this.scale(p),V=this.transformation.transform(x.min,T),G=this.transformation.transform(x.max,T);return new pe(V,G)},infinite:!1,wrapLatLng:function(p){var x=this.wrapLng?S(p.lng,this.wrapLng,!0):p.lng,T=this.wrapLat?S(p.lat,this.wrapLat,!0):p.lat,V=p.alt;return new tt(T,x,V)},wrapLatLngBounds:function(p){var x=p.getCenter(),T=this.wrapLatLng(x),V=x.lat-T.lat,G=x.lng-T.lng;if(V===0&&G===0)return p;var ie=p.getSouthWest(),Ce=p.getNorthEast(),We=new tt(ie.lat-V,ie.lng-G),Ve=new tt(Ce.lat-V,Ce.lng-G);return new Se(We,Ve)}},Ie=h({},me,{wrapLng:[-180,180],R:6371e3,distance:function(p,x){var T=Math.PI/180,V=p.lat*T,G=x.lat*T,ie=Math.sin((x.lat-p.lat)*T/2),Ce=Math.sin((x.lng-p.lng)*T/2),We=ie*ie+Math.cos(V)*Math.cos(G)*Ce*Ce,Ve=2*Math.atan2(Math.sqrt(We),Math.sqrt(1-We));return this.R*Ve}}),qe=6378137,Le={R:qe,MAX_LATITUDE:85.0511287798,project:function(p){var x=Math.PI/180,T=this.MAX_LATITUDE,V=Math.max(Math.min(T,p.lat),-T),G=Math.sin(V*x);return new he(this.R*p.lng*x,this.R*Math.log((1+G)/(1-G))/2)},unproject:function(p){var x=180/Math.PI;return new tt((2*Math.atan(Math.exp(p.y/this.R))-Math.PI/2)*x,p.x*x/this.R)},bounds:function(){var p=qe*Math.PI;return new pe([-p,-p],[p,p])}()};function st(p,x,T,V){if(ee(p)){this._a=p[0],this._b=p[1],this._c=p[2],this._d=p[3];return}this._a=p,this._b=x,this._c=T,this._d=V}st.prototype={transform:function(p,x){return this._transform(p.clone(),x)},_transform:function(p,x){return x=x||1,p.x=x*(this._a*p.x+this._b),p.y=x*(this._c*p.y+this._d),p},untransform:function(p,x){return x=x||1,new he((p.x/x-this._b)/this._a,(p.y/x-this._d)/this._c)}};function Ye(p,x,T,V){return new st(p,x,T,V)}var Oe=h({},Ie,{code:"EPSG:3857",projection:Le,transformation:function(){var p=.5/(Math.PI*Le.R);return Ye(p,.5,-p,.5)}()}),ut=h({},Oe,{code:"EPSG:900913"});function ze(p){return document.createElementNS("http://www.w3.org/2000/svg",p)}function ht(p,x){var T="",V,G,ie,Ce,We,Ve;for(V=0,ie=p.length;V<ie;V++){for(We=p[V],G=0,Ce=We.length;G<Ce;G++)Ve=We[G],T+=(G?"L":"M")+Ve.x+" "+Ve.y;T+=x?we.svg?"z":"x":""}return T||"M0 0"}var Rt=document.documentElement.style,Xt="ActiveXObject"in window,at=Xt&&!document.addEventListener,jt="msLaunchUri"in navigator&&!("documentMode"in document),Dt=bn("webkit"),Qe=bn("android"),It=bn("android 2")||bn("android 3"),Lt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ue=Qe&&bn("Google")&&Lt<537&&!("AudioNode"in window),bt=!!window.opera,Ut=!jt&&bn("chrome"),hn=bn("gecko")&&!Dt&&!bt&&!Xt,Pn=!Ut&&bn("safari"),yn=bn("phantom"),li="OTransition"in Rt,di=navigator.platform.indexOf("Win")===0,Ar=Xt&&"transition"in Rt,tr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!It,Oi="MozPerspective"in Rt,ri=!window.L_DISABLE_3D&&(Ar||tr||Oi)&&!li&&!yn,ei=typeof orientation<"u"||bn("mobile"),Us=ei&&Dt,ui=ei&&tr,nr=!window.PointerEvent&&window.MSPointerEvent,kr=!!(window.PointerEvent||nr),ir="ontouchstart"in window||!!window.TouchEvent,$e=!window.L_NO_TOUCH&&(ir||kr),Gt=ei&&bt,mt=ei&&hn,dn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,$n=function(){var p=!1;try{var x=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("testPassiveEventSupport",D,x),window.removeEventListener("testPassiveEventSupport",D,x)}catch{}return p}(),Ge=function(){return!!document.createElement("canvas").getContext}(),Tt=!!(document.createElementNS&&ze("svg").createSVGRect),Je=!!Tt&&function(){var p=document.createElement("div");return p.innerHTML="<svg/>",(p.firstChild&&p.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),rn=!Tt&&function(){try{var p=document.createElement("div");p.innerHTML='<v:shape adj="1"/>';var x=p.firstChild;return x.style.behavior="url(#default#VML)",x&&typeof x.adj=="object"}catch{return!1}}(),xn=navigator.platform.indexOf("Mac")===0,Bn=navigator.platform.indexOf("Linux")===0;function bn(p){return navigator.userAgent.toLowerCase().indexOf(p)>=0}var we={ie:Xt,ielt9:at,edge:jt,webkit:Dt,android:Qe,android23:It,androidStock:Ue,opera:bt,chrome:Ut,gecko:hn,safari:Pn,phantom:yn,opera12:li,win:di,ie3d:Ar,webkit3d:tr,gecko3d:Oi,any3d:ri,mobile:ei,mobileWebkit:Us,mobileWebkit3d:ui,msPointer:nr,pointer:kr,touch:$e,touchNative:ir,mobileOpera:Gt,mobileGecko:mt,retina:dn,passiveEvents:$n,canvas:Ge,svg:Tt,vml:rn,inlineSvg:Je,mac:xn,linux:Bn},ct=we.msPointer?"MSPointerDown":"pointerdown",xt=we.msPointer?"MSPointerMove":"pointermove",Te=we.msPointer?"MSPointerUp":"pointerup",Et=we.msPointer?"MSPointerCancel":"pointercancel",Mt={touchstart:ct,touchmove:xt,touchend:Te,touchcancel:Et},vn={touchstart:Zo,touchmove:ws,touchend:ws,touchcancel:ws},mn={},Rn=!1;function on(p,x,T){return x==="touchstart"&&So(),vn[x]?(T=vn[x].bind(this,T),p.addEventListener(Mt[x],T,!1),T):(console.warn("wrong event specified:",x),D)}function lr(p,x,T){if(!Mt[x]){console.warn("wrong event specified:",x);return}p.removeEventListener(Mt[x],T,!1)}function Gn(p){mn[p.pointerId]=p}function Vn(p){mn[p.pointerId]&&(mn[p.pointerId]=p)}function Wr(p){delete mn[p.pointerId]}function So(){Rn||(document.addEventListener(ct,Gn,!0),document.addEventListener(xt,Vn,!0),document.addEventListener(Te,Wr,!0),document.addEventListener(Et,Wr,!0),Rn=!0)}function ws(p,x){if(x.pointerType!==(x.MSPOINTER_TYPE_MOUSE||"mouse")){x.touches=[];for(var T in mn)x.touches.push(mn[T]);x.changedTouches=[x],p(x)}}function Zo(p,x){x.MSPOINTER_TYPE_TOUCH&&x.pointerType===x.MSPOINTER_TYPE_TOUCH&&Tn(x),ws(p,x)}function Ac(p){var x={},T,V;for(V in p)T=p[V],x[V]=T&&T.bind?T.bind(p):T;return p=x,x.type="dblclick",x.detail=2,x.isTrusted=!1,x._simulated=!0,x}var ka=200;function uo(p,x){p.addEventListener("dblclick",x);var T=0,V;function G(ie){if(ie.detail!==1){V=ie.detail;return}if(!(ie.pointerType==="mouse"||ie.sourceCapabilities&&!ie.sourceCapabilities.firesTouchEvents)){var Ce=$l(ie);if(!(Ce.some(function(Ve){return Ve instanceof HTMLLabelElement&&Ve.attributes.for})&&!Ce.some(function(Ve){return Ve instanceof HTMLInputElement||Ve instanceof HTMLSelectElement}))){var We=Date.now();We-T<=ka?(V++,V===2&&x(Ac(ie))):V=1,T=We}}}return p.addEventListener("click",G),{dblclick:x,simDblclick:G}}function $s(p,x){p.removeEventListener("dblclick",x.dblclick),p.removeEventListener("click",x.simDblclick)}var Yr=qs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),cs=qs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ds=cs==="webkitTransition"||cs==="OTransition"?cs+"End":"transitionend";function za(p){return typeof p=="string"?document.getElementById(p):p}function ho(p,x){var T=p.style[x]||p.currentStyle&&p.currentStyle[x];if((!T||T==="auto")&&document.defaultView){var V=document.defaultView.getComputedStyle(p,null);T=V?V[x]:null}return T==="auto"?null:T}function Kn(p,x,T){var V=document.createElement(p);return V.className=x||"",T&&T.appendChild(V),V}function ki(p){var x=p.parentNode;x&&x.removeChild(p)}function _r(p){for(;p.firstChild;)p.removeChild(p.firstChild)}function jo(p){var x=p.parentNode;x&&x.lastChild!==p&&x.appendChild(p)}function Xo(p){var x=p.parentNode;x&&x.firstChild!==p&&x.insertBefore(p,x.firstChild)}function Gr(p,x){if(p.classList!==void 0)return p.classList.contains(x);var T=Ti(p);return T.length>0&&new RegExp("(^|\\s)"+x+"(\\s|$)").test(T)}function Sn(p,x){if(p.classList!==void 0)for(var T=F(x),V=0,G=T.length;V<G;V++)p.classList.add(T[V]);else if(!Gr(p,x)){var ie=Ti(p);Nr(p,(ie?ie+" ":"")+x)}}function Qn(p,x){p.classList!==void 0?p.classList.remove(x):Nr(p,B((" "+Ti(p)+" ").replace(" "+x+" "," ")))}function Nr(p,x){p.className.baseVal===void 0?p.className=x:p.className.baseVal=x}function Ti(p){return p.correspondingElement&&(p=p.correspondingElement),p.className.baseVal===void 0?p.className:p.className.baseVal}function Ni(p,x){"opacity"in p.style?p.style.opacity=x:"filter"in p.style&&Fa(p,x)}function Fa(p,x){var T=!1,V="DXImageTransform.Microsoft.Alpha";try{T=p.filters.item(V)}catch{if(x===1)return}x=Math.round(x*100),T?(T.Enabled=x!==100,T.Opacity=x):p.style.filter+=" progid:"+V+"(opacity="+x+")"}function qs(p){for(var x=document.documentElement.style,T=0;T<p.length;T++)if(p[T]in x)return p[T];return!1}function Ui(p,x,T){var V=x||new he(0,0);p.style[Yr]=(we.ie3d?"translate("+V.x+"px,"+V.y+"px)":"translate3d("+V.x+"px,"+V.y+"px,0)")+(T?" scale("+T+")":"")}function qn(p,x){p._leaflet_pos=x,we.any3d?Ui(p,x):(p.style.left=x.x+"px",p.style.top=x.y+"px")}function Br(p){return p._leaflet_pos||new he(0,0)}var Er,us,Ws;if("onselectstart"in document)Er=function(){Qt(window,"selectstart",Tn)},us=function(){ti(window,"selectstart",Tn)};else{var ys=qs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Er=function(){if(ys){var p=document.documentElement.style;Ws=p[ys],p[ys]="none"}},us=function(){ys&&(document.documentElement.style[ys]=Ws,Ws=void 0)}}function Ys(){Qt(window,"dragstart",Tn)}function ye(){ti(window,"dragstart",Tn)}var Ct,en;function Dn(p){for(;p.tabIndex===-1;)p=p.parentNode;p.style&&(_i(),Ct=p,en=p.style.outlineStyle,p.style.outlineStyle="none",Qt(window,"keydown",_i))}function _i(){Ct&&(Ct.style.outlineStyle=en,Ct=void 0,en=void 0,ti(window,"keydown",_i))}function Fi(p){do p=p.parentNode;while((!p.offsetWidth||!p.offsetHeight)&&p!==document.body);return p}function vi(p){var x=p.getBoundingClientRect();return{x:x.width/p.offsetWidth||1,y:x.height/p.offsetHeight||1,boundingClientRect:x}}var ul={__proto__:null,TRANSFORM:Yr,TRANSITION:cs,TRANSITION_END:ds,get:za,getStyle:ho,create:Kn,remove:ki,empty:_r,toFront:jo,toBack:Xo,hasClass:Gr,addClass:Sn,removeClass:Qn,setClass:Nr,getClass:Ti,setOpacity:Ni,testProp:qs,setTransform:Ui,setPosition:qn,getPosition:Br,get disableTextSelection(){return Er},get enableTextSelection(){return us},disableImageDrag:Ys,enableImageDrag:ye,preventOutline:Dn,restoreOutline:_i,getSizedParentNode:Fi,getScale:vi};function Qt(p,x,T,V){if(x&&typeof x=="object")for(var G in x)_a(p,G,x[G],T);else{x=F(x);for(var ie=0,Ce=x.length;ie<Ce;ie++)_a(p,x[ie],T,V)}return this}var $i="_leaflet_events";function ti(p,x,T,V){if(arguments.length===1)hs(p),delete p[$i];else if(x&&typeof x=="object")for(var G in x)Kr(p,G,x[G],T);else if(x=F(x),arguments.length===2)hs(p,function(We){return ne(x,We)!==-1});else for(var ie=0,Ce=x.length;ie<Ce;ie++)Kr(p,x[ie],T,V);return this}function hs(p,x){for(var T in p[$i]){var V=T.split(/\d/)[0];(!x||x(V))&&Kr(p,V,null,null,T)}}var mo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function _a(p,x,T,V){var G=x+v(T)+(V?"_"+v(V):"");if(p[$i]&&p[$i][G])return this;var ie=function(We){return T.call(V||p,We||window.event)},Ce=ie;!we.touchNative&&we.pointer&&x.indexOf("touch")===0?ie=on(p,x,ie):we.touch&&x==="dblclick"?ie=uo(p,ie):"addEventListener"in p?x==="touchstart"||x==="touchmove"||x==="wheel"||x==="mousewheel"?p.addEventListener(mo[x]||x,ie,we.passiveEvents?{passive:!1}:!1):x==="mouseenter"||x==="mouseleave"?(ie=function(We){We=We||window.event,ms(p,We)&&Ce(We)},p.addEventListener(mo[x],ie,!1)):p.addEventListener(x,Ce,!1):p.attachEvent("on"+x,ie),p[$i]=p[$i]||{},p[$i][G]=ie}function Kr(p,x,T,V,G){G=G||x+v(T)+(V?"_"+v(V):"");var ie=p[$i]&&p[$i][G];if(!ie)return this;!we.touchNative&&we.pointer&&x.indexOf("touch")===0?lr(p,x,ie):we.touch&&x==="dblclick"?$s(p,ie):"removeEventListener"in p?p.removeEventListener(mo[x]||x,ie,!1):p.detachEvent("on"+x,ie),p[$i][G]=null}function fo(p){return p.stopPropagation?p.stopPropagation():p.originalEvent?p.originalEvent._stopped=!0:p.cancelBubble=!0,this}function Gs(p){return _a(p,"wheel",fo),this}function Do(p){return Qt(p,"mousedown touchstart dblclick contextmenu",fo),p._leaflet_disable_click=!0,this}function Tn(p){return p.preventDefault?p.preventDefault():p.returnValue=!1,this}function xs(p){return Tn(p),fo(p),this}function $l(p){if(p.composedPath)return p.composedPath();for(var x=[],T=p.target;T;)x.push(T),T=T.parentNode;return x}function Sr(p,x){if(!x)return new he(p.clientX,p.clientY);var T=vi(x),V=T.boundingClientRect;return new he((p.clientX-V.left)/T.x-x.clientLeft,(p.clientY-V.top)/T.y-x.clientTop)}var Cs=we.linux&&we.chrome?window.devicePixelRatio:we.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Jo(p){return we.edge?p.wheelDeltaY/2:p.deltaY&&p.deltaMode===0?-p.deltaY/Cs:p.deltaY&&p.deltaMode===1?-p.deltaY*20:p.deltaY&&p.deltaMode===2?-p.deltaY*60:p.deltaX||p.deltaZ?0:p.wheelDelta?(p.wheelDeltaY||p.wheelDelta)/2:p.detail&&Math.abs(p.detail)<32765?-p.detail*20:p.detail?p.detail/-32765*60:0}function ms(p,x){var T=x.relatedTarget;if(!T)return!0;try{for(;T&&T!==p;)T=T.parentNode}catch{return!1}return T!==p}var xd={__proto__:null,on:Qt,off:ti,stopPropagation:fo,disableScrollPropagation:Gs,disableClickPropagation:Do,preventDefault:Tn,stop:xs,getPropagationPath:$l,getMousePosition:Sr,getWheelDelta:Jo,isExternalTarget:ms,addListener:Qt,removeListener:ti},To=ve.extend({run:function(p,x,T,V){this.stop(),this._el=p,this._inProgress=!0,this._duration=T||.25,this._easeOutPower=1/Math.max(V||.5,.2),this._startPos=Br(p),this._offset=x.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ke(this._animate,this),this._step()},_step:function(p){var x=+new Date-this._startTime,T=this._duration*1e3;x<T?this._runFrame(this._easeOut(x/T),p):(this._runFrame(1),this._complete())},_runFrame:function(p,x){var T=this._startPos.add(this._offset.multiplyBy(p));x&&T._round(),qn(this._el,T),this.fire("step")},_complete:function(){Ne(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(p){return 1-Math.pow(1-p,this._easeOutPower)}}),zn=ve.extend({options:{crs:Oe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(p,x){x=H(this,x),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(p),this._initLayout(),this._onResize=_(this._onResize,this),this._initEvents(),x.maxBounds&&this.setMaxBounds(x.maxBounds),x.zoom!==void 0&&(this._zoom=this._limitZoom(x.zoom)),x.center&&x.zoom!==void 0&&this.setView(fe(x.center),x.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=cs&&we.any3d&&!we.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Qt(this._proxy,ds,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(p,x,T){if(x=x===void 0?this._zoom:this._limitZoom(x),p=this._limitCenter(fe(p),x,this.options.maxBounds),T=T||{},this._stop(),this._loaded&&!T.reset&&T!==!0){T.animate!==void 0&&(T.zoom=h({animate:T.animate},T.zoom),T.pan=h({animate:T.animate,duration:T.duration},T.pan));var V=this._zoom!==x?this._tryAnimatedZoom&&this._tryAnimatedZoom(p,x,T.zoom):this._tryAnimatedPan(p,T.pan);if(V)return clearTimeout(this._sizeTimer),this}return this._resetView(p,x,T.pan&&T.pan.noMoveStart),this},setZoom:function(p,x){return this._loaded?this.setView(this.getCenter(),p,{zoom:x}):(this._zoom=p,this)},zoomIn:function(p,x){return p=p||(we.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+p,x)},zoomOut:function(p,x){return p=p||(we.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-p,x)},setZoomAround:function(p,x,T){var V=this.getZoomScale(x),G=this.getSize().divideBy(2),ie=p instanceof he?p:this.latLngToContainerPoint(p),Ce=ie.subtract(G).multiplyBy(1-1/V),We=this.containerPointToLatLng(G.add(Ce));return this.setView(We,x,{zoom:T})},_getBoundsCenterZoom:function(p,x){x=x||{},p=p.getBounds?p.getBounds():Fe(p);var T=Z(x.paddingTopLeft||x.padding||[0,0]),V=Z(x.paddingBottomRight||x.padding||[0,0]),G=this.getBoundsZoom(p,!1,T.add(V));if(G=typeof x.maxZoom=="number"?Math.min(x.maxZoom,G):G,G===1/0)return{center:p.getCenter(),zoom:G};var ie=V.subtract(T).divideBy(2),Ce=this.project(p.getSouthWest(),G),We=this.project(p.getNorthEast(),G),Ve=this.unproject(Ce.add(We).divideBy(2).add(ie),G);return{center:Ve,zoom:G}},fitBounds:function(p,x){if(p=Fe(p),!p.isValid())throw new Error("Bounds are not valid.");var T=this._getBoundsCenterZoom(p,x);return this.setView(T.center,T.zoom,x)},fitWorld:function(p){return this.fitBounds([[-90,-180],[90,180]],p)},panTo:function(p,x){return this.setView(p,this._zoom,{pan:x})},panBy:function(p,x){if(p=Z(p).round(),x=x||{},!p.x&&!p.y)return this.fire("moveend");if(x.animate!==!0&&!this.getSize().contains(p))return this._resetView(this.unproject(this.project(this.getCenter()).add(p)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new To,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),x.noMoveStart||this.fire("movestart"),x.animate!==!1){Sn(this._mapPane,"leaflet-pan-anim");var T=this._getMapPanePos().subtract(p).round();this._panAnim.run(this._mapPane,T,x.duration||.25,x.easeLinearity)}else this._rawPanBy(p),this.fire("move").fire("moveend");return this},flyTo:function(p,x,T){if(T=T||{},T.animate===!1||!we.any3d)return this.setView(p,x,T);this._stop();var V=this.project(this.getCenter()),G=this.project(p),ie=this.getSize(),Ce=this._zoom;p=fe(p),x=x===void 0?Ce:x;var We=Math.max(ie.x,ie.y),Ve=We*this.getZoomScale(Ce,x),Nt=G.distanceTo(V)||1,Pt=1.42,Wt=Pt*Pt;function nn(Yi){var Ro=Yi?-1:1,ia=Yi?Ve:We,Aa=Ve*Ve-We*We+Ro*Wt*Wt*Nt*Nt,ra=2*ia*Wt*Nt,zc=Aa/ra,Fc=Math.sqrt(zc*zc+1)-zc,yl=Fc<1e-9?-18:Math.log(Fc);return yl}function kn(Yi){return(Math.exp(Yi)-Math.exp(-Yi))/2}function pn(Yi){return(Math.exp(Yi)+Math.exp(-Yi))/2}function wi(Yi){return kn(Yi)/pn(Yi)}var hr=nn(0);function Ds(Yi){return We*(pn(hr)/pn(hr+Pt*Yi))}function Rd(Yi){return We*(pn(hr)*wi(hr+Pt*Yi)-kn(hr))/Wt}function Mu(Yi){return 1-Math.pow(1-Yi,1.5)}var Xl=Date.now(),Bo=(nn(1)-hr)/Pt,Jr=T.duration?1e3*T.duration:1e3*Bo*.8;function wl(){var Yi=(Date.now()-Xl)/Jr,Ro=Mu(Yi)*Bo;Yi<=1?(this._flyToFrame=ke(wl,this),this._move(this.unproject(V.add(G.subtract(V).multiplyBy(Rd(Ro)/Nt)),Ce),this.getScaleZoom(We/Ds(Ro),Ce),{flyTo:!0})):this._move(p,x)._moveEnd(!0)}return this._moveStart(!0,T.noMoveStart),wl.call(this),this},flyToBounds:function(p,x){var T=this._getBoundsCenterZoom(p,x);return this.flyTo(T.center,T.zoom,x)},setMaxBounds:function(p){return p=Fe(p),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),p.isValid()?(this.options.maxBounds=p,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(p){var x=this.options.minZoom;return this.options.minZoom=p,this._loaded&&x!==p&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(p):this},setMaxZoom:function(p){var x=this.options.maxZoom;return this.options.maxZoom=p,this._loaded&&x!==p&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(p):this},panInsideBounds:function(p,x){this._enforcingBounds=!0;var T=this.getCenter(),V=this._limitCenter(T,this._zoom,Fe(p));return T.equals(V)||this.panTo(V,x),this._enforcingBounds=!1,this},panInside:function(p,x){x=x||{};var T=Z(x.paddingTopLeft||x.padding||[0,0]),V=Z(x.paddingBottomRight||x.padding||[0,0]),G=this.project(this.getCenter()),ie=this.project(p),Ce=this.getPixelBounds(),We=xe([Ce.min.add(T),Ce.max.subtract(V)]),Ve=We.getSize();if(!We.contains(ie)){this._enforcingBounds=!0;var Nt=ie.subtract(We.getCenter()),Pt=We.extend(ie).getSize().subtract(Ve);G.x+=Nt.x<0?-Pt.x:Pt.x,G.y+=Nt.y<0?-Pt.y:Pt.y,this.panTo(this.unproject(G),x),this._enforcingBounds=!1}return this},invalidateSize:function(p){if(!this._loaded)return this;p=h({animate:!1,pan:!0},p===!0?{animate:!0}:p);var x=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var T=this.getSize(),V=x.divideBy(2).round(),G=T.divideBy(2).round(),ie=V.subtract(G);return!ie.x&&!ie.y?this:(p.animate&&p.pan?this.panBy(ie):(p.pan&&this._rawPanBy(ie),this.fire("move"),p.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(_(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:x,newSize:T}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(p){if(p=this._locateOptions=h({timeout:1e4,watch:!1},p),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var x=_(this._handleGeolocationResponse,this),T=_(this._handleGeolocationError,this);return p.watch?this._locationWatchId=navigator.geolocation.watchPosition(x,T,p):navigator.geolocation.getCurrentPosition(x,T,p),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(p){if(this._container._leaflet_id){var x=p.code,T=p.message||(x===1?"permission denied":x===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:x,message:"Geolocation error: "+T+"."})}},_handleGeolocationResponse:function(p){if(this._container._leaflet_id){var x=p.coords.latitude,T=p.coords.longitude,V=new tt(x,T),G=V.toBounds(p.coords.accuracy*2),ie=this._locateOptions;if(ie.setView){var Ce=this.getBoundsZoom(G);this.setView(V,ie.maxZoom?Math.min(Ce,ie.maxZoom):Ce)}var We={latlng:V,bounds:G,timestamp:p.timestamp};for(var Ve in p.coords)typeof p.coords[Ve]=="number"&&(We[Ve]=p.coords[Ve]);this.fire("locationfound",We)}},addHandler:function(p,x){if(!x)return this;var T=this[p]=new x(this);return this._handlers.push(T),this.options[p]&&T.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ki(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ne(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var p;for(p in this._layers)this._layers[p].remove();for(p in this._panes)ki(this._panes[p]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(p,x){var T="leaflet-pane"+(p?" leaflet-"+p.replace("Pane","")+"-pane":""),V=Kn("div",T,x||this._mapPane);return p&&(this._panes[p]=V),V},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var p=this.getPixelBounds(),x=this.unproject(p.getBottomLeft()),T=this.unproject(p.getTopRight());return new Se(x,T)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(p,x,T){p=Fe(p),T=Z(T||[0,0]);var V=this.getZoom()||0,G=this.getMinZoom(),ie=this.getMaxZoom(),Ce=p.getNorthWest(),We=p.getSouthEast(),Ve=this.getSize().subtract(T),Nt=xe(this.project(We,V),this.project(Ce,V)).getSize(),Pt=we.any3d?this.options.zoomSnap:1,Wt=Ve.x/Nt.x,nn=Ve.y/Nt.y,kn=x?Math.max(Wt,nn):Math.min(Wt,nn);return V=this.getScaleZoom(kn,V),Pt&&(V=Math.round(V/(Pt/100))*(Pt/100),V=x?Math.ceil(V/Pt)*Pt:Math.floor(V/Pt)*Pt),Math.max(G,Math.min(ie,V))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new he(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(p,x){var T=this._getTopLeftPoint(p,x);return new pe(T,T.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(p){return this.options.crs.getProjectedBounds(p===void 0?this.getZoom():p)},getPane:function(p){return typeof p=="string"?this._panes[p]:p},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(p,x){var T=this.options.crs;return x=x===void 0?this._zoom:x,T.scale(p)/T.scale(x)},getScaleZoom:function(p,x){var T=this.options.crs;x=x===void 0?this._zoom:x;var V=T.zoom(p*T.scale(x));return isNaN(V)?1/0:V},project:function(p,x){return x=x===void 0?this._zoom:x,this.options.crs.latLngToPoint(fe(p),x)},unproject:function(p,x){return x=x===void 0?this._zoom:x,this.options.crs.pointToLatLng(Z(p),x)},layerPointToLatLng:function(p){var x=Z(p).add(this.getPixelOrigin());return this.unproject(x)},latLngToLayerPoint:function(p){var x=this.project(fe(p))._round();return x._subtract(this.getPixelOrigin())},wrapLatLng:function(p){return this.options.crs.wrapLatLng(fe(p))},wrapLatLngBounds:function(p){return this.options.crs.wrapLatLngBounds(Fe(p))},distance:function(p,x){return this.options.crs.distance(fe(p),fe(x))},containerPointToLayerPoint:function(p){return Z(p).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(p){return Z(p).add(this._getMapPanePos())},containerPointToLatLng:function(p){var x=this.containerPointToLayerPoint(Z(p));return this.layerPointToLatLng(x)},latLngToContainerPoint:function(p){return this.layerPointToContainerPoint(this.latLngToLayerPoint(fe(p)))},mouseEventToContainerPoint:function(p){return Sr(p,this._container)},mouseEventToLayerPoint:function(p){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(p))},mouseEventToLatLng:function(p){return this.layerPointToLatLng(this.mouseEventToLayerPoint(p))},_initContainer:function(p){var x=this._container=za(p);if(x){if(x._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Qt(x,"scroll",this._onScroll,this),this._containerId=v(x)},_initLayout:function(){var p=this._container;this._fadeAnimated=this.options.fadeAnimation&&we.any3d,Sn(p,"leaflet-container"+(we.touch?" leaflet-touch":"")+(we.retina?" leaflet-retina":"")+(we.ielt9?" leaflet-oldie":"")+(we.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var x=ho(p,"position");x!=="absolute"&&x!=="relative"&&x!=="fixed"&&x!=="sticky"&&(p.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var p=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),qn(this._mapPane,new he(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Sn(p.markerPane,"leaflet-zoom-hide"),Sn(p.shadowPane,"leaflet-zoom-hide"))},_resetView:function(p,x,T){qn(this._mapPane,new he(0,0));var V=!this._loaded;this._loaded=!0,x=this._limitZoom(x),this.fire("viewprereset");var G=this._zoom!==x;this._moveStart(G,T)._move(p,x)._moveEnd(G),this.fire("viewreset"),V&&this.fire("load")},_moveStart:function(p,x){return p&&this.fire("zoomstart"),x||this.fire("movestart"),this},_move:function(p,x,T,V){x===void 0&&(x=this._zoom);var G=this._zoom!==x;return this._zoom=x,this._lastCenter=p,this._pixelOrigin=this._getNewPixelOrigin(p),V?T&&T.pinch&&this.fire("zoom",T):((G||T&&T.pinch)&&this.fire("zoom",T),this.fire("move",T)),this},_moveEnd:function(p){return p&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ne(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(p){qn(this._mapPane,this._getMapPanePos().subtract(p))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(p){this._targets={},this._targets[v(this._container)]=this;var x=p?ti:Qt;x(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&x(window,"resize",this._onResize,this),we.any3d&&this.options.transform3DLimit&&(p?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ne(this._resizeRequest),this._resizeRequest=ke(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var p=this._getMapPanePos();Math.max(Math.abs(p.x),Math.abs(p.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(p,x){for(var T=[],V,G=x==="mouseout"||x==="mouseover",ie=p.target||p.srcElement,Ce=!1;ie;){if(V=this._targets[v(ie)],V&&(x==="click"||x==="preclick")&&this._draggableMoved(V)){Ce=!0;break}if(V&&V.listens(x,!0)&&(G&&!ms(ie,p)||(T.push(V),G))||ie===this._container)break;ie=ie.parentNode}return!T.length&&!Ce&&!G&&this.listens(x,!0)&&(T=[this]),T},_isClickDisabled:function(p){for(;p&&p!==this._container;){if(p._leaflet_disable_click)return!0;p=p.parentNode}},_handleDOMEvent:function(p){var x=p.target||p.srcElement;if(!(!this._loaded||x._leaflet_disable_events||p.type==="click"&&this._isClickDisabled(x))){var T=p.type;T==="mousedown"&&Dn(x),this._fireDOMEvent(p,T)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(p,x,T){if(p.type==="click"){var V=h({},p);V.type="preclick",this._fireDOMEvent(V,V.type,T)}var G=this._findEventTargets(p,x);if(T){for(var ie=[],Ce=0;Ce<T.length;Ce++)T[Ce].listens(x,!0)&&ie.push(T[Ce]);G=ie.concat(G)}if(G.length){x==="contextmenu"&&Tn(p);var We=G[0],Ve={originalEvent:p};if(p.type!=="keypress"&&p.type!=="keydown"&&p.type!=="keyup"){var Nt=We.getLatLng&&(!We._radius||We._radius<=10);Ve.containerPoint=Nt?this.latLngToContainerPoint(We.getLatLng()):this.mouseEventToContainerPoint(p),Ve.layerPoint=this.containerPointToLayerPoint(Ve.containerPoint),Ve.latlng=Nt?We.getLatLng():this.layerPointToLatLng(Ve.layerPoint)}for(Ce=0;Ce<G.length;Ce++)if(G[Ce].fire(x,Ve,!0),Ve.originalEvent._stopped||G[Ce].options.bubblingMouseEvents===!1&&ne(this._mouseEvents,x)!==-1)return}},_draggableMoved:function(p){return p=p.dragging&&p.dragging.enabled()?p:this,p.dragging&&p.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var p=0,x=this._handlers.length;p<x;p++)this._handlers[p].disable()},whenReady:function(p,x){return this._loaded?p.call(x||this,{target:this}):this.on("load",p,x),this},_getMapPanePos:function(){return Br(this._mapPane)||new he(0,0)},_moved:function(){var p=this._getMapPanePos();return p&&!p.equals([0,0])},_getTopLeftPoint:function(p,x){var T=p&&x!==void 0?this._getNewPixelOrigin(p,x):this.getPixelOrigin();return T.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(p,x){var T=this.getSize()._divideBy(2);return this.project(p,x)._subtract(T)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(p,x,T){var V=this._getNewPixelOrigin(T,x);return this.project(p,x)._subtract(V)},_latLngBoundsToNewLayerBounds:function(p,x,T){var V=this._getNewPixelOrigin(T,x);return xe([this.project(p.getSouthWest(),x)._subtract(V),this.project(p.getNorthWest(),x)._subtract(V),this.project(p.getSouthEast(),x)._subtract(V),this.project(p.getNorthEast(),x)._subtract(V)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(p){return this.latLngToLayerPoint(p).subtract(this._getCenterLayerPoint())},_limitCenter:function(p,x,T){if(!T)return p;var V=this.project(p,x),G=this.getSize().divideBy(2),ie=new pe(V.subtract(G),V.add(G)),Ce=this._getBoundsOffset(ie,T,x);return Math.abs(Ce.x)<=1&&Math.abs(Ce.y)<=1?p:this.unproject(V.add(Ce),x)},_limitOffset:function(p,x){if(!x)return p;var T=this.getPixelBounds(),V=new pe(T.min.add(p),T.max.add(p));return p.add(this._getBoundsOffset(V,x))},_getBoundsOffset:function(p,x,T){var V=xe(this.project(x.getNorthEast(),T),this.project(x.getSouthWest(),T)),G=V.min.subtract(p.min),ie=V.max.subtract(p.max),Ce=this._rebound(G.x,-ie.x),We=this._rebound(G.y,-ie.y);return new he(Ce,We)},_rebound:function(p,x){return p+x>0?Math.round(p-x)/2:Math.max(0,Math.ceil(p))-Math.max(0,Math.floor(x))},_limitZoom:function(p){var x=this.getMinZoom(),T=this.getMaxZoom(),V=we.any3d?this.options.zoomSnap:1;return V&&(p=Math.round(p/V)*V),Math.max(x,Math.min(T,p))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Qn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(p,x){var T=this._getCenterOffset(p)._trunc();return(x&&x.animate)!==!0&&!this.getSize().contains(T)?!1:(this.panBy(T,x),!0)},_createAnimProxy:function(){var p=this._proxy=Kn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(p),this.on("zoomanim",function(x){var T=Yr,V=this._proxy.style[T];Ui(this._proxy,this.project(x.center,x.zoom),this.getZoomScale(x.zoom,1)),V===this._proxy.style[T]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ki(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var p=this.getCenter(),x=this.getZoom();Ui(this._proxy,this.project(p,x),this.getZoomScale(x,1))},_catchTransitionEnd:function(p){this._animatingZoom&&p.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(p,x,T){if(this._animatingZoom)return!0;if(T=T||{},!this._zoomAnimated||T.animate===!1||this._nothingToAnimate()||Math.abs(x-this._zoom)>this.options.zoomAnimationThreshold)return!1;var V=this.getZoomScale(x),G=this._getCenterOffset(p)._divideBy(1-1/V);return T.animate!==!0&&!this.getSize().contains(G)?!1:(ke(function(){this._moveStart(!0,T.noMoveStart||!1)._animateZoom(p,x,!0)},this),!0)},_animateZoom:function(p,x,T,V){this._mapPane&&(T&&(this._animatingZoom=!0,this._animateToCenter=p,this._animateToZoom=x,Sn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:p,zoom:x,noUpdate:V}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(_(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Qn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Va(p,x){return new zn(p,x)}var Qr=_e.extend({options:{position:"topright"},initialize:function(p){H(this,p)},getPosition:function(){return this.options.position},setPosition:function(p){var x=this._map;return x&&x.removeControl(this),this.options.position=p,x&&x.addControl(this),this},getContainer:function(){return this._container},addTo:function(p){this.remove(),this._map=p;var x=this._container=this.onAdd(p),T=this.getPosition(),V=p._controlCorners[T];return Sn(x,"leaflet-control"),T.indexOf("bottom")!==-1?V.insertBefore(x,V.firstChild):V.appendChild(x),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ki(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(p){this._map&&p&&p.screenX>0&&p.screenY>0&&this._map.getContainer().focus()}}),As=function(p){return new Qr(p)};zn.include({addControl:function(p){return p.addTo(this),this},removeControl:function(p){return p.remove(),this},_initControlPos:function(){var p=this._controlCorners={},x="leaflet-",T=this._controlContainer=Kn("div",x+"control-container",this._container);function V(G,ie){var Ce=x+G+" "+x+ie;p[G+ie]=Kn("div",Ce,T)}V("top","left"),V("top","right"),V("bottom","left"),V("bottom","right")},_clearControlPos:function(){for(var p in this._controlCorners)ki(this._controlCorners[p]);ki(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Au=Qr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(p,x,T,V){return T<V?-1:V<T?1:0}},initialize:function(p,x,T){H(this,T),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var V in p)this._addLayer(p[V],V);for(V in x)this._addLayer(x[V],V,!0)},onAdd:function(p){this._initLayout(),this._update(),this._map=p,p.on("zoomend",this._checkDisabledLayers,this);for(var x=0;x<this._layers.length;x++)this._layers[x].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(p){return Qr.prototype.addTo.call(this,p),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(p,x){return this._addLayer(p,x),this._map?this._update():this},addOverlay:function(p,x){return this._addLayer(p,x,!0),this._map?this._update():this},removeLayer:function(p){p.off("add remove",this._onLayerChange,this);var x=this._getLayer(v(p));return x&&this._layers.splice(this._layers.indexOf(x),1),this._map?this._update():this},expand:function(){Sn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var p=this._map.getSize().y-(this._container.offsetTop+50);return p<this._section.clientHeight?(Sn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=p+"px"):Qn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Qn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var p="leaflet-control-layers",x=this._container=Kn("div",p),T=this.options.collapsed;x.setAttribute("aria-haspopup",!0),Do(x),Gs(x);var V=this._section=Kn("section",p+"-list");T&&(this._map.on("click",this.collapse,this),Qt(x,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var G=this._layersLink=Kn("a",p+"-toggle",x);G.href="#",G.title="Layers",G.setAttribute("role","button"),Qt(G,{keydown:function(ie){ie.keyCode===13&&this._expandSafely()},click:function(ie){Tn(ie),this._expandSafely()}},this),T||this.expand(),this._baseLayersList=Kn("div",p+"-base",V),this._separator=Kn("div",p+"-separator",V),this._overlaysList=Kn("div",p+"-overlays",V),x.appendChild(V)},_getLayer:function(p){for(var x=0;x<this._layers.length;x++)if(this._layers[x]&&v(this._layers[x].layer)===p)return this._layers[x]},_addLayer:function(p,x,T){this._map&&p.on("add remove",this._onLayerChange,this),this._layers.push({layer:p,name:x,overlay:T}),this.options.sortLayers&&this._layers.sort(_(function(V,G){return this.options.sortFunction(V.layer,G.layer,V.name,G.name)},this)),this.options.autoZIndex&&p.setZIndex&&(this._lastZIndex++,p.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;_r(this._baseLayersList),_r(this._overlaysList),this._layerControlInputs=[];var p,x,T,V,G=0;for(T=0;T<this._layers.length;T++)V=this._layers[T],this._addItem(V),x=x||V.overlay,p=p||!V.overlay,G+=V.overlay?0:1;return this.options.hideSingleBase&&(p=p&&G>1,this._baseLayersList.style.display=p?"":"none"),this._separator.style.display=x&&p?"":"none",this},_onLayerChange:function(p){this._handlingClick||this._update();var x=this._getLayer(v(p.target)),T=x.overlay?p.type==="add"?"overlayadd":"overlayremove":p.type==="add"?"baselayerchange":null;T&&this._map.fire(T,x)},_createRadioElement:function(p,x){var T='<input type="radio" class="leaflet-control-layers-selector" name="'+p+'"'+(x?' checked="checked"':"")+"/>",V=document.createElement("div");return V.innerHTML=T,V.firstChild},_addItem:function(p){var x=document.createElement("label"),T=this._map.hasLayer(p.layer),V;p.overlay?(V=document.createElement("input"),V.type="checkbox",V.className="leaflet-control-layers-selector",V.defaultChecked=T):V=this._createRadioElement("leaflet-base-layers_"+v(this),T),this._layerControlInputs.push(V),V.layerId=v(p.layer),Qt(V,"click",this._onInputClick,this);var G=document.createElement("span");G.innerHTML=" "+p.name;var ie=document.createElement("span");x.appendChild(ie),ie.appendChild(V),ie.appendChild(G);var Ce=p.overlay?this._overlaysList:this._baseLayersList;return Ce.appendChild(x),this._checkDisabledLayers(),x},_onInputClick:function(){if(!this._preventClick){var p=this._layerControlInputs,x,T,V=[],G=[];this._handlingClick=!0;for(var ie=p.length-1;ie>=0;ie--)x=p[ie],T=this._getLayer(x.layerId).layer,x.checked?V.push(T):x.checked||G.push(T);for(ie=0;ie<G.length;ie++)this._map.hasLayer(G[ie])&&this._map.removeLayer(G[ie]);for(ie=0;ie<V.length;ie++)this._map.hasLayer(V[ie])||this._map.addLayer(V[ie]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var p=this._layerControlInputs,x,T,V=this._map.getZoom(),G=p.length-1;G>=0;G--)x=p[G],T=this._getLayer(x.layerId).layer,x.disabled=T.options.minZoom!==void 0&&V<T.options.minZoom||T.options.maxZoom!==void 0&&V>T.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var p=this._section;this._preventClick=!0,Qt(p,"click",Tn),this.expand();var x=this;setTimeout(function(){ti(p,"click",Tn),x._preventClick=!1})}}),Nu=function(p,x,T){return new Au(p,x,T)},Nc=Qr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(p){var x="leaflet-control-zoom",T=Kn("div",x+" leaflet-bar"),V=this.options;return this._zoomInButton=this._createButton(V.zoomInText,V.zoomInTitle,x+"-in",T,this._zoomIn),this._zoomOutButton=this._createButton(V.zoomOutText,V.zoomOutTitle,x+"-out",T,this._zoomOut),this._updateDisabled(),p.on("zoomend zoomlevelschange",this._updateDisabled,this),T},onRemove:function(p){p.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(p){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(p.shiftKey?3:1))},_zoomOut:function(p){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(p.shiftKey?3:1))},_createButton:function(p,x,T,V,G){var ie=Kn("a",T,V);return ie.innerHTML=p,ie.href="#",ie.title=x,ie.setAttribute("role","button"),ie.setAttribute("aria-label",x),Do(ie),Qt(ie,"click",xs),Qt(ie,"click",G,this),Qt(ie,"click",this._refocusOnMap,this),ie},_updateDisabled:function(){var p=this._map,x="leaflet-disabled";Qn(this._zoomInButton,x),Qn(this._zoomOutButton,x),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||p._zoom===p.getMinZoom())&&(Sn(this._zoomOutButton,x),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||p._zoom===p.getMaxZoom())&&(Sn(this._zoomInButton,x),this._zoomInButton.setAttribute("aria-disabled","true"))}});zn.mergeOptions({zoomControl:!0}),zn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Nc,this.addControl(this.zoomControl))});var Ha=function(p){return new Nc(p)},Ua=Qr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(p){var x="leaflet-control-scale",T=Kn("div",x),V=this.options;return this._addScales(V,x+"-line",T),p.on(V.updateWhenIdle?"moveend":"move",this._update,this),p.whenReady(this._update,this),T},onRemove:function(p){p.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(p,x,T){p.metric&&(this._mScale=Kn("div",x,T)),p.imperial&&(this._iScale=Kn("div",x,T))},_update:function(){var p=this._map,x=p.getSize().y/2,T=p.distance(p.containerPointToLatLng([0,x]),p.containerPointToLatLng([this.options.maxWidth,x]));this._updateScales(T)},_updateScales:function(p){this.options.metric&&p&&this._updateMetric(p),this.options.imperial&&p&&this._updateImperial(p)},_updateMetric:function(p){var x=this._getRoundNum(p),T=x<1e3?x+" m":x/1e3+" km";this._updateScale(this._mScale,T,x/p)},_updateImperial:function(p){var x=p*3.2808399,T,V,G;x>5280?(T=x/5280,V=this._getRoundNum(T),this._updateScale(this._iScale,V+" mi",V/T)):(G=this._getRoundNum(x),this._updateScale(this._iScale,G+" ft",G/x))},_updateScale:function(p,x,T){p.style.width=Math.round(this.options.maxWidth*T)+"px",p.innerHTML=x},_getRoundNum:function(p){var x=Math.pow(10,(Math.floor(p)+"").length-1),T=p/x;return T=T>=10?10:T>=5?5:T>=3?3:T>=2?2:1,x*T}}),Eu=function(p){return new Ua(p)},Cd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ec=Qr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(we.inlineSvg?Cd+" ":"")+"Leaflet</a>"},initialize:function(p){H(this,p),this._attributions={}},onAdd:function(p){p.attributionControl=this,this._container=Kn("div","leaflet-control-attribution"),Do(this._container);for(var x in p._layers)p._layers[x].getAttribution&&this.addAttribution(p._layers[x].getAttribution());return this._update(),p.on("layeradd",this._addAttribution,this),this._container},onRemove:function(p){p.off("layeradd",this._addAttribution,this)},_addAttribution:function(p){p.layer.getAttribution&&(this.addAttribution(p.layer.getAttribution()),p.layer.once("remove",function(){this.removeAttribution(p.layer.getAttribution())},this))},setPrefix:function(p){return this.options.prefix=p,this._update(),this},addAttribution:function(p){return p?(this._attributions[p]||(this._attributions[p]=0),this._attributions[p]++,this._update(),this):this},removeAttribution:function(p){return p?(this._attributions[p]&&(this._attributions[p]--,this._update()),this):this},_update:function(){if(this._map){var p=[];for(var x in this._attributions)this._attributions[x]&&p.push(x);var T=[];this.options.prefix&&T.push(this.options.prefix),p.length&&T.push(p.join(", ")),this._container.innerHTML=T.join(' <span aria-hidden="true">|</span> ')}}});zn.mergeOptions({attributionControl:!0}),zn.addInitHook(function(){this.options.attributionControl&&new Ec().addTo(this)});var Ch=function(p){return new Ec(p)};Qr.Layers=Au,Qr.Zoom=Nc,Qr.Scale=Ua,Qr.Attribution=Ec,As.layers=Nu,As.zoom=Ha,As.scale=Eu,As.attribution=Ch;var Rr=_e.extend({initialize:function(p){this._map=p},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Rr.addTo=function(p,x){return p.addHandler(x,this),this};var Su={Events:oe},Sc=we.touch?"touchstart mousedown":"mousedown",Ks=ve.extend({options:{clickTolerance:3},initialize:function(p,x,T,V){H(this,V),this._element=p,this._dragStartTarget=x||p,this._preventOutline=T},enable:function(){this._enabled||(Qt(this._dragStartTarget,Sc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ks._dragging===this&&this.finishDrag(!0),ti(this._dragStartTarget,Sc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(p){if(this._enabled&&(this._moved=!1,!Gr(this._element,"leaflet-zoom-anim"))){if(p.touches&&p.touches.length!==1){Ks._dragging===this&&this.finishDrag();return}if(!(Ks._dragging||p.shiftKey||p.which!==1&&p.button!==1&&!p.touches)&&(Ks._dragging=this,this._preventOutline&&Dn(this._element),Ys(),Er(),!this._moving)){this.fire("down");var x=p.touches?p.touches[0]:p,T=Fi(this._element);this._startPoint=new he(x.clientX,x.clientY),this._startPos=Br(this._element),this._parentScale=vi(T);var V=p.type==="mousedown";Qt(document,V?"mousemove":"touchmove",this._onMove,this),Qt(document,V?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(p){if(this._enabled){if(p.touches&&p.touches.length>1){this._moved=!0;return}var x=p.touches&&p.touches.length===1?p.touches[0]:p,T=new he(x.clientX,x.clientY)._subtract(this._startPoint);!T.x&&!T.y||Math.abs(T.x)+Math.abs(T.y)<this.options.clickTolerance||(T.x/=this._parentScale.x,T.y/=this._parentScale.y,Tn(p),this._moved||(this.fire("dragstart"),this._moved=!0,Sn(document.body,"leaflet-dragging"),this._lastTarget=p.target||p.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Sn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(T),this._moving=!0,this._lastEvent=p,this._updatePosition())}},_updatePosition:function(){var p={originalEvent:this._lastEvent};this.fire("predrag",p),qn(this._element,this._newPos),this.fire("drag",p)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(p){Qn(document.body,"leaflet-dragging"),this._lastTarget&&(Qn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ti(document,"mousemove touchmove",this._onMove,this),ti(document,"mouseup touchend touchcancel",this._onUp,this),ye(),us();var x=this._moved&&this._moving;this._moving=!1,Ks._dragging=!1,x&&this.fire("dragend",{noInertia:p,distance:this._newPos.distanceTo(this._startPos)})}});function Ad(p,x,T){var V,G=[1,4,2,8],ie,Ce,We,Ve,Nt,Pt,Wt,nn;for(ie=0,Pt=p.length;ie<Pt;ie++)p[ie]._code=ea(p[ie],x);for(We=0;We<4;We++){for(Wt=G[We],V=[],ie=0,Pt=p.length,Ce=Pt-1;ie<Pt;Ce=ie++)Ve=p[ie],Nt=p[Ce],Ve._code&Wt?Nt._code&Wt||(nn=jc(Nt,Ve,Wt,x,T),nn._code=ea(nn,x),V.push(nn)):(Nt._code&Wt&&(nn=jc(Nt,Ve,Wt,x,T),nn._code=ea(nn,x),V.push(nn)),V.push(Ve));p=V}return p}function ql(p,x){var T,V,G,ie,Ce,We,Ve,Nt,Pt;if(!p||p.length===0)throw new Error("latlngs not passed");qi(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var Wt=fe([0,0]),nn=Fe(p),kn=nn.getNorthWest().distanceTo(nn.getSouthWest())*nn.getNorthEast().distanceTo(nn.getNorthWest());kn<1700&&(Wt=hl(p));var pn=p.length,wi=[];for(T=0;T<pn;T++){var hr=fe(p[T]);wi.push(x.project(fe([hr.lat-Wt.lat,hr.lng-Wt.lng])))}for(We=Ve=Nt=0,T=0,V=pn-1;T<pn;V=T++)G=wi[T],ie=wi[V],Ce=G.y*ie.x-ie.y*G.x,Ve+=(G.x+ie.x)*Ce,Nt+=(G.y+ie.y)*Ce,We+=Ce*3;We===0?Pt=wi[0]:Pt=[Ve/We,Nt/We];var Ds=x.unproject(Z(Pt));return fe([Ds.lat+Wt.lat,Ds.lng+Wt.lng])}function hl(p){for(var x=0,T=0,V=0,G=0;G<p.length;G++){var ie=fe(p[G]);x+=ie.lat,T+=ie.lng,V++}return fe([x/V,T/V])}var Nd={__proto__:null,clipPolygon:Ad,polygonCenter:ql,centroid:hl};function Ed(p,x){if(!x||!p.length)return p.slice();var T=x*x;return p=Ah(p,T),p=ju(p,T),p}function Mo(p,x,T){return Math.sqrt($a(p,x,T,!0))}function Sd(p,x,T){return $a(p,x,T)}function ju(p,x){var T=p.length,V=typeof Uint8Array<"u"?Uint8Array:Array,G=new V(T);G[0]=G[T-1]=1,ml(p,G,x,0,T-1);var ie,Ce=[];for(ie=0;ie<T;ie++)G[ie]&&Ce.push(p[ie]);return Ce}function ml(p,x,T,V,G){var ie=0,Ce,We,Ve;for(We=V+1;We<=G-1;We++)Ve=$a(p[We],p[V],p[G],!0),Ve>ie&&(Ce=We,ie=Ve);ie>T&&(x[Ce]=1,ml(p,x,T,V,Ce),ml(p,x,T,Ce,G))}function Ah(p,x){for(var T=[p[0]],V=1,G=0,ie=p.length;V<ie;V++)Dc(p[V],p[G])>x&&(T.push(p[V]),G=V);return G<ie-1&&T.push(p[ie-1]),T}var jd;function Dd(p,x,T,V,G){var ie=V?jd:ea(p,T),Ce=ea(x,T),We,Ve,Nt;for(jd=Ce;;){if(!(ie|Ce))return[p,x];if(ie&Ce)return!1;We=ie||Ce,Ve=jc(p,x,We,T,G),Nt=ea(Ve,T),We===ie?(p=Ve,ie=Nt):(x=Ve,Ce=Nt)}}function jc(p,x,T,V,G){var ie=x.x-p.x,Ce=x.y-p.y,We=V.min,Ve=V.max,Nt,Pt;return T&8?(Nt=p.x+ie*(Ve.y-p.y)/Ce,Pt=Ve.y):T&4?(Nt=p.x+ie*(We.y-p.y)/Ce,Pt=We.y):T&2?(Nt=Ve.x,Pt=p.y+Ce*(Ve.x-p.x)/ie):T&1&&(Nt=We.x,Pt=p.y+Ce*(We.x-p.x)/ie),new he(Nt,Pt,G)}function ea(p,x){var T=0;return p.x<x.min.x?T|=1:p.x>x.max.x&&(T|=2),p.y<x.min.y?T|=4:p.y>x.max.y&&(T|=8),T}function Dc(p,x){var T=x.x-p.x,V=x.y-p.y;return T*T+V*V}function $a(p,x,T,V){var G=x.x,ie=x.y,Ce=T.x-G,We=T.y-ie,Ve=Ce*Ce+We*We,Nt;return Ve>0&&(Nt=((p.x-G)*Ce+(p.y-ie)*We)/Ve,Nt>1?(G=T.x,ie=T.y):Nt>0&&(G+=Ce*Nt,ie+=We*Nt)),Ce=p.x-G,We=p.y-ie,V?Ce*Ce+We*We:new he(G,ie)}function qi(p){return!ee(p[0])||typeof p[0][0]!="object"&&typeof p[0][0]<"u"}function Io(p){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),qi(p)}function Wl(p,x){var T,V,G,ie,Ce,We,Ve,Nt;if(!p||p.length===0)throw new Error("latlngs not passed");qi(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var Pt=fe([0,0]),Wt=Fe(p),nn=Wt.getNorthWest().distanceTo(Wt.getSouthWest())*Wt.getNorthEast().distanceTo(Wt.getNorthWest());nn<1700&&(Pt=hl(p));var kn=p.length,pn=[];for(T=0;T<kn;T++){var wi=fe(p[T]);pn.push(x.project(fe([wi.lat-Pt.lat,wi.lng-Pt.lng])))}for(T=0,V=0;T<kn-1;T++)V+=pn[T].distanceTo(pn[T+1])/2;if(V===0)Nt=pn[0];else for(T=0,ie=0;T<kn-1;T++)if(Ce=pn[T],We=pn[T+1],G=Ce.distanceTo(We),ie+=G,ie>V){Ve=(ie-V)/G,Nt=[We.x-Ve*(We.x-Ce.x),We.y-Ve*(We.y-Ce.y)];break}var hr=x.unproject(Z(Nt));return fe([hr.lat+Pt.lat,hr.lng+Pt.lng])}var qa={__proto__:null,simplify:Ed,pointToSegmentDistance:Mo,closestPointOnSegment:Sd,clipSegment:Dd,_getEdgeIntersection:jc,_getBitCode:ea,_sqClosestPointOnSegment:$a,isFlat:qi,_flat:Io,polylineCenter:Wl},Yl={project:function(p){return new he(p.lng,p.lat)},unproject:function(p){return new tt(p.y,p.x)},bounds:new pe([-180,-90],[180,90])},Gl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new pe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(p){var x=Math.PI/180,T=this.R,V=p.lat*x,G=this.R_MINOR/T,ie=Math.sqrt(1-G*G),Ce=ie*Math.sin(V),We=Math.tan(Math.PI/4-V/2)/Math.pow((1-Ce)/(1+Ce),ie/2);return V=-T*Math.log(Math.max(We,1e-10)),new he(p.lng*x*T,V)},unproject:function(p){for(var x=180/Math.PI,T=this.R,V=this.R_MINOR/T,G=Math.sqrt(1-V*V),ie=Math.exp(-p.y/T),Ce=Math.PI/2-2*Math.atan(ie),We=0,Ve=.1,Nt;We<15&&Math.abs(Ve)>1e-7;We++)Nt=G*Math.sin(Ce),Nt=Math.pow((1-Nt)/(1+Nt),G/2),Ve=Math.PI/2-2*Math.atan(ie*Nt)-Ce,Ce+=Ve;return new tt(Ce*x,p.x*x/T)}},Td={__proto__:null,LonLat:Yl,Mercator:Gl,SphericalMercator:Le},Wa=h({},Ie,{code:"EPSG:3395",projection:Gl,transformation:function(){var p=.5/(Math.PI*Gl.R);return Ye(p,.5,-p,.5)}()}),Md=h({},Ie,{code:"EPSG:4326",projection:Yl,transformation:Ye(1/180,1,-1/180,.5)}),Nh=h({},me,{projection:Yl,transformation:Ye(1,0,-1,0),scale:function(p){return Math.pow(2,p)},zoom:function(p){return Math.log(p)/Math.LN2},distance:function(p,x){var T=x.lng-p.lng,V=x.lat-p.lat;return Math.sqrt(T*T+V*V)},infinite:!0});me.Earth=Ie,me.EPSG3395=Wa,me.EPSG3857=Oe,me.EPSG900913=ut,me.EPSG4326=Md,me.Simple=Nh;var po=ve.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(p){return p.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(p){return p&&p.removeLayer(this),this},getPane:function(p){return this._map.getPane(p?this.options[p]||p:this.options.pane)},addInteractiveTarget:function(p){return this._map._targets[v(p)]=this,this},removeInteractiveTarget:function(p){return delete this._map._targets[v(p)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(p){var x=p.target;if(x.hasLayer(this)){if(this._map=x,this._zoomAnimated=x._zoomAnimated,this.getEvents){var T=this.getEvents();x.on(T,this),this.once("remove",function(){x.off(T,this)},this)}this.onAdd(x),this.fire("add"),x.fire("layeradd",{layer:this})}}});zn.include({addLayer:function(p){if(!p._layerAdd)throw new Error("The provided object is not a Layer.");var x=v(p);return this._layers[x]?this:(this._layers[x]=p,p._mapToAdd=this,p.beforeAdd&&p.beforeAdd(this),this.whenReady(p._layerAdd,p),this)},removeLayer:function(p){var x=v(p);return this._layers[x]?(this._loaded&&p.onRemove(this),delete this._layers[x],this._loaded&&(this.fire("layerremove",{layer:p}),p.fire("remove")),p._map=p._mapToAdd=null,this):this},hasLayer:function(p){return v(p)in this._layers},eachLayer:function(p,x){for(var T in this._layers)p.call(x,this._layers[T]);return this},_addLayers:function(p){p=p?ee(p)?p:[p]:[];for(var x=0,T=p.length;x<T;x++)this.addLayer(p[x])},_addZoomLimit:function(p){(!isNaN(p.options.maxZoom)||!isNaN(p.options.minZoom))&&(this._zoomBoundLayers[v(p)]=p,this._updateZoomLevels())},_removeZoomLimit:function(p){var x=v(p);this._zoomBoundLayers[x]&&(delete this._zoomBoundLayers[x],this._updateZoomLevels())},_updateZoomLevels:function(){var p=1/0,x=-1/0,T=this._getZoomSpan();for(var V in this._zoomBoundLayers){var G=this._zoomBoundLayers[V].options;p=G.minZoom===void 0?p:Math.min(p,G.minZoom),x=G.maxZoom===void 0?x:Math.max(x,G.maxZoom)}this._layersMaxZoom=x===-1/0?void 0:x,this._layersMinZoom=p===1/0?void 0:p,T!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ya=po.extend({initialize:function(p,x){H(this,x),this._layers={};var T,V;if(p)for(T=0,V=p.length;T<V;T++)this.addLayer(p[T])},addLayer:function(p){var x=this.getLayerId(p);return this._layers[x]=p,this._map&&this._map.addLayer(p),this},removeLayer:function(p){var x=p in this._layers?p:this.getLayerId(p);return this._map&&this._layers[x]&&this._map.removeLayer(this._layers[x]),delete this._layers[x],this},hasLayer:function(p){var x=typeof p=="number"?p:this.getLayerId(p);return x in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(p){var x=Array.prototype.slice.call(arguments,1),T,V;for(T in this._layers)V=this._layers[T],V[p]&&V[p].apply(V,x);return this},onAdd:function(p){this.eachLayer(p.addLayer,p)},onRemove:function(p){this.eachLayer(p.removeLayer,p)},eachLayer:function(p,x){for(var T in this._layers)p.call(x,this._layers[T]);return this},getLayer:function(p){return this._layers[p]},getLayers:function(){var p=[];return this.eachLayer(p.push,p),p},setZIndex:function(p){return this.invoke("setZIndex",p)},getLayerId:function(p){return v(p)}}),Qs=function(p,x){return new Ya(p,x)},fs=Ya.extend({addLayer:function(p){return this.hasLayer(p)?this:(p.addEventParent(this),Ya.prototype.addLayer.call(this,p),this.fire("layeradd",{layer:p}))},removeLayer:function(p){return this.hasLayer(p)?(p in this._layers&&(p=this._layers[p]),p.removeEventParent(this),Ya.prototype.removeLayer.call(this,p),this.fire("layerremove",{layer:p})):this},setStyle:function(p){return this.invoke("setStyle",p)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var p=new Se;for(var x in this._layers){var T=this._layers[x];p.extend(T.getBounds?T.getBounds():T.getLatLng())}return p}}),Zs=function(p,x){return new fs(p,x)},go=_e.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(p){H(this,p)},createIcon:function(p){return this._createIcon("icon",p)},createShadow:function(p){return this._createIcon("shadow",p)},_createIcon:function(p,x){var T=this._getIconUrl(p);if(!T){if(p==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var V=this._createImg(T,x&&x.tagName==="IMG"?x:null);return this._setIconStyles(V,p),(this.options.crossOrigin||this.options.crossOrigin==="")&&(V.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),V},_setIconStyles:function(p,x){var T=this.options,V=T[x+"Size"];typeof V=="number"&&(V=[V,V]);var G=Z(V),ie=Z(x==="shadow"&&T.shadowAnchor||T.iconAnchor||G&&G.divideBy(2,!0));p.className="leaflet-marker-"+x+" "+(T.className||""),ie&&(p.style.marginLeft=-ie.x+"px",p.style.marginTop=-ie.y+"px"),G&&(p.style.width=G.x+"px",p.style.height=G.y+"px")},_createImg:function(p,x){return x=x||document.createElement("img"),x.src=p,x},_getIconUrl:function(p){return we.retina&&this.options[p+"RetinaUrl"]||this.options[p+"Url"]}});function Tc(p){return new go(p)}var fl=go.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(p){return typeof fl.imagePath!="string"&&(fl.imagePath=this._detectIconPath()),(this.options.imagePath||fl.imagePath)+go.prototype._getIconUrl.call(this,p)},_stripUrl:function(p){var x=function(T,V,G){var ie=V.exec(T);return ie&&ie[G]};return p=x(p,/^url\((['"])?(.+)\1\)$/,2),p&&x(p,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var p=Kn("div","leaflet-default-icon-path",document.body),x=ho(p,"background-image")||ho(p,"backgroundImage");if(document.body.removeChild(p),x=this._stripUrl(x),x)return x;var T=document.querySelector('link[href$="leaflet.css"]');return T?T.href.substring(0,T.href.length-11-1):""}}),Ga=Rr.extend({initialize:function(p){this._marker=p},addHooks:function(){var p=this._marker._icon;this._draggable||(this._draggable=new Ks(p,p,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Sn(p,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Qn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(p){var x=this._marker,T=x._map,V=this._marker.options.autoPanSpeed,G=this._marker.options.autoPanPadding,ie=Br(x._icon),Ce=T.getPixelBounds(),We=T.getPixelOrigin(),Ve=xe(Ce.min._subtract(We).add(G),Ce.max._subtract(We).subtract(G));if(!Ve.contains(ie)){var Nt=Z((Math.max(Ve.max.x,ie.x)-Ve.max.x)/(Ce.max.x-Ve.max.x)-(Math.min(Ve.min.x,ie.x)-Ve.min.x)/(Ce.min.x-Ve.min.x),(Math.max(Ve.max.y,ie.y)-Ve.max.y)/(Ce.max.y-Ve.max.y)-(Math.min(Ve.min.y,ie.y)-Ve.min.y)/(Ce.min.y-Ve.min.y)).multiplyBy(V);T.panBy(Nt,{animate:!1}),this._draggable._newPos._add(Nt),this._draggable._startPos._add(Nt),qn(x._icon,this._draggable._newPos),this._onDrag(p),this._panRequest=ke(this._adjustPan.bind(this,p))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(p){this._marker.options.autoPan&&(Ne(this._panRequest),this._panRequest=ke(this._adjustPan.bind(this,p)))},_onDrag:function(p){var x=this._marker,T=x._shadow,V=Br(x._icon),G=x._map.layerPointToLatLng(V);T&&qn(T,V),x._latlng=G,p.latlng=G,p.oldLatLng=this._oldLatLng,x.fire("move",p).fire("drag",p)},_onDragEnd:function(p){Ne(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",p)}}),bo=po.extend({options:{icon:new fl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(p,x){H(this,x),this._latlng=fe(p)},onAdd:function(p){this._zoomAnimated=this._zoomAnimated&&p.options.markerZoomAnimation,this._zoomAnimated&&p.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(p){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&p.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(p){var x=this._latlng;return this._latlng=fe(p),this.update(),this.fire("move",{oldLatLng:x,latlng:this._latlng})},setZIndexOffset:function(p){return this.options.zIndexOffset=p,this.update()},getIcon:function(){return this.options.icon},setIcon:function(p){return this.options.icon=p,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var p=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(p)}return this},_initIcon:function(){var p=this.options,x="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),T=p.icon.createIcon(this._icon),V=!1;T!==this._icon&&(this._icon&&this._removeIcon(),V=!0,p.title&&(T.title=p.title),T.tagName==="IMG"&&(T.alt=p.alt||"")),Sn(T,x),p.keyboard&&(T.tabIndex="0",T.setAttribute("role","button")),this._icon=T,p.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qt(T,"focus",this._panOnFocus,this);var G=p.icon.createShadow(this._shadow),ie=!1;G!==this._shadow&&(this._removeShadow(),ie=!0),G&&(Sn(G,x),G.alt=""),this._shadow=G,p.opacity<1&&this._updateOpacity(),V&&this.getPane().appendChild(this._icon),this._initInteraction(),G&&ie&&this.getPane(p.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ti(this._icon,"focus",this._panOnFocus,this),ki(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ki(this._shadow),this._shadow=null},_setPos:function(p){this._icon&&qn(this._icon,p),this._shadow&&qn(this._shadow,p),this._zIndex=p.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(p){this._icon&&(this._icon.style.zIndex=this._zIndex+p)},_animateZoom:function(p){var x=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center).round();this._setPos(x)},_initInteraction:function(){if(this.options.interactive&&(Sn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ga)){var p=this.options.draggable;this.dragging&&(p=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ga(this),p&&this.dragging.enable()}},setOpacity:function(p){return this.options.opacity=p,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var p=this.options.opacity;this._icon&&Ni(this._icon,p),this._shadow&&Ni(this._shadow,p)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var p=this._map;if(p){var x=this.options.icon.options,T=x.iconSize?Z(x.iconSize):Z(0,0),V=x.iconAnchor?Z(x.iconAnchor):Z(0,0);p.panInside(this._latlng,{paddingTopLeft:V,paddingBottomRight:T.subtract(V)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Id(p,x){return new bo(p,x)}var ta=po.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(p){this._renderer=p.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(p){return H(this,p),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&p&&Object.prototype.hasOwnProperty.call(p,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),pl=ta.extend({options:{fill:!0,radius:10},initialize:function(p,x){H(this,x),this._latlng=fe(p),this._radius=this.options.radius},setLatLng:function(p){var x=this._latlng;return this._latlng=fe(p),this.redraw(),this.fire("move",{oldLatLng:x,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(p){return this.options.radius=this._radius=p,this.redraw()},getRadius:function(){return this._radius},setStyle:function(p){var x=p&&p.radius||this._radius;return ta.prototype.setStyle.call(this,p),this.setRadius(x),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var p=this._radius,x=this._radiusY||p,T=this._clickTolerance(),V=[p+T,x+T];this._pxBounds=new pe(this._point.subtract(V),this._point.add(V))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(p){return p.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Od(p,x){return new pl(p,x)}var Mc=pl.extend({initialize:function(p,x,T){if(typeof x=="number"&&(x=h({},T,{radius:x})),H(this,x),this._latlng=fe(p),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(p){return this._mRadius=p,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var p=[this._radius,this._radiusY||this._radius];return new Se(this._map.layerPointToLatLng(this._point.subtract(p)),this._map.layerPointToLatLng(this._point.add(p)))},setStyle:ta.prototype.setStyle,_project:function(){var p=this._latlng.lng,x=this._latlng.lat,T=this._map,V=T.options.crs;if(V.distance===Ie.distance){var G=Math.PI/180,ie=this._mRadius/Ie.R/G,Ce=T.project([x+ie,p]),We=T.project([x-ie,p]),Ve=Ce.add(We).divideBy(2),Nt=T.unproject(Ve).lat,Pt=Math.acos((Math.cos(ie*G)-Math.sin(x*G)*Math.sin(Nt*G))/(Math.cos(x*G)*Math.cos(Nt*G)))/G;(isNaN(Pt)||Pt===0)&&(Pt=ie/Math.cos(Math.PI/180*x)),this._point=Ve.subtract(T.getPixelOrigin()),this._radius=isNaN(Pt)?0:Ve.x-T.project([Nt,p-Pt]).x,this._radiusY=Ve.y-Ce.y}else{var Wt=V.unproject(V.project(this._latlng).subtract([this._mRadius,0]));this._point=T.latLngToLayerPoint(this._latlng),this._radius=this._point.x-T.latLngToLayerPoint(Wt).x}this._updateBounds()}});function Du(p,x,T){return new Mc(p,x,T)}var ko=ta.extend({options:{smoothFactor:1,noClip:!1},initialize:function(p,x){H(this,x),this._setLatLngs(p)},getLatLngs:function(){return this._latlngs},setLatLngs:function(p){return this._setLatLngs(p),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(p){for(var x=1/0,T=null,V=$a,G,ie,Ce=0,We=this._parts.length;Ce<We;Ce++)for(var Ve=this._parts[Ce],Nt=1,Pt=Ve.length;Nt<Pt;Nt++){G=Ve[Nt-1],ie=Ve[Nt];var Wt=V(p,G,ie,!0);Wt<x&&(x=Wt,T=V(p,G,ie))}return T&&(T.distance=Math.sqrt(x)),T},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Wl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(p,x){return x=x||this._defaultShape(),p=fe(p),x.push(p),this._bounds.extend(p),this.redraw()},_setLatLngs:function(p){this._bounds=new Se,this._latlngs=this._convertLatLngs(p)},_defaultShape:function(){return qi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(p){for(var x=[],T=qi(p),V=0,G=p.length;V<G;V++)T?(x[V]=fe(p[V]),this._bounds.extend(x[V])):x[V]=this._convertLatLngs(p[V]);return x},_project:function(){var p=new pe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,p),this._bounds.isValid()&&p.isValid()&&(this._rawPxBounds=p,this._updateBounds())},_updateBounds:function(){var p=this._clickTolerance(),x=new he(p,p);this._rawPxBounds&&(this._pxBounds=new pe([this._rawPxBounds.min.subtract(x),this._rawPxBounds.max.add(x)]))},_projectLatlngs:function(p,x,T){var V=p[0]instanceof tt,G=p.length,ie,Ce;if(V){for(Ce=[],ie=0;ie<G;ie++)Ce[ie]=this._map.latLngToLayerPoint(p[ie]),T.extend(Ce[ie]);x.push(Ce)}else for(ie=0;ie<G;ie++)this._projectLatlngs(p[ie],x,T)},_clipPoints:function(){var p=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}var x=this._parts,T,V,G,ie,Ce,We,Ve;for(T=0,G=0,ie=this._rings.length;T<ie;T++)for(Ve=this._rings[T],V=0,Ce=Ve.length;V<Ce-1;V++)We=Dd(Ve[V],Ve[V+1],p,V,!0),We&&(x[G]=x[G]||[],x[G].push(We[0]),(We[1]!==Ve[V+1]||V===Ce-2)&&(x[G].push(We[1]),G++))}},_simplifyPoints:function(){for(var p=this._parts,x=this.options.smoothFactor,T=0,V=p.length;T<V;T++)p[T]=Ed(p[T],x)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(p,x){var T,V,G,ie,Ce,We,Ve=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(T=0,ie=this._parts.length;T<ie;T++)for(We=this._parts[T],V=0,Ce=We.length,G=Ce-1;V<Ce;G=V++)if(!(!x&&V===0)&&Mo(p,We[G],We[V])<=Ve)return!0;return!1}});function Tu(p,x){return new ko(p,x)}ko._flat=Io;var Oo=ko.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ql(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(p){var x=ko.prototype._convertLatLngs.call(this,p),T=x.length;return T>=2&&x[0]instanceof tt&&x[0].equals(x[T-1])&&x.pop(),x},_setLatLngs:function(p){ko.prototype._setLatLngs.call(this,p),qi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return qi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var p=this._renderer._bounds,x=this.options.weight,T=new he(x,x);if(p=new pe(p.min.subtract(T),p.max.add(T)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}for(var V=0,G=this._rings.length,ie;V<G;V++)ie=Ad(this._rings[V],p,!0),ie.length&&this._parts.push(ie)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(p){var x=!1,T,V,G,ie,Ce,We,Ve,Nt;if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(ie=0,Ve=this._parts.length;ie<Ve;ie++)for(T=this._parts[ie],Ce=0,Nt=T.length,We=Nt-1;Ce<Nt;We=Ce++)V=T[Ce],G=T[We],V.y>p.y!=G.y>p.y&&p.x<(G.x-V.x)*(p.y-V.y)/(G.y-V.y)+V.x&&(x=!x);return x||ko.prototype._containsPoint.call(this,p,!0)}});function ps(p,x){return new Oo(p,x)}var Pr=fs.extend({initialize:function(p,x){H(this,x),this._layers={},p&&this.addData(p)},addData:function(p){var x=ee(p)?p:p.features,T,V,G;if(x){for(T=0,V=x.length;T<V;T++)G=x[T],(G.geometries||G.geometry||G.features||G.coordinates)&&this.addData(G);return this}var ie=this.options;if(ie.filter&&!ie.filter(p))return this;var Ce=zr(p,ie);return Ce?(Ce.feature=Qa(p),Ce.defaultOptions=Ce.options,this.resetStyle(Ce),ie.onEachFeature&&ie.onEachFeature(p,Ce),this.addLayer(Ce)):this},resetStyle:function(p){return p===void 0?this.eachLayer(this.resetStyle,this):(p.options=h({},p.defaultOptions),this._setLayerStyle(p,this.options.style),this)},setStyle:function(p){return this.eachLayer(function(x){this._setLayerStyle(x,p)},this)},_setLayerStyle:function(p,x){p.setStyle&&(typeof x=="function"&&(x=x(p.feature)),p.setStyle(x))}});function zr(p,x){var T=p.type==="Feature"?p.geometry:p,V=T?T.coordinates:null,G=[],ie=x&&x.pointToLayer,Ce=x&&x.coordsToLatLng||Oc,We,Ve,Nt,Pt;if(!V&&!T)return null;switch(T.type){case"Point":return We=Ce(V),Ic(ie,p,We,x);case"MultiPoint":for(Nt=0,Pt=V.length;Nt<Pt;Nt++)We=Ce(V[Nt]),G.push(Ic(ie,p,We,x));return new fs(G);case"LineString":case"MultiLineString":return Ve=gl(V,T.type==="LineString"?0:1,Ce),new ko(Ve,x);case"Polygon":case"MultiPolygon":return Ve=gl(V,T.type==="Polygon"?1:2,Ce),new Oo(Ve,x);case"GeometryCollection":for(Nt=0,Pt=T.geometries.length;Nt<Pt;Nt++){var Wt=zr({geometry:T.geometries[Nt],type:"Feature",properties:p.properties},x);Wt&&G.push(Wt)}return new fs(G);case"FeatureCollection":for(Nt=0,Pt=T.features.length;Nt<Pt;Nt++){var nn=zr(T.features[Nt],x);nn&&G.push(nn)}return new fs(G);default:throw new Error("Invalid GeoJSON object.")}}function Ic(p,x,T,V){return p?p(x,T):new bo(T,V&&V.markersInheritOptions&&V)}function Oc(p){return new tt(p[1],p[0],p[2])}function gl(p,x,T){for(var V=[],G=0,ie=p.length,Ce;G<ie;G++)Ce=x?gl(p[G],x-1,T):(T||Oc)(p[G]),V.push(Ce);return V}function Ka(p,x){return p=fe(p),p.alt!==void 0?[j(p.lng,x),j(p.lat,x),j(p.alt,x)]:[j(p.lng,x),j(p.lat,x)]}function Lc(p,x,T,V){for(var G=[],ie=0,Ce=p.length;ie<Ce;ie++)G.push(x?Lc(p[ie],qi(p[ie])?0:x-1,T,V):Ka(p[ie],V));return!x&&T&&G.length>0&&G.push(G[0].slice()),G}function Xs(p,x){return p.feature?h({},p.feature,{geometry:x}):Qa(x)}function Qa(p){return p.type==="Feature"||p.type==="FeatureCollection"?p:{type:"Feature",properties:{},geometry:p}}var va={toGeoJSON:function(p){return Xs(this,{type:"Point",coordinates:Ka(this.getLatLng(),p)})}};bo.include(va),Mc.include(va),pl.include(va),ko.include({toGeoJSON:function(p){var x=!qi(this._latlngs),T=Lc(this._latlngs,x?1:0,!1,p);return Xs(this,{type:(x?"Multi":"")+"LineString",coordinates:T})}}),Oo.include({toGeoJSON:function(p){var x=!qi(this._latlngs),T=x&&!qi(this._latlngs[0]),V=Lc(this._latlngs,T?2:x?1:0,!0,p);return x||(V=[V]),Xs(this,{type:(T?"Multi":"")+"Polygon",coordinates:V})}}),Ya.include({toMultiPoint:function(p){var x=[];return this.eachLayer(function(T){x.push(T.toGeoJSON(p).geometry.coordinates)}),Xs(this,{type:"MultiPoint",coordinates:x})},toGeoJSON:function(p){var x=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(x==="MultiPoint")return this.toMultiPoint(p);var T=x==="GeometryCollection",V=[];return this.eachLayer(function(G){if(G.toGeoJSON){var ie=G.toGeoJSON(p);if(T)V.push(ie.geometry);else{var Ce=Qa(ie);Ce.type==="FeatureCollection"?V.push.apply(V,Ce.features):V.push(Ce)}}}),T?Xs(this,{geometries:V,type:"GeometryCollection"}):{type:"FeatureCollection",features:V}}});function gi(p,x){return new Pr(p,x)}var Bc=gi,Ns=po.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(p,x,T){this._url=p,this._bounds=Fe(x),H(this,T)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Sn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ki(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(p){return this.options.opacity=p,this._image&&this._updateOpacity(),this},setStyle:function(p){return p.opacity&&this.setOpacity(p.opacity),this},bringToFront:function(){return this._map&&jo(this._image),this},bringToBack:function(){return this._map&&Xo(this._image),this},setUrl:function(p){return this._url=p,this._image&&(this._image.src=p),this},setBounds:function(p){return this._bounds=Fe(p),this._map&&this._reset(),this},getEvents:function(){var p={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var p=this._url.tagName==="IMG",x=this._image=p?this._url:Kn("img");if(Sn(x,"leaflet-image-layer"),this._zoomAnimated&&Sn(x,"leaflet-zoom-animated"),this.options.className&&Sn(x,this.options.className),x.onselectstart=D,x.onmousemove=D,x.onload=_(this.fire,this,"load"),x.onerror=_(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),p){this._url=x.src;return}x.src=this._url,x.alt=this.options.alt},_animateZoom:function(p){var x=this._map.getZoomScale(p.zoom),T=this._map._latLngBoundsToNewLayerBounds(this._bounds,p.zoom,p.center).min;Ui(this._image,T,x)},_reset:function(){var p=this._image,x=new pe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),T=x.getSize();qn(p,x.min),p.style.width=T.x+"px",p.style.height=T.y+"px"},_updateOpacity:function(){Ni(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var p=this.options.errorOverlayUrl;p&&this._url!==p&&(this._url=p,this._image.src=p)},getCenter:function(){return this._bounds.getCenter()}}),Es=function(p,x,T){return new Ns(p,x,T)},Za=Ns.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var p=this._url.tagName==="VIDEO",x=this._image=p?this._url:Kn("video");if(Sn(x,"leaflet-image-layer"),this._zoomAnimated&&Sn(x,"leaflet-zoom-animated"),this.options.className&&Sn(x,this.options.className),x.onselectstart=D,x.onmousemove=D,x.onloadeddata=_(this.fire,this,"load"),p){for(var T=x.getElementsByTagName("source"),V=[],G=0;G<T.length;G++)V.push(T[G].src);this._url=T.length>0?V:[x.src];return}ee(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(x.style,"objectFit")&&(x.style.objectFit="fill"),x.autoplay=!!this.options.autoplay,x.loop=!!this.options.loop,x.muted=!!this.options.muted,x.playsInline=!!this.options.playsInline;for(var ie=0;ie<this._url.length;ie++){var Ce=Kn("source");Ce.src=this._url[ie],x.appendChild(Ce)}}});function Ld(p,x,T){return new Za(p,x,T)}var wa=Ns.extend({_initImage:function(){var p=this._image=this._url;Sn(p,"leaflet-image-layer"),this._zoomAnimated&&Sn(p,"leaflet-zoom-animated"),this.options.className&&Sn(p,this.options.className),p.onselectstart=D,p.onmousemove=D}});function Zr(p,x,T){return new wa(p,x,T)}var rr=po.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(p,x){p&&(p instanceof tt||ee(p))?(this._latlng=fe(p),H(this,x)):(H(this,p),this._source=x),this.options.content&&(this._content=this.options.content)},openOn:function(p){return p=arguments.length?p:this._source._map,p.hasLayer(this)||p.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(p){return this._map?this.close():(arguments.length?this._source=p:p=this._source,this._prepareOpen(),this.openOn(p._map)),this},onAdd:function(p){this._zoomAnimated=p._zoomAnimated,this._container||this._initLayout(),p._fadeAnimated&&Ni(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),p._fadeAnimated&&Ni(this._container,1),this.bringToFront(),this.options.interactive&&(Sn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(p){p._fadeAnimated?(Ni(this._container,0),this._removeTimeout=setTimeout(_(ki,void 0,this._container),200)):ki(this._container),this.options.interactive&&(Qn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(p){return this._latlng=fe(p),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(p){return this._content=p,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var p={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&jo(this._container),this},bringToBack:function(){return this._map&&Xo(this._container),this},_prepareOpen:function(p){var x=this._source;if(!x._map)return!1;if(x instanceof fs){x=null;var T=this._source._layers;for(var V in T)if(T[V]._map){x=T[V];break}if(!x)return!1;this._source=x}if(!p)if(x.getCenter)p=x.getCenter();else if(x.getLatLng)p=x.getLatLng();else if(x.getBounds)p=x.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(p),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var p=this._contentNode,x=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof x=="string")p.innerHTML=x;else{for(;p.hasChildNodes();)p.removeChild(p.firstChild);p.appendChild(x)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var p=this._map.latLngToLayerPoint(this._latlng),x=Z(this.options.offset),T=this._getAnchor();this._zoomAnimated?qn(this._container,p.add(T)):x=x.add(p).add(T);var V=this._containerBottom=-x.y,G=this._containerLeft=-Math.round(this._containerWidth/2)+x.x;this._container.style.bottom=V+"px",this._container.style.left=G+"px"}},_getAnchor:function(){return[0,0]}});zn.include({_initOverlay:function(p,x,T,V){var G=x;return G instanceof p||(G=new p(V).setContent(x)),T&&G.setLatLng(T),G}}),po.include({_initOverlay:function(p,x,T,V){var G=T;return G instanceof p?(H(G,V),G._source=this):(G=x&&!V?x:new p(V,this),G.setContent(T)),G}});var Xa=rr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(p){return p=arguments.length?p:this._source._map,!p.hasLayer(this)&&p._popup&&p._popup.options.autoClose&&p.removeLayer(p._popup),p._popup=this,rr.prototype.openOn.call(this,p)},onAdd:function(p){rr.prototype.onAdd.call(this,p),p.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ta||this._source.on("preclick",fo))},onRemove:function(p){rr.prototype.onRemove.call(this,p),p.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ta||this._source.off("preclick",fo))},getEvents:function(){var p=rr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(p.preclick=this.close),this.options.keepInView&&(p.moveend=this._adjustPan),p},_initLayout:function(){var p="leaflet-popup",x=this._container=Kn("div",p+" "+(this.options.className||"")+" leaflet-zoom-animated"),T=this._wrapper=Kn("div",p+"-content-wrapper",x);if(this._contentNode=Kn("div",p+"-content",T),Do(x),Gs(this._contentNode),Qt(x,"contextmenu",fo),this._tipContainer=Kn("div",p+"-tip-container",x),this._tip=Kn("div",p+"-tip",this._tipContainer),this.options.closeButton){var V=this._closeButton=Kn("a",p+"-close-button",x);V.setAttribute("role","button"),V.setAttribute("aria-label","Close popup"),V.href="#close",V.innerHTML='<span aria-hidden="true">&#215;</span>',Qt(V,"click",function(G){Tn(G),this.close()},this)}},_updateLayout:function(){var p=this._contentNode,x=p.style;x.width="",x.whiteSpace="nowrap";var T=p.offsetWidth;T=Math.min(T,this.options.maxWidth),T=Math.max(T,this.options.minWidth),x.width=T+1+"px",x.whiteSpace="",x.height="";var V=p.offsetHeight,G=this.options.maxHeight,ie="leaflet-popup-scrolled";G&&V>G?(x.height=G+"px",Sn(p,ie)):Qn(p,ie),this._containerWidth=this._container.offsetWidth},_animateZoom:function(p){var x=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center),T=this._getAnchor();qn(this._container,x.add(T))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var p=this._map,x=parseInt(ho(this._container,"marginBottom"),10)||0,T=this._container.offsetHeight+x,V=this._containerWidth,G=new he(this._containerLeft,-T-this._containerBottom);G._add(Br(this._container));var ie=p.layerPointToContainerPoint(G),Ce=Z(this.options.autoPanPadding),We=Z(this.options.autoPanPaddingTopLeft||Ce),Ve=Z(this.options.autoPanPaddingBottomRight||Ce),Nt=p.getSize(),Pt=0,Wt=0;ie.x+V+Ve.x>Nt.x&&(Pt=ie.x+V-Nt.x+Ve.x),ie.x-Pt-We.x<0&&(Pt=ie.x-We.x),ie.y+T+Ve.y>Nt.y&&(Wt=ie.y+T-Nt.y+Ve.y),ie.y-Wt-We.y<0&&(Wt=ie.y-We.y),(Pt||Wt)&&(this.options.keepInView&&(this._autopanning=!0),p.fire("autopanstart").panBy([Pt,Wt]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Js=function(p,x){return new Xa(p,x)};zn.mergeOptions({closePopupOnClick:!0}),zn.include({openPopup:function(p,x,T){return this._initOverlay(Xa,p,x,T).openOn(this),this},closePopup:function(p){return p=arguments.length?p:this._popup,p&&p.close(),this}}),po.include({bindPopup:function(p,x){return this._popup=this._initOverlay(Xa,this._popup,p,x),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(p){return this._popup&&(this instanceof fs||(this._popup._source=this),this._popup._prepareOpen(p||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(p){return this._popup&&this._popup.setContent(p),this},getPopup:function(){return this._popup},_openPopup:function(p){if(!(!this._popup||!this._map)){xs(p);var x=p.layer||p.target;if(this._popup._source===x&&!(x instanceof ta)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(p.latlng);return}this._popup._source=x,this.openPopup(p.latlng)}},_movePopup:function(p){this._popup.setLatLng(p.latlng)},_onKeyPress:function(p){p.originalEvent.keyCode===13&&this._openPopup(p)}});var Kl=rr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(p){rr.prototype.onAdd.call(this,p),this.setOpacity(this.options.opacity),p.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(p){rr.prototype.onRemove.call(this,p),p.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var p=rr.prototype.getEvents.call(this);return this.options.permanent||(p.preclick=this.close),p},_initLayout:function(){var p="leaflet-tooltip",x=p+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Kn("div",x),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(p){var x,T,V=this._map,G=this._container,ie=V.latLngToContainerPoint(V.getCenter()),Ce=V.layerPointToContainerPoint(p),We=this.options.direction,Ve=G.offsetWidth,Nt=G.offsetHeight,Pt=Z(this.options.offset),Wt=this._getAnchor();We==="top"?(x=Ve/2,T=Nt):We==="bottom"?(x=Ve/2,T=0):We==="center"?(x=Ve/2,T=Nt/2):We==="right"?(x=0,T=Nt/2):We==="left"?(x=Ve,T=Nt/2):Ce.x<ie.x?(We="right",x=0,T=Nt/2):(We="left",x=Ve+(Pt.x+Wt.x)*2,T=Nt/2),p=p.subtract(Z(x,T,!0)).add(Pt).add(Wt),Qn(G,"leaflet-tooltip-right"),Qn(G,"leaflet-tooltip-left"),Qn(G,"leaflet-tooltip-top"),Qn(G,"leaflet-tooltip-bottom"),Sn(G,"leaflet-tooltip-"+We),qn(G,p)},_updatePosition:function(){var p=this._map.latLngToLayerPoint(this._latlng);this._setPosition(p)},setOpacity:function(p){this.options.opacity=p,this._container&&Ni(this._container,p)},_animateZoom:function(p){var x=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center);this._setPosition(x)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Bd=function(p,x){return new Kl(p,x)};zn.include({openTooltip:function(p,x,T){return this._initOverlay(Kl,p,x,T).openOn(this),this},closeTooltip:function(p){return p.close(),this}}),po.include({bindTooltip:function(p,x){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Kl,this._tooltip,p,x),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(p){if(!(!p&&this._tooltipHandlersAdded)){var x=p?"off":"on",T={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?T.add=this._openTooltip:(T.mouseover=this._openTooltip,T.mouseout=this.closeTooltip,T.click=this._openTooltip,this._map?this._addFocusListeners():T.add=this._addFocusListeners),this._tooltip.options.sticky&&(T.mousemove=this._moveTooltip),this[x](T),this._tooltipHandlersAdded=!p}},openTooltip:function(p){return this._tooltip&&(this instanceof fs||(this._tooltip._source=this),this._tooltip._prepareOpen(p)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(p){return this._tooltip&&this._tooltip.setContent(p),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(p){var x=typeof p.getElement=="function"&&p.getElement();x&&(Qt(x,"focus",function(){this._tooltip._source=p,this.openTooltip()},this),Qt(x,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(p){var x=typeof p.getElement=="function"&&p.getElement();x&&x.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(p){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var x=this;this._map.once("moveend",function(){x._openOnceFlag=!1,x._openTooltip(p)});return}this._tooltip._source=p.layer||p.target,this.openTooltip(this._tooltip.options.sticky?p.latlng:void 0)}},_moveTooltip:function(p){var x=p.latlng,T,V;this._tooltip.options.sticky&&p.originalEvent&&(T=this._map.mouseEventToContainerPoint(p.originalEvent),V=this._map.containerPointToLayerPoint(T),x=this._map.layerPointToLatLng(V)),this._tooltip.setLatLng(x)}});var Ql=go.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(p){var x=p&&p.tagName==="DIV"?p:document.createElement("div"),T=this.options;if(T.html instanceof Element?(_r(x),x.appendChild(T.html)):x.innerHTML=T.html!==!1?T.html:"",T.bgPos){var V=Z(T.bgPos);x.style.backgroundPosition=-V.x+"px "+-V.y+"px"}return this._setIconStyles(x,"icon"),x},createShadow:function(){return null}});function Wi(p){return new Ql(p)}go.Default=fl;var Lo=po.extend({options:{tileSize:256,opacity:1,updateWhenIdle:we.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(p){H(this,p)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(p){p._addZoomLimit(this)},onRemove:function(p){this._removeAllTiles(),ki(this._container),p._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(jo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Xo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(p){return this.options.opacity=p,this._updateOpacity(),this},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var p=this._clampZoom(this._map.getZoom());p!==this._tileZoom&&(this._tileZoom=p,this._updateLevels()),this._update()}return this},getEvents:function(){var p={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=N(this._onMoveEnd,this.options.updateInterval,this)),p.move=this._onMove),this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},createTile:function(){return document.createElement("div")},getTileSize:function(){var p=this.options.tileSize;return p instanceof he?p:new he(p,p)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(p){for(var x=this.getPane().children,T=-p(-1/0,1/0),V=0,G=x.length,ie;V<G;V++)ie=x[V].style.zIndex,x[V]!==this._container&&ie&&(T=p(T,+ie));isFinite(T)&&(this.options.zIndex=T+p(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!we.ielt9){Ni(this._container,this.options.opacity);var p=+new Date,x=!1,T=!1;for(var V in this._tiles){var G=this._tiles[V];if(!(!G.current||!G.loaded)){var ie=Math.min(1,(p-G.loaded)/200);Ni(G.el,ie),ie<1?x=!0:(G.active?T=!0:this._onOpaqueTile(G),G.active=!0)}}T&&!this._noPrune&&this._pruneTiles(),x&&(Ne(this._fadeFrame),this._fadeFrame=ke(this._updateOpacity,this))}},_onOpaqueTile:D,_initContainer:function(){this._container||(this._container=Kn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var p=this._tileZoom,x=this.options.maxZoom;if(p!==void 0){for(var T in this._levels)T=Number(T),this._levels[T].el.children.length||T===p?(this._levels[T].el.style.zIndex=x-Math.abs(p-T),this._onUpdateLevel(T)):(ki(this._levels[T].el),this._removeTilesAtZoom(T),this._onRemoveLevel(T),delete this._levels[T]);var V=this._levels[p],G=this._map;return V||(V=this._levels[p]={},V.el=Kn("div","leaflet-tile-container leaflet-zoom-animated",this._container),V.el.style.zIndex=x,V.origin=G.project(G.unproject(G.getPixelOrigin()),p).round(),V.zoom=p,this._setZoomTransform(V,G.getCenter(),G.getZoom()),D(V.el.offsetWidth),this._onCreateLevel(V)),this._level=V,V}},_onUpdateLevel:D,_onRemoveLevel:D,_onCreateLevel:D,_pruneTiles:function(){if(this._map){var p,x,T=this._map.getZoom();if(T>this.options.maxZoom||T<this.options.minZoom){this._removeAllTiles();return}for(p in this._tiles)x=this._tiles[p],x.retain=x.current;for(p in this._tiles)if(x=this._tiles[p],x.current&&!x.active){var V=x.coords;this._retainParent(V.x,V.y,V.z,V.z-5)||this._retainChildren(V.x,V.y,V.z,V.z+2)}for(p in this._tiles)this._tiles[p].retain||this._removeTile(p)}},_removeTilesAtZoom:function(p){for(var x in this._tiles)this._tiles[x].coords.z===p&&this._removeTile(x)},_removeAllTiles:function(){for(var p in this._tiles)this._removeTile(p)},_invalidateAll:function(){for(var p in this._levels)ki(this._levels[p].el),this._onRemoveLevel(Number(p)),delete this._levels[p];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(p,x,T,V){var G=Math.floor(p/2),ie=Math.floor(x/2),Ce=T-1,We=new he(+G,+ie);We.z=+Ce;var Ve=this._tileCoordsToKey(We),Nt=this._tiles[Ve];return Nt&&Nt.active?(Nt.retain=!0,!0):(Nt&&Nt.loaded&&(Nt.retain=!0),Ce>V?this._retainParent(G,ie,Ce,V):!1)},_retainChildren:function(p,x,T,V){for(var G=2*p;G<2*p+2;G++)for(var ie=2*x;ie<2*x+2;ie++){var Ce=new he(G,ie);Ce.z=T+1;var We=this._tileCoordsToKey(Ce),Ve=this._tiles[We];if(Ve&&Ve.active){Ve.retain=!0;continue}else Ve&&Ve.loaded&&(Ve.retain=!0);T+1<V&&this._retainChildren(G,ie,T+1,V)}},_resetView:function(p){var x=p&&(p.pinch||p.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),x,x)},_animateZoom:function(p){this._setView(p.center,p.zoom,!0,p.noUpdate)},_clampZoom:function(p){var x=this.options;return x.minNativeZoom!==void 0&&p<x.minNativeZoom?x.minNativeZoom:x.maxNativeZoom!==void 0&&x.maxNativeZoom<p?x.maxNativeZoom:p},_setView:function(p,x,T,V){var G=Math.round(x);this.options.maxZoom!==void 0&&G>this.options.maxZoom||this.options.minZoom!==void 0&&G<this.options.minZoom?G=void 0:G=this._clampZoom(G);var ie=this.options.updateWhenZooming&&G!==this._tileZoom;(!V||ie)&&(this._tileZoom=G,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),G!==void 0&&this._update(p),T||this._pruneTiles(),this._noPrune=!!T),this._setZoomTransforms(p,x)},_setZoomTransforms:function(p,x){for(var T in this._levels)this._setZoomTransform(this._levels[T],p,x)},_setZoomTransform:function(p,x,T){var V=this._map.getZoomScale(T,p.zoom),G=p.origin.multiplyBy(V).subtract(this._map._getNewPixelOrigin(x,T)).round();we.any3d?Ui(p.el,G,V):qn(p.el,G)},_resetGrid:function(){var p=this._map,x=p.options.crs,T=this._tileSize=this.getTileSize(),V=this._tileZoom,G=this._map.getPixelWorldBounds(this._tileZoom);G&&(this._globalTileRange=this._pxBoundsToTileRange(G)),this._wrapX=x.wrapLng&&!this.options.noWrap&&[Math.floor(p.project([0,x.wrapLng[0]],V).x/T.x),Math.ceil(p.project([0,x.wrapLng[1]],V).x/T.y)],this._wrapY=x.wrapLat&&!this.options.noWrap&&[Math.floor(p.project([x.wrapLat[0],0],V).y/T.x),Math.ceil(p.project([x.wrapLat[1],0],V).y/T.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(p){var x=this._map,T=x._animatingZoom?Math.max(x._animateToZoom,x.getZoom()):x.getZoom(),V=x.getZoomScale(T,this._tileZoom),G=x.project(p,this._tileZoom).floor(),ie=x.getSize().divideBy(V*2);return new pe(G.subtract(ie),G.add(ie))},_update:function(p){var x=this._map;if(x){var T=this._clampZoom(x.getZoom());if(p===void 0&&(p=x.getCenter()),this._tileZoom!==void 0){var V=this._getTiledPixelBounds(p),G=this._pxBoundsToTileRange(V),ie=G.getCenter(),Ce=[],We=this.options.keepBuffer,Ve=new pe(G.getBottomLeft().subtract([We,-We]),G.getTopRight().add([We,-We]));if(!(isFinite(G.min.x)&&isFinite(G.min.y)&&isFinite(G.max.x)&&isFinite(G.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Nt in this._tiles){var Pt=this._tiles[Nt].coords;(Pt.z!==this._tileZoom||!Ve.contains(new he(Pt.x,Pt.y)))&&(this._tiles[Nt].current=!1)}if(Math.abs(T-this._tileZoom)>1){this._setView(p,T);return}for(var Wt=G.min.y;Wt<=G.max.y;Wt++)for(var nn=G.min.x;nn<=G.max.x;nn++){var kn=new he(nn,Wt);if(kn.z=this._tileZoom,!!this._isValidTile(kn)){var pn=this._tiles[this._tileCoordsToKey(kn)];pn?pn.current=!0:Ce.push(kn)}}if(Ce.sort(function(hr,Ds){return hr.distanceTo(ie)-Ds.distanceTo(ie)}),Ce.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var wi=document.createDocumentFragment();for(nn=0;nn<Ce.length;nn++)this._addTile(Ce[nn],wi);this._level.el.appendChild(wi)}}}},_isValidTile:function(p){var x=this._map.options.crs;if(!x.infinite){var T=this._globalTileRange;if(!x.wrapLng&&(p.x<T.min.x||p.x>T.max.x)||!x.wrapLat&&(p.y<T.min.y||p.y>T.max.y))return!1}if(!this.options.bounds)return!0;var V=this._tileCoordsToBounds(p);return Fe(this.options.bounds).overlaps(V)},_keyToBounds:function(p){return this._tileCoordsToBounds(this._keyToTileCoords(p))},_tileCoordsToNwSe:function(p){var x=this._map,T=this.getTileSize(),V=p.scaleBy(T),G=V.add(T),ie=x.unproject(V,p.z),Ce=x.unproject(G,p.z);return[ie,Ce]},_tileCoordsToBounds:function(p){var x=this._tileCoordsToNwSe(p),T=new Se(x[0],x[1]);return this.options.noWrap||(T=this._map.wrapLatLngBounds(T)),T},_tileCoordsToKey:function(p){return p.x+":"+p.y+":"+p.z},_keyToTileCoords:function(p){var x=p.split(":"),T=new he(+x[0],+x[1]);return T.z=+x[2],T},_removeTile:function(p){var x=this._tiles[p];x&&(ki(x.el),delete this._tiles[p],this.fire("tileunload",{tile:x.el,coords:this._keyToTileCoords(p)}))},_initTile:function(p){Sn(p,"leaflet-tile");var x=this.getTileSize();p.style.width=x.x+"px",p.style.height=x.y+"px",p.onselectstart=D,p.onmousemove=D,we.ielt9&&this.options.opacity<1&&Ni(p,this.options.opacity)},_addTile:function(p,x){var T=this._getTilePos(p),V=this._tileCoordsToKey(p),G=this.createTile(this._wrapCoords(p),_(this._tileReady,this,p));this._initTile(G),this.createTile.length<2&&ke(_(this._tileReady,this,p,null,G)),qn(G,T),this._tiles[V]={el:G,coords:p,current:!0},x.appendChild(G),this.fire("tileloadstart",{tile:G,coords:p})},_tileReady:function(p,x,T){x&&this.fire("tileerror",{error:x,tile:T,coords:p});var V=this._tileCoordsToKey(p);T=this._tiles[V],T&&(T.loaded=+new Date,this._map._fadeAnimated?(Ni(T.el,0),Ne(this._fadeFrame),this._fadeFrame=ke(this._updateOpacity,this)):(T.active=!0,this._pruneTiles()),x||(Sn(T.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:T.el,coords:p})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),we.ielt9||!this._map._fadeAnimated?ke(this._pruneTiles,this):setTimeout(_(this._pruneTiles,this),250)))},_getTilePos:function(p){return p.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(p){var x=new he(this._wrapX?S(p.x,this._wrapX):p.x,this._wrapY?S(p.y,this._wrapY):p.y);return x.z=p.z,x},_pxBoundsToTileRange:function(p){var x=this.getTileSize();return new pe(p.min.unscaleBy(x).floor(),p.max.unscaleBy(x).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var p in this._tiles)if(!this._tiles[p].loaded)return!1;return!0}});function eo(p){return new Lo(p)}var ya=Lo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(p,x){this._url=p,x=H(this,x),x.detectRetina&&we.retina&&x.maxZoom>0?(x.tileSize=Math.floor(x.tileSize/2),x.zoomReverse?(x.zoomOffset--,x.minZoom=Math.min(x.maxZoom,x.minZoom+1)):(x.zoomOffset++,x.maxZoom=Math.max(x.minZoom,x.maxZoom-1)),x.minZoom=Math.max(0,x.minZoom)):x.zoomReverse?x.minZoom=Math.min(x.maxZoom,x.minZoom):x.maxZoom=Math.max(x.minZoom,x.maxZoom),typeof x.subdomains=="string"&&(x.subdomains=x.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(p,x){return this._url===p&&x===void 0&&(x=!0),this._url=p,x||this.redraw(),this},createTile:function(p,x){var T=document.createElement("img");return Qt(T,"load",_(this._tileOnLoad,this,x,T)),Qt(T,"error",_(this._tileOnError,this,x,T)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(T.referrerPolicy=this.options.referrerPolicy),T.alt="",T.src=this.getTileUrl(p),T},getTileUrl:function(p){var x={r:we.retina?"@2x":"",s:this._getSubdomain(p),x:p.x,y:p.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var T=this._globalTileRange.max.y-p.y;this.options.tms&&(x.y=T),x["-y"]=T}return Q(this._url,h(x,this.options))},_tileOnLoad:function(p,x){we.ielt9?setTimeout(_(p,this,null,x),0):p(null,x)},_tileOnError:function(p,x,T){var V=this.options.errorTileUrl;V&&x.getAttribute("src")!==V&&(x.src=V),p(T,x)},_onTileRemove:function(p){p.tile.onload=null},_getZoomForUrl:function(){var p=this._tileZoom,x=this.options.maxZoom,T=this.options.zoomReverse,V=this.options.zoomOffset;return T&&(p=x-p),p+V},_getSubdomain:function(p){var x=Math.abs(p.x+p.y)%this.options.subdomains.length;return this.options.subdomains[x]},_abortLoading:function(){var p,x;for(p in this._tiles)if(this._tiles[p].coords.z!==this._tileZoom&&(x=this._tiles[p].el,x.onload=D,x.onerror=D,!x.complete)){x.src=le;var T=this._tiles[p].coords;ki(x),delete this._tiles[p],this.fire("tileabort",{tile:x,coords:T})}},_removeTile:function(p){var x=this._tiles[p];if(x)return x.el.setAttribute("src",le),Lo.prototype._removeTile.call(this,p)},_tileReady:function(p,x,T){if(!(!this._map||T&&T.getAttribute("src")===le))return Lo.prototype._tileReady.call(this,p,x,T)}});function fn(p,x){return new ya(p,x)}var jr=ya.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(p,x){this._url=p;var T=h({},this.defaultWmsParams);for(var V in x)V in this.options||(T[V]=x[V]);x=H(this,x);var G=x.detectRetina&&we.retina?2:1,ie=this.getTileSize();T.width=ie.x*G,T.height=ie.y*G,this.wmsParams=T},onAdd:function(p){this._crs=this.options.crs||p.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var x=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[x]=this._crs.code,ya.prototype.onAdd.call(this,p)},getTileUrl:function(p){var x=this._tileCoordsToNwSe(p),T=this._crs,V=xe(T.project(x[0]),T.project(x[1])),G=V.min,ie=V.max,Ce=(this._wmsVersion>=1.3&&this._crs===Md?[G.y,G.x,ie.y,ie.x]:[G.x,G.y,ie.x,ie.y]).join(","),We=ya.prototype.getTileUrl.call(this,p);return We+$(this.wmsParams,We,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ce},setParams:function(p,x){return h(this.wmsParams,p),x||this.redraw(),this}});function Ja(p,x){return new jr(p,x)}ya.WMS=jr,fn.wms=Ja;var Ss=po.extend({options:{padding:.1},initialize:function(p){H(this,p),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Sn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var p={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(p.zoomanim=this._onAnimZoom),p},_onAnimZoom:function(p){this._updateTransform(p.center,p.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(p,x){var T=this._map.getZoomScale(x,this._zoom),V=this._map.getSize().multiplyBy(.5+this.options.padding),G=this._map.project(this._center,x),ie=V.multiplyBy(-T).add(G).subtract(this._map._getNewPixelOrigin(p,x));we.any3d?Ui(this._container,ie,T):qn(this._container,ie)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var p in this._layers)this._layers[p]._reset()},_onZoomEnd:function(){for(var p in this._layers)this._layers[p]._project()},_updatePaths:function(){for(var p in this._layers)this._layers[p]._update()},_update:function(){var p=this.options.padding,x=this._map.getSize(),T=this._map.containerPointToLayerPoint(x.multiplyBy(-p)).round();this._bounds=new pe(T,T.add(x.multiplyBy(1+p*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),bl=Ss.extend({options:{tolerance:0},getEvents:function(){var p=Ss.prototype.getEvents.call(this);return p.viewprereset=this._onViewPreReset,p},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ss.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var p=this._container=document.createElement("canvas");Qt(p,"mousemove",this._onMouseMove,this),Qt(p,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Qt(p,"mouseout",this._handleMouseOut,this),p._leaflet_disable_events=!0,this._ctx=p.getContext("2d")},_destroyContainer:function(){Ne(this._redrawRequest),delete this._ctx,ki(this._container),ti(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var p;this._redrawBounds=null;for(var x in this._layers)p=this._layers[x],p._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ss.prototype._update.call(this);var p=this._bounds,x=this._container,T=p.getSize(),V=we.retina?2:1;qn(x,p.min),x.width=V*T.x,x.height=V*T.y,x.style.width=T.x+"px",x.style.height=T.y+"px",we.retina&&this._ctx.scale(2,2),this._ctx.translate(-p.min.x,-p.min.y),this.fire("update")}},_reset:function(){Ss.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(p){this._updateDashArray(p),this._layers[v(p)]=p;var x=p._order={layer:p,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=x),this._drawLast=x,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(p){this._requestRedraw(p)},_removePath:function(p){var x=p._order,T=x.next,V=x.prev;T?T.prev=V:this._drawLast=V,V?V.next=T:this._drawFirst=T,delete p._order,delete this._layers[v(p)],this._requestRedraw(p)},_updatePath:function(p){this._extendRedrawBounds(p),p._project(),p._update(),this._requestRedraw(p)},_updateStyle:function(p){this._updateDashArray(p),this._requestRedraw(p)},_updateDashArray:function(p){if(typeof p.options.dashArray=="string"){var x=p.options.dashArray.split(/[, ]+/),T=[],V,G;for(G=0;G<x.length;G++){if(V=Number(x[G]),isNaN(V))return;T.push(V)}p.options._dashArray=T}else p.options._dashArray=p.options.dashArray},_requestRedraw:function(p){this._map&&(this._extendRedrawBounds(p),this._redrawRequest=this._redrawRequest||ke(this._redraw,this))},_extendRedrawBounds:function(p){if(p._pxBounds){var x=(p.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new pe,this._redrawBounds.extend(p._pxBounds.min.subtract([x,x])),this._redrawBounds.extend(p._pxBounds.max.add([x,x]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var p=this._redrawBounds;if(p){var x=p.getSize();this._ctx.clearRect(p.min.x,p.min.y,x.x,x.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var p,x=this._redrawBounds;if(this._ctx.save(),x){var T=x.getSize();this._ctx.beginPath(),this._ctx.rect(x.min.x,x.min.y,T.x,T.y),this._ctx.clip()}this._drawing=!0;for(var V=this._drawFirst;V;V=V.next)p=V.layer,(!x||p._pxBounds&&p._pxBounds.intersects(x))&&p._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(p,x){if(this._drawing){var T,V,G,ie,Ce=p._parts,We=Ce.length,Ve=this._ctx;if(We){for(Ve.beginPath(),T=0;T<We;T++){for(V=0,G=Ce[T].length;V<G;V++)ie=Ce[T][V],Ve[V?"lineTo":"moveTo"](ie.x,ie.y);x&&Ve.closePath()}this._fillStroke(Ve,p)}}},_updateCircle:function(p){if(!(!this._drawing||p._empty())){var x=p._point,T=this._ctx,V=Math.max(Math.round(p._radius),1),G=(Math.max(Math.round(p._radiusY),1)||V)/V;G!==1&&(T.save(),T.scale(1,G)),T.beginPath(),T.arc(x.x,x.y/G,V,0,Math.PI*2,!1),G!==1&&T.restore(),this._fillStroke(T,p)}},_fillStroke:function(p,x){var T=x.options;T.fill&&(p.globalAlpha=T.fillOpacity,p.fillStyle=T.fillColor||T.color,p.fill(T.fillRule||"evenodd")),T.stroke&&T.weight!==0&&(p.setLineDash&&p.setLineDash(x.options&&x.options._dashArray||[]),p.globalAlpha=T.opacity,p.lineWidth=T.weight,p.strokeStyle=T.color,p.lineCap=T.lineCap,p.lineJoin=T.lineJoin,p.stroke())},_onClick:function(p){for(var x=this._map.mouseEventToLayerPoint(p),T,V,G=this._drawFirst;G;G=G.next)T=G.layer,T.options.interactive&&T._containsPoint(x)&&(!(p.type==="click"||p.type==="preclick")||!this._map._draggableMoved(T))&&(V=T);this._fireEvent(V?[V]:!1,p)},_onMouseMove:function(p){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var x=this._map.mouseEventToLayerPoint(p);this._handleMouseHover(p,x)}},_handleMouseOut:function(p){var x=this._hoveredLayer;x&&(Qn(this._container,"leaflet-interactive"),this._fireEvent([x],p,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(p,x){if(!this._mouseHoverThrottled){for(var T,V,G=this._drawFirst;G;G=G.next)T=G.layer,T.options.interactive&&T._containsPoint(x)&&(V=T);V!==this._hoveredLayer&&(this._handleMouseOut(p),V&&(Sn(this._container,"leaflet-interactive"),this._fireEvent([V],p,"mouseover"),this._hoveredLayer=V)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,p),this._mouseHoverThrottled=!0,setTimeout(_(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(p,x,T){this._map._fireDOMEvent(x,T||x.type,p)},_bringToFront:function(p){var x=p._order;if(x){var T=x.next,V=x.prev;if(T)T.prev=V;else return;V?V.next=T:T&&(this._drawFirst=T),x.prev=this._drawLast,this._drawLast.next=x,x.next=null,this._drawLast=x,this._requestRedraw(p)}},_bringToBack:function(p){var x=p._order;if(x){var T=x.next,V=x.prev;if(V)V.next=T;else return;T?T.prev=V:V&&(this._drawLast=V),x.prev=null,x.next=this._drawFirst,this._drawFirst.prev=x,this._drawFirst=x,this._requestRedraw(p)}}});function Li(p){return we.canvas?new bl(p):null}var _o=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(p){return document.createElement("<lvml:"+p+' class="lvml">')}}catch{}return function(p){return document.createElement("<"+p+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Xr={_initContainer:function(){this._container=Kn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ss.prototype._update.call(this),this.fire("update"))},_initPath:function(p){var x=p._container=_o("shape");Sn(x,"leaflet-vml-shape "+(this.options.className||"")),x.coordsize="1 1",p._path=_o("path"),x.appendChild(p._path),this._updateStyle(p),this._layers[v(p)]=p},_addPath:function(p){var x=p._container;this._container.appendChild(x),p.options.interactive&&p.addInteractiveTarget(x)},_removePath:function(p){var x=p._container;ki(x),p.removeInteractiveTarget(x),delete this._layers[v(p)]},_updateStyle:function(p){var x=p._stroke,T=p._fill,V=p.options,G=p._container;G.stroked=!!V.stroke,G.filled=!!V.fill,V.stroke?(x||(x=p._stroke=_o("stroke")),G.appendChild(x),x.weight=V.weight+"px",x.color=V.color,x.opacity=V.opacity,V.dashArray?x.dashStyle=ee(V.dashArray)?V.dashArray.join(" "):V.dashArray.replace(/( *, *)/g," "):x.dashStyle="",x.endcap=V.lineCap.replace("butt","flat"),x.joinstyle=V.lineJoin):x&&(G.removeChild(x),p._stroke=null),V.fill?(T||(T=p._fill=_o("fill")),G.appendChild(T),T.color=V.fillColor||V.color,T.opacity=V.fillOpacity):T&&(G.removeChild(T),p._fill=null)},_updateCircle:function(p){var x=p._point.round(),T=Math.round(p._radius),V=Math.round(p._radiusY||T);this._setPath(p,p._empty()?"M0 0":"AL "+x.x+","+x.y+" "+T+","+V+" 0,"+65535*360)},_setPath:function(p,x){p._path.v=x},_bringToFront:function(p){jo(p._container)},_bringToBack:function(p){Xo(p._container)}},vo=we.vml?_o:ze,to=Ss.extend({_initContainer:function(){this._container=vo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=vo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ki(this._container),ti(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ss.prototype._update.call(this);var p=this._bounds,x=p.getSize(),T=this._container;(!this._svgSize||!this._svgSize.equals(x))&&(this._svgSize=x,T.setAttribute("width",x.x),T.setAttribute("height",x.y)),qn(T,p.min),T.setAttribute("viewBox",[p.min.x,p.min.y,x.x,x.y].join(" ")),this.fire("update")}},_initPath:function(p){var x=p._path=vo("path");p.options.className&&Sn(x,p.options.className),p.options.interactive&&Sn(x,"leaflet-interactive"),this._updateStyle(p),this._layers[v(p)]=p},_addPath:function(p){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(p._path),p.addInteractiveTarget(p._path)},_removePath:function(p){ki(p._path),p.removeInteractiveTarget(p._path),delete this._layers[v(p)]},_updatePath:function(p){p._project(),p._update()},_updateStyle:function(p){var x=p._path,T=p.options;x&&(T.stroke?(x.setAttribute("stroke",T.color),x.setAttribute("stroke-opacity",T.opacity),x.setAttribute("stroke-width",T.weight),x.setAttribute("stroke-linecap",T.lineCap),x.setAttribute("stroke-linejoin",T.lineJoin),T.dashArray?x.setAttribute("stroke-dasharray",T.dashArray):x.removeAttribute("stroke-dasharray"),T.dashOffset?x.setAttribute("stroke-dashoffset",T.dashOffset):x.removeAttribute("stroke-dashoffset")):x.setAttribute("stroke","none"),T.fill?(x.setAttribute("fill",T.fillColor||T.color),x.setAttribute("fill-opacity",T.fillOpacity),x.setAttribute("fill-rule",T.fillRule||"evenodd")):x.setAttribute("fill","none"))},_updatePoly:function(p,x){this._setPath(p,ht(p._parts,x))},_updateCircle:function(p){var x=p._point,T=Math.max(Math.round(p._radius),1),V=Math.max(Math.round(p._radiusY),1)||T,G="a"+T+","+V+" 0 1,0 ",ie=p._empty()?"M0 0":"M"+(x.x-T)+","+x.y+G+T*2+",0 "+G+-T*2+",0 ";this._setPath(p,ie)},_setPath:function(p,x){p._path.setAttribute("d",x)},_bringToFront:function(p){jo(p._path)},_bringToBack:function(p){Xo(p._path)}});we.vml&&to.include(Xr);function xa(p){return we.svg||we.vml?new to(p):null}zn.include({getRenderer:function(p){var x=p.options.renderer||this._getPaneRenderer(p.options.pane)||this.options.renderer||this._renderer;return x||(x=this._renderer=this._createRenderer()),this.hasLayer(x)||this.addLayer(x),x},_getPaneRenderer:function(p){if(p==="overlayPane"||p===void 0)return!1;var x=this._paneRenderers[p];return x===void 0&&(x=this._createRenderer({pane:p}),this._paneRenderers[p]=x),x},_createRenderer:function(p){return this.options.preferCanvas&&Li(p)||xa(p)}});var kl=Oo.extend({initialize:function(p,x){Oo.prototype.initialize.call(this,this._boundsToLatLngs(p),x)},setBounds:function(p){return this.setLatLngs(this._boundsToLatLngs(p))},_boundsToLatLngs:function(p){return p=Fe(p),[p.getSouthWest(),p.getNorthWest(),p.getNorthEast(),p.getSouthEast()]}});function ur(p,x){return new kl(p,x)}to.create=vo,to.pointsToPath=ht,Pr.geometryToLayer=zr,Pr.coordsToLatLng=Oc,Pr.coordsToLatLngs=gl,Pr.latLngToCoords=Ka,Pr.latLngsToCoords=Lc,Pr.getFeature=Xs,Pr.asFeature=Qa,zn.mergeOptions({boxZoom:!0});var Zl=Rr.extend({initialize:function(p){this._map=p,this._container=p._container,this._pane=p._panes.overlayPane,this._resetStateTimeout=0,p.on("unload",this._destroy,this)},addHooks:function(){Qt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ti(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ki(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(p){if(!p.shiftKey||p.which!==1&&p.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Er(),Ys(),this._startPoint=this._map.mouseEventToContainerPoint(p),Qt(document,{contextmenu:xs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(p){this._moved||(this._moved=!0,this._box=Kn("div","leaflet-zoom-box",this._container),Sn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(p);var x=new pe(this._point,this._startPoint),T=x.getSize();qn(this._box,x.min),this._box.style.width=T.x+"px",this._box.style.height=T.y+"px"},_finish:function(){this._moved&&(ki(this._box),Qn(this._container,"leaflet-crosshair")),us(),ye(),ti(document,{contextmenu:xs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(p){if(!(p.which!==1&&p.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(_(this._resetState,this),0);var x=new Se(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(x).fire("boxzoomend",{boxZoomBounds:x})}},_onKeyDown:function(p){p.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});zn.addInitHook("addHandler","boxZoom",Zl),zn.mergeOptions({doubleClickZoom:!0});var js=Rr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(p){var x=this._map,T=x.getZoom(),V=x.options.zoomDelta,G=p.originalEvent.shiftKey?T-V:T+V;x.options.doubleClickZoom==="center"?x.setZoom(G):x.setZoomAround(p.containerPoint,G)}});zn.addInitHook("addHandler","doubleClickZoom",js),zn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Rc=Rr.extend({addHooks:function(){if(!this._draggable){var p=this._map;this._draggable=new Ks(p._mapPane,p._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),p.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),p.on("zoomend",this._onZoomEnd,this),p.whenReady(this._onZoomEnd,this))}Sn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Qn(this._map._container,"leaflet-grab"),Qn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var p=this._map;if(p._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var x=Fe(this._map.options.maxBounds);this._offsetLimit=xe(this._map.latLngToContainerPoint(x.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(x.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;p.fire("movestart").fire("dragstart"),p.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(p){if(this._map.options.inertia){var x=this._lastTime=+new Date,T=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(T),this._times.push(x),this._prunePositions(x)}this._map.fire("move",p).fire("drag",p)},_prunePositions:function(p){for(;this._positions.length>1&&p-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var p=this._map.getSize().divideBy(2),x=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=x.subtract(p).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(p,x){return p-(p-x)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var p=this._draggable._newPos.subtract(this._draggable._startPos),x=this._offsetLimit;p.x<x.min.x&&(p.x=this._viscousLimit(p.x,x.min.x)),p.y<x.min.y&&(p.y=this._viscousLimit(p.y,x.min.y)),p.x>x.max.x&&(p.x=this._viscousLimit(p.x,x.max.x)),p.y>x.max.y&&(p.y=this._viscousLimit(p.y,x.max.y)),this._draggable._newPos=this._draggable._startPos.add(p)}},_onPreDragWrap:function(){var p=this._worldWidth,x=Math.round(p/2),T=this._initialWorldOffset,V=this._draggable._newPos.x,G=(V-x+T)%p+x-T,ie=(V+x+T)%p-x-T,Ce=Math.abs(G+T)<Math.abs(ie+T)?G:ie;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ce},_onDragEnd:function(p){var x=this._map,T=x.options,V=!T.inertia||p.noInertia||this._times.length<2;if(x.fire("dragend",p),V)x.fire("moveend");else{this._prunePositions(+new Date);var G=this._lastPos.subtract(this._positions[0]),ie=(this._lastTime-this._times[0])/1e3,Ce=T.easeLinearity,We=G.multiplyBy(Ce/ie),Ve=We.distanceTo([0,0]),Nt=Math.min(T.inertiaMaxSpeed,Ve),Pt=We.multiplyBy(Nt/Ve),Wt=Nt/(T.inertiaDeceleration*Ce),nn=Pt.multiplyBy(-Wt/2).round();!nn.x&&!nn.y?x.fire("moveend"):(nn=x._limitOffset(nn,x.options.maxBounds),ke(function(){x.panBy(nn,{duration:Wt,easeLinearity:Ce,noMoveStart:!0,animate:!0})}))}}});zn.addInitHook("addHandler","dragging",Rc),zn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _l=Rr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(p){this._map=p,this._setPanDelta(p.options.keyboardPanDelta),this._setZoomDelta(p.options.zoomDelta)},addHooks:function(){var p=this._map._container;p.tabIndex<=0&&(p.tabIndex="0"),Qt(p,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ti(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var p=document.body,x=document.documentElement,T=p.scrollTop||x.scrollTop,V=p.scrollLeft||x.scrollLeft;this._map._container.focus(),window.scrollTo(V,T)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(p){var x=this._panKeys={},T=this.keyCodes,V,G;for(V=0,G=T.left.length;V<G;V++)x[T.left[V]]=[-1*p,0];for(V=0,G=T.right.length;V<G;V++)x[T.right[V]]=[p,0];for(V=0,G=T.down.length;V<G;V++)x[T.down[V]]=[0,p];for(V=0,G=T.up.length;V<G;V++)x[T.up[V]]=[0,-1*p]},_setZoomDelta:function(p){var x=this._zoomKeys={},T=this.keyCodes,V,G;for(V=0,G=T.zoomIn.length;V<G;V++)x[T.zoomIn[V]]=p;for(V=0,G=T.zoomOut.length;V<G;V++)x[T.zoomOut[V]]=-p},_addHooks:function(){Qt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ti(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(p){if(!(p.altKey||p.ctrlKey||p.metaKey)){var x=p.keyCode,T=this._map,V;if(x in this._panKeys){if(!T._panAnim||!T._panAnim._inProgress)if(V=this._panKeys[x],p.shiftKey&&(V=Z(V).multiplyBy(3)),T.options.maxBounds&&(V=T._limitOffset(Z(V),T.options.maxBounds)),T.options.worldCopyJump){var G=T.wrapLatLng(T.unproject(T.project(T.getCenter()).add(V)));T.panTo(G)}else T.panBy(V)}else if(x in this._zoomKeys)T.setZoom(T.getZoom()+(p.shiftKey?3:1)*this._zoomKeys[x]);else if(x===27&&T._popup&&T._popup.options.closeOnEscapeKey)T.closePopup();else return;xs(p)}}});zn.addInitHook("addHandler","keyboard",_l),zn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var wo=Rr.extend({addHooks:function(){Qt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ti(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(p){var x=Jo(p),T=this._map.options.wheelDebounceTime;this._delta+=x,this._lastMousePos=this._map.mouseEventToContainerPoint(p),this._startTime||(this._startTime=+new Date);var V=Math.max(T-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(_(this._performZoom,this),V),xs(p)},_performZoom:function(){var p=this._map,x=p.getZoom(),T=this._map.options.zoomSnap||0;p._stop();var V=this._delta/(this._map.options.wheelPxPerZoomLevel*4),G=4*Math.log(2/(1+Math.exp(-Math.abs(V))))/Math.LN2,ie=T?Math.ceil(G/T)*T:G,Ce=p._limitZoom(x+(this._delta>0?ie:-ie))-x;this._delta=0,this._startTime=null,Ce&&(p.options.scrollWheelZoom==="center"?p.setZoom(x+Ce):p.setZoomAround(this._lastMousePos,x+Ce))}});zn.addInitHook("addHandler","scrollWheelZoom",wo);var vl=600;zn.mergeOptions({tapHold:we.touchNative&&we.safari&&we.mobile,tapTolerance:15});var Pc=Rr.extend({addHooks:function(){Qt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ti(this._map._container,"touchstart",this._onDown,this)},_onDown:function(p){if(clearTimeout(this._holdTimeout),p.touches.length===1){var x=p.touches[0];this._startPos=this._newPos=new he(x.clientX,x.clientY),this._holdTimeout=setTimeout(_(function(){this._cancel(),this._isTapValid()&&(Qt(document,"touchend",Tn),Qt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",x))},this),vl),Qt(document,"touchend touchcancel contextmenu",this._cancel,this),Qt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function p(){ti(document,"touchend",Tn),ti(document,"touchend touchcancel",p)},_cancel:function(){clearTimeout(this._holdTimeout),ti(document,"touchend touchcancel contextmenu",this._cancel,this),ti(document,"touchmove",this._onMove,this)},_onMove:function(p){var x=p.touches[0];this._newPos=new he(x.clientX,x.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(p,x){var T=new MouseEvent(p,{bubbles:!0,cancelable:!0,view:window,screenX:x.screenX,screenY:x.screenY,clientX:x.clientX,clientY:x.clientY});T._simulated=!0,x.target.dispatchEvent(T)}});zn.addInitHook("addHandler","tapHold",Pc),zn.mergeOptions({touchZoom:we.touch,bounceAtZoomLimits:!0});var na=Rr.extend({addHooks:function(){Sn(this._map._container,"leaflet-touch-zoom"),Qt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Qn(this._map._container,"leaflet-touch-zoom"),ti(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(p){var x=this._map;if(!(!p.touches||p.touches.length!==2||x._animatingZoom||this._zooming)){var T=x.mouseEventToContainerPoint(p.touches[0]),V=x.mouseEventToContainerPoint(p.touches[1]);this._centerPoint=x.getSize()._divideBy(2),this._startLatLng=x.containerPointToLatLng(this._centerPoint),x.options.touchZoom!=="center"&&(this._pinchStartLatLng=x.containerPointToLatLng(T.add(V)._divideBy(2))),this._startDist=T.distanceTo(V),this._startZoom=x.getZoom(),this._moved=!1,this._zooming=!0,x._stop(),Qt(document,"touchmove",this._onTouchMove,this),Qt(document,"touchend touchcancel",this._onTouchEnd,this),Tn(p)}},_onTouchMove:function(p){if(!(!p.touches||p.touches.length!==2||!this._zooming)){var x=this._map,T=x.mouseEventToContainerPoint(p.touches[0]),V=x.mouseEventToContainerPoint(p.touches[1]),G=T.distanceTo(V)/this._startDist;if(this._zoom=x.getScaleZoom(G,this._startZoom),!x.options.bounceAtZoomLimits&&(this._zoom<x.getMinZoom()&&G<1||this._zoom>x.getMaxZoom()&&G>1)&&(this._zoom=x._limitZoom(this._zoom)),x.options.touchZoom==="center"){if(this._center=this._startLatLng,G===1)return}else{var ie=T._add(V)._divideBy(2)._subtract(this._centerPoint);if(G===1&&ie.x===0&&ie.y===0)return;this._center=x.unproject(x.project(this._pinchStartLatLng,this._zoom).subtract(ie),this._zoom)}this._moved||(x._moveStart(!0,!1),this._moved=!0),Ne(this._animRequest);var Ce=_(x._move,x,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ke(Ce,this,!0),Tn(p)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ne(this._animRequest),ti(document,"touchmove",this._onTouchMove,this),ti(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});zn.addInitHook("addHandler","touchZoom",na),zn.BoxZoom=Zl,zn.DoubleClickZoom=js,zn.Drag=Rc,zn.Keyboard=_l,zn.ScrollWheelZoom=wo,zn.TapHold=Pc,zn.TouchZoom=na,s.Bounds=pe,s.Browser=we,s.CRS=me,s.Canvas=bl,s.Circle=Mc,s.CircleMarker=pl,s.Class=_e,s.Control=Qr,s.DivIcon=Ql,s.DivOverlay=rr,s.DomEvent=xd,s.DomUtil=ul,s.Draggable=Ks,s.Evented=ve,s.FeatureGroup=fs,s.GeoJSON=Pr,s.GridLayer=Lo,s.Handler=Rr,s.Icon=go,s.ImageOverlay=Ns,s.LatLng=tt,s.LatLngBounds=Se,s.Layer=po,s.LayerGroup=Ya,s.LineUtil=qa,s.Map=zn,s.Marker=bo,s.Mixin=Su,s.Path=ta,s.Point=he,s.PolyUtil=Nd,s.Polygon=Oo,s.Polyline=ko,s.Popup=Xa,s.PosAnimation=To,s.Projection=Td,s.Rectangle=kl,s.Renderer=Ss,s.SVG=to,s.SVGOverlay=wa,s.TileLayer=ya,s.Tooltip=Kl,s.Transformation=st,s.Util=De,s.VideoOverlay=Za,s.bind=_,s.bounds=xe,s.canvas=Li,s.circle=Du,s.circleMarker=Od,s.control=As,s.divIcon=Wi,s.extend=h,s.featureGroup=Zs,s.geoJSON=gi,s.geoJson=Bc,s.gridLayer=eo,s.icon=Tc,s.imageOverlay=Es,s.latLng=fe,s.latLngBounds=Fe,s.layerGroup=Qs,s.map=Va,s.marker=Id,s.point=Z,s.polygon=ps,s.polyline=Tu,s.popup=Js,s.rectangle=ur,s.setOptions=H,s.stamp=v,s.svg=xa,s.svgOverlay=Zr,s.tileLayer=fn,s.tooltip=Bd,s.transformation=Ye,s.version=o,s.videoOverlay=Ld;var Ca=window.L;s.noConflict=function(){return window.L=Ca,this},window.L=s})}(sb,sb.exports)),sb.exports}var wp=W$();const ar=Vm(wp);function iw(l,c,s){return Object.freeze({instance:l,context:c,container:s})}function rw(l,c){return c==null?function(o,h){const g=I.useRef(void 0);return g.current||(g.current=l(o,h)),g}:function(o,h){const g=I.useRef(void 0);g.current||(g.current=l(o,h));const _=I.useRef(o),{instance:y}=g.current;return I.useEffect(function(){_.current!==o&&(c(y,o,_.current),_.current=o)},[y,o,c]),g}}function $3(l,c){I.useEffect(function(){return(c.layerContainer??c.map).addLayer(l.instance),function(){var g;(g=c.layerContainer)==null||g.removeLayer(l.instance),c.map.removeLayer(l.instance)}},[c,l])}function q3(l){return function(s){const o=tw(),h=l(nw(s,o),o);return V3(o.map,s.attribution),GA(h.current,s.eventHandlers),$3(h.current,o),h}}function Y$(l,c){const s=I.useRef(void 0);I.useEffect(function(){if(c.pathOptions!==s.current){const h=c.pathOptions??{};l.instance.setStyle(h),s.current=h}},[l,c])}function G$(l){return function(s){const o=tw(),h=l(nw(s,o),o);return GA(h.current,s.eventHandlers),$3(h.current,o),Y$(h.current,s),h}}function K$(l,c){const s=rw(l,c),o=q3(s);return U3(o)}function Q$(l,c){const s=rw(l),o=$$(s,c);return H$(o)}function Z$(l,c){const s=rw(l,c),o=G$(s);return U3(o)}function X$(l,c){const s=rw(l,c),o=q3(s);return U$(o)}function J$(l,c,s){const{opacity:o,zIndex:h}=c;o!=null&&o!==s.opacity&&l.setOpacity(o),h!=null&&h!==s.zIndex&&l.setZIndex(h)}function xh(){return tw().map}function eq({bounds:l,boundsOptions:c,center:s,children:o,className:h,id:g,placeholder:_,style:y,whenReady:v,zoom:N,...S},D){const[j]=I.useState({className:h,id:g,style:y}),[B,F]=I.useState(null),H=I.useRef(void 0);I.useImperativeHandle(D,()=>(B==null?void 0:B.map)??null,[B]);const $=I.useCallback(Q=>{if(Q!==null&&!H.current){const ee=new wp.Map(Q,S);H.current=ee,s!=null&&N!=null?ee.setView(s,N):l!=null&&ee.fitBounds(l,c),v!=null&&ee.whenReady(v),F(V$(ee))}},[]);I.useEffect(()=>()=>{B==null||B.map.remove()},[B]);const K=B?it.createElement(YA,{value:B},o):_??null;return it.createElement("div",{...j,ref:$},K)}const pb=I.forwardRef(eq),ao=K$(function({position:c,...s},o){const h=new wp.Marker(c,s);return iw(h,H3(o,{overlayContainer:h}))},function(c,s,o){s.position!==o.position&&c.setLatLng(s.position),s.icon!=null&&s.icon!==o.icon&&c.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==o.zIndexOffset&&c.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==o.opacity&&c.setOpacity(s.opacity),c.dragging!=null&&s.draggable!==o.draggable&&(s.draggable===!0?c.dragging.enable():c.dragging.disable())}),tq=Z$(function({positions:c,...s},o){const h=new wp.Polyline(c,s);return iw(h,H3(o,{overlayContainer:h}))},function(c,s,o){s.positions!==o.positions&&c.setLatLngs(s.positions)}),lo=Q$(function(c,s){const o=new wp.Popup(c,s.overlayContainer);return iw(o,s)},function(c,s,{position:o},h){I.useEffect(function(){const{instance:_}=c;function y(N){N.popup===_&&(_.update(),h(!0))}function v(N){N.popup===_&&h(!1)}return s.map.on({popupopen:y,popupclose:v}),s.overlayContainer==null?(o!=null&&_.setLatLng(o),_.openOn(s.map)):s.overlayContainer.bindPopup(_),function(){var S;s.map.off({popupopen:y,popupclose:v}),(S=s.overlayContainer)==null||S.unbindPopup(),s.map.removeLayer(_)}},[c,s,h,o])}),gb=X$(function({url:c,...s},o){const h=new wp.TileLayer(c,nw(s,o));return iw(h,o)},function(c,s,o){J$(c,s,o);const{url:h}=s;h!=null&&h!==o.url&&c.setUrl(h)}),sw="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%201024%201024'%20class='icon'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M533.333333%20277.333333m-149.333333%200a149.333333%20149.333333%200%201%200%20298.666667%200%20149.333333%20149.333333%200%201%200-298.666667%200Z'%20fill='%234CAF50'%20/%3e%3cpath%20d='M298.666667%20469.333333a85.333333%2085.333333%200%201%201-0.042667%20170.709334A85.333333%2085.333333%200%200%201%20298.666667%20469.333333'%20fill='%23FFB74D'%20/%3e%3cpath%20d='M426.666667%20746.666667H170.666667a21.333333%2021.333333%200%200%201-21.333334-21.333334v-64a21.333333%2021.333333%200%200%201%2021.333334-21.333333h256a21.333333%2021.333333%200%200%201%2021.333333%2021.333333v64a21.333333%2021.333333%200%200%201-21.333333%2021.333334z'%20fill='%23E1BEE7'%20/%3e%3cpath%20d='M917.333333%20725.333333H426.666667a21.333333%2021.333333%200%200%201-21.333334-21.333333v-192h476.096C914.602667%20512%20938.666667%20536.192%20938.666667%20569.514667V704a21.333333%2021.333333%200%200%201-21.333334%2021.333333z'%20fill='%239C27B0'%20/%3e%3cpath%20d='M192%20896H85.333333V384h106.666667v320h746.666667v192h-106.666667v-85.333333H192v85.333333z'%20fill='%23FF9800'%20/%3e%3cpath%20d='M512%20234.666667h42.666667v149.333333h-42.666667z'%20fill='%23FFFFFF'%20/%3e%3cpath%20d='M533.333333%20192m-21.333333%200a21.333333%2021.333333%200%201%200%2042.666667%200%2021.333333%2021.333333%200%201%200-42.666667%200Z'%20fill='%23FFFFFF'%20/%3e%3c/svg%3e",ow="/assets/restaurant-marker-Bubo7wyi.svg",nq="https://walkingguide.onrender.com";new ar.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]});const iq=new ar.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),rq=l=>{if(l.image_url){const o=l.image_url.startsWith("http")?l.image_url:`${nq}${l.image_url}`;return new ar.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          overflow: hidden;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
          <img 
            src="${o}" 
            alt="${l.name}"
            style="
              width: 100%;
              height: 100%;
              margin-left: 11px;
              object-fit: cover;
            "
            onerror="this.style.display='none'; this.parentElement.innerHTML='<i class=\\"bi bi-geo-alt-fill\\" style=\\"font-size: 20px; color: #3498db;\\"></i>';"
          />
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})}else return new ar.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
          <i className="bi bi-geo-alt-fill" style="fontSize: 24, color: '#3498db'"></i>
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})},sq=new ar.Icon({iconUrl:sw,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]}),oq=new ar.Icon({iconUrl:ow,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]});function aq({onLocationUpdate:l}){const c=xh(),s=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(o=>{const h=o.coords.latitude,g=o.coords.longitude;c.setView([h,g],15),l&&l({lat:h,lng:g})},o=>{console.error("Error getting current location:",o),alert("Khng th ly v tr hin ti. Vui lng kim tra quyn truy cp v tr.")}):alert("Trnh duyt ca bn khng h tr nh v.")};return i.jsx("div",{className:"leaflet-control leaflet-bar location-control",children:i.jsx("button",{onClick:s,title:"n v tr hin ti",children:i.jsx("i",{className:"bi bi-geo-alt-fill"})})})}function lq(){const l=xh(),c=()=>{l.zoomIn()},s=()=>{l.zoomOut()};return i.jsxs("div",{className:"leaflet-control leaflet-bar zoom-controls",children:[i.jsx("button",{onClick:c,title:"Phng to",className:"zoom-in-btn",children:i.jsx("i",{className:"bi bi-plus-lg"})}),i.jsx("button",{onClick:s,title:"Thu nh",className:"zoom-out-btn",children:i.jsx("i",{className:"bi bi-dash-lg"})})]})}function cq({locations:l,selectedCity:c,currentLocation:s}){const o=xh();return I.useEffect(()=>{if(l.length>0){const h=ar.latLngBounds(l.map(g=>[g.lat,g.lng]));s&&h.extend([s.lat,s.lng]),o.fitBounds(h,{padding:[20,20],maxZoom:15,animate:!0})}},[c,l,s,o]),null}function dq({locations:l,currentLocation:c}){const s=xh(),o=()=>{if(l.length>0){const h=ar.latLngBounds(l.map(g=>[g.lat,g.lng]));c&&h.extend([c.lat,c.lng]),s.fitBounds(h,{padding:[20,20],maxZoom:15,animate:!0})}};return i.jsx("div",{className:"leaflet-control leaflet-bar fit-markers-control",children:i.jsx("button",{onClick:o,title:"Hin th tt c a im",children:i.jsx("i",{className:"bi bi-grid-3x3-gap"})})})}function uq({locations:l=[],hotels:c=[],restaurants:s=[],className:o,selectedCity:h}){let _=[10.8231,106.6297],y=13;const[v,N]=I.useState(null),[S,D]=I.useState(!1),[j,B]=I.useState("");I.useEffect(()=>{F()},[]);const F=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(ne=>{const{latitude:le,longitude:se}=ne.coords;N({lat:le,lng:se})},ne=>{console.error("Error getting location:",ne),B("Khng th ly v tr hin ti. Vui lng kim tra quyn truy cp v tr."),D(!0)}):(B("Trnh duyt ca bn khng h tr nh v."),D(!0))},H=ne=>{N(ne)},$=l.filter(ne=>typeof ne.lat=="number"&&typeof ne.lng=="number"&&!isNaN(ne.lat)&&!isNaN(ne.lng)),K=c.filter(ne=>typeof ne.latitude=="number"&&typeof ne.longitude=="number"&&!isNaN(ne.latitude)&&!isNaN(ne.longitude)),Q=s.filter(ne=>typeof ne.latitude=="number"&&typeof ne.longitude=="number"&&!isNaN(ne.latitude)&&!isNaN(ne.longitude));console.log("validHotels",K),console.log("validRestaurants",Q);const ee=[...$.map(ne=>[ne.lat,ne.lng]),...K.map(ne=>[ne.latitude,ne.longitude]),...Q.map(ne=>[ne.latitude,ne.longitude])];return ee.length>0&&(ee.length===1?(_=ee[0],y=15):(_=ar.latLngBounds(ee).getCenter(),y=10)),i.jsxs("div",{className:o,style:{height:"24rem",width:"100%",background:"#e9ecef",overflow:"hidden"},children:[S&&i.jsxs("div",{className:"alert alert-warning alert-dismissible fade show position-absolute top-0 start-0 m-3",style:{zIndex:1e3},role:"alert",children:[i.jsx("i",{className:"bi bi-geo-alt me-2"}),j,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>D(!1)})]}),ee.length===0?i.jsx("div",{className:"text-center text-muted h-100 d-flex align-items-center justify-content-center",children:"Khng c a im hp l  hin th"}):i.jsxs(pb,{center:_,zoom:y,style:{height:"100%",width:"100%"},scrollWheelZoom:!1,children:[i.jsx(gb,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),i.jsx(cq,{locations:$,selectedCity:h,currentLocation:v}),i.jsx(dq,{locations:$,currentLocation:v}),i.jsx(aq,{onLocationUpdate:H}),i.jsx(lq,{}),v&&i.jsx(ao,{position:[v.lat,v.lng],icon:iq,children:i.jsx(lo,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("h6",{className:"text-primary mb-1",children:"V tr hin ti"}),i.jsxs("small",{className:"text-muted",children:[v.lat.toFixed(6),", ",v.lng.toFixed(6)]})]})})}),$.map(ne=>i.jsx(ao,{position:[ne.lat,ne.lng],icon:rq(ne),children:i.jsx(lo,{children:ne.name})},ne.id)),K.map(ne=>i.jsx(ao,{position:[ne.latitude,ne.longitude],icon:sq,children:i.jsx(lo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:ne.name}),i.jsx("br",{}),ne.address&&i.jsxs("span",{children:[ne.address,i.jsx("br",{})]}),ne.city&&i.jsxs("span",{children:[ne.city,i.jsx("br",{})]}),ne.price_range&&i.jsxs("span",{children:["Gi: ",ne.price_range,i.jsx("br",{})]}),ne.rating&&i.jsxs("span",{children:["nh gi: ",ne.rating.toFixed(1)," / 5"]})]})})},`hotel-${ne.id}`)),Q.map(ne=>i.jsx(ao,{position:[ne.latitude,ne.longitude],icon:oq,children:i.jsx(lo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:ne.name}),i.jsx("br",{}),ne.address&&i.jsxs("span",{children:[ne.address,i.jsx("br",{})]}),ne.city&&i.jsxs("span",{children:[ne.city,i.jsx("br",{})]}),ne.price_range&&i.jsxs("span",{children:["Gi: ",ne.price_range,i.jsx("br",{})]}),ne.rating&&i.jsxs("span",{children:["nh gi: ",ne.rating.toFixed(1)," / 5"]})]})})},`restaurant-${ne.id}`))]})]})}const hq=({activePage:l,isAuthenticated:c})=>i.jsx("aside",{className:"luxury-sidebar d-none d-lg-block luxury-sidebar-collapsed",children:i.jsx("nav",{children:i.jsxs("ul",{className:"luxury-sidebar-nav list-unstyled mb-0",children:[i.jsx("li",{children:i.jsxs(Jt,{to:"/explore",className:`luxury-sidebar-link${l==="explore"?" active":""}`,style:{textDecoration:"none"},children:[i.jsx("i",{className:"bi bi-map luxury-sidebar-icon"}),i.jsx("span",{className:"luxury-sidebar-label",children:"Khm ph"})]})}),i.jsx("li",{children:i.jsxs(Jt,{to:"/manual-planner",className:`luxury-sidebar-link${l==="/manual-planner"?" active":""}`,style:{textDecoration:"none"},children:[i.jsx("i",{className:"bi bi-calendar2-check luxury-sidebar-icon"}),i.jsx("span",{className:"luxury-sidebar-label",children:"Ln k hoch"})]})}),i.jsx("li",{children:i.jsxs(Jt,{to:"/my-tours",className:`luxury-sidebar-link${l==="mytours"?" active":""}`,style:{textDecoration:"none"},children:[i.jsx("i",{className:"bi bi-person-walking luxury-sidebar-icon"}),i.jsx("span",{className:"luxury-sidebar-label",children:"Tour ca ti"})]})}),c&&i.jsx("li",{children:i.jsxs(Jt,{to:"/users",className:`luxury-sidebar-link${l==="profile"?" active":""}`,style:{textDecoration:"none"},children:[i.jsx("i",{className:"bi bi-person-circle luxury-sidebar-icon"}),i.jsx("span",{className:"luxury-sidebar-label",children:"H s"})]})})]})})}),KA=({value:l,onChange:c,placeholder:s="Nhp a im..."})=>{const[o,h]=I.useState([]),[g,_]=I.useState(!1),[y,v]=I.useState(l),[N,S]=I.useState(!1),[D,j]=I.useState(null),[B,F]=I.useState(!1),H=I.useRef(null),$=I.useRef(null);I.useEffect(()=>{v(l)},[l]),I.useEffect(()=>{const se=q=>{H.current&&!H.current.contains(q.target)&&_(!1)};return document.addEventListener("mousedown",se),()=>{document.removeEventListener("mousedown",se)}},[]);const K=async se=>{if(!se||se.length<3){h([]),_(!1);return}S(!0);try{const q=await fetch(`https://walkingguide.onrender.com/api/geocoding/search?q=${encodeURIComponent(se)}&limit=8&addressdetails=1`);if(!q.ok)throw new Error("Network response was not ok");const re=(await q.json()).filter(be=>{const ke=be.address;return ke&&(ke.country==="Vit Nam"||ke.country==="Vietnam")&&(ke.city||ke.town||ke.state||ke.suburb||ke.neighbourhood)}).map(be=>{const ke=be.address,Ne=ke.city||ke.town||ke.state,De=ke.suburb||ke.neighbourhood||ke.district;let _e=be.display_name;return Ne&&De?_e=`${De}, ${Ne}`:Ne&&(_e=Ne),{id:be.place_id,name:_e,full_name:be.display_name,city:Ne,district:De,country:ke.country,coordinates:{lat:parseFloat(be.lat),lon:parseFloat(be.lon)}}}).filter((be,ke,Ne)=>ke===Ne.findIndex(De=>De.name===be.name)).slice(0,8);h(re),_(re.length>0)}catch(q){console.error("Error searching locations:",q),h([]),_(!1)}finally{S(!1)}},Q=()=>{if(!navigator.geolocation){alert("Trnh duyt ca bn khng h tr nh v.");return}F(!0),navigator.geolocation.getCurrentPosition(async se=>{const{latitude:q,longitude:de}=se.coords;j({lat:q,lng:de});try{const re=await fetch(`https://walkingguide.onrender.com/api/geocoding/reverse?lat=${q}&lon=${de}&format=json&addressdetails=1`);if(re.ok){const be=await re.json(),ke=be.address,Ne=ke.city||ke.town||ke.state,De=ke.suburb||ke.neighbourhood||ke.district;let _e="V tr hin ti";Ne&&De?_e=`${De}, ${Ne}`:Ne&&(_e=Ne);const je={id:"current-location",name:_e,full_name:be.display_name,city:Ne,district:De,country:ke.country,coordinates:{lat:q,lon:de},isCurrentLocation:!0};v(_e),c(_e),h([je]),_(!0)}}catch(re){console.error("Error reverse geocoding:",re);const be=`V tr hin ti (${q.toFixed(4)}, ${de.toFixed(4)})`;v(be),c(be)}},se=>{console.error("Error getting current location:",se);let q="Khng th ly v tr hin ti.";switch(se.code){case se.PERMISSION_DENIED:q="Quyn truy cp v tr b t chi. Vui lng cho php truy cp v tr trong trnh duyt.";break;case se.POSITION_UNAVAILABLE:q="Thng tin v tr khng kh dng.";break;case se.TIMEOUT:q="Ht thi gian ly v tr.";break}alert(q)})},ee=se=>{const q=se.target.value;v(q),c(q),$.current&&clearTimeout($.current),$.current=setTimeout(()=>{K(q)},300)},ne=se=>{const q=(se.isCurrentLocation,se.name);v(q),c(q),_(!1),h([])},le=se=>{se.key==="Enter"&&o.length>0?ne(o[0]):se.key==="Escape"&&_(!1)};return i.jsxs("div",{ref:H,className:"position-relative",children:[i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"text",value:y,onChange:ee,onKeyDown:le,onFocus:()=>{o.length>0&&_(!0)},className:"form-control",placeholder:s,autoComplete:"off"}),i.jsxs("div",{className:"position-absolute",style:{right:"10px",top:"50%",transform:"translateY(-50%)"},children:[N&&i.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),!N&&i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:Q,disabled:B,title:"S dng v tr hin ti",style:{padding:"0.25rem 0.5rem",fontSize:"0.875rem"},children:B?i.jsx("div",{className:"spinner-border spinner-border-sm",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}):i.jsx("i",{className:"bi bi-geo-alt-fill"})})]})]}),g&&i.jsx("div",{className:"position-absolute w-100 mt-1 bg-white border rounded shadow-lg",style:{zIndex:1e3},children:i.jsx("ul",{className:"list-group list-group-flush",children:o.map((se,q)=>i.jsxs("li",{className:"list-group-item list-group-item-action d-flex align-items-center gap-2 py-2 px-3",onClick:()=>ne(se),style:{cursor:"pointer"},children:[i.jsx("i",{className:`bi ${se.isCurrentLocation?"bi-geo-alt-fill text-primary":"bi-geo-alt text-muted"}`,style:{fontSize:"1rem"}}),i.jsxs("div",{className:"flex-grow-1",children:[i.jsx("div",{className:"fw-semibold",children:se.name}),se.full_name&&se.full_name!==se.name&&i.jsx("small",{className:"text-muted",children:se.full_name})]}),se.isCurrentLocation&&i.jsx("span",{className:"badge bg-primary",children:"Hin ti"})]},se.id))})})]})},Db=({value:l,onChange:c,onKeyPress:s,placeholder:o="Thnh ph"})=>{const[h,g]=I.useState([]),[_,y]=I.useState(!1),[v,N]=I.useState(l),[S,D]=I.useState(!1),j=I.useRef(null),B=I.useRef(null);I.useEffect(()=>{N(l)},[l]),I.useEffect(()=>{const Q=ee=>{j.current&&!j.current.contains(ee.target)&&y(!1)};return document.addEventListener("mousedown",Q),()=>{document.removeEventListener("mousedown",Q)}},[]);const F=async Q=>{if(!Q||Q.length<3){g([]),y(!1);return}D(!0);try{const ee=await fetch(`https://walkingguide.onrender.com/api/geocoding/search?q=${encodeURIComponent(Q)}&limit=10&addressdetails=1`);if(!ee.ok)throw new Error("Network response was not ok");const le=(await ee.json()).filter(se=>{const q=se.address;return q&&(q.country==="Vit Nam"||q.country==="Vietnam")&&(q.city||q.town||q.state)&&(q.city||q.town||q.state).toLowerCase().includes(Q.toLowerCase())}).map(se=>{const q=se.address,de=q.city||q.town||q.state;return{id:se.place_id,name:de,display_name:se.display_name,state:q.state,country:q.country}}).filter((se,q,de)=>q===de.findIndex(re=>re.name===se.name)).slice(0,10);g(le),y(le.length>0)}catch(ee){console.error("Error searching cities:",ee),g([]),y(!1)}finally{D(!1)}},H=Q=>{const ee=Q.target.value;N(ee),c(ee),B.current&&clearTimeout(B.current),B.current=setTimeout(()=>{F(ee)},300)},$=Q=>{const ee=typeof Q=="string"?Q:Q.name;N(ee),c(ee),y(!1),g([])},K=Q=>{Q.key==="Enter"?s&&s(Q):Q.key==="Escape"&&y(!1)};return i.jsxs("div",{ref:j,className:"position-relative",children:[i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"text",value:v,onChange:H,onKeyDown:K,onFocus:()=>{h.length>0&&y(!0)},className:"form-control mb-2",placeholder:o,autoComplete:"off"}),S&&i.jsx("div",{className:"position-absolute",style:{right:"10px",top:"50%",transform:"translateY(-50%)"},children:i.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})})]}),_&&i.jsx("div",{className:"position-absolute w-100 bg-white border rounded shadow-sm",style:{zIndex:1e3,maxHeight:"200px",overflowY:"auto",top:"100%",left:0},children:h.length>0?h.map((Q,ee)=>i.jsx("div",{className:"px-3 py-2 cursor-pointer hover-bg-light",style:{cursor:"pointer"},onClick:()=>$(Q),onMouseEnter:ne=>ne.target.style.backgroundColor="#f8f9fa",onMouseLeave:ne=>ne.target.style.backgroundColor="white",children:Q.display_name},ee)):i.jsx("div",{className:"px-3 py-2 text-muted",children:"Khng tm thy thnh ph"})})]})};var v0,kT;function W3(){if(kT)return v0;kT=1;var l=typeof Fl=="object"&&Fl&&Fl.Object===Object&&Fl;return v0=l,v0}var w0,_T;function yu(){if(_T)return w0;_T=1;var l=W3(),c=typeof self=="object"&&self&&self.Object===Object&&self,s=l||c||Function("return this")();return w0=s,w0}var y0,vT;function aw(){if(vT)return y0;vT=1;var l=yu(),c=l.Symbol;return y0=c,y0}var x0,wT;function mq(){if(wT)return x0;wT=1;var l=aw(),c=Object.prototype,s=c.hasOwnProperty,o=c.toString,h=l?l.toStringTag:void 0;function g(_){var y=s.call(_,h),v=_[h];try{_[h]=void 0;var N=!0}catch{}var S=o.call(_);return N&&(y?_[h]=v:delete _[h]),S}return x0=g,x0}var C0,yT;function fq(){if(yT)return C0;yT=1;var l=Object.prototype,c=l.toString;function s(o){return c.call(o)}return C0=s,C0}var A0,xT;function Tb(){if(xT)return A0;xT=1;var l=aw(),c=mq(),s=fq(),o="[object Null]",h="[object Undefined]",g=l?l.toStringTag:void 0;function _(y){return y==null?y===void 0?h:o:g&&g in Object(y)?c(y):s(y)}return A0=_,A0}var N0,CT;function QA(){if(CT)return N0;CT=1;function l(c){var s=typeof c;return c!=null&&(s=="object"||s=="function")}return N0=l,N0}var E0,AT;function Y3(){if(AT)return E0;AT=1;var l=Tb(),c=QA(),s="[object AsyncFunction]",o="[object Function]",h="[object GeneratorFunction]",g="[object Proxy]";function _(y){if(!c(y))return!1;var v=l(y);return v==o||v==h||v==s||v==g}return E0=_,E0}var S0,NT;function pq(){if(NT)return S0;NT=1;var l=yu(),c=l["__core-js_shared__"];return S0=c,S0}var j0,ET;function gq(){if(ET)return j0;ET=1;var l=pq(),c=function(){var o=/[^.]+$/.exec(l&&l.keys&&l.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();function s(o){return!!c&&c in o}return j0=s,j0}var D0,ST;function G3(){if(ST)return D0;ST=1;var l=Function.prototype,c=l.toString;function s(o){if(o!=null){try{return c.call(o)}catch{}try{return o+""}catch{}}return""}return D0=s,D0}var T0,jT;function bq(){if(jT)return T0;jT=1;var l=Y3(),c=gq(),s=QA(),o=G3(),h=/[\\^$.*+?()[\]{}|]/g,g=/^\[object .+?Constructor\]$/,_=Function.prototype,y=Object.prototype,v=_.toString,N=y.hasOwnProperty,S=RegExp("^"+v.call(N).replace(h,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function D(j){if(!s(j)||c(j))return!1;var B=l(j)?S:g;return B.test(o(j))}return T0=D,T0}var M0,DT;function kq(){if(DT)return M0;DT=1;function l(c,s){return c==null?void 0:c[s]}return M0=l,M0}var I0,TT;function Um(){if(TT)return I0;TT=1;var l=bq(),c=kq();function s(o,h){var g=c(o,h);return l(g)?g:void 0}return I0=s,I0}var O0,MT;function _q(){if(MT)return O0;MT=1;var l=Um(),c=function(){try{var s=l(Object,"defineProperty");return s({},"",{}),s}catch{}}();return O0=c,O0}var L0,IT;function vq(){if(IT)return L0;IT=1;var l=_q();function c(s,o,h){o=="__proto__"&&l?l(s,o,{configurable:!0,enumerable:!0,value:h,writable:!0}):s[o]=h}return L0=c,L0}var B0,OT;function wq(){if(OT)return B0;OT=1;function l(c,s,o,h){for(var g=-1,_=c==null?0:c.length;++g<_;){var y=c[g];s(h,y,o(y),c)}return h}return B0=l,B0}var R0,LT;function yq(){if(LT)return R0;LT=1;function l(c){return function(s,o,h){for(var g=-1,_=Object(s),y=h(s),v=y.length;v--;){var N=y[c?v:++g];if(o(_[N],N,_)===!1)break}return s}}return R0=l,R0}var P0,BT;function xq(){if(BT)return P0;BT=1;var l=yq(),c=l();return P0=c,P0}var z0,RT;function Cq(){if(RT)return z0;RT=1;function l(c,s){for(var o=-1,h=Array(c);++o<c;)h[o]=s(o);return h}return z0=l,z0}var F0,PT;function Mb(){if(PT)return F0;PT=1;function l(c){return c!=null&&typeof c=="object"}return F0=l,F0}var V0,zT;function Aq(){if(zT)return V0;zT=1;var l=Tb(),c=Mb(),s="[object Arguments]";function o(h){return c(h)&&l(h)==s}return V0=o,V0}var H0,FT;function K3(){if(FT)return H0;FT=1;var l=Aq(),c=Mb(),s=Object.prototype,o=s.hasOwnProperty,h=s.propertyIsEnumerable,g=l(function(){return arguments}())?l:function(_){return c(_)&&o.call(_,"callee")&&!h.call(_,"callee")};return H0=g,H0}var U0,VT;function xu(){if(VT)return U0;VT=1;var l=Array.isArray;return U0=l,U0}var ob={exports:{}},$0,HT;function Nq(){if(HT)return $0;HT=1;function l(){return!1}return $0=l,$0}ob.exports;var UT;function Q3(){return UT||(UT=1,function(l,c){var s=yu(),o=Nq(),h=c&&!c.nodeType&&c,g=h&&!0&&l&&!l.nodeType&&l,_=g&&g.exports===h,y=_?s.Buffer:void 0,v=y?y.isBuffer:void 0,N=v||o;l.exports=N}(ob,ob.exports)),ob.exports}var q0,$T;function Z3(){if($T)return q0;$T=1;var l=9007199254740991,c=/^(?:0|[1-9]\d*)$/;function s(o,h){var g=typeof o;return h=h??l,!!h&&(g=="number"||g!="symbol"&&c.test(o))&&o>-1&&o%1==0&&o<h}return q0=s,q0}var W0,qT;function ZA(){if(qT)return W0;qT=1;var l=9007199254740991;function c(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=l}return W0=c,W0}var Y0,WT;function Eq(){if(WT)return Y0;WT=1;var l=Tb(),c=ZA(),s=Mb(),o="[object Arguments]",h="[object Array]",g="[object Boolean]",_="[object Date]",y="[object Error]",v="[object Function]",N="[object Map]",S="[object Number]",D="[object Object]",j="[object RegExp]",B="[object Set]",F="[object String]",H="[object WeakMap]",$="[object ArrayBuffer]",K="[object DataView]",Q="[object Float32Array]",ee="[object Float64Array]",ne="[object Int8Array]",le="[object Int16Array]",se="[object Int32Array]",q="[object Uint8Array]",de="[object Uint8ClampedArray]",re="[object Uint16Array]",be="[object Uint32Array]",ke={};ke[Q]=ke[ee]=ke[ne]=ke[le]=ke[se]=ke[q]=ke[de]=ke[re]=ke[be]=!0,ke[o]=ke[h]=ke[$]=ke[g]=ke[K]=ke[_]=ke[y]=ke[v]=ke[N]=ke[S]=ke[D]=ke[j]=ke[B]=ke[F]=ke[H]=!1;function Ne(De){return s(De)&&c(De.length)&&!!ke[l(De)]}return Y0=Ne,Y0}var G0,YT;function Sq(){if(YT)return G0;YT=1;function l(c){return function(s){return c(s)}}return G0=l,G0}var ab={exports:{}};ab.exports;var GT;function jq(){return GT||(GT=1,function(l,c){var s=W3(),o=c&&!c.nodeType&&c,h=o&&!0&&l&&!l.nodeType&&l,g=h&&h.exports===o,_=g&&s.process,y=function(){try{var v=h&&h.require&&h.require("util").types;return v||_&&_.binding&&_.binding("util")}catch{}}();l.exports=y}(ab,ab.exports)),ab.exports}var K0,KT;function X3(){if(KT)return K0;KT=1;var l=Eq(),c=Sq(),s=jq(),o=s&&s.isTypedArray,h=o?c(o):l;return K0=h,K0}var Q0,QT;function Dq(){if(QT)return Q0;QT=1;var l=Cq(),c=K3(),s=xu(),o=Q3(),h=Z3(),g=X3(),_=Object.prototype,y=_.hasOwnProperty;function v(N,S){var D=s(N),j=!D&&c(N),B=!D&&!j&&o(N),F=!D&&!j&&!B&&g(N),H=D||j||B||F,$=H?l(N.length,String):[],K=$.length;for(var Q in N)(S||y.call(N,Q))&&!(H&&(Q=="length"||B&&(Q=="offset"||Q=="parent")||F&&(Q=="buffer"||Q=="byteLength"||Q=="byteOffset")||h(Q,K)))&&$.push(Q);return $}return Q0=v,Q0}var Z0,ZT;function Tq(){if(ZT)return Z0;ZT=1;var l=Object.prototype;function c(s){var o=s&&s.constructor,h=typeof o=="function"&&o.prototype||l;return s===h}return Z0=c,Z0}var X0,XT;function Mq(){if(XT)return X0;XT=1;function l(c,s){return function(o){return c(s(o))}}return X0=l,X0}var J0,JT;function Iq(){if(JT)return J0;JT=1;var l=Mq(),c=l(Object.keys,Object);return J0=c,J0}var ex,eM;function Oq(){if(eM)return ex;eM=1;var l=Tq(),c=Iq(),s=Object.prototype,o=s.hasOwnProperty;function h(g){if(!l(g))return c(g);var _=[];for(var y in Object(g))o.call(g,y)&&y!="constructor"&&_.push(y);return _}return ex=h,ex}var tx,tM;function J3(){if(tM)return tx;tM=1;var l=Y3(),c=ZA();function s(o){return o!=null&&c(o.length)&&!l(o)}return tx=s,tx}var nx,nM;function XA(){if(nM)return nx;nM=1;var l=Dq(),c=Oq(),s=J3();function o(h){return s(h)?l(h):c(h)}return nx=o,nx}var ix,iM;function Lq(){if(iM)return ix;iM=1;var l=xq(),c=XA();function s(o,h){return o&&l(o,h,c)}return ix=s,ix}var rx,rM;function Bq(){if(rM)return rx;rM=1;var l=J3();function c(s,o){return function(h,g){if(h==null)return h;if(!l(h))return s(h,g);for(var _=h.length,y=o?_:-1,v=Object(h);(o?y--:++y<_)&&g(v[y],y,v)!==!1;);return h}}return rx=c,rx}var sx,sM;function Rq(){if(sM)return sx;sM=1;var l=Lq(),c=Bq(),s=c(l);return sx=s,sx}var ox,oM;function Pq(){if(oM)return ox;oM=1;var l=Rq();function c(s,o,h,g){return l(s,function(_,y,v){o(g,_,h(_),v)}),g}return ox=c,ox}var ax,aM;function zq(){if(aM)return ax;aM=1;function l(){this.__data__=[],this.size=0}return ax=l,ax}var lx,lM;function eL(){if(lM)return lx;lM=1;function l(c,s){return c===s||c!==c&&s!==s}return lx=l,lx}var cx,cM;function lw(){if(cM)return cx;cM=1;var l=eL();function c(s,o){for(var h=s.length;h--;)if(l(s[h][0],o))return h;return-1}return cx=c,cx}var dx,dM;function Fq(){if(dM)return dx;dM=1;var l=lw(),c=Array.prototype,s=c.splice;function o(h){var g=this.__data__,_=l(g,h);if(_<0)return!1;var y=g.length-1;return _==y?g.pop():s.call(g,_,1),--this.size,!0}return dx=o,dx}var ux,uM;function Vq(){if(uM)return ux;uM=1;var l=lw();function c(s){var o=this.__data__,h=l(o,s);return h<0?void 0:o[h][1]}return ux=c,ux}var hx,hM;function Hq(){if(hM)return hx;hM=1;var l=lw();function c(s){return l(this.__data__,s)>-1}return hx=c,hx}var mx,mM;function Uq(){if(mM)return mx;mM=1;var l=lw();function c(s,o){var h=this.__data__,g=l(h,s);return g<0?(++this.size,h.push([s,o])):h[g][1]=o,this}return mx=c,mx}var fx,fM;function cw(){if(fM)return fx;fM=1;var l=zq(),c=Fq(),s=Vq(),o=Hq(),h=Uq();function g(_){var y=-1,v=_==null?0:_.length;for(this.clear();++y<v;){var N=_[y];this.set(N[0],N[1])}}return g.prototype.clear=l,g.prototype.delete=c,g.prototype.get=s,g.prototype.has=o,g.prototype.set=h,fx=g,fx}var px,pM;function $q(){if(pM)return px;pM=1;var l=cw();function c(){this.__data__=new l,this.size=0}return px=c,px}var gx,gM;function qq(){if(gM)return gx;gM=1;function l(c){var s=this.__data__,o=s.delete(c);return this.size=s.size,o}return gx=l,gx}var bx,bM;function Wq(){if(bM)return bx;bM=1;function l(c){return this.__data__.get(c)}return bx=l,bx}var kx,kM;function Yq(){if(kM)return kx;kM=1;function l(c){return this.__data__.has(c)}return kx=l,kx}var _x,_M;function JA(){if(_M)return _x;_M=1;var l=Um(),c=yu(),s=l(c,"Map");return _x=s,_x}var vx,vM;function dw(){if(vM)return vx;vM=1;var l=Um(),c=l(Object,"create");return vx=c,vx}var wx,wM;function Gq(){if(wM)return wx;wM=1;var l=dw();function c(){this.__data__=l?l(null):{},this.size=0}return wx=c,wx}var yx,yM;function Kq(){if(yM)return yx;yM=1;function l(c){var s=this.has(c)&&delete this.__data__[c];return this.size-=s?1:0,s}return yx=l,yx}var xx,xM;function Qq(){if(xM)return xx;xM=1;var l=dw(),c="__lodash_hash_undefined__",s=Object.prototype,o=s.hasOwnProperty;function h(g){var _=this.__data__;if(l){var y=_[g];return y===c?void 0:y}return o.call(_,g)?_[g]:void 0}return xx=h,xx}var Cx,CM;function Zq(){if(CM)return Cx;CM=1;var l=dw(),c=Object.prototype,s=c.hasOwnProperty;function o(h){var g=this.__data__;return l?g[h]!==void 0:s.call(g,h)}return Cx=o,Cx}var Ax,AM;function Xq(){if(AM)return Ax;AM=1;var l=dw(),c="__lodash_hash_undefined__";function s(o,h){var g=this.__data__;return this.size+=this.has(o)?0:1,g[o]=l&&h===void 0?c:h,this}return Ax=s,Ax}var Nx,NM;function Jq(){if(NM)return Nx;NM=1;var l=Gq(),c=Kq(),s=Qq(),o=Zq(),h=Xq();function g(_){var y=-1,v=_==null?0:_.length;for(this.clear();++y<v;){var N=_[y];this.set(N[0],N[1])}}return g.prototype.clear=l,g.prototype.delete=c,g.prototype.get=s,g.prototype.has=o,g.prototype.set=h,Nx=g,Nx}var Ex,EM;function eW(){if(EM)return Ex;EM=1;var l=Jq(),c=cw(),s=JA();function o(){this.size=0,this.__data__={hash:new l,map:new(s||c),string:new l}}return Ex=o,Ex}var Sx,SM;function tW(){if(SM)return Sx;SM=1;function l(c){var s=typeof c;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?c!=="__proto__":c===null}return Sx=l,Sx}var jx,jM;function uw(){if(jM)return jx;jM=1;var l=tW();function c(s,o){var h=s.__data__;return l(o)?h[typeof o=="string"?"string":"hash"]:h.map}return jx=c,jx}var Dx,DM;function nW(){if(DM)return Dx;DM=1;var l=uw();function c(s){var o=l(this,s).delete(s);return this.size-=o?1:0,o}return Dx=c,Dx}var Tx,TM;function iW(){if(TM)return Tx;TM=1;var l=uw();function c(s){return l(this,s).get(s)}return Tx=c,Tx}var Mx,MM;function rW(){if(MM)return Mx;MM=1;var l=uw();function c(s){return l(this,s).has(s)}return Mx=c,Mx}var Ix,IM;function sW(){if(IM)return Ix;IM=1;var l=uw();function c(s,o){var h=l(this,s),g=h.size;return h.set(s,o),this.size+=h.size==g?0:1,this}return Ix=c,Ix}var Ox,OM;function e1(){if(OM)return Ox;OM=1;var l=eW(),c=nW(),s=iW(),o=rW(),h=sW();function g(_){var y=-1,v=_==null?0:_.length;for(this.clear();++y<v;){var N=_[y];this.set(N[0],N[1])}}return g.prototype.clear=l,g.prototype.delete=c,g.prototype.get=s,g.prototype.has=o,g.prototype.set=h,Ox=g,Ox}var Lx,LM;function oW(){if(LM)return Lx;LM=1;var l=cw(),c=JA(),s=e1(),o=200;function h(g,_){var y=this.__data__;if(y instanceof l){var v=y.__data__;if(!c||v.length<o-1)return v.push([g,_]),this.size=++y.size,this;y=this.__data__=new s(v)}return y.set(g,_),this.size=y.size,this}return Lx=h,Lx}var Bx,BM;function tL(){if(BM)return Bx;BM=1;var l=cw(),c=$q(),s=qq(),o=Wq(),h=Yq(),g=oW();function _(y){var v=this.__data__=new l(y);this.size=v.size}return _.prototype.clear=c,_.prototype.delete=s,_.prototype.get=o,_.prototype.has=h,_.prototype.set=g,Bx=_,Bx}var Rx,RM;function aW(){if(RM)return Rx;RM=1;var l="__lodash_hash_undefined__";function c(s){return this.__data__.set(s,l),this}return Rx=c,Rx}var Px,PM;function lW(){if(PM)return Px;PM=1;function l(c){return this.__data__.has(c)}return Px=l,Px}var zx,zM;function cW(){if(zM)return zx;zM=1;var l=e1(),c=aW(),s=lW();function o(h){var g=-1,_=h==null?0:h.length;for(this.__data__=new l;++g<_;)this.add(h[g])}return o.prototype.add=o.prototype.push=c,o.prototype.has=s,zx=o,zx}var Fx,FM;function dW(){if(FM)return Fx;FM=1;function l(c,s){for(var o=-1,h=c==null?0:c.length;++o<h;)if(s(c[o],o,c))return!0;return!1}return Fx=l,Fx}var Vx,VM;function uW(){if(VM)return Vx;VM=1;function l(c,s){return c.has(s)}return Vx=l,Vx}var Hx,HM;function nL(){if(HM)return Hx;HM=1;var l=cW(),c=dW(),s=uW(),o=1,h=2;function g(_,y,v,N,S,D){var j=v&o,B=_.length,F=y.length;if(B!=F&&!(j&&F>B))return!1;var H=D.get(_),$=D.get(y);if(H&&$)return H==y&&$==_;var K=-1,Q=!0,ee=v&h?new l:void 0;for(D.set(_,y),D.set(y,_);++K<B;){var ne=_[K],le=y[K];if(N)var se=j?N(le,ne,K,y,_,D):N(ne,le,K,_,y,D);if(se!==void 0){if(se)continue;Q=!1;break}if(ee){if(!c(y,function(q,de){if(!s(ee,de)&&(ne===q||S(ne,q,v,N,D)))return ee.push(de)})){Q=!1;break}}else if(!(ne===le||S(ne,le,v,N,D))){Q=!1;break}}return D.delete(_),D.delete(y),Q}return Hx=g,Hx}var Ux,UM;function hW(){if(UM)return Ux;UM=1;var l=yu(),c=l.Uint8Array;return Ux=c,Ux}var $x,$M;function mW(){if($M)return $x;$M=1;function l(c){var s=-1,o=Array(c.size);return c.forEach(function(h,g){o[++s]=[g,h]}),o}return $x=l,$x}var qx,qM;function fW(){if(qM)return qx;qM=1;function l(c){var s=-1,o=Array(c.size);return c.forEach(function(h){o[++s]=h}),o}return qx=l,qx}var Wx,WM;function pW(){if(WM)return Wx;WM=1;var l=aw(),c=hW(),s=eL(),o=nL(),h=mW(),g=fW(),_=1,y=2,v="[object Boolean]",N="[object Date]",S="[object Error]",D="[object Map]",j="[object Number]",B="[object RegExp]",F="[object Set]",H="[object String]",$="[object Symbol]",K="[object ArrayBuffer]",Q="[object DataView]",ee=l?l.prototype:void 0,ne=ee?ee.valueOf:void 0;function le(se,q,de,re,be,ke,Ne){switch(de){case Q:if(se.byteLength!=q.byteLength||se.byteOffset!=q.byteOffset)return!1;se=se.buffer,q=q.buffer;case K:return!(se.byteLength!=q.byteLength||!ke(new c(se),new c(q)));case v:case N:case j:return s(+se,+q);case S:return se.name==q.name&&se.message==q.message;case B:case H:return se==q+"";case D:var De=h;case F:var _e=re&_;if(De||(De=g),se.size!=q.size&&!_e)return!1;var je=Ne.get(se);if(je)return je==q;re|=y,Ne.set(se,q);var oe=o(De(se),De(q),re,be,ke,Ne);return Ne.delete(se),oe;case $:if(ne)return ne.call(se)==ne.call(q)}return!1}return Wx=le,Wx}var Yx,YM;function gW(){if(YM)return Yx;YM=1;function l(c,s){for(var o=-1,h=s.length,g=c.length;++o<h;)c[g+o]=s[o];return c}return Yx=l,Yx}var Gx,GM;function bW(){if(GM)return Gx;GM=1;var l=gW(),c=xu();function s(o,h,g){var _=h(o);return c(o)?_:l(_,g(o))}return Gx=s,Gx}var Kx,KM;function kW(){if(KM)return Kx;KM=1;function l(c,s){for(var o=-1,h=c==null?0:c.length,g=0,_=[];++o<h;){var y=c[o];s(y,o,c)&&(_[g++]=y)}return _}return Kx=l,Kx}var Qx,QM;function _W(){if(QM)return Qx;QM=1;function l(){return[]}return Qx=l,Qx}var Zx,ZM;function vW(){if(ZM)return Zx;ZM=1;var l=kW(),c=_W(),s=Object.prototype,o=s.propertyIsEnumerable,h=Object.getOwnPropertySymbols,g=h?function(_){return _==null?[]:(_=Object(_),l(h(_),function(y){return o.call(_,y)}))}:c;return Zx=g,Zx}var Xx,XM;function wW(){if(XM)return Xx;XM=1;var l=bW(),c=vW(),s=XA();function o(h){return l(h,s,c)}return Xx=o,Xx}var Jx,JM;function yW(){if(JM)return Jx;JM=1;var l=wW(),c=1,s=Object.prototype,o=s.hasOwnProperty;function h(g,_,y,v,N,S){var D=y&c,j=l(g),B=j.length,F=l(_),H=F.length;if(B!=H&&!D)return!1;for(var $=B;$--;){var K=j[$];if(!(D?K in _:o.call(_,K)))return!1}var Q=S.get(g),ee=S.get(_);if(Q&&ee)return Q==_&&ee==g;var ne=!0;S.set(g,_),S.set(_,g);for(var le=D;++$<B;){K=j[$];var se=g[K],q=_[K];if(v)var de=D?v(q,se,K,_,g,S):v(se,q,K,g,_,S);if(!(de===void 0?se===q||N(se,q,y,v,S):de)){ne=!1;break}le||(le=K=="constructor")}if(ne&&!le){var re=g.constructor,be=_.constructor;re!=be&&"constructor"in g&&"constructor"in _&&!(typeof re=="function"&&re instanceof re&&typeof be=="function"&&be instanceof be)&&(ne=!1)}return S.delete(g),S.delete(_),ne}return Jx=h,Jx}var eC,eI;function xW(){if(eI)return eC;eI=1;var l=Um(),c=yu(),s=l(c,"DataView");return eC=s,eC}var tC,tI;function CW(){if(tI)return tC;tI=1;var l=Um(),c=yu(),s=l(c,"Promise");return tC=s,tC}var nC,nI;function AW(){if(nI)return nC;nI=1;var l=Um(),c=yu(),s=l(c,"Set");return nC=s,nC}var iC,iI;function NW(){if(iI)return iC;iI=1;var l=Um(),c=yu(),s=l(c,"WeakMap");return iC=s,iC}var rC,rI;function EW(){if(rI)return rC;rI=1;var l=xW(),c=JA(),s=CW(),o=AW(),h=NW(),g=Tb(),_=G3(),y="[object Map]",v="[object Object]",N="[object Promise]",S="[object Set]",D="[object WeakMap]",j="[object DataView]",B=_(l),F=_(c),H=_(s),$=_(o),K=_(h),Q=g;return(l&&Q(new l(new ArrayBuffer(1)))!=j||c&&Q(new c)!=y||s&&Q(s.resolve())!=N||o&&Q(new o)!=S||h&&Q(new h)!=D)&&(Q=function(ee){var ne=g(ee),le=ne==v?ee.constructor:void 0,se=le?_(le):"";if(se)switch(se){case B:return j;case F:return y;case H:return N;case $:return S;case K:return D}return ne}),rC=Q,rC}var sC,sI;function SW(){if(sI)return sC;sI=1;var l=tL(),c=nL(),s=pW(),o=yW(),h=EW(),g=xu(),_=Q3(),y=X3(),v=1,N="[object Arguments]",S="[object Array]",D="[object Object]",j=Object.prototype,B=j.hasOwnProperty;function F(H,$,K,Q,ee,ne){var le=g(H),se=g($),q=le?S:h(H),de=se?S:h($);q=q==N?D:q,de=de==N?D:de;var re=q==D,be=de==D,ke=q==de;if(ke&&_(H)){if(!_($))return!1;le=!0,re=!1}if(ke&&!re)return ne||(ne=new l),le||y(H)?c(H,$,K,Q,ee,ne):s(H,$,q,K,Q,ee,ne);if(!(K&v)){var Ne=re&&B.call(H,"__wrapped__"),De=be&&B.call($,"__wrapped__");if(Ne||De){var _e=Ne?H.value():H,je=De?$.value():$;return ne||(ne=new l),ee(_e,je,K,Q,ne)}}return ke?(ne||(ne=new l),o(H,$,K,Q,ee,ne)):!1}return sC=F,sC}var oC,oI;function iL(){if(oI)return oC;oI=1;var l=SW(),c=Mb();function s(o,h,g,_,y){return o===h?!0:o==null||h==null||!c(o)&&!c(h)?o!==o&&h!==h:l(o,h,g,_,s,y)}return oC=s,oC}var aC,aI;function jW(){if(aI)return aC;aI=1;var l=tL(),c=iL(),s=1,o=2;function h(g,_,y,v){var N=y.length,S=N,D=!v;if(g==null)return!S;for(g=Object(g);N--;){var j=y[N];if(D&&j[2]?j[1]!==g[j[0]]:!(j[0]in g))return!1}for(;++N<S;){j=y[N];var B=j[0],F=g[B],H=j[1];if(D&&j[2]){if(F===void 0&&!(B in g))return!1}else{var $=new l;if(v)var K=v(F,H,B,g,_,$);if(!(K===void 0?c(H,F,s|o,v,$):K))return!1}}return!0}return aC=h,aC}var lC,lI;function rL(){if(lI)return lC;lI=1;var l=QA();function c(s){return s===s&&!l(s)}return lC=c,lC}var cC,cI;function DW(){if(cI)return cC;cI=1;var l=rL(),c=XA();function s(o){for(var h=c(o),g=h.length;g--;){var _=h[g],y=o[_];h[g]=[_,y,l(y)]}return h}return cC=s,cC}var dC,dI;function sL(){if(dI)return dC;dI=1;function l(c,s){return function(o){return o==null?!1:o[c]===s&&(s!==void 0||c in Object(o))}}return dC=l,dC}var uC,uI;function TW(){if(uI)return uC;uI=1;var l=jW(),c=DW(),s=sL();function o(h){var g=c(h);return g.length==1&&g[0][2]?s(g[0][0],g[0][1]):function(_){return _===h||l(_,h,g)}}return uC=o,uC}var hC,hI;function t1(){if(hI)return hC;hI=1;var l=Tb(),c=Mb(),s="[object Symbol]";function o(h){return typeof h=="symbol"||c(h)&&l(h)==s}return hC=o,hC}var mC,mI;function n1(){if(mI)return mC;mI=1;var l=xu(),c=t1(),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;function h(g,_){if(l(g))return!1;var y=typeof g;return y=="number"||y=="symbol"||y=="boolean"||g==null||c(g)?!0:o.test(g)||!s.test(g)||_!=null&&g in Object(_)}return mC=h,mC}var fC,fI;function MW(){if(fI)return fC;fI=1;var l=e1(),c="Expected a function";function s(o,h){if(typeof o!="function"||h!=null&&typeof h!="function")throw new TypeError(c);var g=function(){var _=arguments,y=h?h.apply(this,_):_[0],v=g.cache;if(v.has(y))return v.get(y);var N=o.apply(this,_);return g.cache=v.set(y,N)||v,N};return g.cache=new(s.Cache||l),g}return s.Cache=l,fC=s,fC}var pC,pI;function IW(){if(pI)return pC;pI=1;var l=MW(),c=500;function s(o){var h=l(o,function(_){return g.size===c&&g.clear(),_}),g=h.cache;return h}return pC=s,pC}var gC,gI;function OW(){if(gI)return gC;gI=1;var l=IW(),c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,o=l(function(h){var g=[];return h.charCodeAt(0)===46&&g.push(""),h.replace(c,function(_,y,v,N){g.push(v?N.replace(s,"$1"):y||_)}),g});return gC=o,gC}var bC,bI;function LW(){if(bI)return bC;bI=1;function l(c,s){for(var o=-1,h=c==null?0:c.length,g=Array(h);++o<h;)g[o]=s(c[o],o,c);return g}return bC=l,bC}var kC,kI;function BW(){if(kI)return kC;kI=1;var l=aw(),c=LW(),s=xu(),o=t1(),h=l?l.prototype:void 0,g=h?h.toString:void 0;function _(y){if(typeof y=="string")return y;if(s(y))return c(y,_)+"";if(o(y))return g?g.call(y):"";var v=y+"";return v=="0"&&1/y==-1/0?"-0":v}return kC=_,kC}var _C,_I;function RW(){if(_I)return _C;_I=1;var l=BW();function c(s){return s==null?"":l(s)}return _C=c,_C}var vC,vI;function oL(){if(vI)return vC;vI=1;var l=xu(),c=n1(),s=OW(),o=RW();function h(g,_){return l(g)?g:c(g,_)?[g]:s(o(g))}return vC=h,vC}var wC,wI;function hw(){if(wI)return wC;wI=1;var l=t1();function c(s){if(typeof s=="string"||l(s))return s;var o=s+"";return o=="0"&&1/s==-1/0?"-0":o}return wC=c,wC}var yC,yI;function aL(){if(yI)return yC;yI=1;var l=oL(),c=hw();function s(o,h){h=l(h,o);for(var g=0,_=h.length;o!=null&&g<_;)o=o[c(h[g++])];return g&&g==_?o:void 0}return yC=s,yC}var xC,xI;function PW(){if(xI)return xC;xI=1;var l=aL();function c(s,o,h){var g=s==null?void 0:l(s,o);return g===void 0?h:g}return xC=c,xC}var CC,CI;function zW(){if(CI)return CC;CI=1;function l(c,s){return c!=null&&s in Object(c)}return CC=l,CC}var AC,AI;function FW(){if(AI)return AC;AI=1;var l=oL(),c=K3(),s=xu(),o=Z3(),h=ZA(),g=hw();function _(y,v,N){v=l(v,y);for(var S=-1,D=v.length,j=!1;++S<D;){var B=g(v[S]);if(!(j=y!=null&&N(y,B)))break;y=y[B]}return j||++S!=D?j:(D=y==null?0:y.length,!!D&&h(D)&&o(B,D)&&(s(y)||c(y)))}return AC=_,AC}var NC,NI;function VW(){if(NI)return NC;NI=1;var l=zW(),c=FW();function s(o,h){return o!=null&&c(o,h,l)}return NC=s,NC}var EC,EI;function HW(){if(EI)return EC;EI=1;var l=iL(),c=PW(),s=VW(),o=n1(),h=rL(),g=sL(),_=hw(),y=1,v=2;function N(S,D){return o(S)&&h(D)?g(_(S),D):function(j){var B=c(j,S);return B===void 0&&B===D?s(j,S):l(D,B,y|v)}}return EC=N,EC}var SC,SI;function UW(){if(SI)return SC;SI=1;function l(c){return c}return SC=l,SC}var jC,jI;function $W(){if(jI)return jC;jI=1;function l(c){return function(s){return s==null?void 0:s[c]}}return jC=l,jC}var DC,DI;function qW(){if(DI)return DC;DI=1;var l=aL();function c(s){return function(o){return l(o,s)}}return DC=c,DC}var TC,TI;function WW(){if(TI)return TC;TI=1;var l=$W(),c=qW(),s=n1(),o=hw();function h(g){return s(g)?l(o(g)):c(g)}return TC=h,TC}var MC,MI;function YW(){if(MI)return MC;MI=1;var l=TW(),c=HW(),s=UW(),o=xu(),h=WW();function g(_){return typeof _=="function"?_:_==null?s:typeof _=="object"?o(_)?c(_[0],_[1]):l(_):h(_)}return MC=g,MC}var IC,II;function GW(){if(II)return IC;II=1;var l=wq(),c=Pq(),s=YW(),o=xu();function h(g,_){return function(y,v){var N=o(y)?l:c,S=_?_():{};return N(y,g,s(v,2),S)}}return IC=h,IC}var OC,OI;function KW(){if(OI)return OC;OI=1;var l=vq(),c=GW(),s=Object.prototype,o=s.hasOwnProperty,h=c(function(g,_,y){o.call(g,y)?g[y].push(_):l(g,y,[_])});return OC=h,OC}KW();const gh={bookHotel:l=>zt.post("/hotels/hotel-bookings",l),getUserHotelBookings:l=>zt.get(`/hotels/hotel-bookings/user/${l}`),searchByCity:l=>kt.get(`https://walkingguide.onrender.com/api/hotels/search?city=${encodeURIComponent(l)}`)},cu="https://walkingguide.onrender.com";function lL({noLayout:l}){var bn;const[c,s]=I.useState([]),[o,h]=I.useState(""),[g,_]=I.useState(""),[y,v]=I.useState(0),[N,S]=I.useState([]),[D,j]=I.useState(!1),{user:B,logout:F,refreshNotifications:H}=I.useContext(ls),[$,K]=I.useState(""),[Q,ee]=I.useState(""),[ne,le]=I.useState(""),[se,q]=I.useState([]),[de,re]=I.useState(""),[be,ke]=I.useState([]),[Ne,De]=I.useState([]),[_e,je]=I.useState([]),[oe,ve]=I.useState(!1),he=ba(),[Ee,Z]=I.useState(null),[pe,xe]=I.useState(!1),Se=B?B.id:null,[Fe,tt]=I.useState(!1),[fe,me]=I.useState(""),[Ie,qe]=I.useState("danger"),[Le,st]=I.useState([]),[Ye,Oe]=I.useState(null),[ut,ze]=I.useState(""),[ht,Rt]=I.useState(""),[Xt,at]=I.useState(null),[jt,Dt]=I.useState({}),[Qe,It]=I.useState(!1),[Lt,Ue]=I.useState(null),[bt,Ut]=I.useState(""),[hn,Pn]=I.useState(""),[yn,li]=I.useState(null),[di,Ar]=I.useState("");I.useEffect(()=>{zt.get("/places").then(we=>{s(we.data)}),zt.get("/tags").then(we=>ke(we.data))},[]),I.useEffect(()=>{zt.get("/hotels").then(we=>{st(we.data.data||we.data)})},[]),I.useEffect(()=>{$&&Q&&(ze($),Rt(Q))},[$,Q]);const tr=we=>we?we.startsWith("http")?we:`${cu}${we}`:"/default-hotel.jpg",Oi=we=>we&&we.image_url?we.image_url.startsWith("http")?we.image_url:`${cu}${we.image_url}`:"/default-place.jpg";I.useEffect(()=>{Xt&&Xt.latitude&&Xt.longitude?zt.get(`${cu}/api/hotels/search?latitude=${Xt.latitude}&longitude=${Xt.longitude}&radius=10`).then(we=>{st(we.data.data||we.data)}):Xt&&Xt.city&&zt.get(`${cu}/api/hotels/search?city=${encodeURIComponent(Xt.city)}`).then(we=>{st(we.data.data||we.data)})},[Xt]),I.useEffect(()=>{se.length>0?Promise.all(se.map(we=>zt.get(`${cu}/api/hotels/search?city=${encodeURIComponent(we)}`).then(ct=>({city:we,hotels:ct.data.data||ct.data})).catch(()=>({city:we,hotels:[]})))).then(we=>{const ct={};we.forEach(({city:xt,hotels:Te})=>{ct[xt]=Te}),Dt(ct)}):zt.get(`${cu}/api/hotels`).then(we=>{Dt({All:we.data.data||we.data})})},[se]);const ri=async we=>{if(!we||we.length===0){je([]);return}ve(!0);try{const ct=[];console.log("Searching places for cities:",we);for(const xt of we)try{console.log(`Searching places for city: "${xt}"`);const Te=await zt.get(`${cu}/api/places/search?city=${encodeURIComponent(xt)}`);if(console.log(`Response for "${xt}":`,Te.data),Te.data&&Te.data.length>0){const Et=Te.data.map(Mt=>({...Mt,sourceCity:xt}));ct.push(...Et),console.log(`Found ${Te.data.length} places for "${xt}"`)}else{console.log(`No places found for "${xt}"`);try{const Mt=(await zt.get(`${cu}/api/places`)).data,vn=xt.toLowerCase(),mn=Mt.filter(Rn=>{if(!Rn.city)return!1;const on=Rn.city.toLowerCase();return on.includes(vn)||vn.includes(on)});if(mn.length>0){console.log(`Found ${mn.length} places with similar city names for "${xt}"`);const Rn=mn.map(on=>({...on,sourceCity:xt}));ct.push(...Rn)}}catch(Et){console.error("Error in fallback search:",Et)}}}catch(Te){console.error(`Error searching places for city "${xt}":`,Te)}console.log("Total places found:",ct.length),je(ct)}catch(ct){console.error("Error searching places by cities:",ct),je([])}finally{ve(!1)}},ei=we=>{const ct=se.filter(xt=>xt!==we);q(ct),ne===we&&le(ct.length>0?ct[0]:""),ri(ct)},Us=()=>{const we={};return _e.forEach(ct=>{const xt=ct.sourceCity||ct.city;we[xt]||(we[xt]=[]),we[xt].push(ct)}),we},ui=()=>{const we=document.getElementById("tagSelect"),ct=we.value;ct&&!Ne.includes(ct)&&(De([...Ne,ct]),we.value="")},nr=we=>{De(Ne.filter(ct=>ct!==we))},kr=()=>{if($&&Q){const we=new Date($),ct=new Date(Q),xt=Math.abs(ct-we),Te=Math.ceil(xt/(1e3*60*60*24));return Math.max(1,Te)}return Math.max(1,Math.ceil(N.length/3))},ir=we=>we?new Date(we).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"",$e=()=>new Date().toISOString().split("T")[0],Gt=()=>{if(!$)return $e();const we=new Date($),ct=new Date(we);return ct.setDate(we.getDate()+1),ct.toISOString().split("T")[0]},mt=()=>{S([...N,{place_id:"",step_order:N.length+1,start_time:"",end_time:"",day:1}])},dn=we=>{const xt=N.filter((Te,Et)=>Et!==we).map((Te,Et)=>({...Te,step_order:Et+1}));S(xt)},$n=(we,ct)=>{if(ct==="up"&&we===0||ct==="down"&&we===N.length-1)return;const xt=[...N],Te=ct==="up"?we-1:we+1;[xt[we],xt[Te]]=[xt[Te],xt[we]],xt.forEach((Et,Mt)=>{Et.step_order=Mt+1}),S(xt)},Ge=(we,ct,xt)=>{const Te=[...N];ct==="step_order"||ct==="day"?Te[we][ct]=parseInt(xt)||1:Te[we][ct]=xt,S(Te)},Tt=async we=>{if(we.preventDefault(),N.length===0){me("Vui lng thm t nht mt a im!"),qe("warning"),tt(!0);return}if(N.some(Mt=>!Mt.place_id)){me("Vui lng chn a im cho tt c cc bc!"),qe("warning"),tt(!0);return}const ct=N[0],xt=Je(ct.place_id),Te=xt?xt.name:o,Et=xt&&xt.image_url?xt.image_url:"";j(!0);try{const Mt=await zt.post(`${cu}/api/tours`,{name:Te,description:g,user_id:Se,total_cost:parseFloat(y)||0,start_time:$,end_time:Q,steps:N,image_url:Et});Z(Mt.data.tour||Mt.data),xe(!0),h(""),_(""),v(0),S([]),H(),setTimeout(()=>he("/my-tours"),1200)}catch{me("Li khi to tour"),qe("danger"),tt(!0)}finally{j(!1)}},Je=we=>c.find(ct=>ct.id==we),rn=N.reduce((we,ct)=>{const xt=ct.day||1;return we[xt]||(we[xt]=[]),we[xt].push(ct),we},{}),xn=Object.keys(rn).sort((we,ct)=>we-ct);if(!B){const we=i.jsx("div",{className:"container py-4",children:i.jsx("div",{className:"alert alert-warning mt-3",children:"Bn cn ng nhp  s dng chc nng ny."})});return l?we:i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Lr,{}),i.jsx(hq,{activePage:"plan"}),i.jsx("main",{className:"container py-4 flex-grow-1",children:we}),i.jsx($r,{})]})}const Bn=i.jsxs("div",{className:"luxury-planner-container",children:[Fe&&i.jsxs("div",{className:`alert alert-${Ie} alert-dismissible fade show`,role:"alert",children:[i.jsx("i",{className:`bi ${Ie==="danger"?"bi-exclamation-triangle-fill":"bi-exclamation-circle-fill"} me-2`}),fe,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>tt(!1)})]}),i.jsx("div",{className:"luxury-card mb-4",children:i.jsx("div",{className:"luxury-card-body",children:i.jsxs("div",{className:"row g-3",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:["Khi hnh t ",i.jsx("span",{className:"text-danger",children:"*"})]}),i.jsx(KA,{value:o,onChange:h,placeholder:"Nhp im khi hnh"})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:[i.jsx("i",{className:"bi bi-geo-alt me-2 text-primary"}),"Thnh ph mun i"]}),i.jsxs("div",{className:"d-flex gap-2 mb-2",children:[i.jsx(Db,{value:de,onChange:we=>{re(we)},onKeyPress:we=>{if(we.key==="Enter"&&de.trim()&&!se.includes(de.trim())){we.preventDefault();const ct=[...se,de.trim()];q(ct),re(""),ri(ct)}},placeholder:"Chn hoc nhp thnh ph..."}),i.jsx("button",{type:"button",className:"btn btn-outline-success",onClick:()=>{if(de.trim()&&!se.includes(de.trim())){const we=[...se,de.trim()];q(we),re(""),ri(we)}},disabled:!de.trim(),children:i.jsx("i",{className:"bi bi-plus"})})]}),se.length>0&&i.jsx("div",{className:"mt-2",children:se.map((we,ct)=>i.jsxs("span",{className:"badge bg-success me-2 mb-1",style:{fontSize:"1em"},children:[i.jsx("i",{className:"bi bi-geo-alt me-1"}),we,i.jsx("button",{type:"button",className:"btn btn-sm btn-link text-white ms-1 p-0 text-decoration-none",style:{fontSize:"1em"},title:"Xa thnh ph",onClick:()=>ei(we),children:""})]},ct))})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:[i.jsx("i",{className:"bi bi-tags me-2 text-info"}),"Loi a im mun khm ph"]}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsxs("select",{id:"tagSelect",className:"form-select",onChange:ui,children:[i.jsx("option",{value:"",children:"Chn loi a im..."}),be.filter(we=>!Ne.includes(String(we.id))).map(we=>i.jsx("option",{value:we.id,children:we.name},we.id))]}),i.jsx("button",{type:"button",className:"btn btn-outline-info",onClick:ui,disabled:!((bn=document.getElementById("tagSelect"))!=null&&bn.value),children:i.jsx("i",{className:"bi bi-plus"})})]}),Ne.length>0&&i.jsx("div",{className:"mt-2",children:Ne.map(we=>{const ct=be.find(xt=>String(xt.id)===String(we));return ct?i.jsxs("span",{className:"badge bg-info me-2 mb-1",style:{fontSize:"1em"},children:[i.jsx("i",{className:"bi bi-tag me-1"}),ct.name,i.jsx("button",{type:"button",className:"btn btn-sm btn-link text-white ms-1 p-0 text-decoration-none",style:{fontSize:"1em"},title:"Xa loi a im",onClick:()=>nr(String(ct.id)),children:""})]},ct.id):null})})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:[i.jsx("i",{className:"bi bi-currency-dollar me-2 text-success"}),"Tng chi ph (VND)"]}),i.jsx("input",{className:"form-control",type:"text",value:y?parseInt(y).toLocaleString("vi-VN"):"",onChange:we=>{const ct=we.target.value.replace(/\D/g,"");v(ct)},placeholder:"Nhp chi ph d kin"}),y&&i.jsxs("div",{className:"form-text",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),"Chi ph: ",parseInt(y).toLocaleString("vi-VN")," VN"]}),y&&y.length>0&&y.length<=3&&!y.endsWith("000")&&i.jsxs("div",{className:"mt-2",children:[i.jsx("small",{className:"text-muted",children:"Gi :"}),i.jsx("div",{className:"d-flex flex-wrap gap-1 mt-1",children:(()=>{const we=y.replace(/\D/g,"");return[{value:we+"000",label:we+".000 VN"},{value:we+"0000",label:we+"0.000 VN"},{value:we+"00000",label:we+"00.000 VN"},{value:we+"000000",label:we+".000.000 VN"},{value:we+"0000000",label:we+"0.000.000 VN"}].filter(xt=>xt.value!==y).map((xt,Te)=>i.jsx("button",{type:"button",className:"btn btn-outline-success btn-sm",style:{fontSize:"0.8rem",padding:"0.25rem 0.5rem"},onClick:()=>v(xt.value),children:xt.label},Te))})()})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:[i.jsx("i",{className:"bi bi-calendar-event me-2 text-primary"}),"Ngy bt u"]}),i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"date",className:"form-control",value:$,onChange:we=>K(we.target.value),min:$e()}),$&&i.jsxs("div",{className:"form-text mt-1",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),ir($)]})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:[i.jsx("i",{className:"bi bi-calendar-check me-2 text-primary"}),"Ngy kt thc"]}),i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"date",className:"form-control",value:Q,onChange:we=>ee(we.target.value),min:Gt(),disabled:!$}),Q&&i.jsxs("div",{className:"form-text mt-1",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),ir(Q)," (",kr()," ngy)"]}),!$&&i.jsxs("div",{className:"form-text mt-1",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-1 text-warning"}),"Vui lng chn ngy bt u trc"]})]})]}),i.jsxs("div",{className:"col-12",children:[i.jsx("label",{className:"form-label fw-bold",children:"M t"}),i.jsx("textarea",{className:"form-control",rows:"3",value:g,onChange:we=>_(we.target.value),placeholder:"M t chi tit v tour ca bn"})]})]})})}),i.jsx("div",{className:"luxury-card",children:i.jsxs("div",{className:"luxury-card-body",children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[i.jsx("h4",{className:"mb-0",children:"Hnh trnh chuyn i"}),i.jsx("div",{className:"d-flex gap-2",children:i.jsx("button",{className:"btn btn-main btn-sm",onClick:mt,children:"Thm a im"})})]}),(ne||se.length>0||Ne.length>0)&&i.jsx("div",{className:"mt-4",children:i.jsxs("div",{className:"alert alert-info border-0 shadow-sm",children:[i.jsxs("h6",{className:"mb-3",children:[i.jsx("i",{className:"bi bi-info-circle me-2"}),"Tm tt la chn ca bn"]}),i.jsxs("div",{className:"row",children:[(ne||se.length>0)&&i.jsxs("div",{className:"col-md-6 mb-2",children:[i.jsxs("strong",{className:"text-primary",children:[i.jsx("i",{className:"bi bi-geo-alt me-1"}),"Thnh ph:"]}),i.jsxs("div",{className:"mt-1",children:[ne&&i.jsx("span",{className:"badge bg-primary me-1 mb-1",children:ne}),se.map((we,ct)=>i.jsx("span",{className:"badge bg-success me-1 mb-1",children:we},ct))]})]}),Ne.length>0&&i.jsxs("div",{className:"col-md-6 mb-2",children:[i.jsxs("strong",{className:"text-info",children:[i.jsx("i",{className:"bi bi-tags me-1"}),"Loi a im:"]}),i.jsx("div",{className:"mt-1",children:Ne.map(we=>{const ct=be.find(xt=>String(xt.id)===String(we));return ct?i.jsx("span",{className:"badge bg-info me-1 mb-1",children:ct.name},ct.id):null})})]})]})]})}),se.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("h5",{className:"form-label",children:"Gi  a im t thnh ph  chn"}),i.jsxs("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:[_e.length===0&&i.jsx("div",{className:"col",children:"Khng c a im gi  cho thnh ph ny."}),_e.map(we=>{const ct=N.some(xt=>xt.place_id===we.id);return i.jsx("div",{className:"col",children:i.jsxs(vs,{style:{border:ct?"2px solid #1a5bb8":void 0,boxShadow:ct?"0 0 10px #1a5bb844":void 0,cursor:"pointer",transition:"box-shadow 0.2s, border 0.2s"},className:ct?"shadow-lg":"shadow-sm",onClick:()=>{ct||S([...N,{place_id:we.id,step_order:N.length+1,day:1+Math.floor(N.length/3),start_time:"",end_time:""}])},children:[i.jsx(vs.Img,{variant:"top",src:Oi(we),style:{height:140,objectFit:"cover",borderTopLeftRadius:12,borderTopRightRadius:12},onError:xt=>{xt.target.style.display="none"}}),i.jsxs(vs.Body,{children:[i.jsx(vs.Title,{className:"fw-bold",style:{color:ct?"#1a5bb8":void 0},children:we.name}),i.jsxs(vs.Text,{children:[i.jsx("span",{children:we.address}),i.jsx("br",{}),i.jsx("span",{className:"text-muted",children:we.city}),i.jsx("br",{}),we.description&&i.jsxs("span",{className:"text-muted small",children:[we.description.substring(0,60),"..."]})]}),i.jsxs("div",{className:"d-flex gap-2 mt-2",children:[ct?i.jsx(Ht,{variant:"primary",size:"sm",disabled:!0,children:" thm"}):i.jsx(Ht,{variant:"outline-primary",size:"sm",onClick:xt=>{xt.stopPropagation(),S([...N,{place_id:we.id,step_order:N.length+1,day:1+Math.floor(N.length/3),start_time:"",end_time:""}])},children:"Thm vo k hoch"}),i.jsx(Jt,{to:`/places/${we.id}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline-info btn-sm",onClick:xt=>xt.stopPropagation(),children:"Xem chi tit"})]})]})]})},we.id)})]})]}),N.length===0?i.jsxs("div",{className:"text-center py-4",children:[i.jsx("i",{className:"bi bi-map-marker-alt fa-3x text-muted mb-3"}),i.jsx("p",{className:"text-muted",children:"Cha c a im no. Hy thm a im u tin!"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"tour-steps-container",children:[xn.map(we=>i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"fw-bold mb-3",children:["Ngy ",we]}),rn[we].map((ct,xt)=>{const Te=Je(ct.place_id),Et=N.findIndex(Mt=>Mt===ct);return i.jsxs("div",{className:"tour-step-card mb-3",children:[i.jsxs("div",{className:"tour-step-header",children:[i.jsx("div",{className:"step-number",children:ct.step_order}),i.jsxs("div",{className:"step-controls",children:[i.jsx("button",{className:"btn btn-sm btn-outline-secondary me-1",onClick:()=>$n(Et,"up"),disabled:Et===0,title:"Di chuyn ln",children:i.jsx("i",{className:"bi bi-arrow-up"})}),i.jsx("button",{className:"btn btn-sm btn-outline-secondary me-1",onClick:()=>$n(Et,"down"),disabled:Et===N.length-1,title:"Di chuyn xung",children:i.jsx("i",{className:"bi bi-arrow-down"})}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>dn(Et),title:"Xa a im",children:i.jsx("i",{className:"bi bi-trash"})})]})]}),i.jsx("div",{className:"tour-step-content",children:i.jsxs("div",{className:"row g-3",children:[i.jsxs("div",{className:"col-md-8",children:[i.jsxs("label",{className:"form-label fw-bold",children:["a im ",i.jsx("span",{className:"text-danger",children:"*"})]}),i.jsxs("select",{className:"form-select",value:ct.place_id,onChange:Mt=>Ge(Et,"place_id",Mt.target.value),children:[i.jsx("option",{value:"",children:"-- Chn a im --"}),Object.entries(Us()).map(([Mt,vn])=>i.jsx("optgroup",{label:`${Mt} (${vn.length} a im)`,children:vn.map(mn=>i.jsx("option",{value:mn.id,children:mn.name},`suggested-${mn.id}`))},Mt)),i.jsx("optgroup",{label:"Tt c a im khc",children:c.filter(Mt=>!_e.some(vn=>vn.id===Mt.id)).map(Mt=>i.jsxs("option",{value:Mt.id,children:[Mt.name," - ",Mt.city]},Mt.id))})]}),Te&&i.jsx("div",{className:"mt-2 p-2 bg-light rounded",children:i.jsxs("small",{className:"text-muted",children:[i.jsx("i",{className:"bi bi-map-marker-alt me-1"}),Te.address]})})]}),i.jsxs("div",{className:"col-md-2",children:[i.jsx("label",{className:"form-label fw-bold",children:"Ngy"}),i.jsx("select",{className:"form-select",value:ct.day||1,onChange:Mt=>Ge(Et,"day",Mt.target.value),children:Array.from({length:kr()},(Mt,vn)=>i.jsxs("option",{value:vn+1,children:["Ngy ",vn+1]},vn+1))})]}),i.jsxs("div",{className:"col-md-2",children:[i.jsx("label",{className:"form-label fw-bold",children:"Th t"}),i.jsx("input",{type:"number",className:"form-control",min:"1",value:ct.step_order,onChange:Mt=>Ge(Et,"step_order",Mt.target.value)})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Thi gian bt u"}),i.jsx("input",{type:"time",className:"form-control",value:ct.start_time||"",onChange:Mt=>Ge(Et,"start_time",Mt.target.value)})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Thi gian kt thc"}),i.jsx("input",{type:"time",className:"form-control",value:ct.end_time||"",onChange:Mt=>Ge(Et,"end_time",Mt.target.value)})]})]})})]},Et)})]},we)),i.jsx("button",{className:"btn btn-main btn-sm mb-3",onClick:()=>mt(),title:"Thm a im",children:"Thm"})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("h5",{className:"fw-bold",children:"Tm tt k hoch:"}),i.jsx("ul",{children:xn.map(we=>i.jsxs("li",{children:[i.jsxs("b",{children:["Ngy ",we,":"]})," ",rn[we].map(ct=>{const xt=Je(ct.place_id);return xt?xt.name:"(Cha chn a im)"}).join(", ")]},we))})]})]})]})}),i.jsxs("div",{className:"mb-4 mt-4",children:[i.jsx("h5",{className:"form-label",children:"Bn c th chn khch sn"}),i.jsx("div",{children:se.length>0?Object.entries(jt).map(([we,ct])=>i.jsxs("div",{className:"mb-3",children:[i.jsxs("h6",{className:"fw-bold text-primary mb-2",children:["Khch sn ti ",we]}),i.jsxs("div",{style:{overflowX:"auto",whiteSpace:"nowrap",paddingBottom:8},children:[ct.length===0&&i.jsx("div",{className:"d-flex align-items-center",children:"Khng tm thy khch sn ph hp."}),ct.map(xt=>i.jsx("div",{style:{display:"inline-block",minWidth:280,maxWidth:320},children:i.jsxs(vs,{style:{border:(Ye==null?void 0:Ye.id)===xt.id?"2px solid #007bff":void 0,boxShadow:(Ye==null?void 0:Ye.id)===xt.id?"0 0 10px #007bff44":void 0,cursor:"pointer",transition:"box-shadow 0.2s, border 0.2s"},className:(Ye==null?void 0:Ye.id)===xt.id?"shadow-lg":"shadow-sm",onClick:Te=>{Te.target.tagName!=="A"&&Te.target.tagName!=="BUTTON"&&Oe(xt)},children:[i.jsx(vs.Img,{variant:"top",src:xt.images&&xt.images[0]?tr(xt.images[0].image_url):"/default-hotel.jpg",style:{height:180,objectFit:"cover",borderTopLeftRadius:12,borderTopRightRadius:12},onError:Te=>{Te.target.style.display="none"}}),i.jsxs(vs.Body,{children:[i.jsx(vs.Title,{className:"fw-bold",style:{color:(Ye==null?void 0:Ye.id)===xt.id?"#1a5bb8":void 0},children:xt.name}),i.jsxs(vs.Text,{children:[i.jsx("span",{children:xt.address}),i.jsx("br",{}),i.jsx("span",{className:"text-muted",children:xt.city}),i.jsx("br",{}),xt.min_price&&xt.max_price&&i.jsxs("span",{children:["Gi: ",xt.min_price," - ",xt.max_price," VND"]})]}),i.jsxs("div",{className:"d-flex gap-2 mt-2",children:[i.jsx(Ht,{variant:(Ye==null?void 0:Ye.id)===xt.id?"primary":"outline-primary",size:"sm",onClick:Te=>{Te.stopPropagation(),Oe(xt)},children:(Ye==null?void 0:Ye.id)===xt.id?" chn":"Chn"}),i.jsx(Ht,{variant:"success",size:"sm",className:"ms-2",onClick:Te=>{Te.stopPropagation(),Ue(xt),It(!0),Ut(""),Pn(""),li(null)},children:"Booking now"}),i.jsx(Jt,{to:`/hotels/${xt.id}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline-info btn-sm",onClick:Te=>Te.stopPropagation(),children:"Xem chi tit"})]})]})]})},xt.id))]})]},we)):i.jsxs("div",{style:{overflowX:"auto",whiteSpace:"nowrap",paddingBottom:8},children:[jt.All&&jt.All.length===0&&i.jsx("div",{className:"d-flex align-items-center",children:"Khng tm thy khch sn ph hp."}),jt.All&&jt.All.map(we=>i.jsx("div",{style:{display:"inline-block",minWidth:280,maxWidth:320},children:i.jsxs(vs,{style:{border:(Ye==null?void 0:Ye.id)===we.id?"2px solid #007bff":void 0,boxShadow:(Ye==null?void 0:Ye.id)===we.id?"0 0 10px #007bff44":void 0,cursor:"pointer",transition:"box-shadow 0.2s, border 0.2s",borderRadius:"15px"},className:(Ye==null?void 0:Ye.id)===we.id?"shadow-lg me-2":"shadow-sm me-2",onClick:ct=>{ct.target.tagName!=="A"&&ct.target.tagName!=="BUTTON"&&Oe(we)},children:[i.jsx(vs.Img,{variant:"top",src:we.images&&we.images[0]?tr(we.images[0].image_url):"/default-hotel.jpg",style:{height:180,objectFit:"cover"},onError:ct=>{ct.target.style.display="none"}}),i.jsxs(vs.Body,{children:[i.jsx(vs.Title,{className:"fw-bold",style:{color:(Ye==null?void 0:Ye.id)===we.id?"#1a5bb8":void 0},children:we.name}),i.jsxs(vs.Text,{children:[i.jsx("span",{children:we.address}),i.jsx("br",{}),i.jsx("span",{className:"text-muted",children:we.city})]}),i.jsxs("div",{className:"d-flex gap-2 mt-2",children:[i.jsx(Ht,{variant:(Ye==null?void 0:Ye.id)===we.id?"primary":"outline-primary",size:"sm",onClick:ct=>{ct.stopPropagation(),Oe(we)},children:(Ye==null?void 0:Ye.id)===we.id?" chn":"Chn"}),i.jsx(Ht,{variant:"success",size:"sm",className:"ms-2",onClick:ct=>{ct.stopPropagation(),Ue(we),It(!0),Ut(""),Pn(""),li(null)},children:"Booking now"}),i.jsx(Jt,{to:`/hotels/${we.id}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline-info btn-sm",onClick:ct=>ct.stopPropagation(),children:"Xem chi tit"})]})]})]})},we.id))]})})]}),"In trip summary, show selected hotel as a card",Ye&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h6",{children:"Khch sn  chn"}),i.jsxs(vs,{style:{width:"18rem"},children:[i.jsx(vs.Img,{variant:"top",src:Ye.images&&Ye.images[0]?tr(Ye.images[0].image_url):"/default-hotel.jpg",style:{height:120,objectFit:"cover"},onError:we=>{we.target.style.display="none"}}),i.jsxs(vs.Body,{children:[i.jsx(vs.Title,{children:Ye.name}),i.jsxs(vs.Text,{children:[i.jsx("span",{children:Ye.address}),i.jsx("br",{}),i.jsx("span",{className:"text-muted",children:Ye.city})]})]})]})]}),i.jsx("div",{className:"text-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:Tt,disabled:D,children:D?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-spinner fa-spin me-2"}),"ang to tour..."]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-save me-2"}),"To tour"]})})}),i.jsxs(yt,{show:Qe,onHide:()=>It(!1),centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"t phng khch sn"})}),i.jsx(yt.Body,{children:i.jsxs(gn,{children:[i.jsxs(gn.Group,{className:"mb-3",children:[i.jsx(gn.Label,{children:"Ngy nhn phng"}),i.jsx(gn.Control,{type:"date",value:bt,onChange:we=>Ut(we.target.value)})]}),i.jsxs(gn.Group,{className:"mb-3",children:[i.jsx(gn.Label,{children:"Ngy tr phng"}),i.jsx(gn.Control,{type:"date",value:hn,onChange:we=>Pn(we.target.value)})]}),Lt&&Lt.room_types&&i.jsxs(gn.Group,{className:"mb-3",children:[i.jsx(gn.Label,{children:"Loi phng"}),i.jsxs(gn.Select,{value:di,onChange:we=>Ar(we.target.value),children:[i.jsx("option",{value:"",children:"Chn loi phng"}),Array.isArray(Lt.room_types)?Lt.room_types.map((we,ct)=>i.jsx("option",{value:we,children:we},ct)):JSON.parse(Lt.room_types||"[]").map((we,ct)=>i.jsx("option",{value:we,children:we},ct))]})]}),yn==="success"&&i.jsx("div",{className:"alert alert-success",children:"t phng thnh cng!"}),yn==="error"&&i.jsx("div",{className:"alert alert-danger",children:"t phng tht bi. Vui lng th li."})]})}),i.jsxs(yt.Footer,{children:[i.jsx(Ht,{variant:"secondary",onClick:()=>It(!1),children:"ng"}),i.jsx(Ht,{variant:"success",onClick:async()=>{li(null);try{await gh.bookHotel({user_id:B==null?void 0:B.id,hotel_id:Lt==null?void 0:Lt.id,check_in:bt,check_out:hn,room_type:di}),li("success")}catch{li("error")}},disabled:!bt||!hn,children:"Xc nhn t phng"})]})]})]});return l?Bn:i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Lr,{}),i.jsxs("main",{className:"container py-4 flex-grow-1",children:[Bn,pe&&Ee&&i.jsx("div",{className:"planner-modal-overlay",tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:"To tour thnh cng!"}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>{xe(!1),he("/my-tours")}})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("p",{children:["Bn  to tour bt u t ",i.jsx("b",{children:Ee.name})," thnh cng."]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Thi gian:"})," ",Ee.start_time||"-"," n ",Ee.end_time||"-"]}),(ne||se.length>0||Ne.length>0)&&i.jsxs("div",{className:"mb-3",children:[i.jsx("b",{children:"La chn ca bn:"}),i.jsxs("div",{className:"mt-2",children:[(ne||se.length>0)&&i.jsxs("div",{className:"mb-2",children:[i.jsxs("small",{className:"text-muted",children:[i.jsx("i",{className:"bi bi-geo-alt me-1"}),i.jsx("strong",{children:"Thnh ph:"})]}),i.jsxs("div",{className:"mt-1",children:[ne&&i.jsx("span",{className:"badge bg-primary me-1 mb-1",children:ne}),se.map((we,ct)=>i.jsx("span",{className:"badge bg-success me-1 mb-1",children:we},ct))]})]}),Ne.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsxs("small",{className:"text-muted",children:[i.jsx("i",{className:"bi bi-tags me-1"}),i.jsx("strong",{children:"Loi a im:"})]}),i.jsx("div",{className:"mt-1",children:Ne.map(we=>{const ct=be.find(xt=>String(xt.id)===String(we));return ct?i.jsx("span",{className:"badge bg-info me-1 mb-1",children:ct.name},ct.id):null})})]})]})]}),Ee.start_time&&i.jsxs("div",{className:"alert alert-info mt-3",children:[i.jsx("i",{className:"bi bi-bell me-2"}),i.jsx("strong",{children:"Nhc nh t ng:"})," Bn s nhn c thng bo nhc nh trc khi tour bt u."]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"K hoch:"}),i.jsx("ul",{children:xn.map(we=>i.jsxs("li",{children:[i.jsxs("b",{children:["Ngy ",we,":"]})," ",rn[we].map(ct=>{const xt=Je(ct.place_id);return xt?xt.name:"(Cha chn a im)"}).join(", ")]},we))})]})]}),i.jsxs("div",{className:"modal-footer",children:[Ee.id&&i.jsx("button",{className:"btn btn-main",onClick:()=>he(`/tours/${Ee.id}`),children:"Xem chi tit tour"}),i.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>he("/my-tours"),children:"n trang My Tours"}),i.jsx("button",{className:"btn btn-link",onClick:()=>xe(!1),children:"ng"})]})]})})})]}),i.jsx($r,{})]})}const U_="https://walkingguide.onrender.com/api/places",bb={getAll:()=>kt.get(U_),getById:l=>kt.get(`${U_}/${l}`),searchByCity:l=>kt.get(`${U_}/search?city=${encodeURIComponent(l)}`),create:l=>kt.post(U_,l)},$_="https://walkingguide.onrender.com",cL=({noLayout:l})=>{const[c,s]=I.useState(""),[o,h]=I.useState(""),[g,_]=I.useState(null),[y,v]=I.useState(""),[N,S]=I.useState(""),[D,j]=I.useState(!1),[B,F]=I.useState(!1),[H,$]=I.useState(!1),[K,Q]=I.useState(null),{user:ee,refreshNotifications:ne}=I.useContext(ls),[le,se]=I.useState([]),[q,de]=I.useState([]),[re,be]=I.useState(""),[ke,Ne]=I.useState(""),[De,_e]=I.useState(!1),[je,oe]=I.useState(""),[ve,he]=I.useState(""),[Ee,Z]=I.useState([]),[pe,xe]=I.useState(!1),[Se,Fe]=I.useState(!1),[tt,fe]=I.useState(!1),[me,Ie]=I.useState({name:"",description:"",address:"",opening_hours:"",service:""}),qe=ba();I.useEffect(()=>{kt.get("https://walkingguide.onrender.com/api/tags").then(at=>se(at.data))},[]);const Le=async at=>{if(at){Fe(!0);try{const jt=await bb.searchByCity(at);Z(jt.data),xe(!0)}catch(jt){console.error("Error searching places by city:",jt),Z([])}finally{Fe(!1)}}},st=at=>{he(at),at?Le(at):(Z([]),xe(!1))},Ye=async()=>{if(!ve||!me.name||!me.description){oe("Vui lng nhp y  thng tin cho a im mi!"),_e(!0);return}try{const jt=await(await fetch(`${$_}/api/geocoding/coordinates?q=${encodeURIComponent(ve)}&limit=1`)).json();let Dt=10.8231,Qe=106.6297;jt.success&&jt.data&&(Dt=jt.data.latitude,Qe=jt.data.longitude);const It={name:me.name,description:me.description,latitude:Dt,longitude:Qe,city:ve,address:me.address,opening_hours:me.opening_hours,service:me.service,image_url:""};await bb.create(It),await Le(ve),Ie({name:"",description:"",address:"",opening_hours:"",service:""}),fe(!1),oe(" to a im mi thnh cng!"),_e(!0)}catch(at){console.error("Error creating place:",at),oe("C li xy ra khi to a im mi!"),_e(!0)}},Oe=async()=>{var at,jt;if(!(ee!=null&&ee.id)||isNaN(Number(ee.id))){v("Vui lng nhp y  thng tin!");return}if(!ve&&q.length===0&&!c.trim()){v("Vui lng chn t nht mt thnh ph hoc th a im!");return}try{v(""),j(!0);const Dt={interests:c.split(",").map(It=>It.trim()).filter(Boolean),total_cost:o?parseFloat(o):0,user_id:Number(ee.id),tag_ids:q.map(Number),start_time:re,end_time:ke,city:ve};console.log("Generating tour with:",{city:ve,tags:q,interests:Dt.interests});const Qe=await kt.post("https://walkingguide.onrender.com/api/ai/generate-tour",Dt);_(Qe.data)}catch(Dt){console.error(Dt),(jt=(at=Dt.response)==null?void 0:at.data)!=null&&jt.error?v(Dt.response.data.error):v("Khng th to tour. Hy kim tra li d liu.")}finally{j(!1)}},ut=async()=>{if(g){F(!0);try{let at=1;if(re&&ke){const It=new Date(re),Lt=new Date(ke),Ue=Math.abs(Lt-It),bt=Math.ceil(Ue/(1e3*60*60*24));at=Math.max(1,bt)}else at=parseInt(days)||1;const jt=Math.ceil(g.steps.length/at);let Dt="";if(g.steps&&g.steps.length>0){const It=g.steps.find(Lt=>Lt.place&&Lt.place.image_url);It&&(Dt=It.place.image_url)}const Qe=await kt.post(`${$_}/api/tours`,{name:N||g.tour.name,description:g.tour.description,image_url:Dt,user_id:ee.id,total_cost:o?parseFloat(o):0,steps:g.steps.map((It,Lt)=>({place_id:It.place_id,step_order:Lt+1,stay_duration:It.stay_duration,start_time:It.start_time||null,end_time:It.end_time||null,day:Math.floor(Lt/jt)+1})),start_time:re,end_time:ke,start_from:N});Q(Qe.data.tour),$(!0),_(null),S(""),ne(),setTimeout(()=>qe("/my-tours"),1200)}catch(at){console.error("Error saving tour:",at),oe("Li khi lu tour vo h thng!"),_e(!0)}finally{F(!1)}}};function ze(at,jt){if(!at||!jt||jt.length===0)return"";const Dt=at.split(",").map(Lt=>Lt.trim()).filter(Boolean),Qe=jt.map(Lt=>{var Ue;return(Ue=Lt.place)==null?void 0:Ue.name}).filter(Boolean);if(Dt.length===0||Qe.length===0)return"";let It="";return Dt.length===1?It+=`Nu bn yu thch ${Dt[0]}, bn khng th b qua nhng a im nh ${Qe.slice(0,2).join(", ")}`:It+=`Da trn s thch ca bn (${Dt.join(", ")}), cc a im ni bt gm: ${Qe.slice(0,3).join(", ")}`,It}function ht(at){if(!at)return"";const jt=document.createElement("div");return jt.innerHTML=at,jt.textContent||jt.innerText||""}function Rt(at){const jt={};return at.forEach(Dt=>{const Qe=Dt.day||1;jt[Qe]||(jt[Qe]=[]),jt[Qe].push(Dt)}),jt}if(!ee){const at=i.jsxs("div",{className:"container py-4",children:[i.jsx("h2",{children:"To l trnh t ng"}),i.jsx("div",{className:"alert alert-warning mt-3",children:"Bn cn ng nhp  s dng chc nng ny."})]});return l?at:i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Lr,{}),i.jsx("main",{className:"container py-4 flex-grow-1",children:at}),i.jsx($r,{})]})}const Xt=i.jsxs("div",{className:"luxury-planner-container",children:[De&&i.jsxs("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),je,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>_e(!1)})]}),i.jsx("div",{className:"luxury-card mb-4",children:i.jsxs("div",{className:"luxury-card-body",children:[i.jsxs("div",{className:"row g-3",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Khi hnh t"}),i.jsx(KA,{value:N,onChange:S,placeholder:"Nhp im khi hnh"})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Thnh ph mun i"}),i.jsx(Db,{value:ve,onChange:st,placeholder:"Chn thnh ph..."})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:[i.jsx("i",{className:"bi bi-calendar-event me-2 text-primary"}),"Ngy bt u"]}),i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"date",className:"form-control",value:re,onChange:at=>be(at.target.value),min:new Date().toISOString().split("T")[0]}),re&&i.jsxs("div",{className:"form-text mt-1",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),new Date(re).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("label",{className:"form-label fw-bold",children:[i.jsx("i",{className:"bi bi-calendar-check me-2 text-primary"}),"Ngy kt thc"]}),i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"date",className:"form-control",value:ke,onChange:at=>Ne(at.target.value),min:re||new Date().toISOString().split("T")[0],disabled:!re}),ke&&i.jsxs("div",{className:"form-text mt-1",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),new Date(ke).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," (",(()=>{const at=new Date(re),jt=new Date(ke),Dt=Math.abs(jt-at),Qe=Math.ceil(Dt/(1e3*60*60*24));return Math.max(1,Qe)})()," ngy)"]}),!re&&i.jsxs("div",{className:"form-text mt-1",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-1 text-warning"}),"Vui lng chn ngy bt u trc"]})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Bn thch i u?"}),i.jsxs("div",{children:[i.jsx("div",{className:"d-flex align-items-center gap-2",children:i.jsxs("select",{className:"form-select",value:"",onChange:at=>{const jt=at.target.value;jt&&!q.includes(jt)&&de([...q,jt])},children:[i.jsx("option",{value:"",children:"C th bn mun khm ph..."}),le.filter(at=>!q.includes(String(at.id))).map(at=>i.jsx("option",{value:at.id,children:at.name},at.id))]})}),i.jsx("div",{className:"mt-2",children:q.map(at=>{const jt=le.find(Dt=>String(Dt.id)===String(at));return jt?i.jsxs("span",{className:"badge bg-primary me-2 mb-1",style:{fontSize:"1em"},children:[jt.name,i.jsx("button",{type:"button",className:"btn btn-sm btn-link text-white ms-1 p-0 text-decoration-none",style:{fontSize:"1em"},title:"Xa th",onClick:()=>de(q.filter(Dt=>Dt!==String(jt.id))),children:""})]},jt.id):null})})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Ngn sch (VN)"}),i.jsx("input",{type:"text",placeholder:"Nhp ngn sch",value:o,onChange:at=>{const jt=at.target.value.replace(/\D/g,"");h(jt)},className:"form-control"}),o&&i.jsxs("div",{className:"form-text",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),"Ngn sch: ",parseInt(o).toLocaleString("vi-VN")," VN"]}),o&&o.length>0&&o.length<=3&&!o.endsWith("000")&&i.jsxs("div",{className:"mt-2",children:[i.jsx("small",{className:"text-muted",children:"Gi :"}),i.jsx("div",{className:"d-flex flex-wrap gap-1 mt-1",children:(()=>{const at=o.replace(/\D/g,"");return[{value:at+"000",label:at+".000 VN"},{value:at+"0000",label:at+"0.000 VN"},{value:at+"00000",label:at+"00.000 VN"},{value:at+"000000",label:at+".000.000 VN"},{value:at+"0000000",label:at+"0.000.000 VN"}].filter(Dt=>Dt.value!==o).map((Dt,Qe)=>i.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",style:{fontSize:"0.8rem",padding:"0.25rem 0.5rem"},onClick:()=>h(Dt.value),children:Dt.label},Qe))})()})]})]})]}),pe&&i.jsxs("div",{className:"mt-4",children:[i.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:i.jsxs("h5",{className:"mb-0",children:[i.jsx("i",{className:"bi bi-geo-alt me-2 text-primary"}),"a im ti ",ve]})}),Se?i.jsxs("div",{className:"text-center py-3",children:[i.jsx("div",{className:"spinner-border text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("p",{className:"mt-2 text-muted",children:"ang tm a im..."})]}):Ee.length>0?i.jsx("div",{className:"row g-3",children:Ee.map(at=>i.jsx("div",{className:"col-md-6 col-lg-4",children:i.jsxs("div",{className:"card h-100 border-0 shadow-sm",children:[at.image_url&&i.jsx("img",{src:at.image_url.startsWith("http")?at.image_url:`${$_}${at.image_url}`,className:"card-img-top",alt:at.name,style:{height:"150px",objectFit:"cover"}}),i.jsxs("div",{className:"card-body",children:[i.jsx("h6",{className:"card-title text-primary",children:at.name}),i.jsxs("p",{className:"card-text small text-muted",children:[ht(at.description).substring(0,100),"..."]}),at.address&&i.jsxs("p",{className:"card-text small",children:[i.jsx("i",{className:"bi bi-geo-alt me-1"}),at.address]})]})]})},at.id))}):i.jsxs("div",{className:"text-center py-4",children:[i.jsx("i",{className:"bi bi-map text-muted",style:{fontSize:"3rem"}}),i.jsxs("p",{className:"mt-2 text-muted",children:["Cha c a im no ti ",ve]}),i.jsxs("button",{className:"btn btn-primary",onClick:()=>fe(!0),children:[i.jsx("i",{className:"bi bi-plus-circle me-1"}),"To a im u tin"]})]})]}),(ve||q.length>0)&&i.jsx("div",{className:"mt-4",children:i.jsxs("div",{className:"alert alert-info border-0 shadow-sm",children:[i.jsxs("h6",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-funnel me-2"}),"B lc tour"]}),i.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[ve&&i.jsxs("span",{className:"badge bg-primary",children:[i.jsx("i",{className:"bi bi-geo-alt me-1"}),"Thnh ph: ",ve]}),q.map(at=>{const jt=le.find(Dt=>String(Dt.id)===String(at));return jt?i.jsxs("span",{className:"badge bg-success",children:[i.jsx("i",{className:"bi bi-tag me-1"}),jt.name]},jt.id):null})]}),i.jsx("small",{className:"text-muted mt-2 d-block",children:"Tour s c to vi cc a im ph hp vi b lc trn"})]})}),i.jsx("div",{className:"text-center mt-4",children:i.jsx("button",{onClick:Oe,className:"btn btn-main btn-lg px-5",disabled:D,children:D?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-magic fa-spin me-2"}),"ang to tour..."]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-magic text-white me-2"}),"To tour"]})})})]})}),y&&i.jsxs("div",{className:"alert alert-danger",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),y]}),g&&i.jsx("div",{className:"luxury-card",children:i.jsxs("div",{className:"luxury-card-body",children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[i.jsx("h4",{className:"mb-0",children:"Tour c to"}),i.jsx("button",{onClick:ut,className:"btn btn-main",disabled:B,children:B?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-spinner fa-spin me-2"}),"ang lu..."]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-save me-2"}),"Lu tour"]})})]}),i.jsxs("div",{className:"tour-info mb-4",children:[i.jsx("h5",{className:"text-primary mb-2",children:i.jsx("i",{className:"bi bi-route me-2"})}),i.jsx("p",{className:"text-muted mb-2",children:ze(c,g.steps)||ht(g.tour.description)}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-4",children:i.jsxs("small",{className:"text-muted",children:[i.jsx("i",{className:"bi bi-calendar me-1"}),re&&ke?`${re}  ${ke}`:`${g.steps.length} a im`]})}),i.jsx("div",{className:"col-md-4",children:i.jsxs("small",{className:"text-muted",children:[i.jsx("i",{className:"bi bi-clock me-1"}),g.steps.reduce((at,jt)=>at+(jt.stay_duration||0),0)," pht"]})})]})]}),g&&g.steps&&g.steps.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"fw-bold mb-3",children:"Hnh trnh gi "}),Object.entries(Rt(g.steps)).map(([at,jt])=>i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"mb-3",style:{color:"#1a5bb8"},children:["Ngy ",at]}),i.jsx("div",{className:"row g-3",children:jt.map((Dt,Qe)=>{var It,Lt;return i.jsx("div",{className:"col-md-6 col-lg-4",children:i.jsx(Jt,{to:Dt.place?`/places/${Dt.place.id}`:"#",className:"text-decoration-none",children:i.jsxs("div",{className:"card h-100 shadow-sm",children:[Dt.place&&Dt.place.image_url&&i.jsx("img",{src:Dt.place.image_url.startsWith("http")?Dt.place.image_url:`${$_}${Dt.place.image_url}`,alt:Dt.place.name,className:"card-img-top",style:{height:140,objectFit:"cover"}}),i.jsxs("div",{className:"card-body",children:[i.jsx("h6",{className:"card-title mb-1 fw-bold",children:(It=Dt.place)==null?void 0:It.name}),i.jsx("div",{className:"card-text text-muted",style:{fontSize:"0.95em"},children:ht((Lt=Dt.place)==null?void 0:Lt.description)})]})]})})},Dt.place_id||Qe)})})]},at))]})]})}),tt&&i.jsx("div",{className:"planner-modal-overlay",tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-lg",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsxs("h5",{className:"modal-title",children:[i.jsx("i",{className:"bi bi-plus-circle me-2 text-primary"}),"Thm a im mi ti ",ve]}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>fe(!1)})]}),i.jsx("div",{className:"modal-body",children:i.jsxs("div",{className:"row g-3",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Tn a im *"}),i.jsx("input",{type:"text",className:"form-control",value:me.name,onChange:at=>Ie({...me,name:at.target.value}),placeholder:"Nhp tn a im"})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"a ch"}),i.jsx("input",{type:"text",className:"form-control",value:me.address,onChange:at=>Ie({...me,address:at.target.value}),placeholder:"Nhp a ch chi tit"})]}),i.jsxs("div",{className:"col-12",children:[i.jsx("label",{className:"form-label fw-bold",children:"M t *"}),i.jsx("textarea",{className:"form-control",rows:"3",value:me.description,onChange:at=>Ie({...me,description:at.target.value}),placeholder:"M t v a im ny..."})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Gi m ca"}),i.jsx("textarea",{className:"form-control",rows:"2",value:me.opening_hours,onChange:at=>Ie({...me,opening_hours:at.target.value}),placeholder:"VD: 8:00 - 22:00 hng ngy"})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-bold",children:"Dch v"}),i.jsx("textarea",{className:"form-control",rows:"2",value:me.service,onChange:at=>Ie({...me,service:at.target.value}),placeholder:"VD: n ung, Gii tr, Mua sm"})]})]})}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>fe(!1),children:"Hy"}),i.jsxs("button",{type:"button",className:"btn btn-primary",onClick:Ye,children:[i.jsx("i",{className:"bi bi-plus-circle me-1"}),"To a im"]})]})]})})})]});return l?Xt:i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Lr,{}),i.jsxs("main",{className:"container py-4 flex-grow-1",children:[Xt,H&&K&&i.jsx("div",{className:"modal show d-block",tabIndex:"-1",style:{background:"rgba(0,0,0,0.4)"},children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:"To tour thnh cng!"}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>{$(!1),qe("/my-tours")}})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("p",{children:["Bn  to tour bt u t ",i.jsx("b",{children:K.name})," thnh cng."]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("b",{children:"Thi gian:"})," ",K.start_time||"-"," n ",K.end_time||"-"]}),K.start_time&&i.jsxs("div",{className:"alert alert-info mt-3",children:[i.jsx("i",{className:"bi bi-bell me-2"}),i.jsx("strong",{children:"Nhc nh t ng:"})," Bn s nhn c thng bo nhc nh trc khi tour bt u."]})]}),i.jsxs("div",{className:"modal-footer",children:[K.id&&i.jsx("button",{className:"btn btn-main",onClick:()=>window.location.href=`/tours/${K.id}`,children:"Xem chi tit tour"}),i.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>window.location.href="/my-tours",children:"n trang My Tours"}),i.jsx("button",{className:"btn btn-link",onClick:()=>$(!1),children:"ng"})]})]})})})]}),i.jsx($r,{})]})},ud="https://walkingguide.onrender.com";delete ar.Icon.Default.prototype._getIconUrl;ar.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const QW=l=>{if(l.image_url){const o=l.image_url.startsWith("http")?l.image_url:`${ud}${l.image_url}`;return new ar.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          overflow: hidden;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
          <img 
            src="${o}" 
            alt="${l.name}"
            style="
              width: 100%;
              height: 100%;
              margin-left: 11px;
              object-fit: cover;
            "
            onerror="this.style.display='none'; this.parentElement.innerHTML='<i class=\\"bi bi-geo-alt-fill\\" style=\\"font-size: 20px; color: #3498db;\\"></i>';"
          />
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})}else return new ar.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
          <i class="bi bi-geo-alt-fill" style="font-size: 24px; color: #3498db;"></i>
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})},ZW=new ar.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),XW=new ar.Icon({iconUrl:sw,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]}),JW=new ar.Icon({iconUrl:ow,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]});function LI({defaultCenter:l,zoom:c}){const s=xh();return I.useEffect(()=>{l&&l.length===2&&s.setView(l,c)},[l,c,s]),null}function BI({onLocationClick:l}){const c=xh(),s=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(o=>{const h=o.coords.latitude,g=o.coords.longitude;c.setView([h,g],15),l({lat:h,lng:g})},o=>{console.error("Error getting current location:",o),alert("Khng th ly v tr hin ti. Vui lng kim tra quyn truy cp v tr.")}):alert("Trnh duyt ca bn khng h tr nh v.")};return i.jsx("div",{className:"leaflet-control leaflet-bar location-control",children:i.jsx("button",{onClick:s,title:"n v tr hin ti",children:i.jsx("i",{className:"bi bi-geo-alt-fill"})})})}function RI(){const l=xh(),c=()=>{l.zoomIn()},s=()=>{l.zoomOut()};return i.jsxs("div",{className:"leaflet-control leaflet-bar zoom-controls",children:[i.jsx("button",{onClick:c,title:"Phng to",className:"zoom-in-btn",children:i.jsx("i",{className:"bi bi-plus-lg"})}),i.jsx("button",{onClick:s,title:"Thu nh",className:"zoom-out-btn",children:i.jsx("i",{className:"bi bi-dash-lg"})})]})}function eY({place:l,onClose:c}){var Se,Fe,tt,fe;const[s,o]=I.useState(!1),[h,g]=I.useState("overview"),[_,y]=I.useState([]),[v,N]=I.useState(null),[S,D]=I.useState(l),[j,B]=I.useState([10.8231,106.6297]),[F,H]=I.useState(!0),$=I.useRef(null),[K,Q]=I.useState(!1),[ee,ne]=I.useState(""),[le,se]=I.useState([]),[q,de]=I.useState([]),[re,be]=I.useState((l==null?void 0:l.type)||"place"),ke=()=>window.matchMedia("(max-width: 600px)").matches,[Ne,De]=I.useState(!ke());I.useEffect(()=>{const me=()=>{ke()?De(!1):De(!0)};return window.addEventListener("resize",me),()=>window.removeEventListener("resize",me)},[]),I.useEffect(()=>{l&&(D(l),B([parseFloat(l.latitude),parseFloat(l.longitude)]))},[l]),I.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(me=>{const Ie={lat:me.coords.latitude,lng:me.coords.longitude};N(Ie),S||B([Ie.lat,Ie.lng]),_e(Ie)},me=>{console.error("Error getting current location:",me)})},[_,S]),I.useEffect(()=>{(async()=>{try{H(!0);const Ie=await zt.get("/places");y(Ie.data),!S&&Ie.data.length>0&&D(Ie.data[0])}catch(Ie){console.error("Error fetching places:",Ie)}finally{H(!1)}})()},[S]),I.useEffect(()=>{const me=async()=>{try{const qe=await zt.get("/hotels");se(qe.data.data||qe.data)}catch{se([])}},Ie=async()=>{try{const qe=await zt.get("/restaurants");de(qe.data.data||qe.data)}catch{de([])}};me(),Ie()},[]);const _e=me=>{if(_.length===0)return;let Ie=_[0],qe=je(me.lat,me.lng,Ie.latitude,Ie.longitude);_.forEach(Le=>{const st=je(me.lat,me.lng,Le.latitude,Le.longitude);st<qe&&(qe=st,Ie=Le)}),S||D(Ie)},je=(me,Ie,qe,Le)=>{const Ye=(qe-me)*Math.PI/180,Oe=(Le-Ie)*Math.PI/180,ut=Math.sin(Ye/2)*Math.sin(Ye/2)+Math.cos(me*Math.PI/180)*Math.cos(qe*Math.PI/180)*Math.sin(Oe/2)*Math.sin(Oe/2);return 6371*(2*Math.atan2(Math.sqrt(ut),Math.sqrt(1-ut)))},oe=(me,Ie="place")=>{D(me),be(Ie),ke()&&De(!0)},ve=me=>{N(me)};I.useEffect(()=>{const me=Ie=>{Ie.key==="Escape"&&s&&o(!1)};return document.addEventListener("keydown",me),()=>{document.removeEventListener("keydown",me)}},[s]);const he=me=>me?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(me):"",Ee=me=>{if(!me)return"";const Ie=document.createElement("div");return Ie.innerHTML=me,Ie.textContent||Ie.innerText||""},Z=(me,Ie)=>{if(Ie)return me.find(qe=>qe.id===Ie.id)},pe=Z(le,S),xe=Z(q,S);return F||!S?i.jsxs("div",{className:"place-detail-map-fullscreen",children:[i.jsx("div",{className:"map-container",children:i.jsxs(pb,{center:j,zoom:13,className:"fullscreen-map",zoomControl:!1,ref:$,children:[i.jsx(gb,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),i.jsx(LI,{defaultCenter:j,zoom:13}),i.jsx(BI,{onLocationClick:ve}),i.jsx(RI,{})]})}),i.jsx("div",{className:"info-overlay",children:i.jsx("div",{className:"overlay-content",children:i.jsx("div",{className:"tab-content",children:i.jsx("div",{className:"place-basic-info",children:i.jsx("div",{className:"d-flex align-items-center justify-content-center",style:{height:"200px"},children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("h5",{className:"text-muted",children:"ang ti thng tin a im..."})]})})})})})})]}):i.jsxs("div",{className:"place-detail-map-fullscreen",children:[i.jsx("div",{className:"map-container",children:i.jsxs(pb,{center:j,zoom:13,className:"fullscreen-map",zoomControl:!1,ref:$,children:[i.jsx(gb,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),v&&i.jsx(ao,{position:[v.lat,v.lng],icon:ZW,children:i.jsx(lo,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("h6",{className:"text-primary mb-1",children:"V tr hin ti"}),i.jsxs("small",{className:"text-muted",children:[v.lat.toFixed(6),", ",v.lng.toFixed(6)]})]})})}),_.map(me=>i.jsx(ao,{position:[parseFloat(me.latitude),parseFloat(me.longitude)],icon:QW(me),eventHandlers:{click:()=>oe(me,"place")},children:i.jsx(lo,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("h6",{className:"text-primary mb-1",children:me.name}),me.address&&i.jsx("p",{className:"mb-1 small",children:me.address}),me.city&&i.jsx("p",{className:"mb-0 text-muted small",children:me.city})]})})},me.id)),le.filter(me=>me.latitude&&me.longitude).map(me=>i.jsx(ao,{position:[me.latitude,me.longitude],icon:XW,eventHandlers:{click:()=>oe(me,"hotel")},children:i.jsx(lo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:me.name}),i.jsx("br",{}),me.address&&i.jsxs("span",{children:[me.address,i.jsx("br",{})]}),me.city&&i.jsxs("span",{children:[me.city,i.jsx("br",{})]}),me.price_range&&i.jsxs("span",{children:["Gi: ",me.price_range,i.jsx("br",{})]}),me.rating&&i.jsxs("span",{children:["nh gi: ",me.rating.toFixed(1)," / 5"]})]})})},`hotel-${me.id}`)),q.filter(me=>me.latitude&&me.longitude).map(me=>i.jsx(ao,{position:[me.latitude,me.longitude],icon:JW,eventHandlers:{click:()=>oe(me,"restaurant")},children:i.jsx(lo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:me.name}),i.jsx("br",{}),me.address&&i.jsxs("span",{children:[me.address,i.jsx("br",{})]}),me.city&&i.jsxs("span",{children:[me.city,i.jsx("br",{})]}),me.price_range&&i.jsxs("span",{children:["Gi: ",me.price_range,i.jsx("br",{})]}),me.rating&&i.jsxs("span",{children:["nh gi: ",me.rating.toFixed(1)," / 5"]})]})})},`restaurant-${me.id}`)),i.jsx(LI,{defaultCenter:j,zoom:13}),i.jsx(BI,{onLocationClick:ve}),i.jsx(RI,{})]})}),Ne||!ke()?i.jsxs("div",{className:`info-overlay ${ke()?Ne?"mobile-visible":"mobile-hidden":""}`,children:[ke()&&i.jsx("button",{className:"close-overlay-btn",onClick:()=>De(!1),style:{position:"absolute",top:10,right:16,zIndex:10,fontSize:"2rem",background:"#fff",border:"none",borderRadius:"50%",width:36,height:36,color:"#888",boxShadow:"0 2px 8px rgba(0,0,0,0.07)"},children:""}),i.jsx("div",{className:"overlay-content",children:i.jsx("div",{className:"tab-content",children:i.jsxs("div",{className:"place-basic-info",children:[re==="hotel"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"position-relative",style:{height:"250px"},children:[i.jsx("img",{src:(()=>{var me;return pe.image_url?pe.image_url.startsWith("http")?pe.image_url:`${ud}${pe.image_url}`:pe.images&&((me=pe.images[0])!=null&&me.image_url)?pe.images[0].image_url.startsWith("http")?pe.images[0].image_url:`${ud}${pe.images[0].image_url}`:"/default-place.jpg"})(),alt:pe.name,className:"w-100 h-100",style:{objectFit:"cover"},onError:me=>{me.target.src="/default-place.jpg"}}),i.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"linear-gradient(180deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.4) 100%)"}}),i.jsxs("div",{className:"position-absolute bottom-0 start-0 w-100 p-3",children:[i.jsx("h2",{className:"text-white fw-bold mb-2 text-shadow",style:{fontSize:"1.8rem"},children:pe.name}),i.jsxs("div",{className:"d-flex flex-wrap gap-2 align-items-center",children:[pe.city&&i.jsxs("span",{className:"badge bg-primary bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),pe.city]}),pe.rating&&i.jsxs("span",{className:"badge bg-warning bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-star-fill me-1"}),(Se=pe.rating)!=null&&Se.toFixed?pe.rating.toFixed(1):pe.rating,"/5"]})]})]})]}),pe.images&&pe.images.length>1&&i.jsx("div",{className:"mb-3",children:i.jsx("div",{className:"d-flex flex-wrap gap-2",children:pe.images.map((me,Ie)=>(me==null?void 0:me.image_url)&&i.jsx("img",{src:me.image_url.startsWith("http")?me.image_url:`${ud}${me.image_url}`,alt:"Gallery",style:{width:80,height:80,objectFit:"cover",borderRadius:8}},Ie))})}),i.jsxs("div",{className:"mb-4",children:[pe.address&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-house me-2 text-primary"}),i.jsx("span",{className:"fw-medium",children:"a ch:"})," ",pe.address]}),pe.city&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-geo-alt me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Thnh ph:"})," ",pe.city]}),pe.stars&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-star-fill me-2 text-warning"}),i.jsx("span",{className:"fw-medium",children:"Hng sao:"})," ",pe.stars," / 5"]}),pe.price_range&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-currency-dollar me-2 text-warning"}),i.jsx("span",{className:"fw-medium",children:"Mc gi:"})," ",pe.price_range]}),(pe.min_price||pe.max_price)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-cash-coin me-2 text-success"}),i.jsx("span",{className:"fw-medium",children:"Gi:"})," ",pe.min_price?he(pe.min_price):"",pe.min_price&&pe.max_price?" - ":"",pe.max_price?he(pe.max_price):""]}),pe.phone&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-telephone me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"in thoi:"})," ",pe.phone]}),pe.email&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-envelope me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Email:"})," ",pe.email]}),pe.website&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-globe me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Website:"})," ",i.jsx("a",{href:pe.website,target:"_blank",rel:"noopener noreferrer",children:pe.website})]}),(pe.check_in_time||pe.check_out_time)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-clock me-2 text-success"}),pe.check_in_time&&i.jsxs("span",{className:"fw-medium me-3",children:["Nhn phng: ",i.jsx("span",{className:"text-dark",children:pe.check_in_time})]}),pe.check_out_time&&i.jsxs("span",{className:"fw-medium",children:["Tr phng: ",i.jsx("span",{className:"text-dark",children:pe.check_out_time})]})]}),pe.amenities&&(()=>{let me=pe.amenities;try{const Ie=JSON.parse(me);if(Array.isArray(Ie))return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Tin nghi:"})," ",Ie.join(", ")]})}catch{}return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Tin nghi:"})," ",me]})})(),pe.room_types&&(()=>{let me=pe.room_types;try{const Ie=JSON.parse(me);if(Array.isArray(Ie))return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Loi phng:"})," ",Ie.join(", ")]})}catch{}return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Loi phng:"})," ",me]})})()]}),pe.description&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"text-primary mb-3",children:[i.jsx("i",{className:"bi bi-info-circle me-2"}),"M t"]}),i.jsx("div",{className:"p-3 bg-light rounded-3 description-text",style:{fontSize:"0.95rem",maxHeight:"150px",overflowY:"auto"},children:i.jsx("div",{children:Ee(pe.description)})})]})]}):re==="restaurant"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"position-relative",style:{height:"250px"},children:[xe.image_url||xe.images&&((Fe=xe.images[0])!=null&&Fe.image_url)?i.jsx("img",{src:(()=>{var me;return xe.image_url?xe.image_url.startsWith("http")?xe.image_url:`${ud}${xe.image_url}`:xe.images&&((me=xe.images[0])!=null&&me.image_url)?xe.images[0].image_url.startsWith("http")?xe.images[0].image_url:`${ud}${xe.images[0].image_url}`:""})(),alt:xe.name,className:"w-100 h-100",style:{objectFit:"cover"},onError:me=>{me.target.style.display="none"}}):i.jsx("div",{className:"w-100 h-100 d-flex align-items-center justify-content-center bg-danger",style:{height:"250px",color:"white",fontSize:"3rem",borderRadius:"1.5rem"},children:i.jsx("i",{className:"bi bi-cup-hot"})}),i.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"linear-gradient(180deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.4) 100%)"}}),i.jsxs("div",{className:"position-absolute bottom-0 start-0 w-100 p-3",children:[i.jsx("h2",{className:"text-white fw-bold mb-2 text-shadow",style:{fontSize:"1.8rem"},children:xe.name}),i.jsxs("div",{className:"d-flex flex-wrap gap-2 align-items-center",children:[xe.city&&i.jsxs("span",{className:"badge bg-primary bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),xe.city]}),xe.rating&&i.jsxs("span",{className:"badge bg-warning bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-star-fill me-1"}),(tt=xe.rating)!=null&&tt.toFixed?xe.rating.toFixed(1):xe.rating,"/5"]})]})]})]}),xe.images&&xe.images.length>1&&i.jsx("div",{className:"mb-3",children:i.jsx("div",{className:"d-flex flex-wrap gap-2",children:xe.images.map((me,Ie)=>(me==null?void 0:me.image_url)&&i.jsx("img",{src:me.image_url.startsWith("http")?me.image_url:`${ud}${me.image_url}`,alt:"Gallery",style:{width:80,height:80,objectFit:"cover",borderRadius:8}},Ie))})}),i.jsxs("div",{className:"mb-4",children:[xe.address&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-house me-2 text-primary"}),i.jsx("span",{className:"fw-medium",children:"a ch:"})," ",xe.address]}),xe.city&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-geo-alt me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Thnh ph:"})," ",xe.city]}),xe.cuisine_type&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-egg-fried me-2 text-warning"}),i.jsx("span",{className:"fw-medium",children:"m thc:"})," ",xe.cuisine_type]}),xe.price_range&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-currency-dollar me-2 text-warning"}),i.jsx("span",{className:"fw-medium",children:"Mc gi:"})," ",xe.price_range]}),(xe.min_price||xe.max_price)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-cash-coin me-2 text-success"}),i.jsx("span",{className:"fw-medium",children:"Gi:"})," ",xe.min_price?he(xe.min_price):"",xe.min_price&&xe.max_price?" - ":"",xe.max_price?he(xe.max_price):""]}),xe.phone&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-telephone me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"in thoi:"})," ",xe.phone]}),xe.email&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-envelope me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Email:"})," ",xe.email]}),xe.website&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-globe me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Website:"})," ",i.jsx("a",{href:xe.website,target:"_blank",rel:"noopener noreferrer",children:xe.website})]}),xe.opening_hours&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-clock me-2 text-success"}),i.jsx("span",{className:"fw-medium",children:"Gi m ca:"})," ",(()=>{let me=xe.opening_hours;try{const Ie=JSON.parse(me);if(Array.isArray(Ie))return Ie.map((qe,Le)=>i.jsxs("span",{className:"ms-2",children:[qe.day,": ",qe.hours]},Le))}catch{}return me})()]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium me-2",children:"Dch v:"}),i.jsxs("span",{className:"me-2",children:[i.jsx("i",{className:`bi bi-bag-check${xe.delivery_available?"":"-fill text-secondary"}`})," Giao hng: ",xe.delivery_available?"C":"Khng"]}),i.jsxs("span",{className:"me-2",children:[i.jsx("i",{className:`bi bi-bag${xe.takeout_available?"":"-fill text-secondary"}`})," Mang i: ",xe.takeout_available?"C":"Khng"]}),i.jsxs("span",{children:[i.jsx("i",{className:`bi bi-people${xe.dine_in_available?"":"-fill text-secondary"}`})," n ti ch: ",xe.dine_in_available?"C":"Khng"]})]}),xe.dietary_options&&(()=>{let me=xe.dietary_options;try{const Ie=JSON.parse(me);if(Array.isArray(Ie))return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Ty chn n king:"})," ",Ie.join(", ")]})}catch{}return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Ty chn n king:"})," ",me]})})(),xe.features&&(()=>{let me=xe.features;try{const Ie=JSON.parse(me);if(Array.isArray(Ie))return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Tin ch:"})," ",Ie.join(", ")]})}catch{}return i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"fw-medium",children:"Tin ch:"})," ",me]})})()]}),xe.description&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"text-primary mb-3",children:[i.jsx("i",{className:"bi bi-info-circle me-2"}),"M t"]}),i.jsx("div",{className:"p-3 bg-light rounded-3 description-text",style:{fontSize:"0.95rem",maxHeight:"150px",overflowY:"auto"},children:i.jsx("div",{children:Ee(xe.description)})})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"position-relative",style:{height:"250px"},children:[i.jsx("img",{src:(()=>{var me;return S!=null&&S.image_url?S.image_url.startsWith("http")?S.image_url:`${ud}${S.image_url}`:S!=null&&S.images&&((me=S.images[0])!=null&&me.image_url)?S.images[0].image_url.startsWith("http")?S.images[0].image_url:`${ud}${S.images[0].image_url}`:"/default-place.jpg"})(),alt:S==null?void 0:S.name,className:"w-100 h-100",style:{objectFit:"cover"},onError:me=>{me.target.src="/default-place.jpg"}}),i.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"linear-gradient(180deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.4) 100%)"}}),i.jsxs("div",{className:"position-absolute bottom-0 start-0 w-100 p-3",children:[i.jsx("h2",{className:"text-white fw-bold mb-2 text-shadow",style:{fontSize:"1.8rem"},children:S==null?void 0:S.name}),i.jsxs("div",{className:"d-flex flex-wrap gap-2 align-items-center",children:[(S==null?void 0:S.city)&&i.jsxs("span",{className:"badge bg-primary bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),S.city]}),(S==null?void 0:S.rating)&&i.jsxs("span",{className:"badge bg-warning bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-star-fill me-1"}),(fe=S.rating)!=null&&fe.toFixed?S.rating.toFixed(1):S.rating,"/5"]})]})]})]}),(S==null?void 0:S.images)&&S.images.length>1&&i.jsx("div",{className:"mb-3",children:i.jsx("div",{className:"d-flex flex-wrap gap-2",children:S.images.map((me,Ie)=>(me==null?void 0:me.image_url)&&i.jsx("img",{src:me.image_url.startsWith("http")?me.image_url:`${ud}${me.image_url}`,alt:"Gallery",style:{width:80,height:80,objectFit:"cover",borderRadius:8}},Ie))})}),i.jsxs("div",{className:"mb-4",children:[(S==null?void 0:S.address)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-house me-2 text-primary"}),i.jsx("span",{className:"fw-medium",children:"a ch:"})," ",S.address]}),(S==null?void 0:S.city)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-geo-alt me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Thnh ph:"})," ",S.city]}),(S==null?void 0:S.opening_hours)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-clock me-2 text-success"}),i.jsx("span",{className:"fw-medium",children:"Gi m ca:"})," ",S.opening_hours]}),(S==null?void 0:S.service)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-activity me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Dch v:"})," ",S.service]}),(S==null?void 0:S.phone)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-telephone me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"in thoi:"})," ",S.phone]}),(S==null?void 0:S.email)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-envelope me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Email:"})," ",S.email]}),(S==null?void 0:S.website)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-globe me-2 text-info"}),i.jsx("span",{className:"fw-medium",children:"Website:"})," ",i.jsx("a",{href:S.website,target:"_blank",rel:"noopener noreferrer",children:S.website})]})]}),(S==null?void 0:S.description)&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"text-primary mb-3",children:[i.jsx("i",{className:"bi bi-info-circle me-2"}),"M t"]}),i.jsx("div",{className:"p-3 bg-light rounded-3 description-text",style:{fontSize:"0.95rem",maxHeight:"150px",overflowY:"auto"},children:i.jsx("div",{children:Ee(S.description)})})]}),S&&S.service&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"text-primary mb-3",children:[i.jsx("i",{className:"bi bi-activity me-2"}),"Dch v"]}),i.jsx("div",{className:"p-3 service-section",children:i.jsx("p",{className:"text-dark mb-0 fw-medium",style:{fontSize:"0.95rem"},children:S.service})})]})]}),i.jsxs("div",{className:"d-flex gap-2 justify-content-center pt-3",children:[i.jsxs("button",{onClick:c,className:"btn btn-outline-primary px-3 py-2 rounded-pill",style:{fontSize:"0.9rem"},children:[i.jsx("i",{className:"bi bi-arrow-left me-2"}),"Quay li"]}),i.jsxs("button",{className:"btn btn-primary px-3 py-2 rounded-pill",style:{fontSize:"0.9rem"},children:[i.jsx("i",{className:"bi bi-share me-2"}),"Chia s"]})]})]})})})]}):null,K&&i.jsxs("div",{className:"alert alert-warning alert-dismissible fade show position-absolute top-0 start-0 m-3",style:{zIndex:1e3},role:"alert",children:[i.jsx("i",{className:"bi bi-geo-alt me-2"}),ee,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>Q(!1)})]})]})}var dL={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},PI=it.createContext&&it.createContext(dL),tY=["attr","size","title"];function nY(l,c){if(l==null)return{};var s=iY(l,c),o,h;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(l);for(h=0;h<g.length;h++)o=g[h],!(c.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(l,o)&&(s[o]=l[o])}return s}function iY(l,c){if(l==null)return{};var s={};for(var o in l)if(Object.prototype.hasOwnProperty.call(l,o)){if(c.indexOf(o)>=0)continue;s[o]=l[o]}return s}function yv(){return yv=Object.assign?Object.assign.bind():function(l){for(var c=1;c<arguments.length;c++){var s=arguments[c];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(l[o]=s[o])}return l},yv.apply(this,arguments)}function zI(l,c){var s=Object.keys(l);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(l);c&&(o=o.filter(function(h){return Object.getOwnPropertyDescriptor(l,h).enumerable})),s.push.apply(s,o)}return s}function xv(l){for(var c=1;c<arguments.length;c++){var s=arguments[c]!=null?arguments[c]:{};c%2?zI(Object(s),!0).forEach(function(o){rY(l,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(s)):zI(Object(s)).forEach(function(o){Object.defineProperty(l,o,Object.getOwnPropertyDescriptor(s,o))})}return l}function rY(l,c,s){return c=sY(c),c in l?Object.defineProperty(l,c,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[c]=s,l}function sY(l){var c=oY(l,"string");return typeof c=="symbol"?c:c+""}function oY(l,c){if(typeof l!="object"||!l)return l;var s=l[Symbol.toPrimitive];if(s!==void 0){var o=s.call(l,c);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(l)}function uL(l){return l&&l.map((c,s)=>it.createElement(c.tag,xv({key:s},c.attr),uL(c.child)))}function i1(l){return c=>it.createElement(aY,yv({attr:xv({},l.attr)},c),uL(l.child))}function aY(l){var c=s=>{var{attr:o,size:h,title:g}=l,_=nY(l,tY),y=h||s.size||"1em",v;return s.className&&(v=s.className),l.className&&(v=(v?v+" ":"")+l.className),it.createElement("svg",yv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,o,_,{className:v,style:xv(xv({color:l.color||s.color},s.style),l.style),height:y,width:y,xmlns:"http://www.w3.org/2000/svg"}),g&&it.createElement("title",null,g),l.children)};return PI!==void 0?it.createElement(PI.Consumer,null,s=>c(s)):c(dL)}function lY(l){return i1({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(l)}function cY(l){return i1({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(l)}function dY(l){return i1({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(l)}const Vl=({id:l,type:c="place"})=>{const{user:s}=Sb(),[o,h]=I.useState(0),[g,_]=I.useState(0),[y,v]=I.useState(null),[N,S]=I.useState(!1),D=B=>B==="tour"?"tour-ratings":B==="hotel"?"hotel-ratings":B==="restaurant"?"restaurant-ratings":"place-ratings";I.useEffect(()=>{if(!l)return;const B=D(c);zt.get(`${B}/average`,{params:{[`${c}_id`]:l}}).then(F=>h(F.data.average)).catch(F=>{F.response&&F.response.status===404&&h(0)}),s&&zt.get(`${B}/user`,{params:{[`${c}_id`]:l}}).then(F=>_(F.data.rating||0)).catch(F=>{F.response&&F.response.status===404&&_(0)})},[l,s,c]);const j=async B=>{if(!s)return alert("Bn cn ng nhp  nh gi!");S(!0);const F=D(c);try{await zt.post(`${F}/rate`,{[`${c}_id`]:l,rating:B}),_(B);const H=await zt.get(`${F}/average`,{params:{[`${c}_id`]:l}});h(H.data.average)}catch{alert("C li khi gi nh gi.")}S(!1)};return i.jsxs("div",{className:"d-flex align-items-center gap-2",children:[[1,2,3,4,5].map(B=>i.jsx(dY,{size:24,style:{cursor:s?"pointer":"default",color:(y||g)>=B?"#f1c40f":"#ddd",transition:"color 0.2s, transform 0.1s",transform:y===B?"scale(1.2)":"scale(1)",filter:(y||g)>=B?"drop-shadow(0 0 4px #f1c40f88)":"none"},onMouseEnter:()=>s&&v(B),onMouseLeave:()=>s&&v(null),onClick:()=>s&&j(B)},B)),i.jsx("span",{style:{fontWeight:500,color:"#888",fontSize:15,minWidth:40},children:o?o.toFixed(1):"Cha c nh gi"})]})};var av={exports:{}},uY=av.exports,FI;function hY(){return FI||(FI=1,function(l,c){(function(s,o){l.exports=o()})(uY,function(){var s=1e3,o=6e4,h=36e5,g="millisecond",_="second",y="minute",v="hour",N="day",S="week",D="month",j="quarter",B="year",F="date",H="Invalid Date",$=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,K=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Q={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_e){var je=["th","st","nd","rd"],oe=_e%100;return"["+_e+(je[(oe-20)%10]||je[oe]||je[0])+"]"}},ee=function(_e,je,oe){var ve=String(_e);return!ve||ve.length>=je?_e:""+Array(je+1-ve.length).join(oe)+_e},ne={s:ee,z:function(_e){var je=-_e.utcOffset(),oe=Math.abs(je),ve=Math.floor(oe/60),he=oe%60;return(je<=0?"+":"-")+ee(ve,2,"0")+":"+ee(he,2,"0")},m:function _e(je,oe){if(je.date()<oe.date())return-_e(oe,je);var ve=12*(oe.year()-je.year())+(oe.month()-je.month()),he=je.clone().add(ve,D),Ee=oe-he<0,Z=je.clone().add(ve+(Ee?-1:1),D);return+(-(ve+(oe-he)/(Ee?he-Z:Z-he))||0)},a:function(_e){return _e<0?Math.ceil(_e)||0:Math.floor(_e)},p:function(_e){return{M:D,y:B,w:S,d:N,D:F,h:v,m:y,s:_,ms:g,Q:j}[_e]||String(_e||"").toLowerCase().replace(/s$/,"")},u:function(_e){return _e===void 0}},le="en",se={};se[le]=Q;var q="$isDayjsObject",de=function(_e){return _e instanceof Ne||!(!_e||!_e[q])},re=function _e(je,oe,ve){var he;if(!je)return le;if(typeof je=="string"){var Ee=je.toLowerCase();se[Ee]&&(he=Ee),oe&&(se[Ee]=oe,he=Ee);var Z=je.split("-");if(!he&&Z.length>1)return _e(Z[0])}else{var pe=je.name;se[pe]=je,he=pe}return!ve&&he&&(le=he),he||!ve&&le},be=function(_e,je){if(de(_e))return _e.clone();var oe=typeof je=="object"?je:{};return oe.date=_e,oe.args=arguments,new Ne(oe)},ke=ne;ke.l=re,ke.i=de,ke.w=function(_e,je){return be(_e,{locale:je.$L,utc:je.$u,x:je.$x,$offset:je.$offset})};var Ne=function(){function _e(oe){this.$L=re(oe.locale,null,!0),this.parse(oe),this.$x=this.$x||oe.x||{},this[q]=!0}var je=_e.prototype;return je.parse=function(oe){this.$d=function(ve){var he=ve.date,Ee=ve.utc;if(he===null)return new Date(NaN);if(ke.u(he))return new Date;if(he instanceof Date)return new Date(he);if(typeof he=="string"&&!/Z$/i.test(he)){var Z=he.match($);if(Z){var pe=Z[2]-1||0,xe=(Z[7]||"0").substring(0,3);return Ee?new Date(Date.UTC(Z[1],pe,Z[3]||1,Z[4]||0,Z[5]||0,Z[6]||0,xe)):new Date(Z[1],pe,Z[3]||1,Z[4]||0,Z[5]||0,Z[6]||0,xe)}}return new Date(he)}(oe),this.init()},je.init=function(){var oe=this.$d;this.$y=oe.getFullYear(),this.$M=oe.getMonth(),this.$D=oe.getDate(),this.$W=oe.getDay(),this.$H=oe.getHours(),this.$m=oe.getMinutes(),this.$s=oe.getSeconds(),this.$ms=oe.getMilliseconds()},je.$utils=function(){return ke},je.isValid=function(){return this.$d.toString()!==H},je.isSame=function(oe,ve){var he=be(oe);return this.startOf(ve)<=he&&he<=this.endOf(ve)},je.isAfter=function(oe,ve){return be(oe)<this.startOf(ve)},je.isBefore=function(oe,ve){return this.endOf(ve)<be(oe)},je.$g=function(oe,ve,he){return ke.u(oe)?this[ve]:this.set(he,oe)},je.unix=function(){return Math.floor(this.valueOf()/1e3)},je.valueOf=function(){return this.$d.getTime()},je.startOf=function(oe,ve){var he=this,Ee=!!ke.u(ve)||ve,Z=ke.p(oe),pe=function(qe,Le){var st=ke.w(he.$u?Date.UTC(he.$y,Le,qe):new Date(he.$y,Le,qe),he);return Ee?st:st.endOf(N)},xe=function(qe,Le){return ke.w(he.toDate()[qe].apply(he.toDate("s"),(Ee?[0,0,0,0]:[23,59,59,999]).slice(Le)),he)},Se=this.$W,Fe=this.$M,tt=this.$D,fe="set"+(this.$u?"UTC":"");switch(Z){case B:return Ee?pe(1,0):pe(31,11);case D:return Ee?pe(1,Fe):pe(0,Fe+1);case S:var me=this.$locale().weekStart||0,Ie=(Se<me?Se+7:Se)-me;return pe(Ee?tt-Ie:tt+(6-Ie),Fe);case N:case F:return xe(fe+"Hours",0);case v:return xe(fe+"Minutes",1);case y:return xe(fe+"Seconds",2);case _:return xe(fe+"Milliseconds",3);default:return this.clone()}},je.endOf=function(oe){return this.startOf(oe,!1)},je.$set=function(oe,ve){var he,Ee=ke.p(oe),Z="set"+(this.$u?"UTC":""),pe=(he={},he[N]=Z+"Date",he[F]=Z+"Date",he[D]=Z+"Month",he[B]=Z+"FullYear",he[v]=Z+"Hours",he[y]=Z+"Minutes",he[_]=Z+"Seconds",he[g]=Z+"Milliseconds",he)[Ee],xe=Ee===N?this.$D+(ve-this.$W):ve;if(Ee===D||Ee===B){var Se=this.clone().set(F,1);Se.$d[pe](xe),Se.init(),this.$d=Se.set(F,Math.min(this.$D,Se.daysInMonth())).$d}else pe&&this.$d[pe](xe);return this.init(),this},je.set=function(oe,ve){return this.clone().$set(oe,ve)},je.get=function(oe){return this[ke.p(oe)]()},je.add=function(oe,ve){var he,Ee=this;oe=Number(oe);var Z=ke.p(ve),pe=function(Fe){var tt=be(Ee);return ke.w(tt.date(tt.date()+Math.round(Fe*oe)),Ee)};if(Z===D)return this.set(D,this.$M+oe);if(Z===B)return this.set(B,this.$y+oe);if(Z===N)return pe(1);if(Z===S)return pe(7);var xe=(he={},he[y]=o,he[v]=h,he[_]=s,he)[Z]||1,Se=this.$d.getTime()+oe*xe;return ke.w(Se,this)},je.subtract=function(oe,ve){return this.add(-1*oe,ve)},je.format=function(oe){var ve=this,he=this.$locale();if(!this.isValid())return he.invalidDate||H;var Ee=oe||"YYYY-MM-DDTHH:mm:ssZ",Z=ke.z(this),pe=this.$H,xe=this.$m,Se=this.$M,Fe=he.weekdays,tt=he.months,fe=he.meridiem,me=function(Le,st,Ye,Oe){return Le&&(Le[st]||Le(ve,Ee))||Ye[st].slice(0,Oe)},Ie=function(Le){return ke.s(pe%12||12,Le,"0")},qe=fe||function(Le,st,Ye){var Oe=Le<12?"AM":"PM";return Ye?Oe.toLowerCase():Oe};return Ee.replace(K,function(Le,st){return st||function(Ye){switch(Ye){case"YY":return String(ve.$y).slice(-2);case"YYYY":return ke.s(ve.$y,4,"0");case"M":return Se+1;case"MM":return ke.s(Se+1,2,"0");case"MMM":return me(he.monthsShort,Se,tt,3);case"MMMM":return me(tt,Se);case"D":return ve.$D;case"DD":return ke.s(ve.$D,2,"0");case"d":return String(ve.$W);case"dd":return me(he.weekdaysMin,ve.$W,Fe,2);case"ddd":return me(he.weekdaysShort,ve.$W,Fe,3);case"dddd":return Fe[ve.$W];case"H":return String(pe);case"HH":return ke.s(pe,2,"0");case"h":return Ie(1);case"hh":return Ie(2);case"a":return qe(pe,xe,!0);case"A":return qe(pe,xe,!1);case"m":return String(xe);case"mm":return ke.s(xe,2,"0");case"s":return String(ve.$s);case"ss":return ke.s(ve.$s,2,"0");case"SSS":return ke.s(ve.$ms,3,"0");case"Z":return Z}return null}(Le)||Z.replace(":","")})},je.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},je.diff=function(oe,ve,he){var Ee,Z=this,pe=ke.p(ve),xe=be(oe),Se=(xe.utcOffset()-this.utcOffset())*o,Fe=this-xe,tt=function(){return ke.m(Z,xe)};switch(pe){case B:Ee=tt()/12;break;case D:Ee=tt();break;case j:Ee=tt()/3;break;case S:Ee=(Fe-Se)/6048e5;break;case N:Ee=(Fe-Se)/864e5;break;case v:Ee=Fe/h;break;case y:Ee=Fe/o;break;case _:Ee=Fe/s;break;default:Ee=Fe}return he?Ee:ke.a(Ee)},je.daysInMonth=function(){return this.endOf(D).$D},je.$locale=function(){return se[this.$L]},je.locale=function(oe,ve){if(!oe)return this.$L;var he=this.clone(),Ee=re(oe,ve,!0);return Ee&&(he.$L=Ee),he},je.clone=function(){return ke.w(this.$d,this)},je.toDate=function(){return new Date(this.valueOf())},je.toJSON=function(){return this.isValid()?this.toISOString():null},je.toISOString=function(){return this.$d.toISOString()},je.toString=function(){return this.$d.toUTCString()},_e}(),De=Ne.prototype;return be.prototype=De,[["$ms",g],["$s",_],["$m",y],["$H",v],["$W",N],["$M",D],["$y",B],["$D",F]].forEach(function(_e){De[_e[1]]=function(je){return this.$g(je,_e[0],_e[1])}}),be.extend=function(_e,je){return _e.$i||(_e(je,Ne,be),_e.$i=!0),be},be.locale=re,be.isDayjs=de,be.unix=function(_e){return be(1e3*_e)},be.en=se[le],be.Ls=se,be.p={},be})}(av)),av.exports}hY();function hL(l){var c,s,o="";if(typeof l=="string"||typeof l=="number")o+=l;else if(typeof l=="object")if(Array.isArray(l)){var h=l.length;for(c=0;c<h;c++)l[c]&&(s=hL(l[c]))&&(o&&(o+=" "),o+=s)}else for(s in l)l[s]&&(o&&(o+=" "),o+=s);return o}function Eo(){for(var l,c,s=0,o="",h=arguments.length;s<h;s++)(l=arguments[s])&&(c=hL(l))&&(o&&(o+=" "),o+=c);return o}const mL=6048e5,mY=864e5,mw=6e4,fw=36e5,fY=1e3,VI=Symbol.for("constructDateFrom");function er(l,c){return typeof l=="function"?l(c):l&&typeof l=="object"&&VI in l?l[VI](c):l instanceof Date?new l.constructor(c):new Date(c)}function ln(l,c){return er(c||l,l)}function vc(l,c,s){const o=ln(l,s==null?void 0:s.in);return isNaN(c)?er((s==null?void 0:s.in)||l,NaN):(c&&o.setDate(o.getDate()+c),o)}function wc(l,c,s){const o=ln(l,s==null?void 0:s.in);if(isNaN(c))return er(l,NaN);if(!c)return o;const h=o.getDate(),g=er(l,o.getTime());g.setMonth(o.getMonth()+c+1,0);const _=g.getDate();return h>=_?g:(o.setFullYear(g.getFullYear(),g.getMonth(),h),o)}function fL(l,c,s){return er(l,+ln(l)+c)}function pY(l,c,s){return fL(l,c*fw)}let gY={};function $m(){return gY}function vu(l,c){var y,v,N,S;const s=$m(),o=(c==null?void 0:c.weekStartsOn)??((v=(y=c==null?void 0:c.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??s.weekStartsOn??((S=(N=s.locale)==null?void 0:N.options)==null?void 0:S.weekStartsOn)??0,h=ln(l,c==null?void 0:c.in),g=h.getDay(),_=(g<o?7:0)+g-o;return h.setDate(h.getDate()-_),h.setHours(0,0,0,0),h}function cp(l,c){return vu(l,{...c,weekStartsOn:1})}function pL(l,c){const s=ln(l,c==null?void 0:c.in),o=s.getFullYear(),h=er(s,0);h.setFullYear(o+1,0,4),h.setHours(0,0,0,0);const g=cp(h),_=er(s,0);_.setFullYear(o,0,4),_.setHours(0,0,0,0);const y=cp(_);return s.getTime()>=g.getTime()?o+1:s.getTime()>=y.getTime()?o:o-1}function Cv(l){const c=ln(l),s=new Date(Date.UTC(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds()));return s.setUTCFullYear(c.getFullYear()),+l-+s}function Cu(l,...c){const s=er.bind(null,c.find(o=>typeof o=="object"));return c.map(s)}function Pm(l,c){const s=ln(l,c==null?void 0:c.in);return s.setHours(0,0,0,0),s}function dp(l,c,s){const[o,h]=Cu(s==null?void 0:s.in,l,c),g=Pm(o),_=Pm(h),y=+g-Cv(g),v=+_-Cv(_);return Math.round((y-v)/mY)}function bY(l,c){const s=pL(l,c),o=er(l,0);return o.setFullYear(s,0,4),o.setHours(0,0,0,0),cp(o)}function kA(l,c,s){const o=ln(l,s==null?void 0:s.in);return o.setTime(o.getTime()+c*mw),o}function r1(l,c,s){return wc(l,c*3,s)}function kY(l,c,s){return fL(l,c*1e3)}function Av(l,c,s){return vc(l,c*7,s)}function mu(l,c,s){return wc(l,c*12,s)}function HI(l,c){let s,o=c==null?void 0:c.in;return l.forEach(h=>{!o&&typeof h=="object"&&(o=er.bind(null,h));const g=ln(h,o);(!s||s<g||isNaN(+g))&&(s=g)}),er(o,s||NaN)}function UI(l,c){let s,o=c==null?void 0:c.in;return l.forEach(h=>{!o&&typeof h=="object"&&(o=er.bind(null,h));const g=ln(h,o);(!s||s>g||isNaN(+g))&&(s=g)}),er(o,s||NaN)}function _Y(l,c,s){const[o,h]=Cu(s==null?void 0:s.in,l,c);return+Pm(o)==+Pm(h)}function fu(l){return l instanceof Date||typeof l=="object"&&Object.prototype.toString.call(l)==="[object Date]"}function Nv(l){return!(!fu(l)&&typeof l!="number"||isNaN(+ln(l)))}function Ev(l,c,s){const[o,h]=Cu(s==null?void 0:s.in,l,c),g=o.getFullYear()-h.getFullYear(),_=o.getMonth()-h.getMonth();return g*12+_}function Om(l,c){const s=ln(l,c==null?void 0:c.in);return Math.trunc(s.getMonth()/3)+1}function Sv(l,c,s){const[o,h]=Cu(s==null?void 0:s.in,l,c),g=o.getFullYear()-h.getFullYear(),_=Om(o)-Om(h);return g*4+_}function jv(l,c,s){const[o,h]=Cu(s==null?void 0:s.in,l,c);return o.getFullYear()-h.getFullYear()}function vY(l,c,s){const[o,h]=Cu(s==null?void 0:s.in,l,c),g=$I(o,h),_=Math.abs(dp(o,h));o.setDate(o.getDate()-g*_);const y=+($I(o,h)===-g),v=g*(_-y);return v===0?0:v}function $I(l,c){const s=l.getFullYear()-c.getFullYear()||l.getMonth()-c.getMonth()||l.getDate()-c.getDate()||l.getHours()-c.getHours()||l.getMinutes()-c.getMinutes()||l.getSeconds()-c.getSeconds()||l.getMilliseconds()-c.getMilliseconds();return s<0?-1:s>0?1:s}function gL(l,c){const s=ln(l,c==null?void 0:c.in);return s.setHours(23,59,59,999),s}function bL(l,c){const s=ln(l,c==null?void 0:c.in),o=s.getMonth();return s.setFullYear(s.getFullYear(),o+1,0),s.setHours(23,59,59,999),s}function _A(l,c){const s=ln(l,c==null?void 0:c.in),o=s.getMonth(),h=o-o%3;return s.setMonth(h,1),s.setHours(0,0,0,0),s}function kL(l,c){const s=ln(l,c==null?void 0:c.in);return s.setDate(1),s.setHours(0,0,0,0),s}function _L(l,c){const s=ln(l,c==null?void 0:c.in),o=s.getFullYear();return s.setFullYear(o+1,0,0),s.setHours(23,59,59,999),s}function pw(l,c){const s=ln(l,c==null?void 0:c.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}function wY(l,c){var y,v;const s=$m(),o=s.weekStartsOn??((v=(y=s.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??0,h=ln(l,c==null?void 0:c.in),g=h.getDay(),_=(g<o?-7:0)+6-(g-o);return h.setDate(h.getDate()+_),h.setHours(23,59,59,999),h}const yY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xY=(l,c,s)=>{let o;const h=yY[l];return typeof h=="string"?o=h:c===1?o=h.one:o=h.other.replace("{{count}}",c.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+o:o+" ago":o};function LC(l){return(c={})=>{const s=c.width?String(c.width):l.defaultWidth;return l.formats[s]||l.formats[l.defaultWidth]}}const CY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},AY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},NY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EY={date:LC({formats:CY,defaultWidth:"full"}),time:LC({formats:AY,defaultWidth:"full"}),dateTime:LC({formats:NY,defaultWidth:"full"})},SY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jY=(l,c,s,o)=>SY[l];function Qg(l){return(c,s)=>{const o=s!=null&&s.context?String(s.context):"standalone";let h;if(o==="formatting"&&l.formattingValues){const _=l.defaultFormattingWidth||l.defaultWidth,y=s!=null&&s.width?String(s.width):_;h=l.formattingValues[y]||l.formattingValues[_]}else{const _=l.defaultWidth,y=s!=null&&s.width?String(s.width):l.defaultWidth;h=l.values[y]||l.values[_]}const g=l.argumentCallback?l.argumentCallback(c):c;return h[g]}}const DY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},TY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},MY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},IY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},OY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},LY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},BY=(l,c)=>{const s=Number(l),o=s%100;if(o>20||o<10)switch(o%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},RY={ordinalNumber:BY,era:Qg({values:DY,defaultWidth:"wide"}),quarter:Qg({values:TY,defaultWidth:"wide",argumentCallback:l=>l-1}),month:Qg({values:MY,defaultWidth:"wide"}),day:Qg({values:IY,defaultWidth:"wide"}),dayPeriod:Qg({values:OY,defaultWidth:"wide",formattingValues:LY,defaultFormattingWidth:"wide"})};function Zg(l){return(c,s={})=>{const o=s.width,h=o&&l.matchPatterns[o]||l.matchPatterns[l.defaultMatchWidth],g=c.match(h);if(!g)return null;const _=g[0],y=o&&l.parsePatterns[o]||l.parsePatterns[l.defaultParseWidth],v=Array.isArray(y)?zY(y,D=>D.test(_)):PY(y,D=>D.test(_));let N;N=l.valueCallback?l.valueCallback(v):v,N=s.valueCallback?s.valueCallback(N):N;const S=c.slice(_.length);return{value:N,rest:S}}}function PY(l,c){for(const s in l)if(Object.prototype.hasOwnProperty.call(l,s)&&c(l[s]))return s}function zY(l,c){for(let s=0;s<l.length;s++)if(c(l[s]))return s}function FY(l){return(c,s={})=>{const o=c.match(l.matchPattern);if(!o)return null;const h=o[0],g=c.match(l.parsePattern);if(!g)return null;let _=l.valueCallback?l.valueCallback(g[0]):g[0];_=s.valueCallback?s.valueCallback(_):_;const y=c.slice(h.length);return{value:_,rest:y}}}const VY=/^(\d+)(th|st|nd|rd)?/i,HY=/\d+/i,UY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$Y={any:[/^b/i,/^(a|c)/i]},qY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},WY={any:[/1/i,/2/i,/3/i,/4/i]},YY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},GY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},KY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},QY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ZY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},XY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},JY={ordinalNumber:FY({matchPattern:VY,parsePattern:HY,valueCallback:l=>parseInt(l,10)}),era:Zg({matchPatterns:UY,defaultMatchWidth:"wide",parsePatterns:$Y,defaultParseWidth:"any"}),quarter:Zg({matchPatterns:qY,defaultMatchWidth:"wide",parsePatterns:WY,defaultParseWidth:"any",valueCallback:l=>l+1}),month:Zg({matchPatterns:YY,defaultMatchWidth:"wide",parsePatterns:GY,defaultParseWidth:"any"}),day:Zg({matchPatterns:KY,defaultMatchWidth:"wide",parsePatterns:QY,defaultParseWidth:"any"}),dayPeriod:Zg({matchPatterns:ZY,defaultMatchWidth:"any",parsePatterns:XY,defaultParseWidth:"any"})},vL={code:"en-US",formatDistance:xY,formatLong:EY,formatRelative:jY,localize:RY,match:JY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function eG(l,c){const s=ln(l,c==null?void 0:c.in);return dp(s,pw(s))+1}function s1(l,c){const s=ln(l,c==null?void 0:c.in),o=+cp(s)-+bY(s);return Math.round(o/mL)+1}function o1(l,c){var S,D,j,B;const s=ln(l,c==null?void 0:c.in),o=s.getFullYear(),h=$m(),g=(c==null?void 0:c.firstWeekContainsDate)??((D=(S=c==null?void 0:c.locale)==null?void 0:S.options)==null?void 0:D.firstWeekContainsDate)??h.firstWeekContainsDate??((B=(j=h.locale)==null?void 0:j.options)==null?void 0:B.firstWeekContainsDate)??1,_=er((c==null?void 0:c.in)||l,0);_.setFullYear(o+1,0,g),_.setHours(0,0,0,0);const y=vu(_,c),v=er((c==null?void 0:c.in)||l,0);v.setFullYear(o,0,g),v.setHours(0,0,0,0);const N=vu(v,c);return+s>=+y?o+1:+s>=+N?o:o-1}function tG(l,c){var y,v,N,S;const s=$m(),o=(c==null?void 0:c.firstWeekContainsDate)??((v=(y=c==null?void 0:c.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??s.firstWeekContainsDate??((S=(N=s.locale)==null?void 0:N.options)==null?void 0:S.firstWeekContainsDate)??1,h=o1(l,c),g=er((c==null?void 0:c.in)||l,0);return g.setFullYear(h,0,o),g.setHours(0,0,0,0),vu(g,c)}function wL(l,c){const s=ln(l,c==null?void 0:c.in),o=+vu(s,c)-+tG(s,c);return Math.round(o/mL)+1}function Ji(l,c){const s=l<0?"-":"",o=Math.abs(l).toString().padStart(c,"0");return s+o}const mh={y(l,c){const s=l.getFullYear(),o=s>0?s:1-s;return Ji(c==="yy"?o%100:o,c.length)},M(l,c){const s=l.getMonth();return c==="M"?String(s+1):Ji(s+1,2)},d(l,c){return Ji(l.getDate(),c.length)},a(l,c){const s=l.getHours()/12>=1?"pm":"am";switch(c){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(l,c){return Ji(l.getHours()%12||12,c.length)},H(l,c){return Ji(l.getHours(),c.length)},m(l,c){return Ji(l.getMinutes(),c.length)},s(l,c){return Ji(l.getSeconds(),c.length)},S(l,c){const s=c.length,o=l.getMilliseconds(),h=Math.trunc(o*Math.pow(10,s-3));return Ji(h,c.length)}},np={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qI={G:function(l,c,s){const o=l.getFullYear()>0?1:0;switch(c){case"G":case"GG":case"GGG":return s.era(o,{width:"abbreviated"});case"GGGGG":return s.era(o,{width:"narrow"});case"GGGG":default:return s.era(o,{width:"wide"})}},y:function(l,c,s){if(c==="yo"){const o=l.getFullYear(),h=o>0?o:1-o;return s.ordinalNumber(h,{unit:"year"})}return mh.y(l,c)},Y:function(l,c,s,o){const h=o1(l,o),g=h>0?h:1-h;if(c==="YY"){const _=g%100;return Ji(_,2)}return c==="Yo"?s.ordinalNumber(g,{unit:"year"}):Ji(g,c.length)},R:function(l,c){const s=pL(l);return Ji(s,c.length)},u:function(l,c){const s=l.getFullYear();return Ji(s,c.length)},Q:function(l,c,s){const o=Math.ceil((l.getMonth()+1)/3);switch(c){case"Q":return String(o);case"QQ":return Ji(o,2);case"Qo":return s.ordinalNumber(o,{unit:"quarter"});case"QQQ":return s.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(o,{width:"wide",context:"formatting"})}},q:function(l,c,s){const o=Math.ceil((l.getMonth()+1)/3);switch(c){case"q":return String(o);case"qq":return Ji(o,2);case"qo":return s.ordinalNumber(o,{unit:"quarter"});case"qqq":return s.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(o,{width:"wide",context:"standalone"})}},M:function(l,c,s){const o=l.getMonth();switch(c){case"M":case"MM":return mh.M(l,c);case"Mo":return s.ordinalNumber(o+1,{unit:"month"});case"MMM":return s.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(o,{width:"wide",context:"formatting"})}},L:function(l,c,s){const o=l.getMonth();switch(c){case"L":return String(o+1);case"LL":return Ji(o+1,2);case"Lo":return s.ordinalNumber(o+1,{unit:"month"});case"LLL":return s.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(o,{width:"wide",context:"standalone"})}},w:function(l,c,s,o){const h=wL(l,o);return c==="wo"?s.ordinalNumber(h,{unit:"week"}):Ji(h,c.length)},I:function(l,c,s){const o=s1(l);return c==="Io"?s.ordinalNumber(o,{unit:"week"}):Ji(o,c.length)},d:function(l,c,s){return c==="do"?s.ordinalNumber(l.getDate(),{unit:"date"}):mh.d(l,c)},D:function(l,c,s){const o=eG(l);return c==="Do"?s.ordinalNumber(o,{unit:"dayOfYear"}):Ji(o,c.length)},E:function(l,c,s){const o=l.getDay();switch(c){case"E":case"EE":case"EEE":return s.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(o,{width:"short",context:"formatting"});case"EEEE":default:return s.day(o,{width:"wide",context:"formatting"})}},e:function(l,c,s,o){const h=l.getDay(),g=(h-o.weekStartsOn+8)%7||7;switch(c){case"e":return String(g);case"ee":return Ji(g,2);case"eo":return s.ordinalNumber(g,{unit:"day"});case"eee":return s.day(h,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(h,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(h,{width:"short",context:"formatting"});case"eeee":default:return s.day(h,{width:"wide",context:"formatting"})}},c:function(l,c,s,o){const h=l.getDay(),g=(h-o.weekStartsOn+8)%7||7;switch(c){case"c":return String(g);case"cc":return Ji(g,c.length);case"co":return s.ordinalNumber(g,{unit:"day"});case"ccc":return s.day(h,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(h,{width:"narrow",context:"standalone"});case"cccccc":return s.day(h,{width:"short",context:"standalone"});case"cccc":default:return s.day(h,{width:"wide",context:"standalone"})}},i:function(l,c,s){const o=l.getDay(),h=o===0?7:o;switch(c){case"i":return String(h);case"ii":return Ji(h,c.length);case"io":return s.ordinalNumber(h,{unit:"day"});case"iii":return s.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(o,{width:"short",context:"formatting"});case"iiii":default:return s.day(o,{width:"wide",context:"formatting"})}},a:function(l,c,s){const h=l.getHours()/12>=1?"pm":"am";switch(c){case"a":case"aa":return s.dayPeriod(h,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(h,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(h,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(h,{width:"wide",context:"formatting"})}},b:function(l,c,s){const o=l.getHours();let h;switch(o===12?h=np.noon:o===0?h=np.midnight:h=o/12>=1?"pm":"am",c){case"b":case"bb":return s.dayPeriod(h,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(h,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(h,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(h,{width:"wide",context:"formatting"})}},B:function(l,c,s){const o=l.getHours();let h;switch(o>=17?h=np.evening:o>=12?h=np.afternoon:o>=4?h=np.morning:h=np.night,c){case"B":case"BB":case"BBB":return s.dayPeriod(h,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(h,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(h,{width:"wide",context:"formatting"})}},h:function(l,c,s){if(c==="ho"){let o=l.getHours()%12;return o===0&&(o=12),s.ordinalNumber(o,{unit:"hour"})}return mh.h(l,c)},H:function(l,c,s){return c==="Ho"?s.ordinalNumber(l.getHours(),{unit:"hour"}):mh.H(l,c)},K:function(l,c,s){const o=l.getHours()%12;return c==="Ko"?s.ordinalNumber(o,{unit:"hour"}):Ji(o,c.length)},k:function(l,c,s){let o=l.getHours();return o===0&&(o=24),c==="ko"?s.ordinalNumber(o,{unit:"hour"}):Ji(o,c.length)},m:function(l,c,s){return c==="mo"?s.ordinalNumber(l.getMinutes(),{unit:"minute"}):mh.m(l,c)},s:function(l,c,s){return c==="so"?s.ordinalNumber(l.getSeconds(),{unit:"second"}):mh.s(l,c)},S:function(l,c){return mh.S(l,c)},X:function(l,c,s){const o=l.getTimezoneOffset();if(o===0)return"Z";switch(c){case"X":return YI(o);case"XXXX":case"XX":return xm(o);case"XXXXX":case"XXX":default:return xm(o,":")}},x:function(l,c,s){const o=l.getTimezoneOffset();switch(c){case"x":return YI(o);case"xxxx":case"xx":return xm(o);case"xxxxx":case"xxx":default:return xm(o,":")}},O:function(l,c,s){const o=l.getTimezoneOffset();switch(c){case"O":case"OO":case"OOO":return"GMT"+WI(o,":");case"OOOO":default:return"GMT"+xm(o,":")}},z:function(l,c,s){const o=l.getTimezoneOffset();switch(c){case"z":case"zz":case"zzz":return"GMT"+WI(o,":");case"zzzz":default:return"GMT"+xm(o,":")}},t:function(l,c,s){const o=Math.trunc(+l/1e3);return Ji(o,c.length)},T:function(l,c,s){return Ji(+l,c.length)}};function WI(l,c=""){const s=l>0?"-":"+",o=Math.abs(l),h=Math.trunc(o/60),g=o%60;return g===0?s+String(h):s+String(h)+c+Ji(g,2)}function YI(l,c){return l%60===0?(l>0?"-":"+")+Ji(Math.abs(l)/60,2):xm(l,c)}function xm(l,c=""){const s=l>0?"-":"+",o=Math.abs(l),h=Ji(Math.trunc(o/60),2),g=Ji(o%60,2);return s+h+c+g}const GI=(l,c)=>{switch(l){case"P":return c.date({width:"short"});case"PP":return c.date({width:"medium"});case"PPP":return c.date({width:"long"});case"PPPP":default:return c.date({width:"full"})}},yL=(l,c)=>{switch(l){case"p":return c.time({width:"short"});case"pp":return c.time({width:"medium"});case"ppp":return c.time({width:"long"});case"pppp":default:return c.time({width:"full"})}},nG=(l,c)=>{const s=l.match(/(P+)(p+)?/)||[],o=s[1],h=s[2];if(!h)return GI(l,c);let g;switch(o){case"P":g=c.dateTime({width:"short"});break;case"PP":g=c.dateTime({width:"medium"});break;case"PPP":g=c.dateTime({width:"long"});break;case"PPPP":default:g=c.dateTime({width:"full"});break}return g.replace("{{date}}",GI(o,c)).replace("{{time}}",yL(h,c))},vA={p:yL,P:nG},iG=/^D+$/,rG=/^Y+$/,sG=["D","DD","YY","YYYY"];function oG(l){return iG.test(l)}function aG(l){return rG.test(l)}function lG(l,c,s){const o=cG(l,c,s);if(console.warn(o),sG.includes(l))throw new RangeError(o)}function cG(l,c,s){const o=l[0]==="Y"?"years":"days of the month";return`Use \`${l.toLowerCase()}\` instead of \`${l}\` (in \`${c}\`) for formatting ${o} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hG=/^'([^]*?)'?$/,mG=/''/g,fG=/[a-zA-Z]/;function KI(l,c,s){var S,D,j,B,F,H,$,K;const o=$m(),h=(s==null?void 0:s.locale)??o.locale??vL,g=(s==null?void 0:s.firstWeekContainsDate)??((D=(S=s==null?void 0:s.locale)==null?void 0:S.options)==null?void 0:D.firstWeekContainsDate)??o.firstWeekContainsDate??((B=(j=o.locale)==null?void 0:j.options)==null?void 0:B.firstWeekContainsDate)??1,_=(s==null?void 0:s.weekStartsOn)??((H=(F=s==null?void 0:s.locale)==null?void 0:F.options)==null?void 0:H.weekStartsOn)??o.weekStartsOn??((K=($=o.locale)==null?void 0:$.options)==null?void 0:K.weekStartsOn)??0,y=ln(l,s==null?void 0:s.in);if(!Nv(y))throw new RangeError("Invalid time value");let v=c.match(uG).map(Q=>{const ee=Q[0];if(ee==="p"||ee==="P"){const ne=vA[ee];return ne(Q,h.formatLong)}return Q}).join("").match(dG).map(Q=>{if(Q==="''")return{isToken:!1,value:"'"};const ee=Q[0];if(ee==="'")return{isToken:!1,value:pG(Q)};if(qI[ee])return{isToken:!0,value:Q};if(ee.match(fG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ee+"`");return{isToken:!1,value:Q}});h.localize.preprocessor&&(v=h.localize.preprocessor(y,v));const N={firstWeekContainsDate:g,weekStartsOn:_,locale:h};return v.map(Q=>{if(!Q.isToken)return Q.value;const ee=Q.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&aG(ee)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&oG(ee))&&lG(ee,c,String(l));const ne=qI[ee[0]];return ne(y,ee,h.localize,N)}).join("")}function pG(l){const c=l.match(hG);return c?c[1].replace(mG,"'"):l}function QI(l,c){return ln(l,c==null?void 0:c.in).getDate()}function gG(l,c){return ln(l,c==null?void 0:c.in).getDay()}function bG(l,c){const s=ln(l,c==null?void 0:c.in),o=s.getFullYear(),h=s.getMonth(),g=er(s,0);return g.setFullYear(o,h+1,0),g.setHours(0,0,0,0),g.getDate()}function kG(){return Object.assign({},$m())}function pu(l,c){return ln(l,c==null?void 0:c.in).getHours()}function _G(l,c){const s=ln(l,c==null?void 0:c.in).getDay();return s===0?7:s}function gu(l,c){return ln(l,c==null?void 0:c.in).getMinutes()}function Ko(l,c){return ln(l,c==null?void 0:c.in).getMonth()}function kh(l){return ln(l).getSeconds()}function wA(l){return+ln(l)}function ai(l,c){return ln(l,c==null?void 0:c.in).getFullYear()}function vh(l,c){return+ln(l)>+ln(c)}function zm(l,c){return+ln(l)<+ln(c)}function vG(l,c){return+ln(l)==+ln(c)}function wG(l,c){const s=yG(c)?new c(0):er(c,0);return s.setFullYear(l.getFullYear(),l.getMonth(),l.getDate()),s.setHours(l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()),s}function yG(l){var c;return typeof l=="function"&&((c=l.prototype)==null?void 0:c.constructor)===l}const xG=10;class xL{constructor(){tn(this,"subPriority",0)}validate(c,s){return!0}}class CG extends xL{constructor(c,s,o,h,g){super(),this.value=c,this.validateValue=s,this.setValue=o,this.priority=h,g&&(this.subPriority=g)}validate(c,s){return this.validateValue(c,this.value,s)}set(c,s,o){return this.setValue(c,s,this.value,o)}}class AG extends xL{constructor(s,o){super();tn(this,"priority",xG);tn(this,"subPriority",-1);this.context=s||(h=>er(o,h))}set(s,o){return o.timestampIsSet?s:er(s,wG(s,this.context))}}class zi{run(c,s,o,h){const g=this.parse(c,s,o,h);return g?{setter:new CG(g.value,this.validate,this.set,this.priority,this.subPriority),rest:g.rest}:null}validate(c,s,o){return!0}}class NG extends zi{constructor(){super(...arguments);tn(this,"priority",140);tn(this,"incompatibleTokens",["R","u","t","T"])}parse(s,o,h){switch(o){case"G":case"GG":case"GGG":return h.era(s,{width:"abbreviated"})||h.era(s,{width:"narrow"});case"GGGGG":return h.era(s,{width:"narrow"});case"GGGG":default:return h.era(s,{width:"wide"})||h.era(s,{width:"abbreviated"})||h.era(s,{width:"narrow"})}}set(s,o,h){return o.era=h,s.setFullYear(h,0,1),s.setHours(0,0,0,0),s}}const os={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},fd={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function as(l,c){return l&&{value:c(l.value),rest:l.rest}}function Or(l,c){const s=c.match(l);return s?{value:parseInt(s[0],10),rest:c.slice(s[0].length)}:null}function pd(l,c){const s=c.match(l);if(!s)return null;if(s[0]==="Z")return{value:0,rest:c.slice(1)};const o=s[1]==="+"?1:-1,h=s[2]?parseInt(s[2],10):0,g=s[3]?parseInt(s[3],10):0,_=s[5]?parseInt(s[5],10):0;return{value:o*(h*fw+g*mw+_*fY),rest:c.slice(s[0].length)}}function CL(l){return Or(os.anyDigitsSigned,l)}function qr(l,c){switch(l){case 1:return Or(os.singleDigit,c);case 2:return Or(os.twoDigits,c);case 3:return Or(os.threeDigits,c);case 4:return Or(os.fourDigits,c);default:return Or(new RegExp("^\\d{1,"+l+"}"),c)}}function Dv(l,c){switch(l){case 1:return Or(os.singleDigitSigned,c);case 2:return Or(os.twoDigitsSigned,c);case 3:return Or(os.threeDigitsSigned,c);case 4:return Or(os.fourDigitsSigned,c);default:return Or(new RegExp("^-?\\d{1,"+l+"}"),c)}}function a1(l){switch(l){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function AL(l,c){const s=c>0,o=s?c:1-c;let h;if(o<=50)h=l||100;else{const g=o+50,_=Math.trunc(g/100)*100,y=l>=g%100;h=l+_-(y?100:0)}return s?h:1-h}function NL(l){return l%400===0||l%4===0&&l%100!==0}class EG extends zi{constructor(){super(...arguments);tn(this,"priority",130);tn(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(s,o,h){const g=_=>({year:_,isTwoDigitYear:o==="yy"});switch(o){case"y":return as(qr(4,s),g);case"yo":return as(h.ordinalNumber(s,{unit:"year"}),g);default:return as(qr(o.length,s),g)}}validate(s,o){return o.isTwoDigitYear||o.year>0}set(s,o,h){const g=s.getFullYear();if(h.isTwoDigitYear){const y=AL(h.year,g);return s.setFullYear(y,0,1),s.setHours(0,0,0,0),s}const _=!("era"in o)||o.era===1?h.year:1-h.year;return s.setFullYear(_,0,1),s.setHours(0,0,0,0),s}}class SG extends zi{constructor(){super(...arguments);tn(this,"priority",130);tn(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(s,o,h){const g=_=>({year:_,isTwoDigitYear:o==="YY"});switch(o){case"Y":return as(qr(4,s),g);case"Yo":return as(h.ordinalNumber(s,{unit:"year"}),g);default:return as(qr(o.length,s),g)}}validate(s,o){return o.isTwoDigitYear||o.year>0}set(s,o,h,g){const _=o1(s,g);if(h.isTwoDigitYear){const v=AL(h.year,_);return s.setFullYear(v,0,g.firstWeekContainsDate),s.setHours(0,0,0,0),vu(s,g)}const y=!("era"in o)||o.era===1?h.year:1-h.year;return s.setFullYear(y,0,g.firstWeekContainsDate),s.setHours(0,0,0,0),vu(s,g)}}class jG extends zi{constructor(){super(...arguments);tn(this,"priority",130);tn(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(s,o){return Dv(o==="R"?4:o.length,s)}set(s,o,h){const g=er(s,0);return g.setFullYear(h,0,4),g.setHours(0,0,0,0),cp(g)}}class DG extends zi{constructor(){super(...arguments);tn(this,"priority",130);tn(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(s,o){return Dv(o==="u"?4:o.length,s)}set(s,o,h){return s.setFullYear(h,0,1),s.setHours(0,0,0,0),s}}class TG extends zi{constructor(){super(...arguments);tn(this,"priority",120);tn(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(s,o,h){switch(o){case"Q":case"QQ":return qr(o.length,s);case"Qo":return h.ordinalNumber(s,{unit:"quarter"});case"QQQ":return h.quarter(s,{width:"abbreviated",context:"formatting"})||h.quarter(s,{width:"narrow",context:"formatting"});case"QQQQQ":return h.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return h.quarter(s,{width:"wide",context:"formatting"})||h.quarter(s,{width:"abbreviated",context:"formatting"})||h.quarter(s,{width:"narrow",context:"formatting"})}}validate(s,o){return o>=1&&o<=4}set(s,o,h){return s.setMonth((h-1)*3,1),s.setHours(0,0,0,0),s}}class MG extends zi{constructor(){super(...arguments);tn(this,"priority",120);tn(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(s,o,h){switch(o){case"q":case"qq":return qr(o.length,s);case"qo":return h.ordinalNumber(s,{unit:"quarter"});case"qqq":return h.quarter(s,{width:"abbreviated",context:"standalone"})||h.quarter(s,{width:"narrow",context:"standalone"});case"qqqqq":return h.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return h.quarter(s,{width:"wide",context:"standalone"})||h.quarter(s,{width:"abbreviated",context:"standalone"})||h.quarter(s,{width:"narrow",context:"standalone"})}}validate(s,o){return o>=1&&o<=4}set(s,o,h){return s.setMonth((h-1)*3,1),s.setHours(0,0,0,0),s}}class IG extends zi{constructor(){super(...arguments);tn(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);tn(this,"priority",110)}parse(s,o,h){const g=_=>_-1;switch(o){case"M":return as(Or(os.month,s),g);case"MM":return as(qr(2,s),g);case"Mo":return as(h.ordinalNumber(s,{unit:"month"}),g);case"MMM":return h.month(s,{width:"abbreviated",context:"formatting"})||h.month(s,{width:"narrow",context:"formatting"});case"MMMMM":return h.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return h.month(s,{width:"wide",context:"formatting"})||h.month(s,{width:"abbreviated",context:"formatting"})||h.month(s,{width:"narrow",context:"formatting"})}}validate(s,o){return o>=0&&o<=11}set(s,o,h){return s.setMonth(h,1),s.setHours(0,0,0,0),s}}class OG extends zi{constructor(){super(...arguments);tn(this,"priority",110);tn(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(s,o,h){const g=_=>_-1;switch(o){case"L":return as(Or(os.month,s),g);case"LL":return as(qr(2,s),g);case"Lo":return as(h.ordinalNumber(s,{unit:"month"}),g);case"LLL":return h.month(s,{width:"abbreviated",context:"standalone"})||h.month(s,{width:"narrow",context:"standalone"});case"LLLLL":return h.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return h.month(s,{width:"wide",context:"standalone"})||h.month(s,{width:"abbreviated",context:"standalone"})||h.month(s,{width:"narrow",context:"standalone"})}}validate(s,o){return o>=0&&o<=11}set(s,o,h){return s.setMonth(h,1),s.setHours(0,0,0,0),s}}function LG(l,c,s){const o=ln(l,s==null?void 0:s.in),h=wL(o,s)-c;return o.setDate(o.getDate()-h*7),ln(o,s==null?void 0:s.in)}class BG extends zi{constructor(){super(...arguments);tn(this,"priority",100);tn(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(s,o,h){switch(o){case"w":return Or(os.week,s);case"wo":return h.ordinalNumber(s,{unit:"week"});default:return qr(o.length,s)}}validate(s,o){return o>=1&&o<=53}set(s,o,h,g){return vu(LG(s,h,g),g)}}function RG(l,c,s){const o=ln(l,s==null?void 0:s.in),h=s1(o,s)-c;return o.setDate(o.getDate()-h*7),o}class PG extends zi{constructor(){super(...arguments);tn(this,"priority",100);tn(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(s,o,h){switch(o){case"I":return Or(os.week,s);case"Io":return h.ordinalNumber(s,{unit:"week"});default:return qr(o.length,s)}}validate(s,o){return o>=1&&o<=53}set(s,o,h){return cp(RG(s,h))}}const zG=[31,28,31,30,31,30,31,31,30,31,30,31],FG=[31,29,31,30,31,30,31,31,30,31,30,31];class VG extends zi{constructor(){super(...arguments);tn(this,"priority",90);tn(this,"subPriority",1);tn(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(s,o,h){switch(o){case"d":return Or(os.date,s);case"do":return h.ordinalNumber(s,{unit:"date"});default:return qr(o.length,s)}}validate(s,o){const h=s.getFullYear(),g=NL(h),_=s.getMonth();return g?o>=1&&o<=FG[_]:o>=1&&o<=zG[_]}set(s,o,h){return s.setDate(h),s.setHours(0,0,0,0),s}}class HG extends zi{constructor(){super(...arguments);tn(this,"priority",90);tn(this,"subpriority",1);tn(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(s,o,h){switch(o){case"D":case"DD":return Or(os.dayOfYear,s);case"Do":return h.ordinalNumber(s,{unit:"date"});default:return qr(o.length,s)}}validate(s,o){const h=s.getFullYear();return NL(h)?o>=1&&o<=366:o>=1&&o<=365}set(s,o,h){return s.setMonth(0,h),s.setHours(0,0,0,0),s}}function l1(l,c,s){var D,j,B,F;const o=$m(),h=(s==null?void 0:s.weekStartsOn)??((j=(D=s==null?void 0:s.locale)==null?void 0:D.options)==null?void 0:j.weekStartsOn)??o.weekStartsOn??((F=(B=o.locale)==null?void 0:B.options)==null?void 0:F.weekStartsOn)??0,g=ln(l,s==null?void 0:s.in),_=g.getDay(),v=(c%7+7)%7,N=7-h,S=c<0||c>6?c-(_+N)%7:(v+N)%7-(_+N)%7;return vc(g,S,s)}class UG extends zi{constructor(){super(...arguments);tn(this,"priority",90);tn(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(s,o,h){switch(o){case"E":case"EE":case"EEE":return h.day(s,{width:"abbreviated",context:"formatting"})||h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"});case"EEEEE":return h.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"});case"EEEE":default:return h.day(s,{width:"wide",context:"formatting"})||h.day(s,{width:"abbreviated",context:"formatting"})||h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"})}}validate(s,o){return o>=0&&o<=6}set(s,o,h,g){return s=l1(s,h,g),s.setHours(0,0,0,0),s}}class $G extends zi{constructor(){super(...arguments);tn(this,"priority",90);tn(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(s,o,h,g){const _=y=>{const v=Math.floor((y-1)/7)*7;return(y+g.weekStartsOn+6)%7+v};switch(o){case"e":case"ee":return as(qr(o.length,s),_);case"eo":return as(h.ordinalNumber(s,{unit:"day"}),_);case"eee":return h.day(s,{width:"abbreviated",context:"formatting"})||h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"});case"eeeee":return h.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"});case"eeee":default:return h.day(s,{width:"wide",context:"formatting"})||h.day(s,{width:"abbreviated",context:"formatting"})||h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"})}}validate(s,o){return o>=0&&o<=6}set(s,o,h,g){return s=l1(s,h,g),s.setHours(0,0,0,0),s}}class qG extends zi{constructor(){super(...arguments);tn(this,"priority",90);tn(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(s,o,h,g){const _=y=>{const v=Math.floor((y-1)/7)*7;return(y+g.weekStartsOn+6)%7+v};switch(o){case"c":case"cc":return as(qr(o.length,s),_);case"co":return as(h.ordinalNumber(s,{unit:"day"}),_);case"ccc":return h.day(s,{width:"abbreviated",context:"standalone"})||h.day(s,{width:"short",context:"standalone"})||h.day(s,{width:"narrow",context:"standalone"});case"ccccc":return h.day(s,{width:"narrow",context:"standalone"});case"cccccc":return h.day(s,{width:"short",context:"standalone"})||h.day(s,{width:"narrow",context:"standalone"});case"cccc":default:return h.day(s,{width:"wide",context:"standalone"})||h.day(s,{width:"abbreviated",context:"standalone"})||h.day(s,{width:"short",context:"standalone"})||h.day(s,{width:"narrow",context:"standalone"})}}validate(s,o){return o>=0&&o<=6}set(s,o,h,g){return s=l1(s,h,g),s.setHours(0,0,0,0),s}}function WG(l,c,s){const o=ln(l,s==null?void 0:s.in),h=_G(o,s),g=c-h;return vc(o,g,s)}class YG extends zi{constructor(){super(...arguments);tn(this,"priority",90);tn(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(s,o,h){const g=_=>_===0?7:_;switch(o){case"i":case"ii":return qr(o.length,s);case"io":return h.ordinalNumber(s,{unit:"day"});case"iii":return as(h.day(s,{width:"abbreviated",context:"formatting"})||h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"}),g);case"iiiii":return as(h.day(s,{width:"narrow",context:"formatting"}),g);case"iiiiii":return as(h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"}),g);case"iiii":default:return as(h.day(s,{width:"wide",context:"formatting"})||h.day(s,{width:"abbreviated",context:"formatting"})||h.day(s,{width:"short",context:"formatting"})||h.day(s,{width:"narrow",context:"formatting"}),g)}}validate(s,o){return o>=1&&o<=7}set(s,o,h){return s=WG(s,h),s.setHours(0,0,0,0),s}}class GG extends zi{constructor(){super(...arguments);tn(this,"priority",80);tn(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(s,o,h){switch(o){case"a":case"aa":case"aaa":return h.dayPeriod(s,{width:"abbreviated",context:"formatting"})||h.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaaa":return h.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return h.dayPeriod(s,{width:"wide",context:"formatting"})||h.dayPeriod(s,{width:"abbreviated",context:"formatting"})||h.dayPeriod(s,{width:"narrow",context:"formatting"})}}set(s,o,h){return s.setHours(a1(h),0,0,0),s}}class KG extends zi{constructor(){super(...arguments);tn(this,"priority",80);tn(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(s,o,h){switch(o){case"b":case"bb":case"bbb":return h.dayPeriod(s,{width:"abbreviated",context:"formatting"})||h.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbbb":return h.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return h.dayPeriod(s,{width:"wide",context:"formatting"})||h.dayPeriod(s,{width:"abbreviated",context:"formatting"})||h.dayPeriod(s,{width:"narrow",context:"formatting"})}}set(s,o,h){return s.setHours(a1(h),0,0,0),s}}class QG extends zi{constructor(){super(...arguments);tn(this,"priority",80);tn(this,"incompatibleTokens",["a","b","t","T"])}parse(s,o,h){switch(o){case"B":case"BB":case"BBB":return h.dayPeriod(s,{width:"abbreviated",context:"formatting"})||h.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBBB":return h.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return h.dayPeriod(s,{width:"wide",context:"formatting"})||h.dayPeriod(s,{width:"abbreviated",context:"formatting"})||h.dayPeriod(s,{width:"narrow",context:"formatting"})}}set(s,o,h){return s.setHours(a1(h),0,0,0),s}}class ZG extends zi{constructor(){super(...arguments);tn(this,"priority",70);tn(this,"incompatibleTokens",["H","K","k","t","T"])}parse(s,o,h){switch(o){case"h":return Or(os.hour12h,s);case"ho":return h.ordinalNumber(s,{unit:"hour"});default:return qr(o.length,s)}}validate(s,o){return o>=1&&o<=12}set(s,o,h){const g=s.getHours()>=12;return g&&h<12?s.setHours(h+12,0,0,0):!g&&h===12?s.setHours(0,0,0,0):s.setHours(h,0,0,0),s}}class XG extends zi{constructor(){super(...arguments);tn(this,"priority",70);tn(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(s,o,h){switch(o){case"H":return Or(os.hour23h,s);case"Ho":return h.ordinalNumber(s,{unit:"hour"});default:return qr(o.length,s)}}validate(s,o){return o>=0&&o<=23}set(s,o,h){return s.setHours(h,0,0,0),s}}class JG extends zi{constructor(){super(...arguments);tn(this,"priority",70);tn(this,"incompatibleTokens",["h","H","k","t","T"])}parse(s,o,h){switch(o){case"K":return Or(os.hour11h,s);case"Ko":return h.ordinalNumber(s,{unit:"hour"});default:return qr(o.length,s)}}validate(s,o){return o>=0&&o<=11}set(s,o,h){return s.getHours()>=12&&h<12?s.setHours(h+12,0,0,0):s.setHours(h,0,0,0),s}}class eK extends zi{constructor(){super(...arguments);tn(this,"priority",70);tn(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(s,o,h){switch(o){case"k":return Or(os.hour24h,s);case"ko":return h.ordinalNumber(s,{unit:"hour"});default:return qr(o.length,s)}}validate(s,o){return o>=1&&o<=24}set(s,o,h){const g=h<=24?h%24:h;return s.setHours(g,0,0,0),s}}class tK extends zi{constructor(){super(...arguments);tn(this,"priority",60);tn(this,"incompatibleTokens",["t","T"])}parse(s,o,h){switch(o){case"m":return Or(os.minute,s);case"mo":return h.ordinalNumber(s,{unit:"minute"});default:return qr(o.length,s)}}validate(s,o){return o>=0&&o<=59}set(s,o,h){return s.setMinutes(h,0,0),s}}class nK extends zi{constructor(){super(...arguments);tn(this,"priority",50);tn(this,"incompatibleTokens",["t","T"])}parse(s,o,h){switch(o){case"s":return Or(os.second,s);case"so":return h.ordinalNumber(s,{unit:"second"});default:return qr(o.length,s)}}validate(s,o){return o>=0&&o<=59}set(s,o,h){return s.setSeconds(h,0),s}}class iK extends zi{constructor(){super(...arguments);tn(this,"priority",30);tn(this,"incompatibleTokens",["t","T"])}parse(s,o){const h=g=>Math.trunc(g*Math.pow(10,-o.length+3));return as(qr(o.length,s),h)}set(s,o,h){return s.setMilliseconds(h),s}}class rK extends zi{constructor(){super(...arguments);tn(this,"priority",10);tn(this,"incompatibleTokens",["t","T","x"])}parse(s,o){switch(o){case"X":return pd(fd.basicOptionalMinutes,s);case"XX":return pd(fd.basic,s);case"XXXX":return pd(fd.basicOptionalSeconds,s);case"XXXXX":return pd(fd.extendedOptionalSeconds,s);case"XXX":default:return pd(fd.extended,s)}}set(s,o,h){return o.timestampIsSet?s:er(s,s.getTime()-Cv(s)-h)}}class sK extends zi{constructor(){super(...arguments);tn(this,"priority",10);tn(this,"incompatibleTokens",["t","T","X"])}parse(s,o){switch(o){case"x":return pd(fd.basicOptionalMinutes,s);case"xx":return pd(fd.basic,s);case"xxxx":return pd(fd.basicOptionalSeconds,s);case"xxxxx":return pd(fd.extendedOptionalSeconds,s);case"xxx":default:return pd(fd.extended,s)}}set(s,o,h){return o.timestampIsSet?s:er(s,s.getTime()-Cv(s)-h)}}class oK extends zi{constructor(){super(...arguments);tn(this,"priority",40);tn(this,"incompatibleTokens","*")}parse(s){return CL(s)}set(s,o,h){return[er(s,h*1e3),{timestampIsSet:!0}]}}class aK extends zi{constructor(){super(...arguments);tn(this,"priority",20);tn(this,"incompatibleTokens","*")}parse(s){return CL(s)}set(s,o,h){return[er(s,h),{timestampIsSet:!0}]}}const lK={G:new NG,y:new EG,Y:new SG,R:new jG,u:new DG,Q:new TG,q:new MG,M:new IG,L:new OG,w:new BG,I:new PG,d:new VG,D:new HG,E:new UG,e:new $G,c:new qG,i:new YG,a:new GG,b:new KG,B:new QG,h:new ZG,H:new XG,K:new JG,k:new eK,m:new tK,s:new nK,S:new iK,X:new rK,x:new sK,t:new oK,T:new aK},cK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uK=/^'([^]*?)'?$/,hK=/''/g,mK=/\S/,fK=/[a-zA-Z]/;function pK(l,c,s,o){var $,K,Q,ee,ne,le,se,q;const h=()=>er((o==null?void 0:o.in)||s,NaN),g=kG(),_=(o==null?void 0:o.locale)??g.locale??vL,y=(o==null?void 0:o.firstWeekContainsDate)??((K=($=o==null?void 0:o.locale)==null?void 0:$.options)==null?void 0:K.firstWeekContainsDate)??g.firstWeekContainsDate??((ee=(Q=g.locale)==null?void 0:Q.options)==null?void 0:ee.firstWeekContainsDate)??1,v=(o==null?void 0:o.weekStartsOn)??((le=(ne=o==null?void 0:o.locale)==null?void 0:ne.options)==null?void 0:le.weekStartsOn)??g.weekStartsOn??((q=(se=g.locale)==null?void 0:se.options)==null?void 0:q.weekStartsOn)??0;if(!c)return l?h():ln(s,o==null?void 0:o.in);const N={firstWeekContainsDate:y,weekStartsOn:v,locale:_},S=[new AG(o==null?void 0:o.in,s)],D=c.match(dK).map(de=>{const re=de[0];if(re in vA){const be=vA[re];return be(de,_.formatLong)}return de}).join("").match(cK),j=[];for(let de of D){const re=de[0],be=lK[re];if(be){const{incompatibleTokens:ke}=be;if(Array.isArray(ke)){const De=j.find(_e=>ke.includes(_e.token)||_e.token===re);if(De)throw new RangeError(`The format string mustn't contain \`${De.fullToken}\` and \`${de}\` at the same time`)}else if(be.incompatibleTokens==="*"&&j.length>0)throw new RangeError(`The format string mustn't contain \`${de}\` and any other token at the same time`);j.push({token:re,fullToken:de});const Ne=be.run(l,de,_.match,N);if(!Ne)return h();S.push(Ne.setter),l=Ne.rest}else{if(re.match(fK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+re+"`");if(de==="''"?de="'":re==="'"&&(de=gK(de)),l.indexOf(de)===0)l=l.slice(de.length);else return h()}}if(l.length>0&&mK.test(l))return h();const B=S.map(de=>de.priority).sort((de,re)=>re-de).filter((de,re,be)=>be.indexOf(de)===re).map(de=>S.filter(re=>re.priority===de).sort((re,be)=>be.subPriority-re.subPriority)).map(de=>de[0]);let F=ln(s,o==null?void 0:o.in);if(isNaN(+F))return h();const H={};for(const de of B){if(!de.validate(F,N))return h();const re=de.set(F,H,N);Array.isArray(re)?(F=re[0],Object.assign(H,re[1])):F=re}return F}function gK(l){return l.match(uK)[1].replace(hK,"'")}function bK(l,c,s){const[o,h]=Cu(s==null?void 0:s.in,l,c);return o.getFullYear()===h.getFullYear()&&o.getMonth()===h.getMonth()}function kK(l,c,s){const[o,h]=Cu(s==null?void 0:s.in,l,c);return+_A(o)==+_A(h)}function _K(l,c,s){const[o,h]=Cu(s==null?void 0:s.in,l,c);return o.getFullYear()===h.getFullYear()}function kb(l,c,s){const o=+ln(l,s==null?void 0:s.in),[h,g]=[+ln(c.start,s==null?void 0:s.in),+ln(c.end,s==null?void 0:s.in)].sort((_,y)=>_-y);return o>=h&&o<=g}function vK(l,c,s){return vc(l,-1,s)}function wK(l,c){const s=()=>er(c==null?void 0:c.in,NaN),h=AK(l);let g;if(h.date){const N=NK(h.date,2);g=EK(N.restDateString,N.year)}if(!g||isNaN(+g))return s();const _=+g;let y=0,v;if(h.time&&(y=SK(h.time),isNaN(y)))return s();if(h.timezone){if(v=jK(h.timezone),isNaN(v))return s()}else{const N=new Date(_+y),S=ln(0,c==null?void 0:c.in);return S.setFullYear(N.getUTCFullYear(),N.getUTCMonth(),N.getUTCDate()),S.setHours(N.getUTCHours(),N.getUTCMinutes(),N.getUTCSeconds(),N.getUTCMilliseconds()),S}return ln(_+y+v,c==null?void 0:c.in)}const q_={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},yK=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,xK=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,CK=/^([+-])(\d{2})(?::?(\d{2}))?$/;function AK(l){const c={},s=l.split(q_.dateTimeDelimiter);let o;if(s.length>2)return c;if(/:/.test(s[0])?o=s[0]:(c.date=s[0],o=s[1],q_.timeZoneDelimiter.test(c.date)&&(c.date=l.split(q_.timeZoneDelimiter)[0],o=l.substr(c.date.length,l.length))),o){const h=q_.timezone.exec(o);h?(c.time=o.replace(h[1],""),c.timezone=h[1]):c.time=o}return c}function NK(l,c){const s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+c)+"})|(\\d{2}|[+-]\\d{"+(2+c)+"})$)"),o=l.match(s);if(!o)return{year:NaN,restDateString:""};const h=o[1]?parseInt(o[1]):null,g=o[2]?parseInt(o[2]):null;return{year:g===null?h:g*100,restDateString:l.slice((o[1]||o[2]).length)}}function EK(l,c){if(c===null)return new Date(NaN);const s=l.match(yK);if(!s)return new Date(NaN);const o=!!s[4],h=Xg(s[1]),g=Xg(s[2])-1,_=Xg(s[3]),y=Xg(s[4]),v=Xg(s[5])-1;if(o)return OK(c,y,v)?DK(c,y,v):new Date(NaN);{const N=new Date(0);return!MK(c,g,_)||!IK(c,h)?new Date(NaN):(N.setUTCFullYear(c,g,Math.max(h,_)),N)}}function Xg(l){return l?parseInt(l):1}function SK(l){const c=l.match(xK);if(!c)return NaN;const s=BC(c[1]),o=BC(c[2]),h=BC(c[3]);return LK(s,o,h)?s*fw+o*mw+h*1e3:NaN}function BC(l){return l&&parseFloat(l.replace(",","."))||0}function jK(l){if(l==="Z")return 0;const c=l.match(CK);if(!c)return 0;const s=c[1]==="+"?-1:1,o=parseInt(c[2]),h=c[3]&&parseInt(c[3])||0;return BK(o,h)?s*(o*fw+h*mw):NaN}function DK(l,c,s){const o=new Date(0);o.setUTCFullYear(l,0,4);const h=o.getUTCDay()||7,g=(c-1)*7+s+1-h;return o.setUTCDate(o.getUTCDate()+g),o}const TK=[31,null,31,30,31,30,31,31,30,31,30,31];function EL(l){return l%400===0||l%4===0&&l%100!==0}function MK(l,c,s){return c>=0&&c<=11&&s>=1&&s<=(TK[c]||(EL(l)?29:28))}function IK(l,c){return c>=1&&c<=(EL(l)?366:365)}function OK(l,c,s){return c>=1&&c<=53&&s>=0&&s<=6}function LK(l,c,s){return l===24?c===0&&s===0:s>=0&&s<60&&c>=0&&c<60&&l>=0&&l<25}function BK(l,c){return c>=0&&c<=59}function Pl(l,c,s){const o=ln(l,s==null?void 0:s.in),h=o.getFullYear(),g=o.getDate(),_=er(l,0);_.setFullYear(h,c,15),_.setHours(0,0,0,0);const y=bG(_);return o.setMonth(c,Math.min(g,y)),o}function lv(l,c,s){const o=ln(l,s==null?void 0:s.in);return o.setHours(c),o}function cv(l,c,s){const o=ln(l,s==null?void 0:s.in);return o.setMinutes(c),o}function op(l,c,s){const o=ln(l,s==null?void 0:s.in),h=Math.trunc(o.getMonth()/3)+1,g=c-h;return Pl(o,o.getMonth()+g*3)}function dv(l,c,s){const o=ln(l,s==null?void 0:s.in);return o.setSeconds(c),o}function hd(l,c,s){const o=ln(l,s==null?void 0:s.in);return isNaN(+o)?er(l,NaN):(o.setFullYear(c),o)}function Lm(l,c,s){return wc(l,-c,s)}function SL(l,c,s){return r1(l,-1,s)}function ZI(l,c,s){return Av(l,-1,s)}function up(l,c,s){return mu(l,-c,s)}function gw(){return typeof window<"u"}function yp(l){return jL(l)?(l.nodeName||"").toLowerCase():"#document"}function cl(l){var c;return(l==null||(c=l.ownerDocument)==null?void 0:c.defaultView)||window}function vd(l){var c;return(c=(jL(l)?l.ownerDocument:l.document)||window.document)==null?void 0:c.documentElement}function jL(l){return gw()?l instanceof Node||l instanceof cl(l).Node:!1}function ga(l){return gw()?l instanceof Element||l instanceof cl(l).Element:!1}function _d(l){return gw()?l instanceof HTMLElement||l instanceof cl(l).HTMLElement:!1}function XI(l){return!gw()||typeof ShadowRoot>"u"?!1:l instanceof ShadowRoot||l instanceof cl(l).ShadowRoot}const RK=new Set(["inline","contents"]);function Ib(l){const{overflow:c,overflowX:s,overflowY:o,display:h}=Hl(l);return/auto|scroll|overlay|hidden|clip/.test(c+o+s)&&!RK.has(h)}const PK=new Set(["table","td","th"]);function zK(l){return PK.has(yp(l))}const FK=[":popover-open",":modal"];function bw(l){return FK.some(c=>{try{return l.matches(c)}catch{return!1}})}const VK=["transform","translate","scale","rotate","perspective"],HK=["transform","translate","scale","rotate","perspective","filter"],UK=["paint","layout","strict","content"];function c1(l){const c=d1(),s=ga(l)?Hl(l):l;return VK.some(o=>s[o]?s[o]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!c&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!c&&(s.filter?s.filter!=="none":!1)||HK.some(o=>(s.willChange||"").includes(o))||UK.some(o=>(s.contain||"").includes(o))}function $K(l){let c=wh(l);for(;_d(c)&&!hp(c);){if(c1(c))return c;if(bw(c))return null;c=wh(c)}return null}function d1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const qK=new Set(["html","body","#document"]);function hp(l){return qK.has(yp(l))}function Hl(l){return cl(l).getComputedStyle(l)}function kw(l){return ga(l)?{scrollLeft:l.scrollLeft,scrollTop:l.scrollTop}:{scrollLeft:l.scrollX,scrollTop:l.scrollY}}function wh(l){if(yp(l)==="html")return l;const c=l.assignedSlot||l.parentNode||XI(l)&&l.host||vd(l);return XI(c)?c.host:c}function DL(l){const c=wh(l);return hp(c)?l.ownerDocument?l.ownerDocument.body:l.body:_d(c)&&Ib(c)?c:DL(c)}function _b(l,c,s){var o;c===void 0&&(c=[]),s===void 0&&(s=!0);const h=DL(l),g=h===((o=l.ownerDocument)==null?void 0:o.body),_=cl(h);if(g){const y=yA(_);return c.concat(_,_.visualViewport||[],Ib(h)?h:[],y&&s?_b(y):[])}return c.concat(h,_b(h,[],s))}function yA(l){return l.parent&&Object.getPrototypeOf(l.parent)?l.frameElement:null}const mp=Math.min,Bm=Math.max,Tv=Math.round,W_=Math.floor,kd=l=>({x:l,y:l}),WK={left:"right",right:"left",bottom:"top",top:"bottom"},YK={start:"end",end:"start"};function GK(l,c,s){return Bm(l,mp(c,s))}function _w(l,c){return typeof l=="function"?l(c):l}function fp(l){return l.split("-")[0]}function Ob(l){return l.split("-")[1]}function KK(l){return l==="x"?"y":"x"}function u1(l){return l==="y"?"height":"width"}const QK=new Set(["top","bottom"]);function jm(l){return QK.has(fp(l))?"y":"x"}function h1(l){return KK(jm(l))}function ZK(l,c,s){s===void 0&&(s=!1);const o=Ob(l),h=h1(l),g=u1(h);let _=h==="x"?o===(s?"end":"start")?"right":"left":o==="start"?"bottom":"top";return c.reference[g]>c.floating[g]&&(_=Mv(_)),[_,Mv(_)]}function XK(l){const c=Mv(l);return[xA(l),c,xA(c)]}function xA(l){return l.replace(/start|end/g,c=>YK[c])}const JI=["left","right"],eO=["right","left"],JK=["top","bottom"],eQ=["bottom","top"];function tQ(l,c,s){switch(l){case"top":case"bottom":return s?c?eO:JI:c?JI:eO;case"left":case"right":return c?JK:eQ;default:return[]}}function nQ(l,c,s,o){const h=Ob(l);let g=tQ(fp(l),s==="start",o);return h&&(g=g.map(_=>_+"-"+h),c&&(g=g.concat(g.map(xA)))),g}function Mv(l){return l.replace(/left|right|bottom|top/g,c=>WK[c])}function iQ(l){return{top:0,right:0,bottom:0,left:0,...l}}function TL(l){return typeof l!="number"?iQ(l):{top:l,right:l,bottom:l,left:l}}function Iv(l){const{x:c,y:s,width:o,height:h}=l;return{width:o,height:h,top:s,left:c,right:c+o,bottom:s+h,x:c,y:s}}var rQ=typeof document<"u",sQ=function(){},Ov=rQ?I.useLayoutEffect:sQ;const oQ={...QO},aQ=oQ.useInsertionEffect,lQ=aQ||(l=>l());function cQ(l){const c=I.useRef(()=>{});return lQ(()=>{c.current=l}),I.useCallback(function(){for(var s=arguments.length,o=new Array(s),h=0;h<s;h++)o[h]=arguments[h];return c.current==null?void 0:c.current(...o)},[])}function tO(l,c,s){let{reference:o,floating:h}=l;const g=jm(c),_=h1(c),y=u1(_),v=fp(c),N=g==="y",S=o.x+o.width/2-h.width/2,D=o.y+o.height/2-h.height/2,j=o[y]/2-h[y]/2;let B;switch(v){case"top":B={x:S,y:o.y-h.height};break;case"bottom":B={x:S,y:o.y+o.height};break;case"right":B={x:o.x+o.width,y:D};break;case"left":B={x:o.x-h.width,y:D};break;default:B={x:o.x,y:o.y}}switch(Ob(c)){case"start":B[_]-=j*(s&&N?-1:1);break;case"end":B[_]+=j*(s&&N?-1:1);break}return B}const dQ=async(l,c,s)=>{const{placement:o="bottom",strategy:h="absolute",middleware:g=[],platform:_}=s,y=g.filter(Boolean),v=await(_.isRTL==null?void 0:_.isRTL(c));let N=await _.getElementRects({reference:l,floating:c,strategy:h}),{x:S,y:D}=tO(N,o,v),j=o,B={},F=0;for(let H=0;H<y.length;H++){const{name:$,fn:K}=y[H],{x:Q,y:ee,data:ne,reset:le}=await K({x:S,y:D,initialPlacement:o,placement:j,strategy:h,middlewareData:B,rects:N,platform:_,elements:{reference:l,floating:c}});S=Q??S,D=ee??D,B={...B,[$]:{...B[$],...ne}},le&&F<=50&&(F++,typeof le=="object"&&(le.placement&&(j=le.placement),le.rects&&(N=le.rects===!0?await _.getElementRects({reference:l,floating:c,strategy:h}):le.rects),{x:S,y:D}=tO(N,j,v)),H=-1)}return{x:S,y:D,placement:j,strategy:h,middlewareData:B}};async function uQ(l,c){var s;c===void 0&&(c={});const{x:o,y:h,platform:g,rects:_,elements:y,strategy:v}=l,{boundary:N="clippingAncestors",rootBoundary:S="viewport",elementContext:D="floating",altBoundary:j=!1,padding:B=0}=_w(c,l),F=TL(B),$=y[j?D==="floating"?"reference":"floating":D],K=Iv(await g.getClippingRect({element:(s=await(g.isElement==null?void 0:g.isElement($)))==null||s?$:$.contextElement||await(g.getDocumentElement==null?void 0:g.getDocumentElement(y.floating)),boundary:N,rootBoundary:S,strategy:v})),Q=D==="floating"?{x:o,y:h,width:_.floating.width,height:_.floating.height}:_.reference,ee=await(g.getOffsetParent==null?void 0:g.getOffsetParent(y.floating)),ne=await(g.isElement==null?void 0:g.isElement(ee))?await(g.getScale==null?void 0:g.getScale(ee))||{x:1,y:1}:{x:1,y:1},le=Iv(g.convertOffsetParentRelativeRectToViewportRelativeRect?await g.convertOffsetParentRelativeRectToViewportRelativeRect({elements:y,rect:Q,offsetParent:ee,strategy:v}):Q);return{top:(K.top-le.top+F.top)/ne.y,bottom:(le.bottom-K.bottom+F.bottom)/ne.y,left:(K.left-le.left+F.left)/ne.x,right:(le.right-K.right+F.right)/ne.x}}const hQ=l=>({name:"arrow",options:l,async fn(c){const{x:s,y:o,placement:h,rects:g,platform:_,elements:y,middlewareData:v}=c,{element:N,padding:S=0}=_w(l,c)||{};if(N==null)return{};const D=TL(S),j={x:s,y:o},B=h1(h),F=u1(B),H=await _.getDimensions(N),$=B==="y",K=$?"top":"left",Q=$?"bottom":"right",ee=$?"clientHeight":"clientWidth",ne=g.reference[F]+g.reference[B]-j[B]-g.floating[F],le=j[B]-g.reference[B],se=await(_.getOffsetParent==null?void 0:_.getOffsetParent(N));let q=se?se[ee]:0;(!q||!await(_.isElement==null?void 0:_.isElement(se)))&&(q=y.floating[ee]||g.floating[F]);const de=ne/2-le/2,re=q/2-H[F]/2-1,be=mp(D[K],re),ke=mp(D[Q],re),Ne=be,De=q-H[F]-ke,_e=q/2-H[F]/2+de,je=GK(Ne,_e,De),oe=!v.arrow&&Ob(h)!=null&&_e!==je&&g.reference[F]/2-(_e<Ne?be:ke)-H[F]/2<0,ve=oe?_e<Ne?_e-Ne:_e-De:0;return{[B]:j[B]+ve,data:{[B]:je,centerOffset:_e-je-ve,...oe&&{alignmentOffset:ve}},reset:oe}}}),mQ=function(l){return l===void 0&&(l={}),{name:"flip",options:l,async fn(c){var s,o;const{placement:h,middlewareData:g,rects:_,initialPlacement:y,platform:v,elements:N}=c,{mainAxis:S=!0,crossAxis:D=!0,fallbackPlacements:j,fallbackStrategy:B="bestFit",fallbackAxisSideDirection:F="none",flipAlignment:H=!0,...$}=_w(l,c);if((s=g.arrow)!=null&&s.alignmentOffset)return{};const K=fp(h),Q=jm(y),ee=fp(y)===y,ne=await(v.isRTL==null?void 0:v.isRTL(N.floating)),le=j||(ee||!H?[Mv(y)]:XK(y)),se=F!=="none";!j&&se&&le.push(...nQ(y,H,F,ne));const q=[y,...le],de=await uQ(c,$),re=[];let be=((o=g.flip)==null?void 0:o.overflows)||[];if(S&&re.push(de[K]),D){const _e=ZK(h,_,ne);re.push(de[_e[0]],de[_e[1]])}if(be=[...be,{placement:h,overflows:re}],!re.every(_e=>_e<=0)){var ke,Ne;const _e=(((ke=g.flip)==null?void 0:ke.index)||0)+1,je=q[_e];if(je&&(!(D==="alignment"?Q!==jm(je):!1)||be.every(he=>he.overflows[0]>0&&jm(he.placement)===Q)))return{data:{index:_e,overflows:be},reset:{placement:je}};let oe=(Ne=be.filter(ve=>ve.overflows[0]<=0).sort((ve,he)=>ve.overflows[1]-he.overflows[1])[0])==null?void 0:Ne.placement;if(!oe)switch(B){case"bestFit":{var De;const ve=(De=be.filter(he=>{if(se){const Ee=jm(he.placement);return Ee===Q||Ee==="y"}return!0}).map(he=>[he.placement,he.overflows.filter(Ee=>Ee>0).reduce((Ee,Z)=>Ee+Z,0)]).sort((he,Ee)=>he[1]-Ee[1])[0])==null?void 0:De[0];ve&&(oe=ve);break}case"initialPlacement":oe=y;break}if(h!==oe)return{reset:{placement:oe}}}return{}}}},fQ=new Set(["left","top"]);async function pQ(l,c){const{placement:s,platform:o,elements:h}=l,g=await(o.isRTL==null?void 0:o.isRTL(h.floating)),_=fp(s),y=Ob(s),v=jm(s)==="y",N=fQ.has(_)?-1:1,S=g&&v?-1:1,D=_w(c,l);let{mainAxis:j,crossAxis:B,alignmentAxis:F}=typeof D=="number"?{mainAxis:D,crossAxis:0,alignmentAxis:null}:{mainAxis:D.mainAxis||0,crossAxis:D.crossAxis||0,alignmentAxis:D.alignmentAxis};return y&&typeof F=="number"&&(B=y==="end"?F*-1:F),v?{x:B*S,y:j*N}:{x:j*N,y:B*S}}const gQ=function(l){return l===void 0&&(l=0),{name:"offset",options:l,async fn(c){var s,o;const{x:h,y:g,placement:_,middlewareData:y}=c,v=await pQ(c,l);return _===((s=y.offset)==null?void 0:s.placement)&&(o=y.arrow)!=null&&o.alignmentOffset?{}:{x:h+v.x,y:g+v.y,data:{...v,placement:_}}}}};function ML(l){const c=Hl(l);let s=parseFloat(c.width)||0,o=parseFloat(c.height)||0;const h=_d(l),g=h?l.offsetWidth:s,_=h?l.offsetHeight:o,y=Tv(s)!==g||Tv(o)!==_;return y&&(s=g,o=_),{width:s,height:o,$:y}}function m1(l){return ga(l)?l:l.contextElement}function ap(l){const c=m1(l);if(!_d(c))return kd(1);const s=c.getBoundingClientRect(),{width:o,height:h,$:g}=ML(c);let _=(g?Tv(s.width):s.width)/o,y=(g?Tv(s.height):s.height)/h;return(!_||!Number.isFinite(_))&&(_=1),(!y||!Number.isFinite(y))&&(y=1),{x:_,y}}const bQ=kd(0);function IL(l){const c=cl(l);return!d1()||!c.visualViewport?bQ:{x:c.visualViewport.offsetLeft,y:c.visualViewport.offsetTop}}function kQ(l,c,s){return c===void 0&&(c=!1),!s||c&&s!==cl(l)?!1:c}function Fm(l,c,s,o){c===void 0&&(c=!1),s===void 0&&(s=!1);const h=l.getBoundingClientRect(),g=m1(l);let _=kd(1);c&&(o?ga(o)&&(_=ap(o)):_=ap(l));const y=kQ(g,s,o)?IL(g):kd(0);let v=(h.left+y.x)/_.x,N=(h.top+y.y)/_.y,S=h.width/_.x,D=h.height/_.y;if(g){const j=cl(g),B=o&&ga(o)?cl(o):o;let F=j,H=yA(F);for(;H&&o&&B!==F;){const $=ap(H),K=H.getBoundingClientRect(),Q=Hl(H),ee=K.left+(H.clientLeft+parseFloat(Q.paddingLeft))*$.x,ne=K.top+(H.clientTop+parseFloat(Q.paddingTop))*$.y;v*=$.x,N*=$.y,S*=$.x,D*=$.y,v+=ee,N+=ne,F=cl(H),H=yA(F)}}return Iv({width:S,height:D,x:v,y:N})}function f1(l,c){const s=kw(l).scrollLeft;return c?c.left+s:Fm(vd(l)).left+s}function OL(l,c,s){s===void 0&&(s=!1);const o=l.getBoundingClientRect(),h=o.left+c.scrollLeft-(s?0:f1(l,o)),g=o.top+c.scrollTop;return{x:h,y:g}}function _Q(l){let{elements:c,rect:s,offsetParent:o,strategy:h}=l;const g=h==="fixed",_=vd(o),y=c?bw(c.floating):!1;if(o===_||y&&g)return s;let v={scrollLeft:0,scrollTop:0},N=kd(1);const S=kd(0),D=_d(o);if((D||!D&&!g)&&((yp(o)!=="body"||Ib(_))&&(v=kw(o)),_d(o))){const B=Fm(o);N=ap(o),S.x=B.x+o.clientLeft,S.y=B.y+o.clientTop}const j=_&&!D&&!g?OL(_,v,!0):kd(0);return{width:s.width*N.x,height:s.height*N.y,x:s.x*N.x-v.scrollLeft*N.x+S.x+j.x,y:s.y*N.y-v.scrollTop*N.y+S.y+j.y}}function vQ(l){return Array.from(l.getClientRects())}function wQ(l){const c=vd(l),s=kw(l),o=l.ownerDocument.body,h=Bm(c.scrollWidth,c.clientWidth,o.scrollWidth,o.clientWidth),g=Bm(c.scrollHeight,c.clientHeight,o.scrollHeight,o.clientHeight);let _=-s.scrollLeft+f1(l);const y=-s.scrollTop;return Hl(o).direction==="rtl"&&(_+=Bm(c.clientWidth,o.clientWidth)-h),{width:h,height:g,x:_,y}}function yQ(l,c){const s=cl(l),o=vd(l),h=s.visualViewport;let g=o.clientWidth,_=o.clientHeight,y=0,v=0;if(h){g=h.width,_=h.height;const N=d1();(!N||N&&c==="fixed")&&(y=h.offsetLeft,v=h.offsetTop)}return{width:g,height:_,x:y,y:v}}const xQ=new Set(["absolute","fixed"]);function CQ(l,c){const s=Fm(l,!0,c==="fixed"),o=s.top+l.clientTop,h=s.left+l.clientLeft,g=_d(l)?ap(l):kd(1),_=l.clientWidth*g.x,y=l.clientHeight*g.y,v=h*g.x,N=o*g.y;return{width:_,height:y,x:v,y:N}}function nO(l,c,s){let o;if(c==="viewport")o=yQ(l,s);else if(c==="document")o=wQ(vd(l));else if(ga(c))o=CQ(c,s);else{const h=IL(l);o={x:c.x-h.x,y:c.y-h.y,width:c.width,height:c.height}}return Iv(o)}function LL(l,c){const s=wh(l);return s===c||!ga(s)||hp(s)?!1:Hl(s).position==="fixed"||LL(s,c)}function AQ(l,c){const s=c.get(l);if(s)return s;let o=_b(l,[],!1).filter(y=>ga(y)&&yp(y)!=="body"),h=null;const g=Hl(l).position==="fixed";let _=g?wh(l):l;for(;ga(_)&&!hp(_);){const y=Hl(_),v=c1(_);!v&&y.position==="fixed"&&(h=null),(g?!v&&!h:!v&&y.position==="static"&&!!h&&xQ.has(h.position)||Ib(_)&&!v&&LL(l,_))?o=o.filter(S=>S!==_):h=y,_=wh(_)}return c.set(l,o),o}function NQ(l){let{element:c,boundary:s,rootBoundary:o,strategy:h}=l;const _=[...s==="clippingAncestors"?bw(c)?[]:AQ(c,this._c):[].concat(s),o],y=_[0],v=_.reduce((N,S)=>{const D=nO(c,S,h);return N.top=Bm(D.top,N.top),N.right=mp(D.right,N.right),N.bottom=mp(D.bottom,N.bottom),N.left=Bm(D.left,N.left),N},nO(c,y,h));return{width:v.right-v.left,height:v.bottom-v.top,x:v.left,y:v.top}}function EQ(l){const{width:c,height:s}=ML(l);return{width:c,height:s}}function SQ(l,c,s){const o=_d(c),h=vd(c),g=s==="fixed",_=Fm(l,!0,g,c);let y={scrollLeft:0,scrollTop:0};const v=kd(0);function N(){v.x=f1(h)}if(o||!o&&!g)if((yp(c)!=="body"||Ib(h))&&(y=kw(c)),o){const B=Fm(c,!0,g,c);v.x=B.x+c.clientLeft,v.y=B.y+c.clientTop}else h&&N();g&&!o&&h&&N();const S=h&&!o&&!g?OL(h,y):kd(0),D=_.left+y.scrollLeft-v.x-S.x,j=_.top+y.scrollTop-v.y-S.y;return{x:D,y:j,width:_.width,height:_.height}}function RC(l){return Hl(l).position==="static"}function iO(l,c){if(!_d(l)||Hl(l).position==="fixed")return null;if(c)return c(l);let s=l.offsetParent;return vd(l)===s&&(s=s.ownerDocument.body),s}function BL(l,c){const s=cl(l);if(bw(l))return s;if(!_d(l)){let h=wh(l);for(;h&&!hp(h);){if(ga(h)&&!RC(h))return h;h=wh(h)}return s}let o=iO(l,c);for(;o&&zK(o)&&RC(o);)o=iO(o,c);return o&&hp(o)&&RC(o)&&!c1(o)?s:o||$K(l)||s}const jQ=async function(l){const c=this.getOffsetParent||BL,s=this.getDimensions,o=await s(l.floating);return{reference:SQ(l.reference,await c(l.floating),l.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function DQ(l){return Hl(l).direction==="rtl"}const TQ={convertOffsetParentRelativeRectToViewportRelativeRect:_Q,getDocumentElement:vd,getClippingRect:NQ,getOffsetParent:BL,getElementRects:jQ,getClientRects:vQ,getDimensions:EQ,getScale:ap,isElement:ga,isRTL:DQ};function RL(l,c){return l.x===c.x&&l.y===c.y&&l.width===c.width&&l.height===c.height}function MQ(l,c){let s=null,o;const h=vd(l);function g(){var y;clearTimeout(o),(y=s)==null||y.disconnect(),s=null}function _(y,v){y===void 0&&(y=!1),v===void 0&&(v=1),g();const N=l.getBoundingClientRect(),{left:S,top:D,width:j,height:B}=N;if(y||c(),!j||!B)return;const F=W_(D),H=W_(h.clientWidth-(S+j)),$=W_(h.clientHeight-(D+B)),K=W_(S),ee={rootMargin:-F+"px "+-H+"px "+-$+"px "+-K+"px",threshold:Bm(0,mp(1,v))||1};let ne=!0;function le(se){const q=se[0].intersectionRatio;if(q!==v){if(!ne)return _();q?_(!1,q):o=setTimeout(()=>{_(!1,1e-7)},1e3)}q===1&&!RL(N,l.getBoundingClientRect())&&_(),ne=!1}try{s=new IntersectionObserver(le,{...ee,root:h.ownerDocument})}catch{s=new IntersectionObserver(le,ee)}s.observe(l)}return _(!0),g}function IQ(l,c,s,o){o===void 0&&(o={});const{ancestorScroll:h=!0,ancestorResize:g=!0,elementResize:_=typeof ResizeObserver=="function",layoutShift:y=typeof IntersectionObserver=="function",animationFrame:v=!1}=o,N=m1(l),S=h||g?[...N?_b(N):[],..._b(c)]:[];S.forEach(K=>{h&&K.addEventListener("scroll",s,{passive:!0}),g&&K.addEventListener("resize",s)});const D=N&&y?MQ(N,s):null;let j=-1,B=null;_&&(B=new ResizeObserver(K=>{let[Q]=K;Q&&Q.target===N&&B&&(B.unobserve(c),cancelAnimationFrame(j),j=requestAnimationFrame(()=>{var ee;(ee=B)==null||ee.observe(c)})),s()}),N&&!v&&B.observe(N),B.observe(c));let F,H=v?Fm(l):null;v&&$();function $(){const K=Fm(l);H&&!RL(H,K)&&s(),H=K,F=requestAnimationFrame($)}return s(),()=>{var K;S.forEach(Q=>{h&&Q.removeEventListener("scroll",s),g&&Q.removeEventListener("resize",s)}),D==null||D(),(K=B)==null||K.disconnect(),B=null,v&&cancelAnimationFrame(F)}}const OQ=gQ,LQ=mQ,rO=hQ,BQ=(l,c,s)=>{const o=new Map,h={platform:TQ,...s},g={...h.platform,_c:o};return dQ(l,c,{...h,platform:g})};var RQ=typeof document<"u",PQ=function(){},uv=RQ?I.useLayoutEffect:PQ;function Lv(l,c){if(l===c)return!0;if(typeof l!=typeof c)return!1;if(typeof l=="function"&&l.toString()===c.toString())return!0;let s,o,h;if(l&&c&&typeof l=="object"){if(Array.isArray(l)){if(s=l.length,s!==c.length)return!1;for(o=s;o--!==0;)if(!Lv(l[o],c[o]))return!1;return!0}if(h=Object.keys(l),s=h.length,s!==Object.keys(c).length)return!1;for(o=s;o--!==0;)if(!{}.hasOwnProperty.call(c,h[o]))return!1;for(o=s;o--!==0;){const g=h[o];if(!(g==="_owner"&&l.$$typeof)&&!Lv(l[g],c[g]))return!1}return!0}return l!==l&&c!==c}function PL(l){return typeof window>"u"?1:(l.ownerDocument.defaultView||window).devicePixelRatio||1}function sO(l,c){const s=PL(l);return Math.round(c*s)/s}function PC(l){const c=I.useRef(l);return uv(()=>{c.current=l}),c}function zQ(l){l===void 0&&(l={});const{placement:c="bottom",strategy:s="absolute",middleware:o=[],platform:h,elements:{reference:g,floating:_}={},transform:y=!0,whileElementsMounted:v,open:N}=l,[S,D]=I.useState({x:0,y:0,strategy:s,placement:c,middlewareData:{},isPositioned:!1}),[j,B]=I.useState(o);Lv(j,o)||B(o);const[F,H]=I.useState(null),[$,K]=I.useState(null),Q=I.useCallback(he=>{he!==se.current&&(se.current=he,H(he))},[]),ee=I.useCallback(he=>{he!==q.current&&(q.current=he,K(he))},[]),ne=g||F,le=_||$,se=I.useRef(null),q=I.useRef(null),de=I.useRef(S),re=v!=null,be=PC(v),ke=PC(h),Ne=PC(N),De=I.useCallback(()=>{if(!se.current||!q.current)return;const he={placement:c,strategy:s,middleware:j};ke.current&&(he.platform=ke.current),BQ(se.current,q.current,he).then(Ee=>{const Z={...Ee,isPositioned:Ne.current!==!1};_e.current&&!Lv(de.current,Z)&&(de.current=Z,OA.flushSync(()=>{D(Z)}))})},[j,c,s,ke,Ne]);uv(()=>{N===!1&&de.current.isPositioned&&(de.current.isPositioned=!1,D(he=>({...he,isPositioned:!1})))},[N]);const _e=I.useRef(!1);uv(()=>(_e.current=!0,()=>{_e.current=!1}),[]),uv(()=>{if(ne&&(se.current=ne),le&&(q.current=le),ne&&le){if(be.current)return be.current(ne,le,De);De()}},[ne,le,De,be,re]);const je=I.useMemo(()=>({reference:se,floating:q,setReference:Q,setFloating:ee}),[Q,ee]),oe=I.useMemo(()=>({reference:ne,floating:le}),[ne,le]),ve=I.useMemo(()=>{const he={position:s,left:0,top:0};if(!oe.floating)return he;const Ee=sO(oe.floating,S.x),Z=sO(oe.floating,S.y);return y?{...he,transform:"translate("+Ee+"px, "+Z+"px)",...PL(oe.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:Ee,top:Z}},[s,y,oe.floating,S.x,S.y]);return I.useMemo(()=>({...S,update:De,refs:je,elements:oe,floatingStyles:ve}),[S,De,je,oe,ve])}const FQ=l=>{function c(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:l,fn(s){const{element:o,padding:h}=typeof l=="function"?l(s):l;return o&&c(o)?o.current!=null?rO({element:o.current,padding:h}).fn(s):{}:o?rO({element:o,padding:h}).fn(s):{}}}},VQ=(l,c)=>({...OQ(l),options:[l,c]}),HQ=(l,c)=>({...LQ(l),options:[l,c]}),UQ=(l,c)=>({...FQ(l),options:[l,c]}),$Q={...QO};let oO=!1,qQ=0;const aO=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+qQ++;function WQ(){const[l,c]=I.useState(()=>oO?aO():void 0);return Ov(()=>{l==null&&c(aO())},[]),I.useEffect(()=>{oO=!0},[]),l}const YQ=$Q.useId,zL=YQ||WQ,GQ=I.forwardRef(function(c,s){const{context:{placement:o,elements:{floating:h},middlewareData:{arrow:g,shift:_}},width:y=14,height:v=7,tipRadius:N=0,strokeWidth:S=0,staticOffset:D,stroke:j,d:B,style:{transform:F,...H}={},...$}=c,K=zL(),[Q,ee]=I.useState(!1);if(Ov(()=>{if(!h)return;Hl(h).direction==="rtl"&&ee(!0)},[h]),!h)return null;const[ne,le]=o.split("-"),se=ne==="top"||ne==="bottom";let q=D;(se&&_!=null&&_.x||!se&&_!=null&&_.y)&&(q=null);const de=S*2,re=de/2,be=y/2*(N/-8+1),ke=v/2*N/4,Ne=!!B,De=q&&le==="end"?"bottom":"top";let _e=q&&le==="end"?"right":"left";q&&Q&&(_e=le==="end"?"left":"right");const je=(g==null?void 0:g.x)!=null?q||g.x:"",oe=(g==null?void 0:g.y)!=null?q||g.y:"",ve=B||"M0,0"+(" H"+y)+(" L"+(y-be)+","+(v-ke))+(" Q"+y/2+","+v+" "+be+","+(v-ke))+" Z",he={top:Ne?"rotate(180deg)":"",left:Ne?"rotate(90deg)":"rotate(-90deg)",bottom:Ne?"":"rotate(180deg)",right:Ne?"rotate(-90deg)":"rotate(90deg)"}[ne];return i.jsxs("svg",{...$,"aria-hidden":!0,ref:s,width:Ne?y:y+de,height:y,viewBox:"0 0 "+y+" "+(v>y?v:y),style:{position:"absolute",pointerEvents:"none",[_e]:je,[De]:oe,[ne]:se||Ne?"100%":"calc(100% - "+de/2+"px)",transform:[he,F].filter(Ee=>!!Ee).join(" "),...H},children:[de>0&&i.jsx("path",{clipPath:"url(#"+K+")",fill:"none",stroke:j,strokeWidth:de+(B?0:1),d:ve}),i.jsx("path",{stroke:de&&!B?$.fill:"none",d:ve}),i.jsx("clipPath",{id:K,children:i.jsx("rect",{x:-re,y:re*(Ne?-1:1),width:y+de,height:y})})]})});function KQ(){const l=new Map;return{emit(c,s){var o;(o=l.get(c))==null||o.forEach(h=>h(s))},on(c,s){l.has(c)||l.set(c,new Set),l.get(c).add(s)},off(c,s){var o;(o=l.get(c))==null||o.delete(s)}}}const QQ=I.createContext(null),ZQ=I.createContext(null),XQ=()=>{var l;return((l=I.useContext(QQ))==null?void 0:l.id)||null},JQ=()=>I.useContext(ZQ);function eZ(l){const{open:c=!1,onOpenChange:s,elements:o}=l,h=zL(),g=I.useRef({}),[_]=I.useState(()=>KQ()),y=XQ()!=null,[v,N]=I.useState(o.reference),S=cQ((B,F,H)=>{g.current.openEvent=B?F:void 0,_.emit("openchange",{open:B,event:F,reason:H,nested:y}),s==null||s(B,F,H)}),D=I.useMemo(()=>({setPositionReference:N}),[]),j=I.useMemo(()=>({reference:v||o.reference||null,floating:o.floating||null,domReference:o.reference}),[v,o.reference,o.floating]);return I.useMemo(()=>({dataRef:g,open:c,onOpenChange:S,elements:j,events:_,floatingId:h,refs:D}),[c,S,j,_,h,D])}function tZ(l){l===void 0&&(l={});const{nodeId:c}=l,s=eZ({...l,elements:{reference:null,floating:null,...l.elements}}),o=l.rootContext||s,h=o.elements,[g,_]=I.useState(null),[y,v]=I.useState(null),S=(h==null?void 0:h.domReference)||g,D=I.useRef(null),j=JQ();Ov(()=>{S&&(D.current=S)},[S]);const B=zQ({...l,elements:{...h,...y&&{reference:y}}}),F=I.useCallback(ee=>{const ne=ga(ee)?{getBoundingClientRect:()=>ee.getBoundingClientRect(),getClientRects:()=>ee.getClientRects(),contextElement:ee}:ee;v(ne),B.refs.setReference(ne)},[B.refs]),H=I.useCallback(ee=>{(ga(ee)||ee===null)&&(D.current=ee,_(ee)),(ga(B.refs.reference.current)||B.refs.reference.current===null||ee!==null&&!ga(ee))&&B.refs.setReference(ee)},[B.refs]),$=I.useMemo(()=>({...B.refs,setReference:H,setPositionReference:F,domReference:D}),[B.refs,H,F]),K=I.useMemo(()=>({...B.elements,domReference:S}),[B.elements,S]),Q=I.useMemo(()=>({...B,...o,refs:$,elements:K,nodeId:c}),[B,$,K,c,o]);return Ov(()=>{o.dataRef.current.floatingContext=Q;const ee=j==null?void 0:j.nodesRef.current.find(ne=>ne.id===c);ee&&(ee.context=Q)}),I.useMemo(()=>({...B,context:Q,refs:$,elements:K}),[B,$,K,Q])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var CA=function(c,s){return CA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(o[g]=h[g])},CA(c,s)};function co(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");CA(l,c);function s(){this.constructor=l}l.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}var Di=function(){return Di=Object.assign||function(s){for(var o,h=1,g=arguments.length;h<g;h++){o=arguments[h];for(var _ in o)Object.prototype.hasOwnProperty.call(o,_)&&(s[_]=o[_])}return s},Di.apply(this,arguments)};function gd(l,c,s){if(s||arguments.length===2)for(var o=0,h=c.length,g;o<h;o++)(g||!(o in c))&&(g||(g=Array.prototype.slice.call(c,0,o)),g[o]=c[o]);return l.concat(g||Array.prototype.slice.call(c))}var nZ=function(l){var c=l.showTimeSelectOnly,s=c===void 0?!1:c,o=l.showTime,h=o===void 0?!1:o,g=l.className,_=l.children,y=s?"Choose Time":"Choose Date".concat(h?" and Time":"");return it.createElement("div",{className:g,role:"dialog","aria-label":y,"aria-modal":"true"},_)},iZ=function(l,c){var s=I.useRef(null),o=I.useRef(l);o.current=l;var h=I.useCallback(function(g){var _,y=g.composed&&g.composedPath&&g.composedPath().find(function(v){return v instanceof Node})||g.target;s.current&&!s.current.contains(y)&&(c&&y instanceof HTMLElement&&y.classList.contains(c)||(_=o.current)===null||_===void 0||_.call(o,g))},[c]);return I.useEffect(function(){return document.addEventListener("mousedown",h),function(){document.removeEventListener("mousedown",h)}},[h]),s},vw=function(l){var c=l.children,s=l.onClickOutside,o=l.className,h=l.containerRef,g=l.style,_=l.ignoreClass,y=iZ(s,_);return it.createElement("div",{className:o,style:g,ref:function(v){y.current=v,h&&(h.current=v)}},c)},Kt;(function(l){l.ArrowUp="ArrowUp",l.ArrowDown="ArrowDown",l.ArrowLeft="ArrowLeft",l.ArrowRight="ArrowRight",l.PageUp="PageUp",l.PageDown="PageDown",l.Home="Home",l.End="End",l.Enter="Enter",l.Space=" ",l.Tab="Tab",l.Escape="Escape",l.Backspace="Backspace",l.X="x"})(Kt||(Kt={}));function FL(){var l=typeof window<"u"?window:globalThis;return l}var Lb=12;function Hi(l){if(l==null)return new Date;var c=typeof l=="string"?wK(l):ln(l);return ww(c)?c:new Date}function zC(l,c,s,o,h){h===void 0&&(h=Hi());for(var g=pp(s)||pp(p1()),_=Array.isArray(c)?c:[c],y=0,v=_;y<v.length;y++){var N=v[y],S=pK(l,N,h,{locale:g});if(ww(S)&&(!o||l===xr(S,N,s)))return S}return null}function ww(l,c){return Nv(l)&&!zm(l,new Date("1/1/1800"))}function xr(l,c,s){if(s==="en")return KI(l,c,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var o=s?pp(s):void 0;return s&&!o&&console.warn('A locale object was not found for the provided string ["'.concat(s,'"].')),o=o||pp(p1()),KI(l,c,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Rl(l,c){var s=c.dateFormat,o=c.locale,h=Array.isArray(s)&&s.length>0?s[0]:s;return l&&xr(l,h,o)||""}var VL=" - ";function rZ(l,c,s){if(!l)return"";var o=Rl(l,s),h=c?Rl(c,s):"";return"".concat(o).concat(VL).concat(h)}function sZ(l,c){if(!(l!=null&&l.length))return"";var s=l[0]?Rl(l[0],c):"";if(l.length===1)return s;if(l.length===2&&l[1]){var o=Rl(l[1],c);return"".concat(s,", ").concat(o)}var h=l.length-1;return"".concat(s," (+").concat(h,")")}function FC(l,c){var s=c.hour,o=s===void 0?0:s,h=c.minute,g=h===void 0?0:h,_=c.second,y=_===void 0?0:_;return lv(cv(dv(l,y),g),o)}function oZ(l){return s1(l)}function aZ(l,c){return xr(l,"ddd",c)}function hv(l){return Pm(l)}function _h(l,c,s){var o=pp(c||p1());return vu(l,{locale:o,weekStartsOn:s})}function bu(l){return kL(l)}function lb(l){return pw(l)}function lO(l){return _A(l)}function cO(){return Pm(Hi())}function dO(l){return gL(l)}function lZ(l){return wY(l)}function cZ(l){return bL(l)}function md(l,c){return l&&c?_K(l,c):!l&&!c}function pa(l,c){return l&&c?bK(l,c):!l&&!c}function Bv(l,c){return l&&c?kK(l,c):!l&&!c}function ji(l,c){return l&&c?_Y(l,c):!l&&!c}function Dm(l,c){return l&&c?vG(l,c):!l&&!c}function cb(l,c,s){var o,h=Pm(c),g=gL(s);try{o=kb(l,{start:h,end:g})}catch{o=!1}return o}function p1(){var l=FL();return l.__localeId__}function pp(l){if(typeof l=="string"){var c=FL();return c.__localeData__?c.__localeData__[l]:void 0}else return l}function dZ(l,c,s){return c(xr(l,"EEEE",s))}function uZ(l,c){return xr(l,"EEEEEE",c)}function hZ(l,c){return xr(l,"EEE",c)}function g1(l,c){return xr(Pl(Hi(),l),"LLLL",c)}function HL(l,c){return xr(Pl(Hi(),l),"LLL",c)}function mZ(l,c){return xr(op(Hi(),l),"QQQ",c)}function zl(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.maxDate,g=s.excludeDates,_=s.excludeDateIntervals,y=s.includeDates,v=s.includeDateIntervals,N=s.filterDate;return Bb(l,{minDate:o,maxDate:h})||g&&g.some(function(S){return S instanceof Date?ji(l,S):ji(l,S.date)})||_&&_.some(function(S){var D=S.start,j=S.end;return kb(l,{start:D,end:j})})||y&&!y.some(function(S){return ji(l,S)})||v&&!v.some(function(S){var D=S.start,j=S.end;return kb(l,{start:D,end:j})})||N&&!N(Hi(l))||!1}function b1(l,c){var s=c===void 0?{}:c,o=s.excludeDates,h=s.excludeDateIntervals;return h&&h.length>0?h.some(function(g){var _=g.start,y=g.end;return kb(l,{start:_,end:y})}):o&&o.some(function(g){var _;return g instanceof Date?ji(l,g):ji(l,(_=g.date)!==null&&_!==void 0?_:new Date)})||!1}function UL(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.maxDate,g=s.excludeDates,_=s.includeDates,y=s.filterDate;return Bb(l,{minDate:o?kL(o):void 0,maxDate:h?bL(h):void 0})||(g==null?void 0:g.some(function(v){return pa(l,v instanceof Date?v:v.date)}))||_&&!_.some(function(v){return pa(l,v)})||y&&!y(Hi(l))||!1}function Y_(l,c,s,o){var h=ai(l),g=Ko(l),_=ai(c),y=Ko(c),v=ai(o);return h===_&&h===v?g<=s&&s<=y:h<_?v===h&&g<=s||v===_&&y>=s||v<_&&v>h:!1}function fZ(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.maxDate,g=s.excludeDates,_=s.includeDates;return Bb(l,{minDate:o,maxDate:h})||g&&g.some(function(y){return pa(y instanceof Date?y:y.date,l)})||_&&!_.some(function(y){return pa(y,l)})||!1}function G_(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.maxDate,g=s.excludeDates,_=s.includeDates,y=s.filterDate;return Bb(l,{minDate:o,maxDate:h})||(g==null?void 0:g.some(function(v){return Bv(l,v instanceof Date?v:v.date)}))||_&&!_.some(function(v){return Bv(l,v)})||y&&!y(Hi(l))||!1}function K_(l,c,s){if(!c||!s||!Nv(c)||!Nv(s))return!1;var o=ai(c),h=ai(s);return o<=l&&h>=l}function mv(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.maxDate,g=s.excludeDates,_=s.includeDates,y=s.filterDate,v=new Date(l,0,1);return Bb(v,{minDate:o?pw(o):void 0,maxDate:h?_L(h):void 0})||(g==null?void 0:g.some(function(N){return md(v,N instanceof Date?N:N.date)}))||_&&!_.some(function(N){return md(v,N)})||y&&!y(Hi(v))||!1}function Q_(l,c,s,o){var h=ai(l),g=Om(l),_=ai(c),y=Om(c),v=ai(o);return h===_&&h===v?g<=s&&s<=y:h<_?v===h&&g<=s||v===_&&y>=s||v<_&&v>h:!1}function Bb(l,c){var s,o=c===void 0?{}:c,h=o.minDate,g=o.maxDate;return(s=h&&dp(l,h)<0||g&&dp(l,g)>0)!==null&&s!==void 0?s:!1}function uO(l,c){return c.some(function(s){return pu(s)===pu(l)&&gu(s)===gu(l)&&kh(s)===kh(l)})}function hO(l,c){var s=c===void 0?{}:c,o=s.excludeTimes,h=s.includeTimes,g=s.filterTime;return o&&uO(l,o)||h&&!uO(l,h)||g&&!g(l)||!1}function mO(l,c){var s=c.minTime,o=c.maxTime;if(!s||!o)throw new Error("Both minTime and maxTime props required");var h=Hi();h=lv(h,pu(l)),h=cv(h,gu(l)),h=dv(h,kh(l));var g=Hi();g=lv(g,pu(s)),g=cv(g,gu(s)),g=dv(g,kh(s));var _=Hi();_=lv(_,pu(o)),_=cv(_,gu(o)),_=dv(_,kh(o));var y;try{y=!kb(h,{start:g,end:_})}catch{y=!1}return y}function fO(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.includeDates,g=Lm(l,1);return o&&Ev(o,g)>0||h&&h.every(function(_){return Ev(_,g)>0})||!1}function pO(l,c){var s=c===void 0?{}:c,o=s.maxDate,h=s.includeDates,g=wc(l,1);return o&&Ev(g,o)>0||h&&h.every(function(_){return Ev(g,_)>0})||!1}function pZ(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.includeDates,g=pw(l),_=SL(g);return o&&Sv(o,_)>0||h&&h.every(function(y){return Sv(y,_)>0})||!1}function gZ(l,c){var s=c===void 0?{}:c,o=s.maxDate,h=s.includeDates,g=_L(l),_=r1(g,1);return o&&Sv(_,o)>0||h&&h.every(function(y){return Sv(_,y)>0})||!1}function gO(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.includeDates,g=up(l,1);return o&&jv(o,g)>0||h&&h.every(function(_){return jv(_,g)>0})||!1}function bZ(l,c){var s=c===void 0?{}:c,o=s.minDate,h=s.yearItemNumber,g=h===void 0?Lb:h,_=lb(up(l,g)),y=bh(_,g).endPeriod,v=o&&ai(o);return v&&v>y||!1}function bO(l,c){var s=c===void 0?{}:c,o=s.maxDate,h=s.includeDates,g=mu(l,1);return o&&jv(g,o)>0||h&&h.every(function(_){return jv(g,_)>0})||!1}function kZ(l,c){var s=c===void 0?{}:c,o=s.maxDate,h=s.yearItemNumber,g=h===void 0?Lb:h,_=mu(l,g),y=bh(_,g).startPeriod,v=o&&ai(o);return v&&v<y||!1}function $L(l){var c=l.minDate,s=l.includeDates;if(s&&c){var o=s.filter(function(h){return dp(h,c)>=0});return UI(o)}else return s?UI(s):c}function qL(l){var c=l.maxDate,s=l.includeDates;if(s&&c){var o=s.filter(function(h){return dp(h,c)<=0});return HI(o)}else return s?HI(s):c}function kO(l,c){var s;l===void 0&&(l=[]),c===void 0&&(c="react-datepicker__day--highlighted");for(var o=new Map,h=0,g=l.length;h<g;h++){var _=l[h];if(fu(_)){var y=xr(_,"MM.dd.yyyy"),v=o.get(y)||[];v.includes(c)||(v.push(c),o.set(y,v))}else if(typeof _=="object"){var N=Object.keys(_),S=(s=N[0])!==null&&s!==void 0?s:"",D=_[S];if(typeof S=="string"&&Array.isArray(D))for(var j=0,B=D.length;j<B;j++){var F=D[j];if(F){var y=xr(F,"MM.dd.yyyy"),v=o.get(y)||[];v.includes(S)||(v.push(S),o.set(y,v))}}}}return o}function _Z(l,c){return l.length!==c.length?!1:l.every(function(s,o){return s===c[o]})}function vZ(l,c){l===void 0&&(l=[]),c===void 0&&(c="react-datepicker__day--holidays");var s=new Map;return l.forEach(function(o){var h=o.date,g=o.holidayName;if(fu(h)){var _=xr(h,"MM.dd.yyyy"),y=s.get(_)||{className:"",holidayNames:[]};if(!("className"in y&&y.className===c&&_Z(y.holidayNames,[g]))){y.className=c;var v=y.holidayNames;y.holidayNames=v?gd(gd([],v,!0),[g],!1):[g],s.set(_,y)}}}),s}function wZ(l,c,s,o,h){for(var g=h.length,_=[],y=0;y<g;y++){var v=l,N=h[y];N&&(v=pY(v,pu(N)),v=kA(v,gu(N)),v=kY(v,kh(N)));var S=kA(l,(s+1)*o);vh(v,c)&&zm(v,S)&&N!=null&&_.push(N)}return _}function _O(l){return l<10?"0".concat(l):"".concat(l)}function bh(l,c){c===void 0&&(c=Lb);var s=Math.ceil(ai(l)/c)*c,o=s-(c-1);return{startPeriod:o,endPeriod:s}}function yZ(l){var c=new Date(l.getFullYear(),l.getMonth(),l.getDate()),s=new Date(l.getFullYear(),l.getMonth(),l.getDate(),24);return Math.round((+s-+c)/36e5)}function vO(l){var c=l.getSeconds(),s=l.getMilliseconds();return ln(l.getTime()-c*1e3-s)}function xZ(l,c){return vO(l).getTime()===vO(c).getTime()}function wO(l){if(!fu(l))throw new Error("Invalid date");var c=new Date(l);return c.setHours(0,0,0,0),c}function yO(l,c){if(!fu(l)||!fu(c))throw new Error("Invalid date received");var s=wO(l),o=wO(c);return zm(s,o)}function WL(l){return l.key===Kt.Space}var CZ=function(l){co(c,l);function c(s){var o=l.call(this,s)||this;return o.inputRef=it.createRef(),o.onTimeChange=function(h){var g,_;o.setState({time:h});var y=o.props.date,v=y instanceof Date&&!isNaN(+y),N=v?y:new Date;if(h!=null&&h.includes(":")){var S=h.split(":"),D=S[0],j=S[1];N.setHours(Number(D)),N.setMinutes(Number(j))}(_=(g=o.props).onChange)===null||_===void 0||_.call(g,N)},o.renderTimeInput=function(){var h=o.state.time,g=o.props,_=g.date,y=g.timeString,v=g.customTimeInput;return v?I.cloneElement(v,{date:_,value:h,onChange:o.onTimeChange}):it.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:o.inputRef,onClick:function(){var N;(N=o.inputRef.current)===null||N===void 0||N.focus()},required:!0,value:h,onChange:function(N){o.onTimeChange(N.target.value||y)}})},o.state={time:o.props.timeString},o}return c.getDerivedStateFromProps=function(s,o){return s.timeString!==o.time?{time:s.timeString}:null},c.prototype.render=function(){return it.createElement("div",{className:"react-datepicker__input-time-container"},it.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),it.createElement("div",{className:"react-datepicker-time__input-container"},it.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},c}(I.Component),AZ=function(l){co(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.dayEl=I.createRef(),s.handleClick=function(o){!s.isDisabled()&&s.props.onClick&&s.props.onClick(o)},s.handleMouseEnter=function(o){!s.isDisabled()&&s.props.onMouseEnter&&s.props.onMouseEnter(o)},s.handleOnKeyDown=function(o){var h,g,_=o.key;_===Kt.Space&&(o.preventDefault(),o.key=Kt.Enter),(g=(h=s.props).handleOnKeyDown)===null||g===void 0||g.call(h,o)},s.isSameDay=function(o){return ji(s.props.day,o)},s.isKeyboardSelected=function(){var o;if(s.props.disabledKeyboardNavigation)return!1;var h=s.props.selectsMultiple?(o=s.props.selectedDates)===null||o===void 0?void 0:o.some(function(_){return s.isSameDayOrWeek(_)}):s.isSameDayOrWeek(s.props.selected),g=s.props.preSelection&&s.isDisabled(s.props.preSelection);return!h&&s.isSameDayOrWeek(s.props.preSelection)&&!g},s.isDisabled=function(o){return o===void 0&&(o=s.props.day),zl(o,{minDate:s.props.minDate,maxDate:s.props.maxDate,excludeDates:s.props.excludeDates,excludeDateIntervals:s.props.excludeDateIntervals,includeDateIntervals:s.props.includeDateIntervals,includeDates:s.props.includeDates,filterDate:s.props.filterDate})},s.isExcluded=function(){return b1(s.props.day,{excludeDates:s.props.excludeDates,excludeDateIntervals:s.props.excludeDateIntervals})},s.isStartOfWeek=function(){return ji(s.props.day,_h(s.props.day,s.props.locale,s.props.calendarStartDay))},s.isSameWeek=function(o){return s.props.showWeekPicker&&ji(o,_h(s.props.day,s.props.locale,s.props.calendarStartDay))},s.isSameDayOrWeek=function(o){return s.isSameDay(o)||s.isSameWeek(o)},s.getHighLightedClass=function(){var o=s.props,h=o.day,g=o.highlightDates;if(!g)return!1;var _=xr(h,"MM.dd.yyyy");return g.get(_)},s.getHolidaysClass=function(){var o,h=s.props,g=h.day,_=h.holidays;if(!_)return[void 0];var y=xr(g,"MM.dd.yyyy");return _.has(y)?[(o=_.get(y))===null||o===void 0?void 0:o.className]:[void 0]},s.isInRange=function(){var o=s.props,h=o.day,g=o.startDate,_=o.endDate;return!g||!_?!1:cb(h,g,_)},s.isInSelectingRange=function(){var o,h=s.props,g=h.day,_=h.selectsStart,y=h.selectsEnd,v=h.selectsRange,N=h.selectsDisabledDaysInRange,S=h.startDate,D=h.endDate,j=(o=s.props.selectingDate)!==null&&o!==void 0?o:s.props.preSelection;return!(_||y||v)||!j||!N&&s.isDisabled()?!1:_&&D&&(zm(j,D)||Dm(j,D))?cb(g,j,D):y&&S&&(vh(j,S)||Dm(j,S))||v&&S&&!D&&(vh(j,S)||Dm(j,S))?cb(g,S,j):!1},s.isSelectingRangeStart=function(){var o;if(!s.isInSelectingRange())return!1;var h=s.props,g=h.day,_=h.startDate,y=h.selectsStart,v=(o=s.props.selectingDate)!==null&&o!==void 0?o:s.props.preSelection;return y?ji(g,v):ji(g,_)},s.isSelectingRangeEnd=function(){var o;if(!s.isInSelectingRange())return!1;var h=s.props,g=h.day,_=h.endDate,y=h.selectsEnd,v=h.selectsRange,N=(o=s.props.selectingDate)!==null&&o!==void 0?o:s.props.preSelection;return y||v?ji(g,N):ji(g,_)},s.isRangeStart=function(){var o=s.props,h=o.day,g=o.startDate,_=o.endDate;return!g||!_?!1:ji(g,h)},s.isRangeEnd=function(){var o=s.props,h=o.day,g=o.startDate,_=o.endDate;return!g||!_?!1:ji(_,h)},s.isWeekend=function(){var o=gG(s.props.day);return o===0||o===6},s.isAfterMonth=function(){return s.props.month!==void 0&&(s.props.month+1)%12===Ko(s.props.day)},s.isBeforeMonth=function(){return s.props.month!==void 0&&(Ko(s.props.day)+1)%12===s.props.month},s.isCurrentDay=function(){return s.isSameDay(Hi())},s.isSelected=function(){var o;return s.props.selectsMultiple?(o=s.props.selectedDates)===null||o===void 0?void 0:o.some(function(h){return s.isSameDayOrWeek(h)}):s.isSameDayOrWeek(s.props.selected)},s.getClassNames=function(o){var h=s.props.dayClassName?s.props.dayClassName(o):void 0;return Eo("react-datepicker__day",h,"react-datepicker__day--"+aZ(s.props.day),{"react-datepicker__day--disabled":s.isDisabled(),"react-datepicker__day--excluded":s.isExcluded(),"react-datepicker__day--selected":s.isSelected(),"react-datepicker__day--keyboard-selected":s.isKeyboardSelected(),"react-datepicker__day--range-start":s.isRangeStart(),"react-datepicker__day--range-end":s.isRangeEnd(),"react-datepicker__day--in-range":s.isInRange(),"react-datepicker__day--in-selecting-range":s.isInSelectingRange(),"react-datepicker__day--selecting-range-start":s.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":s.isSelectingRangeEnd(),"react-datepicker__day--today":s.isCurrentDay(),"react-datepicker__day--weekend":s.isWeekend(),"react-datepicker__day--outside-month":s.isAfterMonth()||s.isBeforeMonth()},s.getHighLightedClass(),s.getHolidaysClass())},s.getAriaLabel=function(){var o=s.props,h=o.day,g=o.ariaLabelPrefixWhenEnabled,_=g===void 0?"Choose":g,y=o.ariaLabelPrefixWhenDisabled,v=y===void 0?"Not available":y,N=s.isDisabled()||s.isExcluded()?v:_;return"".concat(N," ").concat(xr(h,"PPPP",s.props.locale))},s.getTitle=function(){var o=s.props,h=o.day,g=o.holidays,_=g===void 0?new Map:g,y=o.excludeDates,v=xr(h,"MM.dd.yyyy"),N=[];return _.has(v)&&N.push.apply(N,_.get(v).holidayNames),s.isExcluded()&&N.push(y==null?void 0:y.filter(function(S){return S instanceof Date?ji(S,h):ji(S==null?void 0:S.date,h)}).map(function(S){if(!(S instanceof Date))return S==null?void 0:S.message})),N.join(", ")},s.getTabIndex=function(){var o=s.props.selected,h=s.props.preSelection,g=!(s.props.showWeekPicker&&(s.props.showWeekNumber||!s.isStartOfWeek()))&&(s.isKeyboardSelected()||s.isSameDay(o)&&ji(h,o))?0:-1;return g},s.handleFocusDay=function(){var o;s.shouldFocusDay()&&((o=s.dayEl.current)===null||o===void 0||o.focus({preventScroll:!0}))},s.renderDayContents=function(){return s.props.monthShowsDuplicateDaysEnd&&s.isAfterMonth()||s.props.monthShowsDuplicateDaysStart&&s.isBeforeMonth()?null:s.props.renderDayContents?s.props.renderDayContents(QI(s.props.day),s.props.day):QI(s.props.day)},s.render=function(){return it.createElement("div",{ref:s.dayEl,className:s.getClassNames(s.props.day),onKeyDown:s.handleOnKeyDown,onClick:s.handleClick,onMouseEnter:s.props.usePointerEvent?void 0:s.handleMouseEnter,onPointerEnter:s.props.usePointerEvent?s.handleMouseEnter:void 0,tabIndex:s.getTabIndex(),"aria-label":s.getAriaLabel(),role:"option",title:s.getTitle(),"aria-disabled":s.isDisabled(),"aria-current":s.isCurrentDay()?"date":void 0,"aria-selected":s.isSelected()||s.isInRange()},s.renderDayContents(),s.getTitle()!==""&&it.createElement("span",{className:"overlay"},s.getTitle()))},s}return c.prototype.componentDidMount=function(){this.handleFocusDay()},c.prototype.componentDidUpdate=function(){this.handleFocusDay()},c.prototype.shouldFocusDay=function(){var s=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(s=!1),this.isDayActiveElement()&&(s=!0),this.isDuplicateDay()&&(s=!1)),s},c.prototype.isDayActiveElement=function(){var s,o,h;return((o=(s=this.props.containerRef)===null||s===void 0?void 0:s.current)===null||o===void 0?void 0:o.contains(document.activeElement))&&((h=document.activeElement)===null||h===void 0?void 0:h.classList.contains("react-datepicker__day"))},c.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},c}(I.Component),NZ=function(l){co(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.weekNumberEl=I.createRef(),s.handleClick=function(o){s.props.onClick&&s.props.onClick(o)},s.handleOnKeyDown=function(o){var h,g,_=o.key;_===Kt.Space&&(o.preventDefault(),o.key=Kt.Enter),(g=(h=s.props).handleOnKeyDown)===null||g===void 0||g.call(h,o)},s.isKeyboardSelected=function(){return!s.props.disabledKeyboardNavigation&&!ji(s.props.date,s.props.selected)&&ji(s.props.date,s.props.preSelection)},s.getTabIndex=function(){return s.props.showWeekPicker&&s.props.showWeekNumber&&(s.isKeyboardSelected()||ji(s.props.date,s.props.selected)&&ji(s.props.preSelection,s.props.selected))?0:-1},s.handleFocusWeekNumber=function(o){var h=!1;s.getTabIndex()===0&&!(o!=null&&o.isInputFocused)&&ji(s.props.date,s.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(h=!0),s.props.inline&&!s.props.shouldFocusDayInline&&(h=!1),s.props.containerRef&&s.props.containerRef.current&&s.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(h=!0)),h&&s.weekNumberEl.current&&s.weekNumberEl.current.focus({preventScroll:!0})},s}return Object.defineProperty(c,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),c.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},c.prototype.componentDidUpdate=function(s){this.handleFocusWeekNumber(s)},c.prototype.render=function(){var s=this.props,o=s.weekNumber,h=s.isWeekDisabled,g=s.ariaLabelPrefix,_=g===void 0?c.defaultProps.ariaLabelPrefix:g,y=s.onClick,v={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!y&&!h,"react-datepicker__week-number--selected":!!y&&ji(this.props.date,this.props.selected)};return it.createElement("div",{ref:this.weekNumberEl,className:Eo(v),"aria-label":"".concat(_," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},o)},c}(I.Component),EZ=function(l){co(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.isDisabled=function(o){return zl(o,{minDate:s.props.minDate,maxDate:s.props.maxDate,excludeDates:s.props.excludeDates,excludeDateIntervals:s.props.excludeDateIntervals,includeDateIntervals:s.props.includeDateIntervals,includeDates:s.props.includeDates,filterDate:s.props.filterDate})},s.handleDayClick=function(o,h){s.props.onDayClick&&s.props.onDayClick(o,h)},s.handleDayMouseEnter=function(o){s.props.onDayMouseEnter&&s.props.onDayMouseEnter(o)},s.handleWeekClick=function(o,h,g){for(var _,y,v,N=new Date(o),S=0;S<7;S++){var D=new Date(o);D.setDate(D.getDate()+S);var j=!s.isDisabled(D);if(j){N=D;break}}typeof s.props.onWeekSelect=="function"&&s.props.onWeekSelect(N,h,g),s.props.showWeekPicker&&s.handleDayClick(N,g),((_=s.props.shouldCloseOnSelect)!==null&&_!==void 0?_:c.defaultProps.shouldCloseOnSelect)&&((v=(y=s.props).setOpen)===null||v===void 0||v.call(y,!1))},s.formatWeekNumber=function(o){return s.props.formatWeekNumber?s.props.formatWeekNumber(o):oZ(o)},s.isWeekDisabled=function(){for(var o=s.startOfWeek(),h=vc(o,6),g=new Date(o);g<=h;){if(!s.isDisabled(g))return!1;g=vc(g,1)}return!0},s.renderDays=function(){var o=s.startOfWeek(),h=[],g=s.formatWeekNumber(o);if(s.props.showWeekNumber){var _=s.props.onWeekSelect||s.props.showWeekPicker?s.handleWeekClick.bind(s,o,g):void 0;h.push(it.createElement(NZ,Di({key:"W"},c.defaultProps,s.props,{weekNumber:g,isWeekDisabled:s.isWeekDisabled(),date:o,onClick:_})))}return h.concat([0,1,2,3,4,5,6].map(function(y){var v=vc(o,y);return it.createElement(AZ,Di({},c.defaultProps,s.props,{ariaLabelPrefixWhenEnabled:s.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:s.props.disabledDayAriaLabelPrefix,key:v.valueOf(),day:v,onClick:s.handleDayClick.bind(s,v),onMouseEnter:s.handleDayMouseEnter.bind(s,v)}))}))},s.startOfWeek=function(){return _h(s.props.day,s.props.locale,s.props.calendarStartDay)},s.isKeyboardSelected=function(){return!s.props.disabledKeyboardNavigation&&!ji(s.startOfWeek(),s.props.selected)&&ji(s.startOfWeek(),s.props.preSelection)},s}return Object.defineProperty(c,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),c.prototype.render=function(){var s={"react-datepicker__week":!0,"react-datepicker__week--selected":ji(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return it.createElement("div",{className:Eo(s)},this.renderDays())},c}(I.Component),Jg,SZ=6,lp={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},VC=(Jg={},Jg[lp.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Jg[lp.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Jg[lp.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Jg),Z_=1;function xO(l,c){return l?lp.FOUR_COLUMNS:c?lp.TWO_COLUMNS:lp.THREE_COLUMNS}var jZ=function(l){co(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.MONTH_REFS=gd([],Array(12),!0).map(function(){return I.createRef()}),s.QUARTER_REFS=gd([],Array(4),!0).map(function(){return I.createRef()}),s.isDisabled=function(o){return zl(o,{minDate:s.props.minDate,maxDate:s.props.maxDate,excludeDates:s.props.excludeDates,excludeDateIntervals:s.props.excludeDateIntervals,includeDateIntervals:s.props.includeDateIntervals,includeDates:s.props.includeDates,filterDate:s.props.filterDate})},s.isExcluded=function(o){return b1(o,{excludeDates:s.props.excludeDates,excludeDateIntervals:s.props.excludeDateIntervals})},s.handleDayClick=function(o,h){var g,_;(_=(g=s.props).onDayClick)===null||_===void 0||_.call(g,o,h,s.props.orderInDisplay)},s.handleDayMouseEnter=function(o){var h,g;(g=(h=s.props).onDayMouseEnter)===null||g===void 0||g.call(h,o)},s.handleMouseLeave=function(){var o,h;(h=(o=s.props).onMouseLeave)===null||h===void 0||h.call(o)},s.isRangeStartMonth=function(o){var h=s.props,g=h.day,_=h.startDate,y=h.endDate;return!_||!y?!1:pa(Pl(g,o),_)},s.isRangeStartQuarter=function(o){var h=s.props,g=h.day,_=h.startDate,y=h.endDate;return!_||!y?!1:Bv(op(g,o),_)},s.isRangeEndMonth=function(o){var h=s.props,g=h.day,_=h.startDate,y=h.endDate;return!_||!y?!1:pa(Pl(g,o),y)},s.isRangeEndQuarter=function(o){var h=s.props,g=h.day,_=h.startDate,y=h.endDate;return!_||!y?!1:Bv(op(g,o),y)},s.isInSelectingRangeMonth=function(o){var h,g=s.props,_=g.day,y=g.selectsStart,v=g.selectsEnd,N=g.selectsRange,S=g.startDate,D=g.endDate,j=(h=s.props.selectingDate)!==null&&h!==void 0?h:s.props.preSelection;return!(y||v||N)||!j?!1:y&&D?Y_(j,D,o,_):v&&S||N&&S&&!D?Y_(S,j,o,_):!1},s.isSelectingMonthRangeStart=function(o){var h;if(!s.isInSelectingRangeMonth(o))return!1;var g=s.props,_=g.day,y=g.startDate,v=g.selectsStart,N=Pl(_,o),S=(h=s.props.selectingDate)!==null&&h!==void 0?h:s.props.preSelection;return v?pa(N,S):pa(N,y)},s.isSelectingMonthRangeEnd=function(o){var h;if(!s.isInSelectingRangeMonth(o))return!1;var g=s.props,_=g.day,y=g.endDate,v=g.selectsEnd,N=g.selectsRange,S=Pl(_,o),D=(h=s.props.selectingDate)!==null&&h!==void 0?h:s.props.preSelection;return v||N?pa(S,D):pa(S,y)},s.isInSelectingRangeQuarter=function(o){var h,g=s.props,_=g.day,y=g.selectsStart,v=g.selectsEnd,N=g.selectsRange,S=g.startDate,D=g.endDate,j=(h=s.props.selectingDate)!==null&&h!==void 0?h:s.props.preSelection;return!(y||v||N)||!j?!1:y&&D?Q_(j,D,o,_):v&&S||N&&S&&!D?Q_(S,j,o,_):!1},s.isWeekInMonth=function(o){var h=s.props.day,g=vc(o,6);return pa(o,h)||pa(g,h)},s.isCurrentMonth=function(o,h){return ai(o)===ai(Hi())&&h===Ko(Hi())},s.isCurrentQuarter=function(o,h){return ai(o)===ai(Hi())&&h===Om(Hi())},s.isSelectedMonth=function(o,h,g){return Ko(g)===h&&ai(o)===ai(g)},s.isSelectMonthInList=function(o,h,g){return g.some(function(_){return s.isSelectedMonth(o,h,_)})},s.isSelectedQuarter=function(o,h,g){return Om(o)===h&&ai(o)===ai(g)},s.isMonthSelected=function(){var o=s.props,h=o.day,g=o.selected,_=o.selectedDates,y=o.selectsMultiple,v=Ko(h);return y?_==null?void 0:_.some(function(N){return s.isSelectedMonth(h,v,N)}):!!g&&s.isSelectedMonth(h,v,g)},s.renderWeeks=function(){for(var o=[],h=s.props.fixedHeight,g=0,_=!1,y=_h(bu(s.props.day),s.props.locale,s.props.calendarStartDay),v=function(F){return s.props.showWeekPicker?_h(F,s.props.locale,s.props.calendarStartDay):s.props.preSelection},N=function(F){return s.props.showWeekPicker?_h(F,s.props.locale,s.props.calendarStartDay):s.props.selected},S=s.props.selected?N(s.props.selected):void 0,D=s.props.preSelection?v(s.props.preSelection):void 0;o.push(it.createElement(EZ,Di({},s.props,{ariaLabelPrefix:s.props.weekAriaLabelPrefix,key:g,day:y,month:Ko(s.props.day),onDayClick:s.handleDayClick,onDayMouseEnter:s.handleDayMouseEnter,selected:S,preSelection:D,showWeekNumber:s.props.showWeekNumbers}))),!_;){g++,y=Av(y,1);var j=h&&g>=SZ,B=!h&&!s.isWeekInMonth(y);if(j||B)if(s.props.peekNextMonth)_=!0;else break}return o},s.onMonthClick=function(o,h){var g=s.isMonthDisabledForLabelDate(h),_=g.isDisabled,y=g.labelDate;_||s.handleDayClick(bu(y),o)},s.onMonthMouseEnter=function(o){var h=s.isMonthDisabledForLabelDate(o),g=h.isDisabled,_=h.labelDate;g||s.handleDayMouseEnter(bu(_))},s.handleMonthNavigation=function(o,h){var g,_,y,v;(_=(g=s.props).setPreSelection)===null||_===void 0||_.call(g,h),(v=(y=s.MONTH_REFS[o])===null||y===void 0?void 0:y.current)===null||v===void 0||v.focus()},s.handleKeyboardNavigation=function(o,h,g){var _,y=s.props,v=y.selected,N=y.preSelection,S=y.setPreSelection,D=y.minDate,j=y.maxDate,B=y.showFourColumnMonthYearPicker,F=y.showTwoColumnMonthYearPicker;if(N){var H=xO(B,F),$=s.getVerticalOffset(H),K=(_=VC[H])===null||_===void 0?void 0:_.grid,Q=function(q,de,re){var be,ke,Ne=de,De=re;switch(q){case Kt.ArrowRight:Ne=wc(de,Z_),De=re===11?0:re+Z_;break;case Kt.ArrowLeft:Ne=Lm(de,Z_),De=re===0?11:re-Z_;break;case Kt.ArrowUp:Ne=Lm(de,$),De=!((be=K==null?void 0:K[0])===null||be===void 0)&&be.includes(re)?re+12-$:re-$;break;case Kt.ArrowDown:Ne=wc(de,$),De=!((ke=K==null?void 0:K[K.length-1])===null||ke===void 0)&&ke.includes(re)?re-12+$:re+$;break}return{newCalculatedDate:Ne,newCalculatedMonth:De}},ee=function(q,de,re){for(var be=40,ke=q,Ne=!1,De=0,_e=Q(ke,de,re),je=_e.newCalculatedDate,oe=_e.newCalculatedMonth;!Ne;){if(De>=be){je=de,oe=re;break}if(D&&je<D){ke=Kt.ArrowRight;var ve=Q(ke,je,oe);je=ve.newCalculatedDate,oe=ve.newCalculatedMonth}if(j&&je>j){ke=Kt.ArrowLeft;var ve=Q(ke,je,oe);je=ve.newCalculatedDate,oe=ve.newCalculatedMonth}if(fZ(je,s.props)){var ve=Q(ke,je,oe);je=ve.newCalculatedDate,oe=ve.newCalculatedMonth}else Ne=!0;De++}return{newCalculatedDate:je,newCalculatedMonth:oe}};if(h===Kt.Enter){s.isMonthDisabled(g)||(s.onMonthClick(o,g),S==null||S(v));return}var ne=ee(h,N,g),le=ne.newCalculatedDate,se=ne.newCalculatedMonth;switch(h){case Kt.ArrowRight:case Kt.ArrowLeft:case Kt.ArrowUp:case Kt.ArrowDown:s.handleMonthNavigation(se,le);break}}},s.getVerticalOffset=function(o){var h,g;return(g=(h=VC[o])===null||h===void 0?void 0:h.verticalNavigationOffset)!==null&&g!==void 0?g:0},s.onMonthKeyDown=function(o,h){var g=s.props,_=g.disabledKeyboardNavigation,y=g.handleOnMonthKeyDown,v=o.key;v!==Kt.Tab&&o.preventDefault(),_||s.handleKeyboardNavigation(o,v,h),y&&y(o)},s.onQuarterClick=function(o,h){var g=op(s.props.day,h);G_(g,s.props)||s.handleDayClick(lO(g),o)},s.onQuarterMouseEnter=function(o){var h=op(s.props.day,o);G_(h,s.props)||s.handleDayMouseEnter(lO(h))},s.handleQuarterNavigation=function(o,h){var g,_,y,v;s.isDisabled(h)||s.isExcluded(h)||((_=(g=s.props).setPreSelection)===null||_===void 0||_.call(g,h),(v=(y=s.QUARTER_REFS[o-1])===null||y===void 0?void 0:y.current)===null||v===void 0||v.focus())},s.onQuarterKeyDown=function(o,h){var g,_,y=o.key;if(!s.props.disabledKeyboardNavigation)switch(y){case Kt.Enter:s.onQuarterClick(o,h),(_=(g=s.props).setPreSelection)===null||_===void 0||_.call(g,s.props.selected);break;case Kt.ArrowRight:if(!s.props.preSelection)break;s.handleQuarterNavigation(h===4?1:h+1,r1(s.props.preSelection,1));break;case Kt.ArrowLeft:if(!s.props.preSelection)break;s.handleQuarterNavigation(h===1?4:h-1,SL(s.props.preSelection));break}},s.isMonthDisabledForLabelDate=function(o){var h,g=s.props,_=g.day,y=g.minDate,v=g.maxDate,N=g.excludeDates,S=g.includeDates,D=Pl(_,o);return{isDisabled:(h=(y||v||N||S)&&UL(D,s.props))!==null&&h!==void 0?h:!1,labelDate:D}},s.isMonthDisabled=function(o){var h=s.isMonthDisabledForLabelDate(o).isDisabled;return h},s.getMonthClassNames=function(o){var h=s.props,g=h.day,_=h.startDate,y=h.endDate,v=h.preSelection,N=h.monthClassName,S=N?N(Pl(g,o)):void 0,D=s.getSelection();return Eo("react-datepicker__month-text","react-datepicker__month-".concat(o),S,{"react-datepicker__month-text--disabled":s.isMonthDisabled(o),"react-datepicker__month-text--selected":D?s.isSelectMonthInList(g,o,D):void 0,"react-datepicker__month-text--keyboard-selected":!s.props.disabledKeyboardNavigation&&v&&s.isSelectedMonth(g,o,v)&&!s.isMonthSelected()&&!s.isMonthDisabled(o),"react-datepicker__month-text--in-selecting-range":s.isInSelectingRangeMonth(o),"react-datepicker__month-text--in-range":_&&y?Y_(_,y,o,g):void 0,"react-datepicker__month-text--range-start":s.isRangeStartMonth(o),"react-datepicker__month-text--range-end":s.isRangeEndMonth(o),"react-datepicker__month-text--selecting-range-start":s.isSelectingMonthRangeStart(o),"react-datepicker__month-text--selecting-range-end":s.isSelectingMonthRangeEnd(o),"react-datepicker__month-text--today":s.isCurrentMonth(g,o)})},s.getTabIndex=function(o){if(s.props.preSelection==null)return"-1";var h=Ko(s.props.preSelection),g=s.isMonthDisabledForLabelDate(h).isDisabled,_=o===h&&!(g||s.props.disabledKeyboardNavigation)?"0":"-1";return _},s.getQuarterTabIndex=function(o){if(s.props.preSelection==null)return"-1";var h=Om(s.props.preSelection),g=G_(s.props.day,s.props),_=o===h&&!(g||s.props.disabledKeyboardNavigation)?"0":"-1";return _},s.getAriaLabel=function(o){var h=s.props,g=h.chooseDayAriaLabelPrefix,_=g===void 0?"Choose":g,y=h.disabledDayAriaLabelPrefix,v=y===void 0?"Not available":y,N=h.day,S=h.locale,D=Pl(N,o),j=s.isDisabled(D)||s.isExcluded(D)?v:_;return"".concat(j," ").concat(xr(D,"MMMM yyyy",S))},s.getQuarterClassNames=function(o){var h=s.props,g=h.day,_=h.startDate,y=h.endDate,v=h.selected,N=h.minDate,S=h.maxDate,D=h.excludeDates,j=h.includeDates,B=h.filterDate,F=h.preSelection,H=h.disabledKeyboardNavigation,$=(N||S||D||j||B)&&G_(op(g,o),s.props);return Eo("react-datepicker__quarter-text","react-datepicker__quarter-".concat(o),{"react-datepicker__quarter-text--disabled":$,"react-datepicker__quarter-text--selected":v?s.isSelectedQuarter(g,o,v):void 0,"react-datepicker__quarter-text--keyboard-selected":!H&&F&&s.isSelectedQuarter(g,o,F)&&!$,"react-datepicker__quarter-text--in-selecting-range":s.isInSelectingRangeQuarter(o),"react-datepicker__quarter-text--in-range":_&&y?Q_(_,y,o,g):void 0,"react-datepicker__quarter-text--range-start":s.isRangeStartQuarter(o),"react-datepicker__quarter-text--range-end":s.isRangeEndQuarter(o),"react-datepicker__quarter-text--today":s.isCurrentQuarter(g,o)})},s.getMonthContent=function(o){var h=s.props,g=h.showFullMonthYearPicker,_=h.renderMonthContent,y=h.locale,v=h.day,N=HL(o,y),S=g1(o,y);return _?_(o,N,S,v):g?S:N},s.getQuarterContent=function(o){var h,g=s.props,_=g.renderQuarterContent,y=g.locale,v=mZ(o,y);return(h=_==null?void 0:_(o,v))!==null&&h!==void 0?h:v},s.renderMonths=function(){var o,h=s.props,g=h.showTwoColumnMonthYearPicker,_=h.showFourColumnMonthYearPicker,y=h.day,v=h.selected,N=(o=VC[xO(_,g)])===null||o===void 0?void 0:o.grid;return N==null?void 0:N.map(function(S,D){return it.createElement("div",{className:"react-datepicker__month-wrapper",key:D},S.map(function(j,B){return it.createElement("div",{ref:s.MONTH_REFS[j],key:B,onClick:function(F){s.onMonthClick(F,j)},onKeyDown:function(F){WL(F)&&(F.preventDefault(),F.key=Kt.Enter),s.onMonthKeyDown(F,j)},onMouseEnter:s.props.usePointerEvent?void 0:function(){return s.onMonthMouseEnter(j)},onPointerEnter:s.props.usePointerEvent?function(){return s.onMonthMouseEnter(j)}:void 0,tabIndex:Number(s.getTabIndex(j)),className:s.getMonthClassNames(j),"aria-disabled":s.isMonthDisabled(j),role:"option","aria-label":s.getAriaLabel(j),"aria-current":s.isCurrentMonth(y,j)?"date":void 0,"aria-selected":v?s.isSelectedMonth(y,j,v):void 0},s.getMonthContent(j))}))})},s.renderQuarters=function(){var o=s.props,h=o.day,g=o.selected,_=[1,2,3,4];return it.createElement("div",{className:"react-datepicker__quarter-wrapper"},_.map(function(y,v){return it.createElement("div",{key:v,ref:s.QUARTER_REFS[v],role:"option",onClick:function(N){s.onQuarterClick(N,y)},onKeyDown:function(N){s.onQuarterKeyDown(N,y)},onMouseEnter:s.props.usePointerEvent?void 0:function(){return s.onQuarterMouseEnter(y)},onPointerEnter:s.props.usePointerEvent?function(){return s.onQuarterMouseEnter(y)}:void 0,className:s.getQuarterClassNames(y),"aria-selected":g?s.isSelectedQuarter(h,y,g):void 0,tabIndex:Number(s.getQuarterTabIndex(y)),"aria-current":s.isCurrentQuarter(h,y)?"date":void 0},s.getQuarterContent(y))}))},s.getClassNames=function(){var o=s.props,h=o.selectingDate,g=o.selectsStart,_=o.selectsEnd,y=o.showMonthYearPicker,v=o.showQuarterYearPicker,N=o.showWeekPicker;return Eo("react-datepicker__month",{"react-datepicker__month--selecting-range":h&&(g||_)},{"react-datepicker__monthPicker":y},{"react-datepicker__quarterPicker":v},{"react-datepicker__weekPicker":N})},s}return c.prototype.getSelection=function(){var s=this.props,o=s.selected,h=s.selectedDates,g=s.selectsMultiple;if(g)return h;if(o)return[o]},c.prototype.render=function(){var s=this.props,o=s.showMonthYearPicker,h=s.showQuarterYearPicker,g=s.day,_=s.ariaLabelPrefix,y=_===void 0?"Month ":_,v=y?y.trim()+" ":"";return it.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(v).concat(xr(g,"MMMM, yyyy",this.props.locale)),role:"listbox"},o?this.renderMonths():h?this.renderQuarters():this.renderWeeks())},c}(I.Component),DZ=function(l){co(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.isSelectedMonth=function(o){return s.props.month===o},s.renderOptions=function(){return s.props.monthNames.map(function(o,h){return it.createElement("div",{className:s.isSelectedMonth(h)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:o,onClick:s.onChange.bind(s,h),"aria-selected":s.isSelectedMonth(h)?"true":void 0},s.isSelectedMonth(h)?it.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",o)})},s.onChange=function(o){return s.props.onChange(o)},s.handleClickOutside=function(){return s.props.onCancel()},s}return c.prototype.render=function(){return it.createElement(vw,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},c}(I.Component),TZ=function(l){co(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.state={dropdownVisible:!1},s.renderSelectOptions=function(o){return o.map(function(h,g){return it.createElement("option",{key:h,value:g},h)})},s.renderSelectMode=function(o){return it.createElement("select",{value:s.props.month,className:"react-datepicker__month-select",onChange:function(h){return s.onChange(parseInt(h.target.value))}},s.renderSelectOptions(o))},s.renderReadView=function(o,h){return it.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:s.toggleDropdown},it.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),it.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},h[s.props.month]))},s.renderDropdown=function(o){return it.createElement(DZ,Di({key:"dropdown"},s.props,{monthNames:o,onChange:s.onChange,onCancel:s.toggleDropdown}))},s.renderScrollMode=function(o){var h=s.state.dropdownVisible,g=[s.renderReadView(!h,o)];return h&&g.unshift(s.renderDropdown(o)),g},s.onChange=function(o){s.toggleDropdown(),o!==s.props.month&&s.props.onChange(o)},s.toggleDropdown=function(){return s.setState({dropdownVisible:!s.state.dropdownVisible})},s}return c.prototype.render=function(){var s=this,o=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(g){return HL(g,s.props.locale)}:function(g){return g1(g,s.props.locale)}),h;switch(this.props.dropdownMode){case"scroll":h=this.renderScrollMode(o);break;case"select":h=this.renderSelectMode(o);break}return it.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},h)},c}(I.Component);function MZ(l,c){for(var s=[],o=bu(l),h=bu(c);!vh(o,h);)s.push(Hi(o)),o=wc(o,1);return s}var IZ=function(l){co(c,l);function c(s){var o=l.call(this,s)||this;return o.renderOptions=function(){return o.state.monthYearsList.map(function(h){var g=wA(h),_=md(o.props.date,h)&&pa(o.props.date,h);return it.createElement("div",{className:_?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:g,onClick:o.onChange.bind(o,g),"aria-selected":_?"true":void 0},_?it.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",xr(h,o.props.dateFormat,o.props.locale))})},o.onChange=function(h){return o.props.onChange(h)},o.handleClickOutside=function(){o.props.onCancel()},o.state={monthYearsList:MZ(o.props.minDate,o.props.maxDate)},o}return c.prototype.render=function(){var s=Eo({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return it.createElement(vw,{className:s,onClickOutside:this.handleClickOutside},this.renderOptions())},c}(I.Component),OZ=function(l){co(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.state={dropdownVisible:!1},s.renderSelectOptions=function(){for(var o=bu(s.props.minDate),h=bu(s.props.maxDate),g=[];!vh(o,h);){var _=wA(o);g.push(it.createElement("option",{key:_,value:_},xr(o,s.props.dateFormat,s.props.locale))),o=wc(o,1)}return g},s.onSelectChange=function(o){s.onChange(parseInt(o.target.value))},s.renderSelectMode=function(){return it.createElement("select",{value:wA(bu(s.props.date)),className:"react-datepicker__month-year-select",onChange:s.onSelectChange},s.renderSelectOptions())},s.renderReadView=function(o){var h=xr(s.props.date,s.props.dateFormat,s.props.locale);return it.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:s.toggleDropdown},it.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),it.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},h))},s.renderDropdown=function(){return it.createElement(IZ,Di({key:"dropdown"},s.props,{onChange:s.onChange,onCancel:s.toggleDropdown}))},s.renderScrollMode=function(){var o=s.state.dropdownVisible,h=[s.renderReadView(!o)];return o&&h.unshift(s.renderDropdown()),h},s.onChange=function(o){s.toggleDropdown();var h=Hi(o);md(s.props.date,h)&&pa(s.props.date,h)||s.props.onChange(h)},s.toggleDropdown=function(){return s.setState({dropdownVisible:!s.state.dropdownVisible})},s}return c.prototype.render=function(){var s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode();break;case"select":s=this.renderSelectMode();break}return it.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},s)},c}(I.Component),LZ=function(l){co(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.state={height:null},s.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var o,h,g;s.list&&(s.list.scrollTop=(g=s.centerLi&&c.calcCenterPosition(s.props.monthRef?s.props.monthRef.clientHeight-((h=(o=s.header)===null||o===void 0?void 0:o.clientHeight)!==null&&h!==void 0?h:0):s.list.clientHeight,s.centerLi))!==null&&g!==void 0?g:0)})},s.handleClick=function(o){var h,g;(s.props.minTime||s.props.maxTime)&&mO(o,s.props)||(s.props.excludeTimes||s.props.includeTimes||s.props.filterTime)&&hO(o,s.props)||(g=(h=s.props).onChange)===null||g===void 0||g.call(h,o)},s.isSelectedTime=function(o){return s.props.selected&&xZ(s.props.selected,o)},s.isDisabledTime=function(o){return(s.props.minTime||s.props.maxTime)&&mO(o,s.props)||(s.props.excludeTimes||s.props.includeTimes||s.props.filterTime)&&hO(o,s.props)},s.liClasses=function(o){var h,g=["react-datepicker__time-list-item",s.props.timeClassName?s.props.timeClassName(o):void 0];return s.isSelectedTime(o)&&g.push("react-datepicker__time-list-item--selected"),s.isDisabledTime(o)&&g.push("react-datepicker__time-list-item--disabled"),s.props.injectTimes&&(pu(o)*3600+gu(o)*60+kh(o))%(((h=s.props.intervals)!==null&&h!==void 0?h:c.defaultProps.intervals)*60)!==0&&g.push("react-datepicker__time-list-item--injected"),g.join(" ")},s.handleOnKeyDown=function(o,h){var g,_;o.key===Kt.Space&&(o.preventDefault(),o.key=Kt.Enter),(o.key===Kt.ArrowUp||o.key===Kt.ArrowLeft)&&o.target instanceof HTMLElement&&o.target.previousSibling&&(o.preventDefault(),o.target.previousSibling instanceof HTMLElement&&o.target.previousSibling.focus()),(o.key===Kt.ArrowDown||o.key===Kt.ArrowRight)&&o.target instanceof HTMLElement&&o.target.nextSibling&&(o.preventDefault(),o.target.nextSibling instanceof HTMLElement&&o.target.nextSibling.focus()),o.key===Kt.Enter&&s.handleClick(h),(_=(g=s.props).handleOnKeyDown)===null||_===void 0||_.call(g,o)},s.renderTimes=function(){for(var o,h=[],g=typeof s.props.format=="string"?s.props.format:"p",_=(o=s.props.intervals)!==null&&o!==void 0?o:c.defaultProps.intervals,y=s.props.selected||s.props.openToDate||Hi(),v=hv(y),N=s.props.injectTimes&&s.props.injectTimes.sort(function($,K){return $.getTime()-K.getTime()}),S=60*yZ(y),D=S/_,j=0;j<D;j++){var B=kA(v,j*_);if(h.push(B),N){var F=wZ(v,B,j,_,N);h=h.concat(F)}}var H=h.reduce(function($,K){return K.getTime()<=y.getTime()?K:$},h[0]);return h.map(function($){return it.createElement("li",{key:$.valueOf(),onClick:s.handleClick.bind(s,$),className:s.liClasses($),ref:function(K){$===H&&(s.centerLi=K)},onKeyDown:function(K){s.handleOnKeyDown(K,$)},tabIndex:$===H?0:-1,role:"option","aria-selected":s.isSelectedTime($)?"true":void 0,"aria-disabled":s.isDisabledTime($)?"true":void 0},xr($,g,s.props.locale))})},s.renderTimeCaption=function(){return s.props.showTimeCaption===!1?it.createElement(it.Fragment,null):it.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(s.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(o){s.header=o}},it.createElement("div",{className:"react-datepicker-time__header"},s.props.timeCaption))},s}return Object.defineProperty(c,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),c.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},c.prototype.componentWillUnmount=function(){var s;(s=this.resizeObserver)===null||s===void 0||s.disconnect()},c.prototype.observeDatePickerHeightChanges=function(){var s=this,o=this.props.monthRef;this.updateContainerHeight(),o&&(this.resizeObserver=new ResizeObserver(function(){s.updateContainerHeight()}),this.resizeObserver.observe(o))},c.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},c.prototype.render=function(){var s=this,o,h=this.state.height;return it.createElement("div",{className:"react-datepicker__time-container ".concat(((o=this.props.todayButton)!==null&&o!==void 0?o:c.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),it.createElement("div",{className:"react-datepicker__time"},it.createElement("div",{className:"react-datepicker__time-box"},it.createElement("ul",{className:"react-datepicker__time-list",ref:function(g){s.list=g},style:h?{height:h}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},c.calcCenterPosition=function(s,o){return o.offsetTop-(s/2-o.clientHeight/2)},c}(I.Component),CO=3,BZ=function(l){co(c,l);function c(s){var o=l.call(this,s)||this;return o.YEAR_REFS=gd([],Array(o.props.yearItemNumber),!0).map(function(){return I.createRef()}),o.isDisabled=function(h){return zl(h,{minDate:o.props.minDate,maxDate:o.props.maxDate,excludeDates:o.props.excludeDates,includeDates:o.props.includeDates,filterDate:o.props.filterDate})},o.isExcluded=function(h){return b1(h,{excludeDates:o.props.excludeDates})},o.selectingDate=function(){var h;return(h=o.props.selectingDate)!==null&&h!==void 0?h:o.props.preSelection},o.updateFocusOnPaginate=function(h){var g=function(){var _,y;(y=(_=o.YEAR_REFS[h])===null||_===void 0?void 0:_.current)===null||y===void 0||y.focus()};window.requestAnimationFrame(g)},o.handleYearClick=function(h,g){o.props.onDayClick&&o.props.onDayClick(h,g)},o.handleYearNavigation=function(h,g){var _,y,v,N,S=o.props,D=S.date,j=S.yearItemNumber;if(!(D===void 0||j===void 0)){var B=bh(D,j).startPeriod;o.isDisabled(g)||o.isExcluded(g)||((y=(_=o.props).setPreSelection)===null||y===void 0||y.call(_,g),h-B<0?o.updateFocusOnPaginate(j-(B-h)):h-B>=j?o.updateFocusOnPaginate(Math.abs(j-(h-B))):(N=(v=o.YEAR_REFS[h-B])===null||v===void 0?void 0:v.current)===null||N===void 0||N.focus())}},o.isSameDay=function(h,g){return ji(h,g)},o.isCurrentYear=function(h){return h===ai(Hi())},o.isRangeStart=function(h){return o.props.startDate&&o.props.endDate&&md(hd(Hi(),h),o.props.startDate)},o.isRangeEnd=function(h){return o.props.startDate&&o.props.endDate&&md(hd(Hi(),h),o.props.endDate)},o.isInRange=function(h){return K_(h,o.props.startDate,o.props.endDate)},o.isInSelectingRange=function(h){var g=o.props,_=g.selectsStart,y=g.selectsEnd,v=g.selectsRange,N=g.startDate,S=g.endDate;return!(_||y||v)||!o.selectingDate()?!1:_&&S?K_(h,o.selectingDate(),S):y&&N||v&&N&&!S?K_(h,N,o.selectingDate()):!1},o.isSelectingRangeStart=function(h){var g;if(!o.isInSelectingRange(h))return!1;var _=o.props,y=_.startDate,v=_.selectsStart,N=hd(Hi(),h);return v?md(N,(g=o.selectingDate())!==null&&g!==void 0?g:null):md(N,y??null)},o.isSelectingRangeEnd=function(h){var g;if(!o.isInSelectingRange(h))return!1;var _=o.props,y=_.endDate,v=_.selectsEnd,N=_.selectsRange,S=hd(Hi(),h);return v||N?md(S,(g=o.selectingDate())!==null&&g!==void 0?g:null):md(S,y??null)},o.isKeyboardSelected=function(h){if(!(o.props.date===void 0||o.props.selected==null||o.props.preSelection==null)){var g=o.props,_=g.minDate,y=g.maxDate,v=g.excludeDates,N=g.includeDates,S=g.filterDate,D=lb(hd(o.props.date,h)),j=(_||y||v||N||S)&&mv(h,o.props);return!o.props.disabledKeyboardNavigation&&!o.props.inline&&!ji(D,lb(o.props.selected))&&ji(D,lb(o.props.preSelection))&&!j}},o.isSelectedYear=function(h){var g=o.props,_=g.selectsMultiple,y=g.selected,v=g.selectedDates;return _?v==null?void 0:v.some(function(N){return h===ai(N)}):!!y&&h===ai(y)},o.onYearClick=function(h,g){var _=o.props.date;_!==void 0&&o.handleYearClick(lb(hd(_,g)),h)},o.onYearKeyDown=function(h,g){var _,y,v=h.key,N=o.props,S=N.date,D=N.yearItemNumber,j=N.handleOnKeyDown;if(v!==Kt.Tab&&h.preventDefault(),!o.props.disabledKeyboardNavigation)switch(v){case Kt.Enter:if(o.props.selected==null)break;o.onYearClick(h,g),(y=(_=o.props).setPreSelection)===null||y===void 0||y.call(_,o.props.selected);break;case Kt.ArrowRight:if(o.props.preSelection==null)break;o.handleYearNavigation(g+1,mu(o.props.preSelection,1));break;case Kt.ArrowLeft:if(o.props.preSelection==null)break;o.handleYearNavigation(g-1,up(o.props.preSelection,1));break;case Kt.ArrowUp:{if(S===void 0||D===void 0||o.props.preSelection==null)break;var B=bh(S,D).startPeriod,F=CO,H=g-F;if(H<B){var $=D%F;g>=B&&g<B+$?F=$:F+=$,H=g-F}o.handleYearNavigation(H,up(o.props.preSelection,F));break}case Kt.ArrowDown:{if(S===void 0||D===void 0||o.props.preSelection==null)break;var K=bh(S,D).endPeriod,F=CO,H=g+F;if(H>K){var $=D%F;g<=K&&g>K-$?F=$:F+=$,H=g+F}o.handleYearNavigation(H,mu(o.props.preSelection,F));break}}j&&j(h)},o.getYearClassNames=function(h){var g=o.props,_=g.date,y=g.minDate,v=g.maxDate,N=g.excludeDates,S=g.includeDates,D=g.filterDate,j=g.yearClassName;return Eo("react-datepicker__year-text","react-datepicker__year-".concat(h),_?j==null?void 0:j(hd(_,h)):void 0,{"react-datepicker__year-text--selected":o.isSelectedYear(h),"react-datepicker__year-text--disabled":(y||v||N||S||D)&&mv(h,o.props),"react-datepicker__year-text--keyboard-selected":o.isKeyboardSelected(h),"react-datepicker__year-text--range-start":o.isRangeStart(h),"react-datepicker__year-text--range-end":o.isRangeEnd(h),"react-datepicker__year-text--in-range":o.isInRange(h),"react-datepicker__year-text--in-selecting-range":o.isInSelectingRange(h),"react-datepicker__year-text--selecting-range-start":o.isSelectingRangeStart(h),"react-datepicker__year-text--selecting-range-end":o.isSelectingRangeEnd(h),"react-datepicker__year-text--today":o.isCurrentYear(h)})},o.getYearTabIndex=function(h){if(o.props.disabledKeyboardNavigation||o.props.preSelection==null)return"-1";var g=ai(o.props.preSelection),_=mv(h,o.props);return h===g&&!_?"0":"-1"},o.getYearContent=function(h){return o.props.renderYearContent?o.props.renderYearContent(h):h},o}return c.prototype.render=function(){var s=this,o=[],h=this.props,g=h.date,_=h.yearItemNumber,y=h.onYearMouseEnter,v=h.onYearMouseLeave;if(g===void 0)return null;for(var N=bh(g,_),S=N.startPeriod,D=N.endPeriod,j=function(H){o.push(it.createElement("div",{ref:B.YEAR_REFS[H-S],onClick:function($){s.onYearClick($,H)},onKeyDown:function($){WL($)&&($.preventDefault(),$.key=Kt.Enter),s.onYearKeyDown($,H)},tabIndex:Number(B.getYearTabIndex(H)),className:B.getYearClassNames(H),onMouseEnter:B.props.usePointerEvent?void 0:function($){return y($,H)},onPointerEnter:B.props.usePointerEvent?function($){return y($,H)}:void 0,onMouseLeave:B.props.usePointerEvent?void 0:function($){return v($,H)},onPointerLeave:B.props.usePointerEvent?function($){return v($,H)}:void 0,key:H,"aria-current":B.isCurrentYear(H)?"date":void 0},B.getYearContent(H)))},B=this,F=S;F<=D;F++)j(F);return it.createElement("div",{className:"react-datepicker__year"},it.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},o))},c}(I.Component);function RZ(l,c,s,o){for(var h=[],g=0;g<2*c+1;g++){var _=l+c-g,y=!0;s&&(y=ai(s)<=_),o&&y&&(y=ai(o)>=_),y&&h.push(_)}return h}var PZ=function(l){co(c,l);function c(s){var o=l.call(this,s)||this;o.renderOptions=function(){var y=o.props.year,v=o.state.yearsList.map(function(D){return it.createElement("div",{className:y===D?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:D,onClick:o.onChange.bind(o,D),"aria-selected":y===D?"true":void 0},y===D?it.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",D)}),N=o.props.minDate?ai(o.props.minDate):null,S=o.props.maxDate?ai(o.props.maxDate):null;return(!S||!o.state.yearsList.find(function(D){return D===S}))&&v.unshift(it.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:o.incrementYears},it.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!N||!o.state.yearsList.find(function(D){return D===N}))&&v.push(it.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:o.decrementYears},it.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),v},o.onChange=function(y){o.props.onChange(y)},o.handleClickOutside=function(){o.props.onCancel()},o.shiftYears=function(y){var v=o.state.yearsList.map(function(N){return N+y});o.setState({yearsList:v})},o.incrementYears=function(){return o.shiftYears(1)},o.decrementYears=function(){return o.shiftYears(-1)};var h=s.yearDropdownItemNumber,g=s.scrollableYearDropdown,_=h||(g?10:5);return o.state={yearsList:RZ(o.props.year,_,o.props.minDate,o.props.maxDate)},o.dropdownRef=I.createRef(),o}return c.prototype.componentDidMount=function(){var s=this.dropdownRef.current;if(s){var o=s.children?Array.from(s.children):null,h=o?o.find(function(g){return g.ariaSelected}):null;s.scrollTop=h&&h instanceof HTMLElement?h.offsetTop+(h.clientHeight-s.clientHeight)/2:(s.scrollHeight-s.clientHeight)/2}},c.prototype.render=function(){var s=Eo({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return it.createElement(vw,{className:s,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},c}(I.Component),zZ=function(l){co(c,l);function c(){var s=l!==null&&l.apply(this,arguments)||this;return s.state={dropdownVisible:!1},s.renderSelectOptions=function(){for(var o=s.props.minDate?ai(s.props.minDate):1900,h=s.props.maxDate?ai(s.props.maxDate):2100,g=[],_=o;_<=h;_++)g.push(it.createElement("option",{key:_,value:_},_));return g},s.onSelectChange=function(o){s.onChange(parseInt(o.target.value))},s.renderSelectMode=function(){return it.createElement("select",{value:s.props.year,className:"react-datepicker__year-select",onChange:s.onSelectChange},s.renderSelectOptions())},s.renderReadView=function(o){return it.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(h){return s.toggleDropdown(h)}},it.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),it.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},s.props.year))},s.renderDropdown=function(){return it.createElement(PZ,Di({key:"dropdown"},s.props,{onChange:s.onChange,onCancel:s.toggleDropdown}))},s.renderScrollMode=function(){var o=s.state.dropdownVisible,h=[s.renderReadView(!o)];return o&&h.unshift(s.renderDropdown()),h},s.onChange=function(o){s.toggleDropdown(),o!==s.props.year&&s.props.onChange(o)},s.toggleDropdown=function(o){s.setState({dropdownVisible:!s.state.dropdownVisible},function(){s.props.adjustDateOnChange&&s.handleYearChange(s.props.date,o)})},s.handleYearChange=function(o,h){var g;(g=s.onSelect)===null||g===void 0||g.call(s,o,h),s.setOpen()},s.onSelect=function(o,h){var g,_;(_=(g=s.props).onSelect)===null||_===void 0||_.call(g,o,h)},s.setOpen=function(){var o,h;(h=(o=s.props).setOpen)===null||h===void 0||h.call(o,!0)},s}return c.prototype.render=function(){var s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode();break;case"select":s=this.renderSelectMode();break}return it.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},s)},c}(I.Component),FZ=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],VZ=function(l){var c=(l.className||"").split(/\s+/);return FZ.some(function(s){return c.indexOf(s)>=0})},HZ=function(l){co(c,l);function c(s){var o=l.call(this,s)||this;return o.monthContainer=void 0,o.handleClickOutside=function(h){o.props.onClickOutside(h)},o.setClickOutsideRef=function(){return o.containerRef.current},o.handleDropdownFocus=function(h){var g,_;VZ(h.target)&&((_=(g=o.props).onDropdownFocus)===null||_===void 0||_.call(g,h))},o.getDateInView=function(){var h=o.props,g=h.preSelection,_=h.selected,y=h.openToDate,v=$L(o.props),N=qL(o.props),S=Hi(),D=y||_||g;return D||(v&&zm(S,v)?v:N&&vh(S,N)?N:S)},o.increaseMonth=function(){o.setState(function(h){var g=h.date;return{date:wc(g,1)}},function(){return o.handleMonthChange(o.state.date)})},o.decreaseMonth=function(){o.setState(function(h){var g=h.date;return{date:Lm(g,1)}},function(){return o.handleMonthChange(o.state.date)})},o.handleDayClick=function(h,g,_){o.props.onSelect(h,g,_),o.props.setPreSelection&&o.props.setPreSelection(h)},o.handleDayMouseEnter=function(h){o.setState({selectingDate:h}),o.props.onDayMouseEnter&&o.props.onDayMouseEnter(h)},o.handleMonthMouseLeave=function(){o.setState({selectingDate:void 0}),o.props.onMonthMouseLeave&&o.props.onMonthMouseLeave()},o.handleYearMouseEnter=function(h,g){o.setState({selectingDate:hd(Hi(),g)}),o.props.onYearMouseEnter&&o.props.onYearMouseEnter(h,g)},o.handleYearMouseLeave=function(h,g){o.props.onYearMouseLeave&&o.props.onYearMouseLeave(h,g)},o.handleYearChange=function(h){var g,_,y,v;(_=(g=o.props).onYearChange)===null||_===void 0||_.call(g,h),o.setState({isRenderAriaLiveMessage:!0}),o.props.adjustDateOnChange&&(o.props.onSelect(h),(v=(y=o.props).setOpen)===null||v===void 0||v.call(y,!0)),o.props.setPreSelection&&o.props.setPreSelection(h)},o.getEnabledPreSelectionDateForMonth=function(h){if(!zl(h,o.props))return h;for(var g=bu(h),_=cZ(h),y=vY(_,g),v=null,N=0;N<=y;N++){var S=vc(g,N);if(!zl(S,o.props)){v=S;break}}return v},o.handleMonthChange=function(h){var g,_,y,v=(g=o.getEnabledPreSelectionDateForMonth(h))!==null&&g!==void 0?g:h;o.handleCustomMonthChange(v),o.props.adjustDateOnChange&&(o.props.onSelect(v),(y=(_=o.props).setOpen)===null||y===void 0||y.call(_,!0)),o.props.setPreSelection&&o.props.setPreSelection(v)},o.handleCustomMonthChange=function(h){var g,_;(_=(g=o.props).onMonthChange)===null||_===void 0||_.call(g,h),o.setState({isRenderAriaLiveMessage:!0})},o.handleMonthYearChange=function(h){o.handleYearChange(h),o.handleMonthChange(h)},o.changeYear=function(h){o.setState(function(g){var _=g.date;return{date:hd(_,Number(h))}},function(){return o.handleYearChange(o.state.date)})},o.changeMonth=function(h){o.setState(function(g){var _=g.date;return{date:Pl(_,Number(h))}},function(){return o.handleMonthChange(o.state.date)})},o.changeMonthYear=function(h){o.setState(function(g){var _=g.date;return{date:hd(Pl(_,Ko(h)),ai(h))}},function(){return o.handleMonthYearChange(o.state.date)})},o.header=function(h){h===void 0&&(h=o.state.date);var g=_h(h,o.props.locale,o.props.calendarStartDay),_=[];return o.props.showWeekNumbers&&_.push(it.createElement("div",{key:"W",className:"react-datepicker__day-name"},o.props.weekLabel||"#")),_.concat([0,1,2,3,4,5,6].map(function(y){var v=vc(g,y),N=o.formatWeekday(v,o.props.locale),S=o.props.weekDayClassName?o.props.weekDayClassName(v):void 0;return it.createElement("div",{key:y,"aria-label":xr(v,"EEEE",o.props.locale),className:Eo("react-datepicker__day-name",S)},N)}))},o.formatWeekday=function(h,g){return o.props.formatWeekDay?dZ(h,o.props.formatWeekDay,g):o.props.useWeekdaysShort?hZ(h,g):uZ(h,g)},o.decreaseYear=function(){o.setState(function(h){var g,_=h.date;return{date:up(_,o.props.showYearPicker?(g=o.props.yearItemNumber)!==null&&g!==void 0?g:c.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.clearSelectingDate=function(){o.setState({selectingDate:void 0})},o.renderPreviousButton=function(){var h,g,_;if(!o.props.renderCustomHeader){var y=(h=o.props.monthsShown)!==null&&h!==void 0?h:c.defaultProps.monthsShown,v=o.props.showPreviousMonths?y-1:0,N=(g=o.props.monthSelectedIn)!==null&&g!==void 0?g:v,S=Lm(o.state.date,N),D;switch(!0){case o.props.showMonthYearPicker:D=gO(o.state.date,o.props);break;case o.props.showYearPicker:D=bZ(o.state.date,o.props);break;case o.props.showQuarterYearPicker:D=pZ(o.state.date,o.props);break;default:D=fO(S,o.props);break}if(!(!((_=o.props.forceShowMonthNavigation)!==null&&_!==void 0?_:c.defaultProps.forceShowMonthNavigation)&&!o.props.showDisabledMonthNavigation&&D||o.props.showTimeSelectOnly)){var j=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],B=["react-datepicker__navigation","react-datepicker__navigation--previous"],F=o.decreaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(F=o.decreaseYear),D&&o.props.showDisabledMonthNavigation&&(B.push("react-datepicker__navigation--previous--disabled"),F=void 0);var H=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,$=o.props,K=$.previousMonthButtonLabel,Q=K===void 0?c.defaultProps.previousMonthButtonLabel:K,ee=$.previousYearButtonLabel,ne=ee===void 0?c.defaultProps.previousYearButtonLabel:ee,le=o.props,se=le.previousMonthAriaLabel,q=se===void 0?typeof Q=="string"?Q:"Previous Month":se,de=le.previousYearAriaLabel,re=de===void 0?typeof ne=="string"?ne:"Previous Year":de;return it.createElement("button",{type:"button",className:B.join(" "),onClick:F,onKeyDown:o.props.handleOnKeyDown,"aria-label":H?re:q},it.createElement("span",{className:j.join(" ")},H?ne:Q))}}},o.increaseYear=function(){o.setState(function(h){var g,_=h.date;return{date:mu(_,o.props.showYearPicker?(g=o.props.yearItemNumber)!==null&&g!==void 0?g:c.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.renderNextButton=function(){var h;if(!o.props.renderCustomHeader){var g;switch(!0){case o.props.showMonthYearPicker:g=bO(o.state.date,o.props);break;case o.props.showYearPicker:g=kZ(o.state.date,o.props);break;case o.props.showQuarterYearPicker:g=gZ(o.state.date,o.props);break;default:g=pO(o.state.date,o.props);break}if(!(!((h=o.props.forceShowMonthNavigation)!==null&&h!==void 0?h:c.defaultProps.forceShowMonthNavigation)&&!o.props.showDisabledMonthNavigation&&g||o.props.showTimeSelectOnly)){var _=["react-datepicker__navigation","react-datepicker__navigation--next"],y=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];o.props.showTimeSelect&&_.push("react-datepicker__navigation--next--with-time"),o.props.todayButton&&_.push("react-datepicker__navigation--next--with-today-button");var v=o.increaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(v=o.increaseYear),g&&o.props.showDisabledMonthNavigation&&(_.push("react-datepicker__navigation--next--disabled"),v=void 0);var N=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,S=o.props,D=S.nextMonthButtonLabel,j=D===void 0?c.defaultProps.nextMonthButtonLabel:D,B=S.nextYearButtonLabel,F=B===void 0?c.defaultProps.nextYearButtonLabel:B,H=o.props,$=H.nextMonthAriaLabel,K=$===void 0?typeof j=="string"?j:"Next Month":$,Q=H.nextYearAriaLabel,ee=Q===void 0?typeof F=="string"?F:"Next Year":Q;return it.createElement("button",{type:"button",className:_.join(" "),onClick:v,onKeyDown:o.props.handleOnKeyDown,"aria-label":N?ee:K},it.createElement("span",{className:y.join(" ")},N?F:j))}}},o.renderCurrentMonth=function(h){h===void 0&&(h=o.state.date);var g=["react-datepicker__current-month"];return o.props.showYearDropdown&&g.push("react-datepicker__current-month--hasYearDropdown"),o.props.showMonthDropdown&&g.push("react-datepicker__current-month--hasMonthDropdown"),o.props.showMonthYearDropdown&&g.push("react-datepicker__current-month--hasMonthYearDropdown"),it.createElement("h2",{className:g.join(" ")},xr(h,o.props.dateFormat,o.props.locale))},o.renderYearDropdown=function(h){if(h===void 0&&(h=!1),!(!o.props.showYearDropdown||h))return it.createElement(zZ,Di({},c.defaultProps,o.props,{date:o.state.date,onChange:o.changeYear,year:ai(o.state.date)}))},o.renderMonthDropdown=function(h){if(h===void 0&&(h=!1),!(!o.props.showMonthDropdown||h))return it.createElement(TZ,Di({},c.defaultProps,o.props,{month:Ko(o.state.date),onChange:o.changeMonth}))},o.renderMonthYearDropdown=function(h){if(h===void 0&&(h=!1),!(!o.props.showMonthYearDropdown||h))return it.createElement(OZ,Di({},c.defaultProps,o.props,{date:o.state.date,onChange:o.changeMonthYear}))},o.handleTodayButtonClick=function(h){o.props.onSelect(cO(),h),o.props.setPreSelection&&o.props.setPreSelection(cO())},o.renderTodayButton=function(){if(!(!o.props.todayButton||o.props.showTimeSelectOnly))return it.createElement("div",{className:"react-datepicker__today-button",onClick:o.handleTodayButtonClick},o.props.todayButton)},o.renderDefaultHeader=function(h){var g=h.monthDate,_=h.i;return it.createElement("div",{className:"react-datepicker__header ".concat(o.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},o.renderCurrentMonth(g),it.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(o.props.dropdownMode),onFocus:o.handleDropdownFocus},o.renderMonthDropdown(_!==0),o.renderMonthYearDropdown(_!==0),o.renderYearDropdown(_!==0)),it.createElement("div",{className:"react-datepicker__day-names"},o.header(g)))},o.renderCustomHeader=function(h){var g,_,y=h.monthDate,v=h.i;if(o.props.showTimeSelect&&!o.state.monthContainer||o.props.showTimeSelectOnly)return null;var N=fO(o.state.date,o.props),S=pO(o.state.date,o.props),D=gO(o.state.date,o.props),j=bO(o.state.date,o.props),B=!o.props.showMonthYearPicker&&!o.props.showQuarterYearPicker&&!o.props.showYearPicker;return it.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:o.props.onDropdownFocus},(_=(g=o.props).renderCustomHeader)===null||_===void 0?void 0:_.call(g,Di(Di({},o.state),{customHeaderCount:v,monthDate:y,changeMonth:o.changeMonth,changeYear:o.changeYear,decreaseMonth:o.decreaseMonth,increaseMonth:o.increaseMonth,decreaseYear:o.decreaseYear,increaseYear:o.increaseYear,prevMonthButtonDisabled:N,nextMonthButtonDisabled:S,prevYearButtonDisabled:D,nextYearButtonDisabled:j})),B&&it.createElement("div",{className:"react-datepicker__day-names"},o.header(y)))},o.renderYearHeader=function(h){var g=h.monthDate,_=o.props,y=_.showYearPicker,v=_.yearItemNumber,N=v===void 0?c.defaultProps.yearItemNumber:v,S=bh(g,N),D=S.startPeriod,j=S.endPeriod;return it.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},y?"".concat(D," - ").concat(j):ai(g))},o.renderHeader=function(h){var g=h.monthDate,_=h.i,y=_===void 0?0:_,v={monthDate:g,i:y};switch(!0){case o.props.renderCustomHeader!==void 0:return o.renderCustomHeader(v);case(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker):return o.renderYearHeader(v);default:return o.renderDefaultHeader(v)}},o.renderMonths=function(){var h,g;if(!(o.props.showTimeSelectOnly||o.props.showYearPicker)){for(var _=[],y=(h=o.props.monthsShown)!==null&&h!==void 0?h:c.defaultProps.monthsShown,v=o.props.showPreviousMonths?y-1:0,N=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?mu(o.state.date,v):Lm(o.state.date,v),S=(g=o.props.monthSelectedIn)!==null&&g!==void 0?g:v,D=0;D<y;++D){var j=D-S+v,B=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?mu(N,j):wc(N,j),F="month-".concat(D),H=D<y-1,$=D>0;_.push(it.createElement("div",{key:F,ref:function(K){o.monthContainer=K??void 0},className:"react-datepicker__month-container"},o.renderHeader({monthDate:B,i:D}),it.createElement(jZ,Di({},c.defaultProps,o.props,{containerRef:o.containerRef,ariaLabelPrefix:o.props.monthAriaLabelPrefix,day:B,onDayClick:o.handleDayClick,handleOnKeyDown:o.props.handleOnDayKeyDown,handleOnMonthKeyDown:o.props.handleOnKeyDown,onDayMouseEnter:o.handleDayMouseEnter,onMouseLeave:o.handleMonthMouseLeave,orderInDisplay:D,selectingDate:o.state.selectingDate,monthShowsDuplicateDaysEnd:H,monthShowsDuplicateDaysStart:$}))))}return _}},o.renderYears=function(){if(!o.props.showTimeSelectOnly&&o.props.showYearPicker)return it.createElement("div",{className:"react-datepicker__year--container"},o.renderHeader({monthDate:o.state.date}),it.createElement(BZ,Di({},c.defaultProps,o.props,{selectingDate:o.state.selectingDate,date:o.state.date,onDayClick:o.handleDayClick,clearSelectingDate:o.clearSelectingDate,onYearMouseEnter:o.handleYearMouseEnter,onYearMouseLeave:o.handleYearMouseLeave})))},o.renderTimeSection=function(){if(o.props.showTimeSelect&&(o.state.monthContainer||o.props.showTimeSelectOnly))return it.createElement(LZ,Di({},c.defaultProps,o.props,{onChange:o.props.onTimeChange,format:o.props.timeFormat,intervals:o.props.timeIntervals,monthRef:o.state.monthContainer}))},o.renderInputTimeSection=function(){var h=o.props.selected?new Date(o.props.selected):void 0,g=h&&ww(h)&&!!o.props.selected,_=g?"".concat(_O(h.getHours()),":").concat(_O(h.getMinutes())):"";if(o.props.showTimeInput)return it.createElement(CZ,Di({},c.defaultProps,o.props,{date:h,timeString:_,onChange:o.props.onTimeChange}))},o.renderAriaLiveRegion=function(){var h,g=bh(o.state.date,(h=o.props.yearItemNumber)!==null&&h!==void 0?h:c.defaultProps.yearItemNumber),_=g.startPeriod,y=g.endPeriod,v;return o.props.showYearPicker?v="".concat(_," - ").concat(y):o.props.showMonthYearPicker||o.props.showQuarterYearPicker?v=ai(o.state.date):v="".concat(g1(Ko(o.state.date),o.props.locale)," ").concat(ai(o.state.date)),it.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},o.state.isRenderAriaLiveMessage&&v)},o.renderChildren=function(){if(o.props.children)return it.createElement("div",{className:"react-datepicker__children-container"},o.props.children)},o.containerRef=I.createRef(),o.state={date:o.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},o}return Object.defineProperty(c,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Lb}},enumerable:!1,configurable:!0}),c.prototype.componentDidMount=function(){var s=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){s.setState({monthContainer:s.monthContainer})}())},c.prototype.componentDidUpdate=function(s){var o=this;if(this.props.preSelection&&(!ji(this.props.preSelection,s.preSelection)||this.props.monthSelectedIn!==s.monthSelectedIn)){var h=!pa(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return h&&o.handleCustomMonthChange(o.state.date)})}else this.props.openToDate&&!ji(this.props.openToDate,s.openToDate)&&this.setState({date:this.props.openToDate})},c.prototype.render=function(){var s=this.props.container||nZ;return it.createElement(vw,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},it.createElement("div",{style:{display:"contents"},ref:this.containerRef},it.createElement(s,{className:Eo("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},c}(I.Component),UZ=function(l){var c=l.icon,s=l.className,o=s===void 0?"":s,h=l.onClick,g="react-datepicker__calendar-icon";if(typeof c=="string")return it.createElement("i",{className:"".concat(g," ").concat(c," ").concat(o),"aria-hidden":"true",onClick:h});if(it.isValidElement(c)){var _=c;return it.cloneElement(_,{className:"".concat(_.props.className||""," ").concat(g," ").concat(o),onClick:function(y){typeof _.props.onClick=="function"&&_.props.onClick(y),typeof h=="function"&&h(y)}})}return it.createElement("svg",{className:"".concat(g," ").concat(o),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:h},it.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},YL=function(l){co(c,l);function c(s){var o=l.call(this,s)||this;return o.portalRoot=null,o.el=document.createElement("div"),o}return c.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},c.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},c.prototype.render=function(){return Nm.createPortal(this.props.children,this.el)},c}(I.Component),$Z="[tabindex], a, button, input, select, textarea",qZ=function(l){return(l instanceof HTMLAnchorElement||!l.disabled)&&l.tabIndex!==-1},GL=function(l){co(c,l);function c(s){var o=l.call(this,s)||this;return o.getTabChildren=function(){var h;return Array.prototype.slice.call((h=o.tabLoopRef.current)===null||h===void 0?void 0:h.querySelectorAll($Z),1,-1).filter(qZ)},o.handleFocusStart=function(){var h=o.getTabChildren();h&&h.length>1&&h[h.length-1].focus()},o.handleFocusEnd=function(){var h=o.getTabChildren();h&&h.length>1&&h[0].focus()},o.tabLoopRef=I.createRef(),o}return c.prototype.render=function(){var s;return((s=this.props.enableTabLoop)!==null&&s!==void 0?s:c.defaultProps.enableTabLoop)?it.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},it.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,it.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},c.defaultProps={enableTabLoop:!0},c}(I.Component);function WZ(l){var c=function(s){var o,h=typeof s.hidePopper=="boolean"?s.hidePopper:!0,g=I.useRef(null),_=tZ(Di({open:!h,whileElementsMounted:IQ,placement:s.popperPlacement,middleware:gd([HQ({padding:15}),VQ(10),UQ({element:g})],(o=s.popperModifiers)!==null&&o!==void 0?o:[],!0)},s.popperProps)),y=Di(Di({},s),{hidePopper:h,popperProps:Di(Di({},_),{arrowRef:g})});return it.createElement(l,Di({},y))};return c}var YZ=function(l){co(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(c,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),c.prototype.render=function(){var s=this.props,o=s.className,h=s.wrapperClassName,g=s.hidePopper,_=g===void 0?c.defaultProps.hidePopper:g,y=s.popperComponent,v=s.targetComponent,N=s.enableTabLoop,S=s.popperOnKeyDown,D=s.portalId,j=s.portalHost,B=s.popperProps,F=s.showArrow,H=void 0;if(!_){var $=Eo("react-datepicker-popper",o);H=it.createElement(GL,{enableTabLoop:N},it.createElement("div",{ref:B.refs.setFloating,style:B.floatingStyles,className:$,"data-placement":B.placement,onKeyDown:S},y,F&&it.createElement(GQ,{ref:B.arrowRef,context:B.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(H=I.createElement(this.props.popperContainer,{},H)),D&&!_&&(H=it.createElement(YL,{portalId:D,portalHost:j},H));var K=Eo("react-datepicker-wrapper",h);return it.createElement(it.Fragment,null,it.createElement("div",{ref:B.refs.setReference,className:K},v),H)},c}(I.Component),GZ=WZ(YZ),AO="react-datepicker-ignore-onclickoutside";function KZ(l,c){return l&&c?Ko(l)!==Ko(c)||ai(l)!==ai(c):l!==c}var HC="Date input not valid.",Rv=function(l){co(c,l);function c(s){var o=l.call(this,s)||this;return o.calendar=null,o.input=null,o.getPreSelection=function(){return o.props.openToDate?o.props.openToDate:o.props.selectsEnd&&o.props.startDate?o.props.startDate:o.props.selectsStart&&o.props.endDate?o.props.endDate:Hi()},o.modifyHolidays=function(){var h;return(h=o.props.holidays)===null||h===void 0?void 0:h.reduce(function(g,_){var y=new Date(_.date);return ww(y)?gd(gd([],g,!0),[Di(Di({},_),{date:y})],!1):g},[])},o.calcInitialState=function(){var h,g=o.getPreSelection(),_=$L(o.props),y=qL(o.props),v=_&&zm(g,hv(_))?_:y&&vh(g,dO(y))?y:g;return{open:o.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(h=o.props.selectsRange?o.props.startDate:o.props.selected)!==null&&h!==void 0?h:v,highlightDates:kO(o.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},o.resetHiddenStatus=function(){o.setState(Di(Di({},o.state),{wasHidden:!1}))},o.setHiddenStatus=function(){o.setState(Di(Di({},o.state),{wasHidden:!0}))},o.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&o.setHiddenStatus()},o.clearPreventFocusTimeout=function(){o.preventFocusTimeout&&clearTimeout(o.preventFocusTimeout)},o.setFocus=function(){var h,g;(g=(h=o.input)===null||h===void 0?void 0:h.focus)===null||g===void 0||g.call(h,{preventScroll:!0})},o.setBlur=function(){var h,g;(g=(h=o.input)===null||h===void 0?void 0:h.blur)===null||g===void 0||g.call(h),o.cancelFocusInput()},o.deferBlur=function(){requestAnimationFrame(function(){o.setBlur()})},o.setOpen=function(h,g){g===void 0&&(g=!1),o.setState({open:h,preSelection:h&&o.state.open?o.state.preSelection:o.calcInitialState().preSelection,lastPreSelectChange:UC},function(){h||o.setState(function(_){return{focused:g?_.focused:!1}},function(){!g&&o.deferBlur(),o.setState({inputValue:null})})})},o.inputOk=function(){return fu(o.state.preSelection)},o.isCalendarOpen=function(){return o.props.open===void 0?o.state.open&&!o.props.disabled&&!o.props.readOnly:o.props.open},o.handleFocus=function(h){var g,_,y=o.state.wasHidden,v=y?o.state.open:!0;y&&o.resetHiddenStatus(),o.state.preventFocus||((_=(g=o.props).onFocus)===null||_===void 0||_.call(g,h),v&&!o.props.preventOpenOnFocus&&!o.props.readOnly&&o.setOpen(!0)),o.setState({focused:!0})},o.sendFocusBackToInput=function(){o.preventFocusTimeout&&o.clearPreventFocusTimeout(),o.setState({preventFocus:!0},function(){o.preventFocusTimeout=setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})})},o.cancelFocusInput=function(){clearTimeout(o.inputFocusTimeout),o.inputFocusTimeout=void 0},o.deferFocusInput=function(){o.cancelFocusInput(),o.inputFocusTimeout=setTimeout(function(){return o.setFocus()},1)},o.handleDropdownFocus=function(){o.cancelFocusInput()},o.handleBlur=function(h){var g,_;(!o.state.open||o.props.withPortal||o.props.showTimeInput)&&((_=(g=o.props).onBlur)===null||_===void 0||_.call(g,h)),o.state.open&&o.props.open===!1&&o.setOpen(!1),o.setState({focused:!1})},o.handleCalendarClickOutside=function(h){var g,_;o.props.inline||o.setOpen(!1),(_=(g=o.props).onClickOutside)===null||_===void 0||_.call(g,h),o.props.withPortal&&h.preventDefault()},o.handleChange=function(){for(var h,g,_,y,v,N=[],S=0;S<arguments.length;S++)N[S]=arguments[S];var D=N[0];if(!(o.props.onChangeRaw&&(o.props.onChangeRaw.apply(o,N),!D||typeof D.isDefaultPrevented!="function"||D.isDefaultPrevented()))){o.setState({inputValue:(D==null?void 0:D.target)instanceof HTMLInputElement?D.target.value:null,lastPreSelectChange:QZ});var j=o.props,B=j.selectsRange,F=j.startDate,H=j.endDate,$=(h=o.props.dateFormat)!==null&&h!==void 0?h:c.defaultProps.dateFormat,K=(g=o.props.strictParsing)!==null&&g!==void 0?g:c.defaultProps.strictParsing,Q=(D==null?void 0:D.target)instanceof HTMLInputElement?D.target.value:"";if(B){var ee=Q.split($.includes("-")?VL:"-",2).map(function(ke){return ke.trim()}),ne=ee[0],le=ee[1],se=zC(ne??"",$,o.props.locale,K),q=zC(le??"",$,o.props.locale,K),de=(F==null?void 0:F.getTime())!==(se==null?void 0:se.getTime()),re=(H==null?void 0:H.getTime())!==(q==null?void 0:q.getTime());if(!de&&!re||se&&zl(se,o.props)||q&&zl(q,o.props))return;(y=(_=o.props).onChange)===null||y===void 0||y.call(_,[se,q],D)}else{var be=zC(Q,$,o.props.locale,K,(v=o.props.selected)!==null&&v!==void 0?v:void 0);(be||!Q)&&o.setSelected(be,D,!0)}}},o.handleSelect=function(h,g,_){if(!o.props.readOnly){if(o.props.shouldCloseOnSelect&&!o.props.showTimeSelect&&o.sendFocusBackToInput(),o.props.onChangeRaw&&o.props.onChangeRaw(g),o.setSelected(h,g,!1,_),o.props.showDateSelect&&o.setState({isRenderAriaLiveMessage:!0}),!o.props.shouldCloseOnSelect||o.props.showTimeSelect)o.setPreSelection(h);else if(!o.props.inline){o.props.selectsRange||o.setOpen(!1);var y=o.props,v=y.startDate,N=y.endDate;v&&!N&&(o.props.swapRange||!yO(h,v))&&o.setOpen(!1)}}},o.setSelected=function(h,g,_,y){var v,N,S=h;if(o.props.showYearPicker){if(S!==null&&mv(ai(S),o.props))return}else if(o.props.showMonthYearPicker){if(S!==null&&UL(S,o.props))return}else if(S!==null&&zl(S,o.props))return;var D=o.props,j=D.onChange,B=D.selectsRange,F=D.startDate,H=D.endDate,$=D.selectsMultiple,K=D.selectedDates,Q=D.minTime,ee=D.swapRange;if(!Dm(o.props.selected,S)||o.props.allowSameDay||B||$)if(S!==null&&(o.props.selected&&(!_||!o.props.showTimeSelect&&!o.props.showTimeSelectOnly&&!o.props.showTimeInput)&&(S=FC(S,{hour:pu(o.props.selected),minute:gu(o.props.selected),second:kh(o.props.selected)})),!_&&(o.props.showTimeSelect||o.props.showTimeSelectOnly)&&Q&&(S=FC(S,{hour:Q.getHours(),minute:Q.getMinutes(),second:Q.getSeconds()})),o.props.inline||o.setState({preSelection:S}),o.props.focusSelectedMonth||o.setState({monthSelectedIn:y})),B){var ne=!F&&!H,le=F&&!H,se=F&&H;ne?j==null||j([S,null],g):le&&(S===null?j==null||j([null,null],g):yO(S,F)?ee?j==null||j([S,F],g):j==null||j([S,null],g):j==null||j([F,S],g)),se&&(j==null||j([S,null],g))}else if($){if(S!==null)if(!(K!=null&&K.length))j==null||j([S],g);else{var q=K.some(function(re){return ji(re,S)});if(q){var de=K.filter(function(re){return!ji(re,S)});j==null||j(de,g)}else j==null||j(gd(gd([],K,!0),[S],!1),g)}}else j==null||j(S,g);_||((N=(v=o.props).onSelect)===null||N===void 0||N.call(v,S,g),o.setState({inputValue:null}))},o.setPreSelection=function(h){if(!o.props.readOnly){var g=fu(o.props.minDate),_=fu(o.props.maxDate),y=!0;if(h){var v=hv(h);if(g&&_)y=cb(h,o.props.minDate,o.props.maxDate);else if(g){var N=hv(o.props.minDate);y=vh(h,N)||Dm(v,N)}else if(_){var S=dO(o.props.maxDate);y=zm(h,S)||Dm(v,S)}}y&&o.setState({preSelection:h})}},o.toggleCalendar=function(){o.setOpen(!o.state.open)},o.handleTimeChange=function(h){var g,_;if(!(o.props.selectsRange||o.props.selectsMultiple)){var y=o.props.selected?o.props.selected:o.getPreSelection(),v=o.props.selected?h:FC(y,{hour:pu(h),minute:gu(h)});o.setState({preSelection:v}),(_=(g=o.props).onChange)===null||_===void 0||_.call(g,v),o.props.shouldCloseOnSelect&&!o.props.showTimeInput&&(o.sendFocusBackToInput(),o.setOpen(!1)),o.props.showTimeInput&&o.setOpen(!0),(o.props.showTimeSelectOnly||o.props.showTimeSelect)&&o.setState({isRenderAriaLiveMessage:!0}),o.setState({inputValue:null})}},o.onInputClick=function(){var h,g;!o.props.disabled&&!o.props.readOnly&&o.setOpen(!0),(g=(h=o.props).onInputClick)===null||g===void 0||g.call(h)},o.onInputKeyDown=function(h){var g,_,y,v,N,S;(_=(g=o.props).onKeyDown)===null||_===void 0||_.call(g,h);var D=h.key;if(!o.state.open&&!o.props.inline&&!o.props.preventOpenOnFocus){(D===Kt.ArrowDown||D===Kt.ArrowUp||D===Kt.Enter)&&((y=o.onInputClick)===null||y===void 0||y.call(o));return}if(o.state.open){if(D===Kt.ArrowDown||D===Kt.ArrowUp){h.preventDefault();var j=o.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":o.props.showWeekPicker&&o.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':o.props.showFullMonthYearPicker||o.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',B=((v=o.calendar)===null||v===void 0?void 0:v.containerRef.current)instanceof Element&&o.calendar.containerRef.current.querySelector(j);B instanceof HTMLElement&&B.focus({preventScroll:!0});return}var F=Hi(o.state.preSelection);D===Kt.Enter?(h.preventDefault(),h.target.blur(),o.inputOk()&&o.state.lastPreSelectChange===UC?(o.handleSelect(F,h),!o.props.shouldCloseOnSelect&&o.setPreSelection(F)):o.setOpen(!1)):D===Kt.Escape?(h.preventDefault(),h.target.blur(),o.sendFocusBackToInput(),o.setOpen(!1)):D===Kt.Tab&&o.setOpen(!1),o.inputOk()||(S=(N=o.props).onInputError)===null||S===void 0||S.call(N,{code:1,msg:HC})}},o.onPortalKeyDown=function(h){var g=h.key;g===Kt.Escape&&(h.preventDefault(),o.setState({preventFocus:!0},function(){o.setOpen(!1),setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})}))},o.onDayKeyDown=function(h){var g,_,y,v,N,S,D=o.props,j=D.minDate,B=D.maxDate,F=D.disabledKeyboardNavigation,H=D.showWeekPicker,$=D.shouldCloseOnSelect,K=D.locale,Q=D.calendarStartDay,ee=D.adjustDateOnChange,ne=D.inline;if((_=(g=o.props).onKeyDown)===null||_===void 0||_.call(g,h),!F){var le=h.key,se=h.shiftKey,q=Hi(o.state.preSelection),de=function(je,oe){var ve=oe;switch(je){case Kt.ArrowRight:ve=H?Av(oe,1):vc(oe,1);break;case Kt.ArrowLeft:ve=H?ZI(oe):vK(oe);break;case Kt.ArrowUp:ve=ZI(oe);break;case Kt.ArrowDown:ve=Av(oe,1);break;case Kt.PageUp:ve=se?up(oe,1):Lm(oe,1);break;case Kt.PageDown:ve=se?mu(oe,1):wc(oe,1);break;case Kt.Home:ve=_h(oe,K,Q);break;case Kt.End:ve=lZ(oe);break}return ve},re=function(je,oe){for(var ve=40,he=je,Ee=!1,Z=0,pe=de(je,oe);!Ee;){if(Z>=ve){pe=oe;break}j&&pe<j&&(he=Kt.ArrowRight,pe=zl(j,o.props)?de(he,pe):j),B&&pe>B&&(he=Kt.ArrowLeft,pe=zl(B,o.props)?de(he,pe):B),zl(pe,o.props)?((he===Kt.PageUp||he===Kt.Home)&&(he=Kt.ArrowRight),(he===Kt.PageDown||he===Kt.End)&&(he=Kt.ArrowLeft),pe=de(he,pe)):Ee=!0,Z++}return pe};if(le===Kt.Enter){h.preventDefault(),o.handleSelect(q,h),!$&&o.setPreSelection(q);return}else if(le===Kt.Escape){h.preventDefault(),o.setOpen(!1),o.inputOk()||(v=(y=o.props).onInputError)===null||v===void 0||v.call(y,{code:1,msg:HC});return}var be=null;switch(le){case Kt.ArrowLeft:case Kt.ArrowRight:case Kt.ArrowUp:case Kt.ArrowDown:case Kt.PageUp:case Kt.PageDown:case Kt.Home:case Kt.End:be=re(le,q);break}if(!be){(S=(N=o.props).onInputError)===null||S===void 0||S.call(N,{code:1,msg:HC});return}if(h.preventDefault(),o.setState({lastPreSelectChange:UC}),ee&&o.setSelected(be),o.setPreSelection(be),ne){var ke=Ko(q),Ne=Ko(be),De=ai(q),_e=ai(be);ke!==Ne||De!==_e?o.setState({shouldFocusDayInline:!0}):o.setState({shouldFocusDayInline:!1})}}},o.onPopperKeyDown=function(h){var g=h.key;g===Kt.Escape&&(h.preventDefault(),o.sendFocusBackToInput(),o.setOpen(!1))},o.onClearClick=function(h){h&&h.preventDefault&&h.preventDefault(),o.sendFocusBackToInput();var g=o.props,_=g.selectsRange,y=g.onChange;_?y==null||y([null,null],h):y==null||y(null,h),o.setState({inputValue:null})},o.clear=function(){o.onClearClick()},o.onScroll=function(h){typeof o.props.closeOnScroll=="boolean"&&o.props.closeOnScroll?(h.target===document||h.target===document.documentElement||h.target===document.body)&&o.setOpen(!1):typeof o.props.closeOnScroll=="function"&&o.props.closeOnScroll(h)&&o.setOpen(!1)},o.renderCalendar=function(){var h,g;return!o.props.inline&&!o.isCalendarOpen()?null:it.createElement(HZ,Di({showMonthYearDropdown:void 0,ref:function(_){o.calendar=_}},o.props,o.state,{setOpen:o.setOpen,dateFormat:(h=o.props.dateFormatCalendar)!==null&&h!==void 0?h:c.defaultProps.dateFormatCalendar,onSelect:o.handleSelect,onClickOutside:o.handleCalendarClickOutside,holidays:vZ(o.modifyHolidays()),outsideClickIgnoreClass:AO,onDropdownFocus:o.handleDropdownFocus,onTimeChange:o.handleTimeChange,className:o.props.calendarClassName,container:o.props.calendarContainer,handleOnKeyDown:o.props.onKeyDown,handleOnDayKeyDown:o.onDayKeyDown,setPreSelection:o.setPreSelection,dropdownMode:(g=o.props.dropdownMode)!==null&&g!==void 0?g:c.defaultProps.dropdownMode}),o.props.children)},o.renderAriaLiveRegion=function(){var h=o.props,g=h.dateFormat,_=g===void 0?c.defaultProps.dateFormat:g,y=h.locale,v=o.props.showTimeInput||o.props.showTimeSelect,N=v?"PPPPp":"PPPP",S;return o.props.selectsRange?S="Selected start date: ".concat(Rl(o.props.startDate,{dateFormat:N,locale:y}),". ").concat(o.props.endDate?"End date: "+Rl(o.props.endDate,{dateFormat:N,locale:y}):""):o.props.showTimeSelectOnly?S="Selected time: ".concat(Rl(o.props.selected,{dateFormat:_,locale:y})):o.props.showYearPicker?S="Selected year: ".concat(Rl(o.props.selected,{dateFormat:"yyyy",locale:y})):o.props.showMonthYearPicker?S="Selected month: ".concat(Rl(o.props.selected,{dateFormat:"MMMM yyyy",locale:y})):o.props.showQuarterYearPicker?S="Selected quarter: ".concat(Rl(o.props.selected,{dateFormat:"yyyy, QQQ",locale:y})):S="Selected date: ".concat(Rl(o.props.selected,{dateFormat:N,locale:y})),it.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},S)},o.renderDateInput=function(){var h,g,_,y=Eo(o.props.className,(h={},h[AO]=o.state.open,h)),v=o.props.customInput||it.createElement("input",{type:"text"}),N=o.props.customInputRef||"ref",S=o.props,D=S.dateFormat,j=D===void 0?c.defaultProps.dateFormat:D,B=S.locale,F=typeof o.props.value=="string"?o.props.value:typeof o.state.inputValue=="string"?o.state.inputValue:o.props.selectsRange?rZ(o.props.startDate,o.props.endDate,{dateFormat:j,locale:B}):o.props.selectsMultiple?sZ((_=o.props.selectedDates)!==null&&_!==void 0?_:[],{dateFormat:j,locale:B}):Rl(o.props.selected,{dateFormat:j,locale:B});return I.cloneElement(v,(g={},g[N]=function(H){o.input=H},g.value=F,g.onBlur=o.handleBlur,g.onChange=o.handleChange,g.onClick=o.onInputClick,g.onFocus=o.handleFocus,g.onKeyDown=o.onInputKeyDown,g.id=o.props.id,g.name=o.props.name,g.form=o.props.form,g.autoFocus=o.props.autoFocus,g.placeholder=o.props.placeholderText,g.disabled=o.props.disabled,g.autoComplete=o.props.autoComplete,g.className=Eo(v.props.className,y),g.title=o.props.title,g.readOnly=o.props.readOnly,g.required=o.props.required,g.tabIndex=o.props.tabIndex,g["aria-describedby"]=o.props.ariaDescribedBy,g["aria-invalid"]=o.props.ariaInvalid,g["aria-labelledby"]=o.props.ariaLabelledBy,g["aria-required"]=o.props.ariaRequired,g))},o.renderClearButton=function(){var h=o.props,g=h.isClearable,_=h.disabled,y=h.selected,v=h.startDate,N=h.endDate,S=h.clearButtonTitle,D=h.clearButtonClassName,j=D===void 0?"":D,B=h.ariaLabelClose,F=B===void 0?"Close":B,H=h.selectedDates,$=h.readOnly;return g&&!$&&(y!=null||v!=null||N!=null||H!=null&&H.length)?it.createElement("button",{type:"button",className:Eo("react-datepicker__close-icon",j,{"react-datepicker__close-icon--disabled":_}),disabled:_,"aria-label":F,onClick:o.onClearClick,title:S,tabIndex:-1}):null},o.state=o.calcInitialState(),o.preventFocusTimeout=void 0,o}return Object.defineProperty(c,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Lb,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),c.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},c.prototype.componentDidUpdate=function(s,o){var h,g,_,y;s.inline&&KZ(s.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&s.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),s.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:kO(this.props.highlightDates)}),!o.focused&&!Dm(s.selected,this.props.selected)&&this.setState({inputValue:null}),o.open!==this.state.open&&(o.open===!1&&this.state.open===!0&&((g=(h=this.props).onCalendarOpen)===null||g===void 0||g.call(h)),o.open===!0&&this.state.open===!1&&((y=(_=this.props).onCalendarClose)===null||y===void 0||y.call(_)))},c.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},c.prototype.renderInputContainer=function(){var s=this.props,o=s.showIcon,h=s.icon,g=s.calendarIconClassname,_=s.calendarIconClassName,y=s.toggleCalendarOnIconClick,v=this.state.open;return g&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),it.createElement("div",{className:"react-datepicker__input-container".concat(o?" react-datepicker__view-calendar-icon":"")},o&&it.createElement(UZ,Di({icon:h,className:Eo(_,!_&&g,v&&"react-datepicker-ignore-onclickoutside")},y?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},c.prototype.render=function(){var s=this.renderCalendar();if(this.props.inline)return s;if(this.props.withPortal){var o=this.state.open?it.createElement(GL,{enableTabLoop:this.props.enableTabLoop},it.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},s)):null;return this.state.open&&this.props.portalId&&(o=it.createElement(YL,Di({portalId:this.props.portalId},this.props),o)),it.createElement("div",null,this.renderInputContainer(),o)}return it.createElement(GZ,Di({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:s,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},c}(I.Component),QZ="input",UC="navigate";const eb="/tours",X_="/tour-likes",$C="/tour-ratings",vb={getAll:(l={role:"ADMIN"})=>zt.get(eb,{params:l}),getById:l=>zt.get(`${eb}/${l}`),getUserTours:l=>zt.get(`${eb}/user/${l}`),cloneTour:(l,c)=>zt.post(`${eb}/${l}/clone`,{user_id:c}),like:l=>zt.post(`${X_}/like`,{tour_id:l}),unlike:l=>zt.post(`${X_}/unlike`,{tour_id:l}),isLiked:l=>zt.get(`${X_}/is-liked`,{params:{tour_id:l}}),countLikes:l=>zt.get(`${X_}/count`,{params:{tour_id:l}}),rate:(l,c)=>zt.post(`${$C}/rate`,{tour_id:l,rating:c}),getAverageRating:l=>zt.get(`${$C}/average`,{params:{tour_id:l}}),getUserRating:l=>zt.get(`${$C}/user`,{params:{tour_id:l}}),bookTour:(l,c,s,o,h)=>zt.post(`${eb}/${l}/book`,{user_id:c,start_date:s,end_date:o,spots:h}),getUserBookedTours:l=>zt.get(`/bookings/user/${l}`)},wm="https://walkingguide.onrender.com";function tb(l,c){const s=[];for(let o=0;o<l.length;o+=c)s.push(l.slice(o,o+c));return s}function ZZ(){const{t:l}=yh(),[c,s]=I.useState([]),[o,h]=I.useState([]),[g,_]=I.useState([]),[y,v]=I.useState([]),[N,S]=I.useState([]),[D,j]=I.useState(!0),[B,F]=I.useState(null),[H,$]=I.useState(!1),[K,Q]=I.useState(!1),[ee,ne]=I.useState(""),[le,se]=I.useState([]),[q,de]=I.useState(null),[re,be]=I.useState(-1),[ke,Ne]=I.useState(!1),[De,_e]=I.useState(null),[je,oe]=I.useState(!1),[ve,he]=I.useState(!1),[Ee,Z]=I.useState(!1),[pe,xe]=I.useState(!1),Se=I.useRef(),[Fe,tt]=I.useState(!1),[fe,me]=I.useState(!1),[Ie,qe]=I.useState(!1),[Le,st]=I.useState(null),[Ye,Oe]=I.useState(null),[ut,ze]=I.useState(null),[ht,Rt]=I.useState(""),[Xt,at]=I.useState(!1),[jt,Dt]=I.useState(null),[Qe,It]=I.useState(""),[Lt,Ue]=I.useState(""),[bt,Ut]=I.useState(null),[hn,Pn]=I.useState(""),{user:yn}=I.useContext(ls),li=$e=>$e?$e.startsWith("http")?$e:`${wm}${$e}`:null,di=async()=>{var $e,Gt;if(Rt(""),!Ye||!ut){Rt("Vui lng chn c ngy bt u v kt thc.");return}if(ut<Ye){Rt("Ngy kt thc phi sau ngy bt u.");return}if(!yn||!yn.id){Rt("Bn cn ng nhp  t tour.");return}try{await vb.bookTour(Le.id,yn.id,Ye,ut),qe(!1),alert("t tour thnh cng!")}catch(mt){Rt(((Gt=($e=mt==null?void 0:mt.response)==null?void 0:$e.data)==null?void 0:Gt.error)||"Li khi t tour. Vui lng th li.")}};I.useEffect(()=>{(async()=>{try{j(!0);const[Gt,mt,dn,$n,Ge]=await Promise.all([zt.get("/places"),zt.get("/tours?adminOnly=true"),zt.get("/articles"),zt.get("/hotels"),zt.get("/restaurants")]);s(Gt.data),h(mt.data),_(dn.data),v($n.data.data),S(Ge.data.data)}catch{F("Khng th ti d liu. Vui lng th li.")}finally{j(!1)}})()},[]);const Ar=Array.isArray(c)?[...c].sort(($e,Gt)=>new Date(Gt.updated_at||0)-new Date($e.updated_at||0)):[],tr=Array.isArray(o)?[...o].sort(($e,Gt)=>new Date(Gt.updated_at||0)-new Date($e.updated_at||0)):[],Oi=Array.isArray(g)?[...g].sort(($e,Gt)=>new Date(Gt.updated_at||0)-new Date($e.updated_at||0)):[],ri=Array.isArray(y)?[...y].sort(($e,Gt)=>(Gt.rating||0)-($e.rating||0)):[],ei=Array.isArray(N)?[...N].sort(($e,Gt)=>(Gt.rating||0)-($e.rating||0)):[];Array.from(new Set(c.map($e=>$e.city).filter(Boolean)));const Us=$e=>{const Gt=$e.target.value;ne(Gt),se(Gt?c.filter(mt=>mt.name.toLowerCase().includes(Gt.toLowerCase())):[]),be(-1)},ui=$e=>{de($e),ne($e.name),se([]),be(-1)},nr=$e=>{le.length!==0&&($e.key==="ArrowDown"?be(Gt=>(Gt+1)%le.length):$e.key==="ArrowUp"?be(Gt=>(Gt-1+le.length)%le.length):$e.key==="Enter"&&re>=0&&ui(le[re]))},kr=()=>{ne(""),se([]),de(null),be(-1)},ir=$e=>{$e.preventDefault(),_e(null),Ne(!0)};return i.jsxs(i.Fragment,{children:[i.jsx(Lr,{}),i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsxs("div",{className:"bg-planner-map",id:"planner-section",children:[i.jsxs("section",{className:"hero-with-bg",children:[i.jsx("h1",{children:l("Discover & Plan Your Smart Trip")}),i.jsx("p",{children:l("Find places, create your own itinerary, or let us suggest the perfect trip for you!")}),i.jsx("a",{href:"#planner-section",className:"btn btn-main",children:l("Start Planning")})]}),i.jsxs("div",{className:"row mb-5 g-4 luxury-planner-row justify-content-center",children:[i.jsx("div",{className:"col-12 col-md-6 d-flex justify-content-center mb-4",children:i.jsxs("div",{className:"luxury-card luxury-planner-card manual-homepage p-4 d-flex flex-column align-items-center justify-content-center text-center hover-shadow",style:{maxWidth:"550px",cursor:"pointer"},onClick:()=>tt(!0),children:[i.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2 justify-content-center",children:[i.jsx("h2",{className:"h5 fw-bold mb-0",children:l("Manual Planning")}),i.jsx("i",{className:"bi bi-car-front",style:{fontSize:20,marginLeft:6,color:"#3498db"},"aria-label":"manual icon"})]}),i.jsx("p",{className:"text-muted mb-0",children:l("Want to plan your own trip? Use manual mode to create your custom tour.")})]})}),i.jsx("div",{className:"col-12 col-md-6 d-flex justify-content-center mb-4",children:i.jsxs("div",{className:"luxury-card luxury-planner-card p-4 d-flex flex-column align-items-center justify-content-center text-center hover-shadow",style:{maxWidth:"550px",cursor:"pointer"},onClick:()=>me(!0),children:[i.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2 justify-content-center",children:[i.jsx("h2",{className:"h5 fw-bold mb-0",children:l("Auto Planning")}),i.jsx("i",{className:"bi bi-robot",style:{fontSize:20,marginLeft:6,color:"#3498db"},"aria-label":"autopilot icon"})]}),i.jsx("p",{className:"text-muted mb-0",children:l("Want us to create a suitable itinerary? Try auto mode for our suggestions!")})]})})]}),i.jsxs(yt,{show:Fe,onHide:()=>tt(!1),size:"lg",centered:!0,dialogClassName:"luxury-modal",children:[i.jsxs(yt.Header,{closeButton:!0,className:"luxury-modal-header",children:[i.jsx("span",{className:"modal-icon me-2",children:i.jsx("i",{className:"bi bi-pencil-square"})}),i.jsx(yt.Title,{className:"luxury-modal-title",children:l("Manual Planning")})]}),i.jsx(yt.Body,{className:"luxury-modal-body",children:i.jsx(lL,{noLayout:!0})})]}),i.jsxs(yt,{show:fe,onHide:()=>me(!1),size:"lg",centered:!0,dialogClassName:"luxury-modal",children:[i.jsxs(yt.Header,{closeButton:!0,className:"luxury-modal-header",children:[i.jsx("span",{className:"modal-icon me-2",children:i.jsx("i",{className:"bi bi-robot"})}),i.jsx(yt.Title,{className:"luxury-modal-title",children:l("Auto Planning")})]}),i.jsx(yt.Body,{className:"luxury-modal-body",children:i.jsx(cL,{noLayout:!0})})]}),i.jsxs("section",{className:"mb-6",children:[i.jsxs("h2",{className:"h4 mb-3 fw-bold text-center text-light",children:[l("No plans yet? Explore the travel map!")," ",i.jsx("a",{href:"#",onClick:ir,className:"arrow-link ms-2",style:{textDecoration:"none"},children:i.jsx("i",{className:"bi bi-arrow-right",style:{fontSize:24,verticalAlign:"middle",color:"#fff"}})})]}),i.jsxs("div",{className:"mb-3 position-relative",style:{maxWidth:400,margin:"0 auto"},children:[i.jsxs("div",{className:"input-group shadow rounded-pill",children:[i.jsx("span",{className:"input-group-text bg-white border-0 rounded-start-pill",style:{paddingRight:0},children:i.jsx("i",{className:"bi bi-search text-primary",style:{fontSize:20}})}),i.jsx("input",{type:"text",className:"form-control border-0 rounded-end-pill",placeholder:l("Search for a place..."),value:ee,onChange:Us,onKeyDown:nr,style:{boxShadow:"none",background:"white"}}),ee&&i.jsx("button",{className:"btn btn-link px-2",style:{color:"#fff"},onClick:kr,tabIndex:-1,children:i.jsx("i",{className:"bi bi-x-circle",style:{fontSize:20}})})]}),le.length>0&&i.jsx("ul",{className:"list-group position-absolute shadow-lg rounded-4 mt-1",style:{zIndex:10,width:"100%",overflow:"hidden"},children:le.map(($e,Gt)=>i.jsxs("li",{className:`list-group-item list-group-item-action d-flex align-items-center gap-2 py-2 px-3 border-0 ${Gt===re?"bg-primary text-white":""}`,onClick:()=>ui($e),onMouseEnter:()=>be(Gt),style:{cursor:"pointer",fontWeight:500,fontSize:"1rem",borderBottom:Gt!==le.length-1?"1px solid #f1f3f4":"none",background:Gt===re?"#3498db":"white"},children:[i.jsx("i",{className:"bi bi-geo-alt-fill text-primary",style:{fontSize:18,color:Gt===re?"white":"#3498db"}}),i.jsx("span",{children:$e.name})]},$e.id))})]}),i.jsx("div",{id:"map-section",className:"card shadow-lg border-0 rounded-4",children:i.jsx("div",{className:"card-body",style:{height:"24rem"},children:i.jsx(z$,{children:i.jsx(uq,{ref:Se,locations:q?[{id:q.id,name:q.name,lat:q.latitude,lng:q.longitude,image_url:q.image_url}]:c.map($e=>({id:$e.id,name:$e.name,lat:$e.latitude,lng:$e.longitude,image_url:$e.image_url})),hotels:y,restaurants:N,className:"w-100 h-100",selectedPlace:q})})})})]})]}),i.jsx("main",{className:"container flex-grow-1 main-content-mobile",style:{paddingTop:80},children:D?i.jsx("p",{className:"text-muted text-center",children:l("Loading data...")}):B?i.jsx("p",{className:"text-danger text-center",children:B}):i.jsxs(i.Fragment,{children:[i.jsxs("section",{className:"cards-section mb-6",children:[i.jsx("h2",{className:"h4 mb-4 fw-bold luxury-section-title",children:l("Featured Destinations")}),Ar.length===0?i.jsx("p",{className:"text-muted text-center",children:l("No destinations to display.")}):je?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:Ar.map($e=>i.jsx("div",{className:"col",children:i.jsx("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:i.jsxs(Jt,{to:`/places/${$e.id||$e._id}`,className:"text-decoration-none",children:[i.jsx("img",{src:$e.image_url?$e.image_url.startsWith("http")?$e.image_url:`${wm}${$e.image_url}`:void 0,alt:$e.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"},onError:Gt=>{Gt.target.src=void 0}}),!$e.image_url&&i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-geo-alt-fill"})}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:$e.name}),$e.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),$e.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:$e.description?`${$e.description.replace(/<[^>]+>/g,"").substring(0,100)}...`:l("No description available")}),$e.service&&i.jsxs("p",{className:"card-text text-muted mb-2 small",children:[i.jsx("i",{className:"bi bi-activity me-1"}),$e.service.length>80?`${$e.service.substring(0,80)}...`:$e.service]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"luxury-star",style:{color:"#f1c40f",fontSize:18},children:""}),i.jsx("span",{style:{fontWeight:600,marginLeft:4},children:$e.rating?$e.rating.toFixed(1):"0.0"}),i.jsx("span",{style:{color:"#888",marginLeft:2},children:"/ 5"})]})]})]})})},$e.id||$e._id||$e.name))}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>oe(!1),children:l("Show Less")})})]}):i.jsx(i.Fragment,{children:i.jsxs("div",{id:"placesCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[i.jsx("div",{className:"carousel-inner",children:tb(Ar,3).map(($e,Gt)=>i.jsx("div",{className:`carousel-item${Gt===0?" active":""}`,children:i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 justify-content-center",children:$e.map(mt=>i.jsx("div",{className:"col",children:i.jsx("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:i.jsxs(Jt,{to:`/places/${mt.id||mt._id}`,className:"text-decoration-none",children:[i.jsx("img",{src:mt.image_url?mt.image_url.startsWith("http")?mt.image_url:`${wm}${mt.image_url}`:void 0,alt:mt.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"},onError:dn=>{dn.target.src=void 0}}),!mt.image_url&&i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-geo-alt-fill"})}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:mt.name}),mt.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),mt.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:mt.description?`${mt.description.replace(/<[^>]+>/g,"").substring(0,100)}...`:l("No description available")}),mt.service&&i.jsxs("p",{className:"card-text text-muted mb-2 small",children:[i.jsx("i",{className:"bi bi-activity me-1"}),mt.service.length>80?`${mt.service.substring(0,80)}...`:mt.service]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"luxury-star",style:{color:"#f1c40f",fontSize:18},children:""}),i.jsx("span",{style:{fontWeight:600,marginLeft:4},children:mt.rating?mt.rating.toFixed(1):"0.0"}),i.jsx("span",{style:{color:"#888",marginLeft:2},children:"/ 5"})]})]})]})})},mt.id||mt._id||mt.name))})},$e.map(mt=>mt.id||mt._id||mt.name).join("-")))}),i.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#placesCarousel","data-bs-slide":"prev",style:{width:"5rem",height:"5rem",top:"50%",left:"-4rem",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Previous"})]}),i.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#placesCarousel","data-bs-slide":"next",style:{width:"5rem",height:"5rem",top:"50%",right:"-4rem",left:"auto",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Next"})]}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>oe(!0),children:l("Explore More")})})]})})]}),i.jsx("hr",{className:"my-5 luxury-divider"}),i.jsxs("section",{className:"cards-section mb-6",children:[i.jsx("h2",{className:"h4 mb-4 fw-bold luxury-section-title",children:l("Trips & Itineraries")}),tr.length===0?i.jsx("p",{className:"text-muted",children:l("No tours to display.")}):ve?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:tr.map($e=>i.jsx("div",{className:"col",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs(Jt,{to:`/tours/${$e.id}`,className:"text-decoration-none",children:[$e.image_url?i.jsx("img",{src:$e.image_url.startsWith("http")?$e.image_url:`${wm}${$e.image_url}`,alt:$e.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"},onError:Gt=>{Gt.target.style.display="none"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-map"})}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:$e.name}),$e.description&&i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:`${$e.description.replace(/<[^>]+>/g,"").substring(0,100)}...`}),i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"luxury-star",style:{color:"#f1c40f",fontSize:18},children:""}),i.jsx("span",{style:{fontWeight:600,marginLeft:4},children:$e.rating?$e.rating.toFixed(1):"0.0"}),i.jsx("span",{style:{color:"#888",marginLeft:2},children:"/ 5"})]}),$e.total_cost&&i.jsxs("p",{className:"card-text text-muted small mb-0 luxury-rating",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",$e.total_cost," VND"]})]})]}),i.jsx("div",{className:"px-3 pb-3",children:i.jsx("button",{className:"btn btn-main w-100 mt-2",onClick:()=>{st($e),qe(!0)},children:l("Start Tour")})})]})},$e.id))}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>he(!1),children:l("Show Less")})})]}):i.jsx(i.Fragment,{children:i.jsxs("div",{id:"toursCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[i.jsx("div",{className:"carousel-inner",children:tb(tr,3).map(($e,Gt)=>i.jsx("div",{className:`carousel-item${Gt===0?" active":""}`,children:i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 justify-content-center",children:$e.map(mt=>i.jsx("div",{className:"col",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs(Jt,{to:`/tours/${mt.id}`,className:"text-decoration-none",children:[mt.image_url?i.jsx("img",{src:mt.image_url.startsWith("http")?mt.image_url:`${wm}${mt.image_url}`,alt:mt.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"},onError:dn=>{dn.target.style.display="none"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-map"})}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:mt.name}),mt.description&&i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:`${mt.description.replace(/<[^>]+>/g,"").substring(0,100)}...`}),i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"luxury-star",style:{color:"#f1c40f",fontSize:18},children:""}),i.jsx("span",{style:{fontWeight:600,marginLeft:4},children:mt.rating?mt.rating.toFixed(1):"0.0"}),i.jsx("span",{style:{color:"#888",marginLeft:2},children:"/ 5"})]}),mt.total_cost&&i.jsxs("p",{className:"card-text text-muted small mb-0 luxury-rating",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",mt.total_cost," VND"]})]})]}),i.jsx("div",{className:"px-3 pb-3",children:i.jsx(Jt,{to:`/tours/${mt.id}`,className:"btn btn-main w-100 mt-2",children:l("Start Tour")})})]})},mt.id))})},$e.map(mt=>mt.id).join("-")))}),i.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#toursCarousel","data-bs-slide":"prev",style:{width:"5rem",height:"5rem",top:"50%",left:"-4rem",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Previous"})]}),i.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#toursCarousel","data-bs-slide":"next",style:{width:"5rem",height:"5rem",top:"50%",right:"-4rem",left:"auto",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Next"})]}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>he(!0),children:l("Join Now")})})]})})]}),i.jsx("hr",{className:"my-5 luxury-divider"}),i.jsxs("section",{className:"cards-section mb-6",children:[i.jsxs("h2",{className:"h4 mb-4 fw-bold luxury-section-title",children:[i.jsx("i",{className:"bi bi-building me-2"}),l("Top Hotels")]}),ri.length===0?i.jsx("p",{className:"text-muted",children:l("No hotels to display.")}):Ee?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:ri.map($e=>i.jsx("div",{className:"col",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs(Jt,{to:`/hotels/${$e.id}`,className:"text-decoration-none",style:{display:"block",height:"100%"},children:[i.jsxs("div",{className:"position-relative",children:[$e.images&&$e.images.length>0?i.jsxs("div",{id:`hotelCarousel${$e.id}`,className:"carousel slide","data-bs-ride":"false",children:[i.jsx("div",{className:"carousel-inner",children:$e.images.map((Gt,mt)=>i.jsx("div",{className:`carousel-item${mt===0?" active":""}`,children:i.jsx("img",{src:li(Gt.image_url),alt:Gt.caption||$e.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"},onError:dn=>{dn.target.style.display="none"}})},Gt.id))}),$e.images.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#hotelCarousel${$e.id}`,"data-bs-slide":"prev",children:i.jsx("span",{className:"carousel-control-prev-icon"})}),i.jsx("button",{className:"carousel-control-next",type:"button","data-bs-target":`#hotelCarousel${$e.id}`,"data-bs-slide":"next",children:i.jsx("span",{className:"carousel-control-next-icon"})})]})]}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-building"})}),i.jsx("div",{className:"position-absolute top-0 end-0 m-2",children:i.jsxs("span",{className:"badge bg-warning text-dark",children:[$e.stars," ",i.jsx("i",{className:"bi bi-star-fill"})]})})]}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:$e.name}),$e.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),$e.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:$e.description?`${$e.description.substring(0,100)}...`:l("No description available")}),i.jsx(Vl,{id:$e.id,type:"hotel"}),$e.price_range&&i.jsxs("p",{className:"card-text text-muted small mb-0",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",$e.price_range,$e.min_price>0&&` (${$e.min_price.toLocaleString()} VND)`]})]})]}),i.jsx("div",{className:"px-3 pb-3",children:i.jsxs(Ht,{className:"btn btn-main w-100 mt-2 ",onClick:()=>{Dt($e),at(!0)},children:[i.jsx("i",{className:"bi bi-calendar-check me-2"}),"t ngay"]})})]})},$e.id))}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>Z(!1),children:l("Show Less")})})]}):i.jsx(i.Fragment,{children:i.jsxs("div",{id:"hotelsCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[i.jsx("div",{className:"carousel-inner",children:tb(ri,3).map(($e,Gt)=>i.jsx("div",{className:`carousel-item${Gt===0?" active":""}`,children:i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 justify-content-center",children:$e.map(mt=>i.jsx("div",{className:"col",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs(Jt,{to:`/hotels/${mt.id}`,className:"text-decoration-none",style:{display:"block",height:"100%"},children:[i.jsxs("div",{className:"position-relative",children:[mt.images&&mt.images.length>0?i.jsxs("div",{id:`hotelCarousel${mt.id}`,className:"carousel slide","data-bs-ride":"false",children:[i.jsx("div",{className:"carousel-inner",children:mt.images.map((dn,$n)=>i.jsx("div",{className:`carousel-item${$n===0?" active":""}`,children:i.jsx("img",{src:li(dn.image_url),alt:dn.caption||mt.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"},onError:Ge=>{Ge.target.style.display="none"}})},dn.id))}),mt.images.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#hotelCarousel${mt.id}`,"data-bs-slide":"prev",children:i.jsx("span",{className:"carousel-control-prev-icon"})}),i.jsx("button",{className:"carousel-control-next",type:"button","data-bs-target":`#hotelCarousel${mt.id}`,"data-bs-slide":"next",children:i.jsx("span",{className:"carousel-control-next-icon"})})]})]}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-building"})}),i.jsx("div",{className:"position-absolute top-0 end-0 m-2",children:i.jsxs("span",{className:"badge bg-warning text-dark",children:[mt.stars," ",i.jsx("i",{className:"bi bi-star-fill"})]})})]}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:mt.name}),mt.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),mt.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:mt.description?`${mt.description.substring(0,100)}...`:l("No description available")}),i.jsx(Vl,{id:mt.id,type:"hotel"}),mt.price_range&&i.jsxs("p",{className:"card-text text-muted small mb-0",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",mt.price_range,mt.min_price>0&&` (${mt.min_price.toLocaleString()} VND)`]})]})]}),i.jsx("div",{className:"px-3 pb-3",children:i.jsxs(Ht,{className:"btn btn-main w-100 mt-2",onClick:()=>{Dt(mt),at(!0)},children:[i.jsx("i",{className:"bi bi-calendar-check me-2"}),l("t ngay")]})})]})},mt.id))})},$e.map(mt=>mt.id).join("-")))}),i.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#hotelsCarousel","data-bs-slide":"prev",style:{width:"5rem",height:"5rem",top:"50%",left:"-4rem",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Previous"})]}),i.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#hotelsCarousel","data-bs-slide":"next",style:{width:"5rem",height:"5rem",top:"50%",right:"-4rem",left:"auto",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Next"})]}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>Z(!0),children:l("View All Hotels")})})]})})]}),i.jsx("hr",{className:"my-5 luxury-divider"}),i.jsxs("section",{className:"cards-section mb-6",children:[i.jsxs("h2",{className:"h4 mb-4 fw-bold luxury-section-title",children:[i.jsx("i",{className:"bi bi-cup-hot me-2"}),l("Top Restaurants")]}),ei.length===0?i.jsx("p",{className:"text-muted",children:l("No restaurants to display.")}):pe?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:ei.map($e=>i.jsx("div",{className:"col",children:i.jsx(Jt,{to:`/restaurants/${$e.id}`,className:"text-decoration-none",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs("div",{className:"position-relative",children:[$e.images&&$e.images.length>0?i.jsx("img",{src:li($e.images[0].image_url),alt:$e.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-cup-hot"})}),$e.cuisine_type&&i.jsx("div",{className:"position-absolute top-0 start-0 m-2",children:i.jsx("span",{className:"badge bg-primary",children:$e.cuisine_type})})]}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:$e.name}),$e.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),$e.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:$e.description?`${$e.description.substring(0,100)}...`:l("No description available")}),i.jsx(Vl,{id:$e.id,type:"restaurant"}),$e.price_range&&i.jsxs("p",{className:"card-text text-muted small mb-0",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",$e.price_range,$e.min_price>0&&` (${$e.min_price.toLocaleString()} VND)`]})]})]})})},$e.id))}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>xe(!1),children:l("Show Less")})})]}):i.jsx(i.Fragment,{children:i.jsxs("div",{id:"restaurantsCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[i.jsx("div",{className:"carousel-inner",children:tb(ei,3).map(($e,Gt)=>i.jsx("div",{className:`carousel-item${Gt===0?" active":""}`,children:i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 justify-content-center",children:$e.map(mt=>i.jsx("div",{className:"col",children:i.jsx(Jt,{to:`/restaurants/${mt.id}`,className:"text-decoration-none",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs("div",{className:"position-relative",children:[mt.images&&mt.images.length>0?i.jsx("img",{src:li(mt.images[0].image_url),alt:mt.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-cup-hot"})}),mt.cuisine_type&&i.jsx("div",{className:"position-absolute top-0 start-0 m-2",children:i.jsx("span",{className:"badge bg-primary",children:mt.cuisine_type})})]}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:mt.name}),mt.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),mt.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:mt.description?`${mt.description.substring(0,100)}...`:l("No description available")}),i.jsx(Vl,{id:mt.id,type:"restaurant"}),mt.price_range&&i.jsxs("p",{className:"card-text text-muted small mb-0",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",mt.price_range,mt.min_price>0&&` (${mt.min_price.toLocaleString()} VND)`]})]})]})})},mt.id))})},$e.map(mt=>mt.id).join("-")))}),i.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#restaurantsCarousel","data-bs-slide":"prev",style:{width:"5rem",height:"5rem",top:"50%",left:"-4rem",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Previous"})]}),i.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#restaurantsCarousel","data-bs-slide":"next",style:{width:"5rem",height:"5rem",top:"50%",right:"-4rem",left:"auto",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Next"})]}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsx("button",{className:"btn btn-main btn-lg px-5",onClick:()=>xe(!0),children:l("View All Restaurants")})})]})})]}),i.jsxs("section",{className:"autoplanner-banner-section my-5 py-5 text-center rounded-4 shadow-lg",style:{background:"url('/banner2.jpg') center/cover no-repeat",position:"relative",boxShadow:"0 8px 32px 0 rgba(125, 127, 167, 0.13)"},children:[i.jsx("div",{style:{position:"absolute",inset:0,background:"rgba(23, 22, 22, 0.25)",borderRadius:"1.5rem",zIndex:1}}),i.jsxs("div",{className:"container py-4",style:{position:"relative",zIndex:2},children:[i.jsxs("h2",{className:"display-6 fw-bold mb-4",style:{color:"#fff"},children:[l("Plan Quickly with")," ",i.jsx("span",{style:{color:"#fff"},children:l("AutoPlanner")})]}),i.jsxs("div",{className:"route-banner position-relative mb-4",children:[i.jsxs("svg",{width:"100%",height:"100",viewBox:"0 0 1000 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute",top:30,left:0,zIndex:1},children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"routeGradient",x1:"0",y1:"0",x2:"1000",y2:"0",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#5b9df9"}),i.jsx("stop",{offset:"1",stopColor:"#b6e0fe"})]})}),i.jsx("path",{d:"M 50 50 Q 200 10, 350 50 T 650 50 T 950 50",stroke:"url(#routeGradient)",strokeWidth:"6",fill:"none",strokeLinecap:"round"})]}),(()=>{const $e=[...Ar].sort(()=>.5-Math.random()),Gt=$e.slice(0,Math.min(5,$e.length)),mt=[50,250,500,750,950];return Gt.map((dn,$n)=>i.jsxs(Jt,{to:`/places/${dn.id}`,className:"route-stop d-flex flex-column align-items-center position-absolute text-decoration-none route-stop-link",style:{zIndex:2,left:`${mt[$n]/10}%`,top:$n%2===0?0:60,minWidth:80,cursor:"pointer"},children:[i.jsx("div",{className:"route-img-wrapper mb-2 shadow-lg rounded-circle bg-white d-flex align-items-center justify-content-center",style:{width:64,height:64,overflow:"hidden",border:"3px solid #fff",transition:"box-shadow 0.2s, border-color 0.2s"},children:dn.image_url?i.jsx("img",{src:dn.image_url.startsWith("http")?dn.image_url:`${wm}${dn.image_url}`,alt:dn.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):i.jsx("i",{className:"bi bi-geo-alt-fill",style:{fontSize:36,color:"#fff"}})}),i.jsx("span",{className:"fw-semibold small",style:{color:"#fff",maxWidth:80,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:dn.name})]},dn.id))})()]}),i.jsx("p",{className:"lead mb-3",style:{color:"#fff",fontWeight:500},children:l("Your journey will be optimized with just one click!")}),i.jsx("a",{href:"#planner-section",className:"btn btn-main btn-lg mt-2 px-4 py-2",style:{fontSize:"1.2rem"},children:l("Get Started with AutoPlanner")})]})]}),i.jsxs("section",{className:"cards-section mb-6",children:[i.jsx("h2",{className:"h4 mb-4 fw-bold luxury-section-title",children:l("Read interesting shares from travelers")}),Oi.length===0?i.jsx("p",{className:"text-muted",children:l("No articles to display.")}):i.jsxs("div",{id:"articlesCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[i.jsx("div",{className:"carousel-inner",children:tb(Oi,3).map(($e,Gt)=>i.jsx("div",{className:`carousel-item${Gt===0?" active":""}`,children:i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 justify-content-center",children:$e.map(mt=>i.jsx("div",{className:"col",children:i.jsx("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:i.jsxs(Jt,{to:`/articles/${mt.article_id}`,className:"text-decoration-none",children:[mt.image_url&&i.jsx("img",{src:mt.image_url.startsWith("http")?mt.image_url:`${wm}${mt.image_url}`,alt:"nh",className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"}}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:mt.title}),mt.content&&i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:`${mt.content.replace(/<[^>]+>/g,"").substring(0,100)}...`})]})]})})},mt.article_id))})},$e.map(mt=>mt.article_id).join("-")))}),i.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#articlesCarousel","data-bs-slide":"prev",style:{width:"5rem",height:"5rem",top:"50%",left:"-4rem",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Previous"})]}),i.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#articlesCarousel","data-bs-slide":"next",style:{width:"5rem",height:"5rem",top:"50%",right:"-4rem",left:"auto",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Next"})]}),i.jsx("div",{className:"d-flex justify-content-center mt-4",children:i.jsxs(Jt,{to:"/create-article",className:"btn btn-main btn-lg px-5",children:[i.jsx("i",{className:"bi bi-pencil-square me-2"}),l("Write Blog")]})})]})]})]})}),i.jsx($r,{}),ke&&i.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:2e3,background:"rgba(0,0,0,0.15)"},children:i.jsx(eY,{place:De,onClose:()=>Ne(!1)})}),Ie&&Le&&i.jsxs("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",role:"dialog",children:[i.jsx("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:"Chn ngy bt u v kt thc tour"}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>qe(!1),"aria-label":"Close"})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:i.jsx("strong",{children:"Ngy bt u:"})}),i.jsx(Rv,{selected:Ye,onChange:$e=>Oe($e),selectsStart:!0,startDate:Ye,endDate:ut,minDate:new Date,dateFormat:"dd/MM/yyyy",className:"form-control"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:i.jsx("strong",{children:"Ngy kt thc:"})}),i.jsx(Rv,{selected:ut,onChange:$e=>ze($e),selectsEnd:!0,startDate:Ye,endDate:ut,minDate:Ye||new Date,dateFormat:"dd/MM/yyyy",className:"form-control"})]}),ht&&i.jsx("div",{className:"alert alert-danger py-2",children:ht})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>qe(!1),children:"ng"}),i.jsx("button",{type:"button",className:"btn btn-main",onClick:di,children:"Xc nhn"})]})]})}),i.jsx("div",{className:"modal-backdrop fade show",style:{zIndex:1040}})]}),Xt&&jt&&i.jsxs(yt,{show:Xt,onHide:()=>at(!1),centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"t phng khch sn"})}),i.jsx(yt.Body,{children:i.jsxs(gn,{children:[i.jsxs(gn.Group,{className:"mb-3",children:[i.jsx(gn.Label,{children:"Ngy nhn phng"}),i.jsx(gn.Control,{type:"date",value:Qe,onChange:$e=>It($e.target.value)})]}),i.jsxs(gn.Group,{className:"mb-3",children:[i.jsx(gn.Label,{children:"Ngy tr phng"}),i.jsx(gn.Control,{type:"date",value:Lt,onChange:$e=>Ue($e.target.value)})]}),jt&&jt.room_types&&i.jsxs(gn.Group,{className:"mb-3",children:[i.jsx(gn.Label,{children:"Loi phng"}),i.jsxs(gn.Select,{value:hn,onChange:$e=>Pn($e.target.value),children:[i.jsx("option",{value:"",children:"Chn loi phng"}),Array.isArray(jt.room_types)?jt.room_types.map(($e,Gt)=>i.jsx("option",{value:$e,children:$e},Gt)):JSON.parse(jt.room_types||"[]").map(($e,Gt)=>i.jsx("option",{value:$e,children:$e},Gt))]})]}),bt==="success"&&i.jsx("div",{className:"alert alert-success",children:"t phng thnh cng!"}),bt==="error"&&i.jsx("div",{className:"alert alert-danger",children:"t phng tht bi. Vui lng th li."})]})}),i.jsxs(yt.Footer,{children:[i.jsx(Ht,{variant:"secondary",onClick:()=>at(!1),children:"ng"}),i.jsx(Ht,{variant:"success",onClick:async()=>{Ut(null);try{await gh.bookHotel({user_id:yn==null?void 0:yn.id,hotel_id:jt==null?void 0:jt.id,check_in:Qe,check_out:Lt,room_type:hn}),Ut("success")}catch{Ut("error")}},disabled:!Qe||!Lt||!hn,children:"Xc nhn t phng"})]})]})]})]})}const NO="https://walkingguide.onrender.com";function XZ(){var Ie;const{user:l,login:c}=I.useContext(ls),[s,o]=I.useState(null),[h,g]=I.useState(!1),[_,y]=I.useState({full_name:"",email:""}),[v,N]=I.useState([]),[S,D]=I.useState(!0),[j,B]=I.useState(null),[F,H]=I.useState(!1),[$,K]=I.useState(!1),[Q,ee]=I.useState({currentPassword:"",newPassword:"",confirmNewPassword:""}),[ne,le]=I.useState(""),[se,q]=I.useState(""),[de,re]=I.useState(!1),[be,ke]=I.useState(null),[Ne,De]=I.useState(""),[_e,je]=I.useState(!1);I.useEffect(()=>{l&&(oe(),ve())},[l]);const oe=async()=>{try{D(!0);const qe=await Sm.getProfile();o(qe.data),y({full_name:qe.data.full_name,email:qe.data.email})}catch(qe){B("Failed to load profile"),console.error("Error loading profile:",qe)}finally{D(!1)}},ve=async()=>{var qe;try{const Le=await vb.getUserTours(l.id);console.log("UserPage - User tours:",Le.data),console.log("UserPage - First tour image_url:",(qe=Le.data[0])==null?void 0:qe.image_url),N(Le.data)}catch(Le){console.error("Error loading user tours:",Le)}},he=()=>{g(!0)},Ee=()=>{g(!1),y({full_name:s.full_name,email:s.email})},Z=async()=>{try{H(!0);const qe=await Sm.updateProfile(_);o(qe.data),g(!1),c(qe.data),B(null)}catch(qe){B("Failed to update profile"),console.error("Error updating profile:",qe)}finally{H(!1)}},pe=qe=>{const{name:Le,value:st}=qe.target;y(Ye=>({...Ye,[Le]:st}))},xe=qe=>{const{name:Le,value:st}=qe.target;ee(Ye=>({...Ye,[Le]:st}))},Se=async qe=>{var Le,st;if(qe.preventDefault(),le(""),q(""),Q.newPassword!==Q.confirmNewPassword){le("New passwords do not match");return}if(!Q.currentPassword||!Q.newPassword){le("Please fill in all fields");return}try{re(!0),await Sm.changePassword({currentPassword:Q.currentPassword,newPassword:Q.newPassword}),q("Password updated successfully"),ee({currentPassword:"",newPassword:"",confirmNewPassword:""}),K(!1)}catch(Ye){le(((st=(Le=Ye.response)==null?void 0:Le.data)==null?void 0:st.message)||"Failed to update password")}finally{re(!1)}},Fe=qe=>new Date(qe).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"}),tt=qe=>{const Le=qe.target.files[0];if(Le){ke(Le);const st=new FileReader;st.onload=Ye=>De(Ye.target.result),st.readAsDataURL(Le)}},fe=async qe=>{const Le=new FormData;return Le.append("file",qe),(await(await fetch("https://walkingguide.onrender.com/api/upload",{method:"POST",body:Le})).json()).url},me=async()=>{if(be)try{je(!0);const qe=await fe(be),Le=await Sm.updateProfile({..._,image_url:qe});o(Le.data),c(Le.data),ke(null),De(""),B(null)}catch(qe){B("Failed to upload image"),console.error("Error uploading image:",qe)}finally{je(!1)}};return l?S?i.jsxs("div",{className:"user-page-container",children:[i.jsx(Lr,{}),i.jsx("div",{className:"user-page-content",children:i.jsx("div",{className:"loading",children:"ang ti h s..."})}),i.jsx($r,{})]}):i.jsxs("div",{className:"user-page-container",children:[i.jsx(Lr,{}),i.jsxs("div",{className:"user-page-content",children:[i.jsxs("div",{className:"profile-header",children:[i.jsx("h1",{children:"H s ngi dng"}),i.jsxs("div",{className:"profile-avatar",children:[s!=null&&s.image_url?i.jsx("img",{src:s.image_url.startsWith("http")?s.image_url:`${NO}${s.image_url}`,alt:s.full_name,className:"avatar-image",style:{width:"120px",height:"120px",borderRadius:"50%",objectFit:"cover",border:"4px solid #fff",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},onError:qe=>{qe.target.style.display="none",qe.target.nextSibling.style.display="flex"}}):null,i.jsx("div",{className:"avatar-circle",style:{display:s!=null&&s.image_url?"none":"flex"},children:(Ie=s==null?void 0:s.full_name)==null?void 0:Ie.charAt(0).toUpperCase()}),!h&&i.jsxs("div",{className:"avatar-upload",children:[i.jsx("label",{htmlFor:"profile-image",className:"upload-btn",children:i.jsx("i",{className:"bi bi-camera"})}),i.jsx("input",{id:"profile-image",type:"file",accept:"image/*",onChange:tt,style:{display:"none"}})]})]}),(be||Ne)&&i.jsxs("div",{className:"image-upload-section",style:{marginTop:"20px",textAlign:"center"},children:[i.jsx("div",{style:{marginBottom:"10px"},children:i.jsx("img",{src:Ne,alt:"Preview",style:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover",border:"2px solid #ddd"}})}),i.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[i.jsx("button",{className:"save-btn",onClick:me,disabled:_e,style:{padding:"8px 16px",fontSize:"14px"},children:_e?"ang ti...":"Lu nh"}),i.jsx("button",{className:"cancel-btn",onClick:()=>{ke(null),De("")},style:{padding:"8px 16px",fontSize:"14px"},children:"Hy"})]})]})]}),j&&i.jsx("div",{className:"error-message",children:j}),i.jsxs("div",{className:"profile-sections",children:[i.jsxs("div",{className:"profile-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Thng tin c nhn"}),!h&&i.jsx("button",{className:"edit-btn",onClick:he,children:"Chnh sa h s"})]}),h?i.jsxs("div",{className:"edit-form",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"full_name",children:"H v tn"}),i.jsx("input",{type:"text",id:"full_name",name:"full_name",value:_.full_name,onChange:pe,className:"form-input"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"email",children:"Email"}),i.jsx("input",{type:"email",id:"email",name:"email",value:_.email,onChange:pe,className:"form-input"})]}),i.jsxs("div",{className:"form-actions",children:[i.jsx("button",{className:"save-btn",onClick:Z,disabled:F,children:F?"ang lu...":"Lu thay i"}),i.jsx("button",{className:"cancel-btn",onClick:Ee,children:"Hy"})]})]}):i.jsxs("div",{className:"profile-info",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"H v tn:"}),i.jsx("span",{className:"info-value",children:s==null?void 0:s.full_name})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Email:"}),i.jsx("span",{className:"info-value",children:s==null?void 0:s.email})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Mt khu:"}),i.jsx("span",{className:"info-value",children:""}),i.jsx("button",{className:"edit-btn",style:{background:$?"#6c757d":"#3498db",marginTop:10},onClick:()=>K(qe=>!qe),type:"button",children:$?"Hy i mt khu":"i mt khu"})]}),$&&i.jsxs("form",{className:"edit-form",onSubmit:Se,style:{marginTop:20},children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"currentPassword",children:"Mt khu hin ti"}),i.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",value:Q.currentPassword,onChange:xe,className:"form-input",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"newPassword",children:"Mt khu mi"}),i.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:Q.newPassword,onChange:xe,className:"form-input",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"confirmNewPassword",children:"Xc nhn mt khu mi"}),i.jsx("input",{type:"password",id:"confirmNewPassword",name:"confirmNewPassword",value:Q.confirmNewPassword,onChange:xe,className:"form-input",required:!0})]}),ne&&i.jsx("div",{className:"error-message",children:ne}),se&&i.jsx("div",{className:"success-message",children:se}),i.jsx("div",{className:"form-actions",children:i.jsx("button",{className:"save-btn",type:"submit",disabled:de,children:de?"ang lu...":"Lu mt khu"})})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Thnh vin t:"}),i.jsx("span",{className:"info-value",children:s!=null&&s.created_at?Fe(s.created_at):"Khng r"})]})]})]}),i.jsxs("div",{className:"profile-section",children:[i.jsx("h2",{children:"Thng k ca bn"}),i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:v.length}),i.jsx("div",{className:"stat-label",children:"Tng s tour"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:"0"}),i.jsx("div",{className:"stat-label",children:"Tour  hon thnh"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:v.length}),i.jsx("div",{className:"stat-label",children:"Tour  ln k hoch"})]})]})]}),i.jsxs("div",{className:"profile-section",children:[i.jsx("h2",{children:"Tour gn y"}),v.length>0?i.jsx("div",{className:"tours-list",children:v.slice(0,5).map(qe=>(console.log("UserPage - Rendering tour:",qe.name,"image_url:",qe.image_url),i.jsxs("div",{className:"tour-item",children:[i.jsx("div",{className:"tour-image",children:qe.image_url?i.jsx("img",{src:qe.image_url.startsWith("http")?qe.image_url:`${NO}${qe.image_url}`,alt:qe.name,style:{width:"80px",height:"80px",borderRadius:"12px",objectFit:"cover",border:"2px solid #e9ecef"},onError:Le=>{console.log("UserPage - Tour image failed to load:",Le.target.src),Le.target.style.display="none"},onLoad:()=>console.log("UserPage - Tour image loaded successfully:",qe.name)}):i.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"12px",background:"linear-gradient(135deg, #1a5bb8 0%, #1a5bb8 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1.5rem"},children:i.jsx("i",{className:"bi bi-map"})})}),i.jsxs("div",{className:"tour-info",children:[i.jsx("h3",{className:"tour-title",children:qe.name}),i.jsx("p",{className:"tour-description",children:qe.description}),i.jsxs("div",{className:"tour-meta",children:[i.jsx("span",{className:"tour-date",children:qe.start_time&&qe.end_time?`${Fe(qe.start_time)} - ${Fe(qe.end_time)}`:"Cha t ngy"}),i.jsx("span",{className:"tour-status status-planned",children:" ln k hoch"})]})]})]},qe.id)))}):i.jsxs("div",{className:"no-tours",children:[i.jsx("p",{children:"Bn cha to tour no."}),i.jsx("a",{href:"/plan-trip",className:"create-tour-btn",children:"To tour u tin ca bn"})]})]})]})]}),i.jsx($r,{})]}):i.jsxs("div",{className:"user-page-container",children:[i.jsx(Lr,{}),i.jsxs("div",{className:"user-page-content",children:[i.jsx("h1",{children:"H s ngi dng"}),i.jsx("p",{children:"Vui lng ng nhp  xem h s ca bn."})]}),i.jsx($r,{})]})}const JZ="https://walkingguide.onrender.com";function eX(){const{t:l}=yh(),[c,s]=I.useState([]),[o,h]=I.useState(!0),[g,_]=I.useState(null);return I.useEffect(()=>{(async()=>{try{h(!0);const N=(await zt.get("/places")).data.sort((S,D)=>new Date(D.updated_at||0)-new Date(S.updated_at||0));s(N)}catch(v){console.error("Error:",{message:v.message,code:v.code,response:v.response?v.response.data:null}),_("Khng th kt ni n server. D liu mc nh s c s dng."),s([{id:4,name:"Hn Chng",description:"a im ngm bin p, yn bnh.",latitude:12.2701,longitude:109.2038,image_url:"https://example.com/honchong.jpg",rating:4.2}])}finally{h(!1)}})()},[]),i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Lr,{}),i.jsxs("main",{className:"container px-4 py-5 flex-grow-1",children:[i.jsxs("div",{className:"text-center mb-5",children:[i.jsx("h1",{className:"display-5 fw-bold mb-3",style:{color:"#2c3e50"},children:l("Explore Amazing Destinations")}),i.jsx("p",{className:"lead text-muted mb-4",style:{maxWidth:"600px",margin:"0 auto"},children:l("Discover beautiful places, hidden gems, and must-visit destinations around the world")}),i.jsxs(Jt,{to:"/",className:"btn btn-main btn-lg px-5",children:[i.jsx("i",{className:"bi bi-map me-2"}),l("View on Map")]})]}),o?i.jsxs("div",{className:"text-center py-5",children:[i.jsx("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("p",{className:"text-muted mt-3",children:l("Loading destinations...")})]}):g?i.jsxs("div",{className:"alert alert-warning text-center",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),g]}):c.length===0?i.jsxs("div",{className:"text-center py-5",children:[i.jsx("i",{className:"bi bi-geo-alt text-muted",style:{fontSize:"4rem",marginBottom:"1rem"}}),i.jsx("h3",{className:"text-muted mb-3",children:l("No Destinations Found")}),i.jsx("p",{className:"text-muted mb-4",children:l("Check back later for new destinations!")})]}):i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:c.map(y=>i.jsx("div",{className:"col",children:i.jsx("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card hover-shadow",children:i.jsxs(Jt,{to:`/places/${y.id}`,className:"text-decoration-none",children:[i.jsx("img",{src:y.image_url?y.image_url.startsWith("http")?y.image_url:`${JZ}${y.image_url}`:"/default-place.jpg",alt:y.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover",borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem"},onError:v=>{v.target.style.display="none"}}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600,color:"#2c3e50"},children:y.name}),y.city&&i.jsxs("p",{className:"card-text text-primary mb-2 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),y.city]}),i.jsx("p",{className:"card-text text-muted mb-3 luxury-desc",children:y.description?`${y.description.replace(/<[^>]+>/g,"").substring(0,120)}...`:l("No description available")}),y.service&&i.jsxs("p",{className:"card-text text-muted mb-3 small",children:[i.jsx("i",{className:"bi bi-activity me-1"}),y.service.length>80?`${y.service.substring(0,80)}...`:y.service]}),i.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[i.jsxs("div",{className:"d-flex align-items-center",children:[i.jsx("span",{className:"luxury-star",style:{color:"#f1c40f",fontSize:18},children:""}),i.jsx("span",{style:{fontWeight:600,marginLeft:4},children:y.rating?y.rating.toFixed(1):"0.0"}),i.jsx("span",{style:{color:"#888",marginLeft:2},children:"/ 5"})]}),i.jsxs("span",{className:"badge bg-primary rounded-pill",children:[i.jsx("i",{className:"bi bi-arrow-right me-1"}),l("Explore")]})]})]})]})})},y.id))})]}),i.jsx($r,{})]})}function tX(){const{t:l}=yh(),[c,s]=I.useState([]),[o,h]=I.useState(!0),[g,_]=I.useState(null);return I.useEffect(()=>{(async()=>{try{h(!0);const N=(await kt.get("https://walkingguide.onrender.com/api/tours")).data.sort((S,D)=>new Date(D.updated_at||0)-new Date(S.updated_at||0));s(N)}catch(v){console.error("Li khi ti tour:",v),_("Khng th ti danh sch tour. Vui lng th li sau.")}finally{h(!1)}})()},[]),i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Lr,{}),i.jsxs("main",{className:"container px-4 py-5 flex-grow-1",children:[i.jsxs("div",{className:"text-center mb-5",children:[i.jsx("h1",{className:"display-5 fw-bold mb-3",style:{color:"#2c3e50"},children:l("Discover Amazing Tours")}),i.jsx("p",{className:"lead text-muted mb-4",style:{maxWidth:"600px",margin:"0 auto"},children:l("Explore carefully curated tours and itineraries designed to give you the best travel experience")}),i.jsxs("div",{className:"d-flex gap-3 justify-content-center",children:[i.jsxs(Jt,{to:"/manual-planner",className:"btn btn-main btn-lg px-4",children:[i.jsx("i",{className:"bi bi-pencil-square me-2"}),l("Create Custom Tour")]}),i.jsxs(Jt,{to:"/ai/generate-tour",className:"btn btn-outline-primary btn-lg px-4",children:[i.jsx("i",{className:"bi bi-robot me-2"}),l("AI Tour Planner")]})]})]}),o?i.jsxs("div",{className:"text-center py-5",children:[i.jsx("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("p",{className:"text-muted mt-3",children:l("Loading tours...")})]}):g?i.jsxs("div",{className:"alert alert-danger text-center",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),g]}):c.length===0?i.jsxs("div",{className:"text-center py-5",children:[i.jsx("i",{className:"bi bi-map text-muted",style:{fontSize:"4rem",marginBottom:"1rem"}}),i.jsx("h3",{className:"text-muted mb-3",children:l("No Tours Available")}),i.jsx("p",{className:"text-muted mb-4",children:l("Create your first tour and start exploring!")}),i.jsxs(Jt,{to:"/manual-planner",className:"btn btn-main",children:[i.jsx("i",{className:"bi bi-plus-circle me-2"}),l("Create First Tour")]})]}):i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:c.map(y=>i.jsx("div",{className:"col",children:i.jsx("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card hover-shadow",children:i.jsxs(Jt,{to:`/tours/${y.id}`,className:"text-decoration-none",children:[y.image_url?i.jsx("img",{src:y.image_url.startsWith("http")?y.image_url:`https://walkingguide.onrender.com${y.image_url}`,alt:y.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover",borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem"},onError:v=>{v.target.style.display="none"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-map"})}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-3",style:{fontWeight:600,color:"#2c3e50"},children:y.name}),i.jsx("p",{className:"card-text text-muted mb-3 luxury-desc",children:y.description?`${y.description.replace(/<[^>]+>/g,"").substring(0,120)}...`:l("No description available")}),i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[i.jsxs("div",{className:"d-flex align-items-center",children:[i.jsx("span",{className:"luxury-star",style:{color:"#f1c40f",fontSize:18},children:""}),i.jsx("span",{style:{fontWeight:600,marginLeft:4},children:y.rating?y.rating.toFixed(1):"0.0"}),i.jsx("span",{style:{color:"#888",marginLeft:2},children:"/ 5"})]}),y.total_cost&&i.jsxs("span",{className:"badge bg-success rounded-pill",children:[i.jsx("i",{className:"bi bi-currency-dollar me-1"}),y.total_cost.toLocaleString()," VND"]})]}),i.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[i.jsxs("small",{className:"text-muted",children:[i.jsx("i",{className:"bi bi-calendar3 me-1"}),new Date(y.created_at||y.updated_at).toLocaleDateString()]}),i.jsxs("span",{className:"badge bg-primary rounded-pill",children:[i.jsx("i",{className:"bi bi-arrow-right me-1"}),l("View Tour")]})]})]})]})})},y.id))})]}),i.jsx($r,{})]})}function nX(){const{t:l}=yh(),[c,s]=I.useState([]),[o,h]=I.useState(!0),[g,_]=I.useState(null),y="https://walkingguide.onrender.com";return I.useEffect(()=>{(async()=>{try{h(!0);const S=(await kt.get(`${y}/api/articles`)).data.sort((D,j)=>new Date(j.updated_at||0)-new Date(D.updated_at||0));s(S)}catch(N){console.error("Li khi ti bi vit:",N),_("Khng th ti danh sch bi vit. Vui lng th li sau.")}finally{h(!1)}})()},[]),i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Lr,{}),i.jsxs("main",{className:"container px-4 py-5 flex-grow-1",children:[i.jsxs("div",{className:"text-center mb-5",children:[i.jsx("h1",{className:"display-5 fw-bold mb-3",style:{color:"#2c3e50"},children:l("Travel Stories & Experiences")}),i.jsx("p",{className:"lead text-muted mb-4",style:{maxWidth:"600px",margin:"0 auto"},children:l("Discover amazing travel stories, tips, and experiences shared by our community of travelers")}),i.jsxs(Jt,{to:"/create-article",className:"btn btn-main btn-lg px-5",children:[i.jsx("i",{className:"bi bi-pencil-square me-2"}),l("Share Your Story")]})]}),o?i.jsxs("div",{className:"text-center py-5",children:[i.jsx("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("p",{className:"text-muted mt-3",children:l("Loading articles...")})]}):g?i.jsxs("div",{className:"alert alert-danger text-center",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),g]}):c.length===0?i.jsxs("div",{className:"text-center py-5",children:[i.jsx("i",{className:"bi bi-journal-text text-muted",style:{fontSize:"4rem",marginBottom:"1rem"}}),i.jsx("h3",{className:"text-muted mb-3",children:l("No Articles Yet")}),i.jsx("p",{className:"text-muted mb-4",children:l("Be the first to share your travel experience!")}),i.jsxs(Jt,{to:"/create-article",className:"btn btn-main",children:[i.jsx("i",{className:"bi bi-plus-circle me-2"}),l("Write First Article")]})]}):i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:c.map(v=>i.jsx("div",{className:"col",children:i.jsx("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card hover-shadow",children:i.jsxs(Jt,{to:`/articles/${v.article_id||v.id}`,className:"text-decoration-none",children:[v.image_url?i.jsx("img",{src:v.image_url.startsWith("http")?v.image_url:`${y}${v.image_url}`,alt:v.title,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover",borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem"},onError:N=>{N.target.style.display="none"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-journal-text"})}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-3",style:{fontWeight:600,color:"#2c3e50"},children:v.title}),i.jsx("p",{className:"card-text text-muted mb-3 luxury-desc",children:v.content?`${v.content.replace(/<[^>]+>/g,"").substring(0,120)}...`:l("No content available")}),i.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[i.jsxs("small",{className:"text-muted",children:[i.jsx("i",{className:"bi bi-calendar3 me-1"}),new Date(v.published_at||v.updated_at).toLocaleDateString()]}),i.jsxs("span",{className:"badge bg-primary rounded-pill",children:[i.jsx("i",{className:"bi bi-eye me-1"}),l("Read More")]})]})]})]})})},v.article_id||v.id))})]}),i.jsx($r,{})]})}function iX(){const[l,c]=I.useState(""),[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(!1),{login:v,user:N}=I.useContext(ls),S=ba(),D="https://walkingguide.onrender.com";it.useEffect(()=>{N&&S("/",{replace:!0})},[N,S]);const j=async B=>{var F,H;B.preventDefault();try{const $=await kt.post(`${D}/api/auth/login`,{email:l,password:s});v($.data.user),S("/")}catch($){g(((H=(F=$.response)==null?void 0:F.data)==null?void 0:H.message)||"ng nhp tht bi")}};return i.jsxs("div",{className:"min-vh-100 d-flex flex-column luxury-home-container",children:[i.jsx(Lr,{}),i.jsxs("main",{className:"container d-flex flex-column align-items-center justify-content-center flex-grow-1 py-5",children:[i.jsxs("div",{className:"card shadow border-0 rounded-4 p-4 luxury-card",style:{maxWidth:500,width:"100%",background:"rgba(255,255,255,0.97)"},children:[i.jsx("h2",{className:"mb-4 text-center",style:{color:"#1a5bb8",fontWeight:700},children:"ng nhp"}),i.jsxs("form",{onSubmit:j,className:"w-100",children:[h&&i.jsx("div",{className:"alert alert-danger",children:h}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Email:"}),i.jsx("input",{type:"email",className:"form-control",value:l,onChange:B=>c(B.target.value),required:!0})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mt khu:"}),i.jsx("input",{type:"password",className:"form-control",value:s,onChange:B=>o(B.target.value),required:!0})]}),i.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center mb-2 gap-2",children:[i.jsx("button",{type:"submit",className:"btn btn-main w-100 w-md-50",children:"ng nhp"}),i.jsx("div",{className:"d-flex flex-column align-items-center gap-1",children:i.jsx("button",{type:"button",className:"btn btn-link p-0",style:{fontSize:"0.95rem"},onClick:()=>y(!0),children:"Qun mt khu?"})})]}),i.jsxs("p",{className:"mt-3 text-center",children:["Cha c ti khon? ",i.jsx(Jt,{to:"/register",children:"ng k"})]})]})]}),i.jsx(L3,{show:_,onClose:()=>y(!1)})]}),i.jsx($r,{})]})}function rX(){const[l,c]=I.useState(""),[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(""),[S,D]=I.useState(""),[j,B]=I.useState(!1),[F,H]=I.useState(!1),[$,K]=I.useState(""),[Q,ee]=I.useState(""),[ne,le]=I.useState(""),{user:se}=I.useContext(ls),q=ba(),de="https://walkingguide.onrender.com";it.useEffect(()=>{se&&q("/",{replace:!0})},[se,q]);const re=async Ne=>{var De,_e;if(Ne.preventDefault(),N(""),D(""),B(!0),K(""),ee(""),le(""),h!==_){N("Mt khu xc nhn khng khp."),B(!1);return}if(h.length<6){N("Mt khu phi c t nht 6 k t."),B(!1);return}try{const je=await kt.post(`${de}/api/auth/register`,{full_name:l,email:s,password:h,confirmPassword:_});je.data.success&&(D(je.data.message),le(s),c(""),o(""),g(""),y(""),setTimeout(()=>{q("/login")},3e3))}catch(je){N(((_e=(De=je.response)==null?void 0:De.data)==null?void 0:_e.message)||"Li ng k")}finally{B(!1)}},be=async()=>{var Ne,De;H(!0),K(""),ee("");try{const _e=await kt.post(`${de}/api/auth/resend-verification`,{email:ne});K(_e.data.message||"Email xc thc  c gi li. Vui lng kim tra hp th ca bn.")}catch(_e){ee(((De=(Ne=_e.response)==null?void 0:Ne.data)==null?void 0:De.message)||"Li gi li email xc thc")}finally{H(!1)}},ke=()=>{D(""),N(""),K(""),ee(""),le("")};return i.jsxs("div",{className:"min-vh-100 d-flex flex-column luxury-home-container",children:[i.jsx(Lr,{}),i.jsx("main",{className:"container d-flex flex-column align-items-center justify-content-center flex-grow-1 py-5",children:i.jsxs("div",{className:"card shadow border-0 rounded-4 p-4 luxury-card",style:{maxWidth:500,width:"100%",background:"rgba(255,255,255,0.97)"},children:[i.jsx("h2",{className:"mb-4 text-center",style:{color:"#1a5bb8",fontWeight:700},children:"ng k ti khon"}),i.jsxs("form",{onSubmit:re,className:"w-100",children:[v&&i.jsx("div",{className:"alert alert-danger",children:v}),S?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"alert alert-success",children:S}),i.jsx("button",{type:"button",className:"btn btn-link p-0 mt-2 text-decoration-none",onClick:be,disabled:F||!ne,children:F?"ang gi li...":"Gi li email xc thc"}),$&&i.jsx("div",{className:"alert alert-success mt-2",children:$}),Q&&i.jsx("div",{className:"alert alert-danger mt-2",children:Q}),i.jsx("div",{className:"text-center mt-3",children:i.jsx("button",{type:"button",className:"btn btn-link p-0 text-decoration-underline",onClick:ke,children:"Nhp email khc"})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"H v tn:"}),i.jsx("input",{type:"text",className:"form-control",value:l,onChange:Ne=>c(Ne.target.value),required:!0,disabled:j})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Email:"}),i.jsx("input",{type:"email",className:"form-control",value:s,onChange:Ne=>o(Ne.target.value),required:!0,disabled:j})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mt khu:"}),i.jsx("input",{type:"password",className:"form-control",value:h,onChange:Ne=>g(Ne.target.value),required:!0,disabled:j,minLength:6}),i.jsx("small",{className:"text-muted",children:"Mt khu phi c t nht 6 k t"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Xc nhn mt khu:"}),i.jsx("input",{type:"password",className:"form-control",value:_,onChange:Ne=>y(Ne.target.value),required:!0,disabled:j,minLength:6}),_&&h!==_&&i.jsx("small",{className:"text-danger",children:"Mt khu xc nhn khng khp"}),_&&h===_&&i.jsx("small",{className:"text-success",children:" Mt khu khp"})]}),i.jsx("button",{type:"submit",className:"btn btn-success w-100",disabled:j||!l||!s||!h||!_,children:j?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"ang ng k..."]}):"ng k"}),i.jsxs("p",{className:"mt-3 text-center",children:[" c ti khon? ",i.jsx(Jt,{to:"/login",children:"ng nhp"})]})]})]})]})}),i.jsx($r,{})]})}function wd(){return i.jsx("div",{className:"admin-header",children:i.jsx("div",{className:"container-fluid",children:i.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[i.jsx("div",{className:"d-flex align-items-center",children:i.jsx(Jt,{to:"/",children:i.jsx("img",{src:"/banner.png",alt:"Walking Guide Banner",style:{height:180,marginRight:28,borderRadius:12}})})}),i.jsx("div",{className:"admin-header-actions",children:i.jsxs("div",{className:"dropdown",children:[i.jsxs("button",{className:"btn btn-link text-white dropdown-toggle",type:"button",id:"adminDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",children:[i.jsx("i",{className:"bi bi-person-circle me-2"}),"Qun tr vin"]}),i.jsxs("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"adminDropdown",children:[i.jsx("li",{children:i.jsxs(Jt,{className:"dropdown-item",to:"/users",children:[i.jsx("i",{className:"bi bi-person me-2"}),"H s"]})}),i.jsx("li",{children:i.jsxs(Jt,{className:"dropdown-item",to:"/admin/settings",children:[i.jsx("i",{className:"bi bi-gear me-2"}),"Ci t"]})}),i.jsx("li",{children:i.jsx("hr",{className:"dropdown-divider"})}),i.jsx("li",{children:i.jsxs(Jt,{className:"dropdown-item",to:"/",children:[i.jsx("i",{className:"bi bi-house me-2"}),"V trang ch"]})}),i.jsx("li",{children:i.jsxs("button",{className:"dropdown-item text-danger",children:[i.jsx("i",{className:"bi bi-box-arrow-right me-2"}),"ng xut"]})})]})]})})]})})})}function yd(){const l=Ul(),c=s=>l.pathname===s;return i.jsx("div",{className:"admin-sidebar",children:i.jsx("nav",{className:"sidebar-nav",children:i.jsxs("ul",{className:"nav flex-column",children:[i.jsx("li",{className:"nav-item",children:i.jsxs(Jt,{to:"/admin",className:`nav-link ${c("/admin")?"active":""}`,children:[i.jsx("i",{className:"bi bi-house-door me-2"}),"Trang ch"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(Jt,{to:"/admin/tours",className:`nav-link ${c("/admin/tours")?"active":""}`,children:[i.jsx("i",{className:"bi bi-map me-2"}),"Qun l Tour"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(Jt,{to:"/admin/places",className:`nav-link ${c("/admin/places")?"active":""}`,children:[i.jsx("i",{className:"bi bi-geo-alt me-2"}),"Qun l a im"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(Jt,{to:"/admin/hotels",className:`nav-link ${c("/admin/hotels")?"active":""}`,children:[i.jsx("i",{className:"bi bi-building me-2"}),"Qun l Khch sn"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(Jt,{to:"/admin/restaurants",className:`nav-link ${c("/admin/restaurants")?"active":""}`,children:[i.jsx("i",{className:"bi bi-cup-hot me-2"}),"Qun l Nh hng"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(Jt,{to:"/admin/bookings",className:`nav-link ${c("/admin/bookings")?"active":""}`,children:[i.jsx("i",{className:"bi bi-calendar-check me-2"}),"Qun l Booking"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(Jt,{to:"/admin/users",className:`nav-link ${c("/admin/users")?"active":""}`,children:[i.jsx("i",{className:"bi bi-people me-2"}),"Qun l Ngi dng"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(Jt,{to:"/admin/articles",className:`nav-link ${c("/admin/articles")?"active":""}`,children:[i.jsx("i",{className:"bi bi-file-text me-2"}),"Qun l Bi vit"]})}),i.jsx("li",{className:"nav-item",children:i.jsxs(Jt,{to:"/admin/settings",className:`nav-link ${c("/admin/settings")?"active":""}`,children:[i.jsx("i",{className:"bi bi-gear me-2"}),"Ci t"]})})]})})})}function sX(){const{user:l}=I.useContext(ls),[c,s]=I.useState({totalUsers:0,totalPlaces:0,totalTours:0,totalArticles:0,recentUsers:0,recentTours:0,recentArticles:0,recentPlaces:0}),[o,h]=I.useState(!0),[g,_]=I.useState([]);I.useEffect(()=>{(async()=>{try{const j="https://walkingguide.onrender.com",[B,F,H,$]=await Promise.all([kt.get(`${j}/api/users`),kt.get(`${j}/api/places`),kt.get(`${j}/api/tours`),kt.get(`${j}/api/articles`)]);s({totalUsers:B.data.length,totalPlaces:F.data.length,totalTours:H.data.length,totalArticles:$.data.length,recentUsers:Math.floor(B.data.length*.15),recentTours:Math.floor(H.data.length*.25),recentArticles:Math.floor($.data.length*.2),recentPlaces:Math.floor(F.data.length*.1)});const K=B.data.filter(Q=>Q.full_name).sort((Q,ee)=>new Date(ee.created_at||0)-new Date(Q.created_at||0));_(K.slice(0,4))}catch(j){console.error("Error fetching stats:",j),s({totalUsers:1247,totalPlaces:89,totalTours:156,totalArticles:23,recentUsers:187,recentTours:39,recentArticles:5,recentPlaces:9})}finally{h(!1)}})()},[]);function y(D){if(!D)return"Va ng k";const j=new Date,B=new Date(D),F=Math.floor((j-B)/1e3);return F<60?"Va ng k":F<3600?`${Math.floor(F/60)} pht trc`:F<86400?`${Math.floor(F/3600)} gi trc`:`${Math.floor(F/86400)} ngy trc`}const v=({title:D,value:j,icon:B,color:F,trend:H,subtitle:$})=>i.jsx("div",{className:"stat-card shadow-lg border-0 rounded-4 p-4 mb-4",style:{background:"linear-gradient(135deg, #fff 0%, #f8f9fa 100%)",border:`2px solid ${F}20`},children:i.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[i.jsxs("div",{className:"flex-grow-1",children:[i.jsx("h6",{className:"text-muted mb-1 fw-semibold",children:D}),i.jsx("h3",{className:"fw-bold mb-1",style:{color:F},children:o?"...":j.toLocaleString()}),$&&i.jsx("p",{className:"text-muted small mb-0",children:$}),H&&i.jsxs("div",{className:"d-flex align-items-center mt-2",children:[i.jsx("i",{className:`bi ${H>0?"bi-arrow-up":"bi-arrow-down"} me-1`,style:{color:H>0?"#28a745":"#dc3545"}}),i.jsxs("span",{className:"small fw-semibold",style:{color:H>0?"#28a745":"#dc3545"},children:[Math.abs(H),"% t thng trc"]})]})]}),i.jsx("div",{className:"stat-icon rounded-circle d-flex align-items-center justify-content-center",style:{width:60,height:60,background:`${F}15`,color:F},children:i.jsx("i",{className:`bi ${B} fs-3`})})]})}),N=({title:D,description:j,icon:B,link:F,color:H})=>i.jsx(Jt,{to:F,className:"text-decoration-none",children:i.jsxs("div",{className:"quick-action-card shadow border-0 rounded-4 p-4 h-100",style:{background:"linear-gradient(135deg, #fff 0%, #f8f9fa 100%)",transition:"all 0.3s ease"},children:[i.jsxs("div",{className:"d-flex align-items-center mb-3",children:[i.jsx("div",{className:"quick-action-icon rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:50,height:50,background:`${H}15`,color:H},children:i.jsx("i",{className:`bi ${B} fs-4`})}),i.jsx("h6",{className:"fw-bold mb-0",style:{color:"#1a5bb8"},children:D})]}),i.jsx("p",{className:"text-muted small mb-0",children:j})]})}),S=({title:D,items:j,icon:B,color:F})=>i.jsxs("div",{className:"recent-activity-card shadow-lg border-0 rounded-4 p-4 h-100",style:{background:"linear-gradient(135deg, #fff 0%, #f8f9fa 100%)"},children:[i.jsxs("div",{className:"d-flex align-items-center mb-3",children:[i.jsx("div",{className:"activity-icon rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:40,height:40,background:`${F}15`,color:F},children:i.jsx("i",{className:`bi ${B} fs-5`})}),i.jsx("h6",{className:"fw-bold mb-0",style:{color:"#1a5bb8"},children:D})]}),i.jsx("div",{className:"activity-list",children:j.map((H,$)=>i.jsxs("div",{className:"activity-item d-flex align-items-center py-2 border-bottom",style:{borderColor:"#f1f3f4"},children:[i.jsx("div",{className:"activity-dot rounded-circle me-3",style:{width:8,height:8,background:F}}),i.jsxs("div",{className:"flex-grow-1",children:[i.jsx("div",{className:"fw-semibold small",children:H.title}),i.jsx("div",{className:"text-muted small",children:H.time})]})]},$))})]});return i.jsxs("div",{className:"admin-layout",children:[i.jsx(wd,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(yd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[i.jsxs("div",{className:"dashboard-header text-center mb-5",children:[i.jsx("h1",{className:"display-5 fw-bold mb-2",style:{color:"#1a5bb8",textShadow:"0 2px 4px rgba(26, 91, 184, 0.1)"},children:"Bng Qun Tr"}),i.jsxs("p",{className:"lead mb-0",style:{color:"#223a5f"},children:["Cho mng tr li, ",i.jsx("span",{className:"fw-bold",style:{color:"#3498db"},children:(l==null?void 0:l.full_name)||"Admin"}),"! y l tng quan v h thng ca bn."]})]}),i.jsxs("div",{className:"row mb-5",children:[i.jsx("div",{className:"col-lg-3 col-md-6",children:i.jsx(v,{title:"Tng Ngi Dng",value:c.totalUsers,icon:"bi-people-fill",color:"#3498db",trend:12,subtitle:"Ngi dng  ng k"})}),i.jsx("div",{className:"col-lg-3 col-md-6",children:i.jsx(v,{title:"a im Du Lch",value:c.totalPlaces,icon:"bi-geo-alt-fill",color:"#e74c3c",trend:8,subtitle:"a im  thm"})}),i.jsx("div",{className:"col-lg-3 col-md-6",children:i.jsx(v,{title:"L Trnh Tour",value:c.totalTours,icon:"bi-map-fill",color:"#f39c12",trend:-3,subtitle:"Tour  to"})}),i.jsx("div",{className:"col-lg-3 col-md-6",children:i.jsx(v,{title:"Bi Vit",value:c.totalArticles,icon:"bi-newspaper",color:"#27ae60",trend:15,subtitle:"Bi vit  xut bn"})})]}),i.jsxs("div",{className:"row mb-5",children:[i.jsxs("div",{className:"col-lg-8",children:[i.jsx("h4",{className:"fw-bold mb-4",style:{color:"#1a5bb8"},children:"Thao Tc Nhanh"}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6 mb-3",children:i.jsx(N,{title:"Qun L Ngi Dng",description:"Xem, chnh sa v qun l ti khon ngi dng",icon:"bi-people-fill",link:"/admin/users",color:"#3498db"})}),i.jsx("div",{className:"col-md-6 mb-3",children:i.jsx(N,{title:"Qun L a im",description:"Thm, sa, xa a im du lch v thng tin",icon:"bi-geo-alt-fill",link:"/admin/places",color:"#e74c3c"})}),i.jsx("div",{className:"col-md-6 mb-3",children:i.jsx(N,{title:"Qun L Tour",description:"To v qun l cc l trnh du lch",icon:"bi-map-fill",link:"/admin/tours",color:"#f39c12"})}),i.jsx("div",{className:"col-md-6 mb-3",children:i.jsx(N,{title:"Qun L Bi Vit",description:"Kim duyt v qun l ni dung bi vit",icon:"bi-newspaper",link:"/admin/articles",color:"#27ae60"})})]})]}),i.jsxs("div",{className:"col-lg-4",children:[i.jsx("h4",{className:"fw-bold mb-4",style:{color:"#1a5bb8"},children:"Hot ng Gn y"}),i.jsx(S,{title:"Ngi Dng Mi",items:g.map(D=>({title:`${D.full_name}  ng k`,time:y(D.created_at)})),icon:"bi-person-plus",color:"#3498db"})]})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-lg-6 mb-4 mt-5",children:i.jsxs("div",{className:"system-status-card shadow-lg border-0 rounded-4 p-4",style:{background:"linear-gradient(135deg, #fff 0%, #f8f9fa 100%)"},children:[i.jsx("h5",{className:"fw-bold mb-3",style:{color:"#1a5bb8"},children:"Trng Thi H Thng"}),i.jsxs("div",{className:"status-item d-flex justify-content-between align-items-center py-2",children:[i.jsx("span",{className:"fw-semibold",children:"My ch"}),i.jsx("span",{className:"badge bg-success",children:"Hot ng"})]}),i.jsxs("div",{className:"status-item d-flex justify-content-between align-items-center py-2",children:[i.jsx("span",{className:"fw-semibold",children:"C s d liu"}),i.jsx("span",{className:"badge bg-success",children:"Hot ng"})]}),i.jsxs("div",{className:"status-item d-flex justify-content-between align-items-center py-2",children:[i.jsx("span",{className:"fw-semibold",children:"API"}),i.jsx("span",{className:"badge bg-success",children:"Hot ng"})]}),i.jsxs("div",{className:"status-item d-flex justify-content-between align-items-center py-2",children:[i.jsx("span",{className:"fw-semibold",children:"Bo mt"}),i.jsx("span",{className:"badge bg-warning",children:"Cn kim tra"})]})]})}),i.jsx("div",{className:"col-lg-6 mb-4 mt-5",children:i.jsxs("div",{className:"performance-card shadow-lg border-0 rounded-4 p-4",style:{background:"linear-gradient(135deg, #fff 0%, #f8f9fa 100%)"},children:[i.jsx("h5",{className:"fw-bold mb-3",style:{color:"#1a5bb8"},children:"Hiu Sut"}),i.jsxs("div",{className:"performance-item mb-3",children:[i.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[i.jsx("span",{className:"fw-semibold",children:"CPU"}),i.jsx("span",{className:"text-muted",children:"45%"})]}),i.jsx("div",{className:"progress",style:{height:8},children:i.jsx("div",{className:"progress-bar bg-success",style:{width:"45%"}})})]}),i.jsxs("div",{className:"performance-item mb-3",children:[i.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[i.jsx("span",{className:"fw-semibold",children:"RAM"}),i.jsx("span",{className:"text-muted",children:"62%"})]}),i.jsx("div",{className:"progress",style:{height:8},children:i.jsx("div",{className:"progress-bar bg-warning",style:{width:"62%"}})})]}),i.jsxs("div",{className:"performance-item mb-3",children:[i.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[i.jsx("span",{className:"fw-semibold",children:"Lu tr"}),i.jsx("span",{className:"text-muted",children:"28%"})]}),i.jsx("div",{className:"progress",style:{height:8},children:i.jsx("div",{className:"progress-bar bg-info",style:{width:"28%"}})})]})]})})]})]})})]})]})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function oX(){const l={resolve:null,promise:null};return l.promise=new Promise(c=>{l.resolve=c}),l}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function aX(l){let c=null;return(...s)=>(c||(c={current:l(...s)}),c.current)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Yo=new Array(256).fill("").map((l,c)=>("0"+c.toString(16)).slice(-2));function lX(){const[l,c,s,o]=crypto.getRandomValues(new Uint32Array(4));return"e"+Yo[l>>0&255]+Yo[l>>8&255]+Yo[l>>16&255]+Yo[l>>24&255]+Yo[c>>0&255]+Yo[c>>8&255]+Yo[c>>16&255]+Yo[c>>24&255]+Yo[s>>0&255]+Yo[s>>8&255]+Yo[s>>16&255]+Yo[s>>24&255]+Yo[o>>0&255]+Yo[o>>8&255]+Yo[o>>16&255]+Yo[o>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function cX(l,c){const s=l.extraPlugins||[];return{...l,extraPlugins:[...s,...c.filter(o=>!s.includes(o))]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function KL(l){return!!l&&/^\d+\.\d+\.\d+/.test(l)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function QL(l){return l?["nightly","alpha","internal","nightly-","staging"].some(c=>l.includes(c)):!1}function dX(l){return KL(l)||QL(l)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function uX(l){if(!KL(l))throw new Error(`Invalid semantic version: ${l||"<blank>"}.`);const[c,s,o]=l.split(".");return{major:Number.parseInt(c,10),minor:Number.parseInt(s,10),patch:Number.parseInt(o,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function hX(l){if(QL(l))return 3;const{major:c}=uX(l);switch(!0){case c>=44:return 3;case c>=38:return 2;default:return 1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function mX(){const{CKEDITOR_VERSION:l,CKEDITOR:c}=window;return dX(l)?{source:c?"cdn":"npm",version:l}:null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function fX(){const l=mX();return l?hX(l.version):null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function ZL(l,c){switch(c||(c=fX()||void 0),c){case 1:case 2:return l===void 0;case 3:return l==="GPL";default:return!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function pX(l,c){return function(o){ZL(o.config.get("licenseKey"))||o.on("collectUsageData",(h,{setUsageData:g})=>{g(`integration.${l}`,c)})}}var gX=Object.defineProperty,bX=(l,c,s)=>c in l?gX(l,c,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[c]=s,Ba=(l,c,s)=>bX(l,typeof c!="symbol"?c+"":c,s);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const XL=class JL{constructor(c,s){Ba(this,"_lifecycle"),Ba(this,"_element"),Ba(this,"_releaseLock",null),Ba(this,"_value",null),Ba(this,"_afterMountCallbacks",[]),Ba(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),Ba(this,"release",aX(()=>{const{_releaseLock:o,_state:h,_element:g,_lifecycle:_}=this;h.mountingInProgress?h.mountingInProgress.then(()=>_.unmount({element:g,mountResult:this.value})).catch(y=>{console.error("Semaphore unmounting error:",y)}).then(o.resolve).then(()=>{this._value=null}):(h.destroyedBeforeInitialization=!0,o.resolve())})),this._element=c,this._lifecycle=s,this._lock()}get value(){return this._value}unsafeSetValue(c){this._value=c,this._afterMountCallbacks.forEach(s=>s(c)),this._afterMountCallbacks=[]}runAfterMount(c){const{_value:s,_afterMountCallbacks:o}=this;s?c(s):o.push(c)}_lock(){const{_semaphores:c}=JL,{_state:s,_element:o,_lifecycle:h}=this,g=c.get(o)||Promise.resolve(null),_=oX();this._releaseLock=_;const y=g.then(()=>s.destroyedBeforeInitialization?Promise.resolve(void 0):(s.mountingInProgress=h.mount().then(v=>(v&&this.unsafeSetValue(v),v)),s.mountingInProgress)).then(async v=>{v&&h.afterMount&&await h.afterMount({element:o,mountResult:v})}).then(()=>_.promise).catch(v=>{console.error("Semaphore mounting error:",v)}).then(()=>{c.get(o)===y&&c.delete(o)});c.set(o,y)}};Ba(XL,"_semaphores",new Map);let kX=XL;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const _X="$__CKEditorReactContextMetadata";function vX(l,c){return{...c,[_X]:l}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const wX=it.createContext(null),yX=l=>!!l&&typeof l=="object"&&"status"in l&&["initializing","initialized","error"].includes(l.status),eB=l=>c=>yX(c)&&c.status===l,EO=eB("initializing"),xX=l=>eB("initialized")(l)&&l.watchdog.state==="ready";/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const CX=pX("react",{version:"9.5.0",frameworkVersion:it.version});/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function AX(l){return ZL(l.licenseKey)?l:cX(l,[CX])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const qC="Lock from React integration (@ckeditor/ckeditor5-react)";class tB extends it.Component{constructor(c){super(c),Ba(this,"domContainer",it.createRef()),Ba(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:c}=window;if(!c)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[s]=c.split(".").map(Number);s>=42||c.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:c}=this;return c?c.value:null}get watchdog(){const{_semaphoreValue:c}=this;return c?c.watchdog:null}get editor(){const{_semaphoreValue:c}=this;return c?c.instance:null}shouldComponentUpdate(c){const{props:s,editorSemaphore:o}=this;return c.id!==s.id||c.disableWatchdog!==s.disableWatchdog?!0:(o&&(o.runAfterMount(({instance:h})=>{this._shouldUpdateEditorData(s,c,h)&&h.data.set(c.data)}),"disabled"in c&&o.runAfterMount(({instance:h})=>{c.disabled?h.enableReadOnlyMode(qC):h.disableReadOnlyMode(qC)})),!1)}componentDidMount(){EO(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){EO(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new kX(this.domContainer.current,{mount:async()=>this._initializeEditor(),afterMount:({mountResult:c})=>{const{onReady:s}=this.props;s&&this.domContainer.current!==null&&s(c.instance)},unmount:async({element:c,mountResult:s})=>{const{onAfterDestroy:o}=this.props;try{await this._destroyEditor(s),c.innerHTML=""}finally{o&&o(s.instance)}}})}render(){return it.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const c=xX(this.context)?new NX(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig),s={current:0};return c.setCreator(async(o,h)=>{var g;const{editorSemaphore:_}=this,{onAfterDestroy:y}=this.props;s.current>0&&y&&((g=_==null?void 0:_.value)!=null&&g.instance)&&y(_.value.instance);const v=await this._createEditor(o,h);return _&&s.current>0&&(_.unsafeSetValue({instance:v,watchdog:c}),setTimeout(()=>{this.props.onReady&&this.props.onReady(c.editor)})),s.current++,v}),c.on("error",(o,{error:h,causesRestart:g})=>{(this.props.onError||console.error)(h,{phase:"runtime",willEditorRestart:g})}),await c.create(this.domContainer.current,this._getConfig()).catch(o=>{(this.props.onError||console.error)(o,{phase:"initialization",willEditorRestart:!1})}),{watchdog:c,instance:c.editor}}_createEditor(c,s){const{contextItemMetadata:o}=this.props;return o&&(s=vX(o,s)),this.props.editor.create(c,AX(s)).then(h=>{if("disabled"in this.props){/* istanbul ignore else -- @preserve */this.props.disabled&&h.enableReadOnlyMode(qC)}const g=h.model.document,_=h.editing.view.document;return g.on("change:data",y=>{/* istanbul ignore else -- @preserve */this.props.onChange&&this.props.onChange(y,h)}),_.on("focus",y=>{/* istanbul ignore else -- @preserve */this.props.onFocus&&this.props.onFocus(y,h)}),_.on("blur",y=>{/* istanbul ignore else -- @preserve */this.props.onBlur&&this.props.onBlur(y,h)}),h})}async _destroyEditor(c){const{watchdog:s,instance:o}=c;return new Promise((h,g)=>{/* istanbul ignore next -- @preserve */setTimeout(async()=>{try{if(s)return await s.destroy(),h();if(o)return await o.destroy(),h();h()}catch(_){console.error(_),g(_)}})})}_shouldUpdateEditorData(c,s,o){return!(c.data===s.data||o.data.get()===s.data)}_getConfig(){const c=this.props.config||{};return this.props.data&&c.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...c,initialData:c.initialData||this.props.data||""}}}Ba(tB,"contextType",wX);class NX{constructor(c){Ba(this,"_contextWatchdog"),Ba(this,"_id"),Ba(this,"_creator"),this._contextWatchdog=c,this._id=lX()}setCreator(c){this._creator=c}create(c,s){return this._contextWatchdog.add({sourceElementOrData:c,config:s,creator:this._creator,id:this._id,type:"editor"})}on(c,s){this._contextWatchdog.on("itemError",(o,{itemId:h,error:g})=>{h===this._id&&s(null,{error:g,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function nB(...l){return c=>{l.forEach(s=>{typeof s=="function"?s(c):s!=null&&(s.current=c)})}}const EX=I.memo(I.forwardRef(({id:l,semaphore:c,rootName:s},o)=>{const h=I.useRef(null);return I.useEffect(()=>{let g,_;return c.runAfterMount(({instance:y})=>{if(!h.current)return;_=y;const{ui:v,model:N}=_,S=N.document.getRoot(s);S&&_.ui.getEditableElement(s)&&_.detachEditable(S),g=v.view.createEditable(s,h.current),v.addEditable(g),y.editing.view.forceRender()}),()=>{if(_&&_.state!=="destroyed"&&h.current){const y=_.model.document.getRoot(s);/* istanbul ignore else -- @preserve */y&&_.detachEditable(y)}}},[c.revision]),it.createElement("div",{key:c.revision,id:l,ref:nB(o,h)})}));EX.displayName="EditorEditable";const SX=I.forwardRef(({editor:l},c)=>{const s=I.useRef(null);return I.useEffect(()=>{const o=s.current;if(!l||!o)return;const h=l.ui.view.toolbar.element;return o.appendChild(h),()=>{o.contains(h)&&o.removeChild(h)}},[l&&l.id]),it.createElement("div",{ref:nB(s,c)})});SX.displayName="EditorToolbarWrapper";var db={exports:{}};db.exports;var SO;function jX(){return SO||(SO=1,function(l,c){(function(s){const o=s.en=s.en||{};o.dictionary=Object.assign(o.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent",Insert:"Insert","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lowerroman":"Lowerroman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerlatin list style":"Toggle the lowerlatin list style","Toggle the lowerroman list style":"Toggle the lowerroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperlatin list style":"Toggle the upperlatin list style","Toggle the upperroman list style":"Toggle the upperroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(s,o){l.exports=o()}(self,()=>(()=>{var s={9246:(_,y,v)=>{const N=v(6931),S={};for(const j of Object.keys(N))S[N[j]]=j;const D={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};_.exports=D;for(const j of Object.keys(D)){if(!("channels"in D[j]))throw new Error("missing channels property: "+j);if(!("labels"in D[j]))throw new Error("missing channel labels property: "+j);if(D[j].labels.length!==D[j].channels)throw new Error("channel and label counts mismatch: "+j);const{channels:B,labels:F}=D[j];delete D[j].channels,delete D[j].labels,Object.defineProperty(D[j],"channels",{value:B}),Object.defineProperty(D[j],"labels",{value:F})}D.rgb.hsl=function(j){const B=j[0]/255,F=j[1]/255,H=j[2]/255,$=Math.min(B,F,H),K=Math.max(B,F,H),Q=K-$;let ee,ne;K===$?ee=0:B===K?ee=(F-H)/Q:F===K?ee=2+(H-B)/Q:H===K&&(ee=4+(B-F)/Q),ee=Math.min(60*ee,360),ee<0&&(ee+=360);const le=($+K)/2;return ne=K===$?0:le<=.5?Q/(K+$):Q/(2-K-$),[ee,100*ne,100*le]},D.rgb.hsv=function(j){let B,F,H,$,K;const Q=j[0]/255,ee=j[1]/255,ne=j[2]/255,le=Math.max(Q,ee,ne),se=le-Math.min(Q,ee,ne),q=function(de){return(le-de)/6/se+.5};return se===0?($=0,K=0):(K=se/le,B=q(Q),F=q(ee),H=q(ne),Q===le?$=H-F:ee===le?$=.3333333333333333+B-H:ne===le&&($=.6666666666666666+F-B),$<0?$+=1:$>1&&($-=1)),[360*$,100*K,100*le]},D.rgb.hwb=function(j){const B=j[0],F=j[1];let H=j[2];const $=D.rgb.hsl(j)[0],K=1/255*Math.min(B,Math.min(F,H));return H=1-.00392156862745098*Math.max(B,Math.max(F,H)),[$,100*K,100*H]},D.rgb.cmyk=function(j){const B=j[0]/255,F=j[1]/255,H=j[2]/255,$=Math.min(1-B,1-F,1-H);return[100*((1-B-$)/(1-$)||0),100*((1-F-$)/(1-$)||0),100*((1-H-$)/(1-$)||0),100*$]},D.rgb.keyword=function(j){const B=S[j];if(B)return B;let F,H=1/0;for(const Q of Object.keys(N)){const ee=N[Q],ne=(K=ee,(($=j)[0]-K[0])**2+($[1]-K[1])**2+($[2]-K[2])**2);ne<H&&(H=ne,F=Q)}var $,K;return F},D.keyword.rgb=function(j){return N[j]},D.rgb.xyz=function(j){let B=j[0]/255,F=j[1]/255,H=j[2]/255;return B=B>.04045?((B+.055)/1.055)**2.4:B/12.92,F=F>.04045?((F+.055)/1.055)**2.4:F/12.92,H=H>.04045?((H+.055)/1.055)**2.4:H/12.92,[100*(.4124*B+.3576*F+.1805*H),100*(.2126*B+.7152*F+.0722*H),100*(.0193*B+.1192*F+.9505*H)]},D.rgb.lab=function(j){const B=D.rgb.xyz(j);let F=B[0],H=B[1],$=B[2];return F/=95.047,H/=100,$/=108.883,F=F>.008856?F**.3333333333333333:7.787*F+.13793103448275862,H=H>.008856?H**.3333333333333333:7.787*H+.13793103448275862,$=$>.008856?$**.3333333333333333:7.787*$+.13793103448275862,[116*H-16,500*(F-H),200*(H-$)]},D.hsl.rgb=function(j){const B=j[0]/360,F=j[1]/100,H=j[2]/100;let $,K,Q;if(F===0)return Q=255*H,[Q,Q,Q];$=H<.5?H*(1+F):H+F-H*F;const ee=2*H-$,ne=[0,0,0];for(let le=0;le<3;le++)K=B+.3333333333333333*-(le-1),K<0&&K++,K>1&&K--,Q=6*K<1?ee+6*($-ee)*K:2*K<1?$:3*K<2?ee+($-ee)*(.6666666666666666-K)*6:ee,ne[le]=255*Q;return ne},D.hsl.hsv=function(j){const B=j[0];let F=j[1]/100,H=j[2]/100,$=F;const K=Math.max(H,.01);return H*=2,F*=H<=1?H:2-H,$*=K<=1?K:2-K,[B,100*(H===0?2*$/(K+$):2*F/(H+F)),100*((H+F)/2)]},D.hsv.rgb=function(j){const B=j[0]/60,F=j[1]/100;let H=j[2]/100;const $=Math.floor(B)%6,K=B-Math.floor(B),Q=255*H*(1-F),ee=255*H*(1-F*K),ne=255*H*(1-F*(1-K));switch(H*=255,$){case 0:return[H,ne,Q];case 1:return[ee,H,Q];case 2:return[Q,H,ne];case 3:return[Q,ee,H];case 4:return[ne,Q,H];case 5:return[H,Q,ee]}},D.hsv.hsl=function(j){const B=j[0],F=j[1]/100,H=j[2]/100,$=Math.max(H,.01);let K,Q;Q=(2-F)*H;const ee=(2-F)*$;return K=F*$,K/=ee<=1?ee:2-ee,K=K||0,Q/=2,[B,100*K,100*Q]},D.hwb.rgb=function(j){const B=j[0]/360;let F=j[1]/100,H=j[2]/100;const $=F+H;let K;$>1&&(F/=$,H/=$);const Q=Math.floor(6*B),ee=1-H;K=6*B-Q,1&Q&&(K=1-K);const ne=F+K*(ee-F);let le,se,q;switch(Q){default:case 6:case 0:le=ee,se=ne,q=F;break;case 1:le=ne,se=ee,q=F;break;case 2:le=F,se=ee,q=ne;break;case 3:le=F,se=ne,q=ee;break;case 4:le=ne,se=F,q=ee;break;case 5:le=ee,se=F,q=ne}return[255*le,255*se,255*q]},D.cmyk.rgb=function(j){const B=j[0]/100,F=j[1]/100,H=j[2]/100,$=j[3]/100;return[255*(1-Math.min(1,B*(1-$)+$)),255*(1-Math.min(1,F*(1-$)+$)),255*(1-Math.min(1,H*(1-$)+$))]},D.xyz.rgb=function(j){const B=j[0]/100,F=j[1]/100,H=j[2]/100;let $,K,Q;return $=3.2406*B+-1.5372*F+-.4986*H,K=-.9689*B+1.8758*F+.0415*H,Q=.0557*B+-.204*F+1.057*H,$=$>.0031308?1.055*$**.4166666666666667-.055:12.92*$,K=K>.0031308?1.055*K**.4166666666666667-.055:12.92*K,Q=Q>.0031308?1.055*Q**.4166666666666667-.055:12.92*Q,$=Math.min(Math.max(0,$),1),K=Math.min(Math.max(0,K),1),Q=Math.min(Math.max(0,Q),1),[255*$,255*K,255*Q]},D.xyz.lab=function(j){let B=j[0],F=j[1],H=j[2];return B/=95.047,F/=100,H/=108.883,B=B>.008856?B**.3333333333333333:7.787*B+.13793103448275862,F=F>.008856?F**.3333333333333333:7.787*F+.13793103448275862,H=H>.008856?H**.3333333333333333:7.787*H+.13793103448275862,[116*F-16,500*(B-F),200*(F-H)]},D.lab.xyz=function(j){let B,F,H;F=(j[0]+16)/116,B=j[1]/500+F,H=F-j[2]/200;const $=F**3,K=B**3,Q=H**3;return F=$>.008856?$:(F-.13793103448275862)/7.787,B=K>.008856?K:(B-.13793103448275862)/7.787,H=Q>.008856?Q:(H-.13793103448275862)/7.787,B*=95.047,F*=100,H*=108.883,[B,F,H]},D.lab.lch=function(j){const B=j[0],F=j[1],H=j[2];let $;return $=360*Math.atan2(H,F)/2/Math.PI,$<0&&($+=360),[B,Math.sqrt(F*F+H*H),$]},D.lch.lab=function(j){const B=j[0],F=j[1],H=j[2]/360*2*Math.PI;return[B,F*Math.cos(H),F*Math.sin(H)]},D.rgb.ansi16=function(j,B=null){const[F,H,$]=j;let K=B===null?D.rgb.hsv(j)[2]:B;if(K=Math.round(K/50),K===0)return 30;let Q=30+(Math.round($/255)<<2|Math.round(H/255)<<1|Math.round(F/255));return K===2&&(Q+=60),Q},D.hsv.ansi16=function(j){return D.rgb.ansi16(D.hsv.rgb(j),j[2])},D.rgb.ansi256=function(j){const B=j[0],F=j[1],H=j[2];return B===F&&F===H?B<8?16:B>248?231:Math.round((B-8)/247*24)+232:16+36*Math.round(B/255*5)+6*Math.round(F/255*5)+Math.round(H/255*5)},D.ansi16.rgb=function(j){let B=j%10;if(B===0||B===7)return j>50&&(B+=3.5),B=B/10.5*255,[B,B,B];const F=.5*(1+~~(j>50));return[(1&B)*F*255,(B>>1&1)*F*255,(B>>2&1)*F*255]},D.ansi256.rgb=function(j){if(j>=232){const F=10*(j-232)+8;return[F,F,F]}let B;return j-=16,[Math.floor(j/36)/5*255,Math.floor((B=j%36)/6)/5*255,B%6/5*255]},D.rgb.hex=function(j){const B=(((255&Math.round(j[0]))<<16)+((255&Math.round(j[1]))<<8)+(255&Math.round(j[2]))).toString(16).toUpperCase();return"000000".substring(B.length)+B},D.hex.rgb=function(j){const B=j.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!B)return[0,0,0];let F=B[0];B[0].length===3&&(F=F.split("").map($=>$+$).join(""));const H=parseInt(F,16);return[H>>16&255,H>>8&255,255&H]},D.rgb.hcg=function(j){const B=j[0]/255,F=j[1]/255,H=j[2]/255,$=Math.max(Math.max(B,F),H),K=Math.min(Math.min(B,F),H),Q=$-K;let ee,ne;return ee=Q<1?K/(1-Q):0,ne=Q<=0?0:$===B?(F-H)/Q%6:$===F?2+(H-B)/Q:4+(B-F)/Q,ne/=6,ne%=1,[360*ne,100*Q,100*ee]},D.hsl.hcg=function(j){const B=j[1]/100,F=j[2]/100,H=F<.5?2*B*F:2*B*(1-F);let $=0;return H<1&&($=(F-.5*H)/(1-H)),[j[0],100*H,100*$]},D.hsv.hcg=function(j){const B=j[1]/100,F=j[2]/100,H=B*F;let $=0;return H<1&&($=(F-H)/(1-H)),[j[0],100*H,100*$]},D.hcg.rgb=function(j){const B=j[0]/360,F=j[1]/100,H=j[2]/100;if(F===0)return[255*H,255*H,255*H];const $=[0,0,0],K=B%1*6,Q=K%1,ee=1-Q;let ne=0;switch(Math.floor(K)){case 0:$[0]=1,$[1]=Q,$[2]=0;break;case 1:$[0]=ee,$[1]=1,$[2]=0;break;case 2:$[0]=0,$[1]=1,$[2]=Q;break;case 3:$[0]=0,$[1]=ee,$[2]=1;break;case 4:$[0]=Q,$[1]=0,$[2]=1;break;default:$[0]=1,$[1]=0,$[2]=ee}return ne=(1-F)*H,[255*(F*$[0]+ne),255*(F*$[1]+ne),255*(F*$[2]+ne)]},D.hcg.hsv=function(j){const B=j[1]/100,F=B+j[2]/100*(1-B);let H=0;return F>0&&(H=B/F),[j[0],100*H,100*F]},D.hcg.hsl=function(j){const B=j[1]/100,F=j[2]/100*(1-B)+.5*B;let H=0;return F>0&&F<.5?H=B/(2*F):F>=.5&&F<1&&(H=B/(2*(1-F))),[j[0],100*H,100*F]},D.hcg.hwb=function(j){const B=j[1]/100,F=B+j[2]/100*(1-B);return[j[0],100*(F-B),100*(1-F)]},D.hwb.hcg=function(j){const B=j[1]/100,F=1-j[2]/100,H=F-B;let $=0;return H<1&&($=(F-H)/(1-H)),[j[0],100*H,100*$]},D.apple.rgb=function(j){return[j[0]/65535*255,j[1]/65535*255,j[2]/65535*255]},D.rgb.apple=function(j){return[j[0]/255*65535,j[1]/255*65535,j[2]/255*65535]},D.gray.rgb=function(j){return[j[0]/100*255,j[0]/100*255,j[0]/100*255]},D.gray.hsl=function(j){return[0,0,j[0]]},D.gray.hsv=D.gray.hsl,D.gray.hwb=function(j){return[0,100,j[0]]},D.gray.cmyk=function(j){return[0,0,0,j[0]]},D.gray.lab=function(j){return[j[0],0,0]},D.gray.hex=function(j){const B=255&Math.round(j[0]/100*255),F=((B<<16)+(B<<8)+B).toString(16).toUpperCase();return"000000".substring(F.length)+F},D.rgb.gray=function(j){return[(j[0]+j[1]+j[2])/3/255*100]}},9047:(_,y,v)=>{const N=v(9246),S=v(802),D={};Object.keys(N).forEach(j=>{D[j]={},Object.defineProperty(D[j],"channels",{value:N[j].channels}),Object.defineProperty(D[j],"labels",{value:N[j].labels});const B=S(j);Object.keys(B).forEach(F=>{const H=B[F];D[j][F]=function($){const K=function(...Q){const ee=Q[0];if(ee==null)return ee;ee.length>1&&(Q=ee);const ne=$(Q);if(typeof ne=="object")for(let le=ne.length,se=0;se<le;se++)ne[se]=Math.round(ne[se]);return ne};return"conversion"in $&&(K.conversion=$.conversion),K}(H),D[j][F].raw=function($){const K=function(...Q){const ee=Q[0];return ee==null?ee:(ee.length>1&&(Q=ee),$(Q))};return"conversion"in $&&(K.conversion=$.conversion),K}(H)})}),_.exports=D},802:(_,y,v)=>{const N=v(9246);function S(B){const F=function(){const $={},K=Object.keys(N);for(let Q=K.length,ee=0;ee<Q;ee++)$[K[ee]]={distance:-1,parent:null};return $}(),H=[B];for(F[B].distance=0;H.length;){const $=H.pop(),K=Object.keys(N[$]);for(let Q=K.length,ee=0;ee<Q;ee++){const ne=K[ee],le=F[ne];le.distance===-1&&(le.distance=F[$].distance+1,le.parent=$,H.unshift(ne))}}return F}function D(B,F){return function(H){return F(B(H))}}function j(B,F){const H=[F[B].parent,B];let $=N[F[B].parent][B],K=F[B].parent;for(;F[K].parent;)H.unshift(F[K].parent),$=D(N[F[K].parent][K],$),K=F[K].parent;return $.conversion=H,$}_.exports=function(B){const F=S(B),H={},$=Object.keys(F);for(let K=$.length,Q=0;Q<K;Q++){const ee=$[Q];F[ee].parent!==null&&(H[ee]=j(ee,F))}return H}},6931:_=>{_.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4199:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const B=j},8708:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const B=j},1866:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Based on default CKBox theme colors */
	--ck-image-processing-highlight-color: hsl(220, 10%, 98%);
	--ck-image-processing-background-color: hsl(220, 10%, 90%);
}

.ck.ck-editor__editable {
	& .image {
		&.image-processing {
			position: relative;

			&:before {
				content: '';

				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;

				height: 100%;
				width: 100%;

				background: linear-gradient(
					90deg,
					var(--ck-image-processing-background-color),
					var(--ck-image-processing-highlight-color),
					var(--ck-image-processing-background-color)
				);
				background-size: 200% 100%;

				animation: ck-image-processing-animation 2s linear infinite;
			}

			& img {
				height: 100%;
			}
		}
	}
}

@keyframes ck-image-processing-animation {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
`],sourceRoot:""}]);const B=j},7793:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const B=j},7388:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DCED,eDeC,CAjBA,mKCMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAcF,CAjBA,8DAOC,wCAAsB,CAAtB,sBAUD,CARC,8FACC,uBACD,CAEA,qJAEC,QACD,CAMH,yCAEC,0CAA2C,CCtB3C,eDgCD,CAZA,yHChBE,qCAAsC,CDqBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-sticky-panel__content {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border: 1px solid var(--ck-color-base-border);
			border-bottom-width: 0;

			&.ck-sticky-panel__content_sticky {
				border-bottom-width: 1px;
			}

			& .ck-menu-bar,
			& .ck-toolbar {
				border: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},4098:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	@mixin ck-media-forced-colors {
		/*
		 * This is needed for Edge on Windows to use the right color for the placeholder content (::before).
		 * See https://github.com/ckeditor/ckeditor5/issues/14907.
		 */
		forced-color-adjust: preserve-parent-color;
	}

	&::before {
		cursor: text;

		@mixin ck-media-default-colors {
			color: var(--ck-color-engine-placeholder-text);
		}

		@mixin ck-media-forced-colors {
			/*
			 * In the high contrast mode there is no telling between regular and placeholder text. Using
			 * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			font-style: italic;

			/*
			 * Without this margin, the caret will not show up and blink when the user puts the selection
			 * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			margin-left: 1px;
		}
	}
}
`],sourceRoot:""}]);const B=j},8264:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const B=j},6269:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const B=j},265:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const B=j},5247:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@media (forced-colors: active) {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	@mixin ck-media-default-colors {
		animation: ck-image-caption-highlight .6s ease-out;
	}

	@media (prefers-reduced-motion: reduce) {
		animation: none;
	}
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const B=j},4642:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-image-custom-resize-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: flex-start;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},3350:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAMC,yDACC,YAAa,CACb,mCACD,CCFD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-url {
	& .ck-image-insert-url__action-row {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;
		padding: var(--ck-list-button-padding);

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`],sourceRoot:""}]);const B=j},7378:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& img.image_placeholder {
		background-size: 100% 100%;
	}
}
`],sourceRoot:""}]);const B=j},3469:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const B=j},6386:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},7693:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,sBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 0ms;

		&::after {
			animation: none;
			opacity: 1;
			width: 0.3em;
			height: 0.45em;
		}
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const B=j},1559:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const B=j},2267:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;

			@media (prefers-reduced-motion: reduce) {
				opacity: 1;
				animation: none;
			}
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const B=j},4062:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},7719:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const B=j},8762:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},3817:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;
	align-items: flex-start;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},4808:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,k2BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const B=j},1232:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const B=j},6903:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},9968:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const B=j},7141:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const B=j},8991:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAFA,wDApEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAoEA,CAhED,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAFA,wGAtGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAsGD,CAlGA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const B=j},70:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const B=j},7048:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OW0wIDQ1LjM5MWM2Ny4yNjUgMCA3NS4yMzMuMjU3IDEwMS43OTcgMS40NjkgMjQuNTYyIDEuMTIgMzcuOTAxIDUuMjI0IDQ2Ljc3OCA4LjY3NCAxMS43NTkgNC41NyAyMC4xNTEgMTAuMDI5IDI4Ljk2NiAxOC44NDVzMTQuMjc1IDE3LjIwNyAxOC44NDUgMjguOTY2YzMuNDUgOC44NzcgNy41NTQgMjIuMjE2IDguNjc0IDQ2Ljc3OCAxLjIxMiAyNi41NjQgMS40NjkgMzQuNTMyIDEuNDY5IDEwMS43OTggMCA2Ny4yNjUtLjI1NyA3NS4yMzMtMS40NjkgMTAxLjc5Ny0xLjEyIDI0LjU2Mi01LjIyNCAzNy45MDEtOC42NzQgNDYuNzc4LTQuNTcgMTEuNzU5LTEwLjAyOSAyMC4xNTEtMTguODQ1IDI4Ljk2NnMtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1Yy04Ljg3NyAzLjQ1LTIyLjIxNiA3LjU1NC00Ni43NzggOC42NzQtMjYuNTYgMS4yMTItMzQuNTI3IDEuNDY5LTEwMS43OTcgMS40NjktNjcuMjcxIDAtNzUuMjM3LS4yNTctMTAxLjc5OC0xLjQ2OS0yNC41NjItMS4xMi0zNy45MDEtNS4yMjQtNDYuNzc4LTguNjc0LTExLjc1OS00LjU3LTIwLjE1MS0xMC4wMjktMjguOTY2LTE4Ljg0NXMtMTQuMjc1LTE3LjIwNy0xOC44NDUtMjguOTY2Yy0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NnMxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDVjOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OSIgbWFzaz0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yNTEuOTIxIDMzNi4wNTNjLTQ2LjM3OCAwLTgzLjk3NC0zNy41OTYtODMuOTc0LTgzLjk3M3MzNy41OTYtODMuOTc0IDgzLjk3NC04My45NzRjNDYuMzc3IDAgODMuOTczIDM3LjU5NiA4My45NzMgODMuOTc0IDAgNDYuMzc3LTM3LjU5NiA4My45NzMtODMuOTczIDgzLjk3M20wLTIxMy4zMzhjLTcxLjQ0NyAwLTEyOS4zNjUgNTcuOTE4LTEyOS4zNjUgMTI5LjM2NSAwIDcxLjQ0NiA1Ny45MTggMTI5LjM2NCAxMjkuMzY1IDEyOS4zNjQgNzEuNDQ2IDAgMTI5LjM2NC01Ny45MTggMTI5LjM2NC0xMjkuMzY0IDAtNzEuNDQ3LTU3LjkxOC0xMjkuMzY1LTEyOS4zNjQtMTI5LjM2NU00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjNzMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzFjMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,goGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,o+GACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,g/BACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},5651:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},5506:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},4043:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},2655:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const B=j},5032:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const B=j},2329:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const B=j},4143:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@mixin ck-media-forced-colors {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	@mixin ck-media-default-colors {
		&.table__caption_highlighted {
			animation: ck-table-caption-highlight .6s ease-out;
		}
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const B=j},8986:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},8795:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const B=j},8137:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const B=j},1623:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8ECxCD,eD6DC,CArBA,mMCpCA,qCDyDA,CArBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CAXC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEAKD,CAHC,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;

			@media (prefers-reduced-motion: reduce) {
				animation: none;
			}
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},5562:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},8423:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},1801:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}

.ck.ck-aria-live-region-list {
	list-style-type: none;
}
`],sourceRoot:""}]);const B=j},5727:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},9715:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD+ID,CC5IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eFgJD,CA/IA,wIEGE,qCF4IF,CA/IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBA0ID,CAhHC,uCA/BD,6BAgCE,eA+GF,CA9GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAWD,CAZA,6FAIE,mCAQF,CAZA,6FAQE,oCAIF,CAZA,yEAWC,UACD,CAIC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCClIA,+CDsIA,CCnIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDmHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CClJC,mDDuJD,CCpJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDmID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		opacity: .5;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const B=j},4391:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eDgFA,CA5CA,yIChCC,qCD4ED,CA5CA,2DAKE,gBAuCF,CA5CA,2DAUE,iBAkCF,CA5CA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CA2BD,CAxBC,2ECxDD,eDuEC,CAfA,6LCpDA,qCAAsC,CDsDpC,8CAaF,CAfA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CAHC,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEpFA,kCFsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const B=j},25:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-list-button-padding);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const B=j},7317:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	transition: .2s ease box-shadow;

	@mixin ck-media-default-colors {
		width: var(--ck-color-grid-tile-size);
		height: var(--ck-color-grid-tile-size);
		min-width: var(--ck-color-grid-tile-size);
		min-height: var(--ck-color-grid-tile-size);
		padding: 0;
		border: 0;

		&.ck-on,
		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			/* Disable the default .ck-button's border ring. */
			border: 0;
		}

		&.ck-color-selector__color-tile_bordered {
			box-shadow: 0 0 0 1px var(--ck-color-base-border);
		}

		&.ck-on {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);
		}

		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
		}
	}

	/*
	 * In high contrast mode, the colors are replaced with text labels.
	 * See https://github.com/ckeditor/ckeditor5/issues/14907.
	 */
	@mixin ck-media-forced-colors {
		width: unset;
		height: unset;
		min-width: unset;
		min-height: unset;
		padding: 0 var(--ck-spacing-small);

		& .ck-button__label {
			display: inline-block;
		}
	}

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		& .ck.ck-icon {
			display: block;
		}
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const B=j},1905:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const B=j},6309:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const B=j},9819:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cEfC,oCAA8B,CFmB9B,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;

		& .ck-form__header__label {
			cursor: grab;
		}
	}

	@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},9822:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const B=j},8149:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},3629:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},1792:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},1666:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const B=j},8527:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},1185:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},7913:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const B=j},9529:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const B=j},7621:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},253:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eDmDD,CA9CA,iECDE,qCD+CF,CA9CA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CAhCC,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		@media (prefers-reduced-motion: reduce) {
			animation: none;
		}

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},7801:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const B=j},4962:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CA9GA,2FCDE,qCD+GF,CA3GC,mEACC,UAwCD,CAtCC,gFACC,KAoCD,CArCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBAgCF,CArCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAyBF,CArCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAQD,CAHC,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},5199:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,qJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAwCD,CA1CA,uCAME,eAoCF,CA1CA,uCAUE,gBAgCF,CA1CA,6BAgBC,qCA0BD,CAxBC,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.11 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& > .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& > .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},497:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;
	background: var(--ck-color-base-background);
	padding: var(--ck-spacing-small);
	gap: var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);
	width: 100%;
}
`],sourceRoot:""}]);const B=j},4:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	display: block;
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	&.ck-menu-bar__menu_top-level {
		max-width: 100%;
	}
}
`],sourceRoot:""}]);const B=j},3344:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,qCAAsC,CACtC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECdD,kCDgBC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAgBD,CAbC,+FAEC,iBAAkB,CADlB,WAED,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eAiDD,CA/CC,yFACC,wBAAyB,CACzB,eAKD,CAHC,qGACC,0DACD,CAID,iIACC,+DACD,CAEA,qHACC,mCASD,CAVA,+HAIE,wBAMF,CAVA,+HAQE,uBAEF,CAEA,iICrFD,kCDuFC,CAGC,+HAIC,sCAAuC,CAHvC,gCAID,CAIA,+HACC,+BAAgC,CAGhC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu  {
	& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * All menu buttons.
	 */
	& > .ck-menu-bar__menu__button {
		padding: var(--ck-list-button-padding);
		width: 100%;

		& > .ck-button__label {
			flex-grow: 1;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&.ck-disabled > .ck-button__label {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				padding-right: var(--ck-spacing-small);
			}
		}
	}

	/*
	 * Top-level menu buttons only.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {
		padding: var(--ck-spacing-small) var(--ck-spacing-medium);
		min-height: unset;

		& .ck-button__label {
			width: unset;
			line-height: unset;
		}

		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		& .ck-icon {
			display: none;
		}
	}

	/*
	 * Sub-menu buttons.
	 */
	&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {
		border-radius: 0;

		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}

		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}

		& > .ck-menu-bar__menu__button__arrow {
			width: var(--ck-dropdown-arrow-size);

			@mixin ck-dir ltr {
				transform: rotate(-90deg);
			}

			@mixin ck-dir rtl {
				transform: rotate(90deg);
			}
		}

		&.ck-disabled > .ck-menu-bar__menu__button__arrow {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			& > .ck-menu-bar__menu__button__arrow {
				right: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-left: var(--ck-spacing-standard);
			}
		}

		@mixin ck-dir rtl {
			& > .ck-menu-bar__menu__button__arrow {
				left: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-right: var(--ck-spacing-small);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const B=j},9481:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-item-min-width: 18em;
}

.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {
	min-width: var(--ck-menu-bar-menu-item-min-width);
}
`],sourceRoot:""}]);const B=j},977:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css"],names:[],mappings:"AASC,iEACC,eA0BD,CAxBC,0LAGC,8BACD,CAEA,uFAEC,4CAA+C,CAC/C,oCACD,CAMA,uEACC,wBAAyB,CACzB,eAKD,CAHC,mFACC,0DACD,CASD,uLACC,+DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/*
	 * List item buttons.
	 */
	& .ck-button.ck-menu-bar__menu__item__button {
		border-radius: 0;

		& > .ck-spinner-container,
		& > .ck-spinner-container .ck-spinner {
			/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
			--ck-toolbar-spinner-size: 20px;
		}

		& > .ck-spinner-container {
			/* These margins are the same as for .ck-icon. */
			margin-left: calc(-1 * var(--ck-spacing-small));
			margin-right: var(--ck-spacing-small);
		}

		/*
		 * Hovered items automatically get focused. Default focus styles look odd
		 * while moving across a huge list of items so let's get rid of them
		 */
		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}
	}

	/*
	 * First-level sub-menu item buttons.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__panel > ul > .ck-menu-bar__menu__item > .ck-menu-bar__menu__item__button {
		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}
	}
}


`],sourceRoot:""}]);const B=j},9108:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCpDD,MACC,uCACD,CAEA,mDCDC,eDmCD,CAlCA,6ICGE,qCD+BF,CAlCA,mDAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CETT,oCAA8B,CFU9B,kBAAmB,CACnB,iDA0BD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-max-width: 75vw;
	--ck-menu-bar-nested-menu-horizontal-offset: 5px;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	z-index: var(--ck-z-panel);
	max-width: var(--ck-menu-bar-menu-max-width);
	position: absolute;

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_nw {
		bottom: 100%;
	}

	&.ck-menu-bar__menu__panel_position_se,
	&.ck-menu-bar__menu__panel_position_sw {
		top: 100%;
		bottom: auto;
	}

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_se {
		left: 0px;
	}

	&.ck-menu-bar__menu__panel_position_nw,
	&.ck-menu-bar__menu__panel_position_sw {
		right: 0px;
	}

	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_en {
		left: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_es {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_en {
		bottom: 0px;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_wn {
		right: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_ws {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_wn {
		bottom: 0px;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-menu-bar-menu-panel-max-width: 75vw;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-menu-bar-menu-panel-max-width);

	/* Corner border radius consistent with the button. */
	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_se {
		border-top-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_sw {
		border-top-right-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_en,
	&.ck-menu-bar__menu__panel_position_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_wn,
	&.ck-menu-bar__menu__panel_position_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},3710:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},991:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const B=j},5380:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},8298:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const B=j},2722:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDrEH",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text,
			& .ck-input-number {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const B=j},8107:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const B=j},109:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCAAsC,CADtC,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 3s;
	}
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}
`],sourceRoot:""}]);const B=j},1671:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const B=j},2710:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const B=j},9677:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const B=j},9205:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-balloon-panel.ck-tooltip {
	@mixin ck-unselectable;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const B=j},7676:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;

	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const B=j},695:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAYD,CARC,yGCnCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YD2CA,CGvCA,4BACC,yGHoCC,iEGlCD,CACD,CHuCA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
		@mixin ck-media-default-colors {
			background-color: var(--ck-color-widget-editable-focus-background);
		}
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);

				@media (prefers-reduced-motion: reduce) {
					transition: none;
				}
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const B=j},4095:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const B=j},8508:(_,y,v)=>{v.d(y,{A:()=>B});var N=v(9372),S=v.n(N),D=v(935),j=v.n(D)()(S());j.push([_.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}

			@media (prefers-reduced-motion: reduce) {
				animation: none;

				& svg {
					& polyline {
						animation: none;
					}

					& line {
						animation: none;
					}
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const B=j},935:_=>{_.exports=function(y){var v=[];return v.toString=function(){return this.map(function(N){var S=y(N);return N[2]?"@media ".concat(N[2]," {").concat(S,"}"):S}).join("")},v.i=function(N,S,D){typeof N=="string"&&(N=[[null,N,""]]);var j={};if(D)for(var B=0;B<this.length;B++){var F=this[B][0];F!=null&&(j[F]=!0)}for(var H=0;H<N.length;H++){var $=[].concat(N[H]);D&&j[$[0]]||(S&&($[2]?$[2]="".concat(S," and ").concat($[2]):$[2]=S),v.push($))}},v}},9372:_=>{function y(N,S){return function(D){if(Array.isArray(D))return D}(N)||function(D,j){var B=D&&(typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"]);if(B!=null){var F,H,$=[],K=!0,Q=!1;try{for(B=B.call(D);!(K=(F=B.next()).done)&&($.push(F.value),!j||$.length!==j);K=!0);}catch(ee){Q=!0,H=ee}finally{try{K||B.return==null||B.return()}finally{if(Q)throw H}}return $}}(N,S)||function(D,j){if(D){if(typeof D=="string")return v(D,j);var B=Object.prototype.toString.call(D).slice(8,-1);if(B==="Object"&&D.constructor&&(B=D.constructor.name),B==="Map"||B==="Set")return Array.from(D);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return v(D,j)}}(N,S)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(N,S){(S==null||S>N.length)&&(S=N.length);for(var D=0,j=new Array(S);D<S;D++)j[D]=N[D];return j}_.exports=function(N){var S=y(N,4),D=S[1],j=S[3];if(!j)return D;if(typeof btoa=="function"){var B=btoa(unescape(encodeURIComponent(JSON.stringify(j)))),F="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(B),H="/*# ".concat(F," */"),$=j.sources.map(function(K){return"/*# sourceURL=".concat(j.sourceRoot||"").concat(K," */")});return[D].concat($).concat([H]).join(`
`)}return[D].join(`
`)}},2591:(_,y,v)=>{var N,S=function(){return N===void 0&&(N=!!(window&&document&&document.all&&!window.atob)),N},D=function(){var q={};return function(de){if(q[de]===void 0){var re=document.querySelector(de);if(window.HTMLIFrameElement&&re instanceof window.HTMLIFrameElement)try{re=re.contentDocument.head}catch{re=null}q[de]=re}return q[de]}}(),j=[];function B(q){for(var de=-1,re=0;re<j.length;re++)if(j[re].identifier===q){de=re;break}return de}function F(q,de){for(var re={},be=[],ke=0;ke<q.length;ke++){var Ne=q[ke],De=de.base?Ne[0]+de.base:Ne[0],_e=re[De]||0,je="".concat(De," ").concat(_e);re[De]=_e+1;var oe=B(je),ve={css:Ne[1],media:Ne[2],sourceMap:Ne[3]};oe!==-1?(j[oe].references++,j[oe].updater(ve)):j.push({identifier:je,updater:se(ve,de),references:1}),be.push(je)}return be}function H(q){var de=document.createElement("style"),re=q.attributes||{};if(re.nonce===void 0){var be=v.nc;be&&(re.nonce=be)}if(Object.keys(re).forEach(function(Ne){de.setAttribute(Ne,re[Ne])}),typeof q.insert=="function")q.insert(de);else{var ke=D(q.insert||"head");if(!ke)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ke.appendChild(de)}return de}var $,K=($=[],function(q,de){return $[q]=de,$.filter(Boolean).join(`
`)});function Q(q,de,re,be){var ke=re?"":be.media?"@media ".concat(be.media," {").concat(be.css,"}"):be.css;if(q.styleSheet)q.styleSheet.cssText=K(de,ke);else{var Ne=document.createTextNode(ke),De=q.childNodes;De[de]&&q.removeChild(De[de]),De.length?q.insertBefore(Ne,De[de]):q.appendChild(Ne)}}function ee(q,de,re){var be=re.css,ke=re.media,Ne=re.sourceMap;if(ke?q.setAttribute("media",ke):q.removeAttribute("media"),Ne&&typeof btoa<"u"&&(be+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Ne))))," */")),q.styleSheet)q.styleSheet.cssText=be;else{for(;q.firstChild;)q.removeChild(q.firstChild);q.appendChild(document.createTextNode(be))}}var ne=null,le=0;function se(q,de){var re,be,ke;if(de.singleton){var Ne=le++;re=ne||(ne=H(de)),be=Q.bind(null,re,Ne,!1),ke=Q.bind(null,re,Ne,!0)}else re=H(de),be=ee.bind(null,re,de),ke=function(){(function(De){if(De.parentNode===null)return!1;De.parentNode.removeChild(De)})(re)};return be(q),function(De){if(De){if(De.css===q.css&&De.media===q.media&&De.sourceMap===q.sourceMap)return;be(q=De)}else ke()}}_.exports=function(q,de){(de=de||{}).singleton||typeof de.singleton=="boolean"||(de.singleton=S());var re=F(q=q||[],de);return function(be){if(be=be||[],Object.prototype.toString.call(be)==="[object Array]"){for(var ke=0;ke<re.length;ke++){var Ne=B(re[ke]);j[Ne].references--}for(var De=F(be,de),_e=0;_e<re.length;_e++){var je=B(re[_e]);j[je].references===0&&(j[je].updater(),j.splice(je,1))}re=De}}}}},o={};function h(_){var y=o[_];if(y!==void 0)return y.exports;var v=o[_]={id:_,exports:{}};return s[_](v,v.exports,h),v.exports}h.n=_=>{var y=_&&_.__esModule?()=>_.default:()=>_;return h.d(y,{a:y}),y},h.d=(_,y)=>{for(var v in y)h.o(y,v)&&!h.o(_,v)&&Object.defineProperty(_,v,{enumerable:!0,get:y[v]})},h.o=(_,y)=>Object.prototype.hasOwnProperty.call(_,y),h.nc=void 0;var g={};return(()=>{let _;h.d(g,{default:()=>Zy});try{_={window,document}}catch{_={window:{},document:{}}}const y=_,v=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var N;const S={isMac:D(v),isWindows:(N=v,N.indexOf("windows")>-1),isGecko:function(r){return!!r.match(/gecko\/\d+/)}(v),isSafari:function(r){return r.indexOf(" applewebkit/")>-1&&r.indexOf("chrome")===-1}(v),isiOS:function(r){return!!r.match(/iphone|ipad/i)||D(r)&&navigator.maxTouchPoints>0}(v),isAndroid:function(r){return r.indexOf("android")>-1}(v),isBlink:function(r){return r.indexOf("chrome/")>-1&&r.indexOf("edge/")<0}(v),features:{isRegExpUnicodePropertySupported:function(){let r=!1;try{r="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return r}()}};function D(r){return r.indexOf("macintosh")>-1}function j(r,e,t,n){t=t||function(w,A){return w===A};const a=Array.isArray(r)?r:Array.prototype.slice.call(r),u=Array.isArray(e)?e:Array.prototype.slice.call(e),f=function(w,A,E){const O=B(w,A,E);if(O===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const z=F(w,O),U=F(A,O),W=B(z,U,E),X=w.length-W,ae=A.length-W;return{firstIndex:O,lastIndexOld:X,lastIndexNew:ae}}(a,u,t);return n?function(w,A){const{firstIndex:E,lastIndexOld:O,lastIndexNew:z}=w;if(E===-1)return Array(A).fill("equal");let U=[];return E>0&&(U=U.concat(Array(E).fill("equal"))),z-E>0&&(U=U.concat(Array(z-E).fill("insert"))),O-E>0&&(U=U.concat(Array(O-E).fill("delete"))),z<A&&(U=U.concat(Array(A-z).fill("equal"))),U}(f,u.length):function(w,A){const E=[],{firstIndex:O,lastIndexOld:z,lastIndexNew:U}=A;return U-O>0&&E.push({index:O,type:"insert",values:w.slice(O,U)}),z-O>0&&E.push({index:O+(U-O),type:"delete",howMany:z-O}),E}(u,f)}function B(r,e,t){for(let n=0;n<Math.max(r.length,e.length);n++)if(r[n]===void 0||e[n]===void 0||!t(r[n],e[n]))return n;return-1}function F(r,e){return r.slice(e).reverse()}function H(r,e,t){t=t||function(X,ae){return X===ae};const n=r.length,a=e.length;if(n>200||a>200||n+a>300)return H.fastDiff(r,e,t,!0);let u,f;if(a<n){const X=r;r=e,e=X,u="delete",f="insert"}else u="insert",f="delete";const b=r.length,w=e.length,A=w-b,E={},O={};function z(X){const ae=(O[X-1]!==void 0?O[X-1]:-1)+1,ge=O[X+1]!==void 0?O[X+1]:-1,Me=ae>ge?-1:1;E[X+Me]&&(E[X]=E[X+Me].slice(0)),E[X]||(E[X]=[]),E[X].push(ae>ge?u:f);let Ze=Math.max(ae,ge),pt=Ze-X;for(;pt<b&&Ze<w&&t(r[pt],e[Ze]);)pt++,Ze++,E[X].push("equal");return Ze}let U,W=0;do{for(U=-W;U<A;U++)O[U]=z(U);for(U=A+W;U>A;U--)O[U]=z(U);O[A]=z(A),W++}while(O[A]!==w);return E[A].slice(1)}H.fastDiff=j;const $=function(){return function r(){r.called=!0}};class K{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=$(),this.off=$()}}const Q=new Array(256).fill("").map((r,e)=>("0"+e.toString(16)).slice(-2));function ee(){const r=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0;return"e"+Q[255&r]+Q[r>>8&255]+Q[r>>16&255]+Q[r>>24&255]+Q[255&e]+Q[e>>8&255]+Q[e>>16&255]+Q[e>>24&255]+Q[255&t]+Q[t>>8&255]+Q[t>>16&255]+Q[t>>24&255]+Q[255&n]+Q[n>>8&255]+Q[n>>16&255]+Q[n>>24&255]}const ne={get(r="normal"){return typeof r!="number"?this[r]||this.normal:r},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function le(r,e){const t=ne.get(e.priority);for(let n=0;n<r.length;n++)if(ne.get(r[n].priority)<t)return void r.splice(n,0,e);r.push(e)}const se="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class q extends Error{constructor(e,t,n){super(function(a,u){const f=new WeakSet,b=(E,O)=>{if(typeof O=="object"&&O!==null){if(f.has(O))return`[object ${O.constructor.name}]`;f.add(O)}return O},w=u?` ${JSON.stringify(u,b)}`:"",A=be(a);return a+w+A}(e,n)),this.name="CKEditorError",this.context=t,this.data=n}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const n=new q(e.message,t);throw n.stack=e.stack,n}}function de(r,e){console.warn(...ke(r,e))}function re(r,e){console.error(...ke(r,e))}function be(r){return`
Read more: ${se}#error-${r}`}function ke(r,e){const t=be(r);return e?[r,e,t]:[r,t]}const Ne="41.4.2",De=new Date(2024,4,17);if(globalThis.CKEDITOR_VERSION)throw new q("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=Ne;const _e=Symbol("listeningTo"),je=Symbol("emitterId"),oe=Symbol("delegations"),ve=he(Object);function he(r){return r?class extends r{on(e,t,n){this.listenTo(this,e,t,n)}once(e,t,n){let a=!1;this.listenTo(this,e,(u,...f)=>{a||(a=!0,u.off(),t.call(this,u,...f))},n)}off(e,t){this.stopListening(this,e,t)}listenTo(e,t,n,a={}){let u,f;this[_e]||(this[_e]={});const b=this[_e];Z(e)||Ee(e);const w=Z(e);(u=b[w])||(u=b[w]={emitter:e,callbacks:{}}),(f=u.callbacks[t])||(f=u.callbacks[t]=[]),f.push(n),function(A,E,O,z,U){E._addEventListener?E._addEventListener(O,z,U):A._addEventListener.call(E,O,z,U)}(this,e,t,n,a)}stopListening(e,t,n){const a=this[_e];let u=e&&Z(e);const f=a&&u?a[u]:void 0,b=f&&t?f.callbacks[t]:void 0;if(!(!a||e&&!f||t&&!b))if(n)tt(this,e,t,n),b.indexOf(n)!==-1&&(b.length===1?delete f.callbacks[t]:tt(this,e,t,n));else if(b){for(;n=b.pop();)tt(this,e,t,n);delete f.callbacks[t]}else if(f){for(t in f.callbacks)this.stopListening(e,t);delete a[u]}else{for(u in a)this.stopListening(a[u].emitter);delete this[_e]}}fire(e,...t){try{const n=e instanceof K?e:new K(this,e),a=n.name;let u=Se(this,a);if(n.path.push(this),u){const b=[n,...t];u=Array.from(u);for(let w=0;w<u.length&&(u[w].callback.apply(this,b),n.off.called&&(delete n.off.called,this._removeEventListener(a,u[w].callback)),!n.stop.called);w++);}const f=this[oe];if(f){const b=f.get(a),w=f.get("*");b&&Fe(b,n,t),w&&Fe(w,n,t)}return n.return}catch(n){q.rethrowUnexpectedError(n,this)}}delegate(...e){return{to:(t,n)=>{this[oe]||(this[oe]=new Map),e.forEach(a=>{const u=this[oe].get(a);u?u.set(t,n):this[oe].set(a,new Map([[t,n]]))})}}}stopDelegating(e,t){if(this[oe])if(e)if(t){const n=this[oe].get(e);n&&n.delete(t)}else this[oe].delete(e);else this[oe].clear()}_addEventListener(e,t,n){(function(f,b){const w=pe(f);if(w[b])return;let A=b,E=null;const O=[];for(;A!==""&&!w[A];)w[A]={callbacks:[],childEvents:[]},O.push(w[A]),E&&w[A].childEvents.push(E),E=A,A=A.substr(0,A.lastIndexOf(":"));if(A!==""){for(const z of O)z.callbacks=w[A].callbacks.slice();w[A].childEvents.push(E)}})(this,e);const a=xe(this,e),u={callback:t,priority:ne.get(n.priority)};for(const f of a)le(f,u)}_removeEventListener(e,t){const n=xe(this,e);for(const a of n)for(let u=0;u<a.length;u++)a[u].callback==t&&(a.splice(u,1),u--)}}:ve}function Ee(r,e){r[je]||(r[je]=e||ee())}function Z(r){return r[je]}function pe(r){return r._events||Object.defineProperty(r,"_events",{value:{}}),r._events}function xe(r,e){const t=pe(r)[e];if(!t)return[];let n=[t.callbacks];for(let a=0;a<t.childEvents.length;a++){const u=xe(r,t.childEvents[a]);n=n.concat(u)}return n}function Se(r,e){let t;return r._events&&(t=r._events[e])&&t.callbacks.length?t.callbacks:e.indexOf(":")>-1?Se(r,e.substr(0,e.lastIndexOf(":"))):null}function Fe(r,e,t){for(let[n,a]of r){a?typeof a=="function"&&(a=a(e.name)):a=e.name;const u=new K(e.source,a);u.path=[...e.path],n.fire(u,...t)}}function tt(r,e,t,n){e._removeEventListener?e._removeEventListener(t,n):r._removeEventListener.call(e,t,n)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(r=>{he[r]=ve.prototype[r]});const fe=function(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")},me=Symbol("observableProperties"),Ie=Symbol("boundObservables"),qe=Symbol("boundProperties"),Le=Symbol("decoratedMethods"),st=Symbol("decoratedOriginal"),Ye=Oe(he());function Oe(r){return r?class extends r{set(e,t){if(fe(e))return void Object.keys(e).forEach(a=>{this.set(a,e[a])},this);ut(this);const n=this[me];if(e in this&&!n.has(e))throw new q("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>n.get(e),set(a){const u=n.get(e);let f=this.fire(`set:${e}`,e,a,u);f===void 0&&(f=a),u===f&&n.has(e)||(n.set(e,f),this.fire(`change:${e}`,e,f,u))}}),this[e]=t}bind(...e){if(!e.length||!Rt(e))throw new q("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new q("observable-bind-duplicate-properties",this);ut(this);const t=this[qe];e.forEach(a=>{if(t.has(a))throw new q("observable-bind-rebind",this)});const n=new Map;return e.forEach(a=>{const u={property:a,to:[]};t.set(a,u),n.set(a,u)}),{to:ze,toMany:ht,_observable:this,_bindProperties:e,_to:[],_bindings:n}}unbind(...e){if(!this[me])return;const t=this[qe],n=this[Ie];if(e.length){if(!Rt(e))throw new q("observable-unbind-wrong-properties",this);e.forEach(a=>{const u=t.get(a);u&&(u.to.forEach(([f,b])=>{const w=n.get(f),A=w[b];A.delete(u),A.size||delete w[b],Object.keys(w).length||(n.delete(f),this.stopListening(f,"change"))}),t.delete(a))})}else n.forEach((a,u)=>{this.stopListening(u,"change")}),n.clear(),t.clear()}decorate(e){ut(this);const t=this[e];if(!t)throw new q("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(n,a)=>{n.return=t.apply(this,a)}),this[e]=function(...n){return this.fire(e,n)},this[e][st]=t,this[Le]||(this[Le]=[]),this[Le].push(e)}stopListening(e,t,n){if(!e&&this[Le]){for(const a of this[Le])this[a]=this[a][st];delete this[Le]}super.stopListening(e,t,n)}}:Ye}function ut(r){r[me]||(Object.defineProperty(r,me,{value:new Map}),Object.defineProperty(r,Ie,{value:new Map}),Object.defineProperty(r,qe,{value:new Map}))}function ze(...r){const e=function(...u){if(!u.length)throw new q("observable-bind-to-parse-error",null);const f={to:[]};let b;return typeof u[u.length-1]=="function"&&(f.callback=u.pop()),u.forEach(w=>{if(typeof w=="string")b.properties.push(w);else{if(typeof w!="object")throw new q("observable-bind-to-parse-error",null);b={observable:w,properties:[]},f.to.push(b)}}),f}(...r),t=Array.from(this._bindings.keys()),n=t.length;if(!e.callback&&e.to.length>1)throw new q("observable-bind-to-no-callback",this);if(n>1&&e.callback)throw new q("observable-bind-to-extra-callback",this);var a;e.to.forEach(u=>{if(u.properties.length&&u.properties.length!==n)throw new q("observable-bind-to-properties-length",this);u.properties.length||(u.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),a=this._observable,this._to.forEach(u=>{const f=a[Ie];let b;f.get(u.observable)||a.listenTo(u.observable,"change",(w,A)=>{b=f.get(u.observable)[A],b&&b.forEach(E=>{Xt(a,E.property)})})}),function(u){let f;u._bindings.forEach((b,w)=>{u._to.forEach(A=>{f=A.properties[b.callback?0:u._bindProperties.indexOf(w)],b.to.push([A.observable,f]),function(E,O,z,U){const W=E[Ie],X=W.get(z),ae=X||{};ae[U]||(ae[U]=new Set),ae[U].add(O),X||W.set(z,ae)}(u._observable,b,A.observable,f)})})}(this),this._bindProperties.forEach(u=>{Xt(this._observable,u)})}function ht(r,e,t){if(this._bindings.size>1)throw new q("observable-bind-to-many-not-one-binding",this);this.to(...function(n,a){const u=n.map(f=>[f,a]);return Array.prototype.concat.apply([],u)}(r,e),t)}function Rt(r){return r.every(e=>typeof e=="string")}function Xt(r,e){const t=r[qe].get(e);let n;t.callback?n=t.callback.apply(r,t.to.map(a=>a[0][a[1]])):(n=t.to[0],n=n[0][n[1]]),Object.prototype.hasOwnProperty.call(r,e)?r[e]=n:r.set(e,n)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(r=>{Oe[r]=Ye.prototype[r]});class at{constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display="",t&&t.remove()}),this._replacedElements=[]}}function jt(r){let e=0;for(const t of r)e++;return e}function Dt(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++)if(r[n]!=e[n])return n;return r.length==e.length?"same":r.length<e.length?"prefix":"extension"}function Qe(r){return!(!r||!r[Symbol.iterator])}const It=typeof Fl=="object"&&Fl&&Fl.Object===Object&&Fl;var Lt=typeof self=="object"&&self&&self.Object===Object&&self;const Ue=It||Lt||Function("return this")(),bt=Ue.Symbol;var Ut=Object.prototype,hn=Ut.hasOwnProperty,Pn=Ut.toString,yn=bt?bt.toStringTag:void 0;const li=function(r){var e=hn.call(r,yn),t=r[yn];try{r[yn]=void 0;var n=!0}catch{}var a=Pn.call(r);return n&&(e?r[yn]=t:delete r[yn]),a};var di=Object.prototype.toString;const Ar=function(r){return di.call(r)};var tr=bt?bt.toStringTag:void 0;const Oi=function(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":tr&&tr in Object(r)?li(r):Ar(r)},ri=Array.isArray,ei=function(r){return r!=null&&typeof r=="object"},Us=function(r){return typeof r=="string"||!ri(r)&&ei(r)&&Oi(r)=="[object String]"};function ui(r,e,t={},n=[]){const a=t&&t.xmlns,u=a?r.createElementNS(a,e):r.createElement(e);for(const f in t)u.setAttribute(f,t[f]);!Us(n)&&Qe(n)||(n=[n]);for(let f of n)Us(f)&&(f=r.createTextNode(f)),u.appendChild(f);return u}const nr=function(r,e){return function(t){return r(e(t))}},kr=nr(Object.getPrototypeOf,Object);var ir=Function.prototype,$e=Object.prototype,Gt=ir.toString,mt=$e.hasOwnProperty,dn=Gt.call(Object);const $n=function(r){if(!ei(r)||Oi(r)!="[object Object]")return!1;var e=kr(r);if(e===null)return!0;var t=mt.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Gt.call(t)==dn},Ge=function(){this.__data__=[],this.size=0},Tt=function(r,e){return r===e||r!=r&&e!=e},Je=function(r,e){for(var t=r.length;t--;)if(Tt(r[t][0],e))return t;return-1};var rn=Array.prototype.splice;const xn=function(r){var e=this.__data__,t=Je(e,r);return!(t<0)&&(t==e.length-1?e.pop():rn.call(e,t,1),--this.size,!0)},Bn=function(r){var e=this.__data__,t=Je(e,r);return t<0?void 0:e[t][1]},bn=function(r){return Je(this.__data__,r)>-1},we=function(r,e){var t=this.__data__,n=Je(t,r);return n<0?(++this.size,t.push([r,e])):t[n][1]=e,this};function ct(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}ct.prototype.clear=Ge,ct.prototype.delete=xn,ct.prototype.get=Bn,ct.prototype.has=bn,ct.prototype.set=we;const xt=ct,Te=function(){this.__data__=new xt,this.size=0},Et=function(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t},Mt=function(r){return this.__data__.get(r)},vn=function(r){return this.__data__.has(r)},mn=function(r){if(!fe(r))return!1;var e=Oi(r);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Rn=Ue["__core-js_shared__"];var on=function(){var r=/[^.]+$/.exec(Rn&&Rn.keys&&Rn.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();const lr=function(r){return!!on&&on in r};var Gn=Function.prototype.toString;const Vn=function(r){if(r!=null){try{return Gn.call(r)}catch{}try{return r+""}catch{}}return""};var Wr=/^\[object .+?Constructor\]$/,So=Function.prototype,ws=Object.prototype,Zo=So.toString,Ac=ws.hasOwnProperty,ka=RegExp("^"+Zo.call(Ac).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const uo=function(r){return!(!fe(r)||lr(r))&&(mn(r)?ka:Wr).test(Vn(r))},$s=function(r,e){return r==null?void 0:r[e]},Yr=function(r,e){var t=$s(r,e);return uo(t)?t:void 0},cs=Yr(Ue,"Map"),ds=Yr(Object,"create"),za=function(){this.__data__=ds?ds(null):{},this.size=0},ho=function(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e};var Kn=Object.prototype.hasOwnProperty;const ki=function(r){var e=this.__data__;if(ds){var t=e[r];return t==="__lodash_hash_undefined__"?void 0:t}return Kn.call(e,r)?e[r]:void 0};var _r=Object.prototype.hasOwnProperty;const jo=function(r){var e=this.__data__;return ds?e[r]!==void 0:_r.call(e,r)},Xo=function(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=ds&&e===void 0?"__lodash_hash_undefined__":e,this};function Gr(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}Gr.prototype.clear=za,Gr.prototype.delete=ho,Gr.prototype.get=ki,Gr.prototype.has=jo,Gr.prototype.set=Xo;const Sn=Gr,Qn=function(){this.size=0,this.__data__={hash:new Sn,map:new(cs||xt),string:new Sn}},Nr=function(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null},Ti=function(r,e){var t=r.__data__;return Nr(e)?t[typeof e=="string"?"string":"hash"]:t.map},Ni=function(r){var e=Ti(this,r).delete(r);return this.size-=e?1:0,e},Fa=function(r){return Ti(this,r).get(r)},qs=function(r){return Ti(this,r).has(r)},Ui=function(r,e){var t=Ti(this,r),n=t.size;return t.set(r,e),this.size+=t.size==n?0:1,this};function qn(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}qn.prototype.clear=Qn,qn.prototype.delete=Ni,qn.prototype.get=Fa,qn.prototype.has=qs,qn.prototype.set=Ui;const Br=qn,Er=function(r,e){var t=this.__data__;if(t instanceof xt){var n=t.__data__;if(!cs||n.length<199)return n.push([r,e]),this.size=++t.size,this;t=this.__data__=new Br(n)}return t.set(r,e),this.size=t.size,this};function us(r){var e=this.__data__=new xt(r);this.size=e.size}us.prototype.clear=Te,us.prototype.delete=Et,us.prototype.get=Mt,us.prototype.has=vn,us.prototype.set=Er;const Ws=us,ys=function(r,e){for(var t=-1,n=r==null?0:r.length;++t<n&&e(r[t],t,r)!==!1;);return r},Ys=function(){try{var r=Yr(Object,"defineProperty");return r({},"",{}),r}catch{}}(),ye=function(r,e,t){e=="__proto__"&&Ys?Ys(r,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[e]=t};var Ct=Object.prototype.hasOwnProperty;const en=function(r,e,t){var n=r[e];Ct.call(r,e)&&Tt(n,t)&&(t!==void 0||e in r)||ye(r,e,t)},Dn=function(r,e,t,n){var a=!t;t||(t={});for(var u=-1,f=e.length;++u<f;){var b=e[u],w=void 0;w===void 0&&(w=r[b]),a?ye(t,b,w):en(t,b,w)}return t},_i=function(r,e){for(var t=-1,n=Array(r);++t<r;)n[t]=e(t);return n},Fi=function(r){return ei(r)&&Oi(r)=="[object Arguments]"};var vi=Object.prototype,ul=vi.hasOwnProperty,Qt=vi.propertyIsEnumerable;const $i=Fi(function(){return arguments}())?Fi:function(r){return ei(r)&&ul.call(r,"callee")&&!Qt.call(r,"callee")},ti=function(){return!1};var hs=c&&!c.nodeType&&c,mo=hs&&!0&&l&&!l.nodeType&&l,_a=mo&&mo.exports===hs?Ue.Buffer:void 0;const Kr=(_a?_a.isBuffer:void 0)||ti;var fo=/^(?:0|[1-9]\d*)$/;const Gs=function(r,e){var t=typeof r;return!!(e=e??9007199254740991)&&(t=="number"||t!="symbol"&&fo.test(r))&&r>-1&&r%1==0&&r<e},Do=function(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=9007199254740991};var Tn={};Tn["[object Float32Array]"]=Tn["[object Float64Array]"]=Tn["[object Int8Array]"]=Tn["[object Int16Array]"]=Tn["[object Int32Array]"]=Tn["[object Uint8Array]"]=Tn["[object Uint8ClampedArray]"]=Tn["[object Uint16Array]"]=Tn["[object Uint32Array]"]=!0,Tn["[object Arguments]"]=Tn["[object Array]"]=Tn["[object ArrayBuffer]"]=Tn["[object Boolean]"]=Tn["[object DataView]"]=Tn["[object Date]"]=Tn["[object Error]"]=Tn["[object Function]"]=Tn["[object Map]"]=Tn["[object Number]"]=Tn["[object Object]"]=Tn["[object RegExp]"]=Tn["[object Set]"]=Tn["[object String]"]=Tn["[object WeakMap]"]=!1;const xs=function(r){return ei(r)&&Do(r.length)&&!!Tn[Oi(r)]},$l=function(r){return function(e){return r(e)}};var Sr=c&&!c.nodeType&&c,Cs=Sr&&!0&&l&&!l.nodeType&&l,Jo=Cs&&Cs.exports===Sr&&It.process;const ms=function(){try{var r=Cs&&Cs.require&&Cs.require("util").types;return r||Jo&&Jo.binding&&Jo.binding("util")}catch{}}();var xd=ms&&ms.isTypedArray;const To=xd?$l(xd):xs;var zn=Object.prototype.hasOwnProperty;const Va=function(r,e){var t=ri(r),n=!t&&$i(r),a=!t&&!n&&Kr(r),u=!t&&!n&&!a&&To(r),f=t||n||a||u,b=f?_i(r.length,String):[],w=b.length;for(var A in r)!e&&!zn.call(r,A)||f&&(A=="length"||a&&(A=="offset"||A=="parent")||u&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||Gs(A,w))||b.push(A);return b};var Qr=Object.prototype;const As=function(r){var e=r&&r.constructor;return r===(typeof e=="function"&&e.prototype||Qr)},Au=nr(Object.keys,Object);var Nu=Object.prototype.hasOwnProperty;const Nc=function(r){if(!As(r))return Au(r);var e=[];for(var t in Object(r))Nu.call(r,t)&&t!="constructor"&&e.push(t);return e},Ha=function(r){return r!=null&&Do(r.length)&&!mn(r)},Ua=function(r){return Ha(r)?Va(r):Nc(r)},Eu=function(r,e){return r&&Dn(e,Ua(e),r)},Cd=function(r){var e=[];if(r!=null)for(var t in Object(r))e.push(t);return e};var Ec=Object.prototype.hasOwnProperty;const Ch=function(r){if(!fe(r))return Cd(r);var e=As(r),t=[];for(var n in r)(n!="constructor"||!e&&Ec.call(r,n))&&t.push(n);return t},Rr=function(r){return Ha(r)?Va(r,!0):Ch(r)},Su=function(r,e){return r&&Dn(e,Rr(e),r)};var Sc=c&&!c.nodeType&&c,Ks=Sc&&!0&&l&&!l.nodeType&&l,Ad=Ks&&Ks.exports===Sc?Ue.Buffer:void 0,ql=Ad?Ad.allocUnsafe:void 0;const hl=function(r,e){if(e)return r.slice();var t=r.length,n=ql?ql(t):new r.constructor(t);return r.copy(n),n},Nd=function(r,e){var t=-1,n=r.length;for(e||(e=Array(n));++t<n;)e[t]=r[t];return e},Ed=function(r,e){for(var t=-1,n=r==null?0:r.length,a=0,u=[];++t<n;){var f=r[t];e(f,t,r)&&(u[a++]=f)}return u},Mo=function(){return[]};var Sd=Object.prototype.propertyIsEnumerable,ju=Object.getOwnPropertySymbols;const ml=ju?function(r){return r==null?[]:(r=Object(r),Ed(ju(r),function(e){return Sd.call(r,e)}))}:Mo,Ah=function(r,e){return Dn(r,ml(r),e)},jd=function(r,e){for(var t=-1,n=e.length,a=r.length;++t<n;)r[a+t]=e[t];return r},Dd=Object.getOwnPropertySymbols?function(r){for(var e=[];r;)jd(e,ml(r)),r=kr(r);return e}:Mo,jc=function(r,e){return Dn(r,Dd(r),e)},ea=function(r,e,t){var n=e(r);return ri(r)?n:jd(n,t(r))},Dc=function(r){return ea(r,Ua,ml)},$a=function(r){return ea(r,Rr,Dd)},qi=Yr(Ue,"DataView"),Io=Yr(Ue,"Promise"),Wl=Yr(Ue,"Set"),qa=Yr(Ue,"WeakMap");var Yl="[object Map]",Gl="[object Promise]",Td="[object Set]",Wa="[object WeakMap]",Md="[object DataView]",Nh=Vn(qi),po=Vn(cs),Ya=Vn(Io),Qs=Vn(Wl),fs=Vn(qa),Zs=Oi;(qi&&Zs(new qi(new ArrayBuffer(1)))!=Md||cs&&Zs(new cs)!=Yl||Io&&Zs(Io.resolve())!=Gl||Wl&&Zs(new Wl)!=Td||qa&&Zs(new qa)!=Wa)&&(Zs=function(r){var e=Oi(r),t=e=="[object Object]"?r.constructor:void 0,n=t?Vn(t):"";if(n)switch(n){case Nh:return Md;case po:return Yl;case Ya:return Gl;case Qs:return Td;case fs:return Wa}return e});const go=Zs;var Tc=Object.prototype.hasOwnProperty;const fl=function(r){var e=r.length,t=new r.constructor(e);return e&&typeof r[0]=="string"&&Tc.call(r,"index")&&(t.index=r.index,t.input=r.input),t},Ga=Ue.Uint8Array,bo=function(r){var e=new r.constructor(r.byteLength);return new Ga(e).set(new Ga(r)),e},Id=function(r,e){var t=e?bo(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.byteLength)};var ta=/\w*$/;const pl=function(r){var e=new r.constructor(r.source,ta.exec(r));return e.lastIndex=r.lastIndex,e};var Od=bt?bt.prototype:void 0,Mc=Od?Od.valueOf:void 0;const Du=function(r){return Mc?Object(Mc.call(r)):{}},ko=function(r,e){var t=e?bo(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.length)},Tu=function(r,e,t){var n=r.constructor;switch(e){case"[object ArrayBuffer]":return bo(r);case"[object Boolean]":case"[object Date]":return new n(+r);case"[object DataView]":return Id(r,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ko(r,t);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(r);case"[object RegExp]":return pl(r);case"[object Symbol]":return Du(r)}};var Oo=Object.create;const ps=function(){function r(){}return function(e){if(!fe(e))return{};if(Oo)return Oo(e);r.prototype=e;var t=new r;return r.prototype=void 0,t}}(),Pr=function(r){return typeof r.constructor!="function"||As(r)?{}:ps(kr(r))},zr=function(r){return ei(r)&&go(r)=="[object Map]"};var Ic=ms&&ms.isMap;const Oc=Ic?$l(Ic):zr,gl=function(r){return ei(r)&&go(r)=="[object Set]"};var Ka=ms&&ms.isSet;const Lc=Ka?$l(Ka):gl;var Xs="[object Arguments]",Qa="[object Function]",va="[object Object]",gi={};gi[Xs]=gi["[object Array]"]=gi["[object ArrayBuffer]"]=gi["[object DataView]"]=gi["[object Boolean]"]=gi["[object Date]"]=gi["[object Float32Array]"]=gi["[object Float64Array]"]=gi["[object Int8Array]"]=gi["[object Int16Array]"]=gi["[object Int32Array]"]=gi["[object Map]"]=gi["[object Number]"]=gi[va]=gi["[object RegExp]"]=gi["[object Set]"]=gi["[object String]"]=gi["[object Symbol]"]=gi["[object Uint8Array]"]=gi["[object Uint8ClampedArray]"]=gi["[object Uint16Array]"]=gi["[object Uint32Array]"]=!0,gi["[object Error]"]=gi[Qa]=gi["[object WeakMap]"]=!1;const Bc=function r(e,t,n,a,u,f){var b,w=1&t,A=2&t,E=4&t;if(n&&(b=u?n(e,a,u,f):n(e)),b!==void 0)return b;if(!fe(e))return e;var O=ri(e);if(O){if(b=fl(e),!w)return Nd(e,b)}else{var z=go(e),U=z==Qa||z=="[object GeneratorFunction]";if(Kr(e))return hl(e,w);if(z==va||z==Xs||U&&!u){if(b=A||U?{}:Pr(e),!w)return A?jc(e,Su(b,e)):Ah(e,Eu(b,e))}else{if(!gi[z])return u?e:{};b=Tu(e,z,w)}}f||(f=new Ws);var W=f.get(e);if(W)return W;f.set(e,b),Lc(e)?e.forEach(function(ae){b.add(r(ae,t,n,ae,e,f))}):Oc(e)&&e.forEach(function(ae,ge){b.set(ge,r(ae,t,n,ge,e,f))});var X=O?void 0:(E?A?$a:Dc:A?Rr:Ua)(e);return ys(X||e,function(ae,ge){X&&(ae=e[ge=ae]),en(b,ge,r(ae,t,n,ge,e,f))}),b},Ns=function(r,e){return Bc(r,5,e=typeof e=="function"?e:void 0)},Es=function(r){return ei(r)&&r.nodeType===1&&!$n(r)};class Za{constructor(e,t){this._config={},t&&this.define(Ld(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,n,a=!1){if($n(t))return void this._setObjectToTarget(e,t,a);const u=t.split(".");t=u.pop();for(const f of u)$n(e[f])||(e[f]={}),e=e[f];if($n(n))return $n(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,n,a);a&&e[t]!==void 0||(e[t]=n)}_getFromSource(e,t){const n=t.split(".");t=n.pop();for(const a of n){if(!$n(e[a])){e=null;break}e=e[a]}return e?Ld(e[t]):void 0}_setObjectToTarget(e,t,n){Object.keys(t).forEach(a=>{this._setToTarget(e,a,t[a],n)})}}function Ld(r){return Ns(r,wa)}function wa(r){return Es(r)||typeof r=="function"?r:void 0}function Zr(r){if(r){if(r.defaultView)return r instanceof r.defaultView.Document;if(r.ownerDocument&&r.ownerDocument.defaultView)return r instanceof r.ownerDocument.defaultView.Node}return!1}function rr(r){const e=Object.prototype.toString.apply(r);return e=="[object Window]"||e=="[object global]"}const Xa=Js(he());function Js(r){return r?class extends r{listenTo(e,t,n,a={}){if(Zr(e)||rr(e)){const u={capture:!!a.useCapture,passive:!!a.usePassive},f=this._getProxyEmitter(e,u)||new Kl(e,u);this.listenTo(f,t,n,a)}else super.listenTo(e,t,n,a)}stopListening(e,t,n){if(Zr(e)||rr(e)){const a=this._getAllProxyEmitters(e);for(const u of a)this.stopListening(u,t,n)}else super.stopListening(e,t,n)}_getProxyEmitter(e,t){return function(n,a){const u=n[_e];return u&&u[a]?u[a].emitter:null}(this,Bd(e,t))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(t=>this._getProxyEmitter(e,t)).filter(t=>!!t)}}:Xa}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(r=>{Js[r]=Xa.prototype[r]});class Kl extends he(){constructor(e,t){super(),Ee(this,Bd(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,t,n){this.attach(e),he().prototype._addEventListener.call(this,e,t,n)}_removeEventListener(e,t){he().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=n=>{this.fire(e,n)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function Bd(r,e){let t=function(n){return n["data-ck-expando"]||(n["data-ck-expando"]=ee())}(r);for(const n of Object.keys(e).sort())e[n]&&(t+="-"+n);return t}function Ql(r){const e=r.ownerDocument.defaultView.getComputedStyle(r);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function Wi(r){return Object.prototype.toString.call(r)=="[object Text]"}function Lo(r){return Object.prototype.toString.apply(r)=="[object Range]"}function eo(r){return r&&r.parentNode?r.offsetParent===y.document.body?null:r.offsetParent:null}const ya=["top","right","bottom","left","width","height"];class fn{constructor(e){const t=Lo(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),Ss(e)||t)if(t){const n=fn.getDomRangeRects(e);jr(this,fn.getBoundingRect(n))}else jr(this,e.getBoundingClientRect());else if(rr(e)){const{innerWidth:n,innerHeight:a}=e;jr(this,{top:0,right:n,bottom:a,left:0,width:n,height:a})}else jr(this,e)}clone(){return new fn(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const n=new fn(t);return n._source=this._source,n}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(Ja(e))return t;let n,a=e,u=e.parentNode||e.commonAncestorContainer;for(;u&&!Ja(u);){const b=((f=u)instanceof HTMLElement?f.ownerDocument.defaultView.getComputedStyle(f).overflow:"visible")==="visible";a instanceof HTMLElement&&bl(a)==="absolute"&&(n=a);const w=bl(u);if(b||n&&(w==="relative"&&b||w!=="relative")){a=u,u=u.parentNode;continue}const A=new fn(u),E=t.getIntersection(A);if(!E)return null;E.getArea()<t.getArea()&&(t=E),a=u,u=u.parentNode}var f;return t}isEqual(e){for(const t of ya)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!(!t||!t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=y.window,n=this.clone().moveBy(e,t);if(Ss(n._source)){const a=eo(n._source);a&&function(u,f){const b=new fn(f),w=Ql(f);let A=0,E=0;A-=b.left,E-=b.top,A+=f.scrollLeft,E+=f.scrollTop,A-=w.left,E-=w.top,u.moveBy(A,E)}(n,a)}return n}excludeScrollbarsAndBorders(){const e=this._source;let t,n,a;if(rr(e))t=e.innerWidth-e.document.documentElement.clientWidth,n=e.innerHeight-e.document.documentElement.clientHeight,a=e.getComputedStyle(e.document.documentElement).direction;else{const u=Ql(e);t=e.offsetWidth-e.clientWidth-u.left-u.right,n=e.offsetHeight-e.clientHeight-u.top-u.bottom,a=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=u.left,this.top+=u.top,this.right-=u.right,this.bottom-=u.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,a==="ltr"?this.right-=t:this.left+=t,this.height-=n,this.bottom-=n,this}static getDomRangeRects(e){const t=[],n=Array.from(e.getClientRects());if(n.length)for(const a of n)t.push(new fn(a));else{let a=e.startContainer;Wi(a)&&(a=a.parentNode);const u=new fn(a.getBoundingClientRect());u.right=u.left,u.width=0,t.push(u)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const a of e)n++,t.left=Math.min(t.left,a.left),t.top=Math.min(t.top,a.top),t.right=Math.max(t.right,a.right),t.bottom=Math.max(t.bottom,a.bottom);return n==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new fn(t))}}function jr(r,e){for(const t of ya)r[t]=e[t]}function Ja(r){return!!Ss(r)&&r===r.ownerDocument.body}function Ss(r){return r!==null&&typeof r=="object"&&r.nodeType===1&&typeof r.getBoundingClientRect=="function"}function bl(r){return r instanceof HTMLElement?r.ownerDocument.defaultView.getComputedStyle(r).position:"static"}const Li=class{constructor(r,e){Li._observerInstance||Li._createObserver(),this._element=r,this._callback=e,Li._addElementCallback(r,e),Li._observerInstance.observe(r)}get element(){return this._element}destroy(){Li._deleteElementCallback(this._element,this._callback)}static _addElementCallback(r,e){Li._elementCallbacks||(Li._elementCallbacks=new Map);let t=Li._elementCallbacks.get(r);t||(t=new Set,Li._elementCallbacks.set(r,t)),t.add(e)}static _deleteElementCallback(r,e){const t=Li._getElementCallbacks(r);t&&(t.delete(e),t.size||(Li._elementCallbacks.delete(r),Li._observerInstance.unobserve(r))),Li._elementCallbacks&&!Li._elementCallbacks.size&&(Li._observerInstance=null,Li._elementCallbacks=null)}static _getElementCallbacks(r){return Li._elementCallbacks?Li._elementCallbacks.get(r):null}static _createObserver(){Li._observerInstance=new y.window.ResizeObserver(r=>{for(const e of r){const t=Li._getElementCallbacks(e.target);if(t)for(const n of t)n(e)}})}};let _o=Li;function Xr(r,e){r instanceof HTMLTextAreaElement&&(r.value=e),r.innerHTML=e}function vo(r){return e=>e+r}function to(r){let e=0;for(;r.previousSibling;)r=r.previousSibling,e++;return e}function xa(r,e,t){r.insertBefore(t,r.childNodes[e]||null)}function kl(r){return r&&r.nodeType===Node.COMMENT_NODE}function ur(r){return!!(r&&r.getClientRects&&r.getClientRects().length)}_o._observerInstance=null,_o._elementCallbacks=null;var Zl=Math.pow;function js({element:r,target:e,positions:t,limiter:n,fitInViewport:a,viewportOffsetConfig:u}){mn(e)&&(e=e()),mn(n)&&(n=n());const f=eo(r),b=function(z){z=Object.assign({top:0,bottom:0,left:0,right:0},z);const U=new fn(y.window);return U.top+=z.top,U.height-=z.top,U.bottom-=z.bottom,U.height-=z.bottom,U}(u),w=new fn(r),A=Rc(e,b);let E;if(!A||!b.getIntersection(A))return null;const O={targetRect:A,elementRect:w,positionedElementAncestor:f,viewportRect:b};if(n||a){if(n){const z=Rc(n,b);z&&(O.limiterRect=z)}E=function(z,U){const{elementRect:W}=U,X=W.getArea(),ae=z.map(Ze=>new _l(Ze,U)).filter(Ze=>!!Ze.name);let ge=0,Me=null;for(const Ze of ae){const{limiterIntersectionArea:pt,viewportIntersectionArea:Vt}=Ze;if(pt===X)return Ze;const jn=Zl(Vt,2)+Zl(pt,2);jn>ge&&(ge=jn,Me=Ze)}return Me}(t,O)}else E=new _l(t[0],O);return E}function Rc(r,e){const t=new fn(r).getVisible();return t?t.getIntersection(e):null}class _l{constructor(e,t){const n=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!n)return;const{left:a,top:u,name:f,config:b}=n;this.name=f,this.config=b,this._positioningFunctionCoordinates={left:a,top:u},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function wo(r){const e=r.parentNode;e&&e.removeChild(r)}function vl({window:r,rect:e,alignToTop:t,forceScroll:n,viewportOffset:a}){const u=e.clone().moveBy(0,a.bottom),f=e.clone().moveBy(0,-a.top),b=new fn(r).excludeScrollbarsAndBorders(),w=t&&n,A=[f,u].every(W=>b.contains(W));let{scrollX:E,scrollY:O}=r;const z=E,U=O;w?O-=b.top-e.top+a.top:A||(Ca(f,b)?O-=b.top-e.top+a.top:na(u,b)&&(O+=t?e.top-b.top-a.top:e.bottom-b.bottom+a.bottom)),A||(p(e,b)?E-=b.left-e.left+a.left:x(e,b)&&(E+=e.right-b.right+a.right)),E==z&&O===U||r.scrollTo(E,O)}function Pc({parent:r,getRect:e,alignToTop:t,forceScroll:n,ancestorOffset:a=0,limiterElement:u}){const f=T(r),b=t&&n;let w,A,E;const O=u||f.document.body;for(;r!=O;)A=e(),w=new fn(r).excludeScrollbarsAndBorders(),E=w.contains(A),b?r.scrollTop-=w.top-A.top+a:E||(Ca(A,w)?r.scrollTop-=w.top-A.top+a:na(A,w)&&(r.scrollTop+=t?A.top-w.top-a:A.bottom-w.bottom+a)),E||(p(A,w)?r.scrollLeft-=w.left-A.left+a:x(A,w)&&(r.scrollLeft+=A.right-w.right+a)),r=r.parentNode}function na(r,e){return r.bottom>e.bottom}function Ca(r,e){return r.top<e.top}function p(r,e){return r.left<e.left}function x(r,e){return r.right>e.right}function T(r){return Lo(r)?r.startContainer.ownerDocument.defaultView:r.ownerDocument.defaultView}function V(r){if(Lo(r)){let e=r.commonAncestorContainer;return Wi(e)&&(e=e.parentNode),e}return r.parentNode}function G(r,e){const t=T(r),n=new fn(r);if(t===e)return n;{let a=t;for(;a!=e;){const u=a.frameElement,f=new fn(u).excludeScrollbarsAndBorders();n.moveBy(f.left,f.top),a=a.parent}}return n}const ie={ctrl:"",cmd:"",alt:"",shift:""},Ce={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},We={37:"",38:"",39:"",40:"",9:"",33:"Page Up",34:"Page Down"},Ve=function(){const r={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)r[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)r[e-48]=e;for(let e=112;e<=123;e++)r["f"+(e-111)]=e;return Object.assign(r,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),r}(),Nt=Object.fromEntries(Object.entries(Ve).map(([r,e])=>{let t;return t=e in We?We[e]:r.charAt(0).toUpperCase()+r.slice(1),[e,t]}));function Pt(r){let e;if(typeof r=="string"){if(e=Ve[r.toLowerCase()],!e)throw new q("keyboard-unknown-key",null,{key:r})}else e=r.keyCode+(r.altKey?Ve.alt:0)+(r.ctrlKey?Ve.ctrl:0)+(r.shiftKey?Ve.shift:0)+(r.metaKey?Ve.cmd:0);return e}function Wt(r){return typeof r=="string"&&(r=function(e){return e.split("+").map(t=>t.trim())}(r)),r.map(e=>typeof e=="string"?function(t){if(t.endsWith("!"))return Pt(t.slice(0,-1));const n=Pt(t);return(S.isMac||S.isiOS)&&n==Ve.ctrl?Ve.cmd:n}(e):e).reduce((e,t)=>t+e,0)}function nn(r){let e=Wt(r);return Object.entries(S.isMac||S.isiOS?ie:Ce).reduce((t,[n,a])=>(e&Ve[n]&&(e&=~Ve[n],t+=a),t),"")+(e?Nt[e]:"")}function kn(r,e){const t=e==="ltr";switch(r){case Ve.arrowleft:return t?"left":"right";case Ve.arrowright:return t?"right":"left";case Ve.arrowup:return"up";case Ve.arrowdown:return"down"}}function pn(r){return Array.isArray(r)?r:[r]}const wi=function(r,e,t){(t!==void 0&&!Tt(r[e],t)||t===void 0&&!(e in r))&&ye(r,e,t)},hr=function(r){return function(e,t,n){for(var a=-1,u=Object(e),f=n(e),b=f.length;b--;){var w=f[++a];if(t(u[w],w,u)===!1)break}return e}}(),Ds=function(r){return ei(r)&&Ha(r)},Rd=function(r,e){if((e!=="constructor"||typeof r[e]!="function")&&e!="__proto__")return r[e]},Mu=function(r){return Dn(r,Rr(r))},Xl=function(r,e,t,n,a,u,f){var b=Rd(r,t),w=Rd(e,t),A=f.get(w);if(A)wi(r,t,A);else{var E=void 0,O=E===void 0;if(O){var z=ri(w),U=!z&&Kr(w),W=!z&&!U&&To(w);E=w,z||U||W?ri(b)?E=b:Ds(b)?E=Nd(b):U?(O=!1,E=hl(w,!0)):W?(O=!1,E=ko(w,!0)):E=[]:$n(w)||$i(w)?(E=b,$i(b)?E=Mu(b):fe(b)&&!mn(b)||(E=Pr(w))):O=!1}O&&(f.set(w,E),a(E,w,n,u,f),f.delete(w)),wi(r,t,E)}},Bo=function r(e,t,n,a,u){e!==t&&hr(t,function(f,b){if(u||(u=new Ws),fe(f))Xl(e,t,b,n,r,a,u);else{var w=void 0;w===void 0&&(w=f),wi(e,b,w)}},Rr)},Jr=function(r){return r},wl=function(r,e,t){switch(t.length){case 0:return r.call(e);case 1:return r.call(e,t[0]);case 2:return r.call(e,t[0],t[1]);case 3:return r.call(e,t[0],t[1],t[2])}return r.apply(e,t)};var Yi=Math.max;const Ro=function(r,e,t){return e=Yi(e===void 0?r.length-1:e,0),function(){for(var n=arguments,a=-1,u=Yi(n.length-e,0),f=Array(u);++a<u;)f[a]=n[e+a];a=-1;for(var b=Array(e+1);++a<e;)b[a]=n[a];return b[e]=t(f),wl(r,this,b)}},ia=function(r){return function(){return r}},Aa=Ys?function(r,e){return Ys(r,"toString",{configurable:!0,enumerable:!1,value:ia(e),writable:!0})}:Jr;var ra=Date.now;const Fc=function(r){var e=0,t=0;return function(){var n=ra(),a=16-(n-t);if(t=n,a>0){if(++e>=800)return arguments[0]}else e=0;return r.apply(void 0,arguments)}}(Aa),yl=function(r,e){return Fc(Ro(r,e,Jr),r+"")},Iu=function(r,e,t){if(!fe(t))return!1;var n=typeof e;return!!(n=="number"?Ha(t)&&Gs(e,t.length):n=="string"&&e in t)&&Tt(t[e],r)},el=function(r){return yl(function(e,t){var n=-1,a=t.length,u=a>1?t[a-1]:void 0,f=a>2?t[2]:void 0;for(u=r.length>3&&typeof u=="function"?(a--,u):void 0,f&&Iu(t[0],t[1],f)&&(u=a<3?void 0:u,a=1),e=Object(e);++n<a;){var b=t[n];b&&r(e,b,n,u)}return e})},vr=el(function(r,e,t){Bo(r,e,t)});function Pd(r,e,t=1,n){if(typeof t!="number")throw new q("translation-service-quantity-not-a-number",null,{quantity:t});const a=n||y.window.CKEDITOR_TRANSLATIONS,u=function(E){return Object.keys(E).length}(a);u===1&&(r=Object.keys(a)[0]);const f=e.id||e.string;if(u===0||!function(E,O,z){return!!z[E]&&!!z[E].dictionary[O]}(r,f,a))return t!==1?e.plural:e.string;const b=a[r].dictionary,w=a[r].getPluralForm||(E=>E===1?0:1),A=b[f];return typeof A=="string"?A:A[Number(w(t))]}y.window.CKEDITOR_TRANSLATIONS||(y.window.CKEDITOR_TRANSLATIONS={});const xl=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function Eh(r){return xl.includes(r)?"rtl":"ltr"}class Sh{constructor({uiLanguage:e="en",contentLanguage:t,translations:n}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=Eh(this.uiLanguage),this.contentLanguageDirection=Eh(this.contentLanguage),this.translations=function(a){return Array.isArray(a)?a.reduce((u,f)=>vr(u,f)):a}(n),this.t=(a,u)=>this._t(a,u)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=pn(t),typeof e=="string"&&(e={string:e});const n=e.plural?t[0]:1;return function(a,u){return a.replace(/%(\d+)/g,(f,b)=>b<u.length?u[b]:f)}(Pd(this.uiLanguage,e,n,this.translations),t)}}class Po extends he(){constructor(e={},t={}){super();const n=Qe(e);if(n||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const a of e)this._items.push(a),this._itemMap.set(this._getItemIdBeforeAdding(a),a)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new q("collection-add-item-invalid-index",this);let n=0;for(const a of e){const u=this._getItemIdBeforeAdding(a),f=t+n;this._items.splice(f,0,a),this._itemMap.set(u,a),this.fire("add",a,f),n++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else{if(typeof e!="number")throw new q("collection-get-invalid-arg",this);t=this._items[e]}return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=e[this._idProperty];return t&&this._itemMap.has(t)}}getIndex(e){let t;return t=typeof e=="string"?this._itemMap.get(e):e,t?this._items.indexOf(t):-1}remove(e){const[t,n]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:n}),t}map(e,t){return this._items.map(e,t)}forEach(e,t){this._items.forEach(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new q("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(n=>new t(n))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(n=>n[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,n=(a,u,f)=>{const b=t._bindToCollection==this,w=t._bindToInternalToExternalMap.get(u);if(b&&w)this._bindToExternalToInternalMap.set(u,w),this._bindToInternalToExternalMap.set(w,u);else{const A=e(u);if(!A)return void this._skippedIndexesFromExternal.push(f);let E=f;for(const O of this._skippedIndexesFromExternal)f>O&&E--;for(const O of t._skippedIndexesFromExternal)E>=O&&E++;this._bindToExternalToInternalMap.set(u,A),this._bindToInternalToExternalMap.set(A,u),this.add(A,E);for(let O=0;O<t._skippedIndexesFromExternal.length;O++)E<=t._skippedIndexesFromExternal[O]&&t._skippedIndexesFromExternal[O]++}};for(const a of t)n(0,a,t.getIndex(a));this.listenTo(t,"add",n),this.listenTo(t,"remove",(a,u,f)=>{const b=this._bindToExternalToInternalMap.get(u);b&&this.remove(b),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((w,A)=>(f<A&&w.push(A-1),f>A&&w.push(A),w),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let n;if(t in e){if(n=e[t],typeof n!="string")throw new q("collection-add-invalid-id",this);if(this.get(n))throw new q("collection-add-item-already-exists",this)}else e[t]=n=ee();return n}_remove(e){let t,n,a,u=!1;const f=this._idProperty;if(typeof e=="string"?(n=e,a=this._itemMap.get(n),u=!a,a&&(t=this._items.indexOf(a))):typeof e=="number"?(t=e,a=this._items[t],u=!a,a&&(n=a[f])):(a=e,n=a[f],t=this._items.indexOf(a),u=t==-1||!this._itemMap.get(n)),u)throw new q("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(n);const b=this._bindToInternalToExternalMap.get(a);return this._bindToInternalToExternalMap.delete(a),this._bindToExternalToInternalMap.delete(b),this.fire("remove",a,t),[a,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Wn(r){const e=r.next();return e.done?null:e.value}class mr extends Js(Oe()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new q("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class fr{constructor(){this._listener=new(Js())}listenTo(e){this._listener.listenTo(e,"keydown",(t,n)=>{this._listener.fire("_keydown:"+Pt(n),n)})}set(e,t,n={}){const a=Wt(e),u=n.priority;this._listener.listenTo(this._listener,"_keydown:"+a,(f,b)=>{t(b,()=>{b.preventDefault(),b.stopPropagation(),f.stop()}),f.return=!0},{priority:u})}press(e){return!!this._listener.fire("_keydown:"+Pt(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function no(r){return Qe(r)?new Map(r):function(e){const t=new Map;for(const n in e)t.set(n,e[n]);return t}(r)}function sa(r,e){let t;function n(...a){n.cancel(),t=setTimeout(()=>r(...a),e)}return n.cancel=()=>{clearTimeout(t)},n}function Ts(r,e){return!!(t=r.charAt(e-1))&&t.length==1&&/[\ud800-\udbff]/.test(t)&&function(n){return!!n&&n.length==1&&/[\udc00-\udfff]/.test(n)}(r.charAt(e));var t}function Cl(r,e){return!!(t=r.charAt(e))&&t.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t);var t}const xp=function(){const r=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,t="(?:"+r.map(n=>n.source).join("|")+")";return new RegExp(`${e}|${t}(?:${t})*`,"ug")}();function jh(r,e){const t=String(r).matchAll(xp);return Array.from(t).some(n=>n.index<e&&e<n.index+n[0].length)}class zo extends Po{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,n,a)=>{this._renderViewIntoCollectionParent(n,a)}),this.on("remove",(t,n)=>{n.element&&this._parentElement&&n.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!e.every(t=>typeof t=="string"))throw new q("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const n of this)for(const a of e)n.delegate(a).to(t);this.on("add",(n,a)=>{for(const u of e)a.delegate(u).to(t)}),this.on("remove",(n,a)=>{for(const u of e)a.stopDelegating(u,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}class Fo extends he(){constructor(e){super(),Object.assign(this,te(Jl(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new q("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(t){if(t.children)for(const n of t.children)ot(n)?yield n:wt(n)&&(yield*e(n))}(this)}static bind(e,t){return{to:(n,a)=>new Dh({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:a}),if:(n,a,u)=>new zd({observable:e,emitter:t,attribute:n,valueIfTrue:a,callback:u})}}static extend(e,t){if(e._isRendered)throw new q("template-extend-render",[this,e]);Pe(e,te(Jl(t)))}_renderNode(e){let t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new q("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),Vc(this.text)?this._bindToObservable({schema:this.text,updater:Fd(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,n=e.revertData;for(const a in this.attributes){const u=t.getAttribute(a),f=this.attributes[a];n&&(n.attributes[a]=u);const b=$t(f)?f[0].ns:null;if(Vc(f)){const w=$t(f)?f[0].value:f;n&&Yt(a)&&w.unshift(u),this._bindToObservable({schema:w,updater:Ou(t,a,b),data:e})}else if(a=="style"&&typeof f[0]!="string")this._renderStyleAttribute(f[0],e);else{n&&u&&Yt(a)&&f.unshift(u);const w=f.map(A=>A&&A.value||A).reduce((A,E)=>A.concat(E),[]).reduce(Y,"");Re(w)||t.setAttributeNS(b,a,w)}}}_renderStyleAttribute(e,t){const n=t.node;for(const a in e){const u=e[a];Vc(u)?this._bindToObservable({schema:[u],updater:Th(n,a),data:t}):n.style[a]=u}}_renderElementChildren(e){const t=e.node,n=e.intoFragment?document.createDocumentFragment():t,a=e.isApplying;let u=0;for(const f of this.children)if(Ot(f)){if(!a){f.setParent(t);for(const b of f)n.appendChild(b.element)}}else if(ot(f))a||(f.isRendered||f.render(),n.appendChild(f.element));else if(Zr(f))n.appendChild(f);else if(a){const b={children:[],bindings:[],attributes:{}};e.revertData.children.push(b),f._renderNode({intoFragment:!1,node:n.childNodes[u++],isApplying:!0,revertData:b})}else n.appendChild(f.render());e.intoFragment&&t.appendChild(n)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const n=this.eventListeners[t].map(a=>{const[u,f]=t.split("@");return a.activateDomEventListener(u,f,e)});e.revertData&&e.revertData.bindings.push(n)}}_bindToObservable({schema:e,updater:t,data:n}){const a=n.revertData;tl(e,t,n);const u=e.filter(f=>!Re(f)).filter(f=>f.observable).map(f=>f.activateAttributeListener(e,t,n));a&&a.bindings.push(u)}_revertTemplateFromNode(e,t){for(const a of t.bindings)for(const u of a)u();if(t.text)return void(e.textContent=t.text);const n=e;for(const a in t.attributes){const u=t.attributes[a];u===null?n.removeAttribute(a):n.setAttribute(a,u)}for(let a=0;a<t.children.length;++a)this._revertTemplateFromNode(n.childNodes[a],t.children[a])}}class oa{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,n){const a=()=>tl(e,t,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,a),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,a)}}}class Dh extends oa{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,n){const a=(u,f)=>{t&&!f.target.matches(t)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(f):this.observable.fire(this.eventNameOrFunction,f))};return this.emitter.listenTo(n.node,e,a),()=>{this.emitter.stopListening(n.node,e,a)}}}class zd extends oa{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!Re(super.getValue(e))&&(this.valueIfTrue||!0)}}function Vc(r){return!!r&&(r.value&&(r=r.value),Array.isArray(r)?r.some(Vc):r instanceof oa)}function tl(r,e,{node:t}){const n=function(u,f){return u.map(b=>b instanceof oa?b.getValue(f):b)}(r,t);let a;a=r.length==1&&r[0]instanceof zd?n[0]:n.reduce(Y,""),Re(a)?e.remove():e.set(a)}function Fd(r){return{set(e){r.textContent=e},remove(){r.textContent=""}}}function Ou(r,e,t){return{set(n){r.setAttributeNS(t,e,n)},remove(){r.removeAttributeNS(t,e)}}}function Th(r,e){return{set(t){r.style[e]=t},remove(){r.style[e]=null}}}function Jl(r){return Ns(r,e=>{if(e&&(e instanceof oa||wt(e)||ot(e)||Ot(e)))return e})}function te(r){if(typeof r=="string"?r=function(e){return{text:[e]}}(r):r.text&&function(e){e.text=pn(e.text)}(r),r.on&&(r.eventListeners=function(e){for(const t in e)R(e,t);return e}(r.on),delete r.on),!r.text){r.attributes&&function(t){for(const n in t)t[n].value&&(t[n].value=pn(t[n].value)),R(t,n)}(r.attributes);const e=[];if(r.children)if(Ot(r.children))e.push(r.children);else for(const t of r.children)wt(t)||ot(t)||Zr(t)?e.push(t):e.push(new Fo(t));r.children=e}return r}function R(r,e){r[e]=pn(r[e])}function Y(r,e){return Re(e)?r:Re(r)?e:`${r} ${e}`}function ue(r,e){for(const t in e)r[t]?r[t].push(...e[t]):r[t]=e[t]}function Pe(r,e){if(e.attributes&&(r.attributes||(r.attributes={}),ue(r.attributes,e.attributes)),e.eventListeners&&(r.eventListeners||(r.eventListeners={}),ue(r.eventListeners,e.eventListeners)),e.text&&r.text.push(...e.text),e.children&&e.children.length){if(r.children.length!=e.children.length)throw new q("ui-template-extend-children-mismatch",r);let t=0;for(const n of e.children)Pe(r.children[t++],n)}}function Re(r){return!r&&r!==0}function ot(r){return r instanceof St}function wt(r){return r instanceof Fo}function Ot(r){return r instanceof zo}function $t(r){return fe(r[0])&&r[0].ns}function Yt(r){return r=="class"||r=="style"}var qt=h(2591),ft=h.n(qt),un=h(7676),Cn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(un.A,Cn),un.A.locals;class St extends Js(Oe()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Po,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,n)=>{n.locale=e,n.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Fo.bind(this,this)}createCollection(e){const t=new zo(e);return this._viewCollections.add(t),t}registerChild(e){Qe(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){Qe(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new Fo(e)}extendTemplate(e){Fo.extend(this.template,e)}render(){if(this.isRendered)throw new q("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}function An({emitter:r,activator:e,callback:t,contextElements:n}){r.listenTo(document,"mousedown",(a,u)=>{if(!e())return;const f=typeof u.composedPath=="function"?u.composedPath():[],b=typeof n=="function"?n():n;for(const w of b)if(w.contains(u.target)||f.includes(w))return;t()})}function si(r){return class extends r{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function pi({view:r}){r.listenTo(r.element,"submit",(e,t)=>{t.preventDefault(),r.fire("submit")},{useCapture:!0})}function Hn({keystrokeHandler:r,focusTracker:e,gridItems:t,numberOfColumns:n,uiLanguageDirection:a}){const u=()=>n;function f(A){return E=>{const O=t.find(W=>W.element===e.focusedElement),z=t.getIndex(O),U=A(z,t);t.get(U).focus(),E.stopPropagation(),E.preventDefault()}}function b(A,E){return A===E-1?0:A+1}function w(A,E){return A===0?E-1:A-1}r.set("arrowright",f((A,E)=>a==="rtl"?w(A,E.length):b(A,E.length))),r.set("arrowleft",f((A,E)=>a==="rtl"?b(A,E.length):w(A,E.length))),r.set("arrowup",f((A,E)=>{let O=A-u();return O<0&&(O=A+u()*Math.floor(E.length/u()),O>E.length-1&&(O-=u())),O})),r.set("arrowdown",f((A,E)=>{let O=A+u();return O>E.length-1&&(O=A%u()),O}))}class lt extends Oe(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",On,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",On),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function On(r){r.return=!1,r.stop()}class Ft extends Oe(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",t=>{if(!this.affectsData)return;const n=e.model.document.selection,a=n.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(n);(e.isReadOnly||this._isEnabledBasedOnSelection&&!a)&&(t.return=!1,t.stop())},{priority:"highest"}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Zt,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Zt),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function Zt(r){r.return=!1,r.stop()}class an extends Ft{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const t=this._getFirstEnabledCommand();return!!t&&t.execute(e)}registerChildCommand(e,t={}){le(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:t})=>t.isEnabled);return e&&e.command}}class wn extends he(){constructor(e,t=[],n=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const a of t)a.pluginName&&this._availablePlugins.set(a.pluginName,a);this._contextPlugins=new Map;for(const[a,u]of n)this._contextPlugins.set(a,u),this._contextPlugins.set(u,a),a.pluginName&&this._availablePlugins.set(a.pluginName,a)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let n=e;throw typeof e=="function"&&(n=e.pluginName||e.name),new q("plugincollection-plugin-not-loaded",this._context,{plugin:n})}return t}has(e){return this._plugins.has(e)}init(e,t=[],n=[]){const a=this,u=this._context;(function W(X,ae=new Set){X.forEach(ge=>{w(ge)&&(ae.has(ge)||(ae.add(ge),ge.pluginName&&!a._availablePlugins.has(ge.pluginName)&&a._availablePlugins.set(ge.pluginName,ge),ge.requires&&W(ge.requires,ae)))})})(e),z(e);const f=[...function W(X,ae=new Set){return X.map(ge=>w(ge)?ge:a._availablePlugins.get(ge)).reduce((ge,Me)=>ae.has(Me)?ge:(ae.add(Me),Me.requires&&(z(Me.requires,Me),W(Me.requires,ae).forEach(Ze=>ge.add(Ze))),ge.add(Me)),new Set)}(e.filter(W=>!E(W,t)))];(function(W,X){for(const ae of X){if(typeof ae!="function")throw new q("plugincollection-replace-plugin-invalid-type",null,{pluginItem:ae});const ge=ae.pluginName;if(!ge)throw new q("plugincollection-replace-plugin-missing-name",null,{pluginItem:ae});if(ae.requires&&ae.requires.length)throw new q("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:ge});const Me=a._availablePlugins.get(ge);if(!Me)throw new q("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:ge});const Ze=W.indexOf(Me);if(Ze===-1){if(a._contextPlugins.has(Me))return;throw new q("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:ge})}if(Me.requires&&Me.requires.length)throw new q("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:ge});W.splice(Ze,1,ae),a._availablePlugins.set(ge,ae)}})(f,n);const b=f.map(W=>{let X=a._contextPlugins.get(W);return X=X||new W(u),a._add(W,X),X});return U(b,"init").then(()=>U(b,"afterInit")).then(()=>b);function w(W){return typeof W=="function"}function A(W){return w(W)&&!!W.isContextPlugin}function E(W,X){return X.some(ae=>ae===W||O(W)===ae||O(ae)===W)}function O(W){return w(W)?W.pluginName||W.name:W}function z(W,X=null){W.map(ae=>w(ae)?ae:a._availablePlugins.get(ae)||ae).forEach(ae=>{(function(ge,Me){if(!w(ge))throw Me?new q("plugincollection-soft-required",u,{missingPlugin:ge,requiredBy:O(Me)}):new q("plugincollection-plugin-not-found",u,{plugin:ge})})(ae,X),function(ge,Me){if(A(Me)&&!A(ge))throw new q("plugincollection-context-required",u,{plugin:O(ge),requiredBy:O(Me)})}(ae,X),function(ge,Me){if(Me&&E(ge,t))throw new q("plugincollection-required",u,{plugin:O(ge),requiredBy:O(Me)})}(ae,X)})}function U(W,X){return W.reduce((ae,ge)=>ge[X]?a._contextPlugins.has(ge)?ae:ae.then(ge[X].bind(ge)):ae,Promise.resolve())}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy!="function"||this._contextPlugins.has(t)||e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const n=e.pluginName;if(n){if(this._plugins.has(n))throw new q("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}var Gi=Object.getOwnPropertySymbols,Fr=Object.prototype.hasOwnProperty,es=Object.prototype.propertyIsEnumerable;class Dr{constructor(e){this._contextOwner=null;const t=e||{},{translations:n}=t,a=((b,w)=>{var A={};for(var E in b)Fr.call(b,E)&&w.indexOf(E)<0&&(A[E]=b[E]);if(b!=null&&Gi)for(var E of Gi(b))w.indexOf(E)<0&&es.call(b,E)&&(A[E]=b[E]);return A})(t,["translations"]);this.config=new Za(a,this.constructor.defaultConfig);const u=this.constructor.builtinPlugins;this.config.define("plugins",u),this.plugins=new wn(this,u);const f=this.config.get("language")||{};this.locale=new Sh({uiLanguage:typeof f=="string"?f:f.ui,contentLanguage:this.config.get("language.content"),translations:n}),this.t=this.locale.t,this.editors=new Po}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const n of e.concat(t)){if(typeof n!="function")throw new q("context-initplugins-constructor-only",null,{Plugin:n});if(n.isContextPlugin!==!0)throw new q("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new q("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const n=new this(e);t(n.initPlugins().then(()=>n))})}}class Tr extends Oe(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class ts extends fr{constructor(e){super(),this.editor=e}set(e,t,n={}){if(typeof t=="string"){const a=t;t=(u,f)=>{this.editor.execute(a),f()}}super.set(e,t,n)}}var sr=h(4098),yi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(sr.A,yi),sr.A.locals;const Ms=new WeakMap;let nl=!1;function wr({view:r,element:e,text:t,isDirectHost:n=!0,keepOnFocus:a=!1}){const u=r.document;function f(b){Ms.get(u).set(e,{text:b,isDirectHost:n,keepOnFocus:a,hostElement:n?e:null}),r.change(w=>Vo(u,w))}Ms.has(u)||(Ms.set(u,new Map),u.registerPostFixer(b=>Vo(u,b)),u.on("change:isComposing",()=>{r.change(b=>Vo(u,b))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(b,w,A)=>{f(A)}),e.placeholder?f(e.placeholder):t&&f(t),t&&function(){nl||de("enableplaceholder-deprecated-text-option"),nl=!0}()}function Mi(r,e){return!e.hasClass("ck-placeholder")&&(r.addClass("ck-placeholder",e),!0)}function Is(r,e){return!!e.hasClass("ck-placeholder")&&(r.removeClass("ck-placeholder",e),!0)}function io(r,e){if(!r.isAttached()||Array.from(r.getChildren()).some(a=>!a.is("uiElement")))return!1;const t=r.document,n=t.selection.anchor;return(!t.isComposing||!n||n.parent!==r)&&(!!e||!t.isFocused||!!n&&n.parent!==r)}function Vo(r,e){const t=Ms.get(r),n=[];let a=!1;for(const[u,f]of t)f.isDirectHost&&(n.push(u),ec(e,u,f)&&(a=!0));for(const[u,f]of t){if(f.isDirectHost)continue;const b=Os(u);b&&(n.includes(b)||(f.hostElement=b,ec(e,u,f)&&(a=!0)))}return a}function ec(r,e,t){const{text:n,isDirectHost:a,hostElement:u}=t;let f=!1;return u.getAttribute("data-placeholder")!==n&&(r.setAttribute("data-placeholder",n,u),f=!0),(a||e.childCount==1)&&io(u,t.keepOnFocus)?Mi(r,u)&&(f=!0):Is(r,u)&&(f=!0),f}function Os(r){if(r.childCount){const e=r.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Bi{is(){throw new Error("is() method is abstract")}}const tc=function(r){return Bc(r,4)};class aa extends he(Bi){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new q("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),a=e.getAncestors(t);let u=0;for(;n[u]==a[u]&&n[u];)u++;return u===0?null:n[u-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),a=Dt(t,n);switch(a){case"prefix":return!0;case"extension":return!1;default:return t[a]<n[a]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=tc(this);return delete e.parent,e}}aa.prototype.is=function(r){return r==="node"||r==="view:node"};class bi extends aa{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof bi&&(this===e||this.data===e.data)}_clone(){return new bi(this.document,this.data)}}bi.prototype.is=function(r){return r==="$text"||r==="view:$text"||r==="text"||r==="view:text"||r==="node"||r==="view:node"};class ro extends Bi{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.data.length)throw new q("view-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.data.length)throw new q("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let n=e.includeSelf?this.textNode:this.parent;for(;n!==null;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}}ro.prototype.is=function(r){return r==="$textProxy"||r==="view:$textProxy"||r==="textProxy"||r==="view:textProxy"};class Vr{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const n of this._patterns){const a=Hc(t,n);if(a)return{element:t,pattern:n,match:a}}return null}matchAll(...e){const t=[];for(const n of e)for(const a of this._patterns){const u=Hc(n,a);u&&t.push({element:n,pattern:a,match:u})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e=="function"||!t||t instanceof RegExp?null:t}}function Hc(r,e){if(typeof e=="function")return e(r);const t={};return e.name&&(t.name=function(n,a){return n instanceof RegExp?!!a.match(n):n===a}(e.name,r.name),!t.name)||e.attributes&&(t.attributes=function(n,a){const u=new Set(a.getAttributeKeys());return $n(n)?(n.style!==void 0&&de("matcher-pattern-deprecated-attributes-style-key",n),n.class!==void 0&&de("matcher-pattern-deprecated-attributes-class-key",n)):(u.delete("style"),u.delete("class")),Vd(n,u,f=>a.getAttribute(f))}(e.attributes,r),!t.attributes)||e.classes&&(t.classes=function(n,a){return Vd(n,a.getClassNames(),()=>{})}(e.classes,r),!t.classes)||e.styles&&(t.styles=function(n,a){return Vd(n,a.getStyleNames(!0),u=>a.getStyle(u))}(e.styles,r),!t.styles)?null:t}function Vd(r,e,t){const n=function(f){return Array.isArray(f)?f.map(b=>$n(b)?(b.key!==void 0&&b.value!==void 0||de("matcher-pattern-missing-key-or-value",b),[b.key,b.value]):[b,!0]):$n(f)?Object.entries(f):[[f,!0]]}(r),a=Array.from(e),u=[];if(n.forEach(([f,b])=>{a.forEach(w=>{(function(A,E){return A===!0||A===E||A instanceof RegExp&&E.match(A)})(f,w)&&function(A,E,O){if(A===!0)return!0;const z=O(E);return A===z||A instanceof RegExp&&!!String(z).match(A)}(b,w,t)&&u.push(w)})}),n.length&&!(u.length<n.length))return u}const nc=function(r){return typeof r=="symbol"||ei(r)&&Oi(r)=="[object Symbol]"};var Mh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qm=/^\w*$/;const Lu=function(r,e){if(ri(r))return!1;var t=typeof r;return!(t!="number"&&t!="symbol"&&t!="boolean"&&r!=null&&!nc(r))||qm.test(r)||!Mh.test(r)||e!=null&&r in Object(e)};function Na(r,e){if(typeof r!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var t=function(){var n=arguments,a=e?e.apply(this,n):n[0],u=t.cache;if(u.has(a))return u.get(a);var f=r.apply(this,n);return t.cache=u.set(a,f)||u,f};return t.cache=new(Na.Cache||Br),t}Na.Cache=Br;const Hd=Na,Ih=function(r){var e=Hd(r,function(n){return t.size===500&&t.clear(),n}),t=e.cache;return e};var Bu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ru=/\\(\\)?/g,Wm=Ih(function(r){var e=[];return r.charCodeAt(0)===46&&e.push(""),r.replace(Bu,function(t,n,a,u){e.push(a?u.replace(Ru,"$1"):n||t)}),e});const Oh=Wm,Lh=function(r,e){for(var t=-1,n=r==null?0:r.length,a=Array(n);++t<n;)a[t]=e(r[t],t,r);return a};var Pu=bt?bt.prototype:void 0,zu=Pu?Pu.toString:void 0;const Ym=function r(e){if(typeof e=="string")return e;if(ri(e))return Lh(e,r)+"";if(nc(e))return zu?zu.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},Uc=function(r){return r==null?"":Ym(r)},$c=function(r,e){return ri(r)?r:Lu(r,e)?[r]:Oh(Uc(r))},Rb=function(r){var e=r==null?0:r.length;return e?r[e-1]:void 0},Ud=function(r){if(typeof r=="string"||nc(r))return r;var e=r+"";return e=="0"&&1/r==-1/0?"-0":e},Cp=function(r,e){for(var t=0,n=(e=$c(e,r)).length;r!=null&&t<n;)r=r[Ud(e[t++])];return t&&t==n?r:void 0},Ap=function(r,e,t){var n=-1,a=r.length;e<0&&(e=-e>a?0:a+e),(t=t>a?a:t)<0&&(t+=a),a=e>t?0:t-e>>>0,e>>>=0;for(var u=Array(a);++n<a;)u[n]=r[n+e];return u},Fu=function(r,e){return e.length<2?r:Cp(r,Ap(e,0,-1))},Gm=function(r,e){return e=$c(e,r),(r=Fu(r,e))==null||delete r[Ud(Rb(e))]},Pb=function(r,e){return r==null||Gm(r,e)},qc=function(r,e,t){var n=r==null?void 0:Cp(r,e);return n===void 0?t:n},Bh=function(r,e,t,n){if(!fe(r))return r;for(var a=-1,u=(e=$c(e,r)).length,f=u-1,b=r;b!=null&&++a<u;){var w=Ud(e[a]),A=t;if(w==="__proto__"||w==="constructor"||w==="prototype")return r;if(a!=f){var E=b[w];(A=void 0)==void 0&&(A=fe(E)?E:Gs(e[a+1])?[]:{})}en(b,w,A),b=b[w]}return r},zb=function(r,e,t){return r==null?r:Bh(r,e,t)};class Km{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=function(n){let a=null,u=0,f=0,b=null;const w=new Map;if(n==="")return w;n.charAt(n.length-1)!=";"&&(n+=";");for(let A=0;A<n.length;A++){const E=n.charAt(A);if(a===null)switch(E){case":":b||(b=n.substr(u,A-u),f=A+1);break;case'"':case"'":a=E;break;case";":{const O=n.substr(f,A-f);b&&w.set(b.trim(),O.trim()),b=null,u=A+1;break}}else E===a&&(a=null)}return w}(e);for(const[n,a]of t)this._styleProcessor.toNormalizedForm(n,a,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find(([n])=>n===e);return Array.isArray(t)}set(e,t){if(fe(e))for(const[n,a]of Object.entries(e))this._styleProcessor.toNormalizedForm(n,a,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=Qm(e);Pb(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!fe(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find(([n])=>n===e);return Array.isArray(t)?t[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([t])=>t)}clear(){this._styles={}}getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const n of t)e.push(...this._styleProcessor.getReducedForm(n,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const n=t.splice(0,t.length-1).join("."),a=qc(this._styles,n);a&&!Object.keys(a).length&&this.remove(n)}}class Fb{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,n){if(fe(t))Zm(n,Qm(e),t);else if(this._normalizers.has(e)){const a=this._normalizers.get(e),{path:u,value:f}=a(t);Zm(n,u,f)}else Zm(n,e,t)}getNormalized(e,t){if(!e)return vr({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const n=this._extractors.get(e);if(typeof n=="string")return qc(t,n);const a=n(e,t);if(a)return a}return qc(t,Qm(e))}getReducedForm(e,t){const n=this.getNormalized(e,t);return n===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(n):[[e,n]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(a=>{const u=this.getNormalized(a,e);return u&&typeof u=="object"?Object.keys(u).length:u}),n=new Set([...t,...Object.keys(e)]);return Array.from(n)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const n of t)this._mapStyleNames(n,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function Qm(r){return r.replace("-",".")}function Zm(r,e,t){let n=t;fe(t)&&(n=vr({},qc(r,e),t)),zb(r,e,n)}class Ho extends aa{constructor(e,t,n,a){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=function(u){const f=no(u);for(const[b,w]of f)w===null?f.delete(b):typeof w!="string"&&f.set(b,String(w));return f}(n),this._children=[],a&&this._insertChild(0,a),this._classes=new Set,this._attrs.has("class")){const u=this._attrs.get("class");Xm(this._classes,u),this._attrs.delete("class")}this._styles=new Km(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Ho))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,n]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==n)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new Vr(...e);let n=this.parent;for(;n&&!n.is("documentFragment");){if(t.match(n))return n;n=n.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map(a=>`${a[0]}="${a[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(n==""?"":` ${n}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const a of this.getChildren())t.push(a._clone(e));const n=new this.constructor(this.document,this.name,this._attrs,t);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let n=0;const a=function(u,f){return typeof f=="string"?[new bi(u,f)]:(Qe(f)||(f=[f]),Array.from(f).map(b=>typeof b=="string"?new bi(u,b):b instanceof ro?new bi(u,b.data):b))}(this.document,t);for(const u of a)u.parent!==null&&u._remove(),u.parent=this,u.document=this.document,this._children.splice(e,0,u),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const n=String(t);this._fireChange("attributes",this),e=="class"?Xm(this._classes,n):e=="style"?this._styles.setTo(n):this._attrs.set(e,n)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of pn(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of pn(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of pn(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function Xm(r,e){const t=e.split(/\s+/);r.clear(),t.forEach(n=>r.add(n))}Ho.prototype.is=function(r,e){return e?e===this.name&&(r==="element"||r==="view:element"):r==="element"||r==="view:element"||r==="node"||r==="view:node"};class Vu extends Ho{constructor(e,t,n,a){super(e,t,n,a),this.getFillerOffset=Vb}}function Vb(){const r=[...this.getChildren()],e=r[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of r)if(!t.is("uiElement"))return null;return this.childCount}Vu.prototype.is=function(r,e){return e?e===this.name&&(r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class Hu extends Oe(Vu){constructor(e,t,n,a){super(e,t,n,a),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",u=>u&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Hu.prototype.is=function(r,e){return e?e===this.name&&(r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};const Np=Symbol("rootName");class Ep extends Hu{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(Np)}set rootName(e){this._setCustomProperty(Np,e)}set _name(e){this.name=e}}Ep.prototype.is=function(r,e){return e?e===this.name&&(r==="rootElement"||r==="view:rootElement"||r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="rootElement"||r==="view:rootElement"||r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class $d{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new q("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new q("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Bt._createAt(e.startPosition):this._position=Bt._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n;do n=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=n)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let a;if(n instanceof bi){if(e.isAtEnd)return this._position=Bt._createAfter(n),this._next();a=n.data[e.offset]}else a=n.getChild(e.offset);if(a instanceof Ho){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new Bt(a,0);return this._position=e,this._formatReturnValue("elementStart",a,t,e,1)}if(a instanceof bi){if(this.singleCharacters)return e=new Bt(a,0),this._position=e,this._next();let u,f=a.data.length;return a==this._boundaryEndParent?(f=this.boundaries.end.offset,u=new ro(a,0,f),e=Bt._createAfter(u)):(u=new ro(a,0,a.data.length),e.offset++),this._position=e,this._formatReturnValue("text",u,t,e,f)}if(typeof a=="string"){let u;this.singleCharacters?u=1:u=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-e.offset;const f=new ro(n,e.offset,u);return e.offset+=u,this._position=e,this._formatReturnValue("text",f,t,e,u)}return e=Bt._createAfter(n),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,t,e)}_previous(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let a;if(n instanceof bi){if(e.isAtStart)return this._position=Bt._createBefore(n),this._previous();a=n.data[e.offset-1]}else a=n.getChild(e.offset-1);if(a instanceof Ho)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",a,t,e,1)):(e=new Bt(a,a.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",a,t,e));if(a instanceof bi){if(this.singleCharacters)return e=new Bt(a,a.data.length),this._position=e,this._previous();let u,f=a.data.length;if(a==this._boundaryStartParent){const b=this.boundaries.start.offset;u=new ro(a,b,a.data.length-b),f=u.data.length,e=Bt._createBefore(u)}else u=new ro(a,0,a.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",u,t,e,f)}if(typeof a=="string"){let u;if(this.singleCharacters)u=1;else{const b=n===this._boundaryStartParent?this.boundaries.start.offset:0;u=e.offset-b}e.offset-=u;const f=new ro(n,e.offset,u);return this._position=e,this._formatReturnValue("text",f,t,e,u)}return e=Bt._createBefore(n),this._position=e,this._formatReturnValue("elementStart",n,t,e,1)}_formatReturnValue(e,t,n,a,u){return t instanceof ro&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=Bt._createAfter(t.textNode):(a=Bt._createAfter(t.textNode),this._position=a)),t.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=Bt._createBefore(t.textNode):(a=Bt._createBefore(t.textNode),this._position=a))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:a,length:u}}}}class Bt extends Bi{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Hu);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=Bt._createAt(this),n=t.offset+e;return t.offset=n<0?0:n,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new $d(t);return n.skip(e),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let a=0;for(;t[a]==n[a]&&t[a];)a++;return a===0?null:t[a-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);const a=Dt(t,n);switch(a){case"prefix":return"before";case"extension":return"after";default:return t[a]<n[a]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new $d(e)}clone(){return new Bt(this.parent,this.offset)}static _createAt(e,t){if(e instanceof Bt)return new this(e.parent,e.offset);{const n=e;if(t=="end")t=n.is("$text")?n.data.length:n.childCount;else{if(t=="before")return this._createBefore(n);if(t=="after")return this._createAfter(n);if(t!==0&&!t)throw new q("view-createpositionat-offset-required",n)}return new Bt(n,t)}}static _createAfter(e){if(e.is("$textProxy"))return new Bt(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new q("view-position-after-root",e,{root:e});return new Bt(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Bt(e.textNode,e.offsetInText);if(!e.parent)throw new q("view-position-before-root",e,{root:e});return new Bt(e.parent,e.index)}}Bt.prototype.is=function(r){return r==="position"||r==="view:position"};class Nn extends Bi{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new $d({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Rh,{direction:"backward"}),t=this.end.getLastMatchingPosition(Rh);return e.parent.is("$text")&&e.isAtStart&&(e=Bt._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=Bt._createAfter(t.parent)),new Nn(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(Rh);if(e.isAfter(this.end)||e.isEqual(this.end))return new Nn(e,e);let t=this.end.getLastMatchingPosition(Rh,{direction:"backward"});const n=e.nodeAfter,a=t.nodeBefore;return n&&n.is("$text")&&(e=new Bt(n,0)),a&&a.is("$text")&&(t=new Bt(a,a.data.length)),new Nn(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),a=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&a}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Nn(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Nn(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new Nn(t,n)}return null}getWalker(e={}){return e.boundaries=this,new $d(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new Nn(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new $d(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new $d(e);yield t.position;for(const n of t)yield n.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,n,a){return new this(new Bt(e,t),new Bt(n,a))}static _createFromPositionAndShift(e,t){const n=e,a=e.getShiftedBy(t);return t>0?new this(n,a):new this(a,n)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Bt._createBefore(e),t)}}function Rh(r){return!(!r.item.is("attributeElement")&&!r.item.is("uiElement"))}Nn.prototype.is=function(r){return r==="range"||r==="view:range"};class la extends he(Bi){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const a of e._ranges)if(t.isEqual(a)){n=!0;break}if(!n)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=jt(this.getRanges());if(t!=jt(e.getRanges()))return!1;if(t==0)return!0;for(let n of this.getRanges()){n=n.getTrimmed();let a=!1;for(let u of e.getRanges())if(u=u.getTrimmed(),n.start.isEqual(u.start)&&n.end.isEqual(u.end)){a=!0;break}if(!a)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,n,a]=e;if(typeof n=="object"&&(a=n,n=void 0),t===null)this._setRanges([]),this._setFakeOptions(a);else if(t instanceof la||t instanceof Jm)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof Nn)this._setRanges([t],a&&a.backward),this._setFakeOptions(a);else if(t instanceof Bt)this._setRanges([new Nn(t)]),this._setFakeOptions(a);else if(t instanceof aa){const u=!!a&&!!a.backward;let f;if(n===void 0)throw new q("view-selection-setto-required-second-parameter",this);f=n=="in"?Nn._createIn(t):n=="on"?Nn._createOn(t):new Nn(Bt._createAt(t,n)),this._setRanges([f],u),this._setFakeOptions(a)}else{if(!Qe(t))throw new q("view-selection-setto-not-selectable",this);this._setRanges(t,a&&a.backward),this._setFakeOptions(a)}this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new q("view-selection-setfocus-no-ranges",this);const n=Bt._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const a=this.anchor;this._ranges.pop(),n.compareWith(a)=="before"?this._addRange(new Nn(n,a),!0):this._addRange(new Nn(a,n)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const n of e)this._addRange(n);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof Nn))throw new q("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new q("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new Nn(e.start,e.end))}}la.prototype.is=function(r){return r==="selection"||r==="view:selection"};class Jm extends he(Bi){constructor(...e){super(),this._selection=new la,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}Jm.prototype.is=function(r){return r==="selection"||r=="documentSelection"||r=="view:selection"||r=="view:documentSelection"};class qd extends K{constructor(e,t,n){super(e,t),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Sp=Symbol("bubbling contexts");function jp(r){return class extends r{fire(e,...t){try{const n=e instanceof K?e:new K(this,e),a=$u(this);if(!a.size)return;if(Uu(n,"capturing",this),Al(a,"$capture",n,...t))return n.return;const u=n.startRange||this.selection.getFirstRange(),f=u?u.getContainedElement():null,b=!!f&&!!ef(a,f);let w=f||function(A){if(!A)return null;const E=A.start.parent,O=A.end.parent,z=E.getPath(),U=O.getPath();return z.length>U.length?E:O}(u);if(Uu(n,"atTarget",w),!b){if(Al(a,"$text",n,...t))return n.return;Uu(n,"bubbling",w)}for(;w;){if(w.is("rootElement")){if(Al(a,"$root",n,...t))return n.return}else if(w.is("element")&&Al(a,w.name,n,...t))return n.return;if(Al(a,w,n,...t))return n.return;w=w.parent,Uu(n,"bubbling",w)}return Uu(n,"bubbling",this),Al(a,"$document",n,...t),n.return}catch(n){q.rethrowUnexpectedError(n,this)}}_addEventListener(e,t,n){const a=pn(n.context||"$document"),u=$u(this);for(const f of a){let b=u.get(f);b||(b=new(he()),u.set(f,b)),this.listenTo(b,e,t,n)}}_removeEventListener(e,t){const n=$u(this);for(const a of n.values())this.stopListening(a,e,t)}}}{const r=jp(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{jp[e]=r.prototype[e]})}function Uu(r,e,t){r instanceof qd&&(r._eventPhase=e,r._currentTarget=t)}function Al(r,e,t,...n){const a=typeof e=="string"?r.get(e):ef(r,e);return!!a&&(a.fire(t,...n),t.stop.called)}function ef(r,e){for(const[t,n]of r)if(typeof t=="function"&&t(e))return n;return null}function $u(r){return r[Sp]||(r[Sp]=new Map),r[Sp]}class Ph extends jp(Oe()){constructor(e){super(),this._postFixers=new Set,this.selection=new Jm,this.roots=new Po({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(t=n(e),t)break;while(t)}}class Wc extends Ho{constructor(e,t,n,a){super(e,t,n,a),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=tf}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new q("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function tf(){if(nf(this))return null;let r=this.parent;for(;r&&r.is("attributeElement");){if(nf(r)>1)return null;r=r.parent}return!r||nf(r)>1?null:this.childCount}function nf(r){return Array.from(r.getChildren()).filter(e=>!e.is("uiElement")).length}Wc.DEFAULT_PRIORITY=10,Wc.prototype.is=function(r,e){return e?e===this.name&&(r==="attributeElement"||r==="view:attributeElement"||r==="element"||r==="view:element"):r==="attributeElement"||r==="view:attributeElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class rf extends Ho{constructor(e,t,n,a){super(e,t,n,a),this.getFillerOffset=Cw}_insertChild(e,t){if(t&&(t instanceof aa||Array.from(t).length>0))throw new q("view-emptyelement-cannot-add",[this,t]);return 0}}function Cw(){return null}rf.prototype.is=function(r,e){return e?e===this.name&&(r==="emptyElement"||r==="view:emptyElement"||r==="element"||r==="view:element"):r==="emptyElement"||r==="view:emptyElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class ic extends Ho{constructor(e,t,n,a){super(e,t,n,a),this.getFillerOffset=sf}_insertChild(e,t){if(t&&(t instanceof aa||Array.from(t).length>0))throw new q("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const n of this.getAttributeKeys())t.setAttribute(n,this.getAttribute(n));return t}}function zh(r){r.document.on("arrowKey",(e,t)=>function(n,a,u){if(a.keyCode==Ve.arrowright){const f=a.domTarget.ownerDocument.defaultView.getSelection(),b=f.rangeCount==1&&f.getRangeAt(0).collapsed;if(b||a.shiftKey){const w=f.focusNode,A=f.focusOffset,E=u.domPositionToView(w,A);if(E===null)return;let O=!1;const z=E.getLastMatchingPosition(U=>(U.item.is("uiElement")&&(O=!0),!(!U.item.is("uiElement")&&!U.item.is("attributeElement"))));if(O){const U=u.viewPositionToDom(z);b?f.collapse(U.parent,U.offset):f.extend(U.parent,U.offset)}}}}(0,t,r.domConverter),{priority:"low"})}function sf(){return null}ic.prototype.is=function(r,e){return e?e===this.name&&(r==="uiElement"||r==="view:uiElement"||r==="element"||r==="view:element"):r==="uiElement"||r==="view:uiElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class Wd extends Ho{constructor(e,t,n,a){super(e,t,n,a),this.getFillerOffset=of}_insertChild(e,t){if(t&&(t instanceof aa||Array.from(t).length>0))throw new q("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}function of(){return null}Wd.prototype.is=function(r,e){return e?e===this.name&&(r==="rawElement"||r==="view:rawElement"||r==="element"||r==="view:element"):r==="rawElement"||r==="view:rawElement"||r===this.name||r==="view:"+this.name||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class Yc extends he(Bi){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let n=0;const a=function(u,f){return typeof f=="string"?[new bi(u,f)]:(Qe(f)||(f=[f]),Array.from(f).map(b=>typeof b=="string"?new bi(u,b):b instanceof ro?new bi(u,b.data):b))}(this.document,t);for(const u of a)u.parent!==null&&u._remove(),u.parent=this,this._children.splice(e,0,u),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Yc.prototype.is=function(r){return r==="documentFragment"||r==="view:documentFragment"};class Dp{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new Yc(this.document,e)}createText(e){return new bi(this.document,e)}createAttributeElement(e,t,n={}){const a=new Wc(this.document,e,t);return typeof n.priority=="number"&&(a._priority=n.priority),n.id&&(a._id=n.id),n.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),a}createContainerElement(e,t,n={},a={}){let u=null;$n(n)?a=n:u=n;const f=new Vu(this.document,e,t,u);return a.renderUnsafeAttributes&&f._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),f}createEditableElement(e,t,n={}){const a=new Hu(this.document,e,t);return n.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),a}createEmptyElement(e,t,n={}){const a=new rf(this.document,e,t);return n.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),a}createUIElement(e,t,n){const a=new ic(this.document,e,t);return n&&(a.render=n),a}createRawElement(e,t,n,a={}){const u=new Wd(this.document,e,t);return n&&(u.render=n),a.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),u}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){$n(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof Bt?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new q("view-writer-break-non-container-element",this.document);if(!t.parent)throw new q("view-writer-break-root",this.document);if(e.isAtStart)return Bt._createBefore(t);if(!e.isAtEnd){const n=t._clone(!1);this.insert(Bt._createAfter(t),n);const a=new Nn(e,Bt._createAt(t,"end")),u=new Bt(n,0);this.move(a,u)}return Bt._createAfter(t)}mergeAttributes(e){const t=e.offset,n=e.parent;if(n.is("$text"))return e;if(n.is("attributeElement")&&n.childCount===0){const f=n.parent,b=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new Bt(f,b))}const a=n.getChild(t-1),u=n.getChild(t);if(!a||!u)return e;if(a.is("$text")&&u.is("$text"))return rc(a,u);if(a.is("attributeElement")&&u.is("attributeElement")&&a.isSimilar(u)){const f=a.childCount;return a._appendChild(u.getChildren()),u._remove(),this._removeFromClonedElementsGroup(u),this.mergeAttributes(new Bt(a,f))}return e}mergeContainers(e){const t=e.nodeBefore,n=e.nodeAfter;if(!(t&&n&&t.is("containerElement")&&n.is("containerElement")))throw new q("view-writer-merge-containers-invalid-position",this.document);const a=t.getChild(t.childCount-1),u=a instanceof bi?Bt._createAt(a,"end"):Bt._createAt(t,"end");return this.move(Nn._createIn(n),Bt._createAt(t,"end")),this.remove(Nn._createOn(n)),u}insert(e,t){sc(t=Qe(t)?[...t]:[t],this.document);const n=t.reduce((f,b)=>{const w=f[f.length-1],A=!b.is("uiElement");return w&&w.breakAttributes==A?w.nodes.push(b):f.push({breakAttributes:A,nodes:[b]}),f},[]);let a=null,u=e;for(const{nodes:f,breakAttributes:b}of n){const w=this._insertNodes(u,f,b);a||(a=w.start),u=w.end}return a?new Nn(a,u):new Nn(e)}remove(e){const t=e instanceof Nn?e:Nn._createOn(e);if(pr(t,this.document),t.isCollapsed)return new Yc(this.document);const{start:n,end:a}=this._breakAttributesRange(t,!0),u=n.parent,f=a.offset-n.offset,b=u._removeChildren(n.offset,f);for(const A of b)this._removeFromClonedElementsGroup(A);const w=this.mergeAttributes(n);return t.start=w,t.end=w.clone(),new Yc(this.document,b)}clear(e,t){pr(e,this.document);const n=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const a of n){const u=a.item;let f;if(u.is("element")&&t.isSimilar(u))f=Nn._createOn(u);else if(!a.nextPosition.isAfter(e.start)&&u.is("$textProxy")){const b=u.getAncestors().find(w=>w.is("element")&&t.isSimilar(w));b&&(f=Nn._createIn(b))}f&&(f.end.isAfter(e.end)&&(f.end=e.end),f.start.isBefore(e.start)&&(f.start=e.start),this.remove(f))}}move(e,t){let n;if(t.isAfter(e.end)){const a=(t=this._breakAttributes(t,!0)).parent,u=a.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=a.childCount-u}else n=this.remove(e);return this.insert(t,n)}wrap(e,t){if(!(t instanceof Wc))throw new q("view-writer-wrap-invalid-attribute",this.document);if(pr(e,this.document),e.isCollapsed){let a=e.start;a.parent.is("element")&&(n=a.parent,!Array.from(n.getChildren()).some(f=>!f.is("uiElement")))&&(a=a.getLastMatchingPosition(f=>f.item.is("uiElement"))),a=this._wrapPosition(a,t);const u=this.document.selection;return u.isCollapsed&&u.getFirstPosition().isEqual(e.start)&&this.setSelection(a),new Nn(a)}return this._wrapRange(e,t);var n}unwrap(e,t){if(!(t instanceof Wc))throw new q("view-writer-unwrap-invalid-attribute",this.document);if(pr(e,this.document),e.isCollapsed)return e;const{start:n,end:a}=this._breakAttributesRange(e,!0),u=n.parent,f=this._unwrapChildren(u,n.offset,a.offset,t),b=this.mergeAttributes(f.start);b.isEqual(f.start)||f.end.offset--;const w=this.mergeAttributes(f.end);return new Nn(b,w)}rename(e,t){const n=new Vu(this.document,e,t.getAttributes());return this.insert(Bt._createAfter(t),n),this.move(Nn._createIn(t),Bt._createAt(n,0)),this.remove(Nn._createOn(t)),n}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return Bt._createAt(e,t)}createPositionAfter(e){return Bt._createAfter(e)}createPositionBefore(e){return Bt._createBefore(e)}createRange(e,t){return new Nn(e,t)}createRangeOn(e){return Nn._createOn(e)}createRangeIn(e){return Nn._createIn(e)}createSelection(...e){return new la(...e)}createSlot(e="children"){if(!this._slotFactory)throw new q("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,n){let a,u;if(a=n?Gc(e):e.parent.is("$text")?e.parent.parent:e.parent,!a)throw new q("view-writer-invalid-position-container",this.document);u=n?this._breakAttributes(e,!0):e.parent.is("$text")?Ea(e):e;const f=a._insertChild(u.offset,t);for(const E of t)this._addToClonedElementsGroup(E);const b=u.getShiftedBy(f),w=this.mergeAttributes(u);w.isEqual(u)||b.offset--;const A=this.mergeAttributes(b);return new Nn(w,A)}_wrapChildren(e,t,n,a){let u=t;const f=[];for(;u<n;){const w=e.getChild(u),A=w.is("$text"),E=w.is("attributeElement");if(E&&this._wrapAttributeElement(a,w))f.push(new Bt(e,u));else if(A||!E||Hb(a,w)){const O=a._clone();w._remove(),O._appendChild(w),e._insertChild(u,O),this._addToClonedElementsGroup(O),f.push(new Bt(e,u))}else this._wrapChildren(w,0,w.childCount,a);u++}let b=0;for(const w of f)w.offset-=b,w.offset!=t&&(this.mergeAttributes(w).isEqual(w)||(b++,n--));return Nn._createFromParentsAndOffsets(e,t,e,n)}_unwrapChildren(e,t,n,a){let u=t;const f=[];for(;u<n;){const w=e.getChild(u);if(w.is("attributeElement"))if(w.isSimilar(a)){const A=w.getChildren(),E=w.childCount;w._remove(),e._insertChild(u,A),this._removeFromClonedElementsGroup(w),f.push(new Bt(e,u),new Bt(e,u+E)),u+=E,n+=E-1}else this._unwrapAttributeElement(a,w)?(f.push(new Bt(e,u),new Bt(e,u+1)),u++):(this._unwrapChildren(w,0,w.childCount,a),u++);else u++}let b=0;for(const w of f)w.offset-=b,!(w.offset==t||w.offset==n)&&(this.mergeAttributes(w).isEqual(w)||(b++,n--));return Nn._createFromParentsAndOffsets(e,t,e,n)}_wrapRange(e,t){const{start:n,end:a}=this._breakAttributesRange(e,!0),u=n.parent,f=this._wrapChildren(u,n.offset,a.offset,t),b=this.mergeAttributes(f.start);b.isEqual(f.start)||f.end.offset--;const w=this.mergeAttributes(f.end);return new Nn(b,w)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return ca(e.clone());e.parent.is("$text")&&(e=Ea(e));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,e.parent._insertChild(e.offset,n);const a=new Nn(e,e.getShiftedBy(1));this.wrap(a,t);const u=new Bt(n.parent,n.index);n._remove();const f=u.nodeBefore,b=u.nodeAfter;return f instanceof bi&&b instanceof bi?rc(f,b):ca(u)}_wrapAttributeElement(e,t){if(!Fh(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(n!=="class"&&n!=="style"&&t.hasAttribute(n)&&t.getAttribute(n)!==e.getAttribute(n))return!1;for(const n of e.getStyleNames())if(t.hasStyle(n)&&t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n!=="class"&&n!=="style"&&(t.hasAttribute(n)||this.setAttribute(n,e.getAttribute(n),t));for(const n of e.getStyleNames())t.hasStyle(n)||this.setStyle(n,e.getStyle(n),t);for(const n of e.getClassNames())t.hasClass(n)||this.addClass(n,t);return!0}_unwrapAttributeElement(e,t){if(!Fh(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(n!=="class"&&n!=="style"&&(!t.hasAttribute(n)||t.getAttribute(n)!==e.getAttribute(n)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const n of e.getStyleNames())if(!t.hasStyle(n)||t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n!=="class"&&n!=="style"&&this.removeAttribute(n,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const n=e.start,a=e.end;if(pr(e,this.document),e.isCollapsed){const w=this._breakAttributes(e.start,t);return new Nn(w,w)}const u=this._breakAttributes(a,t),f=u.parent.childCount,b=this._breakAttributes(n,t);return u.offset+=u.parent.childCount-f,new Nn(b,u)}_breakAttributes(e,t=!1){const n=e.offset,a=e.parent;if(e.parent.is("emptyElement"))throw new q("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new q("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new q("view-writer-cannot-break-raw-element",this.document);if(!t&&a.is("$text")&&il(a.parent)||il(a))return e.clone();if(a.is("$text"))return this._breakAttributes(Ea(e),t);if(n==a.childCount){const u=new Bt(a.parent,a.index+1);return this._breakAttributes(u,t)}if(n===0){const u=new Bt(a.parent,a.index);return this._breakAttributes(u,t)}{const u=a.index+1,f=a._clone();a.parent._insertChild(u,f),this._addToClonedElementsGroup(f);const b=a.childCount-n,w=a._removeChildren(n,b);f._appendChild(w);const A=new Bt(a.parent,u);return this._breakAttributes(A,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const a of e.getChildren())this._addToClonedElementsGroup(a);const t=e.id;if(!t)return;let n=this._cloneGroups.get(t);n||(n=new Set,this._cloneGroups.set(t,n)),n.add(e),e._clonesGroup=n}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const a of e.getChildren())this._removeFromClonedElementsGroup(a);const t=e.id;if(!t)return;const n=this._cloneGroups.get(t);n&&n.delete(e)}}function Gc(r){let e=r.parent;for(;!il(e);){if(!e)return;e=e.parent}return e}function Hb(r,e){return r.priority<e.priority||!(r.priority>e.priority)&&r.getIdentity()<e.getIdentity()}function ca(r){const e=r.nodeBefore;if(e&&e.is("$text"))return new Bt(e,e.data.length);const t=r.nodeAfter;return t&&t.is("$text")?new Bt(t,0):r}function Ea(r){if(r.offset==r.parent.data.length)return new Bt(r.parent.parent,r.parent.index+1);if(r.offset===0)return new Bt(r.parent.parent,r.parent.index);const e=r.parent.data.slice(r.offset);return r.parent._data=r.parent.data.slice(0,r.offset),r.parent.parent._insertChild(r.parent.index+1,new bi(r.root.document,e)),new Bt(r.parent.parent,r.parent.index+1)}function rc(r,e){const t=r.data.length;return r._data+=e.data,e._remove(),new Bt(r,t)}const Ub=[bi,Wc,Vu,rf,Wd,ic];function sc(r,e){for(const t of r){if(!Ub.some(n=>t instanceof n))throw new q("view-writer-insert-invalid-node-type",e);t.is("$text")||sc(t.getChildren(),e)}}function il(r){return r&&(r.is("containerElement")||r.is("documentFragment"))}function pr(r,e){const t=Gc(r.start),n=Gc(r.end);if(!t||!n||t!==n)throw new q("view-writer-invalid-range-container",e)}function Fh(r,e){return r.id===null&&e.id===null}const af=r=>r.createTextNode(""),lf=r=>{const e=r.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},Tp=r=>{const e=r.createElement("br");return e.dataset.ckeFiller="true",e},Sa=7,rl="".repeat(Sa);function so(r){return typeof r=="string"?r.substr(0,Sa)===rl:Wi(r)&&r.data.substr(0,Sa)===rl}function Yd(r){return r.data.length==Sa&&so(r)}function Mp(r){const e=typeof r=="string"?r:r.data;return so(r)?e.slice(Sa):e}function $b(r,e){if(e.keyCode==Ve.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const n=t.getRangeAt(0).startContainer,a=t.getRangeAt(0).startOffset;so(n)&&a<=Sa&&t.collapse(n,0)}}}var Vh=h(8264),qb={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(Vh.A,qb),Vh.A.locals;class Ip extends Oe(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),S.isBlink&&!S.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else{if(e!=="children")throw new q("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!S.isAndroid)return;let e=null;const t=!(S.isBlink&&!S.isAndroid)||!this.isSelecting;for(const n of this.markedChildren)this._updateChildrenMappings(n);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Bt._createBefore(e.parent)));for(const n of this.markedAttributes)this._updateAttrs(n);for(const n of this.markedChildren)this._updateChildren(n,{inlineFillerPosition:e});for(const n of this.markedTexts)!this.markedChildren.has(n.parent)&&this.domConverter.mapViewToDom(n.parent)&&this._updateText(n,{inlineFillerPosition:e});if(t)if(e){const n=this.domConverter.viewPositionToDom(e),a=n.parent.ownerDocument;so(n.parent)?this._inlineFiller=n.parent:this._inlineFiller=Op(a,n.parent,n.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.childNodes),a=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),u=this._diffNodeLists(n,a),f=this._findUpdateActions(u,n,a,Wb);if(f.indexOf("update")!==-1){const b={equal:0,insert:0,delete:0};for(const w of f)if(w==="update"){const A=b.equal+b.insert,E=b.equal+b.delete,O=e.getChild(A);!O||O.is("uiElement")||O.is("rawElement")||this._updateElementMappings(O,n[E]),wo(a[A]),b.equal++}else b[w]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Bt._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&Wi(t.parent)&&so(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!so(e))throw new q("view-renderer-filler-was-lost",this);Yd(e)?e.remove():e.data=e.data.substr(Sa),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!function(f){if(f.getAttribute("contenteditable")=="false")return!1;const b=f.findAncestor(w=>w.hasAttribute("contenteditable"));return!b||b.getAttribute("contenteditable")=="true"}(t))return!1;const a=e.nodeBefore,u=e.nodeAfter;return!(a instanceof bi||u instanceof bi)&&!!(n!==t.getFillerOffset()||a&&a.is("element","br"))&&(!S.isAndroid||!a&&!u)}_updateText(e,t){const n=this.domConverter.findCorrespondingDomText(e);let a=this.domConverter.viewToDom(e).data;const u=t.inlineFillerPosition;u&&u.parent==e.parent&&u.offset==e.index&&(a=rl+a),ns(n,a)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.attributes).map(u=>u.name),a=e.getAttributeKeys();for(const u of a)this.domConverter.setDomElementAttribute(t,u,e.getAttribute(u),e);for(const u of n)e.hasAttribute(u)||this.domConverter.removeDomElementAttribute(t,u)}_updateChildren(e,t){const n=this.domConverter.mapViewToDom(e);if(!n)return;if(S.isAndroid){let O=null;for(const z of Array.from(n.childNodes)){if(O&&Wi(O)&&Wi(z)){n.normalize();break}O=z}}const a=t.inlineFillerPosition,u=n.childNodes,f=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));a&&a.parent===e&&Op(n.ownerDocument,f,a.offset);const b=this._diffNodeLists(u,f),w=this._findUpdateActions(b,u,f,Aw);let A=0;const E=new Set;for(const O of w)O==="delete"?(E.add(u[A]),wo(u[A])):O!=="equal"&&O!=="update"||A++;A=0;for(const O of w)O==="insert"?(xa(n,A,f[A]),A++):O==="update"?(ns(u[A],f[A].data),A++):O==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(f[A])),A++);for(const O of E)O.parentNode||this.domConverter.unbindDomElement(O)}_diffNodeLists(e,t){return e=function(n,a){const u=Array.from(n);return u.length==0||!a||u[u.length-1]==a&&u.pop(),u}(e,this._fakeSelectionContainer),H(e,t,Yb.bind(null,this.domConverter))}_findUpdateActions(e,t,n,a){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let u=[],f=[],b=[];const w={equal:0,insert:0,delete:0};for(const A of e)A==="insert"?b.push(n[w.equal+w.insert]):A==="delete"?f.push(t[w.equal+w.delete]):(u=u.concat(H(f,b,a).map(E=>E==="equal"?"update":E)),u.push("equal"),f=[],b=[]),w[A]++;return u.concat(H(f,b,a).map(A=>A==="equal"?"update":A))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(S.isBlink&&!S.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&S.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(f){const b=f.createElement("div");return b.className="ck-fake-selection-container",Object.assign(b.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),b.textContent="",b}(t));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(e))return;n.parentElement&&n.parentElement==e||e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"";const a=t.getSelection(),u=t.createRange();a.removeAllRanges(),u.selectNodeContents(n),a.addRange(u)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),a=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(n.parent,n.offset,a.parent,a.offset),S.isGecko&&function(u,f){let b=u.parent,w=u.offset;if(Wi(b)&&Yd(b)&&(w=to(b)+1,b=b.parentNode),b.nodeType!=Node.ELEMENT_NODE||w!=b.childNodes.length-1)return;const A=b.childNodes[w];A&&A.tagName=="BR"&&f.addRange(f.getRangeAt(0))}(a,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const n=e.activeElement,a=this.domConverter.mapDomToView(n);n&&a&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function Op(r,e,t){const n=e instanceof Array?e:e.childNodes,a=n[t];if(Wi(a))return a.data=rl+a.data,a;{const u=r.createTextNode(rl);return Array.isArray(e)?n.splice(t,0,u):xa(e,t,u),u}}function Wb(r,e){return Zr(r)&&Zr(e)&&!Wi(r)&&!Wi(e)&&!kl(r)&&!kl(e)&&r.tagName.toLowerCase()===e.tagName.toLowerCase()}function Aw(r,e){return Zr(r)&&Zr(e)&&Wi(r)&&Wi(e)}function Yb(r,e,t){return e===t||(Wi(e)&&Wi(t)?e.data===t.data:!(!r.isBlockFiller(e)||!r.isBlockFiller(t)))}function ns(r,e){const t=r.data;if(t==e)return;const n=j(t,e);for(const a of n)a.type==="insert"?r.insertData(a.index,a.values.join("")):r.deleteData(a.index,a.howMany)}const Ls=Tp(y.document),Gb=af(y.document),Kb=lf(y.document),Hh="data-ck-unsafe-attribute-",Lp="data-ck-unsafe-element";class Uh{constructor(e,{blockFillerMode:t,renderingMode:n="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Vr,this._inlineObjectElementMatcher=new Vr,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=n,this.blockFillerMode=t||(n==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?y.document:y.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new la(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const n of Array.from(e.children))this.unbindDomElement(n)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,n){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(n==="img"&&(e==="src"||e==="srcset")||n==="source"&&e==="srcset"||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data")return void(e.innerHTML=t);const n=new DOMParser().parseFromString(t,"text/html"),a=n.createDocumentFragment(),u=n.body.childNodes;for(;u.length>0;)a.appendChild(u[0]);const f=n.createTreeWalker(a,NodeFilter.SHOW_ELEMENT),b=[];let w;for(;w=f.nextNode();)b.push(w);for(const A of b){for(const O of A.getAttributeNames())this.setDomElementAttribute(A,O,A.getAttribute(O));const E=A.tagName.toLowerCase();this._shouldRenameElement(E)&&(Rp(E),A.replaceWith(this._createReplacementDomElement(E,A)))}for(;e.firstChild;)e.firstChild.remove();e.append(a)}viewToDom(e,t={}){if(e.is("$text")){const n=this._processDataFromViewText(e);return this._domDocument.createTextNode(n)}{const n=e;if(this.mapViewToDom(n)){if(!n.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(n);this._elementsWithTemporaryCustomProperties.add(n)}let a;if(n.is("documentFragment"))a=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(a,n);else{if(n.is("uiElement"))return a=n.name==="$comment"?this._domDocument.createComment(n.getCustomProperty("$rawContent")):n.render(this._domDocument,this),t.bind&&this.bindElements(a,n),a;this._shouldRenameElement(n.name)?(Rp(n.name),a=this._createReplacementDomElement(n.name)):a=n.hasAttribute("xmlns")?this._domDocument.createElementNS(n.getAttribute("xmlns"),n.name):this._domDocument.createElement(n.name),n.is("rawElement")&&n.render(a,this),t.bind&&this.bindElements(a,n);for(const u of n.getAttributeKeys())this.setDomElementAttribute(a,u,n.getAttribute(u),n)}if(t.withChildren!==!1)for(const u of this.viewChildrenToDom(n,t))a instanceof HTMLTemplateElement?a.content.appendChild(u):a.appendChild(u);return a}}setDomElementAttribute(e,t,n,a){const u=this.shouldRenderAttribute(t,n,e.tagName.toLowerCase())||a&&a.shouldRenderUnsafeAttribute(t);u||de("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:n}),function(f){try{y.document.createAttribute(f)}catch{return!1}return!0}(t)?(e.hasAttribute(t)&&!u?e.removeAttribute(t):e.hasAttribute(Hh+t)&&u&&e.removeAttribute(Hh+t),e.setAttribute(u?t:Hh+t,n)):de("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:n})}removeDomElementAttribute(e,t){t!=Lp&&(e.removeAttribute(t),e.removeAttribute(Hh+t))}*viewChildrenToDom(e,t={}){const n=e.getFillerOffset&&e.getFillerOffset();let a=0;for(const u of e.getChildren()){n===a&&(yield this._getBlockFiller());const f=u.is("element")&&!!u.getCustomProperty("dataPipeline:transparentRendering")&&!Wn(u.getAttributes());f&&this.renderingMode=="data"?yield*this.viewChildrenToDom(u,t):(f&&de("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:u}),yield this.viewToDom(u,t)),a++}n===a&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),a=this._domDocument.createRange();return a.setStart(t.parent,t.offset),a.setEnd(n.parent,n.offset),a}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const n=this.findCorrespondingDomText(t);if(!n)return null;let a=e.offset;return so(n)&&(a+=Sa),{parent:n,offset:a}}{let n,a,u;if(e.offset===0){if(n=this.mapViewToDom(t),!n)return null;u=n.childNodes[0]}else{const f=e.nodeBefore;if(a=f.is("$text")?this.findCorrespondingDomText(f):this.mapViewToDom(f),!a)return null;n=a.parentNode,u=a.nextSibling}return Wi(u)&&so(u)?{parent:u,offset:Sa}:{parent:n,offset:a?to(a)+1:0}}}domToView(e,t={}){const n=[],a=this._domToView(e,t,n),u=a.next().value;return u?(a.next(),this._processDomInlineNodes(null,n,t),u.is("$text")&&u.data.length==0?null:u):null}*domChildrenToView(e,t={},n=[]){let a=[];a=e instanceof HTMLTemplateElement?[...e.content.childNodes]:[...e.childNodes];for(let u=0;u<a.length;u++){const f=a[u],b=this._domToView(f,t,n),w=b.next().value;w!==null&&(this._isBlockViewElement(w)&&this._processDomInlineNodes(e,n,t),yield w,b.next())}this._processDomInlineNodes(e,n,t)}domSelectionToView(e){if(function(a){if(!S.isGecko||!a.rangeCount)return!1;const u=a.getRangeAt(0).startContainer;try{Object.prototype.toString.call(u)}catch{return!0}return!1}(e))return new la([]);if(e.rangeCount===1){let a=e.getRangeAt(0).startContainer;Wi(a)&&(a=a.parentNode);const u=this.fakeSelectionToView(a);if(u)return u}const t=this.isDomSelectionBackward(e),n=[];for(let a=0;a<e.rangeCount;a++){const u=e.getRangeAt(a),f=this.domRangeToView(u);f&&n.push(f)}return new la(n,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new Nn(t,n):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,to(e));const n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return Bt._createBefore(n);if(Wi(e)){if(Yd(e))return this.domPositionToView(e.parentNode,to(e));const a=this.findCorrespondingViewText(e);let u=t;return a?(so(e)&&(u-=Sa,u=u<0?0:u),new Bt(a,u)):null}if(t===0){const a=this.mapDomToView(e);if(a)return new Bt(a,0)}else{const a=e.childNodes[t-1];if(Wi(a)&&Yd(a)||a&&this.isBlockFiller(a))return this.domPositionToView(a.parentNode,to(a));const u=Wi(a)?this.findCorrespondingViewText(a):this.mapDomToView(a);if(u&&u.parent)return new Bt(u.parent,u.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Yd(e))return null;const t=this.getHostViewElement(e);if(t)return t;const n=e.previousSibling;if(n){if(!this.isElement(n))return null;const a=this.mapDomToView(n);if(a){const u=a.nextSibling;return u instanceof bi?u:null}}else{const a=this.mapDomToView(e.parentNode);if(a){const u=a.getChild(0);return u instanceof bi?u:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:n,scrollY:a}=y.window,u=[];df(t,f=>{const{scrollLeft:b,scrollTop:w}=f;u.push([b,w])}),t.focus(),df(t,f=>{const[b,w]=u.shift();f.scrollLeft=b,f.scrollTop=w}),y.window.scrollTo(n,a)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),n=this.domSelectionToView(t);n&&n.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(Ls):!(e.tagName!=="BR"||!Bp(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(Kb)||function(t,n){return t.isEqualNode(Gb)&&Bp(t,n)&&t.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const n=t.collapsed;return t.detach(),n}getHostViewElement(e){const t=function(n){const a=[];let u=n;for(;u&&u.nodeType!=Node.DOCUMENT_NODE;)a.unshift(u),u=u.parentNode;return a}(e);for(t.pop();t.length;){const n=t.pop(),a=this._domToViewMapping.get(n);if(a&&(a.is("uiElement")||a.is("rawElement")))return a}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return af(this._domDocument);case"markedNbsp":return lf(this._domDocument);case"br":return Tp(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(Wi(e)&&so(e)&&t<Sa||this.isElement(e)&&so(e.childNodes[t]))return!1;const n=this.mapDomToView(e);return!n||!n.is("uiElement")&&!n.is("rawElement")}*_domToView(e,t,n){if(this.isBlockFiller(e))return null;const a=this.getHostViewElement(e);if(a)return a;if(kl(e)&&t.skipComments)return null;if(Wi(e)){if(Yd(e))return null;{const u=e.data;if(u==="")return null;const f=new bi(this.document,u);return n.push(f),f}}{let u=this.mapDomToView(e);if(u)return this._isInlineObjectElement(u)&&n.push(u),u;if(this.isDocumentFragment(e))u=new Yc(this.document),t.bind&&this.bindDocumentFragments(e,u);else{u=this._createViewElement(e,t),t.bind&&this.bindElements(e,u);const b=e.attributes;if(b)for(let w=b.length,A=0;A<w;A++)u._setAttribute(b[A].name,b[A].value);if(this._isViewElementWithRawContent(u,t))return u._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(u)||n.push(u),u;if(kl(e))return u._setCustomProperty("$rawContent",e.data),u}yield u;const f=[];if(t.withChildren!==!1)for(const b of this.domChildrenToView(e,t,f))u._appendChild(b);if(this._isInlineObjectElement(u))n.push(u);else for(const b of f)n.push(b)}}_processDomInlineNodes(e,t,n){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let a=!1;for(let u=0;u<t.length;u++){const f=t[u];if(!f.is("$text")){a=!1;continue}let b,w=!1;if(cf(f,this.preElements))b=Mp(f.data);else{b=f.data.replace(/[ \n\t\r]{1,}/g," "),w=/[^\S\u00A0]/.test(b.charAt(b.length-1));const A=u>0?t[u-1]:null,E=u+1<t.length?t[u+1]:null,O=!A||A.is("element")&&A.name=="br"||a,z=!E&&!so(f.data);n.withChildren!==!1&&(O&&(b=b.replace(/^ /,"")),z&&(b=b.replace(/ $/,""))),b=Mp(b),b=b.replace(/ \u00A0/g,"  ");const U=E&&E.is("element")&&E.name!="br",W=E&&E.is("$text")&&E.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(b)||!E||U||W)&&(b=b.replace(/\u00A0$/," ")),(O||A&&A.is("element")&&A.name!="br")&&(b=b.replace(/^\u00A0/," "))}b.length==0&&f.parent?(f._remove(),t.splice(u,1),u--):(f._data=b,a=w)}t.length=0}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return t;if(t.charAt(0)==" "){const n=this._getTouchingInlineViewNode(e,!1);!(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n))&&n||(t=""+t.substr(1))}if(t.charAt(t.length-1)==" "){const n=this._getTouchingInlineViewNode(e,!0),a=n&&n.is("$textProxy")&&n.data.charAt(0)==" ";t.charAt(t.length-2)!=" "&&n&&!a||(t=t.substr(0,t.length-1)+"")}return t.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_getTouchingInlineViewNode(e,t){const n=new $d({startPosition:t?Bt._createAfter(e):Bt._createBefore(e),direction:t?"forward":"backward"});for(const a of n){if(a.item.is("element","br"))return null;if(this._isInlineObjectElement(a.item))return a.item;if(a.item.is("containerElement"))return null;if(a.item.is("$textProxy"))return a.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,t){if(kl(e))return new ic(this.document,"$comment");const n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Ho(this.document,n)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const n=this._domDocument.createElement("span");if(n.setAttribute(Lp,e),t){for(;t.firstChild;)n.appendChild(t.firstChild);for(const a of t.getAttributeNames())n.setAttribute(a,t.getAttribute(a))}return n}}function cf(r,e){return r.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function df(r,e){let t=r;for(;t;)e(t),t=t.parentElement}function Bp(r,e){const t=r.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function Rp(r){r==="script"&&de("domconverter-unsafe-script-element-detected"),r==="style"&&de("domconverter-unsafe-style-element-detected")}class sl extends Js(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const uf=el(function(r,e){Dn(e,Rr(e),r)});class Kc{constructor(e,t,n){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,uf(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Nl extends sl{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(t=>{this.listenTo(e,t,(n,a)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(a.target)&&this.onDomEvent(a)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,n){this.isEnabled&&this.document.fire(e,new Kc(this.view,t,n))}}class Qb extends Nl{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Pt(this)}};this.fire(e.type,e,t)}}const $h=function(){return Ue.Date.now()};var hf=/\s/;const Pp=function(r){for(var e=r.length;e--&&hf.test(r.charAt(e)););return e};var Zb=/^\s+/;const zp=function(r){return r&&r.slice(0,Pp(r)+1).replace(Zb,"")};var Xb=/^[-+]0x[0-9a-f]+$/i,oc=/^0b[01]+$/i,Fp=/^0o[0-7]+$/i,Nw=parseInt;const Vp=function(r){if(typeof r=="number")return r;if(nc(r))return NaN;if(fe(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=fe(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=zp(r);var t=oc.test(r);return t||Fp.test(r)?Nw(r.slice(2),t?2:8):Xb.test(r)?NaN:+r};var ac=Math.max,Jb=Math.min;const lc=function(r,e,t){var n,a,u,f,b,w,A=0,E=!1,O=!1,z=!0;if(typeof r!="function")throw new TypeError("Expected a function");function U(Me){var Ze=n,pt=a;return n=a=void 0,A=Me,f=r.apply(pt,Ze)}function W(Me){var Ze=Me-w;return w===void 0||Ze>=e||Ze<0||O&&Me-A>=u}function X(){var Me=$h();if(W(Me))return ae(Me);b=setTimeout(X,function(Ze){var pt=e-(Ze-w);return O?Jb(pt,u-(Ze-A)):pt}(Me))}function ae(Me){return b=void 0,z&&n?U(Me):(n=a=void 0,f)}function ge(){var Me=$h(),Ze=W(Me);if(n=arguments,a=this,w=Me,Ze){if(b===void 0)return function(pt){return A=pt,b=setTimeout(X,e),E?U(pt):f}(w);if(O)return clearTimeout(b),b=setTimeout(X,e),U(w)}return b===void 0&&(b=setTimeout(X,e)),f}return e=Vp(e)||0,fe(t)&&(E=!!t.leading,u=(O="maxWait"in t)?ac(Vp(t.maxWait)||0,e):u,z="trailing"in t?!!t.trailing:z),ge.cancel=function(){b!==void 0&&clearTimeout(b),A=0,n=w=a=b=void 0},ge.flush=function(){return b===void 0?f:ae($h())},ge};class qh extends sl{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=lc(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&n.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,n=new la(t.getRanges(),{backward:t.isBackward,fake:!1});e!=Ve.arrowleft&&e!=Ve.arrowup||n.setTo(n.getFirstPosition()),e!=Ve.arrowright&&e!=Ve.arrowdown||n.setTo(n.getLastPosition());const a={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",a),this._fireSelectionChangeDoneDebounced(a)}}const gr=function(r){return this.__data__.set(r,"__lodash_hash_undefined__"),this},Ew=function(r){return this.__data__.has(r)};function mf(r){var e=-1,t=r==null?0:r.length;for(this.__data__=new Br;++e<t;)this.add(r[e])}mf.prototype.add=mf.prototype.push=gr,mf.prototype.has=Ew;const ek=mf,Wh=function(r,e){for(var t=-1,n=r==null?0:r.length;++t<n;)if(e(r[t],t,r))return!0;return!1},Qc=function(r,e){return r.has(e)},Hp=function(r,e,t,n,a,u){var f=1&t,b=r.length,w=e.length;if(b!=w&&!(f&&w>b))return!1;var A=u.get(r),E=u.get(e);if(A&&E)return A==e&&E==r;var O=-1,z=!0,U=2&t?new ek:void 0;for(u.set(r,e),u.set(e,r);++O<b;){var W=r[O],X=e[O];if(n)var ae=f?n(X,W,O,e,r,u):n(W,X,O,r,e,u);if(ae!==void 0){if(ae)continue;z=!1;break}if(U){if(!Wh(e,function(ge,Me){if(!Qc(U,Me)&&(W===ge||a(W,ge,t,n,u)))return U.push(Me)})){z=!1;break}}else if(W!==X&&!a(W,X,t,n,u)){z=!1;break}}return u.delete(r),u.delete(e),z},tk=function(r){var e=-1,t=Array(r.size);return r.forEach(function(n,a){t[++e]=[a,n]}),t},Yh=function(r){var e=-1,t=Array(r.size);return r.forEach(function(n){t[++e]=n}),t};var ol=bt?bt.prototype:void 0,ff=ol?ol.valueOf:void 0;const Up=function(r,e,t,n,a,u,f){switch(t){case"[object DataView]":if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(r.byteLength!=e.byteLength||!u(new Ga(r),new Ga(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Tt(+r,+e);case"[object Error]":return r.name==e.name&&r.message==e.message;case"[object RegExp]":case"[object String]":return r==e+"";case"[object Map]":var b=tk;case"[object Set]":var w=1&n;if(b||(b=Yh),r.size!=e.size&&!w)return!1;var A=f.get(r);if(A)return A==e;n|=2,f.set(r,e);var E=Hp(b(r),b(e),n,a,u,f);return f.delete(r),E;case"[object Symbol]":if(ff)return ff.call(r)==ff.call(e)}return!1};var nk=Object.prototype.hasOwnProperty;const $p=function(r,e,t,n,a,u){var f=1&t,b=Dc(r),w=b.length;if(w!=Dc(e).length&&!f)return!1;for(var A=w;A--;){var E=b[A];if(!(f?E in e:nk.call(e,E)))return!1}var O=u.get(r),z=u.get(e);if(O&&z)return O==e&&z==r;var U=!0;u.set(r,e),u.set(e,r);for(var W=f;++A<w;){var X=r[E=b[A]],ae=e[E];if(n)var ge=f?n(ae,X,E,e,r,u):n(X,ae,E,r,e,u);if(!(ge===void 0?X===ae||a(X,ae,t,n,u):ge)){U=!1;break}W||(W=E=="constructor")}if(U&&!W){var Me=r.constructor,Ze=e.constructor;Me==Ze||!("constructor"in r)||!("constructor"in e)||typeof Me=="function"&&Me instanceof Me&&typeof Ze=="function"&&Ze instanceof Ze||(U=!1)}return u.delete(r),u.delete(e),U};var pf="[object Arguments]",Gh="[object Array]",Kh="[object Object]",El=Object.prototype.hasOwnProperty;const Mr=function(r,e,t,n,a,u){var f=ri(r),b=ri(e),w=f?Gh:go(r),A=b?Gh:go(e),E=(w=w==pf?Kh:w)==Kh,O=(A=A==pf?Kh:A)==Kh,z=w==A;if(z&&Kr(r)){if(!Kr(e))return!1;f=!0,E=!1}if(z&&!E)return u||(u=new Ws),f||To(r)?Hp(r,e,t,n,a,u):Up(r,e,w,t,n,a,u);if(!(1&t)){var U=E&&El.call(r,"__wrapped__"),W=O&&El.call(e,"__wrapped__");if(U||W){var X=U?r.value():r,ae=W?e.value():e;return u||(u=new Ws),a(X,ae,t,n,u)}}return!!z&&(u||(u=new Ws),$p(r,e,t,n,a,u))},qu=function r(e,t,n,a,u){return e===t||(e==null||t==null||!ei(e)&&!ei(t)?e!=e&&t!=t:Mr(e,t,n,a,r,u))},ik=function(r,e,t){var n=(t=typeof t=="function"?t:void 0)?t(r,e):void 0;return n===void 0?qu(r,e,void 0,t):!!n};class is extends sl{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,n=new Set,a=new Set;for(const f of e){const b=t.mapDomToView(f.target);b&&(b.is("uiElement")||b.is("rawElement")||f.type!=="childList"||this._isBogusBrMutation(f)||a.add(b))}for(const f of e){const b=t.mapDomToView(f.target);if((!b||!b.is("uiElement")&&!b.is("rawElement"))&&f.type==="characterData"){const w=t.findCorrespondingViewText(f.target);w&&!a.has(w.parent)?n.add(w):!w&&so(f.target)&&a.add(t.mapDomToView(f.target.parentNode))}}let u=!1;for(const f of n)u=!0,this.renderer.markToSync("text",f);for(const f of a){const b=t.mapViewToDom(f),w=Array.from(f.getChildren()),A=Array.from(t.domChildrenToView(b,{withChildren:!1}));ik(w,A,Sw)||(u=!0,this.renderer.markToSync("children",f))}u&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function Sw(r,e){if(!Array.isArray(r))return r===e||!(!r.is("$text")||!e.is("$text"))&&r.data===e.data}class Qh extends Nl{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(n,a)=>{const u=t.selection.editableElement;u!==null&&u!==a.target||(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class rk extends sl{constructor(e){super(e),this.mutationObserver=e.getObserver(is),this.focusObserver=e.getObserver(Qh),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=lc(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=lc(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,n=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",n,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",n,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",n,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(a,u)=>{this.document.isComposing&&!S.isAndroid||(this._handleSelectionChange(u,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const n=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const a=this.domConverter.domSelectionToView(n);if(a.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(a)||!this.domConverter.isDomSelectionCorrect(n))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(a))this.view.forceRender();else{const u={oldSelection:this.selection,newSelection:a,domSelection:n};this.document.fire("selectionChange",u),this._fireSelectionChangeDoneDebounced(u)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class cr extends Nl{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class yo{constructor(e,t={}){this._files=t.cacheFiles?Sl(e):null,this._native=e}get files(){return this._files||(this._files=Sl(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,n){this._native.setDragImage(e,t,n)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function Sl(r){const e=Array.from(r.files||[]),t=Array.from(r.items||[]);return e.length?e:t.filter(n=>n.kind==="file").map(n=>n.getAsFile())}class sk extends Nl{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),n=this.view,a=n.document;let u=null,f=null,b=[];if(e.dataTransfer&&(u=new yo(e.dataTransfer)),e.data!==null?f=e.data:u&&(f=u.getData("text/plain")),a.selection.isFake)b=Array.from(a.selection.getRanges());else if(t.length)b=t.map(w=>{const A=n.domConverter.domPositionToView(w.startContainer,w.startOffset),E=n.domConverter.domPositionToView(w.endContainer,w.endOffset);return A?n.createRange(A,E):E?n.createRange(E):void 0}).filter(w=>!!w);else if(S.isAndroid){const w=e.target.ownerDocument.defaultView.getSelection();b=Array.from(n.domConverter.domSelectionToView(w).getRanges())}if(S.isAndroid&&e.inputType=="insertCompositionText"&&f&&f.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[n.createRange(b[0].end)]});else if(e.inputType=="insertText"&&f&&f.includes(`
`)){const w=f.split(/\n{1,2}/g);let A=b;for(let E=0;E<w.length;E++){const O=w[E];O!=""&&(this.fire(e.type,e,{data:O,dataTransfer:u,targetRanges:A,inputType:e.inputType,isComposing:e.isComposing}),A=[a.selection.getFirstRange()]),E+1<w.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:A}),A=[a.selection.getFirstRange()])}}else this.fire(e.type,e,{data:f,dataTransfer:u,targetRanges:b,inputType:e.inputType,isComposing:e.isComposing})}}class ok extends sl{constructor(e){super(e),this.document.on("keydown",(t,n)=>{if(this.isEnabled&&((a=n.keyCode)==Ve.arrowright||a==Ve.arrowleft||a==Ve.arrowup||a==Ve.arrowdown)){const u=new qd(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(u,n),u.stop.called&&t.stop()}var a})}observe(){}stopObserving(){}}class jw extends sl{constructor(e){super(e);const t=this.document;t.on("keydown",(n,a)=>{if(!this.isEnabled||a.keyCode!=Ve.tab||a.ctrlKey)return;const u=new qd(t,"tab",t.selection.getFirstRange());t.fire(u,a),u.stop.called&&n.stop()})}observe(){}stopObserving(){}}const da=function(r){return Bc(r,5)};class ua extends Oe(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Ph(e),this.domConverter=new Uh(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Ip(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new Dp(this.document),this.addObserver(is),this.addObserver(Qh),this.addObserver(rk),this.addObserver(Qb),this.addObserver(qh),this.addObserver(cr),this.addObserver(ok),this.addObserver(sk),this.addObserver(jw),this.document.on("arrowKey",$b,{priority:"low"}),zh(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),S.isiOS&&this.listenTo(this.document,"blur",(t,n)=>{this.domConverter.mapDomToView(n.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,t="main"){const n=this.document.getRoot(t);n._name=e.tagName.toLowerCase();const a={};for(const{name:f,value:b}of Array.from(e.attributes))a[f]=b,f==="class"?this._writer.addClass(b.split(" "),n):this._writer.setAttribute(f,b,n);this._initialDomRootAttributes.set(e,a);const u=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};u(),this.domRoots.set(t,e),this.domConverter.bindElements(e,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(e.ownerDocument),n.on("change:children",(f,b)=>this._renderer.markToSync("children",b)),n.on("change:attributes",(f,b)=>this._renderer.markToSync("attributes",b)),n.on("change:text",(f,b)=>this._renderer.markToSync("text",b)),n.on("change:isReadOnly",()=>this.change(u)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const f of this._observers.values())f.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:a})=>t.removeAttribute(a));const n=this._initialDomRootAttributes.get(t);for(const a in n)t.setAttribute(a,n[a]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const a of this._observers.values())a.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[n,a]of this.domRoots)t.observe(a,n);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:n=20,ancestorOffset:a=20}={}){const u=this.document.selection.getFirstRange();if(!u)return;const f=da({alignToTop:e,forceScroll:t,viewportOffset:n,ancestorOffset:a});typeof n=="number"&&(n={top:n,bottom:n,left:n,right:n});const b={target:this.domConverter.viewRangeToDom(u),viewportOffset:n,ancestorOffset:a,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",b,f),function({target:w,viewportOffset:A=0,ancestorOffset:E=0,alignToTop:O,forceScroll:z}){const U=T(w);let W=U,X=null;for(A=function(ae){return typeof ae=="number"?{top:ae,bottom:ae,left:ae,right:ae}:ae}(A);W;){let ae;ae=V(W==U?w:X),Pc({parent:ae,getRect:()=>G(w,W),alignToTop:O,ancestorOffset:E,forceScroll:z});const ge=G(w,W);if(vl({window:W,rect:ge,viewportOffset:A,alignToTop:O,forceScroll:z}),W.parent!=W){if(X=W.frameElement,W=W.parent,!X)return}else W=null}}(b)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new q("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){q.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Qh).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return Bt._createAt(e,t)}createPositionAfter(e){return Bt._createAfter(e)}createPositionBefore(e){return Bt._createBefore(e)}createRange(e,t){return new Nn(e,t)}createRangeOn(e){return Nn._createOn(e)}createRangeIn(e){return Nn._createIn(e)}createSelection(...e){return new la(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class gs{is(){throw new Error("is() method is abstract")}}class Zc extends gs{constructor(e){super(),this.parent=null,this._attrs=no(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new q("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new q("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),a=e.getAncestors(t);let u=0;for(;n[u]==a[u]&&n[u];)u++;return u===0?null:n[u-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),a=Dt(t,n);switch(a){case"prefix":return!0;case"extension":return!1;default:return t[a]<n[a]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,n)=>(t[n[0]]=n[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=no(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Zc.prototype.is=function(r){return r==="node"||r==="model:node"};class Bs{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((n,a)=>n+a.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new q("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const n of this._nodes){if(e>=t&&e<t+n.offsetSize)return this.getNodeIndex(n);t+=n.offsetSize}if(t!=e)throw new q("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const n of t)if(!(n instanceof Zc))throw new q("model-nodelist-insertnodes-not-node",this);this._nodes=function(n,a,u,f){if(Math.max(a.length,n.length)>1e4)return n.slice(0,u).concat(a).concat(n.slice(u+f,n.length));{const b=Array.from(n);return b.splice(u,f,...a),b}}(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class Ri extends Zc{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Ri(this.data,this.getAttributes())}static fromJSON(e){return new Ri(e.data,e.attributes)}}Ri.prototype.is=function(r){return r==="$text"||r==="model:$text"||r==="text"||r==="model:text"||r==="node"||r==="model:node"};class bs extends gs{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new q("model-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.offsetSize)throw new q("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}bs.prototype.is=function(r){return r==="$textProxy"||r==="model:$textProxy"||r==="textProxy"||r==="model:textProxy"};class hi extends Zc{constructor(e,t,n){super(t),this._children=new Bs,this.name=e,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}findAncestor(e,t={}){let n=t.includeSelf?this:this.parent;for(;n;){if(n.name===e)return n;n=n.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(n=>n._clone(!0)):void 0;return new hi(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(a){return typeof a=="string"?[new Ri(a)]:(Qe(a)||(a=[a]),Array.from(a).map(u=>typeof u=="string"?new Ri(u):u instanceof bs?new Ri(u.data,u.getAttributes()):u))}(t);for(const a of n)a.parent!==null&&a._remove(),a.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const a of n)a.parent=null;return n}static fromJSON(e){let t;if(e.children){t=[];for(const n of e.children)n.name?t.push(hi.fromJSON(n)):t.push(Ri.fromJSON(n))}return new hi(e.name,e.attributes,t)}}hi.prototype.is=function(r,e){return e?e===this.name&&(r==="element"||r==="model:element"):r==="element"||r==="model:element"||r==="node"||r==="model:node"};class oo{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new q("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new q("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=At._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n,a,u;do a=this.position,u=this._visitedParent,{done:t,value:n}=this.next();while(!t&&e(n));t||(this._position=a,this._visitedParent=u)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const a=Uo(t,n),u=a||qp(t,n,a);if(u instanceof hi){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t.path.push(0),this._visitedParent=u;return this._position=t,cc("elementStart",u,e,t,1)}if(u instanceof Ri){let f;if(this.singleCharacters)f=1;else{let A=u.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<A&&(A=this.boundaries.end.offset),f=A-t.offset}const b=t.offset-u.startOffset,w=new bs(u,b,f);return t.offset+=f,this._position=t,cc("text",w,e,t,f)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():cc("elementEnd",n,e,t)}_previous(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const a=t.parent,u=Uo(t,a),f=u||Gd(t,a,u);if(f instanceof hi)return t.offset--,this.shallow?(this._position=t,cc("elementStart",f,e,t,1)):(t.path.push(f.maxOffset),this._position=t,this._visitedParent=f,this.ignoreElementEnd?this._previous():cc("elementEnd",f,e,t));if(f instanceof Ri){let b;if(this.singleCharacters)b=1;else{let E=f.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>E&&(E=this.boundaries.start.offset),b=t.offset-E}const w=t.offset-f.startOffset,A=new bs(f,w-b,b);return t.offset-=b,this._position=t,cc("text",A,e,t,b)}return t.path.pop(),this._position=t,this._visitedParent=n.parent,cc("elementStart",n,e,t,1)}}function cc(r,e,t,n,a){return{done:!1,value:{type:r,item:e,previousPosition:t,nextPosition:n,length:a}}}class At extends gs{constructor(e,t,n="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new q("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new q("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new q("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new q("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Uo(this,this.parent)}get nodeAfter(){const e=this.parent;return qp(this,e,Uo(this,e))}get nodeBefore(){const e=this.parent;return Gd(this,e,Uo(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=Dt(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new oo(t);return n.skip(e),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=Dt(this.path,e.path),n=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let a=0;for(;t[a]==n[a]&&t[a];)a++;return a===0?null:t[a-1]}getShiftedBy(e){const t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let n=0;n<t;n++){const a=this.path[n]-e.path[n];if(a<-1||a>1)return!1;if(a===1)return Wu(e,this,n);if(a===-1)return Wu(this,e,n)}return this.path.length===e.path.length||(this.path.length>e.path.length?Kd(this.path,t):Kd(e.path,t))}hasSameParentAs(e){return this.root!==e.root?!1:Dt(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=At._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let n;return t.containsPosition(this)||t.start.isEqual(this)?(n=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(n=n._getTransformedByDeletion(e.deletionPosition,1))):n=this.isEqual(e.deletionPosition)?At._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),n}_getTransformedByDeletion(e,t){const n=At._createAt(this);if(this.root!=e.root)return n;if(Dt(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;n.offset-=t}}else if(Dt(e.getParentPath(),this.getParentPath())=="prefix"){const a=e.path.length-1;if(e.offset<=this.path[a]){if(e.offset+t>this.path[a])return null;n.path[a]-=t}}return n}_getTransformedByInsertion(e,t){const n=At._createAt(this);if(this.root!=e.root)return n;if(Dt(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(n.offset+=t);else if(Dt(e.getParentPath(),this.getParentPath())=="prefix"){const a=e.path.length-1;e.offset<=this.path[a]&&(n.path[a]+=t)}return n}_getTransformedByMove(e,t,n){if(t=t._getTransformedByDeletion(e,n),e.isEqual(t))return At._createAt(this);const a=this._getTransformedByDeletion(e,n);return a===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(n).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):a._getTransformedByInsertion(t,n)}_getCombined(e,t){const n=e.path.length-1,a=At._createAt(t);return a.stickiness=this.stickiness,a.offset=a.offset+this.path[n]-e.offset,a.path=[...a.path,...this.path.slice(n+1)],a}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,n="toNone"){if(e instanceof At)return new At(e.root,e.path,e.stickiness);{const a=e;if(t=="end")t=a.maxOffset;else{if(t=="before")return this._createBefore(a,n);if(t=="after")return this._createAfter(a,n);if(t!==0&&!t)throw new q("model-createpositionat-offset-required",[this,e])}if(!a.is("element")&&!a.is("documentFragment"))throw new q("model-position-parent-incorrect",[this,e]);const u=a.getPath();return u.push(t),new this(a.root,u,n)}}static _createAfter(e,t){if(!e.parent)throw new q("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new q("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const n=new At(t.graveyard,e.path);return n.stickiness=e.stickiness,n}if(!t.getRoot(e.root))throw new q("model-position-fromjson-no-root",t,{rootName:e.root});return new At(t.getRoot(e.root),e.path,e.stickiness)}}function Uo(r,e){const t=e.getChild(e.offsetToIndex(r.offset));return t&&t.is("$text")&&t.startOffset<r.offset?t:null}function qp(r,e,t){return t!==null?null:e.getChild(e.offsetToIndex(r.offset))}function Gd(r,e,t){return t!==null?null:e.getChild(e.offsetToIndex(r.offset)-1)}function Wu(r,e,t){return t+1!==r.path.length&&!!Kd(e.path,t+1)&&!!function(n,a){let u=n.parent,f=n.path.length-1,b=0;for(;f>=a;){if(n.path[f]+b!==u.maxOffset)return!1;b=1,f--,u=u.parent}return!0}(r,t+1)}function Kd(r,e){for(;e<r.length;){if(r[e]!==0)return!1;e++}return!0}At.prototype.is=function(r){return r==="position"||r==="model:position"};class et extends gs{constructor(e,t){super(),this.start=At._createAt(e),this.end=t?At._createAt(t):At._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new oo({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return Dt(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),a=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&a}containsItem(e){const t=At._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new et(this.start,e.start)),this.containsPosition(e.end)&&t.push(new et(e.end,this.end))):t.push(new et(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new et(t,n)}return null}getJoined(e,t=!1){let n=this.isIntersecting(e);if(n||(n=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!n)return null;let a=this.start,u=this.end;return e.start.isBefore(a)&&(a=e.start),e.end.isAfter(u)&&(u=e.end),new et(a,u)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,n=At._createAt(this.start);let a=n.parent;for(;n.path.length>t+1;){const u=a.maxOffset-n.offset;u!==0&&e.push(new et(n,n.getShiftedBy(u))),n.path=n.path.slice(0,-1),n.offset++,a=a.parent}for(;n.path.length<=this.end.path.length;){const u=this.end.path[n.path.length-1],f=u-n.offset;f!==0&&e.push(new et(n,n.getShiftedBy(f))),n.offset=u,n.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new oo(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new oo(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new oo(e);yield t.position;for(const n of t)yield n.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new et(this.start,this.end)]}getTransformedByOperations(e){const t=[new et(this.start,this.end)];for(const n of e)for(let a=0;a<t.length;a++){const u=t[a].getTransformedByOperation(n);t.splice(a,1,...u),a+=u.length-1}for(let n=0;n<t.length;n++){const a=t[n];for(let u=n+1;u<t.length;u++){const f=t[u];(a.containsRange(f)||f.containsRange(a)||a.isEqual(f))&&t.splice(u,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const n=e.sourcePosition,a=e.howMany,u=e.targetPosition;return this._getTransformedByMove(n,u,a,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),new et(t,n)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new et(this.start);let t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e);return t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)?(e.sourcePosition.isBefore(e.targetPosition)?(t=At._createAt(n),t.offset=0):(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition),new et(t,n)):new et(t,n)}_getTransformedByInsertion(e,t,n=!1){if(n&&this.containsPosition(e))return[new et(this.start,e),new et(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const a=new et(this.start,this.end);return a.start=a.start._getTransformedByInsertion(e,t),a.end=a.end._getTransformedByInsertion(e,t),[a]}}_getTransformedByMove(e,t,n,a=!1){if(this.isCollapsed){const O=this.start._getTransformedByMove(e,t,n);return[new et(O)]}const u=et._createFromPositionAndShift(e,n),f=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!a&&(u.containsPosition(this.start)||u.containsPosition(this.end))){const O=this.start._getTransformedByMove(e,t,n),z=this.end._getTransformedByMove(e,t,n);return[new et(O,z)]}let b;const w=this.getDifference(u);let A=null;const E=this.getIntersection(u);if(w.length==1?A=new et(w[0].start._getTransformedByDeletion(e,n),w[0].end._getTransformedByDeletion(e,n)):w.length==2&&(A=new et(this.start,this.end._getTransformedByDeletion(e,n))),b=A?A._getTransformedByInsertion(f,n,E!==null||a):[],E){const O=new et(E.start._getCombined(u.start,f),E.end._getCombined(u.start,f));b.length==2?b.splice(1,0,O):b.push(O)}return b}_getTransformedByDeletion(e,t){let n=this.start._getTransformedByDeletion(e,t),a=this.end._getTransformedByDeletion(e,t);return n==null&&a==null?null:(n==null&&(n=e),a==null&&(a=e),new et(n,a))}static _createFromPositionAndShift(e,t){const n=e,a=e.getShiftedBy(t);return t>0?new this(n,a):new this(a,n)}static _createIn(e){return new this(At._createAt(e,0),At._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(At._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new q("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((u,f)=>u.start.isAfter(f.start)?1:-1);const n=e.indexOf(t),a=new this(t.start,t.end);if(n>0)for(let u=n-1;e[u].end.isEqual(a.start);u++)a.start=At._createAt(e[u].start);for(let u=n+1;u<e.length&&e[u].start.isEqual(a.end);u++)a.end=At._createAt(e[u].end);return a}static fromJSON(e,t){return new this(At.fromJSON(e.start,t),At.fromJSON(e.end,t))}}et.prototype.is=function(r){return r==="range"||r==="model:range"};class Wp extends he(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const n=this._modelToViewMapping.get(t.modelPosition.parent);if(!n)throw new q("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(n,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const n=this.findMappedViewAncestor(t.viewPosition),a=this._viewToModelMapping.get(n),u=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,n);t.modelPosition=At._createAt(a,u)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const n=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const a of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(a);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(n)==e&&this._modelToViewMapping.delete(n))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const n=this._markerNameToElements.get(t)||new Set;n.add(e);const a=this._elementToMarkerNames.get(e)||new Set;a.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,a)}unbindElementFromMarkerName(e,t){const n=this._markerNameToElements.get(t);n&&(n.delete(e),n.size==0&&this._markerNameToElements.delete(t));const a=this._elementToMarkerNames.get(e);a&&(a.delete(t),a.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new et(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Nn(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const n=new Set;for(const a of t)if(a.is("attributeElement"))for(const u of a.getElementsWithSameId())n.add(u);else n.add(a);return n}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,n){if(n!=e)return this._toModelOffset(e.parent,e.index,n)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;let a=0;for(let u=0;u<t;u++)a+=this.getModelLength(e.getChild(u));return a}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const n of e.getChildren())t+=this.getModelLength(n);return t}}findPositionIn(e,t){let n,a=0,u=0,f=0;if(e.is("$text"))return new Bt(e,t);for(;u<t;)n=e.getChild(f),a=this.getModelLength(n),u+=a,f++;return u==t?this._moveViewPositionToTextNode(new Bt(e,f)):this.findPositionIn(n,t-(u-a))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,n=e.nodeAfter;return t instanceof bi?new Bt(t,t.data.length):n instanceof bi?new Bt(n,0):e}}class ak{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=Xc(t),e instanceof bs&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=Xc(t),e instanceof bs&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=Xc(t),e instanceof bs&&(e=this._getSymbolForTextProxy(e));const n=this._consumable.get(e);if(n===void 0)return null;const a=n.get(t);return a===void 0?null:a}revert(e,t){t=Xc(t),e instanceof bs&&(e=this._getSymbolForTextProxy(e));const n=this.test(e,t);return n===!1?(this._consumable.get(e).set(t,!0),!0):n!==!0&&null}verifyAllConsumed(e){const t=[];for(const[n,a]of this._consumable)for(const[u,f]of a){const b=u.split(":")[0];f&&e==b&&t.push({event:u,item:n.name||n.description})}if(t.length)throw new q("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const n=this._textProxyRegistry.get(e.startOffset);if(n){const a=n.get(e.endOffset);a&&(t=a.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,n=e.endOffset,a=e.parent,u=Symbol("$textProxy:"+e.data);let f,b;return f=this._textProxyRegistry.get(t),f||(f=new Map,this._textProxyRegistry.set(t,f)),b=f.get(n),b||(b=new Map,f.set(n,b)),b.set(a,u),u}}function Xc(r){const e=r.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?r:e.length>1?e[0]+":"+e[1]:e[0]}var lk=Object.defineProperty,gf=Object.defineProperties,ck=Object.getOwnPropertyDescriptors,dk=Object.getOwnPropertySymbols,Dw=Object.prototype.hasOwnProperty,Pi=Object.prototype.propertyIsEnumerable,Ki=(r,e,t)=>e in r?lk(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Zn=(r,e)=>{for(var t in e||(e={}))Dw.call(e,t)&&Ki(r,t,e[t]);if(dk)for(var t of dk(e))Pi.call(e,t)&&Ki(r,t,e[t]);return r},mi=(r,e)=>gf(r,ck(e));class Ii extends he(){constructor(e){super(),this._conversionApi=Zn({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,t,n){const a=this._createConversionApi(n,e.getRefreshedItems());for(const f of e.getMarkersToRemove())this._convertMarkerRemove(f.name,f.range,a);const u=this._reduceChanges(e.getChanges());for(const f of u)f.type==="insert"?this._convertInsert(et._createFromPositionAndShift(f.position,f.length),a):f.type==="reinsert"?this._convertReinsert(et._createFromPositionAndShift(f.position,f.length),a):f.type==="remove"?this._convertRemove(f.position,f.length,f.name,a):this._convertAttribute(f.range,f.attributeKey,f.attributeOldValue,f.attributeNewValue,a);a.mapper.flushDeferredBindings();for(const f of a.mapper.flushUnboundMarkerNames()){const b=t.get(f).getRange();this._convertMarkerRemove(f,b,a),this._convertMarkerAdd(f,b,a)}for(const f of e.getMarkersToAdd())this._convertMarkerAdd(f.name,f.range,a);a.consumable.verifyAllConsumed("insert")}convert(e,t,n,a={}){const u=this._createConversionApi(n,void 0,a);this._convertInsert(e,u);for(const[f,b]of t)this._convertMarkerAdd(f,b,u);u.consumable.verifyAllConsumed("insert")}convertSelection(e,t,n){const a=this._createConversionApi(n);this.fire("cleanSelection",{selection:e},a);const u=e.getFirstPosition().root;if(!a.mapper.toViewElement(u))return;const f=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(a.consumable,e,f),this.fire("selection",{selection:e},a),e.isCollapsed){for(const b of f)if(a.consumable.test(e,"addMarker:"+b.name)){const w=b.getRange();if(!ha(e.getFirstPosition(),b,a.mapper))continue;const A={item:e,markerName:b.name,markerRange:w};this.fire(`addMarker:${b.name}`,A,a)}for(const b of e.getAttributeKeys())if(a.consumable.test(e,"attribute:"+b)){const w={item:e,range:e.getFirstRange(),attributeKey:b,attributeOldValue:null,attributeNewValue:e.getAttribute(b)};this.fire(`attribute:${b}:$text`,w,a)}}}_convertInsert(e,t,n={}){n.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,e);for(const a of Array.from(e.getWalker({shallow:!0})).map(dc))this._testAndFire("insert",a,t)}_convertRemove(e,t,n,a){this.fire(`remove:${n}`,{position:e,length:t},a)}_convertAttribute(e,t,n,a,u){this._addConsumablesForRange(u.consumable,e,`attribute:${t}`);for(const f of e){const b={item:f.item,range:et._createFromPositionAndShift(f.previousPosition,f.length),attributeKey:t,attributeOldValue:n,attributeNewValue:a};this._testAndFire(`attribute:${t}`,b,u)}}_convertReinsert(e,t){const n=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,n);for(const a of n.map(dc))this._testAndFire("insert",mi(Zn({},a),{reconversion:!0}),t)}_convertMarkerAdd(e,t,n){if(t.root.rootName=="$graveyard")return;const a=`addMarker:${e}`;if(n.consumable.add(t,a),this.fire(a,{markerName:e,markerRange:t},n),n.consumable.consume(t,a)){this._addConsumablesForRange(n.consumable,t,a);for(const u of t.getItems()){if(!n.consumable.test(u,a))continue;const f={item:u,range:et._createOn(u),markerName:e,markerRange:t};this.fire(a,f,n)}}}_convertMarkerRemove(e,t,n){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},n)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const n of t){const a=n.item;if(e.test(a,"insert")===null){e.add(a,"insert");for(const u of a.getAttributeKeys())e.add(a,"attribute:"+u)}}return e}_addConsumablesForRange(e,t,n){for(const a of t.getItems())e.add(a,n);return e}_addConsumablesForSelection(e,t,n){e.add(t,"selection");for(const a of n)e.add(t,"addMarker:"+a.name);for(const a of t.getAttributeKeys())e.add(t,"attribute:"+a);return e}_testAndFire(e,t,n){const a=function(w,A){const E=A.item.is("element")?A.item.name:"$text";return`${w}:${E}`}(e,t),u=t.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(t.item):t.item,f=this._firedEventsMap.get(n),b=f.get(u);if(b){if(b.has(a))return;b.add(a)}else f.set(u,new Set([a]));this.fire(a,t,n)}_testAndFireAddAttributes(e,t){const n={item:e,range:et._createOn(e)};for(const a of n.item.getAttributeKeys())n.attributeKey=a,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(a),this._testAndFire(`attribute:${a}`,n,t)}_createConversionApi(e,t=new Set,n={}){const a=mi(Zn({},this._conversionApi),{consumable:new ak,writer:e,options:n,convertItem:u=>this._convertInsert(et._createOn(u),a),convertChildren:u=>this._convertInsert(et._createIn(u),a,{doNotAddConsumables:!0}),convertAttributes:u=>this._testAndFireAddAttributes(u,a),canReuseView:u=>!t.has(a.mapper.toModelElement(u))});return this._firedEventsMap.set(a,new Map),a}}function ha(r,e,t){const n=e.getRange(),a=Array.from(r.getAncestors());return a.shift(),a.reverse(),!a.some(u=>{if(n.containsItem(u))return!!t.toViewElement(u).getCustomProperty("addHighlight")})}function dc(r){return{item:r.item,range:et._createFromPositionAndShift(r.previousPosition,r.length)}}class ks extends he(gs){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const a of e._ranges)if(t.isEqual(a)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new et(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new et(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new et(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,n,a]=e;if(typeof n=="object"&&(a=n,n=void 0),t===null)this._setRanges([]);else if(t instanceof ks)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof et)this._setRanges([t],!!a&&!!a.backward);else if(t instanceof At)this._setRanges([new et(t)]);else if(t instanceof Zc){const u=!!a&&!!a.backward;let f;if(n=="in")f=et._createIn(t);else if(n=="on")f=et._createOn(t);else{if(n===void 0)throw new q("model-selection-setto-required-second-parameter",[this,t]);f=new et(At._createAt(t,n))}this._setRanges([f],u)}else{if(!Qe(t))throw new q("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,a&&!!a.backward)}}_setRanges(e,t=!1){const n=Array.from(e),a=n.some(u=>{if(!(u instanceof et))throw new q("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(f=>!f.isEqual(u))});(n.length!==this._ranges.length||a)&&(this._replaceAllRanges(n),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new q("model-selection-setfocus-no-ranges",[this,e]);const n=At._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const a=this.anchor;this._ranges.length&&this._popRange(),n.compareWith(a)=="before"?(this._pushRange(new et(n,a)),this._lastRangeBackward=!0):(this._pushRange(new et(a,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const n=br(t.start,e);Qd(n,t)&&(yield n);for(const u of t.getWalker()){const f=u.item;u.type=="elementEnd"&&uc(f,e,t)&&(yield f)}const a=br(t.end,e);Yp(a,t)&&(yield a)}}containsEntireContent(e=this.anchor.root){const t=At._createAt(e,0),n=At._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new et(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new q("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function bf(r,e){return!e.has(r)&&(e.add(r),r.root.document.model.schema.isBlock(r)&&!!r.parent)}function uc(r,e,t){return bf(r,e)&&jl(r,t)}function br(r,e){const t=r.parent.root.document.model.schema,n=r.parent.getAncestors({parentFirst:!0,includeSelf:!0});let a=!1;const u=n.find(f=>!a&&(a=t.isLimit(f),!a&&bf(f,e)));return n.forEach(f=>e.add(f)),u}function jl(r,e){const t=function(n){const a=n.root.document.model.schema;let u=n.parent;for(;u;){if(a.isBlock(u))return u;u=u.parent}}(r);return t?!e.containsRange(et._createOn(t),!0):!0}function Qd(r,e){return!!r&&(!(!e.isCollapsed&&!r.isEmpty)||!e.start.isTouching(At._createAt(r,r.maxOffset))&&jl(r,e))}function Yp(r,e){return!!r&&(!(!e.isCollapsed&&!r.isEmpty)||!e.end.isTouching(At._createAt(r,0))&&jl(r,e))}ks.prototype.is=function(r){return r==="selection"||r==="model:selection"};class dr extends he(et){constructor(e,t){super(e,t),Yu.call(this)}detach(){this.stopListening()}toRange(){return new et(this.start,this.end)}static fromRange(e){return new dr(e.start,e.end)}}function Yu(){this.listenTo(this.root.document.model,"applyOperation",(r,e)=>{const t=e[0];t.isDocumentOperation&&Zh.call(this,t)},{priority:"low"})}function Zh(r){const e=this.getTransformedByOperation(r),t=et._createFromRanges(e),n=!t.isEqual(this),a=function(f,b){switch(b.type){case"insert":return f.containsPosition(b.position);case"move":case"remove":case"reinsert":case"merge":return f.containsPosition(b.sourcePosition)||f.start.isEqual(b.sourcePosition)||f.containsPosition(b.targetPosition);case"split":return f.containsPosition(b.splitPosition)||f.containsPosition(b.insertionPosition)}return!1}(this,r);let u=null;if(n){t.root.rootName=="$graveyard"&&(u=r.type=="remove"?r.sourcePosition:r.deletionPosition);const f=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",f,{deletionPosition:u})}else a&&this.fire("change:content",this.toRange(),{deletionPosition:u})}dr.prototype.is=function(r){return r==="liveRange"||r==="model:liveRange"||r=="range"||r==="model:range"};const Rs="selection:";class ma extends he(gs){constructor(e){super(),this._selection=new Gp(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Rs+e}static _isStoreAttributeKey(e){return e.startsWith(Rs)}}ma.prototype.is=function(r){return r==="selection"||r=="model:selection"||r=="documentSelection"||r=="model:documentSelection"};class Gp extends ks{constructor(e){super(),this.markers=new Po({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,n)=>{const a=n[0];a.isDocumentOperation&&a.type!="marker"&&a.type!="rename"&&a.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,n,a,u)=>{this._updateMarker(n,u)}),this.listenTo(this._document,"change",(t,n)=>{(function(a,u){const f=a.document.differ;for(const b of f.getChanges()){if(b.type!="insert")continue;const w=b.position.parent;b.length===w.maxOffset&&a.enqueueChange(u,A=>{const E=Array.from(w.getAttributeKeys()).filter(O=>O.startsWith(Rs));for(const O of E)A.removeAttribute(O,w)})}})(this._model,n)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const n=[e];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=ee();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new q("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new q("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=dr.fromRange(e);return t.on("change:range",(n,a,u)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=u.deletionPosition;const f=this._ranges.indexOf(t);this._ranges.splice(f,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const a of this._model.markers){const u=a.name.split(":",1)[0];if(!this._observedMarkers.has(u))continue;const f=a.getRange();for(const b of this.getRanges())f.containsRange(b,!b.isCollapsed)&&e.push(a)}const n=Array.from(this.markers);for(const a of e)this.markers.has(a)||(this.markers.add(a),t=!0);for(const a of Array.from(this.markers))e.includes(a)||(this.markers.remove(a),t=!0);t&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(e,t){const n=e.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let a=!1;const u=Array.from(this.markers),f=this.markers.has(e);if(t){let b=!1;for(const w of this.getRanges())if(t.containsRange(w,!w.isCollapsed)){b=!0;break}b&&!f?(this.markers.add(e),a=!0):!b&&f&&(this.markers.remove(e),a=!0)}else f&&(this.markers.remove(e),a=!0);a&&this.fire("change:marker",{oldMarkers:u,directChange:!1})}_updateAttributes(e){const t=no(this._getSurroundingAttributes()),n=no(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[u,f]of this._attributePriority)f=="low"&&(this._attrs.delete(u),this._attributePriority.delete(u));this._setAttributesTo(t);const a=[];for(const[u,f]of this.getAttributes())n.has(u)&&n.get(u)===f||a.push(u);for(const[u]of n)this.hasAttribute(u)||a.push(u);a.length>0&&this.fire("change:attribute",{attributeKeys:a,directChange:!1})}_setAttribute(e,t,n=!0){const a=n?"normal":"low";return a=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,a),!0)}_removeAttribute(e,t=!0){const n=t?"normal":"low";return(n!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,n),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const t=new Set;for(const[n,a]of this.getAttributes())e.get(n)!==a&&this._removeAttribute(n,!1);for(const[n,a]of e)this._setAttribute(n,a,!1)&&t.add(n);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(Rs)&&(yield[t.substr(10),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let n=null;if(this.isCollapsed){const a=e.textNode?e.textNode:e.nodeBefore,u=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=Jc(a,t)),n||(n=Jc(u,t)),!this.isGravityOverridden&&!n){let f=a;for(;f&&!n;)f=f.previousSibling,n=Jc(f,t)}if(!n){let f=u;for(;f&&!n;)f=f.nextSibling,n=Jc(f,t)}n||(n=this.getStoredAttributes())}else{const a=this.getFirstRange();for(const u of a){if(u.item.is("element")&&t.isObject(u.item)){n=Jc(u.item,t);break}if(u.type=="text"){n=u.item.getAttributes();break}}}return n}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function Jc(r,e){if(!r)return null;if(r instanceof bs||r instanceof Ri)return r.getAttributes();if(!e.isInline(r))return null;if(!e.isObject(r))return[];const t=[];for(const[n,a]of r.getAttributes())e.checkAttribute("$text",n)&&e.getAttributeProperties(n).copyFromObject!==!1&&t.push([n,a]);return t}class Xh{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class ed extends Xh{elementToElement(e){return this.add(function(t){const n=_f(t.model),a=Qu(t.view,"container");return n.attributes.length&&(n.children=!0),u=>{u.on(`insert:${n.name}`,Gu(a,$o(n)),{priority:t.converterPriority||"normal"}),(n.children||n.attributes.length)&&u.on("reduceChanges",Kp(n),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(t){const n=_f(t.model),a=Qu(t.view,"container");return n.children=!0,u=>{if(u._conversionApi.schema.checkChild(n.name,"$text"))throw new q("conversion-element-to-structure-disallowed-text",u,{elementName:n.name});var f,b;u.on(`insert:${n.name}`,(f=a,b=$o(n),(w,A,E)=>{if(!b(A.item,E.consumable,{preflight:!0}))return;const O=new Map;E.writer._registerSlotFactory(function(W,X,ae){return(ge,Me)=>{const Ze=ge.createContainerElement("$slot");let pt=null;if(Me==="children")pt=Array.from(W.getChildren());else{if(typeof Me!="function")throw new q("conversion-slot-mode-unknown",ae.dispatcher,{modeOrFilter:Me});pt=Array.from(W.getChildren()).filter(Vt=>Me(Vt))}return X.set(Ze,pt),Ze}}(A.item,O,E));const z=f(A.item,E,A);if(E.writer._clearSlotFactory(),!z)return;(function(W,X,ae){const ge=Array.from(X.values()).flat(),Me=new Set(ge);if(Me.size!=ge.length)throw new q("conversion-slot-filter-overlap",ae.dispatcher,{element:W});if(Me.size!=W.childCount)throw new q("conversion-slot-filter-incomplete",ae.dispatcher,{element:W})})(A.item,O,E),b(A.item,E.consumable);const U=E.mapper.toViewPosition(A.range.start);E.mapper.bindElements(A.item,z),E.writer.insert(U,z),E.convertAttributes(A.item),function(W,X,ae,ge){ae.mapper.on("modelToViewPosition",pt,{priority:"highest"});let Me=null,Ze=null;for([Me,Ze]of X)Qp(W,Ze,ae,ge),ae.writer.move(ae.writer.createRangeIn(Me),ae.writer.createPositionBefore(Me)),ae.writer.remove(Me);function pt(Vt,jn){const Fn=jn.modelPosition.nodeAfter,or=Ze.indexOf(Fn);or<0||(jn.viewPosition=jn.mapper.findPositionIn(Me,or))}ae.mapper.off("modelToViewPosition",pt)}(z,O,E,{reconversion:A.reconversion})}),{priority:t.converterPriority||"normal"}),u.on("reduceChanges",Kp(n),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(t){t=da(t);let n=t.model;typeof n=="string"&&(n={key:n});let a=`attribute:${n.key}`;if(n.name&&(a+=":"+n.name),n.values)for(const f of n.values)t.view[f]=Qu(t.view[f],"attribute");else t.view=Qu(t.view,"attribute");const u=Zu(t);return f=>{f.on(a,td(u),{priority:t.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=da(t);let n=t.model;typeof n=="string"&&(n={key:n});let a=`attribute:${n.key}`;if(n.name&&(a+=":"+n.name),n.values)for(const f of n.values)t.view[f]=vf(t.view[f]);else t.view=vf(t.view);const u=Zu(t);return f=>{var b;f.on(a,(b=u,(w,A,E)=>{if(!E.consumable.test(A.item,w.name))return;const O=b(A.attributeOldValue,E,A),z=b(A.attributeNewValue,E,A);if(!O&&!z)return;E.consumable.consume(A.item,w.name);const U=E.mapper.toViewElement(A.item),W=E.writer;if(!U)throw new q("conversion-attribute-to-attribute-on-text",E.dispatcher,A);if(A.attributeOldValue!==null&&O)if(O.key=="class"){const X=typeof O.value=="string"?O.value.split(/\s+/):O.value;for(const ae of X)W.removeClass(ae,U)}else if(O.key=="style")if(typeof O.value=="string"){const X=new Km(W.document.stylesProcessor);X.setTo(O.value);for(const[ae]of X.getStylesEntries())W.removeStyle(ae,U)}else{const X=Object.keys(O.value);for(const ae of X)W.removeStyle(ae,U)}else W.removeAttribute(O.key,U);if(A.attributeNewValue!==null&&z)if(z.key=="class"){const X=typeof z.value=="string"?z.value.split(/\s+/):z.value;for(const ae of X)W.addClass(ae,U)}else if(z.key=="style")if(typeof z.value=="string"){const X=new Km(W.document.stylesProcessor);X.setTo(z.value);for(const[ae,ge]of X.getStylesEntries())W.setStyle(ae,ge,U)}else{const X=Object.keys(z.value);for(const ae of X)W.setStyle(ae,z.value[ae],U)}else W.setAttribute(z.key,z.value,U)}),{priority:t.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(t){const n=Qu(t.view,"ui");return a=>{a.on(`addMarker:${t.model}`,Ku(n),{priority:t.converterPriority||"normal"}),a.on(`removeMarker:${t.model}`,(u,f,b)=>{const w=b.mapper.markerNameToElements(f.markerName);if(w){for(const A of w)b.mapper.unbindElementFromMarkerName(A,f.markerName),b.writer.clear(b.writer.createRangeOn(A),A);b.writer.clearClonedElementsGroup(f.markerName),u.stop()}},{priority:t.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(t){return n=>{var a;n.on(`addMarker:${t.model}`,(a=t.view,(u,f,b)=>{if(!f.item||!(f.item instanceof ks||f.item instanceof ma||f.item.is("$textProxy")))return;const w=xo(a,f,b);if(!w||!b.consumable.consume(f.item,u.name))return;const A=b.writer,E=_s(A,w),O=A.document.selection;if(f.item instanceof ks||f.item instanceof ma)A.wrap(O.getFirstRange(),E);else{const z=b.mapper.toViewRange(f.range),U=A.wrap(z,E);for(const W of U.getItems())if(W.is("attributeElement")&&W.isSimilar(E)){b.mapper.bindElementToMarker(W,f.markerName);break}}}),{priority:t.converterPriority||"normal"}),n.on(`addMarker:${t.model}`,function(u){return(f,b,w)=>{if(!b.item||!(b.item instanceof hi))return;const A=xo(u,b,w);if(!A||!w.consumable.test(b.item,f.name))return;const E=w.mapper.toViewElement(b.item);if(E&&E.getCustomProperty("addHighlight")){w.consumable.consume(b.item,f.name);for(const O of et._createIn(b.item))w.consumable.consume(O.item,f.name);E.getCustomProperty("addHighlight")(E,A,w.writer),w.mapper.bindElementToMarker(E,b.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),n.on(`removeMarker:${t.model}`,function(u){return(f,b,w)=>{if(b.markerRange.isCollapsed)return;const A=xo(u,b,w);if(!A)return;const E=_s(w.writer,A),O=w.mapper.markerNameToElements(b.markerName);if(O){for(const z of O)w.mapper.unbindElementFromMarkerName(z,b.markerName),z.is("attributeElement")?w.writer.unwrap(w.writer.createRangeOn(z),E):z.getCustomProperty("removeHighlight")(z,A.id,w.writer);w.writer.clearClonedElementsGroup(b.markerName),f.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(t){t=da(t);const n=t.model;let a=t.view;return a||(a=u=>({group:n,name:u.substr(t.model.length+1)})),u=>{var f;u.on(`addMarker:${n}`,(f=a,(b,w,A)=>{const E=f(w.markerName,A);if(!E)return;const O=w.markerRange;A.consumable.consume(O,b.name)&&(kf(O,!1,A,w,E),kf(O,!0,A,w,E),b.stop())}),{priority:t.converterPriority||"normal"}),u.on(`removeMarker:${n}`,function(b){return(w,A,E)=>{const O=b(A.markerName,E);if(!O)return;const z=E.mapper.markerNameToElements(A.markerName);if(z){for(const W of z)E.mapper.unbindElementFromMarkerName(W,A.markerName),W.is("containerElement")?(U(`data-${O.group}-start-before`,W),U(`data-${O.group}-start-after`,W),U(`data-${O.group}-end-before`,W),U(`data-${O.group}-end-after`,W)):E.writer.clear(E.writer.createRangeOn(W),W);E.writer.clearClonedElementsGroup(A.markerName),w.stop()}function U(W,X){if(X.hasAttribute(W)){const ae=new Set(X.getAttribute(W).split(","));ae.delete(O.name),ae.size==0?E.writer.removeAttribute(W,X):E.writer.setAttribute(W,Array.from(ae).join(","),X)}}}}(a),{priority:t.converterPriority||"normal"})}}(e))}}function _s(r,e){const t=r.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function td(r){return(e,t,n)=>{if(!n.consumable.test(t.item,e.name))return;const a=r(t.attributeOldValue,n,t),u=r(t.attributeNewValue,n,t);if(!a&&!u)return;n.consumable.consume(t.item,e.name);const f=n.writer,b=f.document.selection;if(t.item instanceof ks||t.item instanceof ma)f.wrap(b.getFirstRange(),u);else{let w=n.mapper.toViewRange(t.range);t.attributeOldValue!==null&&a&&(w=f.unwrap(w,a)),t.attributeNewValue!==null&&u&&f.wrap(w,u)}}}function Gu(r,e=Tw){return(t,n,a)=>{if(!e(n.item,a.consumable,{preflight:!0}))return;const u=r(n.item,a,n);if(!u)return;e(n.item,a.consumable);const f=a.mapper.toViewPosition(n.range.start);a.mapper.bindElements(n.item,u),a.writer.insert(f,u),a.convertAttributes(n.item),Qp(u,n.item.getChildren(),a,{reconversion:n.reconversion})}}function Ku(r){return(e,t,n)=>{t.isOpening=!0;const a=r(t,n);t.isOpening=!1;const u=r(t,n);if(!a||!u)return;const f=t.markerRange;if(f.isCollapsed&&!n.consumable.consume(f,e.name))return;for(const A of f)if(!n.consumable.consume(A.item,e.name))return;const b=n.mapper,w=n.writer;w.insert(b.toViewPosition(f.start),a),n.mapper.bindElementToMarker(a,t.markerName),f.isCollapsed||(w.insert(b.toViewPosition(f.end),u),n.mapper.bindElementToMarker(u,t.markerName)),e.stop()}}function kf(r,e,t,n,a){const u=e?r.start:r.end,f=u.nodeAfter&&u.nodeAfter.is("element")?u.nodeAfter:null,b=u.nodeBefore&&u.nodeBefore.is("element")?u.nodeBefore:null;if(f||b){let w,A;e&&f||!e&&!b?(w=f,A=!0):(w=b,A=!1);const E=t.mapper.toViewElement(w);if(E)return void function(O,z,U,W,X,ae){const ge=`data-${ae.group}-${z?"start":"end"}-${U?"before":"after"}`,Me=O.hasAttribute(ge)?O.getAttribute(ge).split(","):[];Me.unshift(ae.name),W.writer.setAttribute(ge,Me.join(","),O),W.mapper.bindElementToMarker(O,X.markerName)}(E,e,A,t,n,a)}(function(w,A,E,O,z){const U=`${z.group}-${A?"start":"end"}`,W=z.name?{name:z.name}:null,X=E.writer.createUIElement(U,W);E.writer.insert(w,X),E.mapper.bindElementToMarker(X,O.markerName)})(t.mapper.toViewPosition(u),e,t,n,a)}function _f(r){return typeof r=="string"&&(r={name:r}),{name:r.name,attributes:r.attributes?pn(r.attributes):[],children:!!r.children}}function Qu(r,e){return typeof r=="function"?r:(t,n)=>function(a,u,f){typeof a=="string"&&(a={name:a});let b;const w=u.writer,A=Object.assign({},a.attributes);if(f=="container")b=w.createContainerElement(a.name,A);else if(f=="attribute"){const E={priority:a.priority||Wc.DEFAULT_PRIORITY};b=w.createAttributeElement(a.name,A,E)}else b=w.createUIElement(a.name,A);if(a.styles){const E=Object.keys(a.styles);for(const O of E)w.setStyle(O,a.styles[O],b)}if(a.classes){const E=a.classes;if(typeof E=="string")w.addClass(E,b);else for(const O of E)w.addClass(O,b)}return b}(r,n,e)}function Zu(r){return r.model.values?(e,t,n)=>{const a=r.view[e];return a?a(e,t,n):null}:r.view}function vf(r){return typeof r=="string"?e=>({key:r,value:e}):typeof r=="object"?r.value?()=>r:e=>({key:r.key,value:e}):r}function xo(r,e,t){const n=typeof r=="function"?r(e,t):r;return n?(n.priority||(n.priority=10),n.id||(n.id=e.markerName),n):null}function Kp(r){const e=function(t){return(n,a)=>{if(!n.is("element",t.name))return!1;if(a.type=="attribute"){if(t.attributes.includes(a.attributeKey))return!0}else if(t.children)return!0;return!1}}(r);return(t,n)=>{const a=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const u of n.changes){const f=u.type=="attribute"?u.range.start.nodeAfter:u.position.parent;if(f&&e(f,u)){if(!n.reconvertedElements.has(f)){n.reconvertedElements.add(f);const b=At._createBefore(f);let w=a.length;for(let A=a.length-1;A>=0;A--){const E=a[A],O=(E.type=="attribute"?E.range.start:E.position).compareWith(b);if(O=="before"||E.type=="remove"&&O=="same")break;w=A}a.splice(w,0,{type:"remove",name:f.name,position:b,length:1},{type:"reinsert",name:f.name,position:b,length:1})}}else a.push(u)}n.changes=a}}function $o(r){return(e,t,n={})=>{const a=["insert"];for(const u of r.attributes)e.hasAttribute(u)&&a.push(`attribute:${u}`);return!!a.every(u=>t.test(e,u))&&(n.preflight||a.forEach(u=>t.consume(e,u)),!0)}}function Qp(r,e,t,n){for(const a of e)uk(r.root,a,t,n)||t.convertItem(a)}function uk(r,e,t,n){const{writer:a,mapper:u}=t;if(!n.reconversion)return!1;const f=u.toViewElement(e);return!(!f||f.root==r)&&!!t.canReuseView(f)&&(a.move(a.createRangeOn(f),u.toViewPosition(At._createBefore(e))),!0)}function Tw(r,e,{preflight:t}={}){return t?e.test(r,"insert"):e.consume(r,"insert")}function hc(r){const{schema:e,document:t}=r.model;for(const n of t.getRoots())if(n.isEmpty&&!e.checkChild(n,"$text")&&e.checkChild(n,"paragraph"))return r.insertElement("paragraph",n),!0;return!1}function Jh(r,e,t){const n=t.createContext(r);return!!t.checkChild(n,"paragraph")&&!!t.checkChild(n.push("paragraph"),e)}function wf(r,e){const t=e.createElement("paragraph");return e.insert(t,r),e.createPositionAt(t,0)}var Xu=Object.defineProperty,hk=Object.defineProperties,mk=Object.getOwnPropertyDescriptors,Zp=Object.getOwnPropertySymbols,Xp=Object.prototype.hasOwnProperty,Jp=Object.prototype.propertyIsEnumerable,fk=(r,e,t)=>e in r?Xu(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class Mw extends Xh{elementToElement(e){return this.add(pk(e))}elementToAttribute(e){return this.add(function(t){t=da(t),Zd(t);const n=em(t,!1),a=yf(t.view),u=a?`element:${a}`:"element";return f=>{f.on(u,n,{priority:t.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=da(t);let n=null;(typeof t.view=="string"||t.view.key)&&(n=function(u){typeof u.view=="string"&&(u.view={key:u.view});const f=u.view.key,b=u.view.value===void 0?/[\s\S]*/:u.view.value;let w;return f=="class"||f=="style"?w={[f=="class"?"classes":"styles"]:b}:w={attributes:{[f]:b}},u.view.name&&(w.name=u.view.name),u.view=w,f}(t)),Zd(t,n);const a=em(t,!0);return u=>{u.on("element",a,{priority:t.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(t){const n=function(f){return(b,w)=>{const A=typeof f=="string"?f:f(b,w);return w.writer.createElement("$marker",{"data-name":A})}}(t.model);return pk((a=((f,b)=>{for(var w in b||(b={}))Xp.call(b,w)&&fk(f,w,b[w]);if(Zp)for(var w of Zp(b))Jp.call(b,w)&&fk(f,w,b[w]);return f})({},t),u={model:n},hk(a,mk(u))));var a,u}(e))}dataToMarker(e){return this.add(function(t){t=da(t),t.model||(t.model=f=>f?t.view+":"+f:t.view);const n={view:t.view,model:t.model},a=xf(eg(n,"start")),u=xf(eg(n,"end"));return f=>{f.on(`element:${t.view}-start`,a,{priority:t.converterPriority||"normal"}),f.on(`element:${t.view}-end`,u,{priority:t.converterPriority||"normal"});const b=ne.low,w=ne.highest,A=ne.get(t.converterPriority)/w;f.on("element",function(E){return(O,z,U)=>{const W=`data-${E.view}`;function X(ae,ge){for(const Me of ge){const Ze=E.model(Me,U),pt=U.writer.createElement("$marker",{"data-name":Ze});U.writer.insert(pt,ae),z.modelCursor.isEqual(ae)?z.modelCursor=z.modelCursor.getShiftedBy(1):z.modelCursor=z.modelCursor._getTransformedByInsertion(ae,1),z.modelRange=z.modelRange._getTransformedByInsertion(ae,1)[0]}}(U.consumable.test(z.viewItem,{attributes:W+"-end-after"})||U.consumable.test(z.viewItem,{attributes:W+"-start-after"})||U.consumable.test(z.viewItem,{attributes:W+"-end-before"})||U.consumable.test(z.viewItem,{attributes:W+"-start-before"}))&&(z.modelRange||Object.assign(z,U.convertChildren(z.viewItem,z.modelCursor)),U.consumable.consume(z.viewItem,{attributes:W+"-end-after"})&&X(z.modelRange.end,z.viewItem.getAttribute(W+"-end-after").split(",")),U.consumable.consume(z.viewItem,{attributes:W+"-start-after"})&&X(z.modelRange.end,z.viewItem.getAttribute(W+"-start-after").split(",")),U.consumable.consume(z.viewItem,{attributes:W+"-end-before"})&&X(z.modelRange.start,z.viewItem.getAttribute(W+"-end-before").split(",")),U.consumable.consume(z.viewItem,{attributes:W+"-start-before"})&&X(z.modelRange.start,z.viewItem.getAttribute(W+"-start-before").split(",")))}}(n),{priority:b+A})}}(e))}}function pk(r){const e=xf(r=da(r)),t=yf(r.view),n=t?`element:${t}`:"element";return a=>{a.on(n,e,{priority:r.converterPriority||"normal"})}}function yf(r){return typeof r=="string"?r:typeof r=="object"&&typeof r.name=="string"?r.name:null}function xf(r){const e=new Vr(r.view);return(t,n,a)=>{const u=e.match(n.viewItem);if(!u)return;const f=u.match;if(f.name=!0,!a.consumable.test(n.viewItem,f))return;const b=function(w,A,E){return w instanceof Function?w(A,E):E.writer.createElement(w)}(r.model,n.viewItem,a);b&&a.safeInsert(b,n.modelCursor)&&(a.consumable.consume(n.viewItem,f),a.convertChildren(n.viewItem,b),a.updateConversionResult(b,n))}}function Zd(r,e=null){const t=e===null||(u=>u.getAttribute(e)),n=typeof r.model!="object"?r.model:r.model.key,a=typeof r.model!="object"||r.model.value===void 0?t:r.model.value;r.model={key:n,value:a}}function em(r,e){const t=new Vr(r.view);return(n,a,u)=>{if(!a.modelRange&&e)return;const f=t.match(a.viewItem);if(!f||(function(E,O){const z=typeof E=="function"?E(O):E;return typeof z=="object"&&!yf(z)?!1:!z.classes&&!z.attributes&&!z.styles}(r.view,a.viewItem)?f.match.name=!0:delete f.match.name,!u.consumable.test(a.viewItem,f.match)))return;const b=r.model.key,w=typeof r.model.value=="function"?r.model.value(a.viewItem,u):r.model.value;if(w===null)return;a.modelRange||Object.assign(a,u.convertChildren(a.viewItem,a.modelCursor)),function(E,O,z,U){let W=!1;for(const X of Array.from(E.getItems({shallow:z})))U.schema.checkAttribute(X,O.key)&&(W=!0,X.hasAttribute(O.key)||U.writer.setAttribute(O.key,O.value,X));return W}(a.modelRange,{key:b,value:w},e,u)&&(u.consumable.test(a.viewItem,{name:!0})&&(f.match.name=!0),u.consumable.consume(a.viewItem,f.match))}}function eg(r,e){return{view:`${r.view}-${e}`,model:(t,n)=>{const a=t.getAttribute("name"),u=r.model(a,n);return n.writer.createElement("$marker",{"data-name":u})}}}function gk(r){r.document.registerPostFixer(e=>function(t,n){const a=n.document.selection,u=n.schema,f=[];let b=!1;for(const w of a.getRanges()){const A=tg(w,u);A&&!A.isEqual(w)?(f.push(A),b=!0):f.push(w)}return b&&t.setSelection(function(w){const A=[...w],E=new Set;let O=1;for(;O<A.length;){const z=A[O],U=A.slice(0,O);for(const[W,X]of U.entries())if(!E.has(W)){if(z.isEqual(X))E.add(W);else if(z.isIntersecting(X)){E.add(W),E.add(O);const ae=z.getJoined(X);A.push(ae)}}O++}return A.filter((z,U)=>!E.has(U))}(f),{backward:a.isBackward}),!1}(e,r))}function tg(r,e){return r.isCollapsed?function(t,n){const a=t.start,u=n.getNearestSelectionRange(a);if(!u){const b=a.getAncestors().reverse().find(w=>n.isObject(w));return b?et._createOn(b):null}if(!u.isCollapsed)return u;const f=u.start;return a.isEqual(f)?null:new et(f)}(r,e):function(t,n){const{start:a,end:u}=t,f=n.checkChild(a,"$text"),b=n.checkChild(u,"$text"),w=n.getLimitElement(a),A=n.getLimitElement(u);if(w===A){if(f&&b)return null;if(function(z,U,W){const X=z.nodeAfter&&!W.isLimit(z.nodeAfter)||W.checkChild(z,"$text"),ae=U.nodeBefore&&!W.isLimit(U.nodeBefore)||W.checkChild(U,"$text");return X||ae}(a,u,n)){const z=a.nodeAfter&&n.isSelectable(a.nodeAfter)?null:n.getNearestSelectionRange(a,"forward"),U=u.nodeBefore&&n.isSelectable(u.nodeBefore)?null:n.getNearestSelectionRange(u,"backward"),W=z?z.start:a,X=U?U.end:u;return new et(W,X)}}const E=w&&!w.is("rootElement"),O=A&&!A.is("rootElement");if(E||O){const z=a.nodeAfter&&u.nodeBefore&&a.nodeAfter.parent===u.nodeBefore.parent,U=E&&(!z||!ig(a.nodeAfter,n)),W=O&&(!z||!ig(u.nodeBefore,n));let X=a,ae=u;return U&&(X=At._createBefore(ng(w,n))),W&&(ae=At._createAfter(ng(A,n))),new et(X,ae)}return null}(r,e)}function ng(r,e){let t=r,n=t;for(;e.isLimit(n)&&n.parent;)t=n,n=n.parent;return t}function ig(r,e){return r&&e.isSelectable(r)}class bk extends Oe(){constructor(e,t){super(),this.model=e,this.view=new ua(t),this.mapper=new Wp,this.downcastDispatcher=new Ii({mapper:this.mapper,schema:e.schema});const n=this.model.document,a=n.selection,u=this.model.markers;var f,b,w;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(A=>{this.downcastDispatcher.convertChanges(n.differ,u,A),this.downcastDispatcher.convertSelection(a,u,A)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(A,E){return(O,z)=>{const U=z.newSelection,W=[];for(const ae of U.getRanges())W.push(E.toModelRange(ae));const X=A.createSelection(W,{backward:U.isBackward});X.isEqual(A.document.selection)||A.change(ae=>{ae.setSelection(X)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(f=this.mapper,b=this.model.schema,w=this.view,(A,E)=>{if(!w.document.isComposing||S.isAndroid)for(let O=0;O<E.targetRanges.length;O++){const z=E.targetRanges[O],U=f.toModelRange(z),W=tg(U,b);W&&!W.isEqual(U)&&(E.targetRanges[O]=f.toViewRange(W))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(A,E,O)=>{if(!O.consumable.consume(E.item,A.name))return;const z=O.writer,U=O.mapper.toViewPosition(E.range.start),W=z.createText(E.item.data);z.insert(U,W)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(A,E,O)=>{O.convertAttributes(E.item),E.reconversion||!E.item.is("element")||E.item.isEmpty||O.convertChildren(E.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(A,E,O)=>{const z=O.mapper.toViewPosition(E.position),U=E.position.getShiftedBy(E.length),W=O.mapper.toViewPosition(U,{isPhantom:!0}),X=O.writer.createRange(z,W),ae=O.writer.remove(X.getTrimmed());for(const ge of O.writer.createRangeIn(ae).getItems())O.mapper.unbindViewElement(ge,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(A,E,O)=>{const z=O.writer,U=z.document.selection;for(const W of U.getRanges())W.isCollapsed&&W.end.parent.isAttached()&&O.writer.mergeAttributes(W.start);z.setSelection(null)}),this.downcastDispatcher.on("selection",(A,E,O)=>{const z=E.selection;if(z.isCollapsed||!O.consumable.consume(z,"selection"))return;const U=[];for(const W of z.getRanges())U.push(O.mapper.toViewRange(W));O.writer.setSelection(U,{backward:z.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(A,E,O)=>{const z=E.selection;if(!z.isCollapsed||!O.consumable.consume(z,"selection"))return;const U=O.writer,W=z.getFirstPosition(),X=O.mapper.toViewPosition(W),ae=U.breakAttributes(X);U.setSelection(ae)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(A=>{if(A.rootName=="$graveyard")return null;const E=new Ep(this.view.document,A.name);return E.rootName=A.rootName,this.mapper.bindElements(A,E),E})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,n=this.model.markers.get(t);if(!n)throw new q("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(n)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class nd{constructor(){this._consumables=new Map}add(e,t){let n;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?n=this._consumables.get(e):(n=new kk(e),this._consumables.set(e,n)),n.add(t))}test(e,t){const n=this._consumables.get(e);return n===void 0?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const n=this._consumables.get(e);n!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},n=e.getAttributeKeys();for(const f of n)f!="style"&&f!="class"&&t.attributes.push(f);const a=e.getClassNames();for(const f of a)t.classes.push(f);const u=e.getStyleNames();for(const f of u)t.styles.push(f);return t}static createFrom(e,t){if(t||(t=new nd),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,nd.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const n of e.getChildren())t=nd.createFrom(n,t);return t}}const tm=["attributes","classes","styles"];class kk{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of tm)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of tm)if(t in e){const n=this._test(t,e[t]);if(n!==!0)return n}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of tm)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of tm)t in e&&this._revert(t,e[t])}_add(e,t){const n=pn(t),a=this._consumables[e];for(const u of n){if(e==="attributes"&&(u==="class"||u==="style"))throw new q("viewconsumable-invalid-attribute",this);if(a.set(u,!0),e==="styles")for(const f of this.element.document.stylesProcessor.getRelatedStyles(u))a.set(f,!0)}}_test(e,t){const n=pn(t),a=this._consumables[e];for(const u of n)if(e!=="attributes"||u!=="class"&&u!=="style"){const f=a.get(u);if(f===void 0)return null;if(!f)return!1}else{const f=u=="class"?"classes":"styles",b=this._test(f,[...this._consumables[f].keys()]);if(b!==!0)return b}return!0}_consume(e,t){const n=pn(t),a=this._consumables[e];for(const u of n)if(e!=="attributes"||u!=="class"&&u!=="style"){if(a.set(u,!1),e=="styles")for(const f of this.element.document.stylesProcessor.getRelatedStyles(u))a.set(f,!1)}else{const f=u=="class"?"classes":"styles";this._consume(f,[...this._consumables[f].keys()])}}_revert(e,t){const n=pn(t),a=this._consumables[e];for(const u of n)if(e!=="attributes"||u!=="class"&&u!=="style")a.get(u)===!1&&a.set(u,!0);else{const f=u=="class"?"classes":"styles";this._revert(f,[...this._consumables[f].keys()])}}}class Qi extends Oe(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new mc(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new mc(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new q("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new q("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!!t&&!(!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!!t&&!(!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const n=this.getDefinition(e.last);return!!n&&n.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof At){const n=e.nodeBefore,a=e.nodeAfter;if(!(n instanceof hi))throw new q("schema-check-merge-no-element-before",this);if(!(a instanceof hi))throw new q("schema-check-merge-no-element-after",this);return this.checkMerge(n,a)}for(const n of t.getChildren())if(!this.checkChild(e,n))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[n,a])=>{if(!a)return;const u=e(n,a);typeof u=="boolean"&&(t.stop(),t.return=u)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[n,a])=>{const u=e(n,a);typeof u=="boolean"&&(t.stop(),t.return=u)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof At?t=e.parent:t=(e instanceof et?[e]:Array.from(e.getRanges())).reduce((n,a)=>{const u=a.getCommonAncestor();return n?n.getCommonAncestor(u,{includeSelf:!0}):u},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const n=[...e.getFirstPosition().getAncestors(),new Ri("",e.getAttributes())];return this.checkAttribute(n,t)}{const n=e.getRanges();for(const a of n)for(const u of a)if(this.checkAttribute(u.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(n){for(const a of n)yield*a.getMinimalFlatRanges()}(e);for(const n of e)yield*this._getValidRangesForRange(n,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new et(e);let n,a;const u=e.getAncestors().reverse().find(f=>this.isLimit(f))||e.root;t!="both"&&t!="backward"||(n=new oo({boundaries:et._createIn(u),startPosition:e,direction:"backward"})),t!="both"&&t!="forward"||(a=new oo({boundaries:et._createIn(u),startPosition:e}));for(const f of function*(b,w){let A=!1;for(;!A;){if(A=!0,b){const E=b.next();E.done||(A=!1,yield{walker:b,value:E.value})}if(w){const E=w.next();E.done||(A=!1,yield{walker:w,value:E.value})}}}(n,a)){const b=f.walker==n?"elementEnd":"elementStart",w=f.value;if(w.type==b&&this.isObject(w.item))return et._createOn(w.item);if(this.checkChild(w.nextPosition,"$text"))return new et(w.nextPosition)}return null}findAllowedParent(e,t){let n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(e,t,n){const a=n.model;for(const[u,f]of Object.entries(t))a.schema.checkAttribute(e,u)&&n.setAttribute(u,f,e)}removeDisallowedAttributes(e,t){for(const n of e)if(n.is("$text"))eh(this,n,t);else{const a=et._createIn(n).getPositions();for(const u of a)eh(this,u.nodeBefore||u.parent,t)}}getAttributesWithProperty(e,t,n){const a={};for(const[u,f]of e.getAttributes()){const b=this.getAttributeProperties(u);b[t]!==void 0&&(n!==void 0&&n!==b[t]||(a[u]=f))}return a}createContext(e){return new mc(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,n=Object.keys(t);for(const a of n)e[a]=Iw(t[a],a);for(const a of n)_k(e,a);for(const a of n)Ow(e,a);for(const a of n)Lw(e,a);for(const a of n)Bw(e,a),Cf(e,a);for(const a of n)Ju(e,a),rg(e,a),Af(e,a);this._compiledDefinitions=e}_checkContextMatch(e,t,n=t.length-1){const a=t.getItem(n);if(e.allowIn.includes(a.name)){if(n==0)return!0;{const u=this.getDefinition(a);return this._checkContextMatch(u,t,n-1)}}return!1}*_getValidRangesForRange(e,t){let n=e.start,a=e.start;for(const u of e.getItems({shallow:!0}))u.is("element")&&(yield*this._getValidRangesForRange(et._createIn(u),t)),this.checkAttribute(u,t)||(n.isEqual(a)||(yield new et(n,a)),n=At._createAfter(u)),a=At._createAfter(u);n.isEqual(a)||(yield new et(n,a))}findOptimalInsertionRange(e,t){const n=e.getSelectedElement();if(n&&this.isObject(n)&&!this.isInline(n))return t=="before"||t=="after"?new et(At._createAt(n,t)):et._createOn(n);const a=Wn(e.getSelectedBlocks());if(!a)return new et(e.focus);if(a.isEmpty)return new et(At._createAt(a,0));const u=At._createAfter(a);return e.focus.isTouching(u)?new et(u):new et(At._createBefore(a))}}class mc{constructor(e){if(e instanceof mc)return e;let t;t=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(Dl)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new mc([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function Iw(r,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(n,a){for(const u of n){const f=Object.keys(u).filter(b=>b.startsWith("is"));for(const b of f)a[b]=!!u[b]}}(r,t),fc(r,t,"allowIn"),fc(r,t,"allowContentOf"),fc(r,t,"allowWhere"),fc(r,t,"allowAttributes"),fc(r,t,"allowAttributesOf"),fc(r,t,"allowChildren"),fc(r,t,"inheritTypesFrom"),function(n,a){for(const u of n){const f=u.inheritAllFrom;f&&(a.allowContentOf.push(f),a.allowWhere.push(f),a.allowAttributesOf.push(f),a.inheritTypesFrom.push(f))}}(r,t),t}function _k(r,e){const t=r[e];for(const n of t.allowChildren){const a=r[n];a&&a.allowIn.push(e)}t.allowChildren.length=0}function Ow(r,e){for(const t of r[e].allowContentOf)r[t]&&Xd(r,t).forEach(n=>{n.allowIn.push(e)});delete r[e].allowContentOf}function Lw(r,e){for(const t of r[e].allowWhere){const n=r[t];if(n){const a=n.allowIn;r[e].allowIn.push(...a)}}delete r[e].allowWhere}function Bw(r,e){for(const t of r[e].allowAttributesOf){const n=r[t];if(n){const a=n.allowAttributes;r[e].allowAttributes.push(...a)}}delete r[e].allowAttributesOf}function Cf(r,e){const t=r[e];for(const n of t.inheritTypesFrom){const a=r[n];if(a){const u=Object.keys(a).filter(f=>f.startsWith("is"));for(const f of u)f in t||(t[f]=a[f])}}delete t.inheritTypesFrom}function Ju(r,e){const t=r[e],n=t.allowIn.filter(a=>r[a]);t.allowIn=Array.from(new Set(n))}function rg(r,e){const t=r[e];for(const n of t.allowIn)r[n].allowChildren.push(e)}function Af(r,e){const t=r[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function fc(r,e,t){for(const n of r){const a=n[t];typeof a=="string"?e[t].push(a):Array.isArray(a)&&e[t].push(...a)}}function Xd(r,e){const t=r[e];return(n=r,Object.keys(n).map(a=>n[a])).filter(a=>a.allowIn.includes(t.name));var n}function Dl(r){return typeof r=="string"||r.is("documentFragment")?{name:typeof r=="string"?r:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:r.is("element")?r.name:"$text",*getAttributeKeys(){yield*r.getAttributeKeys()},getAttribute:e=>r.getAttribute(e)}}function eh(r,e,t){for(const n of e.getAttributeKeys())r.checkAttribute(e,n)||t.removeAttribute(n,e)}var Rw=Object.defineProperty,vk=Object.defineProperties,wk=Object.getOwnPropertyDescriptors,sg=Object.getOwnPropertySymbols,yk=Object.prototype.hasOwnProperty,Pw=Object.prototype.propertyIsEnumerable,Nf=(r,e,t)=>e in r?Rw(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class xk extends he(){constructor(e){var t;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(t=((n,a)=>{for(var u in a||(a={}))yk.call(a,u)&&Nf(n,u,a[u]);if(sg)for(var u of sg(a))Pw.call(a,u)&&Nf(n,u,a[u]);return n})({},e),vk(t,wk({consumable:null,writer:null,store:null,convertItem:(n,a)=>this._convertItem(n,a),convertChildren:(n,a)=>this._convertChildren(n,a),safeInsert:(n,a)=>this._safeInsert(n,a),updateConversionResult:(n,a)=>this._updateConversionResult(n,a),splitToAllowedParent:(n,a)=>this._splitToAllowedParent(n,a),getSplitParts:n=>this._getSplitParts(n),keepEmptyElement:n=>this._keepEmptyElement(n)})))}convert(e,t,n=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(f,b){let w;for(const A of new mc(f)){const E={};for(const z of A.getAttributeKeys())E[z]=A.getAttribute(z);const O=b.createElement(A.name,E);w&&b.insert(O,w),w=At._createAt(O,0)}return w}(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=nd.createFrom(e),this.conversionApi.store={};const{modelRange:a}=this._convertItem(e,this._modelCursor),u=t.createDocumentFragment();if(a){this._removeEmptyElements();for(const f of Array.from(this._modelCursor.parent.getChildren()))t.append(f,u);u.markers=function(f,b){const w=new Set,A=new Map,E=et._createIn(f).getItems();for(const O of E)O.is("element","$marker")&&w.add(O);for(const O of w){const z=O.getAttribute("data-name"),U=b.createPositionBefore(O);A.has(z)?A.get(z).end=U.clone():A.set(z,new et(U.clone())),b.remove(O)}return A}(u,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,u}_convertItem(e,t){const n={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,n,this.conversionApi):e.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof et))throw new q("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(e,t){let n=t.is("position")?t:At._createAt(t,0);const a=new et(n);for(const u of Array.from(e.getChildren())){const f=this._convertItem(u,n);f.modelRange instanceof et&&(a.end=f.modelRange.end,n=f.modelCursor)}return{modelRange:a,modelCursor:n}}_safeInsert(e,t){const n=this._splitToAllowedParent(e,t);return!!n&&(this.conversionApi.writer.insert(e,n.position),!0)}_updateConversionResult(e,t){const n=this._getSplitParts(e),a=this.conversionApi.writer;t.modelRange||(t.modelRange=a.createRange(a.createPositionBefore(e),a.createPositionAfter(n[n.length-1])));const u=this._cursorParents.get(e);t.modelCursor=u?a.createPositionAt(u,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:n,writer:a}=this.conversionApi;let u=n.findAllowedParent(t,e);if(u){if(u===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(u)&&(u=null)}if(!u)return Jh(t,e,n)?{position:wf(t,a)}:null;const f=this.conversionApi.writer.split(t,u),b=[];for(const A of f.range.getWalker())if(A.type=="elementEnd")b.push(A.item);else{const E=b.pop(),O=A.item;this._registerSplitPair(E,O)}const w=f.range.end.parent;return this._cursorParents.set(e,w),{position:f.position,cursorParent:w}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class Ck{getHtml(e){const t=y.document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class zw{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Uh(e,{renderingMode:"data"}),this.htmlWriter=new Ck}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),a=t.body.childNodes;for(;a.length>0;)n.appendChild(a[0]);return n}}class og extends he(){constructor(e,t){super(),this.model=e,this.mapper=new Wp,this.downcastDispatcher=new Ii({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(n,a,u)=>{if(!u.consumable.consume(a.item,n.name))return;const f=u.writer,b=u.mapper.toViewPosition(a.range.start),w=f.createText(a.item.data);f.insert(b,w)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(n,a,u)=>{u.convertAttributes(a.item),a.reconversion||!a.item.is("element")||a.item.isEmpty||u.convertChildren(a.item)},{priority:"lowest"}),this.upcastDispatcher=new xk({schema:e.schema}),this.viewDocument=new Ph(t),this.stylesProcessor=t,this.htmlProcessor=new zw(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Dp(this.viewDocument),this.upcastDispatcher.on("text",(n,a,{schema:u,consumable:f,writer:b})=>{let w=a.modelCursor;if(!f.test(a.viewItem))return;if(!u.checkChild(w,"$text")){if(!Jh(w,"$text",u)||a.viewItem.data.trim().length==0)return;const E=w.nodeBefore;w=wf(w,b),E&&E.is("element","$marker")&&(b.move(b.createRangeOn(E),w),w=b.createPositionAfter(E))}f.consume(a.viewItem);const A=b.createText(a.viewItem.data);b.insert(A,w),a.modelRange=b.createRange(w,w.getShiftedBy(A.offsetSize)),a.modelCursor=a.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(n,a,u)=>{if(!a.modelRange&&u.consumable.consume(a.viewItem,{name:!0})){const{modelRange:f,modelCursor:b}=u.convertChildren(a.viewItem,a.modelCursor);a.modelRange=f,a.modelCursor=b}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(n,a,u)=>{if(!a.modelRange&&u.consumable.consume(a.viewItem,{name:!0})){const{modelRange:f,modelCursor:b}=u.convertChildren(a.viewItem,a.modelCursor);a.modelRange=f,a.modelCursor=b}},{priority:"lowest"}),Oe().prototype.decorate.call(this,"init"),Oe().prototype.decorate.call(this,"set"),Oe().prototype.decorate.call(this,"get"),Oe().prototype.decorate.call(this,"toView"),Oe().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},hc)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:n="empty"}=e;if(!this._checkIfRootsExists([t]))throw new q("datacontroller-get-non-existent-root",this);const a=this.model.document.getRoot(t);return a.isAttached()||de("datacontroller-get-detached-root",this),n!=="empty"||this.model.hasContent(a,{ignoreWhitespaces:!0})?this.stringify(a,e):""}stringify(e,t={}){const n=this.toView(e,t);return this.processor.toData(n)}toView(e,t={}){const n=this.viewDocument,a=this._viewWriter;this.mapper.clearBindings();const u=et._createIn(e),f=new Yc(n);this.mapper.bindElements(e,f);const b=e.is("documentFragment")?e.markers:function(w){const A=[],E=w.root.document;if(!E)return new Map;const O=et._createIn(w);for(const z of E.model.markers){const U=z.getRange(),W=U.isCollapsed,X=U.start.isEqual(O.start)||U.end.isEqual(O.end);if(W&&X)A.push([z.name,U]);else{const ae=O.getIntersection(U);ae&&A.push([z.name,ae])}}return A.sort(([z,U],[W,X])=>{if(U.end.compareWith(X.start)!=="after")return 1;if(U.start.compareWith(X.end)!=="before")return-1;switch(U.start.compareWith(X.start)){case"before":return 1;case"after":return-1;default:switch(U.end.compareWith(X.end)){case"before":return 1;case"after":return-1;default:return W.localeCompare(z)}}}),new Map(A)}(e);return this.downcastDispatcher.convert(u,b,a,t),f}init(e){if(this.model.document.version)throw new q("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new q("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},n=>{for(const a of Object.keys(t)){const u=this.model.document.getRoot(a);n.insert(this.parse(t[a],u),u,0)}}),Promise.resolve()}set(e,t={}){let n={};if(typeof e=="string"?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new q("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},a=>{a.setSelection(null),a.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const u of Object.keys(n)){const f=this.model.document.getRoot(u);a.remove(a.createRangeIn(f)),a.insert(this.parse(n[u],f),f,0)}})}parse(e,t="$root"){const n=this.processor.toView(e);return this.toModel(n,t)}toModel(e,t="$root"){return this.model.change(n=>this.upcastDispatcher.convert(e,n,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}class ag{constructor(e,t){this._helpers=new Map,this._downcast=pn(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=pn(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new q("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}for(e){if(!this._helpers.has(e))throw new q("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:n}of lg(e))this.for("upcast").elementToElement({model:t,view:n,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:n}of lg(e))this.for("upcast").elementToAttribute({view:n,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:n}of lg(e))this.for("upcast").attributeToAttribute({view:n,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:n}){if(this._helpers.has(e))throw new q("conversion-group-exists",this);const a=n?new ed(t):new Mw(t);this._helpers.set(e,a)}}function*lg(r){if(r.model.values)for(const e of r.model.values){const t={key:r.model.key,value:e},n=r.view[e],a=r.upcastAlso?r.upcastAlso[e]:void 0;yield*Ak(t,n,a)}else yield*Ak(r.model,r.view,r.upcastAlso)}function*Ak(r,e,t){if(yield{model:r,view:e},t)for(const n of pn(t))yield{model:r,view:n}}class Ps{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function cg(r,e){const t=Ef(e),n=t.reduce((f,b)=>f+b.offsetSize,0),a=r.parent;Jd(r);const u=r.index;return a._insertChild(u,t),id(a,u+t.length),id(a,u),new et(r,r.getShiftedBy(n))}function dg(r){if(!r.isFlat)throw new q("operation-utils-remove-range-not-flat",this);const e=r.start.parent;Jd(r.start),Jd(r.end);const t=e._removeChildren(r.start.index,r.end.index-r.start.index);return id(e,r.start.index),t}function Un(r,e){if(!r.isFlat)throw new q("operation-utils-move-range-not-flat",this);const t=dg(r);return cg(e=e._getTransformedByDeletion(r.start,r.end.offset-r.start.offset),t)}function Ef(r){const e=[];(function t(n){if(typeof n=="string")e.push(new Ri(n));else if(n instanceof bs)e.push(new Ri(n.data,n.getAttributes()));else if(n instanceof Zc)e.push(n);else if(Qe(n))for(const a of n)t(a)})(r);for(let t=1;t<e.length;t++){const n=e[t],a=e[t-1];n instanceof Ri&&a instanceof Ri&&ug(n,a)&&(e.splice(t-1,2,new Ri(a.data+n.data,a.getAttributes())),t--)}return e}function id(r,e){const t=r.getChild(e-1),n=r.getChild(e);if(t&&n&&t.is("$text")&&n.is("$text")&&ug(t,n)){const a=new Ri(t.data+n.data,t.getAttributes());r._removeChildren(e-1,2),r._insertChild(e-1,a)}}function Jd(r){const e=r.textNode,t=r.parent;if(e){const n=r.offset-e.startOffset,a=e.index;t._removeChildren(a,1);const u=new Ri(e.data.substr(0,n),e.getAttributes()),f=new Ri(e.data.substr(n),e.getAttributes());t._insertChild(a,[u,f])}}function ug(r,e){const t=r.getAttributes(),n=e.getAttributes();for(const a of t){if(a[1]!==e.getAttribute(a[0]))return!1;n.next()}return n.next().done}class fi extends Ps{constructor(e,t,n,a){super(a),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[et._createFromPositionAndShift(this.sourcePosition,this.howMany),et._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new fi(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new fi(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,a=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new q("move-operation-nodes-do-not-exist",this);if(e===t&&n<a&&a<n+this.howMany)throw new q("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Dt(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const u=this.sourcePosition.path.length-1;if(this.targetPosition.path[u]>=n&&this.targetPosition.path[u]<n+this.howMany)throw new q("move-operation-node-into-itself",this)}}_execute(){Un(et._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const n=At.fromJSON(e.sourcePosition,t),a=At.fromJSON(e.targetPosition,t);return new this(n,e.howMany,a,e.baseVersion)}}class yr extends Ps{constructor(e,t,n){super(n),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Bs(Ef(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Bs([...this.nodes].map(n=>n._clone(!0))),t=new yr(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new At(e,[0]);return new fi(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new q("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Bs([...e].map(t=>t._clone(!0))),cg(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const n=[];for(const u of e.nodes)u.name?n.push(hi.fromJSON(u)):n.push(Ri.fromJSON(u));const a=new yr(At.fromJSON(e.position,t),n,e.baseVersion);return a.shouldReceiveAttributes=e.shouldReceiveAttributes,a}}class Ei extends Ps{constructor(e,t,n,a,u){super(u),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=n,this.graveyardPosition=a?a.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new At(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new et(this.splitPosition,e)}get affectedSelectable(){const e=[et._createFromPositionAndShift(this.splitPosition,0),et._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(et._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new Ei(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new At(e,[0]);return new Zi(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new q("split-operation-position-invalid",this);if(!e.parent)throw new q("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new q("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new q("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Un(et._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();cg(this.insertionPosition,t)}Un(new et(At._createAt(e,this.splitPosition.offset),At._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new At(e.root,t,"toPrevious")}static fromJSON(e,t){const n=At.fromJSON(e.splitPosition,t),a=At.fromJSON(e.insertionPosition,t),u=e.graveyardPosition?At.fromJSON(e.graveyardPosition,t):null;return new this(n,e.howMany,a,u,e.baseVersion)}}class Zi extends Ps{constructor(e,t,n,a,u){super(u),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=a.clone()}get type(){return"merge"}get deletionPosition(){return new At(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new et(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[et._createOn(e),et._createFromPositionAndShift(this.targetPosition,0),et._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Zi(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new At(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new Ei(e,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new q("merge-operation-source-position-invalid",this);if(!t.parent)throw new q("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new q("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;Un(et._createIn(e),this.targetPosition),Un(et._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const n=At.fromJSON(e.sourcePosition,t),a=At.fromJSON(e.targetPosition,t),u=At.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,a,u,e.baseVersion)}}class Co extends Ps{constructor(e,t,n,a,u,f){super(f),this.name=e,this.oldRange=t?t.clone():null,this.newRange=n?n.clone():null,this.affectsData=u,this._markers=a}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new Co(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Co(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new Co(e.name,e.oldRange?et.fromJSON(e.oldRange,t):null,e.newRange?et.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}const Nk=function(r,e){return qu(r,e)};class Ir extends Ps{constructor(e,t,n,a,u){super(u),this.range=e.clone(),this.key=t,this.oldValue=n===void 0?null:n,this.newValue=a===void 0?null:a}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Ir(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Ir(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new q("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!Nk(e.getAttribute(this.key),this.oldValue))throw new q("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new q("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){Nk(this.oldValue,this.newValue)||function(e,t,n){Jd(e.start),Jd(e.end);for(const a of e.getItems({shallow:!0})){const u=a.is("$textProxy")?a.textNode:a;n!==null?u._setAttribute(t,n):u._removeAttribute(t),id(u.parent,u.index)}id(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new Ir(et.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Hr extends Ps{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Hr(this.baseVersion)}getReversed(){return new Hr(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Ao extends Ps{constructor(e,t,n,a){super(a),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=n}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Ao(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Ao(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof hi))throw new q("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new q("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new Ao(At.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class ja extends Ps{constructor(e,t,n,a,u){super(u),this.root=e,this.key=t,this.oldValue=n===void 0?null:n,this.newValue=a===void 0?null:a}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new ja(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new ja(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new q("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new q("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new q("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new q("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new ja(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class oi extends Ps{constructor(e,t,n,a,u){super(u),this.rootName=e,this.elementName=t,this.isAdd=n,this._document=a,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new oi(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new oi(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new oi(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const qo={};qo[Ir.className]=Ir,qo[yr.className]=yr,qo[Co.className]=Co,qo[fi.className]=fi,qo[Hr.className]=Hr,qo[Ps.className]=Ps,qo[Ao.className]=Ao,qo[ja.className]=ja,qo[oi.className]=oi,qo[Ei.className]=Ei,qo[Zi.className]=Zi;class zs{static fromJSON(e,t){return qo[e.__className].fromJSON(e,t)}}const hg=new Map;function ci(r,e,t){let n=hg.get(r);n||(n=new Map,hg.set(r,n)),n.set(e,t)}function mg(r){return[r]}function nm(r,e,t={}){const n=function(a,u){const f=hg.get(a);return f&&f.has(u)?f.get(u):mg}(r.constructor,e.constructor);try{return n(r=r.clone(),e,t)}catch(a){throw a}}function Ek(r,e,t){r=r.slice(),e=e.slice();const n=new Sk(t.document,t.useRelations,t.forceWeakRemove);n.setOriginalOperations(r),n.setOriginalOperations(e);const a=n.originalOperations;if(r.length==0||e.length==0)return{operationsA:r,operationsB:e,originalOperations:a};const u=new WeakMap;for(const w of r)u.set(w,0);const f={nextBaseVersionA:r[r.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:r.length,originalOperationsBCount:e.length};let b=0;for(;b<r.length;){const w=r[b],A=u.get(w);if(A==e.length){b++;continue}const E=e[A],O=nm(w,E,n.getContext(w,E,!0)),z=nm(E,w,n.getContext(E,w,!1));n.updateRelation(w,E),n.setOriginalOperations(O,w),n.setOriginalOperations(z,E);for(const U of O)u.set(U,A+z.length);r.splice(b,1,...O),e.splice(A,1,...z)}return Sf(r,f.nextBaseVersionB),Sf(e,f.nextBaseVersionA),{operationsA:r,operationsB:e,originalOperations:a}}class Sk{constructor(e,t,n=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(e,t=null){const n=t?this.originalOperations.get(t):null;for(const a of e)this.originalOperations.set(a,n||a)}updateRelation(e,t){if(e instanceof fi)t instanceof Zi?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof fi&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof Ei){if(t instanceof Zi)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof fi)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const n=et._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)){const a=n.end.offset-e.splitPosition.offset,u=e.splitPosition.offset-n.start.offset;this._setRelation(e,t,{howMany:a,offset:u})}}}else if(e instanceof Zi)t instanceof Zi?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof Ei?e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource"):t instanceof fi&&t.howMany>0&&(e.sourcePosition.isEqual(t.sourcePosition.getShiftedBy(t.howMany))&&this._setRelation(e,t,"mergeSourceAffected"),e.targetPosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeTargetWasBefore"));else if(e instanceof Co){const n=e.newRange;if(!n)return;if(t instanceof fi){const a=et._createFromPositionAndShift(t.sourcePosition,t.howMany),u=a.containsPosition(n.start)||a.start.isEqual(n.start),f=a.containsPosition(n.end)||a.end.isEqual(n.end);!u&&!f||a.containsRange(n)||this._setRelation(e,t,{side:u?"left":"right",path:u?n.start.path.slice():n.end.path.slice()})}else if(t instanceof Zi){const a=n.start.isEqual(t.targetPosition),u=n.start.isEqual(t.deletionPosition),f=n.end.isEqual(t.deletionPosition),b=n.end.isEqual(t.sourcePosition);(a||u||f||b)&&this._setRelation(e,t,{wasInLeftElement:a,wasStartBeforeMergedElement:u,wasEndBeforeMergedElement:f,wasInRightElement:b})}}}getContext(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const n=this.originalOperations.get(t),a=this._history.getUndoneOperation(n);if(!a)return null;const u=this.originalOperations.get(e),f=this._relations.get(u);return f&&f.get(a)||null}_setRelation(e,t,n){const a=this.originalOperations.get(e),u=this.originalOperations.get(t);let f=this._relations.get(a);f||(f=new Map,this._relations.set(a,f)),f.set(u,n)}}function Sf(r,e){for(const t of r)t.baseVersion=e++}function jf(r,e,t){const n=r.nodes.getNode(0).getAttribute(e);if(n==t)return null;const a=new et(r.position,r.position.getShiftedBy(r.howMany));return new Ir(a,e,n,t,0)}function jk(r,e){return r.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function eu(r,e){const t=[];for(let n=0;n<r.length;n++){const a=r[n],u=new fi(a.start,a.end.offset-a.start.offset,e,0);t.push(u);for(let f=n+1;f<r.length;f++)r[f]=r[f]._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany)[0];e=e._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany)}return t}ci(Ir,Ir,(r,e,t)=>{if(r.key===e.key&&r.range.start.hasSameParentAs(e.range.start)){const n=r.range.getDifference(e.range).map(u=>new Ir(u,r.key,r.oldValue,r.newValue,0)),a=r.range.getIntersection(e.range);return a&&t.aIsStrong&&n.push(new Ir(a,e.key,e.newValue,r.newValue,0)),n.length==0?[new Hr(0)]:n}return[r]}),ci(Ir,yr,(r,e)=>{if(r.range.start.hasSameParentAs(e.position)&&r.range.containsPosition(e.position)){const t=r.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(n=>new Ir(n,r.key,r.oldValue,r.newValue,r.baseVersion));if(e.shouldReceiveAttributes){const n=jf(e,r.key,r.oldValue);n&&t.unshift(n)}return t}return r.range=r.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[r]}),ci(Ir,Zi,(r,e)=>{const t=[];r.range.start.hasSameParentAs(e.deletionPosition)&&(r.range.containsPosition(e.deletionPosition)||r.range.start.isEqual(e.deletionPosition))&&t.push(et._createFromPositionAndShift(e.graveyardPosition,1));const n=r.range._getTransformedByMergeOperation(e);return n.isCollapsed||t.push(n),t.map(a=>new Ir(a,r.key,r.oldValue,r.newValue,r.baseVersion))}),ci(Ir,fi,(r,e)=>function(n,a){const u=et._createFromPositionAndShift(a.sourcePosition,a.howMany);let f=null,b=[];u.containsRange(n,!0)?f=n:n.start.hasSameParentAs(u.start)?(b=n.getDifference(u),f=n.getIntersection(u)):b=[n];const w=[];for(let A of b){A=A._getTransformedByDeletion(a.sourcePosition,a.howMany);const E=a.getMovedRangeStart(),O=A.start.hasSameParentAs(E),z=A._getTransformedByInsertion(E,a.howMany,O);w.push(...z)}return f&&w.push(f._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany,!1)[0]),w}(r.range,e).map(n=>new Ir(n,r.key,r.oldValue,r.newValue,r.baseVersion))),ci(Ir,Ei,(r,e)=>{if(r.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||r.range.end.offset++,[r];if(r.range.start.hasSameParentAs(e.splitPosition)&&r.range.containsPosition(e.splitPosition)){const t=r.clone();return t.range=new et(e.moveTargetPosition.clone(),r.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),r.range.end=e.splitPosition.clone(),r.range.end.stickiness="toPrevious",[r,t]}return r.range=r.range._getTransformedBySplitOperation(e),[r]}),ci(yr,Ir,(r,e)=>{const t=[r];if(r.shouldReceiveAttributes&&r.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(r.position)){const n=jf(r,e.key,e.newValue);n&&t.push(n)}return t}),ci(yr,yr,(r,e,t)=>(r.position.isEqual(e.position)&&t.aIsStrong||(r.position=r.position._getTransformedByInsertOperation(e)),[r])),ci(yr,fi,(r,e)=>(r.position=r.position._getTransformedByMoveOperation(e),[r])),ci(yr,Ei,(r,e)=>(r.position=r.position._getTransformedBySplitOperation(e),[r])),ci(yr,Zi,(r,e)=>(r.position=r.position._getTransformedByMergeOperation(e),[r])),ci(Co,yr,(r,e)=>(r.oldRange&&(r.oldRange=r.oldRange._getTransformedByInsertOperation(e)[0]),r.newRange&&(r.newRange=r.newRange._getTransformedByInsertOperation(e)[0]),[r])),ci(Co,Co,(r,e,t)=>{if(r.name==e.name){if(!t.aIsStrong)return[new Hr(0)];r.oldRange=e.newRange?e.newRange.clone():null}return[r]}),ci(Co,Zi,(r,e)=>(r.oldRange&&(r.oldRange=r.oldRange._getTransformedByMergeOperation(e)),r.newRange&&(r.newRange=r.newRange._getTransformedByMergeOperation(e)),[r])),ci(Co,fi,(r,e,t)=>{if(r.oldRange&&(r.oldRange=et._createFromRanges(r.oldRange._getTransformedByMoveOperation(e))),r.newRange){if(t.abRelation){const n=et._createFromRanges(r.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(r.newRange.start))return r.newRange.end=n.end,r.newRange.start.path=t.abRelation.path,[r];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(r.newRange.end))return r.newRange.start=n.start,r.newRange.end.path=t.abRelation.path,[r]}r.newRange=et._createFromRanges(r.newRange._getTransformedByMoveOperation(e))}return[r]}),ci(Co,Ei,(r,e,t)=>{if(r.oldRange&&(r.oldRange=r.oldRange._getTransformedBySplitOperation(e)),r.newRange){if(t.abRelation){const n=r.newRange._getTransformedBySplitOperation(e);return r.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?r.newRange.start=At._createAt(e.insertionPosition):r.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(r.newRange.start=At._createAt(e.moveTargetPosition)),r.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?r.newRange.end=At._createAt(e.moveTargetPosition):r.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?r.newRange.end=At._createAt(e.insertionPosition):r.newRange.end=n.end,[r]}r.newRange=r.newRange._getTransformedBySplitOperation(e)}return[r]}),ci(Zi,yr,(r,e)=>(r.sourcePosition.hasSameParentAs(e.position)&&(r.howMany+=e.howMany),r.sourcePosition=r.sourcePosition._getTransformedByInsertOperation(e),r.targetPosition=r.targetPosition._getTransformedByInsertOperation(e),[r])),ci(Zi,Zi,(r,e,t)=>{if(r.sourcePosition.isEqual(e.sourcePosition)&&r.targetPosition.isEqual(e.targetPosition)){if(t.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),r.sourcePosition=new At(e.graveyardPosition.root,n),r.howMany=0,[r]}return[new Hr(0)]}if(r.sourcePosition.isEqual(e.sourcePosition)&&!r.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const n=r.targetPosition.root.rootName=="$graveyard",a=e.targetPosition.root.rootName=="$graveyard";if(a&&!n||!(n&&!a)&&t.aIsStrong){const u=e.targetPosition._getTransformedByMergeOperation(e),f=r.targetPosition._getTransformedByMergeOperation(e);return[new fi(u,r.howMany,f,0)]}return[new Hr(0)]}return r.sourcePosition.hasSameParentAs(e.targetPosition)&&(r.howMany+=e.howMany),r.sourcePosition=r.sourcePosition._getTransformedByMergeOperation(e),r.targetPosition=r.targetPosition._getTransformedByMergeOperation(e),r.graveyardPosition.isEqual(e.graveyardPosition)&&t.aIsStrong||(r.graveyardPosition=r.graveyardPosition._getTransformedByMergeOperation(e)),[r]}),ci(Zi,fi,(r,e,t)=>{const n=et._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&r.deletionPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(r.sourcePosition)?[new Hr(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(r.sourcePosition)?r.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(r.sourcePosition)&&t.abRelation=="mergeSourceAffected"?r.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(r.targetPosition)?(r.targetPosition.stickiness="toNone",r.howMany-=e.howMany):e.targetPosition.isEqual(r.targetPosition)&&t.abRelation=="mergeTargetWasBefore"?(r.targetPosition.stickiness="toPrevious",r.howMany+=e.howMany):(r.sourcePosition.hasSameParentAs(e.targetPosition)&&(r.howMany+=e.howMany),r.sourcePosition.hasSameParentAs(e.sourcePosition)&&(r.howMany-=e.howMany)),r.sourcePosition=r.sourcePosition._getTransformedByMoveOperation(e),r.targetPosition=r.targetPosition._getTransformedByMoveOperation(e),r.sourcePosition.stickiness="toPrevious",r.targetPosition.stickiness="toNext",r.graveyardPosition.isEqual(e.targetPosition)||(r.graveyardPosition=r.graveyardPosition._getTransformedByMoveOperation(e)),[r])}),ci(Zi,Ei,(r,e,t)=>{if(e.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),r.deletionPosition.isEqual(e.graveyardPosition)&&(r.howMany=e.howMany)),r.targetPosition.isEqual(e.splitPosition)){const n=e.howMany!=0,a=e.graveyardPosition&&r.deletionPosition.isEqual(e.graveyardPosition);if(n||a||t.abRelation=="mergeTargetNotMoved")return r.sourcePosition=r.sourcePosition._getTransformedBySplitOperation(e),[r]}if(r.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return r.howMany=0,r.targetPosition=r.targetPosition._getTransformedBySplitOperation(e),[r];if(t.abRelation=="mergeSameElement"||r.sourcePosition.offset>0)return r.sourcePosition=e.moveTargetPosition.clone(),r.targetPosition=r.targetPosition._getTransformedBySplitOperation(e),[r]}return r.sourcePosition.hasSameParentAs(e.splitPosition)&&(r.howMany=e.splitPosition.offset),r.sourcePosition=r.sourcePosition._getTransformedBySplitOperation(e),r.targetPosition=r.targetPosition._getTransformedBySplitOperation(e),[r]}),ci(fi,yr,(r,e)=>{const t=et._createFromPositionAndShift(r.sourcePosition,r.howMany)._getTransformedByInsertOperation(e,!1)[0];return r.sourcePosition=t.start,r.howMany=t.end.offset-t.start.offset,r.targetPosition.isEqual(e.position)||(r.targetPosition=r.targetPosition._getTransformedByInsertOperation(e)),[r]}),ci(fi,fi,(r,e,t)=>{const n=et._createFromPositionAndShift(r.sourcePosition,r.howMany),a=et._createFromPositionAndShift(e.sourcePosition,e.howMany);let u,f=t.aIsStrong,b=!t.aIsStrong;if(t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?b=!0:t.abRelation!="insertAfter"&&t.baRelation!="insertBefore"||(b=!1),u=r.targetPosition.isEqual(e.targetPosition)&&b?r.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):r.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),jk(r,e)&&jk(e,r))return[e.getReversed()];if(n.containsPosition(e.targetPosition)&&n.containsRange(a,!0))return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),eu([n],u);if(a.containsPosition(r.targetPosition)&&a.containsRange(n,!0))return n.start=n.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),n.end=n.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),eu([n],u);const w=Dt(r.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(w=="prefix"||w=="extension")return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),eu([n],u);r.type!="remove"||e.type=="remove"||t.aWasUndone||t.forceWeakRemove?r.type=="remove"||e.type!="remove"||t.bWasUndone||t.forceWeakRemove||(f=!1):f=!0;const A=[],E=n.getDifference(a);for(const z of E){z.start=z.start._getTransformedByDeletion(e.sourcePosition,e.howMany),z.end=z.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const U=Dt(z.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",W=z._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,U);A.push(...W)}const O=n.getIntersection(a);return O!==null&&f&&(O.start=O.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),O.end=O.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),A.length===0?A.push(O):A.length==1?a.start.isBefore(n.start)||a.start.isEqual(n.start)?A.unshift(O):A.push(O):A.splice(1,0,O)),A.length===0?[new Hr(r.baseVersion)]:eu(A,u)}),ci(fi,Ei,(r,e,t)=>{let n=r.targetPosition.clone();r.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&t.abRelation!="moveTargetAfter"||(n=r.targetPosition._getTransformedBySplitOperation(e));const a=et._createFromPositionAndShift(r.sourcePosition,r.howMany);if(a.end.isEqual(e.insertionPosition))return e.graveyardPosition||r.howMany++,r.targetPosition=n,[r];if(a.start.hasSameParentAs(e.splitPosition)&&a.containsPosition(e.splitPosition)){let f=new et(e.splitPosition,a.end);return f=f._getTransformedBySplitOperation(e),eu([new et(a.start,e.splitPosition),f],n)}r.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(n=e.moveTargetPosition),r.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(n=r.targetPosition);const u=[a._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const f=a.start.isEqual(e.graveyardPosition)||a.containsPosition(e.graveyardPosition);r.howMany>1&&f&&!t.aWasUndone&&u.push(et._createFromPositionAndShift(e.insertionPosition,1))}return eu(u,n)}),ci(fi,Zi,(r,e,t)=>{const n=et._createFromPositionAndShift(r.sourcePosition,r.howMany);if(e.deletionPosition.hasSameParentAs(r.sourcePosition)&&n.containsPosition(e.sourcePosition)){if(r.type!="remove"||t.forceWeakRemove){if(r.howMany==1)return t.bWasUndone?(r.sourcePosition=e.graveyardPosition.clone(),r.targetPosition=r.targetPosition._getTransformedByMergeOperation(e),[r]):[new Hr(0)]}else if(!t.aWasUndone){const u=[];let f=e.graveyardPosition.clone(),b=e.targetPosition._getTransformedByMergeOperation(e);r.howMany>1&&(u.push(new fi(r.sourcePosition,r.howMany-1,r.targetPosition,0)),f=f._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany-1),b=b._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany-1));const w=e.deletionPosition._getCombined(r.sourcePosition,r.targetPosition),A=new fi(f,1,w,0),E=A.getMovedRangeStart().path.slice();E.push(0);const O=new At(A.targetPosition.root,E);b=b._getTransformedByMove(f,w,1);const z=new fi(b,e.howMany,O,0);return u.push(A),u.push(z),u}}const a=et._createFromPositionAndShift(r.sourcePosition,r.howMany)._getTransformedByMergeOperation(e);return r.sourcePosition=a.start,r.howMany=a.end.offset-a.start.offset,r.targetPosition=r.targetPosition._getTransformedByMergeOperation(e),[r]}),ci(Ao,yr,(r,e)=>(r.position=r.position._getTransformedByInsertOperation(e),[r])),ci(Ao,Zi,(r,e)=>r.position.isEqual(e.deletionPosition)?(r.position=e.graveyardPosition.clone(),r.position.stickiness="toNext",[r]):(r.position=r.position._getTransformedByMergeOperation(e),[r])),ci(Ao,fi,(r,e)=>(r.position=r.position._getTransformedByMoveOperation(e),[r])),ci(Ao,Ao,(r,e,t)=>{if(r.position.isEqual(e.position)){if(!t.aIsStrong)return[new Hr(0)];r.oldName=e.newName}return[r]}),ci(Ao,Ei,(r,e)=>{if(Dt(r.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const t=new Ao(r.position.getShiftedBy(1),r.oldName,r.newName,0);return[r,t]}return r.position=r.position._getTransformedBySplitOperation(e),[r]}),ci(ja,ja,(r,e,t)=>{if(r.root===e.root&&r.key===e.key){if(!t.aIsStrong||r.newValue===e.newValue)return[new Hr(0)];r.oldValue=e.newValue}return[r]}),ci(oi,oi,(r,e)=>r.rootName===e.rootName&&r.isAdd===e.isAdd?[new Hr(0)]:[r]),ci(Ei,yr,(r,e)=>(r.splitPosition.hasSameParentAs(e.position)&&r.splitPosition.offset<e.position.offset&&(r.howMany+=e.howMany),r.splitPosition=r.splitPosition._getTransformedByInsertOperation(e),r.insertionPosition=r.insertionPosition._getTransformedByInsertOperation(e),[r])),ci(Ei,Zi,(r,e,t)=>{if(!r.graveyardPosition&&!t.bWasUndone&&r.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const a=new At(e.graveyardPosition.root,n),u=Ei.getInsertionPosition(new At(e.graveyardPosition.root,n)),f=new Ei(a,0,u,null,0);return r.splitPosition=r.splitPosition._getTransformedByMergeOperation(e),r.insertionPosition=Ei.getInsertionPosition(r.splitPosition),r.graveyardPosition=f.insertionPosition.clone(),r.graveyardPosition.stickiness="toNext",[f,r]}return r.splitPosition.hasSameParentAs(e.deletionPosition)&&!r.splitPosition.isAfter(e.deletionPosition)&&r.howMany--,r.splitPosition.hasSameParentAs(e.targetPosition)&&(r.howMany+=e.howMany),r.splitPosition=r.splitPosition._getTransformedByMergeOperation(e),r.insertionPosition=Ei.getInsertionPosition(r.splitPosition),r.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedByMergeOperation(e)),[r]}),ci(Ei,fi,(r,e,t)=>{const n=et._createFromPositionAndShift(e.sourcePosition,e.howMany);if(r.graveyardPosition){const u=n.start.isEqual(r.graveyardPosition)||n.containsPosition(r.graveyardPosition);if(!t.bWasUndone&&u){const f=r.splitPosition._getTransformedByMoveOperation(e),b=r.graveyardPosition._getTransformedByMoveOperation(e),w=b.path.slice();w.push(0);const A=new At(b.root,w);return[new fi(f,r.howMany,A,0)]}r.graveyardPosition=r.graveyardPosition._getTransformedByMoveOperation(e)}const a=r.splitPosition.isEqual(e.targetPosition);if(a&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return r.howMany+=e.howMany,r.splitPosition=r.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),r.insertionPosition=Ei.getInsertionPosition(r.splitPosition),[r];if(a&&t.abRelation&&t.abRelation.howMany){const{howMany:u,offset:f}=t.abRelation;return r.howMany+=u,r.splitPosition=r.splitPosition.getShiftedBy(f),[r]}if(r.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(r.splitPosition)){const u=e.howMany-(r.splitPosition.offset-e.sourcePosition.offset);return r.howMany-=u,r.splitPosition.hasSameParentAs(e.targetPosition)&&r.splitPosition.offset<e.targetPosition.offset&&(r.howMany+=e.howMany),r.splitPosition=e.sourcePosition.clone(),r.insertionPosition=Ei.getInsertionPosition(r.splitPosition),[r]}return e.sourcePosition.isEqual(e.targetPosition)||(r.splitPosition.hasSameParentAs(e.sourcePosition)&&r.splitPosition.offset<=e.sourcePosition.offset&&(r.howMany-=e.howMany),r.splitPosition.hasSameParentAs(e.targetPosition)&&r.splitPosition.offset<e.targetPosition.offset&&(r.howMany+=e.howMany)),r.splitPosition.stickiness="toNone",r.splitPosition=r.splitPosition._getTransformedByMoveOperation(e),r.splitPosition.stickiness="toNext",r.graveyardPosition?r.insertionPosition=r.insertionPosition._getTransformedByMoveOperation(e):r.insertionPosition=Ei.getInsertionPosition(r.splitPosition),[r]}),ci(Ei,Ei,(r,e,t)=>{if(r.splitPosition.isEqual(e.splitPosition)){if(!r.graveyardPosition&&!e.graveyardPosition)return[new Hr(0)];if(r.graveyardPosition&&e.graveyardPosition&&r.graveyardPosition.isEqual(e.graveyardPosition))return[new Hr(0)];if(t.abRelation=="splitBefore")return r.howMany=0,r.graveyardPosition=r.graveyardPosition._getTransformedBySplitOperation(e),[r]}if(r.graveyardPosition&&e.graveyardPosition&&r.graveyardPosition.isEqual(e.graveyardPosition)){const n=r.splitPosition.root.rootName=="$graveyard",a=e.splitPosition.root.rootName=="$graveyard";if(a&&!n||!(n&&!a)&&t.aIsStrong){const u=[];return e.howMany&&u.push(new fi(e.moveTargetPosition,e.howMany,e.splitPosition,0)),r.howMany&&u.push(new fi(r.splitPosition,r.howMany,r.moveTargetPosition,0)),u}return[new Hr(0)]}if(r.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedBySplitOperation(e)),r.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return r.howMany++,[r];if(e.splitPosition.isEqual(r.insertionPosition)&&t.baRelation=="splitBefore"){const n=e.insertionPosition.path.slice();n.push(0);const a=new At(e.insertionPosition.root,n);return[r,new fi(r.insertionPosition,1,a,0)]}return r.splitPosition.hasSameParentAs(e.splitPosition)&&r.splitPosition.offset<e.splitPosition.offset&&(r.howMany-=e.howMany),r.splitPosition=r.splitPosition._getTransformedBySplitOperation(e),r.insertionPosition=Ei.getInsertionPosition(r.splitPosition),[r]});class Fs extends he(At){constructor(e,t,n="toNone"){if(super(e,t,n),!this.root.is("rootElement"))throw new q("model-liveposition-root-not-rootelement",e);Dk.call(this)}detach(){this.stopListening()}toPosition(){return new At(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function Dk(){this.listenTo(this.root.document.model,"applyOperation",(r,e)=>{const t=e[0];t.isDocumentOperation&&Fw.call(this,t)},{priority:"low"})}function Fw(r){const e=this.getTransformedByOperation(r);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}Fs.prototype.is=function(r){return r==="livePosition"||r==="model:livePosition"||r=="position"||r==="model:position"};class th{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},de("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:n=!0,isUndo:a=!1,isTyping:u=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=n,this.isUndo=a,this.isTyping=u}get type(){return de("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var rd=Object.defineProperty,Tk=Object.defineProperties,fg=Object.getOwnPropertyDescriptors,Mk=Object.getOwnPropertySymbols,Vw=Object.prototype.hasOwnProperty,pg=Object.prototype.propertyIsEnumerable,Ik=(r,e,t)=>e in r?rd(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Da=(r,e)=>{for(var t in e||(e={}))Vw.call(e,t)&&Ik(r,t,e[t]);if(Mk)for(var t of Mk(e))pg.call(e,t)&&Ik(r,t,e[t]);return r};class gg{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const n of t.range.getItems({shallow:!0}))this._isInInsertedElement(n.parent)||this._markAttribute(n);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const n=this._isInInsertedElement(t.sourcePosition.parent),a=this._isInInsertedElement(t.targetPosition.parent);n||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),a||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const n=et._createFromPositionAndShift(t.position,1);for(const a of this._markerCollection.getMarkersIntersectingRange(n)){const u=a.getData();this.bufferMarkerChange(a.name,u,u)}break}case"split":{const n=t.splitPosition.parent;this._isInInsertedElement(n)||this._markRemove(n,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const n=t.sourcePosition.parent;this._isInInsertedElement(n.parent)||this._markRemove(n.parent,n.startOffset,1);const a=t.graveyardPosition.parent;this._markInsert(a,t.graveyardPosition.offset,1);const u=t.targetPosition.parent;this._isInInsertedElement(u)||this._markInsert(u,t.targetPosition.offset,n.maxOffset);break}case"detachRoot":case"addRoot":{const n=t.affectedSelectable;if(!n._isLoaded||n.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const n=t.root.rootName;this._bufferRootAttributeChange(n,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,n){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null);let a=this._changedMarkers.get(e);a?a.newMarkerData=n:(a={newMarkerData:n,oldMarkerData:t},this._changedMarkers.set(e,a)),a.oldMarkerData.range==null&&n.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,n]of this._changedMarkers)n.oldMarkerData.range!=null&&e.push({name:t,range:n.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,n]of this._changedMarkers)n.newMarkerData.range!=null&&e.push({name:t,range:n.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const n=e.range&&!t.range,a=!e.range&&t.range,u=e.range&&t.range&&!e.range.isEqual(t.range);if(n||a||u)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const n of this._changesInElement.keys()){const a=this._changesInElement.get(n).sort((E,O)=>E.offset===O.offset?E.type!=O.type?E.type=="remove"?-1:1:0:E.offset<O.offset?-1:1),u=this._elementSnapshots.get(n),f=bg(n.getChildren()),b=Ok(u.length,a);let w=0,A=0;for(const E of b)if(E==="i")t.push(this._getInsertDiff(n,w,f[w])),w++;else if(E==="r")t.push(this._getRemoveDiff(n,w,u[A])),A++;else if(E==="a"){const O=f[w].attributes,z=u[A].attributes;let U;if(f[w].name=="$text")U=new et(At._createAt(n,w),At._createAt(n,w+1));else{const W=n.offsetToIndex(w);U=new et(At._createAt(n,w),At._createAt(n.getChild(W),0))}t.push(...this._getAttributesDiff(U,z,O)),w++,A++}else w++,A++}t.sort((n,a)=>n.position.root!=a.position.root?n.position.root.rootName<a.position.root.rootName?-1:1:n.position.isEqual(a.position)?n.changeCount-a.changeCount:n.position.isBefore(a.position)?-1:1);for(let n=1,a=0;n<t.length;n++){const u=t[a],f=t[n],b=u.type=="remove"&&f.type=="remove"&&u.name=="$text"&&f.name=="$text"&&u.position.isEqual(f.position),w=u.type=="insert"&&f.type=="insert"&&u.name=="$text"&&f.name=="$text"&&u.position.parent==f.position.parent&&u.position.offset+u.length==f.position.offset,A=u.type=="attribute"&&f.type=="attribute"&&u.position.parent==f.position.parent&&u.range.isFlat&&f.range.isFlat&&u.position.offset+u.length==f.position.offset&&u.attributeKey==f.attributeKey&&u.attributeOldValue==f.attributeOldValue&&u.attributeNewValue==f.attributeNewValue;b||w||A?(u.length++,A&&(u.range.end=u.range.end.getShiftedBy(1)),t[n]=null):a=n}t=t.filter(n=>n);for(const n of t)delete n.changeCount,n.type=="attribute"&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(im),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t=Da({},e);return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});const n=this._changedRoots.get(e);n.state!==void 0?(delete n.state,n.attributes===void 0&&this._changedRoots.delete(e)):n.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,n,a){const u=this._changedRoots.get(e)||{name:e},f=u.attributes||{};if(f[t]){const b=f[t];a===b.oldValue?delete f[t]:b.newValue=a}else f[t]={oldValue:n,newValue:a};Object.entries(f).length===0?(delete u.attributes,u.state===void 0&&this._changedRoots.delete(e)):(u.attributes=f,this._changedRoots.set(e,u))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=et._createOn(e);for(const n of this._markerCollection.getMarkersIntersectingRange(t)){const a=n.getData();this.bufferMarkerChange(n.name,a,a)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const n of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,n,null,e.getAttribute(n));for(const n of this._markerCollection)if(n.getRange().root==e){const a=n.getData();this.bufferMarkerChange(n.name,(t=Da({},a),Tk(t,fg({range:null}))),a)}var t}}_markInsert(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const a={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,a)}_markRemove(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const a={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,a),this._removeAllNestedChanges(e,t,n)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(let a=0;a<n.length;a++)n[a].howMany<1&&(n.splice(a,1),a--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,bg(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const n of t){const a=e.offset+e.howMany,u=n.offset+n.howMany;if(e.type=="insert"&&(n.type=="insert"&&(e.offset<=n.offset?n.offset+=e.howMany:e.offset<u&&(n.howMany+=e.nodesToHandle,e.nodesToHandle=0)),n.type=="remove"&&e.offset<n.offset&&(n.offset+=e.howMany),n.type=="attribute")){if(e.offset<=n.offset)n.offset+=e.howMany;else if(e.offset<u){const f=n.howMany;n.howMany=e.offset-n.offset,t.unshift({type:"attribute",offset:a,howMany:f-n.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(n.type=="insert"){if(a<=n.offset)n.offset-=e.howMany;else if(a<=u)if(e.offset<n.offset){const f=a-n.offset;n.offset=e.offset,n.howMany-=f,e.nodesToHandle-=f}else n.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=n.offset)e.nodesToHandle-=n.howMany,n.howMany=0;else if(e.offset<u){const f=u-e.offset;n.howMany-=f,e.nodesToHandle-=f}}if(n.type=="remove"&&(a<=n.offset?n.offset-=e.howMany:e.offset<n.offset&&(e.nodesToHandle+=n.howMany,n.howMany=0)),n.type=="attribute"){if(a<=n.offset)n.offset-=e.howMany;else if(e.offset<n.offset){const f=a-n.offset;n.offset=e.offset,n.howMany-=f}else if(e.offset<u)if(a<=u){const f=n.howMany;n.howMany=e.offset-n.offset;const b=f-n.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:b,count:this._changeCount++})}else n.howMany-=u-e.offset}}if(e.type=="attribute"){if(n.type=="insert")if(e.offset<n.offset&&a>n.offset){if(a>u){const f={type:"attribute",offset:u,howMany:a-u,count:this._changeCount++};this._handleChange(f,t),t.push(f)}e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=n.offset&&e.offset<u&&(a>u?(e.nodesToHandle=a-u,e.offset=u):e.nodesToHandle=0);if(n.type=="remove"&&e.offset<n.offset&&a>n.offset){const f={type:"attribute",offset:n.offset,howMany:a-n.offset,count:this._changeCount++};this._handleChange(f,t),t.push(f),e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}n.type=="attribute"&&(e.offset>=n.offset&&a<=u?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=n.offset&&a>=u&&(n.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,n){return{type:"insert",position:At._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++,_element:n.element}}_getRemoveDiff(e,t,n){return{type:"remove",position:At._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++,_element:n.element}}_getAttributesDiff(e,t,n){const a=[];n=new Map(n);for(const[u,f]of t){const b=n.has(u)?n.get(u):null;b!==f&&a.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:u,attributeOldValue:f,attributeNewValue:b,changeCount:this._changeCount++}),n.delete(u)}for(const[u,f]of n)a.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:u,attributeOldValue:null,attributeNewValue:f,changeCount:this._changeCount++});return a}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const n=this._changesInElement.get(t),a=e.startOffset;if(n){for(const u of n)if(u.type=="insert"&&a>=u.offset&&a<u.offset+u.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,n){const a=new et(At._createAt(e,t),At._createAt(e,t+n));for(const u of a.getItems({shallow:!0}))u.is("element")&&(this._elementSnapshots.delete(u),this._changesInElement.delete(u),this._removeAllNestedChanges(u,0,u.maxOffset))}}function bg(r){const e=[];for(const t of r)if(t.is("$text"))for(let n=0;n<t.data.length;n++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes()),element:t});return e}function Ok(r,e){const t=[];let n=0,a=0;for(const u of e){if(u.offset>n){for(let f=0;f<u.offset-n;f++)t.push("e");a+=u.offset-n}if(u.type=="insert"){for(let f=0;f<u.howMany;f++)t.push("i");n=u.offset+u.howMany}else if(u.type=="remove"){for(let f=0;f<u.howMany;f++)t.push("r");n=u.offset,a+=u.howMany}else t.push(..."a".repeat(u.howMany).split("")),n=u.offset+u.howMany,a+=u.howMany}if(a<r)for(let u=0;u<r-a-n;u++)t.push("e");return t}function im(r){const e="position"in r&&r.position.root.rootName=="$graveyard",t="range"in r&&r.range.root.rootName=="$graveyard";return!e&&!t}class Ta{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new q("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const n=this._operations[0];e===void 0&&(e=n.baseVersion);let a=t-1;for(const[b,w]of this._gaps)e>b&&e<w&&(e=w),a>b&&a<w&&(a=b-1);if(a<n.baseVersion||e>this.lastOperation.baseVersion)return[];let u=this._baseVersionToOperationIndex.get(e);u===void 0&&(u=0);let f=this._baseVersionToOperationIndex.get(a);return f===void 0&&(f=this._operations.length-1),this._operations.slice(u,f+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class rm extends hi{constructor(e,t,n="main"){super(t),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=n}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}rm.prototype.is=function(r,e){return e?e===this.name&&(r==="rootElement"||r==="model:rootElement"||r==="element"||r==="model:element"):r==="rootElement"||r==="model:rootElement"||r==="element"||r==="model:element"||r==="node"||r==="model:node"};var Df=Object.defineProperty,pc=Object.defineProperties,Hw=Object.getOwnPropertyDescriptors,Lk=Object.getOwnPropertySymbols,nh=Object.prototype.hasOwnProperty,Bk=Object.prototype.propertyIsEnumerable,Rk=(r,e,t)=>e in r?Df(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Pk=(r,e)=>{for(var t in e||(e={}))nh.call(e,t)&&Rk(r,t,e[t]);if(Lk)for(var t of Lk(e))Bk.call(e,t)&&Rk(r,t,e[t]);return r},zk=(r,e)=>pc(r,Hw(e));const Fk="$graveyard";class Uw extends he(){constructor(e){super(),this.model=e,this.history=new Ta,this.selection=new ma(this),this.roots=new Po({idProperty:"rootName"}),this.differ=new gg(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Fk),this.listenTo(e,"applyOperation",(t,n)=>{const a=n[0];a.isDocumentOperation&&this.differ.bufferOperation(a)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,n)=>{const a=n[0];a.isDocumentOperation&&this.history.addOperation(a)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,n,a,u,f)=>{const b=zk(Pk({},n.getData()),{range:u});this.differ.bufferMarkerChange(n.name,f,b),a===null&&n.on("change",(w,A)=>{const E=n.getData();this.differ.bufferMarkerChange(n.name,zk(Pk({},E),{range:A}),E)})}),this.registerPostFixer(t=>{let n=!1;for(const a of this.roots)a.isAttached()||a.isEmpty||(t.remove(t.createRangeIn(a)),n=!0);for(const a of this.model.markers)a.getRange().root.isAttached()||(t.removeMarker(a),n=!0);return n})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Fk)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new q("model-document-createroot-name-exists",this,{name:t});const n=new rm(this,e,t);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return this.roots.filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=tc(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,n=t.schema,a=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(a)||t.createRange(a)}_validateSelectionRange(e){return Vk(e.start)&&Vk(e.end)}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(this.selection.refresh(),t=n(e),t)break;while(t)}}function Vk(r){const e=r.textNode;if(e){const t=e.data,n=r.offset-e.startOffset;return!Ts(t,n)&&!Cl(t,n)}return!0}var $w=Object.defineProperty,Hk=Object.defineProperties,ih=Object.getOwnPropertyDescriptors,rh=Object.getOwnPropertySymbols,Uk=Object.prototype.hasOwnProperty,qw=Object.prototype.propertyIsEnumerable,tu=(r,e,t)=>e in r?$w(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class sm extends he(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof nu?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,n=!1,a=!1){const u=e instanceof nu?e.name:e;if(u.includes(","))throw new q("markercollection-incorrect-marker-name",this);const f=this._markers.get(u);if(f){const E=f.getData(),O=f.getRange();let z=!1;return O.isEqual(t)||(f._attachLiveRange(dr.fromRange(t)),z=!0),n!=f.managedUsingOperations&&(f._managedUsingOperations=n,z=!0),typeof a=="boolean"&&a!=f.affectsData&&(f._affectsData=a,z=!0),z&&this.fire(`update:${u}`,f,O,t,E),f}const b=dr.fromRange(t),w=new nu(u,b,n,a);var A;return this._markers.set(u,w),this.fire(`update:${u}`,w,null,t,(A=((E,O)=>{for(var z in O||(O={}))Uk.call(O,z)&&tu(E,z,O[z]);if(rh)for(var z of rh(O))qw.call(O,z)&&tu(E,z,O[z]);return E})({},w.getData()),Hk(A,ih({range:null})))),w}_remove(e){const t=e instanceof nu?e.name:e,n=this._markers.get(t);return!!n&&(this._markers.delete(t),this.fire(`update:${t}`,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0)}_refresh(e){const t=e instanceof nu?e.name:e,n=this._markers.get(t);if(!n)throw new q("markercollection-refresh-marker-not-exists",this);const a=n.getRange();this.fire(`update:${t}`,n,a,a,n.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class nu extends he(gs){constructor(e,t,n,a){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=n,this._affectsData=a}get managedUsingOperations(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}nu.prototype.is=function(r){return r==="marker"||r==="model:marker"};class Tf extends Ps{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new q("detach-operation-on-document-node",this)}_execute(){dg(et._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class al extends gs{constructor(e){super(),this.markers=new Map,this._children=new Bs,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const n of e)n.name?t.push(hi.fromJSON(n)):t.push(Ri.fromJSON(n));return new al(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(a){return typeof a=="string"?[new Ri(a)]:(Qe(a)||(a=[a]),Array.from(a).map(u=>typeof u=="string"?new Ri(u):u instanceof bs?new Ri(u.data,u.getAttributes()):u))}(t);for(const a of n)a.parent!==null&&a._remove(),a.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const a of n)a.parent=null;return n}}al.prototype.is=function(r){return r==="documentFragment"||r==="model:documentFragment"};class kg{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Ri(e,t)}createElement(e,t){return new hi(e,t)}createDocumentFragment(){return new al}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,n=0){if(this._assertWriterUsedCorrectly(),e instanceof Ri&&e.data=="")return;const a=At._createAt(t,n);if(e.parent){if(vg(e.root,a.root))return void this.move(et._createOn(e),a);if(e.root.document)throw new q("model-writer-insert-forbidden-move",this);this.remove(e)}const u=a.root.document?a.root.document.version:null,f=new yr(a,e,u);if(e instanceof Ri&&(f.shouldReceiveAttributes=!0),this.batch.addOperation(f),this.model.applyOperation(f),e instanceof al)for(const[b,w]of e.markers){const A=At._createAt(w.root,0),E={range:new et(w.start._getCombined(A,a),w.end._getCombined(A,a)),usingOperation:!0,affectsData:!0};this.model.markers.has(b)?this.updateMarker(b,E):this.addMarker(b,E)}}insertText(e,t,n,a){t instanceof al||t instanceof hi||t instanceof At?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,a)}insertElement(e,t,n,a){t instanceof al||t instanceof hi||t instanceof At?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,a)}append(e,t){this.insert(e,t,"end")}appendText(e,t,n){t instanceof al||t instanceof hi?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}appendElement(e,t,n){t instanceof al||t instanceof hi?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}setAttribute(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof et){const a=n.getMinimalFlatRanges();for(const u of a)om(this,e,t,u)}else _g(this,e,t,n)}setAttributes(e,t){for(const[n,a]of no(e))this.setAttribute(n,a,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof et){const n=t.getMinimalFlatRanges();for(const a of n)om(this,e,null,a)}else _g(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=n=>{for(const a of n.getAttributeKeys())this.removeAttribute(a,n)};if(e instanceof et)for(const n of e.getItems())t(n);else t(e)}move(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof et))throw new q("writer-move-invalid-range",this);if(!e.isFlat)throw new q("writer-move-range-not-flat",this);const a=At._createAt(t,n);if(a.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!vg(e.root,a.root))throw new q("writer-move-different-document",this);const u=e.root.document?e.root.document.version:null,f=new fi(e.start,e.end.offset-e.start.offset,a,u);this.batch.addOperation(f),this.model.applyOperation(f)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof et?e:et._createOn(e)).getMinimalFlatRanges().reverse();for(const n of t)this._addOperationForAffectedMarkers("move",n),Ww(n.start,n.end.offset-n.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof hi))throw new q("writer-merge-no-element-before",this);if(!(n instanceof hi))throw new q("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,n){return this.model.createPositionFromPath(e,t,n)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,n=e.nodeAfter;this.move(et._createIn(n),At._createAt(t,"end")),this.remove(n)}_merge(e){const t=At._createAt(e.nodeBefore,"end"),n=At._createAt(e.nodeAfter,0),a=e.root.document.graveyard,u=new At(a,[0]),f=e.root.document.version,b=new Zi(n,e.nodeAfter.maxOffset,t,u,f);this.batch.addOperation(b),this.model.applyOperation(b)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof hi))throw new q("writer-rename-not-element-instance",this);const n=e.root.document?e.root.document.version:null,a=new Ao(At._createBefore(e),e.name,t,n);this.batch.addOperation(a),this.model.applyOperation(a)}split(e,t){this._assertWriterUsedCorrectly();let n,a,u=e.parent;if(!u.parent)throw new q("writer-split-element-no-parent",this);if(t||(t=u.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new q("writer-split-invalid-limit-element",this);do{const f=u.root.document?u.root.document.version:null,b=u.maxOffset-e.offset,w=Ei.getInsertionPosition(e),A=new Ei(e,b,w,null,f);this.batch.addOperation(A),this.model.applyOperation(A),n||a||(n=u,a=e.parent.nextSibling),u=(e=this.createPositionAfter(e.parent)).parent}while(u!==t);return{position:e,range:new et(At._createAt(n,"end"),At._createAt(a,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new q("writer-wrap-range-not-flat",this);const n=t instanceof hi?t:new hi(t);if(n.childCount>0)throw new q("writer-wrap-element-not-empty",this);if(n.parent!==null)throw new q("writer-wrap-element-attached",this);this.insert(n,e.start);const a=new et(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(a,At._createAt(n,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new q("writer-unwrap-element-no-parent",this);this.move(et._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new q("writer-addmarker-no-usingoperation",this);const n=t.usingOperation,a=t.range,u=t.affectsData!==void 0&&t.affectsData;if(this.model.markers.has(e))throw new q("writer-addmarker-marker-exists",this);if(!a)throw new q("writer-addmarker-no-range",this);return n?(sh(this,e,null,a,u),this.model.markers.get(e)):this.model.markers._set(e,a,n,u)}updateMarker(e,t){this._assertWriterUsedCorrectly();const n=typeof e=="string"?e:e.name,a=this.model.markers.get(n);if(!a)throw new q("writer-updatemarker-marker-not-exists",this);if(!t)return de("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),void this.model.markers._refresh(a);const u=typeof t.usingOperation=="boolean",f=typeof t.affectsData=="boolean",b=f?t.affectsData:a.affectsData;if(!u&&!t.range&&!f)throw new q("writer-updatemarker-wrong-options",this);const w=a.getRange(),A=t.range?t.range:w;u&&t.usingOperation!==a.managedUsingOperations?t.usingOperation?sh(this,n,null,A,b):(sh(this,n,w,null,b),this.model.markers._set(n,A,void 0,b)):a.managedUsingOperations?sh(this,n,w,A,b):this.model.markers._set(n,A,void 0,b)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new q("writer-removemarker-no-marker",this);const n=this.model.markers.get(t);if(!n.managedUsingOperations)return void this.model.markers._remove(t);sh(this,t,n.getRange(),null,n.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(e);if(n&&n.isAttached())throw new q("writer-addroot-root-exists",this);const a=this.model.document,u=new oi(e,t,!0,a,a.version);return this.batch.addOperation(u),this.model.applyOperation(u),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new q("writer-detachroot-no-root",this);for(const u of this.model.markers)u.getRange().root===t&&this.removeMarker(u);for(const u of t.getAttributeKeys())this.removeAttribute(u,t);this.remove(this.createRangeIn(t));const n=this.model.document,a=new oi(t.rootName,t.name,!1,n,n.version);this.batch.addOperation(a),this.model.applyOperation(a)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[n,a]of no(e))this._setSelectionAttribute(n,a)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const a=ma._getStoreAttributeKey(e);this.setAttribute(a,t,n.anchor.parent)}n._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const n=ma._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new q("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const a=n.getRange();let u=!1;if(e==="move"){const f=t;u=f.containsPosition(a.start)||f.start.isEqual(a.start)||f.containsPosition(a.end)||f.end.isEqual(a.end)}else{const f=t,b=f.nodeBefore,w=f.nodeAfter,A=a.start.parent==b&&a.start.isAtEnd,E=a.end.parent==w&&a.end.offset==0,O=a.end.nodeAfter==w,z=a.start.nodeAfter==w;u=A||E||O||z}u&&this.updateMarker(n.name,{range:a})}}}function om(r,e,t,n){const a=r.model,u=a.document;let f,b,w,A=n.start;for(const O of n.getWalker({shallow:!0}))w=O.item.getAttribute(e),f&&b!=w&&(b!=t&&E(),A=f),f=O.nextPosition,b=w;function E(){const O=new et(A,f),z=O.root.document?u.version:null,U=new Ir(O,e,b,t,z);r.batch.addOperation(U),a.applyOperation(U)}f instanceof At&&f!=A&&b!=t&&E()}function _g(r,e,t,n){const a=r.model,u=a.document,f=n.getAttribute(e);let b,w;if(f!=t){if(n.root===n){const A=n.document?u.version:null;w=new ja(n,e,f,t,A)}else{b=new et(At._createBefore(n),r.createPositionAfter(n));const A=b.root.document?u.version:null;w=new Ir(b,e,f,t,A)}r.batch.addOperation(w),a.applyOperation(w)}}function sh(r,e,t,n,a){const u=r.model,f=u.document,b=new Co(e,t,n,u.markers,!!a,f.version);r.batch.addOperation(b),u.applyOperation(b)}function Ww(r,e,t,n){let a;if(r.root.document){const u=n.document,f=new At(u.graveyard,[0]);a=new fi(r,e,f,u.version)}else a=new Tf(r,e);t.addOperation(a),n.applyOperation(a)}function vg(r,e){return r===e||r instanceof rm&&e instanceof rm}function am(r,e,t={}){if(e.isCollapsed)return;const n=e.getFirstRange();if(n.root.rootName=="$graveyard")return;const a=r.schema;r.change(u=>{if(!t.doNotResetEntireContent&&function(A,E){const O=A.getLimitElement(E);if(!E.containsEntireContent(O))return!1;const z=E.getFirstRange();return z.start.parent==z.end.parent?!1:A.checkChild(O,"paragraph")}(a,e))return void function(A,E){const O=A.model.schema.getLimitElement(E);A.remove(A.createRangeIn(O)),lm(A,A.createPositionAt(O,0),E)}(u,e);const f={};if(!t.doNotAutoparagraph){const A=e.getSelectedElement();A&&Object.assign(f,a.getAttributesWithProperty(A,"copyOnReplace",!0))}const[b,w]=function(A){const E=A.root.document.model,O=A.start;let z=A.end;if(E.hasContent(A,{ignoreMarkers:!0})){const U=function(W){const X=W.parent,ae=X.root.document.model.schema,ge=X.getAncestors({parentFirst:!0,includeSelf:!0});for(const Me of ge){if(ae.isLimit(Me))return null;if(ae.isBlock(Me))return Me}}(z);if(U&&z.isTouching(E.createPositionAt(U,0))){const W=E.createSelection(A);E.modifySelection(W,{direction:"backward"});const X=W.getLastPosition(),ae=E.createRange(X,z);E.hasContent(ae,{ignoreMarkers:!0})||(z=X)}}return[Fs.fromPosition(O,"toPrevious"),Fs.fromPosition(z,"toNext")]}(n);b.isTouching(w)||u.remove(u.createRange(b,w)),t.leaveUnmerged||(function(A,E,O){const z=A.model;if(!wg(A.model.schema,E,O))return;const[U,W]=function(X,ae){const ge=X.getAncestors(),Me=ae.getAncestors();let Ze=0;for(;ge[Ze]&&ge[Ze]==Me[Ze];)Ze++;return[ge[Ze],Me[Ze]]}(E,O);!U||!W||(!z.hasContent(U,{ignoreMarkers:!0})&&z.hasContent(W,{ignoreMarkers:!0})?qk(A,E,O,U.parent):$k(A,E,O,U.parent))}(u,b,w),a.removeDisallowedAttributes(b.parent.getChildren(),u)),cm(u,e,b),!t.doNotAutoparagraph&&function(A,E){const O=A.checkChild(E,"$text"),z=A.checkChild(E,"paragraph");return!O&&z}(a,b)&&lm(u,b,e,f),b.detach(),w.detach()})}function $k(r,e,t,n){const a=e.parent,u=t.parent;if(a!=n&&u!=n){for(e=r.createPositionAfter(a),(t=r.createPositionBefore(u)).isEqual(e)||r.insert(u,e),r.merge(e);t.parent.isEmpty;){const f=t.parent;t=r.createPositionBefore(f),r.remove(f)}wg(r.model.schema,e,t)&&$k(r,e,t,n)}}function qk(r,e,t,n){const a=e.parent,u=t.parent;if(a!=n&&u!=n){for(e=r.createPositionAfter(a),(t=r.createPositionBefore(u)).isEqual(e)||r.insert(a,t);e.parent.isEmpty;){const f=e.parent;e=r.createPositionBefore(f),r.remove(f)}t=r.createPositionBefore(u),function(f,b){const w=b.nodeBefore,A=b.nodeAfter;w.name!=A.name&&f.rename(w,A.name),f.clearAttributes(w),f.setAttributes(Object.fromEntries(A.getAttributes()),w),f.merge(b)}(r,t),wg(r.model.schema,e,t)&&qk(r,e,t,n)}}function wg(r,e,t){const n=e.parent,a=t.parent;return n!=a&&!r.isLimit(n)&&!r.isLimit(a)&&function(u,f,b){const w=new et(u,f);for(const A of w.getWalker())if(b.isLimit(A.item))return!1;return!0}(e,t,r)}function lm(r,e,t,n={}){const a=r.createElement("paragraph");r.model.schema.setAllowedAttributes(a,n,r),r.insert(a,e),cm(r,t,r.createPositionAt(a,0))}function cm(r,e,t){e instanceof ma?r.setSelection(t):e.setTo(t)}function Mf(r,e){const t=[];Array.from(r.getItems({direction:"backward"})).map(n=>e.createRangeOn(n)).filter(n=>(n.start.isAfter(r.start)||n.start.isEqual(r.start))&&(n.end.isBefore(r.end)||n.end.isEqual(r.end))).forEach(n=>{t.push(n.start.parent),e.remove(n)}),t.forEach(n=>{let a=n;for(;a.parent&&a.isEmpty;){const u=e.createRangeOn(a);a=a.parent,e.remove(u)}})}class Yw{constructor(e,t,n){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(e);if(n.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new q("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?et._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new et(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let t=this._checkAndAutoParagraphToAllowedPosition(e);t||(t=this._checkAndSplitToAllowedPosition(e),t)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Fs.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new q("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Fs.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Fs.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof hi)||!this._canMergeLeft(e))return;const t=Fs._createBefore(e);t.stickiness="toNext";const n=Fs.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=Fs._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Fs._createAt(t.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof hi)||!this._canMergeRight(e))return;const t=Fs._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new q("insertcontent-invalid-insertion-position",this);this.position=At._createAt(t.nodeBefore,"end");const n=Fs.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=Fs._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Fs._createAt(t.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof hi&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof hi&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===t&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const n=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=n,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function dm(r,e,t,n={}){if(!r.schema.isObject(e))throw new q("insertobject-element-not-an-object",r,{object:e});const a=t||r.document.selection;let u=a;n.findOptimalPosition&&r.schema.isBlock(e)&&(u=r.createSelection(r.schema.findOptimalInsertionRange(a,n.findOptimalPosition)));const f=Wn(a.getSelectedBlocks()),b={};return f&&Object.assign(b,r.schema.getAttributesWithProperty(f,"copyOnReplace",!0)),r.change(w=>{u.isCollapsed||r.deleteContent(u,{doNotAutoparagraph:!0});let A=e;const E=u.anchor.parent;!r.schema.checkChild(E,e)&&r.schema.checkChild(E,"paragraph")&&r.schema.checkChild("paragraph",e)&&(A=w.createElement("paragraph"),w.insert(e,A)),r.schema.setAllowedAttributes(A,b,w);const O=r.insertContent(A,u);return O.isCollapsed||n.setSelection&&function(z,U,W,X){const ae=z.model;if(W=="on")return void z.setSelection(U,"on");if(W!="after")throw new q("insertobject-invalid-place-parameter-value",ae);let ge=U.nextSibling;if(ae.schema.isInline(U))return void z.setSelection(U,"after");!(ge&&ae.schema.checkChild(ge,"$text"))&&ae.schema.checkChild(U.parent,"paragraph")&&(ge=z.createElement("paragraph"),ae.schema.setAllowedAttributes(ge,X,z),ae.insertContent(ge,z.createPositionAfter(U))),ge&&z.setSelection(ge,0)}(w,e,n.setSelection,b),O})}const Gw=' ,.?!:;"-()';function Wk(r,e){const{isForward:t,walker:n,unit:a,schema:u,treatEmojiAsSingleUnit:f}=r,{type:b,item:w,nextPosition:A}=e;if(b=="text")return r.unit==="word"?function(E,O){let z=E.position.textNode;for(z||(z=O?E.position.nodeAfter:E.position.nodeBefore);z&&z.is("$text");){const U=E.position.offset-z.startOffset;if(Kk(z,U,O))z=O?E.position.nodeAfter:E.position.nodeBefore;else{if(Gk(z.data,U,O))break;E.next()}}return E.position}(n,t):function(E,O,z){const U=E.position.textNode;if(U){const W=U.data;let X=E.position.offset-U.startOffset;for(;Ts(W,X)||O=="character"&&Cl(W,X)||z&&jh(W,X);)E.next(),X=E.position.offset-U.startOffset}return E.position}(n,a,f);if(b==(t?"elementStart":"elementEnd")){if(u.isSelectable(w))return At._createAt(w,t?"after":"before");if(u.checkChild(A,"$text"))return A}else{if(u.isLimit(w))return void n.skip(()=>!0);if(u.checkChild(A,"$text"))return A}}function Yk(r,e){const t=r.root,n=At._createAt(t,e?"end":0);return e?new et(r,n):new et(n,r)}function Gk(r,e,t){const n=e+(t?0:-1);return Gw.includes(r.charAt(n))}function Kk(r,e,t){return e===(t?r.offsetSize:0)}class yg extends Oe(){constructor(){super(),this.markers=new sm,this.document=new Uw(this),this.schema=new Qi,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),gk(this),this.document.registerPostFixer(hc),this.on("insertContent",(e,[t,n])=>{e.return=function(a,u,f){return a.change(b=>{const w=f||a.document.selection;w.isCollapsed||a.deleteContent(w,{doNotAutoparagraph:!0});const A=new Yw(a,b,w.anchor),E=[];let O;if(u.is("documentFragment")){if(u.markers.size){const W=[];for(const[X,ae]of u.markers){const{start:ge,end:Me}=ae,Ze=ge.isEqual(Me);W.push({position:ge,name:X,isCollapsed:Ze},{position:Me,name:X,isCollapsed:Ze})}W.sort(({position:X},{position:ae})=>X.isBefore(ae)?1:-1);for(const{position:X,name:ae,isCollapsed:ge}of W){let Me=null,Ze=null;const pt=X.parent===u&&X.isAtStart,Vt=X.parent===u&&X.isAtEnd;pt||Vt?ge&&(Ze=pt?"start":"end"):(Me=b.createElement("$marker"),b.insert(Me,X)),E.push({name:ae,element:Me,collapsed:Ze})}}O=u.getChildren()}else O=[u];A.handleNodes(O);let z=A.getSelectionRange();if(u.is("documentFragment")&&E.length){const W=z?dr.fromRange(z):null,X={};for(let ae=E.length-1;ae>=0;ae--){const{name:ge,element:Me,collapsed:Ze}=E[ae],pt=!X[ge];if(pt&&(X[ge]=[]),Me){const Vt=b.createPositionAt(Me,"before");X[ge].push(Vt),b.remove(Me)}else{const Vt=A.getAffectedRange();if(!Vt){Ze&&X[ge].push(A.position);continue}Ze?X[ge].push(Vt[Ze]):X[ge].push(pt?Vt.start:Vt.end)}}for(const[ae,[ge,Me]]of Object.entries(X))ge&&Me&&ge.root===Me.root&&ge.root.document&&!b.model.markers.has(ae)&&b.addMarker(ae,{usingOperation:!0,affectsData:!0,range:new et(ge,Me)});W&&(z=W.toRange(),W.detach())}z&&(w instanceof ma?b.setSelection(z):w.setTo(z));const U=A.getAffectedRange()||a.createRange(w.anchor);return A.destroy(),U})}(this,t,n)}),this.on("insertObject",(e,[t,n,a])=>{e.return=dm(this,t,n,a)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new th,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){q.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new th):e instanceof th||(e=new th(e)):e=new th,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(n){q.rethrowUnexpectedError(n,this)}}applyOperation(e){e._execute()}insertContent(e,t,n,...a){const u=If(t,n);return this.fire("insertContent",[e,u,n,...a])}insertObject(e,t,n,a,...u){const f=If(t,n);return this.fire("insertObject",[e,f,a,a,...u])}deleteContent(e,t){am(this,e,t)}modifySelection(e,t){(function(n,a,u={}){const f=n.schema,b=u.direction!="backward",w=u.unit?u.unit:"character",A=!!u.treatEmojiAsSingleUnit,E=a.focus,O=new oo({boundaries:Yk(E,b),singleCharacters:!0,direction:b?"forward":"backward"}),z={walker:O,schema:f,isForward:b,unit:w,treatEmojiAsSingleUnit:A};let U;for(;U=O.next();){if(U.done)return;const W=Wk(z,U.value);if(W)return void(a instanceof ma?n.change(X=>{X.setSelectionFocus(W)}):a.setFocus(W))}})(this,e,t)}getSelectedContent(e){return function(t,n){return t.change(a=>{const u=a.createDocumentFragment(),f=n.getFirstRange();if(!f||f.isCollapsed)return u;const b=f.start.root,w=f.start.getCommonPath(f.end),A=b.getNodeByPath(w);let E;E=f.start.parent==f.end.parent?f:a.createRange(a.createPositionAt(A,f.start.path[w.length]),a.createPositionAt(A,f.end.path[w.length]+1));const O=E.end.offset-E.start.offset;for(const z of E.getItems({shallow:!0}))z.is("$textProxy")?a.appendText(z.data,z.getAttributes(),u):a.append(a.cloneElement(z,!0),u);if(E!=f){const z=f._getTransformedByMove(E.start,a.createPositionAt(u,0),O)[0],U=a.createRange(a.createPositionAt(u,0),z.start);Mf(a.createRange(z.end,a.createPositionAt(u,"end")),a),Mf(U,a)}return u})}(this,e)}hasContent(e,t={}){const n=e instanceof et?e:et._createIn(e);if(n.isCollapsed)return!1;const{ignoreWhitespaces:a=!1,ignoreMarkers:u=!1}=t;if(!u){for(const f of this.markers.getMarkersIntersectingRange(n))if(f.affectsData)return!0}for(const f of n.getItems())if(this.schema.isContent(f)&&(!f.is("$textProxy")||!a||f.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const t=If(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,n){return new At(e,t,n)}createPositionAt(e,t){return At._createAt(e,t)}createPositionAfter(e){return At._createAfter(e)}createPositionBefore(e){return At._createBefore(e)}createRange(e,t){return new et(e,t)}createRangeIn(e){return et._createIn(e)}createRangeOn(e){return et._createOn(e)}createSelection(...e){return new ks(...e)}createBatch(e){return new th(e)}createOperationFromJSON(e){return zs.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new kg(this,t);const n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function If(r,e){if(r)return r instanceof ks||r instanceof ma?r:r instanceof Zc?e||e===0?new ks(r,e):r.is("rootElement")?new ks(r,"in"):new ks(r,"on"):new ks(r)}class Of extends Nl{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class xg extends Nl{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class gc{constructor(e){this.document=e}createDocumentFragment(e){return new Yc(this.document,e)}createElement(e,t,n){return new Ho(this.document,e,t,n)}createText(e){return new bi(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,n){return n._insertChild(e,t)}removeChildren(e,t,n){return n._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const n=e.parent;if(n){const a=n.getChildIndex(e);return this.removeChildren(a,1,n),this.insertChild(a,t,n),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const n=t.getChildIndex(e);this.remove(e),this.insertChild(n,e.getChildren(),t)}}rename(e,t){const n=new Ho(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){$n(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return Bt._createAt(e,t)}createPositionAfter(e){return Bt._createAfter(e)}createPositionBefore(e){return Bt._createBefore(e)}createRange(e,t){return new Nn(e,t)}createRangeOn(e){return Nn._createOn(e)}createRangeIn(e){return Nn._createIn(e)}createSelection(...e){return new la(...e)}}class Cg{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const n=this.get(e);if(!n)throw new q("commandcollection-command-not-found",this,{commandName:e});return n.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}var Ag=Object.defineProperty,um=Object.getOwnPropertySymbols,Ng=Object.prototype.hasOwnProperty,Qk=Object.prototype.propertyIsEnumerable,Lf=(r,e,t)=>e in r?Ag(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;const Tl="contentEditing",bc="common";class sd{constructor(e){this.keystrokeInfos=new Map,this._editor=e;const t=e.config.get("menuBar.isVisible"),n=e.locale.t;this.addKeystrokeInfoCategory({id:Tl,label:n("Content editing keystrokes"),description:n("These keyboard shortcuts allow for quick access to content editing features.")});const a=[{label:n("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:n("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:n("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:n("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:n("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:n("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];t&&a.push({label:n("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:n("User interface and content navigation keystrokes"),description:n("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:a}]})}addKeystrokeInfoCategory({id:e,label:t,description:n,groups:a}){this.keystrokeInfos.set(e,{id:e,label:t,description:n,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:bc}),a&&a.forEach(u=>{this.addKeystrokeInfoGroup(((f,b)=>{for(var w in b||(b={}))Ng.call(b,w)&&Lf(f,w,b[w]);if(um)for(var w of um(b))Qk.call(b,w)&&Lf(f,w,b[w]);return f})({categoryId:e},u))})}addKeystrokeInfoGroup({categoryId:e=Tl,id:t,label:n,keystrokes:a}){const u=this.keystrokeInfos.get(e);if(!u)throw new q("accessibility-unknown-keystroke-info-category",this._editor,{groupId:t,categoryId:e});u.groups.set(t,{id:t,label:n,keystrokes:a||[]})}addKeystrokeInfos({categoryId:e=Tl,groupId:t=bc,keystrokes:n}){if(!this.keystrokeInfos.has(e))throw new q("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:n});const a=this.keystrokeInfos.get(e);if(!a.groups.has(t))throw new q("accessibility-unknown-keystroke-info-group",this._editor,{groupId:t,categoryId:e,keystrokes:n});a.groups.get(t).keystrokes.push(...n)}}var oh=Object.getOwnPropertySymbols,hm=Object.prototype.hasOwnProperty,od=Object.prototype.propertyIsEnumerable,Zk=(r,e)=>{var t={};for(var n in r)hm.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&oh)for(var n of oh(r))e.indexOf(n)<0&&od.call(r,n)&&(t[n]=r[n]);return t};class Xk extends Oe(){constructor(e={}){super();const t=this.constructor,n=t.defaultConfig||{},{translations:a}=n,u=Zk(n,["translations"]),f=e,{translations:b=a}=f,w=Zk(f,["translations"]),A=e.language||u.language;this._context=e.context||new Dr({language:A,translations:b}),this._context._addEditor(this,!e.context);const E=Array.from(t.builtinPlugins||[]);this.config=new Za(w,u),this.config.define("plugins",E),this.config.define(this._context._getEditorConfig()),this.plugins=new wn(this,E,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new Cg,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new yg,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const O=new Fb;this.data=new og(this.model,O),this.editing=new bk(this.model,O),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new ag([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new ts(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new sd(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new q("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new q("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new q("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],a=e.get("extraPlugins")||[],u=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(a),n,u)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(n){q.rethrowUnexpectedError(n,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function iu(r){return class extends r{updateSourceElement(e){if(!this.sourceElement)throw new q("editor-missing-sourceelement",this);const t=this.config.get("updateSourceElementOnDestroy"),n=this.sourceElement instanceof HTMLTextAreaElement;if(!t&&!n)return void Xr(this.sourceElement,"");const a=typeof e=="string"?e:this.data.get();Xr(this.sourceElement,a)}}}iu.updateSourceElement=iu(Object).prototype.updateSourceElement;class Jk extends Tr{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Po({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new q("pendingactions-add-invalid-message",this);const t=new(Oe());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Mn={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var mm=h(7801),e_={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(mm.A,e_),mm.A.locals;class Bf extends St{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${ee()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}class Rf extends St{constructor(e,t){super(e);const n=e.t,a=new Bf;a.text=n("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":a.id,role:"document",tabindex:-1},children:[ui(document,"p",{},n("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(t.values())),a]})}focus(){this.element.focus()}_createCategories(e){return e.map(t=>{const n=[ui(document,"h3",{},t.label),...Array.from(t.groups.values()).map(a=>this._createGroup(a)).flat()];return t.description&&n.splice(1,0,ui(document,"p",{},t.description)),ui(document,"section",{},n)})}_createGroup(e){const t=e.keystrokes.sort((a,u)=>a.label.localeCompare(u.label)).map(a=>this._createGroupRow(a)).flat(),n=[ui(document,"dl",{},t)];return e.label&&n.unshift(ui(document,"h4",{},e.label)),n}_createGroupRow(e){const t=this.locale.t,n=ui(document,"dt"),a=ui(document,"dd"),u=function(b){return typeof b=="string"?[[b]]:typeof b[0]=="string"?[b]:b}(e.keystroke),f=[];for(const b of u)f.push(b.map(Pf).join(""));return n.innerHTML=e.label,a.innerHTML=f.join(", ")+(e.mayRequireFn&&S.isMac?` ${t("(may require <kbd>Fn</kbd>)")}`:""),[n,a]}}function Pf(r){return nn(r).split("+").map(e=>`<kbd>${e}</kbd>`).join("+")}const Eg='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var ah=h(8527),Sg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(ah.A,Sg),ah.A.locals;class zf extends lt{constructor(){super(...arguments),this.contentView=null}static get requires(){return[su]}static get pluginName(){return"AccessibilityHelp"}init(){const e=this.editor,t=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const n=this._createButton(P);return n.set({tooltip:!0,withText:!1,label:t("Accessibility help")}),n}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const n=this._createButton(ll);return n.label=t("Accessibility"),n}),e.keystrokes.set("Alt+0",(n,a)=>{this._showDialog(),a()}),this._setupRootLabels()}_createButton(e){const t=new e(this.editor.locale);return t.set({keystroke:"Alt+0",icon:Eg}),t.on("execute",()=>this._showDialog()),t}_setupRootLabels(){const e=this.editor,t=e.editing.view,n=e.t;function a(u,f){const b=`${f.getAttribute("aria-label")}. ${n("Press %0 for help.",[nn("Alt+0")])}`;u.setAttribute("aria-label",b,f)}e.ui.on("ready",()=>{t.change(u=>{for(const f of t.document.roots)a(u,f)}),e.on("addRoot",(u,f)=>{const b=e.editing.view.document.getRoot(f.rootName);t.change(w=>a(w,b))},{priority:"low"})})}_showDialog(){const e=this.editor,t=e.plugins.get("Dialog"),n=e.locale.t;this.contentView||(this.contentView=new Rf(e.locale,e.accessibility.keystrokeInfos)),t.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:n("Accessibility help"),icon:Eg,hasCloseButton:!0,content:this.contentView})}}class t_ extends zo{constructor(e,t=[]){super(t),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Fo({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=ui(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var n_=h(7621),Ff={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(n_.A,Ff),n_.A.locals;const d=class extends St{constructor(){super();const r=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",r.if("isVisible","ck-hidden",e=>!e),"ck-reset_all-excluded",r.if("isColorInherited","ck-icon_inherit-color")],viewBox:r.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const r=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=r.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:t,value:n}of Array.from(r.attributes))d.presentationalAttributeNames.includes(t)&&this.element.setAttribute(t,n);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;r.childNodes.length>0;)this.element.appendChild(r.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(r=>{r.style.fill=this.fillColor})}};let m=d;m.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class k extends St{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var C=h(9715),M={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(C.A,M),C.A.locals;class P extends St{constructor(e,t=new k){super(e),this._focusDelayed=null;const n=this.bindTemplate,a=ee();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${a}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new m,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const u={tag:"button",attributes:{class:["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",f=>!f),n.if("isVisible","ck-hidden",f=>!f),n.to("isOn",f=>f?"ck-on":"ck-off"),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],role:n.to("role"),type:n.to("type",f=>f||"button"),tabindex:n.to("tabindex"),"aria-checked":n.to("ariaChecked"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy"),"aria-disabled":n.if("isEnabled",!0,f=>!f),"aria-pressed":n.to("isOn",f=>!!this.isToggleable&&String(!!f)),"data-cke-tooltip-text":n.to("_tooltipString"),"data-cke-tooltip-position":n.to("tooltipPosition")},children:this.children,on:{click:n.to(f=>{this.isEnabled?this.fire("execute"):f.preventDefault()})}};S.isSafari&&(this._focusDelayed||(this._focusDelayed=sa(()=>this.focus(),0)),u.on.mousedown=n.to(()=>{this._focusDelayed()}),u.on.mouseup=n.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(u)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new St;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>nn(t))}]}),e}_getTooltipString(e,t,n){return e?typeof e=="string"?e:(n&&(n=nn(n)),e instanceof Function?e(t,n):`${t}${n?` (${n})`:""}`):""}}var J=h(4391),ce={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(J.A,ce),J.A.locals;class Ae extends P{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new St;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class Xe extends P{constructor(e){super(e),this.buttonView=this,this._fileInputView=new gt(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class gt extends St{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const vt='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var nt=h(25),rt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(nt.A,rt),nt.A.locals;class In extends St{constructor(e,t){super(e);const n=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),t&&this.children.addMany(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",n.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:n.if("isCollapsed","hidden"),"aria-labelledby":n.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new P(this.locale),t=e.bindTemplate;return e.set({withText:!0,icon:vt}),e.extendTemplate({attributes:{"aria-expanded":t.to("isOn",n=>String(n))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",n=>!n),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}var _n=h(7317),Vi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(_n.A,Vi),_n.A.locals,h(6931),h(9047);var He=h(4962),Be={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(He.A,Be),He.A.locals;class Ke extends St{constructor(e,t){super(e);const n=`ck-labeled-field-view-${ee()}`,a=`ck-labeled-field-view-status-${ee()}`;this.fieldView=t(this,n,a),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(a),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(f,b)=>f||b);const u=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",u.to("class"),u.if("isEnabled","ck-disabled",f=>!f),u.if("isEmpty","ck-labeled-field-view_empty"),u.if("isFocused","ck-labeled-field-view_focused"),u.if("placeholder","ck-labeled-field-view_placeholder"),u.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new Bf(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new St(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",a=>!a)],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}}class _t extends St{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new mr,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),tabindex:t.to("tabIndex"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById"),"aria-label":t.to("ariaLabel")},on:{input:t.to((...n)=>{this.fire("input",...n),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,n)=>{this._setDomElementValue(n),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}var sn=h(253),ni={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(sn.A,ni),sn.A.locals;class cn extends _t{constructor(e){super(e),this.set("inputMode","text");const t=this.bindTemplate;this.extendTemplate({attributes:{inputmode:t.to("inputMode")}})}}class En extends cn{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var rs=h(1671),xi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(rs.A,xi),rs.A.locals;class ad extends St{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",n=>`ck-dropdown__panel_${n}`),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to(n=>{n.target.tagName.toLocaleLowerCase()!=="input"&&n.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():de("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var i_=h(8149),dB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(i_.A,dB),i_.A.locals;const Kw=class extends St{constructor(r,e,t){super(r);const n=this.bindTemplate;this.buttonView=e,this.panelView=t,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new fr,this.focusTracker=new mr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",n.to("class"),n.if("isEnabled","ck-disabled",a=>!a)],id:n.to("id"),"aria-describedby":n.to("ariaDescribedById")},children:[e,t]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":n.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(e,t,n)=>{if(n)if(this.panelPosition==="auto"){const a=Kw._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=a?a.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const r=(e,t)=>{this.isOpen&&(this.isOpen=!1,t())};this.keystrokes.set("arrowdown",(e,t)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,t())}),this.keystrokes.set("arrowright",(e,t)=>{this.isOpen&&t()}),this.keystrokes.set("arrowleft",r),this.keystrokes.set("esc",r)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:r,north:e,southEast:t,southWest:n,northEast:a,northWest:u,southMiddleEast:f,southMiddleWest:b,northMiddleEast:w,northMiddleWest:A}=Kw.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[t,n,f,b,r,a,u,w,A,e]:[n,t,b,f,r,u,a,A,w,e]}};let Qw=Kw;Qw.defaultPanelPositions={south:(r,e)=>({top:r.bottom,left:r.left-(e.width-r.width)/2,name:"s"}),southEast:r=>({top:r.bottom,left:r.left,name:"se"}),southWest:(r,e)=>({top:r.bottom,left:r.left-e.width+r.width,name:"sw"}),southMiddleEast:(r,e)=>({top:r.bottom,left:r.left-(e.width-r.width)/4,name:"sme"}),southMiddleWest:(r,e)=>({top:r.bottom,left:r.left-3*(e.width-r.width)/4,name:"smw"}),north:(r,e)=>({top:r.top-e.height,left:r.left-(e.width-r.width)/2,name:"n"}),northEast:(r,e)=>({top:r.top-e.height,left:r.left,name:"ne"}),northWest:(r,e)=>({top:r.top-e.height,left:r.left-e.width+r.width,name:"nw"}),northMiddleEast:(r,e)=>({top:r.top-e.height,left:r.left-(e.width-r.width)/4,name:"nme"}),northMiddleWest:(r,e)=>({top:r.top-e.height,left:r.left-3*(e.width-r.width)/4,name:"nmw"})},Qw._getOptimalPosition=js;class uB extends P{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new m;return e.content=vt,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class Ml extends he(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let n=e.actions[t];typeof n=="string"&&(n=[n]);for(const a of n)e.keystrokeHandler.set(a,(u,f)=>{this[t](),f()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(Zw)||null}get last(){return this.focusables.filter(Zw).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,n)=>{const a=t.element===this.focusTracker.focusedElement;return a&&(e=n),a}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}_focus(e,t){e&&this.focusTracker.focusedElement!==e.element&&e.focus(t)}_getDomFocusableItem(e){const t=this.focusables.length;if(!t)return null;const n=this.current;if(n===null)return this[e===1?"first":"last"];let a=this.focusables.get(n),u=(n+t+e)%t;do{const f=this.focusables.get(u);if(Zw(f)){a=f;break}u=(u+t+e)%t}while(u!==n);return a}}function Zw(r){return jg(r)&&ur(r.element)}function jg(r){return!(!("focus"in r)||typeof r.focus!="function")}class k1 extends St{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class hB extends St{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var mB=Object.defineProperty,_1=Object.getOwnPropertySymbols,fB=Object.prototype.hasOwnProperty,pB=Object.prototype.propertyIsEnumerable,v1=(r,e,t)=>e in r?mB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,w1=(r,e)=>{for(var t in e||(e={}))fB.call(e,t)&&v1(r,t,e[t]);if(_1)for(var t of _1(e))pB.call(e,t)&&v1(r,t,e[t]);return r};function y1(r){if(Array.isArray(r))return{items:r,removeItems:[]};const e={items:[],removeItems:[]};return r?w1(w1({},e),r):e}var x1=h(9677),gB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(x1.A,gB),x1.A.locals;const bB={alignLeft:Mn.alignLeft,bold:Mn.bold,importExport:Mn.importExport,paragraph:Mn.paragraph,plus:Mn.plus,text:Mn.text,threeVerticalDots:Mn.threeVerticalDots,pilcrow:Mn.pilcrow,dragIndicator:Mn.dragIndicator};class Xw extends St{constructor(e,t){super(e);const n=this.bindTemplate,a=this.t;this.options=t||{},this.set("ariaLabel",a("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new mr,this.keystrokes=new fr,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new kB(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const u=e.uiLanguageDirection==="rtl";this._focusCycler=new Ml({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[u?"arrowright":"arrowleft","arrowup"],focusNext:[u?"arrowleft":"arrowright","arrowdown"]}});const f=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];var b;this.options.shouldGroupWhenFull&&this.options.isFloating&&f.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:f,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(b=this,b.bindTemplate.to(w=>{w.target===b.element&&w.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new vB(this):new _B(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,n){this.items.addMany(this._buildItemsFromConfig(e,t,n))}_buildItemsFromConfig(e,t,n){const a=y1(e),u=n||a.removeItems;return this._cleanItemsConfiguration(a.items,t,u).map(f=>fe(f)?this._createNestedToolbarDropdown(f,t,u):f==="|"?new k1:f==="-"?new hB:t.create(f)).filter(f=>!!f)}_cleanItemsConfiguration(e,t,n){const a=e.filter((u,f,b)=>u==="|"||n.indexOf(u)===-1&&(u==="-"?!this.options.shouldGroupWhenFull||(de("toolbarview-line-break-ignored-when-grouping-items",b),!1):!(!fe(u)&&!t.has(u))||(de("toolbarview-item-unavailable",{item:u}),!1)));return this._cleanSeparatorsAndLineBreaks(a)}_cleanSeparatorsAndLineBreaks(e){const t=f=>f!=="-"&&f!=="|",n=e.length,a=e.findIndex(t);if(a===-1)return[];const u=n-e.slice().reverse().findIndex(t);return e.slice(a,u).filter((f,b,w)=>t(f)?!0:!(b>0&&w[b-1]===f))}_createNestedToolbarDropdown(e,t,n){let{label:a,icon:u,items:f,tooltip:b=!0,withText:w=!1}=e;if(f=this._cleanItemsConfiguration(f,t,n),!f.length)return null;const A=ru(this.locale);return a||de("toolbarview-nested-toolbar-dropdown-missing-label",e),A.class="ck-toolbar__nested-toolbar-dropdown",A.buttonView.set({label:a,tooltip:b,withText:!!w}),u!==!1?A.buttonView.icon=bB[u]||u||Mn.threeVerticalDots:A.buttonView.withText=!0,ty(A,()=>A.toolbarView._buildItemsFromConfig(f,t,n)),A}}class kB extends St{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class _B{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(n=>n),e.focusables.bindTo(e.items).using(n=>jg(n)?n:null),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class vB{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(t,n)=>{const a=n.index,u=Array.from(n.added);for(const f of n.removed)a>=this.ungroupedItems.length?this.groupedItems.remove(f):this.ungroupedItems.remove(f);for(let f=a;f<a+u.length;f++){const b=u[f-a];f>this.ungroupedItems.length?this.groupedItems.add(b,f-this.ungroupedItems.length):this.ungroupedItems.add(b,f)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!ur(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new fn(e.lastChild),a=new fn(e);if(!this.cachedPadding){const u=y.window.getComputedStyle(e),f=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(u[f])}return t==="ltr"?n.right>a.right-this.cachedPadding:n.left<a.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new _o(this.viewElement,t=>{e&&e===t.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new k1),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,n=ru(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",ty(n,this.groupedItems),n.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:Mn.threeVerticalDots}),n}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{jg(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class Vf extends St{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",n=>!n)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class Jw extends St{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class r_ extends St{constructor(e,t=new Bf){super(e);const n=this.bindTemplate,a=new ey(e);this.set({label:"",isVisible:!0}),this.labelView=t,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,a]),a.set({role:"group",ariaLabelledBy:t.id}),a.focusTracker.destroy(),a.keystrokes.destroy(),this.items=a.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",n.if("isVisible","ck-hidden",u=>!u)]},children:this.children})}focus(){if(this.items){const e=this.items.find(t=>!(t instanceof Jw));e&&e.focus()}}}var C1=h(5199),wB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(C1.A,wB),C1.A.locals;class ey extends St{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const t=this.bindTemplate;this.focusables=new zo,this.items=this.createCollection(),this.focusTracker=new mr,this.keystrokes=new fr,this._focusCycler=new Ml({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof r_?this._registerFocusableItemsGroup(e):e instanceof Vf&&this._registerFocusableListItem(e);this.items.on("change",(e,t)=>{for(const n of t.removed)n instanceof r_?this._deregisterFocusableItemsGroup(n):n instanceof Vf&&this._deregisterFocusableListItem(n);for(const n of Array.from(t.added).reverse())n instanceof r_?this._registerFocusableItemsGroup(n,t.index):this._registerFocusableListItem(n,t.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,n)=>{for(const a of n.removed)this._deregisterFocusableListItem(a);for(const a of Array.from(n.added).reverse())this._registerFocusableListItem(a,this.items.getIndex(e)+n.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach((a,u)=>{const f=t!==void 0?t+u:void 0;this._registerFocusableListItem(a,f)});const n=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,n),e.items.on("change",n)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}var A1=h(1792),yB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(A1.A,yB),A1.A.locals;class s_ extends St{constructor(e,t){super(e);const n=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(t),this.arrowView=this._createArrowView(),this.keystrokes=new fr,this.focusTracker=new mr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",n.to("class"),n.if("isVisible","ck-hidden",a=>!a),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const t=e||new P;return e||t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const e=new P,t=e.bindTemplate;return e.icon=vt,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",n=>String(n))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var N1=h(1666),xB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(N1.A,xB),N1.A.locals;var E1=h(3629),CB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(E1.A,CB),E1.A.locals;function ru(r,e=uB){const t=typeof e=="function"?new e(r):e,n=new ad(r),a=new Qw(r,t,n);return t.bind("isEnabled").to(a),t instanceof s_?t.arrowView.bind("isOn").to(a,"isOpen"):t.bind("isOn").to(a,"isOpen"),function(u){(function(f){f.on("render",()=>{An({emitter:f,activator:()=>f.isOpen,callback:()=>{f.isOpen=!1},contextElements:()=>[f.element,...f.focusTracker._elements]})})})(u),function(f){f.on("execute",b=>{b.source instanceof Ae||(f.isOpen=!1)})}(u),function(f){f.focusTracker.on("change:isFocused",(b,w,A)=>{f.isOpen&&!A&&(f.isOpen=!1)})}(u),function(f){f.keystrokes.set("arrowdown",(b,w)=>{f.isOpen&&(f.panelView.focus(),w())}),f.keystrokes.set("arrowup",(b,w)=>{f.isOpen&&(f.panelView.focusLast(),w())})}(u),function(f){f.on("change:isOpen",(b,w,A)=>{if(A)return;const E=f.panelView.element;E&&E.contains(y.document.activeElement)&&f.buttonView.focus()})}(u),function(f){f.on("change:isOpen",(b,w,A)=>{A&&f.panelView.focus()},{priority:"low"})}(u)}(a),a}function ty(r,e,t={}){r.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),r.isOpen?S1(r,e,t):r.once("change:isOpen",()=>S1(r,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&T1(r,()=>r.toolbarView.items.find(n=>n.isOn))}function S1(r,e,t){const n=r.locale,a=n.t,u=r.toolbarView=new Xw(n),f=typeof e=="function"?e():e;u.ariaLabel=t.ariaLabel||a("Dropdown toolbar"),t.maxWidth&&(u.maxWidth=t.maxWidth),t.class&&(u.class=t.class),t.isCompact&&(u.isCompact=t.isCompact),t.isVertical&&(u.isVertical=!0),f instanceof zo?u.items.bindTo(f).using(b=>b):u.items.addMany(f),r.panelView.children.add(u),u.items.delegate("execute").to(r)}function j1(r,e,t={}){r.isOpen?D1(r,e,t):r.once("change:isOpen",()=>D1(r,e,t),{priority:"highest"}),T1(r,()=>r.listView.items.find(n=>n instanceof Vf&&n.children.first.isOn))}function D1(r,e,t){const n=r.locale,a=r.listView=new ey(n),u=typeof e=="function"?e():e;a.ariaLabel=t.ariaLabel,a.role=t.role,M1(r,a.items,u,n),r.panelView.children.add(a),a.items.delegate("execute").to(r)}function T1(r,e){r.on("change:isOpen",()=>{if(!r.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():de("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:ne.low-10})}function M1(r,e,t,n){e.bindTo(t).using(a=>{if(a.type==="separator")return new Jw(n);if(a.type==="group"){const u=new r_(n);return u.set({label:a.label}),M1(r,u.items,a.items,n),u.items.delegate("execute").to(r),u}if(a.type==="button"||a.type==="switchbutton"){const u=new Vf(n);let f;return a.type==="button"?(f=new P(n),f.bind("ariaChecked").to(f,"isOn")):f=new Ae(n),f.bind(...Object.keys(a.model)).to(a.model),f.delegate("execute").to(u),u.children.add(f),u}return null})}const o_=(r,e,t)=>{const n=new En(r.locale);return n.set({id:e,ariaDescribedById:t}),n.bind("isReadOnly").to(r,"isEnabled",a=>!a),n.bind("hasError").to(r,"errorText",a=>!!a),n.on("input",()=>{r.errorText=null}),r.bind("isEmpty","isFocused","placeholder").to(n),n};var I1=h(1905),AB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(I1.A,AB),I1.A.locals;var O1=h(6309),NB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(O1.A,NB),O1.A.locals;class EB{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(ny(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new q("componentfactory-item-missing",this,{name:e});return this._components.get(ny(e)).callback(this.editor.locale)}has(e){return this._components.has(ny(e))}}function ny(r){return String(r).toLowerCase()}var L1=h(7913),SB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(L1.A,SB),L1.A.locals;class jB extends St{constructor(e,t={}){super(e);const n=this.bindTemplate;this.set("label",t.label||""),this.set("class",t.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",n.to("class")]},children:this.children}),t.icon&&(this.iconView=new m,this.iconView.content=t.icon,this.children.add(this.iconView));const a=new St(e);a.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:n.to("label")}]}),this.children.add(a)}}var B1=h(9822),DB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(B1.A,DB),B1.A.locals;class TB extends St{constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new fr,this._focusTracker=new mr,this._focusables=new zo,this.focusCycler=new Ml({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const t of e){const n=new P(this.locale);let a;for(a in n.on("execute",()=>t.onExecute()),t.onCreate&&t.onCreate(n),t)a!="onExecute"&&a!="onCreate"&&n.set(a,t[a]);this.children.add(n)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class MB extends St{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var R1=h(9819),IB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(R1.A,IB),R1.A.locals;const a_="screen-center",P1="editor-center",OB="editor-top-side",LB="editor-top-center",BB="editor-bottom-center",RB="editor-above-center",PB="editor-below-center",z1=vo("px"),F1=class extends function(r){return class extends r{constructor(...e){super(...e),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(y.document,"mouseup",this._onDragEndBound),this.listenTo(y.document,"touchend",this._onDragEndBound),this.listenTo(y.document,"mousemove",this._onDragBound),this.listenTo(y.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(y.document,"mouseup",this._onDragEndBound),this.stopListening(y.document,"touchend",this._onDragEndBound),this.stopListening(y.document,"mousemove",this._onDragBound),this.stopListening(y.document,"touchmove",this._onDragBound)}_onDragStart(e,t){if(!this._isHandleElementPressed(t))return;this._attachDragListeners();let n=0,a=0;t instanceof MouseEvent?(n=t.clientX,a=t.clientY):(n=t.touches[0].clientX,a=t.touches[0].clientY),this._lastDraggingCoordinates={x:n,y:a},this.isDragging=!0}_onDrag(e,t){if(!this.isDragging)return void this._detachDragListeners();let n=0,a=0;t instanceof MouseEvent?(n=t.clientX,a=t.clientY):(n=t.touches[0].clientX,a=t.touches[0].clientY),t.preventDefault(),this.fire("drag",{deltaX:Math.round(n-this._lastDraggingCoordinates.x),deltaY:Math.round(a-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:n,y:a}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(e){return!!this.dragHandleElement&&(this.dragHandleElement===e.target||e.target instanceof HTMLElement&&this.dragHandleElement.contains(e.target))}}}(St){constructor(r,{getCurrentDomRoot:e,getViewportOffset:t}){super(r),this.wasMoved=!1;const n=this.bindTemplate,a=r.t;this.set("className",""),this.set("ariaLabel",a("Editor dialog")),this.set("isModal",!1),this.set("position",a_),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=e,this._getViewportOffset=t,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new fr,this.focusTracker=new mr,this._focusables=new zo,this._focusCycler=new Ml({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",n.if("isModal","ck-dialog-overlay__transparent",u=>!u),n.if("_isVisible","ck-hidden",u=>!u)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",n.to("className")],role:"dialog","aria-label":n.to("ariaLabel"),style:{top:n.to("_top",u=>z1(u)),left:n.to("_left",u=>z1(u)),visibility:n.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(r,e)=>{this.fire("close",{source:"escKeyPress"}),e()}),this.on("drag",(r,{deltaX:e,deltaY:t})=>{this.wasMoved=!0,this.moveBy(e,t)}),this.listenTo(y.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(y.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(r,e,t)=>{t&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:r,title:e,hasCloseButton:t=!0,content:n,actionButtons:a}){e&&(this.headerView=new jB(this.locale,{icon:r}),t&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=e,this.ariaLabel=e,this.parts.add(this.headerView,0)),n&&(n instanceof St&&(n=[n]),this.contentView=new MB(this.locale),this.contentView.children.addMany(n),this.parts.add(this.contentView)),a&&(this.actionsView=new TB(this.locale),this.actionsView.setButtons(a),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(r,e){const t=this._getViewportRect(),n=this._getDialogRect();r+n.width>t.right&&(r=t.right-n.width),r<t.left&&(r=t.left),e<t.top&&(e=t.top),this._moveTo(r,e)}_moveTo(r,e){this._left=r,this._top=e}moveBy(r,e){this.moveTo(this._left+r,this._top+e)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const r=this._getViewportRect();let e,t=this.position;this._getCurrentDomRoot()?e=this._getVisibleDomRootRect(r):t=a_;const n=F1.defaultOffset,a=this._getDialogRect();switch(t){case OB:if(e){const u=this.locale.contentLanguageDirection==="ltr"?e.right-a.width-n:e.left+n;this.moveTo(u,e.top+n)}else this._moveOffScreen();break;case P1:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),Math.round(e.top+e.height/2-a.height/2)):this._moveOffScreen();break;case a_:this.moveTo(Math.round((r.width-a.width)/2),Math.round((r.height-a.height)/2));break;case LB:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),e.top+n):this._moveOffScreen();break;case BB:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),e.bottom-a.height-n):this._moveOffScreen();break;case RB:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),e.top-a.height-n):this._moveOffScreen();break;case PB:e?this.moveTo(Math.round(e.left+e.width/2-a.width/2),e.bottom+n):this._moveOffScreen()}}_getVisibleDomRootRect(r){let e=new fn(this._getCurrentDomRoot()).getVisible();return e?(e=r.getIntersection(e),e||null):null}_getDialogRect(){return new fn(this.element.firstElementChild)}_getViewportRect(){return function(r){r=Object.assign({top:0,bottom:0,left:0,right:0},r);const e=new fn(y.window);return e.top+=r.top,e.height-=r.top,e.bottom-=r.bottom,e.height-=r.bottom,e.left+=r.left,e.right-=r.right,e.width-=r.left+r.right,e}(this._getViewportOffset())}_updateFocusCyclableItems(){const r=[];if(this.contentView)for(const e of this.contentView.children)jg(e)&&r.push(e);this.actionsView&&r.push(this.actionsView),this.closeButtonView&&r.push(this.closeButtonView),r.forEach(e=>{var t;this._focusables.add(e),this.focusTracker.add(e.element),jg(t=e)&&"focusCycler"in t&&t.focusCycler instanceof Ml&&(this.listenTo(e.focusCycler,"forwardCycle",n=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&n.stop()}),this.listenTo(e.focusCycler,"backwardCycle",n=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&n.stop()}))})}_createCloseButton(){const r=new P(this.locale),e=this.locale.t;return r.set({label:e("Close"),tooltip:!0,icon:Mn.cancel}),r.on("execute",()=>this.fire("close",{source:"closeButton"})),r}};let l_=F1;l_.defaultOffset=15;class su extends lt{constructor(e){super(e);const t=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:t("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",(e,t)=>{this._show(t)}),this.on("show",(e,t)=>{t.onShow&&t.onShow(this)},{priority:"low"}),this.on("hide",()=>{su._visibleDialogPlugin&&su._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(t,n)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),n())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const t=e.document.differ.getChangedRoots();for(const n of t)n.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:t,title:n,hasCloseButton:a=!0,content:u,actionButtons:f,className:b,isModal:w,position:A,onHide:E}){const O=this.editor;this.view=new l_(O.locale,{getCurrentDomRoot:()=>O.editing.view.getDomRoot(O.model.document.selection.anchor.root.rootName),getViewportOffset:()=>O.ui.viewportOffset});const z=this.view;z.on("close",()=>{this.hide()}),O.ui.view.body.add(z),O.ui.focusTracker.add(z.element),O.keystrokes.listenTo(z.element),A||(A=w?a_:P1),z.set({position:A,_isVisible:!0,className:b,isModal:w}),z.setupParts({icon:t,title:n,hasCloseButton:a,content:u,actionButtons:f}),this.id=e,E&&(this._onHide=E),this.isOpen=!0,su._visibleDialogPlugin=this}hide(){su._visibleDialogPlugin&&su._visibleDialogPlugin.fire(`hide:${su._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,t=this.view;t.contentView&&t.contentView.reset(),e.ui.view.body.remove(t),e.ui.focusTracker.remove(t.element),e.keystrokes.stopListening(t.element),t.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,su._visibleDialogPlugin=null}}var V1=h(3710),zB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(V1.A,zB),V1.A.locals;var FB=Object.defineProperty,H1=Object.getOwnPropertySymbols,VB=Object.prototype.hasOwnProperty,HB=Object.prototype.propertyIsEnumerable,U1=(r,e,t)=>e in r?FB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Si=(r,e)=>{for(var t in e||(e={}))VB.call(e,t)&&U1(r,t,e[t]);if(H1)for(var t of H1(e))HB.call(e,t)&&U1(r,t,e[t]);return r};const $1=vo("px"),q1=y.document.body,UB={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},iy=class extends St{constructor(r){super(r);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",t=>`ck-balloon-panel_${t}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",$1),left:e.to("left",$1)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(r){this.show();const e=iy.defaultPositions,t=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:q1,fitInViewport:!0},r),n=iy._getOptimalPosition(t)||UB,a=parseInt(n.left),u=parseInt(n.top),f=n.name,b=n.config||{},{withArrow:w=!0}=b;this.top=u,this.left=a,this.position=f,this.withArrow=w}pin(r){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(r):this._stopPinning()},this._startPinning(r),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(r){this.attachTo(r);const e=ry(r.target),t=r.limiter?ry(r.limiter):q1;this.listenTo(y.document,"scroll",(n,a)=>{const u=a.target,f=e&&u.contains(e),b=t&&u.contains(t);!f&&!b&&e&&t||this.attachTo(r)},{useCapture:!0}),this.listenTo(y.window,"resize",()=>{this.attachTo(r)})}_stopPinning(){this.stopListening(y.document,"scroll"),this.stopListening(y.window,"resize")}};let Ma=iy;function ry(r){return Es(r)?r:Lo(r)?r.commonAncestorContainer:typeof r=="function"?ry(r()):null}function W1(r={}){const{sideOffset:e=Ma.arrowSideOffset,heightOffset:t=Ma.arrowHeightOffset,stickyVerticalOffset:n=Ma.stickyVerticalOffset,config:a}=r;return{northWestArrowSouthWest:(b,w)=>Si({top:u(b,w),left:b.left-e,name:"arrow_sw"},a&&{config:a}),northWestArrowSouthMiddleWest:(b,w)=>Si({top:u(b,w),left:b.left-.25*w.width-e,name:"arrow_smw"},a&&{config:a}),northWestArrowSouth:(b,w)=>Si({top:u(b,w),left:b.left-w.width/2,name:"arrow_s"},a&&{config:a}),northWestArrowSouthMiddleEast:(b,w)=>Si({top:u(b,w),left:b.left-.75*w.width+e,name:"arrow_sme"},a&&{config:a}),northWestArrowSouthEast:(b,w)=>Si({top:u(b,w),left:b.left-w.width+e,name:"arrow_se"},a&&{config:a}),northArrowSouthWest:(b,w)=>Si({top:u(b,w),left:b.left+b.width/2-e,name:"arrow_sw"},a&&{config:a}),northArrowSouthMiddleWest:(b,w)=>Si({top:u(b,w),left:b.left+b.width/2-.25*w.width-e,name:"arrow_smw"},a&&{config:a}),northArrowSouth:(b,w)=>Si({top:u(b,w),left:b.left+b.width/2-w.width/2,name:"arrow_s"},a&&{config:a}),northArrowSouthMiddleEast:(b,w)=>Si({top:u(b,w),left:b.left+b.width/2-.75*w.width+e,name:"arrow_sme"},a&&{config:a}),northArrowSouthEast:(b,w)=>Si({top:u(b,w),left:b.left+b.width/2-w.width+e,name:"arrow_se"},a&&{config:a}),northEastArrowSouthWest:(b,w)=>Si({top:u(b,w),left:b.right-e,name:"arrow_sw"},a&&{config:a}),northEastArrowSouthMiddleWest:(b,w)=>Si({top:u(b,w),left:b.right-.25*w.width-e,name:"arrow_smw"},a&&{config:a}),northEastArrowSouth:(b,w)=>Si({top:u(b,w),left:b.right-w.width/2,name:"arrow_s"},a&&{config:a}),northEastArrowSouthMiddleEast:(b,w)=>Si({top:u(b,w),left:b.right-.75*w.width+e,name:"arrow_sme"},a&&{config:a}),northEastArrowSouthEast:(b,w)=>Si({top:u(b,w),left:b.right-w.width+e,name:"arrow_se"},a&&{config:a}),southWestArrowNorthWest:b=>Si({top:f(b),left:b.left-e,name:"arrow_nw"},a&&{config:a}),southWestArrowNorthMiddleWest:(b,w)=>Si({top:f(b),left:b.left-.25*w.width-e,name:"arrow_nmw"},a&&{config:a}),southWestArrowNorth:(b,w)=>Si({top:f(b),left:b.left-w.width/2,name:"arrow_n"},a&&{config:a}),southWestArrowNorthMiddleEast:(b,w)=>Si({top:f(b),left:b.left-.75*w.width+e,name:"arrow_nme"},a&&{config:a}),southWestArrowNorthEast:(b,w)=>Si({top:f(b),left:b.left-w.width+e,name:"arrow_ne"},a&&{config:a}),southArrowNorthWest:b=>Si({top:f(b),left:b.left+b.width/2-e,name:"arrow_nw"},a&&{config:a}),southArrowNorthMiddleWest:(b,w)=>Si({top:f(b),left:b.left+b.width/2-.25*w.width-e,name:"arrow_nmw"},a&&{config:a}),southArrowNorth:(b,w)=>Si({top:f(b),left:b.left+b.width/2-w.width/2,name:"arrow_n"},a&&{config:a}),southArrowNorthMiddleEast:(b,w)=>Si({top:f(b),left:b.left+b.width/2-.75*w.width+e,name:"arrow_nme"},a&&{config:a}),southArrowNorthEast:(b,w)=>Si({top:f(b),left:b.left+b.width/2-w.width+e,name:"arrow_ne"},a&&{config:a}),southEastArrowNorthWest:b=>Si({top:f(b),left:b.right-e,name:"arrow_nw"},a&&{config:a}),southEastArrowNorthMiddleWest:(b,w)=>Si({top:f(b),left:b.right-.25*w.width-e,name:"arrow_nmw"},a&&{config:a}),southEastArrowNorth:(b,w)=>Si({top:f(b),left:b.right-w.width/2,name:"arrow_n"},a&&{config:a}),southEastArrowNorthMiddleEast:(b,w)=>Si({top:f(b),left:b.right-.75*w.width+e,name:"arrow_nme"},a&&{config:a}),southEastArrowNorthEast:(b,w)=>Si({top:f(b),left:b.right-w.width+e,name:"arrow_ne"},a&&{config:a}),westArrowEast:(b,w)=>Si({top:b.top+b.height/2-w.height/2,left:b.left-w.width-t,name:"arrow_e"},a&&{config:a}),eastArrowWest:(b,w)=>Si({top:b.top+b.height/2-w.height/2,left:b.right+t,name:"arrow_w"},a&&{config:a}),viewportStickyNorth:(b,w,A,E)=>{const O=E||A;return b.getIntersection(O)?O.height-b.height>n?null:{top:O.top+n,left:b.left+b.width/2-w.width/2,name:"arrowless",config:Si({withArrow:!1},a)}:null}};function u(b,w){return b.top-w.height-t}function f(b){return b.bottom+t}}Ma.arrowSideOffset=25,Ma.arrowHeightOffset=10,Ma.stickyVerticalOffset=20,Ma._getOptimalPosition=js,Ma.defaultPositions=W1();var Y1=h(9205),$B={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(Y1.A,$B),Y1.A.locals;const G1="ck-tooltip",Ia=class extends Js(){constructor(r){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,Ia._editors.add(r),Ia._instance)return Ia._instance;Ia._instance=this,this.tooltipTextView=new St(r.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Ma(r.locale),this.balloonPanelView.class=G1,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(e){const t=new MutationObserver(()=>{e()});return{attach(n){t.observe(n,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){t.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=lc(this._pinTooltip,600),this._unpinTooltipDebounced=lc(this._unpinTooltip,400),this.listenTo(y.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(y.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(y.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(y.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(y.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(y.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(r){const e=r.ui.view&&r.ui.view.body;Ia._editors.delete(r),this.stopListening(r.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),Ia._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Ia._instance=null)}static getPositioningFunctions(r){const e=Ia.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[r]}_onKeyDown(r,e){e.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),e.stopPropagation())}_onEnterOrFocus(r,{target:e}){const t=sy(e);t?t!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(t,K1(t))):r.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(r,{target:e,relatedTarget:t}){if(r.name==="mouseleave"){if(!Es(e))return;const n=this.balloonPanelView.element,a=n&&(n===t||n.contains(t)),u=!a&&e===n;if(a)return void this._unpinTooltipDebounced.cancel();if(!u&&this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const f=sy(e),b=sy(t);(u||f&&f!==b)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(r,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(r,{text:e,position:t,cssClass:n}){this._unpinTooltip();const a=Wn(Ia._editors.values()).ui.view.body;a.has(this.balloonPanelView)||a.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:r,positions:Ia.getPositioningFunctions(t)}),this._resizeObserver=new _o(r,()=>{ur(r)||this._unpinTooltip()}),this._mutationObserver.attach(r),this.balloonPanelView.class=[G1,n].filter(u=>u).join(" ");for(const u of Ia._editors)this.listenTo(u.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=r,this._currentTooltipPosition=t}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const r of Ia._editors)this.stopListening(r.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const r=K1(this._currentElementWithTooltip);ur(this._currentElementWithTooltip)&&r.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Ia.getPositioningFunctions(r.position)}):this._unpinTooltip()}};let c_=Ia;function sy(r){return Es(r)?r.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function K1(r){return{text:r.dataset.ckeTooltipText,position:r.dataset.ckeTooltipPosition||"s",cssClass:r.dataset.ckeTooltipClass||""}}c_.defaultBalloonPositions=W1({heightOffset:5,sideOffset:13}),c_._editors=new Set,c_._instance=null;const d_=function(r,e,t){var n=!0,a=!0;if(typeof r!="function")throw new TypeError("Expected a function");return fe(t)&&(n="leading"in t?!!t.leading:n,a="trailing"in t?!!t.trailing:a),lc(r,e,{leading:n,maxWait:e,trailing:a})};var qB=Object.defineProperty,Q1=Object.getOwnPropertySymbols,WB=Object.prototype.hasOwnProperty,YB=Object.prototype.propertyIsEnumerable,Z1=(r,e,t)=>e in r?qB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,GB=(r,e)=>{for(var t in e||(e={}))WB.call(e,t)&&Z1(r,t,e[t]);if(Q1)for(var t of Q1(e))YB.call(e,t)&&Z1(r,t,e[t]);return r};const KB=50,QB=350,ZB="Powered by";class XB extends Js(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=d_(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||function(t){function n(U){return U.length>=40&&U.length<=255?"VALID":"INVALID"}if(!t)return"INVALID";let a="";try{a=atob(t)}catch{return"INVALID"}const u=a.split("-"),f=u[0],b=u[1];if(!b)return n(t);try{atob(b)}catch{try{if(atob(f),!atob(f).length)return n(t)}catch{return n(t)}}if(f.length<40||f.length>255)return"INVALID";let w="";try{atob(f),w=atob(b)}catch{return"INVALID"}if(w.length!==8)return"INVALID";const A=Number(w.substring(0,4)),E=Number(w.substring(4,6))-1,O=Number(w.substring(6,8)),z=new Date(A,E,O);return z<De||isNaN(Number(z))?"INVALID":"VALID"}(e.config.get("licenseKey"))!=="VALID")&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(t,n,a)=>{this._updateLastFocusedEditableElement(),a?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(t,n,a)=>{this._updateLastFocusedEditableElement(),a&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,t=this._balloonView=new Ma,n=J1(e),a=new JB(e.locale,n.label);t.content.add(a),t.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(t),e.ui.focusTracker.add(t.element),this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(t,n){const a=J1(t),u=a.side==="right"?function(f,b){return X1(f,b,(w,A)=>w.left+w.width-A.width-b.horizontalOffset)}(n,a):function(f,b){return X1(f,b,w=>w.left+b.horizontalOffset)}(n,a);return{target:n,positions:[u]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,n=e.ui.focusTracker.focusedElement;if(!t||!n)return void(this._lastFocusedEditableElement=null);const a=Array.from(e.ui.getEditableElementsNames()).map(u=>e.ui.getEditableElement(u));a.includes(n)?this._lastFocusedEditableElement=n:this._lastFocusedEditableElement=a[0]}}class JB extends St{constructor(e,t){super(e);const n=new m,a=this.bindTemplate;n.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),n.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],n],on:{dragstart:a.to(u=>u.preventDefault())}}]})}}function X1(r,e,t){return(n,a)=>{const u=new fn(r);if(u.width<QB||u.height<KB)return null;let f;f=e.position==="inside"?u.bottom-a.height:u.bottom-a.height/2,f-=e.verticalOffset;const b=t(u,a),w=n.clone().moveTo(b,f).getIntersection(a.clone().moveTo(b,f)).getVisible();return!w||w.getArea()<a.getArea()?null:{top:f,left:b,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function J1(r){const e=r.config.get("ui.poweredBy"),t=e&&e.position||"border";return GB({position:t,label:ZB,verticalOffset:t==="inside"?5:0,horizontalOffset:5,side:r.locale.contentLanguageDirection==="ltr"?"right":"left"},e)}var eN=h(1801),eR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(eN.A,eR),eN.A.locals;const tN={POLITE:"polite",ASSERTIVE:"assertive"};class tR{constructor(e){this.editor=e,e.once("ready",()=>{for(const t of Object.values(tN))this.announce("",t)})}announce(e,t=tN.POLITE){const n=this.editor;if(!n.ui.view)return;this.view||(this.view=new nR(n.locale),n.ui.view.body.add(this.view));const{politeness:a,isUnsafeHTML:u}=typeof t=="string"?{politeness:t}:t;let f=this.view.regionViews.find(b=>b.politeness===a);f||(f=new iR(n,a),this.view.regionViews.add(f)),f.announce({announcement:e,isUnsafeHTML:u})}}class nR extends St{constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class iR extends St{constructor(e,t){super(e.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":t,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=t,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:t}){if(!e.trim().length)return;const n=document.createElement("li");t?this._domConverter.setContentOf(n,e):n.innerText=e,this._listElement.appendChild(n)}get _listElement(){return this.element.querySelector("ul")}}var rR=Object.defineProperty,nN=Object.getOwnPropertySymbols,sR=Object.prototype.hasOwnProperty,oR=Object.prototype.propertyIsEnumerable,iN=(r,e,t)=>e in r?rR(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class aR extends Oe(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const t=e.editing.view;this.editor=e,this.componentFactory=new EB(e),this.focusTracker=new mr,this.tooltipManager=new c_(e),this.poweredBy=new XB(e),this.ariaLiveAnnouncer=new tR(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const n=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?n():this.once("ready",n)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const n=e.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let n,a;e.keystrokes.set("Alt+F10",(u,f)=>{const b=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(b)&&!Array.from(t.domRoots.values()).includes(b)&&(n=b);const w=this._getCurrentFocusedToolbarDefinition();w&&a||(a=this._getFocusableCandidateToolbarDefinitions());for(let A=0;A<a.length;A++){const E=a.shift();if(a.push(E),E!==w&&this._focusFocusableCandidateToolbar(E)){w&&w.options.afterBlur&&w.options.afterBlur();break}}f()}),e.keystrokes.set("Esc",(u,f)=>{const b=this._getCurrentFocusedToolbarDefinition();b&&(n?(n.focus(),n=null):e.editing.view.focus(),b.options.afterBlur&&b.options.afterBlur(),f())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:n,options:a}=t;(ur(n.element)||a.beforeFocus)&&e.push(t)}return e.sort((t,n)=>rN(t)-rN(n)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:n}}=e;return n&&n(),!!ur(t.element)&&(t.focus(),!0)}_handleScrollToTheSelection(e,t){const n=((a,u)=>{for(var f in u||(u={}))sR.call(u,f)&&iN(a,f,u[f]);if(nN)for(var f of nN(u))oR.call(u,f)&&iN(a,f,u[f]);return a})({top:0,bottom:0,left:0,right:0},this.viewportOffset);t.viewportOffset.top+=n.top,t.viewportOffset.bottom+=n.bottom,t.viewportOffset.left+=n.left,t.viewportOffset.right+=n.right}}function rN(r){const{toolbarView:e,options:t}=r;let n=10;return ur(e.element)&&n--,t.isContextual&&n--,n}var sN=h(1185),lR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(sN.A,lR),sN.A.locals;class cR extends St{constructor(e){super(e),this.body=new t_(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class dR extends cR{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new Bf;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}class uR extends St{constructor(e,t,n){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function t(n){e.change(a=>{const u=e.document.getRoot(n.name);a.addClass(n.isFocused?"ck-focused":"ck-blurred",u),a.removeClass(n.isFocused?"ck-blurred":"ck-focused",u)})}e.isRenderingInProgress?function n(a){e.once("change:isRenderingInProgress",(u,f,b)=>{b?n(a):t(a)})}(this):t(this)}}class hR extends uR{constructor(e,t,n,a={}){super(e,t,n);const u=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=a.label||(()=>u("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(t=>{const n=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),n)})}}class oy extends Tr{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}class oN extends Oe(){constructor(e,t){super(),t&&uf(this,t),e&&this.set(e)}}var aN=h(991),mR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(aN.A,mR),aN.A.locals;var lN=h(5380),fR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(lN.A,fR),lN.A.locals;const u_=vo("px");class h_ extends lt{constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const t=this.editor.editing.view,n=t.document.selection.editableElement;return n?t.domConverter.mapViewToDom(n.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new q("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));const n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new q("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new q("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new Ma(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(t=>t[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new pR(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(n,a)=>!a&&n>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(n,a)=>{if(a<2)return"";const u=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[u,a])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new gR(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,n)=>!n&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:n=!0,singleViewMode:a=!1}){this.view.class=t,this.view.withArrow=n,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),a&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class pR extends St{constructor(e){super(e);const t=e.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new mr,this.buttonPrevView=this._createButtonView(t("Previous"),Mn.previousArrow),this.buttonNextView=this._createButtonView(t("Next"),Mn.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",a=>a?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const n=new P(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}class gR extends St{constructor(e,t){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",a=>a?"":"ck-hidden")],style:{top:n.to("top",u_),left:n.to("left",u_),width:n.to("width",u_),height:n.to("height",u_)}},children:this.content}),this.on("change:numberOfPanels",(a,u,f,b)=>{f>b?this._addPanels(f-b):this._removePanels(b-f),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new St;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:n,height:a}=new fn(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:n,height:a})}}}var cN=h(8298),bR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(cN.A,bR),cN.A.locals;const Hf=vo("px");class kR extends St{constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new Fo({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",n=>n?"block":"none"),height:t.to("isSticky",n=>n?Hf(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new Fo({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",n=>n?Hf(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_stickyTopOffset",n=>n&&Hf(n)),bottom:t.to("_stickyBottomOffset",n=>n&&Hf(n)),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(y.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const e=new fn(this.limiterElement);let t=e.getVisible();if(t){const n=new fn(y.window);n.top+=this.viewportTopOffset,n.height-=this.viewportTopOffset,t=t.getIntersection(n)}if(t&&e.top<t.top){const n=t.top;if(n+this._contentPanelRect.height+this.limiterBottomOffset>t.bottom){const a=Math.max(e.bottom-t.bottom,0)+this.limiterBottomOffset;e.bottom-a>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(a):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(n):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=Hf(-y.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=Hf(-y.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new fn(this.contentPanelElement)}}class _R extends Ke{constructor(e,t){const n=e.t,a=Object.assign({},{showResetButton:!0,showIcon:!0,creator:o_},t);super(e,a.creator),this.label=t.label,this._viewConfig=a,this._viewConfig.showIcon&&(this.iconView=new m,this.iconView.content=Mn.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new P(e),this.resetButtonView.set({label:n("Clear"),icon:Mn.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",u=>!u),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class vR extends St{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",t=>!t)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class wR extends St{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new mr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new Ml({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var dN=/[\\^$.*+?()[\]{}|]/g,yR=RegExp(dN.source);const uN=function(r){return(r=Uc(r))&&yR.test(r)?r.replace(dN,"\\$&"):r};var hN=h(8107),xR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(hN.A,xR),hN.A.locals;var CR=Object.defineProperty,mN=Object.getOwnPropertySymbols,AR=Object.prototype.hasOwnProperty,NR=Object.prototype.propertyIsEnumerable,fN=(r,e,t)=>e in r?CR(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class ER extends St{constructor(e,t){super(e),this._config=t,this.filteredView=t.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new mr,this.keystrokes=new fr,this.resultsView=new wR(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),t.infoView&&t.infoView.instance?this.infoView=t.infoView.instance:(this.infoView=new vR,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new Ml({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(n,{resultsCount:a,totalItemsCount:u})=>{this.resultsCount=a,this.totalItemsCount=u}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",t.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=t=>t.stopPropagation();for(const t of this.focusableChildren)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const t=e?new RegExp(uN(e),"ig"):null,n=this.filteredView.filter(t);this.fire("search",((a,u)=>{for(var f in u||(u={}))AR.call(u,f)&&fN(a,f,u[f]);if(mN)for(var f of mN(u))NR.call(u,f)&&fN(a,f,u[f]);return a})({query:e},n))}_createSearchTextQueryView(){const e=new _R(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,t=this.infoView;function n(a,{query:u,resultsCount:f,totalItemsCount:b}){return typeof a=="function"?a(u,f,b):a}this.on("search",(a,u)=>{if(u.resultsCount)t.set({isVisible:!1});else{const f=this._config.infoView&&this._config.infoView.text;let b,w;u.totalItemsCount?f&&f.notFound?(b=f.notFound.primary,w=f.notFound.secondary):(b=e("No results found"),w=""):f&&f.noSearchableItems?(b=f.noSearchableItems.primary,w=f.noSearchableItems.secondary):(b=e("No searchable items"),w=""),t.set({primaryText:n(b,u),secondaryText:n(w,u),isVisible:!0})}})}}var pN=h(5727),SR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(pN.A,SR),pN.A.locals;const ay=class extends ER{constructor(r,e){super(r,e),this._config=e;const t=vo("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const n=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[n.if("isVisible","ck-hidden",a=>!a),n.to("_position",a=>`ck-search__results_${a}`)],style:{width:n.to("_width",t)}}}),this.focusTracker.on("change:isFocused",(a,u,f)=>{this._updateResultsVisibility(),f?this.resultsView.element.scrollTop=0:e.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(a,u)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,u())}),this.listenTo(y.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(a,{value:u})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=u,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new fn(this.queryView.fieldView.element).width;const r=ay._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:ay.defaultResultsPositions});this.resultsView._position=r?r.name:"s"}_updateResultsVisibility(){const r=this._config.queryMinChars===void 0?0:this._config.queryMinChars,e=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&e>=r}};let gN=ay;gN.defaultResultsPositions=[r=>({top:r.bottom,left:r.left,name:"s"}),(r,e)=>({top:r.top-e.height,left:r.left,name:"n"})],gN._getOptimalPosition=js;var bN=h(9529),jR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(bN.A,jR),bN.A.locals;var kN=h(109),DR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(kN.A,DR),kN.A.locals;var _N=h(2710),TR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(_N.A,TR),_N.A.locals;var vN=h(3344),MR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(vN.A,MR),vN.A.locals;class IR extends P{constructor(e){super(e);const t=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",n=>String(n)),"data-cke-tooltip-disabled":t.to("isOn")},on:{mouseenter:t.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new m;return e.content=vt,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}var wN=h(9481),OR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(wN.A,OR),wN.A.locals;class ly extends Vf{constructor(e,t){super(e);const n=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:n.to("mouseenter")}}),this.delegate("mouseenter").to(t)}}var LR=Object.defineProperty,yN=Object.getOwnPropertySymbols,BR=Object.prototype.hasOwnProperty,RR=Object.prototype.propertyIsEnumerable,xN=(r,e,t)=>e in r?LR(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,CN=(r,e)=>{for(var t in e||(e={}))BR.call(e,t)&&xN(r,t,e[t]);if(yN)for(var t of yN(e))RR.call(e,t)&&xN(r,t,e[t]);return r};const Dg={toggleMenusAndFocusItemsOnHover(r){r.on("menu:mouseenter",e=>{if(r.isOpen){for(const t of r.menus){const n=e.path[0],a=n instanceof ly&&n.children.first===t;t.isOpen=(e.path.includes(t)||a)&&t.isEnabled}e.source.focus()}})},focusCycleMenusOnArrows(r){const e=r.locale.uiLanguageDirection==="rtl";function t(n,a){const u=r.children.getIndex(n),f=n.isOpen,b=r.children.length,w=r.children.get((u+b+a)%b);n.isOpen=!1,f&&(w.isOpen=!0),w.buttonView.focus()}r.on("menu:arrowright",n=>{t(n.source,e?-1:1)}),r.on("menu:arrowleft",n=>{t(n.source,e?1:-1)})},closeMenusWhenTheBarCloses(r){r.on("change:isOpen",()=>{r.isOpen||r.menus.forEach(e=>{e.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(r){r.on("menu:change:isOpen",(e,t,n)=>{n&&r.menus.filter(a=>e.source.parentMenuView===a.parentMenuView&&e.source!==a&&a.isOpen).forEach(a=>{a.isOpen=!1})})},closeOnClickOutside(r){An({emitter:r,activator:()=>r.isOpen,callback:()=>r.close(),contextElements:()=>r.children.map(e=>e.element)})}},fm={openAndFocusPanelOnArrowDownKey(r){r.keystrokes.set("arrowdown",(e,t)=>{r.focusTracker.focusedElement===r.buttonView.element&&(r.isOpen||(r.isOpen=!0),r.panelView.focus(),t())})},openOnArrowRightKey(r){const e=r.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";r.keystrokes.set(e,(t,n)=>{r.focusTracker.focusedElement===r.buttonView.element&&r.isEnabled&&(r.isOpen||(r.isOpen=!0),r.panelView.focus(),n())})},openOnButtonClick(r){r.buttonView.on("execute",()=>{r.isOpen=!0,r.panelView.focus()})},toggleOnButtonClick(r){r.buttonView.on("execute",()=>{r.isOpen=!r.isOpen,r.isOpen&&r.panelView.focus()})},closeOnArrowLeftKey(r){const e=r.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";r.keystrokes.set(e,(t,n)=>{r.isOpen&&(r.isOpen=!1,r.focus(),n())})},closeOnEscKey(r){r.keystrokes.set("esc",(e,t)=>{r.isOpen&&(r.isOpen=!1,r.focus(),t())})},closeOnParentClose(r){r.parentMenuView.on("change:isOpen",(e,t,n)=>{n||e.source!==r.parentMenuView||(r.isOpen=!1)})}},PR={southEast:r=>({top:r.bottom,left:r.left,name:"se"}),southWest:(r,e)=>({top:r.bottom,left:r.left-e.width+r.width,name:"sw"}),northEast:(r,e)=>({top:r.top-e.height,left:r.left,name:"ne"}),northWest:(r,e)=>({top:r.top-e.height,left:r.left-e.width+r.width,name:"nw"}),eastSouth:r=>({top:r.top,left:r.right-5,name:"es"}),eastNorth:(r,e)=>({top:r.top-e.height,left:r.right-5,name:"en"}),westSouth:(r,e)=>({top:r.top,left:r.left-e.width+5,name:"ws"}),westNorth:(r,e)=>({top:r.top-e.height,left:r.left-e.width+5,name:"wn"})},zR=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function FR({normalizedConfig:r,locale:e,componentFactory:t}){const n=da(r);return function(a,u){const f=u.removeItems,b=[];u.items=u.items.filter(({menuId:w})=>!f.includes(w)||(b.push(w),!1)),Uf(u.items,w=>{w.groups=w.groups.filter(({groupId:A})=>!f.includes(A)||(b.push(A),!1));for(const A of w.groups)A.items=A.items.filter(E=>{const O=EN(E);return!f.includes(O)||(b.push(O),!1)})});for(const w of f)b.includes(w)||de("menu-bar-item-could-not-be-removed",{menuBarConfig:a,itemName:w})}(r,n),function(a,u){const f=u.addItems,b=[];for(const w of f){const A=UR(w.position),E=$R(w.position);if(VR(w))if(E){const O=u.items.findIndex(z=>z.menuId===E);O!=-1?A==="before"?(u.items.splice(O,0,w.menu),b.push(w)):A==="after"&&(u.items.splice(O+1,0,w.menu),b.push(w)):AN(u,w.menu,E,A)&&b.push(w)}else A==="start"?(u.items.unshift(w.menu),b.push(w)):A==="end"&&(u.items.push(w.menu),b.push(w));else HR(w)?Uf(u.items,O=>{if(O.menuId===E)A==="start"?(O.groups.unshift(w.group),b.push(w)):A==="end"&&(O.groups.push(w.group),b.push(w));else{const z=O.groups.findIndex(U=>U.groupId===E);z!==-1&&(A==="before"?(O.groups.splice(z,0,w.group),b.push(w)):A==="after"&&(O.groups.splice(z+1,0,w.group),b.push(w)))}}):AN(u,w.item,E,A)&&b.push(w)}for(const w of f)b.includes(w)||de("menu-bar-item-could-not-be-added",{menuBarConfig:a,addedItemConfig:w})}(r,n),function(a,u,f){Uf(u.items,b=>{for(const w of b.groups)w.items=w.items.filter(A=>{const E=typeof A=="string"&&!f.has(A);return E&&!u.isUsingDefaultConfig&&de("menu-bar-item-unavailable",{menuBarConfig:a,parentMenuConfig:da(b),componentName:A}),!E})})}(r,n,t),NN(r,n),function(a,u){const f=u.t,b={File:f({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:f({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:f({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:f({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:f({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:f({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:f({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:f({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:f({string:"Font",id:"MENU_BAR_MENU_FONT"})};Uf(a.items,w=>{w.label in b&&(w.label=b[w.label])})}(n,e),n}function AN(r,e,t,n){let a=!1;return Uf(r.items,u=>{for(const{groupId:f,items:b}of u.groups){if(a)return;if(f===t)n==="start"?(b.unshift(e),a=!0):n==="end"&&(b.push(e),a=!0);else{const w=b.findIndex(A=>EN(A)===t);w!==-1&&(n==="before"?(b.splice(w,0,e),a=!0):n==="after"&&(b.splice(w+1,0,e),a=!0))}}}),a}function NN(r,e){const t=e.isUsingDefaultConfig;let n=!1;e.items=e.items.filter(a=>!!a.groups.length||(cy(r,a,t),!1)),e.items.length?(Uf(e.items,a=>{a.groups=a.groups.filter(u=>!!u.items.length||(n=!0,!1));for(const u of a.groups)u.items=u.items.filter(f=>!(SN(f)&&!f.groups.length)||(cy(r,f,t),n=!0,!1))}),n&&NN(r,e)):cy(r,r,t)}function cy(r,e,t){t||de("menu-bar-menu-empty",{menuBarConfig:r,emptyMenuConfig:e})}function Uf(r,e){if(Array.isArray(r))for(const n of r)t(n);function t(n){e(n);for(const a of n.groups)for(const u of a.items)SN(u)&&t(u)}}function VR(r){return typeof r=="object"&&"menu"in r}function HR(r){return typeof r=="object"&&"group"in r}function UR(r){return r.startsWith("start")?"start":r.startsWith("end")?"end":r.startsWith("after")?"after":"before"}function $R(r){const e=r.match(/^[^:]+:(.+)/);return e?e[1]:null}function EN(r){return typeof r=="string"?r:r.menuId}function SN(r){return typeof r=="object"&&"menuId"in r}function qR(r,e){const t=e.element;r.ui.focusTracker.add(t),r.keystrokes.listenTo(t);const n=function(a){let u;return u="items"in a&&a.items?CN({items:a.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1},a):CN({items:da(zR),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0},a),u}(r.config.get("menuBar")||{});e.fillFromConfig(n,r.ui.componentFactory),r.keystrokes.set("Esc",(a,u)=>{t.contains(r.ui.focusTracker.focusedElement)&&(r.editing.view.focus(),u())}),r.keystrokes.set("Alt+F9",(a,u)=>{t.contains(r.ui.focusTracker.focusedElement)||(e.focus(),u())})}var jN=h(9108),WR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(jN.A,WR),jN.A.locals;class YR extends St{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",t.to("position",n=>`ck-menu-bar__menu__panel_position_${n}`),t.if("isVisible","ck-hidden",n=>!n)],tabindex:"-1"},children:this.children,on:{selectstart:t.to(n=>{n.target.tagName.toLocaleLowerCase()!=="input"&&n.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}var DN=h(4),GR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(DN.A,GR),DN.A.locals;const TN=class extends St{constructor(r){super(r);const e=this.bindTemplate;this.buttonView=new IR(r),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new YR(r),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new fr,this.focusTracker=new mr,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",e.to("class"),e.if("isEnabled","ck-disabled",t=>!t),e.if("parentMenuView","ck-menu-bar__menu_top-level",t=>!t)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),fm.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(fm.openOnButtonClick(this),fm.openOnArrowRightKey(this),fm.closeOnArrowLeftKey(this),fm.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),fm.openAndFocusPanelOnArrowDownKey(this),fm.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(r,e)=>{this.fire("arrowright"),e()}),this.keystrokes.set("arrowleft",(r,e)=>{this.fire("arrowleft"),e()})}_repositionPanelOnOpen(){this.on("change:isOpen",(r,e,t)=>{if(!t)return;const n=TN._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=n?n.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:r,southWest:e,northEast:t,northWest:n,westSouth:a,eastSouth:u,westNorth:f,eastNorth:b}=PR;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[u,b,a,f]:[r,e,t,n]:this.parentMenuView?[a,f,u,b]:[e,r,n,t]}};let $f=TN;$f._getOptimalPosition=js;class dy extends ey{constructor(e){super(e),this.role="menu"}}var MN=h(977),KR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(MN.A,KR),MN.A.locals;class ll extends P{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class IN extends Xe{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var ON=h(497),QR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(ON.A,QR),ON.A.locals;const LN=["mouseenter","arrowleft","arrowright","change:isOpen"];class ZR extends St{constructor(e){super(e),this.menus=[];const t=e.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":t("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,t){const n=FR({normalizedConfig:e,locale:this.locale,componentFactory:t}).items.map(a=>this._createMenu({componentFactory:t,menuDefinition:a}));this.children.addMany(n)}render(){super.render(),Dg.toggleMenusAndFocusItemsOnHover(this),Dg.closeMenusWhenTheBarCloses(this),Dg.closeMenuWhenAnotherOnTheSameLevelOpens(this),Dg.focusCycleMenusOnArrows(this),Dg.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e,t=null){t?(e.delegate(...LN).to(t),e.parentMenuView=t):e.delegate(...LN).to(this,n=>"menu:"+n),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:t,parentMenuView:n}){const a=this.locale,u=new $f(a);return this.registerMenu(u,n),u.buttonView.set({label:t.label}),u.once("change:isOpen",()=>{const f=new dy(a);f.ariaLabel=t.label,u.panelView.children.add(f),f.items.addMany(this._createMenuItems({menuDefinition:t,parentMenuView:u,componentFactory:e}))}),u}_createMenuItems({menuDefinition:e,parentMenuView:t,componentFactory:n}){const a=this.locale,u=[];for(const f of e.groups){for(const b of f.items){const w=new ly(a,t);if(fe(b))w.children.add(this._createMenu({componentFactory:n,menuDefinition:b,parentMenuView:t}));else{const A=this._createMenuItemContentFromFactory({componentName:b,componentFactory:n,parentMenuView:t});if(!A)continue;w.children.add(A)}u.push(w)}f!==e.groups[e.groups.length-1]&&u.push(new Jw(a))}return u}_createMenuItemContentFromFactory({componentName:e,parentMenuView:t,componentFactory:n}){const a=n.create(e);return a instanceof $f||a instanceof ll||a instanceof IN?(this._registerMenuTree(a,t),a.on("execute",()=>{this.close()}),a):(de("menu-bar-component-unsupported",{componentName:e,componentView:a}),null)}_registerMenuTree(e,t){if(!(e instanceof $f))return void e.delegate("mouseenter").to(t);this.registerMenu(e,t);const n=e.panelView.children.filter(u=>u instanceof dy)[0];if(!n)return void e.delegate("mouseenter").to(t);const a=n.items.filter(u=>u instanceof Vf);for(const u of a)this._registerMenuTree(u.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(t,n,a)=>{clearTimeout(e),a?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(u=>u.isOpen)},0)})}}class XR extends aR{constructor(e,t){super(e),this.view=t,this._toolbarConfig=y1(e.config.get("toolbar")),this._elementReplacer=new at,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const t=this.editor,n=this.view,a=t.editing.view,u=n.editable,f=a.document.getRoot();u.name=f.rootName,n.render();const b=u.element;this.setEditableElement(u.name,b),n.editable.bind("isFocused").to(this.focusTracker),a.attachDomRoot(b),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),n.menuBarView&&qR(t,n.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:t})=>t||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,n=t.document.getRoot(),a=e.sourceElement;let u;const f=e.config.get("placeholder");f&&(u=typeof f=="string"?f:f[this.view.editable.name]),!u&&a&&a.tagName.toLowerCase()==="textarea"&&(u=a.getAttribute("placeholder")),u&&(n.placeholder=u),wr({view:t,element:n,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,t,n){const a=this.view.stickyPanel;if(a.isSticky){const u=new fn(a.element).height;t.viewportOffset.top+=u}else{const u=()=>{this.editor.editing.view.scrollToTheSelection(n)};this.listenTo(a,"change:isSticky",u),setTimeout(()=>{this.stopListening(a,"change:isSticky",u)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,t=this.editor.plugins.get("Dialog");t.on("show",()=>{const n=t.view;n.on("moveTo",(a,u)=>{if(!e.isSticky||n.wasMoved)return;const f=new fn(e.contentPanelElement);u[1]<f.bottom+l_.defaultOffset&&(u[1]=f.bottom+l_.defaultOffset)},{priority:"high"})},{priority:"low"})}}var BN=h(7388),JR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(BN.A,JR),BN.A.locals;class eP extends dR{constructor(e,t,n={}){super(e),this.stickyPanel=new kR(e),this.toolbar=new Xw(e,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),n.useMenuBar&&(this.menuBarView=new ZR(e)),this.editable=new hR(e,t)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class RN{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const n="error"in t?t.error:t.reason;n instanceof Error&&this._handleError(n,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(n=>n!==t)}_fire(e,...t){const n=this._listeners[e]||[];for(const a of n)a.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function uy(r,e=new Set){const t=[r],n=new Set;let a=0;for(;t.length>a;){const u=t[a++];if(!n.has(u)&&tP(u)&&!e.has(u))if(n.add(u),Symbol.iterator in u)try{for(const f of u)t.push(f)}catch{}else for(const f in u)f!=="defaultValue"&&t.push(u[f])}return n}function tP(r){const e=Object.prototype.toString.call(r),t=typeof r;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||r==null||r._watchdogExcluded||r instanceof EventTarget||r instanceof Event)}function PN(r,e,t=new Set){if(r===e&&typeof(n=r)=="object"&&n!==null)return!0;var n;const a=uy(r,t),u=uy(e,t);for(const f of a)if(u.has(f))return!0;return!1}var nP=Object.defineProperty,iP=Object.defineProperties,rP=Object.getOwnPropertyDescriptors,m_=Object.getOwnPropertySymbols,zN=Object.prototype.hasOwnProperty,FN=Object.prototype.propertyIsEnumerable,VN=(r,e,t)=>e in r?nP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,hy=(r,e)=>{for(var t in e||(e={}))zN.call(e,t)&&VN(r,t,e[t]);if(m_)for(var t of m_(e))FN.call(e,t)&&VN(r,t,e[t]);return r};class HN extends RN{constructor(e,t={}){super(t),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=d_(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(n,a)=>e.create(n,a)),this._destructor=n=>n.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},t=[],n=this._config.rootsAttributes||{},a={};for(const[w,A]of Object.entries(this._data.roots))A.isLoaded?(e[w]="",a[w]=n[w]||{}):t.push(w);const u=(f=hy({},this._config),b={extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:a,_watchdogInitialData:this._data},iP(f,rP(b)));var f,b;return delete u.initialData,u.extraPlugins.push(sP),this._initUsingData?this.create(e,u,u.context):Es(this._elementOrData)?this.create(this._elementOrData,u,u.context):this.create(this._editables,u,u.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,n){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(t)||{},this._config.context=n,this._creator(e,this._config))).then(a=>{this._editor=a,a.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=a.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter(b=>b.isAttached()&&b.rootName!="$graveyard"),{plugins:n}=e,a=n.has("CommentsRepository")&&n.get("CommentsRepository"),u=n.has("TrackChanges")&&n.get("TrackChanges"),f={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach(b=>{f.roots[b.rootName]={content:JSON.stringify(Array.from(b.getChildren())),attributes:JSON.stringify(Array.from(b.getAttributes())),isLoaded:b._isLoaded}});for(const b of e.model.markers)b._affectsData&&(f.markers[b.name]={rangeJSON:b.getRange().toJSON(),usingOperation:b._managedUsingOperations,affectsData:b._affectsData});return a&&(f.commentThreads=JSON.stringify(a.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),u&&(f.suggestions=JSON.stringify(u.getSuggestions({toJSON:!0,skipNotAttached:!0}))),f}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const n=this.editor.ui.getEditableElement(t);n&&(e[t]=n)}return e}_isErrorComingFromThisItem(e){return PN(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Ns(e,(t,n)=>Es(t)||n==="context"?t:void 0)}}class sP{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},t=>{this._restoreCollaborationData(),this._restoreEditorData(t)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,t){if("name"in t){const n=e.createElement(t.name,t.attributes);if(t.children)for(const a of t.children)n._appendChild(this._createNode(e,a));return n}return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach(([n,{content:a,attributes:u}])=>{const f=JSON.parse(a),b=JSON.parse(u),w=t.model.document.getRoot(n);for(const[A,E]of b)e.setAttribute(A,E,w);for(const A of f){const E=this._createNode(e,A);e.insert(E,w,"end")}}),Object.entries(this._data.markers).forEach(([n,a])=>{const{document:u}=t.model,f=a,{rangeJSON:{start:b,end:w}}=f,A=((W,X)=>{var ae={};for(var ge in W)zN.call(W,ge)&&X.indexOf(ge)<0&&(ae[ge]=W[ge]);if(W!=null&&m_)for(var ge of m_(W))X.indexOf(ge)<0&&FN.call(W,ge)&&(ae[ge]=W[ge]);return ae})(f,["rangeJSON"]),E=u.getRoot(b.root),O=e.createPositionFromPath(E,b.path,b.stickiness),z=e.createPositionFromPath(E,w.path,w.stickiness),U=e.createRange(O,z);e.addMarker(n,hy({range:U},A))})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);e.forEach(n=>{const a=this.editor.config.get("collaboration.channelId"),u=this.editor.plugins.get("CommentsRepository");u.hasCommentThread(n.threadId)&&u.getCommentThread(n.threadId).remove(),u.addCommentThread(hy({channelId:a},n))}),t.forEach(n=>{const a=this.editor.plugins.get("TrackChangesEditing");a.hasSuggestion(n.id)?a.getSuggestion(n.id).attributes=n.attributes:a.addSuggestionData(n)})}}const Tg=Symbol("MainQueueId");class oP{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const n=e===Tg;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const a=(n?Promise.all(this._queues.values()):Promise.all([this._queues.get(Tg),this._queues.get(e)])).then(t),u=a.catch(()=>{});return this._queues.set(e,u),a.finally(()=>{this._activeActions--,this._queues.get(e)===u&&this._activeActions===0&&this._onEmptyCallbacks.forEach(f=>f())})}}function UN(r){return Array.isArray(r)?r:[r]}class f_ extends iu(Xk){constructor(e,t={}){if(!p_(e)&&t.initialData!==void 0)throw new q("editor-create-initial-data",null);super(t),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",function(f){return p_(f)?(b=f,b instanceof HTMLTextAreaElement?b.value:b.innerHTML):f;var b}(e)),p_(e)&&(this.sourceElement=e),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),a=this.config.get("menuBar"),u=new eP(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n,useMenuBar:a.isVisible});this.ui=new XR(this,u),function(f){if(!mn(f.updateSourceElement))throw new q("attachtoform-missing-elementapi-interface",f);const b=f.sourceElement;if(function(w){return!!w&&w.tagName.toLowerCase()==="textarea"}(b)&&b.form){let w;const A=b.form,E=()=>f.updateSourceElement();mn(A.submit)&&(w=A.submit,A.submit=()=>{E(),w.apply(A)}),A.addEventListener("submit",E),f.on("destroy",()=>{A.removeEventListener("submit",E),w&&(A.submit=w)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise(n=>{const a=new this(e,t);n(a.initPlugins().then(()=>a.ui.init(p_(e)?e:null)).then(()=>a.data.init(a.config.get("initialData"))).then(()=>a.fire("ready")).then(()=>a))})}}function p_(r){return Es(r)}f_.Context=Dr,f_.EditorWatchdog=HN,f_.ContextWatchdog=class extends RN{constructor(r,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new oP,this._watchdogConfig=e,this._creator=t=>r.create(t),this._destructor=t=>t.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(r){this._creator=r}setDestructor(r){this._destructor=r}get context(){return this._context}create(r={}){return this._actionQueues.enqueue(Tg,()=>(this._contextConfig=r,this._create()))}getItem(r){return this._getWatchdog(r)._item}getItemState(r){return this._getWatchdog(r).state}add(r){const e=UN(r);return Promise.all(e.map(t=>this._actionQueues.enqueue(t.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let n;if(this._watchdogs.has(t.id))throw new Error(`Item with the given id is already added: '${t.id}'.`);if(t.type==="editor")return n=new HN(null,this._watchdogConfig),n.setCreator(t.creator),n._setExcludedProperties(this._contextProps),t.destructor&&n.setDestructor(t.destructor),this._watchdogs.set(t.id,n),n.on("error",(a,{error:u,causesRestart:f})=>{this._fire("itemError",{itemId:t.id,error:u}),f&&this._actionQueues.enqueue(t.id,()=>new Promise(b=>{const w=()=>{n.off("restart",w),this._fire("itemRestart",{itemId:t.id}),b()};n.on("restart",w)}))}),n.create(t.sourceElementOrData,t.config,this._context);throw new Error(`Not supported item type: '${t.type}'.`)})))}remove(r){const e=UN(r);return Promise.all(e.map(t=>this._actionQueues.enqueue(t,()=>{const n=this._getWatchdog(t);return this._watchdogs.delete(t),n.destroy()})))}destroy(){return this._actionQueues.enqueue(Tg,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Tg,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(r=>{console.error("An error happened during destroying the context or items.",r)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(r=>(this._context=r,this._contextProps=uy(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const r=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(r))})}_getWatchdog(r){const e=this._watchdogs.get(r);if(!e)throw new Error(`Item with the given id was not registered: ${r}.`);return e}_isErrorComingFromThisItem(r){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(r))return!1;return PN(this._context,r.context)}};class Mg extends Nl{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const t=this.document;function n(a){return(u,f)=>{f.preventDefault();const b=f.dropRange?[f.dropRange]:null,w=new K(t,a);t.fire(w,{dataTransfer:f.dataTransfer,method:u.name,targetRanges:b,target:f.target,domEvent:f.domEvent}),w.stop.called&&f.stopPropagation()}}this.listenTo(t,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",n("dragging"),{priority:"low"})}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,n=e.type=="drop"||e.type=="paste",a={dataTransfer:new yo(t,{cacheFiles:n})};e.type!="drop"&&e.type!="dragover"||(a.dropRange=function(u,f){const b=f.target.ownerDocument,w=f.clientX,A=f.clientY;let E;return b.caretRangeFromPoint&&b.caretRangeFromPoint(w,A)?E=b.caretRangeFromPoint(w,A):f.rangeParent&&(E=b.createRange(),E.setStart(f.rangeParent,f.rangeOffset),E.collapse(!0)),E?u.domConverter.domRangeToView(E):null}(this.view,e)),this.fire(e.type,e,a)}}const $N=["figcaption","li"],qN=["ol","ul"];function WN(r){if(r.is("$text")||r.is("$textProxy"))return r.data;if(r.is("element","img")&&r.hasAttribute("alt"))return r.getAttribute("alt");if(r.is("element","br"))return`
`;let e="",t=null;for(const n of r.getChildren())e+=aP(n,t)+WN(n),t=n;return e}function aP(r,e){return e?r.is("element","li")&&!r.isEmpty&&r.getChild(0).is("containerElement")||qN.includes(r.name)&&qN.includes(e.name)?`

`:r.is("containerElement")||e.is("containerElement")?$N.includes(r.name)||$N.includes(e.name)?`
`:`

`:"":""}const lP=function(r,e){return r&&hr(r,e,Ua)},cP=function(r,e,t,n){var a=t.length,u=a;if(r==null)return!u;for(r=Object(r);a--;){var f=t[a];if(f[2]?f[1]!==r[f[0]]:!(f[0]in r))return!1}for(;++a<u;){var b=(f=t[a])[0],w=r[b],A=f[1];if(f[2]){if(w===void 0&&!(b in r))return!1}else{var E=new Ws,O;if(!(O===void 0?qu(A,w,3,n,E):O))return!1}}return!0},YN=function(r){return r==r&&!fe(r)},dP=function(r){for(var e=Ua(r),t=e.length;t--;){var n=e[t],a=r[n];e[t]=[n,a,YN(a)]}return e},GN=function(r,e){return function(t){return t!=null&&t[r]===e&&(e!==void 0||r in Object(t))}},uP=function(r){var e=dP(r);return e.length==1&&e[0][2]?GN(e[0][0],e[0][1]):function(t){return t===r||cP(t,r,e)}},hP=function(r,e){return r!=null&&e in Object(r)},mP=function(r,e,t){for(var n=-1,a=(e=$c(e,r)).length,u=!1;++n<a;){var f=Ud(e[n]);if(!(u=r!=null&&t(r,f)))break;r=r[f]}return u||++n!=a?u:!!(a=r==null?0:r.length)&&Do(a)&&Gs(f,a)&&(ri(r)||$i(r))},fP=function(r,e){return r!=null&&mP(r,e,hP)},pP=function(r,e){return Lu(r)&&YN(e)?GN(Ud(r),e):function(t){var n=qc(t,r);return n===void 0&&n===e?fP(t,r):qu(e,n,3)}},gP=function(r){return function(e){return e==null?void 0:e[r]}},bP=function(r){return function(e){return Cp(e,r)}},kP=function(r){return Lu(r)?gP(Ud(r)):bP(r)},_P=function(r){return typeof r=="function"?r:r==null?Jr:typeof r=="object"?ri(r)?pP(r[0],r[1]):uP(r):kP(r)},vP=function(r,e){var t={};return e=_P(e),lP(r,function(n,a,u){ye(t,a,e(n,a,u))}),t};var wP=Object.defineProperty,yP=Object.defineProperties,xP=Object.getOwnPropertyDescriptors,KN=Object.getOwnPropertySymbols,CP=Object.prototype.hasOwnProperty,AP=Object.prototype.propertyIsEnumerable,QN=(r,e,t)=>e in r?wP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class Ig extends lt{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(e,t){this._markersToCopy.set(e,t)}_copySelectedFragmentWithMarkers(e,t,n=a=>a.model.getSelectedContent(a.model.document.selection)){return this.editor.model.change(a=>{const u=a.model.document.selection;a.setSelection(t);const f=this._insertFakeMarkersIntoSelection(a,a.model.document.selection,e),b=n(a),w=this._removeFakeMarkersInsideElement(a,b);for(const[A,E]of Object.entries(f)){w[A]||(w[A]=a.createRangeIn(b));for(const O of E)a.remove(O)}b.markers.clear();for(const[A,E]of Object.entries(w))b.markers.set(A,E);return a.setSelection(u),b})}_pasteMarkersIntoTransformedElement(e,t){const n=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(a=>{const u=this._insertFakeMarkersElements(a,n),f=t(a),b=this._removeFakeMarkersInsideElement(a,f);for(const w of Object.values(u).flat())a.remove(w);for(const[w,A]of Object.entries(b))a.model.markers.has(w)||a.addMarker(w,{usingOperation:!0,affectsData:!0,range:A});return f})}_pasteFragmentWithMarkers(e){const t=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const n of t)e.markers.set(n.name,n.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,t,n={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const a=this._markersToCopy.get(e);this._markersToCopy.set(e,n),t(),a?this._markersToCopy.set(e,a):this._markersToCopy.delete(e)}_isMarkerCopyable(e,t){const n=this._getMarkerClipboardConfig(e);if(!n)return!1;if(!t)return!0;const{allowedActions:a}=n;return a==="all"||a.includes(t)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[t]=e.split(":");return this._markersToCopy.get(t)||null}_insertFakeMarkersIntoSelection(e,t,n){const a=this._getCopyableMarkersFromSelection(e,t,n);return this._insertFakeMarkersElements(e,a)}_getCopyableMarkersFromSelection(e,t,n){const a=Array.from(t.getRanges()),u=new Set(a.flatMap(f=>Array.from(e.model.markers.getMarkersIntersectingRange(f))));return Array.from(u).filter(f=>{if(!this._isMarkerCopyable(f.name,n))return!1;const{copyPartiallySelected:b}=this._getMarkerClipboardConfig(f.name);if(!b){const w=f.getRange();return a.some(A=>A.containsRange(w,!0))}return!0}).map(f=>({name:n==="dragstart"?this._getUniqueMarkerName(f.name):f.name,range:f.getRange()}))}_getPasteMarkersFromRangeMap(e,t=null){const{model:n}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([a,u])=>{if(!this._hasMarkerConfiguration(a))return[{name:a,range:u}];if(this._isMarkerCopyable(a,t)){const f=this._getMarkerClipboardConfig(a),b=n.markers.has(a)&&n.markers.get(a).getRange().root.rootName==="$graveyard";return(f.duplicateOnPaste||b)&&(a=this._getUniqueMarkerName(a)),[{name:a,range:u}]}return[]})}_insertFakeMarkersElements(e,t){const n={},a=t.flatMap(u=>{const{start:f,end:b}=u.range;return[{position:f,marker:u,type:"start"},{position:b,marker:u,type:"end"}]}).sort(({position:u},{position:f})=>u.isBefore(f)?1:-1);for(const{position:u,marker:f,type:b}of a){const w=e.createElement("$marker",{"data-name":f.name,"data-type":b});n[f.name]||(n[f.name]=[]),n[f.name].push(w),e.insert(w,u)}return n}_removeFakeMarkersInsideElement(e,t){const n=this._getAllFakeMarkersFromElement(e,t).reduce((a,u)=>{const f=u.markerElement&&e.createPositionBefore(u.markerElement);let b=a[u.name],w=!1;b&&b.start&&b.end&&(this._getMarkerClipboardConfig(u.name).duplicateOnPaste?a[this._getUniqueMarkerName(u.name)]=a[u.name]:w=!0,b=null);var A,E;return w||(a[u.name]=(A=((O,z)=>{for(var U in z||(z={}))CP.call(z,U)&&QN(O,U,z[U]);if(KN)for(var U of KN(z))AP.call(z,U)&&QN(O,U,z[U]);return O})({},b),E={[u.type]:f},yP(A,xP(E)))),u.markerElement&&e.remove(u.markerElement),a},{});return vP(n,a=>new et(a.start||e.createPositionFromPath(t,[0]),a.end||e.createPositionAt(t,"end")))}_getAllFakeMarkersFromElement(e,t){const n=Array.from(e.createRangeIn(t)).flatMap(({item:f})=>{if(!f.is("element","$marker"))return[];const b=f.getAttribute("data-name"),w=f.getAttribute("data-type");return[{markerElement:f,name:b,type:w}]}),a=[],u=[];for(const f of n)f.type==="end"&&(n.some(b=>b.name===f.name&&b.type==="start")||a.push({markerElement:null,name:f.name,type:"start"})),f.type==="start"&&(n.some(b=>b.name===f.name&&b.type==="end")||u.unshift({markerElement:null,name:f.name,type:"end"}));return[...a,...n,...u]}_getUniqueMarkerName(e){const t=e.split(":"),n=ee().substring(1,6);return t.length===3?`${t.slice(0,2).join(":")}:${n}`:`${t.join(":")}:${n}`}}class Il extends lt{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[Ig]}init(){this.editor.editing.view.addObserver(Mg),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,n){const a=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:n==="cut"},()=>{const u=a._copySelectedFragmentWithMarkers(n,t);this.fire("outputTransformation",{dataTransfer:e,content:u,method:n})})}_setupPasteDrop(){const e=this.editor,t=e.model,n=e.editing.view,a=n.document,u=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(a,"clipboardInput",(f,b)=>{b.method!="paste"||e.model.canEditAt(e.model.document.selection)||f.stop()},{priority:"highest"}),this.listenTo(a,"clipboardInput",(f,b)=>{const w=b.dataTransfer;let A;if(b.content)A=b.content;else{let z="";w.getData("text/html")?z=function(U){return U.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(W,X)=>X.length==1?" ":X).replace(/<!--[\s\S]*?-->/g,"")}(w.getData("text/html")):w.getData("text/plain")&&(((E=(E=w.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||E.includes("<br>"))&&(E=`<p>${E}</p>`),z=E),A=this.editor.data.htmlProcessor.toView(z)}var E;const O=new K(this,"inputTransformation");this.fire(O,{content:A,dataTransfer:w,targetRanges:b.targetRanges,method:b.method}),O.stop.called&&f.stop(),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(f,b)=>{if(b.content.isEmpty)return;const w=this.editor.data.toModel(b.content,"$clipboardHolder");w.childCount!=0&&(f.stop(),t.change(()=>{this.fire("contentInsertion",{content:w,method:b.method,dataTransfer:b.dataTransfer,targetRanges:b.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(f,b)=>{b.resultRange=u._pasteFragmentWithMarkers(b.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,n=e.editing.view.document,a=(u,f)=>{const b=f.dataTransfer;f.preventDefault(),this._fireOutputTransformationEvent(b,t.selection,u.name)};this.listenTo(n,"copy",a,{priority:"low"}),this.listenTo(n,"cut",(u,f)=>{e.model.canEditAt(e.model.document.selection)?a(u,f):f.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(u,f)=>{const b=e.data.toView(f.content);n.fire("clipboardOutput",{dataTransfer:f.dataTransfer,content:b,method:f.method})},{priority:"low"}),this.listenTo(n,"clipboardOutput",(u,f)=>{f.content.isEmpty||(f.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(f.content)),f.dataTransfer.setData("text/plain",WN(f.content))),f.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}class ZN{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(n,a)=>{a.isLocal&&a.isUndoable&&a!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class NP extends Ft{constructor(e,t){super(e),this._buffer=new ZN(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,n=t.document,a=e.text||"",u=a.length;let f=n.selection;if(e.selection?f=e.selection:e.range&&(f=t.createSelection(e.range)),!t.canEditAt(f))return;const b=e.resultRange;t.enqueueChange(this._buffer.batch,w=>{this._buffer.lock();const A=Array.from(n.selection.getAttributes());t.deleteContent(f),a&&t.insertContent(w.createText(a,A),f),b?w.setSelection(b):f.is("documentSelection")||w.setSelection(f),this._buffer.unlock(),this._buffer.input(u)})}}const XN=["insertText","insertReplacementText"];class EP extends sl{constructor(e){super(e),this.focusObserver=e.getObserver(Qh),S.isAndroid&&XN.push("insertCompositionText");const t=e.document;t.on("beforeinput",(n,a)=>{if(!this.isEnabled)return;const{data:u,targetRanges:f,inputType:b,domEvent:w}=a;if(!XN.includes(b))return;this.focusObserver.flush();const A=new K(t,"insertText");t.fire(A,new Kc(e,w,{text:u,selection:e.createSelection(f)})),A.stop.called&&n.stop()}),t.on("compositionend",(n,{data:a,domEvent:u})=>{this.isEnabled&&!S.isAndroid&&a&&t.fire("insertText",new Kc(e,u,{text:a,selection:t.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class JN extends lt{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,n=e.editing.view,a=t.document.selection;n.addObserver(EP);const u=new NP(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",u),e.commands.add("input",u),this.listenTo(n.document,"insertText",(f,b)=>{n.document.isComposing||b.preventDefault();const{text:w,selection:A,resultRange:E}=b,O=Array.from(A.getRanges()).map(W=>e.editing.mapper.toModelRange(W));let z=w;if(S.isAndroid){const W=Array.from(O[0].getItems()).reduce((X,ae)=>X+(ae.is("$textProxy")?ae.data:""),"");W&&(W.length<=z.length?z.startsWith(W)&&(z=z.substring(W.length),O[0].start=O[0].start.getShiftedBy(W.length)):W.startsWith(z)&&(O[0].start=O[0].start.getShiftedBy(z.length),z=""))}const U={text:z,selection:t.createSelection(O)};E&&(U.resultRange=e.editing.mapper.toModelRange(E)),e.execute("insertText",U),n.scrollToTheSelection()}),S.isAndroid?this.listenTo(n.document,"keydown",(f,b)=>{!a.isCollapsed&&b.keyCode==229&&n.document.isComposing&&eE(t,u)}):this.listenTo(n.document,"compositionstart",()=>{a.isCollapsed||eE(t,u)})}}function eE(r,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),r.enqueueChange(t.batch,()=>{r.deleteContent(r.document.selection)}),t.unlock()}class tE extends Ft{constructor(e,t){super(e),this.direction=t,this._buffer=new ZN(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,n=t.document;t.enqueueChange(this._buffer.batch,a=>{this._buffer.lock();const u=a.createSelection(e.selection||n.selection);if(!t.canEditAt(u))return;const f=e.sequence||1,b=u.isCollapsed;if(u.isCollapsed&&t.modifySelection(u,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(f))return void this._replaceEntireContentWithParagraph(a);if(this._shouldReplaceFirstBlockWithParagraph(u,f))return void this.editor.execute("paragraph",{selection:u});if(u.isCollapsed)return;let w=0;u.getFirstRange().getMinimalFlatRanges().forEach(A=>{w+=jt(A.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(u,{doNotResetEntireContent:b,direction:this.direction}),this._buffer.input(w),a.setSelection(u),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,n=t.document.selection,a=t.schema.getLimitElement(n);if(!(n.isCollapsed&&n.containsEntireContent(a))||!t.schema.checkChild(a,"paragraph"))return!1;const u=a.getChild(0);return!u||!u.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const t=this.editor.model,n=t.document.selection,a=t.schema.getLimitElement(n),u=e.createElement("paragraph");e.remove(e.createRangeIn(a)),e.insert(u,a),e.setSelection(u,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const n=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const a=e.getFirstPosition(),u=n.schema.getLimitElement(a),f=u.getChild(0);return a.parent==f&&!!e.containsEntireContent(f)&&!!n.schema.checkChild(u,"paragraph")&&f.name!="paragraph"}}const nE="word",lh="selection",qf="backward",Og="forward",iE={deleteContent:{unit:lh,direction:qf},deleteContentBackward:{unit:"codePoint",direction:qf},deleteWordBackward:{unit:nE,direction:qf},deleteHardLineBackward:{unit:lh,direction:qf},deleteSoftLineBackward:{unit:lh,direction:qf},deleteContentForward:{unit:"character",direction:Og},deleteWordForward:{unit:nE,direction:Og},deleteHardLineForward:{unit:lh,direction:Og},deleteSoftLineForward:{unit:lh,direction:Og}};class SP extends sl{constructor(e){super(e);const t=e.document;let n=0;t.on("keydown",()=>{n++}),t.on("keyup",()=>{n=0}),t.on("beforeinput",(a,u)=>{if(!this.isEnabled)return;const{targetRanges:f,domEvent:b,inputType:w}=u,A=iE[w];if(!A)return;const E={direction:A.direction,unit:A.unit,sequence:n};E.unit==lh&&(E.selectionToRemove=e.createSelection(f[0])),w==="deleteContentBackward"&&(S.isAndroid&&(E.sequence=1),function(z){if(z.length!=1||z[0].isCollapsed)return!1;const U=z[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let W=0;for(const{nextPosition:X,item:ae}of U){if(X.parent.is("$text")){const ge=X.parent.data,Me=X.offset;if(Ts(ge,Me)||Cl(ge,Me)||jh(ge,Me))continue;W++}else(ae.is("containerElement")||ae.is("emptyElement"))&&W++;if(W>1)return!0}return!1}(f)&&(E.unit=lh,E.selectionToRemove=e.createSelection(f)));const O=new qd(t,"delete",f[0]);t.fire(O,new Kc(e,b,E)),O.stop.called&&a.stop()}),S.isBlink&&function(a){const u=a.view,f=u.document;let b=null,w=!1;function A(O){return O==Ve.backspace||O==Ve.delete}function E(O){return O==Ve.backspace?qf:Og}f.on("keydown",(O,{keyCode:z})=>{b=z,w=!1}),f.on("keyup",(O,{keyCode:z,domEvent:U})=>{const W=f.selection,X=a.isEnabled&&z==b&&A(z)&&!W.isCollapsed&&!w;if(b=null,X){const ae=W.getFirstRange(),ge=new qd(f,"delete",ae),Me={unit:lh,direction:E(z),selectionToRemove:W};f.fire(ge,new Kc(u,U,Me))}}),f.on("beforeinput",(O,{inputType:z})=>{const U=iE[z];A(b)&&U&&U.direction==E(b)&&(w=!0)},{priority:"high"}),f.on("beforeinput",(O,{inputType:z,data:U})=>{b==Ve.delete&&z=="insertText"&&U==""&&O.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class ou extends lt{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,n=t.document,a=e.model.document;t.addObserver(SP),this._undoOnBackspace=!1;const u=new tE(e,"forward");e.commands.add("deleteForward",u),e.commands.add("forwardDelete",u),e.commands.add("delete",new tE(e,"backward")),this.listenTo(n,"delete",(f,b)=>{n.isComposing||b.preventDefault();const{direction:w,sequence:A,selectionToRemove:E,unit:O}=b,z=w==="forward"?"deleteForward":"delete",U={sequence:A};if(O=="selection"){const W=Array.from(E.getRanges()).map(X=>e.editing.mapper.toModelRange(X));U.selection=e.model.createSelection(W)}else U.unit=O;e.execute(z,U),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",(f,b)=>{this._undoOnBackspace&&b.direction=="backward"&&b.sequence==1&&b.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),b.preventDefault(),f.stop())},{context:"$capture"}),this.listenTo(a,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class jP extends lt{static get requires(){return[JN,ou]}static get pluginName(){return"Typing"}}function rE(r,e){let t=r.start;return{text:Array.from(r.getWalker({ignoreElementEnd:!1})).reduce((n,{item:a})=>a.is("$text")||a.is("$textProxy")?n+a.data:(t=e.createPositionAfter(a),""),""),range:e.createRange(t,r.end)}}class sE extends Oe(){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(t,{directChange:n})=>{n&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(t,n)=>{!n.isUndo&&n.isLocal&&this._evaluateTextBeforeSelection("data",{batch:n})})}_evaluateTextBeforeSelection(e,t={}){const n=this.model,a=n.document.selection,u=n.createRange(n.createPositionAt(a.focus.parent,0),a.focus),{text:f,range:b}=rE(u,n),w=this.testCallback(f);if(!w&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!w,w){const A=Object.assign(t,{text:f,range:b});typeof w=="object"&&Object.assign(A,w),this.fire(`matched:${e}`,A)}}}class oE extends lt{constructor(e){super(e),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const e=this.editor,t=e.model,n=e.editing.view,a=e.locale,u=t.document.selection;this.listenTo(n.document,"arrowKey",(f,b)=>{if(!u.isCollapsed||b.shiftKey||b.altKey||b.ctrlKey)return;const w=b.keyCode==Ve.arrowright,A=b.keyCode==Ve.arrowleft;if(!w&&!A)return;const E=a.contentLanguageDirection;let O=!1;O=E==="ltr"&&w||E==="rtl"&&A?this._handleForwardMovement(b):this._handleBackwardMovement(b),O===!0&&f.stop()},{context:"$text",priority:"highest"}),this.listenTo(u,"change:range",(f,b)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!b.directChange&&Ol(u.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,n=this.editor.model,a=n.document.selection,u=a.getFirstPosition();return!this._isGravityOverridden&&(!u.isAtStart||!au(a,t))&&!!Ol(u,t)&&(Bg(e),au(a,t)&&Ol(u,t,!0)?Lg(n,t):this._overrideGravity(),!0)}_handleBackwardMovement(e){const t=this.attributes,n=this.editor.model,a=n.document.selection,u=a.getFirstPosition();return this._isGravityOverridden?(Bg(e),this._restoreGravity(),Ol(u,t,!0)?Lg(n,t):g_(n,t,u),!0):u.isAtStart?!!au(a,t)&&(Bg(e),g_(n,t,u),!0):!au(a,t)&&Ol(u,t,!0)?(Bg(e),g_(n,t,u),!0):!!aE(u,t)&&(u.isAtEnd&&!au(a,t)&&Ol(u,t)?(Bg(e),g_(n,t,u),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const e=this.editor,t=e.model,n=t.document.selection,a=e.editing.view.document;e.editing.view.addObserver(xg);let u=!1;this.listenTo(a,"mousedown",()=>{u=!0}),this.listenTo(a,"selectionChange",()=>{const f=this.attributes;if(!u||(u=!1,!n.isCollapsed)||!au(n,f))return;const b=n.getFirstPosition();Ol(b,f)&&(b.isAtStart||Ol(b,f,!0)?Lg(t,f):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection,n=this.attributes;this.listenTo(e,"insertContent",()=>{const a=t.getFirstPosition();au(t,n)&&Ol(a,n)&&Lg(e,n)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,t=e.model,n=t.document.selection,a=e.editing.view;let u=!1,f=!1;this.listenTo(a.document,"delete",(b,w)=>{u=w.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{if(!u)return;const b=n.getFirstPosition();f=au(n,this.attributes)&&!aE(b,this.attributes)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{u&&(u=!1,f||e.model.enqueueChange(()=>{const b=n.getFirstPosition();au(n,this.attributes)&&Ol(b,this.attributes)&&(b.isAtStart||Ol(b,this.attributes,!0)?Lg(t,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function au(r,e){for(const t of e)if(r.hasAttribute(t))return!0;return!1}function g_(r,e,t){const n=t.nodeBefore;r.change(a=>{if(n){const u=[],f=r.schema.isObject(n)&&r.schema.isInline(n);for(const[b,w]of n.getAttributes())!r.schema.checkAttribute("$text",b)||f&&r.schema.getAttributeProperties(b).copyFromObject===!1||u.push([b,w]);a.setSelectionAttribute(u)}else a.removeSelectionAttribute(e)})}function Lg(r,e){r.change(t=>{t.removeSelectionAttribute(e)})}function Bg(r){r.preventDefault()}function aE(r,e){return Ol(r.getShiftedBy(-1),e)}function Ol(r,e,t=!1){const{nodeBefore:n,nodeAfter:a}=r;for(const u of e){const f=n?n.getAttribute(u):void 0,b=a?a.getAttribute(u):void 0;if((!t||f!==void 0&&b!==void 0)&&b!==f)return!0}return!1}const lE={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:Wf('"'),to:[null,"",null,""]},quotesSecondary:{from:Wf("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:Wf("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:Wf('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:Wf('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:Wf("'"),to:[null,"",null,""]}},cE={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},DP=["symbols","mathematical","typography","quotes"];function TP(r){return typeof r=="string"?new RegExp(`(${uN(r)})$`):r}function MP(r){return typeof r=="string"?()=>[r]:r instanceof Array?()=>r:r}function IP(r){return(r.textNode?r.textNode:r.nodeAfter).getAttributes()}function Wf(r){return new RegExp(`(^|\\s)(${r})([^${r}]*)(${r})$`)}function b_(r,e,t,n){return n.createRange(dE(r,e,t,!0,n),dE(r,e,t,!1,n))}function dE(r,e,t,n,a){let u=r.textNode||(n?r.nodeBefore:r.nodeAfter),f=null;for(;u&&u.getAttribute(e)==t;)f=u,u=n?u.previousSibling:u.nextSibling;return f?a.createPositionAt(f,n?"before":"after"):r}function*uE(r,e){for(const t of e)t&&r.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}class OP extends Ft{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,n=t.document.selection,a=t.schema,u=n.isCollapsed,f=n.getFirstRange(),b=f.start.parent,w=f.end.parent;if(a.isLimit(b)||a.isLimit(w))return u||b!=w||t.deleteContent(n),!1;if(u){const A=uE(e.model.schema,n.getAttributes());return hE(e,f.start),e.setSelectionAttribute(A),!0}{const A=!(f.start.isAtStart&&f.end.isAtEnd),E=b==w;if(t.deleteContent(n,{leaveUnmerged:A}),A){if(E)return hE(e,n.focus),!0;e.setSelection(w,0)}}return!1}}function hE(r,e){r.split(e),r.setSelection(e.parent.nextSibling,0)}const LP={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class mE extends sl{constructor(e){super(e);const t=this.document;let n=!1;t.on("keydown",(a,u)=>{n=u.shiftKey}),t.on("beforeinput",(a,u)=>{if(!this.isEnabled)return;let f=u.inputType;S.isSafari&&n&&f=="insertParagraph"&&(f="insertLineBreak");const b=u.domEvent,w=LP[f];if(!w)return;const A=new qd(t,"enter",u.targetRanges[0]);t.fire(A,new Kc(e,b,{isSoft:w.isSoft})),A.stop.called&&a.stop()})}observe(){}stopObserving(){}}class k_ extends lt{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,n=t.document,a=this.editor.t;t.addObserver(mE),e.commands.add("enter",new OP(e)),this.listenTo(n,"enter",(u,f)=>{n.isComposing||f.preventDefault(),f.isSoft||(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:a("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class BP extends Ft{execute(){const e=this.editor.model,t=e.document;e.change(n=>{(function(a,u,f){const b=f.isCollapsed,w=f.getFirstRange(),A=w.start.parent,E=w.end.parent,O=A==E;if(b){const z=uE(a.schema,f.getAttributes());fE(a,u,w.end),u.removeSelectionAttribute(f.getAttributeKeys()),u.setSelectionAttribute(z)}else{const z=!(w.start.isAtStart&&w.end.isAtEnd);a.deleteContent(f,{leaveUnmerged:z}),O?fE(a,u,f.focus):z&&u.setSelection(E,0)}})(e,n,t.selection),this.fire("afterExecute",{writer:n})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=function(n,a){if(a.rangeCount>1)return!1;const u=a.anchor;if(!u||!n.checkChild(u,"softBreak"))return!1;const f=a.getFirstRange(),b=f.start.parent,w=f.end.parent;return!((my(b,n)||my(w,n))&&b!==w)}(e.schema,t.selection)}}function fE(r,e,t){const n=e.createElement("softBreak");r.insertContent(n,t),e.setSelection(n,"after")}function my(r,e){return!r.is("rootElement")&&(e.isLimit(r)||my(r.parent,e))}class RP extends lt{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,n=e.conversion,a=e.editing.view,u=a.document,f=this.editor.t;t.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(b,{writer:w})=>w.createEmptyElement("br")}),a.addObserver(mE),e.commands.add("shiftEnter",new BP(e)),this.listenTo(u,"enter",(b,w)=>{u.isComposing||w.preventDefault(),w.isSoft&&(e.execute("shiftEnter"),a.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:f("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class PP extends he(){constructor(){super(...arguments),this._stack=[]}add(e,t){const n=this._stack,a=n[0];this._insertDescriptor(e);const u=n[0];a===u||fy(a,u)||this.fire("change:top",{oldDescriptor:a,newDescriptor:u,writer:t})}remove(e,t){const n=this._stack,a=n[0];this._removeDescriptor(e);const u=n[0];a===u||fy(a,u)||this.fire("change:top",{oldDescriptor:a,newDescriptor:u,writer:t})}_insertDescriptor(e){const t=this._stack,n=t.findIndex(u=>u.id===e.id);if(fy(e,t[n]))return;n>-1&&t.splice(n,1);let a=0;for(;t[a]&&zP(t[a],e);)a++;t.splice(a,0,e)}_removeDescriptor(e){const t=this._stack,n=t.findIndex(a=>a.id===e);n>-1&&t.splice(n,1)}}function fy(r,e){return r&&e&&r.priority==e.priority&&__(r.classes)==__(e.classes)}function zP(r,e){return r.priority>e.priority||!(r.priority<e.priority)&&__(r.classes)>__(e.classes)}function __(r){return Array.isArray(r)?r.sort().join(","):r}const FP='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',VP="ck-widget",pE="ck-widget_selected";function ss(r){return!!r.is("element")&&!!r.getCustomProperty("widget")}function py(r,e,t={}){if(!r.is("containerElement"))throw new q("widget-to-widget-wrong-element-type",null,{element:r});return e.setAttribute("contenteditable","false",r),e.addClass(VP,r),e.setCustomProperty("widget",!0,r),r.getFillerOffset=$P,e.setCustomProperty("widgetLabel",[],r),t.label&&function(n,a){n.getCustomProperty("widgetLabel").push(a)}(r,t.label),t.hasSelectionHandle&&function(n,a){const u=a.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(f){const b=this.toDomElement(f),w=new m;return w.set("content",FP),w.render(),b.appendChild(w.element),b});a.insert(a.createPositionAt(n,0),u),a.addClass(["ck-widget_with-selection-handle"],n)}(r,e),gE(r,e),r}function HP(r,e,t){if(e.classes&&t.addClass(pn(e.classes),r),e.attributes)for(const n in e.attributes)t.setAttribute(n,e.attributes[n],r)}function UP(r,e,t){if(e.classes&&t.removeClass(pn(e.classes),r),e.attributes)for(const n in e.attributes)t.removeAttribute(n,r)}function gE(r,e,t=HP,n=UP){const a=new PP;a.on("change:top",(u,f)=>{f.oldDescriptor&&n(r,f.oldDescriptor,f.writer),f.newDescriptor&&t(r,f.newDescriptor,f.writer)}),e.setCustomProperty("addHighlight",(u,f,b)=>a.add(f,b),r),e.setCustomProperty("removeHighlight",(u,f,b)=>a.remove(f,b),r)}function bE(r,e,t={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],r),e.setAttribute("role","textbox",r),e.setAttribute("tabindex","-1",r),t.label&&e.setAttribute("aria-label",t.label,r),e.setAttribute("contenteditable",r.isReadOnly?"false":"true",r),r.on("change:isReadOnly",(n,a,u)=>{e.setAttribute("contenteditable",u?"false":"true",r)}),r.on("change:isFocused",(n,a,u)=>{u?e.addClass("ck-editor__nested-editable_focused",r):e.removeClass("ck-editor__nested-editable_focused",r)}),gE(r,e),r}function kE(r,e){const t=r.getSelectedElement();if(t){const n=ch(r);if(n)return e.createRange(e.createPositionAt(t,n))}return e.schema.findOptimalInsertionRange(r)}function $P(){return null}const lu="widget-type-around";function pm(r,e,t){return!!r&&ss(r)&&!t.isInline(e)}function ch(r){return r.getAttribute(lu)}var _E=h(8508),qP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(_E.A,qP),_E.A.locals;const vE=["before","after"],WP=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,wE="ck-widget__type-around_disabled";class YP extends lt{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[k_,ou]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(n,a,u)=>{t.change(f=>{for(const b of t.document.roots)u?f.removeClass(wE,b):f.addClass(wE,b)}),u||e.model.change(f=>{f.removeSelectionAttribute(lu)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const n=this.editor,a=n.editing.view,u=n.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(e,t),attributes:u}),a.focus(),a.scrollToTheSelection()}_listenToIfEnabled(e,t,n,a){this.listenTo(e,t,(...u)=>{this.isEnabled&&n(...u)},a)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,t=ch(e);if(!t)return!1;const n=e.getSelectedElement();return this._insertParagraph(n,t),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,n=e.locale.t,a={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(u,f,b)=>{const w=b.mapper.toViewElement(f.item);w&&pm(w,f.item,t)&&(function(A,E,O){const z=A.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(U){const W=this.toDomElement(U);return function(X,ae){for(const ge of vE){const Me=new Fo({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${ge}`],title:ae[ge],"aria-hidden":"true"},children:[X.ownerDocument.importNode(WP,!0)]});X.appendChild(Me.render())}}(W,E),function(X){const ae=new Fo({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});X.appendChild(ae.render())}(W),W});A.insert(A.createPositionAt(O,"end"),z)}(b.writer,a,w),w.getCustomProperty("widgetLabel").push(()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,n=t.document.selection,a=t.schema,u=e.editing.view;function f(b){return`ck-widget_type-around_show-fake-caret_${b}`}this._listenToIfEnabled(u.document,"arrowKey",(b,w)=>{this._handleArrowKeyPress(b,w)},{context:[ss,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",(b,w)=>{w.directChange&&e.model.change(A=>{A.removeSelectionAttribute(lu)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const b=n.getSelectedElement();b&&pm(e.editing.mapper.toViewElement(b),b,a)||e.model.change(w=>{w.removeSelectionAttribute(lu)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(b,w,A)=>{const E=A.writer;if(this._currentFakeCaretModelElement){const W=A.mapper.toViewElement(this._currentFakeCaretModelElement);W&&(E.removeClass(vE.map(f),W),this._currentFakeCaretModelElement=null)}const O=w.selection.getSelectedElement();if(!O)return;const z=A.mapper.toViewElement(O);if(!pm(z,O,a))return;const U=ch(w.selection);U&&(E.addClass(f(U),z),this._currentFakeCaretModelElement=O)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(b,w,A)=>{A||e.model.change(E=>{E.removeSelectionAttribute(lu)})})}_handleArrowKeyPress(e,t){const n=this.editor,a=n.model,u=a.document.selection,f=a.schema,b=n.editing.view,w=function(O,z){const U=kn(O,z);return U==="down"||U==="right"}(t.keyCode,n.locale.contentLanguageDirection),A=b.document.selection.getSelectedElement();let E;pm(A,n.editing.mapper.toModelElement(A),f)?E=this._handleArrowKeyPressOnSelectedWidget(w):u.isCollapsed?E=this._handleArrowKeyPressWhenSelectionNextToAWidget(w):t.shiftKey||(E=this._handleArrowKeyPressWhenNonCollapsedSelection(w)),E&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const t=this.editor.model,n=ch(t.document.selection);return t.change(a=>n?n!==(e?"after":"before")?(a.removeSelectionAttribute(lu),!0):!1:(a.setSelectionAttribute(lu,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,n=t.model,a=n.schema,u=t.plugins.get("Widget"),f=u._getObjectElementNextToSelection(e);return!!pm(t.editing.mapper.toViewElement(f),f,a)&&(n.change(b=>{u._setSelectionOverElement(f),b.setSelectionAttribute(lu,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,n=t.model,a=n.schema,u=t.editing.mapper,f=n.document.selection,b=e?f.getLastPosition().nodeBefore:f.getFirstPosition().nodeAfter;return!!pm(u.toViewElement(b),b,a)&&(n.change(w=>{w.setSelection(b,"on"),w.setSelectionAttribute(lu,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(n,a)=>{const u=a.domTarget.closest(".ck-widget__type-around__button");if(!u)return;const f=function(A){return A.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(u),b=function(A,E){const O=A.closest(".ck-widget");return E.mapDomToView(O)}(u,t.domConverter),w=e.editing.mapper.toModelElement(b);this._insertParagraph(w,f),a.preventDefault(),n.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,n=e.editing.view;this._listenToIfEnabled(n.document,"enter",(a,u)=>{if(a.eventPhase!="atTarget")return;const f=t.getSelectedElement(),b=e.editing.mapper.toViewElement(f),w=e.model.schema;let A;this._insertParagraphAccordingToFakeCaretPosition()?A=!0:pm(b,f,w)&&(this._insertParagraph(f,u.isSoft?"before":"after"),A=!0),A&&(u.preventDefault(),a.stop())},{context:ss})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(t,n)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(n.selection=e.selection)},{priority:"high"}),S.isAndroid?this._listenToIfEnabled(e,"keydown",(t,n)=>{n.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,n=e.model,a=n.schema;this._listenToIfEnabled(t.document,"delete",(u,f)=>{if(u.eventPhase!="atTarget")return;const b=ch(n.document.selection);if(!b)return;const w=f.direction,A=n.document.selection.getSelectedElement(),E=w=="forward";if(b==="before"===E)e.execute("delete",{selection:n.createSelection(A,"on")});else{const O=a.getNearestSelectionRange(n.createPositionAt(A,b),w);if(O)if(O.isCollapsed){const z=n.createSelection(O.start);if(n.modifySelection(z,{direction:w}),z.focus.isEqual(O.start)){const U=function(W,X){let ae=X;for(const ge of X.getAncestors({parentFirst:!0})){if(ge.childCount>1||W.isLimit(ge))break;ae=ge}return ae}(a,O.start.parent);n.deleteContent(n.createSelection(U,"on"),{doNotAutoparagraph:!0})}else n.change(U=>{U.setSelection(O),e.execute(E?"deleteForward":"delete")})}else n.change(z=>{z.setSelection(O),e.execute(E?"deleteForward":"delete")})}f.preventDefault(),u.stop()},{context:ss})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,n=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(a,[u,f])=>{if(f&&!f.is("documentSelection"))return;const b=ch(n);return b?(a.stop(),t.change(w=>{const A=n.getSelectedElement(),E=t.createPositionAt(A,b),O=w.createSelection(E),z=t.insertContent(u,O);return w.setSelection(O),z})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(n,a)=>{const[,u,f={}]=a;if(u&&!u.is("documentSelection"))return;const b=ch(t);b&&(f.findOptimalPosition=b,a[3]=f)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(n,[a])=>{a&&!a.is("documentSelection")||ch(t)&&n.stop()},{priority:"high"})}}function GP(r){const e=r.model;return(t,n)=>{const a=n.keyCode==Ve.arrowup,u=n.keyCode==Ve.arrowdown,f=n.shiftKey,b=e.document.selection;if(!a&&!u)return;const w=u;if(f&&function(E,O){return!E.isCollapsed&&E.isBackward==O}(b,w))return;const A=function(E,O,z){const U=E.model;if(z){const W=O.isCollapsed?O.focus:O.getLastPosition(),X=yE(U,W,"forward");if(!X)return null;const ae=U.createRange(W,X),ge=xE(U.schema,ae,"backward");return ge?U.createRange(W,ge):null}{const W=O.isCollapsed?O.focus:O.getFirstPosition(),X=yE(U,W,"backward");if(!X)return null;const ae=U.createRange(X,W),ge=xE(U.schema,ae,"forward");return ge?U.createRange(ge,W):null}}(r,b,w);if(A){if(A.isCollapsed&&(b.isCollapsed||f))return;(A.isCollapsed||function(E,O,z){const U=E.model,W=E.view.domConverter;if(z){const Ze=U.createSelection(O.start);U.modifySelection(Ze),Ze.focus.isAtEnd||O.start.isEqual(Ze.focus)||(O=U.createRange(Ze.focus,O.end))}const X=E.mapper.toViewRange(O),ae=W.viewRangeToDom(X),ge=fn.getDomRangeRects(ae);let Me;for(const Ze of ge)if(Me!==void 0){if(Math.round(Ze.top)>=Me)return!1;Me=Math.max(Me,Math.round(Ze.bottom))}else Me=Math.round(Ze.bottom);return!0}(r,A,w))&&(e.change(E=>{const O=w?A.end:A.start;if(f){const z=e.createSelection(b.anchor);z.setFocus(O),E.setSelection(z)}else E.setSelection(O)}),t.stop(),n.preventDefault(),n.stopPropagation())}}}function yE(r,e,t){const n=r.schema,a=r.createRangeIn(e.root),u=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:f,item:b,type:w}of a.getWalker({startPosition:e,direction:t})){if(n.isLimit(b)&&!n.isInline(b))return f;if(w==u&&n.isBlock(b))return null}return null}function xE(r,e,t){const n=t=="backward"?e.end:e.start;if(r.checkChild(n,"$text"))return n;for(const{nextPosition:a}of e.getWalker({direction:t}))if(r.checkChild(a,"$text"))return a;return null}var CE=h(695),KP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(CE.A,KP),CE.A.locals;class Rg extends lt{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[YP,ou]}init(){const e=this.editor,t=e.editing.view,n=t.document,a=e.t;this.editor.editing.downcastDispatcher.on("selection",(u,f,b)=>{const w=b.writer,A=f.selection;if(A.isCollapsed)return;const E=A.getSelectedElement();if(!E)return;const O=e.editing.mapper.toViewElement(E);var z;ss(O)&&b.consumable.consume(A,"selection")&&w.setSelection(w.createRangeOn(O),{fake:!0,label:(z=O,z.getCustomProperty("widgetLabel").reduce((U,W)=>typeof W=="function"?U?U+". "+W():W():U?U+". "+W:W,""))})}),this.editor.editing.downcastDispatcher.on("selection",(u,f,b)=>{this._clearPreviouslySelectedWidgets(b.writer);const w=b.writer,A=w.document.selection;let E=null;for(const O of A.getRanges())for(const z of O){const U=z.item;ss(U)&&!QP(U,E)&&(w.addClass(pE,U),this._previouslySelected.add(U),E=U)}},{priority:"low"}),t.addObserver(xg),this.listenTo(n,"mousedown",(...u)=>this._onMousedown(...u)),this.listenTo(n,"arrowKey",(...u)=>{this._handleSelectionChangeOnArrowKeyPress(...u)},{context:[ss,"$text"]}),this.listenTo(n,"arrowKey",(...u)=>{this._preventDefaultOnArrowKeyPress(...u)},{context:"$root"}),this.listenTo(n,"arrowKey",GP(this.editor.editing),{context:"$text"}),this.listenTo(n,"delete",(u,f)=>{this._handleDelete(f.direction=="forward")&&(f.preventDefault(),u.stop())},{context:"$root"}),this.listenTo(n,"tab",(u,f)=>{u.eventPhase=="atTarget"&&(f.shiftKey||this._selectFirstNestedEditable()&&(f.preventDefault(),u.stop()))},{context:ss,priority:"low"}),this.listenTo(n,"tab",(u,f)=>{f.shiftKey&&this._selectAncestorWidget()&&(f.preventDefault(),u.stop())},{priority:"low"}),this.listenTo(n,"keydown",(u,f)=>{f.keystroke==Ve.esc&&this._selectAncestorWidget()&&(f.preventDefault(),u.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:a("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:a("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:a("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:a("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:a("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,t){const n=this.editor,a=n.editing.view,u=a.document;let f=t.target;if(t.domEvent.detail>=3)return void(this._selectBlockContent(f)&&t.preventDefault());if(function(w){let A=w;for(;A;){if(A.is("editableElement")&&!A.is("rootElement"))return!0;if(ss(A))return!1;A=A.parent}return!1}(f)||!ss(f)&&(f=f.findAncestor(ss),!f))return;S.isAndroid&&t.preventDefault(),u.isFocused||a.focus();const b=n.editing.mapper.toModelElement(f);this._setSelectionOverElement(b)}_selectBlockContent(e){const t=this.editor,n=t.model,a=t.editing.mapper,u=n.schema,f=a.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),b=function(w,A){for(const E of w.getAncestors({includeSelf:!0,parentFirst:!0})){if(A.checkChild(E,"$text"))return E;if(A.isLimit(E)&&!A.isObject(E))break}return null}(a.toModelElement(f),n.schema);return!!b&&(n.change(w=>{const A=u.isLimit(b)?null:function(z,U){const W=new oo({startPosition:z});for(const{item:X}of W){if(U.isLimit(X)||!X.is("element"))return null;if(U.checkChild(X,"$text"))return X}return null}(w.createPositionAfter(b),u),E=w.createPositionAt(b,0),O=A?w.createPositionAt(A,0):w.createPositionAt(b,"end");w.setSelection(w.createRange(E,O))}),!0)}_handleSelectionChangeOnArrowKeyPress(e,t){const n=t.keyCode,a=this.editor.model,u=a.schema,f=a.document.selection,b=f.getSelectedElement(),w=kn(n,this.editor.locale.contentLanguageDirection),A=w=="down"||w=="right",E=w=="up"||w=="down";if(b&&u.isObject(b)){const z=A?f.getLastPosition():f.getFirstPosition(),U=u.getNearestSelectionRange(z,A?"forward":"backward");return void(U&&(a.change(W=>{W.setSelection(U)}),t.preventDefault(),e.stop()))}if(!f.isCollapsed&&!t.shiftKey){const z=f.getFirstPosition(),U=f.getLastPosition(),W=z.nodeAfter,X=U.nodeBefore;return void((W&&u.isObject(W)||X&&u.isObject(X))&&(a.change(ae=>{ae.setSelection(A?U:z)}),t.preventDefault(),e.stop()))}if(!f.isCollapsed)return;const O=this._getObjectElementNextToSelection(A);if(O&&u.isObject(O)){if(u.isInline(O)&&E)return;this._setSelectionOverElement(O),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const n=this.editor.model,a=n.schema,u=n.document.selection.getSelectedElement();u&&a.isObject(u)&&(t.preventDefault(),e.stop())}_handleDelete(e){const t=this.editor.model.document.selection;if(!this.editor.model.canEditAt(t)||!t.isCollapsed)return;const n=this._getObjectElementNextToSelection(e);return n?(this.editor.model.change(a=>{let u=t.anchor.parent;for(;u.isEmpty;){const f=u;u=f.parent,a.remove(f)}this._setSelectionOverElement(n)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,n=t.schema,a=t.document.selection,u=t.createSelection(a);if(t.modifySelection(u,{direction:e?"forward":"backward"}),u.isEqual(a))return null;const f=e?u.focus.nodeBefore:u.focus.nodeAfter;return f&&n.isObject(f)?f:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(pE,t);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,t=this.editor.editing.view.document;for(const n of t.selection.getFirstRange().getItems())if(n.is("editableElement")){const a=e.editing.mapper.toModelElement(n);if(!a)continue;const u=e.model.createPositionAt(a,0),f=e.model.schema.getNearestSelectionRange(u,"forward");return e.model.change(b=>{b.setSelection(f)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,t=e.editing.mapper,n=e.editing.view.document.selection.getFirstPosition().parent,a=(n.is("$text")?n.parent:n).findAncestor(ss);if(!a)return!1;const u=t.toModelElement(a);return!!u&&(e.model.change(f=>{f.setSelection(u,"on")}),!0)}}function QP(r,e){return!!e&&Array.from(r.getAncestors()).includes(e)}class v_ extends lt{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[h_]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",n=>{(function(a){const u=a.getSelectedElement();return!(!u||!ss(u))})(e.editing.view.document.selection)&&n.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:n,getRelatedElement:a,balloonClassName:u="ck-toolbar-container"}){if(!n.length)return void de("widget-toolbar-no-items",{toolbarId:e});const f=this.editor,b=f.t,w=new Xw(f.locale);if(w.ariaLabel=t||b("Widget toolbar"),this._toolbarDefinitions.has(e))throw new q("widget-toolbar-duplicated",this,{toolbarId:e});const A={view:w,getRelatedElement:a,balloonClassName:u,itemsConfig:n,initialized:!1};f.ui.addToolbar(w,{isContextual:!0,beforeFocus:()=>{const E=a(f.editing.view.document.selection);E&&this._showToolbar(A,E)},afterBlur:()=>{this._hideToolbar(A)}}),this._toolbarDefinitions.set(e,A)}_updateToolbarsVisibility(){let e=0,t=null,n=null;for(const a of this._toolbarDefinitions.values()){const u=a.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&u)if(this.editor.ui.focusTracker.isFocused){const f=u.getAncestors().length;f>e&&(e=f,t=u,n=a)}else this._isToolbarVisible(a)&&this._hideToolbar(a);else this._isToolbarInBalloon(a)&&this._hideToolbar(a)}n&&this._showToolbar(n,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?AE(this.editor,t):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:NE(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const n of this._toolbarDefinitions.values())if(this._isToolbarVisible(n)){const a=n.getRelatedElement(this.editor.editing.view.document.selection);AE(this.editor,a)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function AE(r,e){const t=r.plugins.get("ContextualBalloon"),n=NE(r,e);t.updatePosition(n)}function NE(r,e){const t=r.editing.view,n=Ma.defaultPositions;return{target:t.domConverter.mapViewToDom(e),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}var EE=h(4095),ZP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(EE.A,ZP),EE.A.locals;const gy=vo("px");class XP extends St{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",t=>!t)],style:{left:e.to("left",t=>gy(t)),top:e.to("top",t=>gy(t)),width:e.to("width",t=>gy(t))}}})}}class w_ extends lt{constructor(){super(...arguments),this.removeDropMarkerDelayed=sa(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=d_(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=d_(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new XP,this._domEmitter=new(Js()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,n,a,u,f){this.removeDropMarkerDelayed.cancel();const b=SE(this.editor,e,t,n,a,u,f);if(b)return f&&f.containsRange(b)?this.removeDropMarker():void this._updateDropMarkerThrottled(b)}getFinalDropRange(e,t,n,a,u,f){const b=SE(this.editor,e,t,n,a,u,f);return this.removeDropMarker(),b}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:n})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(n);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,n=t.model.markers;t.model.change(a=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(e)||a.updateMarker("drop-target",{range:e}):a.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(t){const n=this.toDomElement(t);return n.append("",t.createElement("span"),""),n})}_updateDropTargetLine(e){const t=this.editor.editing,n=e.start.nodeBefore,a=e.start.nodeAfter,u=e.start.parent,f=n?t.mapper.toViewElement(n):null,b=f?t.view.domConverter.mapViewToDom(f):null,w=a?t.mapper.toViewElement(a):null,A=w?t.view.domConverter.mapViewToDom(w):null,E=t.mapper.toViewElement(u);if(!E)return;const O=t.view.domConverter.mapViewToDom(E),z=this._getScrollableRect(E),{scrollX:U,scrollY:W}=y.window,X=b?new fn(b):null,ae=A?new fn(A):null,ge=new fn(O).excludeScrollbarsAndBorders(),Me=X?X.bottom:ge.top,Ze=ae?ae.top:ge.bottom,pt=y.window.getComputedStyle(O),Vt=Me<=Ze?(Me+Ze)/2:Ze;if(z.top<Vt&&Vt<z.bottom){const jn=ge.left+parseFloat(pt.paddingLeft),Fn=ge.right-parseFloat(pt.paddingRight),or=Math.max(jn+U,z.left),Hs=Math.min(Fn+U,z.right);this._dropTargetLineView.set({isVisible:!0,left:or,top:Vt+W,width:Hs-or})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let n;if(this._scrollables.has(t))n=this._scrollables.get(t).domElement;else{n=function(u){let f=u;do{f=f.parentElement;const b=y.window.getComputedStyle(f).overflowY;if(b=="auto"||b=="scroll")break}while(f.tagName!="BODY");return f}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(n,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const a=new _o(n,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:n,resizeObserver:a})}return new fn(n).excludeScrollbarsAndBorders()}}function SE(r,e,t,n,a,u,f){const b=r.model,w=r.editing.mapper;let A=DE(r,e);for(;A;){if(!u){if(b.schema.checkChild(A,"$text")){if(t){const E=t[0].start,O=w.toModelPosition(E);if(!f||Array.from(f.getItems()).every(z=>b.schema.checkChild(O,z))){if(b.schema.checkChild(O,"$text"))return b.createRange(O);if(E)return y_(r,DE(r,E.parent),n,a)}}}else if(b.schema.isInline(A))return y_(r,A,n,a)}if(b.schema.isBlock(A))return y_(r,A,n,a);if(b.schema.checkChild(A,"$block")){const E=Array.from(A.getChildren()).filter(U=>U.is("element")&&!JP(r,U));let O=0,z=E.length;if(z==0)return b.createRange(b.createPositionAt(A,"end"));for(;O<z-1;){const U=Math.floor((O+z)/2);jE(r,E[U],n,a)=="before"?z=U:O=U}return y_(r,E[O],n,a)}A=A.parent}return null}function JP(r,e){const t=r.editing.mapper,n=r.editing.view.domConverter,a=t.toViewElement(e);if(!a)return!0;const u=n.mapViewToDom(a);return y.window.getComputedStyle(u).float!="none"}function y_(r,e,t,n){const a=r.model;return a.createRange(a.createPositionAt(e,jE(r,e,t,n)))}function jE(r,e,t,n){const a=r.editing.mapper,u=r.editing.view.domConverter,f=a.toViewElement(e),b=u.mapViewToDom(f),w=new fn(b);return r.model.schema.isInline(e)?t<(w.left+w.right)/2?"before":"after":n<(w.top+w.bottom)/2?"before":"after"}function DE(r,e){const t=r.editing.mapper,n=r.editing.view,a=t.toModelElement(e);if(a)return a;const u=n.createPositionBefore(e),f=t.findMappedViewAncestor(u);return t.toModelElement(f)}var e4=Object.defineProperty,t4=Object.defineProperties,n4=Object.getOwnPropertyDescriptors,TE=Object.getOwnPropertySymbols,i4=Object.prototype.hasOwnProperty,r4=Object.prototype.propertyIsEnumerable,ME=(r,e,t)=>e in r?e4(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class s4 extends lt{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(Js())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(t,n,a)=>{a?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),S.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const t=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(t,"dragstart",(n,a)=>this._handleBlockDragStart(a)),this._domEmitter.listenTo(y.document,"dragover",(n,a)=>this._handleBlockDragging(a)),this._domEmitter.listenTo(y.document,"drop",(n,a)=>this._handleBlockDragging(a)),this._domEmitter.listenTo(y.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&t.setAttribute("draggable","true"),this.on("change:isEnabled",(n,a,u)=>{t.setAttribute("draggable",u?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,n=t.document.selection,a=this.editor.editing.view,u=Array.from(n.getSelectedBlocks()),f=t.createRange(t.createPositionBefore(u[0]),t.createPositionAfter(u[u.length-1]));t.change(b=>b.setSelection(f)),this._isBlockDragging=!0,a.focus(),a.getObserver(Mg).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),n=e.clientY,a=document.elementFromPoint(t,n),u=this.editor.editing.view;var f,b;a&&a.closest(".ck-editor__editable")&&u.getObserver(Mg).onDomEvent((f=((w,A)=>{for(var E in A||(A={}))i4.call(A,E)&&ME(w,E,A[E]);if(TE)for(var E of TE(A))r4.call(A,E)&&ME(w,E,A[E]);return w})({},e),b={type:e.type,dataTransfer:e.dataTransfer,target:a,clientX:t,clientY:n,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()},t4(f,n4(b))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var IE=h(7793),o4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(IE.A,o4),IE.A.locals;class a4 extends lt{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=sa(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(Js())}static get pluginName(){return"DragDrop"}static get requires(){return[Il,Rg,w_,s4]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(Mg),t.addObserver(xg),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(n,a,u)=>{u?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(n,a,u)=>{u||this._finalizeDragging(!1)}),S.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,n=e.editing.view,a=n.document,u=e.plugins.get(w_);this.listenTo(a,"dragstart",(f,b)=>{if(b.target&&b.target.is("editableElement")||(this._prepareDraggedRange(b.target),!this._draggedRange))return void b.preventDefault();this._draggingUid=ee(),b.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",b.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const w=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(b.dataTransfer,w,"dragstart");const{dataTransfer:A,domTarget:E,domEvent:O}=b,{clientX:z}=O;this._updatePreview({dataTransfer:A,domTarget:E,clientX:z}),b.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(a,"dragend",(f,b)=>{this._finalizeDragging(!b.dataTransfer.isCanceled&&b.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(y.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(a,"dragenter",()=>{this.isEnabled&&n.focus()}),this.listenTo(a,"dragleave",()=>{u.removeDropMarkerDelayed()}),this.listenTo(a,"dragging",(f,b)=>{if(!this.isEnabled)return void(b.dataTransfer.dropEffect="none");const{clientX:w,clientY:A}=b.domEvent;u.updateDropMarker(b.target,b.targetRanges,w,A,this._blockMode,this._draggedRange),this._draggedRange||(b.dataTransfer.dropEffect="copy"),S.isGecko||(b.dataTransfer.effectAllowed=="copy"?b.dataTransfer.dropEffect="copy":["all","copyMove"].includes(b.dataTransfer.effectAllowed)&&(b.dataTransfer.dropEffect="move")),f.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,t=e.editing.view.document,n=e.plugins.get(w_);this.listenTo(t,"clipboardInput",(a,u)=>{if(u.method!="drop")return;const{clientX:f,clientY:b}=u.domEvent,w=n.getFinalDropRange(u.target,u.targetRanges,f,b,this._blockMode,this._draggedRange);if(!w)return this._finalizeDragging(!1),void a.stop();if(this._draggedRange&&this._draggingUid!=u.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),OE(u.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(w,!0))return this._finalizeDragging(!1),void a.stop();u.targetRanges=[e.editing.mapper.toViewRange(w)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Il);e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const a=n.targetRanges.map(u=>this.editor.editing.mapper.toModelRange(u));this.editor.model.change(u=>u.setSelection(a))},{priority:"high"}),e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const a=OE(n.dataTransfer)=="move",u=!n.resultRange||!n.resultRange.isCollapsed;this._finalizeDragging(u&&a)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,n=t.document;this.listenTo(n,"mousedown",(a,u)=>{if(S.isAndroid||!u)return;this._clearDraggableAttributesDelayed.cancel();let f=LE(u.target);if(S.isBlink&&!e.isReadOnly&&!f&&!n.selection.isCollapsed){const b=n.selection.getSelectedElement();b&&ss(b)||(f=n.selection.editableElement)}f&&(t.change(b=>{b.setAttribute("draggable","true",f)}),this._draggableElement=e.editing.mapper.toModelElement(f))}),this.listenTo(n,"mouseup",()=>{S.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const t=this.editor,n=t.model;t.plugins.get(w_).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&n.change(a=>{const u=n.createSelection(this._draggedRange);n.deleteContent(u,{doNotAutoparagraph:!0});const f=u.getFirstPosition().parent;f.isEmpty&&!n.schema.checkChild(f,"$text")&&n.schema.checkChild(f,"paragraph")&&a.insertElement("paragraph",f,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,n=t.model,a=n.document.selection,u=e?LE(e):null;if(u){const A=t.editing.mapper.toModelElement(u);this._draggedRange=dr.fromRange(n.createRangeOn(A)),this._blockMode=n.schema.isBlock(A),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(a.isCollapsed&&!a.getFirstPosition().parent.isEmpty)return;const f=Array.from(a.getSelectedBlocks()),b=a.getFirstRange();if(f.length==0)return void(this._draggedRange=dr.fromRange(b));const w=BE(n,f);if(f.length>1)this._draggedRange=dr.fromRange(w),this._blockMode=!0;else if(f.length==1){const A=b.start.isTouching(w.start)&&b.end.isTouching(w.end);this._draggedRange=dr.fromRange(A?w:b),this._blockMode=A}n.change(A=>A.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:t,clientX:n}){const a=this.editor.editing.view,u=a.document.selection.editableElement,f=a.domConverter.mapViewToDom(u),b=y.window.getComputedStyle(f);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=ui(y.document,"div",{style:"position: fixed; left: -999999px;"}),y.document.body.appendChild(this._previewContainer));const w=new fn(f);if(f.contains(t))return;const A=parseFloat(b.paddingLeft),E=ui(y.document,"div");E.className="ck ck-content",E.style.width=b.width,E.style.paddingLeft=`${w.left-n+A}px`,S.isiOS&&(E.style.backgroundColor="white"),E.innerHTML=e.getData("text/html"),e.setDragImage(E,0,0),this._previewContainer.appendChild(E)}}function OE(r){return S.isGecko?r.dropEffect:["all","copyMove"].includes(r.effectAllowed)?"move":"copy"}function LE(r){if(r.is("editableElement"))return null;if(r.hasClass("ck-widget__selection-handle"))return r.findAncestor(ss);if(ss(r))return r;const e=r.findAncestor(t=>ss(t)||t.is("editableElement"));return ss(e)?e:null}function BE(r,e){const t=e[0],n=e[e.length-1],a=t.getCommonAncestor(n),u=r.createPositionBefore(t),f=r.createPositionAfter(n);if(a&&a.is("element")&&!r.schema.isLimit(a)){const b=r.createRangeOn(a),w=u.isTouching(b.start),A=f.isTouching(b.end);if(w&&A)return BE(r,[a])}return r.createRange(u,f)}class l4 extends lt{static get pluginName(){return"PastePlainText"}static get requires(){return[Il]}init(){const e=this.editor,t=e.model,n=e.editing.view,a=n.document,u=t.document.selection;let f=!1;n.addObserver(Mg),this.listenTo(a,"keydown",(b,w)=>{f=w.shiftKey}),e.plugins.get(Il).on("contentInsertion",(b,w)=>{(f||function(A,E){if(A.childCount>1)return!1;const O=A.getChild(0);return E.isObject(O)?!1:Array.from(O.getAttributeKeys()).length==0}(w.content,t.schema))&&t.change(A=>{const E=Array.from(u.getAttributes()).filter(([z])=>t.schema.getAttributeProperties(z).isFormatting);u.isCollapsed||t.deleteContent(u,{doNotAutoparagraph:!0}),E.push(...u.getAttributes());const O=A.createRangeIn(w.content);for(const z of O.getItems())z.is("$textProxy")&&A.setAttributes(E,z)})})}}class RE extends lt{static get pluginName(){return"Clipboard"}static get requires(){return[Ig,Il,a4,l4]}init(){const e=this.editor,t=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Copy selected content"),keystroke:"CTRL+C"},{label:t("Paste content"),keystroke:"CTRL+V"},{label:t("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class c4 extends Ft{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!PE(e.schema,n))do if(n=n.parent,!n)return;while(!PE(e.schema,n));e.change(a=>{a.setSelection(n,"in")})}}function PE(r,e){return r.isLimit(e)&&(r.checkChild(e,"$text")||r.checkChild(e,"paragraph"))}const d4=Wt("Ctrl+A");class u4 extends lt{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,t=e.t,n=e.editing.view.document;e.commands.add("selectAll",new c4(e)),this.listenTo(n,"keydown",(a,u)=>{Pt(u)===d4&&(e.execute("selectAll"),u.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Select all"),keystroke:"CTRL+A"}]})}}class h4 extends lt{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",()=>{const t=this._createButton(P);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(ll))}_createButton(e){const t=this.editor,n=t.locale,a=t.commands.get("selectAll"),u=new e(t.locale),f=n.t;return u.set({label:f("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),u.bind("isEnabled").to(a,"isEnabled"),this.listenTo(u,"execute",()=>{t.execute("selectAll"),t.editing.view.focus()}),u}}class m4 extends lt{static get requires(){return[u4,h4]}static get pluginName(){return"SelectAll"}}var f4=Object.defineProperty,zE=Object.getOwnPropertySymbols,p4=Object.prototype.hasOwnProperty,g4=Object.prototype.propertyIsEnumerable,FE=(r,e,t)=>e in r?f4(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class VE extends Ft{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(t,n)=>{n[1]=((u,f)=>{for(var b in f||(f={}))p4.call(f,b)&&FE(u,b,f[b]);if(zE)for(var b of zE(f))g4.call(f,b)&&FE(u,b,f[b]);return u})({},n[1]);const a=n[1];a.batchType||(a.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,n)=>{n[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,n){const a=this.editor.model,u=a.document,f=[],b=e.map(A=>A.getTransformedByOperations(n)),w=b.flat();for(const A of b){const E=A.filter(O=>O.root!=u.graveyard).filter(O=>!k4(O,w));E.length&&(b4(E),f.push(E[0]))}f.length&&a.change(A=>{A.setSelection(f,{backward:t})})}_undo(e,t){const n=this.editor.model,a=n.document;this._createdBatches.add(t);const u=e.operations.slice().filter(f=>f.isDocumentOperation);u.reverse();for(const f of u){const b=f.baseVersion+1,w=Array.from(a.history.getOperations(b)),A=Ek([f.getReversed()],w,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let E of A){const O=E.affectedSelectable;O&&!n.canEditAt(O)&&(E=new Hr(E.baseVersion)),t.addOperation(E),n.applyOperation(E),a.history.setOperationAsUndone(f,E)}}}}function b4(r){r.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<r.length;e++){const t=r[e-1].getJoined(r[e],!0);t&&(e--,r.splice(e,2,t))}}function k4(r,e){return e.some(t=>t!==r&&t.containsRange(r,!0))}class _4 extends VE{execute(e=null){const t=e?this._stack.findIndex(u=>u.batch==e):this._stack.length-1,n=this._stack.splice(t,1)[0],a=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(a,()=>{this._undo(n.batch,a);const u=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,u)}),this.fire("revert",n.batch,a),this.refresh()}}class v4 extends VE{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const n=e.batch.operations[e.batch.operations.length-1].baseVersion+1,a=this.editor.model.document.history.getOperations(n);this._restoreSelection(e.selection.ranges,e.selection.isBackward,a),this._undo(e.batch,t)}),this.refresh()}}class w4 extends lt{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor,t=e.t;this._undoCommand=new _4(e),this._redoCommand=new v4(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(n,a)=>{const u=a[0];if(!u.isDocumentOperation)return;const f=u.batch,b=this._redoCommand.createdBatches.has(f),w=this._undoCommand.createdBatches.has(f);this._batchRegistry.has(f)||(this._batchRegistry.add(f),f.isUndoable&&(b?this._undoCommand.addBatch(f):w||(this._undoCommand.addBatch(f),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(n,a,u)=>{this._redoCommand.addBatch(u)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Undo"),keystroke:"CTRL+Z"},{label:t("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class y4 extends lt{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,n=e.t,a=t.uiLanguageDirection=="ltr"?Mn.undo:Mn.redo,u=t.uiLanguageDirection=="ltr"?Mn.redo:Mn.undo;this._addButtonsToFactory("undo",n("Undo"),"CTRL+Z",a),this._addButtonsToFactory("redo",n("Redo"),"CTRL+Y",u)}_addButtonsToFactory(e,t,n,a){const u=this.editor;u.ui.componentFactory.add(e,()=>{const f=this._createButton(P,e,t,n,a);return f.set({tooltip:!0}),f}),u.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(ll,e,t,n,a))}_createButton(e,t,n,a,u){const f=this.editor,b=f.locale,w=f.commands.get(t),A=new e(b);return A.set({label:n,icon:u,keystroke:a}),A.bind("isEnabled").to(w,"isEnabled"),this.listenTo(A,"execute",()=>{f.execute(t),f.editing.view.focus()}),A}}class HE extends lt{static get requires(){return[w4,y4]}static get pluginName(){return"Undo"}}class x4 extends Oe(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((n,a)=>{t.onload=()=>{const u=t.result;this._data=u,n(u)},t.onerror=()=>{a("error")},t.onabort=()=>{a("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class kc extends lt{constructor(){super(...arguments),this.loaders=new Po,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[Jk]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return de("filerepository-no-upload-adapter"),null;const t=new UE(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(n=>{this._loadersMap.set(n,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let n=0;for(const a of this.loaders)n+=a.uploaded;this.uploaded=n}),t.on("change:uploadTotal",()=>{let n=0;for(const a of this.loaders)a.uploadTotal&&(n+=a.uploadTotal);this.uploadTotal=n}),t}destroyLoader(e){const t=e instanceof UE?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((n,a)=>{n===t&&this._loadersMap.delete(a)})}_updatePendingAction(){const e=this.editor.plugins.get(Jk);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,n=a=>`${t("Upload in progress")} ${parseInt(a)}%.`;this._pendingAction=e.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else e.remove(this._pendingAction),this._pendingAction=null}}class UE extends Oe(){constructor(e,t){super(),this.id=ee(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new x4,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(n,a)=>a?n/a*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new q("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new q("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((n,a)=>{t.rejecter=a,t.isFulfilled=!1,e.then(u=>{t.isFulfilled=!0,n(u)}).catch(u=>{t.isFulfilled=!0,a(u)})}),t}}const $E="ckCsrfToken",qE="abcdefghijklmnopqrstuvwxyz0123456789";function C4(){let r=function(n){n=n.toLowerCase();const a=document.cookie.split(";");for(const u of a){const f=u.split("=");if(decodeURIComponent(f[0].trim().toLowerCase())===n)return decodeURIComponent(f[1])}return null}($E);var e,t;return r&&r.length==40||(r=function(n){let a="";const u=new Uint8Array(n);window.crypto.getRandomValues(u);for(let f=0;f<u.length;f++){const b=qE.charAt(u[f]%qE.length);a+=Math.random()>.5?b.toUpperCase():b}return a}(40),e=$E,t=r,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/"),r}class A4{constructor(e,t,n){this.loader=e,this.url=t,this.t=n}upload(){return this.loader.file.then(e=>new Promise((t,n)=>{this._initRequest(),this._initListeners(t,n,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,t,n){const a=this.xhr,u=this.loader,f=(0,this.t)("Cannot upload file:")+` ${n.name}.`;a.addEventListener("error",()=>t(f)),a.addEventListener("abort",()=>t()),a.addEventListener("load",()=>{const b=a.response;if(!b||!b.uploaded)return t(b&&b.error&&b.error.message?b.error.message:f);e({default:b.url})}),a.upload&&a.upload.addEventListener("progress",b=>{b.lengthComputable&&(u.uploadTotal=b.total,u.uploaded=b.loaded)})}_sendRequest(e){const t=new FormData;t.append("upload",e),t.append("ckCsrfToken",C4()),this.xhr.send(t)}}function dh(r,e,t,n){let a,u=null;typeof n=="function"?a=n:(u=r.commands.get(n),a=()=>{r.execute(n)}),r.model.document.on("change:data",(f,b)=>{if(u&&!u.isEnabled||!e.isEnabled)return;const w=Wn(r.model.document.selection.getRanges());if(!w.isCollapsed||b.isUndo||!b.isLocal)return;const A=Array.from(r.model.document.differ.getChanges()),E=A[0];if(A.length!=1||E.type!=="insert"||E.name!="$text"||E.length!=1)return;const O=E.position.parent;if(O.is("element","codeBlock")||O.is("element","listItem")&&typeof n!="function"&&!["numberedList","bulletedList","todoList"].includes(n)||u&&u.value===!0)return;const z=O.getChild(0),U=r.model.createRangeOn(z);if(!U.containsRange(w)&&!w.end.isEqual(U.end))return;const W=t.exec(z.data.substr(0,w.end.offset));W&&r.model.enqueueChange(X=>{const ae=X.createPositionAt(O,0),ge=X.createPositionAt(O,W[0].length),Me=new dr(ae,ge);if(a({match:W})!==!1){X.remove(Me);const Ze=r.model.document.selection.getFirstRange(),pt=X.createRangeIn(O);!O.isEmpty||pt.isEqual(Ze)||pt.containsRange(Ze,!0)||X.remove(O)}Me.detach(),r.model.enqueueChange(()=>{r.plugins.get("Delete").requestUndoOnBackspace()})})})}function Yf(r,e,t,n){let a,u;t instanceof RegExp?a=t:u=t,u=u||(f=>{let b;const w=[],A=[];for(;(b=a.exec(f))!==null&&!(b&&b.length<4);){let{index:E,1:O,2:z,3:U}=b;const W=O+z+U;E+=b[0].length-W.length;const X=[E,E+O.length],ae=[E+O.length+z.length,E+O.length+z.length+U.length];w.push(X),w.push(ae),A.push([E+O.length,E+O.length+z.length])}return{remove:w,format:A}}),r.model.document.on("change:data",(f,b)=>{if(b.isUndo||!b.isLocal||!e.isEnabled)return;const w=r.model,A=w.document.selection;if(!A.isCollapsed)return;const E=Array.from(w.document.differ.getChanges()),O=E[0];if(E.length!=1||O.type!=="insert"||O.name!="$text"||O.length!=1)return;const z=A.focus,U=z.parent,{text:W,range:X}=function(Ze,pt){let Vt=Ze.start;return{text:Array.from(Ze.getItems()).reduce((Fn,or)=>!or.is("$text")&&!or.is("$textProxy")||or.getAttribute("code")?(Vt=pt.createPositionAfter(or),""):Fn+or.data,""),range:pt.createRange(Vt,Ze.end)}}(w.createRange(w.createPositionAt(U,0),z),w),ae=u(W),ge=WE(X.start,ae.format,w),Me=WE(X.start,ae.remove,w);ge.length&&Me.length&&w.enqueueChange(Ze=>{if(n(Ze,ge)!==!1){for(const pt of Me.reverse())Ze.remove(pt);w.enqueueChange(()=>{r.plugins.get("Delete").requestUndoOnBackspace()})}})})}function WE(r,e,t){return e.filter(n=>n[0]!==void 0&&n[1]!==void 0).map(n=>t.createRange(r.getShiftedBy(n[0]),r.getShiftedBy(n[1])))}function x_(r,e){return(t,n)=>{if(!r.commands.get(e).isEnabled)return!1;const a=r.model.schema.getValidRanges(n,e);for(const u of a)t.setAttribute(e,!0,u);t.removeSelectionAttribute(e)}}class YE extends Ft{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,n=t.document.selection,a=e.forceValue===void 0?!this.value:e.forceValue;t.change(u=>{if(n.isCollapsed)a?u.setSelectionAttribute(this.attributeKey,!0):u.removeSelectionAttribute(this.attributeKey);else{const f=t.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const b of f)a?u.setAttribute(this.attributeKey,a,b):u.removeAttribute(this.attributeKey,b)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const a of n.getRanges())for(const u of a.getItems())if(t.checkAttribute(u,this.attributeKey))return u.hasAttribute(this.attributeKey);return!1}}const Gf="bold";class N4 extends lt{static get pluginName(){return"BoldEditing"}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Gf}),e.model.schema.setAttributeProperties(Gf,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Gf,view:"strong",upcastAlso:["b",n=>{const a=n.getStyle("font-weight");return a&&(a=="bold"||Number(a)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(Gf,new YE(e,Gf)),e.keystrokes.set("CTRL+B",Gf),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Bold text"),keystroke:"CTRL+B"}]})}}function GE({editor:r,commandName:e,plugin:t,icon:n,label:a,keystroke:u}){return f=>{const b=r.commands.get(e),w=new f(r.locale);return w.set({label:a,icon:n,keystroke:u,isToggleable:!0}),w.bind("isEnabled").to(b,"isEnabled"),t.listenTo(w,"execute",()=>{r.execute(e),r.editing.view.focus()}),w}}const C_="bold";class E4 extends lt{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.locale.t,n=e.commands.get(C_),a=GE({editor:e,commandName:C_,plugin:this,icon:Mn.bold,label:t("Bold"),keystroke:"CTRL+B"});e.ui.componentFactory.add(C_,()=>{const u=a(P);return u.set({tooltip:!0}),u.bind("isOn").to(n,"value"),u}),e.ui.componentFactory.add("menuBar:"+C_,()=>a(ll))}}var KE=h(4199),S4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(KE.A,S4),KE.A.locals;const Kf="italic";class j4 extends lt{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Kf}),e.model.schema.setAttributeProperties(Kf,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Kf,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Kf,new YE(e,Kf)),e.keystrokes.set("CTRL+I",Kf),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Italic text"),keystroke:"CTRL+I"}]})}}const A_="italic";class D4 extends lt{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.commands.get(A_),n=e.locale.t,a=GE({editor:e,commandName:A_,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:n("Italic")});e.ui.componentFactory.add(A_,()=>{const u=a(P);return u.set({tooltip:!0}),u.bind("isOn").to(t,"value"),u}),e.ui.componentFactory.add("menuBar:"+A_,()=>a(ll))}}class T4 extends Ft{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.schema,a=t.document.selection,u=Array.from(a.getSelectedBlocks()),f=e.forceValue===void 0?!this.value:e.forceValue;t.change(b=>{if(f){const w=u.filter(A=>N_(A)||ZE(n,A));this._applyQuote(b,w)}else this._removeQuote(b,u.filter(N_))})}_getValue(){const e=Wn(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!N_(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=Wn(e.getSelectedBlocks());return!!n&&ZE(t,n)}_removeQuote(e,t){QE(e,t).reverse().forEach(n=>{if(n.start.isAtStart&&n.end.isAtEnd)return void e.unwrap(n.start.parent);if(n.start.isAtStart){const u=e.createPositionBefore(n.start.parent);return void e.move(n,u)}n.end.isAtEnd||e.split(n.end);const a=e.createPositionAfter(n.end.parent);e.move(n,a)})}_applyQuote(e,t){const n=[];QE(e,t).reverse().forEach(a=>{let u=N_(a.start);u||(u=e.createElement("blockQuote"),e.wrap(a,u)),n.push(u)}),n.reverse().reduce((a,u)=>a.nextSibling==u?(e.merge(e.createPositionAfter(a)),a):u)}}function N_(r){return r.parent.name=="blockQuote"?r.parent:null}function QE(r,e){let t,n=0;const a=[];for(;n<e.length;){const u=e[n],f=e[n+1];t||(t=r.createPositionBefore(u)),f&&u.nextSibling==f||(a.push(r.createRange(t,r.createPositionAfter(u))),t=null),n++}return a}function ZE(r,e){const t=r.checkChild(e.parent,"blockQuote"),n=r.checkChild(["$root","blockQuote"],e);return t&&n}class M4 extends lt{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[k_,ou]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new T4(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(f=>{const b=e.model.document.differ.getChanges();for(const w of b)if(w.type=="insert"){const A=w.position.nodeAfter;if(!A)continue;if(A.is("element","blockQuote")&&A.isEmpty)return f.remove(A),!0;if(A.is("element","blockQuote")&&!t.checkChild(w.position,A))return f.unwrap(A),!0;if(A.is("element")){const E=f.createRangeIn(A);for(const O of E.getItems())if(O.is("element","blockQuote")&&!t.checkChild(f.createPositionBefore(O),O))return f.unwrap(O),!0}}else if(w.type=="remove"){const A=w.position.parent;if(A.is("element","blockQuote")&&A.isEmpty)return f.remove(A),!0}return!1});const n=this.editor.editing.view.document,a=e.model.document.selection,u=e.commands.get("blockQuote");this.listenTo(n,"enter",(f,b)=>{!a.isCollapsed||!u.value||a.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),b.preventDefault(),f.stop())},{context:"blockquote"}),this.listenTo(n,"delete",(f,b)=>{if(b.direction!="backward"||!a.isCollapsed||!u.value)return;const w=a.getLastPosition().parent;w.isEmpty&&!w.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),b.preventDefault(),f.stop())},{context:"blockquote"})}}var XE=h(8708),I4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(XE.A,I4),XE.A.locals;class O4 extends lt{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,t=e.commands.get("blockQuote");e.ui.componentFactory.add("blockQuote",()=>{const n=this._createButton(P);return n.set({tooltip:!0}),n.bind("isOn").to(t,"value"),n}),e.ui.componentFactory.add("menuBar:blockQuote",()=>this._createButton(ll))}_createButton(e){const t=this.editor,n=t.locale,a=t.commands.get("blockQuote"),u=new e(t.locale),f=n.t;return u.set({label:f("Block quote"),icon:Mn.quote,isToggleable:!0}),u.bind("isEnabled").to(a,"isEnabled"),this.listenTo(u,"execute",()=>{t.execute("blockQuote"),t.editing.view.focus()}),u}}class L4 extends lt{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor;if(!e.commands.get("ckbox"))return;const t=e.t,n=e.ui.componentFactory;if(n.add("ckbox",()=>{const a=this._createButton(P);return a.tooltip=!0,a}),n.add("menuBar:ckbox",()=>this._createButton(ll)),e.plugins.has("ImageInsertUI")){const a=e.plugins.get("ImageInsertUI");a.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckbox"),buttonViewCreator:()=>{const u=this.editor.ui.componentFactory.create("ckbox");return u.icon=Mn.imageAssetManager,u.bind("label").to(a,"isImageSelected",f=>t(f?"Replace image with file manager":"Insert image with file manager")),u},formViewCreator:()=>{const u=this.editor.ui.componentFactory.create("ckbox");return u.icon=Mn.imageAssetManager,u.withText=!0,u.bind("label").to(a,"isImageSelected",f=>t(f?"Replace with file manager":"Insert with file manager")),u.on("execute",()=>{a.dropdownView.isOpen=!1}),u}})}}_createButton(e){const t=this.editor,n=t.locale,a=new e(n),u=t.commands.get("ckbox"),f=n.t;return a.set({label:f("Open file manager"),icon:Mn.browseFiles}),a.bind("isOn","isEnabled").to(u,"value","isEnabled"),a.on("execute",()=>{t.execute("ckbox")}),a}}var B4=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],Pg=r=>{let e=0;for(let t=0;t<r.length;t++){let n=r[t];e=83*e+B4.indexOf(n)}return e},by=r=>{let e=r/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},ky=r=>{let e=Math.max(0,Math.min(1,r));return e<=.0031308?Math.trunc(12.92*e*255+.5):Math.trunc(255*(1.055*Math.pow(e,.4166666666666667)-.055)+.5)},_y=(r,e)=>(t=>t<0?-1:1)(r)*Math.pow(Math.abs(r),e),JE=class extends Error{constructor(r){super(r),this.name="ValidationError",this.message=r}},R4=r=>{if(!r||r.length<6)throw new JE("The blurhash string must be at least 6 characters");let e=Pg(r[0]),t=Math.floor(e/9)+1,n=e%9+1;if(r.length!==4+2*n*t)throw new JE(`blurhash length mismatch: length is ${r.length} but it should be ${4+2*n*t}`)},P4=r=>{let e=r>>8&255,t=255&r;return[by(r>>16),by(e),by(t)]},z4=(r,e)=>{let t=Math.floor(r/361),n=Math.floor(r/19)%19,a=r%19;return[_y((t-9)/9,2)*e,_y((n-9)/9,2)*e,_y((a-9)/9,2)*e]},F4=(r,e,t,n)=>{R4(r),n|=1;let a=Pg(r[0]),u=Math.floor(a/9)+1,f=a%9+1,b=(Pg(r[1])+1)/166,w=new Array(f*u);for(let O=0;O<w.length;O++)if(O===0){let z=Pg(r.substring(2,6));w[O]=P4(z)}else{let z=Pg(r.substring(4+2*O,6+2*O));w[O]=z4(z,b*n)}let A=4*e,E=new Uint8ClampedArray(A*t);for(let O=0;O<t;O++)for(let z=0;z<e;z++){let U=0,W=0,X=0;for(let Ze=0;Ze<u;Ze++)for(let pt=0;pt<f;pt++){let Vt=Math.cos(Math.PI*z*pt/e)*Math.cos(Math.PI*O*Ze/t),jn=w[pt+Ze*f];U+=jn[0]*Vt,W+=jn[1]*Vt,X+=jn[2]*Vt}let ae=ky(U),ge=ky(W),Me=ky(X);E[4*z+0+O*A]=ae,E[4*z+1+O*A]=ge,E[4*z+2+O*A]=Me,E[4*z+3+O*A]=255}return E},V4=Object.defineProperty,eS=Object.getOwnPropertySymbols,H4=Object.prototype.hasOwnProperty,U4=Object.prototype.propertyIsEnumerable,tS=(r,e,t)=>e in r?V4(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;function nS(r){const e=[];let t=0;for(const a in r){const u=parseInt(a,10);isNaN(u)||(u>t&&(t=u),e.push(`${r[a]} ${a}w`))}const n=[{srcset:e.join(","),sizes:`(max-width: ${t}px) 100vw, ${t}px`,type:"image/webp"}];return{imageFallbackUrl:r.default,imageSources:n}}const zg=32;function iS({url:r,method:e="GET",data:t,onUploadProgress:n,signal:a,authorization:u}){const f=new XMLHttpRequest;f.open(e,r.toString()),f.setRequestHeader("Authorization",u),f.setRequestHeader("CKBox-Version","CKEditor 5"),f.responseType="json";const b=()=>{f.abort()};return new Promise((w,A)=>{a.throwIfAborted(),a.addEventListener("abort",b),f.addEventListener("loadstart",()=>{a.addEventListener("abort",b)}),f.addEventListener("loadend",()=>{a.removeEventListener("abort",b)}),f.addEventListener("error",()=>{A()}),f.addEventListener("abort",()=>{A()}),f.addEventListener("load",()=>{const E=f.response;if(!E||E.statusCode>=400)return A(E&&E.message);w(E)}),n&&f.upload.addEventListener("progress",E=>{n(E)}),f.send(t)})}const $4={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};function q4(r,e){return t=this,n=null,a=function*(){try{const u=yield fetch(r,((f,b)=>{for(var w in b||(b={}))H4.call(b,w)&&tS(f,w,b[w]);if(eS)for(var w of eS(b))U4.call(b,w)&&tS(f,w,b[w]);return f})({method:"HEAD",cache:"force-cache"},e));return u.ok&&u.headers.get("content-type")||""}catch{return""}},new Promise((u,f)=>{var b=E=>{try{A(a.next(E))}catch(O){f(O)}},w=E=>{try{A(a.throw(E))}catch(O){f(O)}},A=E=>E.done?u(E.value):Promise.resolve(E.value).then(b,w);A((a=a.apply(t,n)).next())});var t,n,a}var W4=Object.defineProperty,rS=Object.getOwnPropertySymbols,Y4=Object.prototype.hasOwnProperty,G4=Object.prototype.propertyIsEnumerable,sS=(r,e,t)=>e in r?W4(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,oS=(r,e)=>{for(var t in e||(e={}))Y4.call(e,t)&&sS(r,t,e[t]);if(rS)for(var t of rS(e))G4.call(e,t)&&sS(r,t,e[t]);return r};class K4 extends Ft{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");return!(!e.isEnabled&&!t.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,forceDemoLabel:e.forceDemoLabel,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:t=>this.fire("ckbox:choose",t)}}}_initListeners(){const e=this.editor,t=e.model,n=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=ui(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,e.editing.view.focus())}),this.on("ckbox:choose",(a,u)=>{if(!this.isEnabled)return;const f=e.commands.get("insertImage"),b=e.commands.get("link"),w=function({assets:E,isImageAllowed:O,isLinkAllowed:z}){return E.map(U=>function(W){const X=W.data.metadata;return X?X.width&&X.height:!1}(U)?{id:U.data.id,type:"image",attributes:Q4(U)}:{id:U.data.id,type:"link",attributes:Z4(U)}).filter(U=>U.type==="image"?O:z)}({assets:u,isImageAllowed:f.isEnabled,isLinkAllowed:b.isEnabled}),A=w.length;A!==0&&(t.change(E=>{for(const O of w){const z=O===w[A-1],U=A===1;this._insertAsset(O,z,E,U),n&&(setTimeout(()=>this._chosenAssets.delete(O),1e3),this._chosenAssets.add(O))}}),e.editing.view.focus())}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,t,n,a){const u=this.editor.model.document.selection;n.removeSelectionAttribute("linkHref"),e.type==="image"?this._insertImage(e):this._insertLink(e,n,a),t||n.setSelection(u.getLastPosition())}_insertImage(e){const t=this.editor,{imageFallbackUrl:n,imageSources:a,imageTextAlternative:u,imageWidth:f,imageHeight:b,imagePlaceholder:w}=e.attributes;t.execute("insertImage",{source:oS({src:n,sources:a,alt:u,width:f,height:b},w?{placeholder:w}:null)})}_insertLink(e,t,n){const a=this.editor,u=a.model,f=u.document.selection,{linkName:b,linkHref:w}=e.attributes;if(f.isCollapsed){const A=no(f.getAttributes()),E=t.createText(b,A);if(!n){const z=f.getLastPosition(),U=z.parent;U.name==="paragraph"&&U.isEmpty||a.execute("insertParagraph",{position:z});const W=u.insertContent(E);return t.setSelection(W),void a.execute("link",w)}const O=u.insertContent(E);t.setSelection(O)}a.execute("link",w)}}function Q4(r){const{imageFallbackUrl:e,imageSources:t}=nS(r.data.imageUrls),{description:n,width:a,height:u,blurHash:f}=r.data.metadata,b=function(w){if(w)try{const A=`${zg}px`,E=document.createElement("canvas");E.setAttribute("width",A),E.setAttribute("height",A);const O=E.getContext("2d");if(!O)return;const z=O.createImageData(zg,zg),U=F4(w,zg,zg);return z.data.set(U),O.putImageData(z,0,0),E.toDataURL()}catch{return}}(f);return oS({imageFallbackUrl:e,imageSources:t,imageTextAlternative:n||"",imageWidth:a,imageHeight:u},b?{imagePlaceholder:b}:null)}function Z4(r){return{linkName:r.data.name,linkHref:X4(r)}}function X4(r){const e=new URL(r.data.url);return e.searchParams.set("download","true"),e.toString()}var vy=(r,e,t)=>new Promise((n,a)=>{var u=w=>{try{b(t.next(w))}catch(A){a(A)}},f=w=>{try{b(t.throw(w))}catch(A){a(A)}},b=w=>w.done?n(w.value):Promise.resolve(w.value).then(u,f);b((t=t.apply(r,e)).next())});class aS extends lt{static get pluginName(){return"CKBoxUtils"}static get requires(){return["CloudServices"]}init(){return vy(this,null,function*(){const e=this.editor,t=!!e.config.get("ckbox"),n=!!window.CKBox;if(!t&&!n)return;e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"lark",tokenUrl:e.config.get("cloudServices.tokenUrl")});const a=e.plugins.get("CloudServices"),u=e.config.get("cloudServices.tokenUrl"),f=e.config.get("ckbox.tokenUrl");if(!f)throw new q("ckbox-plugin-missing-token-url",this);this._token=f==u?a.token:yield a.registerTokenUrl(f)})}getToken(){return this._token}getWorkspaceId(){const e=(0,this.editor.t)("Cannot access default workspace."),t=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),n=function(a,u){const[,f]=a.value.split("."),b=JSON.parse(atob(f)),w=b.auth&&b.auth.ckbox&&b.auth.ckbox.workspaces||[b.aud];return u?(b.auth&&b.auth.ckbox&&b.auth.ckbox.role)=="superadmin"||w.includes(u)?u:null:w[0]}(this._token,t);if(n==null)throw re("ckbox-access-default-workspace-error"),e;return n}getCategoryIdForFile(e,t){return vy(this,null,function*(){const n=(0,this.editor.t)("Cannot determine a category for the uploaded file."),a=this.editor.config.get("ckbox.defaultUploadCategories"),u=this._getAvailableCategories(t),f=typeof e=="string"?(b=yield q4(e,t),$4[b]):function(E){const O=E.name,z=new RegExp("\\.(?<ext>[^.]+)$");return O.match(z).groups.ext.toLowerCase()}(e);var b;const w=yield u;if(!w)throw n;if(a){const E=Object.keys(a).find(O=>a[O].find(z=>z.toLowerCase()==f));if(E){const O=w.find(z=>z.id===E||z.name===E);if(!O)throw n;return O.id}}const A=w.find(E=>E.extensions.find(O=>O.toLowerCase()==f));if(!A)throw n;return A.id})}_getAvailableCategories(e){return vy(this,null,function*(){const t=this.editor,n=this._token,{signal:a}=e,u=t.config.get("ckbox.serviceOrigin"),f=this.getWorkspaceId();try{const w=[];let A,E=0;do{const O=yield b(E);w.push(...O.items),A=O.totalCount-(E+50),E+=50}while(A>0);return w}catch{return a.throwIfAborted(),void re("ckbox-fetch-category-http-error")}function b(w){const A=new URL("categories",u);return A.searchParams.set("limit","50"),A.searchParams.set("offset",w.toString()),A.searchParams.set("workspaceId",f),iS({url:A,signal:a,authorization:n.value})}})}}var wy=(r,e,t)=>new Promise((n,a)=>{var u=w=>{try{b(t.next(w))}catch(A){a(A)}},f=w=>{try{b(t.throw(w))}catch(A){a(A)}},b=w=>w.done?n(w.value):Promise.resolve(w.value).then(u,f);b((t=t.apply(r,e)).next())});class J4 extends lt{static get requires(){return["ImageUploadEditing","ImageUploadProgress",kc,lS]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return wy(this,null,function*(){const e=this.editor,t=!!e.config.get("ckbox"),n=!!window.CKBox;if(!t&&!n)return;const a=e.plugins.get(kc),u=e.plugins.get(aS);a.createUploadAdapter=w=>new ez(w,e,u);const f=!e.config.get("ckbox.ignoreDataId"),b=e.plugins.get("ImageUploadEditing");f&&b.on("uploadComplete",(w,{imageElement:A,data:E})=>{e.model.change(O=>{O.setAttribute("ckboxImageId",E.ckboxImageId,A)})})})}}class ez{constructor(e,t,n){this.loader=e,this.token=n.getToken(),this.ckboxUtils=n,this.editor=t,this.controller=new AbortController,this.serviceOrigin=t.config.get("ckbox.serviceOrigin")}upload(){return wy(this,null,function*(){const e=this.ckboxUtils,t=this.editor.t,n=yield this.loader.file,a=yield e.getCategoryIdForFile(n,{signal:this.controller.signal}),u=new URL("assets",this.serviceOrigin),f=new FormData;return u.searchParams.set("workspaceId",e.getWorkspaceId()),f.append("categoryId",a),f.append("file",n),iS({method:"POST",url:u,data:f,onUploadProgress:b=>{b.lengthComputable&&(this.loader.uploadTotal=b.total,this.loader.uploaded=b.loaded)},signal:this.controller.signal,authorization:this.token.value}).then(b=>wy(this,null,function*(){const w=nS(b.imageUrls);return{ckboxImageId:b.id,default:w.imageFallbackUrl,sources:w.imageSources}})).catch(()=>{const b=t("Cannot upload file:")+` ${n.name}.`;return Promise.reject(b)})})}abort(){this.controller.abort()}}class lS extends lt{static get pluginName(){return"CKBoxEditing"}static get requires(){return["LinkEditing","PictureEditing",J4,aS]}init(){const e=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),dS()&&e.commands.add("ckbox",new K4(e)))}afterInit(){const e=this.editor;this._shouldBeInitialised()&&(e.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||dS()}_checkImagePlugins(){const e=this.editor;e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||re("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((t,n)=>{if(!t.last.getAttribute("linkHref")&&n==="ckboxLinkId")return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(n=>{n.on("attribute:ckboxLinkId:imageBlock",(a,u,f)=>{const{writer:b,mapper:w,consumable:A}=f;if(!A.consume(u.item,a.name))return;const E=[...w.toViewElement(u.item).getChildren()].find(O=>O.name==="a");E&&(u.item.hasAttribute("ckboxLinkId")?b.setAttribute("data-ckbox-resource-id",u.item.getAttribute("ckboxLinkId"),E):b.removeAttribute("data-ckbox-resource-id",E))},{priority:"low"}),n.on("attribute:ckboxLinkId",(a,u,f)=>{const{writer:b,mapper:w,consumable:A}=f;if(A.consume(u.item,a.name)){if(u.attributeOldValue){const E=cS(b,u.attributeOldValue);b.unwrap(w.toViewRange(u.range),E)}if(u.attributeNewValue){const E=cS(b,u.attributeNewValue);if(u.item.is("selection")){const O=b.document.selection;b.wrap(O.getFirstRange(),E)}else b.wrap(w.toViewRange(u.range),E)}}},{priority:"low"})}),e.conversion.for("upcast").add(n=>{n.on("element:a",(a,u,f)=>{const{writer:b,consumable:w}=f;if(!u.viewItem.getAttribute("href")||!w.consume(u.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const A=u.viewItem.getAttribute("data-ckbox-resource-id");if(A)if(u.modelRange)for(let E of u.modelRange.getItems())E.is("$textProxy")&&(E=E.textNode),nz(E)&&b.setAttribute("ckboxLinkId",A,E);else{const E=u.modelCursor.nodeBefore||u.modelCursor.parent;b.setAttribute("ckboxLinkId",A,E)}},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:n=>n.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const t=e.commands.get("replaceImageSource");t&&this.listenTo(t,"cleanupImage",(n,[a,u])=>{a.removeAttribute("ckboxImageId",u)})}_initFixers(){const e=this.editor,t=e.model,n=t.document.selection;t.document.registerPostFixer(function(a){return u=>{let f=!1;const b=a.model,w=a.commands.get("ckbox");if(!w)return f;for(const A of b.document.differ.getChanges()){if(A.type!=="insert"&&A.type!=="attribute")continue;const E=A.type==="insert"?new et(A.position,A.position.getShiftedBy(A.length)):A.range,O=A.type==="attribute"&&A.attributeKey==="linkHref"&&A.attributeNewValue===null;for(const z of E.getItems()){if(O&&z.hasAttribute("ckboxLinkId")){u.removeAttribute("ckboxLinkId",z),f=!0;continue}const U=tz(z,w._chosenAssets);for(const W of U){const X=W.type==="image"?"ckboxImageId":"ckboxLinkId";W.id!==z.getAttribute(X)&&(u.setAttribute(X,W.id,z),f=!0)}}}return f}}(e)),t.document.registerPostFixer(function(a){return u=>!(a.hasAttribute("linkHref")||!a.hasAttribute("ckboxLinkId"))&&(u.removeSelectionAttribute("ckboxLinkId"),!0)}(n))}}function tz(r,e){const t=r.is("element","imageInline")||r.is("element","imageBlock"),n=r.hasAttribute("linkHref");return[...e].filter(a=>a.type==="image"&&t?a.attributes.imageFallbackUrl===r.getAttribute("src"):a.type==="link"&&n?a.attributes.linkHref===r.getAttribute("linkHref"):void 0)}function cS(r,e){const t=r.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return r.setCustomProperty("link",!0,t),t}function nz(r){return!!r.is("$text")||!(!r.is("element","imageInline")&&!r.is("element","imageBlock"))}function dS(){return!!window.CKBox}var uS=h(1866),iz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(uS.A,iz),uS.A.locals;class rz extends lt{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,t=e.ui.componentFactory,n=e.t;if(t.add("ckfinder",a=>{const u=this._createButton(P),f=a.t;return u.set({label:f("Insert image or file"),tooltip:!0}),u}),t.add("menuBar:ckfinder",a=>{const u=this._createButton(ll),f=a.t;return u.label=f("Image or file"),u}),e.plugins.has("ImageInsertUI")){const a=e.plugins.get("ImageInsertUI");a.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckfinder"),buttonViewCreator:()=>{const u=this.editor.ui.componentFactory.create("ckfinder");return u.icon=Mn.imageAssetManager,u.bind("label").to(a,"isImageSelected",f=>n(f?"Replace image with file manager":"Insert image with file manager")),u},formViewCreator:()=>{const u=this.editor.ui.componentFactory.create("ckfinder");return u.icon=Mn.imageAssetManager,u.withText=!0,u.bind("label").to(a,"isImageSelected",f=>n(f?"Replace with file manager":"Insert with file manager")),u.on("execute",()=>{a.dropdownView.isOpen=!1}),u}})}}_createButton(e){const t=this.editor,n=new e(t.locale),a=t.commands.get("ckfinder");return n.icon=Mn.browseFiles,n.bind("isEnabled").to(a),n.on("execute",()=>{t.execute("ckfinder"),t.editing.view.focus()}),n}}class sz extends Ft{constructor(e){super(e),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");this.isEnabled=e.isEnabled||t.isEnabled}execute(){const e=this.editor,t=this.editor.config.get("ckfinder.openerMethod")||"modal";if(t!="popup"&&t!="modal")throw new q("ckfinder-unknown-openermethod",e);const n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;const a=n.onInit;n.language||(n.language=e.locale.uiLanguage),n.onInit=u=>{a&&a(u),u.on("files:choose",f=>{const b=f.data.files.toArray(),w=b.filter(O=>!O.isImage()),A=b.filter(O=>O.isImage());for(const O of w)e.execute("link",O.getUrl());const E=[];for(const O of A){const z=O.getUrl();E.push(z||u.request("file:getProxyUrl",{file:O}))}E.length&&hS(e,E)}),u.on("file:choose:resizedImage",f=>{const b=f.data.resizedUrl;if(b)hS(e,[b]);else{const w=e.plugins.get("Notification"),A=e.locale.t;w.showWarning(A("Could not obtain resized image URL."),{title:A("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[t](n)}}function hS(r,e){if(r.commands.get("insertImage").isEnabled)r.execute("insertImage",{source:e});else{const t=r.plugins.get("Notification"),n=r.locale.t;t.showWarning(n("Could not insert image at the current position."),{title:n("Inserting image failed"),namespace:"ckfinder"})}}class oz extends lt{static get pluginName(){return"CKFinderEditing"}static get requires(){return[oy,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new q("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new sz(e))}}class az extends lt{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",kc]}init(){const e=this.editor,t=e.plugins.get("CloudServices"),n=t.token,a=t.uploadUrl;if(!n)return;const u=e.plugins.get("CloudServicesCore");this._uploadGateway=u.createUploadGateway(n,a),e.plugins.get(kc).createUploadAdapter=f=>new lz(this._uploadGateway,f)}}class lz{constructor(e,t){this.uploadGateway=e,this.loader=t}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(t,n)=>{this.loader.uploadTotal=n.total,this.loader.uploaded=n.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class cz extends Ft{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=Wn(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&mS(t,e.schema)}execute(e={}){const t=this.editor.model,n=t.document,a=e.selection||n.selection;t.canEditAt(a)&&t.change(u=>{const f=a.getSelectedBlocks();for(const b of f)!b.is("element","paragraph")&&mS(b,t.schema)&&u.rename(b,"paragraph")})}}function mS(r,e){return e.checkChild(r.parent,"paragraph")&&!e.isObject(r)}class dz extends Ft{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,n=e.attributes;let a=e.position;t.canEditAt(a)&&t.change(u=>{if(a=this._findPositionToInsertParagraph(a,u),!a)return;const f=u.createElement("paragraph");n&&t.schema.setAllowedAttributes(f,n,u),t.insertContent(f,a),u.setSelection(f,"in")})}_findPositionToInsertParagraph(e,t){const n=this.editor.model;if(n.schema.checkChild(e,"paragraph"))return e;const a=n.schema.findAllowedParent(e,"paragraph");if(!a)return null;const u=e.parent,f=n.schema.checkChild(u,"$text");return u.isEmpty||f&&e.isAtEnd?n.createPositionAfter(u):!u.isEmpty&&f&&e.isAtStart?n.createPositionBefore(u):t.split(e,a).position}}const fS=class extends lt{static get pluginName(){return"Paragraph"}init(){const r=this.editor,e=r.model;r.commands.add("paragraph",new cz(r)),r.commands.add("insertParagraph",new dz(r)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),r.conversion.elementToElement({model:"paragraph",view:"p"}),r.conversion.for("upcast").elementToElement({model:(t,{writer:n})=>fS.paragraphLikeElements.has(t.name)?t.isEmpty?null:n.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let yy=fS;yy.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class uz extends Ft{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=Wn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>pS(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,n=t.document,a=e.value;t.change(u=>{const f=Array.from(n.selection.getSelectedBlocks()).filter(b=>pS(b,a,t.schema));for(const b of f)b.is("element",a)||u.rename(b,a)})}}function pS(r,e,t){return t.checkChild(r.parent,e)&&!t.isObject(r)}const gS="paragraph";class hz extends lt{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[yy]}init(){const e=this.editor,t=e.config.get("heading.options"),n=[];for(const a of t)a.model!=="paragraph"&&(e.model.schema.register(a.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(a),n.push(a.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new uz(e,n))}afterInit(){const e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(a,u)=>{const f=e.model.document.selection.getFirstPosition().parent;n.some(b=>f.is("element",b.model))&&!f.is("element",gS)&&f.childCount===0&&u.writer.rename(f,gS)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:ne.low+1})}}var bS=h(6269),mz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(bS.A,mz),bS.A.locals;class fz extends lt{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,t=e.t,n=function(f){const b=f.t,w={Paragraph:b("Paragraph"),"Heading 1":b("Heading 1"),"Heading 2":b("Heading 2"),"Heading 3":b("Heading 3"),"Heading 4":b("Heading 4"),"Heading 5":b("Heading 5"),"Heading 6":b("Heading 6")};return f.config.get("heading.options").map(A=>{const E=w[A.title];return E&&E!=A.title&&(A.title=E),A})}(e),a=t("Choose heading"),u=t("Heading");e.ui.componentFactory.add("heading",f=>{const b={},w=new Po,A=e.commands.get("heading"),E=e.commands.get("paragraph"),O=[A];for(const U of n){const W={type:"button",model:new oN({label:U.title,class:U.class,role:"menuitemradio",withText:!0})};U.model==="paragraph"?(W.model.bind("isOn").to(E,"value"),W.model.set("commandName","paragraph"),O.push(E)):(W.model.bind("isOn").to(A,"value",X=>X===U.model),W.model.set({commandName:"heading",commandValue:U.model})),w.add(W),b[U.model]=U.title}const z=ru(f);return j1(z,w,{ariaLabel:u,role:"menu"}),z.buttonView.set({ariaLabel:u,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:u}),z.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),z.bind("isEnabled").toMany(O,"isEnabled",(...U)=>U.some(W=>W)),z.buttonView.bind("label").to(A,"value",E,"value",(U,W)=>{const X=W?"paragraph":U;return typeof X=="boolean"?a:b[X]?b[X]:a}),z.buttonView.bind("ariaLabel").to(A,"value",E,"value",(U,W)=>{const X=W?"paragraph":U;return typeof X=="boolean"?u:b[X]?`${b[X]}, ${u}`:u}),this.listenTo(z,"execute",U=>{const{commandName:W,commandValue:X}=U.source;e.execute(W,X?{value:X}:void 0),e.editing.view.focus()}),z}),e.ui.componentFactory.add("menuBar:heading",f=>{const b=new $f(f),w=e.commands.get("heading"),A=e.commands.get("paragraph"),E=[w],O=new dy(f);b.set({class:"ck-heading-dropdown"}),O.set({ariaLabel:t("Heading"),role:"menu"}),b.buttonView.set({label:t("Heading")}),b.panelView.children.add(O);for(const z of n){const U=new ly(f,b),W=new ll(f);U.children.add(W),O.items.add(U),W.set({label:z.title,role:"menuitemradio",class:z.class}),W.bind("ariaChecked").to(W,"isOn"),W.delegate("execute").to(b),W.on("execute",()=>{const X=z.model==="paragraph"?"paragraph":"heading";e.execute(X,{value:z.model}),e.editing.view.focus()}),z.model==="paragraph"?(W.bind("isOn").to(A,"value"),E.push(A)):W.bind("isOn").to(w,"value",X=>X===z.model)}return b.bind("isEnabled").toMany(E,"isEnabled",(...z)=>z.some(U=>U)),b})}}function kS(r){return r.createContainerElement("figure",{class:"image"},[r.createEmptyElement("img"),r.createSlot("children")])}function _S(r,e){const t=r.plugins.get("ImageUtils"),n=r.plugins.has("ImageInlineEditing")&&r.plugins.has("ImageBlockEditing");return u=>t.isInlineImageView(u)?n&&(u.getStyle("display")=="block"||u.findAncestor(t.isBlockImageView)?"imageBlock":"imageInline")!==e?null:a(u):null;function a(u){const f={name:!0};return u.hasAttribute("src")&&(f.attributes=["src"]),f}}function xy(r,e){const t=Wn(e.getSelectedBlocks());return!t||r.isObject(t)||t.isEmpty&&t.name!="listItem"?"imageBlock":"imageInline"}function E_(r){return r&&r.endsWith("px")?parseInt(r):null}function vS(r){const e=E_(r.getStyle("width")),t=E_(r.getStyle("height"));return!(!e||!t)}var pz=Object.defineProperty,wS=Object.getOwnPropertySymbols,gz=Object.prototype.hasOwnProperty,bz=Object.prototype.propertyIsEnumerable,yS=(r,e,t)=>e in r?pz(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xS=(r,e)=>{for(var t in e||(e={}))gz.call(e,t)&&yS(r,t,e[t]);if(wS)for(var t of wS(e))bz.call(e,t)&&yS(r,t,e[t]);return r};const kz=/^(image|image-inline)$/;class Oa extends lt{constructor(){super(...arguments),this._domEmitter=new(Js())}static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,n=null,a={}){const u=this.editor,f=u.model,b=f.document.selection,w=CS(u,t||b,n);e=xS(xS({},Object.fromEntries(b.getAttributes())),e);for(const A in e)f.schema.checkAttribute(w,A)||delete e[A];return f.change(A=>{const{setImageSizes:E=!0}=a,O=A.createElement(w,e);return f.insertObject(O,t,null,{setSelection:"on",findOptimalPosition:t||w=="imageInline"?void 0:"auto"}),O.parent?(E&&this.setImageNaturalSizeAttributes(O),O):null})}setImageNaturalSizeAttributes(e){const t=e.getAttribute("src");t&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(n=>{const a=new y.window.Image;this._domEmitter.listenTo(a,"load",()=>{e.getAttribute("width")||e.getAttribute("height")||this.editor.model.enqueueChange(n.batch,u=>{u.setAttribute("width",a.naturalWidth,e),u.setAttribute("height",a.naturalHeight,e)}),this._domEmitter.stopListening(a,"load")}),a.src=t}))}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const n=e.getSelectedElement();if(n&&this.isImageWidget(n))return n;let a=t.parent;for(;a;){if(a.is("element")&&this.isImageWidget(a))return a;a=a.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:kz})}isImageAllowed(){const e=this.editor.model.document.selection;return function(t,n){if(CS(t,n,null)=="imageBlock"){const u=function(f,b){const w=kE(f,b),A=w.start.parent;return A.isEmpty&&!A.is("element","$root")?A.parent:A}(n,t.model);if(t.model.schema.checkChild(u,"imageBlock"))return!0}else if(t.model.schema.checkChild(n.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(t){return[...t.focus.getAncestors()].every(n=>!n.is("element","imageBlock"))}(e)}toImageWidget(e,t,n){return t.setCustomProperty("image",!0,e),py(e,t,{label:()=>{const a=this.findViewImgElement(e).getAttribute("alt");return a?`${a} ${n}`:n}})}isImageWidget(e){return!!e.getCustomProperty("image")&&ss(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:n}of t.createRangeIn(e))if(this.isInlineImageView(n))return n}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function CS(r,e,t){const n=r.model.schema,a=r.config.get("image.insert.type");return r.plugins.has("ImageBlockEditing")?r.plugins.has("ImageInlineEditing")?t||(a==="inline"?"imageInline":a!=="auto"?"imageBlock":e.is("selection")?xy(n,e):n.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class _z extends Ft{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor,n=t.plugins.get("ImageUtils"),a=t.model,u=n.getClosestSelectedImageElement(a.document.selection);a.change(f=>{f.setAttribute("alt",e.newValue,u)})}}class vz extends lt{static get requires(){return[Oa]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new _z(this.editor))}}var AS=h(4062),wz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(AS.A,wz),AS.A.locals;var NS=h(2722),yz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(NS.A,yz),NS.A.locals;class xz extends St{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new mr,this.keystrokes=new fr,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),Mn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),Mn.cancel,"ck-button-cancel","cancel"),this._focusables=new zo,this._focusCycler=new Ml({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),pi({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,n,a){const u=new P(this.locale);return u.set({label:e,icon:t,tooltip:!0}),u.extendTemplate({attributes:{class:n}}),a&&u.delegate("execute").to(this,a),u}_createLabeledInputView(){const e=this.locale.t,t=new Ke(this.locale,o_);return t.label=e("Text alternative"),t}}function ES(r){const e=r.editing.view,t=Ma.defaultPositions,n=r.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(n.getClosestSelectedImageWidget(e.document.selection)),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.viewportStickyNorth]}}class Cz extends lt{static get requires(){return[h_]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",n=>{const a=e.commands.get("imageTextAlternative"),u=new P(n);return u.set({label:t("Change image text alternative"),icon:Mn.textAlternative,tooltip:!0}),u.bind("isEnabled").to(a,"isEnabled"),u.bind("isOn").to(a,"value",f=>!!f),this.listenTo(u,"execute",()=>{this._showForm()}),u})}_createForm(){const e=this.editor,t=e.editing.view.document,n=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(si(xz))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(a,u)=>{this._hideForm(!0),u()}),this.listenTo(e.ui,"update",()=>{n.getClosestSelectedImageWidget(t.selection)?this._isVisible&&function(a){const u=a.plugins.get("ContextualBalloon");if(a.plugins.get("ImageUtils").getClosestSelectedImageWidget(a.editing.view.document.selection)){const f=ES(a);u.updatePosition(f)}}(e):this._hideForm(!0)}),An({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,t=e.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:ES(e)}),n.fieldView.value=n.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class SS extends lt{static get requires(){return[vz,Cz]}static get pluginName(){return"ImageTextAlternative"}}function jS(r,e){const t=(n,a,u)=>{if(!u.consumable.consume(a.item,n.name))return;const f=u.writer,b=u.mapper.toViewElement(a.item),w=r.findViewImgElement(b);a.attributeNewValue===null?(f.removeAttribute("srcset",w),f.removeAttribute("sizes",w)):a.attributeNewValue&&(f.setAttribute("srcset",a.attributeNewValue,w),f.setAttribute("sizes","100vw",w))};return n=>{n.on(`attribute:srcset:${e}`,t)}}function S_(r,e,t){const n=(a,u,f)=>{if(!f.consumable.consume(u.item,a.name))return;const b=f.writer,w=f.mapper.toViewElement(u.item),A=r.findViewImgElement(w);b.setAttribute(u.attributeKey,u.attributeNewValue||"",A)};return a=>{a.on(`attribute:${t}:${e}`,n)}}class DS extends sl{observe(e){this.listenTo(e,"load",(t,n)=>{const a=n.target;this.checkShouldIgnoreEventFromTarget(a)||a.tagName=="IMG"&&this._fireEvents(n)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}var Az=Object.defineProperty,TS=Object.getOwnPropertySymbols,Nz=Object.prototype.hasOwnProperty,Ez=Object.prototype.propertyIsEnumerable,MS=(r,e,t)=>e in r?Az(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,j_=(r,e)=>{for(var t in e||(e={}))Nz.call(e,t)&&MS(r,t,e[t]);if(TS)for(var t of TS(e))Ez.call(e,t)&&MS(r,t,e[t]);return r};class Sz extends Ft{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||t==="block"&&de("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||t==="inline"&&de("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=pn(e.source),n=this.editor.model.document.selection,a=this.editor.plugins.get("ImageUtils"),u=Object.fromEntries(n.getAttributes());t.forEach((f,b)=>{const w=n.getSelectedElement();if(typeof f=="string"&&(f={src:f}),b&&w&&a.isImage(w)){const A=this.editor.model.createPositionAfter(w);a.insertImage(j_(j_({},f),u),A)}else a.insertImage(j_(j_({},f),u))})}}class jz extends Ft{constructor(e){super(e),this.decorate("cleanupImage")}refresh(){const e=this.editor.plugins.get("ImageUtils"),t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(t),this.value=this.isEnabled?t.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement(),n=this.editor.plugins.get("ImageUtils");this.editor.model.change(a=>{a.setAttribute("src",e.source,t),this.cleanupImage(a,t),n.setImageNaturalSizeAttributes(t)})}cleanupImage(e,t){e.removeAttribute("srcset",t),e.removeAttribute("sizes",t),e.removeAttribute("sources",t),e.removeAttribute("width",t),e.removeAttribute("height",t),e.removeAttribute("alt",t)}}class Cy extends lt{static get requires(){return[Oa]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(DS),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const n=new Sz(e),a=new jz(e);e.commands.add("insertImage",n),e.commands.add("replaceImageSource",a),e.commands.add("imageInsert",n)}}class IS extends lt{static get requires(){return[Oa]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const t=this.editor,n=t.plugins.get("ImageUtils"),a=e==="imageBlock"?"figure":"img";function u(f,b,w,A){f.on(`attribute:${b}:${e}`,(E,O,z)=>{if(!z.consumable.consume(O.item,E.name))return;const U=z.writer,W=z.mapper.toViewElement(O.item),X=n.findViewImgElement(W);if(O.attributeNewValue!==null?U.setAttribute(w,O.attributeNewValue,X):U.removeAttribute(w,X),O.item.hasAttribute("sources"))return;const ae=O.item.hasAttribute("resizedWidth");if(e==="imageInline"&&!ae&&!A)return;const ge=O.item.getAttribute("width"),Me=O.item.getAttribute("height");ge&&Me&&U.setStyle("aspect-ratio",`${ge}/${Me}`,X)})}t.conversion.for("upcast").attributeToAttribute({view:{name:a,styles:{width:/.+/}},model:{key:"width",value:f=>vS(f)?E_(f.getStyle("width")):null}}).attributeToAttribute({view:{name:a,key:"width"},model:"width"}).attributeToAttribute({view:{name:a,styles:{height:/.+/}},model:{key:"height",value:f=>vS(f)?E_(f.getStyle("height")):null}}).attributeToAttribute({view:{name:a,key:"height"},model:"height"}),t.conversion.for("editingDowncast").add(f=>{u(f,"width","width",!0),u(f,"height","height",!0)}),t.conversion.for("dataDowncast").add(f=>{u(f,"width","width",!1),u(f,"height","height",!1)})}}class OS extends Ft{constructor(e,t){super(e),this._modelElementName=t}refresh(){const e=this.editor.plugins.get("ImageUtils"),t=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(t):this.isEnabled=e.isBlockImage(t)}execute(e={}){const t=this.editor,n=this.editor.model,a=t.plugins.get("ImageUtils"),u=a.getClosestSelectedImageElement(n.document.selection),f=Object.fromEntries(u.getAttributes());return f.src||f.uploadId?n.change(b=>{const{setImageSizes:w=!0}=e,A=Array.from(n.markers).filter(z=>z.getRange().containsItem(u)),E=a.insertImage(f,n.createSelection(u,"on"),this._modelElementName,{setImageSizes:w});if(!E)return null;const O=b.createRangeOn(E);for(const z of A){const U=z.getRange(),W=U.root.rootName!="$graveyard"?U.getJoined(O,!0):O;b.updateMarker(z,{range:W})}return{oldElement:u,newElement:E}}):null}}var LS=h(7378),Dz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(LS.A,Dz),LS.A.locals;class BS extends lt{static get requires(){return[Oa]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const e=this.editor.model.schema;e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["placeholder"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const e=this.editor,t=e.conversion,n=e.plugins.get("ImageUtils");t.for("editingDowncast").add(a=>{a.on("attribute:placeholder",(u,f,b)=>{if(!b.consumable.test(f.item,u.name)||!f.item.is("element","imageBlock")&&!f.item.is("element","imageInline"))return;b.consumable.consume(f.item,u.name);const w=b.writer,A=b.mapper.toViewElement(f.item),E=n.findViewImgElement(A);f.attributeNewValue?(w.addClass("image_placeholder",E),w.setStyle("background-image",`url(${f.attributeNewValue})`,E),w.setCustomProperty("editingPipeline:doNotReuseOnce",!0,E)):(w.removeClass("image_placeholder",E),w.removeStyle("background-image",E))})})}_setupLoadListener(){const e=this.editor,t=e.model,n=e.editing,a=n.view,u=e.plugins.get("ImageUtils");a.addObserver(DS),this.listenTo(a.document,"imageLoaded",(f,b)=>{const w=a.domConverter.mapDomToView(b.target);if(!w)return;const A=u.getImageWidgetFromImageView(w);if(!A)return;const E=n.mapper.toModelElement(A);E&&E.hasAttribute("placeholder")&&t.enqueueChange({isUndoable:!1},O=>{O.removeAttribute("placeholder",E)})})}}class RS extends lt{static get requires(){return[Cy,IS,Oa,BS,Il]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new OS(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,a=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToStructure({model:"imageBlock",view:(u,{writer:f})=>kS(f)}),n.for("editingDowncast").elementToStructure({model:"imageBlock",view:(u,{writer:f})=>a.toImageWidget(kS(f),f,t("image widget"))}),n.for("downcast").add(S_(a,"imageBlock","src")).add(S_(a,"imageBlock","alt")).add(jS(a,"imageBlock")),n.for("upcast").elementToElement({view:_S(e,"imageBlock"),model:(u,{writer:f})=>f.createElement("imageBlock",u.hasAttribute("src")?{src:u.getAttribute("src")}:void 0)}).add(function(u){const f=(b,w,A)=>{if(!A.consumable.test(w.viewItem,{name:!0,classes:"image"}))return;const E=u.findViewImgElement(w.viewItem);if(!E||!A.consumable.test(E,{name:!0}))return;A.consumable.consume(w.viewItem,{name:!0,classes:"image"});const O=Wn(A.convertItem(E,w.modelCursor).modelRange.getItems());O?(A.convertChildren(w.viewItem,O),A.updateConversionResult(O,w)):A.consumable.revert(w.viewItem,{name:!0,classes:"image"})};return b=>{b.on("element:figure",f)}}(a))}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,a=e.plugins.get("ImageUtils"),u=e.plugins.get("ClipboardPipeline");this.listenTo(u,"inputTransformation",(f,b)=>{const w=Array.from(b.content.getChildren());let A;if(!w.every(a.isInlineImageView))return;A=b.targetRanges?e.editing.mapper.toModelRange(b.targetRanges[0]):t.document.selection.getFirstRange();const E=t.createSelection(A);if(xy(t.schema,E)==="imageBlock"){const O=new gc(n.document),z=w.map(U=>O.createElement("figure",{class:"image"},U));b.content=O.createDocumentFragment(z)}}),this.listenTo(u,"contentInsertion",(f,b)=>{b.method==="paste"&&t.change(w=>{const A=w.createRangeIn(b.content);for(const E of A.getItems())E.is("element","imageBlock")&&a.setImageNaturalSizeAttributes(E)})})}}var PS=h(3350),Tz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(PS.A,Tz),PS.A.locals;class Mz extends St{constructor(e,t=[]){super(e),this.focusTracker=new mr,this.keystrokes=new fr,this._focusables=new zo,this.children=this.createCollection(),this._focusCycler=new Ml({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const n of t)this.children.add(n),this._focusables.add(n),n instanceof In&&this._focusables.addMany(n.children);if(this._focusables.length>1)for(const n of this._focusables)Iz(n)&&(n.focusCycler.on("forwardCycle",a=>{this._focusCycler.focusNext(),a.stop()}),n.focusCycler.on("backwardCycle",a=>{this._focusCycler.focusPrevious(),a.stop()}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),pi({view:this});for(const t of this._focusables)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function Iz(r){return"focusCycler"in r}class zS extends lt{constructor(e){super(e),this._integrations=new Map,e.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get requires(){return[Oa]}init(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(e.model.document,"change",()=>{this.isImageSelected=n.isImage(t.getSelectedElement())});const a=u=>this._createToolbarComponent(u);e.ui.componentFactory.add("insertImage",a),e.ui.componentFactory.add("imageInsert",a)}registerIntegration({name:e,observable:t,buttonViewCreator:n,formViewCreator:a,requiresForm:u}){this._integrations.has(e)&&de("image-insert-integration-exists",{name:e}),this._integrations.set(e,{observable:t,buttonViewCreator:n,formViewCreator:a,requiresForm:!!u})}_createToolbarComponent(e){const t=this.editor,n=e.t,a=this._prepareIntegrations();if(!a.length)return null;let u;const f=a[0];if(a.length==1){if(!f.requiresForm)return f.buttonViewCreator(!0);u=f.buttonViewCreator(!0)}else{const A=f.buttonViewCreator(!1);u=new s_(e,A),u.tooltip=!0,u.bind("label").to(this,"isImageSelected",E=>n(E?"Replace image":"Insert image"))}const b=this.dropdownView=ru(e,u),w=a.map(({observable:A})=>typeof A=="function"?A():A);return b.bind("isEnabled").toMany(w,"isEnabled",(...A)=>A.some(E=>E)),b.once("change:isOpen",()=>{const A=a.map(({formViewCreator:O})=>O(a.length==1)),E=new Mz(t.locale,A);b.panelView.children.add(E)}),b}_prepareIntegrations(){const e=this.editor.config.get("image.insert.integrations"),t=[];if(!e.length)return de("image-insert-integrations-not-specified"),t;for(const n of e)this._integrations.has(n)?t.push(this._integrations.get(n)):["upload","assetManager","url"].includes(n)||de("image-insert-unknown-integration",{item:n});return t.length||de("image-insert-integrations-not-registered"),t}}var FS=h(265),Oz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(FS.A,Oz),FS.A.locals;class Lz extends lt{static get requires(){return[RS,Rg,SS,zS]}static get pluginName(){return"ImageBlock"}}class Bz extends lt{static get requires(){return[Cy,IS,Oa,BS,Il]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),t.addChildCheck((n,a)=>{if(n.endsWith("caption")&&a.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new OS(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,a=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:(u,{writer:f})=>f.createEmptyElement("img")}),n.for("editingDowncast").elementToStructure({model:"imageInline",view:(u,{writer:f})=>a.toImageWidget(function(b){return b.createContainerElement("span",{class:"image-inline"},b.createEmptyElement("img"))}(f),f,t("image widget"))}),n.for("downcast").add(S_(a,"imageInline","src")).add(S_(a,"imageInline","alt")).add(jS(a,"imageInline")),n.for("upcast").elementToElement({view:_S(e,"imageInline"),model:(u,{writer:f})=>f.createElement("imageInline",u.hasAttribute("src")?{src:u.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,a=e.plugins.get("ImageUtils"),u=e.plugins.get("ClipboardPipeline");this.listenTo(u,"inputTransformation",(f,b)=>{const w=Array.from(b.content.getChildren());let A;if(!w.every(a.isBlockImageView))return;A=b.targetRanges?e.editing.mapper.toModelRange(b.targetRanges[0]):t.document.selection.getFirstRange();const E=t.createSelection(A);if(xy(t.schema,E)==="imageInline"){const O=new gc(n.document),z=w.map(U=>U.childCount===1?(Array.from(U.getAttributes()).forEach(W=>O.setAttribute(...W,a.findViewImgElement(U))),U.getChild(0)):U);b.content=O.createDocumentFragment(z)}}),this.listenTo(u,"contentInsertion",(f,b)=>{b.method==="paste"&&t.change(w=>{const A=w.createRangeIn(b.content);for(const E of A.getItems())E.is("element","imageInline")&&a.setImageNaturalSizeAttributes(E)})})}}class Rz extends lt{static get requires(){return[Bz,Rg,SS,zS]}static get pluginName(){return"ImageInline"}}class VS extends lt{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Oa]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),n=e.getFirstPosition().findAncestor("caption");return n&&t.isBlockImage(n.parent)?n:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&t.isBlockImageView(e.parent)?{name:!0}:null}}class Pz extends Ft{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils"),n=e.plugins.get("ImageUtils");if(!e.plugins.has(RS))return this.isEnabled=!1,void(this.value=!1);const a=e.model.document.selection,u=a.getSelectedElement();if(!u){const f=t.getCaptionFromModelSelection(a);return this.isEnabled=!!f,void(this.value=!!f)}this.isEnabled=n.isImage(u),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(u):this.value=!1}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change(n=>{this.value?this._hideImageCaption(n):this._showImageCaption(n,t)})}_showImageCaption(e,t){const n=this.editor.model.document.selection,a=this.editor.plugins.get("ImageCaptionEditing"),u=this.editor.plugins.get("ImageUtils");let f=n.getSelectedElement();const b=a._getSavedCaption(f);u.isInlineImage(f)&&(this.editor.execute("imageTypeBlock"),f=n.getSelectedElement());const w=b||e.createElement("caption");e.append(w,f),t&&e.setSelection(w,"in")}_hideImageCaption(e){const t=this.editor,n=t.model.document.selection,a=t.plugins.get("ImageCaptionEditing"),u=t.plugins.get("ImageCaptionUtils");let f,b=n.getSelectedElement();b?f=u.getCaptionFromImageModelElement(b):(f=u.getCaptionFromModelSelection(n),b=f.parent),a._saveCaption(b,f),e.setSelection(b,"on"),e.remove(f)}}class zz extends lt{constructor(e){super(e),this._savedCaptionsMap=new WeakMap}static get requires(){return[Oa,VS]}static get pluginName(){return"ImageCaptionEditing"}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new Pz(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageUtils"),a=e.plugins.get("ImageCaptionUtils"),u=e.t;e.conversion.for("upcast").elementToElement({view:f=>a.matchImageCaptionViewElement(f),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(f,{writer:b})=>n.isBlockImage(f.parent)?b.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(f,{writer:b})=>{if(!n.isBlockImage(f.parent))return null;const w=b.createEditableElement("figcaption");b.setCustomProperty("imageCaption",!0,w),w.placeholder=u("Enter image caption"),wr({view:t,element:w,keepOnFocus:!0});const A=f.parent.getAttribute("alt");return bE(w,b,{label:A?u("Caption for image: %0",[A]):u("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.plugins.get("ImageCaptionUtils"),a=e.commands.get("imageTypeInline"),u=e.commands.get("imageTypeBlock"),f=b=>{if(!b.return)return;const{oldElement:w,newElement:A}=b.return;if(!w)return;if(t.isBlockImage(w)){const O=n.getCaptionFromImageModelElement(w);if(O)return void this._saveCaption(A,O)}const E=this._getSavedCaption(w);E&&this._saveCaption(A,E)};a&&this.listenTo(a,"execute",f,{priority:"low"}),u&&this.listenTo(u,"execute",f,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?hi.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,n=e.plugins.get("ImageUtils"),a=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",()=>{const u=t.document.differ.getChanges();for(const f of u){if(f.attributeKey!=="alt")continue;const b=f.range.start.nodeAfter;if(n.isBlockImage(b)){const w=a.getCaptionFromImageModelElement(b);if(!w)return;e.editing.reconvertItem(w)}}})}}class Fz extends lt{static get requires(){return[VS]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageCaptionUtils"),a=e.t;e.ui.componentFactory.add("toggleImageCaption",u=>{const f=e.commands.get("toggleImageCaption"),b=new P(u);return b.set({icon:Mn.caption,tooltip:!0,isToggleable:!0}),b.bind("isOn","isEnabled").to(f,"value","isEnabled"),b.bind("label").to(f,"value",w=>a(w?"Toggle caption off":"Toggle caption on")),this.listenTo(b,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const w=n.getCaptionFromModelSelection(e.model.document.selection);if(w){const A=e.editing.mapper.toViewElement(w);t.scrollToTheSelection(),t.change(E=>{E.addClass("image__caption_highlighted",A)})}e.editing.view.focus()}),b})}}var HS=h(5247),Vz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(HS.A,Vz),HS.A.locals;function US(r){const e=r.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function Hz(r){return new Promise((e,t)=>{const n=r.getAttribute("src");fetch(n).then(a=>a.blob()).then(a=>{const u=$S(a,n),f=u.replace("image/",""),b=new File([a],`image.${f}`,{type:u});e(b)}).catch(a=>a&&a.name==="TypeError"?function(u){return function(f){return new Promise((b,w)=>{const A=y.document.createElement("img");A.addEventListener("load",()=>{const E=y.document.createElement("canvas");E.width=A.width,E.height=A.height,E.getContext("2d").drawImage(A,0,0),E.toBlob(O=>O?b(O):w())}),A.addEventListener("error",()=>w()),A.src=f})}(u).then(f=>{const b=$S(f,u),w=b.replace("image/","");return new File([f],`image.${w}`,{type:b})})}(n).then(e).catch(t):t(a))})}function $S(r,e){return r.type?r.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class Uz extends lt{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,t=e.t,n=()=>{const a=this._createButton(Xe);return a.set({label:t("Upload image from computer"),tooltip:!0}),a};if(e.ui.componentFactory.add("uploadImage",n),e.ui.componentFactory.add("imageUpload",n),e.ui.componentFactory.add("menuBar:uploadImage",()=>{const a=this._createButton(IN);return a.label=t("Image from computer"),a}),e.plugins.has("ImageInsertUI")){const a=e.plugins.get("ImageInsertUI");a.registerIntegration({name:"upload",observable:()=>e.commands.get("uploadImage"),buttonViewCreator:()=>{const u=e.ui.componentFactory.create("uploadImage");return u.bind("label").to(a,"isImageSelected",f=>t(f?"Replace image from computer":"Upload image from computer")),u},formViewCreator:()=>{const u=e.ui.componentFactory.create("uploadImage");return u.withText=!0,u.bind("label").to(a,"isImageSelected",f=>t(f?"Replace from computer":"Upload from computer")),u.on("execute",()=>{a.dropdownView.isOpen=!1}),u}})}}_createButton(e){const t=this.editor,n=t.locale,a=t.commands.get("uploadImage"),u=t.config.get("image.upload.types"),f=US(u),b=new e(t.locale),w=n.t;return b.set({acceptedType:u.map(A=>`image/${A}`).join(","),allowMultipleFiles:!0,label:w("Upload image from computer"),icon:Mn.imageUpload}),b.bind("isEnabled").to(a),b.on("done",(A,E)=>{const O=Array.from(E).filter(z=>f.test(z.type));O.length&&(t.execute("uploadImage",{file:O}),t.editing.view.focus())}),b}}var qS=h(2267),$z={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(qS.A,$z),qS.A.locals;var WS=h(7693),qz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(WS.A,qz),WS.A.locals;var YS=h(1559),Wz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(YS.A,Wz),YS.A.locals;class Yz extends lt{constructor(e){super(e),this.uploadStatusChange=(t,n,a)=>{const u=this.editor,f=n.item,b=f.getAttribute("uploadId");if(!a.consumable.consume(n.item,t.name))return;const w=u.plugins.get("ImageUtils"),A=u.plugins.get(kc),E=b?n.attributeNewValue:null,O=this.placeholder,z=u.editing.mapper.toViewElement(f),U=a.writer;if(E=="reading")return GS(z,U),void KS(w,O,z,U);if(E=="uploading"){const W=A.loaders.get(b);return GS(z,U),void(W?(QS(z,U),function(X,ae,ge,Me){const Ze=function(pt){const Vt=pt.createUIElement("div",{class:"ck-progress-bar"});return pt.setCustomProperty("progressBar",!0,Vt),Vt}(ae);ae.insert(ae.createPositionAt(X,"end"),Ze),ge.on("change:uploadedPercent",(pt,Vt,jn)=>{Me.change(Fn=>{Fn.setStyle("width",jn+"%",Ze)})})}(z,U,W,u.editing.view),function(X,ae,ge,Me){if(Me.data){const Ze=X.findViewImgElement(ae);ge.setAttribute("src",Me.data,Ze)}}(w,z,U,W)):KS(w,O,z,U))}E=="complete"&&A.loaders.get(b)&&function(W,X,ae){const ge=X.createUIElement("div",{class:"ck-image-upload-complete-icon"});X.insert(X.createPositionAt(W,"end"),ge),setTimeout(()=>{ae.change(Me=>Me.remove(Me.createRangeOn(ge)))},3e3)}(z,U,u.editing.view),function(W,X){XS(W,X,"progressBar")}(z,U),QS(z,U),function(W,X){X.removeClass("ck-appear",W)}(z,U)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function GS(r,e){r.hasClass("ck-appear")||e.addClass("ck-appear",r)}function KS(r,e,t,n){t.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",t);const a=r.findViewImgElement(t);a.getAttribute("src")!==e&&n.setAttribute("src",e,a),ZS(t,"placeholder")||n.insert(n.createPositionAfter(a),function(u){const f=u.createUIElement("div",{class:"ck-upload-placeholder-loader"});return u.setCustomProperty("placeholder",!0,f),f}(n))}function QS(r,e){r.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",r),XS(r,e,"placeholder")}function ZS(r,e){for(const t of r.getChildren())if(t.getCustomProperty(e))return t}function XS(r,e,t){const n=ZS(r,t);n&&e.remove(e.createRangeOn(n))}var Gz=Object.defineProperty,Kz=Object.defineProperties,Qz=Object.getOwnPropertyDescriptors,JS=Object.getOwnPropertySymbols,Zz=Object.prototype.hasOwnProperty,Xz=Object.prototype.propertyIsEnumerable,ej=(r,e,t)=>e in r?Gz(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class Jz extends Ft{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(n)}execute(e){const t=pn(e.file),n=this.editor.model.document.selection,a=this.editor.plugins.get("ImageUtils"),u=Object.fromEntries(n.getAttributes());t.forEach((f,b)=>{const w=n.getSelectedElement();if(b&&w&&a.isImage(w)){const A=this.editor.model.createPositionAfter(w);this._uploadImage(f,u,A)}else this._uploadImage(f,u)})}_uploadImage(e,t,n){const a=this.editor,u=a.plugins.get(kc).createLoader(e),f=a.plugins.get("ImageUtils");var b,w;u&&f.insertImage((b=((A,E)=>{for(var O in E||(E={}))Zz.call(E,O)&&ej(A,O,E[O]);if(JS)for(var O of JS(E))Xz.call(E,O)&&ej(A,O,E[O]);return A})({},t),w={uploadId:u.id},Kz(b,Qz(w))),n)}}class eF extends lt{constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[kc,oy,Il,Oa]}static get pluginName(){return"ImageUploadEditing"}init(){const e=this.editor,t=e.model.document,n=e.conversion,a=e.plugins.get(kc),u=e.plugins.get("ImageUtils"),f=e.plugins.get("ClipboardPipeline"),b=US(e.config.get("image.upload.types")),w=new Jz(e);e.commands.add("uploadImage",w),e.commands.add("imageUpload",w),n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(A,E)=>{if(O=E.dataTransfer,Array.from(O.types).includes("text/html")&&O.getData("text/html")!=="")return;var O;const z=Array.from(E.dataTransfer.files).filter(U=>!!U&&b.test(U.type));z.length&&(A.stop(),e.model.change(U=>{E.targetRanges&&U.setSelection(E.targetRanges.map(W=>e.editing.mapper.toModelRange(W))),e.execute("uploadImage",{file:z})}))}),this.listenTo(f,"inputTransformation",(A,E)=>{const O=Array.from(e.editing.view.createRangeIn(E.content)).map(U=>U.item).filter(U=>function(W,X){return!(!W.isInlineImageView(X)||!X.getAttribute("src")||!X.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!X.getAttribute("src").match(/^blob:/g))}(u,U)&&!U.getAttribute("uploadProcessed")).map(U=>({promise:Hz(U),imageElement:U}));if(!O.length)return;const z=new gc(e.editing.view.document);for(const U of O){z.setAttribute("uploadProcessed",!0,U.imageElement);const W=a.createLoader(U.promise);W&&(z.setAttribute("src","",U.imageElement),z.setAttribute("uploadId",W.id,U.imageElement))}}),e.editing.view.document.on("dragover",(A,E)=>{E.preventDefault()}),t.on("change",()=>{const A=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),E=new Set;for(const O of A)if(O.type=="insert"&&O.name!="$text"){const z=O.position.nodeAfter,U=O.position.root.rootName=="$graveyard";for(const W of tF(e,z)){const X=W.getAttribute("uploadId");if(!X)continue;const ae=a.loaders.get(X);ae&&(U?E.has(X)||ae.abort():(E.add(X),this._uploadImageElements.set(X,W),ae.status=="idle"&&this._readAndUpload(ae)))}}}),this.on("uploadComplete",(A,{imageElement:E,data:O})=>{const z=O.urls?O.urls:O;this.editor.model.change(U=>{U.setAttribute("src",z.default,E),this._parseAndSetSrcsetAttributeOnImage(z,E,U),u.setImageNaturalSizeAttributes(E)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const t=this.editor,n=t.model,a=t.locale.t,u=t.plugins.get(kc),f=t.plugins.get(oy),b=t.plugins.get("ImageUtils"),w=this._uploadImageElements;return n.enqueueChange({isUndoable:!1},E=>{E.setAttribute("uploadStatus","reading",w.get(e.id))}),e.read().then(()=>{const E=e.upload(),O=w.get(e.id);if(S.isSafari){const z=t.editing.mapper.toViewElement(O),U=b.findViewImgElement(z);t.editing.view.once("render",()=>{if(!U.parent)return;const W=t.editing.view.domConverter.mapViewToDom(U.parent);if(!W)return;const X=W.style.display;W.style.display="none",W._ckHack=W.offsetHeight,W.style.display=X})}return t.ui&&t.ui.ariaLiveAnnouncer.announce(a("Uploading image")),n.enqueueChange({isUndoable:!1},z=>{z.setAttribute("uploadStatus","uploading",O)}),E}).then(E=>{n.enqueueChange({isUndoable:!1},O=>{const z=w.get(e.id);O.setAttribute("uploadStatus","complete",z),t.ui&&t.ui.ariaLiveAnnouncer.announce(a("Image upload complete")),this.fire("uploadComplete",{data:E,imageElement:z})}),A()}).catch(E=>{if(t.ui&&t.ui.ariaLiveAnnouncer.announce(a("Error during image upload")),e.status!=="error"&&e.status!=="aborted")throw E;e.status=="error"&&E&&f.showWarning(E,{title:a("Upload failed"),namespace:"upload"}),n.enqueueChange({isUndoable:!1},O=>{O.remove(w.get(e.id))}),A()});function A(){n.enqueueChange({isUndoable:!1},E=>{const O=w.get(e.id);E.removeAttribute("uploadId",O),E.removeAttribute("uploadStatus",O),w.delete(e.id)}),u.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,n){let a=0;const u=Object.keys(e).filter(f=>{const b=parseInt(f,10);if(!isNaN(b))return a=Math.max(a,b),!0}).map(f=>`${e[f]} ${f}w`).join(", ");if(u!=""){const f={srcset:u};t.hasAttribute("width")||t.hasAttribute("height")||(f.width=a),n.setAttributes(f,t)}}}function tF(r,e){const t=r.plugins.get("ImageUtils");return Array.from(r.model.createRangeOn(e)).filter(n=>t.isImage(n.item)).map(n=>n.item)}var tj=h(4642),nF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(tj.A,nF),tj.A.locals;var nj=h(3469),iF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(nj.A,iF),nj.A.locals;class rF extends Ft{constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(n=>{if(n.isDefault)for(const a of n.modelElements)this._defaultStyles[a]=n.name;return[n.name,n]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const t=this.editor,n=t.model,a=t.plugins.get("ImageUtils");n.change(u=>{const f=e.value,{setImageSizes:b=!0}=e;let w=a.getClosestSelectedImageElement(n.document.selection);f&&this.shouldConvertImageType(f,w)&&(this.editor.execute(a.isBlockImage(w)?"imageTypeInline":"imageTypeBlock",{setImageSizes:b}),w=a.getClosestSelectedImageElement(n.document.selection)),!f||this._styles.get(f).isDefault?u.removeAttribute("imageStyle",w):u.setAttribute("imageStyle",f,w),b&&a.setImageNaturalSizeAttributes(w)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}var sF=Object.defineProperty,ij=Object.getOwnPropertySymbols,oF=Object.prototype.hasOwnProperty,aF=Object.prototype.propertyIsEnumerable,rj=(r,e,t)=>e in r?sF(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,sj=(r,e)=>{for(var t in e||(e={}))oF.call(e,t)&&rj(r,t,e[t]);if(ij)for(var t of ij(e))aF.call(e,t)&&rj(r,t,e[t]);return r};const{objectFullWidth:lF,objectInline:oj,objectLeft:aj,objectRight:Ay,objectCenter:Ny,objectBlockLeft:lj,objectBlockRight:cj}=Mn,D_={get inline(){return{name:"inline",title:"In line",icon:oj,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:aj,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:lj,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Ny,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Ay,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:cj,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Ny,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Ay,modelElements:["imageBlock"],className:"image-style-side"}}},dj={full:lF,left:lj,right:cj,center:Ny,inlineLeft:aj,inlineRight:Ay,inline:oj},uj=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function hj(r){de("image-style-configuration-definition-invalid",r)}const Ey={normalizeStyles:function(r){return(r.configuredStyles.options||[]).map(e=>function(t){return t=typeof t=="string"?D_[t]?sj({},D_[t]):{name:t}:function(n,a){const u=sj({},a);for(const f in n)Object.prototype.hasOwnProperty.call(a,f)||(u[f]=n[f]);return u}(D_[t.name],t),typeof t.icon=="string"&&(t.icon=dj[t.icon]||t.icon),t}(e)).filter(e=>function(t,{isBlockPluginLoaded:n,isInlinePluginLoaded:a}){const{modelElements:u,name:f}=t;if(!(u&&u.length&&f))return hj({style:t}),!1;{const b=[n?"imageBlock":null,a?"imageInline":null];if(!u.some(w=>b.includes(w)))return de("image-style-missing-dependency",{style:t,missingPlugins:u.map(w=>w==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,r))},getDefaultStylesConfiguration:function(r,e){return r&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:r?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(r){return r.has("ImageBlockEditing")&&r.has("ImageInlineEditing")?[...uj]:[]},warnInvalidStyle:hj,DEFAULT_OPTIONS:D_,DEFAULT_ICONS:dj,DEFAULT_DROPDOWN_DEFINITIONS:uj};function mj(r,e){for(const t of e)if(t.name===r)return t}class fj extends lt{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Oa]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=Ey,n=this.editor,a=n.plugins.has("ImageBlockEditing"),u=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",t(a,u)),this.normalizedStyles=e({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:a,isInlinePluginLoaded:u}),this._setupConversion(a,u),this._setupPostFixer(),n.commands.add("imageStyle",new rF(n,this.normalizedStyles))}_setupConversion(e,t){const n=this.editor,a=n.model.schema,u=(f=this.normalizedStyles,(w,A,E)=>{if(!E.consumable.consume(A.item,w.name))return;const O=mj(A.attributeNewValue,f),z=mj(A.attributeOldValue,f),U=E.mapper.toViewElement(A.item),W=E.writer;z&&W.removeClass(z.className,U),O&&W.addClass(O.className,U)});var f;const b=function(w){const A={imageInline:w.filter(E=>!E.isDefault&&E.modelElements.includes("imageInline")),imageBlock:w.filter(E=>!E.isDefault&&E.modelElements.includes("imageBlock"))};return(E,O,z)=>{if(!O.modelRange)return;const U=O.viewItem,W=Wn(O.modelRange.getItems());if(W&&z.schema.checkAttribute(W,"imageStyle"))for(const X of A[W.name])z.consumable.consume(U,{classes:X.className})&&z.writer.setAttribute("imageStyle",X.name,W)}}(this.normalizedStyles);n.editing.downcastDispatcher.on("attribute:imageStyle",u),n.data.downcastDispatcher.on("attribute:imageStyle",u),e&&(a.extend("imageBlock",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:figure",b,{priority:"low"})),t&&(a.extend("imageInline",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:img",b,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,n=e.plugins.get(Oa),a=new Map(this.normalizedStyles.map(u=>[u.name,u]));t.registerPostFixer(u=>{let f=!1;for(const b of t.differ.getChanges())if(b.type=="insert"||b.type=="attribute"&&b.attributeKey=="imageStyle"){let w=b.type=="insert"?b.position.nodeAfter:b.range.start.nodeAfter;if(w&&w.is("element","paragraph")&&w.childCount>0&&(w=w.getChild(0)),!n.isImage(w))continue;const A=w.getAttribute("imageStyle");if(!A)continue;const E=a.get(A);E&&E.modelElements.includes(w.name)||(u.removeAttribute("imageStyle",w),f=!0)}return f})}}var pj=h(6386),cF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(pj.A,cF),pj.A.locals;class dF extends lt{static get requires(){return[fj]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],n=gj(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const u of n)this._createButton(u);const a=gj([...t.filter(fe),...Ey.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const u of a)this._createDropdown(u,n)}_createDropdown(e,t){const n=this.editor.ui.componentFactory;n.add(e.name,a=>{let u;const{defaultItem:f,items:b,title:w}=e,A=b.filter(U=>t.find(({name:W})=>bj(W)===U)).map(U=>{const W=n.create(U);return U===f&&(u=W),W});b.length!==A.length&&Ey.warnInvalidStyle({dropdown:e});const E=ru(a,s_),O=E.buttonView,z=O.arrowView;return ty(E,A,{enableActiveItemFocusOnDropdownOpen:!0}),O.set({label:kj(w,u.label),class:null,tooltip:!0}),z.unbind("label"),z.set({label:w}),O.bind("icon").toMany(A,"isOn",(...U)=>{const W=U.findIndex(Jr);return W<0?u.icon:A[W].icon}),O.bind("label").toMany(A,"isOn",(...U)=>{const W=U.findIndex(Jr);return kj(w,W<0?u.label:A[W].label)}),O.bind("isOn").toMany(A,"isOn",(...U)=>U.some(Jr)),O.bind("class").toMany(A,"isOn",(...U)=>U.some(Jr)?"ck-splitbutton_flatten":void 0),O.on("execute",()=>{A.some(({isOn:U})=>U)?E.isOpen=!E.isOpen:u.fire("execute")}),E.bind("isEnabled").toMany(A,"isEnabled",(...U)=>U.some(Jr)),this.listenTo(E,"execute",()=>{this.editor.editing.view.focus()}),E})}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(bj(t),n=>{const a=this.editor.commands.get("imageStyle"),u=new P(n);return u.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),u.bind("isEnabled").to(a,"isEnabled"),u.bind("isOn").to(a,"value",f=>f===t),u.on("execute",this._executeCommand.bind(this,t)),u})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function gj(r,e){for(const t of r)e[t.title]&&(t.title=e[t.title]);return r}function bj(r){return`imageStyle:${r}`}function kj(r,e){return(r?r+": ":"")+e}class uF extends lt{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new an(e)),e.commands.add("outdent",new an(e))}}class hF extends lt{static get pluginName(){return"IndentUI"}init(){const e=this.editor,t=e.locale,n=e.t,a=t.uiLanguageDirection=="ltr"?Mn.indent:Mn.outdent,u=t.uiLanguageDirection=="ltr"?Mn.outdent:Mn.indent;this._defineButton("indent",n("Increase indent"),a),this._defineButton("outdent",n("Decrease indent"),u)}_defineButton(e,t,n){const a=this.editor;a.ui.componentFactory.add(e,()=>{const u=this._createButton(P,e,t,n);return u.set({tooltip:!0}),u}),a.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(ll,e,t,n))}_createButton(e,t,n,a){const u=this.editor,f=u.commands.get(t),b=new e(u.locale);return b.set({label:n,icon:a}),b.bind("isEnabled").to(f,"isEnabled"),this.listenTo(b,"execute",()=>{u.execute(t),u.editing.view.focus()}),b}}class mF{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,n,a)=>{if(!a.consumable.test(n.item,"attribute:linkHref")||!n.item.is("selection")&&!a.schema.isInline(n.item))return;const u=a.writer,f=u.document.selection;for(const b of this._definitions){const w=u.createAttributeElement("a",b.attributes,{priority:5});b.classes&&u.addClass(b.classes,w);for(const A in b.styles)u.setStyle(A,b.styles[A],w);u.setCustomProperty("link",!0,w),b.callback(n.attributeNewValue)?n.item.is("selection")?u.wrap(f.getFirstRange(),w):u.wrap(a.mapper.toViewRange(n.range),w):u.unwrap(a.mapper.toViewRange(n.range),w)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,n,{writer:a,mapper:u})=>{const f=u.toViewElement(n.item),b=Array.from(f.getChildren()).find(w=>w.is("element","a"));for(const w of this._definitions){const A=no(w.attributes);if(w.callback(n.attributeNewValue)){for(const[E,O]of A)E==="class"?a.addClass(O,b):a.setAttribute(E,O,b);w.classes&&a.addClass(w.classes,b);for(const E in w.styles)a.setStyle(E,w.styles[E],b)}else{for(const[E,O]of A)E==="class"?a.removeClass(O,b):a.removeAttribute(E,b);w.classes&&a.removeClass(w.classes,b);for(const E in w.styles)a.removeStyle(E,b)}}})}}}const fF=function(r,e,t){var n=r.length;return t=t===void 0?n:t,!e&&t>=n?r:Ap(r,e,t)};var pF=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const _j=function(r){return pF.test(r)},gF=function(r){return r.split("")};var vj="\\ud800-\\udfff",bF="["+vj+"]",Sy="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",jy="\\ud83c[\\udffb-\\udfff]",wj="[^"+vj+"]",yj="(?:\\ud83c[\\udde6-\\uddff]){2}",xj="[\\ud800-\\udbff][\\udc00-\\udfff]",Cj="(?:"+Sy+"|"+jy+")?",Aj="[\\ufe0e\\ufe0f]?",kF=Aj+Cj+("(?:\\u200d(?:"+[wj,yj,xj].join("|")+")"+Aj+Cj+")*"),_F="(?:"+[wj+Sy+"?",Sy,yj,xj,bF].join("|")+")",vF=RegExp(jy+"(?="+jy+")|"+_F+kF,"g");const wF=function(r){return r.match(vF)||[]},yF=function(r){return _j(r)?wF(r):gF(r)},xF=function(r){return function(e){e=Uc(e);var t=_j(e)?yF(e):void 0,n=t?t[0]:e.charAt(0),a=t?fF(t,1).join(""):e.slice(1);return n[r]()+a}}("toUpperCase"),CF=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,AF=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,NF=/^((\w+:(\/{2,})?)|(\W))/i,EF=["https?","ftps?","mailto"],T_="Ctrl+K";function Nj(r,{writer:e}){const t=e.createAttributeElement("a",{href:r},{priority:5});return e.setCustomProperty("link",!0,t),t}function Ej(r,e=EF){const t=String(r),n=e.join("|");return function(a,u){return!!a.replace(CF,"").match(u)}(t,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",n)}`,"i"))?t:"#"}function Dy(r,e){return!!r&&e.checkAttribute(r.name,"linkHref")}function Ty(r,e){const t=(n=r,AF.test(n)?"mailto:":e);var n;const a=!!t&&!Sj(r);return r&&a?t+r:r}function Sj(r){return NF.test(r)}function jj(r){window.open(r,"_blank","noopener")}class SF extends Ft{constructor(){super(...arguments),this.manualDecorators=new Po,this.automaticDecorators=new mF}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement()||Wn(t.getSelectedBlocks());Dy(n,e.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const a of this.manualDecorators)a.value=this._getDecoratorStateFromModel(a.id)}execute(e,t={}){const n=this.editor.model,a=n.document.selection,u=[],f=[];for(const b in t)t[b]?u.push(b):f.push(b);n.change(b=>{if(a.isCollapsed){const w=a.getFirstPosition();if(a.hasAttribute("linkHref")){const A=Dj(a);let E=b_(w,"linkHref",a.getAttribute("linkHref"),n);a.getAttribute("linkHref")===A&&(E=this._updateLinkContent(n,b,E,e)),b.setAttribute("linkHref",e,E),u.forEach(O=>{b.setAttribute(O,!0,E)}),f.forEach(O=>{b.removeAttribute(O,E)}),b.setSelection(b.createPositionAfter(E.end.nodeBefore))}else if(e!==""){const A=no(a.getAttributes());A.set("linkHref",e),u.forEach(O=>{A.set(O,!0)});const{end:E}=n.insertContent(b.createText(e,A),w);b.setSelection(E)}["linkHref",...u,...f].forEach(A=>{b.removeSelectionAttribute(A)})}else{const w=n.schema.getValidRanges(a.getRanges(),"linkHref"),A=[];for(const O of a.getSelectedBlocks())n.schema.checkAttribute(O,"linkHref")&&A.push(b.createRangeOn(O));const E=A.slice();for(const O of w)this._isRangeToUpdate(O,A)&&E.push(O);for(const O of E){let z=O;if(E.length===1){const U=Dj(a);a.getAttribute("linkHref")===U&&(z=this._updateLinkContent(n,b,O,e),b.setSelection(b.createSelection(z)))}b.setAttribute("linkHref",e,z),u.forEach(U=>{b.setAttribute(U,!0,z)}),f.forEach(U=>{b.removeAttribute(U,z)})}}})}_getDecoratorStateFromModel(e){const t=this.editor.model,n=t.document.selection,a=n.getSelectedElement();return Dy(a,t.schema)?a.getAttribute(e):n.getAttribute(e)}_isRangeToUpdate(e,t){for(const n of t)if(n.containsRange(e))return!1;return!0}_updateLinkContent(e,t,n,a){const u=t.createText(a,{linkHref:a});return e.insertContent(u,n)}}function Dj(r){if(r.isCollapsed){const e=r.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(r.getFirstRange().getItems());if(e.length>1)return null;const t=e[0];return t.is("$text")||t.is("$textProxy")?t.data:null}}class jF extends Ft{refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement();Dy(n,e.schema)?this.isEnabled=e.schema.checkAttribute(n,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,n=t.document.selection,a=e.commands.get("link");t.change(u=>{const f=n.isCollapsed?[b_(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),t)]:t.schema.getValidRanges(n.getRanges(),"linkHref");for(const b of f)if(u.removeAttribute("linkHref",b),a)for(const w of a.manualDecorators)u.removeAttribute(w.id,b)})}}class DF extends Oe(){constructor({id:e,label:t,attributes:n,classes:a,styles:u,defaultValue:f}){super(),this.id=e,this.set("value",void 0),this.defaultValue=f,this.label=t,this.attributes=n,this.classes=a,this.styles=u}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var Tj=h(7719),TF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(Tj.A,TF),Tj.A.locals;var MF=Object.defineProperty,Mj=Object.getOwnPropertySymbols,IF=Object.prototype.hasOwnProperty,OF=Object.prototype.propertyIsEnumerable,Ij=(r,e,t)=>e in r?MF(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,LF=(r,e)=>{for(var t in e||(e={}))IF.call(e,t)&&Ij(r,t,e[t]);if(Mj)for(var t of Mj(e))OF.call(e,t)&&Ij(r,t,e[t]);return r};const Oj="automatic",BF=/^(https?:)?\/\//;class Lj extends lt{static get pluginName(){return"LinkEditing"}static get requires(){return[oE,JN,Il]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const e=this.editor,t=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Nj}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(a,u)=>Nj(Ej(a,t),u)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:a=>a.getAttribute("href")}}),e.commands.add("link",new SF(e)),e.commands.add("unlink",new jF(e));const n=function(a,u){const f={"Open in a new tab":a("Open in a new tab"),Downloadable:a("Downloadable")};return u.forEach(b=>("label"in b&&f[b.label]&&(b.label=f[b.label]),b)),u}(e.t,function(a){const u=[];if(a)for(const[f,b]of Object.entries(a)){const w=Object.assign({},b,{id:`link${xF(f)}`});u.push(w)}return u}(e.config.get("link.decorators")));this._enableAutomaticDecorators(n.filter(a=>a.mode===Oj)),this._enableManualDecorators(n.filter(a=>a.mode==="manual")),e.plugins.get(oE).registerAttribute("linkHref"),function(a,u,f,b){const w=a.editing.view,A=new Set;w.document.registerPostFixer(E=>{const O=a.model.document.selection;let z=!1;if(O.hasAttribute(u)){const U=b_(O.getFirstPosition(),u,O.getAttribute(u),a.model),W=a.editing.mapper.toViewRange(U);for(const X of W.getItems())X.is("element",f)&&!X.hasClass(b)&&(E.addClass(b,X),A.add(X),z=!0)}return z}),a.conversion.for("editingDowncast").add(E=>{function O(){w.change(z=>{for(const U of A.values())z.removeClass(b,U),A.delete(U)})}E.on("insert",O,{priority:"highest"}),E.on("remove",O,{priority:"highest"}),E.on("attribute",O,{priority:"highest"}),E.on("selection",O,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor,n=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:Oj,callback:a=>!!a&&BF.test(a),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(e),n.length&&t.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,n=t.commands.get("link").manualDecorators;e.forEach(a=>{t.model.schema.extend("$text",{allowAttributes:a.id});const u=new DF(a);n.add(u),t.conversion.for("downcast").attributeToElement({model:u.id,view:(f,{writer:b,schema:w},{item:A})=>{if((A.is("selection")||w.isInline(A))&&f){const E=b.createAttributeElement("a",u.attributes,{priority:5});u.classes&&b.addClass(u.classes,E);for(const O in u.styles)b.setStyle(O,u.styles[O],E);return b.setCustomProperty("link",!0,E),E}}}),t.conversion.for("upcast").elementToAttribute({view:LF({name:"a"},u._createPattern()),model:{key:u.id}})})}_enableLinkOpen(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(n,a)=>{if(!(S.isMac?a.domEvent.metaKey:a.domEvent.ctrlKey))return;let u=a.domTarget;if(u.tagName.toLowerCase()!="a"&&(u=u.closest("a")),!u)return;const f=u.getAttribute("href");f&&(n.stop(),a.preventDefault(),jj(f))},{context:"$capture"}),this.listenTo(t,"keydown",(n,a)=>{const u=e.commands.get("link").value;u&&a.keyCode===Ve.enter&&a.altKey&&(n.stop(),jj(u))})}_enableSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection;this.listenTo(t,"change:attribute",(n,{attributeKeys:a})=>{a.includes("linkHref")&&!t.hasAttribute("linkHref")&&e.change(u=>{var f;(function(b,w){b.removeSelectionAttribute("linkHref");for(const A of w)b.removeSelectionAttribute(A)})(u,(f=e.schema,f.getDefinition("$text").allowAttributes.filter(b=>b.startsWith("link"))))})})}_enableClipboardIntegration(){const e=this.editor,t=e.model,n=this.editor.config.get("link.defaultProtocol");n&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(a,u)=>{t.change(f=>{const b=f.createRangeIn(u.content);for(const w of b.getItems())if(w.hasAttribute("linkHref")){const A=Ty(w.getAttribute("linkHref"),n);f.setAttribute("linkHref",A,w)}})})}}var Bj=h(3817),RF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(Bj.A,RF),Bj.A.locals;class PF extends St{constructor(e,t,n){super(e),this.focusTracker=new mr,this.keystrokes=new fr,this._focusables=new zo;const a=e.t;this._validators=n,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),Mn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(a("Cancel"),Mn.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new Ml({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const u=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&u.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:u,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),pi({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const e=this.locale.t,t=new Ke(this.locale,o_);return t.label=e("Link URL"),t}_createButton(e,t,n,a){const u=new P(this.locale);return u.set({label:e,icon:t,tooltip:!0}),u.extendTemplate({attributes:{class:n}}),a&&u.delegate("execute").to(this,a),u}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const n of e.manualDecorators){const a=new Ae(this.locale);a.set({name:n.id,label:n.label,withText:!0}),a.bind("isOn").toMany([n,e],"value",(u,f)=>f===void 0&&u===void 0?!!n.defaultValue:!!u),a.on("execute",()=>{n.set("value",!a.isOn)}),t.add(a)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const n=new St;n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(a=>({tag:"li",children:[a],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(n)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}var Rj=h(8762),zF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(Rj.A,zF),Rj.A.locals;class FF extends St{constructor(e,t={}){super(e),this.focusTracker=new mr,this.keystrokes=new fr,this._focusables=new zo;const n=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(n("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(n("Edit link"),Mn.pencil,"edit"),this.set("href",void 0),this._linkConfig=t,this._focusCycler=new Ml({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,n){const a=new P(this.locale);return a.set({label:e,icon:t,tooltip:!0}),a.delegate("execute").to(this,n),a}_createPreviewButton(){const e=new P(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",a=>a&&Ej(a,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",a=>a||n("This link has no URL")),e.bind("isEnabled").to(this,"href",a=>!!a),e.template.tag="a",e.template.eventListeners={},e}}const ld="link-ui";class VF extends lt{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[h_]}static get pluginName(){return"LinkUI"}init(){const e=this.editor,t=this.editor.t;e.editing.view.addObserver(Of),this._balloon=e.plugins.get(h_),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:ld,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:ld,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Create link"),keystroke:T_},{label:t("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new FF(e.locale,e.config.get("link")),n=e.commands.get("link"),a=e.commands.get("unlink");return t.bind("href").to(n,"value"),t.editButtonView.bind("isEnabled").to(n),t.unlinkButtonView.bind("isEnabled").to(a),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(u,f)=>{this._hideUI(),f()}),t.keystrokes.set(T_,(u,f)=>{this._addFormView(),f()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),n=e.config.get("link.defaultProtocol"),a=new(si(PF))(e.locale,t,function(u){const f=u.t,b=u.config.get("link.allowCreatingEmptyLinks");return[w=>{if(!b&&!w.url.length)return f("Link URL must not be empty.")}]}(e));return a.urlInputView.fieldView.bind("value").to(t,"value"),a.urlInputView.bind("isEnabled").to(t,"isEnabled"),a.saveButtonView.bind("isEnabled").to(t,"isEnabled"),this.listenTo(a,"submit",()=>{if(a.isValid()){const{value:u}=a.urlInputView.fieldView.element,f=Ty(u,n);e.execute("link",f,a.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(a.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(a,"cancel",()=>{this._closeFormView()}),a.keystrokes.set("Esc",(u,f)=>{this._closeFormView(),f()}),a}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link");e.ui.componentFactory.add("link",()=>{const n=this._createButton(P);return n.set({tooltip:!0,isToggleable:!0}),n.bind("isOn").to(t,"value",a=>!!a),n}),e.ui.componentFactory.add("menuBar:link",()=>this._createButton(ll))}_createButton(e){const t=this.editor,n=t.locale,a=t.commands.get("link"),u=new e(t.locale),f=n.t;return u.set({label:f("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:T_}),u.bind("isEnabled").to(a,"isEnabled"),this.listenTo(u,"execute",()=>this._showUI(!0)),u}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(T_,(n,a)=>{a(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),An({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let n=this._getSelectedLinkElement(),a=f();const u=()=>{const b=this._getSelectedLinkElement(),w=f();n&&!b||!n&&w!==a?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=b,a=w};function f(){return t.selection.focus.getAncestors().reverse().find(b=>b.is("element"))}this.listenTo(e.ui,"update",u),this.listenTo(this._balloon,"change:visibleView",u)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,n=e.document;let a;if(t.markers.has(ld)){const u=Array.from(this.editor.editing.mapper.markerNameToElements(ld)),f=e.createRange(e.createPositionBefore(u[0]),e.createPositionAfter(u[u.length-1]));a=e.domConverter.viewRangeToDom(f)}else a=()=>{const u=this._getSelectedLinkElement();return u?e.domConverter.mapViewToDom(u):e.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:a}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,n=t.getSelectedElement();if(t.isCollapsed||n&&ss(n))return My(t.getFirstPosition());{const a=t.getFirstRange().getTrimmed(),u=My(a.start),f=My(a.end);return u&&u==f&&e.createRangeIn(u).getTrimmed().isEqual(a)?u:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const n=e.document.selection.getFirstRange();if(e.markers.has(ld))t.updateMarker(ld,{range:n});else if(n.start.isAtEnd){const a=n.start.getLastMatchingPosition(({item:u})=>!e.schema.isContent(u),{boundaries:n});t.addMarker(ld,{usingOperation:!1,affectsData:!1,range:t.createRange(a,n.end)})}else t.addMarker(ld,{usingOperation:!1,affectsData:!1,range:n})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(ld)&&e.change(t=>{t.removeMarker(ld)})}}function My(r){return r.getAncestors().find(e=>{return(t=e).is("attributeElement")&&!!t.getCustomProperty("link");var t})||null}const Pj=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class HF extends lt{static get requires(){return[ou,Lj]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,t){return t.textNode&&t.textNode.hasAttribute("linkHref")?b_(t,"linkHref",t.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,t){const n=this.editor.model,a=n.document.selection,u=a.getFirstPosition(),f=a.getLastPosition();let b=t.getJoined(this._expandLinkRange(n,u)||t);b&&(b=b.getJoined(this._expandLinkRange(n,f)||t)),b&&(b.start.isBefore(u)||b.end.isAfter(f))&&e.setSelection(b)}_enablePasteLinking(){const e=this.editor,t=e.model,n=t.document.selection,a=e.plugins.get("ClipboardPipeline"),u=e.commands.get("link");a.on("inputTransformation",(f,b)=>{if(!this.isEnabled||!u.isEnabled||n.isCollapsed||b.method!=="paste"||n.rangeCount>1)return;const w=n.getFirstRange(),A=b.dataTransfer.getData("text/plain");if(!A)return;const E=A.match(Pj);E&&E[2]===A&&(t.change(O=>{this._selectEntireLinks(O,w),u.execute(A)}),f.stop())},{priority:"high"})}_enableTypingHandling(){const e=this.editor,t=new sE(e.model,n=>{if(!function(u){return u.length>4&&u[u.length-1]===" "&&u[u.length-2]!==" "}(n))return;const a=zj(n.substr(0,n.length-1));return a?{url:a}:void 0});t.on("matched:data",(n,a)=>{const{batch:u,range:f,url:b}=a;if(!u.isTyping)return;const w=f.end.getShiftedBy(-1),A=w.getShiftedBy(-b.length),E=e.model.createRange(A,w);this._applyAutoLink(b,E)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("enter");n&&n.on("execute",()=>{const a=t.document.selection.getFirstPosition();if(!a.parent.previousSibling)return;const u=t.createRangeIn(a.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(u)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("shiftEnter");n&&n.on("execute",()=>{const a=t.document.selection.getFirstPosition(),u=t.createRange(t.createPositionAt(a.parent,0),a.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(u)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:n,range:a}=rE(e,t),u=zj(n);if(u){const f=t.createRange(a.end.getShiftedBy(-u.length),a.end);this._applyAutoLink(u,f)}}_applyAutoLink(e,t){const n=this.editor.model,a=Ty(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(u,f){return f.schema.checkAttributeInSelection(f.createSelection(u),"linkHref")}(t,n)&&Sj(a)&&!function(u){const f=u.start.nodeAfter;return!!f&&f.hasAttribute("linkHref")}(t)&&this._persistAutoLink(a,t)}_persistAutoLink(e,t){const n=this.editor.model,a=this.editor.plugins.get("Delete");n.enqueueChange(u=>{u.setAttribute("linkHref",e,t),n.enqueueChange(()=>{a.requestUndoOnBackspace()})})}}function zj(r){const e=Pj.exec(r);return e?e[2]:null}var Fj=h(4808),UF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(Fj.A,UF),Fj.A.locals;class Ll{constructor(e,t){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward=t.direction=="forward",this._includeSelf=!!t.includeSelf,this._sameAttributes=pn(t.sameAttributes||[]),this._sameIndent=!!t.sameIndent,this._lowerIndent=!!t.lowerIndent,this._higherIndent=!!t.higherIndent}static first(e,t){return Wn(new this(e,t)[Symbol.iterator]())}*[Symbol.iterator](){const e=[];for(const{node:t}of Fg(this._getStartNode(),this._isForward?"forward":"backward")){const n=t.getAttribute("listIndent");if(n<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=n}else if(n>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(t);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some(a=>t.getAttribute(a)!==this._startElement.getAttribute(a)))break}e.length&&(yield*e,e.length=0),yield t}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*Fg(r,e="forward"){const t=e=="forward",n=[];let a=null;for(;Vs(r);){let u=null;if(a){const f=r.getAttribute("listIndent"),b=a.getAttribute("listIndent");f>b?n[b]=a:f<b?(u=n[f],n.length=f):u=a}yield{node:r,previous:a,previousNodeInList:u},a=r,r=t?r.nextSibling:r.previousSibling}}class $F{constructor(e){this._listHead=e}[Symbol.iterator](){return Fg(this._listHead,"forward")}}var qF=Object.defineProperty,WF=Object.defineProperties,YF=Object.getOwnPropertyDescriptors,Vj=Object.getOwnPropertySymbols,GF=Object.prototype.hasOwnProperty,KF=Object.prototype.propertyIsEnumerable,Hj=(r,e,t)=>e in r?qF(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Vg=(r,e)=>{for(var t in e||(e={}))GF.call(e,t)&&Hj(r,t,e[t]);if(Vj)for(var t of Vj(e))KF.call(e,t)&&Hj(r,t,e[t]);return r},Iy=(r,e)=>WF(r,YF(e));class Qf{static next(){return ee()}}function Vs(r){return!!r&&r.is("element")&&r.hasAttribute("listItemId")}function Oy(r,e={}){return[...uh(r,Iy(Vg({},e),{direction:"backward"})),...uh(r,Iy(Vg({},e),{direction:"forward"}))]}function uh(r,e={}){const t=e.direction=="forward",n=Array.from(new Ll(r,Iy(Vg({},e),{includeSelf:t,sameIndent:!0,sameAttributes:"listItemId"})));return t?n:n.reverse()}function Uj(r,e){const t=new Ll(r,Vg({sameIndent:!0,sameAttributes:"listType"},e)),n=new Ll(r,Vg({sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"},e));return[...Array.from(t).reverse(),...n]}function gm(r){return!Ll.first(r,{sameIndent:!0,sameAttributes:"listItemId"})}function $j(r){return!Ll.first(r,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function Hg(r,e={}){r=pn(r);const t=e.withNested!==!1,n=new Set;for(const a of r)for(const u of Oy(a,{higherIndent:t}))n.add(u);return bm(n)}function QF(r){r=pn(r);const e=new Set;for(const t of r)for(const n of Uj(t))e.add(n);return bm(e)}function Ly(r,e){const t=uh(r,{direction:"forward"}),n=Qf.next();for(const a of t)e.setAttribute("listItemId",n,a);return t}function By(r,e,t){const n={};for(const[u,f]of e.getAttributes())u.startsWith("list")&&(n[u]=f);const a=uh(r,{direction:"forward"});for(const u of a)t.setAttributes(n,u);return a}function Ry(r,e,{expand:t,indentBy:n=1}={}){r=pn(r);const a=t?Hg(r):r;for(const u of a){const f=u.getAttribute("listIndent")+n;f<0?M_(u,e):e.setAttribute("listIndent",f,u)}return a}function M_(r,e){r=pn(r);for(const t of r)t.is("element","listItem")&&e.rename(t,"paragraph");for(const t of r)for(const n of t.getAttributeKeys())n.startsWith("list")&&e.removeAttribute(n,t);return r}function Ug(r){if(!r.length)return!1;const e=r[0].getAttribute("listItemId");return!!e&&!r.some(t=>t.getAttribute("listItemId")!=e)}function bm(r){return Array.from(r).filter(e=>e.root.rootName!=="$graveyard").sort((e,t)=>e.index-t.index)}function $g(r){const e=r.document.selection.getSelectedElement();return e&&r.schema.isObject(e)&&r.schema.isBlock(e)?e:null}function Py(r,e){return e.checkChild(r.parent,"listItem")&&e.checkChild(r,"$text")&&!e.isObject(r)}function ZF(r){return r=="numbered"||r=="customNumbered"}function XF(r,e,t){return uh(e,{direction:"forward"}).pop().index>r.index?By(r,e,t):[]}class qj extends Ft{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=Wj(e.document.selection);e.change(n=>{const a=[];Ug(t)&&!gm(t[0])?(this._direction=="forward"&&a.push(...Ry(t,n)),a.push(...Ly(t[0],n))):this._direction=="forward"?a.push(...Ry(t,n,{expand:!0})):a.push(...function(u,f){const b=Hg(u=pn(u)),w=new Set,A=Math.min(...b.map(O=>O.getAttribute("listIndent"))),E=new Map;for(const O of b)E.set(O,Ll.first(O,{lowerIndent:!0}));for(const O of b){if(w.has(O))continue;w.add(O);const z=O.getAttribute("listIndent")-1;if(z<0)M_(O,f);else{if(O.getAttribute("listIndent")==A){const U=XF(O,E.get(O),f);for(const W of U)w.add(W);if(U.length)continue}f.setAttribute("listIndent",z,O)}}return bm(w)}(t,n));for(const u of a){if(!u.hasAttribute("listType"))continue;const f=Ll.first(u,{sameIndent:!0});f&&n.setAttribute("listType",f.getAttribute("listType"),u)}this._fireAfterExecute(a)})}_fireAfterExecute(e){this.fire("afterExecute",bm(new Set(e)))}_checkEnabled(){let e=Wj(this.editor.model.document.selection),t=e[0];if(!t)return!1;if(this._direction=="backward"||Ug(e)&&!gm(e[0]))return!0;e=Hg(e),t=e[0];const n=Ll.first(t,{sameIndent:!0});return!!n&&n.getAttribute("listType")==t.getAttribute("listType")}}function Wj(r){const e=Array.from(r.getSelectedBlocks()),t=e.findIndex(n=>!Vs(n));return t!=-1&&(e.length=t),e}var JF=Object.defineProperty,e6=Object.defineProperties,t6=Object.getOwnPropertyDescriptors,Yj=Object.getOwnPropertySymbols,n6=Object.prototype.hasOwnProperty,i6=Object.prototype.propertyIsEnumerable,Gj=(r,e,t)=>e in r?JF(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,zy=(r,e)=>{for(var t in e||(e={}))n6.call(e,t)&&Gj(r,t,e[t]);if(Yj)for(var t of Yj(e))i6.call(e,t)&&Gj(r,t,e[t]);return r},Fy=(r,e)=>e6(r,t6(e));class I_ extends Ft{constructor(e,t,n={}){super(e),this.type=t,this._listWalkerOptions=n.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.document,a=$g(t),u=Array.from(n.selection.getSelectedBlocks()).filter(b=>t.schema.checkAttribute(b,"listType")||Py(b,t.schema)),f=e.forceValue!==void 0?!e.forceValue:this.value;t.change(b=>{if(f){const w=u[u.length-1],A=uh(w,{direction:"forward"}),E=[];A.length>1&&E.push(...Ly(A[1],b)),E.push(...M_(u,b)),E.push(...function(O,z){const U=[];let W=Number.POSITIVE_INFINITY;for(const{node:X}of Fg(O.nextSibling,"forward")){const ae=X.getAttribute("listIndent");if(ae==0)break;ae<W&&(W=ae);const ge=ae-W;z.setAttribute("listIndent",ge,X),U.push(X)}return U}(w,b)),this._fireAfterExecute(E)}else if((a||n.selection.isCollapsed)&&Vs(u[0])){const w=Uj(a||u[0],this._listWalkerOptions);for(const A of w)b.setAttributes(Fy(zy({},e.additionalAttributes),{listType:this.type}),A);this._fireAfterExecute(w)}else{const w=[];for(const A of u)if(A.hasAttribute("listType"))for(const E of Hg(A,{withNested:!1}))E.getAttribute("listType")!=this.type&&(b.setAttributes(Fy(zy({},e.additionalAttributes),{listType:this.type}),E),w.push(E));else!A.is("element","listItem")&&Py(A,t.schema)&&b.rename(A,"listItem"),b.setAttributes(Fy(zy({},e.additionalAttributes),{listIndent:0,listItemId:Qf.next(),listType:this.type}),A),w.push(A);this._fireAfterExecute(w)}})}_fireAfterExecute(e){this.fire("afterExecute",bm(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,t=Array.from(e.getSelectedBlocks());if(!t.length)return!1;for(const n of t)if(n.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,t=e.schema,n=e.document.selection,a=Array.from(n.getSelectedBlocks());if(!a.length)return!1;if(this.value)return!0;for(const u of a)if(t.checkAttribute(u,"listType")||Py(u,t))return!0;return!1}}class Kj extends Ft{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const t=this.editor.model,n=t.document.selection,a=[];t.change(u=>{const{firstElement:f,lastElement:b}=this._getMergeSubjectElements(n,e),w=f.getAttribute("listIndent")||0,A=b.getAttribute("listIndent"),E=b.getAttribute("listItemId");if(w!=A){const z=(O=b,Array.from(new Ll(O,{direction:"forward",higherIndent:!0})));a.push(...Ry([b,...z],u,{indentBy:w-A,expand:w<A}))}var O;if(e){let z=n;n.isCollapsed&&(z=u.createSelection(u.createRange(u.createPositionAt(f,"end"),u.createPositionAt(b,0)))),t.deleteContent(z,{doNotResetEntireContent:n.isCollapsed});const U=z.getLastPosition().parent,W=U.nextSibling;a.push(U),W&&W!==b&&W.getAttribute("listItemId")==E&&a.push(...By(W,U,u))}else a.push(...By(b,f,u));this._fireAfterExecute(a)})}_fireAfterExecute(e){this.fire("afterExecute",bm(new Set(e)))}_checkEnabled(){const e=this.editor.model,t=e.document.selection,n=$g(e);if(t.isCollapsed||n){const a=n||t.getFirstPosition().parent;if(!Vs(a))return!1;const u=this._direction=="backward"?a.previousSibling:a.nextSibling;if(!u||Ug([a,u]))return!1}else{const a=t.getLastPosition(),u=t.getFirstPosition();if(a.parent===u.parent||!Vs(a.parent))return!1}return!0}_getMergeSubjectElements(e,t){const n=$g(this.editor.model);let a,u;if(e.isCollapsed||n){const f=n||e.getFirstPosition().parent,b=gm(f);this._direction=="backward"?(u=f,a=b&&!t?Ll.first(f,{sameIndent:!0,lowerIndent:!0}):f.previousSibling):(a=f,u=f.nextSibling)}else a=e.getFirstPosition().parent,u=e.getLastPosition().parent;return{firstElement:a,lastElement:u}}}class Qj extends Ft{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(e=>{const t=Ly(this._getStartBlock(),e);this._fireAfterExecute(t)})}_fireAfterExecute(e){this.fire("afterExecute",bm(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,t=this._getStartBlock();return e.isCollapsed&&Vs(t)&&!gm(t)}_getStartBlock(){const e=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?e:e.nextSibling}}class r6 extends lt{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(e){return QF(e)}isFirstBlockOfListItem(e){return gm(e)}isListItemBlock(e){return Vs(e)}expandListBlocksToCompleteItems(e,t={}){return Hg(e,t)}isNumberedListType(e){return ZF(e)}}function Zj(r){return r.is("element","ol")||r.is("element","ul")}function O_(r){return r.is("element","li")}function s6(r,e,t,n=Jj(t,e)){return r.createAttributeElement(Xj(t),null,{priority:2*e/100-100,id:n})}function o6(r,e,t){return r.createAttributeElement("li",null,{priority:(2*e+1)/100-100,id:t})}function Xj(r){return r=="numbered"||r=="customNumbered"?"ol":"ul"}function Jj(r,e){return`list-${r}-${e}`}function _c(r,e){const t=r.nodeBefore;if(Vs(t)){let n=t;for(const{node:a}of Fg(n,"backward"))if(n=a,e.has(n))return;e.set(t,n)}else{const n=r.nodeAfter;Vs(n)&&e.set(n,n)}}function a6(){return(r,e,t)=>{const{writer:n,schema:a}=t;if(!e.modelRange)return;const u=Array.from(e.modelRange.getItems({shallow:!0})).filter(O=>a.checkAttribute(O,"listItemId"));if(!u.length)return;const f=Qf.next(),b=function(O){let z=0,U=O.parent;for(;U;){if(O_(U))z++;else{const W=U.previousSibling;W&&O_(W)&&z++}U=U.parent}return z}(e.viewItem);let w=e.viewItem.parent&&e.viewItem.parent.is("element","ol")?"numbered":"bulleted";const A=u[0].getAttribute("listType");A&&(w=A);const E={listItemId:f,listIndent:b,listType:w};for(const O of u)O.hasAttribute("listItemId")||n.setAttributes(E,O);u.length>1&&u[1].getAttribute("listItemId")!=E.listItemId&&t.keepEmptyElement(u[0])}}function eD(){return(r,e,t)=>{if(!t.consumable.test(e.viewItem,{name:!0}))return;const n=new gc(e.viewItem.document);for(const a of Array.from(e.viewItem.getChildren()))O_(a)||Zj(a)||n.remove(a)}}function tD(r,e,t,{dataPipeline:n}={}){const a=function(u){return(f,b)=>{const w=[];for(const A of u)f.hasAttribute(A)&&w.push(`attribute:${A}`);return!!w.every(A=>b.test(f,A)!==!1)&&(w.forEach(A=>b.consume(f,A)),!0)}}(r);return(u,f,b)=>{const{writer:w,mapper:A,consumable:E}=b,O=f.item;if(!r.includes(f.attributeKey)||!a(O,E))return;const z=function(W,X,ae){const ge=ae.createRangeOn(W);return X.toViewRange(ge).getTrimmed().end.nodeBefore}(O,A,t);iD(z,w,A),function(W,X){let ae=W.parent;for(;ae.is("attributeElement")&&["ul","ol","li"].includes(ae.name);){const ge=ae.parent;X.unwrap(X.createRangeOn(W),ae),ae=ge}}(z,w);const U=function(W,X,ae,ge,{dataPipeline:Me}){let Ze=ge.createRangeOn(X);if(!gm(W))return Ze;for(const pt of ae){if(pt.scope!="itemMarker")continue;const Vt=pt.createElement(ge,W,{dataPipeline:Me});if(!Vt||(ge.setCustomProperty("listItemMarker",!0,Vt),pt.canInjectMarkerIntoElement&&pt.canInjectMarkerIntoElement(W)?ge.insert(ge.createPositionAt(X,0),Vt):(ge.insert(Ze.start,Vt),Ze=ge.createRange(ge.createPositionBefore(Vt),ge.createPositionAfter(X))),!pt.createWrapperElement||!pt.canWrapElement))continue;const jn=pt.createWrapperElement(ge,W,{dataPipeline:Me});ge.setCustomProperty("listItemWrapper",!0,jn),pt.canWrapElement(W)?Ze=ge.wrap(Ze,jn):(Ze=ge.wrap(ge.createRangeOn(Vt),jn),Ze=ge.createRange(Ze.start,ge.createPositionAfter(X)))}return Ze}(O,z,e,w,{dataPipeline:n});(function(W,X,ae,ge){if(!W.hasAttribute("listIndent"))return;const Me=W.getAttribute("listIndent");let Ze=W;for(let pt=Me;pt>=0;pt--){const Vt=o6(ge,pt,Ze.getAttribute("listItemId")),jn=s6(ge,pt,Ze.getAttribute("listType"));for(const Fn of ae)Fn.scope!="list"&&Fn.scope!="item"||!Ze.hasAttribute(Fn.attributeName)||Fn.setAttributeOnDowncast(ge,Ze.getAttribute(Fn.attributeName),Fn.scope=="list"?jn:Vt);if(X=ge.wrap(X,Vt),X=ge.wrap(X,jn),pt==0||(Ze=Ll.first(Ze,{lowerIndent:!0}),!Ze))break}})(O,U,e,w)}}function nD(r,{dataPipeline:e}={}){return(t,{writer:n})=>{if(!rD(t,r))return null;if(!e)return n.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const a=n.createContainerElement("p");return n.setCustomProperty("dataPipeline:transparentRendering",!0,a),a}}function iD(r,e,t){for(;r.parent.is("attributeElement")&&r.parent.getCustomProperty("listItemWrapper");)e.unwrap(e.createRangeOn(r),r.parent);const n=[];a(e.createPositionBefore(r).getWalker({direction:"backward"})),a(e.createRangeIn(r).getWalker());for(const u of n)e.remove(u);function a(u){for(const{item:f}of u){if(f.is("element")&&t.toModelElement(f))break;f.is("element")&&f.getCustomProperty("listItemMarker")&&n.push(f)}}}function rD(r,e,t=Oy(r)){if(!Vs(r))return!1;for(const n of r.getAttributeKeys())if(!n.startsWith("selection:")&&!e.includes(n))return!1;return t.length<2}var sD=h(1232),l6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(sD.A,l6),sD.A.locals;var oD=h(6903),c6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(oD.A,c6),oD.A.locals;const L_=["listType","listIndent","listItemId"];class d6 extends lt{constructor(e){super(e),this._downcastStrategies=[],e.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get requires(){return[k_,ou,r6,Il]}init(){const e=this.editor,t=e.model,n=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new q("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});t.schema.register("$listItem",{allowAttributes:L_}),n?(t.schema.extend("$container",{allowAttributesOf:"$listItem"}),t.schema.extend("$block",{allowAttributesOf:"$listItem"}),t.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):t.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const a of L_)t.schema.setAttributeProperties(a,{copyOnReplace:!0});e.commands.add("numberedList",new I_(e,"numbered")),e.commands.add("bulletedList",new I_(e,"bulleted")),e.commands.add("customNumberedList",new I_(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new I_(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new qj(e,"forward")),e.commands.add("outdentList",new qj(e,"backward")),e.commands.add("splitListItemBefore",new Qj(e,"before")),e.commands.add("splitListItemAfter",new Qj(e,"after")),n&&(e.commands.add("mergeListItemBackward",new Kj(e,"backward")),e.commands.add("mergeListItemForward",new Kj(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList"),{priority:"high"}),n&&n.registerChildCommand(e.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...L_,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,t=e.commands.get("mergeListItemBackward"),n=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(a,u)=>{const f=e.model.document.selection;$g(e.model)||e.model.change(()=>{const b=f.getFirstPosition();if(f.isCollapsed&&u.direction=="backward"){if(!b.isAtStart)return;const w=b.parent;if(!Vs(w))return;if(Ll.first(w,{sameAttributes:"listType",sameIndent:!0})||w.getAttribute("listIndent")!==0){if(!t||!t.isEnabled)return;t.execute({shouldMergeOnBlocksContentLevel:aD(e.model,"backward")})}else $j(w)||e.execute("splitListItemAfter"),e.execute("outdentList");u.preventDefault(),a.stop()}else{if(f.isCollapsed&&!f.getLastPosition().isAtEnd||!n||!n.isEnabled)return;n.execute({shouldMergeOnBlocksContentLevel:aD(e.model,"forward")}),u.preventDefault(),a.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,t=e.model,n=e.commands,a=n.get("enter");this.listenTo(e.editing.view.document,"enter",(u,f)=>{const b=t.document,w=b.selection.getFirstPosition().parent;if(b.selection.isCollapsed&&Vs(w)&&w.isEmpty&&!f.isSoft){const A=gm(w),E=$j(w);A&&E?(e.execute("outdentList"),f.preventDefault(),u.stop()):A&&!E?(e.execute("splitListItemAfter"),f.preventDefault(),u.stop()):E&&(e.execute("splitListItemBefore"),f.preventDefault(),u.stop())}},{context:"li"}),this.listenTo(a,"afterExecute",()=>{const u=n.get("splitListItemBefore");u.refresh(),u.isEnabled&&Oy(e.model.document.selection.getLastPosition().parent).length===2&&u.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(t,n)=>{const a=n.shiftKey?"outdentList":"indentList";this.editor.commands.get(a).isEnabled&&(e.execute(a),n.stopPropagation(),n.preventDefault(),t.stop())},{context:"li"})}_setupConversion(){const e=this.editor,t=e.model,n=this.getListAttributeNames(),a=e.config.get("list.multiBlock"),u=a?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(A,{writer:E})=>E.createElement(u,{listType:""})}).elementToElement({view:"p",model:(A,{writer:E})=>A.parent&&A.parent.is("element","li")?E.createElement(u,{listType:""}):null,converterPriority:"high"}).add(A=>{A.on("element:li",a6()),A.on("element:ul",eD(),{priority:"high"}),A.on("element:ol",eD(),{priority:"high"})}),a||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:u,view:nD(n),converterPriority:"high"}).add(A=>{var E;A.on("attribute",tD(n,this._downcastStrategies,t)),A.on("remove",(E=t.schema,(O,z,U)=>{const{writer:W,mapper:X}=U,ae=O.name.split(":")[1];if(!E.checkAttribute(ae,"listItemId"))return;const ge=X.toViewPosition(z.position),Me=z.position.getShiftedBy(z.length),Ze=X.toViewPosition(Me,{isPhantom:!0}),pt=W.createRange(ge,Ze).getTrimmed().end.nodeBefore;pt&&iD(pt,W,X)}))}),e.conversion.for("dataDowncast").elementToElement({model:u,view:nD(n,{dataPipeline:!0}),converterPriority:"high"}).add(A=>{A.on("attribute",tD(n,this._downcastStrategies,t,{dataPipeline:!0}))});const f=(b=this._downcastStrategies,w=e.editing.view,(A,E)=>{if(E.modelPosition.offset>0)return;const O=E.modelPosition.parent;if(!Vs(O)||!b.some(ae=>ae.scope=="itemMarker"&&ae.canInjectMarkerIntoElement&&ae.canInjectMarkerIntoElement(O)))return;const z=E.mapper.toViewElement(O),U=w.createRangeIn(z),W=U.getWalker();let X=U.start;for(const{item:ae}of W){if(ae.is("element")&&E.mapper.toModelElement(ae)||ae.is("$textProxy"))break;ae.is("element")&&ae.getCustomProperty("listItemMarker")&&(X=w.createPositionAfter(ae),W.skip(({previousPosition:ge})=>!ge.isEqual(X)))}E.viewPosition=X});var b,w;e.editing.mapper.on("modelToViewPosition",f),e.data.mapper.on("modelToViewPosition",f),this.listenTo(t.document,"change:data",function(A,E,O,z){return()=>{const ae=A.document.differ.getChanges(),ge=[],Me=new Map,Ze=new Set;for(const pt of ae)if(pt.type=="insert"&&pt.name!="$text")_c(pt.position,Me),pt.attributes.has("listItemId")?Ze.add(pt.position.nodeAfter):_c(pt.position.getShiftedBy(pt.length),Me);else if(pt.type=="remove"&&pt.attributes.has("listItemId"))_c(pt.position,Me);else if(pt.type=="attribute"){const Vt=pt.range.start.nodeAfter;O.includes(pt.attributeKey)?(_c(pt.range.start,Me),pt.attributeNewValue===null?(_c(pt.range.start.getShiftedBy(1),Me),W(Vt)&&ge.push(Vt)):Ze.add(Vt)):Vs(Vt)&&W(Vt)&&ge.push(Vt)}for(const pt of Me.values())ge.push(...U(pt,Ze));for(const pt of new Set(ge))E.reconvertItem(pt)};function U(ae,ge){const Me=[],Ze=new Set,pt=[];for(const{node:Vt,previous:jn}of Fg(ae,"forward")){if(Ze.has(Vt))continue;const Fn=Vt.getAttribute("listIndent");jn&&Fn<jn.getAttribute("listIndent")&&(pt.length=Fn+1),pt[Fn]=Object.fromEntries(Array.from(Vt.getAttributes()).filter(([Hs])=>O.includes(Hs)));const or=uh(Vt,{direction:"forward"});for(const Hs of or)Ze.add(Hs),(W(Hs,or)||X(Hs,pt,ge))&&Me.push(Hs)}return Me}function W(ae,ge){const Me=E.mapper.toViewElement(ae);if(!Me)return!1;if(z.fire("checkElement",{modelElement:ae,viewElement:Me}))return!0;if(!ae.is("element","paragraph")&&!ae.is("element","listItem"))return!1;const Ze=rD(ae,O,ge);return!(!Ze||!Me.is("element","p"))||!(Ze||!Me.is("element","span"))}function X(ae,ge,Me){if(Me.has(ae))return!1;const Ze=E.mapper.toViewElement(ae);let pt=ge.length-1;for(let Vt=Ze.parent;!Vt.is("editableElement");Vt=Vt.parent){const jn=O_(Vt),Fn=Zj(Vt);if(!Fn&&!jn)continue;const or="checkAttributes:"+(jn?"item":"list");if(z.fire(or,{viewElement:Vt,modelAttributes:ge[pt]}))break;if(Fn&&(pt--,pt<0))return!1}return!0}}(t,e.editing,n,this),{priority:"high"}),this.on("checkAttributes:item",(A,{viewElement:E,modelAttributes:O})=>{E.id!=O.listItemId&&(A.return=!0,A.stop())}),this.on("checkAttributes:list",(A,{viewElement:E,modelAttributes:O})=>{E.name==Xj(O.listType)&&E.id==Jj(O.listType,O.listIndent)||(A.return=!0,A.stop())})}_setupModelPostFixing(){const e=this.editor.model,t=this.getListAttributeNames();e.document.registerPostFixer(n=>function(a,u,f,b){const w=a.document.differ.getChanges(),A=new Map,E=b.editor.config.get("list.multiBlock");let O=!1;for(const U of w){if(U.type=="insert"&&U.name!="$text"){const W=U.position.nodeAfter;if(!a.schema.checkAttribute(W,"listItemId"))for(const X of Array.from(W.getAttributeKeys()))f.includes(X)&&(u.removeAttribute(X,W),O=!0);_c(U.position,A),U.attributes.has("listItemId")||_c(U.position.getShiftedBy(U.length),A);for(const{item:X,previousPosition:ae}of a.createRangeIn(W))Vs(X)&&_c(ae,A)}else U.type=="remove"?_c(U.position,A):U.type=="attribute"&&f.includes(U.attributeKey)&&(_c(U.range.start,A),U.attributeNewValue===null&&_c(U.range.start.getShiftedBy(1),A));if(!E&&U.type=="attribute"&&L_.includes(U.attributeKey)){const W=U.range.start.nodeAfter;U.attributeNewValue===null&&W&&W.is("element","listItem")?(u.rename(W,"paragraph"),O=!0):U.attributeOldValue===null&&W&&W.is("element")&&W.name!="listItem"&&(u.rename(W,"listItem"),O=!0)}}const z=new Set;for(const U of A.values())O=b.fire("postFixer",{listNodes:new $F(U),listHead:U,writer:u,seenIds:z})||O;return O}(e,n,t,this)),this.on("postFixer",(n,{listNodes:a,writer:u})=>{n.return=function(f,b){let w=0,A=-1,E=null,O=!1;for(const{node:z}of f){const U=z.getAttribute("listIndent");if(U>w){let W;E===null?(E=U-w,W=w):(E>U&&(E=U),W=U-E),W>A+1&&(W=A+1),b.setAttribute("listIndent",W,z),O=!0,A=W}else E=null,w=U+1,A=U}return O}(a,u)||n.return},{priority:"high"}),this.on("postFixer",(n,{listNodes:a,writer:u,seenIds:f})=>{n.return=function(b,w,A){const E=new Set;let O=!1;for(const{node:z}of b){if(E.has(z))continue;let U=z.getAttribute("listType"),W=z.getAttribute("listItemId");if(w.has(W)&&(W=Qf.next()),w.add(W),z.is("element","listItem"))z.getAttribute("listItemId")!=W&&(A.setAttribute("listItemId",W,z),O=!0);else for(const X of uh(z,{direction:"forward"}))E.add(X),X.getAttribute("listType")!=U&&(W=Qf.next(),U=X.getAttribute("listType")),X.getAttribute("listItemId")!=W&&(A.setAttribute("listItemId",W,X),O=!0)}return O}(a,f,u)||n.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,t=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",function(n){return(a,[u,f])=>{const b=u.is("documentFragment")?Array.from(u.getChildren()):[u];if(!b.length)return;const w=(f?n.createSelection(f):n.document.selection).getFirstPosition();let A;if(Vs(w.parent))A=w.parent;else{if(!Vs(w.nodeBefore))return;A=w.nodeBefore}n.change(E=>{const O=A.getAttribute("listType"),z=A.getAttribute("listIndent"),U=b[0].getAttribute("listIndent")||0,W=Math.max(z-U,0);for(const X of b){const ae=Vs(X);A.is("element","listItem")&&X.is("element","paragraph")&&E.rename(X,"listItem"),E.setAttributes({listIndent:(ae?X.getAttribute("listIndent"):0)+W,listItemId:ae?X.getAttribute("listItemId"):Qf.next(),listType:O},X)}})}}(e),{priority:"high"}),this.listenTo(t,"outputTransformation",(n,a)=>{e.change(u=>{const f=Array.from(a.content.getChildren()),b=f[f.length-1];if(f.length>1&&b.is("element")&&b.isEmpty&&f.slice(0,-1).every(Vs)&&u.remove(b),a.method=="copy"||a.method=="cut"){const w=Array.from(a.content.getChildren());Ug(w)&&M_(w,u)}})})}_setupAccessibilityIntegration(){const e=this.editor,t=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:t("Keystrokes that can be used in a list"),keystrokes:[{label:t("Increase list item indent"),keystroke:"Tab"},{label:t("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function aD(r,e){const t=r.document.selection;if(!t.isCollapsed)return!$g(r);if(e==="forward")return!0;const n=t.getFirstPosition().parent,a=n.previousSibling;return!r.schema.isObject(a)&&(!!a.isEmpty||Ug([n,a]))}function lD(r,e,t,n){r.ui.componentFactory.add(e,()=>{const a=cD(P,r,e,t,n);return a.set({tooltip:!0,isToggleable:!0}),a}),r.ui.componentFactory.add(`menuBar:${e}`,()=>cD(ll,r,e,t,n))}function cD(r,e,t,n,a){const u=e.commands.get(t),f=new r(e.locale);return f.set({label:n,icon:a}),f.bind("isOn","isEnabled").to(u,"value","isEnabled"),f.on("execute",()=>{e.execute(t),e.editing.view.focus()}),f}class u6 extends lt{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||lD(this.editor,"numberedList",e("Numbered List"),Mn.numberedList),this.editor.ui.componentFactory.has("bulletedList")||lD(this.editor,"bulletedList",e("Bulleted List"),Mn.bulletedList)}}class h6 extends lt{static get requires(){return[d6,u6]}static get pluginName(){return"List"}}const m6=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:r,typeAttribute:e,listType:t}of m6);var dD=h(9968),f6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(dD.A,f6),dD.A.locals;var uD=h(7141),p6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(uD.A,p6),uD.A.locals,Wt("Ctrl+Enter");var hD=h(8991),g6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(hD.A,g6),hD.A.locals,Wt("Ctrl+Enter");function mD(r,e){const t=(n,a,u)=>{if(!u.consumable.consume(a.item,n.name))return;const f=a.attributeNewValue,b=u.writer,w=u.mapper.toViewElement(a.item),A=[...w.getChildren()].find(O=>O.getCustomProperty("media-content"));b.remove(A);const E=r.getMediaViewElement(b,f,e);b.insert(b.createPositionAt(w,0),E)};return n=>{n.on("attribute:url:media",t)}}function fD(r,e,t,n){return r.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(r,t,n),r.createSlot()])}function pD(r){const e=r.getSelectedElement();return e&&e.is("element","media")?e:null}function gD(r,e,t,n){r.change(a=>{const u=a.createElement("media",{url:e});r.insertObject(u,t,null,{setSelection:"on",findOptimalPosition:n?"auto":void 0})})}class b6 extends Ft{refresh(){const e=this.editor.model,t=e.document.selection,n=pD(t);this.value=n?n.getAttribute("url"):void 0,this.isEnabled=function(a){const u=a.getSelectedElement();return!!u&&u.name==="media"}(t)||function(a,u){let b=kE(a,u).start.parent;return b.isEmpty&&!u.schema.isLimit(b)&&(b=b.parent),u.schema.checkChild(b,"media")}(t,e)}execute(e){const t=this.editor.model,n=t.document.selection,a=pD(n);a?t.change(u=>{u.setAttribute("url",e,a)}):gD(t,e,n,!0)}}class k6{constructor(e,t){const n=t.providers,a=t.extraProviders||[],u=new Set(t.removeProviders),f=n.concat(a).filter(b=>{const w=b.name;return w?!u.has(w):(de("media-embed-no-provider-name",{provider:b}),!1)});this.locale=e,this.providerDefinitions=f}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,n){return this._getMedia(t).getViewElement(e,n)}_getMedia(e){if(!e)return new bD(this.locale);e=e.trim();for(const t of this.providerDefinitions){const n=t.html,a=pn(t.url);for(const u of a){const f=this._getUrlMatches(e,u);if(f)return new bD(this.locale,e,f,n)}}return null}_getUrlMatches(e,t){let n=e.match(t);if(n)return n;let a=e.replace(/^https?:\/\//,"");return n=a.match(t),n||(a=a.replace(/^www\./,""),n=a.match(t),n||null)}}class bD{constructor(e,t,n,a){this.url=this._getValidUrl(t),this._locale=e,this._match=n,this._previewRenderer=a}getViewElement(e,t){const n={};let a;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),t.renderForEditingView&&(n.class="ck-media__wrapper");const u=this._getPreviewHtml(t);a=e.createRawElement("div",n,(f,b)=>{b.setContentOf(f,u)})}else this.url&&(n.url=this.url),a=e.createEmptyElement(t.elementName,n);return e.setCustomProperty("media-content",!0,a),a}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new m,t=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new Fo({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":t("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var kD=h(7048),_6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(kD.A,_6),kD.A.locals;class B_ extends lt{constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:t=>{const n=t[1],a=t[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${n}${a?`?start=${a}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new k6(e.locale,e.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const e=this.editor,t=e.model.schema,n=e.t,a=e.conversion,u=e.config.get("mediaEmbed.previewsInData"),f=e.config.get("mediaEmbed.elementName"),b=this.registry;e.commands.add("mediaEmbed",new b6(e)),t.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),a.for("dataDowncast").elementToStructure({model:"media",view:(w,{writer:A})=>{const E=w.getAttribute("url");return fD(A,b,E,{elementName:f,renderMediaPreview:!!E&&u})}}),a.for("dataDowncast").add(mD(b,{elementName:f,renderMediaPreview:u})),a.for("editingDowncast").elementToStructure({model:"media",view:(w,{writer:A})=>{const E=w.getAttribute("url");return function(O,z,U){return z.setCustomProperty("media",!0,O),py(O,z,{label:U})}(fD(A,b,E,{elementName:f,renderForEditingView:!0}),A,n("media widget"))}}),a.for("editingDowncast").add(mD(b,{elementName:f,renderForEditingView:!0})),a.for("upcast").elementToElement({view:w=>["oembed",f].includes(w.name)&&w.getAttribute("url")?{name:!0}:null,model:(w,{writer:A})=>{const E=w.getAttribute("url");return b.hasMedia(E)?A.createElement("media",{url:E}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(w,{writer:A})=>{const E=w.getAttribute("data-oembed-url");return b.hasMedia(E)?A.createElement("media",{url:E}):null}}).add(w=>{w.on("element:figure",(A,E,O)=>{if(!O.consumable.consume(E.viewItem,{name:!0,classes:"media"}))return;const{modelRange:z,modelCursor:U}=O.convertChildren(E.viewItem,E.modelCursor);E.modelRange=z,E.modelCursor=U,Wn(z.getItems())||O.consumable.revert(E.viewItem,{name:!0,classes:"media"})})})}}const v6=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class w6 extends lt{constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[RE,ou,HE]}static get pluginName(){return"AutoMediaEmbed"}init(){const e=this.editor,t=e.model.document,n=e.plugins.get("ClipboardPipeline");this.listenTo(n,"inputTransformation",()=>{const a=t.selection.getFirstRange(),u=Fs.fromPosition(a.start);u.stickiness="toPrevious";const f=Fs.fromPosition(a.end);f.stickiness="toNext",t.once("change:data",()=>{this._embedMediaBetweenPositions(u,f),u.detach(),f.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(y.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,t){const n=this.editor,a=n.plugins.get(B_).registry,u=new dr(e,t),f=u.getWalker({ignoreElementEnd:!0});let b="";for(const w of f)w.item.is("$textProxy")&&(b+=w.item.data);if(b=b.trim(),!b.match(v6)||!a.hasMedia(b))return void u.detach();n.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Fs.fromPosition(e),this._timeoutId=y.window.setTimeout(()=>{n.model.change(w=>{this._timeoutId=null,w.remove(u),u.detach();let A=null;this._positionToInsert.root.rootName!=="$graveyard"&&(A=this._positionToInsert),gD(n.model,b,A,!1),this._positionToInsert.detach(),this._positionToInsert=null}),n.plugins.get(ou).requestUndoOnBackspace()},100)):u.detach()}}var _D=h(5651),y6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(_D.A,y6),_D.A.locals;class x6 extends St{constructor(e,t){super(t);const n=t.t;this.focusTracker=new mr,this.keystrokes=new fr,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),Mn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),Mn.cancel,"ck-button-cancel","cancel"),this._focusables=new zo,this._focusCycler=new Ml({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),pi({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,t=new Ke(this.locale,o_),n=t.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),t.label=e("Media URL"),t.infoText=this._urlInputViewInfoDefault,n.on("input",()=>{t.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=n.element.value.trim()}),t}_createButton(e,t,n,a){const u=new P(this.locale);return u.set({label:e,icon:t,tooltip:!0}),u.extendTemplate({attributes:{class:n}}),a&&u.delegate("execute").to(this,a),u}}class C6 extends lt{static get requires(){return[B_]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,t=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",n=>{const a=ru(n);return this._setUpDropdown(a,t),a})}_setUpDropdown(e,t){const n=this.editor,a=n.t,u=e.buttonView,f=n.plugins.get(B_).registry;e.once("change:isOpen",()=>{const b=new(si(x6))(function(w,A){return[E=>{if(!E.url.length)return w("The URL must not be empty.")},E=>{if(!A.hasMedia(E.url))return w("This media URL is not supported.")}]}(n.t,f),n.locale);e.panelView.children.add(b),u.on("open",()=>{b.disableCssTransitions(),b.url=t.value||"",b.urlInputView.fieldView.select(),b.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{b.isValid()&&(n.execute("mediaEmbed",b.url),n.editing.view.focus())}),e.on("change:isOpen",()=>b.resetFormStatus()),e.on("cancel",()=>{n.editing.view.focus()}),b.delegate("submit","cancel").to(e),b.urlInputView.fieldView.bind("value").to(t,"value"),b.urlInputView.on("change:errorText",()=>{n.ui.update()}),b.urlInputView.bind("isEnabled").to(t,"isEnabled")}),e.bind("isEnabled").to(t),u.set({label:a("Insert media"),icon:'<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',tooltip:!0})}}var vD=h(70),A6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(vD.A,A6),vD.A.locals;function wD(r){return r!==void 0&&r.endsWith("px")}function Zf(r){return r.toFixed(2).replace(/\.?0+$/,"")+"px"}var N6=Object.defineProperty,E6=Object.defineProperties,S6=Object.getOwnPropertyDescriptors,yD=Object.getOwnPropertySymbols,j6=Object.prototype.hasOwnProperty,D6=Object.prototype.propertyIsEnumerable,xD=(r,e,t)=>e in r?N6(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,T6=(r,e)=>{for(var t in e||(e={}))j6.call(e,t)&&xD(r,t,e[t]);if(yD)for(var t of yD(e))D6.call(e,t)&&xD(r,t,e[t]);return r};function M6(r,e,t){if(!r.childCount)return;const n=new gc(r.document),a=function(w,A){const E=A.createRangeIn(w),O=[],z=new Set;for(const U of E.getItems()){if(!U.is("element")||!U.name.match(/^(p|h\d+|li|div)$/))continue;let W=F6(U);if(W===void 0||parseFloat(W)!=0||Array.from(U.getClassNames()).find(X=>X.startsWith("MsoList"))||(W=void 0),U.hasStyle("mso-list")||W!==void 0&&z.has(W)){const X=P6(U);O.push({element:U,id:X.id,order:X.order,indent:X.indent,marginLeft:W}),W!==void 0&&z.add(W)}else z.clear()}return O}(r,n);if(!a.length)return;const u={},f=[];for(const w of a)if(w.indent!==void 0){I6(w)||(f.length=0);const A=`${w.id}:${w.indent}`,E=Math.min(w.indent-1,f.length);if(E<f.length&&f[E].id!==w.id&&(f.length=E),E<f.length-1)f.length=E+1;else{const z=L6(w,e);if(E>f.length-1||f[E].listElement.name!=z.type){E==0&&z.type=="ol"&&w.id!==void 0&&u[A]&&(z.startIndex=u[A]);const U=R6(z,n,t);if(wD(w.marginLeft)&&(E==0||wD(f[E-1].marginLeft))){let W=w.marginLeft;E>0&&(W=Zf(parseFloat(W)-parseFloat(f[E-1].marginLeft))),n.setStyle("padding-left",W,U)}if(f.length==0){const W=w.element.parent,X=W.getChildIndex(w.element)+1;n.insertChild(X,U,W)}else{const W=f[E-1].listItemElements;n.appendChild(U,W[W.length-1])}f[E]=(b=T6({},w),E6(b,S6({listElement:U,listItemElements:[]}))),E==0&&w.id!==void 0&&(u[A]=z.startIndex||1)}}const O=w.element.name=="li"?w.element:n.createElement("li");n.appendChild(O,f[E].listElement),f[E].listItemElements.push(O),E==0&&w.id!==void 0&&u[A]++,w.element!=O&&n.appendChild(w.element,O),z6(w.element,n),n.removeStyle("text-indent",w.element),n.removeStyle("margin-left",w.element)}else{const A=f.find(E=>E.marginLeft==w.marginLeft);if(A){const E=A.listItemElements;n.appendChild(w.element,E[E.length-1]),n.removeStyle("margin-left",w.element)}else f.length=0}var b}function I6(r){const e=r.element.previousSibling;return O6(e||r.element.parent)}function O6(r){return r.is("element","ol")||r.is("element","ul")}function L6(r,e){const t=new RegExp(`@list l${r.id}:level${r.indent}\\s*({[^}]*)`,"gi"),n=/mso-level-number-format:([^;]{0,100});/gi,a=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,u=new RegExp(`@list\\s+l${r.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),f=new RegExp(`@list l${r.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),b=u.exec(e),w=f.exec(e),A=b&&!w,E=t.exec(e);let O="decimal",z="ol",U=null;if(E&&E[1]){const W=n.exec(E[1]);if(W&&W[1]&&(O=W[1].trim(),z=O!=="bullet"&&O!=="image"?"ol":"ul"),O==="bullet"){const X=function(ae){if(ae.name=="li"&&ae.parent.name=="ul"&&ae.parent.hasAttribute("type"))return ae.parent.getAttribute("type");const ge=function(Ze){if(Ze.getChild(0).is("$text"))return null;for(const pt of Ze.getChildren()){if(!pt.is("element","span"))continue;const Vt=pt.getChild(0);if(Vt)return Vt.is("$text")?Vt:Vt.getChild(0)}return null}(ae);if(!ge)return null;const Me=ge._data;return Me==="o"?"circle":Me===""?"disc":Me===""?"square":null}(r.element);X&&(O=X)}else{const X=a.exec(E[1]);X&&X[1]&&(U=parseInt(X[1]))}A&&(z="ol")}return{type:z,startIndex:U,style:B6(O),isLegalStyleList:A}}function B6(r){if(r.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(r){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return r;default:return null}}function R6(r,e,t){const n=e.createElement(r.type);return r.style&&e.setStyle("list-style-type",r.style,n),r.startIndex&&r.startIndex>1&&e.setAttribute("start",r.startIndex,n),r.isLegalStyleList&&t&&e.addClass("legal-list",n),n}function P6(r){const e=r.getStyle("mso-list");if(e===void 0)return{};const t=e.match(/(^|\s{1,100})l(\d+)/i),n=e.match(/\s{0,100}lfo(\d+)/i),a=e.match(/\s{0,100}level(\d+)/i);return t&&n&&a?{id:t[2],order:n[1],indent:parseInt(a[1])}:{indent:1}}function z6(r,e){const t=new Vr({name:"span",styles:{"mso-list":"Ignore"}}),n=e.createRangeIn(r);for(const a of n)a.type==="elementStart"&&t.match(a.item)&&e.remove(a.item)}function F6(r){const e=r.getStyle("margin-left");return e===void 0||e.endsWith("px")?e:function(t){const n=parseFloat(t);return t.endsWith("pt")?Zf(96*n/72):t.endsWith("pc")?Zf(12*n*96/72):t.endsWith("in")?Zf(96*n):t.endsWith("cm")?Zf(96*n/2.54):t.endsWith("mm")?Zf(n/10*96/2.54):t}(e)}function V6(r,e){if(!r.childCount)return;const t=new gc(r.document),n=function(u,f){const b=f.createRangeIn(u),w=new Vr({name:/v:(.+)/}),A=[];for(const E of b){if(E.type!="elementStart")continue;const O=E.item,z=O.previousSibling,U=z&&z.is("element")?z.name:null,W=["Chart"],X=w.match(O),ae=O.getAttribute("o:gfxdata"),ge=U==="v:shapetype",Me=ae&&W.some(Ze=>O.getAttribute("id").includes(Ze));X&&ae&&!ge&&!Me&&A.push(E.item.getAttribute("id"))}return A}(r,t);(function(u,f,b){const w=b.createRangeIn(f),A=new Vr({name:"img"}),E=[];for(const O of w)if(O.item.is("element")&&A.match(O.item)){const z=O.item,U=z.getAttribute("v:shapes")?z.getAttribute("v:shapes").split(" "):[];U.length&&U.every(W=>u.indexOf(W)>-1)?E.push(z):z.getAttribute("src")||E.push(z)}for(const O of E)b.remove(O)})(n,r,t),function(u,f,b){const w=b.createRangeIn(f),A=[];for(const z of w)if(z.type=="elementStart"&&z.item.is("element","v:shape")){const U=z.item.getAttribute("id");if(u.includes(U))continue;E(z.item.parent.getChildren(),U)||A.push(z.item)}for(const z of A){const U={src:O(z)};z.hasAttribute("alt")&&(U.alt=z.getAttribute("alt"));const W=b.createElement("img",U);b.insertChild(z.index+1,W,z.parent)}function E(z,U){for(const W of z)if(W.is("element")&&(W.name=="img"&&W.getAttribute("v:shapes")==U||E(W.getChildren(),U)))return!0;return!1}function O(z){for(const U of z.getChildren())if(U.is("element")&&U.getAttribute("src"))return U.getAttribute("src")}}(n,r,t),function(u,f){const b=f.createRangeIn(u),w=new Vr({name:/v:(.+)/}),A=[];for(const E of b)E.type=="elementStart"&&w.match(E.item)&&A.push(E.item);for(const E of A)f.remove(E)}(r,t);const a=function(u,f){const b=f.createRangeIn(u),w=new Vr({name:"img"}),A=[];for(const E of b)E.item.is("element")&&w.match(E.item)&&E.item.getAttribute("src").startsWith("file://")&&A.push(E.item);return A}(r,t);a.length&&function(u,f,b){if(u.length===f.length)for(let w=0;w<u.length;w++){const A=`data:${f[w].type};base64,${H6(f[w].hex)}`;b.setAttribute("src",A,u[w])}}(a,function(u){if(!u)return[];const f=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,b=new RegExp("(?:("+f.source+"))([\\da-fA-F\\s]+)\\}","g"),w=u.match(b),A=[];if(w)for(const E of w){let O=!1;E.includes("\\pngblip")?O="image/png":E.includes("\\jpegblip")&&(O="image/jpeg"),O&&A.push({hex:E.replace(f,"").replace(/[^\da-fA-F]/g,""),type:O})}return A}(e),t)}function H6(r){return btoa(r.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const U6=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,$6=/xmlns:o="urn:schemas-microsoft-com/i;class q6{constructor(e,t=!1){this.document=e,this.hasMultiLevelListPlugin=t}isActive(e){return U6.test(e)||$6.test(e)}execute(e){const{body:t,stylesString:n}=e._parsedData;M6(t,n,this.hasMultiLevelListPlugin),V6(t,e.dataTransfer.getData("text/rtf")),function(a){const u=[],f=new gc(a.document);for(const{item:b}of f.createRangeIn(a))if(b.is("element")){for(const w of b.getClassNames())/\bmso/gi.exec(w)&&f.removeClass(w,b);for(const w of b.getStyleNames())/\bmso/gi.exec(w)&&f.removeStyle(w,b);(b.is("element","w:sdt")||b.is("element","w:sdtpr")&&b.isEmpty||b.is("element","o:p")&&b.isEmpty)&&u.push(b)}for(const b of u){const w=b.parent,A=w.getChildIndex(b);f.insertChild(A,b.getChildren(),w),f.remove(b)}}(t),e.content=t}}function CD(r,e,t,{blockElements:n,inlineObjectElements:a}){let u=t.createPositionAt(r,e=="forward"?"after":"before");return u=u.getLastMatchingPosition(({item:f})=>f.is("element")&&!n.includes(f.name)&&!a.includes(f.name),{direction:e}),e=="forward"?u.nodeAfter:u.nodeBefore}function AD(r,e){return!!r&&r.is("element")&&e.includes(r.name)}const W6=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class Y6{constructor(e){this.document=e}isActive(e){return W6.test(e)}execute(e){const t=new gc(this.document),{body:n}=e._parsedData;(function(a,u){for(const f of a.getChildren())if(f.is("element","b")&&f.getStyle("font-weight")==="normal"){const b=a.getChildIndex(f);u.remove(f),u.insertChild(b,f.getChildren(),a)}})(n,t),function(a,u){for(const f of u.createRangeIn(a)){const b=f.item;if(b.is("element","li")){const w=b.getChild(0);w&&w.is("element","p")&&u.unwrapElement(w)}}}(n,t),function(a,u){const f=new Ph(u.document.stylesProcessor),b=new Uh(f,{renderingMode:"data"}),w=b.blockElements,A=b.inlineObjectElements,E=[];for(const O of u.createRangeIn(a)){const z=O.item;if(z.is("element","br")){const U=CD(z,"forward",u,{blockElements:w,inlineObjectElements:A}),W=CD(z,"backward",u,{blockElements:w,inlineObjectElements:A}),X=AD(U,w);(AD(W,w)||X)&&E.push(z)}}for(const O of E)O.hasClass("Apple-interchange-newline")?u.remove(O):u.replace(O,u.createElement("p"))}(n,t),e.content=n}}const G6=/<google-sheets-html-origin/i;class K6{constructor(e){this.document=e}isActive(e){return G6.test(e)}execute(e){const t=new gc(this.document),{body:n}=e._parsedData;(function(a,u){for(const f of a.getChildren())if(f.is("element","google-sheets-html-origin")){const b=a.getChildIndex(f);u.remove(f),u.insertChild(b,f.getChildren(),a)}})(n,t),function(a,u){for(const f of a.getChildren())f.is("element","table")&&f.hasAttribute("xmlns")&&u.removeAttribute("xmlns",f)}(n,t),function(a,u){for(const f of a.getChildren())f.is("element","table")&&f.getStyle("width")==="0px"&&u.removeStyle("width",f)}(n,t),function(a,u){for(const f of Array.from(a.getChildren()))f.is("element","style")&&u.remove(f)}(n,t),e.content=n}}function ND(r){return r.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length===1?" ":Array(t.length+1).join(" ").substr(0,t.length))}function Q6(r,e){const t=new DOMParser,n=function(w){return ND(ND(w)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(w){const A="</body>",E="</html>",O=w.indexOf(A);if(O<0)return w;const z=w.indexOf(E,O+A.length);return w.substring(0,O+A.length)+(z>=0?w.substring(z):"")}(r=(r=r.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),a=t.parseFromString(n,"text/html");(function(w){w.querySelectorAll("span[style*=spacerun]").forEach(A=>{const E=A,O=E.innerText.length||0;E.innerText=Array(O+1).join(" ").substr(0,O)})})(a);const u=a.body.innerHTML,f=function(w,A){const E=new Ph(A),O=new Uh(E,{renderingMode:"data"}),z=w.createDocumentFragment(),U=w.body.childNodes;for(;U.length>0;)z.appendChild(U[0]);return O.domToView(z,{skipComments:!0})}(a,e),b=function(w){const A=[],E=[],O=Array.from(w.getElementsByTagName("style"));for(const z of O)z.sheet&&z.sheet.cssRules&&z.sheet.cssRules.length&&(A.push(z.sheet),E.push(z.innerHTML));return{styles:A,stylesString:E.join(" ")}}(a);return{body:f,bodyString:u,styles:b.styles,stylesString:b.stylesString}}function Ur(r,e,t,n,a=1){e!=null&&a!=null&&e>a?n.setAttribute(r,e,t):n.removeAttribute(r,t)}function km(r,e,t={}){const n=r.createElement("tableCell",t);return r.insertElement("paragraph",n),r.insert(n,e),n}function Vy(r,e){const t=e.parent.parent,n=parseInt(t.getAttribute("headingColumns")||"0"),{column:a}=r.getCellLocation(e);return!!n&&a<n}function Z6(){return r=>{r.on("element:table",(e,t,n)=>{const a=t.viewItem;if(!n.consumable.test(a,{name:!0}))return;const{rows:u,headingRows:f,headingColumns:b}=function(E){let O,z=0;const U=[],W=[];let X;for(const ae of Array.from(E.getChildren())){if(ae.name!=="tbody"&&ae.name!=="thead"&&ae.name!=="tfoot")continue;ae.name!=="thead"||X||(X=ae);const ge=Array.from(ae.getChildren()).filter(Me=>Me.is("element","tr"));for(const Me of ge)if(X&&ae===X||ae.name==="tbody"&&Array.from(Me.getChildren()).length&&Array.from(Me.getChildren()).every(Ze=>Ze.is("element","th")))z++,U.push(Me);else{W.push(Me);const Ze=X6(Me);(!O||Ze<O)&&(O=Ze)}}return{headingRows:z,headingColumns:O||0,rows:[...U,...W]}}(a),w={};b&&(w.headingColumns=b),f&&(w.headingRows=f);const A=n.writer.createElement("table",w);if(n.safeInsert(A,t.modelCursor)){if(n.consumable.consume(a,{name:!0}),u.forEach(E=>n.convertItem(E,n.writer.createPositionAt(A,"end"))),n.convertChildren(a,n.writer.createPositionAt(A,"end")),A.isEmpty){const E=n.writer.createElement("tableRow");n.writer.insert(E,n.writer.createPositionAt(A,"end")),km(n.writer,n.writer.createPositionAt(E,"end"))}n.updateConversionResult(A,t)}})}}function ED(r){return e=>{e.on(`element:${r}`,(t,n,{writer:a})=>{if(!n.modelRange)return;const u=n.modelRange.start.nodeAfter,f=a.createPositionAt(u,0);if(n.viewItem.isEmpty)return void a.insertElement("paragraph",f);const b=Array.from(u.getChildren());if(b.every(w=>w.is("element","$marker"))){const w=a.createElement("paragraph");a.insert(w,a.createPositionAt(u,0));for(const A of b)a.move(a.createRangeOn(A),a.createPositionAt(w,"end"))}},{priority:"low"})}}function X6(r){let e=0,t=0;const n=Array.from(r.getChildren()).filter(a=>a.name==="th"||a.name==="td");for(;t<n.length&&n[t].name==="th";){const a=n[t];e+=parseInt(a.getAttribute("colspan")||"1"),t++}return e}class Xi{constructor(e,t={}){this._jumpedToStartRow=!1,this._table=e,this._startRow=t.row!==void 0?t.row:t.startRow||0,this._endRow=t.row!==void 0?t.row:t.endRow,this._startColumn=t.column!==void 0?t.column:t.startColumn||0,this._endColumn=t.column!==void 0?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let t=null;const n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(n.cell,n.row,n.column));else{const a=e.getChild(this._cellIndex);if(!a)return this._advanceToNextRow();const u=parseInt(a.getAttribute("colspan")||"1"),f=parseInt(a.getAttribute("rowspan")||"1");(u>1||f>1)&&this._recordSpans(a,f,u),this._shouldSkipSlot()||(t=this._formatOutValue(a)),this._nextCellAtColumn=this._column+u}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,t=this._row,n=this._column){return{done:!1,value:new J6(this,e,t,n)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),t=this._row<this._startRow,n=this._column<this._startColumn,a=this._endColumn!==void 0&&this._column>this._endColumn;return e||t||n||a}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,t,n){const a={cell:e,row:this._row,column:this._column};for(let u=this._row;u<this._row+t;u++)for(let f=this._column;f<this._column+n;f++)u==this._row&&f==this._column||this._markSpannedCell(u,f,a)}_markSpannedCell(e,t,n){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,n)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let t=this._startRow;!this._jumpedToStartRow;t--)e===this._getRowLength(t)&&(this._row=t,this._rowIndex=t,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((t,n)=>t+parseInt(n.getAttribute("colspan")||"1"),0)}}class J6{constructor(e,t,n,a){this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=n,this.cellAnchorColumn=a,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function SD(r,e){return(t,{writer:n})=>{const a=t.getAttribute("headingRows")||0,u=n.createContainerElement("table",null,[]),f=n.createContainerElement("figure",{class:"table"},u);a>0&&n.insert(n.createPositionAt(u,"end"),n.createContainerElement("thead",null,n.createSlot(b=>b.is("element","tableRow")&&b.index<a))),a<r.getRows(t)&&n.insert(n.createPositionAt(u,"end"),n.createContainerElement("tbody",null,n.createSlot(b=>b.is("element","tableRow")&&b.index>=a)));for(const{positionOffset:b,filter:w}of e.additionalSlots)n.insert(n.createPositionAt(u,b),n.createSlot(w));return n.insert(n.createPositionAt(u,"after"),n.createSlot(b=>!b.is("element","tableRow")&&!e.additionalSlots.some(({filter:w})=>w(b)))),e.asWidget?function(b,w){return w.setCustomProperty("table",!0,b),py(b,w,{hasSelectionHandle:!0})}(f,n):f}}function jD(r={}){return(e,{writer:t})=>{const n=e.parent,a=n.parent,u=a.getChildIndex(n),f=new Xi(a,{row:u}),b=a.getAttribute("headingRows")||0,w=a.getAttribute("headingColumns")||0;let A=null;for(const E of f)if(E.cell==e){const O=E.row<b||E.column<w?"th":"td";A=r.asWidget?bE(t.createEditableElement(O),t):t.createContainerElement(O);break}return A}}function DD(r={}){return(e,{writer:t})=>{if(!e.parent.is("element","tableCell")||!TD(e))return null;if(r.asWidget)return t.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const n=t.createContainerElement("p");return t.setCustomProperty("dataPipeline:transparentRendering",!0,n),n}}}function TD(r){return r.parent.childCount==1&&!!r.getAttributeKeys().next().done}class e8 extends Ft{refresh(){const e=this.editor.model,t=e.document.selection,n=e.schema;this.isEnabled=function(a,u){const f=a.getFirstPosition().parent,b=f===f.root?f:f.parent;return u.checkChild(b,"table")}(t,n)}execute(e={}){const t=this.editor,n=t.model,a=t.plugins.get("TableUtils"),u=t.config.get("table.defaultHeadings.rows"),f=t.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&u&&(e.headingRows=u),e.headingColumns===void 0&&f&&(e.headingColumns=f),n.change(b=>{const w=a.createTable(b,e);n.insertObject(w,null,null,{findOptimalPosition:"auto"}),b.setSelection(b.createPositionAt(w.getNodeByPath([0,0,0]),0))})}}class MD extends Ft{constructor(e,t={}){super(e),this.order=t.order||"below"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),a=this.order==="above",u=n.getSelectionAffectedTableCells(t),f=n.getRowIndexes(u),b=a?f.first:f.last,w=u[0].findAncestor("table");n.insertRows(w,{at:a?b:b+1,copyStructureFromAbove:!a})}}class ID extends Ft{constructor(e,t={}){super(e),this.order=t.order||"right"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),a=this.order==="left",u=n.getSelectionAffectedTableCells(t),f=n.getColumnIndexes(u),b=a?f.first:f.last,w=u[0].findAncestor("table");n.insertColumns(w,{columns:1,at:a?b:b+1})}}class OD extends Ft{constructor(e,t={}){super(e),this.direction=t.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}}function LD(r,e,t){const{startRow:n,startColumn:a,endRow:u,endColumn:f}=e,b=t.createElement("table"),w=u-n+1;for(let E=0;E<w;E++)t.insertElement("tableRow",b,"end");const A=[...new Xi(r,{startRow:n,endRow:u,startColumn:a,endColumn:f,includeAllSlots:!0})];for(const{row:E,column:O,cell:z,isAnchor:U,cellAnchorRow:W,cellAnchorColumn:X}of A){const ae=E-n,ge=b.getChild(ae);if(U){const Me=t.cloneElement(z);t.append(Me,ge),FD(Me,E,O,u,f,t)}else(W<n||X<a)&&km(t,t.createPositionAt(ge,"end"))}return function(E,O,z,U,W){const X=parseInt(O.getAttribute("headingRows")||"0");X>0&&Ur("headingRows",X-z,E,W,0);const ae=parseInt(O.getAttribute("headingColumns")||"0");ae>0&&Ur("headingColumns",ae-U,E,W,0)}(b,r,n,a,t),b}function BD(r,e,t=0){const n=[],a=new Xi(r,{startRow:t,endRow:e-1});for(const u of a){const{row:f,cellHeight:b}=u;f<e&&e<=f+b-1&&n.push(u)}return n}function RD(r,e,t){const n=r.parent,a=n.parent,u=n.index,f=e-u,b={},w=parseInt(r.getAttribute("rowspan"))-f;w>1&&(b.rowspan=w);const A=parseInt(r.getAttribute("colspan")||"1");A>1&&(b.colspan=A);const E=u+f,O=[...new Xi(a,{startRow:u,endRow:E,includeAllSlots:!0})];let z,U=null;for(const W of O){const{row:X,column:ae,cell:ge}=W;ge===r&&z===void 0&&(z=ae),z!==void 0&&z===ae&&X===E&&(U=km(t,W.getPositionBefore(),b))}return Ur("rowspan",f,r,t),U}function PD(r,e){const t=[],n=new Xi(r);for(const a of n){const{column:u,cellWidth:f}=a;u<e&&e<=u+f-1&&t.push(a)}return t}function zD(r,e,t,n){const a=t-e,u={},f=parseInt(r.getAttribute("colspan"))-a;f>1&&(u.colspan=f);const b=parseInt(r.getAttribute("rowspan")||"1");b>1&&(u.rowspan=b);const w=km(n,n.createPositionAfter(r),u);return Ur("colspan",a,r,n),w}function FD(r,e,t,n,a,u){const f=parseInt(r.getAttribute("colspan")||"1"),b=parseInt(r.getAttribute("rowspan")||"1");t+f-1>a&&Ur("colspan",a-t+1,r,u,1),e+b-1>n&&Ur("rowspan",n-e+1,r,u,1)}function Hy(r,e){const t=e.getColumns(r),n=new Array(t).fill(0);for(const{column:u}of new Xi(r))n[u]++;const a=n.reduce((u,f,b)=>f?u:[...u,b],[]);if(a.length>0){const u=a[a.length-1];return e.removeColumns(r,{at:u}),!0}return!1}function Uy(r,e){const t=[],n=e.getRows(r);for(let a=0;a<n;a++)r.getChild(a).isEmpty&&t.push(a);if(t.length>0){const a=t[t.length-1];return e.removeRows(r,{at:a}),!0}return!1}function $y(r,e){Hy(r,e)||Uy(r,e)}function VD(r,e){const t=Array.from(new Xi(r,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(t.every(({cellHeight:a})=>a===1))return e.lastRow;const n=t[0].cellHeight-1;return e.lastRow+n}function HD(r,e){const t=Array.from(new Xi(r,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(t.every(({cellWidth:a})=>a===1))return e.lastColumn;const n=t[0].cellWidth-1;return e.lastColumn+n}class R_ extends Ft{constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,t=e.document,n=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(t.selection)[0],a=this.value,u=this.direction;e.change(f=>{const b=u=="right"||u=="down",w=b?n:a,A=b?a:n,E=A.parent;(function(X,ae,ge){UD(X)||(UD(ae)&&ge.remove(ge.createRangeIn(ae)),ge.move(ge.createRangeIn(X),ge.createPositionAt(ae,"end"))),ge.remove(X)})(A,w,f);const O=this.isHorizontal?"colspan":"rowspan",z=parseInt(n.getAttribute(O)||"1"),U=parseInt(a.getAttribute(O)||"1");f.setAttribute(O,z+U,w),f.setSelection(f.createRangeIn(w));const W=this.editor.plugins.get("TableUtils");$y(E.findAncestor("table"),W)})}_getMergeableCell(){const e=this.editor.model.document,t=this.editor.plugins.get("TableUtils"),n=t.getTableCellsContainingSelection(e.selection)[0];if(!n)return;const a=this.isHorizontal?function(b,w,A){const E=b.parent,O=E.parent,z=w=="right"?b.nextSibling:b.previousSibling,U=(O.getAttribute("headingColumns")||0)>0;if(!z)return;const W=w=="right"?b:z,X=w=="right"?z:b,{column:ae}=A.getCellLocation(W),{column:ge}=A.getCellLocation(X),Me=parseInt(W.getAttribute("colspan")||"1"),Ze=Vy(A,W),pt=Vy(A,X);if(!(U&&Ze!=pt))return ae+Me===ge?z:void 0}(n,this.direction,t):function(b,w,A){const E=b.parent,O=E.parent,z=O.getChildIndex(E);if(w=="down"&&z===A.getRows(O)-1||w=="up"&&z===0)return null;const U=parseInt(b.getAttribute("rowspan")||"1"),W=O.getAttribute("headingRows")||0,X=w=="down"&&z+U===W,ae=w=="up"&&z===W;if(W&&(X||ae))return null;const ge=parseInt(b.getAttribute("rowspan")||"1"),Me=w=="down"?z+ge:z,Ze=[...new Xi(O,{endRow:Me})],pt=Ze.find(Fn=>Fn.cell===b),Vt=pt.column,jn=Ze.find(({row:Fn,cellHeight:or,column:Hs})=>Hs===Vt&&(w=="down"?Fn===Me:Me===Fn+or));return jn&&jn.cell?jn.cell:null}(n,this.direction,t);if(!a)return;const u=this.isHorizontal?"rowspan":"colspan",f=parseInt(n.getAttribute(u)||"1");return parseInt(a.getAttribute(u)||"1")===f?a:void 0}}function UD(r){const e=r.getChild(0);return r.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class t8 extends Ft{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){const a=n.findAncestor("table"),u=e.getRows(a)-1,f=e.getRowIndexes(t),b=f.first===0&&f.last===u;this.isEnabled=!b}else this.isEnabled=!1}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),a=t.getRowIndexes(n),u=n[0],f=u.findAncestor("table"),b=t.getCellLocation(u).column;e.change(w=>{const A=a.last-a.first+1;t.removeRows(f,{at:a.first,rows:A});const E=function(O,z,U,W){const X=O.getChild(Math.min(z,W-1));let ae=X.getChild(0),ge=0;for(const Me of X.getChildren()){if(ge>U)return ae;ae=Me,ge+=parseInt(Me.getAttribute("colspan")||"1")}return ae}(f,a.first,b,t.getRows(f));w.setSelection(w.createPositionAt(E,0))})}}class n8 extends Ft{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){const a=n.findAncestor("table"),u=e.getColumns(a),{first:f,last:b}=e.getColumnIndexes(t);this.isEnabled=b-f<u-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[t,n]=function(w,A){const E=A.getSelectionAffectedTableCells(w),O=E[0],z=E.pop(),U=[O,z];return O.isBefore(z)?U:U.reverse()}(this.editor.model.document.selection,e),a=t.parent.parent,u=[...new Xi(a)],f={first:u.find(w=>w.cell===t).column,last:u.find(w=>w.cell===n).column},b=function(w,A,E,O){return parseInt(E.getAttribute("colspan")||"1")>1?E:A.previousSibling||E.nextSibling?E.nextSibling||A.previousSibling:O.first?w.reverse().find(({column:U})=>U<O.first).cell:w.reverse().find(({column:U})=>U>O.last).cell}(u,t,n,f);this.editor.model.change(w=>{const A=f.last-f.first+1;e.removeColumns(a,{at:f.first,columns:A}),w.setSelection(w.createPositionAt(b,0))})}}class i8 extends Ft{refresh(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),a=n.length>0;this.isEnabled=a,this.value=a&&n.every(u=>this._isInHeading(u,u.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),n=this.editor.model,a=t.getSelectionAffectedTableCells(n.document.selection),u=a[0].findAncestor("table"),{first:f,last:b}=t.getRowIndexes(a),w=this.value?f:b+1,A=u.getAttribute("headingRows")||0;n.change(E=>{if(w){const O=BD(u,w,w>A?A:0);for(const{cell:z}of O)RD(z,w,E)}Ur("headingRows",w,u,E,0)})}_isInHeading(e,t){const n=parseInt(t.getAttribute("headingRows")||"0");return!!n&&e.parent.index<n}}class r8 extends Ft{refresh(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),a=n.length>0;this.isEnabled=a,this.value=a&&n.every(u=>Vy(t,u))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),n=this.editor.model,a=t.getSelectionAffectedTableCells(n.document.selection),u=a[0].findAncestor("table"),{first:f,last:b}=t.getColumnIndexes(a),w=this.value?f:b+1;n.change(A=>{if(w){const E=PD(u,w);for(const{cell:O,column:z}of E)zD(O,z,w,A)}Ur("headingColumns",w,u,A,0)})}}function s8(r){if(r.is("element","tableColumnGroup"))return r;const e=r.getChildren();return Array.from(e).find(t=>t.is("element","tableColumnGroup"))}function o8(r){const e=s8(r);return e?Array.from(e.getChildren()):[]}class No extends lt{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const t=e.parent,n=t.parent,a=n.getChildIndex(t),u=new Xi(n,{row:a});for(const{cell:f,row:b,column:w}of u)if(f===e)return{row:b,column:w}}createTable(e,t){const n=e.createElement("table"),a=t.rows||2,u=t.columns||2;return qy(e,n,0,a,u),t.headingRows&&Ur("headingRows",Math.min(t.headingRows,a),n,e,0),t.headingColumns&&Ur("headingColumns",Math.min(t.headingColumns,u),n,e,0),n}insertRows(e,t={}){const n=this.editor.model,a=t.at||0,u=t.rows||1,f=t.copyStructureFromAbove!==void 0,b=t.copyStructureFromAbove?a-1:a,w=this.getRows(e),A=this.getColumns(e);if(a>w)throw new q("tableutils-insertrows-insert-out-of-range",this,{options:t});n.change(E=>{const O=e.getAttribute("headingRows")||0;if(O>a&&Ur("headingRows",O+u,e,E,0),!f&&(a===0||a===w))return void qy(E,e,a,u,A);const z=f?Math.max(a,b):a,U=new Xi(e,{endRow:z}),W=new Array(A).fill(1);for(const{row:X,column:ae,cellHeight:ge,cellWidth:Me,cell:Ze}of U){const pt=X+ge-1,Vt=X<=b&&b<=pt;X<a&&a<=pt?(E.setAttribute("rowspan",ge+u,Ze),W[ae]=-Me):f&&Vt&&(W[ae]=Me)}for(let X=0;X<u;X++){const ae=E.createElement("tableRow");E.insert(ae,e,a);for(let ge=0;ge<W.length;ge++){const Me=W[ge],Ze=E.createPositionAt(ae,"end");Me>0&&km(E,Ze,Me>1?{colspan:Me}:void 0),ge+=Math.abs(Me)-1}}})}insertColumns(e,t={}){const n=this.editor.model,a=t.at||0,u=t.columns||1;n.change(f=>{const b=e.getAttribute("headingColumns");a<b&&f.setAttribute("headingColumns",b+u,e);const w=this.getColumns(e);if(a===0||w===a){for(const E of e.getChildren())E.is("element","tableRow")&&Xf(u,f,f.createPositionAt(E,a?"end":0));return}const A=new Xi(e,{column:a,includeAllSlots:!0});for(const E of A){const{row:O,cell:z,cellAnchorColumn:U,cellAnchorRow:W,cellWidth:X,cellHeight:ae}=E;if(U<a){f.setAttribute("colspan",X+u,z);const ge=W+ae-1;for(let Me=O;Me<=ge;Me++)A.skipRow(Me)}else Xf(u,f,E.getPositionBefore())}})}removeRows(e,t){const n=this.editor.model,a=t.rows||1,u=this.getRows(e),f=t.at,b=f+a-1;if(b>u-1)throw new q("tableutils-removerows-row-index-out-of-range",this,{table:e,options:t});n.change(w=>{const A={first:f,last:b},{cellsToMove:E,cellsToTrim:O}=function(z,{first:U,last:W}){const X=new Map,ae=[];for(const{row:ge,column:Me,cellHeight:Ze,cell:pt}of new Xi(z,{endRow:W})){const Vt=ge+Ze-1;if(ge>=U&&ge<=W&&Vt>W){const jn=Ze-(W-ge+1);X.set(Me,{cell:pt,rowspan:jn})}if(ge<U&&Vt>=U){let jn;jn=Vt>=W?W-U+1:Vt-U+1,ae.push({cell:pt,rowspan:Ze-jn})}}return{cellsToMove:X,cellsToTrim:ae}}(e,A);E.size&&function(z,U,W,X){const ae=new Xi(z,{includeAllSlots:!0,row:U}),ge=[...ae],Me=z.getChild(U);let Ze;for(const{column:pt,cell:Vt,isAnchor:jn}of ge)if(W.has(pt)){const{cell:Fn,rowspan:or}=W.get(pt),Hs=Ze?X.createPositionAfter(Ze):X.createPositionAt(Me,0);X.move(X.createRangeOn(Fn),Hs),Ur("rowspan",or,Fn,X),Ze=Fn}else jn&&(Ze=Vt)}(e,b+1,E,w);for(let z=b;z>=f;z--)w.remove(e.getChild(z));for(const{rowspan:z,cell:U}of O)Ur("rowspan",z,U,w);(function(z,{first:U,last:W},X){const ae=z.getAttribute("headingRows")||0;U<ae&&Ur("headingRows",W<ae?ae-(W-U+1):U,z,X,0)})(e,A,w),Hy(e,this)||Uy(e,this)})}removeColumns(e,t){const n=this.editor.model,a=t.at,u=t.columns||1,f=t.at+u-1;n.change(b=>{(function(A,E,O){const z=A.getAttribute("headingColumns")||0;if(z&&E.first<z){const U=Math.min(z-1,E.last)-E.first+1;O.setAttribute("headingColumns",z-U,A)}})(e,{first:a,last:f},b);const w=o8(e);for(let A=f;A>=a;A--){for(const{cell:E,column:O,cellWidth:z}of[...new Xi(e)])O<=A&&z>1&&O+z>A?Ur("colspan",z-1,E,b):O===A&&b.remove(E);if(w[A]){const E=A===0?w[1]:w[A-1],O=parseFloat(w[A].getAttribute("columnWidth")),z=parseFloat(E.getAttribute("columnWidth"));b.remove(w[A]),b.setAttribute("columnWidth",O+z+"%",E)}}Uy(e,this)||Hy(e,this)})}splitCellVertically(e,t=2){const n=this.editor.model,a=e.parent.parent,u=parseInt(e.getAttribute("rowspan")||"1"),f=parseInt(e.getAttribute("colspan")||"1");n.change(b=>{if(f>1){const{newCellsSpan:w,updatedSpan:A}=$D(f,t);Ur("colspan",A,e,b);const E={};w>1&&(E.colspan=w),u>1&&(E.rowspan=u),Xf(f>t?t-1:f-1,b,b.createPositionAfter(e),E)}if(f<t){const w=t-f,A=[...new Xi(a)],{column:E}=A.find(({cell:W})=>W===e),O=A.filter(({cell:W,cellWidth:X,column:ae})=>W!==e&&ae===E||ae<E&&ae+X>E);for(const{cell:W,cellWidth:X}of O)b.setAttribute("colspan",X+w,W);const z={};u>1&&(z.rowspan=u),Xf(w,b,b.createPositionAfter(e),z);const U=a.getAttribute("headingColumns")||0;U>E&&Ur("headingColumns",U+w,a,b)}})}splitCellHorizontally(e,t=2){const n=this.editor.model,a=e.parent,u=a.parent,f=u.getChildIndex(a),b=parseInt(e.getAttribute("rowspan")||"1"),w=parseInt(e.getAttribute("colspan")||"1");n.change(A=>{if(b>1){const E=[...new Xi(u,{startRow:f,endRow:f+b-1,includeAllSlots:!0})],{newCellsSpan:O,updatedSpan:z}=$D(b,t);Ur("rowspan",z,e,A);const{column:U}=E.find(({cell:X})=>X===e),W={};O>1&&(W.rowspan=O),w>1&&(W.colspan=w);for(const X of E){const{column:ae,row:ge}=X;ge>=f+z&&ae===U&&(ge+f+z)%O==0&&Xf(1,A,X.getPositionBefore(),W)}}if(b<t){const E=t-b,O=[...new Xi(u,{startRow:0,endRow:f})];for(const{cell:W,cellHeight:X,row:ae}of O)if(W!==e&&ae+X>f){const ge=X+E;A.setAttribute("rowspan",ge,W)}const z={};w>1&&(z.colspan=w),qy(A,u,f+1,E,1,z);const U=u.getAttribute("headingRows")||0;U>f&&Ur("headingRows",U+E,u,A)}})}getColumns(e){return[...e.getChild(0).getChildren()].filter(t=>t.is("element","tableCell")).reduce((t,n)=>t+parseInt(n.getAttribute("colspan")||"1"),0)}getRows(e){return Array.from(e.getChildren()).reduce((t,n)=>n.is("element","tableRow")?t+1:t,0)}createTableWalker(e,t={}){return new Xi(e,t)}getSelectedTableCells(e){const t=[];for(const n of this.sortRanges(e.getRanges())){const a=n.getContainedElement();a&&a.is("element","tableCell")&&t.push(a)}return t}getTableCellsContainingSelection(e){const t=[];for(const n of e.getRanges()){const a=n.start.findAncestor("tableCell");a&&t.push(a)}return t}getSelectionAffectedTableCells(e){const t=this.getSelectedTableCells(e);return t.length?t:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const t=e.map(n=>n.parent.index);return this._getFirstLastIndexesObject(t)}getColumnIndexes(e){const t=e[0].findAncestor("table"),n=[...new Xi(t)].filter(a=>e.includes(a.cell)).map(a=>a.column);return this._getFirstLastIndexesObject(n)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const t=new Set,n=new Set;let a=0;for(const f of e){const{row:b,column:w}=this.getCellLocation(f),A=parseInt(f.getAttribute("rowspan"))||1,E=parseInt(f.getAttribute("colspan"))||1;t.add(b),n.add(w),A>1&&t.add(b+A-1),E>1&&n.add(w+E-1),a+=A*E}return function(f,b){const w=Array.from(f.values()),A=Array.from(b.values()),E=Math.max(...w),O=Math.min(...w),z=Math.max(...A),U=Math.min(...A);return(E-O+1)*(z-U+1)}(t,n)==a}sortRanges(e){return Array.from(e).sort(a8)}_getFirstLastIndexesObject(e){const t=e.sort((n,a)=>n-a);return{first:t[0],last:t[t.length-1]}}_areCellInTheSameTableSection(e){const t=e[0].findAncestor("table"),n=this.getRowIndexes(e),a=parseInt(t.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(n,a))return!1;const u=this.getColumnIndexes(e),f=parseInt(t.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(u,f)}_areIndexesInSameSection({first:e,last:t},n){return e<n==t<n}}function qy(r,e,t,n,a,u={}){for(let f=0;f<n;f++){const b=r.createElement("tableRow");r.insert(b,e,t),Xf(a,r,r.createPositionAt(b,"end"),u)}}function Xf(r,e,t,n={}){for(let a=0;a<r;a++)km(e,t,n)}function $D(r,e){if(r<e)return{newCellsSpan:1,updatedSpan:1};const t=Math.floor(r/e);return{newCellsSpan:t,updatedSpan:r-t*e+t}}function a8(r,e){const t=r.start,n=e.start;return t.isBefore(n)?-1:1}class l8 extends Ft{refresh(){const e=this.editor.plugins.get(No),t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t)}execute(){const e=this.editor.model,t=this.editor.plugins.get(No);e.change(n=>{const a=t.getSelectedTableCells(e.document.selection),u=a.shift(),{mergeWidth:f,mergeHeight:b}=function(w,A,E){let O=0,z=0;for(const ge of A){const{row:Me,column:Ze}=E.getCellLocation(ge);O=WD(ge,Ze,O,"colspan"),z=WD(ge,Me,z,"rowspan")}const{row:U,column:W}=E.getCellLocation(w),X=O-W,ae=z-U;return{mergeWidth:X,mergeHeight:ae}}(u,a,t);Ur("colspan",f,u,n),Ur("rowspan",b,u,n);for(const w of a)c8(w,u,n);$y(u.findAncestor("table"),t),n.setSelection(u,"in")})}}function c8(r,e,t){qD(r)||(qD(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(r),t.createPositionAt(e,"end"))),t.remove(r)}function qD(r){const e=r.getChild(0);return r.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function WD(r,e,t,n){const a=parseInt(r.getAttribute(n)||"1");return Math.max(t,e+a)}class d8 extends Ft{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),a=t.getRowIndexes(n),u=n[0].findAncestor("table"),f=[];for(let b=a.first;b<=a.last;b++)for(const w of u.getChild(b).getChildren())f.push(e.createRangeOn(w));e.change(b=>{b.setSelection(f)})}}class u8 extends Ft{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),a=n[0],u=n.pop(),f=a.findAncestor("table"),b=e.getCellLocation(a),w=e.getCellLocation(u),A=Math.min(b.column,w.column),E=Math.max(b.column,w.column),O=[];for(const z of new Xi(f,{startColumn:A,endColumn:E}))O.push(t.createRangeOn(z.cell));t.change(z=>{z.setSelection(O)})}}function h8(r){r.document.registerPostFixer(e=>function(t,n){const a=n.document.differ.getChanges();let u=!1;const f=new Set;for(const b of a){let w=null;b.type=="insert"&&b.name=="table"&&(w=b.position.nodeAfter),b.type!="insert"&&b.type!="remove"||b.name!="tableRow"&&b.name!="tableCell"||(w=b.position.findAncestor("table")),p8(b)&&(w=b.range.start.findAncestor("table")),w&&!f.has(w)&&(u=m8(w,t)||u,u=f8(w,t)||u,f.add(w))}return u}(e,r))}function m8(r,e){let t=!1;const n=function(a){const u=parseInt(a.getAttribute("headingRows")||"0"),f=Array.from(a.getChildren()).reduce((w,A)=>A.is("element","tableRow")?w+1:w,0),b=[];for(const{row:w,cell:A,cellHeight:E}of new Xi(a)){if(E<2)continue;const O=w<u?u:f;if(w+E>O){const z=O-w;b.push({cell:A,rowspan:z})}}return b}(r);if(n.length){t=!0;for(const a of n)Ur("rowspan",a.rowspan,a.cell,e,1)}return t}function f8(r,e){let t=!1;const n=function(b){const w=new Array(b.childCount).fill(0);for(const{rowIndex:A}of new Xi(b,{includeAllSlots:!0}))w[A]++;return w}(r),a=[];for(const[b,w]of n.entries())!w&&r.getChild(b).is("element","tableRow")&&a.push(b);if(a.length){t=!0;for(const b of a.reverse())e.remove(r.getChild(b)),n.splice(b,1)}const u=n.filter((b,w)=>r.getChild(w).is("element","tableRow")),f=u[0];if(!u.every(b=>b===f)){const b=u.reduce((w,A)=>A>w?A:w,0);for(const[w,A]of u.entries()){const E=b-A;if(E){for(let O=0;O<E;O++)km(e,e.createPositionAt(r.getChild(w),"end"));t=!0}}}return t}function p8(r){if(r.type!=="attribute")return!1;const e=r.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function g8(r){r.document.registerPostFixer(e=>function(t,n){const a=n.document.differ.getChanges();let u=!1;for(const f of a)f.type=="insert"&&f.name=="table"&&(u=b8(f.position.nodeAfter,t)||u),f.type=="insert"&&f.name=="tableRow"&&(u=YD(f.position.nodeAfter,t)||u),f.type=="insert"&&f.name=="tableCell"&&(u=Wy(f.position.nodeAfter,t)||u),f.type!="remove"&&f.type!="insert"||!k8(f)||(u=Wy(f.position.parent,t)||u);return u}(e,r))}function b8(r,e){let t=!1;for(const n of r.getChildren())n.is("element","tableRow")&&(t=YD(n,e)||t);return t}function YD(r,e){let t=!1;for(const n of r.getChildren())t=Wy(n,e)||t;return t}function Wy(r,e){if(r.childCount==0)return e.insertElement("paragraph",r),!0;const t=Array.from(r.getChildren()).filter(n=>n.is("$text"));for(const n of t)e.wrap(e.createRangeOn(n),"paragraph");return!!t.length}function k8(r){return!!r.position.parent.is("element","tableCell")&&(r.type=="insert"&&r.name=="$text"||r.type=="remove")}function _8(r,e){if(!r.is("element","paragraph"))return!1;const t=e.toViewElement(r);return!!t&&TD(r)!==t.is("element","span")}var GD=h(8137),v8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(GD.A,v8),GD.A.locals;class w8 extends lt{constructor(e){super(e),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[No]}init(){const e=this.editor,t=e.model,n=t.schema,a=e.conversion,u=e.plugins.get(No);n.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),a.for("upcast").add(f=>{f.on("element:figure",(b,w,A)=>{if(!A.consumable.test(w.viewItem,{name:!0,classes:"table"}))return;const E=function(z){for(const U of z.getChildren())if(U.is("element","table"))return U}(w.viewItem);if(!E||!A.consumable.test(E,{name:!0}))return;A.consumable.consume(w.viewItem,{name:!0,classes:"table"});const O=Wn(A.convertItem(E,w.modelCursor).modelRange.getItems());O?(A.convertChildren(w.viewItem,A.writer.createPositionAt(O,"end")),A.updateConversionResult(O,w)):A.consumable.revert(w.viewItem,{name:!0,classes:"table"})})}),a.for("upcast").add(Z6()),a.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:SD(u,{asWidget:!0,additionalSlots:this._additionalSlots})}),a.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:SD(u,{additionalSlots:this._additionalSlots})}),a.for("upcast").elementToElement({model:"tableRow",view:"tr"}),a.for("upcast").add(f=>{f.on("element:tr",(b,w)=>{w.viewItem.isEmpty&&w.modelCursor.index==0&&b.stop()},{priority:"high"})}),a.for("downcast").elementToElement({model:"tableRow",view:(f,{writer:b})=>f.isEmpty?b.createEmptyElement("tr"):b.createContainerElement("tr")}),a.for("upcast").elementToElement({model:"tableCell",view:"td"}),a.for("upcast").elementToElement({model:"tableCell",view:"th"}),a.for("upcast").add(ED("td")),a.for("upcast").add(ED("th")),a.for("editingDowncast").elementToElement({model:"tableCell",view:jD({asWidget:!0})}),a.for("dataDowncast").elementToElement({model:"tableCell",view:jD()}),a.for("editingDowncast").elementToElement({model:"paragraph",view:DD({asWidget:!0}),converterPriority:"high"}),a.for("dataDowncast").elementToElement({model:"paragraph",view:DD(),converterPriority:"high"}),a.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),a.for("upcast").attributeToAttribute({model:{key:"colspan",value:KD("colspan")},view:"colspan"}),a.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),a.for("upcast").attributeToAttribute({model:{key:"rowspan",value:KD("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new e8(e)),e.commands.add("insertTableRowAbove",new MD(e,{order:"above"})),e.commands.add("insertTableRowBelow",new MD(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new ID(e,{order:"left"})),e.commands.add("insertTableColumnRight",new ID(e,{order:"right"})),e.commands.add("removeTableRow",new t8(e)),e.commands.add("removeTableColumn",new n8(e)),e.commands.add("splitTableCellVertically",new OD(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new OD(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new l8(e)),e.commands.add("mergeTableCellRight",new R_(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new R_(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new R_(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new R_(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new r8(e)),e.commands.add("setTableRowHeader",new i8(e)),e.commands.add("selectTableRow",new d8(e)),e.commands.add("selectTableColumn",new u8(e)),h8(t),g8(t),this.listenTo(t.document,"change:data",()=>{(function(f,b){const w=f.document.differ;for(const A of w.getChanges()){let E,O=!1;if(A.type=="attribute"){const X=A.range.start.nodeAfter;if(!X||!X.is("element","table")||A.attributeKey!="headingRows"&&A.attributeKey!="headingColumns")continue;E=X,O=A.attributeKey=="headingRows"}else A.name!="tableRow"&&A.name!="tableCell"||(E=A.position.findAncestor("table"),O=A.name=="tableRow");if(!E)continue;const z=E.getAttribute("headingRows")||0,U=E.getAttribute("headingColumns")||0,W=new Xi(E);for(const X of W){const ae=X.row<z||X.column<U?"th":"td",ge=b.mapper.toViewElement(X.cell);ge&&ge.is("element")&&ge.name!=ae&&b.reconvertItem(O?X.cell.parent:X.cell)}}})(t,e.editing),function(f,b){const w=f.document.differ,A=new Set;for(const E of w.getChanges()){const O=E.type=="attribute"?E.range.start.parent:E.position.parent;O.is("element","tableCell")&&A.add(O)}for(const E of A.values()){const O=Array.from(E.getChildren()).filter(z=>_8(z,b.mapper));for(const z of O)b.reconvertItem(z)}}(t,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function KD(r){return e=>{const t=parseInt(e.getAttribute(r));return Number.isNaN(t)||t<=0?null:t}}var QD=h(5032),y8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(QD.A,y8),QD.A.locals;class ZD extends St{constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new fr,this.focusTracker=new mr,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(n,a)=>`${a}  ${n}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:t.to("label")}]}],on:{mousedown:t.to(n=>{n.preventDefault()}),click:t.to(()=>{this.fire("execute")})}}),this.on("boxover",(n,a)=>{const{row:u,column:f}=a.target.dataset;this.items.get(10*(parseInt(u,10)-1)+(parseInt(f,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(n,a,u)=>{if(!u)return;const{row:f,column:b}=u.dataset;this.set({rows:parseInt(f),columns:parseInt(b)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),Hn({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,t=this.columns;this.items.map((n,a)=>{const u=Math.floor(a/10)<e&&a%10<t;n.set("isOn",u)})}_createGridButton(e,t,n,a){const u=new P(e);return u.set({label:a,class:"ck-insert-table-dropdown-grid-box"}),u.extendTemplate({attributes:{"data-row":t,"data-column":n}}),u}_createGridCollection(){const e=[];for(let t=0;t<100;t++){const n=Math.floor(t/10),a=t%10,u=`${n+1}  ${a+1}`;e.push(this._createGridButton(this.locale,n+1,a+1,u))}return this.createCollection(e)}}class x8 extends lt{static get pluginName(){return"TableUI"}init(){const e=this.editor,t=this.editor.t,n=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",a=>{const u=e.commands.get("insertTable"),f=ru(a);let b;return f.bind("isEnabled").to(u),f.buttonView.set({icon:Mn.table,label:t("Insert table"),tooltip:!0}),f.on("change:isOpen",()=>{b||(b=new ZD(a),f.panelView.children.add(b),b.delegate("execute").to(f),f.on("execute",()=>{e.execute("insertTable",{rows:b.rows,columns:b.columns}),e.editing.view.focus()}))}),f}),e.ui.componentFactory.add("menuBar:insertTable",a=>{const u=e.commands.get("insertTable"),f=new $f(a),b=new ZD(a);return b.delegate("execute").to(f),f.on("change:isOpen",(w,A,E)=>{E||b.reset()}),b.on("execute",()=>{e.execute("insertTable",{rows:b.rows,columns:b.columns}),e.editing.view.focus()}),f.buttonView.set({label:t("Table"),icon:Mn.table}),f.panelView.children.add(b),f.bind("isEnabled").to(u),f}),e.ui.componentFactory.add("tableColumn",a=>{const u=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:t("Select column")}}];return this._prepareDropdown(t("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',u,a)}),e.ui.componentFactory.add("tableRow",a=>{const u=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:t("Select row")}}];return this._prepareDropdown(t("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',u,a)}),e.ui.componentFactory.add("mergeTableCells",a=>{const u=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(t("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',u,a)})}_prepareDropdown(e,t,n,a){const u=this.editor,f=ru(a),b=this._fillDropdownWithListOptions(f,n);return f.buttonView.set({label:e,icon:t,tooltip:!0}),f.bind("isEnabled").toMany(b,"isEnabled",(...w)=>w.some(A=>A)),this.listenTo(f,"execute",w=>{u.execute(w.source.commandName),w.source instanceof Ae||u.editing.view.focus()}),f}_prepareMergeSplitButtonDropdown(e,t,n,a){const u=this.editor,f=ru(a,s_),b="mergeTableCells",w=u.commands.get(b),A=this._fillDropdownWithListOptions(f,n);return f.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),f.bind("isEnabled").toMany([w,...A],"isEnabled",(...E)=>E.some(O=>O)),this.listenTo(f.buttonView,"execute",()=>{u.execute(b),u.editing.view.focus()}),this.listenTo(f,"execute",E=>{u.execute(E.source.commandName),u.editing.view.focus()}),f}_fillDropdownWithListOptions(e,t){const n=this.editor,a=[],u=new Po;for(const f of t)C8(f,n,a,u);return j1(e,u),a}}function C8(r,e,t,n){if(r.type==="button"||r.type==="switchbutton"){const a=r.model=new oN(r.model),{commandName:u,bindIsOn:f}=r.model,b=e.commands.get(u);t.push(b),a.set({commandName:u}),a.bind("isEnabled").to(b),f&&a.bind("isOn").to(b,"value"),a.set({withText:!0})}n.add(r)}var XD=h(8423),A8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(XD.A,A8),XD.A.locals;class _m extends lt{static get pluginName(){return"TableSelection"}static get requires(){return[No,No]}init(){const e=this.editor,t=e.model,n=e.editing.view;this.listenTo(t,"deleteContent",(a,u)=>this._handleDeleteContent(a,u),{priority:"high"}),this.listenTo(n.document,"insertText",(a,u)=>this._handleInsertTextEvent(a,u),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(No),t=this.editor.model.document.selection,n=e.getSelectedTableCells(t);return n.length==0?null:n}getSelectionAsFragment(){const e=this.editor.plugins.get(No),t=this.getSelectedTableCells();return t?this.editor.model.change(n=>{const a=n.createDocumentFragment(),{first:u,last:f}=e.getColumnIndexes(t),{first:b,last:w}=e.getRowIndexes(t),A=t[0].findAncestor("table");let E=w,O=f;if(e.isSelectionRectangular(t)){const U={firstColumn:u,lastColumn:f,firstRow:b,lastRow:w};E=VD(A,U),O=HD(A,U)}const z=LD(A,{startRow:b,startColumn:u,endRow:E,endColumn:O},n);return n.insert(z,a,0),a}):null}setCellSelection(e,t){const n=this._getCellsToSelect(e,t);this.editor.model.change(a=>{a.setSelection(n.cells.map(u=>a.createRangeOn(u)),{backward:n.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=Wn(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,t=new Set;e.conversion.for("editingDowncast").add(n=>n.on("selection",(a,u,f)=>{const b=f.writer;(function(E){for(const O of t)E.removeClass("ck-editor__editable_selected",O);t.clear()})(b);const w=this.getSelectedTableCells();if(!w)return;for(const E of w){const O=f.mapper.toViewElement(E);b.addClass("ck-editor__editable_selected",O),t.add(O)}const A=f.mapper.toViewElement(w[w.length-1]);b.setSelection(A,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const t=this.getSelectedTableCells();if(!t)return;e.model.change(n=>{const a=n.createPositionAt(t[0],0),u=e.model.schema.getNearestSelectionRange(a);n.setSelection(u)})}})}_handleDeleteContent(e,t){const n=this.editor.plugins.get(No),a=t[0],u=t[1],f=this.editor.model,b=!u||u.direction=="backward",w=n.getSelectedTableCells(a);w.length&&(e.stop(),f.change(A=>{const E=w[b?w.length-1:0];f.change(z=>{for(const U of w)f.deleteContent(z.createSelection(U,"in"))});const O=f.schema.getNearestSelectionRange(A.createPositionAt(E,0));a.is("documentSelection")?A.setSelection(O):a.setTo(O)}))}_handleInsertTextEvent(e,t){const n=this.editor,a=this.getSelectedTableCells();if(!a)return;const u=n.editing.view,f=n.editing.mapper,b=a.map(w=>u.createRangeOn(f.toViewElement(w)));t.selection=u.createSelection(b)}_getCellsToSelect(e,t){const n=this.editor.plugins.get("TableUtils"),a=n.getCellLocation(e),u=n.getCellLocation(t),f=Math.min(a.row,u.row),b=Math.max(a.row,u.row),w=Math.min(a.column,u.column),A=Math.max(a.column,u.column),E=new Array(b-f+1).fill(null).map(()=>[]),O={startRow:f,endRow:b,startColumn:w,endColumn:A};for(const{row:W,cell:X}of new Xi(e.findAncestor("table"),O))E[W-f].push(X);const z=u.row<a.row,U=u.column<a.column;return z&&E.reverse(),U&&E.forEach(W=>W.reverse()),{cells:E.flat(),backward:z||U}}}class N8 extends lt{static get pluginName(){return"TableClipboard"}static get requires(){return[Ig,Il,_m,No]}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"copy",(n,a)=>this._onCopyCut(n,a)),this.listenTo(t,"cut",(n,a)=>this._onCopyCut(n,a)),this.listenTo(e.model,"insertContent",(n,[a,u])=>this._onInsertContent(n,a,u),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,t){const n=this.editor.editing.view,a=this.editor.plugins.get(_m),u=this.editor.plugins.get(Ig);a.getSelectedTableCells()&&(e.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(t.preventDefault(),e.stop(),this.editor.model.enqueueChange({isUndoable:e.name==="cut"},()=>{const f=u._copySelectedFragmentWithMarkers(e.name,this.editor.model.document.selection,()=>a.getSelectionAsFragment());n.document.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:this.editor.data.toView(f),method:e.name})}))}_onInsertContent(e,t,n){if(n&&!n.is("documentSelection"))return;const a=this.editor.model,u=this.editor.plugins.get(No),f=this.editor.plugins.get(Ig),b=this.getTableIfOnlyTableInContent(t,a);if(!b)return;const w=u.getSelectionAffectedTableCells(a.document.selection);w.length?(e.stop(),t.is("documentFragment")?f._pasteMarkersIntoTransformedElement(t.markers,A=>this._replaceSelectedCells(b,w,A)):this.editor.model.change(A=>{this._replaceSelectedCells(b,w,A)})):$y(b,u)}_replaceSelectedCells(e,t,n){const a=this.editor.plugins.get(No),u={width:a.getColumns(e),height:a.getRows(e)},f=function(O,z,U,W){const X=O[0].findAncestor("table"),ae=W.getColumnIndexes(O),ge=W.getRowIndexes(O),Me={firstColumn:ae.first,lastColumn:ae.last,firstRow:ge.first,lastRow:ge.last},Ze=O.length===1;return Ze&&(Me.lastRow+=z.height-1,Me.lastColumn+=z.width-1,function(pt,Vt,jn,Fn){const or=Fn.getColumns(pt),Hs=Fn.getRows(pt);jn>or&&Fn.insertColumns(pt,{at:or,columns:jn-or}),Vt>Hs&&Fn.insertRows(pt,{at:Hs,rows:Vt-Hs})}(X,Me.lastRow+1,Me.lastColumn+1,W)),Ze||!W.isSelectionRectangular(O)?function(pt,Vt,jn){const{firstRow:Fn,lastRow:or,firstColumn:Hs,lastColumn:g2}=Vt,b2={first:Fn,last:or},k2={first:Hs,last:g2};Gy(pt,Hs,b2,jn),Gy(pt,g2+1,b2,jn),Yy(pt,Fn,k2,jn),Yy(pt,or+1,k2,jn,Fn)}(X,Me,U):(Me.lastRow=VD(X,Me),Me.lastColumn=HD(X,Me)),Me}(t,u,n,a),b=f.lastRow-f.firstRow+1,w=f.lastColumn-f.firstColumn+1;e=LD(e,{startRow:0,startColumn:0,endRow:Math.min(b,u.height)-1,endColumn:Math.min(w,u.width)-1},n);const A=t[0].findAncestor("table"),E=this._replaceSelectedCellsWithPasted(e,u,A,f,n);if(this.editor.plugins.get("TableSelection").isEnabled){const O=a.sortRanges(E.map(z=>n.createRangeOn(z)));n.setSelection(O)}else n.setSelection(E[0],0);return A}_replaceSelectedCellsWithPasted(e,t,n,a,u){const{width:f,height:b}=t,w=function(ae,ge,Me){const Ze=new Array(Me).fill(null).map(()=>new Array(ge).fill(null));for(const{column:pt,row:Vt,cell:jn}of new Xi(ae))Ze[Vt][pt]=jn;return Ze}(e,f,b),A=[...new Xi(n,{startRow:a.firstRow,endRow:a.lastRow,startColumn:a.firstColumn,endColumn:a.lastColumn,includeAllSlots:!0})],E=[];let O;for(const ae of A){const{row:ge,column:Me}=ae;Me===a.firstColumn&&(O=ae.getPositionBefore());const Ze=ge-a.firstRow,pt=Me-a.firstColumn,Vt=w[Ze%b][pt%f],jn=Vt?u.cloneElement(Vt):null,Fn=this._replaceTableSlotCell(ae,jn,O,u);Fn&&(FD(Fn,ge,Me,a.lastRow,a.lastColumn,u),E.push(Fn),O=u.createPositionAfter(Fn))}const z=parseInt(n.getAttribute("headingRows")||"0"),U=parseInt(n.getAttribute("headingColumns")||"0"),W=a.firstRow<z&&z<=a.lastRow,X=a.firstColumn<U&&U<=a.lastColumn;if(W){const ae=Yy(n,z,{first:a.firstColumn,last:a.lastColumn},u,a.firstRow);E.push(...ae)}if(X){const ae=Gy(n,U,{first:a.firstRow,last:a.lastRow},u);E.push(...ae)}return E}_replaceTableSlotCell(e,t,n,a){const{cell:u,isAnchor:f}=e;return f&&a.remove(u),t?(a.insert(t,n),t):null}getTableIfOnlyTableInContent(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const n=t.createRangeIn(e);for(const a of n.getItems())if(a.is("element","table")){const u=t.createRange(n.start,t.createPositionBefore(a));if(t.hasContent(u,{ignoreWhitespaces:!0}))return null;const f=t.createRange(t.createPositionAfter(a),n.end);return t.hasContent(f,{ignoreWhitespaces:!0})?null:a}return null}}function Yy(r,e,t,n,a=0){if(!(e<1))return BD(r,e,a).filter(({column:u,cellWidth:f})=>JD(u,f,t)).map(({cell:u})=>RD(u,e,n))}function Gy(r,e,t,n){if(!(e<1))return PD(r,e).filter(({row:a,cellHeight:u})=>JD(a,u,t)).map(({cell:a,column:u})=>zD(a,u,e,n))}function JD(r,e,t){const n=r+e-1,{first:a,last:u}=t;return r>=a&&r<=u||r<a&&n>=a}class E8 extends lt{static get pluginName(){return"TableKeyboard"}static get requires(){return[_m,No]}init(){const e=this.editor,t=e.editing.view.document,n=e.t;this.listenTo(t,"arrowKey",(...a)=>this._onArrowKey(...a),{context:"table"}),this.listenTo(t,"tab",(...a)=>this._handleTabOnSelectedTable(...a),{context:"figure"}),this.listenTo(t,"tab",(...a)=>this._handleTab(...a),{context:["th","td"]}),e.accessibility.addKeystrokeInfoGroup({id:"table",label:n("Keystrokes that can be used in a table cell"),keystrokes:[{label:n("Move the selection to the next cell"),keystroke:"Tab"},{label:n("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:n("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:n("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(e,t){const n=this.editor,a=n.model.document.selection.getSelectedElement();a&&a.is("element","table")&&(t.preventDefault(),t.stopPropagation(),e.stop(),n.model.change(u=>{u.setSelection(u.createRangeIn(a.getChild(0).getChild(0)))}))}_handleTab(e,t){const n=this.editor,a=this.editor.plugins.get(No),u=this.editor.plugins.get("TableSelection"),f=n.model.document.selection,b=!t.shiftKey;let w=a.getTableCellsContainingSelection(f)[0];if(w||(w=u.getFocusCell()),!w)return;t.preventDefault(),t.stopPropagation(),e.stop();const A=w.parent,E=A.parent,O=E.getChildIndex(A),z=A.getChildIndex(w),U=z===0;if(!b&&U&&O===0)return void n.model.change(ge=>{ge.setSelection(ge.createRangeOn(E))});const W=z===A.childCount-1,X=O===a.getRows(E)-1;if(b&&X&&W&&(n.execute("insertTableRowBelow"),O===a.getRows(E)-1))return void n.model.change(ge=>{ge.setSelection(ge.createRangeOn(E))});let ae;if(b&&W)ae=E.getChild(O+1).getChild(0);else if(!b&&U){const ge=E.getChild(O-1);ae=ge.getChild(ge.childCount-1)}else ae=A.getChild(z+(b?1:-1));n.model.change(ge=>{ge.setSelection(ge.createRangeIn(ae))})}_onArrowKey(e,t){const n=this.editor,a=kn(t.keyCode,n.locale.contentLanguageDirection);this._handleArrowKeys(a,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}_handleArrowKeys(e,t){const n=this.editor.plugins.get(No),a=this.editor.plugins.get("TableSelection"),u=this.editor.model,f=u.document.selection,b=["right","down"].includes(e),w=n.getSelectedTableCells(f);if(w.length){let E;return E=t?a.getFocusCell():b?w[w.length-1]:w[0],this._navigateFromCellInDirection(E,e,t),!0}const A=f.focus.findAncestor("tableCell");if(!A)return!1;if(!f.isCollapsed)if(t){if(f.isBackward==b&&!f.containsEntireContent(A))return!1}else{const E=f.getSelectedElement();if(!E||!u.schema.isObject(E))return!1}return!!this._isSelectionAtCellEdge(f,A,b)&&(this._navigateFromCellInDirection(A,e,t),!0)}_isSelectionAtCellEdge(e,t,n){const a=this.editor.model,u=this.editor.model.schema,f=n?e.getLastPosition():e.getFirstPosition();if(!u.getLimitElement(f).is("element","tableCell"))return a.createPositionAt(t,n?"end":0).isTouching(f);const b=a.createSelection(f);return a.modifySelection(b,{direction:n?"forward":"backward"}),f.isEqual(b.focus)}_navigateFromCellInDirection(e,t,n=!1){const a=this.editor.model,u=e.findAncestor("table"),f=[...new Xi(u,{includeAllSlots:!0})],{row:b,column:w}=f[f.length-1],A=f.find(({cell:X})=>X==e);let{row:E,column:O}=A;switch(t){case"left":O--;break;case"up":E--;break;case"right":O+=A.cellWidth;break;case"down":E+=A.cellHeight}if(E<0||E>b||O<0&&E<=0||O>w&&E>=b)return void a.change(X=>{X.setSelection(X.createRangeOn(u))});O<0?(O=n?0:w,E--):O>w&&(O=n?w:0,E++);const z=f.find(X=>X.row==E&&X.column==O).cell,U=["right","down"].includes(t),W=this.editor.plugins.get("TableSelection");if(n&&W.isEnabled){const X=W.getAnchorCell()||e;W.setCellSelection(X,z)}else{const X=a.createPositionAt(z,U?0:"end");a.change(ae=>{ae.setSelection(X)})}}}class S8 extends Nl{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class j8 extends lt{static get pluginName(){return"TableMouse"}static get requires(){return[_m,No]}init(){this.editor.editing.view.addObserver(S8),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,t=e.plugins.get(No);let n=!1;const a=e.plugins.get(_m);this.listenTo(e.editing.view.document,"mousedown",(u,f)=>{const b=e.model.document.selection;if(!this.isEnabled||!a.isEnabled||!f.domEvent.shiftKey)return;const w=a.getAnchorCell()||t.getTableCellsContainingSelection(b)[0];if(!w)return;const A=this._getModelTableCellFromDomEvent(f);A&&e2(w,A)&&(n=!0,a.setCellSelection(w,A),f.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{n=!1}),this.listenTo(e.editing.view.document,"selectionChange",u=>{n&&u.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let t,n,a=!1,u=!1;const f=e.plugins.get(_m);this.listenTo(e.editing.view.document,"mousedown",(b,w)=>{this.isEnabled&&f.isEnabled&&(w.domEvent.shiftKey||w.domEvent.ctrlKey||w.domEvent.altKey||(t=this._getModelTableCellFromDomEvent(w)))}),this.listenTo(e.editing.view.document,"mousemove",(b,w)=>{if(!w.domEvent.buttons||!t)return;const A=this._getModelTableCellFromDomEvent(w);A&&e2(t,A)&&(n=A,a||n==t||(a=!0)),a&&(u=!0,f.setCellSelection(t,n),w.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{a=!1,u=!1,t=null,n=null}),this.listenTo(e.editing.view.document,"selectionChange",b=>{u&&b.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const t=e.target,n=this.editor.editing.view.createPositionAt(t,0);return this.editor.editing.mapper.toModelPosition(n).parent.findAncestor("tableCell",{includeSelf:!0})}}function e2(r,e){return r.parent.parent==e.parent.parent}var t2=h(2329),D8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(t2.A,D8),t2.A.locals;function T8(r){const e=r.getSelectedElement();return e&&n2(e)?e:null}function M8(r){const e=r.getFirstPosition();if(!e)return null;let t=e.parent;for(;t;){if(t.is("element")&&n2(t))return t;t=t.parent}return null}function n2(r){return!!r.getCustomProperty("table")&&ss(r)}var i2=h(5506),I8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(i2.A,I8),i2.A.locals;var r2=h(2655),O8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(r2.A,O8),r2.A.locals;var s2=h(4043),L8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(s2.A,L8),s2.A.locals;var o2=h(1623),B8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(o2.A,B8),o2.A.locals;var a2=h(8986),R8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(a2.A,R8),a2.A.locals;const vm=Ma.defaultPositions;vm.northArrowSouth,vm.northArrowSouthWest,vm.northArrowSouthEast,vm.southArrowNorth,vm.southArrowNorthWest,vm.southArrowNorthEast,vm.viewportStickyNorth;var l2=h(5562),P8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(l2.A,P8),l2.A.locals;var c2=h(4143),z8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(c2.A,z8),c2.A.locals;var d2=h(8795),F8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(d2.A,F8),d2.A.locals;var V8=Object.defineProperty,u2=Object.getOwnPropertySymbols,H8=Object.prototype.hasOwnProperty,U8=Object.prototype.propertyIsEnumerable,h2=(r,e,t)=>e in r?V8(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,m2=(r,e)=>{for(var t in e||(e={}))H8.call(e,t)&&h2(r,t,e[t]);if(u2)for(var t of u2(e))U8.call(e,t)&&h2(r,t,e[t]);return r};const $8={autoRefresh:!0},f2=36e5;class Ky extends Oe(){constructor(e,t={}){if(super(),!e)throw new q("token-missing-token-url",this);t.initValue&&this._validateTokenValue(t.initValue),this.set("value",t.initValue),this._refresh=typeof e=="function"?e:()=>{return n=e,new Promise((a,u)=>{const f=new XMLHttpRequest;f.open("GET",n),f.addEventListener("load",()=>{const b=f.status,w=f.response;return b<200||b>299?u(new q("token-cannot-download-new-token",null)):a(w)}),f.addEventListener("error",()=>u(new Error("Network Error"))),f.addEventListener("abort",()=>u(new Error("Abort"))),f.send()});var n},this._options=m2(m2({},$8),t)}init(){return new Promise((e,t)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(t)})}refreshToken(){return this._refresh().then(e=>(this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const t=typeof e=="string",n=!/^".*"$/.test(e),a=t&&e.split(".").length===3;if(!n||!a)throw new q("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:t}=JSON.parse(atob(e));return t?Math.floor((1e3*t-Date.now())/2):f2}catch{return f2}}static create(e,t={}){return new Ky(e,t).init()}}const Qy=/^data:(\S*?);base64,/;class q8 extends he(){constructor(e,t,n){if(super(),!e)throw new q("fileuploader-missing-file",null);if(!t)throw new q("fileuploader-missing-token",null);if(!n)throw new q("fileuploader-missing-api-address",null);this.file=function(a){if(typeof a!="string")return!1;const u=a.match(Qy);return!(!u||!u.length)}(e)?function(a,u=512){try{const f=a.match(Qy)[1],b=atob(a.replace(Qy,"")),w=[];for(let A=0;A<b.length;A+=u){const E=b.slice(A,A+u),O=new Array(E.length);for(let z=0;z<E.length;z++)O[z]=E.charCodeAt(z);w.push(new Uint8Array(O))}return new Blob(w,{type:f})}catch{throw new q("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=t,this._apiAddress=n}onProgress(e){return this.on("progress",(t,n)=>e(n)),this}onError(e){return this.once("error",(t,n)=>e(n)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,t=n=>()=>this.fire("error",n);e.addEventListener("error",t("Network Error")),e.addEventListener("abort",t("Abort")),e.upload&&e.upload.addEventListener("progress",n=>{n.lengthComputable&&this.fire("progress",{total:n.total,uploaded:n.loaded})}),e.addEventListener("load",()=>{const n=e.status,a=e.response;if(n<200||n>299)return this.fire("error",a.message||a.error)})}_sendRequest(){const e=new FormData,t=this.xhr;return e.append("file",this.file),new Promise((n,a)=>{t.addEventListener("load",()=>{const u=t.status,f=t.response;return u<200||u>299?f.message?a(new q("fileuploader-uploading-data-failed",this,{message:f.message})):a(f.error):n(f)}),t.addEventListener("error",()=>a(new Error("Network Error"))),t.addEventListener("abort",()=>a(new Error("Abort"))),t.send(e)})}}class W8{constructor(e,t){if(!e)throw new q("uploadgateway-missing-token",null);if(!t)throw new q("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=t}upload(e){return new q8(e,this._token,this._apiAddress)}}class Y8 extends Tr{static get pluginName(){return"CloudServicesCore"}createToken(e,t){return new Ky(e,t)}createUploadGateway(e,t){return new W8(e,t)}}var p2=(r,e,t)=>new Promise((n,a)=>{var u=w=>{try{b(t.next(w))}catch(A){a(A)}},f=w=>{try{b(t.throw(w))}catch(A){a(A)}},b=w=>w.done?n(w.value):Promise.resolve(w.value).then(u,f);b((t=t.apply(r,e)).next())});class Zy extends f_{}Zy.builtinPlugins=[class extends lt{static get requires(){return[zf,RE,k_,m4,RP,jP,HE]}static get pluginName(){return"Essentials"}},class extends lt{static get requires(){return[kc]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const r=this.editor.config.get("ckfinder.uploadUrl");r&&(this.editor.plugins.get(kc).createUploadAdapter=e=>new A4(e,r,this.editor.t))}},class extends lt{static get requires(){return[ou]}static get pluginName(){return"Autoformat"}afterInit(){const r=this.editor,e=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),r.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const r=this.editor.commands;r.get("bulletedList")&&dh(this.editor,this,/^[*-]\s$/,"bulletedList"),r.get("numberedList")&&dh(this.editor,this,/^1[.|)]\s$/,"numberedList"),r.get("todoList")&&dh(this.editor,this,/^\[\s?\]\s$/,"todoList"),r.get("checkTodoList")&&dh(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const r=this.editor.commands;if(r.get("bold")){const e=x_(this.editor,"bold");Yf(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),Yf(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(r.get("italic")){const e=x_(this.editor,"italic");Yf(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),Yf(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(r.get("code")){const e=x_(this.editor,"code");Yf(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(r.get("strikethrough")){const e=x_(this.editor,"strikethrough");Yf(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const r=this.editor.commands.get("heading");r&&r.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const t=e[7],n=new RegExp(`^(#{${t}})\\s$`);dh(this.editor,this,n,()=>{if(!r.isEnabled||r.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&dh(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const r=this.editor,e=r.model.document.selection;r.commands.get("codeBlock")&&dh(r,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&dh(this.editor,this,/^---$/,"horizontalLine")}},class extends lt{static get requires(){return[N4,E4]}static get pluginName(){return"Bold"}},class extends lt{static get requires(){return[j4,D4]}static get pluginName(){return"Italic"}},class extends lt{static get requires(){return[M4,O4]}static get pluginName(){return"BlockQuote"}},class extends lt{static get pluginName(){return"CKBox"}static get requires(){return[lS,L4]}},class extends lt{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",oz,rz]}},class extends Tr{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[Y8]}init(){return p2(this,null,function*(){const r=this.context.config.get("cloudServices")||{};for(const[t,n]of Object.entries(r))this[t]=n;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore");this.token=yield e.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(r){return p2(this,null,function*(){if(this._tokens.has(r))return this.getTokenFor(r);const e=this.context.plugins.get("CloudServicesCore"),t=yield e.createToken(r).init();return this._tokens.set(r,t),t})}getTokenFor(r){const e=this._tokens.get(r);if(!e)throw new q("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const r of this._tokens.values())r.destroy()}},class extends lt{static get pluginName(){return"EasyImage"}static get requires(){return[az,"ImageUpload"]}init(){const r=this.editor;r.plugins.has("ImageBlockEditing")||r.plugins.has("ImageInlineEditing")||de("easy-image-image-feature-missing",r)}},class extends lt{static get requires(){return[hz,fz]}static get pluginName(){return"Heading"}},class extends lt{static get requires(){return[Lz,Rz]}static get pluginName(){return"Image"}},class extends lt{static get requires(){return[zz,Fz]}static get pluginName(){return"ImageCaption"}},class extends lt{static get requires(){return[fj,dF]}static get pluginName(){return"ImageStyle"}},class extends lt{static get requires(){return[v_,Oa]}static get pluginName(){return"ImageToolbar"}afterInit(){const r=this.editor,e=r.t,t=r.plugins.get(v_),n=r.plugins.get("ImageUtils");var a;t.register("image",{ariaLabel:e("Image toolbar"),items:(a=r.config.get("image.toolbar")||[],a.map(u=>fe(u)?u.name:u)),getRelatedElement:u=>n.getClosestSelectedImageWidget(u)})}},class extends lt{static get pluginName(){return"ImageUpload"}static get requires(){return[eF,Uz,Yz]}},class extends lt{static get pluginName(){return"Indent"}static get requires(){return[uF,hF]}},class extends lt{static get requires(){return[Lj,VF,HF]}static get pluginName(){return"Link"}},h6,class extends lt{static get requires(){return[B_,C6,w6,Rg]}static get pluginName(){return"MediaEmbed"}},yy,class extends lt{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Il]}init(){const r=this.editor,e=r.plugins.get("ClipboardPipeline"),t=r.editing.view.document,n=[],a=this.editor.plugins.has("MultiLevelList");n.push(new q6(t,a)),n.push(new Y6(t)),n.push(new K6(t)),e.on("inputTransformation",(u,f)=>{if(f._isTransformedWithPasteFromOffice||r.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const b=f.dataTransfer.getData("text/html"),w=n.find(A=>A.isActive(b));w&&(f._parsedData||(f._parsedData=Q6(b,t.stylesProcessor)),w.execute(f),f._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends lt{static get requires(){return[Cy,Oa]}static get pluginName(){return"PictureEditing"}afterInit(){const r=this.editor;r.plugins.has("ImageBlockEditing")&&r.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),r.plugins.has("ImageInlineEditing")&&r.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const r=this.editor,e=r.conversion,t=r.plugins.get("ImageUtils");e.for("upcast").add(function(n){const a=["srcset","media","type","sizes"],u=(f,b,w)=>{const A=b.viewItem;if(!w.consumable.test(A,{name:!0}))return;const E=new Map;for(const U of A.getChildren())if(U.is("element","source")){const W={};for(const X of a)U.hasAttribute(X)&&w.consumable.test(U,{attributes:X})&&(W[X]=U.getAttribute(X));Object.keys(W).length&&E.set(U,W)}const O=n.findViewImgElement(A);if(!O)return;let z=b.modelCursor.parent;if(!z.is("element","imageBlock")){const U=w.convertItem(O,b.modelCursor);b.modelRange=U.modelRange,b.modelCursor=U.modelCursor,z=Wn(U.modelRange.getItems())}w.consumable.consume(A,{name:!0});for(const[U,W]of E)w.consumable.consume(U,{attributes:Object.keys(W)});E.size&&w.writer.setAttribute("sources",Array.from(E.values()),z),w.convertChildren(A,z)};return f=>{f.on("element:picture",u)}}(t)),e.for("downcast").add(function(n){const a=(u,f,b)=>{if(!b.consumable.consume(f.item,u.name))return;const w=b.writer,A=b.mapper.toViewElement(f.item),E=n.findViewImgElement(A),O=f.attributeNewValue;if(O&&O.length){const z=w.createContainerElement("picture",null,O.map(X=>w.createEmptyElement("source",X))),U=[];let W=E.parent;for(;W&&W.is("attributeElement");){const X=W.parent;w.unwrap(w.createRangeOn(E),W),U.unshift(W),W=X}w.insert(w.createPositionBefore(E),z),w.move(w.createRangeOn(E),w.createPositionAt(z,"end"));for(const X of U)w.wrap(w.createRangeOn(z),X)}else if(E.parent.is("element","picture")){const z=E.parent;w.move(w.createRangeOn(E),w.createPositionBefore(z)),w.remove(z)}};return u=>{u.on("attribute:sources:imageBlock",a),u.on("attribute:sources:imageInline",a)}}(t))}_setupImageUploadEditingIntegration(){const r=this.editor;if(!r.plugins.has("ImageUploadEditing"))return;const e=r.plugins.get("ImageUploadEditing");this.listenTo(e,"uploadComplete",(t,{imageElement:n,data:a})=>{const u=a.sources;u&&r.model.change(f=>{f.setAttributes({sources:u},n)})})}},class extends lt{static get requires(){return[w8,x8,_m,j8,E8,N8,Rg]}static get pluginName(){return"Table"}},class extends lt{static get requires(){return[v_]}static get pluginName(){return"TableToolbar"}afterInit(){const r=this.editor,e=r.t,t=r.plugins.get(v_),n=r.config.get("table.contentToolbar"),a=r.config.get("table.tableToolbar");n&&t.register("tableContent",{ariaLabel:e("Table toolbar"),items:n,getRelatedElement:M8}),a&&t.register("table",{ariaLabel:e("Table toolbar"),items:a,getRelatedElement:T8})}},class extends lt{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(r){super(r),r.config.define("typing",{transformations:{include:DP}})}init(){const r=this.editor.model.document.selection;r.on("change:range",()=>{this.isEnabled=!r.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const r=this.editor,e=r.model,t=r.plugins.get("Delete"),n=function(u){const f=u.extra||[],b=u.remove||[],w=A=>!b.includes(A);return function(A){const E=new Set;for(const O of A)if(typeof O=="string"&&cE[O])for(const z of cE[O])E.add(z);else E.add(O);return Array.from(E)}(u.include.concat(f).filter(w)).filter(w).map(A=>typeof A=="string"&&lE[A]?lE[A]:A).filter(A=>typeof A=="object").map(A=>({from:TP(A.from),to:MP(A.to)}))}(r.config.get("typing.transformations")),a=new sE(r.model,u=>{for(const f of n)if(f.from.test(u))return{normalizedTransformation:f}});a.on("matched:data",(u,f)=>{if(!f.batch.isTyping)return;const{from:b,to:w}=f.normalizedTransformation,A=b.exec(f.text),E=w(A.slice(1)),O=f.range;let z=A.index;e.enqueueChange(U=>{for(let W=1;W<A.length;W++){const X=A[W],ae=E[W-1];if(ae==null){z+=X.length;continue}const ge=O.start.getShiftedBy(z),Me=e.createRange(ge,ge.getShiftedBy(X.length)),Ze=IP(ge);e.insertContent(U.createText(ae,Ze),Me),z+=ae.length}e.enqueueChange(()=>{t.requestUndoOnBackspace()})})}),a.bind("isEnabled").to(this)}}],Zy.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),g=g.default})())}(db,db.exports)),db.exports}var DX=jX();const TX=Vm(DX);function yw({value:l,onChange:c,placeholder:s}){return i.jsx(tB,{editor:TX,data:l,config:{placeholder:s||"Nhp ni dung..."},onChange:(o,h)=>{const g=h.getData();c(g)}})}const Bl="https://walkingguide.onrender.com";function MX(){const{user:l}=I.useContext(ls),[c,s]=I.useState([]),[o,h]=I.useState(""),[g,_]=I.useState(""),[y,v]=I.useState(null),[N,S]=I.useState(null),[D,j]=I.useState(""),[B,F]=I.useState(!1),[H,$]=I.useState(""),[K,Q]=I.useState(!1),[ee,ne]=I.useState(null),[le,se]=I.useState([]),[q,de]=I.useState(null),[re,be]=I.useState(!1),[ke,Ne]=I.useState(null),[De,_e]=I.useState(""),[je,oe]=I.useState(null);I.useEffect(()=>{ve(),he()},[]);const ve=async()=>{const Le=await kt.get(`${Bl}/api/articles`);s(Le.data)},he=async()=>{try{console.log("Admin fetching reports with token:",l==null?void 0:l.token);const Le=await kt.get(`${Bl}/api/article-reports`,{headers:{Authorization:`Bearer ${l==null?void 0:l.token}`}});se(Le.data)}catch{se([])}},Ee=async()=>{if(!l||!l.id){$("Bn cn ng nhp  to bi vit."),F(!0);return}let Le="";if(y){const st=new FormData;st.append("file",y),Le=(await kt.post(`${Bl}/api/upload`,st,{headers:{"Content-Type":"multipart/form-data"}})).data.url}await kt.post(`${Bl}/api/articles`,{title:o,content:g,image_url:Le,admin_id:l.id}),ve(),qe()},Z=Le=>{S(Le.article_id),h(Le.title),_(Le.content),j(Le.image_url),v(null),window.scrollTo({top:0,behavior:"smooth"})},pe=async()=>{let Le=D;if(y){const st=new FormData;st.append("file",y),Le=(await kt.post(`${Bl}/api/upload`,st,{headers:{"Content-Type":"multipart/form-data"}})).data.url}await kt.put(`${Bl}/api/articles/${N}`,{title:o,content:g,image_url:Le}),ve(),S(null),qe()},xe=async Le=>{ne(Le),Q(!0)},Se=async()=>{if(ee)try{await kt.delete(`${Bl}/api/articles/${ee}`),ve(),Q(!1),ne(null)}catch(Le){console.error("Error deleting article:",Le)}},Fe=()=>{Q(!1),ne(null)},tt=async(Le,st)=>{try{console.log("Admin updating report with token:",l==null?void 0:l.token,"role:",l==null?void 0:l.role),await kt.patch(`${Bl}/api/article-reports/${Le}`,{status:st},{headers:{Authorization:`Bearer ${l==null?void 0:l.token}`}}),de("success"),he()}catch{de("error")}},fe=async Le=>{if(window.confirm("Bn c chc chn mun xa bi vit ny? Hnh ng ny khng th hon tc."))try{await kt.delete(`${Bl}/api/articles/${Le}`,{headers:{Authorization:`Bearer ${l==null?void 0:l.token}`}}),ve(),he(),de("success")}catch{de("error")}},me=Le=>{Ne(Le),_e(""),oe(null),be(!0)},Ie=async()=>{if(ke)try{const Le=le.find(Ye=>c.find(Oe=>Oe.article_id===Ye.article_id&&Oe.admin_id===ke)),st=Le?Le.article_id:null;await kt.post(`${Bl}/api/notifications`,{user_id:ke,content:De||"Bi vit ca bn  b bo co. Vui lng kim tra li ni dung.",type:"warning",article_id:st},{headers:{Authorization:`Bearer ${l==null?void 0:l.token}`}}),oe("success"),setTimeout(()=>be(!1),1200)}catch{oe("error")}},qe=()=>{h(""),_(""),v(null),j("")};return i.jsxs("div",{className:"admin-layout",children:[i.jsx(wd,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(yd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[B&&i.jsxs("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-circle-fill me-2"}),H,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>F(!1)})]}),i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:N?"Chnh sa Bi vit":"To Bi vit Mi"})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tiu  *"}),i.jsx("input",{type:"text",className:"form-control",value:o,onChange:Le=>h(Le.target.value),placeholder:"Nhp tiu  bi vit"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Ni dung"}),i.jsx(yw,{value:g,onChange:_,placeholder:"Nhp ni dung bi vit"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Hnh nh"}),i.jsx("input",{type:"file",accept:"image/*",onChange:Le=>v(Le.target.files[0]),className:"form-control"}),D&&!y&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:D.startsWith("http")?D:`${Bl}${D}`,alt:"nh hin ti",style:{maxWidth:"200px",maxHeight:"150px",objectFit:"cover",borderRadius:"8px",border:"1px solid #ddd"}})})]}),i.jsx("div",{className:"d-flex gap-2",children:N?i.jsxs(i.Fragment,{children:[i.jsx(Ht,{variant:"primary",className:"admin-main-btn",onClick:pe,children:"Cp nht Bi vit"}),i.jsx(Ht,{variant:"secondary",onClick:()=>{S(null),qe()},children:"Hy"})]}):i.jsx(Ht,{variant:"primary",className:"admin-main-btn",onClick:Ee,children:"To Bi vit"})})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Tt c Bi vit"})}),i.jsx("div",{className:"card-body",children:i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-striped",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Tiu "}),i.jsx("th",{children:"Ni dung"}),i.jsx("th",{children:"Hnh nh"}),i.jsx("th",{children:"Thao tc"})]})}),i.jsx("tbody",{children:c.map(Le=>i.jsxs("tr",{children:[i.jsx("td",{children:Le.article_id}),i.jsx("td",{children:Le.title}),i.jsx("td",{children:i.jsx("div",{style:{maxHeight:"60px",overflow:"hidden",fontSize:"0.9rem"},dangerouslySetInnerHTML:{__html:Le.content?Le.content.length>60?Le.content.substring(0,60)+"...":Le.content:""}})}),i.jsx("td",{children:Le.image_url?i.jsx("img",{src:Le.image_url.startsWith("http")?Le.image_url:`${Bl}${Le.image_url}`,alt:"nh bi vit",style:{width:"80px",height:"60px",objectFit:"cover",borderRadius:"4px"}}):i.jsx("div",{style:{width:"80px",height:"60px",backgroundColor:"#e9ecef",display:"flex",alignItems:"center",justifyContent:"center",color:"#6c757d",borderRadius:"4px"},children:i.jsx("i",{className:"bi bi-image"})})}),i.jsx("td",{children:i.jsxs("div",{className:"btn-group",role:"group",children:[i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>Z(Le),children:"Sa"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>xe(Le.article_id),children:"Xa"})]})})]},Le.article_id))})]})})})]}),i.jsxs("div",{className:"card mt-5",children:[i.jsxs("div",{className:"card-header bg-danger text-white d-flex align-items-center",style:{borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem"},children:[i.jsx("i",{className:"bi bi-flag-fill me-2",style:{fontSize:22}}),i.jsx("h5",{className:"mb-0",children:"Bo co bi vit"})]}),i.jsxs("div",{className:"card-body bg-light",style:{borderBottomLeftRadius:"1rem",borderBottomRightRadius:"1rem"},children:[q==="success"&&i.jsx("div",{className:"alert alert-success",children:"Cp nht trng thi thnh cng!"}),q==="error"&&i.jsx("div",{className:"alert alert-danger",children:"C li khi cp nht trng thi."}),i.jsxs("div",{className:"row mb-4 g-4",children:[le.filter(Le=>Le.status==="pending").filter(Le=>c.some(st=>st.article_id===Le.article_id)).map(Le=>{const st=c.find(Ye=>Ye.article_id===Le.article_id);return i.jsx("div",{className:"col-md-6 col-lg-4",children:i.jsx("div",{className:"card h-100 shadow border-0 report-card position-relative",style:{borderRadius:"1rem",transition:"box-shadow 0.2s",background:"#fff"},children:i.jsxs("div",{className:"card-body p-4",children:[i.jsxs("div",{className:"d-flex align-items-center mb-2",children:[i.jsx("i",{className:"bi bi-flag text-danger me-2",style:{fontSize:20}}),i.jsxs("h6",{className:"card-title mb-0",children:["Bo co #",Le.id]}),i.jsx("span",{className:"badge bg-warning text-dark ms-2",style:{fontSize:"0.95em"},children:Le.status})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Bi vit:"})," ",i.jsx("a",{href:`/articles/${Le.article_id}`,target:"_blank",rel:"noopener noreferrer",className:"text-decoration-underline fw-semibold",children:(st==null?void 0:st.title)||"Khng tm thy"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Ngi bo co:"})," ",i.jsxs("span",{className:"badge bg-secondary",children:["User #",Le.user_id]})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Loi bo co:"})," ",i.jsx("span",{className:"badge bg-info text-dark text-capitalize",children:Le.type||"Khng r"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"L do:"})," ",i.jsx("span",{className:"fst-italic",children:Le.reason})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("b",{children:"Ngy to:"})," ",new Date(Le.created_at).toLocaleString()]}),i.jsxs("div",{className:"d-flex gap-2 mt-3 flex-wrap",children:[i.jsxs("button",{className:"btn btn-success btn-sm px-3",onClick:()=>tt(Le.id,"resolved"),title:"nh du  x l",children:[i.jsx("i",{className:"bi bi-check-circle me-1"})," x l"]}),i.jsxs("button",{className:"btn btn-secondary btn-sm px-3",onClick:()=>tt(Le.id,"dismissed"),title:"B qua bo co",children:[i.jsx("i",{className:"bi bi-x-circle me-1"}),"B qua"]}),i.jsxs("button",{className:"btn btn-danger btn-sm px-3",onClick:()=>fe(Le.article_id),title:"Xa bi vit ny",children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xa bi vit"]}),(st==null?void 0:st.admin_id)&&i.jsxs("button",{className:"btn btn-warning btn-sm px-3 text-white",style:{background:"#ffc107",border:"none"},onClick:()=>me(st.admin_id),title:"Cnh bo tc gi",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-1"}),"Cnh bo tc gi"]})]})]})})},Le.id)}),le.filter(Le=>Le.status==="pending").filter(Le=>c.some(st=>st.article_id===Le.article_id)).length===0&&i.jsx("div",{className:"col-12 text-center text-muted",children:"Khng c bo co no."})]}),i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-bordered",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Bi vit"}),i.jsx("th",{children:"Ngi bo co"}),i.jsx("th",{children:"L do"}),i.jsx("th",{children:"Trng thi"}),i.jsx("th",{children:"Ngy to"}),i.jsx("th",{children:"Hnh ng"})]})}),i.jsxs("tbody",{children:[le.filter(Le=>Le.status==="pending").filter(Le=>c.some(st=>st.article_id===Le.article_id)).length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:"7",className:"text-center",children:"Khng c bo co no."})}),le.filter(Le=>Le.status==="pending").filter(Le=>c.some(st=>st.article_id===Le.article_id)).map(Le=>i.jsxs("tr",{children:[i.jsx("td",{children:Le.id}),i.jsx("td",{children:i.jsx("a",{href:`/articles/${Le.article_id}`,target:"_blank",rel:"noopener noreferrer",children:"Xem bi vit"})}),i.jsx("td",{children:Le.user_id}),i.jsx("td",{children:Le.reason}),i.jsx("td",{children:Le.status}),i.jsx("td",{children:new Date(Le.created_at).toLocaleString()}),i.jsxs("td",{children:[i.jsx("button",{className:"btn btn-success btn-sm me-2",onClick:()=>tt(Le.id,"resolved"),children:" x l"}),i.jsx("button",{className:"btn btn-secondary btn-sm me-2",onClick:()=>tt(Le.id,"dismissed"),children:"B qua"}),i.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>fe(Le.article_id),children:"Xa bi vit"})]})]},Le.id))]})]})})]})]})]})})]}),i.jsxs(yt,{show:K,onHide:Fe,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Xc nhn xa"})}),i.jsx(yt.Body,{children:"Bn c chc chn mun xa bi vit ny? Hnh ng ny khng th hon tc."}),i.jsxs(yt.Footer,{children:[i.jsx(Ht,{variant:"secondary",onClick:Fe,children:"Hy"}),i.jsx(Ht,{variant:"danger",className:"admin-btn-danger",onClick:Se,children:"Xa"})]})]}),i.jsxs(yt,{show:re,onHide:()=>be(!1),centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Gi cnh bo ti tc gi"})}),i.jsxs(yt.Body,{children:[je==="success"&&i.jsx("div",{className:"alert alert-success",children:" gi cnh bo thnh cng!"}),je==="error"&&i.jsx("div",{className:"alert alert-danger",children:"C li khi gi cnh bo."}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Ni dung cnh bo"}),i.jsx("textarea",{className:"form-control",value:De,onChange:Le=>_e(Le.target.value),placeholder:"Nhp ni dung cnh bo gi ti tc gi...",rows:3})]})]}),i.jsxs(yt.Footer,{children:[i.jsx(Ht,{variant:"secondary",onClick:()=>be(!1),children:"Hy"}),i.jsx(Ht,{variant:"warning",className:"text-white",onClick:Ie,children:"Gi cnh bo"})]})]})]})}function IX(){const[l,c]=I.useState([]),[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(null),[v,N]=I.useState(""),[S,D]=I.useState("USER"),[j,B]=I.useState(""),[F,H]=I.useState(null),[$,K]=I.useState(!1),[Q,ee]=I.useState(!1),[ne,le]=I.useState(""),[se,q]=I.useState("danger"),[de,re]=I.useState(!1),[be,ke]=I.useState(null);I.useEffect(()=>{De()},[]);const Ne="https://walkingguide.onrender.com",De=async()=>{const Se=await kt.get(`${Ne}/api/users`);c(Se.data)},_e=Se=>{const Fe=Se.target.files[0];if(Fe){y(Fe);const tt=new FileReader;tt.onload=fe=>N(fe.target.result),tt.readAsDataURL(Fe)}},je=async Se=>{const Fe=new FormData;return Fe.append("file",Se),(await kt.post(`${Ne}/api/upload`,Fe,{headers:{"Content-Type":"multipart/form-data"}})).data.url},oe=async()=>{K(!0);try{let Se="";_&&(Se=await je(_)),await kt.post(`${Ne}/api/users`,{full_name:s,email:h,image_url:Se,password:j,role:S}),De(),xe()}catch(Se){console.error("Error creating user:",Se),le("C li xy ra khi to ngi dng"),q("danger"),ee(!0)}finally{K(!1)}},ve=Se=>{H(Se.id),o(Se.full_name),g(Se.email),y(null),N(Se.image_url||""),D(Se.role),B(Se.password_hash),window.scrollTo({top:0,behavior:"smooth"})},he=async()=>{K(!0);try{let Se=v;_&&(Se=await je(_)),await kt.put(`${Ne}/api/users/${F}`,{full_name:s,email:h,image_url:Se,password_hash:j||void 0,role:S}),De(),H(null),xe()}catch(Se){console.error("Error updating user:",Se),le("C li xy ra khi cp nht ngi dng"),q("danger"),ee(!0)}finally{K(!1)}},Ee=async Se=>{ke(Se),re(!0)},Z=async()=>{if(be)try{await kt.delete(`${Ne}/api/users/${be}`),De(),re(!1),ke(null)}catch(Se){console.error("Error deleting user:",Se),le("C li xy ra khi xa ngi dng"),q("danger"),ee(!0)}},pe=()=>{re(!1),ke(null)},xe=()=>{H(null),o(""),g(""),y(null),N(""),B(""),D("USER")};return i.jsxs("div",{className:"admin-layout",children:[i.jsx(wd,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(yd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[Q&&i.jsxs("div",{className:`alert alert-${se} alert-dismissible fade show`,role:"alert",children:[i.jsx("i",{className:`bi ${se==="danger"?"bi-exclamation-triangle-fill":"bi-exclamation-circle-fill"} me-2`}),ne,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>ee(!1)})]}),i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:F?"Chnh sa Ngi dng":"To Ngi dng Mi"})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"H v tn *"}),i.jsx("input",{type:"text",className:"form-control",value:s,onChange:Se=>o(Se.target.value),placeholder:"Nhp h v tn"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Email *"}),i.jsx("input",{type:"email",className:"form-control",value:h,onChange:Se=>g(Se.target.value),placeholder:"Nhp email"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("label",{className:"form-label",children:["Mt khu ",!F&&"*"]}),i.jsx("input",{type:"password",className:"form-control",value:j,onChange:Se=>B(Se.target.value),placeholder:F?" trng nu khng thay i":"Nhp mt khu"})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Vai tr"}),i.jsxs("select",{className:"form-control",value:S,onChange:Se=>D(Se.target.value),children:[i.jsx("option",{value:"USER",children:"Ngi dng"}),i.jsx("option",{value:"ADMIN",children:"Qun tr vin"}),i.jsx("option",{value:"MODERATOR",children:"iu hnh vin"})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Hnh nh"}),i.jsx("input",{type:"file",accept:"image/*",onChange:_e,className:"form-control"}),v&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:v.startsWith("data:")?v:`${Ne}${v}`,alt:"Xem trc",style:{maxWidth:"200px",maxHeight:"150px",objectFit:"cover",borderRadius:"8px",border:"1px solid #ddd"}})})]})]})]}),i.jsx("div",{className:"d-flex gap-2",children:F?i.jsxs(i.Fragment,{children:[i.jsx(Ht,{variant:"primary",className:"admin-main-btn",onClick:he,disabled:$,children:$?"ang cp nht...":"Cp nht Ngi dng"}),i.jsx(Ht,{variant:"secondary",onClick:xe,disabled:$,children:"Hy"})]}):i.jsx(Ht,{variant:"primary",className:"admin-main-btn",onClick:oe,disabled:$,children:$?"ang to...":"To Ngi dng"})})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Tt c Ngi dng"})}),i.jsx("div",{className:"card-body",children:i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-striped",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Hnh nh"}),i.jsx("th",{children:"H v tn"}),i.jsx("th",{children:"Email"}),i.jsx("th",{children:"Vai tr"}),i.jsx("th",{children:"Ngy to"}),i.jsx("th",{children:"Thao tc"})]})}),i.jsx("tbody",{children:l.map(Se=>i.jsxs("tr",{children:[i.jsx("td",{children:Se.id}),i.jsx("td",{children:Se.image_url?i.jsx("img",{src:`${Ne}${Se.image_url}`,alt:Se.full_name,style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"50%"}}):i.jsx("div",{style:{width:"50px",height:"50px",backgroundColor:"#e9ecef",display:"flex",alignItems:"center",justifyContent:"center",color:"#6c757d",borderRadius:"50%"},children:i.jsx("i",{className:"bi bi-person"})})}),i.jsx("td",{children:Se.full_name}),i.jsx("td",{children:Se.email}),i.jsx("td",{children:i.jsx("span",{className:`badge ${Se.role==="ADMIN"?"bg-danger":Se.role==="MODERATOR"?"bg-warning":"bg-primary"}`,children:Se.role==="ADMIN"?"Qun tr vin":Se.role==="MODERATOR"?"iu hnh vin":"Ngi dng"})}),i.jsx("td",{children:Se.created_at?new Date(Se.created_at).toLocaleDateString("vi-VN"):"N/A"}),i.jsx("td",{children:i.jsxs("div",{className:"btn-group",role:"group",children:[i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>ve(Se),children:"Sa"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>Ee(Se.id),children:"Xa"})]})})]},Se.id))})]})})})]})]})})]}),i.jsxs(yt,{show:de,onHide:pe,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Xc nhn xa"})}),i.jsx(yt.Body,{children:"Bn c chc chn mun xa ngi dng ny? Hnh ng ny khng th hon tc."}),i.jsxs(yt.Footer,{children:[i.jsx(Ht,{variant:"secondary",onClick:pe,children:"Hy"}),i.jsx(Ht,{variant:"danger",className:"admin-btn-danger",onClick:Z,children:"Xa"})]})]})]})}const iB=()=>zt.get("/tags"),OX=l=>zt.post("/tags",l),LX=(l,c)=>zt.put(`/tags/${l}`,c),BX=l=>zt.delete(`/tags/${l}`),RX=()=>zt.get("/place-tags"),WC=l=>zt.post("/place-tags",l),jO=l=>zt.delete(`/place-tags/${l}`);var YC,DO;function PX(){if(DO)return YC;DO=1;var l="Expected a function",c=NaN,s="[object Symbol]",o=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,_=/^0o[0-7]+$/i,y=parseInt,v=typeof Fl=="object"&&Fl&&Fl.Object===Object&&Fl,N=typeof self=="object"&&self&&self.Object===Object&&self,S=v||N||Function("return this")(),D=Object.prototype,j=D.toString,B=Math.max,F=Math.min,H=function(){return S.Date.now()};function $(le,se,q){var de,re,be,ke,Ne,De,_e=0,je=!1,oe=!1,ve=!0;if(typeof le!="function")throw new TypeError(l);se=ne(se)||0,K(q)&&(je=!!q.leading,oe="maxWait"in q,be=oe?B(ne(q.maxWait)||0,se):be,ve="trailing"in q?!!q.trailing:ve);function he(me){var Ie=de,qe=re;return de=re=void 0,_e=me,ke=le.apply(qe,Ie),ke}function Ee(me){return _e=me,Ne=setTimeout(xe,se),je?he(me):ke}function Z(me){var Ie=me-De,qe=me-_e,Le=se-Ie;return oe?F(Le,be-qe):Le}function pe(me){var Ie=me-De,qe=me-_e;return De===void 0||Ie>=se||Ie<0||oe&&qe>=be}function xe(){var me=H();if(pe(me))return Se(me);Ne=setTimeout(xe,Z(me))}function Se(me){return Ne=void 0,ve&&de?he(me):(de=re=void 0,ke)}function Fe(){Ne!==void 0&&clearTimeout(Ne),_e=0,de=De=re=Ne=void 0}function tt(){return Ne===void 0?ke:Se(H())}function fe(){var me=H(),Ie=pe(me);if(de=arguments,re=this,De=me,Ie){if(Ne===void 0)return Ee(De);if(oe)return Ne=setTimeout(xe,se),he(De)}return Ne===void 0&&(Ne=setTimeout(xe,se)),ke}return fe.cancel=Fe,fe.flush=tt,fe}function K(le){var se=typeof le;return!!le&&(se=="object"||se=="function")}function Q(le){return!!le&&typeof le=="object"}function ee(le){return typeof le=="symbol"||Q(le)&&j.call(le)==s}function ne(le){if(typeof le=="number")return le;if(ee(le))return c;if(K(le)){var se=typeof le.valueOf=="function"?le.valueOf():le;le=K(se)?se+"":se}if(typeof le!="string")return le===0?le:+le;le=le.replace(o,"");var q=g.test(le);return q||_.test(le)?y(le.slice(2),q?2:8):h.test(le)?c:+le}return YC=$,YC}PX();const TO="https://walkingguide.onrender.com";function zX(){const[l,c]=I.useState([]),[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(null),[S,D]=I.useState(""),[j,B]=I.useState(""),[F,H]=I.useState(""),[$,K]=I.useState(""),[Q,ee]=I.useState(null),[ne,le]=I.useState([]),[se,q]=I.useState([]),[de,re]=I.useState([]),[be,ke]=I.useState(!1),[Ne,De]=I.useState(null),[_e,je]=I.useState([]),[oe,ve]=I.useState([]),[he,Ee]=I.useState(!1),[Z,pe]=I.useState(!1),[xe,Se]=I.useState(null),[Fe,tt]=I.useState(!1);I.useEffect(()=>{fe(),me(),Ie()},[]);const fe=async()=>{const Ue=await kt.get("https://walkingguide.onrender.com/api/places");c(Ue.data)},me=async()=>{const Ue=await iB();le(Ue.data)},Ie=async()=>{const Ue=await RX();q(Ue.data)},qe=Ue=>Ue?Ue.startsWith("http")?Ue:`${TO}${Ue}`:null,Le=async Ue=>{if(Ue.length<3){ve([]),Ee(!1);return}try{let bt=Ue;S&&S.trim()&&(bt=`${Ue}, ${S}`);const Ut=await kt.get(`${TO}/api/geocoding/search?q=${encodeURIComponent(bt)}&limit=5&addressdetails=1`);ve(Ut.data),Ee(!0)}catch(bt){console.error("Error fetching address suggestions:",bt)}},st=Ue=>{B(Ue),Le(Ue)},Ye=Ue=>{var bt,Ut,hn;B(Ue.display_name),D(((bt=Ue.address)==null?void 0:bt.city)||((Ut=Ue.address)==null?void 0:Ut.town)||((hn=Ue.address)==null?void 0:hn.state)||""),Ee(!1),ve([])},Oe=async Ue=>{tt(!0);try{const bt=await kt.get(`https://walkingguide.onrender.com/api/geocoding/coordinates?q=${encodeURIComponent(Ue)}&limit=1`);return bt.data.success&&bt.data.data?{latitude:bt.data.data.latitude,longitude:bt.data.data.longitude}:null}catch(bt){return console.error("Error getting coordinates:",bt),null}finally{tt(!1)}},ut=async()=>{try{const Ue=await Oe(j);if(!Ue){alert("Khng th tm thy ta  cho a ch ny. Vui lng kim tra li a ch.");return}let bt=_;if(v){const hn=new FormData;hn.append("file",v),bt=(await kt.post("https://walkingguide.onrender.com/api/upload",hn,{headers:{"Content-Type":"multipart/form-data"}})).data.url}const Ut=await kt.post("https://walkingguide.onrender.com/api/places",{name:s,description:h,latitude:Ue.latitude,longitude:Ue.longitude,image_url:bt,city:S,address:j,opening_hours:F,service:$});if(de.length>0)for(const hn of de)await WC({place_id:Ut.data.id,tag_id:hn});fe(),Ie(),jt()}catch(Ue){console.error("Error creating place:",Ue),alert("Li khi to a im. Vui lng th li.")}},ze=Ue=>{ee(Ue.id),o(Ue.name),g(Ue.description),y(Ue.image_url),D(Ue.city||""),B(Ue.address||""),H(Ue.opening_hours||""),K(Ue.service||"");const bt=Dt(Ue.id).map(Ut=>Ut.id);re(bt),window.scrollTo({top:0,behavior:"smooth"})},ht=async()=>{try{const Ue=await Oe(j);if(!Ue){alert("Khng th tm thy ta  cho a ch ny. Vui lng kim tra li a ch.");return}let bt=_;if(v){const yn=new FormData;yn.append("file",v),bt=(await kt.post("https://walkingguide.onrender.com/api/upload",yn,{headers:{"Content-Type":"multipart/form-data"}})).data.url}await kt.put(`https://walkingguide.onrender.com/api/places/${Q}`,{name:s,description:h,latitude:Ue.latitude,longitude:Ue.longitude,image_url:bt,city:S,address:j,opening_hours:F,service:$});const Ut=Dt(Q).map(yn=>yn.id),hn=de.filter(yn=>!Ut.includes(yn)),Pn=Ut.filter(yn=>!de.includes(yn));for(const yn of hn)await WC({place_id:Q,tag_id:yn});for(const yn of Pn){const li=se.find(di=>di.place_id===Q&&di.tag_id===yn);li&&await jO(li.id)}fe(),Ie(),ee(null),jt()}catch(Ue){console.error("Error updating place:",Ue),alert("Li khi cp nht a im. Vui lng th li.")}},Rt=async Ue=>{Se(Ue),pe(!0)},Xt=async()=>{if(xe)try{await kt.delete(`https://walkingguide.onrender.com/api/places/${xe}`),fe(),pe(!1),Se(null)}catch(Ue){console.error("Error deleting place:",Ue)}},at=()=>{pe(!1),Se(null)},jt=()=>{o(""),g(""),y(""),N(null),D(""),B(""),H(""),K(""),re([]),ve([]),Ee(!1)},Dt=Ue=>{const bt=se.filter(Ut=>Ut.place_id===Ue).map(Ut=>Ut.tag_id);return ne.filter(Ut=>bt.includes(Ut.id))},Qe=Ue=>{De(Ue),je(Dt(Ue.id).map(bt=>bt.id)),ke(!0)},It=()=>{ke(!1),De(null),je([])},Lt=async()=>{if(!Ne)return;const Ue=Dt(Ne.id).map(hn=>hn.id),bt=_e.filter(hn=>!Ue.includes(hn)),Ut=Ue.filter(hn=>!_e.includes(hn));for(const hn of bt)await WC({place_id:Ne.id,tag_id:hn});for(const hn of Ut){const Pn=se.find(yn=>yn.place_id===Ne.id&&yn.tag_id===hn);Pn&&await jO(Pn.id)}Ie(),It()};return i.jsxs("div",{className:"admin-layout",children:[i.jsx(wd,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(yd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:Q?"Chnh sa a im":"To a im Mi"})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tn a im *"}),i.jsx("input",{type:"text",className:"form-control",value:s,onChange:Ue=>o(Ue.target.value),placeholder:"Nhp tn a im"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"M t"}),i.jsx(yw,{value:h,onChange:g,placeholder:"M t a im"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Thnh ph"}),i.jsx(Db,{value:S,onChange:D,placeholder:"Chn thnh ph"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"a ch *"}),i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"text",className:"form-control",value:j,onChange:Ue=>st(Ue.target.value),placeholder:S?`Nhp a ch trong ${S}...`:"Nhp a ch  tm kim...",autoComplete:"off"}),Fe&&i.jsx("div",{className:"position-absolute top-50 end-0 translate-middle-y me-2",children:i.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),he&&oe.length>0&&i.jsx("div",{className:"position-absolute w-100 bg-white border rounded shadow-sm",style:{zIndex:1e3,top:"100%"},children:oe.map((Ue,bt)=>i.jsxs("div",{className:"p-2 border-bottom suggestion-item",style:{cursor:"pointer"},onClick:()=>Ye(Ue),onMouseEnter:Ut=>Ut.target.style.backgroundColor="#f8f9fa",onMouseLeave:Ut=>Ut.target.style.backgroundColor="white",children:[i.jsx("div",{className:"fw-semibold",children:Ue.display_name.split(",")[0]}),i.jsx("div",{className:"small text-muted",children:Ue.display_name})]},bt))})]})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Gi m ca"}),i.jsx("textarea",{className:"form-control",rows:"3",value:F,onChange:Ue=>H(Ue.target.value),placeholder:"VD: Th 2 - Th 6: 8:00 - 18:00"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Dch v"}),i.jsx("textarea",{className:"form-control",rows:"3",value:$,onChange:Ue=>K(Ue.target.value),placeholder:"M t cc dch v c sn"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Link nh"}),i.jsx("input",{type:"url",className:"form-control",value:_,onChange:Ue=>y(Ue.target.value),placeholder:"https://example.com/image.jpg"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Hoc ti nh ln"}),i.jsx("input",{type:"file",accept:"image/*",onChange:Ue=>N(Ue.target.files[0]),className:"form-control"})]}),Q&&_&&i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"nh hin ti:"}),i.jsx("div",{className:"border rounded p-2",children:i.jsx("img",{src:qe(_),alt:"Current image",style:{maxWidth:"200px",maxHeight:"150px",objectFit:"cover"},className:"img-thumbnail"})})]})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label fw-bold",children:"Th a im:"}),i.jsx("div",{className:"row",children:ne.map(Ue=>i.jsx("div",{className:"col-md-3 col-sm-6 mb-2",children:i.jsxs("div",{className:"form-check",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:`tag-${Ue.id}`,checked:de.includes(Ue.id),onChange:bt=>{bt.target.checked?re([...de,Ue.id]):re(de.filter(Ut=>Ut!==Ue.id))}}),i.jsx("label",{className:"form-check-label",htmlFor:`tag-${Ue.id}`,children:Ue.name})]})},Ue.id))})]}),i.jsx("div",{className:"d-flex gap-2",children:Q?i.jsxs(i.Fragment,{children:[i.jsx(Ht,{variant:"primary",className:"admin-main-btn",onClick:ht,children:"Cp nht a im"}),i.jsx(Ht,{variant:"secondary",onClick:()=>{ee(null),jt()},children:"Hy"})]}):i.jsx(Ht,{variant:"primary",className:"admin-main-btn",onClick:ut,children:"To a im"})})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Tt c a im"})}),i.jsx("div",{className:"card-body",children:i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-striped",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Hnh nh"}),i.jsx("th",{children:"Tn"}),i.jsx("th",{children:"Thnh ph"}),i.jsx("th",{children:"a ch"}),i.jsx("th",{children:"Th"}),i.jsx("th",{children:"Thao tc"})]})}),i.jsx("tbody",{children:l.map(Ue=>i.jsxs("tr",{children:[i.jsx("td",{children:Ue.id}),i.jsx("td",{children:Ue.image_url?i.jsx("img",{src:qe(Ue.image_url),alt:Ue.name,style:{width:"50px",height:"50px",objectFit:"cover"}}):i.jsx("div",{style:{width:"50px",height:"50px",backgroundColor:"#f8f9fa",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx("i",{className:"bi bi-geo-alt"})})}),i.jsx("td",{children:Ue.name}),i.jsx("td",{children:Ue.city}),i.jsx("td",{children:i.jsx("div",{style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Ue.address})}),i.jsx("td",{children:i.jsx("div",{className:"d-flex flex-wrap gap-1",children:Dt(Ue.id).map(bt=>i.jsx("span",{className:"badge bg-primary",children:bt.name},bt.id))})}),i.jsx("td",{children:i.jsxs("div",{className:"btn-group",role:"group",children:[i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>ze(Ue),children:"Sa"}),i.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:()=>Qe(Ue),children:"Th"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>Rt(Ue.id),children:"Xa"})]})})]},Ue.id))})]})})})]})]})})]}),i.jsxs(yt,{show:Z,onHide:at,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Xc nhn xa"})}),i.jsx(yt.Body,{children:"Bn c chc chn mun xa a im ny? Hnh ng ny khng th hon tc."}),i.jsxs(yt.Footer,{children:[i.jsx(Ht,{variant:"secondary",onClick:at,children:"Hy"}),i.jsx(Ht,{variant:"danger",className:"admin-btn-danger",onClick:Xt,children:"Xa"})]})]}),i.jsxs(yt,{show:be,onHide:It,size:"lg",children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsxs(yt.Title,{children:["Qun l th cho: ",Ne==null?void 0:Ne.name]})}),i.jsx(yt.Body,{children:i.jsx("div",{className:"row",children:ne.map(Ue=>i.jsx("div",{className:"col-md-4 mb-2",children:i.jsxs("div",{className:"form-check",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:`modal-tag-${Ue.id}`,checked:_e.includes(Ue.id),onChange:bt=>{bt.target.checked?je([..._e,Ue.id]):je(_e.filter(Ut=>Ut!==Ue.id))}}),i.jsx("label",{className:"form-check-label",htmlFor:`modal-tag-${Ue.id}`,children:Ue.name})]})},Ue.id))})}),i.jsxs(yt.Footer,{children:[i.jsx(Ht,{variant:"secondary",onClick:It,children:"Hy"}),i.jsx(Ht,{variant:"primary",onClick:Lt,children:"Lu thay i"})]})]})]})}const FX="https://walkingguide.onrender.com";function VX(){const[l,c]=I.useState([]),[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(""),[S,D]=I.useState(""),[j,B]=I.useState(""),[F,H]=I.useState(""),[$,K]=I.useState(""),[Q,ee]=I.useState(""),[ne,le]=I.useState(""),[se,q]=I.useState(""),[de,re]=I.useState(""),[be,ke]=I.useState([]),[Ne,De]=I.useState([]),[_e,je]=I.useState(""),[oe,ve]=I.useState(""),[he,Ee]=I.useState("15:00"),[Z,pe]=I.useState("11:00"),[xe,Se]=I.useState(0),[Fe,tt]=I.useState([]),[fe,me]=I.useState([]),[Ie,qe]=I.useState(null),[Le,st]=I.useState(!1),[Ye,Oe]=I.useState(null),[ut,ze]=I.useState([]),[ht,Rt]=I.useState(!1),[Xt,at]=I.useState(!1),[jt,Dt]=I.useState(!1),[Qe,It]=I.useState(null),[Lt,Ue]=I.useState({}),[bt,Ut]=I.useState(!1),[hn,Pn]=I.useState(null);I.useEffect(()=>{yn()},[]);const yn=async()=>{try{const Te=await zt.get("/hotels");c(Te.data.data||Te.data)}catch(Te){console.error("Error fetching hotels:",Te)}},li=Te=>Te?Te.startsWith("http")?Te:`${FX}${Te}`:null,di=async Te=>{if(Te.length<3){ze([]),Rt(!1);return}try{let Et=Te;_&&_.trim()&&(Et=`${Te}, ${_}`);const Mt=await zt.get(`/geocoding/search?q=${encodeURIComponent(Et)}&limit=5&addressdetails=1`);ze(Mt.data),Rt(!0)}catch(Et){console.error("Error fetching address suggestions:",Et)}},Ar=Te=>{N(Te),di(Te)},tr=Te=>{var Et,Mt,vn;N(Te.display_name),y(((Et=Te.address)==null?void 0:Et.city)||((Mt=Te.address)==null?void 0:Mt.town)||((vn=Te.address)==null?void 0:vn.state)||""),Rt(!1),ze([])},Oi=Te=>{y(Te),v&&v.trim()&&di(v)},ri=Te=>{const Mt=Array.from(Te.target.files).filter(mn=>{const Rn=mn.type.startsWith("image/"),on=mn.size<=5*1024*1024;return Rn?on?!0:(alert(`File ${mn.name} qu ln (ti a 5MB)`),!1):(alert(`File ${mn.name} khng phi l hnh nh hp l`),!1)});if(Mt.length===0)return;me(mn=>[...mn,...Mt]);const vn=Mt.map((mn,Rn)=>({id:`new-${Date.now()}-${Rn}`,image_url:URL.createObjectURL(mn),caption:"",is_primary:Fe.length===0&&Rn===0,sort_order:Fe.length+Rn,file:mn}));tt(mn=>[...mn,...vn])},ei=Te=>{tt(Fe.filter((Et,Mt)=>Mt!==Te)),me(fe.filter((Et,Mt)=>Mt!==Te))},Us=(Te,Et)=>{const Mt=[...Fe];Mt[Te].caption=Et,tt(Mt)},ui=Te=>{const Et=Fe.map((Mt,vn)=>({...Mt,is_primary:vn===Te}));tt(Et)},nr=(Te,Et)=>{Pn(Et),Te.dataTransfer.effectAllowed="move"},kr=Te=>{Te.preventDefault(),Te.dataTransfer.dropEffect="move"},ir=(Te,Et)=>{if(Te.preventDefault(),hn===null||hn===Et)return;const Mt=[...Fe],vn=Mt[hn];Mt.splice(hn,1),Mt.splice(Et,0,vn),Mt.forEach((mn,Rn)=>{mn.sort_order=Rn,mn.is_primary=Rn===0}),tt(Mt),Pn(null)},$e=()=>{Pn(null)},Gt=()=>{if(_e.trim()&&!be.includes(_e.trim())){const Te=[...be,_e.trim()];ke(Te),q(JSON.stringify(Te)),je("")}},mt=Te=>{const Et=be.filter((Mt,vn)=>vn!==Te);ke(Et),q(JSON.stringify(Et))},dn=()=>{if(oe.trim()&&!Ne.includes(oe.trim())){const Te=[...Ne,oe.trim()];De(Te),re(JSON.stringify(Te)),ve("")}},$n=Te=>{const Et=Ne.filter((Mt,vn)=>vn!==Te);De(Et),re(JSON.stringify(Et))},Ge=Te=>{Te.key==="Enter"&&(Te.preventDefault(),Gt())},Tt=Te=>{Te.key==="Enter"&&(Te.preventDefault(),dn())},Je=async Te=>{at(!0);try{const Et=await zt.get(`/geocoding/coordinates?q=${encodeURIComponent(Te)}&limit=1`);return Et.data.success&&Et.data.data?{latitude:Et.data.data.latitude,longitude:Et.data.data.longitude}:null}catch(Et){return console.error("Error getting coordinates:",Et),null}finally{at(!1)}},rn=async()=>{try{const Te=await Je(v);if(!Te){alert("Khng th tm thy ta  cho a ch ny. Vui lng kim tra li a ch.");return}const Et=[];for(let vn=0;vn<fe.length;vn++){const mn=new FormData;mn.append("file",fe[vn]);const Rn=await zt.post("/upload",mn,{headers:{"Content-Type":"multipart/form-data"}});Et.push({url:Rn.data.url,caption:Fe[vn].caption,is_primary:Fe[vn].is_primary,sort_order:vn})}const Mt=await zt.post("/hotels",{name:s,description:h,latitude:Te.latitude,longitude:Te.longitude,city:_,address:v,phone:S,email:j,website:F,price_range:$,min_price:parseFloat(Q)||0,max_price:parseFloat(ne)||0,amenities:se,room_types:de,check_in_time:he,check_out_time:Z,stars:parseInt(xe)||0,images:Et});yn(),xt()}catch(Te){console.error("Error creating hotel:",Te),alert("Li khi to khch sn. Vui lng th li.")}},xn=Te=>{qe(Te.id),o(Te.name),g(Te.description||""),y(Te.city||""),N(Te.address||""),D(Te.phone||""),B(Te.email||""),H(Te.website||""),K(Te.price_range||""),ee(Te.min_price||""),le(Te.max_price||""),q(Te.amenities||""),re(Te.room_types||""),Ee(Te.check_in_time||"15:00"),pe(Te.check_out_time||"11:00"),Se(Te.stars||0),tt(Te.images||[]),me([]);try{const Et=Te.amenities?JSON.parse(Te.amenities):[];ke(Array.isArray(Et)?Et:[])}catch{ke([])}try{const Et=Te.room_types?JSON.parse(Te.room_types):[];De(Array.isArray(Et)?Et:[])}catch{De([])}window.scrollTo({top:0,behavior:"smooth"})},Bn=async()=>{var Te;try{const Et=await Je(v);if(!Et){alert("Khng th tm thy ta  cho a ch ny. Vui lng kim tra li a ch.");return}const Mt=[],vn=Fe.filter(Gn=>Gn.id.toString().startsWith("new-"));console.log("New images to upload:",vn.length);for(let Gn=0;Gn<vn.length;Gn++){const Vn=vn[Gn];if(Vn.file){console.log("Uploading image:",Vn.file.name);const Wr=new FormData;Wr.append("file",Vn.file);const So=await zt.post("/upload",Wr,{headers:{"Content-Type":"multipart/form-data"}});Mt.push({url:So.data.url,caption:Vn.caption||"",is_primary:Vn.is_primary||!1,sort_order:Vn.sort_order||0})}}const Rn=[...Fe.filter(Gn=>!Gn.id.toString().startsWith("new-")).map(Gn=>({url:Gn.image_url,caption:Gn.caption||"",is_primary:Gn.is_primary||!1,sort_order:Gn.sort_order||0})),...Mt];console.log("Total images to send:",Rn.length),console.log("Images data:",Rn);const on={name:s,description:h,latitude:Et.latitude,longitude:Et.longitude,city:_,address:v,phone:S,email:j,website:F,price_range:$,min_price:parseFloat(Q)||0,max_price:parseFloat(ne)||0,amenities:se,room_types:de,check_in_time:he,check_out_time:Z,stars:parseInt(xe)||0,images:Rn};if(console.log("Update data:",on),!on.name||!on.name.trim()){alert("Tn khch sn khng c  trng");return}if(!on.address||!on.address.trim()){alert("a ch khng c  trng");return}if(!on.latitude||!on.longitude){alert("Khng th xc nh ta . Vui lng kim tra li a ch.");return}if(on.images&&on.images.length>0){for(let Gn=0;Gn<on.images.length;Gn++)if(!on.images[Gn].url){alert(`nh th ${Gn+1} khng c URL hp l`);return}}const lr=await zt.put(`/hotels/${Ie}`,on);console.log("Update response:",lr.data),yn(),qe(null),xt()}catch(Et){console.error("Error updating hotel:",Et),console.error("Error response:",(Te=Et.response)==null?void 0:Te.data),alert("Li khi cp nht khch sn. Vui lng th li.")}},bn=async Te=>{Oe(Te),st(!0)},we=async()=>{if(Ye)try{await zt.delete(`/hotels/${Ye}`),yn(),st(!1),Oe(null)}catch(Te){console.error("Error deleting hotel:",Te)}},ct=()=>{st(!1),Oe(null)},xt=()=>{o(""),g(""),y(""),N(""),D(""),B(""),H(""),K(""),ee(""),le(""),q(""),re(""),ke([]),De([]),je(""),ve(""),Ee("15:00"),pe("11:00"),Se(0),tt([]),me([]),ze([]),Rt(!1)};return i.jsxs("div",{className:"admin-layout",children:[i.jsx(wd,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(yd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:Ie?"Chnh sa Khch sn":"To Khch sn Mi"})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tn khch sn *"}),i.jsx("input",{type:"text",className:"form-control",value:s,onChange:Te=>o(Te.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"M t"}),i.jsx("textarea",{className:"form-control",rows:"3",value:h,onChange:Te=>g(Te.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Thnh ph"}),i.jsx(Db,{value:_,onChange:Oi,placeholder:"Chn thnh ph"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"a ch *"}),i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"text",className:"form-control",value:v,onChange:Te=>Ar(Te.target.value),placeholder:_?`Nhp a ch trong ${_}...`:"Nhp a ch  tm kim..."}),Xt&&i.jsx("div",{className:"position-absolute top-50 end-0 translate-middle-y me-2",children:i.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),ht&&ut.length>0&&i.jsx("div",{className:"position-absolute w-100 bg-white border rounded shadow-sm",style:{zIndex:1e3,top:"100%"},children:ut.map((Te,Et)=>i.jsxs("div",{className:"p-2 border-bottom suggestion-item",style:{cursor:"pointer"},onClick:()=>tr(Te),onMouseEnter:Mt=>Mt.target.style.backgroundColor="#f8f9fa",onMouseLeave:Mt=>Mt.target.style.backgroundColor="white",children:[i.jsx("div",{className:"fw-semibold",children:Te.display_name.split(",")[0]}),i.jsx("div",{className:"small text-muted",children:Te.display_name})]},Et))})]})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"S in thoi"}),i.jsx("input",{type:"text",className:"form-control",value:S,onChange:Te=>D(Te.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Email"}),i.jsx("input",{type:"email",className:"form-control",value:j,onChange:Te=>B(Te.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Website"}),i.jsx("input",{type:"url",className:"form-control",value:F,onChange:Te=>H(Te.target.value)})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mc gi"}),i.jsxs("select",{className:"form-control",value:$,onChange:Te=>K(Te.target.value),children:[i.jsx("option",{value:"",children:"Chn mc gi"}),i.jsx("option",{value:"$",children:"$ (Bnh dn)"}),i.jsx("option",{value:"$$",children:"$$ (Trung bnh)"}),i.jsx("option",{value:"$$$",children:"$$$ (Cao cp)"}),i.jsx("option",{value:"$$$$",children:"$$$$ (Sang trng)"})]})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Sao"}),i.jsxs("select",{className:"form-control",value:xe,onChange:Te=>Se(parseInt(Te.target.value)),children:[i.jsx("option",{value:0,children:"Chn s sao"}),i.jsx("option",{value:1,children:"1 Sao"}),i.jsx("option",{value:2,children:"2 Sao"}),i.jsx("option",{value:3,children:"3 Sao"}),i.jsx("option",{value:4,children:"4 Sao"}),i.jsx("option",{value:5,children:"5 Sao"})]})]})})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Gi ti thiu (VND)"}),i.jsx("input",{type:"number",className:"form-control",value:Q,onChange:Te=>ee(Te.target.value)})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Gi ti a (VND)"}),i.jsx("input",{type:"number",className:"form-control",value:ne,onChange:Te=>le(Te.target.value)})]})})]})]})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tin ch"}),i.jsxs("div",{className:"input-group",children:[i.jsx("input",{type:"text",className:"form-control",placeholder:"Nhp tin ch v nhn Enter hoc +",value:_e,onChange:Te=>je(Te.target.value),onKeyPress:Ge}),i.jsx("button",{className:"btn btn-outline-primary",type:"button",onClick:Gt,children:i.jsx("i",{className:"bi bi-plus"})})]}),be.length>0&&i.jsx("div",{className:"mt-2",children:i.jsx("div",{className:"d-flex flex-wrap gap-1",children:be.map((Te,Et)=>i.jsxs("span",{className:"badge bg-primary d-flex align-items-center gap-1",style:{fontSize:"0.875rem"},children:[Te,i.jsx("button",{type:"button",className:"btn-close btn-close-white",style:{fontSize:"0.5rem"},onClick:()=>mt(Et)})]},Et))})}),i.jsx("div",{className:"form-text",children:"Gi : WiFi, H bi, Spa, Gym, Nh hng, Bar, Dch v git i"})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Loi phng"}),i.jsxs("div",{className:"input-group",children:[i.jsx("input",{type:"text",className:"form-control",placeholder:"Nhp loi phng v nhn Enter hoc +",value:oe,onChange:Te=>ve(Te.target.value),onKeyPress:Tt}),i.jsx("button",{className:"btn btn-outline-primary",type:"button",onClick:dn,children:i.jsx("i",{className:"bi bi-plus"})})]}),Ne.length>0&&i.jsx("div",{className:"mt-2",children:i.jsx("div",{className:"d-flex flex-wrap gap-1",children:Ne.map((Te,Et)=>i.jsxs("span",{className:"badge bg-success d-flex align-items-center gap-1",style:{fontSize:"0.875rem"},children:[Te,i.jsx("button",{type:"button",className:"btn-close btn-close-white",style:{fontSize:"0.5rem"},onClick:()=>$n(Et)})]},Et))})}),i.jsx("div",{className:"form-text",children:"Gi : Standard, Deluxe, Suite, Executive, Family, Presidential"})]})})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Gi nhn phng"}),i.jsx("input",{type:"time",className:"form-control",value:he,onChange:Te=>Ee(Te.target.value)})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Gi tr phng"}),i.jsx("input",{type:"time",className:"form-control",value:Z,onChange:Te=>pe(Te.target.value)})]})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[i.jsxs("label",{className:"form-label fw-bold",children:["Hnh nh (",Fe.length,")"]}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"form-control",style:{width:"auto"},onChange:ri,id:"hotel-image-upload"}),i.jsxs("label",{htmlFor:"hotel-image-upload",className:"btn btn-outline-primary btn-sm",children:[i.jsx("i",{className:"bi bi-plus-circle me-1"}),"Thm nh"]}),Fe.length>1&&i.jsxs("button",{className:"btn btn-outline-warning btn-sm",onClick:()=>{window.confirm("Bn c chc mun xa tt c nh?")&&(tt([]),me([]))},children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xa tt c"]})]})]}),Fe.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"alert alert-info",children:[i.jsx("i",{className:"bi bi-info-circle me-2"}),"Ko th  sp xp li th t nh. nh u tin s l nh chnh."]}),i.jsx("div",{className:"row",children:Fe.map((Te,Et)=>i.jsx("div",{className:"col-md-3 col-sm-6 mb-3",onDragStart:Mt=>nr(Mt,Et),onDragOver:kr,onDrop:Mt=>ir(Mt,Et),onDragEnd:$e,draggable:!0,children:i.jsxs("div",{className:"card h-100 shadow-sm",children:[i.jsxs("div",{className:"position-relative",children:[i.jsx("img",{src:li(Te.image_url),className:"card-img-top",alt:`Khch sn ${Et+1}`,style:{height:"200px",objectFit:"cover"},onError:Mt=>{Mt.target.style.display="none"}}),i.jsx("div",{className:"position-absolute top-0 start-0 p-2",children:Te.is_primary&&i.jsxs("span",{className:"badge bg-success",children:[i.jsx("i",{className:"bi bi-star-fill me-1"}),"Chnh"]})}),i.jsx("div",{className:"position-absolute top-0 end-0 p-2",children:i.jsxs("span",{className:"badge bg-secondary",children:["#",Et+1]})}),i.jsx("div",{className:"position-absolute bottom-0 start-0 w-100 p-2",style:{background:"linear-gradient(transparent, rgba(0,0,0,0.7))"},children:i.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[i.jsx("button",{className:`btn btn-sm ${Te.is_primary?"btn-success":"btn-outline-success"}`,onClick:()=>ui(Et),title:Te.is_primary?" l nh chnh":"t lm nh chnh",children:i.jsx("i",{className:`bi ${Te.is_primary?"bi-star-fill":"bi-star"}`})}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>ei(Et),title:"Xa nh",children:i.jsx("i",{className:"bi bi-trash"})})]})})]}),i.jsxs("div",{className:"card-body",children:[i.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Ch thch nh...",value:Te.caption,onChange:Mt=>Us(Et,Mt.target.value)}),i.jsx("div",{className:"mt-2",children:i.jsx("small",{className:"text-muted",children:Te.image_url&&Te.image_url.startsWith("blob:")?"nh mi":"nh hin c"})})]})]})},Te.id))}),i.jsx("div",{className:"mt-3",children:i.jsxs("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>Dt(!jt),children:[i.jsx("i",{className:"bi bi-images me-1"}),jt?"n":"Xem"," th vin nh"]})}),jt&&i.jsx("div",{className:"mt-3",children:i.jsx("div",{className:"row",children:Fe.map((Te,Et)=>i.jsx("div",{className:"col-md-2 col-sm-4 col-6 mb-2",children:i.jsxs("div",{className:"position-relative",children:[i.jsx("img",{src:li(Te.image_url),className:"img-thumbnail",alt:`Khch sn ${Et+1}`,style:{height:"100px",objectFit:"cover",cursor:"pointer"},onClick:()=>It(Te),onError:Mt=>{Mt.target.style.display="none"}}),Te.is_primary&&i.jsx("div",{className:"position-absolute top-0 start-0",children:i.jsx("i",{className:"bi bi-star-fill text-warning"})})]})},Et))})})]}),Fe.length===0&&i.jsxs("div",{className:"text-center py-4 border rounded bg-light",children:[i.jsx("i",{className:"bi bi-images text-muted",style:{fontSize:"3rem"}}),i.jsx("p",{className:"text-muted mt-2",children:"Cha c hnh nh no"}),i.jsx("p",{className:"text-muted small",children:'Nhn "Thm nh"  bt u'})]})]}),i.jsx("div",{className:"d-flex gap-2",children:Ie?i.jsxs(i.Fragment,{children:[i.jsx(Ht,{variant:"primary",className:"admin-main-btn",onClick:Bn,children:"Cp nht Khch sn"}),i.jsx(Ht,{variant:"secondary",onClick:()=>{qe(null),xt()},children:"Hy"})]}):i.jsx(Ht,{variant:"primary",className:"admin-main-btn",onClick:rn,children:"To Khch sn"})})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Tt c Khch sn"})}),i.jsx("div",{className:"card-body",children:i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-striped",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Hnh nh"}),i.jsx("th",{children:"Tn"}),i.jsx("th",{children:"Thnh ph"}),i.jsx("th",{children:"a ch"}),i.jsx("th",{children:"Sao"}),i.jsx("th",{children:"Mc gi"}),i.jsx("th",{children:"nh gi"}),i.jsx("th",{children:"Thao tc"})]})}),i.jsx("tbody",{children:l.map(Te=>i.jsxs("tr",{children:[i.jsx("td",{children:Te.id}),i.jsx("td",{children:Te.images&&Te.images.length>0?i.jsx("img",{src:li(Te.images[0].image_url),alt:Te.name,style:{width:"50px",height:"50px",objectFit:"cover"}}):i.jsx("div",{style:{width:"50px",height:"50px",backgroundColor:"#f8f9fa",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx("i",{className:"bi bi-building"})})}),i.jsx("td",{children:i.jsx(Jt,{to:`/hotels/${Te.id}`,children:Te.name})}),i.jsx("td",{children:Te.city}),i.jsx("td",{children:i.jsx("div",{style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Te.address})}),i.jsx("td",{children:Te.stars>0&&i.jsxs("span",{className:"badge bg-warning text-dark",children:[Te.stars," ",i.jsx("i",{className:"bi bi-star-fill"})]})}),i.jsx("td",{children:Te.price_range}),i.jsx("td",{children:Te.rating?Te.rating.toFixed(1):"0.0"}),i.jsx("td",{children:i.jsxs("div",{className:"btn-group",role:"group",children:[i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>xn(Te),children:"Sa"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>bn(Te.id),children:"Xa"})]})})]},Te.id))})]})})})]})]})})]}),i.jsxs(yt,{show:Le,onHide:ct,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Xc nhn xa"})}),i.jsx(yt.Body,{children:"Bn c chc chn mun xa khch sn ny? Hnh ng ny khng th hon tc."}),i.jsxs(yt.Footer,{children:[i.jsx(Ht,{variant:"secondary",onClick:ct,children:"Hy"}),i.jsx(Ht,{variant:"danger",className:"admin-btn-danger",onClick:we,children:"Xa"})]})]})]})}function HX(){const[l,c]=I.useState([]),[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(""),[S,D]=I.useState(""),[j,B]=I.useState(""),[F,H]=I.useState(""),[$,K]=I.useState(""),[Q,ee]=I.useState(""),[ne,le]=I.useState(""),[se,q]=I.useState(""),[de,re]=I.useState(""),[be,ke]=I.useState(!1),[Ne,De]=I.useState(!0),[_e,je]=I.useState(!0),[oe,ve]=I.useState(""),[he,Ee]=I.useState(""),[Z,pe]=I.useState([]),[xe,Se]=I.useState([]),[Fe,tt]=I.useState([]),[fe,me]=I.useState({day:"",time:""}),[Ie,qe]=I.useState(""),[Le,st]=I.useState(""),[Ye,Oe]=I.useState([]),[ut,ze]=I.useState([]),[ht,Rt]=I.useState(null),[Xt,at]=I.useState(!1),[jt,Dt]=I.useState(null),[Qe,It]=I.useState([]),[Lt,Ue]=I.useState(!1),[bt,Ut]=I.useState(!1),[hn,Pn]=I.useState(!1),[yn,li]=I.useState(null),[di,Ar]=I.useState({}),[tr,Oi]=I.useState(!1),[ri,ei]=I.useState(null),[Us,ui]=I.useState(!1),[nr,kr]=I.useState(null),[ir,$e]=I.useState([]),[Gt,mt]=I.useState(!1),[dn,$n]=I.useState(null),[Ge,Tt]=I.useState(!1),[Je,rn]=I.useState(null),[xn,Bn]=I.useState(!1),[bn,we]=I.useState([]),[ct,xt]=I.useState(!1),[Te,Et]=I.useState(null),[Mt,vn]=I.useState(null),[mn,Rn]=I.useState(null);I.useEffect(()=>{on()},[]);const on=async()=>{try{const ye=await kt.get("https://walkingguide.onrender.com/api/restaurants");c(ye.data.data||ye.data)}catch(ye){console.error("Error fetching restaurants:",ye)}},lr=ye=>ye?ye.startsWith("http")?ye:`https://walkingguide.onrender.com${ye}`:null,Gn=async ye=>{if(ye.length<3){It([]),Ue(!1);return}try{let Ct=ye;_&&_.trim()&&(Ct=`${ye}, ${_}`);const en=await kt.get(`https://walkingguide.onrender.com/api/geocoding/search?q=${encodeURIComponent(Ct)}&limit=5&addressdetails=1`);It(en.data),Ue(!0)}catch(Ct){console.error("Error fetching address suggestions:",Ct)}},Vn=ye=>{N(ye),Gn(ye)},Wr=ye=>{var Ct,en,Dn;N(ye.display_name),y(((Ct=ye.address)==null?void 0:Ct.city)||((en=ye.address)==null?void 0:en.town)||((Dn=ye.address)==null?void 0:Dn.state)||""),Ue(!1),It([])},So=ye=>{y(ye),v&&v.trim()&&Gn(v)},ws=ye=>{const en=Array.from(ye.target.files).filter(_i=>{const Fi=_i.type.startsWith("image/"),vi=_i.size<=5*1024*1024;return Fi?vi?!0:(alert(`File ${_i.name} qu ln (ti a 5MB)`),!1):(alert(`File ${_i.name} khng phi l hnh nh hp l`),!1)});if(en.length===0)return;ze(_i=>[..._i,...en]);const Dn=en.map((_i,Fi)=>({id:`new-${Date.now()}-${Fi}`,image_url:URL.createObjectURL(_i),caption:"",is_primary:Ye.length===0&&Fi===0,sort_order:Ye.length+Fi,file:_i}));Oe(_i=>[..._i,...Dn])},Zo=ye=>{Oe(Ye.filter((Ct,en)=>en!==ye)),ze(ut.filter((Ct,en)=>en!==ye))},Ac=(ye,Ct)=>{const en=[...Ye];en[ye].caption=Ct,Oe(en)},ka=ye=>{const Ct=Ye.map((en,Dn)=>({...en,is_primary:Dn===ye}));Oe(Ct)},uo=(ye,Ct)=>{ei(Ct),ye.dataTransfer.effectAllowed="move"},$s=ye=>{ye.preventDefault(),ye.dataTransfer.dropEffect="move"},Yr=(ye,Ct)=>{if(ye.preventDefault(),ri===null||ri===Ct)return;const en=[...Ye],Dn=en[ri];en.splice(ri,1),en.splice(Ct,0,Dn),en.forEach((_i,Fi)=>{_i.sort_order=Fi,_i.is_primary=Fi===0}),Oe(en),ei(null)},cs=()=>{ei(null)},ds=()=>{if(fe.day.trim()&&fe.time.trim()){const ye=[...Z,{...fe}];pe(ye),re(JSON.stringify(ye)),me({day:"",time:""})}},za=ye=>{const Ct=Z.filter((en,Dn)=>Dn!==ye);pe(Ct),re(JSON.stringify(Ct))},ho=()=>{if(Ie.trim()&&!xe.includes(Ie.trim())){const ye=[...xe,Ie.trim()];Se(ye),ve(JSON.stringify(ye)),qe("")}},Kn=ye=>{const Ct=xe.filter((en,Dn)=>Dn!==ye);Se(Ct),ve(JSON.stringify(Ct))},ki=()=>{if(Le.trim()&&!Fe.includes(Le.trim())){const ye=[...Fe,Le.trim()];tt(ye),Ee(JSON.stringify(ye)),st("")}},_r=ye=>{const Ct=Fe.filter((en,Dn)=>Dn!==ye);tt(Ct),Ee(JSON.stringify(Ct))},jo=ye=>{ye.key==="Enter"&&(ye.preventDefault(),ho())},Xo=ye=>{ye.key==="Enter"&&(ye.preventDefault(),ki())},Gr=async ye=>{Ut(!0);try{const Ct=await kt.get(`https://walkingguide.onrender.com/api/geocoding/coordinates?q=${encodeURIComponent(ye)}&limit=1`);return Ct.data.success&&Ct.data.data?{latitude:Ct.data.data.latitude,longitude:Ct.data.data.longitude}:null}catch(Ct){return console.error("Error getting coordinates:",Ct),null}finally{Ut(!1)}},Sn=async()=>{try{const ye=await Gr(v);if(!ye){alert("Khng th tm thy ta  cho a ch ny. Vui lng kim tra li a ch.");return}const Ct=[];for(let Dn=0;Dn<ut.length;Dn++){const _i=new FormData;_i.append("file",ut[Dn]);const Fi=await kt.post("https://walkingguide.onrender.com/api/upload",_i,{headers:{"Content-Type":"multipart/form-data"}});Ct.push({url:Fi.data.url,caption:Ye[Dn].caption,is_primary:Ye[Dn].is_primary,sort_order:Dn})}const en=await kt.post("https://walkingguide.onrender.com/api/restaurants",{name:s,description:h,latitude:ye.latitude,longitude:ye.longitude,city:_,address:v,phone:S,email:j,website:F,cuisine_type:$,price_range:Q,min_price:parseFloat(ne)||0,max_price:parseFloat(se)||0,opening_hours:de,delivery_available:be,takeout_available:Ne,dine_in_available:_e,dietary_options:oe,features:he,images:Ct});on(),qs()}catch(ye){console.error("Error creating restaurant:",ye),alert("Li khi to nh hng. Vui lng th li.")}},Qn=ye=>{Rt(ye.id),o(ye.name),g(ye.description||""),y(ye.city||""),N(ye.address||""),D(ye.phone||""),B(ye.email||""),H(ye.website||""),K(ye.cuisine_type||""),ee(ye.price_range||""),le(ye.min_price||""),q(ye.max_price||""),re(ye.opening_hours||""),ke(ye.delivery_available||!1),De(ye.takeout_available!==!1),je(ye.dine_in_available!==!1),ve(ye.dietary_options||""),Ee(ye.features||""),Oe(ye.images||[]),ze([]);try{const Ct=ye.opening_hours?JSON.parse(ye.opening_hours):[];pe(Array.isArray(Ct)?Ct:[])}catch{pe([])}try{const Ct=ye.dietary_options?JSON.parse(ye.dietary_options):[];Se(Array.isArray(Ct)?Ct:[])}catch{Se([])}try{const Ct=ye.features?JSON.parse(ye.features):[];tt(Array.isArray(Ct)?Ct:[])}catch{tt([])}window.scrollTo({top:0,behavior:"smooth"})},Nr=async()=>{var ye;try{const Ct=await Gr(v);if(!Ct){alert("Khng th tm thy ta  cho a ch ny. Vui lng kim tra li a ch.");return}const en=[],Dn=Ye.filter(Qt=>Qt.id.toString().startsWith("new-"));console.log("New images to upload:",Dn.length);for(let Qt=0;Qt<Dn.length;Qt++){const $i=Dn[Qt];if($i.file){console.log("Uploading image:",$i.file.name);const ti=new FormData;ti.append("file",$i.file);const hs=await kt.post("https://walkingguide.onrender.com/api/upload",ti,{headers:{"Content-Type":"multipart/form-data"}});en.push({url:hs.data.url,caption:$i.caption||"",is_primary:$i.is_primary||!1,sort_order:$i.sort_order||0})}}const Fi=[...Ye.filter(Qt=>!Qt.id.toString().startsWith("new-")).map(Qt=>({url:Qt.image_url,caption:Qt.caption||"",is_primary:Qt.is_primary||!1,sort_order:Qt.sort_order||0})),...en];console.log("Total images to send:",Fi.length),console.log("Images data:",Fi);const vi={name:s,description:h,latitude:Ct.latitude,longitude:Ct.longitude,city:_,address:v,phone:S,email:j,website:F,cuisine_type:$,price_range:Q,min_price:parseFloat(ne)||0,max_price:parseFloat(se)||0,opening_hours:de,delivery_available:be,takeout_available:Ne,dine_in_available:_e,dietary_options:oe,features:he,images:Fi};if(console.log("Update data:",vi),!vi.name||!vi.name.trim()){alert("Tn nh hng khng c  trng");return}if(!vi.address||!vi.address.trim()){alert("a ch khng c  trng");return}if(!vi.latitude||!vi.longitude){alert("Khng th xc nh ta . Vui lng kim tra li a ch.");return}if(vi.images&&vi.images.length>0){for(let Qt=0;Qt<vi.images.length;Qt++)if(!vi.images[Qt].url){alert(`nh th ${Qt+1} khng c URL hp l`);return}}const ul=await kt.put(`https://walkingguide.onrender.com/api/restaurants/${ht}`,vi);console.log("Update response:",ul.data),on(),Rt(null),qs()}catch(Ct){console.error("Error updating restaurant:",Ct),console.error("Error response:",(ye=Ct.response)==null?void 0:ye.data),alert("Li khi cp nht nh hng. Vui lng th li.")}},Ti=async ye=>{Dt(ye),at(!0)},Ni=async()=>{if(jt)try{await kt.delete(`https://walkingguide.onrender.com/api/restaurants/${jt}`),on(),at(!1),Dt(null)}catch(ye){console.error("Error deleting restaurant:",ye)}},Fa=()=>{at(!1),Dt(null)},qs=()=>{o(""),g(""),y(""),N(""),D(""),B(""),H(""),K(""),ee(""),le(""),q(""),re(""),ke(!1),De(!0),je(!0),ve(""),Ee(""),pe([]),Se([]),tt([]),me({day:"",time:""}),qe(""),st(""),Oe([]),ze([]),It([]),Ue(!1)},Ui=async ye=>{kr(ye),ui(!0),mt(!0);try{const en=(await kt.get(`https://walkingguide.onrender.com/api/restaurants/${ye.id}/menus`)).data.data||[];$e(en),en.length>0?(Rn(en[0]),qn(en[0].id)):(Rn(null),we([]))}catch{$e([]),Rn(null),we([])}finally{mt(!1)}},qn=async ye=>{xt(!0);try{const Ct=await kt.get(`https://walkingguide.onrender.com/api/restaurants/menus/${ye}/items`);we(Ct.data.data||[])}catch{we([])}finally{xt(!1)}},Br=async ye=>{if(confirm("Bn c chc chn mun xa mc thc n ny?"))try{await kt.delete(`https://walkingguide.onrender.com/api/restaurants/menus/${ye}`);const Ct=await kt.get(`https://walkingguide.onrender.com/api/restaurants/${nr.id}/menus`);$e(Ct.data.data||[]),Tt(!1),$n(null)}catch{alert("Xa mc thc n tht bi.")}},Er=async()=>{if(!(!nr||!(dn!=null&&dn.name)))try{dn.id?await kt.put(`https://walkingguide.onrender.com/api/restaurants/menus/${dn.id}`,{name:dn.name,description:dn.description}):await kt.post("https://walkingguide.onrender.com/api/restaurants/menus",{restaurant_id:nr.id,name:dn.name,description:dn.description});const ye=await kt.get(`https://walkingguide.onrender.com/api/restaurants/${nr.id}/menus`);$e(ye.data.data||[]),Tt(!1),$n(null)}catch{alert("Lu mc thc n tht bi.")}},us=async ye=>{if(confirm("Bn c chc chn mun xa mc thc n ny?"))try{await kt.delete(`https://walkingguide.onrender.com/api/restaurants/menu-items/${ye}`);const Ct=await kt.get(`https://walkingguide.onrender.com/api/restaurants/menus/${dn.id}/items`);we(Ct.data.data||[]),rn(null)}catch{alert("Xa mc thc n tht bi.")}},Ws=async()=>{if(!mn||!(Je!=null&&Je.name))return;let ye=Je.image_url||"";try{if(Te){const en=new FormData;en.append("file",Te),ye=(await zt.post("/upload",en,{headers:{"Content-Type":"multipart/form-data"}})).data.url}Je.id?await kt.put(`https://walkingguide.onrender.com/api/restaurants/menu-items/${Je.id}`,{name:Je.name,description:Je.description,price:Je.price,image_url:ye}):await kt.post("https://walkingguide.onrender.com/api/restaurants/menu-items",{menu_id:mn.id,name:Je.name,description:Je.description,price:Je.price,image_url:ye});const Ct=await kt.get(`https://walkingguide.onrender.com/api/restaurants/menus/${mn.id}/items`);we(Ct.data.data||[]),rn(null),Et(null),vn(null),Bn(!1)}catch{alert("Lu mc thc n tht bi.")}},ys=ye=>{const Ct=ye.target.files[0];Ct&&(Et(Ct),vn(URL.createObjectURL(Ct)),rn(en=>({...en,image_url:""})))},Ys=ye=>{Rn(ye),qn(ye.id)};return i.jsxs("div",{className:"admin-layout",children:[i.jsx(wd,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(yd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:ht?"Chnh sa Nh hng":"To Nh hng Mi"})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tn nh hng *"}),i.jsx("input",{type:"text",className:"form-control",value:s,onChange:ye=>o(ye.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"M t"}),i.jsx("textarea",{className:"form-control",rows:"3",value:h,onChange:ye=>g(ye.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Thnh ph"}),i.jsx(Db,{value:_,onChange:So,placeholder:"Chn thnh ph"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"a ch *"}),i.jsxs("div",{className:"position-relative",children:[i.jsx("input",{type:"text",className:"form-control",value:v,onChange:ye=>Vn(ye.target.value),placeholder:_?`Nhp a ch trong ${_}...`:"Nhp a ch  tm kim..."}),bt&&i.jsx("div",{className:"position-absolute top-50 end-0 translate-middle-y me-2",children:i.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),Lt&&Qe.length>0&&i.jsx("div",{className:"position-absolute w-100 bg-white border rounded shadow-sm",style:{zIndex:1e3,top:"100%"},children:Qe.map((ye,Ct)=>i.jsxs("div",{className:"p-2 border-bottom suggestion-item",style:{cursor:"pointer"},onClick:()=>Wr(ye),onMouseEnter:en=>en.target.style.backgroundColor="#f8f9fa",onMouseLeave:en=>en.target.style.backgroundColor="white",children:[i.jsx("div",{className:"fw-semibold",children:ye.display_name.split(",")[0]}),i.jsx("div",{className:"small text-muted",children:ye.display_name})]},Ct))})]})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"S in thoi"}),i.jsx("input",{type:"text",className:"form-control",value:S,onChange:ye=>D(ye.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Email"}),i.jsx("input",{type:"email",className:"form-control",value:j,onChange:ye=>B(ye.target.value)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Website"}),i.jsx("input",{type:"url",className:"form-control",value:F,onChange:ye=>H(ye.target.value)})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Loi m thc"}),i.jsx("input",{type:"text",className:"form-control",placeholder:"VD: Vit Nam, , Nht",value:$,onChange:ye=>K(ye.target.value)})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mc gi"}),i.jsxs("select",{className:"form-control",value:Q,onChange:ye=>ee(ye.target.value),children:[i.jsx("option",{value:"",children:"Chn mc gi"}),i.jsx("option",{value:"$",children:"$ (Bnh dn)"}),i.jsx("option",{value:"$$",children:"$$ (Trung bnh)"}),i.jsx("option",{value:"$$$",children:"$$$ (Cao cp)"}),i.jsx("option",{value:"$$$$",children:"$$$$ (Sang trng)"})]})]})})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Gi ti thiu (VND)"}),i.jsx("input",{type:"number",className:"form-control",value:ne,onChange:ye=>le(ye.target.value)})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Gi ti a (VND)"}),i.jsx("input",{type:"number",className:"form-control",value:se,onChange:ye=>q(ye.target.value)})]})})]})]})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Gi m ca"}),i.jsxs("div",{className:"row g-2 mb-2",children:[i.jsx("div",{className:"col-5",children:i.jsxs("select",{className:"form-control",value:fe.day,onChange:ye=>me({...fe,day:ye.target.value}),children:[i.jsx("option",{value:"",children:"Chn ngy"}),i.jsx("option",{value:"Th 2",children:"Th 2"}),i.jsx("option",{value:"Th 3",children:"Th 3"}),i.jsx("option",{value:"Th 4",children:"Th 4"}),i.jsx("option",{value:"Th 5",children:"Th 5"}),i.jsx("option",{value:"Th 6",children:"Th 6"}),i.jsx("option",{value:"Th 7",children:"Th 7"}),i.jsx("option",{value:"Ch nht",children:"Ch nht"}),i.jsx("option",{value:"Tt c cc ngy",children:"Tt c cc ngy"})]})}),i.jsx("div",{className:"col-5",children:i.jsx("input",{type:"text",className:"form-control",placeholder:"VD: 09:00-22:00",value:fe.time,onChange:ye=>me({...fe,time:ye.target.value})})}),i.jsx("div",{className:"col-2",children:i.jsx("button",{className:"btn btn-outline-primary w-100",type:"button",onClick:ds,children:i.jsx("i",{className:"bi bi-plus"})})})]}),Z.length>0&&i.jsx("div",{className:"mt-2",children:i.jsx("div",{className:"d-flex flex-column gap-1",children:Z.map((ye,Ct)=>i.jsxs("div",{className:"d-flex justify-content-between align-items-center p-2 border rounded bg-light",children:[i.jsxs("span",{className:"fw-semibold",children:[ye.day,":"]}),i.jsx("span",{children:ye.time}),i.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>za(Ct),children:i.jsx("i",{className:"bi bi-trash"})})]},Ct))})}),i.jsx("div",{className:"form-text",children:"Gi : 09:00-22:00, 07:00-23:00, 24/7"})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Dch v"}),i.jsxs("div",{className:"form-check",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",checked:be,onChange:ye=>ke(ye.target.checked)}),i.jsx("label",{className:"form-check-label",children:"Giao hng"})]}),i.jsxs("div",{className:"form-check",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",checked:Ne,onChange:ye=>De(ye.target.checked)}),i.jsx("label",{className:"form-check-label",children:"Mang v"})]}),i.jsxs("div",{className:"form-check",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",checked:_e,onChange:ye=>je(ye.target.checked)}),i.jsx("label",{className:"form-check-label",children:"Dng ti ch"})]})]})})]}),i.jsxs("div",{className:"row",children:[i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Ty chn n king"}),i.jsxs("div",{className:"input-group",children:[i.jsx("input",{type:"text",className:"form-control",placeholder:"Nhp ty chn n king v nhn Enter hoc +",value:Ie,onChange:ye=>qe(ye.target.value),onKeyPress:jo}),i.jsx("button",{className:"btn btn-outline-primary",type:"button",onClick:ho,children:i.jsx("i",{className:"bi bi-plus"})})]}),xe.length>0&&i.jsx("div",{className:"mt-2",children:i.jsx("div",{className:"d-flex flex-wrap gap-1",children:xe.map((ye,Ct)=>i.jsxs("span",{className:"badge bg-info d-flex align-items-center gap-1",style:{fontSize:"0.875rem"},children:[ye,i.jsx("button",{type:"button",className:"btn-close btn-close-white",style:{fontSize:"0.5rem"},onClick:()=>Kn(Ct)})]},Ct))})}),i.jsx("div",{className:"form-text",children:"Gi : Chay, Thun chay, Khng gluten, Khng sa, Hi sn"})]})}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tnh nng"}),i.jsxs("div",{className:"input-group",children:[i.jsx("input",{type:"text",className:"form-control",placeholder:"Nhp tnh nng v nhn Enter hoc +",value:Le,onChange:ye=>st(ye.target.value),onKeyPress:Xo}),i.jsx("button",{className:"btn btn-outline-primary",type:"button",onClick:ki,children:i.jsx("i",{className:"bi bi-plus"})})]}),Fe.length>0&&i.jsx("div",{className:"mt-2",children:i.jsx("div",{className:"d-flex flex-wrap gap-1",children:Fe.map((ye,Ct)=>i.jsxs("span",{className:"badge bg-warning text-dark d-flex align-items-center gap-1",style:{fontSize:"0.875rem"},children:[ye,i.jsx("button",{type:"button",className:"btn-close",style:{fontSize:"0.5rem"},onClick:()=>_r(Ct)})]},Ct))})}),i.jsx("div",{className:"form-text",children:"Gi : Ch ngi ngoi tri, Nhc sng, Ghp ru, WiFi,  xe"})]})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[i.jsxs("label",{className:"form-label fw-bold",children:["Hnh nh (",Ye.length,")"]}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"form-control",style:{width:"auto"},onChange:ws,id:"restaurant-image-upload"}),i.jsxs("label",{htmlFor:"restaurant-image-upload",className:"btn btn-outline-primary btn-sm",children:[i.jsx("i",{className:"bi bi-plus-circle me-1"}),"Thm nh"]}),Ye.length>1&&i.jsxs("button",{className:"btn btn-outline-warning btn-sm",onClick:()=>{window.confirm("Bn c chc mun xa tt c nh?")&&(Oe([]),ze([]))},children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xa tt c"]})]})]}),Ye.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"alert alert-info",children:[i.jsx("i",{className:"bi bi-info-circle me-2"}),"Ko th  sp xp li th t nh. nh u tin s l nh chnh."]}),i.jsx("div",{className:"row",children:Ye.map((ye,Ct)=>i.jsx("div",{className:"col-md-3 col-sm-6 mb-3",onDragStart:en=>uo(en,Ct),onDragOver:$s,onDrop:en=>Yr(en,Ct),onDragEnd:cs,draggable:!0,children:i.jsxs("div",{className:"card h-100 shadow-sm",children:[i.jsxs("div",{className:"position-relative",children:[i.jsx("img",{src:lr(ye.image_url),className:"card-img-top",alt:`Nh hng ${Ct+1}`,style:{height:"200px",objectFit:"cover"},onError:en=>{en.target.style.display="none"}}),i.jsx("div",{className:"position-absolute top-0 start-0 p-2",children:ye.is_primary&&i.jsxs("span",{className:"badge bg-success",children:[i.jsx("i",{className:"bi bi-star-fill me-1"}),"Chnh"]})}),i.jsx("div",{className:"position-absolute top-0 end-0 p-2",children:i.jsxs("span",{className:"badge bg-secondary",children:["#",Ct+1]})}),i.jsx("div",{className:"position-absolute bottom-0 start-0 w-100 p-2",style:{background:"linear-gradient(transparent, rgba(0,0,0,0.7))"},children:i.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[i.jsx("button",{className:`btn btn-sm ${ye.is_primary?"btn-success":"btn-outline-success"}`,onClick:()=>ka(Ct),title:ye.is_primary?" l nh chnh":"t lm nh chnh",children:i.jsx("i",{className:`bi ${ye.is_primary?"bi-star-fill":"bi-star"}`})}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>Zo(Ct),title:"Xa nh",children:i.jsx("i",{className:"bi bi-trash"})})]})})]}),i.jsxs("div",{className:"card-body",children:[i.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Ch thch nh...",value:ye.caption,onChange:en=>Ac(Ct,en.target.value)}),i.jsx("div",{className:"mt-2",children:i.jsx("small",{className:"text-muted",children:ye.image_url&&ye.image_url.startsWith("blob:")?"nh mi":"nh hin c"})})]})]})},ye.id))}),i.jsx("div",{className:"mt-3",children:i.jsxs("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>Pn(!hn),children:[i.jsx("i",{className:"bi bi-images me-1"}),hn?"n":"Xem"," th vin nh"]})}),hn&&i.jsx("div",{className:"mt-3",children:i.jsx("div",{className:"row",children:Ye.map((ye,Ct)=>i.jsx("div",{className:"col-md-2 col-sm-4 col-6 mb-2",children:i.jsxs("div",{className:"position-relative",children:[i.jsx("img",{src:lr(ye.image_url),className:"img-thumbnail",alt:`Nh hng ${Ct+1}`,style:{height:"100px",objectFit:"cover",cursor:"pointer"},onClick:()=>li(ye),onError:en=>{en.target.style.display="none"}}),ye.is_primary&&i.jsx("div",{className:"position-absolute top-0 start-0",children:i.jsx("i",{className:"bi bi-star-fill text-warning"})})]})},Ct))})})]}),Ye.length===0&&i.jsxs("div",{className:"text-center py-4 border rounded bg-light",children:[i.jsx("i",{className:"bi bi-images text-muted",style:{fontSize:"3rem"}}),i.jsx("p",{className:"text-muted mt-2",children:"Cha c hnh nh no"}),i.jsx("p",{className:"text-muted small",children:'Nhn "Thm nh"  bt u'})]})]}),i.jsx("div",{className:"d-flex gap-2",children:ht?i.jsxs(i.Fragment,{children:[i.jsx(Ht,{variant:"primary",className:"admin-main-btn",onClick:Nr,children:"Cp nht Nh hng"}),i.jsx(Ht,{variant:"secondary",onClick:()=>{Rt(null),qs()},children:"Hy"})]}):i.jsx(Ht,{variant:"primary",className:"admin-main-btn",onClick:Sn,children:"To Nh hng"})})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Tt c Nh hng"})}),i.jsx("div",{className:"card-body",children:i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-striped",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Hnh nh"}),i.jsx("th",{children:"Tn"}),i.jsx("th",{children:"m thc"}),i.jsx("th",{children:"Thnh ph"}),i.jsx("th",{children:"a ch"}),i.jsx("th",{children:"Mc gi"}),i.jsx("th",{children:"nh gi"}),i.jsx("th",{children:"Thao tc"})]})}),i.jsx("tbody",{children:l.map(ye=>i.jsxs("tr",{children:[i.jsx("td",{children:ye.id}),i.jsx("td",{children:ye.images&&ye.images.length>0?i.jsx("img",{src:lr(ye.images[0].image_url),alt:ye.name,style:{width:"50px",height:"50px",objectFit:"cover"}}):i.jsx("div",{style:{width:"50px",height:"50px",backgroundColor:"#f8f9fa",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx("i",{className:"bi bi-cup-hot"})})}),i.jsx("td",{children:i.jsx(Jt,{to:`/restaurants/${ye.id}`,children:ye.name})}),i.jsx("td",{children:ye.cuisine_type&&i.jsx("span",{className:"badge bg-primary",children:ye.cuisine_type})}),i.jsx("td",{children:ye.city}),i.jsx("td",{children:i.jsx("div",{style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:ye.address})}),i.jsx("td",{children:ye.price_range}),i.jsx("td",{children:ye.rating?ye.rating.toFixed(1):"0.0"}),i.jsx("td",{children:i.jsxs("div",{className:"btn-group",role:"group",children:[i.jsx(Ht,{variant:"outline-primary",size:"sm",onClick:()=>Ui(ye),children:"Qun l thc n"}),i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>Qn(ye),children:"Sa"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>Ti(ye.id),children:"Xa"})]})})]},ye.id))})]})})})]})]})})]}),i.jsxs(yt,{show:Xt,onHide:Fa,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Xc nhn xa"})}),i.jsx(yt.Body,{children:"Bn c chc chn mun xa nh hng ny? Hnh ng ny khng th hon tc."}),i.jsxs(yt.Footer,{children:[i.jsx(Ht,{variant:"secondary",onClick:Fa,children:"Hy"}),i.jsx(Ht,{variant:"danger",className:"admin-btn-danger",onClick:Ni,children:"Xa"})]})]}),i.jsxs(yt,{show:Us,onHide:()=>ui(!1),size:"lg",centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsxs(yt.Title,{children:["Qun l thc n cho ",nr==null?void 0:nr.name]})}),i.jsxs(yt.Body,{children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[i.jsx("h6",{children:"Cc mc thc n"}),i.jsxs(Ht,{variant:"outline-primary",onClick:()=>Tt(!0),children:[i.jsx("i",{className:"bi bi-plus-circle me-1"}),"Thm mc thc n"]})]}),Gt?i.jsx("div",{className:"text-center py-4",children:i.jsx("div",{className:"spinner-border text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):ir.length===0?i.jsx("p",{children:"Cha c mc thc n no cho nh hng ny."}):i.jsx("div",{className:"list-group",children:ir.map(ye=>i.jsxs("div",{className:"list-group-item d-flex justify-content-between align-items-center",children:[i.jsxs("div",{children:[i.jsx("h6",{className:"mb-1",children:ye.name}),i.jsx("p",{className:"mb-0 text-muted",children:ye.description})]}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsxs(Ht,{variant:"outline-info",size:"sm",onClick:()=>qn(ye.id),children:[i.jsx("i",{className:"bi bi-list-ul me-1"}),"Xem mc"]}),i.jsxs(Ht,{variant:"outline-warning",size:"sm",onClick:()=>$n(ye),children:[i.jsx("i",{className:"bi bi-pencil-square me-1"}),"Sa"]}),i.jsxs(Ht,{variant:"outline-danger",size:"sm",onClick:()=>Br(ye.id),children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xa"]})]})]},ye.id))}),i.jsxs("div",{className:"d-flex gap-2 mb-3",children:[ir.map(ye=>i.jsx(Ht,{variant:mn&&mn.id===ye.id?"primary":"outline-primary",size:"sm",onClick:()=>Ys(ye),children:ye.name},ye.id)),i.jsxs(Ht,{variant:"outline-success",size:"sm",onClick:()=>Tt(!0),children:[i.jsx("i",{className:"bi bi-plus-circle me-1"})," Thm mc thc n"]})]}),mn?i.jsxs("div",{children:[i.jsxs("h6",{children:["Mn n trong mc: ",mn.name]}),ct?i.jsx("div",{className:"text-center py-4",children:i.jsx("div",{className:"spinner-border text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):bn.length===0?i.jsx("p",{children:"Cha c mn n no trong mc ny."}):i.jsx("div",{className:"list-group",children:bn.map(ye=>i.jsxs("div",{className:"list-group-item d-flex justify-content-between align-items-center",children:[i.jsxs("div",{children:[i.jsx("h6",{className:"mb-1",children:ye.name}),i.jsx("p",{className:"mb-0 text-muted",children:ye.description}),i.jsxs("p",{className:"mb-0 text-muted",children:["Gi: ",ye.price?ye.price.toLocaleString("vi-VN")+" VND":"---"]}),ye.image_url&&i.jsx("img",{src:ye.image_url.startsWith("http")?ye.image_url:`https://walkingguide.onrender.com${ye.image_url}`,alt:ye.name,style:{maxWidth:80,borderRadius:8,marginTop:4}})]}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsxs(Ht,{variant:"outline-warning",size:"sm",onClick:()=>rn(ye),children:[i.jsx("i",{className:"bi bi-pencil-square me-1"}),"Sa"]}),i.jsxs(Ht,{variant:"outline-danger",size:"sm",onClick:()=>us(ye.id),children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xa"]})]})]},ye.id))}),i.jsx(Ht,{className:"mt-3",variant:"primary",onClick:()=>{rn({name:"",description:"",price:"",image_url:""}),Et(null),vn(null),Bn(!0)},children:"Thm mn n"})]}):i.jsx("div",{className:"text-muted",children:"Cha c mc thc n no. Hy thm mc thc n trc."})]}),i.jsx(yt.Footer,{children:i.jsx(Ht,{variant:"secondary",onClick:()=>ui(!1),children:"ng"})})]}),i.jsxs(yt,{show:Ge,onHide:()=>Tt(!1),children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:dn?"Sa mc thc n":"Thm mc thc n"})}),i.jsxs(yt.Body,{children:[i.jsxs(gn.Group,{className:"mb-3",children:[i.jsx(gn.Label,{children:"Tn mc thc n *"}),i.jsx(gn.Control,{type:"text",value:(dn==null?void 0:dn.name)||"",onChange:ye=>$n({...dn,name:ye.target.value}),required:!0})]}),i.jsxs(gn.Group,{className:"mb-3",children:[i.jsx(gn.Label,{children:"M t (ty chn)"}),i.jsx(gn.Control,{type:"text",value:(dn==null?void 0:dn.description)||"",onChange:ye=>$n({...dn,description:ye.target.value})})]})]}),i.jsxs(yt.Footer,{children:[i.jsx(Ht,{variant:"secondary",onClick:()=>Tt(!1),children:"Hy"}),i.jsx(Ht,{variant:"primary",onClick:Er,children:dn?"Cp nht":"Thm"})]})]}),i.jsxs(yt,{show:xn,onHide:()=>Bn(!1),children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:Je?"Sa mc thc n":"Thm mc thc n"})}),i.jsxs(yt.Body,{children:[i.jsxs(gn.Group,{className:"mb-3",children:[i.jsx(gn.Label,{children:"Tn mc thc n *"}),i.jsx(gn.Control,{type:"text",value:(Je==null?void 0:Je.name)||"",onChange:ye=>rn({...Je,name:ye.target.value}),required:!0})]}),i.jsxs(gn.Group,{className:"mb-3",children:[i.jsx(gn.Label,{children:"M t (ty chn)"}),i.jsx(gn.Control,{type:"text",value:(Je==null?void 0:Je.description)||"",onChange:ye=>rn({...Je,description:ye.target.value})})]}),i.jsxs(gn.Group,{className:"mb-3",children:[i.jsx(gn.Label,{children:"Gi (VND)"}),i.jsx(gn.Control,{type:"number",value:(Je==null?void 0:Je.price)||"",onChange:ye=>rn({...Je,price:ye.target.value}),required:!0})]}),i.jsxs(gn.Group,{className:"mb-3",children:[i.jsx(gn.Label,{children:"Hnh nh mn n"}),i.jsx(gn.Control,{type:"file",accept:"image/*",onChange:ys}),Mt&&i.jsx("img",{src:Mt,alt:"Preview",style:{maxWidth:120,marginTop:8,borderRadius:8}}),!Mt&&(Je==null?void 0:Je.image_url)&&i.jsx("img",{src:Je.image_url.startsWith("http")?Je.image_url:`https://walkingguide.onrender.com${Je.image_url}`,alt:"Preview",style:{maxWidth:120,marginTop:8,borderRadius:8}})]})]}),i.jsxs(yt.Footer,{children:[i.jsx(Ht,{variant:"secondary",onClick:()=>Bn(!1),children:"Hy"}),i.jsx(Ht,{variant:"primary",onClick:Ws,children:Je?"Cp nht":"Thm"})]})]})]})}const UX="https://walkingguide.onrender.com/api",rB={getByTourId:l=>kt.get(`${UX}/tour-steps/by-tour/${l}`)},GC="https://walkingguide.onrender.com";function $X(){const{user:l}=I.useContext(ls),[c,s]=I.useState([]),[o,h]=I.useState(""),[g,_]=I.useState(""),[y,v]=I.useState(null),[N,S]=I.useState(""),[D,j]=I.useState(null),[B,F]=I.useState(!1),[H,$]=I.useState([]),[K,Q]=I.useState([]),[ee,ne]=I.useState({}),[le,se]=I.useState({}),[q,de]=I.useState(0),[re,be]=I.useState(""),[ke,Ne]=I.useState(""),[De,_e]=I.useState(!1),[je,oe]=I.useState(""),[ve,he]=I.useState("danger"),[Ee,Z]=I.useState(!1),[pe,xe]=I.useState(null),[Se,Fe]=I.useState([]),tt=async()=>{const Qe=await kt.get(`${GC}/api/tours`);s(Qe.data);const It={};await Promise.all(Qe.data.map(async Lt=>{try{const Ue=await rB.getByTourId(Lt.id);It[Lt.id]=Ue.data}catch{It[Lt.id]=[]}})),ne(It)},fe=I.useCallback(async()=>{const Qe=await kt.get(`${GC}/api/tours/pending/user`);Fe(Qe.data)},[]);I.useEffect(()=>{tt(),fe(),bb.getAll().then(Qe=>$(Qe.data)).catch(()=>$([]))},[fe]);const me=Qe=>{const It=Qe.target.files[0];if(It){v(It);const Lt=new FileReader;Lt.onload=Ue=>S(Ue.target.result),Lt.readAsDataURL(It)}},Ie=async Qe=>{const It=new FormData;return It.append("file",Qe),(await kt.post(`${GC}/api/upload`,It,{headers:{"Content-Type":"multipart/form-data"}})).data.url},qe=Qe=>{K.includes(Qe)||(Q([...K,Qe]),se(It=>({...It,[Qe]:{day:1,stay_duration:60,start_time:"",end_time:""}})))},Le=Qe=>{Q(K.filter(It=>It!==Qe)),se(It=>{const Lt={...It};return delete Lt[Qe],Lt})},st=(Qe,It,Lt)=>{se(Ue=>({...Ue,[Qe]:{...Ue[Qe],[It]:Lt}}))},Ye=(Qe,It)=>{const Lt=[...K],Ue=Lt[Qe];Lt.splice(Qe,1),Lt.splice(Qe+It,0,Ue),Q(Lt)},Oe=async()=>{if(!l){oe("Bn cn ng nhp  to tour."),he("warning"),_e(!0);return}F(!0);try{let Qe="";y&&(Qe=await Ie(y));const It=K.map((Lt,Ue)=>{var bt,Ut;return{place_id:Lt,step_order:Ue+1,day:((bt=le[Lt])==null?void 0:bt.day)||1,stay_duration:Number((Ut=le[Lt])==null?void 0:Ut.stay_duration)||60}});await kt.post("https://walkingguide.onrender.com/api/tours",{name:o,description:g,image_url:Qe,user_id:l.id,total_cost:parseFloat(q)||0,steps:It}),tt(),Dt()}catch(Qe){console.error("Error creating tour:",Qe),oe("C li xy ra khi to tour"),he("danger"),_e(!0)}finally{F(!1)}},ut=Qe=>{j(Qe.id),h(Qe.name),_(Qe.description),v(null),S(Qe.image_url||""),de(Qe.total_cost?Qe.total_cost.toString():"0");const It=ee[Qe.id]||[];Q(It.sort((Ue,bt)=>Ue.step_order-bt.step_order).map(Ue=>Ue.place_id));const Lt={};It.forEach(Ue=>{Lt[Ue.place_id]={day:Ue.day||1,stay_duration:Ue.stay_duration||60}}),se(Lt),window.scrollTo({top:0,behavior:"smooth"})},ze=async()=>{F(!0);try{let Qe=N;y&&(Qe=await Ie(y));const It=K.map((Lt,Ue)=>{var bt,Ut;return{place_id:Lt,step_order:Ue+1,day:((bt=le[Lt])==null?void 0:bt.day)||1,stay_duration:Number((Ut=le[Lt])==null?void 0:Ut.stay_duration)||60}});await kt.put(`https://walkingguide.onrender.com/api/tours/${D}`,{name:o,description:g,image_url:Qe,total_cost:parseFloat(q)||0,steps:It}),tt(),j(null),Dt()}catch(Qe){console.error("Error updating tour:",Qe),oe("C li xy ra khi cp nht tour"),he("danger"),_e(!0)}finally{F(!1)}},ht=Qe=>{xe(Qe),Z(!0)},Rt=async()=>{if(pe)try{await kt.delete(`https://walkingguide.onrender.com/api/tours/${pe}`),tt(),Z(!1),xe(null)}catch(Qe){console.error("Error deleting tour:",Qe),oe("C li xy ra khi xa tour"),he("danger"),_e(!0)}},Xt=()=>{Z(!1),xe(null)},at=async Qe=>{await kt.post(`https://walkingguide.onrender.com/api/tours/${Qe}/approve`),fe(),tt()},jt=async Qe=>{await kt.post(`https://walkingguide.onrender.com/api/tours/${Qe}/reject`),fe(),tt()},Dt=()=>{j(null),h(""),_(""),v(null),S(""),Q([]),se({}),de(0),be(""),Ne("")};return i.jsxs("div",{className:"admin-layout",children:[i.jsx(wd,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(yd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[De&&i.jsxs("div",{className:`alert alert-${ve} alert-dismissible fade show`,role:"alert",children:[i.jsx("i",{className:`bi ${ve==="danger"?"bi-exclamation-triangle-fill":"bi-exclamation-circle-fill"} me-2`}),je,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>_e(!1)})]}),i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:D?"Chnh sa Tour":"To Tour Mi"})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tn tour *"}),i.jsx("input",{type:"text",className:"form-control",value:o,onChange:Qe=>h(Qe.target.value),placeholder:"Nhp tn tour"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Hnh nh tour"}),i.jsx("input",{type:"file",accept:"image/*",onChange:me,className:"form-control"}),N&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:N.startsWith("data:")?N:`https://walkingguide.onrender.com${N}`,alt:"Xem trc",style:{maxWidth:"200px",maxHeight:"150px",objectFit:"cover",borderRadius:"8px",border:"1px solid #ddd"}})})]})]}),i.jsx("div",{className:"col-md-6",children:i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tng chi ph (VND)"}),i.jsx("input",{type:"text",value:q?parseInt(q).toLocaleString("vi-VN"):"",onChange:Qe=>{const It=Qe.target.value.replace(/\D/g,"");de(It)},className:"form-control",placeholder:"Nhp tng chi ph tour"}),q&&i.jsxs("div",{className:"form-text",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),"Chi ph: ",parseInt(q).toLocaleString("vi-VN")," VN"]}),q&&q.length>0&&q.length<=3&&!q.endsWith("000")&&i.jsxs("div",{className:"mt-2",children:[i.jsx("small",{className:"text-muted",children:"Gi :"}),i.jsx("div",{className:"d-flex flex-wrap gap-1 mt-1",children:(()=>{const Qe=q.replace(/\D/g,"");return[{value:Qe+"000",label:Qe+".000 VN"},{value:Qe+"0000",label:Qe+"0.000 VN"},{value:Qe+"00000",label:Qe+"00.000 VN"},{value:Qe+"000000",label:Qe+".000.000 VN"},{value:Qe+"0000000",label:Qe+"0.000.000 VN"}].filter(Lt=>Lt.value!==q).map((Lt,Ue)=>i.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",style:{fontSize:"0.8rem",padding:"0.25rem 0.5rem"},onClick:()=>de(Lt.value),children:Lt.label},Ue))})()})]})]})})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"M t"}),i.jsx(yw,{value:g,onChange:_,placeholder:"M t tour"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Chn cc a im cho tour (ko  sp xp):"}),i.jsx("div",{className:"d-flex flex-wrap gap-2 mb-2",children:H.map(Qe=>i.jsx("button",{type:"button",className:`btn btn-sm ${K.includes(Qe.id)?"btn-primary":"btn-outline-primary"}`,onClick:()=>qe(Qe.id),disabled:K.includes(Qe.id),children:Qe.name},Qe.id))}),K.length>0&&i.jsx("ul",{className:"list-group",children:K.map((Qe,It)=>{const Lt=H.find(bt=>bt.id===Qe),Ue=le[Qe]||{};return i.jsxs("li",{className:"list-group-item d-flex align-items-center justify-content-between flex-wrap gap-2",children:[i.jsx("span",{children:Lt?Lt.name:Qe}),i.jsx("select",{className:"form-select form-select-sm",style:{width:90},value:Ue.day||1,onChange:bt=>st(Qe,"day",Number(bt.target.value)),children:[...Array(15)].map((bt,Ut)=>i.jsxs("option",{value:Ut+1,children:["Ngy ",Ut+1]},Ut+1))}),i.jsx("input",{type:"number",className:"form-control form-control-sm",style:{width:70},min:1,value:Ue.stay_duration||60,onChange:bt=>st(Qe,"stay_duration",bt.target.value),placeholder:"Pht",title:"Thi gian lu tr (pht)"}),i.jsxs("div",{children:[i.jsx("button",{type:"button",className:"btn btn-sm btn-light me-1",disabled:It===0,onClick:()=>Ye(It,-1),children:i.jsx("i",{className:"bi bi-arrow-up"})}),i.jsx("button",{type:"button",className:"btn btn-sm btn-light me-1",disabled:It===K.length-1,onClick:()=>Ye(It,1),children:i.jsx("i",{className:"bi bi-arrow-down"})}),i.jsx("button",{type:"button",className:"btn btn-sm btn-danger",onClick:()=>Le(Qe),children:i.jsx("i",{className:"bi bi-x"})})]})]},Qe)})})]}),i.jsx("div",{className:"d-flex gap-2",children:D?i.jsxs(i.Fragment,{children:[i.jsx(Ht,{variant:"primary",className:"admin-main-btn",onClick:ze,disabled:B,children:B?"ang cp nht...":"Cp nht Tour"}),i.jsx(Ht,{variant:"secondary",onClick:Dt,disabled:B,children:"Hy"})]}):i.jsx(Ht,{variant:"primary",className:"admin-main-btn",onClick:Oe,disabled:B,children:B?"ang to...":"To Tour"})})]})]}),i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header bg-warning text-dark",children:i.jsx("h5",{children:"Tour do ngi dng to ch duyt"})}),i.jsx("div",{className:"card-body",children:Se.length===0?i.jsx("div",{className:"text-muted",children:"Khng c tour no ch duyt."}):i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-bordered",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Tn tour"}),i.jsx("th",{children:"Ngi to"}),i.jsx("th",{children:"M t"}),i.jsx("th",{children:"Thao tc"})]})}),i.jsx("tbody",{children:Se.map(Qe=>i.jsxs("tr",{children:[i.jsx("td",{children:Qe.id}),i.jsx("td",{children:Qe.name}),i.jsx("td",{children:Qe.user_id}),i.jsx("td",{style:{maxWidth:200,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Qe.description}),i.jsxs("td",{children:[i.jsx("button",{className:"btn btn-success btn-sm me-2",onClick:()=>at(Qe.id),children:"Duyt"}),i.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>jt(Qe.id),children:"T chi"})]})]},Qe.id))})]})})})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Tt c Tour"})}),i.jsx("div",{className:"card-body",children:i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-striped",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Hnh nh"}),i.jsx("th",{children:"Tn tour"}),i.jsx("th",{children:"M t"}),i.jsx("th",{children:"a im (th t)"}),i.jsx("th",{children:"Tng chi ph"}),i.jsx("th",{children:"Thao tc"})]})}),i.jsx("tbody",{children:c.map(Qe=>i.jsxs("tr",{children:[i.jsx("td",{children:Qe.id}),i.jsx("td",{children:Qe.image_url?i.jsx("img",{src:`https://walkingguide.onrender.com${Qe.image_url}`,alt:Qe.name,style:{width:"80px",height:"60px",objectFit:"cover",borderRadius:"4px"}}):i.jsx("div",{style:{width:"80px",height:"60px",backgroundColor:"#e9ecef",display:"flex",alignItems:"center",justifyContent:"center",color:"#6c757d",borderRadius:"4px"},children:i.jsx("i",{className:"bi bi-image"})})}),i.jsx("td",{children:Qe.name}),i.jsx("td",{children:i.jsx("div",{style:{maxHeight:"60px",overflow:"hidden",fontSize:"0.9rem"},dangerouslySetInnerHTML:{__html:Qe.description}})}),i.jsx("td",{children:ee[Qe.id]&&ee[Qe.id].length>0?i.jsx("div",{style:{maxHeight:"60px",overflow:"hidden",fontSize:"0.8rem"},children:ee[Qe.id].sort((It,Lt)=>It.step_order-Lt.step_order).map((It,Lt)=>{const Ue=H.find(bt=>bt.id===It.place_id);return i.jsxs("div",{style:{marginBottom:"2px"},children:[i.jsxs("span",{className:"badge bg-primary me-1",children:["Ngy ",It.day]}),i.jsx("span",{children:Ue?Ue.name:`Place ${It.place_id}`}),Lt<ee[Qe.id].length-1&&i.jsx("i",{className:"bi bi-arrow-right ms-1",style:{fontSize:"0.7rem"}})]},It.id)})}):i.jsx("span",{className:"text-muted",children:"Cha c a im"})}),i.jsx("td",{children:Qe.total_cost?i.jsxs("span",{className:"fw-semibold text-success",children:[Qe.total_cost.toLocaleString("vi-VN")," VND"]}):i.jsx("span",{className:"text-muted",children:"Cha c"})}),i.jsx("td",{children:i.jsxs("div",{className:"btn-group",role:"group",children:[i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>ut(Qe),children:"Sa"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>ht(Qe.id),children:"Xa"})]})})]},Qe.id))})]})})})]})]})})]}),i.jsxs(yt,{show:Ee,onHide:Xt,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Xc nhn xa"})}),i.jsx(yt.Body,{children:"Bn c chc chn mun xa tour ny? Hnh ng ny khng th hon tc."}),i.jsxs(yt.Footer,{children:[i.jsx(Ht,{variant:"secondary",onClick:Xt,children:"Hy"}),i.jsx(Ht,{variant:"danger",className:"admin-btn-danger",onClick:Rt,children:"Xa"})]})]})]})}function qX(){var ve,he;const[l,c]=I.useState([]),[s,o]=I.useState({total:0,pending:0,approved:0,rejected:0,cancelled:0}),[h,g]=I.useState(!0),[_,y]=I.useState(null),[v,N]=I.useState("all"),[S,D]=I.useState(!1),[j,B]=I.useState(null),[F,H]=I.useState(""),[$,K]=I.useState(""),[Q,ee]=I.useState(!1);I.useEffect(()=>{ne(),le()},[v]);const ne=async()=>{try{g(!0);let Ee="https://walkingguide.onrender.com/api/bookings/admin/all";v!=="all"&&(Ee=`https://walkingguide.onrender.com/api/bookings/admin/status/${v}`);const Z=await kt.get(Ee);c(Z.data.data||[])}catch(Ee){console.error("Error fetching bookings:",Ee),y("Li khi ti danh sch t tour")}finally{g(!1)}},le=async()=>{try{const Ee=await kt.get("https://walkingguide.onrender.com/api/bookings/admin/stats");o(Ee.data.data||{})}catch(Ee){console.error("Error fetching stats:",Ee)}},se=(Ee,Z)=>{B(Ee),H(Z),K(""),D(!0)},q=async()=>{if(j)try{ee(!0);let Ee="",Z={};switch(F){case"approve":Ee=`https://walkingguide.onrender.com/api/bookings/admin/${j.id}/approve`,Z={admin_notes:$};break;case"reject":Ee=`https://walkingguide.onrender.com/api/bookings/admin/${j.id}/reject`,Z={admin_notes:$};break;case"cancel":Ee=`https://walkingguide.onrender.com/api/bookings/admin/${j.id}/cancel`,Z={admin_notes:$};break;default:return}(await kt.put(Ee,Z)).data.success&&(ne(),le(),D(!1),B(null),H(""),K(""))}catch(Ee){console.error("Error processing action:",Ee),alert("Li khi x l yu cu. Vui lng th li.")}finally{ee(!1)}},de=Ee=>{const pe={pending:{variant:"warning",text:"Ch x l"},approved:{variant:"success",text:" ph duyt"},rejected:{variant:"danger",text:" t chi"},cancelled:{variant:"secondary",text:" hy"}}[Ee]||{variant:"light",text:Ee};return i.jsx(r3,{bg:pe.variant,children:pe.text})},re=Ee=>new Date(Ee).toLocaleDateString("vi-VN"),be=Ee=>new Date(Ee).toLocaleString("vi-VN"),ke=Ee=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Ee),Ne=(Ee,Z=30)=>Ee?Ee.length<=Z?Ee:Ee.substring(0,Z)+"...":"N/A",De=Ee=>Ee.status==="pending"?i.jsxs("div",{className:"btn-group",role:"group",children:[i.jsx("button",{className:"btn btn-sm btn-success",onClick:()=>se(Ee,"approve"),title:"Ph duyt",children:i.jsx("i",{className:"bi bi-check-circle"})}),i.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>se(Ee,"reject"),title:"T chi",children:i.jsx("i",{className:"bi bi-x-circle"})})]}):Ee.status!=="cancelled"?i.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:()=>se(Ee,"cancel"),title:"Hy t tour",children:[i.jsx("i",{className:"bi bi-x-circle"})," Hy"]}):null,_e=()=>{switch(F){case"approve":return"Ph duyt t tour";case"reject":return"T chi t tour";case"cancel":return"Hy t tour";default:return"X l t tour"}},je=()=>{switch(F){case"approve":return"Bn c chc chn mun ph duyt t tour ny?";case"reject":return"Bn c chc chn mun t chi t tour ny? Vui lng cung cp l do.";case"cancel":return"Bn c chc chn mun hy t tour ny?";default:return""}},oe=()=>F==="reject";return i.jsxs("div",{className:"admin-layout",children:[i.jsx(wd,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(yd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[i.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:i.jsxs("div",{className:"d-flex gap-2",children:[i.jsxs("select",{className:"form-select",value:v,onChange:Ee=>N(Ee.target.value),style:{width:"auto"},children:[i.jsxs("option",{value:"all",children:["Tt c (",s.total,")"]}),i.jsxs("option",{value:"pending",children:["Ch x l (",s.pending,")"]}),i.jsxs("option",{value:"approved",children:[" ph duyt (",s.approved,")"]}),i.jsxs("option",{value:"rejected",children:[" t chi (",s.rejected,")"]}),i.jsxs("option",{value:"cancelled",children:[" hy (",s.cancelled,")"]})]}),i.jsx("button",{className:"btn btn-outline-primary",onClick:()=>{ne(),le()},children:i.jsx("i",{className:"bi bi-arrow-clockwise"})})]})}),i.jsxs("div",{className:"row mb-4",children:[i.jsx("div",{className:"col-md-2",children:i.jsx("div",{className:"card text-center",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h5",{className:"card-title text-primary",children:s.total}),i.jsx("p",{className:"card-text small",children:"Tng cng"})]})})}),i.jsx("div",{className:"col-md-2",children:i.jsx("div",{className:"card text-center",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h5",{className:"card-title text-warning",children:s.pending}),i.jsx("p",{className:"card-text small",children:"Ch x l"})]})})}),i.jsx("div",{className:"col-md-2",children:i.jsx("div",{className:"card text-center",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h5",{className:"card-title text-success",children:s.approved}),i.jsx("p",{className:"card-text small",children:" ph duyt"})]})})}),i.jsx("div",{className:"col-md-2",children:i.jsx("div",{className:"card text-center",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h5",{className:"card-title text-danger",children:s.rejected}),i.jsx("p",{className:"card-text small",children:" t chi"})]})})}),i.jsx("div",{className:"col-md-2",children:i.jsx("div",{className:"card text-center",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h5",{className:"card-title text-secondary",children:s.cancelled}),i.jsx("p",{className:"card-text small",children:" hy"})]})})})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Danh sch t tour"})}),i.jsx("div",{className:"card-body",children:h?i.jsx("div",{className:"text-center py-4",children:i.jsx("div",{className:"spinner-border",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):_?i.jsx(ov,{variant:"danger",children:_}):l.length===0?i.jsxs("div",{className:"text-center py-4",children:[i.jsx("i",{className:"bi bi-calendar-x text-muted",style:{fontSize:"3rem"}}),i.jsx("p",{className:"text-muted mt-2",children:"Khng c t tour no"})]}):i.jsx("div",{className:"table-responsive",children:i.jsxs("table",{className:"table table-striped",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Ngi dng"}),i.jsx("th",{children:"Tour"}),i.jsx("th",{children:"Ngy i"}),i.jsx("th",{children:"Ngy v"}),i.jsx("th",{children:"S ch"}),i.jsx("th",{children:"Tng tin"}),i.jsx("th",{children:"Trng thi"}),i.jsx("th",{children:"Ngy to"}),i.jsx("th",{children:"Thao tc"})]})}),i.jsx("tbody",{children:l.map(Ee=>{var Z,pe,xe,Se,Fe;return i.jsxs("tr",{children:[i.jsx("td",{children:Ee.id}),i.jsx("td",{children:i.jsxs("div",{children:[i.jsx("div",{className:"fw-semibold",children:((Z=Ee.user)==null?void 0:Z.full_name)||"N/A"}),i.jsx("small",{className:"text-muted",children:((pe=Ee.user)==null?void 0:pe.email)||"N/A"})]})}),i.jsx("td",{children:i.jsxs("div",{children:[i.jsx("div",{className:"fw-semibold",title:(xe=Ee.tour)!=null&&xe.name&&Ee.tour.name.length>30?Ee.tour.name:"",style:{cursor:(Se=Ee.tour)!=null&&Se.name&&Ee.tour.name.length>30?"help":"default"},children:Ne((Fe=Ee.tour)==null?void 0:Fe.name)}),i.jsxs("small",{className:"text-muted",children:["ID: ",Ee.tour_id]})]})}),i.jsx("td",{children:re(Ee.start_date)}),i.jsx("td",{children:re(Ee.end_date)}),i.jsx("td",{children:Ee.spots}),i.jsx("td",{children:ke(Ee.total_price)}),i.jsx("td",{children:de(Ee.status)}),i.jsx("td",{children:i.jsxs("div",{children:[i.jsx("div",{children:re(Ee.created_at)}),i.jsx("small",{className:"text-muted",children:be(Ee.created_at).split(" ")[1]})]})}),i.jsx("td",{children:De(Ee)})]},Ee.id)})})]})})})]})]})})]}),i.jsxs(yt,{show:S,onHide:()=>D(!1),children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:_e()})}),i.jsxs(yt.Body,{children:[i.jsx("p",{children:je()}),j&&i.jsxs("div",{className:"mb-3",children:[i.jsx("strong",{children:"Thng tin t tour:"}),i.jsxs("ul",{className:"mt-2",children:[i.jsxs("li",{children:["ID: ",j.id]}),i.jsxs("li",{children:["Ngi dng: ",(ve=j.user)==null?void 0:ve.full_name]}),i.jsxs("li",{children:["Tour: ",((he=j.tour)==null?void 0:he.name)||"N/A"]}),i.jsxs("li",{children:["Ngy i: ",re(j.start_date)]}),i.jsxs("li",{children:["Ngy v: ",re(j.end_date)]}),i.jsxs("li",{children:["S ch: ",j.spots]}),i.jsxs("li",{children:["Tng tin: ",ke(j.total_price)]})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("label",{className:"form-label",children:["Ghi ch ",oe()&&i.jsx("span",{className:"text-danger",children:"*"})]}),i.jsx("textarea",{className:"form-control",rows:"3",placeholder:F==="reject"?"Vui lng nhp l do t chi...":"Ghi ch (ty chn)...",value:$,onChange:Ee=>K(Ee.target.value),required:oe()})]})]}),i.jsxs(yt.Footer,{children:[i.jsx(Ht,{variant:"secondary",onClick:()=>D(!1),children:"Hy"}),i.jsx(Ht,{variant:F==="approve"?"success":F==="reject"?"danger":"secondary",onClick:q,disabled:Q||oe()&&!$.trim(),children:Q?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"ang x l..."]}):F==="approve"?"Ph duyt":F==="reject"?"T chi":"Hy"})]})]})]})}function WX(){const[l,c]=I.useState([]),[s,o]=I.useState(""),[h,g]=I.useState(null),[_,y]=I.useState(!1),[v,N]=I.useState(null);I.useEffect(()=>{S()},[]);const S=async()=>{const K=await iB();c(K.data)},D=async()=>{s.trim()&&(await OX({name:s}),o(""),S())},j=K=>{g(K.id),o(K.name),window.scrollTo({top:0,behavior:"smooth"})},B=async()=>{s.trim()&&(await LX(h,{name:s}),g(null),o(""),S())},F=async K=>{N(K),y(!0)},H=async()=>{if(v)try{await BX(v),S(),y(!1),N(null)}catch(K){console.error("Error deleting tag:",K)}},$=()=>{y(!1),N(null)};return i.jsxs("div",{className:"min-vh-100 d-flex flex-row",style:{background:"#f6f8fa"},children:[i.jsx(yd,{alwaysExpanded:!0}),i.jsxs("div",{className:"flex-grow-1 d-flex flex-column admin-dashboard",style:{marginLeft:220,minHeight:"100vh",padding:0,background:"#f6f8fa"},children:[i.jsx(wd,{}),i.jsx("main",{className:"flex-grow-1",style:{padding:0,maxWidth:"100%",width:"100%",margin:0},children:i.jsx("div",{className:"admin-dashboard-cards-row",children:i.jsxs("div",{className:"container py-4",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("input",{value:s,onChange:K=>o(K.target.value),className:"form-control mb-2",placeholder:"Tn th"}),h?i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:B,className:"btn admin-main-btn me-2",children:"Cp nht"}),i.jsx("button",{onClick:()=>{g(null),o("")},className:"btn admin-btn-secondary",children:"Hy"})]}):i.jsx("button",{onClick:D,className:"btn admin-main-btn",children:"Thm"})]}),i.jsxs("table",{className:"table table-bordered",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"ID"}),i.jsx("th",{children:"Tn th"}),i.jsx("th",{children:"Hnh ng"})]})}),i.jsx("tbody",{children:l.map(K=>i.jsxs("tr",{children:[i.jsx("td",{children:K.id}),i.jsx("td",{children:K.name}),i.jsxs("td",{children:[i.jsx("button",{className:"btn admin-main-btn btn-sm me-2",onClick:()=>j(K),children:"Sa"}),i.jsx("button",{className:"btn admin-btn-danger btn-sm",onClick:()=>F(K.id),children:"Xa"})]})]},K.id))})]})]})})})]}),i.jsx("div",{className:`modal fade ${_?"show":""}`,style:{display:_?"block":"none"},tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content border-0 shadow-lg",children:[i.jsxs("div",{className:"modal-header bg-danger text-white",children:[i.jsxs("h5",{className:"modal-title",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),"Xc nhn xa"]}),i.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:$})]}),i.jsx("div",{className:"modal-body",children:i.jsx("p",{className:"mb-0",children:"Bn c chc mun xa th ny? Hnh ng ny khng th hon tc."})}),i.jsxs("div",{className:"modal-footer",children:[i.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:$,children:[i.jsx("i",{className:"bi bi-x-circle me-1"}),"Hy"]}),i.jsxs("button",{type:"button",className:"btn btn-danger",onClick:H,children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xa"]})]})]})})}),_&&i.jsx("div",{className:"modal-backdrop fade show"})]})}function YX(){const l={footerDescription:"Walking Guide l mt trang web gip bn ln k hoch du lch, v tm kim cc a im du lch gn bn.",footerCopyright:` ${new Date().getFullYear()} Walking Guide. Tt c quyn c bo lu.`,contactEmail:"info@walkingguide.com",contactPhone:"+1 234 567 890",contactAddress:"H Ni, Vit Nam",facebookUrl:"https://facebook.com/walkingguide",instagramUrl:"https://instagram.com/walkingguide",twitterUrl:"https://twitter.com/walkingguide",youtubeUrl:"https://youtube.com/walkingguide"},[c,s]=I.useState(l),[o,h]=I.useState(!1),[g,_]=I.useState({type:"",message:""}),[y,v]=I.useState(!0);I.useEffect(()=>{let D=!0;return F3().then(j=>{D&&j.data&&j.data.success&&s({...l,...j.data.data})}).catch(()=>{_({type:"error",message:"Khng th ti ci t t my ch."})}).finally(()=>v(!1)),()=>{D=!1}},[]);const N=(D,j)=>{s(B=>({...B,[D]:j}))},S=async()=>{h(!0),_({type:"",message:""});try{await P$(c),_({type:"success",message:"Ci t footer  c lu thnh cng!"}),setTimeout(()=>_({type:"",message:""}),2e3)}catch{_({type:"error",message:"C li xy ra khi lu ci t!"})}finally{h(!1)}};return y?i.jsx("div",{className:"admin-content",children:i.jsx("div",{className:"container-fluid py-5 text-center",children:"ang ti ci t..."})}):i.jsxs("div",{className:"admin-layout",children:[i.jsx(wd,{}),i.jsxs("div",{className:"admin-container",children:[i.jsx(yd,{}),i.jsx("div",{className:"admin-content",children:i.jsxs("div",{className:"container-fluid",children:[g.message&&i.jsxs("div",{className:`alert alert-${g.type==="success"?"success":"danger"} alert-dismissible fade show mb-4`,children:[g.message,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>_({type:"",message:""})})]}),i.jsxs("div",{className:"card mb-4",children:[i.jsx("div",{className:"card-header",children:i.jsx("h5",{children:"Ci t"})}),i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"M t"}),i.jsx("textarea",{className:"form-control",value:c.footerDescription,onChange:D=>N("footerDescription",D.target.value),placeholder:"M t hin th trong footer",rows:3})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Bn quyn"}),i.jsx("input",{className:"form-control",value:c.footerCopyright,onChange:D=>N("footerCopyright",D.target.value),placeholder:" 2024 Walking Guide. Tt c quyn c bo lu."})]}),i.jsx("hr",{className:"my-4"}),i.jsx("h5",{className:"mb-3",children:"Thng tin lin h & Mng x hi"}),i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-4 mb-3",children:[i.jsx("label",{className:"form-label",children:"Email"}),i.jsx("input",{className:"form-control",value:c.contactEmail,onChange:D=>N("contactEmail",D.target.value),placeholder:"info@walkingguide.com"})]}),i.jsxs("div",{className:"col-md-4 mb-3",children:[i.jsx("label",{className:"form-label",children:"S in thoi"}),i.jsx("input",{className:"form-control",value:c.contactPhone,onChange:D=>N("contactPhone",D.target.value),placeholder:"+1 234 567 890"})]}),i.jsxs("div",{className:"col-md-4 mb-3",children:[i.jsx("label",{className:"form-label",children:"a ch"}),i.jsx("input",{className:"form-control",value:c.contactAddress,onChange:D=>N("contactAddress",D.target.value),placeholder:"H Ni, Vit Nam"})]})]}),i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6 mb-3",children:[i.jsx("label",{className:"form-label",children:"Facebook URL"}),i.jsx("input",{className:"form-control",value:c.facebookUrl,onChange:D=>N("facebookUrl",D.target.value),placeholder:"https://facebook.com/walkingguide"})]}),i.jsxs("div",{className:"col-md-6 mb-3",children:[i.jsx("label",{className:"form-label",children:"Instagram URL"}),i.jsx("input",{className:"form-control",value:c.instagramUrl,onChange:D=>N("instagramUrl",D.target.value),placeholder:"https://instagram.com/walkingguide"})]}),i.jsxs("div",{className:"col-md-6 mb-3",children:[i.jsx("label",{className:"form-label",children:"Twitter URL"}),i.jsx("input",{className:"form-control",value:c.twitterUrl,onChange:D=>N("twitterUrl",D.target.value),placeholder:"https://twitter.com/walkingguide"})]}),i.jsxs("div",{className:"col-md-6 mb-3",children:[i.jsx("label",{className:"form-label",children:"YouTube URL"}),i.jsx("input",{className:"form-control",value:c.youtubeUrl,onChange:D=>N("youtubeUrl",D.target.value),placeholder:"https://youtube.com/walkingguide"})]})]}),i.jsx(Ht,{variant:"primary",className:"admin-main-btn",onClick:S,disabled:o,children:o?"ang lu...":"Lu thay i"})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card-header",children:i.jsxs("h5",{children:[i.jsx("i",{className:"bi bi-eye me-2"}),"Xem trc Footer"]})}),i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"preview-content",children:[i.jsx("p",{className:"text-muted mb-2",children:c.footerDescription}),i.jsx("p",{className:"text-muted small mb-0",children:c.footerCopyright}),i.jsxs("div",{className:"mt-2",children:[i.jsxs("span",{className:"me-3",children:[i.jsx("i",{className:"bi bi-envelope me-1"}),c.contactEmail]}),i.jsxs("span",{className:"me-3",children:[i.jsx("i",{className:"bi bi-telephone me-1"}),c.contactPhone]}),i.jsxs("span",{className:"me-3",children:[i.jsx("i",{className:"bi bi-geo-alt me-1"}),c.contactAddress]})]}),i.jsxs("div",{className:"mt-2",children:[c.facebookUrl&&i.jsx("a",{href:c.facebookUrl,target:"_blank",rel:"noopener noreferrer",className:"me-2",children:i.jsx("i",{className:"bi bi-facebook"})}),c.instagramUrl&&i.jsx("a",{href:c.instagramUrl,target:"_blank",rel:"noopener noreferrer",className:"me-2",children:i.jsx("i",{className:"bi bi-instagram"})}),c.twitterUrl&&i.jsx("a",{href:c.twitterUrl,target:"_blank",rel:"noopener noreferrer",className:"me-2",children:i.jsx("i",{className:"bi bi-twitter-x"})}),c.youtubeUrl&&i.jsx("a",{href:c.youtubeUrl,target:"_blank",rel:"noopener noreferrer",className:"me-2",children:i.jsx("i",{className:"bi bi-youtube"})})]})]})})]})]})})]})]})}function du({children:l}){const{user:c}=I.useContext(ls);return c?l:i.jsx(a5,{to:"/login"})}function dd({children:l}){const{user:c}=I.useContext(ls);return(c==null?void 0:c.role)==="ADMIN"?l:i.jsx(a5,{to:"/"})}const nb="https://walkingguide.onrender.com/api/articles",sB={getAll:()=>kt.get(nb),getById:l=>kt.get(`${nb}/${l}`),create:l=>kt.post(nb,l),update:(l,c)=>kt.put(`${nb}/${l}`,c),delete:l=>kt.delete(`${nb}/${l}`)},GX=[{value:"",label:"Chn loi bo co"},{value:"spam",label:"Spam"},{value:"inappropriate",label:"Ni dung khng ph hp"},{value:"misinformation",label:"Thng tin sai lch"},{value:"copyright",label:"Vi phm bn quyn"},{value:"other",label:"Khc"}],KX=({open:l,onClose:c,onSubmit:s,submitting:o,error:h,success:g})=>{const[_,y]=I.useState(""),[v,N]=I.useState(""),[S,D]=I.useState("");I.useEffect(()=>{l||(y(""),N(""),D(""))},[l]);const j=B=>{if(B.preventDefault(),!_){D("Vui lng chn loi bo co.");return}if(!v.trim()){D("Vui lng nhp l do bo co.");return}D(""),s({type:_,reason:v})};return i.jsxs(yt,{show:l,onHide:c,centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Bo co bi vit"})}),i.jsxs(yt.Body,{children:[g&&i.jsx(ov,{variant:"success",children:"Bo co ca bn  c gi!"}),h&&i.jsx(ov,{variant:"danger",children:h}),S&&i.jsx(ov,{variant:"warning",children:S}),i.jsxs("form",{onSubmit:j,children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Loi bo co"}),i.jsx("div",{children:GX.filter(B=>B.value).map(B=>i.jsxs("div",{className:"form-check form-check-inline",children:[i.jsx("input",{className:"form-check-input",type:"radio",name:"reportType",id:`report-type-${B.value}`,value:B.value,checked:_===B.value,onChange:F=>y(F.target.value),disabled:o||g}),i.jsx("label",{className:"form-check-label",htmlFor:`report-type-${B.value}`,children:B.label})]},B.value))})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"L do bo co"}),i.jsx("textarea",{className:"form-control",value:v,onChange:B=>N(B.target.value),placeholder:"M t l do bn mun bo co bi vit ny...",rows:4,disabled:o||g})]}),i.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[i.jsx(Ht,{variant:"secondary",onClick:c,disabled:o||g,children:"Hy"}),i.jsx(Ht,{type:"submit",variant:"danger",disabled:o||g,children:o?i.jsx(O3,{animation:"border",size:"sm"}):"Gi bo co"})]})]})]})]})},QX=`
  .highlight-comment {
    background:rgb(117, 189, 249) !important;
    animation: highlight-comment 0.5s ease-in-out;
  }
`,La="https://walkingguide.onrender.com",MO=()=>{const[l,c]=I.useState(null),[s,o]=I.useState(!0),[h,g]=I.useState(null),[_,y]=I.useState(null),[v,N]=I.useState([]),{id:S}=Cb(),D=ba(),{user:j}=it.useContext(ls),[B,F]=I.useState(0),[H,$]=I.useState(!1),[K,Q]=I.useState([]),[ee,ne]=I.useState(""),[le,se]=I.useState(!1),[q,de]=I.useState(""),[re,be]=I.useState({}),[ke,Ne]=I.useState(null),[De,_e]=I.useState(""),je=Ul(),[oe,ve]=I.useState(!1),[he,Ee]=I.useState(!1),[Z,pe]=I.useState(null),[xe,Se]=I.useState(!1);I.useEffect(()=>{if(!S||isNaN(S)){g("ID bi vit khng hp l"),o(!1);return}const st=async()=>{try{const ut=`${La}/api/articles/${S}`,ze=await fetch(ut,{method:"GET",headers:{Accept:"application/json"}});if(!ze.ok){const Xt=await ze.text();throw new Error(`Li ${ze.status}: ${Xt||ze.statusText}`)}const ht=ze.headers.get("Content-Type");if(!ht||!ht.includes("application/json")){const Xt=await ze.text();throw new Error(`Response khng phi JSON: ${Xt.slice(0,100)}...`)}const Rt=await ze.json();c(Rt),Ye(Rt.admin_id),o(!1)}catch(ut){g(`Li khi gi API: ${ut.message}`),o(!1)}},Ye=async ut=>{try{const ht=(await Sm.getAll()).data.find(Rt=>Rt.id===ut||Rt.id===Number(ut));y(ht)}catch{y(null)}};st(),(async()=>{try{let ze=(await sB.getAll()).data||[];ze=ze.filter(ht=>ht.article_id!==Number(S)),ze.sort((ht,Rt)=>new Date(Rt.published_at)-new Date(ht.published_at)),N(ze)}catch{N([])}})(),S&&(fetch(`${La}/api/article-likes/${S}/likes`).then(ut=>ut.json()).then(ut=>F(ut.count||0)),j?fetch(`${La}/api/article-likes/is-liked?article_id=${S}&user_id=${j.id}`).then(ut=>ut.json()).then(ut=>$(!!ut.liked)):$(!1),fetch(`${La}/api/article-comments/${S}`).then(ut=>ut.json()).then(ut=>Q(Array.isArray(ut)?ut:[])),Sm.getAll().then(ut=>{const ze={};(ut.data||[]).forEach(ht=>{ze[ht.id]=ht.full_name||`User #${ht.id}`}),be(ze)}))},[S,j]),I.useEffect(()=>{if(je.hash.startsWith("#comment-")&&K.length>0){const st=je.hash.replace("#comment-",""),Ye=document.getElementById(`comment-${st}`);Ye&&(Ye.scrollIntoView({behavior:"smooth",block:"center"}),Ye.classList.add("highlight-comment"),setTimeout(()=>Ye.classList.remove("highlight-comment"),2e3))}},[je,K]);const Fe=async()=>{if(!j)return;await fetch(`${La}/api/article-likes/${H?"unlike":"like"}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({article_id:S,user_id:j.id})}),$(!H),F(B+(H?-1:1))},tt=async st=>{if(st.preventDefault(),!(!j||!ee.trim())){se(!0),de("");try{if(!(await fetch(`${La}/api/article-comments/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({article_id:S,user_id:j.id,content:ee})})).ok)throw new Error("Li khi gi bnh lun");ne(""),fetch(`${La}/api/article-comments/${S}`).then(Oe=>Oe.json()).then(Oe=>Q(Array.isArray(Oe)?Oe:[]))}catch(Ye){de(Ye.message)}finally{se(!1)}}},fe=st=>{Ne(st.id),_e(st.content)},me=()=>{Ne(null),_e("")},Ie=async st=>{if(De.trim()){se(!0),de("");try{if(!(await fetch(`${La}/api/article-comments/${st.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:De,user_id:j.id})})).ok)throw new Error("Li khi sa bnh lun");Ne(null),_e(""),fetch(`${La}/api/article-comments/${S}`).then(Oe=>Oe.json()).then(Oe=>Q(Array.isArray(Oe)?Oe:[]))}catch(Ye){de(Ye.message)}finally{se(!1)}}},qe=async st=>{if(window.confirm("Bn c chc mun xa bnh lun ny?")){se(!0),de("");try{if(!(await fetch(`${La}/api/article-comments/${st.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:j.id})})).ok)throw new Error("Li khi xa bnh lun");fetch(`${La}/api/article-comments/${S}`).then(Oe=>Oe.json()).then(Oe=>Q(Array.isArray(Oe)?Oe:[]))}catch(Ye){de(Ye.message)}finally{se(!1)}}};if(s)return i.jsx("div",{className:"flex justify-center items-center h-screen",children:i.jsx("p",{className:"text-xl text-gray-600",children:"ang ti..."})});if(h)return i.jsx("div",{className:"flex justify-center items-center h-screen",children:i.jsx("p",{className:"text-xl text-red-600",children:h})});function Le(st,Ye){const Oe=[];for(let ut=0;ut<st.length;ut+=Ye)Oe.push(st.slice(ut,ut+Ye));return Oe}return i.jsxs("div",{className:"min-vh-100 d-flex flex-column luxury-home-container",children:[i.jsx(Lr,{}),i.jsx("main",{className:"flex-grow-1",children:i.jsx("div",{className:"container mx-auto p-4 max-w-3xl",children:i.jsxs("div",{style:{background:"rgba(245, 250, 255, 0.95)",borderRadius:"1.5rem",boxShadow:"0 4px 24px 0 rgba(31, 38, 135, 0.10)",padding:"2.5rem 2rem",margin:"2rem 0"},children:[l&&i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[i.jsx("h2",{style:{margin:0},children:l.title}),j&&i.jsx("button",{onClick:()=>ve(!0),className:"btn btn-outline-danger btn-sm",children:"Bo co"})]}),l.published_at&&i.jsxs("div",{className:"text-center text-muted mb-2",style:{fontSize:"1rem"},children:["ng ngy: ",new Date(l.published_at).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),l.image_url&&i.jsx("div",{className:"d-flex justify-content-center mb-4",children:i.jsx("img",{src:l.image_url.startsWith("http")?l.image_url:`${La}${l.image_url}`,alt:l.title,style:{maxWidth:"420px",maxHeight:"260px",width:"100%",objectFit:"cover",borderRadius:"1rem",boxShadow:"0 2px 12px #b6e0fe55"}})}),i.jsxs("div",{className:"text-gray-600 mb-4 d-flex flex-wrap gap-4 justify-content-center align-items-center",style:{fontSize:"1.05rem"},children:[i.jsxs("span",{className:"d-flex align-items-center gap-2",children:["Ngi ng: ",i.jsx("b",{children:_?_.full_name:"Admin"})]}),i.jsx("span",{className:"d-flex align-items-center gap-2 ms-3",children:i.jsxs("button",{className:`btn btn-sm ${H?"btn-danger":"btn-outline-danger"}`,onClick:Fe,disabled:!j,title:j?H?"B thch":"Thch bi vit":"ng nhp  thch",style:{minWidth:40},children:[i.jsx("i",{className:`bi ${H?"bi-heart-fill":"bi-heart"}`}),i.jsx("span",{className:"ms-1",children:B})]})})]}),i.jsx("div",{className:"prose prose-lg mb-4",style:{color:"#223a5f",fontSize:"1.15rem",lineHeight:1.7},children:i.jsx("div",{dangerouslySetInnerHTML:{__html:l.content}})}),i.jsxs("div",{className:"mt-5",children:[i.jsxs("h4",{className:"fw-bold mb-3",children:["Bnh lun (",K.length,")"]}),j?i.jsxs("form",{className:"mb-3 d-flex gap-2",onSubmit:tt,children:[i.jsx("input",{type:"text",className:"form-control",placeholder:"Vit bnh lun...",value:ee,onChange:st=>ne(st.target.value),disabled:le}),i.jsx("button",{className:"btn btn-main",type:"submit",disabled:le||!ee.trim(),children:le?i.jsx("i",{className:"bi bi-send fa-spin"}):i.jsx("i",{className:"bi bi-send"})})]}):i.jsx("div",{className:"alert alert-warning",children:"Bn cn ng nhp  bnh lun."}),q&&i.jsx("div",{className:"alert alert-danger",children:q}),i.jsx("div",{className:"comments-list",children:K.length===0?i.jsx("div",{className:"text-muted",children:"Cha c bnh lun no."}):K.map((st,Ye)=>i.jsxs("div",{id:`comment-${st.id}`,className:"mb-3 p-2 bg-light rounded",children:[i.jsxs("b",{children:[st.user_id&&re[st.user_id]?re[st.user_id]:"n danh",":"]})," ",ke===st.id?i.jsxs(i.Fragment,{children:[i.jsx("input",{type:"text",className:"form-control d-inline-block w-auto",value:De,onChange:Oe=>_e(Oe.target.value),disabled:le,style:{maxWidth:300,marginRight:8}}),i.jsx("button",{className:"btn btn-success btn-sm me-1",onClick:()=>Ie(st),disabled:le||!De.trim(),children:"Lu"}),i.jsx("button",{className:"btn btn-secondary btn-sm",onClick:me,disabled:le,children:"Hy"})]}):i.jsxs(i.Fragment,{children:[st.content,j&&st.user_id===j.id&&i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"btn btn-link btn-sm text-primary ms-2 text-decoration-none",onClick:()=>fe(st),disabled:le,children:"Sa"}),i.jsx("button",{className:"btn btn-link btn-sm text-danger text-decoration-none",onClick:()=>qe(st),disabled:le,children:"Xa"})]})]}),i.jsx("div",{className:"text-muted small",children:st.created_at?new Date(st.created_at).toLocaleString("vi-VN"):""})]},st.id||Ye))})]}),i.jsx("div",{className:"d-flex justify-content-center",children:i.jsx("button",{onClick:()=>D(-1),className:"mt-6 btn btn-main",style:{minWidth:140},children:"Quay li"})})]})})}),i.jsxs("div",{className:"container my-5",children:[i.jsx("h2",{className:"h4 mb-4 fw-bold luxury-section-title",children:"Bi vit khc"}),v.length===0?i.jsx("p",{className:"text-muted text-center",children:"Khng c bi vit no  hin th."}):i.jsxs("div",{id:"articlesCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[i.jsx("div",{className:"carousel-inner",children:Le(v,3).map((st,Ye)=>i.jsx("div",{className:`carousel-item${Ye===0?" active":""}`,children:i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 justify-content-center",children:st.map(Oe=>i.jsx("div",{className:"col",children:i.jsx("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:i.jsxs(Jt,{to:`/articles/${Oe.article_id}`,className:"text-decoration-none",children:[Oe.image_url&&i.jsx("img",{src:Oe.image_url.startsWith("http")?Oe.image_url:`${La}${Oe.image_url}`,alt:Oe.title,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover",borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem"}}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:Oe.title}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:Oe.content?`${Oe.content.replace(/<[^>]+>/g,"").substring(0,100)}...`:"Cha c ni dung"})]})]})})},Oe.article_id))})},st.map(Oe=>Oe.article_id).join("-")))}),v.length>3&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#articlesCarousel","data-bs-slide":"prev",style:{width:"5rem",height:"5rem",top:"50%",left:"-4rem",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Previous"})]}),i.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#articlesCarousel","data-bs-slide":"next",style:{width:"5rem",height:"5rem",top:"50%",right:"-4rem",left:"auto",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Next"})]})]})]})]}),i.jsx($r,{}),i.jsx("style",{children:QX}),i.jsx(KX,{open:oe,onClose:()=>{ve(!1),pe(null),Se(!1)},onSubmit:async({type:st,reason:Ye})=>{Ee(!0),pe(null),Se(!1);try{const Oe=await fetch(`${La}/api/articles/${S}/report`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j==null?void 0:j.token}`},body:JSON.stringify({type:st,reason:Ye})});if(!Oe.ok){const ut=await Oe.json().catch(()=>({}));throw new Error(ut.message||"Gi bo co tht bi")}Se(!0),setTimeout(()=>ve(!1),1500)}catch(Oe){pe(Oe.message)}finally{Ee(!1)}},submitting:he,error:Z,success:xe}),xe&&i.jsx("div",{style:{color:"green",marginTop:8},children:"Report submitted!"}),Z&&i.jsx("div",{style:{color:"red",marginTop:8},children:Z})]})},oB=({id:l,type:c="place"})=>{const{user:s}=Sb(),[o,h]=I.useState(!1),[g,_]=I.useState(0),[y,v]=I.useState(!1);I.useEffect(()=>{if(!l)return;const S=c==="tour"?"tour-likes":"place-likes";zt.get(`${S}/count`,{params:{[`${c}_id`]:l}}).then(D=>_(D.data.count)).catch(D=>{D.response&&D.response.status===404&&_(0)}),s&&zt.get(`${S}/is-liked`,{params:{[`${c}_id`]:l}}).then(D=>h(D.data.liked)).catch(D=>{D.response&&D.response.status===404&&h(!1)})},[l,s,c]);const N=async()=>{if(!s)return alert("Bn cn ng nhp  thch!");v(!0);const S=c==="tour"?"tour-likes":"place-likes";try{o?(await zt.post(`${S}/unlike`,{[`${c}_id`]:l}),h(!1),_(D=>D-1)):(await zt.post(`${S}/like`,{[`${c}_id`]:l}),h(!0),_(D=>D+1))}catch{alert("C li khi cp nht lt thch.")}v(!1)};return i.jsxs("button",{className:`btn btn-sm d-flex align-items-center gap-1 shadow-sm px-3 py-2 ${o?"btn-primary":"btn-outline-danger"}`,onClick:N,disabled:y,style:{borderRadius:24,fontWeight:600,fontSize:16,transition:"all 0.2s"},children:[i.jsx(lY,{style:{color:o?"#e74c3c":"#aaa",transition:"color 0.2s",filter:o?"drop-shadow(0 0 6px #e74c3c88)":"none",transform:o?"scale(1.2)":"scale(1)"}}),i.jsx("span",{style:{minWidth:24,textAlign:"center"},children:g})]})},ZX=({placeId:l})=>{const{user:c}=Sb(),[s,o]=I.useState([]),[h,g]=I.useState(""),[_,y]=I.useState(!1),v=async()=>{try{const D=await zt.get(`comments/place/${l}`);o(Array.isArray(D.data)?D.data:[])}catch{o([])}};I.useEffect(()=>{l&&v()},[l]);const N=async D=>{if(D.preventDefault(),!c)return alert("Bn cn ng nhp  bnh lun!");if(h.trim()){y(!0);try{await zt.post("comments",{place_id:l,user_id:c.id,content:h}),g(""),v()}catch{alert("C li khi gi bnh lun.")}y(!1)}},S=async D=>{if(window.confirm("Xa bnh lun ny?")){y(!0);try{await zt.delete(`comments/${D}`),v()}catch{alert("Khng th xa bnh lun.")}y(!1)}};return i.jsxs("div",{className:"comment-section mt-3",children:[i.jsx("h6",{className:"fw-bold mb-2",style:{color:"#3498db"},children:"Bnh lun"}),i.jsxs("form",{onSubmit:N,className:"mb-2 d-flex gap-2",children:[i.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Vit bnh lun...",value:h,onChange:D=>g(D.target.value),disabled:_,style:{borderRadius:16,border:"1px solid #b6e0fe"}}),i.jsx("button",{className:"btn btn-primary btn-sm px-3",type:"submit",disabled:_||!h.trim(),style:{borderRadius:16},children:"Gi"})]}),i.jsxs("div",{className:"comments-list",children:[(!Array.isArray(s)||s.length===0)&&i.jsx("div",{className:"text-muted",children:"Cha c bnh lun."}),Array.isArray(s)&&s.map(D=>i.jsxs("div",{className:"border rounded p-2 mb-2 bg-light d-flex justify-content-between align-items-center shadow-sm",style:{borderRadius:14},children:[i.jsxs("div",{children:[i.jsxs("span",{className:"fw-bold",style:{color:"#1a2a47"},children:[D.user_full_name||`Ngi dng #${D.comment_user_id||D.user_id}`,":"]})," ",D.comment_content||D.content]}),c&&(c.id===D.comment_user_id||c.id===D.user_id)&&i.jsx("button",{className:"btn btn-link text-danger btn-sm text-decoration-none",onClick:()=>S(D.comment_id||D.id),children:"Xa"})]},D.comment_id||D.id))]})]})},aB="https://walkingguide.onrender.com";delete ar.Icon.Default.prototype._getIconUrl;ar.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const KC=l=>{if(l.image_url){const o=l.image_url.startsWith("http")?l.image_url:`${aB}${l.image_url}`;return new ar.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          overflow: hidden;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
          <img 
            src="${o}" 
            alt="${l.name}"
            style="
              width: 100%;
              height: 100%;
              margin-left: 11px;
              object-fit: cover;
            "
            onerror="this.style.display='none'; this.parentElement.innerHTML='<i class=\\"bi bi-geo-alt-fill\\" style=\\"font-size: 20px; color: #3498db;\\"></i>';"
          />
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})}else return new ar.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
                          <i className="bi bi-geo-alt-fill" style="fontSize: 24, color: '#3498db'"></i>
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})},ip="5ae2e3f221c38a28845f05b61952da66ed7231df6303c387c3d2a08c",rp="https://api.opentripmap.com/0.1/en/places",IO=new ar.Icon({iconUrl:sw,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]}),OO=new ar.Icon({iconUrl:ow,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]}),XX=()=>{var tt;const[l,c]=I.useState(null),[s,o]=I.useState(!0),[h,g]=I.useState(null),[_,y]=I.useState(!1),{id:v}=Cb(),N=ba(),[S,D]=I.useState([]),[j,B]=I.useState([]),[F,H]=I.useState(null),[$,K]=I.useState([]),[Q,ee]=I.useState(null),[ne,le]=I.useState(!1),[se,q]=I.useState(null),[de,re]=I.useState([]),[be,ke]=I.useState([]),[Ne,De]=I.useState(!1),[_e,je]=I.useState(null),[oe,ve]=I.useState({}),[he,Ee]=I.useState([]),[Z,pe]=I.useState([]);I.useEffect(()=>{(async()=>{try{const qe=await zt.get(`/places/${v}`);if(qe.status!==200)throw new Error("Khng tm thy a im");const Le=qe.data;c(Le),o(!1)}catch(qe){g(qe.message),o(!1)}})(),zt.get("/places").then(qe=>K(qe.data)).catch(()=>K([]));const me=async()=>{try{const qe=await zt.get("/hotels");Ee(qe.data.data||qe.data)}catch{Ee([])}},Ie=async()=>{try{const qe=await zt.get("/restaurants");pe(qe.data.data||qe.data)}catch{pe([])}};me(),Ie()},[v]),I.useEffect(()=>{if(!l)return;(async()=>{try{const Ie=(await zt.get("/tours")).data;let qe=null,Le=[],st=1/0;for(const Ye of Ie){const ut=(await zt.get(`/tour-steps/by-tour/${Ye.id}`)).data;if(ut.some(ht=>ht.place_id===l.id)&&ut.length>0){const ht=ut[0],Xt=(await zt.get(`/places/${ht.place_id}`)).data,at=Math.sqrt(Math.pow(l.latitude-Xt.latitude,2)+Math.pow(l.longitude-Xt.longitude,2));at<st&&(st=at,qe=Ye,Le=ut)}}if(Le.length>0){const Ye=await Promise.all(Le.map(Oe=>zt.get(`/places/${Oe.place_id}`).then(ut=>ut.data)));D(Le),B(Ye),H(qe)}else D([]),B([]),H(null)}catch{D([]),B([]),H(null)}})()},[l]),I.useEffect(()=>{const fe=me=>{me.key==="Escape"&&_&&y(!1)};return document.addEventListener("keydown",fe),()=>{document.removeEventListener("keydown",fe)}},[_]);const xe=fe=>{const me=document.createElement("div");return me.innerHTML=fe,me.textContent||me.innerText||""},Se=I.useCallback(async fe=>{if(fe){le(!0),q(null),ee(null);try{let me=null;const Ie=qe=>/^[\x00-\x7F]*$/.test(qe);if(fe.name&&Ie(fe.name)){let qe=fe.name;fe.city&&!fe.name.includes(fe.city)&&!/phng|qun|tnh|vit|nam|vn|,|huyn/i.test(fe.city)&&(qe+=`, ${fe.city}`),qe=encodeURIComponent(qe);const Le=`${rp}/autosuggest?query=${qe}&apikey=${ip}`,st=await fetch(Le);if(st.status===429){q("Bn  gi qu nhiu yu cu ti OpenTripMap. Vui lng th li sau."),ee(null),le(!1);return}if(st.status!==400){const Ye=await st.json();Ye&&Ye.features&&Ye.features.length>0&&(me=Ye.features[0])}}if(!me&&fe.latitude&&fe.longitude){const Le=`${rp}/radius?radius=200&lon=${fe.longitude}&lat=${fe.latitude}&apikey=${ip}`,Ye=await(await fetch(Le)).json();if(Ye.features&&Ye.features.length>0){const Oe=ut=>ut==null?void 0:ut.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"");me=Ye.features.find(ut=>Oe(ut.properties.name)===Oe(fe.name)),me||(me=Ye.features[0])}}if(me&&me.properties&&me.properties.xid){const qe=`${rp}/xid/${me.properties.xid}?apikey=${ip}`,st=await(await fetch(qe)).json();ee(st)}else ee(null)}catch{q("Khng th ti thng tin t OpenTripMap"),ee(null)}finally{le(!1)}}},[]),Fe=I.useCallback(async fe=>{if(!(!fe||!fe.latitude||!fe.longitude)){De(!0),je(null),ve({});try{const me=`${rp}/radius?radius=500&lon=${fe.longitude}&lat=${fe.latitude}&kinds=restaurants&limit=2&apikey=${ip}`,Le=(await(await fetch(me)).json()).features||[];re(Le);const st=`${rp}/radius?radius=500&lon=${fe.longitude}&lat=${fe.latitude}&kinds=accomodations&limit=2&apikey=${ip}`,Ye=await fetch(st);if(Ye.status===429){je("Bn  gi qu nhiu yu cu ti OpenTripMap. Vui lng th li sau."),ke([]),De(!1);return}const ut=(await Ye.json()).features||[];ke(ut);const ze=[...Le,...ut],ht={};for(const Rt of ze)if(Rt.properties&&Rt.properties.xid){const Xt=`otm_detail_${Rt.properties.xid}`;let at=null;const jt=localStorage.getItem(Xt);if(jt)at=JSON.parse(jt);else{try{at=await(await fetch(`${rp}/xid/${Rt.properties.xid}?apikey=${ip}`)).json(),localStorage.setItem(Xt,JSON.stringify(at))}catch{}await new Promise(Dt=>setTimeout(Dt,2e3))}ht[Rt.properties.xid]=at}ve(ht)}catch{je("Khng th ti nh hng/khch sn ln cn"),re([]),ke([]),ve({})}finally{De(!1)}}},[]);return I.useEffect(()=>{l&&Se(l)},[l,Se]),I.useEffect(()=>{l&&Fe(l)},[l,Fe]),s?i.jsx("div",{className:"min-vh-100 d-flex align-items-center justify-content-center",style:{background:"linear-gradient(90deg, #2196f3, #64b5f6)"},children:i.jsxs("div",{className:"text-center text-white",children:[i.jsx("div",{className:"spinner-border mb-3",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("h4",{children:"ang ti thng tin a im..."})]})}):h?i.jsx("div",{className:"min-vh-100 d-flex align-items-center justify-content-center",style:{background:"linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%)"},children:i.jsxs("div",{className:"text-center text-white",children:[i.jsx("i",{className:"bi bi-exclamation-triangle display-1 mb-3"}),i.jsx("h4",{children:h}),i.jsxs("button",{onClick:()=>N(-1),className:"btn btn-light mt-3",children:[i.jsx("i",{className:"bi bi-arrow-left me-2"}),"Quay li"]})]})}):i.jsxs("div",{className:"min-vh-100 d-flex flex-column",style:{background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)"},children:[i.jsx(Lr,{}),i.jsx("main",{className:"flex-grow-1",children:i.jsx("div",{className:"container-fluid p-0",children:i.jsx("div",{className:"row g-0",children:i.jsx("div",{className:"col-12",children:i.jsxs("div",{className:"place-detail-map-container",children:[i.jsx("div",{className:"map-background",children:i.jsxs(pb,{center:[parseFloat(l.latitude),parseFloat(l.longitude)],zoom:16,className:"detail-map",zoomControl:!0,children:[i.jsx(gb,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),j.map((fe,me)=>i.jsx(ao,{position:[parseFloat(fe.latitude),parseFloat(fe.longitude)],icon:KC(fe.id===l.id?{...fe}:fe),children:i.jsx(lo,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("h5",{className:"text-primary mb-2",children:fe.name}),fe.address&&i.jsx("p",{className:"mb-1 small",children:fe.address}),fe.city&&i.jsx("p",{className:"mb-0 text-muted small",children:fe.city})]})})},fe.id)),j.length===0&&i.jsx(ao,{position:[parseFloat(l.latitude),parseFloat(l.longitude)],icon:KC(l),children:i.jsx(lo,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("h5",{className:"text-primary mb-2",children:l.name}),l.address&&i.jsx("p",{className:"mb-1 small",children:l.address}),l.city&&i.jsx("p",{className:"mb-0 text-muted small",children:l.city})]})})}),$.filter(fe=>!j.some(me=>me.id===fe.id)).map(fe=>i.jsx(ao,{position:[parseFloat(fe.latitude),parseFloat(fe.longitude)],icon:KC(fe),children:i.jsx(lo,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("h5",{className:"text-primary mb-2",children:fe.name}),fe.address&&i.jsx("p",{className:"mb-1 small",children:fe.address}),fe.city&&i.jsx("p",{className:"mb-0 text-muted small",children:fe.city})]})})},fe.id)),he.filter(fe=>fe.latitude&&fe.longitude).map(fe=>i.jsx(ao,{position:[fe.latitude,fe.longitude],icon:IO,children:i.jsx(lo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:fe.name}),i.jsx("br",{}),fe.address&&i.jsxs("span",{children:[fe.address,i.jsx("br",{})]}),fe.city&&i.jsxs("span",{children:[fe.city,i.jsx("br",{})]}),fe.price_range&&i.jsxs("span",{children:["Gi: ",fe.price_range,i.jsx("br",{})]}),fe.rating&&i.jsxs("span",{children:["nh gi: ",fe.rating.toFixed(1)," / 5"]})]})})},`hotel-backend-${fe.id}`)),Z.filter(fe=>fe.latitude&&fe.longitude).map(fe=>i.jsx(ao,{position:[fe.latitude,fe.longitude],icon:OO,children:i.jsx(lo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:fe.name}),i.jsx("br",{}),fe.address&&i.jsxs("span",{children:[fe.address,i.jsx("br",{})]}),fe.city&&i.jsxs("span",{children:[fe.city,i.jsx("br",{})]}),fe.price_range&&i.jsxs("span",{children:["Gi: ",fe.price_range,i.jsx("br",{})]}),fe.rating&&i.jsxs("span",{children:["nh gi: ",fe.rating.toFixed(1)," / 5"]})]})})},`restaurant-backend-${fe.id}`)),be.filter(fe=>fe.geometry&&fe.geometry.coordinates).map((fe,me)=>i.jsx(ao,{position:[fe.geometry.coordinates[1],fe.geometry.coordinates[0]],icon:IO,children:i.jsx(lo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:fe.properties.name||"Khch sn ln cn"}),i.jsx("br",{}),fe.properties.address&&i.jsxs("span",{children:[Object.values(fe.properties.address).join(", "),i.jsx("br",{})]})]})})},`hotel-otm-${fe.properties.xid}`)),de.filter(fe=>fe.geometry&&fe.geometry.coordinates).map((fe,me)=>i.jsx(ao,{position:[fe.geometry.coordinates[1],fe.geometry.coordinates[0]],icon:OO,children:i.jsx(lo,{children:i.jsxs("div",{children:[i.jsx("strong",{children:fe.properties.name||"Nh hng ln cn"}),i.jsx("br",{}),fe.properties.address&&i.jsxs("span",{children:[Object.values(fe.properties.address).join(", "),i.jsx("br",{})]})]})})},`restaurant-otm-${fe.properties.xid}`))]})}),i.jsx("div",{className:`info-overlay ${_?"expanded":""}`,children:i.jsx("div",{className:"overlay-content",children:i.jsx("div",{className:"tab-content",children:i.jsxs("div",{className:"place-basic-info",children:[l.image_url&&i.jsxs("div",{className:"position-relative",style:{height:"250px"},children:[i.jsx("img",{src:l.image_url.startsWith("http")?l.image_url:`${aB}${l.image_url}`,alt:l.name,className:"w-100 h-100",style:{objectFit:"cover"},onError:fe=>{fe.target.src="/default-place.jpg"}}),i.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"linear-gradient(180deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.4) 100%)"}}),i.jsxs("div",{className:"position-absolute bottom-0 start-0 w-100 p-3",children:[i.jsx("h2",{className:"text-white fw-bold mb-2 text-shadow",style:{fontSize:"1.8rem"},children:l.name}),i.jsxs("div",{className:"d-flex flex-wrap gap-2 align-items-center",children:[l.city&&i.jsxs("span",{className:"badge bg-primary bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),l.city]}),i.jsxs("span",{className:"badge bg-warning bg-opacity-75 px-3 py-2 rounded-pill",children:[i.jsx("i",{className:"bi bi-star-fill me-1"}),(tt=l.rating)!=null&&tt.toFixed?l.rating.toFixed(1):l.rating,"/5"]})]})]})]}),i.jsx("div",{className:"d-flex justify-content-end pe-3",children:i.jsxs("button",{className:"btn btn-primary btn-sm rounded-pill",style:{fontSize:"0.8rem"},title:_?"Thu nh thng tin":"M rng thng tin",onClick:()=>y(!_),children:[i.jsx("i",{className:`bi ${_?"bi-arrows-collapse":"bi-arrows-expand"} me-1`}),_?"Xem bn ":"Xem thm"]})}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"row g-3 mb-4",children:[l.address&&i.jsx("div",{className:"col-12",children:i.jsxs("div",{className:"d-flex align-items-center p-3 bg-light rounded-3",children:[i.jsx("div",{className:"bg-primary bg-opacity-10 p-2 rounded-circle me-3",children:i.jsx("i",{className:"bi bi-house text-primary"})}),i.jsxs("div",{children:[i.jsx("small",{className:"text-muted d-block",children:"a ch"}),i.jsx("strong",{className:"text-dark",children:l.address})]})]})}),l.opening_hours&&i.jsx("div",{className:"col-12",children:i.jsxs("div",{className:"d-flex align-items-center p-3 bg-light rounded-3",children:[i.jsx("div",{className:"bg-success bg-opacity-10 p-2 rounded-circle me-3",children:i.jsx("i",{className:"bi bi-clock text-success"})}),i.jsxs("div",{children:[i.jsx("small",{className:"text-muted d-block",children:"Gi m ca"}),i.jsx("strong",{className:"text-dark",children:l.opening_hours})]})]})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"text-primary mb-3",children:[i.jsx("i",{className:"bi bi-info-circle me-2"}),"M t"]}),i.jsx("div",{className:"p-3 bg-light rounded-3 description-text",style:{fontSize:"0.95rem",maxHeight:"150px",overflowY:"auto"},children:i.jsx("div",{children:xe(l.description)})})]}),l.service&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"text-primary mb-3",children:[i.jsx("i",{className:"bi bi-activity me-2"}),"Dch v"]}),i.jsx("div",{className:"p-3 service-section",children:i.jsx("p",{className:"text-dark mb-0 fw-medium",style:{fontSize:"0.95rem"},children:l.service})})]}),i.jsxs("div",{className:"card shadow-sm p-4 mb-4",style:{borderRadius:20,background:"linear-gradient(120deg, #f8fafc 0%, #e3f0ff 100%)"},children:[i.jsxs("h5",{className:"text-warning mb-3",children:[i.jsx("i",{className:"bi bi-star-fill me-2"}),"nh gi"]}),i.jsxs("div",{className:"d-flex align-items-center gap-4 mb-3 flex-wrap",children:[i.jsx(oB,{placeId:l.id}),i.jsx(Vl,{id:l.id})]}),i.jsx(ZX,{placeId:l.id})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"text-success mb-3",children:[i.jsx("i",{className:"bi bi-geo-alt me-2"}),"Nh hng & Khch sn ln cn"]}),Ne&&i.jsx("div",{children:"ang ti nh hng/khch sn ln cn..."}),_e&&i.jsx("div",{className:"text-danger",children:_e}),!Ne&&!_e&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("strong",{children:"Nh hng gn y:"}),de.length===0?i.jsx("span",{className:"text-muted ms-2",children:"Khng c d liu"}):i.jsx("ul",{className:"list-unstyled ms-2",children:de.map(fe=>{const me=oe[fe.properties.xid]||{};return i.jsxs("li",{className:"mb-3 d-flex align-items-start gap-3",children:[me.preview&&me.preview.source?i.jsx("img",{src:me.preview.source,alt:me.name,style:{width:56,height:56,objectFit:"cover",borderRadius:8,flexShrink:0}}):i.jsx("div",{style:{width:56,height:56,background:"#eee",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",color:"#bbb",fontSize:24},children:i.jsx("i",{className:"bi bi-image"})}),i.jsxs("div",{children:[i.jsx("a",{href:`https://opentripmap.com/en/place/${fe.properties.xid}`,target:"_blank",rel:"noopener noreferrer",style:{fontWeight:600},children:me.name||fe.properties.name||"Nh hng khng tn"}),me.address&&i.jsx("div",{className:"small text-muted",children:Object.values(me.address).join(", ")}),me.wikipedia_extracts&&i.jsx("div",{className:"small",children:me.wikipedia_extracts.text})]})]},fe.properties.xid)})})]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Khch sn gn y:"}),be.length===0?i.jsx("span",{className:"text-muted ms-2",children:"Khng c d liu"}):i.jsx("ul",{className:"list-unstyled ms-2",children:be.map(fe=>{const me=oe[fe.properties.xid]||{};return i.jsxs("li",{className:"mb-3 d-flex align-items-start gap-3",children:[me.preview&&me.preview.source?i.jsx("img",{src:me.preview.source,alt:me.name,style:{width:56,height:56,objectFit:"cover",borderRadius:8,flexShrink:0}}):i.jsx("div",{style:{width:56,height:56,background:"#eee",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",color:"#bbb",fontSize:24},children:i.jsx("i",{className:"bi bi-image"})}),i.jsxs("div",{children:[i.jsx("a",{href:`https://opentripmap.com/en/place/${fe.properties.xid}`,target:"_blank",rel:"noopener noreferrer",style:{fontWeight:600},children:me.name||fe.properties.name||"Khch sn khng tn"}),me.address&&i.jsx("div",{className:"small text-muted",children:Object.values(me.address).join(", ")}),me.wikipedia_extracts&&i.jsx("div",{className:"small",children:me.wikipedia_extracts.text})]})]},fe.properties.xid)})})]})]})]}),i.jsxs("div",{className:"d-flex gap-2 justify-content-center pt-3",children:[i.jsxs("button",{onClick:()=>N(-1),className:"btn btn-outline-primary px-3 py-2 rounded-pill",style:{fontSize:"0.9rem"},children:[i.jsx("i",{className:"bi bi-arrow-left me-2"}),"Quay li"]}),i.jsxs("button",{className:"btn btn-primary px-3 py-2 rounded-pill",style:{fontSize:"0.9rem"},children:[i.jsx("i",{className:"bi bi-share me-2"}),"Chia s"]})]})]})]})})})})]})})})})})]})},J_={searchByCity:l=>kt.get(`https://walkingguide.onrender.com/api/restaurants/search?city=${encodeURIComponent(l)}`)},Cm="https://walkingguide.onrender.com",JX=({places:l})=>{const c=xh();return I.useEffect(()=>{if(l&&l.length>0)if(l.length===1)c.setView([parseFloat(l[0].latitude),parseFloat(l[0].longitude)],14);else{const s=ar.latLngBounds(l.map(o=>[parseFloat(o.latitude),parseFloat(o.longitude)]));c.fitBounds(s,{padding:[20,20]})}},[l,c]),null},eJ=l=>{if(l.image_url){const o=l.image_url.startsWith("http")?l.image_url:`${Cm}${l.image_url}`;return new ar.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          overflow: hidden;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
          <img 
            src="${o}" 
            alt="${l.name}"
            style="
              width: 100%;
              height: 100%;
              margin-left: 11px;
              object-fit: cover;
            "
            onerror="this.style.display='none'; this.parentElement.innerHTML='<i class=\\"bi bi-geo-alt-fill\\" style=\\"font-size: 20px; color: #3498db;\\"></i>';"
          />
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})}else return new ar.DivIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: 2px solid #3498db;
          background: white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          display: flex;
          align-items: center;
          justify-content: center;
        ">
          <i class="bi bi-geo-alt-fill" style="font-size: 24px; color: #3498db;"></i>
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-25]})},tJ=()=>new ar.Icon({iconUrl:sw,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]}),nJ=()=>new ar.Icon({iconUrl:ow,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]});function uu(l){return l?l.normalize("NFD").replace(/\u0300-\u036f/g,"").replace(/[\u0300-\u036f]/g,"").replace(//g,"d").replace(//g,"D").trim().toLowerCase():""}const iJ=()=>{var st,Ye;const[l,c]=I.useState(null),[s,o]=I.useState(!0),[h,g]=I.useState(null),{id:_}=Cb();ba();const[y,v]=I.useState([]),[N,S]=I.useState([]),[D,j]=I.useState(!1),[B,F]=I.useState(null),[H,$]=I.useState(null),{user:K}=it.useContext(ls),[Q,ee]=I.useState(!1),[ne,le]=I.useState(null),[se,q]=I.useState(null),[de,re]=I.useState(""),[be,ke]=I.useState(1),[Ne,De]=I.useState(!1),[_e,je]=I.useState("journey"),[oe,ve]=I.useState([]),[he,Ee]=I.useState([]),[Z,pe]=I.useState(!1),[xe,Se]=I.useState(!1),[Fe,tt]=I.useState([]),[fe,me]=I.useState([]);I.useEffect(()=>{(async()=>{try{const ze=await kt.get(`${Cm}/api/tours/${_}`);if(ze.status!==200)throw new Error("Khng tm thy l trnh");const ht=ze.headers["content-type"];if(!ht||!ht.includes("application/json"))throw new Error("Server tr v d liu khng hp l");const Rt=ze.data;console.log("Fetched tour:",Rt),c(Rt),o(!1)}catch(ze){g(ze.message),o(!1)}})(),(async()=>{try{let ht=(await vb.getAll({role:"ADMIN"})).data||[];v(ht)}catch{v([])}})()},[_]),I.useEffect(()=>{if(!l||!l.steps||l.steps.length===0){S([]);return}(async()=>{const ut=[...l.steps].sort((at,jt)=>at.step_order-jt.step_order),ze=ut.filter(at=>at.place_id&&!isNaN(Number(at.place_id))),ht=await Promise.all(ze.map(at=>kt.get(`${Cm}/api/places/${Number(at.place_id)}`).then(jt=>jt.data)));S(ht);let Rt=0;const Xt=ut.map(at=>{if(at.place_id&&!isNaN(Number(at.place_id))){const jt=ht[Rt];return Rt++,{...at,place:jt}}return at});console.log("Steps with place:",Xt),c(at=>({...at,steps:Xt}))})()},[l==null?void 0:l.id,(st=l==null?void 0:l.steps)==null?void 0:st.length]),I.useEffect(()=>{const Oe=async()=>{try{const ze=await gh.getAll?gh.getAll():gh.searchByCity("");tt(ze.data.data||ze.data||[])}catch{tt([])}},ut=async()=>{try{const ze=await J_.getAll?J_.getAll():J_.searchByCity("");me(ze.data.data||ze.data||[])}catch{me([])}};Oe(),ut()},[]),I.useEffect(()=>{if(N.length>0){const Oe=async()=>{pe(!0);const ze=Le();console.log("Fetching hotels for cities:",ze);let ht=[];for(const Rt of ze)try{const Xt=await gh.searchByCity(Rt);console.log(`Hotels for ${Rt}:`,Xt.data),Xt.data&&Xt.data.data&&(ht=ht.concat(Xt.data.data))}catch(Xt){console.error(`Error fetching hotels for ${Rt}:`,Xt)}console.log("All fetched hotels:",ht),tt(ht),pe(!1)},ut=async()=>{Se(!0);const ze=Le();console.log("Fetching restaurants for cities:",ze);let ht=[];for(const Rt of ze)try{const Xt=await J_.searchByCity(Rt);console.log(`Restaurants for ${Rt}:`,Xt.data),Xt.data&&Xt.data.data&&(ht=ht.concat(Xt.data.data))}catch(Xt){console.error(`Error fetching restaurants for ${Rt}:`,Xt)}console.log("All fetched restaurants:",ht),me(ht),Se(!1)};Oe(),ut()}},[N]),I.useEffect(()=>{if(_e==="hotels"&&N.length>0&&Fe){pe(!0);const Oe=N.map(ze=>uu(ze.city)).filter(Boolean),ut=Fe.filter(ze=>{const ht=uu(ze.city);return Oe.includes(ht)});ve(ut),pe(!1)}if(_e==="restaurants"&&N.length>0&&fe){Se(!0);const Oe=N.map(ze=>uu(ze.city)).filter(Boolean),ut=fe.filter(ze=>{const ht=uu(ze.city);return Oe.includes(ht)});Ee(ut),Se(!1)}},[_e,N,Fe,fe]);function Ie(Oe,ut){const ze=[];for(let ht=0;ht<Oe.length;ht+=ut)ze.push(Oe.slice(ht,ht+ut));return ze}const qe=async()=>{var Oe,ut;if(re(""),!ne||!se){re("Vui lng chn c ngy bt u v kt thc.");return}if(se<ne){re("Ngy kt thc phi sau ngy bt u.");return}if(!K||!K.id){re("Bn cn ng nhp  t tour.");return}if(be<1||be>20){re("S lng ch phi t 1 n 20.");return}De(!0);try{await vb.bookTour(l.id,K.id,ne,se,be),ee(!1),F(`t tour thnh cng!
S lng khch: ${be}
Tng gi: ${(be*(l.total_cost||0)).toLocaleString("vi-VN")} VND`)}catch(ze){re(((ut=(Oe=ze==null?void 0:ze.response)==null?void 0:Oe.data)==null?void 0:ut.error)||"Li khi t tour. Vui lng th li.")}finally{De(!1)}};function Le(){console.log("Route places:",N);const Oe=N.map(ht=>ht.city&&ht.city.trim()).filter(Boolean);console.log("Extracted cities:",Oe);const ut=new Set,ze=Oe.filter(ht=>{const Rt=uu(ht);return ut.has(Rt)?!1:(ut.add(Rt),!0)});return console.log("Unique normalized cities:",ze),ze}return s?i.jsx("div",{className:"flex justify-center items-center h-screen",children:i.jsx("p",{className:"text-xl text-gray-600",children:"ang ti..."})}):h?i.jsx("div",{className:"flex justify-center items-center h-screen",children:i.jsx("p",{className:"text-xl text-red-600",children:h})}):i.jsxs("div",{className:"min-vh-100 d-flex flex-column luxury-home-container",children:[i.jsx(Lr,{}),i.jsx("main",{className:"flex-grow-1",children:i.jsx("div",{className:"container mx-auto p-4 max-w-3xl",children:i.jsxs("div",{style:{background:"rgba(245, 250, 255, 0.95)",borderRadius:"1.5rem",boxShadow:"0 4px 24px 0 rgba(31, 38, 135, 0.10)",padding:"2.5rem 2rem",margin:"2rem 0"},children:["            ",i.jsxs("div",{style:{position:"relative",width:"100%",minHeight:380,maxHeight:520,borderRadius:"1.5rem",overflow:"hidden",marginBottom:40,boxShadow:"0 4px 32px 0 rgba(177, 178, 189, 0.13)"},children:[i.jsx("img",{src:l.image_url.startsWith("http")?l.image_url:`${Cm}${l.image_url}`,alt:l.name,style:{width:"100%",height:520,objectFit:"cover",objectPosition:"center",filter:"brightness(0.6)",position:"absolute",top:0,left:0,zIndex:1}}),i.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(180deg, rgba(24, 24, 24, 0.55) 0%, rgba(134, 132, 132, 0.18) 60%, rgba(60, 60, 60, 0.65) 100%)",zIndex:2}}),i.jsxs("div",{style:{position:"relative",zIndex:3,height:520,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"0 2.5rem",textAlign:"center"},children:[i.jsx("h1",{className:"display-3 fw-bold mb-3",style:{color:"#fff",textShadow:"0 2px 24px #000a",letterSpacing:"-1.5px",fontSize:"3.2rem"},children:l.name}),i.jsxs("div",{className:"d-flex gap-3 justify-content-center align-items-center mb-2",children:[i.jsx(oB,{id:l.id,type:"tour"}),i.jsx(Vl,{id:l.id,type:"tour"})]})]})]}),i.jsxs("div",{className:"mb-5 p-4",style:{background:"#fafdff",borderRadius:"1.25rem",boxShadow:"0 2px 12px #b6e0fe22"},children:[i.jsx("h2",{className:"h5 fw-bold mb-3",style:{color:"#3c69b0",letterSpacing:"-0.5px"},children:"Gii thiu v chuyn i"}),i.jsx("hr",{style:{margin:"0 0 1.5rem 0",borderColor:"#e3f0ff"}}),i.jsx("div",{className:"prose prose-lg",style:{color:"#223a5f",fontSize:"1.15rem",lineHeight:1.7},children:i.jsx("div",{dangerouslySetInnerHTML:{__html:l.description}})})]}),i.jsx("div",{style:{width:"100%",maxWidth:"100%",height:340,borderRadius:"1.5rem",overflow:"hidden",boxShadow:"0 4px 24px #b6e0fe55",border:"1px solid #e3f0ff",flex:"1 1 400px",background:"#fafdff"},children:i.jsxs(pb,{center:[10.8231,106.6297],zoom:13,style:{width:"100%",height:"100%"},scrollWheelZoom:!1,dragging:!0,doubleClickZoom:!1,boxZoom:!1,keyboard:!1,zoomControl:!0,children:[i.jsx(JX,{places:N}),i.jsx(gb,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),N.length>1&&i.jsx(tq,{positions:N.map(Oe=>[parseFloat(Oe.latitude),parseFloat(Oe.longitude)]),pathOptions:{color:"#1a5bb8",weight:4,opacity:.8}}),N.map((Oe,ut)=>i.jsx(ao,{position:[parseFloat(Oe.latitude),parseFloat(Oe.longitude)],icon:eJ(Oe),children:i.jsx(lo,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("h5",{className:"text-primary mb-2",children:Oe.name}),Oe.address&&i.jsx("p",{className:"mb-1 small",children:Oe.address}),Oe.city&&i.jsx("p",{className:"mb-0 text-muted small",children:Oe.city})]})})},`place-${Oe.id}`)),Fe.map((Oe,ut)=>i.jsx(ao,{position:[parseFloat(Oe.latitude),parseFloat(Oe.longitude)],icon:tJ(),children:i.jsx(lo,{children:i.jsxs("div",{className:"text-center",children:[i.jsxs("h6",{className:"text-danger mb-2",children:[i.jsx("i",{className:"bi bi-building me-1"}),Oe.name]}),Oe.city&&i.jsx("p",{className:"mb-1 small",children:Oe.city}),Oe.price_range&&i.jsx("p",{className:"mb-1 text-muted small",children:Oe.price_range}),i.jsxs(Jt,{to:`/hotels/${Oe.id}`,className:"btn btn-sm btn-outline-danger mt-2",children:[i.jsx("i",{className:"bi bi-arrow-right me-1"}),"Xem chi tit"]})]})})},`hotel-${Oe.id}`)),fe.map((Oe,ut)=>i.jsx(ao,{position:[parseFloat(Oe.latitude),parseFloat(Oe.longitude)],icon:nJ(),children:i.jsx(lo,{children:i.jsxs("div",{className:"text-center",children:[i.jsxs("h6",{className:"text-warning mb-2",children:[i.jsx("i",{className:"bi bi-cup-hot me-1"}),Oe.name]}),Oe.city&&i.jsx("p",{className:"mb-1 small",children:Oe.city}),Oe.cuisine_type&&i.jsx("p",{className:"mb-1 small text-muted",children:Oe.cuisine_type}),Oe.price_range&&i.jsx("p",{className:"mb-1 text-muted small",children:Oe.price_range}),i.jsxs(Jt,{to:`/restaurants/${Oe.id}`,className:"btn btn-sm btn-outline-warning mt-2",children:[i.jsx("i",{className:"bi bi-arrow-right me-1"}),"Xem chi tit"]})]})})},`restaurant-${Oe.id}`))]})}),i.jsxs("div",{style:{display:"flex",justifyContent:"center",marginTop:24,marginBottom:16},children:[i.jsx("button",{className:`tab-btn${_e==="journey"?" active":""}`,style:{padding:"10px 24px",border:"none",borderRadius:"1.5rem 0 0 1.5rem",background:_e==="journey"?"#b6e0fe":"#e3f0ff",color:_e==="journey"?"#1a5bb8":"#3c69b0",fontWeight:600,fontSize:16,cursor:"pointer",transition:"background 0.2s, color 0.2s",outline:"none"},onClick:()=>je("journey"),children:"Hnh trnh"}),i.jsx("button",{className:`tab-btn${_e==="hotels"?" active":""}`,style:{padding:"10px 24px",border:"none",borderRadius:0,background:_e==="hotels"?"#b6e0fe":"#e3f0ff",color:_e==="hotels"?"#1a5bb8":"#3c69b0",fontWeight:600,fontSize:16,cursor:"pointer",transition:"background 0.2s, color 0.2s",outline:"none"},onClick:()=>je("hotels"),children:"Khch sn"}),i.jsx("button",{className:`tab-btn${_e==="restaurants"?" active":""}`,style:{padding:"10px 24px",border:"none",borderRadius:"0 1.5rem 1.5rem 0",background:_e==="restaurants"?"#b6e0fe":"#e3f0ff",color:_e==="restaurants"?"#1a5bb8":"#3c69b0",fontWeight:600,fontSize:16,cursor:"pointer",transition:"background 0.2s, color 0.2s",outline:"none"},onClick:()=>je("restaurants"),children:"Nh hng"})]}),i.jsxs("div",{style:{marginTop:16},children:[_e==="journey"&&i.jsx("div",{children:l.steps&&l.steps.length>0&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl fw-bold mb-3 mt-4",style:{color:"#3c69b0"},children:"Hnh trnh:"}),(()=>{const Oe=l.steps.reduce((ze,ht)=>{const Rt=ht.day||1;return ze[Rt]||(ze[Rt]=[]),ze[Rt].push(ht),ze},{}),ut=Object.keys(Oe).sort((ze,ht)=>ze-ht);return i.jsx("div",{children:ut.map(ze=>i.jsxs("div",{className:"mb-3",children:[i.jsxs("h4",{className:"fw-bold mb-2",style:{color:"#3c69b0"},children:["Ngy ",ze]}),i.jsx("div",{children:Oe[ze].sort((ht,Rt)=>ht.step_order-Rt.step_order).map(ht=>i.jsxs("div",{className:"mb-4",style:{position:"relative",paddingLeft:0},children:[i.jsx("div",{style:{fontWeight:700,color:"#3c69b0",fontSize:"1.12rem",marginBottom:4},children:ht.place_name||ht.place&&ht.place.name}),ht.place&&ht.place.description&&i.jsxs("div",{style:{color:"#223a5f",fontSize:"1.01rem",background:"#fafdff",borderRadius:8,padding:"10px 14px",boxShadow:"0 1px 6px #e3f0ff33"},children:[ht.place.description.replace(/<[^>]+>/g,"").slice(0,180),ht.place.description.length>180?"...":""]})]},ht.id))})]},ze))})})()]})}),_e==="hotels"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl fw-bold mb-3 mt-4",style:{color:"#3c69b0"},children:"Khch sn dc hnh trnh"}),Z?i.jsx("div",{className:"text-muted",children:"ang ti khch sn..."}):Le().length===0?i.jsx("div",{className:"text-muted",children:"Khng tm thy thnh ph no trong hnh trnh."}):Le().map(Oe=>{const ut=Fe.filter(ze=>uu(ze.city)===uu(Oe));return i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"fw-bold mb-3",children:["Khch sn ti ",Oe]}),i.jsx("div",{className:"row g-4",children:ut.length===0?i.jsx("div",{className:"col-12 text-muted",children:"Khng tm thy khch sn ph hp."}):ut.map((ze,ht)=>i.jsx("div",{className:"col-12 col-md-6 col-lg-4",children:i.jsx(Jt,{to:`/hotels/${ze.id}`,className:"text-decoration-none",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs("div",{className:"position-relative",children:[ze.images&&ze.images.length>0&&ze.images[0].image_url?i.jsx("img",{src:ze.images[0].image_url.startsWith("http")?ze.images[0].image_url:`${Cm}${ze.images[0].image_url}`,alt:ze.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,background:"linear-gradient(135deg, #3498db 0%, #2980b9 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-building"})}),ze.stars&&i.jsx("div",{className:"position-absolute top-0 end-0 m-2",children:i.jsxs("span",{className:"badge bg-warning text-dark",children:[i.jsx("i",{className:"bi bi-star-fill me-1"}),ze.stars]})})]}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:ze.name}),ze.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),ze.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:ze.description?`${ze.description.substring(0,100)}...`:"Khng c m t"}),i.jsx(Vl,{id:ze.id,type:"hotel"}),ze.price_range&&i.jsxs("p",{className:"card-text text-muted small mb-0",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",ze.price_range,ze.min_price>0&&` (${ze.min_price.toLocaleString()} VND)`]})]})]})})},ze.id||ht))})]},Oe)})]}),_e==="restaurants"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl fw-bold mb-3 mt-4",style:{color:"#3c69b0"},children:"Nh hng dc hnh trnh"}),xe?i.jsx("div",{className:"text-muted",children:"ang ti nh hng..."}):Le().length===0?i.jsx("div",{className:"text-muted",children:"Khng tm thy thnh ph no trong hnh trnh."}):Le().map(Oe=>{const ut=fe.filter(ze=>uu(ze.city)===uu(Oe));return i.jsxs("div",{className:"mb-4",children:[i.jsxs("h5",{className:"fw-bold mb-3",children:["Nh hng ti ",Oe]}),i.jsx("div",{className:"row g-4",children:ut.length===0?i.jsx("div",{className:"col-12 text-muted",children:"Khng tm thy nh hng ph hp."}):ut.map((ze,ht)=>i.jsx("div",{className:"col-12 col-md-6 col-lg-4",children:i.jsx(Jt,{to:`/restaurants/${ze.id}`,className:"text-decoration-none",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs("div",{className:"position-relative",children:[ze.images&&ze.images.length>0&&ze.images[0].image_url?i.jsx("img",{src:ze.images[0].image_url.startsWith("http")?ze.images[0].image_url:`${Cm}${ze.images[0].image_url}`,alt:ze.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,background:"linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-cup-hot"})}),ze.cuisine_type&&i.jsx("div",{className:"position-absolute top-0 start-0 m-2",children:i.jsx("span",{className:"badge bg-primary",children:ze.cuisine_type})})]}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:ze.name}),ze.city&&i.jsxs("p",{className:"card-text text-primary mb-1 small",children:[i.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),ze.city]}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:ze.description?`${ze.description.substring(0,100)}...`:"Khng c m t"}),i.jsx(Vl,{id:ze.id,type:"restaurant"}),ze.price_range&&i.jsxs("p",{className:"card-text text-muted small mb-0",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",ze.price_range,ze.min_price>0&&` (${ze.min_price.toLocaleString()} VND)`]})]})]})})},ze.id||ht))})]},Oe)})]})]}),i.jsx("div",{className:"d-flex justify-content-center mt-3",children:l&&K&&l.user_id!==K.id&&i.jsx("button",{className:"btn btn-main",onClick:()=>ee(!0),disabled:D,children:D?"ang thm...":"Thm vo chuyn i ca ti"})}),i.jsx(H5,{open:!!B,onClose:()=>F(null),children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{style:{fontSize:48,color:"#28a745",marginBottom:16},children:i.jsx("i",{className:"bi bi-check-circle-fill"})}),i.jsx("h4",{className:"mb-3",style:{color:"#28a745"},children:"Thnh cng!"}),i.jsx("div",{className:"mb-4",style:{whiteSpace:"pre-line"},children:B}),i.jsx("button",{className:"btn btn-main px-4",onClick:()=>F(null),children:"ng"})]})}),H&&i.jsx("div",{className:"alert alert-danger text-center mt-3",children:H})]})})}),i.jsxs("div",{className:"container my-5",children:[i.jsx("h2",{className:"h4 mb-4 fw-bold luxury-section-title",children:"Chuyn i khc"}),(()=>{const Oe=(Array.isArray(y)?y:[]).filter(ut=>ut.id!==Number(_));return Oe.length===0?i.jsx("p",{className:"text-muted text-center",children:"Khng c chuyn i no  hin th."}):i.jsxs("div",{id:"toursCarousel",className:"carousel slide","data-bs-ride":"carousel",children:[i.jsx("div",{className:"carousel-inner",children:Ie(Oe,3).map((ut,ze)=>i.jsx("div",{className:`carousel-item${ze===0?" active":""}`,children:i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 justify-content-center",children:ut.map(ht=>i.jsx("div",{className:"col",children:i.jsx(Jt,{to:`/tours/${ht.id}`,className:"text-decoration-none",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsx("div",{className:"position-relative",children:ht.image_url?i.jsx("img",{src:ht.image_url.startsWith("http")?ht.image_url:`${Cm}${ht.image_url}`,alt:ht.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,background:"linear-gradient(135deg, #1a5bb8 0%, #3c69b0 100%)",color:"white",fontSize:"3rem",borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem"},children:i.jsx("i",{className:"bi bi-map"})})}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:ht.name}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:ht.description?`${ht.description.replace(/<[^>]+>/g,"").substring(0,100)}...`:"Cha c m t"}),i.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[i.jsxs("span",{className:"card-text text-muted small mb-0 luxury-rating",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",ht.total_cost?ht.total_cost.toLocaleString("vi-VN"):"0"," VND"]}),ht.rating&&i.jsx(Vl,{id:ht.id,type:"tour"})]})]})]})})},ht.id))})},ut.map(ht=>ht.id).join("-")))}),Ie(Oe,3).length>1&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#toursCarousel","data-bs-slide":"prev",style:{width:"5rem",height:"5rem",top:"50%",left:"-4rem",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Previous"})]}),i.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#toursCarousel","data-bs-slide":"next",style:{width:"5rem",height:"5rem",top:"50%",right:"-4rem",left:"auto",transform:"translateY(-50%)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[i.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true",style:{width:"2.5rem",height:"2.5rem"}}),i.jsx("span",{className:"visually-hidden",children:"Next"})]})]})]})})()]}),Q&&i.jsxs(yt,{show:Q,onHide:()=>ee(!1),centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"Chn ngy bt u, kt thc v s lng ch"})}),i.jsxs(yt.Body,{children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:i.jsx("strong",{children:"Ngy bt u:"})}),i.jsx(Rv,{selected:ne,onChange:Oe=>le(Oe),selectsStart:!0,startDate:ne,endDate:se,minDate:new Date,dateFormat:"dd/MM/yyyy",className:"form-control"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:i.jsx("strong",{children:"Ngy kt thc:"})}),i.jsx(Rv,{selected:se,onChange:Oe=>q(Oe),selectsEnd:!0,startDate:ne,endDate:se,minDate:ne||new Date,dateFormat:"dd/MM/yyyy",className:"form-control"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:i.jsx("strong",{children:"S lng ch:"})}),i.jsx("input",{type:"number",min:1,max:20,value:be,onChange:Oe=>ke(Math.max(1,Math.min(20,Number(Oe.target.value)))),className:"form-control",style:{maxWidth:120}})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("strong",{children:"Gi mi ch:"})," ",(Ye=l.total_cost)==null?void 0:Ye.toLocaleString("vi-VN")," VND",i.jsx("br",{}),i.jsx("strong",{children:"Tng cng:"})," ",(be*(l.total_cost||0)).toLocaleString("vi-VN")," VND"]}),de&&i.jsx("div",{className:"alert alert-danger py-2",children:de})]}),i.jsxs(yt.Footer,{children:[i.jsx(Ht,{variant:"secondary",onClick:()=>ee(!1),disabled:Ne,children:"ng"}),i.jsxs(Ht,{variant:"primary",onClick:qe,disabled:Ne||!ne||!se||be<1||be>20,children:[Ne?i.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}):null,"Xc nhn"]})]})]}),i.jsx($r,{})]})},rJ=({show:l,onClose:c,onConfirm:s,title:o="Xc nhn",message:h,confirmText:g="Xc nhn",cancelText:_="Hy",type:y="warning",confirmVariant:v="danger"})=>{const N=()=>{switch(y){case"danger":return i.jsx("i",{className:"bi bi-exclamation-triangle-fill text-danger me-2"});case"warning":return i.jsx("i",{className:"bi bi-exclamation-triangle-fill text-warning me-2"});default:return i.jsx("i",{className:"bi bi-question-circle-fill text-info me-2"})}},S=()=>{switch(v){case"danger":return"danger";case"warning":return"warning";case"success":return"success";default:return"primary"}};return i.jsxs(yt,{show:l,onHide:c,centered:!0,className:"luxury-modal",children:[i.jsx(yt.Header,{closeButton:!0,className:"luxury-modal-header",children:i.jsxs(yt.Title,{className:"luxury-modal-title d-flex align-items-center",children:[N(),o]})}),i.jsx(yt.Body,{className:"luxury-modal-body",children:i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"mb-0",style:{fontSize:"1.1rem",lineHeight:"1.6"},children:h})})}),i.jsxs(yt.Footer,{className:"luxury-modal-footer",children:[i.jsx(Ht,{variant:"secondary",onClick:c,style:{minWidth:"100px"},children:_}),i.jsx(Ht,{variant:S(),onClick:s,className:"btn-main",style:{minWidth:"100px"},children:g})]})]})};function sJ(){var $n;const{user:l}=I.useContext(ls),[c,s]=I.useState([]),[o,h]=I.useState(!0),[g,_]=I.useState(""),[y,v]=I.useState(null),[N,S]=I.useState(!1),[D,j]=I.useState(!1),[B,F]=I.useState(!1),[H,$]=I.useState(null),[K,Q]=I.useState(""),[ee,ne]=I.useState([]),[le,se]=I.useState({}),[q,de]=I.useState([]),[re,be]=I.useState({name:"",description:"",image_url:"",total_cost:"",start_from:""}),[ke,Ne]=I.useState(""),[De,_e]=I.useState(!1),[je,oe]=I.useState(null),[ve,he]=I.useState({stay_duration:""}),[Ee,Z]=I.useState(""),[pe,xe]=I.useState([]),[Se,Fe]=I.useState([]),[tt,fe]=I.useState(!1),[me,Ie]=I.useState(null),[qe,Le]=I.useState([]),[st,Ye]=I.useState({}),{alertModal:Oe,confirmModal:ut,showSuccess:ze,showError:ht,showDeleteConfirm:Rt,showCancelConfirm:Xt,hideAlert:at,hideConfirm:jt,handleConfirm:Dt}=z3(),[Qe,It]=I.useState([]),[Lt,Ue]=I.useState([]),[bt,Ut]=I.useState(!1),[hn,Pn]=I.useState(!1),[yn,li]=I.useState([]),di="https://walkingguide.onrender.com",Ar=Ge=>{Ut(Ge.target.checked),It(Ge.target.checked?c.map(Tt=>Tt.id):[])},tr=Ge=>{Pn(Ge.target.checked),Ue(Ge.target.checked?Se.map(Tt=>{var Je;return(Je=Tt.booking)==null?void 0:Je.id}).filter(Boolean):[])},Oi=Ge=>{It(Tt=>Tt.includes(Ge)?Tt.filter(Je=>Je!==Ge):[...Tt,Ge])},ri=Ge=>{Ue(Tt=>Tt.includes(Ge)?Tt.filter(Je=>Je!==Ge):[...Tt,Ge])},ei=async()=>{Qe.length!==0&&Rt("Bn c chc chn mun xa cc tour  chn?",async()=>{try{await Promise.all(Qe.map(Ge=>kt.delete(`${di}/api/tours/${Ge}`))),s(Ge=>Ge.filter(Tt=>!Qe.includes(Tt.id))),It([]),Ut(!1),ze(" xa cc tour thnh cng!")}catch{ht("Khng th xa mt s tour.")}},"Xc nhn xa tour")},Us=async()=>{Lt.length!==0&&Xt("Bn c chc chn mun hy cc booking  chn?",async()=>{try{await Promise.all(Lt.map(Ge=>kt.delete(`${di}/api/bookings/${Ge}`))),Fe(Ge=>Ge.filter(Tt=>{var Je;return!Lt.includes((Je=Tt.booking)==null?void 0:Je.id)})),Ue([]),Pn(!1),ze(" hy cc booking thnh cng!")}catch{ht("Khng th hy mt s booking.")}},"Xc nhn hy booking")};I.useEffect(()=>{l&&(kt.get(`${di}/api/tours/user/${l.id}`).then(Ge=>{s(Ge.data),Ge.data.length>0&&v(Ge.data[0])}).catch(()=>_("Khng th ti danh sch tour.")).finally(()=>h(!1)),vb.getUserBookedTours(l.id).then(Ge=>Fe(Ge.data)).catch(()=>Fe([])),gh.getUserHotelBookings(l.id).then(Ge=>li(Ge.data)).catch(()=>li([])))},[l]),I.useEffect(()=>{if(!y)return;let Ge=!0;async function Tt(){try{const Je=await rB.getByTourId(y.id);if(!Ge)return;console.log("Tour steps data:",Je.data),ne(Je.data);const rn=Je.data.map(bn=>bn.place_id),xn=[...new Set(rn)],Bn={};for(const bn of xn)if(le[bn])Bn[bn]=le[bn];else{const we=await bb.getById(bn);Bn[bn]=we.data}se(bn=>({...bn,...Bn}))}catch{}}return Tt(),()=>{Ge=!1}},[y]),I.useEffect(()=>{bb.getAll().then(Ge=>de(Ge.data)).catch(()=>de([]))},[]),I.useEffect(()=>{D&&y&&ee.length>0&&(be({name:y.name||"",description:y.description||"",image_url:y.image_url||"",total_cost:y.total_cost||"",start_time:y.start_time||"",end_time:y.end_time||"",steps:ee.map(Ge=>({...Ge})),start_from:y.start_from||""}),Ne(""))},[D,y,ee]);const ui=Ge=>{const{name:Tt,value:Je}=Ge.target;be(rn=>({...rn,[Tt]:Je}))},nr=(Ge,Tt,Je)=>{be(rn=>{const xn=[...rn.steps];return xn[Ge]={...xn[Ge],[Tt]:Je},{...rn,steps:xn}})},kr=()=>{be(Ge=>{var Tt;return{...Ge,steps:[...Ge.steps,{place_id:((Tt=q[0])==null?void 0:Tt.id)||"",stay_duration:30,step_order:Ge.steps.length+1}]}})},ir=Ge=>{be(Tt=>{const Je=Tt.steps[Ge],rn=Tt.steps.filter((xn,Bn)=>Bn!==Ge).map((xn,Bn)=>({...xn,step_order:Bn+1}));return Je.id&&xe(xn=>[...xn,Je.id]),{...Tt,steps:rn}})},$e=async Ge=>{Ge.preventDefault();try{const Tt=re.steps&&re.steps[0],Je=Tt?q.find(bn=>bn.id==Tt.place_id):null,rn=Je?Je.name:re.name,xn=Je&&Je.image_url?Je.image_url:re.image_url,Bn=await kt.put(`${di}/api/tours/${y.id}`,{name:rn,description:re.description,image_url:xn,total_cost:re.total_cost,start_time:re.start_time,end_time:re.end_time,start_from:re.start_from});await Promise.all(re.steps.map(bn=>kt.put(`${di}/api/tour-steps/${bn.id}`,{place_id:bn.place_id,stay_duration:bn.stay_duration,step_order:bn.step_order,start_time:bn.start_time,end_time:bn.end_time,day:bn.day||1}))),await Promise.all(pe.map(bn=>kt.delete(`${di}/api/tour-steps/${bn}`))),s(bn=>bn.map(we=>we.id===y.id?{...we,...Bn.data}:we)),v(bn=>({...bn,...Bn.data})),ne(re.steps),xe([]),j(!1)}catch{Ne("Khng th cp nht tour hoc hnh trnh.")}},Gt=async Ge=>{try{await kt.delete(`${di}/api/tours/${Ge}`),s(Tt=>Tt.filter(Je=>Je.id!==Ge)),fe(!1),ze(" xa tour thnh cng!")}catch{ht("Khng th xa tour.")}},mt=async Ge=>{var Tt;if(!Ge){ht("Khng tm thy booking  hy.");return}try{const Je=await kt.delete(`${di}/api/bookings/${Ge}`);Je.status===200&&((Tt=Je.data)!=null&&Tt.message)?(Fe(rn=>rn.filter(xn=>{var Bn;return((Bn=xn.booking)==null?void 0:Bn.id)!==Ge})),fe(!1),ze(" hy t tour thnh cng!")):ht("Khng th hy t tour.")}catch{ht("Khng th hy t tour.")}},dn=async Ge=>{var Tt;if(!Ge){ht("Khng tm thy booking  hy.");return}try{const Je=await kt.delete(`${di}/api/hotels/hotel-bookings/${Ge}`);Je.status===200&&((Tt=Je.data)!=null&&Tt.message)?(li(rn=>rn.filter(xn=>xn.id!==Ge)),ze(" hy t khch sn thnh cng!")):ht("Khng th hy t khch sn.")}catch{ht("Khng th hy t khch sn.")}};return i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Lr,{}),i.jsxs("main",{className:"container px-4 py-4 flex-grow-1",children:[i.jsxs("div",{className:"mb-5 d-flex align-items-center gap-3 border-bottom pb-3",children:[i.jsx("h2",{className:"fw-bold mb-0",style:{color:"#1a5bb8"},children:"Chuyn i ca bn"}),i.jsxs("button",{className:"btn btn-main ms-auto d-flex align-items-center gap-2",style:{borderRadius:8,fontWeight:600},onClick:()=>S(!0),children:[i.jsx(cY,{})," To chuyn i mi"]})]}),N&&i.jsx("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.25)"},tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",style:{borderRadius:16,boxShadow:"0 4px 24px #1a5bb822"},children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:"To tour mi"}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>S(!1)})]}),i.jsxs("div",{className:"modal-body text-center",children:[i.jsx("p",{className:"mb-4",children:"Bn mun to tour bng cch no?"}),i.jsxs("div",{className:"d-flex flex-column gap-3",children:[i.jsxs("button",{className:"btn btn-main",style:{fontWeight:600,fontSize:"1.1rem"},onClick:()=>{S(!1),window.location.href="/ai/generate-tour"},children:[i.jsx("i",{className:"bi bi-stars me-2"}),"To tour bng AI"]}),i.jsxs("button",{className:"btn btn-outline-primary",style:{fontWeight:600,fontSize:"1.1rem"},onClick:()=>{S(!1),window.location.href="/manual-planner"},children:[i.jsx("i",{className:"bi bi-pencil-square me-2"}),"To tour th cng"]})]})]})]})})}),B&&H&&i.jsx("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.25)"},tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",style:{borderRadius:16,boxShadow:"0 4px 24px #1a5bb822"},children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:"Xc nhn xa tour"}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>{F(!1),$(null)}})]}),i.jsxs("div",{className:"modal-body text-center",children:[i.jsxs("p",{children:["Bn c chc mun xa tour ",i.jsx("b",{children:H.name}),"?"]}),i.jsxs("div",{className:"d-flex justify-content-center gap-3 mt-4",children:[i.jsx("button",{className:"btn btn-danger",style:{fontWeight:600},onClick:async()=>{try{await kt.delete(`${di}/api/tours/${H.id}`),s(c.filter(Ge=>Ge.id!==H.id)),y&&y.id===H.id&&v(null),F(!1),$(null)}catch{Q("Khng th xa tour.")}},children:"Xa"}),i.jsx("button",{className:"btn btn-secondary",onClick:()=>{F(!1),$(null)},children:"Hy"})]})]})]})})}),K&&i.jsx("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.25)"},tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content",style:{borderRadius:16,boxShadow:"0 4px 24px #1a5bb822"},children:[i.jsxs("div",{className:"modal-header",children:[i.jsxs("h5",{className:"modal-title text-danger",children:[i.jsx("i",{className:"bi bi-x-circle-fill me-2"}),"Li"]}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>Q("")})]}),i.jsxs("div",{className:"modal-body text-center",children:[i.jsxs("div",{className:"alert alert-danger d-flex align-items-center justify-content-center",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),i.jsx("div",{children:K})]}),i.jsx("button",{className:"btn btn-main mt-3",onClick:()=>Q(""),children:"ng"})]})]})})}),D&&y&&i.jsx("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.25)"},tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered modal-xl",children:i.jsxs("div",{className:"modal-content",style:{borderRadius:16,boxShadow:"0 4px 24px #1a5bb822"},children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:"Chnh sa tour & hnh trnh"}),i.jsx("button",{type:"button",className:"btn-close",onClick:()=>j(!1)})]}),i.jsxs("form",{onSubmit:$e,children:[i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"row",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Tn tour"}),i.jsx("input",{type:"text",className:"form-control",name:"name",value:(()=>{const Ge=re.steps&&re.steps[0],Tt=Ge?q.find(Je=>Je.id==Ge.place_id):null;return Tt?Tt.name:""})(),readOnly:!0})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"M t"}),i.jsx("textarea",{className:"form-control",name:"description",value:re.description,onChange:ui,rows:4,required:!0})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"im khi hnh"}),i.jsx(KA,{value:re.start_from,onChange:Ge=>be(Tt=>({...Tt,start_from:Ge})),placeholder:"Nhp im khi hnh"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Ngy bt u"}),i.jsx("input",{type:"date",className:"form-control",name:"start_time",value:re.start_time,onChange:ui})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Ngy kt thc"}),i.jsx("input",{type:"date",className:"form-control",name:"end_time",value:re.end_time,onChange:ui})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Chi ph (VND)"}),i.jsx("input",{type:"text",className:"form-control",name:"total_cost",value:re.total_cost?parseInt(re.total_cost).toLocaleString("vi-VN"):"",onChange:Ge=>{const Tt=Ge.target.value.replace(/\D/g,"");ui({target:{name:"total_cost",value:Tt}})},placeholder:"Nhp chi ph d kin"}),re.total_cost&&i.jsxs("div",{className:"form-text",children:[i.jsx("i",{className:"fas fa-info-circle me-1"}),"Chi ph: ",parseInt(re.total_cost).toLocaleString("vi-VN")," VN"]}),re.total_cost&&re.total_cost.length>0&&re.total_cost.length<=3&&!re.total_cost.endsWith("000")&&i.jsxs("div",{className:"mt-2",children:[i.jsx("small",{className:"text-muted",children:"Gi :"}),i.jsx("div",{className:"d-flex flex-wrap gap-1 mt-1",children:(()=>{const Ge=re.total_cost.replace(/\D/g,"");return[{value:Ge+"000",label:Ge+".000 VN"},{value:Ge+"0000",label:Ge+"0.000 VN"},{value:Ge+"00000",label:Ge+"00.000 VN"},{value:Ge+"000000",label:Ge+".000.000 VN"},{value:Ge+"0000000",label:Ge+"0.000.000 VN"}].filter(Je=>Je.value!==re.total_cost).map((Je,rn)=>i.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",style:{fontSize:"0.8rem",padding:"0.25rem 0.5rem"},onClick:()=>ui({target:{name:"total_cost",value:Je.value}}),children:Je.label},rn))})()})]})]})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label",children:"Hnh trnh"}),i.jsx("div",{className:"tour-steps-edit-container",style:{maxHeight:"400px",overflowY:"auto"},children:re.steps&&re.steps.map((Ge,Tt)=>i.jsx("div",{className:"tour-step-edit-item mb-3 p-3 border rounded",style:{background:"#f8f9fa",cursor:"grab",transition:"all 0.2s ease",border:"1px solid #dee2e6"},draggable:!0,onDragStart:Je=>{Je.dataTransfer.setData("text/plain",Tt),Je.currentTarget.style.opacity="0.5"},onDragEnd:Je=>{Je.currentTarget.style.opacity="1"},onDragOver:Je=>{Je.preventDefault(),Je.currentTarget.style.borderColor="#007bff",Je.currentTarget.style.background="#e3f2fd"},onDragLeave:Je=>{Je.currentTarget.style.borderColor="#dee2e6",Je.currentTarget.style.background="#f8f9fa"},onDrop:Je=>{Je.preventDefault();const rn=parseInt(Je.dataTransfer.getData("text/plain")),xn=Tt;if(rn!==xn){const Bn=[...re.steps],bn=Bn[rn];Bn.splice(rn,1),Bn.splice(xn,0,bn),Bn.forEach((we,ct)=>{we.step_order=ct+1}),be(we=>({...we,steps:Bn}))}Je.currentTarget.style.borderColor="#dee2e6",Je.currentTarget.style.background="#f8f9fa"},children:i.jsxs("div",{className:"d-flex align-items-center gap-2",children:[i.jsx("div",{className:"step-number",style:{background:"#007bff",color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem",fontWeight:"bold"},children:Ge.step_order}),i.jsx("div",{className:"flex-grow-1",children:i.jsxs("select",{className:"form-select form-select-sm",value:Ge.place_id,onChange:Je=>nr(Tt,"place_id",Je.target.value),children:[i.jsx("option",{value:"",children:"Chn a im..."}),q.map(Je=>i.jsx("option",{value:Je.id,children:Je.name},Je.id))]})}),i.jsxs("div",{className:"d-flex gap-1",children:[i.jsx("input",{type:"time",className:"form-control form-control-sm",style:{width:"100px"},value:Ge.start_time||"",onChange:Je=>nr(Tt,"start_time",Je.target.value)}),i.jsx("input",{type:"time",className:"form-control form-control-sm",style:{width:"100px"},value:Ge.end_time||"",onChange:Je=>nr(Tt,"end_time",Je.target.value)}),i.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>ir(Tt),title:"Xa a im",children:i.jsx("i",{className:"bi bi-trash"})})]})]})},Ge.id||Tt))}),i.jsxs("button",{type:"button",className:"btn btn-outline-success btn-sm mt-2",onClick:kr,children:[i.jsx("i",{className:"bi bi-plus"})," Thm a im"]})]})]}),ke&&i.jsx("div",{className:"text-danger mb-2",children:ke})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"submit",className:"btn btn-primary",children:"Lu"}),i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>j(!1),children:"Hy"})]})]})]})})}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h5",{className:"fw-bold",style:{color:"rgb(26, 91, 184)"},children:"Danh sch chuyn i bn  to "}),i.jsxs("div",{className:"d-flex align-items-center mb-2",children:[i.jsx("input",{type:"checkbox",checked:bt,onChange:Ar}),i.jsx("span",{className:"ms-2",children:"Chn tt c"}),i.jsx(Ht,{variant:"danger",size:"sm",className:"ms-3",disabled:Qe.length===0,onClick:ei,children:"Xa cc chuyn i  chn"})]}),i.jsx("div",{className:"list-group",children:c.map(Ge=>i.jsxs("div",{className:"list-group-item d-flex align-items-center",children:[i.jsx("input",{type:"checkbox",className:"me-2",checked:Qe.includes(Ge.id),onChange:()=>Oi(Ge.id)}),i.jsx("div",{className:"flex-grow-1",children:i.jsx(Jt,{to:`/tours/${Ge.id}`,children:Ge.name})}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:Tt=>{Tt.stopPropagation(),v(Ge),j(!0)},children:"Sa"}),i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:Tt=>{Tt.stopPropagation(),Rt("Bn c chc mun xa tour ny?",()=>Gt(Ge.id))},children:"Xa"})]})]},Ge.id))})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h5",{className:"fw-bold",style:{color:"rgb(26, 91, 184)"},children:"Chuyn i yu thch"}),i.jsxs("div",{className:"d-flex align-items-center mb-2",children:[i.jsx("input",{type:"checkbox",checked:hn,onChange:tr}),i.jsx("span",{className:"ms-2",children:"Chn tt c"}),i.jsx(Ht,{variant:"danger",size:"sm",className:"ms-3",disabled:Lt.length===0,onClick:Us,children:"B cc chuyn i  chn"})]}),i.jsx("div",{className:"list-group",children:Se.map(Ge=>{var Tt,Je;return i.jsxs("div",{className:"list-group-item d-flex align-items-center",children:[i.jsx("input",{type:"checkbox",className:"me-2",checked:Lt.includes((Tt=Ge.booking)==null?void 0:Tt.id),onChange:()=>{var rn;return ri((rn=Ge.booking)==null?void 0:rn.id)}}),i.jsx("div",{className:"flex-grow-1",children:i.jsx(Jt,{to:`/tours/${Ge.id}`,className:"text-decoration-none",children:Ge.name})}),i.jsx("div",{className:"d-flex gap-2",children:i.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:rn=>{rn.stopPropagation(),Xt("Bn c chc mun hy t tour ny?",()=>mt(Ge.booking.id))},children:"Hy t"})})]},((Je=Ge.booking)==null?void 0:Je.id)||Ge.id)})})]}),i.jsxs("section",{className:"mb-5",children:[i.jsx("div",{className:"d-flex align-items-center mb-3 gap-2"}),Se.length===0?i.jsxs("div",{className:"text-center text-muted py-5",children:[i.jsx("i",{className:"bi bi-calendar-x",style:{fontSize:"3rem"}}),i.jsx("div",{className:"fw-bold mb-1",children:"Bn cha t tour no."})]}):i.jsx("div",{className:"row g-4",children:Se.map(Ge=>{var Tt,Je,rn;return i.jsx("div",{className:"col-12 col-md-6 col-lg-4",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs(Jt,{to:`/tours/${Ge.id}`,className:"text-decoration-none",style:{display:"block"},children:[Ge.image_url?i.jsx("img",{src:Ge.image_url.startsWith("http")?Ge.image_url:`${di}${Ge.image_url}`,alt:Ge.name,className:"card-img-top luxury-img-top",style:{height:220,objectFit:"cover"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:220,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-map"})}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h3",{className:"card-title mb-2",style:{fontWeight:600},children:Ge.name}),i.jsx("p",{className:"card-text text-muted mb-2 luxury-desc",children:Ge.description?`${Ge.description.replace(/<[^>]+>/g,"").substring(0,100)}...`:""}),i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"luxury-star",style:{color:"#f1c40f",fontSize:18},children:""}),i.jsx("span",{style:{fontWeight:600,marginLeft:4},children:Ge.rating?Ge.rating.toFixed(1):"0.0"}),i.jsx("span",{style:{color:"#888",marginLeft:2},children:"/ 5"})]}),Ge.total_cost&&i.jsxs("p",{className:"card-text text-muted small mb-0 luxury-rating",children:[i.jsx("span",{className:"luxury-money",children:i.jsx("i",{className:"bi bi-coin"})})," ",Ge.total_cost," VND"]}),Ge.booking&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"text-muted small mb-1",children:["S lng khch: ",i.jsx("b",{children:Ge.booking.spots})]}),i.jsxs("div",{className:"text-muted small mb-2",children:["Tng gi: ",i.jsxs("b",{children:[(Tt=Ge.booking.total_price)==null?void 0:Tt.toLocaleString("vi-VN")," VND"]})]})]})]})]}),i.jsx("div",{className:"px-3 pb-3 d-flex gap-2",children:((Je=Ge.booking)==null?void 0:Je.status)==="rejected"?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-danger small fw-bold flex-fill align-self-center",children:"t tour tht bi"}),i.jsx("button",{className:"btn btn-outline-primary btn-sm flex-fill",onClick:xn=>{xn.stopPropagation(),showInfo("Chc nng t li s c trin khai  y!","Thng bo")},children:"t li"})]}):i.jsx("button",{className:"btn btn-outline-danger btn-sm flex-fill",disabled:!((rn=Ge.booking)!=null&&rn.id),onClick:xn=>{var Bn;xn.stopPropagation(),(Bn=Ge.booking)!=null&&Bn.id&&Xt("Bn c chc mun hy t tour ny?",()=>mt(Ge.booking.id))},children:"B chuyn i"})})]})},Ge.id)})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h5",{className:"fw-bold",style:{color:"rgb(26, 91, 184)"},children:"Khch sn  t"}),yn.length===0?i.jsxs("div",{className:"text-center text-muted py-3",children:[i.jsx("i",{className:"bi bi-building",style:{fontSize:"2rem"}}),i.jsx("div",{className:"fw-bold mb-1",children:"Bn cha t khch sn no."})]}):i.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:yn.map(Ge=>i.jsx("div",{className:"col",children:i.jsxs("div",{className:"card h-100 shadow border-0 rounded-4 luxury-card",children:[i.jsxs(Jt,{to:`/hotels/${Ge.hotel_id}`,className:"text-decoration-none",style:{display:"block",height:"100%"},children:[i.jsxs("div",{className:"position-relative",children:[Ge.hotel_image_url?i.jsx("img",{src:Ge.hotel_image_url.startsWith("http")?Ge.hotel_image_url:`${di}${Ge.hotel_image_url}`,alt:Ge.hotel_name||"Khch sn",className:"card-img-top luxury-img-top",style:{height:180,objectFit:"cover",borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem"},onError:Tt=>{Tt.target.style.display="none"}}):i.jsx("div",{className:"card-img-top luxury-img-top d-flex align-items-center justify-content-center",style:{height:180,borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontSize:"3rem"},children:i.jsx("i",{className:"bi bi-building"})}),i.jsx("div",{className:"position-absolute top-0 end-0 m-2",children:i.jsx("span",{className:"badge bg-warning text-dark",children:i.jsx("i",{className:"bi bi-star-fill"})})})]}),i.jsxs("div",{className:"card-body luxury-card-body",children:[i.jsx("h5",{className:"card-title mb-2",style:{fontWeight:600},children:Ge.hotel_name||Ge.hotel_id}),i.jsx("div",{className:"mb-2",children:i.jsx("span",{className:"badge bg-info me-2",children:Ge.room_type||"N/A"})}),i.jsxs("div",{className:"mb-2 text-muted small",children:[i.jsx("i",{className:"bi bi-calendar-event me-1"}),"Nhn phng: ",i.jsx("b",{children:Ge.check_in})]}),i.jsxs("div",{className:"mb-2 text-muted small",children:[i.jsx("i",{className:"bi bi-calendar-check me-1"}),"Tr phng: ",i.jsx("b",{children:Ge.check_out})]})]})]}),i.jsx("div",{className:"px-3 pb-3",children:i.jsxs("button",{className:"btn btn-outline-danger btn-sm w-100",onClick:()=>{Xt("Bn c chc mun hy t khch sn ny?",()=>dn(Ge.id),"Xc nhn hy t phng")},children:[i.jsx("i",{className:"bi bi-x-circle me-1"}),"Hy t"]})})]})},Ge.id))})]})]}),i.jsx($r,{}),i.jsxs(yt,{show:tt,onHide:()=>fe(!1),centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:me==null?void 0:me.name})}),i.jsxs(yt.Body,{children:[(me==null?void 0:me.image_url)&&i.jsx("img",{src:me.image_url.startsWith("http")?me.image_url:`${di}${me.image_url}`,alt:me.name,className:"img-fluid rounded mb-3",style:{maxHeight:200,objectFit:"cover",width:"100%"}}),i.jsx("p",{children:me==null?void 0:me.description}),i.jsxs("div",{className:"mb-2",children:[i.jsxs("span",{className:"badge bg-info text-dark me-2",children:[me!=null&&me.start_time?new Date(me.start_time).toLocaleDateString():"--","  ",me!=null&&me.end_time?new Date(me.end_time).toLocaleDateString():"--"]}),i.jsxs("span",{className:"badge bg-light text-dark",children:[i.jsx("i",{className:"bi bi-currency-exchange"})," ",($n=me==null?void 0:me.total_cost)==null?void 0:$n.toLocaleString("vi-VN")," VND"]})]}),qe.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h6",{className:"fw-bold mb-3",children:"Hnh trnh chi tit"}),i.jsx("div",{className:"list-group",children:qe.map((Ge,Tt)=>{const Je=st[Ge.place_id];return i.jsxs("div",{className:"list-group-item d-flex align-items-center gap-3 py-3",style:{borderLeft:"4px solid #1a5bb8",background:"#f8f9fa",borderRadius:12,marginBottom:8,boxShadow:"0 2px 8px #b6e0fe22"},children:[(Je==null?void 0:Je.image_url)&&i.jsx("img",{src:Je.image_url.startsWith("http")?Je.image_url:`${di}${Je.image_url}`,alt:Je.name,style:{width:64,height:64,objectFit:"cover",borderRadius:12,boxShadow:"0 2px 8px #b6e0fe33",flexShrink:0}}),i.jsxs("div",{className:"flex-grow-1",children:[i.jsx("div",{className:"fw-bold mb-1",style:{color:"#1a5bb8",fontSize:"1.1em"},children:i.jsx(Jt,{to:`/places/${Je==null?void 0:Je.id}`,className:"text-decoration-none",style:{color:"#1a5bb8"},target:"_blank",rel:"noopener noreferrer",children:(Je==null?void 0:Je.name)||`a im #${Ge.place_id}`})}),i.jsx("div",{className:"small text-muted mb-1",children:Je!=null&&Je.description?`${Je.description.replace(/<[^>]+>/g,"").slice(0,100)}${Je.description.length>100?"...":""}`:"Cha c m t"}),i.jsxs("div",{className:"d-flex gap-2 flex-wrap align-items-center mt-1",children:[Ge.start_time&&i.jsxs("span",{className:"badge bg-success",children:[i.jsx("i",{className:"bi bi-play me-1"}),"Bt u: ",Ge.start_time]}),Ge.end_time&&i.jsxs("span",{className:"badge bg-info",children:[i.jsx("i",{className:"bi bi-stop me-1"}),"Kt thc: ",Ge.end_time]})]})]})]},Ge.id||Tt)})})]})]}),i.jsxs(yt.Footer,{children:[i.jsx(Ht,{className:"btn btn-main",onClick:()=>fe(!1),children:"ng"}),i.jsx(Ht,{className:"btn btn-danger",onClick:()=>{j(!0),v(me),fe(!1)},children:"Sa"})]})]}),i.jsx(bA,{show:Oe.show,title:Oe.title,message:Oe.message,type:Oe.type,confirmText:Oe.confirmText,onClose:at}),i.jsx(rJ,{show:ut.show,message:ut.message,title:ut.title,confirmText:ut.confirmText,cancelText:ut.cancelText,type:ut.type,confirmVariant:ut.confirmVariant,onClose:jt,onConfirm:Dt})]})}function oJ(){const{t:l}=yh(),c=ba(),{user:s}=Sb(),[o,h]=I.useState({title:"",content:"",image_url:""}),[g,_]=I.useState(null),[y,v]=I.useState(""),[N,S]=I.useState(!1),[D,j]=I.useState(!1),[B,F]=I.useState(""),[H,$]=I.useState(""),K=I.useRef(null),Q="https://walkingguide.onrender.com",ee=_e=>{const{name:je,value:oe}=_e.target;h(ve=>({...ve,[je]:oe}))},ne=_e=>{h(je=>({...je,content:_e}))},le=_e=>{if(_e&&_e.type.startsWith("image/")){_(_e);const je=new FileReader;je.onload=oe=>{v(oe.target.result)},je.readAsDataURL(_e)}else F("Vui lng chn mt file nh hp l.")},se=_e=>{const je=_e.target.files[0];je&&le(je)},q=_e=>{_e.preventDefault(),S(!0)},de=_e=>{_e.preventDefault(),S(!1)},re=_e=>{_e.preventDefault(),S(!1);const je=_e.dataTransfer.files[0];je&&le(je)},be=async()=>{if(!g)return"";try{const _e=new FormData;return _e.append("file",g),(await kt.post(`${Q}/api/upload`,_e,{headers:{"Content-Type":"multipart/form-data"}})).data.url}catch(_e){throw console.error("Li khi upload nh:",_e),new Error("Khng th upload nh. Vui lng th li.")}},ke=async _e=>{var je,oe,ve,he;if(_e.preventDefault(),!s||!s.id){F("Bn cn ng nhp  vit bi.");return}if(!o.title.trim()||!o.content.trim()){F("Vui lng in y  tiu  v ni dung bi vit.");return}try{j(!0),F("");let Ee="";g&&(Ee=await be());const Z={...o,image_url:Ee,admin_id:s.id};console.log("Sending article data:",Z),await sB.create(Z),$("Bi vit  c ng thnh cng!"),setTimeout(()=>{c("/articles")},2e3)}catch(Ee){console.error("Li khi to bi vit:",Ee),F(((oe=(je=Ee==null?void 0:Ee.response)==null?void 0:je.data)==null?void 0:oe.message)||((he=(ve=Ee==null?void 0:Ee.response)==null?void 0:ve.data)==null?void 0:he.error)||Ee.message||"C li xy ra khi ng bi vit. Vui lng th li.")}finally{j(!1)}},Ne=()=>{c("/articles")},De=()=>{_(null),v(""),K.current&&(K.current.value="")};return i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Lr,{}),i.jsx("main",{className:"container px-4 py-5 flex-grow-1",children:i.jsx("div",{className:"row justify-content-center",children:i.jsx("div",{className:"col-12 col-lg-8",children:i.jsxs("div",{className:"card shadow-lg border-0 rounded-4 luxury-card",children:[i.jsx("div",{className:"card-header luxury-card-header bg-white border-0 rounded-top-4 py-4",children:i.jsxs("div",{className:"d-flex align-items-center",children:[i.jsx("div",{className:"me-3",children:i.jsx("i",{className:"bi bi-pencil-square text-primary",style:{fontSize:"2rem"}})}),i.jsxs("div",{children:[i.jsx("h1",{className:"h3 mb-1 fw-bold",children:l("Write Your Travel Blog")}),i.jsx("p",{className:"text-muted mb-0",children:l("Share your amazing travel experiences with the community")})]})]})}),i.jsxs("div",{className:"card-body luxury-card-body p-4",children:[B&&i.jsxs("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[i.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),B,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>F("")})]}),H&&i.jsxs("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[i.jsx("i",{className:"bi bi-check-circle-fill me-2"}),H,i.jsx("button",{type:"button",className:"btn-close",onClick:()=>$("")})]}),i.jsxs("form",{onSubmit:ke,children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{htmlFor:"title",className:"form-label fw-semibold",children:[l("Article Title")," ",i.jsx("span",{className:"text-danger",children:"*"})]}),i.jsx("input",{type:"text",className:"form-control form-control-lg border-0 shadow-sm",id:"title",name:"title",value:o.title,onChange:ee,placeholder:l("Enter your article title..."),style:{borderRadius:"0.75rem"},required:!0})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"form-label fw-semibold",children:[i.jsx("i",{className:"bi bi-image me-2 text-primary"}),l("Cover Image")," (",l("Optional"),")"]}),i.jsx("div",{className:`border-2 border-dashed rounded-4 p-4 text-center position-relative ${N?"border-primary bg-primary bg-opacity-10":"border-secondary"}`,style:{minHeight:"200px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease"},onDragOver:q,onDragLeave:de,onDrop:re,onClick:()=>{var _e;return(_e=K.current)==null?void 0:_e.click()},children:y?i.jsxs("div",{className:"position-relative w-100",children:[i.jsx("img",{src:y,alt:"Preview",className:"img-fluid rounded-3",style:{maxHeight:"300px",objectFit:"cover"}}),i.jsx("button",{type:"button",className:"btn btn-danger btn-sm position-absolute top-0 end-0 m-2",onClick:_e=>{_e.stopPropagation(),De()},style:{zIndex:10},children:i.jsx("i",{className:"bi bi-x"})})]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-cloud-upload text-muted",style:{fontSize:"3rem",marginBottom:"1rem"}}),i.jsx("h5",{className:"text-muted mb-2",children:l("Upload Cover Image")}),i.jsx("p",{className:"text-muted mb-3",children:l("Drag and drop an image here, or click to select")}),i.jsxs("div",{className:"d-flex gap-2 flex-wrap justify-content-center",children:[i.jsx("span",{className:"badge bg-light text-dark",children:"JPG"}),i.jsx("span",{className:"badge bg-light text-dark",children:"PNG"}),i.jsx("span",{className:"badge bg-light text-dark",children:"GIF"}),i.jsx("span",{className:"badge bg-light text-dark",children:"WEBP"})]})]})}),i.jsx("input",{ref:K,type:"file",accept:"image/*",onChange:se,className:"d-none"}),i.jsxs("div",{className:"form-text mt-2",children:[i.jsx("i",{className:"bi bi-info-circle me-1"}),l("Add a cover image to make your article more attractive. Recommended size: 1200x630px")]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"form-label fw-semibold",children:[i.jsx("i",{className:"bi bi-file-text me-2 text-primary"}),l("Article Content")," ",i.jsx("span",{className:"text-danger",children:"*"})]}),i.jsx(yw,{value:o.content,onChange:ne,placeholder:l("Share your travel story, tips, experiences, and recommendations...")}),i.jsxs("div",{className:"form-text mt-2",children:[i.jsx("i",{className:"bi bi-lightbulb me-1"}),l("Tips: Include details about places visited, food tried, cultural experiences, and travel tips")]})]}),i.jsxs("div",{className:"d-flex gap-3 justify-content-end",children:[i.jsxs("button",{type:"button",className:"btn btn-outline-secondary btn-lg px-4",onClick:Ne,disabled:D,children:[i.jsx("i",{className:"bi bi-x-circle me-2"}),l("Cancel")]}),i.jsx("button",{type:"submit",className:"btn btn-main btn-lg px-5",disabled:D,children:D?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),l("Publishing...")]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"bi bi-send me-2"}),l("Publish Article")]})})]})]})]})]})})})}),i.jsx($r,{})]})}const aJ=()=>{const{user:l,notificationRefreshTrigger:c}=I.useContext(ls),[s,o]=I.useState([]),[h,g]=I.useState(!0),[_,y]=I.useState(""),[v,N]=I.useState(!1),[S,D]=I.useState(null);I.useEffect(()=>{l&&j()},[l,c]);const j=async()=>{try{g(!0);const se=await U5(l.id);o(se.data)}catch(se){console.error("Error fetching notifications:",se),y("Khng th ti thng bo")}finally{g(!1)}},B=async se=>{try{await $5(se,{is_read:!0}),o(q=>q.map(de=>de.notification_id===se?{...de,is_read:!0}:de))}catch(q){console.error("Error marking notification as read:",q)}},F=async()=>{try{await dA(l.id),o(se=>se.map(q=>({...q,is_read:!0})))}catch(se){console.error("Error marking all notifications as read:",se)}},H=async se=>{D(se),N(!0)},$=async()=>{if(S)try{await q5(S),o(se=>se.filter(q=>q.notification_id!==S)),N(!1),D(null)}catch(se){console.error("Error deleting notification:",se)}},K=()=>{N(!1),D(null)},Q=se=>{try{return new Date(se).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return se}},ee=se=>{switch(se){case"tour_reminder":return"bi bi-calendar-event text-warning";case"tour_completion":return"bi bi-check-circle text-success";case"tour_created":return"bi bi-plus-circle text-primary";default:return"bi bi-bell text-info"}},ne=se=>{switch(se){case"tour_reminder":return"badge bg-warning text-dark";case"tour_completion":return"badge bg-success";case"tour_created":return"badge bg-primary";default:return"badge bg-info"}},le=se=>{se.article_id&&se.comment_id?navigate(`/articles/${se.article_id}#comment-${se.comment_id}`):se.article_id?navigate(`/articles/${se.article_id}`):se.tour_id?navigate(`/tours/${se.tour_id}`):se.place_id&&navigate(`/places/${se.place_id}`)};return l?i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Lr,{}),i.jsx("main",{className:"container py-4 flex-grow-1",children:i.jsxs("div",{className:"user-page-content",children:[i.jsx("div",{className:"profile-header",children:i.jsxs("h1",{className:"text-center mb-0",children:[i.jsx("i",{className:"bi bi-bell me-3"}),"Thng bo ca ti"]})}),i.jsx("div",{className:"profile-sections",children:i.jsxs("div",{className:"profile-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h3",{children:"Danh sch thng bo"}),s.length>0&&i.jsxs("button",{className:"btn btn-outline-primary",onClick:F,children:[i.jsx("i",{className:"bi bi-check-all me-2"}),"nh du tt c  c"]})]}),h?i.jsxs("div",{className:"loading",children:[i.jsx("div",{className:"spinner-border text-primary",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("p",{className:"mt-3",children:"ang ti thng bo..."})]}):_?i.jsxs("div",{className:"error-message",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),_]}):s.length===0?i.jsxs("div",{className:"no-tours",children:[i.jsx("i",{className:"bi bi-bell-slash fa-3x text-muted mb-3"}),i.jsx("p",{children:"Bn cha c thng bo no"})]}):i.jsx("div",{className:"notifications-list",children:s.map(se=>i.jsx("div",{className:`notification-item ${se.is_read?"":"unread"}`,style:{cursor:"pointer"},onClick:()=>le(se),children:i.jsxs("div",{className:"notification-content",children:[i.jsx("div",{className:"notification-header",children:i.jsxs("div",{className:"d-flex align-items-center",children:[i.jsx("i",{className:ee(se.type),style:{fontSize:"1.5rem",marginRight:"1rem"}}),i.jsxs("div",{className:"flex-grow-1",children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[i.jsx("p",{className:"notification-text mb-1",children:se.content}),i.jsxs("div",{className:"notification-actions",children:[!se.is_read&&i.jsx("span",{className:"badge bg-primary rounded-pill me-2",children:"Mi"}),i.jsxs("span",{className:ne(se.type),children:[se.type==="tour_reminder"&&"Nhc nh",se.type==="tour_completion"&&"Hon thnh",se.type==="tour_created"&&"To tour",!se.type&&"Thng bo"]})]})]}),i.jsx("small",{className:"text-muted",children:Q(se.created_at)})]})]})}),i.jsxs("div",{className:"notification-actions mt-2",children:[!se.is_read&&i.jsxs("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>B(se.notification_id),children:[i.jsx("i",{className:"bi bi-check me-1"}),"nh du  c"]}),i.jsxs("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>H(se.notification_id),children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xa"]})]})]})},se.notification_id))})]})})]})}),i.jsx($r,{}),i.jsx("div",{className:`modal fade ${v?"show":""}`,style:{display:v?"block":"none"},tabIndex:"-1",children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",children:i.jsxs("div",{className:"modal-content border-0 shadow-lg",children:[i.jsxs("div",{className:"modal-header bg-danger text-white",children:[i.jsxs("h5",{className:"modal-title",children:[i.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),"Xc nhn xa"]}),i.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:K})]}),i.jsx("div",{className:"modal-body",children:i.jsx("p",{className:"mb-0",children:"Bn c chc mun xa thng bo ny? Hnh ng ny khng th hon tc."})}),i.jsxs("div",{className:"modal-footer",children:[i.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:K,children:[i.jsx("i",{className:"bi bi-x-circle me-1"}),"Hy"]}),i.jsxs("button",{type:"button",className:"btn btn-danger",onClick:$,children:[i.jsx("i",{className:"bi bi-trash me-1"}),"Xa"]})]})]})})}),v&&i.jsx("div",{className:"modal-backdrop fade show"})]}):i.jsxs("div",{className:"min-vh-100 d-flex flex-column bg-gradient-to-br from-gray-100 to-white luxury-home-container",children:[i.jsx(Lr,{}),i.jsx("main",{className:"container py-4 flex-grow-1",children:i.jsx("div",{className:"alert alert-warning",children:"Bn cn ng nhp  xem thng bo."})}),i.jsx($r,{})]})};function lJ(){const{pathname:l}=Ul(),[c,s]=I.useState(!1);I.useEffect(()=>{const h=()=>{s(window.scrollY>200)};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]),I.useEffect(()=>{window.scrollTo({top:0,behavior:"auto"})},[l]);const o=()=>{window.scrollTo({top:0,behavior:"smooth"})};return i.jsx(i.Fragment,{children:c&&i.jsx("button",{onClick:o,"aria-label":"Scroll to top",style:{position:"fixed",right:22,bottom:80,zIndex:9999,background:"linear-gradient(135deg, #3498db 0%, #2980b9 100%)",color:"#fff",border:"none",borderRadius:"50%",width:48,height:48,boxShadow:"0 4px 16px rgba(52,152,219,0.18)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:24,cursor:"pointer",transition:"opacity 0.2s"},children:i.jsx("i",{className:"bi bi-arrow-up"})})})}const cJ=()=>{const[l]=m5(),[c,s]=I.useState("Verifying..."),[o,h]=I.useState(!0),g=ba(),_="https://walkingguide.onrender.com";return I.useEffect(()=>{const y=l.get("token");if(!y){s("Invalid verification link."),h(!1);return}fetch(`${_}/api/auth/verify-email?token=${y}`).then(v=>v.json()).then(v=>{v.success?(s("Email verified! You can now log in."),setTimeout(()=>g("/login"),2e3)):s(v.message||"Verification failed."),h(!1)}).catch(()=>{s("Verification failed."),h(!1)})},[l,g]),i.jsx("div",{className:"container py-5 text-center",children:o?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:i.jsx("span",{className:"visually-hidden",children:"Loading..."})}),i.jsx("h2",{children:c})]}):i.jsx("h2",{children:c})})},dJ=()=>{const[l,c]=I.useState(""),[s,o]=I.useState(""),[h,g]=I.useState(!1),_=async y=>{y.preventDefault(),g(!0),o("");try{const N=await(await fetch("https://walkingguide.onrender.com/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l})})).json();N.success?o("Check your email for a password reset link or OTP."):o(N.message||"Failed to send reset email.")}catch{o("Failed to send reset email.")}g(!1)};return i.jsxs("div",{className:"container py-5",style:{maxWidth:400},children:[i.jsx("h2",{className:"mb-4",children:"Forgot Password"}),i.jsxs("form",{onSubmit:_,children:[i.jsx("div",{className:"mb-3",children:i.jsx("input",{type:"email",className:"form-control",placeholder:"Enter your email",value:l,onChange:y=>c(y.target.value),required:!0})}),i.jsx("button",{className:"btn btn-primary w-100",disabled:h,children:h?"Sending...":"Send Reset Link"})]}),s&&i.jsx("div",{className:"alert alert-info mt-3",children:s})]})},uJ=({onVerify:l,email:c})=>{const[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(!1),v=async N=>{N.preventDefault(),y(!0),g("");try{const D=await(await fetch("https://walkingguide.onrender.com/api/auth/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,otp:s})})).json();D.success?(g("OTP verified!"),l&&l()):g(D.message||"Invalid OTP.")}catch{g("Failed to verify OTP.")}y(!1)};return i.jsxs("form",{onSubmit:v,style:{maxWidth:400,margin:"0 auto"},children:[i.jsx("h2",{className:"mb-4",children:"Enter OTP"}),i.jsx("div",{className:"mb-3",children:i.jsx("input",{type:"text",className:"form-control",placeholder:"Enter OTP",value:s,onChange:N=>o(N.target.value),required:!0})}),i.jsx("button",{className:"btn btn-primary w-100",disabled:_,children:_?"Verifying...":"Verify OTP"}),h&&i.jsx("div",{className:"alert alert-info mt-3",children:h})]})};function hJ(){const[l]=m5(),c=l.get("token"),[s,o]=I.useState(""),[h,g]=I.useState(""),[_,y]=I.useState(""),[v,N]=I.useState(""),[S,D]=I.useState(!1),j=ba(),B="https://walkingguide.onrender.com",F=async H=>{var $,K;if(H.preventDefault(),y(""),N(""),!c){y("Lin kt khng hp l hoc  ht hn.");return}if(s.length<6){y("Mt khu phi c t nht 6 k t.");return}if(s!==h){y("Mt khu xc nhn khng khp.");return}D(!0);try{const Q=await kt.post(`${B}/api/auth/reset-password`,{token:c,password:s,confirmPassword:h});N(Q.data.message||"t li mt khu thnh cng."),setTimeout(()=>{j("/login")},3e3)}catch(Q){y(((K=($=Q.response)==null?void 0:$.data)==null?void 0:K.message)||"Li t li mt khu")}finally{D(!1)}};return i.jsxs("div",{className:"min-vh-100 d-flex flex-column luxury-home-container",children:[i.jsx(Lr,{}),i.jsx("main",{className:"container d-flex flex-column align-items-center justify-content-center flex-grow-1 py-5",children:i.jsxs("div",{className:"card shadow border-0 rounded-4 p-4 luxury-card",style:{maxWidth:420,width:"100%",background:"rgba(255,255,255,0.97)"},children:[i.jsx("h2",{className:"mb-4 text-center",style:{color:"#1a5bb8",fontWeight:700},children:"t li mt khu"}),i.jsxs("form",{onSubmit:F,className:"w-100",children:[_&&i.jsx("div",{className:"alert alert-danger",children:_}),v&&i.jsx("div",{className:"alert alert-success",children:v}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Mt khu mi:"}),i.jsx("input",{type:"password",className:"form-control",value:s,onChange:H=>o(H.target.value),required:!0,minLength:6,disabled:S}),i.jsx("small",{className:"text-muted",children:"Mt khu phi c t nht 6 k t"})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Xc nhn mt khu mi:"}),i.jsx("input",{type:"password",className:"form-control",value:h,onChange:H=>g(H.target.value),required:!0,minLength:6,disabled:S}),h&&s!==h&&i.jsx("small",{className:"text-danger",children:"Mt khu xc nhn khng khp"}),h&&s===h&&i.jsx("small",{className:"text-success",children:" Mt khu khp"})]}),i.jsx("button",{type:"submit",className:"btn btn-success w-100",disabled:S||!s||!h,children:S?"ang t li...":"t li mt khu"})]})]})}),i.jsx($r,{})]})}const QC="https://walkingguide.onrender.com",mJ=()=>{const{id:l}=Cb(),[c,s]=I.useState(null),[o,h]=I.useState(!0),[g,_]=I.useState(""),[y,v]=I.useState(null),[N,S]=I.useState(!1),[D,j]=I.useState(!1),[B,F]=I.useState(""),[H,$]=I.useState(""),[K,Q]=I.useState(null),{user:ee}=I.useContext(ls);if(I.useEffect(()=>{h(!0),kt.get(`${QC}/api/hotels/${l}`).then(de=>s(de.data.data)).catch(()=>_("Khng tm thy khch sn ny.")).finally(()=>h(!1))},[l]),o)return i.jsx("div",{className:"d-flex justify-content-center align-items-center py-5",children:i.jsx("div",{className:"spinner-border text-primary",role:"status"})});if(g)return i.jsx("div",{className:"alert alert-danger mt-4 text-center",children:g});if(!c)return i.jsx("div",{className:"alert alert-warning mt-4 text-center",children:"Khng tm thy khch sn."});const ne=c.images?c.images.map(de=>de.image_url):[],le=ne.length>0?ne[0].startsWith("http")?ne[0]:`${QC}${ne[0]}`:null,se=ne.length>1?ne.slice(1):[],q=de=>{v(de),S(!0)};return i.jsxs("div",{className:"luxury-home-container",children:[i.jsx(Lr,{}),i.jsx("div",{className:"container py-4",children:i.jsxs("div",{className:"row g-3 align-items-start",style:{minHeight:350},children:[i.jsxs("div",{className:"col-md-7 col-12",children:[i.jsx("h2",{className:"fw-bold mb-2",style:{color:"#1a5bb8"},children:c.name}),i.jsx(Vl,{id:c.id,type:"hotel"}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-geo-alt me-2 text-primary"}),i.jsx("b",{children:"a ch:"})," ",i.jsx("span",{className:"text-dark",children:c.address||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-building me-2 text-secondary"}),i.jsx("b",{children:"Thnh ph:"})," ",i.jsx("span",{className:"text-dark",children:c.city||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-telephone me-2 text-success"}),i.jsx("b",{children:"Lin h:"})," ",i.jsx("span",{className:"text-dark",children:c.phone||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-star me-2 text-warning"}),i.jsx("b",{children:"Hng sao:"})," ",i.jsx("span",{className:"text-dark",children:c.stars||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-currency-dollar me-2 text-success"}),i.jsx("b",{children:"Gi:"})," ",i.jsx("span",{className:"text-dark",children:c.price?c.price.toLocaleString("vi-VN")+" VND":"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-info-circle me-2 text-info"}),i.jsx("b",{children:"M t:"})," ",i.jsx("span",{className:"text-muted",children:c.description||"---"})]}),Array.isArray(c.amenities)&&c.amenities.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-gem me-2 text-info"}),i.jsx("b",{children:"Tin nghi:"}),i.jsx("div",{className:"d-flex flex-wrap gap-2 mt-1",children:c.amenities.map((de,re)=>i.jsx("span",{className:"badge bg-light text-dark border border-1 px-3 py-2",style:{fontSize:"1em",borderRadius:12},children:de},re))})]}),i.jsxs(Ht,{className:"mt-3 btn btn-main",onClick:()=>j(!0),children:[i.jsx("i",{className:"bi bi-calendar-check me-2"}),"t phng khch sn"]}),K==="success"&&i.jsx("div",{className:"alert alert-success mt-3",children:"t phng thnh cng!"}),K==="error"&&i.jsx("div",{className:"alert alert-danger mt-3",children:"t phng tht bi. Vui lng th li."})]}),i.jsxs("div",{className:"col-md-5 col-12 d-flex flex-column align-items-end",children:[le?i.jsx("img",{src:le,alt:c.name,style:{width:"100%",maxWidth:400,maxHeight:300,objectFit:"cover",borderRadius:16,marginBottom:8,cursor:"pointer"},onClick:()=>q(le)}):i.jsx("div",{className:"d-flex align-items-center justify-content-center bg-light",style:{width:"100%",maxWidth:400,height:220,borderRadius:16},children:i.jsx("i",{className:"bi bi-image text-muted",style:{fontSize:"4rem"}})}),se.length>0&&i.jsx("div",{className:"d-flex flex-wrap gap-2 mt-2 justify-content-end",children:se.map((de,re)=>{const be=de.startsWith("http")?de:`${QC}${de}`;return i.jsx("img",{src:be,alt:c.name,style:{height:60,width:90,objectFit:"cover",borderRadius:8,border:"1px solid #e9ecef",background:"#f8f9fa",cursor:"pointer"},onClick:()=>q(be)},re)})})]})]})}),N&&i.jsx("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.7)"},tabIndex:"-1",onClick:()=>S(!1),children:i.jsx("div",{className:"modal-dialog modal-dialog-centered",onClick:de=>de.stopPropagation(),children:i.jsxs("div",{className:"modal-content bg-transparent border-0",children:[i.jsx("button",{type:"button",className:"btn-close btn-close-white ms-auto",style:{fontSize:24},onClick:()=>S(!1)}),i.jsx("img",{src:y,alt:"Preview",className:"img-fluid rounded-4 shadow",style:{maxHeight:"70vh",maxWidth:"90vw",display:"block",margin:"0 auto"}})]})})}),i.jsxs(yt,{show:D,onHide:()=>j(!1),centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsx(yt.Title,{children:"t phng khch sn"})}),i.jsx(yt.Body,{children:i.jsxs(gn,{children:[i.jsxs(gn.Group,{className:"mb-3",children:[i.jsx(gn.Label,{children:"Ngy nhn phng"}),i.jsx(gn.Control,{type:"date",value:B,onChange:de=>F(de.target.value)})]}),i.jsxs(gn.Group,{className:"mb-3",children:[i.jsx(gn.Label,{children:"Ngy tr phng"}),i.jsx(gn.Control,{type:"date",value:H,onChange:de=>$(de.target.value)})]})]})}),i.jsxs(yt.Footer,{children:[i.jsx(Ht,{variant:"secondary",onClick:()=>j(!1),children:"ng"}),i.jsx(Ht,{variant:"success",onClick:async()=>{Q(null);try{await gh.bookHotel({user_id:ee==null?void 0:ee.id,hotel_id:c.id,check_in:B,check_out:H}),Q("success")}catch{Q("error")}},disabled:!B||!H,children:"Xc nhn t phng"})]})]}),i.jsx($r,{})]})},fJ=()=>{const{id:l}=Cb(),[c,s]=I.useState(null),[o,h]=I.useState(!0),[g,_]=I.useState(""),{user:y}=Sb(),[v,N]=I.useState(!1),[S,D]=I.useState(""),[j,B]=I.useState(2),[F,H]=I.useState(""),[$,K]=I.useState(null),[Q,ee]=I.useState([]),[ne,le]=I.useState(!0),[se,q]=I.useState(null),de="https://walkingguide.onrender.com";if(I.useEffect(()=>{h(!0),kt.get(`${de}/api/restaurants/${l}`).then(De=>s(De.data.data)).catch(()=>_("Khng tm thy nh hng ny.")).finally(()=>h(!1))},[l]),I.useEffect(()=>{le(!0),kt.get(`${de}/api/restaurants/${l}/menus`).then(async De=>{const _e=De.data.data||[],je=await Promise.all(_e.map(async oe=>{const ve=await kt.get(`${de}/api/restaurants/menus/${oe.id}/items`).catch(()=>({data:{data:[]}}));return{...oe,items:ve.data.data||[]}}));ee(je),q(je.length>0?je[0]:null)}).catch(()=>{ee([]),q(null)}).finally(()=>le(!1))},[l]),o)return i.jsx("div",{className:"d-flex justify-content-center align-items-center py-5",children:i.jsx("div",{className:"spinner-border text-primary",role:"status"})});if(g)return i.jsx("div",{className:"alert alert-danger mt-4 text-center",children:g});if(!c)return i.jsx("div",{className:"alert alert-warning mt-4 text-center",children:"Khng tm thy nh hng."});const re=c.images?c.images.map(De=>De.image_url):[],be=re.length>0?re[0].startsWith("http")?re[0]:`${de}${re[0]}`:null,ke=re.length>1?re.slice(1):[],Ne=async De=>{if(De.preventDefault(),!y){K({success:!1,message:"Bn cn ng nhp  t bn."});return}try{const _e=await kt.post(`${de}/api/restaurants/${l}/bookings`,{user_id:y.id,restaurant_id:l,booking_time:S,number_of_people:j,special_requests:F});K({success:!0,message:"t bn thnh cng!"}),N(!1)}catch{K({success:!1,message:"t bn tht bi. Vui lng th li."})}};return i.jsxs("div",{className:"luxury-home-container",children:[i.jsx(Lr,{}),i.jsx("div",{className:"container py-4",children:i.jsxs("div",{className:"row g-3 align-items-start",style:{minHeight:350},children:[i.jsxs("div",{className:"col-md-7 col-12",children:[i.jsx("h2",{className:"fw-bold mb-2",style:{color:"#1a5bb8"},children:c.name}),i.jsx(Vl,{id:c.id,type:"restaurant"}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-geo-alt me-2 text-primary"}),i.jsx("b",{children:"a ch:"})," ",i.jsx("span",{className:"text-dark",children:c.address||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-building me-2 text-secondary"}),i.jsx("b",{children:"Thnh ph:"})," ",i.jsx("span",{className:"text-dark",children:c.city||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-telephone me-2 text-success"}),i.jsx("b",{children:"Lin h:"})," ",i.jsx("span",{className:"text-dark",children:c.phone||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-star me-2 text-warning"}),i.jsx("b",{children:"nh gi:"})," ",i.jsx("span",{className:"text-dark",children:c.rating||"---"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-info-circle me-2 text-info"}),i.jsx("b",{children:"M t:"})," ",i.jsx("span",{className:"text-muted",children:c.description||"---"})]}),c.cuisine_type&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-egg-fried me-2 text-danger"}),i.jsx("b",{children:"Loi m thc:"})," ",i.jsx("span",{className:"text-dark",children:c.cuisine_type})]}),Array.isArray(c.features)&&c.features.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsx("i",{className:"bi bi-gem me-2 text-info"}),i.jsx("b",{children:"Tin ch:"}),i.jsx("div",{className:"d-flex flex-wrap gap-2 mt-1",children:c.features.map((De,_e)=>i.jsx("span",{className:"badge bg-light text-dark border border-1 px-3 py-2",style:{fontSize:"1em",borderRadius:12},children:De},_e))})]}),i.jsx(Ht,{className:"mt-3 btn btn-main",onClick:()=>N(!0),children:"t bn ngay"}),$&&i.jsx("div",{className:`alert mt-3 ${$.success?"alert-success":"alert-danger"}`,children:$.message}),i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"fw-bold mb-3",children:"Thc n"}),ne?i.jsx("div",{children:"ang ti thc n..."}):Q.length===0?i.jsx("div",{className:"text-muted",children:"Nh hng cha c thc n."}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"d-flex overflow-auto mb-3",style:{gap:8},children:Q.map(De=>i.jsx(Ht,{variant:se&&se.id===De.id?"primary":"outline-primary",className:"me-2 btn btn-main",onClick:()=>q(De),style:{whiteSpace:"nowrap"},children:De.name},De.id))}),se&&se.items&&se.items.length>0?i.jsx("div",{className:"row g-3",children:se.items.map(De=>i.jsx("div",{className:"col-md-6 col-lg-4",children:i.jsxs("div",{className:"card h-100 shadow-sm",children:[De.image_url&&i.jsx("img",{src:De.image_url.startsWith("http")?De.image_url:`${de}${De.image_url}`,alt:De.name,className:"card-img-top",style:{height:160,objectFit:"cover"}}),i.jsxs("div",{className:"card-body",children:[i.jsx("h6",{className:"card-title mb-1 fw-bold",children:De.name}),i.jsx("div",{className:"mb-1 text-success",children:De.price?De.price.toLocaleString("vi-VN")+" VND":""}),i.jsx("div",{className:"card-text text-muted",style:{fontSize:"0.95em"},children:De.description})]})]})},De.id))}):i.jsx("div",{className:"text-muted",children:"Cha c mn n no trong mc ny."})]})]})]}),i.jsxs("div",{className:"col-md-5 col-12 d-flex flex-column align-items-end",children:[be?i.jsx("img",{src:be,alt:c.name,style:{width:"100%",maxWidth:400,maxHeight:300,objectFit:"cover",borderRadius:16,marginBottom:8}}):i.jsx("div",{className:"d-flex align-items-center justify-content-center bg-light",style:{width:"100%",maxWidth:400,height:220,borderRadius:16},children:i.jsx("i",{className:"bi bi-image text-muted",style:{fontSize:"4rem"}})}),ke.length>0&&i.jsx("div",{className:"d-flex flex-wrap gap-2 mt-2 justify-content-end",children:ke.map((De,_e)=>i.jsx("img",{src:De.startsWith("http")?De:`${de}${De}`,alt:c.name,style:{height:60,width:90,objectFit:"cover",borderRadius:8,border:"1px solid #e9ecef",background:"#f8f9fa"}},_e))})]})]})}),i.jsxs(yt,{show:v,onHide:()=>N(!1),centered:!0,children:[i.jsx(yt.Header,{closeButton:!0,children:i.jsxs(yt.Title,{children:["t bn ti ",c==null?void 0:c.name]})}),i.jsxs(gn,{onSubmit:Ne,children:[i.jsxs(yt.Body,{children:[i.jsxs(gn.Group,{className:"mb-3",children:[i.jsx(gn.Label,{children:"Ngy & Gi"}),i.jsx(gn.Control,{type:"datetime-local",value:S,onChange:De=>D(De.target.value),required:!0})]}),i.jsxs(gn.Group,{className:"mb-3",children:[i.jsx(gn.Label,{children:"S ngi"}),i.jsx(gn.Control,{type:"number",min:1,max:30,value:j,onChange:De=>B(De.target.value),required:!0})]}),i.jsxs(gn.Group,{className:"mb-3",children:[i.jsx(gn.Label,{children:"Ghi ch c bit"}),i.jsx(gn.Control,{as:"textarea",rows:2,value:F,onChange:De=>H(De.target.value),placeholder:"(Khng bt buc)"})]})]}),i.jsxs(yt.Footer,{children:[i.jsx(Ht,{variant:"secondary",onClick:()=>N(!1),children:"Hy"}),i.jsx(Ht,{variant:"primary",type:"submit",children:"t bn"})]})]})]}),i.jsx($r,{})]})},pJ=({message:l,type:c="success",duration:s=3e3,onClose:o,position:h="top-right"})=>{const[g,_]=I.useState(!0),[y,v]=I.useState(!1);I.useEffect(()=>{const j=setTimeout(()=>{N()},s);return()=>clearTimeout(j)},[s]);const N=()=>{v(!0),setTimeout(()=>{_(!1),o&&o()},300)},S=()=>{switch(c){case"success":return i.jsx("i",{className:"bi bi-check-circle-fill"});case"error":return i.jsx("i",{className:"bi bi-exclamation-triangle-fill"});case"warning":return i.jsx("i",{className:"bi bi-exclamation-triangle-fill"});case"info":return i.jsx("i",{className:"bi bi-info-circle-fill"});default:return i.jsx("i",{className:"bi bi-check-circle-fill"})}},D=()=>{const j="toast-notification",B=`toast-${c}`,F=`toast-${h.replace("-","-")}`;return`${j} ${B} ${F} ${y?"toast-exit":"toast-enter"}`};return g?i.jsxs("div",{className:D(),children:[i.jsxs("div",{className:"toast-content",children:[i.jsx("div",{className:"toast-icon",children:S()}),i.jsx("div",{className:"toast-message",children:l}),i.jsx("button",{className:"toast-close",onClick:N,"aria-label":"Close notification",children:i.jsx("i",{className:"bi bi-x"})})]}),i.jsx("div",{className:"toast-progress",children:i.jsx("div",{className:"toast-progress-bar",style:{animationDuration:`${s}ms`,animationDelay:"0ms"}})})]}):null},gJ=()=>{const[l,c]=I.useState([]),s=I.useCallback((h,g="success",_=3e3)=>{const y=Date.now()+Math.random(),v={id:y,message:h,type:g,duration:_};return c(N=>[...N,v]),y},[]),o=I.useCallback(h=>{c(g=>g.filter(_=>_.id!==h))},[]);return it.useEffect(()=>(window.showToast=s,()=>{delete window.showToast}),[s]),i.jsx("div",{className:"toast-container",children:l.map(h=>i.jsx(pJ,{message:h.message,type:h.type,duration:h.duration,onClose:()=>o(h.id)},h.id))})};function bJ(){return i.jsxs(w9,{children:[i.jsx(lJ,{}),i.jsx(gJ,{}),i.jsxs(Q7,{children:[i.jsx(Ci,{path:"/",element:i.jsx(ZZ,{})}),i.jsx(Ci,{path:"/login",element:i.jsx(iX,{})}),i.jsx(Ci,{path:"/register",element:i.jsx(rX,{})}),i.jsx(Ci,{path:"/verify-email",element:i.jsx(cJ,{})}),i.jsx(Ci,{path:"/forgot-password",element:i.jsx(dJ,{})}),i.jsx(Ci,{path:"/reset-password",element:i.jsx(hJ,{})}),i.jsx(Ci,{path:"/otp",element:i.jsx(uJ,{})}),i.jsx(Ci,{path:"/users",element:i.jsx(du,{children:i.jsx(XZ,{})})}),i.jsx(Ci,{path:"/places",element:i.jsx(du,{children:i.jsx(eX,{})})}),i.jsx(Ci,{path:"/tours",element:i.jsx(du,{children:i.jsx(tX,{})})}),i.jsx(Ci,{path:"/articles",element:i.jsx(du,{children:i.jsx(nX,{})})}),i.jsx(Ci,{path:"/create-article",element:i.jsx(du,{children:i.jsx(oJ,{})})}),i.jsx(Ci,{path:"/notifications",element:i.jsx(du,{children:i.jsx(aJ,{})})}),i.jsx(Ci,{path:"/admin",element:i.jsx(dd,{children:i.jsx(sX,{})})}),i.jsx(Ci,{path:"/admin/users",element:i.jsx(dd,{children:i.jsx(IX,{})})}),i.jsx(Ci,{path:"/admin/places",element:i.jsx(dd,{children:i.jsx(zX,{})})}),i.jsx(Ci,{path:"/admin/hotels",element:i.jsx(dd,{children:i.jsx(VX,{})})}),i.jsx(Ci,{path:"/admin/restaurants",element:i.jsx(dd,{children:i.jsx(HX,{})})}),i.jsx(Ci,{path:"/admin/articles",element:i.jsx(dd,{children:i.jsx(MX,{})})}),i.jsx(Ci,{path:"/admin/tours",element:i.jsx(dd,{children:i.jsx($X,{})})}),i.jsx(Ci,{path:"/admin/bookings",element:i.jsx(dd,{children:i.jsx(qX,{})})}),i.jsx(Ci,{path:"/admin/tags",element:i.jsx(dd,{children:i.jsx(WX,{})})}),i.jsx(Ci,{path:"/admin/settings",element:i.jsx(dd,{children:i.jsx(YX,{})})}),i.jsx(Ci,{path:"/manual-planner",element:i.jsx(du,{children:i.jsx(lL,{})})}),i.jsx(Ci,{path:"/my-tours",element:i.jsx(du,{children:i.jsx(sJ,{})})}),i.jsx(Ci,{path:"/ai/generate-tour",element:i.jsx(du,{children:i.jsx(cL,{})})}),i.jsx(Ci,{path:"/articles/:id",element:i.jsx(MO,{})}),i.jsx(Ci,{path:"/articles/:id/report",element:i.jsx(MO,{})}),i.jsx(Ci,{path:"/places/:id",element:i.jsx(XX,{})}),i.jsx(Ci,{path:"/tours/:id",element:i.jsx(iJ,{})}),i.jsx(Ci,{path:"/hotels/:id",element:i.jsx(mJ,{})}),i.jsx(Ci,{path:"/restaurants/:id",element:i.jsx(fJ,{})}),i.jsx(Ci,{path:"/place-ratings/rate/:id",element:i.jsx(Vl,{})})]})]})}var fv={exports:{}};/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var kJ=fv.exports,LO;function _J(){return LO||(LO=1,function(l,c){(function(s,o){l.exports=o()})(kJ,function(){const s=new Map,o={set(te,R,Y){s.has(te)||s.set(te,new Map);const ue=s.get(te);ue.has(R)||ue.size===0?ue.set(R,Y):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(ue.keys())[0]}.`)},get:(te,R)=>s.has(te)&&s.get(te).get(R)||null,remove(te,R){if(!s.has(te))return;const Y=s.get(te);Y.delete(R),Y.size===0&&s.delete(te)}},h="transitionend",g=te=>(te&&window.CSS&&window.CSS.escape&&(te=te.replace(/#([^\s"#']+)/g,(R,Y)=>`#${CSS.escape(Y)}`)),te),_=te=>{te.dispatchEvent(new Event(h))},y=te=>!(!te||typeof te!="object")&&(te.jquery!==void 0&&(te=te[0]),te.nodeType!==void 0),v=te=>y(te)?te.jquery?te[0]:te:typeof te=="string"&&te.length>0?document.querySelector(g(te)):null,N=te=>{if(!y(te)||te.getClientRects().length===0)return!1;const R=getComputedStyle(te).getPropertyValue("visibility")==="visible",Y=te.closest("details:not([open])");if(!Y)return R;if(Y!==te){const ue=te.closest("summary");if(ue&&ue.parentNode!==Y||ue===null)return!1}return R},S=te=>!te||te.nodeType!==Node.ELEMENT_NODE||!!te.classList.contains("disabled")||(te.disabled!==void 0?te.disabled:te.hasAttribute("disabled")&&te.getAttribute("disabled")!=="false"),D=te=>{if(!document.documentElement.attachShadow)return null;if(typeof te.getRootNode=="function"){const R=te.getRootNode();return R instanceof ShadowRoot?R:null}return te instanceof ShadowRoot?te:te.parentNode?D(te.parentNode):null},j=()=>{},B=te=>{te.offsetHeight},F=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,H=[],$=()=>document.documentElement.dir==="rtl",K=te=>{var R;R=()=>{const Y=F();if(Y){const ue=te.NAME,Pe=Y.fn[ue];Y.fn[ue]=te.jQueryInterface,Y.fn[ue].Constructor=te,Y.fn[ue].noConflict=()=>(Y.fn[ue]=Pe,te.jQueryInterface)}},document.readyState==="loading"?(H.length||document.addEventListener("DOMContentLoaded",()=>{for(const Y of H)Y()}),H.push(R)):R()},Q=(te,R=[],Y=te)=>typeof te=="function"?te.call(...R):Y,ee=(te,R,Y=!0)=>{if(!Y)return void Q(te);const ue=(ot=>{if(!ot)return 0;let{transitionDuration:wt,transitionDelay:Ot}=window.getComputedStyle(ot);const $t=Number.parseFloat(wt),Yt=Number.parseFloat(Ot);return $t||Yt?(wt=wt.split(",")[0],Ot=Ot.split(",")[0],1e3*(Number.parseFloat(wt)+Number.parseFloat(Ot))):0})(R)+5;let Pe=!1;const Re=({target:ot})=>{ot===R&&(Pe=!0,R.removeEventListener(h,Re),Q(te))};R.addEventListener(h,Re),setTimeout(()=>{Pe||_(R)},ue)},ne=(te,R,Y,ue)=>{const Pe=te.length;let Re=te.indexOf(R);return Re===-1?!Y&&ue?te[Pe-1]:te[0]:(Re+=Y?1:-1,ue&&(Re=(Re+Pe)%Pe),te[Math.max(0,Math.min(Re,Pe-1))])},le=/[^.]*(?=\..*)\.|.*/,se=/\..*/,q=/::\d+$/,de={};let re=1;const be={mouseenter:"mouseover",mouseleave:"mouseout"},ke=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ne(te,R){return R&&`${R}::${re++}`||te.uidEvent||re++}function De(te){const R=Ne(te);return te.uidEvent=R,de[R]=de[R]||{},de[R]}function _e(te,R,Y=null){return Object.values(te).find(ue=>ue.callable===R&&ue.delegationSelector===Y)}function je(te,R,Y){const ue=typeof R=="string",Pe=ue?Y:R||Y;let Re=Ee(te);return ke.has(Re)||(Re=te),[ue,Pe,Re]}function oe(te,R,Y,ue,Pe){if(typeof R!="string"||!te)return;let[Re,ot,wt]=je(R,Y,ue);R in be&&(ot=(Cn=>function(St){if(!St.relatedTarget||St.relatedTarget!==St.delegateTarget&&!St.delegateTarget.contains(St.relatedTarget))return Cn.call(this,St)})(ot));const Ot=De(te),$t=Ot[wt]||(Ot[wt]={}),Yt=_e($t,ot,Re?Y:null);if(Yt)return void(Yt.oneOff=Yt.oneOff&&Pe);const qt=Ne(ot,R.replace(le,"")),ft=Re?function(un,Cn,St){return function An(si){const pi=un.querySelectorAll(Cn);for(let{target:Hn}=si;Hn&&Hn!==this;Hn=Hn.parentNode)for(const lt of pi)if(lt===Hn)return pe(si,{delegateTarget:Hn}),An.oneOff&&Z.off(un,si.type,Cn,St),St.apply(Hn,[si])}}(te,Y,ot):function(un,Cn){return function St(An){return pe(An,{delegateTarget:un}),St.oneOff&&Z.off(un,An.type,Cn),Cn.apply(un,[An])}}(te,ot);ft.delegationSelector=Re?Y:null,ft.callable=ot,ft.oneOff=Pe,ft.uidEvent=qt,$t[qt]=ft,te.addEventListener(wt,ft,Re)}function ve(te,R,Y,ue,Pe){const Re=_e(R[Y],ue,Pe);Re&&(te.removeEventListener(Y,Re,!!Pe),delete R[Y][Re.uidEvent])}function he(te,R,Y,ue){const Pe=R[Y]||{};for(const[Re,ot]of Object.entries(Pe))Re.includes(ue)&&ve(te,R,Y,ot.callable,ot.delegationSelector)}function Ee(te){return te=te.replace(se,""),be[te]||te}const Z={on(te,R,Y,ue){oe(te,R,Y,ue,!1)},one(te,R,Y,ue){oe(te,R,Y,ue,!0)},off(te,R,Y,ue){if(typeof R!="string"||!te)return;const[Pe,Re,ot]=je(R,Y,ue),wt=ot!==R,Ot=De(te),$t=Ot[ot]||{},Yt=R.startsWith(".");if(Re===void 0){if(Yt)for(const qt of Object.keys(Ot))he(te,Ot,qt,R.slice(1));for(const[qt,ft]of Object.entries($t)){const un=qt.replace(q,"");wt&&!R.includes(un)||ve(te,Ot,ot,ft.callable,ft.delegationSelector)}}else{if(!Object.keys($t).length)return;ve(te,Ot,ot,Re,Pe?Y:null)}},trigger(te,R,Y){if(typeof R!="string"||!te)return null;const ue=F();let Pe=null,Re=!0,ot=!0,wt=!1;R!==Ee(R)&&ue&&(Pe=ue.Event(R,Y),ue(te).trigger(Pe),Re=!Pe.isPropagationStopped(),ot=!Pe.isImmediatePropagationStopped(),wt=Pe.isDefaultPrevented());const Ot=pe(new Event(R,{bubbles:Re,cancelable:!0}),Y);return wt&&Ot.preventDefault(),ot&&te.dispatchEvent(Ot),Ot.defaultPrevented&&Pe&&Pe.preventDefault(),Ot}};function pe(te,R={}){for(const[Y,ue]of Object.entries(R))try{te[Y]=ue}catch{Object.defineProperty(te,Y,{configurable:!0,get:()=>ue})}return te}function xe(te){if(te==="true")return!0;if(te==="false")return!1;if(te===Number(te).toString())return Number(te);if(te===""||te==="null")return null;if(typeof te!="string")return te;try{return JSON.parse(decodeURIComponent(te))}catch{return te}}function Se(te){return te.replace(/[A-Z]/g,R=>`-${R.toLowerCase()}`)}const Fe={setDataAttribute(te,R,Y){te.setAttribute(`data-bs-${Se(R)}`,Y)},removeDataAttribute(te,R){te.removeAttribute(`data-bs-${Se(R)}`)},getDataAttributes(te){if(!te)return{};const R={},Y=Object.keys(te.dataset).filter(ue=>ue.startsWith("bs")&&!ue.startsWith("bsConfig"));for(const ue of Y){let Pe=ue.replace(/^bs/,"");Pe=Pe.charAt(0).toLowerCase()+Pe.slice(1),R[Pe]=xe(te.dataset[ue])}return R},getDataAttribute:(te,R)=>xe(te.getAttribute(`data-bs-${Se(R)}`))};class tt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(R){return R=this._mergeConfigObj(R),R=this._configAfterMerge(R),this._typeCheckConfig(R),R}_configAfterMerge(R){return R}_mergeConfigObj(R,Y){const ue=y(Y)?Fe.getDataAttribute(Y,"config"):{};return{...this.constructor.Default,...typeof ue=="object"?ue:{},...y(Y)?Fe.getDataAttributes(Y):{},...typeof R=="object"?R:{}}}_typeCheckConfig(R,Y=this.constructor.DefaultType){for(const[Pe,Re]of Object.entries(Y)){const ot=R[Pe],wt=y(ot)?"element":(ue=ot)==null?`${ue}`:Object.prototype.toString.call(ue).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(Re).test(wt))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${Pe}" provided type "${wt}" but expected type "${Re}".`)}var ue}}class fe extends tt{constructor(R,Y){super(),(R=v(R))&&(this._element=R,this._config=this._getConfig(Y),o.set(this._element,this.constructor.DATA_KEY,this))}dispose(){o.remove(this._element,this.constructor.DATA_KEY),Z.off(this._element,this.constructor.EVENT_KEY);for(const R of Object.getOwnPropertyNames(this))this[R]=null}_queueCallback(R,Y,ue=!0){ee(R,Y,ue)}_getConfig(R){return R=this._mergeConfigObj(R,this._element),R=this._configAfterMerge(R),this._typeCheckConfig(R),R}static getInstance(R){return o.get(v(R),this.DATA_KEY)}static getOrCreateInstance(R,Y={}){return this.getInstance(R)||new this(R,typeof Y=="object"?Y:null)}static get VERSION(){return"5.3.6"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(R){return`${R}${this.EVENT_KEY}`}}const me=te=>{let R=te.getAttribute("data-bs-target");if(!R||R==="#"){let Y=te.getAttribute("href");if(!Y||!Y.includes("#")&&!Y.startsWith("."))return null;Y.includes("#")&&!Y.startsWith("#")&&(Y=`#${Y.split("#")[1]}`),R=Y&&Y!=="#"?Y.trim():null}return R?R.split(",").map(Y=>g(Y)).join(","):null},Ie={find:(te,R=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(R,te)),findOne:(te,R=document.documentElement)=>Element.prototype.querySelector.call(R,te),children:(te,R)=>[].concat(...te.children).filter(Y=>Y.matches(R)),parents(te,R){const Y=[];let ue=te.parentNode.closest(R);for(;ue;)Y.push(ue),ue=ue.parentNode.closest(R);return Y},prev(te,R){let Y=te.previousElementSibling;for(;Y;){if(Y.matches(R))return[Y];Y=Y.previousElementSibling}return[]},next(te,R){let Y=te.nextElementSibling;for(;Y;){if(Y.matches(R))return[Y];Y=Y.nextElementSibling}return[]},focusableChildren(te){const R=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(Y=>`${Y}:not([tabindex^="-"])`).join(",");return this.find(R,te).filter(Y=>!S(Y)&&N(Y))},getSelectorFromElement(te){const R=me(te);return R&&Ie.findOne(R)?R:null},getElementFromSelector(te){const R=me(te);return R?Ie.findOne(R):null},getMultipleElementsFromSelector(te){const R=me(te);return R?Ie.find(R):[]}},qe=(te,R="hide")=>{const Y=`click.dismiss${te.EVENT_KEY}`,ue=te.NAME;Z.on(document,Y,`[data-bs-dismiss="${ue}"]`,function(Pe){if(["A","AREA"].includes(this.tagName)&&Pe.preventDefault(),S(this))return;const Re=Ie.getElementFromSelector(this)||this.closest(`.${ue}`);te.getOrCreateInstance(Re)[R]()})},Le=".bs.alert",st=`close${Le}`,Ye=`closed${Le}`;class Oe extends fe{static get NAME(){return"alert"}close(){if(Z.trigger(this._element,st).defaultPrevented)return;this._element.classList.remove("show");const R=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,R)}_destroyElement(){this._element.remove(),Z.trigger(this._element,Ye),this.dispose()}static jQueryInterface(R){return this.each(function(){const Y=Oe.getOrCreateInstance(this);if(typeof R=="string"){if(Y[R]===void 0||R.startsWith("_")||R==="constructor")throw new TypeError(`No method named "${R}"`);Y[R](this)}})}}qe(Oe,"close"),K(Oe);const ut='[data-bs-toggle="button"]';class ze extends fe{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(R){return this.each(function(){const Y=ze.getOrCreateInstance(this);R==="toggle"&&Y[R]()})}}Z.on(document,"click.bs.button.data-api",ut,te=>{te.preventDefault();const R=te.target.closest(ut);ze.getOrCreateInstance(R).toggle()}),K(ze);const ht=".bs.swipe",Rt=`touchstart${ht}`,Xt=`touchmove${ht}`,at=`touchend${ht}`,jt=`pointerdown${ht}`,Dt=`pointerup${ht}`,Qe={endCallback:null,leftCallback:null,rightCallback:null},It={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Lt extends tt{constructor(R,Y){super(),this._element=R,R&&Lt.isSupported()&&(this._config=this._getConfig(Y),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Qe}static get DefaultType(){return It}static get NAME(){return"swipe"}dispose(){Z.off(this._element,ht)}_start(R){this._supportPointerEvents?this._eventIsPointerPenTouch(R)&&(this._deltaX=R.clientX):this._deltaX=R.touches[0].clientX}_end(R){this._eventIsPointerPenTouch(R)&&(this._deltaX=R.clientX-this._deltaX),this._handleSwipe(),Q(this._config.endCallback)}_move(R){this._deltaX=R.touches&&R.touches.length>1?0:R.touches[0].clientX-this._deltaX}_handleSwipe(){const R=Math.abs(this._deltaX);if(R<=40)return;const Y=R/this._deltaX;this._deltaX=0,Y&&Q(Y>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Z.on(this._element,jt,R=>this._start(R)),Z.on(this._element,Dt,R=>this._end(R)),this._element.classList.add("pointer-event")):(Z.on(this._element,Rt,R=>this._start(R)),Z.on(this._element,Xt,R=>this._move(R)),Z.on(this._element,at,R=>this._end(R)))}_eventIsPointerPenTouch(R){return this._supportPointerEvents&&(R.pointerType==="pen"||R.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ue=".bs.carousel",bt=".data-api",Ut="ArrowLeft",hn="ArrowRight",Pn="next",yn="prev",li="left",di="right",Ar=`slide${Ue}`,tr=`slid${Ue}`,Oi=`keydown${Ue}`,ri=`mouseenter${Ue}`,ei=`mouseleave${Ue}`,Us=`dragstart${Ue}`,ui=`load${Ue}${bt}`,nr=`click${Ue}${bt}`,kr="carousel",ir="active",$e=".active",Gt=".carousel-item",mt=$e+Gt,dn={[Ut]:di,[hn]:li},$n={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ge={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Tt extends fe{constructor(R,Y){super(R,Y),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ie.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===kr&&this.cycle()}static get Default(){return $n}static get DefaultType(){return Ge}static get NAME(){return"carousel"}next(){this._slide(Pn)}nextWhenVisible(){!document.hidden&&N(this._element)&&this.next()}prev(){this._slide(yn)}pause(){this._isSliding&&_(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?Z.one(this._element,tr,()=>this.cycle()):this.cycle())}to(R){const Y=this._getItems();if(R>Y.length-1||R<0)return;if(this._isSliding)return void Z.one(this._element,tr,()=>this.to(R));const ue=this._getItemIndex(this._getActive());if(ue===R)return;const Pe=R>ue?Pn:yn;this._slide(Pe,Y[R])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(R){return R.defaultInterval=R.interval,R}_addEventListeners(){this._config.keyboard&&Z.on(this._element,Oi,R=>this._keydown(R)),this._config.pause==="hover"&&(Z.on(this._element,ri,()=>this.pause()),Z.on(this._element,ei,()=>this._maybeEnableCycle())),this._config.touch&&Lt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const Y of Ie.find(".carousel-item img",this._element))Z.on(Y,Us,ue=>ue.preventDefault());const R={leftCallback:()=>this._slide(this._directionToOrder(li)),rightCallback:()=>this._slide(this._directionToOrder(di)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Lt(this._element,R)}_keydown(R){if(/input|textarea/i.test(R.target.tagName))return;const Y=dn[R.key];Y&&(R.preventDefault(),this._slide(this._directionToOrder(Y)))}_getItemIndex(R){return this._getItems().indexOf(R)}_setActiveIndicatorElement(R){if(!this._indicatorsElement)return;const Y=Ie.findOne($e,this._indicatorsElement);Y.classList.remove(ir),Y.removeAttribute("aria-current");const ue=Ie.findOne(`[data-bs-slide-to="${R}"]`,this._indicatorsElement);ue&&(ue.classList.add(ir),ue.setAttribute("aria-current","true"))}_updateInterval(){const R=this._activeElement||this._getActive();if(!R)return;const Y=Number.parseInt(R.getAttribute("data-bs-interval"),10);this._config.interval=Y||this._config.defaultInterval}_slide(R,Y=null){if(this._isSliding)return;const ue=this._getActive(),Pe=R===Pn,Re=Y||ne(this._getItems(),ue,Pe,this._config.wrap);if(Re===ue)return;const ot=this._getItemIndex(Re),wt=qt=>Z.trigger(this._element,qt,{relatedTarget:Re,direction:this._orderToDirection(R),from:this._getItemIndex(ue),to:ot});if(wt(Ar).defaultPrevented||!ue||!Re)return;const Ot=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ot),this._activeElement=Re;const $t=Pe?"carousel-item-start":"carousel-item-end",Yt=Pe?"carousel-item-next":"carousel-item-prev";Re.classList.add(Yt),B(Re),ue.classList.add($t),Re.classList.add($t),this._queueCallback(()=>{Re.classList.remove($t,Yt),Re.classList.add(ir),ue.classList.remove(ir,Yt,$t),this._isSliding=!1,wt(tr)},ue,this._isAnimated()),Ot&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Ie.findOne(mt,this._element)}_getItems(){return Ie.find(Gt,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(R){return $()?R===li?yn:Pn:R===li?Pn:yn}_orderToDirection(R){return $()?R===yn?li:di:R===yn?di:li}static jQueryInterface(R){return this.each(function(){const Y=Tt.getOrCreateInstance(this,R);if(typeof R!="number"){if(typeof R=="string"){if(Y[R]===void 0||R.startsWith("_")||R==="constructor")throw new TypeError(`No method named "${R}"`);Y[R]()}}else Y.to(R)})}}Z.on(document,nr,"[data-bs-slide], [data-bs-slide-to]",function(te){const R=Ie.getElementFromSelector(this);if(!R||!R.classList.contains(kr))return;te.preventDefault();const Y=Tt.getOrCreateInstance(R),ue=this.getAttribute("data-bs-slide-to");return ue?(Y.to(ue),void Y._maybeEnableCycle()):Fe.getDataAttribute(this,"slide")==="next"?(Y.next(),void Y._maybeEnableCycle()):(Y.prev(),void Y._maybeEnableCycle())}),Z.on(window,ui,()=>{const te=Ie.find('[data-bs-ride="carousel"]');for(const R of te)Tt.getOrCreateInstance(R)}),K(Tt);const Je=".bs.collapse",rn=`show${Je}`,xn=`shown${Je}`,Bn=`hide${Je}`,bn=`hidden${Je}`,we=`click${Je}.data-api`,ct="show",xt="collapse",Te="collapsing",Et=`:scope .${xt} .${xt}`,Mt='[data-bs-toggle="collapse"]',vn={parent:null,toggle:!0},mn={parent:"(null|element)",toggle:"boolean"};class Rn extends fe{constructor(R,Y){super(R,Y),this._isTransitioning=!1,this._triggerArray=[];const ue=Ie.find(Mt);for(const Pe of ue){const Re=Ie.getSelectorFromElement(Pe),ot=Ie.find(Re).filter(wt=>wt===this._element);Re!==null&&ot.length&&this._triggerArray.push(Pe)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return vn}static get DefaultType(){return mn}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let R=[];if(this._config.parent&&(R=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(Pe=>Pe!==this._element).map(Pe=>Rn.getOrCreateInstance(Pe,{toggle:!1}))),R.length&&R[0]._isTransitioning||Z.trigger(this._element,rn).defaultPrevented)return;for(const Pe of R)Pe.hide();const Y=this._getDimension();this._element.classList.remove(xt),this._element.classList.add(Te),this._element.style[Y]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const ue=`scroll${Y[0].toUpperCase()+Y.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Te),this._element.classList.add(xt,ct),this._element.style[Y]="",Z.trigger(this._element,xn)},this._element,!0),this._element.style[Y]=`${this._element[ue]}px`}hide(){if(this._isTransitioning||!this._isShown()||Z.trigger(this._element,Bn).defaultPrevented)return;const R=this._getDimension();this._element.style[R]=`${this._element.getBoundingClientRect()[R]}px`,B(this._element),this._element.classList.add(Te),this._element.classList.remove(xt,ct);for(const Y of this._triggerArray){const ue=Ie.getElementFromSelector(Y);ue&&!this._isShown(ue)&&this._addAriaAndCollapsedClass([Y],!1)}this._isTransitioning=!0,this._element.style[R]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Te),this._element.classList.add(xt),Z.trigger(this._element,bn)},this._element,!0)}_isShown(R=this._element){return R.classList.contains(ct)}_configAfterMerge(R){return R.toggle=!!R.toggle,R.parent=v(R.parent),R}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const R=this._getFirstLevelChildren(Mt);for(const Y of R){const ue=Ie.getElementFromSelector(Y);ue&&this._addAriaAndCollapsedClass([Y],this._isShown(ue))}}_getFirstLevelChildren(R){const Y=Ie.find(Et,this._config.parent);return Ie.find(R,this._config.parent).filter(ue=>!Y.includes(ue))}_addAriaAndCollapsedClass(R,Y){if(R.length)for(const ue of R)ue.classList.toggle("collapsed",!Y),ue.setAttribute("aria-expanded",Y)}static jQueryInterface(R){const Y={};return typeof R=="string"&&/show|hide/.test(R)&&(Y.toggle=!1),this.each(function(){const ue=Rn.getOrCreateInstance(this,Y);if(typeof R=="string"){if(ue[R]===void 0)throw new TypeError(`No method named "${R}"`);ue[R]()}})}}Z.on(document,we,Mt,function(te){(te.target.tagName==="A"||te.delegateTarget&&te.delegateTarget.tagName==="A")&&te.preventDefault();for(const R of Ie.getMultipleElementsFromSelector(this))Rn.getOrCreateInstance(R,{toggle:!1}).toggle()}),K(Rn);var on="top",lr="bottom",Gn="right",Vn="left",Wr="auto",So=[on,lr,Gn,Vn],ws="start",Zo="end",Ac="clippingParents",ka="viewport",uo="popper",$s="reference",Yr=So.reduce(function(te,R){return te.concat([R+"-"+ws,R+"-"+Zo])},[]),cs=[].concat(So,[Wr]).reduce(function(te,R){return te.concat([R,R+"-"+ws,R+"-"+Zo])},[]),ds="beforeRead",za="read",ho="afterRead",Kn="beforeMain",ki="main",_r="afterMain",jo="beforeWrite",Xo="write",Gr="afterWrite",Sn=[ds,za,ho,Kn,ki,_r,jo,Xo,Gr];function Qn(te){return te?(te.nodeName||"").toLowerCase():null}function Nr(te){if(te==null)return window;if(te.toString()!=="[object Window]"){var R=te.ownerDocument;return R&&R.defaultView||window}return te}function Ti(te){return te instanceof Nr(te).Element||te instanceof Element}function Ni(te){return te instanceof Nr(te).HTMLElement||te instanceof HTMLElement}function Fa(te){return typeof ShadowRoot<"u"&&(te instanceof Nr(te).ShadowRoot||te instanceof ShadowRoot)}const qs={name:"applyStyles",enabled:!0,phase:"write",fn:function(te){var R=te.state;Object.keys(R.elements).forEach(function(Y){var ue=R.styles[Y]||{},Pe=R.attributes[Y]||{},Re=R.elements[Y];Ni(Re)&&Qn(Re)&&(Object.assign(Re.style,ue),Object.keys(Pe).forEach(function(ot){var wt=Pe[ot];wt===!1?Re.removeAttribute(ot):Re.setAttribute(ot,wt===!0?"":wt)}))})},effect:function(te){var R=te.state,Y={popper:{position:R.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(R.elements.popper.style,Y.popper),R.styles=Y,R.elements.arrow&&Object.assign(R.elements.arrow.style,Y.arrow),function(){Object.keys(R.elements).forEach(function(ue){var Pe=R.elements[ue],Re=R.attributes[ue]||{},ot=Object.keys(R.styles.hasOwnProperty(ue)?R.styles[ue]:Y[ue]).reduce(function(wt,Ot){return wt[Ot]="",wt},{});Ni(Pe)&&Qn(Pe)&&(Object.assign(Pe.style,ot),Object.keys(Re).forEach(function(wt){Pe.removeAttribute(wt)}))})}},requires:["computeStyles"]};function Ui(te){return te.split("-")[0]}var qn=Math.max,Br=Math.min,Er=Math.round;function us(){var te=navigator.userAgentData;return te!=null&&te.brands&&Array.isArray(te.brands)?te.brands.map(function(R){return R.brand+"/"+R.version}).join(" "):navigator.userAgent}function Ws(){return!/^((?!chrome|android).)*safari/i.test(us())}function ys(te,R,Y){R===void 0&&(R=!1),Y===void 0&&(Y=!1);var ue=te.getBoundingClientRect(),Pe=1,Re=1;R&&Ni(te)&&(Pe=te.offsetWidth>0&&Er(ue.width)/te.offsetWidth||1,Re=te.offsetHeight>0&&Er(ue.height)/te.offsetHeight||1);var ot=(Ti(te)?Nr(te):window).visualViewport,wt=!Ws()&&Y,Ot=(ue.left+(wt&&ot?ot.offsetLeft:0))/Pe,$t=(ue.top+(wt&&ot?ot.offsetTop:0))/Re,Yt=ue.width/Pe,qt=ue.height/Re;return{width:Yt,height:qt,top:$t,right:Ot+Yt,bottom:$t+qt,left:Ot,x:Ot,y:$t}}function Ys(te){var R=ys(te),Y=te.offsetWidth,ue=te.offsetHeight;return Math.abs(R.width-Y)<=1&&(Y=R.width),Math.abs(R.height-ue)<=1&&(ue=R.height),{x:te.offsetLeft,y:te.offsetTop,width:Y,height:ue}}function ye(te,R){var Y=R.getRootNode&&R.getRootNode();if(te.contains(R))return!0;if(Y&&Fa(Y)){var ue=R;do{if(ue&&te.isSameNode(ue))return!0;ue=ue.parentNode||ue.host}while(ue)}return!1}function Ct(te){return Nr(te).getComputedStyle(te)}function en(te){return["table","td","th"].indexOf(Qn(te))>=0}function Dn(te){return((Ti(te)?te.ownerDocument:te.document)||window.document).documentElement}function _i(te){return Qn(te)==="html"?te:te.assignedSlot||te.parentNode||(Fa(te)?te.host:null)||Dn(te)}function Fi(te){return Ni(te)&&Ct(te).position!=="fixed"?te.offsetParent:null}function vi(te){for(var R=Nr(te),Y=Fi(te);Y&&en(Y)&&Ct(Y).position==="static";)Y=Fi(Y);return Y&&(Qn(Y)==="html"||Qn(Y)==="body"&&Ct(Y).position==="static")?R:Y||function(ue){var Pe=/firefox/i.test(us());if(/Trident/i.test(us())&&Ni(ue)&&Ct(ue).position==="fixed")return null;var Re=_i(ue);for(Fa(Re)&&(Re=Re.host);Ni(Re)&&["html","body"].indexOf(Qn(Re))<0;){var ot=Ct(Re);if(ot.transform!=="none"||ot.perspective!=="none"||ot.contain==="paint"||["transform","perspective"].indexOf(ot.willChange)!==-1||Pe&&ot.willChange==="filter"||Pe&&ot.filter&&ot.filter!=="none")return Re;Re=Re.parentNode}return null}(te)||R}function ul(te){return["top","bottom"].indexOf(te)>=0?"x":"y"}function Qt(te,R,Y){return qn(te,Br(R,Y))}function $i(te){return Object.assign({},{top:0,right:0,bottom:0,left:0},te)}function ti(te,R){return R.reduce(function(Y,ue){return Y[ue]=te,Y},{})}const hs={name:"arrow",enabled:!0,phase:"main",fn:function(te){var R,Y=te.state,ue=te.name,Pe=te.options,Re=Y.elements.arrow,ot=Y.modifiersData.popperOffsets,wt=Ui(Y.placement),Ot=ul(wt),$t=[Vn,Gn].indexOf(wt)>=0?"height":"width";if(Re&&ot){var Yt=function(an,wn){return $i(typeof(an=typeof an=="function"?an(Object.assign({},wn.rects,{placement:wn.placement})):an)!="number"?an:ti(an,So))}(Pe.padding,Y),qt=Ys(Re),ft=Ot==="y"?on:Vn,un=Ot==="y"?lr:Gn,Cn=Y.rects.reference[$t]+Y.rects.reference[Ot]-ot[Ot]-Y.rects.popper[$t],St=ot[Ot]-Y.rects.reference[Ot],An=vi(Re),si=An?Ot==="y"?An.clientHeight||0:An.clientWidth||0:0,pi=Cn/2-St/2,Hn=Yt[ft],lt=si-qt[$t]-Yt[un],On=si/2-qt[$t]/2+pi,Ft=Qt(Hn,On,lt),Zt=Ot;Y.modifiersData[ue]=((R={})[Zt]=Ft,R.centerOffset=Ft-On,R)}},effect:function(te){var R=te.state,Y=te.options.element,ue=Y===void 0?"[data-popper-arrow]":Y;ue!=null&&(typeof ue!="string"||(ue=R.elements.popper.querySelector(ue)))&&ye(R.elements.popper,ue)&&(R.elements.arrow=ue)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function mo(te){return te.split("-")[1]}var _a={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Kr(te){var R,Y=te.popper,ue=te.popperRect,Pe=te.placement,Re=te.variation,ot=te.offsets,wt=te.position,Ot=te.gpuAcceleration,$t=te.adaptive,Yt=te.roundOffsets,qt=te.isFixed,ft=ot.x,un=ft===void 0?0:ft,Cn=ot.y,St=Cn===void 0?0:Cn,An=typeof Yt=="function"?Yt({x:un,y:St}):{x:un,y:St};un=An.x,St=An.y;var si=ot.hasOwnProperty("x"),pi=ot.hasOwnProperty("y"),Hn=Vn,lt=on,On=window;if($t){var Ft=vi(Y),Zt="clientHeight",an="clientWidth";Ft===Nr(Y)&&Ct(Ft=Dn(Y)).position!=="static"&&wt==="absolute"&&(Zt="scrollHeight",an="scrollWidth"),(Pe===on||(Pe===Vn||Pe===Gn)&&Re===Zo)&&(lt=lr,St-=(qt&&Ft===On&&On.visualViewport?On.visualViewport.height:Ft[Zt])-ue.height,St*=Ot?1:-1),Pe!==Vn&&(Pe!==on&&Pe!==lr||Re!==Zo)||(Hn=Gn,un-=(qt&&Ft===On&&On.visualViewport?On.visualViewport.width:Ft[an])-ue.width,un*=Ot?1:-1)}var wn,Gi=Object.assign({position:wt},$t&&_a),Fr=Yt===!0?function(es,Dr){var Tr=es.x,ts=es.y,sr=Dr.devicePixelRatio||1;return{x:Er(Tr*sr)/sr||0,y:Er(ts*sr)/sr||0}}({x:un,y:St},Nr(Y)):{x:un,y:St};return un=Fr.x,St=Fr.y,Ot?Object.assign({},Gi,((wn={})[lt]=pi?"0":"",wn[Hn]=si?"0":"",wn.transform=(On.devicePixelRatio||1)<=1?"translate("+un+"px, "+St+"px)":"translate3d("+un+"px, "+St+"px, 0)",wn)):Object.assign({},Gi,((R={})[lt]=pi?St+"px":"",R[Hn]=si?un+"px":"",R.transform="",R))}const fo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(te){var R=te.state,Y=te.options,ue=Y.gpuAcceleration,Pe=ue===void 0||ue,Re=Y.adaptive,ot=Re===void 0||Re,wt=Y.roundOffsets,Ot=wt===void 0||wt,$t={placement:Ui(R.placement),variation:mo(R.placement),popper:R.elements.popper,popperRect:R.rects.popper,gpuAcceleration:Pe,isFixed:R.options.strategy==="fixed"};R.modifiersData.popperOffsets!=null&&(R.styles.popper=Object.assign({},R.styles.popper,Kr(Object.assign({},$t,{offsets:R.modifiersData.popperOffsets,position:R.options.strategy,adaptive:ot,roundOffsets:Ot})))),R.modifiersData.arrow!=null&&(R.styles.arrow=Object.assign({},R.styles.arrow,Kr(Object.assign({},$t,{offsets:R.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ot})))),R.attributes.popper=Object.assign({},R.attributes.popper,{"data-popper-placement":R.placement})},data:{}};var Gs={passive:!0};const Do={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(te){var R=te.state,Y=te.instance,ue=te.options,Pe=ue.scroll,Re=Pe===void 0||Pe,ot=ue.resize,wt=ot===void 0||ot,Ot=Nr(R.elements.popper),$t=[].concat(R.scrollParents.reference,R.scrollParents.popper);return Re&&$t.forEach(function(Yt){Yt.addEventListener("scroll",Y.update,Gs)}),wt&&Ot.addEventListener("resize",Y.update,Gs),function(){Re&&$t.forEach(function(Yt){Yt.removeEventListener("scroll",Y.update,Gs)}),wt&&Ot.removeEventListener("resize",Y.update,Gs)}},data:{}};var Tn={left:"right",right:"left",bottom:"top",top:"bottom"};function xs(te){return te.replace(/left|right|bottom|top/g,function(R){return Tn[R]})}var $l={start:"end",end:"start"};function Sr(te){return te.replace(/start|end/g,function(R){return $l[R]})}function Cs(te){var R=Nr(te);return{scrollLeft:R.pageXOffset,scrollTop:R.pageYOffset}}function Jo(te){return ys(Dn(te)).left+Cs(te).scrollLeft}function ms(te){var R=Ct(te),Y=R.overflow,ue=R.overflowX,Pe=R.overflowY;return/auto|scroll|overlay|hidden/.test(Y+Pe+ue)}function xd(te){return["html","body","#document"].indexOf(Qn(te))>=0?te.ownerDocument.body:Ni(te)&&ms(te)?te:xd(_i(te))}function To(te,R){var Y;R===void 0&&(R=[]);var ue=xd(te),Pe=ue===((Y=te.ownerDocument)==null?void 0:Y.body),Re=Nr(ue),ot=Pe?[Re].concat(Re.visualViewport||[],ms(ue)?ue:[]):ue,wt=R.concat(ot);return Pe?wt:wt.concat(To(_i(ot)))}function zn(te){return Object.assign({},te,{left:te.x,top:te.y,right:te.x+te.width,bottom:te.y+te.height})}function Va(te,R,Y){return R===ka?zn(function(ue,Pe){var Re=Nr(ue),ot=Dn(ue),wt=Re.visualViewport,Ot=ot.clientWidth,$t=ot.clientHeight,Yt=0,qt=0;if(wt){Ot=wt.width,$t=wt.height;var ft=Ws();(ft||!ft&&Pe==="fixed")&&(Yt=wt.offsetLeft,qt=wt.offsetTop)}return{width:Ot,height:$t,x:Yt+Jo(ue),y:qt}}(te,Y)):Ti(R)?function(ue,Pe){var Re=ys(ue,!1,Pe==="fixed");return Re.top=Re.top+ue.clientTop,Re.left=Re.left+ue.clientLeft,Re.bottom=Re.top+ue.clientHeight,Re.right=Re.left+ue.clientWidth,Re.width=ue.clientWidth,Re.height=ue.clientHeight,Re.x=Re.left,Re.y=Re.top,Re}(R,Y):zn(function(ue){var Pe,Re=Dn(ue),ot=Cs(ue),wt=(Pe=ue.ownerDocument)==null?void 0:Pe.body,Ot=qn(Re.scrollWidth,Re.clientWidth,wt?wt.scrollWidth:0,wt?wt.clientWidth:0),$t=qn(Re.scrollHeight,Re.clientHeight,wt?wt.scrollHeight:0,wt?wt.clientHeight:0),Yt=-ot.scrollLeft+Jo(ue),qt=-ot.scrollTop;return Ct(wt||Re).direction==="rtl"&&(Yt+=qn(Re.clientWidth,wt?wt.clientWidth:0)-Ot),{width:Ot,height:$t,x:Yt,y:qt}}(Dn(te)))}function Qr(te){var R,Y=te.reference,ue=te.element,Pe=te.placement,Re=Pe?Ui(Pe):null,ot=Pe?mo(Pe):null,wt=Y.x+Y.width/2-ue.width/2,Ot=Y.y+Y.height/2-ue.height/2;switch(Re){case on:R={x:wt,y:Y.y-ue.height};break;case lr:R={x:wt,y:Y.y+Y.height};break;case Gn:R={x:Y.x+Y.width,y:Ot};break;case Vn:R={x:Y.x-ue.width,y:Ot};break;default:R={x:Y.x,y:Y.y}}var $t=Re?ul(Re):null;if($t!=null){var Yt=$t==="y"?"height":"width";switch(ot){case ws:R[$t]=R[$t]-(Y[Yt]/2-ue[Yt]/2);break;case Zo:R[$t]=R[$t]+(Y[Yt]/2-ue[Yt]/2)}}return R}function As(te,R){R===void 0&&(R={});var Y=R,ue=Y.placement,Pe=ue===void 0?te.placement:ue,Re=Y.strategy,ot=Re===void 0?te.strategy:Re,wt=Y.boundary,Ot=wt===void 0?Ac:wt,$t=Y.rootBoundary,Yt=$t===void 0?ka:$t,qt=Y.elementContext,ft=qt===void 0?uo:qt,un=Y.altBoundary,Cn=un!==void 0&&un,St=Y.padding,An=St===void 0?0:St,si=$i(typeof An!="number"?An:ti(An,So)),pi=ft===uo?$s:uo,Hn=te.rects.popper,lt=te.elements[Cn?pi:ft],On=function(Dr,Tr,ts,sr){var yi=Tr==="clippingParents"?function(Mi){var Is=To(_i(Mi)),io=["absolute","fixed"].indexOf(Ct(Mi).position)>=0&&Ni(Mi)?vi(Mi):Mi;return Ti(io)?Is.filter(function(Vo){return Ti(Vo)&&ye(Vo,io)&&Qn(Vo)!=="body"}):[]}(Dr):[].concat(Tr),Ms=[].concat(yi,[ts]),nl=Ms[0],wr=Ms.reduce(function(Mi,Is){var io=Va(Dr,Is,sr);return Mi.top=qn(io.top,Mi.top),Mi.right=Br(io.right,Mi.right),Mi.bottom=Br(io.bottom,Mi.bottom),Mi.left=qn(io.left,Mi.left),Mi},Va(Dr,nl,sr));return wr.width=wr.right-wr.left,wr.height=wr.bottom-wr.top,wr.x=wr.left,wr.y=wr.top,wr}(Ti(lt)?lt:lt.contextElement||Dn(te.elements.popper),Ot,Yt,ot),Ft=ys(te.elements.reference),Zt=Qr({reference:Ft,element:Hn,placement:Pe}),an=zn(Object.assign({},Hn,Zt)),wn=ft===uo?an:Ft,Gi={top:On.top-wn.top+si.top,bottom:wn.bottom-On.bottom+si.bottom,left:On.left-wn.left+si.left,right:wn.right-On.right+si.right},Fr=te.modifiersData.offset;if(ft===uo&&Fr){var es=Fr[Pe];Object.keys(Gi).forEach(function(Dr){var Tr=[Gn,lr].indexOf(Dr)>=0?1:-1,ts=[on,lr].indexOf(Dr)>=0?"y":"x";Gi[Dr]+=es[ts]*Tr})}return Gi}function Au(te,R){R===void 0&&(R={});var Y=R,ue=Y.placement,Pe=Y.boundary,Re=Y.rootBoundary,ot=Y.padding,wt=Y.flipVariations,Ot=Y.allowedAutoPlacements,$t=Ot===void 0?cs:Ot,Yt=mo(ue),qt=Yt?wt?Yr:Yr.filter(function(Cn){return mo(Cn)===Yt}):So,ft=qt.filter(function(Cn){return $t.indexOf(Cn)>=0});ft.length===0&&(ft=qt);var un=ft.reduce(function(Cn,St){return Cn[St]=As(te,{placement:St,boundary:Pe,rootBoundary:Re,padding:ot})[Ui(St)],Cn},{});return Object.keys(un).sort(function(Cn,St){return un[Cn]-un[St]})}const Nu={name:"flip",enabled:!0,phase:"main",fn:function(te){var R=te.state,Y=te.options,ue=te.name;if(!R.modifiersData[ue]._skip){for(var Pe=Y.mainAxis,Re=Pe===void 0||Pe,ot=Y.altAxis,wt=ot===void 0||ot,Ot=Y.fallbackPlacements,$t=Y.padding,Yt=Y.boundary,qt=Y.rootBoundary,ft=Y.altBoundary,un=Y.flipVariations,Cn=un===void 0||un,St=Y.allowedAutoPlacements,An=R.options.placement,si=Ui(An),pi=Ot||(si!==An&&Cn?function(Mi){if(Ui(Mi)===Wr)return[];var Is=xs(Mi);return[Sr(Mi),Is,Sr(Is)]}(An):[xs(An)]),Hn=[An].concat(pi).reduce(function(Mi,Is){return Mi.concat(Ui(Is)===Wr?Au(R,{placement:Is,boundary:Yt,rootBoundary:qt,padding:$t,flipVariations:Cn,allowedAutoPlacements:St}):Is)},[]),lt=R.rects.reference,On=R.rects.popper,Ft=new Map,Zt=!0,an=Hn[0],wn=0;wn<Hn.length;wn++){var Gi=Hn[wn],Fr=Ui(Gi),es=mo(Gi)===ws,Dr=[on,lr].indexOf(Fr)>=0,Tr=Dr?"width":"height",ts=As(R,{placement:Gi,boundary:Yt,rootBoundary:qt,altBoundary:ft,padding:$t}),sr=Dr?es?Gn:Vn:es?lr:on;lt[Tr]>On[Tr]&&(sr=xs(sr));var yi=xs(sr),Ms=[];if(Re&&Ms.push(ts[Fr]<=0),wt&&Ms.push(ts[sr]<=0,ts[yi]<=0),Ms.every(function(Mi){return Mi})){an=Gi,Zt=!1;break}Ft.set(Gi,Ms)}if(Zt)for(var nl=function(Mi){var Is=Hn.find(function(io){var Vo=Ft.get(io);if(Vo)return Vo.slice(0,Mi).every(function(ec){return ec})});if(Is)return an=Is,"break"},wr=Cn?3:1;wr>0&&nl(wr)!=="break";wr--);R.placement!==an&&(R.modifiersData[ue]._skip=!0,R.placement=an,R.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Nc(te,R,Y){return Y===void 0&&(Y={x:0,y:0}),{top:te.top-R.height-Y.y,right:te.right-R.width+Y.x,bottom:te.bottom-R.height+Y.y,left:te.left-R.width-Y.x}}function Ha(te){return[on,Gn,lr,Vn].some(function(R){return te[R]>=0})}const Ua={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(te){var R=te.state,Y=te.name,ue=R.rects.reference,Pe=R.rects.popper,Re=R.modifiersData.preventOverflow,ot=As(R,{elementContext:"reference"}),wt=As(R,{altBoundary:!0}),Ot=Nc(ot,ue),$t=Nc(wt,Pe,Re),Yt=Ha(Ot),qt=Ha($t);R.modifiersData[Y]={referenceClippingOffsets:Ot,popperEscapeOffsets:$t,isReferenceHidden:Yt,hasPopperEscaped:qt},R.attributes.popper=Object.assign({},R.attributes.popper,{"data-popper-reference-hidden":Yt,"data-popper-escaped":qt})}},Eu={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(te){var R=te.state,Y=te.options,ue=te.name,Pe=Y.offset,Re=Pe===void 0?[0,0]:Pe,ot=cs.reduce(function(Yt,qt){return Yt[qt]=function(ft,un,Cn){var St=Ui(ft),An=[Vn,on].indexOf(St)>=0?-1:1,si=typeof Cn=="function"?Cn(Object.assign({},un,{placement:ft})):Cn,pi=si[0],Hn=si[1];return pi=pi||0,Hn=(Hn||0)*An,[Vn,Gn].indexOf(St)>=0?{x:Hn,y:pi}:{x:pi,y:Hn}}(qt,R.rects,Re),Yt},{}),wt=ot[R.placement],Ot=wt.x,$t=wt.y;R.modifiersData.popperOffsets!=null&&(R.modifiersData.popperOffsets.x+=Ot,R.modifiersData.popperOffsets.y+=$t),R.modifiersData[ue]=ot}},Cd={name:"popperOffsets",enabled:!0,phase:"read",fn:function(te){var R=te.state,Y=te.name;R.modifiersData[Y]=Qr({reference:R.rects.reference,element:R.rects.popper,placement:R.placement})},data:{}},Ec={name:"preventOverflow",enabled:!0,phase:"main",fn:function(te){var R=te.state,Y=te.options,ue=te.name,Pe=Y.mainAxis,Re=Pe===void 0||Pe,ot=Y.altAxis,wt=ot!==void 0&&ot,Ot=Y.boundary,$t=Y.rootBoundary,Yt=Y.altBoundary,qt=Y.padding,ft=Y.tether,un=ft===void 0||ft,Cn=Y.tetherOffset,St=Cn===void 0?0:Cn,An=As(R,{boundary:Ot,rootBoundary:$t,padding:qt,altBoundary:Yt}),si=Ui(R.placement),pi=mo(R.placement),Hn=!pi,lt=ul(si),On=lt==="x"?"y":"x",Ft=R.modifiersData.popperOffsets,Zt=R.rects.reference,an=R.rects.popper,wn=typeof St=="function"?St(Object.assign({},R.rects,{placement:R.placement})):St,Gi=typeof wn=="number"?{mainAxis:wn,altAxis:wn}:Object.assign({mainAxis:0,altAxis:0},wn),Fr=R.modifiersData.offset?R.modifiersData.offset[R.placement]:null,es={x:0,y:0};if(Ft){if(Re){var Dr,Tr=lt==="y"?on:Vn,ts=lt==="y"?lr:Gn,sr=lt==="y"?"height":"width",yi=Ft[lt],Ms=yi+An[Tr],nl=yi-An[ts],wr=un?-an[sr]/2:0,Mi=pi===ws?Zt[sr]:an[sr],Is=pi===ws?-an[sr]:-Zt[sr],io=R.elements.arrow,Vo=un&&io?Ys(io):{width:0,height:0},ec=R.modifiersData["arrow#persistent"]?R.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Os=ec[Tr],Bi=ec[ts],tc=Qt(0,Zt[sr],Vo[sr]),aa=Hn?Zt[sr]/2-wr-tc-Os-Gi.mainAxis:Mi-tc-Os-Gi.mainAxis,bi=Hn?-Zt[sr]/2+wr+tc+Bi+Gi.mainAxis:Is+tc+Bi+Gi.mainAxis,ro=R.elements.arrow&&vi(R.elements.arrow),Vr=ro?lt==="y"?ro.clientTop||0:ro.clientLeft||0:0,Hc=(Dr=Fr==null?void 0:Fr[lt])!=null?Dr:0,Vd=yi+bi-Hc,nc=Qt(un?Br(Ms,yi+aa-Hc-Vr):Ms,yi,un?qn(nl,Vd):nl);Ft[lt]=nc,es[lt]=nc-yi}if(wt){var Mh,qm=lt==="x"?on:Vn,Lu=lt==="x"?lr:Gn,Na=Ft[On],Hd=On==="y"?"height":"width",Ih=Na+An[qm],Bu=Na-An[Lu],Ru=[on,Vn].indexOf(si)!==-1,Wm=(Mh=Fr==null?void 0:Fr[On])!=null?Mh:0,Oh=Ru?Ih:Na-Zt[Hd]-an[Hd]-Wm+Gi.altAxis,Lh=Ru?Na+Zt[Hd]+an[Hd]-Wm-Gi.altAxis:Bu,Pu=un&&Ru?function(zu,Ym,Uc){var $c=Qt(zu,Ym,Uc);return $c>Uc?Uc:$c}(Oh,Na,Lh):Qt(un?Oh:Ih,Na,un?Lh:Bu);Ft[On]=Pu,es[On]=Pu-Na}R.modifiersData[ue]=es}},requiresIfExists:["offset"]};function Ch(te,R,Y){Y===void 0&&(Y=!1);var ue,Pe,Re=Ni(R),ot=Ni(R)&&function(qt){var ft=qt.getBoundingClientRect(),un=Er(ft.width)/qt.offsetWidth||1,Cn=Er(ft.height)/qt.offsetHeight||1;return un!==1||Cn!==1}(R),wt=Dn(R),Ot=ys(te,ot,Y),$t={scrollLeft:0,scrollTop:0},Yt={x:0,y:0};return(Re||!Re&&!Y)&&((Qn(R)!=="body"||ms(wt))&&($t=(ue=R)!==Nr(ue)&&Ni(ue)?{scrollLeft:(Pe=ue).scrollLeft,scrollTop:Pe.scrollTop}:Cs(ue)),Ni(R)?((Yt=ys(R,!0)).x+=R.clientLeft,Yt.y+=R.clientTop):wt&&(Yt.x=Jo(wt))),{x:Ot.left+$t.scrollLeft-Yt.x,y:Ot.top+$t.scrollTop-Yt.y,width:Ot.width,height:Ot.height}}function Rr(te){var R=new Map,Y=new Set,ue=[];function Pe(Re){Y.add(Re.name),[].concat(Re.requires||[],Re.requiresIfExists||[]).forEach(function(ot){if(!Y.has(ot)){var wt=R.get(ot);wt&&Pe(wt)}}),ue.push(Re)}return te.forEach(function(Re){R.set(Re.name,Re)}),te.forEach(function(Re){Y.has(Re.name)||Pe(Re)}),ue}var Su={placement:"bottom",modifiers:[],strategy:"absolute"};function Sc(){for(var te=arguments.length,R=new Array(te),Y=0;Y<te;Y++)R[Y]=arguments[Y];return!R.some(function(ue){return!(ue&&typeof ue.getBoundingClientRect=="function")})}function Ks(te){te===void 0&&(te={});var R=te,Y=R.defaultModifiers,ue=Y===void 0?[]:Y,Pe=R.defaultOptions,Re=Pe===void 0?Su:Pe;return function(ot,wt,Ot){Ot===void 0&&(Ot=Re);var $t,Yt,qt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Su,Re),modifiersData:{},elements:{reference:ot,popper:wt},attributes:{},styles:{}},ft=[],un=!1,Cn={state:qt,setOptions:function(An){var si=typeof An=="function"?An(qt.options):An;St(),qt.options=Object.assign({},Re,qt.options,si),qt.scrollParents={reference:Ti(ot)?To(ot):ot.contextElement?To(ot.contextElement):[],popper:To(wt)};var pi,Hn,lt=function(On){var Ft=Rr(On);return Sn.reduce(function(Zt,an){return Zt.concat(Ft.filter(function(wn){return wn.phase===an}))},[])}((pi=[].concat(ue,qt.options.modifiers),Hn=pi.reduce(function(On,Ft){var Zt=On[Ft.name];return On[Ft.name]=Zt?Object.assign({},Zt,Ft,{options:Object.assign({},Zt.options,Ft.options),data:Object.assign({},Zt.data,Ft.data)}):Ft,On},{}),Object.keys(Hn).map(function(On){return Hn[On]})));return qt.orderedModifiers=lt.filter(function(On){return On.enabled}),qt.orderedModifiers.forEach(function(On){var Ft=On.name,Zt=On.options,an=Zt===void 0?{}:Zt,wn=On.effect;if(typeof wn=="function"){var Gi=wn({state:qt,name:Ft,instance:Cn,options:an});ft.push(Gi||function(){})}}),Cn.update()},forceUpdate:function(){if(!un){var An=qt.elements,si=An.reference,pi=An.popper;if(Sc(si,pi)){qt.rects={reference:Ch(si,vi(pi),qt.options.strategy==="fixed"),popper:Ys(pi)},qt.reset=!1,qt.placement=qt.options.placement,qt.orderedModifiers.forEach(function(wn){return qt.modifiersData[wn.name]=Object.assign({},wn.data)});for(var Hn=0;Hn<qt.orderedModifiers.length;Hn++)if(qt.reset!==!0){var lt=qt.orderedModifiers[Hn],On=lt.fn,Ft=lt.options,Zt=Ft===void 0?{}:Ft,an=lt.name;typeof On=="function"&&(qt=On({state:qt,options:Zt,name:an,instance:Cn})||qt)}else qt.reset=!1,Hn=-1}}},update:($t=function(){return new Promise(function(An){Cn.forceUpdate(),An(qt)})},function(){return Yt||(Yt=new Promise(function(An){Promise.resolve().then(function(){Yt=void 0,An($t())})})),Yt}),destroy:function(){St(),un=!0}};if(!Sc(ot,wt))return Cn;function St(){ft.forEach(function(An){return An()}),ft=[]}return Cn.setOptions(Ot).then(function(An){!un&&Ot.onFirstUpdate&&Ot.onFirstUpdate(An)}),Cn}}var Ad=Ks(),ql=Ks({defaultModifiers:[Do,Cd,fo,qs]}),hl=Ks({defaultModifiers:[Do,Cd,fo,qs,Eu,Nu,Ec,hs,Ua]});const Nd=Object.freeze(Object.defineProperty({__proto__:null,afterMain:_r,afterRead:ho,afterWrite:Gr,applyStyles:qs,arrow:hs,auto:Wr,basePlacements:So,beforeMain:Kn,beforeRead:ds,beforeWrite:jo,bottom:lr,clippingParents:Ac,computeStyles:fo,createPopper:hl,createPopperBase:Ad,createPopperLite:ql,detectOverflow:As,end:Zo,eventListeners:Do,flip:Nu,hide:Ua,left:Vn,main:ki,modifierPhases:Sn,offset:Eu,placements:cs,popper:uo,popperGenerator:Ks,popperOffsets:Cd,preventOverflow:Ec,read:za,reference:$s,right:Gn,start:ws,top:on,variationPlacements:Yr,viewport:ka,write:Xo},Symbol.toStringTag,{value:"Module"})),Ed="dropdown",Mo=".bs.dropdown",Sd=".data-api",ju="ArrowUp",ml="ArrowDown",Ah=`hide${Mo}`,jd=`hidden${Mo}`,Dd=`show${Mo}`,jc=`shown${Mo}`,ea=`click${Mo}${Sd}`,Dc=`keydown${Mo}${Sd}`,$a=`keyup${Mo}${Sd}`,qi="show",Io='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Wl=`${Io}.${qi}`,qa=".dropdown-menu",Yl=$()?"top-end":"top-start",Gl=$()?"top-start":"top-end",Td=$()?"bottom-end":"bottom-start",Wa=$()?"bottom-start":"bottom-end",Md=$()?"left-start":"right-start",Nh=$()?"right-start":"left-start",po={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ya={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Qs extends fe{constructor(R,Y){super(R,Y),this._popper=null,this._parent=this._element.parentNode,this._menu=Ie.next(this._element,qa)[0]||Ie.prev(this._element,qa)[0]||Ie.findOne(qa,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return po}static get DefaultType(){return Ya}static get NAME(){return Ed}toggle(){return this._isShown()?this.hide():this.show()}show(){if(S(this._element)||this._isShown())return;const R={relatedTarget:this._element};if(!Z.trigger(this._element,Dd,R).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const Y of[].concat(...document.body.children))Z.on(Y,"mouseover",j);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(qi),this._element.classList.add(qi),Z.trigger(this._element,jc,R)}}hide(){if(S(this._element)||!this._isShown())return;const R={relatedTarget:this._element};this._completeHide(R)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(R){if(!Z.trigger(this._element,Ah,R).defaultPrevented){if("ontouchstart"in document.documentElement)for(const Y of[].concat(...document.body.children))Z.off(Y,"mouseover",j);this._popper&&this._popper.destroy(),this._menu.classList.remove(qi),this._element.classList.remove(qi),this._element.setAttribute("aria-expanded","false"),Fe.removeDataAttribute(this._menu,"popper"),Z.trigger(this._element,jd,R),this._element.focus()}}_getConfig(R){if(typeof(R=super._getConfig(R)).reference=="object"&&!y(R.reference)&&typeof R.reference.getBoundingClientRect!="function")throw new TypeError(`${Ed.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return R}_createPopper(){if(Nd===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let R=this._element;this._config.reference==="parent"?R=this._parent:y(this._config.reference)?R=v(this._config.reference):typeof this._config.reference=="object"&&(R=this._config.reference);const Y=this._getPopperConfig();this._popper=hl(R,this._menu,Y)}_isShown(){return this._menu.classList.contains(qi)}_getPlacement(){const R=this._parent;if(R.classList.contains("dropend"))return Md;if(R.classList.contains("dropstart"))return Nh;if(R.classList.contains("dropup-center"))return"top";if(R.classList.contains("dropdown-center"))return"bottom";const Y=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return R.classList.contains("dropup")?Y?Gl:Yl:Y?Wa:Td}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:R}=this._config;return typeof R=="string"?R.split(",").map(Y=>Number.parseInt(Y,10)):typeof R=="function"?Y=>R(Y,this._element):R}_getPopperConfig(){const R={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Fe.setDataAttribute(this._menu,"popper","static"),R.modifiers=[{name:"applyStyles",enabled:!1}]),{...R,...Q(this._config.popperConfig,[void 0,R])}}_selectMenuItem({key:R,target:Y}){const ue=Ie.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Pe=>N(Pe));ue.length&&ne(ue,Y,R===ml,!ue.includes(Y)).focus()}static jQueryInterface(R){return this.each(function(){const Y=Qs.getOrCreateInstance(this,R);if(typeof R=="string"){if(Y[R]===void 0)throw new TypeError(`No method named "${R}"`);Y[R]()}})}static clearMenus(R){if(R.button===2||R.type==="keyup"&&R.key!=="Tab")return;const Y=Ie.find(Wl);for(const ue of Y){const Pe=Qs.getInstance(ue);if(!Pe||Pe._config.autoClose===!1)continue;const Re=R.composedPath(),ot=Re.includes(Pe._menu);if(Re.includes(Pe._element)||Pe._config.autoClose==="inside"&&!ot||Pe._config.autoClose==="outside"&&ot||Pe._menu.contains(R.target)&&(R.type==="keyup"&&R.key==="Tab"||/input|select|option|textarea|form/i.test(R.target.tagName)))continue;const wt={relatedTarget:Pe._element};R.type==="click"&&(wt.clickEvent=R),Pe._completeHide(wt)}}static dataApiKeydownHandler(R){const Y=/input|textarea/i.test(R.target.tagName),ue=R.key==="Escape",Pe=[ju,ml].includes(R.key);if(!Pe&&!ue||Y&&!ue)return;R.preventDefault();const Re=this.matches(Io)?this:Ie.prev(this,Io)[0]||Ie.next(this,Io)[0]||Ie.findOne(Io,R.delegateTarget.parentNode),ot=Qs.getOrCreateInstance(Re);if(Pe)return R.stopPropagation(),ot.show(),void ot._selectMenuItem(R);ot._isShown()&&(R.stopPropagation(),ot.hide(),Re.focus())}}Z.on(document,Dc,Io,Qs.dataApiKeydownHandler),Z.on(document,Dc,qa,Qs.dataApiKeydownHandler),Z.on(document,ea,Qs.clearMenus),Z.on(document,$a,Qs.clearMenus),Z.on(document,ea,Io,function(te){te.preventDefault(),Qs.getOrCreateInstance(this).toggle()}),K(Qs);const fs="backdrop",Zs="show",go=`mousedown.bs.${fs}`,Tc={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},fl={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ga extends tt{constructor(R){super(),this._config=this._getConfig(R),this._isAppended=!1,this._element=null}static get Default(){return Tc}static get DefaultType(){return fl}static get NAME(){return fs}show(R){if(!this._config.isVisible)return void Q(R);this._append();const Y=this._getElement();this._config.isAnimated&&B(Y),Y.classList.add(Zs),this._emulateAnimation(()=>{Q(R)})}hide(R){this._config.isVisible?(this._getElement().classList.remove(Zs),this._emulateAnimation(()=>{this.dispose(),Q(R)})):Q(R)}dispose(){this._isAppended&&(Z.off(this._element,go),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const R=document.createElement("div");R.className=this._config.className,this._config.isAnimated&&R.classList.add("fade"),this._element=R}return this._element}_configAfterMerge(R){return R.rootElement=v(R.rootElement),R}_append(){if(this._isAppended)return;const R=this._getElement();this._config.rootElement.append(R),Z.on(R,go,()=>{Q(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(R){ee(R,this._getElement(),this._config.isAnimated)}}const bo=".bs.focustrap",Id=`focusin${bo}`,ta=`keydown.tab${bo}`,pl="backward",Od={autofocus:!0,trapElement:null},Mc={autofocus:"boolean",trapElement:"element"};class Du extends tt{constructor(R){super(),this._config=this._getConfig(R),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Od}static get DefaultType(){return Mc}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Z.off(document,bo),Z.on(document,Id,R=>this._handleFocusin(R)),Z.on(document,ta,R=>this._handleKeydown(R)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Z.off(document,bo))}_handleFocusin(R){const{trapElement:Y}=this._config;if(R.target===document||R.target===Y||Y.contains(R.target))return;const ue=Ie.focusableChildren(Y);ue.length===0?Y.focus():this._lastTabNavDirection===pl?ue[ue.length-1].focus():ue[0].focus()}_handleKeydown(R){R.key==="Tab"&&(this._lastTabNavDirection=R.shiftKey?pl:"forward")}}const ko=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Tu=".sticky-top",Oo="padding-right",ps="margin-right";class Pr{constructor(){this._element=document.body}getWidth(){const R=document.documentElement.clientWidth;return Math.abs(window.innerWidth-R)}hide(){const R=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Oo,Y=>Y+R),this._setElementAttributes(ko,Oo,Y=>Y+R),this._setElementAttributes(Tu,ps,Y=>Y-R)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Oo),this._resetElementAttributes(ko,Oo),this._resetElementAttributes(Tu,ps)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(R,Y,ue){const Pe=this.getWidth();this._applyManipulationCallback(R,Re=>{if(Re!==this._element&&window.innerWidth>Re.clientWidth+Pe)return;this._saveInitialAttribute(Re,Y);const ot=window.getComputedStyle(Re).getPropertyValue(Y);Re.style.setProperty(Y,`${ue(Number.parseFloat(ot))}px`)})}_saveInitialAttribute(R,Y){const ue=R.style.getPropertyValue(Y);ue&&Fe.setDataAttribute(R,Y,ue)}_resetElementAttributes(R,Y){this._applyManipulationCallback(R,ue=>{const Pe=Fe.getDataAttribute(ue,Y);Pe!==null?(Fe.removeDataAttribute(ue,Y),ue.style.setProperty(Y,Pe)):ue.style.removeProperty(Y)})}_applyManipulationCallback(R,Y){if(y(R))Y(R);else for(const ue of Ie.find(R,this._element))Y(ue)}}const zr=".bs.modal",Ic=`hide${zr}`,Oc=`hidePrevented${zr}`,gl=`hidden${zr}`,Ka=`show${zr}`,Lc=`shown${zr}`,Xs=`resize${zr}`,Qa=`click.dismiss${zr}`,va=`mousedown.dismiss${zr}`,gi=`keydown.dismiss${zr}`,Bc=`click${zr}.data-api`,Ns="modal-open",Es="show",Za="modal-static",Ld={backdrop:!0,focus:!0,keyboard:!0},wa={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Zr extends fe{constructor(R,Y){super(R,Y),this._dialog=Ie.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Pr,this._addEventListeners()}static get Default(){return Ld}static get DefaultType(){return wa}static get NAME(){return"modal"}toggle(R){return this._isShown?this.hide():this.show(R)}show(R){this._isShown||this._isTransitioning||Z.trigger(this._element,Ka,{relatedTarget:R}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ns),this._adjustDialog(),this._backdrop.show(()=>this._showElement(R)))}hide(){this._isShown&&!this._isTransitioning&&(Z.trigger(this._element,Ic).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Es),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){Z.off(window,zr),Z.off(this._dialog,zr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ga({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Du({trapElement:this._element})}_showElement(R){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const Y=Ie.findOne(".modal-body",this._dialog);Y&&(Y.scrollTop=0),B(this._element),this._element.classList.add(Es),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Z.trigger(this._element,Lc,{relatedTarget:R})},this._dialog,this._isAnimated())}_addEventListeners(){Z.on(this._element,gi,R=>{R.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),Z.on(window,Xs,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Z.on(this._element,va,R=>{Z.one(this._element,Qa,Y=>{this._element===R.target&&this._element===Y.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Ns),this._resetAdjustments(),this._scrollBar.reset(),Z.trigger(this._element,gl)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Z.trigger(this._element,Oc).defaultPrevented)return;const R=this._element.scrollHeight>document.documentElement.clientHeight,Y=this._element.style.overflowY;Y==="hidden"||this._element.classList.contains(Za)||(R||(this._element.style.overflowY="hidden"),this._element.classList.add(Za),this._queueCallback(()=>{this._element.classList.remove(Za),this._queueCallback(()=>{this._element.style.overflowY=Y},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const R=this._element.scrollHeight>document.documentElement.clientHeight,Y=this._scrollBar.getWidth(),ue=Y>0;if(ue&&!R){const Pe=$()?"paddingLeft":"paddingRight";this._element.style[Pe]=`${Y}px`}if(!ue&&R){const Pe=$()?"paddingRight":"paddingLeft";this._element.style[Pe]=`${Y}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(R,Y){return this.each(function(){const ue=Zr.getOrCreateInstance(this,R);if(typeof R=="string"){if(ue[R]===void 0)throw new TypeError(`No method named "${R}"`);ue[R](Y)}})}}Z.on(document,Bc,'[data-bs-toggle="modal"]',function(te){const R=Ie.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&te.preventDefault(),Z.one(R,Ka,ue=>{ue.defaultPrevented||Z.one(R,gl,()=>{N(this)&&this.focus()})});const Y=Ie.findOne(".modal.show");Y&&Zr.getInstance(Y).hide(),Zr.getOrCreateInstance(R).toggle(this)}),qe(Zr),K(Zr);const rr=".bs.offcanvas",Xa=".data-api",Js=`load${rr}${Xa}`,Kl="show",Bd="showing",Ql="hiding",Wi=".offcanvas.show",Lo=`show${rr}`,eo=`shown${rr}`,ya=`hide${rr}`,fn=`hidePrevented${rr}`,jr=`hidden${rr}`,Ja=`resize${rr}`,Ss=`click${rr}${Xa}`,bl=`keydown.dismiss${rr}`,Li={backdrop:!0,keyboard:!0,scroll:!1},_o={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Xr extends fe{constructor(R,Y){super(R,Y),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Li}static get DefaultType(){return _o}static get NAME(){return"offcanvas"}toggle(R){return this._isShown?this.hide():this.show(R)}show(R){this._isShown||Z.trigger(this._element,Lo,{relatedTarget:R}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Pr().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Bd),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Kl),this._element.classList.remove(Bd),Z.trigger(this._element,eo,{relatedTarget:R})},this._element,!0))}hide(){this._isShown&&(Z.trigger(this._element,ya).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ql),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Kl,Ql),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Pr().reset(),Z.trigger(this._element,jr)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const R=!!this._config.backdrop;return new Ga({className:"offcanvas-backdrop",isVisible:R,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:R?()=>{this._config.backdrop!=="static"?this.hide():Z.trigger(this._element,fn)}:null})}_initializeFocusTrap(){return new Du({trapElement:this._element})}_addEventListeners(){Z.on(this._element,bl,R=>{R.key==="Escape"&&(this._config.keyboard?this.hide():Z.trigger(this._element,fn))})}static jQueryInterface(R){return this.each(function(){const Y=Xr.getOrCreateInstance(this,R);if(typeof R=="string"){if(Y[R]===void 0||R.startsWith("_")||R==="constructor")throw new TypeError(`No method named "${R}"`);Y[R](this)}})}}Z.on(document,Ss,'[data-bs-toggle="offcanvas"]',function(te){const R=Ie.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&te.preventDefault(),S(this))return;Z.one(R,jr,()=>{N(this)&&this.focus()});const Y=Ie.findOne(Wi);Y&&Y!==R&&Xr.getInstance(Y).hide(),Xr.getOrCreateInstance(R).toggle(this)}),Z.on(window,Js,()=>{for(const te of Ie.find(Wi))Xr.getOrCreateInstance(te).show()}),Z.on(window,Ja,()=>{for(const te of Ie.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(te).position!=="fixed"&&Xr.getOrCreateInstance(te).hide()}),qe(Xr),K(Xr);const vo={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},to=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),xa=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,kl=(te,R)=>{const Y=te.nodeName.toLowerCase();return R.includes(Y)?!to.has(Y)||!!xa.test(te.nodeValue):R.filter(ue=>ue instanceof RegExp).some(ue=>ue.test(Y))},ur={allowList:vo,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Zl={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},js={entry:"(string|element|function|null)",selector:"(string|element)"};class Rc extends tt{constructor(R){super(),this._config=this._getConfig(R)}static get Default(){return ur}static get DefaultType(){return Zl}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(R=>this._resolvePossibleFunction(R)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(R){return this._checkContent(R),this._config.content={...this._config.content,...R},this}toHtml(){const R=document.createElement("div");R.innerHTML=this._maybeSanitize(this._config.template);for(const[Pe,Re]of Object.entries(this._config.content))this._setContent(R,Re,Pe);const Y=R.children[0],ue=this._resolvePossibleFunction(this._config.extraClass);return ue&&Y.classList.add(...ue.split(" ")),Y}_typeCheckConfig(R){super._typeCheckConfig(R),this._checkContent(R.content)}_checkContent(R){for(const[Y,ue]of Object.entries(R))super._typeCheckConfig({selector:Y,entry:ue},js)}_setContent(R,Y,ue){const Pe=Ie.findOne(ue,R);Pe&&((Y=this._resolvePossibleFunction(Y))?y(Y)?this._putElementInTemplate(v(Y),Pe):this._config.html?Pe.innerHTML=this._maybeSanitize(Y):Pe.textContent=Y:Pe.remove())}_maybeSanitize(R){return this._config.sanitize?function(Y,ue,Pe){if(!Y.length)return Y;if(Pe&&typeof Pe=="function")return Pe(Y);const Re=new window.DOMParser().parseFromString(Y,"text/html"),ot=[].concat(...Re.body.querySelectorAll("*"));for(const wt of ot){const Ot=wt.nodeName.toLowerCase();if(!Object.keys(ue).includes(Ot)){wt.remove();continue}const $t=[].concat(...wt.attributes),Yt=[].concat(ue["*"]||[],ue[Ot]||[]);for(const qt of $t)kl(qt,Yt)||wt.removeAttribute(qt.nodeName)}return Re.body.innerHTML}(R,this._config.allowList,this._config.sanitizeFn):R}_resolvePossibleFunction(R){return Q(R,[void 0,this])}_putElementInTemplate(R,Y){if(this._config.html)return Y.innerHTML="",void Y.append(R);Y.textContent=R.textContent}}const _l=new Set(["sanitize","allowList","sanitizeFn"]),wo="fade",vl="show",Pc=".tooltip-inner",na=".modal",Ca="hide.bs.modal",p="hover",x="focus",T={AUTO:"auto",TOP:"top",RIGHT:$()?"left":"right",BOTTOM:"bottom",LEFT:$()?"right":"left"},V={allowList:vo,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},G={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ie extends fe{constructor(R,Y){if(Nd===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(R,Y),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return V}static get DefaultType(){return G}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),Z.off(this._element.closest(na),Ca,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const R=Z.trigger(this._element,this.constructor.eventName("show")),Y=(D(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(R.defaultPrevented||!Y)return;this._disposePopper();const ue=this._getTipElement();this._element.setAttribute("aria-describedby",ue.getAttribute("id"));const{container:Pe}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Pe.append(ue),Z.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(ue),ue.classList.add(vl),"ontouchstart"in document.documentElement)for(const Re of[].concat(...document.body.children))Z.on(Re,"mouseover",j);this._queueCallback(()=>{Z.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Z.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(vl),"ontouchstart"in document.documentElement)for(const R of[].concat(...document.body.children))Z.off(R,"mouseover",j);this._activeTrigger.click=!1,this._activeTrigger[x]=!1,this._activeTrigger[p]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Z.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(R){const Y=this._getTemplateFactory(R).toHtml();if(!Y)return null;Y.classList.remove(wo,vl),Y.classList.add(`bs-${this.constructor.NAME}-auto`);const ue=(Pe=>{do Pe+=Math.floor(1e6*Math.random());while(document.getElementById(Pe));return Pe})(this.constructor.NAME).toString();return Y.setAttribute("id",ue),this._isAnimated()&&Y.classList.add(wo),Y}setContent(R){this._newContent=R,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(R){return this._templateFactory?this._templateFactory.changeContent(R):this._templateFactory=new Rc({...this._config,content:R,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Pc]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(R){return this.constructor.getOrCreateInstance(R.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(wo)}_isShown(){return this.tip&&this.tip.classList.contains(vl)}_createPopper(R){const Y=Q(this._config.placement,[this,R,this._element]),ue=T[Y.toUpperCase()];return hl(this._element,R,this._getPopperConfig(ue))}_getOffset(){const{offset:R}=this._config;return typeof R=="string"?R.split(",").map(Y=>Number.parseInt(Y,10)):typeof R=="function"?Y=>R(Y,this._element):R}_resolvePossibleFunction(R){return Q(R,[this._element,this._element])}_getPopperConfig(R){const Y={placement:R,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:ue=>{this._getTipElement().setAttribute("data-popper-placement",ue.state.placement)}}]};return{...Y,...Q(this._config.popperConfig,[void 0,Y])}}_setListeners(){const R=this._config.trigger.split(" ");for(const Y of R)if(Y==="click")Z.on(this._element,this.constructor.eventName("click"),this._config.selector,ue=>{this._initializeOnDelegatedTarget(ue).toggle()});else if(Y!=="manual"){const ue=Y===p?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),Pe=Y===p?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Z.on(this._element,ue,this._config.selector,Re=>{const ot=this._initializeOnDelegatedTarget(Re);ot._activeTrigger[Re.type==="focusin"?x:p]=!0,ot._enter()}),Z.on(this._element,Pe,this._config.selector,Re=>{const ot=this._initializeOnDelegatedTarget(Re);ot._activeTrigger[Re.type==="focusout"?x:p]=ot._element.contains(Re.relatedTarget),ot._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Z.on(this._element.closest(na),Ca,this._hideModalHandler)}_fixTitle(){const R=this._element.getAttribute("title");R&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",R),this._element.setAttribute("data-bs-original-title",R),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(R,Y){clearTimeout(this._timeout),this._timeout=setTimeout(R,Y)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(R){const Y=Fe.getDataAttributes(this._element);for(const ue of Object.keys(Y))_l.has(ue)&&delete Y[ue];return R={...Y,...typeof R=="object"&&R?R:{}},R=this._mergeConfigObj(R),R=this._configAfterMerge(R),this._typeCheckConfig(R),R}_configAfterMerge(R){return R.container=R.container===!1?document.body:v(R.container),typeof R.delay=="number"&&(R.delay={show:R.delay,hide:R.delay}),typeof R.title=="number"&&(R.title=R.title.toString()),typeof R.content=="number"&&(R.content=R.content.toString()),R}_getDelegateConfig(){const R={};for(const[Y,ue]of Object.entries(this._config))this.constructor.Default[Y]!==ue&&(R[Y]=ue);return R.selector=!1,R.trigger="manual",R}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(R){return this.each(function(){const Y=ie.getOrCreateInstance(this,R);if(typeof R=="string"){if(Y[R]===void 0)throw new TypeError(`No method named "${R}"`);Y[R]()}})}}K(ie);const Ce=".popover-header",We=".popover-body",Ve={...ie.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Nt={...ie.DefaultType,content:"(null|string|element|function)"};class Pt extends ie{static get Default(){return Ve}static get DefaultType(){return Nt}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Ce]:this._getTitle(),[We]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(R){return this.each(function(){const Y=Pt.getOrCreateInstance(this,R);if(typeof R=="string"){if(Y[R]===void 0)throw new TypeError(`No method named "${R}"`);Y[R]()}})}}K(Pt);const Wt=".bs.scrollspy",nn=`activate${Wt}`,kn=`click${Wt}`,pn=`load${Wt}.data-api`,wi="active",hr="[href]",Ds=".nav-link",Rd=`${Ds}, .nav-item > ${Ds}, .list-group-item`,Mu={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Xl={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Bo extends fe{constructor(R,Y){super(R,Y),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Mu}static get DefaultType(){return Xl}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const R of this._observableSections.values())this._observer.observe(R)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(R){return R.target=v(R.target)||document.body,R.rootMargin=R.offset?`${R.offset}px 0px -30%`:R.rootMargin,typeof R.threshold=="string"&&(R.threshold=R.threshold.split(",").map(Y=>Number.parseFloat(Y))),R}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Z.off(this._config.target,kn),Z.on(this._config.target,kn,hr,R=>{const Y=this._observableSections.get(R.target.hash);if(Y){R.preventDefault();const ue=this._rootElement||window,Pe=Y.offsetTop-this._element.offsetTop;if(ue.scrollTo)return void ue.scrollTo({top:Pe,behavior:"smooth"});ue.scrollTop=Pe}}))}_getNewObserver(){const R={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(Y=>this._observerCallback(Y),R)}_observerCallback(R){const Y=ot=>this._targetLinks.get(`#${ot.target.id}`),ue=ot=>{this._previousScrollData.visibleEntryTop=ot.target.offsetTop,this._process(Y(ot))},Pe=(this._rootElement||document.documentElement).scrollTop,Re=Pe>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Pe;for(const ot of R){if(!ot.isIntersecting){this._activeTarget=null,this._clearActiveClass(Y(ot));continue}const wt=ot.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Re&&wt){if(ue(ot),!Pe)return}else Re||wt||ue(ot)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const R=Ie.find(hr,this._config.target);for(const Y of R){if(!Y.hash||S(Y))continue;const ue=Ie.findOne(decodeURI(Y.hash),this._element);N(ue)&&(this._targetLinks.set(decodeURI(Y.hash),Y),this._observableSections.set(Y.hash,ue))}}_process(R){this._activeTarget!==R&&(this._clearActiveClass(this._config.target),this._activeTarget=R,R.classList.add(wi),this._activateParents(R),Z.trigger(this._element,nn,{relatedTarget:R}))}_activateParents(R){if(R.classList.contains("dropdown-item"))Ie.findOne(".dropdown-toggle",R.closest(".dropdown")).classList.add(wi);else for(const Y of Ie.parents(R,".nav, .list-group"))for(const ue of Ie.prev(Y,Rd))ue.classList.add(wi)}_clearActiveClass(R){R.classList.remove(wi);const Y=Ie.find(`${hr}.${wi}`,R);for(const ue of Y)ue.classList.remove(wi)}static jQueryInterface(R){return this.each(function(){const Y=Bo.getOrCreateInstance(this,R);if(typeof R=="string"){if(Y[R]===void 0||R.startsWith("_")||R==="constructor")throw new TypeError(`No method named "${R}"`);Y[R]()}})}}Z.on(window,pn,()=>{for(const te of Ie.find('[data-bs-spy="scroll"]'))Bo.getOrCreateInstance(te)}),K(Bo);const Jr=".bs.tab",wl=`hide${Jr}`,Yi=`hidden${Jr}`,Ro=`show${Jr}`,ia=`shown${Jr}`,Aa=`click${Jr}`,ra=`keydown${Jr}`,zc=`load${Jr}`,Fc="ArrowLeft",yl="ArrowRight",Iu="ArrowUp",el="ArrowDown",vr="Home",Pd="End",xl="active",Eh="fade",Sh="show",Po=".dropdown-toggle",Wn=`:not(${Po})`,mr='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',fr=`.nav-link${Wn}, .list-group-item${Wn}, [role="tab"]${Wn}, ${mr}`,no=`.${xl}[data-bs-toggle="tab"], .${xl}[data-bs-toggle="pill"], .${xl}[data-bs-toggle="list"]`;class sa extends fe{constructor(R){super(R),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Z.on(this._element,ra,Y=>this._keydown(Y)))}static get NAME(){return"tab"}show(){const R=this._element;if(this._elemIsActive(R))return;const Y=this._getActiveElem(),ue=Y?Z.trigger(Y,wl,{relatedTarget:R}):null;Z.trigger(R,Ro,{relatedTarget:Y}).defaultPrevented||ue&&ue.defaultPrevented||(this._deactivate(Y,R),this._activate(R,Y))}_activate(R,Y){R&&(R.classList.add(xl),this._activate(Ie.getElementFromSelector(R)),this._queueCallback(()=>{R.getAttribute("role")==="tab"?(R.removeAttribute("tabindex"),R.setAttribute("aria-selected",!0),this._toggleDropDown(R,!0),Z.trigger(R,ia,{relatedTarget:Y})):R.classList.add(Sh)},R,R.classList.contains(Eh)))}_deactivate(R,Y){R&&(R.classList.remove(xl),R.blur(),this._deactivate(Ie.getElementFromSelector(R)),this._queueCallback(()=>{R.getAttribute("role")==="tab"?(R.setAttribute("aria-selected",!1),R.setAttribute("tabindex","-1"),this._toggleDropDown(R,!1),Z.trigger(R,Yi,{relatedTarget:Y})):R.classList.remove(Sh)},R,R.classList.contains(Eh)))}_keydown(R){if(![Fc,yl,Iu,el,vr,Pd].includes(R.key))return;R.stopPropagation(),R.preventDefault();const Y=this._getChildren().filter(Pe=>!S(Pe));let ue;if([vr,Pd].includes(R.key))ue=Y[R.key===vr?0:Y.length-1];else{const Pe=[yl,el].includes(R.key);ue=ne(Y,R.target,Pe,!0)}ue&&(ue.focus({preventScroll:!0}),sa.getOrCreateInstance(ue).show())}_getChildren(){return Ie.find(fr,this._parent)}_getActiveElem(){return this._getChildren().find(R=>this._elemIsActive(R))||null}_setInitialAttributes(R,Y){this._setAttributeIfNotExists(R,"role","tablist");for(const ue of Y)this._setInitialAttributesOnChild(ue)}_setInitialAttributesOnChild(R){R=this._getInnerElement(R);const Y=this._elemIsActive(R),ue=this._getOuterElement(R);R.setAttribute("aria-selected",Y),ue!==R&&this._setAttributeIfNotExists(ue,"role","presentation"),Y||R.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(R,"role","tab"),this._setInitialAttributesOnTargetPanel(R)}_setInitialAttributesOnTargetPanel(R){const Y=Ie.getElementFromSelector(R);Y&&(this._setAttributeIfNotExists(Y,"role","tabpanel"),R.id&&this._setAttributeIfNotExists(Y,"aria-labelledby",`${R.id}`))}_toggleDropDown(R,Y){const ue=this._getOuterElement(R);if(!ue.classList.contains("dropdown"))return;const Pe=(Re,ot)=>{const wt=Ie.findOne(Re,ue);wt&&wt.classList.toggle(ot,Y)};Pe(Po,xl),Pe(".dropdown-menu",Sh),ue.setAttribute("aria-expanded",Y)}_setAttributeIfNotExists(R,Y,ue){R.hasAttribute(Y)||R.setAttribute(Y,ue)}_elemIsActive(R){return R.classList.contains(xl)}_getInnerElement(R){return R.matches(fr)?R:Ie.findOne(fr,R)}_getOuterElement(R){return R.closest(".nav-item, .list-group-item")||R}static jQueryInterface(R){return this.each(function(){const Y=sa.getOrCreateInstance(this);if(typeof R=="string"){if(Y[R]===void 0||R.startsWith("_")||R==="constructor")throw new TypeError(`No method named "${R}"`);Y[R]()}})}}Z.on(document,Aa,mr,function(te){["A","AREA"].includes(this.tagName)&&te.preventDefault(),S(this)||sa.getOrCreateInstance(this).show()}),Z.on(window,zc,()=>{for(const te of Ie.find(no))sa.getOrCreateInstance(te)}),K(sa);const Ts=".bs.toast",Cl=`mouseover${Ts}`,xp=`mouseout${Ts}`,jh=`focusin${Ts}`,zo=`focusout${Ts}`,Fo=`hide${Ts}`,oa=`hidden${Ts}`,Dh=`show${Ts}`,zd=`shown${Ts}`,Vc="hide",tl="show",Fd="showing",Ou={animation:"boolean",autohide:"boolean",delay:"number"},Th={animation:!0,autohide:!0,delay:5e3};class Jl extends fe{constructor(R,Y){super(R,Y),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Th}static get DefaultType(){return Ou}static get NAME(){return"toast"}show(){Z.trigger(this._element,Dh).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Vc),B(this._element),this._element.classList.add(tl,Fd),this._queueCallback(()=>{this._element.classList.remove(Fd),Z.trigger(this._element,zd),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(Z.trigger(this._element,Fo).defaultPrevented||(this._element.classList.add(Fd),this._queueCallback(()=>{this._element.classList.add(Vc),this._element.classList.remove(Fd,tl),Z.trigger(this._element,oa)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(tl),super.dispose()}isShown(){return this._element.classList.contains(tl)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(R,Y){switch(R.type){case"mouseover":case"mouseout":this._hasMouseInteraction=Y;break;case"focusin":case"focusout":this._hasKeyboardInteraction=Y}if(Y)return void this._clearTimeout();const ue=R.relatedTarget;this._element===ue||this._element.contains(ue)||this._maybeScheduleHide()}_setListeners(){Z.on(this._element,Cl,R=>this._onInteraction(R,!0)),Z.on(this._element,xp,R=>this._onInteraction(R,!1)),Z.on(this._element,jh,R=>this._onInteraction(R,!0)),Z.on(this._element,zo,R=>this._onInteraction(R,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(R){return this.each(function(){const Y=Jl.getOrCreateInstance(this,R);if(typeof R=="string"){if(Y[R]===void 0)throw new TypeError(`No method named "${R}"`);Y[R](this)}})}}return qe(Jl),K(Jl),{Alert:Oe,Button:ze,Carousel:Tt,Collapse:Rn,Dropdown:Qs,Modal:Zr,Offcanvas:Xr,Popover:Pt,ScrollSpy:Bo,Tab:sa,Toast:Jl,Tooltip:ie}})}(fv)),fv.exports}_J();const Ln=l=>typeof l=="string",ib=()=>{let l,c;const s=new Promise((o,h)=>{l=o,c=h});return s.resolve=l,s.reject=c,s},BO=l=>l==null?"":""+l,vJ=(l,c,s)=>{l.forEach(o=>{c[o]&&(s[o]=c[o])})},wJ=/###/g,RO=l=>l&&l.indexOf("###")>-1?l.replace(wJ,"."):l,PO=l=>!l||Ln(l),ub=(l,c,s)=>{const o=Ln(c)?c.split("."):c;let h=0;for(;h<o.length-1;){if(PO(l))return{};const g=RO(o[h]);!l[g]&&s&&(l[g]=new s),Object.prototype.hasOwnProperty.call(l,g)?l=l[g]:l={},++h}return PO(l)?{}:{obj:l,k:RO(o[h])}},zO=(l,c,s)=>{const{obj:o,k:h}=ub(l,c,Object);if(o!==void 0||c.length===1){o[h]=s;return}let g=c[c.length-1],_=c.slice(0,c.length-1),y=ub(l,_,Object);for(;y.obj===void 0&&_.length;)g=`${_[_.length-1]}.${g}`,_=_.slice(0,_.length-1),y=ub(l,_,Object),y!=null&&y.obj&&typeof y.obj[`${y.k}.${g}`]<"u"&&(y.obj=void 0);y.obj[`${y.k}.${g}`]=s},yJ=(l,c,s,o)=>{const{obj:h,k:g}=ub(l,c,Object);h[g]=h[g]||[],h[g].push(s)},Pv=(l,c)=>{const{obj:s,k:o}=ub(l,c);if(s&&Object.prototype.hasOwnProperty.call(s,o))return s[o]},xJ=(l,c,s)=>{const o=Pv(l,s);return o!==void 0?o:Pv(c,s)},lB=(l,c,s)=>{for(const o in c)o!=="__proto__"&&o!=="constructor"&&(o in l?Ln(l[o])||l[o]instanceof String||Ln(c[o])||c[o]instanceof String?s&&(l[o]=c[o]):lB(l[o],c[o],s):l[o]=c[o]);return l},sp=l=>l.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var CJ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const AJ=l=>Ln(l)?l.replace(/[&<>"'\/]/g,c=>CJ[c]):l;class NJ{constructor(c){this.capacity=c,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(c){const s=this.regExpMap.get(c);if(s!==void 0)return s;const o=new RegExp(c);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(c,o),this.regExpQueue.push(c),o}}const EJ=[" ",",","?","!",";"],SJ=new NJ(20),jJ=(l,c,s)=>{c=c||"",s=s||"";const o=EJ.filter(_=>c.indexOf(_)<0&&s.indexOf(_)<0);if(o.length===0)return!0;const h=SJ.getRegExp(`(${o.map(_=>_==="?"?"\\?":_).join("|")})`);let g=!h.test(l);if(!g){const _=l.indexOf(s);_>0&&!h.test(l.substring(0,_))&&(g=!0)}return g},AA=(l,c,s=".")=>{if(!l)return;if(l[c])return Object.prototype.hasOwnProperty.call(l,c)?l[c]:void 0;const o=c.split(s);let h=l;for(let g=0;g<o.length;){if(!h||typeof h!="object")return;let _,y="";for(let v=g;v<o.length;++v)if(v!==g&&(y+=s),y+=o[v],_=h[y],_!==void 0){if(["string","number","boolean"].indexOf(typeof _)>-1&&v<o.length-1)continue;g+=v-g+1;break}h=_}return h},wb=l=>l==null?void 0:l.replace("_","-"),DJ={type:"logger",log(l){this.output("log",l)},warn(l){this.output("warn",l)},error(l){this.output("error",l)},output(l,c){var s,o;(o=(s=console==null?void 0:console[l])==null?void 0:s.apply)==null||o.call(s,console,c)}};class zv{constructor(c,s={}){this.init(c,s)}init(c,s={}){this.prefix=s.prefix||"i18next:",this.logger=c||DJ,this.options=s,this.debug=s.debug}log(...c){return this.forward(c,"log","",!0)}warn(...c){return this.forward(c,"warn","",!0)}error(...c){return this.forward(c,"error","")}deprecate(...c){return this.forward(c,"warn","WARNING DEPRECATED: ",!0)}forward(c,s,o,h){return h&&!this.debug?null:(Ln(c[0])&&(c[0]=`${o}${this.prefix} ${c[0]}`),this.logger[s](c))}create(c){return new zv(this.logger,{prefix:`${this.prefix}:${c}:`,...this.options})}clone(c){return c=c||this.options,c.prefix=c.prefix||this.prefix,new zv(this.logger,c)}}var bd=new zv;class xw{constructor(){this.observers={}}on(c,s){return c.split(" ").forEach(o=>{this.observers[o]||(this.observers[o]=new Map);const h=this.observers[o].get(s)||0;this.observers[o].set(s,h+1)}),this}off(c,s){if(this.observers[c]){if(!s){delete this.observers[c];return}this.observers[c].delete(s)}}emit(c,...s){this.observers[c]&&Array.from(this.observers[c].entries()).forEach(([h,g])=>{for(let _=0;_<g;_++)h(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([h,g])=>{for(let _=0;_<g;_++)h.apply(h,[c,...s])})}}class FO extends xw{constructor(c,s={ns:["translation"],defaultNS:"translation"}){super(),this.data=c||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(c){this.options.ns.indexOf(c)<0&&this.options.ns.push(c)}removeNamespaces(c){const s=this.options.ns.indexOf(c);s>-1&&this.options.ns.splice(s,1)}getResource(c,s,o,h={}){var N,S;const g=h.keySeparator!==void 0?h.keySeparator:this.options.keySeparator,_=h.ignoreJSONStructure!==void 0?h.ignoreJSONStructure:this.options.ignoreJSONStructure;let y;c.indexOf(".")>-1?y=c.split("."):(y=[c,s],o&&(Array.isArray(o)?y.push(...o):Ln(o)&&g?y.push(...o.split(g)):y.push(o)));const v=Pv(this.data,y);return!v&&!s&&!o&&c.indexOf(".")>-1&&(c=y[0],s=y[1],o=y.slice(2).join(".")),v||!_||!Ln(o)?v:AA((S=(N=this.data)==null?void 0:N[c])==null?void 0:S[s],o,g)}addResource(c,s,o,h,g={silent:!1}){const _=g.keySeparator!==void 0?g.keySeparator:this.options.keySeparator;let y=[c,s];o&&(y=y.concat(_?o.split(_):o)),c.indexOf(".")>-1&&(y=c.split("."),h=s,s=y[1]),this.addNamespaces(s),zO(this.data,y,h),g.silent||this.emit("added",c,s,o,h)}addResources(c,s,o,h={silent:!1}){for(const g in o)(Ln(o[g])||Array.isArray(o[g]))&&this.addResource(c,s,g,o[g],{silent:!0});h.silent||this.emit("added",c,s,o)}addResourceBundle(c,s,o,h,g,_={silent:!1,skipCopy:!1}){let y=[c,s];c.indexOf(".")>-1&&(y=c.split("."),h=o,o=s,s=y[1]),this.addNamespaces(s);let v=Pv(this.data,y)||{};_.skipCopy||(o=JSON.parse(JSON.stringify(o))),h?lB(v,o,g):v={...v,...o},zO(this.data,y,v),_.silent||this.emit("added",c,s,o)}removeResourceBundle(c,s){this.hasResourceBundle(c,s)&&delete this.data[c][s],this.removeNamespaces(s),this.emit("removed",c,s)}hasResourceBundle(c,s){return this.getResource(c,s)!==void 0}getResourceBundle(c,s){return s||(s=this.options.defaultNS),this.getResource(c,s)}getDataByLanguage(c){return this.data[c]}hasLanguageSomeTranslations(c){const s=this.getDataByLanguage(c);return!!(s&&Object.keys(s)||[]).find(h=>s[h]&&Object.keys(s[h]).length>0)}toJSON(){return this.data}}var cB={processors:{},addPostProcessor(l){this.processors[l.name]=l},handle(l,c,s,o,h){return l.forEach(g=>{var _;c=((_=this.processors[g])==null?void 0:_.process(c,s,o,h))??c}),c}};const VO={},HO=l=>!Ln(l)&&typeof l!="boolean"&&typeof l!="number";class Fv extends xw{constructor(c,s={}){super(),vJ(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],c,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=bd.create("translator")}changeLanguage(c){c&&(this.language=c)}exists(c,s={interpolation:{}}){const o={...s};if(c==null)return!1;const h=this.resolve(c,o);return(h==null?void 0:h.res)!==void 0}extractFromKey(c,s){let o=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");const h=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let g=s.ns||this.options.defaultNS||[];const _=o&&c.indexOf(o)>-1,y=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!jJ(c,o,h);if(_&&!y){const v=c.match(this.interpolator.nestingRegexp);if(v&&v.length>0)return{key:c,namespaces:Ln(g)?[g]:g};const N=c.split(o);(o!==h||o===h&&this.options.ns.indexOf(N[0])>-1)&&(g=N.shift()),c=N.join(h)}return{key:c,namespaces:Ln(g)?[g]:g}}translate(c,s,o){let h=typeof s=="object"?{...s}:s;if(typeof h!="object"&&this.options.overloadTranslationOptionHandler&&(h=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(h={...h}),h||(h={}),c==null)return"";Array.isArray(c)||(c=[String(c)]);const g=h.returnDetails!==void 0?h.returnDetails:this.options.returnDetails,_=h.keySeparator!==void 0?h.keySeparator:this.options.keySeparator,{key:y,namespaces:v}=this.extractFromKey(c[c.length-1],h),N=v[v.length-1];let S=h.nsSeparator!==void 0?h.nsSeparator:this.options.nsSeparator;S===void 0&&(S=":");const D=h.lng||this.language,j=h.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((D==null?void 0:D.toLowerCase())==="cimode")return j?g?{res:`${N}${S}${y}`,usedKey:y,exactUsedKey:y,usedLng:D,usedNS:N,usedParams:this.getUsedParamsDetails(h)}:`${N}${S}${y}`:g?{res:y,usedKey:y,exactUsedKey:y,usedLng:D,usedNS:N,usedParams:this.getUsedParamsDetails(h)}:y;const B=this.resolve(c,h);let F=B==null?void 0:B.res;const H=(B==null?void 0:B.usedKey)||y,$=(B==null?void 0:B.exactUsedKey)||y,K=["[object Number]","[object Function]","[object RegExp]"],Q=h.joinArrays!==void 0?h.joinArrays:this.options.joinArrays,ee=!this.i18nFormat||this.i18nFormat.handleAsObject,ne=h.count!==void 0&&!Ln(h.count),le=Fv.hasDefaultValue(h),se=ne?this.pluralResolver.getSuffix(D,h.count,h):"",q=h.ordinal&&ne?this.pluralResolver.getSuffix(D,h.count,{ordinal:!1}):"",de=ne&&!h.ordinal&&h.count===0,re=de&&h[`defaultValue${this.options.pluralSeparator}zero`]||h[`defaultValue${se}`]||h[`defaultValue${q}`]||h.defaultValue;let be=F;ee&&!F&&le&&(be=re);const ke=HO(be),Ne=Object.prototype.toString.apply(be);if(ee&&be&&ke&&K.indexOf(Ne)<0&&!(Ln(Q)&&Array.isArray(be))){if(!h.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const De=this.options.returnedObjectHandler?this.options.returnedObjectHandler(H,be,{...h,ns:v}):`key '${y} (${this.language})' returned an object instead of string.`;return g?(B.res=De,B.usedParams=this.getUsedParamsDetails(h),B):De}if(_){const De=Array.isArray(be),_e=De?[]:{},je=De?$:H;for(const oe in be)if(Object.prototype.hasOwnProperty.call(be,oe)){const ve=`${je}${_}${oe}`;le&&!F?_e[oe]=this.translate(ve,{...h,defaultValue:HO(re)?re[oe]:void 0,joinArrays:!1,ns:v}):_e[oe]=this.translate(ve,{...h,joinArrays:!1,ns:v}),_e[oe]===ve&&(_e[oe]=be[oe])}F=_e}}else if(ee&&Ln(Q)&&Array.isArray(F))F=F.join(Q),F&&(F=this.extendTranslation(F,c,h,o));else{let De=!1,_e=!1;!this.isValidLookup(F)&&le&&(De=!0,F=re),this.isValidLookup(F)||(_e=!0,F=y);const oe=(h.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&_e?void 0:F,ve=le&&re!==F&&this.options.updateMissing;if(_e||De||ve){if(this.logger.log(ve?"updateKey":"missingKey",D,N,y,ve?re:F),_){const pe=this.resolve(y,{...h,keySeparator:!1});pe&&pe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let he=[];const Ee=this.languageUtils.getFallbackCodes(this.options.fallbackLng,h.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ee&&Ee[0])for(let pe=0;pe<Ee.length;pe++)he.push(Ee[pe]);else this.options.saveMissingTo==="all"?he=this.languageUtils.toResolveHierarchy(h.lng||this.language):he.push(h.lng||this.language);const Z=(pe,xe,Se)=>{var tt;const Fe=le&&Se!==F?Se:oe;this.options.missingKeyHandler?this.options.missingKeyHandler(pe,N,xe,Fe,ve,h):(tt=this.backendConnector)!=null&&tt.saveMissing&&this.backendConnector.saveMissing(pe,N,xe,Fe,ve,h),this.emit("missingKey",pe,N,xe,F)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ne?he.forEach(pe=>{const xe=this.pluralResolver.getSuffixes(pe,h);de&&h[`defaultValue${this.options.pluralSeparator}zero`]&&xe.indexOf(`${this.options.pluralSeparator}zero`)<0&&xe.push(`${this.options.pluralSeparator}zero`),xe.forEach(Se=>{Z([pe],y+Se,h[`defaultValue${Se}`]||re)})}):Z(he,y,re))}F=this.extendTranslation(F,c,h,B,o),_e&&F===y&&this.options.appendNamespaceToMissingKey&&(F=`${N}${S}${y}`),(_e||De)&&this.options.parseMissingKeyHandler&&(F=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${N}${S}${y}`:y,De?F:void 0,h))}return g?(B.res=F,B.usedParams=this.getUsedParamsDetails(h),B):F}extendTranslation(c,s,o,h,g){var v,N;if((v=this.i18nFormat)!=null&&v.parse)c=this.i18nFormat.parse(c,{...this.options.interpolation.defaultVariables,...o},o.lng||this.language||h.usedLng,h.usedNS,h.usedKey,{resolved:h});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init({...o,interpolation:{...this.options.interpolation,...o.interpolation}});const S=Ln(c)&&(((N=o==null?void 0:o.interpolation)==null?void 0:N.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let D;if(S){const B=c.match(this.interpolator.nestingRegexp);D=B&&B.length}let j=o.replace&&!Ln(o.replace)?o.replace:o;if(this.options.interpolation.defaultVariables&&(j={...this.options.interpolation.defaultVariables,...j}),c=this.interpolator.interpolate(c,j,o.lng||this.language||h.usedLng,o),S){const B=c.match(this.interpolator.nestingRegexp),F=B&&B.length;D<F&&(o.nest=!1)}!o.lng&&h&&h.res&&(o.lng=this.language||h.usedLng),o.nest!==!1&&(c=this.interpolator.nest(c,(...B)=>(g==null?void 0:g[0])===B[0]&&!o.context?(this.logger.warn(`It seems you are nesting recursively key: ${B[0]} in key: ${s[0]}`),null):this.translate(...B,s),o)),o.interpolation&&this.interpolator.reset()}const _=o.postProcess||this.options.postProcess,y=Ln(_)?[_]:_;return c!=null&&(y!=null&&y.length)&&o.applyPostProcessor!==!1&&(c=cB.handle(y,c,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...h,usedParams:this.getUsedParamsDetails(o)},...o}:o,this)),c}resolve(c,s={}){let o,h,g,_,y;return Ln(c)&&(c=[c]),c.forEach(v=>{if(this.isValidLookup(o))return;const N=this.extractFromKey(v,s),S=N.key;h=S;let D=N.namespaces;this.options.fallbackNS&&(D=D.concat(this.options.fallbackNS));const j=s.count!==void 0&&!Ln(s.count),B=j&&!s.ordinal&&s.count===0,F=s.context!==void 0&&(Ln(s.context)||typeof s.context=="number")&&s.context!=="",H=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);D.forEach($=>{var K,Q;this.isValidLookup(o)||(y=$,!VO[`${H[0]}-${$}`]&&((K=this.utils)!=null&&K.hasLoadedNamespace)&&!((Q=this.utils)!=null&&Q.hasLoadedNamespace(y))&&(VO[`${H[0]}-${$}`]=!0,this.logger.warn(`key "${h}" for languages "${H.join(", ")}" won't get resolved as namespace "${y}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),H.forEach(ee=>{var se;if(this.isValidLookup(o))return;_=ee;const ne=[S];if((se=this.i18nFormat)!=null&&se.addLookupKeys)this.i18nFormat.addLookupKeys(ne,S,ee,$,s);else{let q;j&&(q=this.pluralResolver.getSuffix(ee,s.count,s));const de=`${this.options.pluralSeparator}zero`,re=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(j&&(ne.push(S+q),s.ordinal&&q.indexOf(re)===0&&ne.push(S+q.replace(re,this.options.pluralSeparator)),B&&ne.push(S+de)),F){const be=`${S}${this.options.contextSeparator}${s.context}`;ne.push(be),j&&(ne.push(be+q),s.ordinal&&q.indexOf(re)===0&&ne.push(be+q.replace(re,this.options.pluralSeparator)),B&&ne.push(be+de))}}let le;for(;le=ne.pop();)this.isValidLookup(o)||(g=le,o=this.getResource(ee,$,le,s))}))})}),{res:o,usedKey:h,exactUsedKey:g,usedLng:_,usedNS:y}}isValidLookup(c){return c!==void 0&&!(!this.options.returnNull&&c===null)&&!(!this.options.returnEmptyString&&c==="")}getResource(c,s,o,h={}){var g;return(g=this.i18nFormat)!=null&&g.getResource?this.i18nFormat.getResource(c,s,o,h):this.resourceStore.getResource(c,s,o,h)}getUsedParamsDetails(c={}){const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],o=c.replace&&!Ln(c.replace);let h=o?c.replace:c;if(o&&typeof c.count<"u"&&(h.count=c.count),this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),!o){h={...h};for(const g of s)delete h[g]}return h}static hasDefaultValue(c){const s="defaultValue";for(const o in c)if(Object.prototype.hasOwnProperty.call(c,o)&&s===o.substring(0,s.length)&&c[o]!==void 0)return!0;return!1}}class UO{constructor(c){this.options=c,this.supportedLngs=this.options.supportedLngs||!1,this.logger=bd.create("languageUtils")}getScriptPartFromCode(c){if(c=wb(c),!c||c.indexOf("-")<0)return null;const s=c.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(c){if(c=wb(c),!c||c.indexOf("-")<0)return c;const s=c.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(c){if(Ln(c)&&c.indexOf("-")>-1){let s;try{s=Intl.getCanonicalLocales(c)[0]}catch{}return s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s||(this.options.lowerCaseLng?c.toLowerCase():c)}return this.options.cleanCode||this.options.lowerCaseLng?c.toLowerCase():c}isSupportedCode(c){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(c=this.getLanguagePartFromCode(c)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(c)>-1}getBestMatchFromCodes(c){if(!c)return null;let s;return c.forEach(o=>{if(s)return;const h=this.formatLanguageCode(o);(!this.options.supportedLngs||this.isSupportedCode(h))&&(s=h)}),!s&&this.options.supportedLngs&&c.forEach(o=>{if(s)return;const h=this.getScriptPartFromCode(o);if(this.isSupportedCode(h))return s=h;const g=this.getLanguagePartFromCode(o);if(this.isSupportedCode(g))return s=g;s=this.options.supportedLngs.find(_=>{if(_===g)return _;if(!(_.indexOf("-")<0&&g.indexOf("-")<0)&&(_.indexOf("-")>0&&g.indexOf("-")<0&&_.substring(0,_.indexOf("-"))===g||_.indexOf(g)===0&&g.length>1))return _})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(c,s){if(!c)return[];if(typeof c=="function"&&(c=c(s)),Ln(c)&&(c=[c]),Array.isArray(c))return c;if(!s)return c.default||[];let o=c[s];return o||(o=c[this.getScriptPartFromCode(s)]),o||(o=c[this.formatLanguageCode(s)]),o||(o=c[this.getLanguagePartFromCode(s)]),o||(o=c.default),o||[]}toResolveHierarchy(c,s){const o=this.getFallbackCodes((s===!1?[]:s)||this.options.fallbackLng||[],c),h=[],g=_=>{_&&(this.isSupportedCode(_)?h.push(_):this.logger.warn(`rejecting language code not found in supportedLngs: ${_}`))};return Ln(c)&&(c.indexOf("-")>-1||c.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&g(this.formatLanguageCode(c)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&g(this.getScriptPartFromCode(c)),this.options.load!=="currentOnly"&&g(this.getLanguagePartFromCode(c))):Ln(c)&&g(this.formatLanguageCode(c)),o.forEach(_=>{h.indexOf(_)<0&&g(this.formatLanguageCode(_))}),h}}const $O={zero:0,one:1,two:2,few:3,many:4,other:5},qO={select:l=>l===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class TJ{constructor(c,s={}){this.languageUtils=c,this.options=s,this.logger=bd.create("pluralResolver"),this.pluralRulesCache={}}addRule(c,s){this.rules[c]=s}clearCache(){this.pluralRulesCache={}}getRule(c,s={}){const o=wb(c==="dev"?"en":c),h=s.ordinal?"ordinal":"cardinal",g=JSON.stringify({cleanedCode:o,type:h});if(g in this.pluralRulesCache)return this.pluralRulesCache[g];let _;try{_=new Intl.PluralRules(o,{type:h})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),qO;if(!c.match(/-|_/))return qO;const v=this.languageUtils.getLanguagePartFromCode(c);_=this.getRule(v,s)}return this.pluralRulesCache[g]=_,_}needsPlural(c,s={}){let o=this.getRule(c,s);return o||(o=this.getRule("dev",s)),(o==null?void 0:o.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(c,s,o={}){return this.getSuffixes(c,o).map(h=>`${s}${h}`)}getSuffixes(c,s={}){let o=this.getRule(c,s);return o||(o=this.getRule("dev",s)),o?o.resolvedOptions().pluralCategories.sort((h,g)=>$O[h]-$O[g]).map(h=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${h}`):[]}getSuffix(c,s,o={}){const h=this.getRule(c,o);return h?`${this.options.prepend}${o.ordinal?`ordinal${this.options.prepend}`:""}${h.select(s)}`:(this.logger.warn(`no plural rule found for: ${c}`),this.getSuffix("dev",s,o))}}const WO=(l,c,s,o=".",h=!0)=>{let g=xJ(l,c,s);return!g&&h&&Ln(s)&&(g=AA(l,s,o),g===void 0&&(g=AA(c,s,o))),g},ZC=l=>l.replace(/\$/g,"$$$$");class MJ{constructor(c={}){var s;this.logger=bd.create("interpolator"),this.options=c,this.format=((s=c==null?void 0:c.interpolation)==null?void 0:s.format)||(o=>o),this.init(c)}init(c={}){c.interpolation||(c.interpolation={escapeValue:!0});const{escape:s,escapeValue:o,useRawValueToEscape:h,prefix:g,prefixEscaped:_,suffix:y,suffixEscaped:v,formatSeparator:N,unescapeSuffix:S,unescapePrefix:D,nestingPrefix:j,nestingPrefixEscaped:B,nestingSuffix:F,nestingSuffixEscaped:H,nestingOptionsSeparator:$,maxReplaces:K,alwaysFormat:Q}=c.interpolation;this.escape=s!==void 0?s:AJ,this.escapeValue=o!==void 0?o:!0,this.useRawValueToEscape=h!==void 0?h:!1,this.prefix=g?sp(g):_||"{{",this.suffix=y?sp(y):v||"}}",this.formatSeparator=N||",",this.unescapePrefix=S?"":D||"-",this.unescapeSuffix=this.unescapePrefix?"":S||"",this.nestingPrefix=j?sp(j):B||sp("$t("),this.nestingSuffix=F?sp(F):H||sp(")"),this.nestingOptionsSeparator=$||",",this.maxReplaces=K||1e3,this.alwaysFormat=Q!==void 0?Q:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const c=(s,o)=>(s==null?void 0:s.source)===o?(s.lastIndex=0,s):new RegExp(o,"g");this.regexp=c(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=c(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=c(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(c,s,o,h){var B;let g,_,y;const v=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},N=F=>{if(F.indexOf(this.formatSeparator)<0){const Q=WO(s,v,F,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(Q,void 0,o,{...h,...s,interpolationkey:F}):Q}const H=F.split(this.formatSeparator),$=H.shift().trim(),K=H.join(this.formatSeparator).trim();return this.format(WO(s,v,$,this.options.keySeparator,this.options.ignoreJSONStructure),K,o,{...h,...s,interpolationkey:$})};this.resetRegExp();const S=(h==null?void 0:h.missingInterpolationHandler)||this.options.missingInterpolationHandler,D=((B=h==null?void 0:h.interpolation)==null?void 0:B.skipOnVariables)!==void 0?h.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:F=>ZC(F)},{regex:this.regexp,safeValue:F=>this.escapeValue?ZC(this.escape(F)):ZC(F)}].forEach(F=>{for(y=0;g=F.regex.exec(c);){const H=g[1].trim();if(_=N(H),_===void 0)if(typeof S=="function"){const K=S(c,g,h);_=Ln(K)?K:""}else if(h&&Object.prototype.hasOwnProperty.call(h,H))_="";else if(D){_=g[0];continue}else this.logger.warn(`missed to pass in variable ${H} for interpolating ${c}`),_="";else!Ln(_)&&!this.useRawValueToEscape&&(_=BO(_));const $=F.safeValue(_);if(c=c.replace(g[0],$),D?(F.regex.lastIndex+=_.length,F.regex.lastIndex-=g[0].length):F.regex.lastIndex=0,y++,y>=this.maxReplaces)break}}),c}nest(c,s,o={}){let h,g,_;const y=(v,N)=>{const S=this.nestingOptionsSeparator;if(v.indexOf(S)<0)return v;const D=v.split(new RegExp(`${S}[ ]*{`));let j=`{${D[1]}`;v=D[0],j=this.interpolate(j,_);const B=j.match(/'/g),F=j.match(/"/g);(((B==null?void 0:B.length)??0)%2===0&&!F||F.length%2!==0)&&(j=j.replace(/'/g,'"'));try{_=JSON.parse(j),N&&(_={...N,..._})}catch(H){return this.logger.warn(`failed parsing options string in nesting for key ${v}`,H),`${v}${S}${j}`}return _.defaultValue&&_.defaultValue.indexOf(this.prefix)>-1&&delete _.defaultValue,v};for(;h=this.nestingRegexp.exec(c);){let v=[];_={...o},_=_.replace&&!Ln(_.replace)?_.replace:_,_.applyPostProcessor=!1,delete _.defaultValue;const N=/{.*}/.test(h[1])?h[1].lastIndexOf("}")+1:h[1].indexOf(this.formatSeparator);if(N!==-1&&(v=h[1].slice(N).split(this.formatSeparator).map(S=>S.trim()).filter(Boolean),h[1]=h[1].slice(0,N)),g=s(y.call(this,h[1].trim(),_),_),g&&h[0]===c&&!Ln(g))return g;Ln(g)||(g=BO(g)),g||(this.logger.warn(`missed to resolve ${h[1]} for nesting ${c}`),g=""),v.length&&(g=v.reduce((S,D)=>this.format(S,D,o.lng,{...o,interpolationkey:h[1].trim()}),g.trim())),c=c.replace(h[0],g),this.regexp.lastIndex=0}return c}}const IJ=l=>{let c=l.toLowerCase().trim();const s={};if(l.indexOf("(")>-1){const o=l.split("(");c=o[0].toLowerCase().trim();const h=o[1].substring(0,o[1].length-1);c==="currency"&&h.indexOf(":")<0?s.currency||(s.currency=h.trim()):c==="relativetime"&&h.indexOf(":")<0?s.range||(s.range=h.trim()):h.split(";").forEach(_=>{if(_){const[y,...v]=_.split(":"),N=v.join(":").trim().replace(/^'+|'+$/g,""),S=y.trim();s[S]||(s[S]=N),N==="false"&&(s[S]=!1),N==="true"&&(s[S]=!0),isNaN(N)||(s[S]=parseInt(N,10))}})}return{formatName:c,formatOptions:s}},YO=l=>{const c={};return(s,o,h)=>{let g=h;h&&h.interpolationkey&&h.formatParams&&h.formatParams[h.interpolationkey]&&h[h.interpolationkey]&&(g={...g,[h.interpolationkey]:void 0});const _=o+JSON.stringify(g);let y=c[_];return y||(y=l(wb(o),h),c[_]=y),y(s)}},OJ=l=>(c,s,o)=>l(wb(s),o)(c);class LJ{constructor(c={}){this.logger=bd.create("formatter"),this.options=c,this.init(c)}init(c,s={interpolation:{}}){this.formatSeparator=s.interpolation.formatSeparator||",";const o=s.cacheInBuiltFormats?YO:OJ;this.formats={number:o((h,g)=>{const _=new Intl.NumberFormat(h,{...g});return y=>_.format(y)}),currency:o((h,g)=>{const _=new Intl.NumberFormat(h,{...g,style:"currency"});return y=>_.format(y)}),datetime:o((h,g)=>{const _=new Intl.DateTimeFormat(h,{...g});return y=>_.format(y)}),relativetime:o((h,g)=>{const _=new Intl.RelativeTimeFormat(h,{...g});return y=>_.format(y,g.range||"day")}),list:o((h,g)=>{const _=new Intl.ListFormat(h,{...g});return y=>_.format(y)})}}add(c,s){this.formats[c.toLowerCase().trim()]=s}addCached(c,s){this.formats[c.toLowerCase().trim()]=YO(s)}format(c,s,o,h={}){const g=s.split(this.formatSeparator);if(g.length>1&&g[0].indexOf("(")>1&&g[0].indexOf(")")<0&&g.find(y=>y.indexOf(")")>-1)){const y=g.findIndex(v=>v.indexOf(")")>-1);g[0]=[g[0],...g.splice(1,y)].join(this.formatSeparator)}return g.reduce((y,v)=>{var D;const{formatName:N,formatOptions:S}=IJ(v);if(this.formats[N]){let j=y;try{const B=((D=h==null?void 0:h.formatParams)==null?void 0:D[h.interpolationkey])||{},F=B.locale||B.lng||h.locale||h.lng||o;j=this.formats[N](y,F,{...S,...h,...B})}catch(B){this.logger.warn(B)}return j}else this.logger.warn(`there was no format function for ${N}`);return y},c)}}const BJ=(l,c)=>{l.pending[c]!==void 0&&(delete l.pending[c],l.pendingCount--)};class RJ extends xw{constructor(c,s,o,h={}){var g,_;super(),this.backend=c,this.store=s,this.services=o,this.languageUtils=o.languageUtils,this.options=h,this.logger=bd.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=h.maxParallelReads||10,this.readingCalls=0,this.maxRetries=h.maxRetries>=0?h.maxRetries:5,this.retryTimeout=h.retryTimeout>=1?h.retryTimeout:350,this.state={},this.queue=[],(_=(g=this.backend)==null?void 0:g.init)==null||_.call(g,o,h.backend,h)}queueLoad(c,s,o,h){const g={},_={},y={},v={};return c.forEach(N=>{let S=!0;s.forEach(D=>{const j=`${N}|${D}`;!o.reload&&this.store.hasResourceBundle(N,D)?this.state[j]=2:this.state[j]<0||(this.state[j]===1?_[j]===void 0&&(_[j]=!0):(this.state[j]=1,S=!1,_[j]===void 0&&(_[j]=!0),g[j]===void 0&&(g[j]=!0),v[D]===void 0&&(v[D]=!0)))}),S||(y[N]=!0)}),(Object.keys(g).length||Object.keys(_).length)&&this.queue.push({pending:_,pendingCount:Object.keys(_).length,loaded:{},errors:[],callback:h}),{toLoad:Object.keys(g),pending:Object.keys(_),toLoadLanguages:Object.keys(y),toLoadNamespaces:Object.keys(v)}}loaded(c,s,o){const h=c.split("|"),g=h[0],_=h[1];s&&this.emit("failedLoading",g,_,s),!s&&o&&this.store.addResourceBundle(g,_,o,void 0,void 0,{skipCopy:!0}),this.state[c]=s?-1:2,s&&o&&(this.state[c]=0);const y={};this.queue.forEach(v=>{yJ(v.loaded,[g],_),BJ(v,c),s&&v.errors.push(s),v.pendingCount===0&&!v.done&&(Object.keys(v.loaded).forEach(N=>{y[N]||(y[N]={});const S=v.loaded[N];S.length&&S.forEach(D=>{y[N][D]===void 0&&(y[N][D]=!0)})}),v.done=!0,v.errors.length?v.callback(v.errors):v.callback())}),this.emit("loaded",y),this.queue=this.queue.filter(v=>!v.done)}read(c,s,o,h=0,g=this.retryTimeout,_){if(!c.length)return _(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:c,ns:s,fcName:o,tried:h,wait:g,callback:_});return}this.readingCalls++;const y=(N,S)=>{if(this.readingCalls--,this.waitingReads.length>0){const D=this.waitingReads.shift();this.read(D.lng,D.ns,D.fcName,D.tried,D.wait,D.callback)}if(N&&S&&h<this.maxRetries){setTimeout(()=>{this.read.call(this,c,s,o,h+1,g*2,_)},g);return}_(N,S)},v=this.backend[o].bind(this.backend);if(v.length===2){try{const N=v(c,s);N&&typeof N.then=="function"?N.then(S=>y(null,S)).catch(y):y(null,N)}catch(N){y(N)}return}return v(c,s,y)}prepareLoading(c,s,o={},h){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),h&&h();Ln(c)&&(c=this.languageUtils.toResolveHierarchy(c)),Ln(s)&&(s=[s]);const g=this.queueLoad(c,s,o,h);if(!g.toLoad.length)return g.pending.length||h(),null;g.toLoad.forEach(_=>{this.loadOne(_)})}load(c,s,o){this.prepareLoading(c,s,{},o)}reload(c,s,o){this.prepareLoading(c,s,{reload:!0},o)}loadOne(c,s=""){const o=c.split("|"),h=o[0],g=o[1];this.read(h,g,"read",void 0,void 0,(_,y)=>{_&&this.logger.warn(`${s}loading namespace ${g} for language ${h} failed`,_),!_&&y&&this.logger.log(`${s}loaded namespace ${g} for language ${h}`,y),this.loaded(c,_,y)})}saveMissing(c,s,o,h,g,_={},y=()=>{}){var v,N,S,D,j;if((N=(v=this.services)==null?void 0:v.utils)!=null&&N.hasLoadedNamespace&&!((D=(S=this.services)==null?void 0:S.utils)!=null&&D.hasLoadedNamespace(s))){this.logger.warn(`did not save key "${o}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if((j=this.backend)!=null&&j.create){const B={..._,isUpdate:g},F=this.backend.create.bind(this.backend);if(F.length<6)try{let H;F.length===5?H=F(c,s,o,h,B):H=F(c,s,o,h),H&&typeof H.then=="function"?H.then($=>y(null,$)).catch(y):y(null,H)}catch(H){y(H)}else F(c,s,o,h,y,B)}!c||!c[0]||this.store.addResource(c[0],s,o,h)}}}const GO=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:l=>{let c={};if(typeof l[1]=="object"&&(c=l[1]),Ln(l[1])&&(c.defaultValue=l[1]),Ln(l[2])&&(c.tDescription=l[2]),typeof l[2]=="object"||typeof l[3]=="object"){const s=l[3]||l[2];Object.keys(s).forEach(o=>{c[o]=s[o]})}return c},interpolation:{escapeValue:!0,format:l=>l,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),KO=l=>{var c,s;return Ln(l.ns)&&(l.ns=[l.ns]),Ln(l.fallbackLng)&&(l.fallbackLng=[l.fallbackLng]),Ln(l.fallbackNS)&&(l.fallbackNS=[l.fallbackNS]),((s=(c=l.supportedLngs)==null?void 0:c.indexOf)==null?void 0:s.call(c,"cimode"))<0&&(l.supportedLngs=l.supportedLngs.concat(["cimode"])),typeof l.initImmediate=="boolean"&&(l.initAsync=l.initImmediate),l},ev=()=>{},PJ=l=>{Object.getOwnPropertyNames(Object.getPrototypeOf(l)).forEach(s=>{typeof l[s]=="function"&&(l[s]=l[s].bind(l))})};class yb extends xw{constructor(c={},s){if(super(),this.options=KO(c),this.services={},this.logger=bd,this.modules={external:[]},PJ(this),s&&!this.isInitialized&&!c.isClone){if(!this.options.initAsync)return this.init(c,s),this;setTimeout(()=>{this.init(c,s)},0)}}init(c={},s){this.isInitializing=!0,typeof c=="function"&&(s=c,c={}),c.defaultNS==null&&c.ns&&(Ln(c.ns)?c.defaultNS=c.ns:c.ns.indexOf("translation")<0&&(c.defaultNS=c.ns[0]));const o=GO();this.options={...o,...this.options,...KO(c)},this.options.interpolation={...o.interpolation,...this.options.interpolation},c.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=c.keySeparator),c.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=c.nsSeparator);const h=N=>N?typeof N=="function"?new N:N:null;if(!this.options.isClone){this.modules.logger?bd.init(h(this.modules.logger),this.options):bd.init(null,this.options);let N;this.modules.formatter?N=this.modules.formatter:N=LJ;const S=new UO(this.options);this.store=new FO(this.options.resources,this.options);const D=this.services;D.logger=bd,D.resourceStore=this.store,D.languageUtils=S,D.pluralResolver=new TJ(S,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),N&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(D.formatter=h(N),D.formatter.init&&D.formatter.init(D,this.options),this.options.interpolation.format=D.formatter.format.bind(D.formatter)),D.interpolator=new MJ(this.options),D.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},D.backendConnector=new RJ(h(this.modules.backend),D.resourceStore,D,this.options),D.backendConnector.on("*",(B,...F)=>{this.emit(B,...F)}),this.modules.languageDetector&&(D.languageDetector=h(this.modules.languageDetector),D.languageDetector.init&&D.languageDetector.init(D,this.options.detection,this.options)),this.modules.i18nFormat&&(D.i18nFormat=h(this.modules.i18nFormat),D.i18nFormat.init&&D.i18nFormat.init(this)),this.translator=new Fv(this.services,this.options),this.translator.on("*",(B,...F)=>{this.emit(B,...F)}),this.modules.external.forEach(B=>{B.init&&B.init(this)})}if(this.format=this.options.interpolation.format,s||(s=ev),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const N=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);N.length>0&&N[0]!=="dev"&&(this.options.lng=N[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(N=>{this[N]=(...S)=>this.store[N](...S)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(N=>{this[N]=(...S)=>(this.store[N](...S),this)});const y=ib(),v=()=>{const N=(S,D)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),y.resolve(D),s(S,D)};if(this.languages&&!this.isInitialized)return N(null,this.t.bind(this));this.changeLanguage(this.options.lng,N)};return this.options.resources||!this.options.initAsync?v():setTimeout(v,0),y}loadResources(c,s=ev){var g,_;let o=s;const h=Ln(c)?c:this.language;if(typeof c=="function"&&(o=c),!this.options.resources||this.options.partialBundledLanguages){if((h==null?void 0:h.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return o();const y=[],v=N=>{if(!N||N==="cimode")return;this.services.languageUtils.toResolveHierarchy(N).forEach(D=>{D!=="cimode"&&y.indexOf(D)<0&&y.push(D)})};h?v(h):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(S=>v(S)),(_=(g=this.options.preload)==null?void 0:g.forEach)==null||_.call(g,N=>v(N)),this.services.backendConnector.load(y,this.options.ns,N=>{!N&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),o(N)})}else o(null)}reloadResources(c,s,o){const h=ib();return typeof c=="function"&&(o=c,c=void 0),typeof s=="function"&&(o=s,s=void 0),c||(c=this.languages),s||(s=this.options.ns),o||(o=ev),this.services.backendConnector.reload(c,s,g=>{h.resolve(),o(g)}),h}use(c){if(!c)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!c.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return c.type==="backend"&&(this.modules.backend=c),(c.type==="logger"||c.log&&c.warn&&c.error)&&(this.modules.logger=c),c.type==="languageDetector"&&(this.modules.languageDetector=c),c.type==="i18nFormat"&&(this.modules.i18nFormat=c),c.type==="postProcessor"&&cB.addPostProcessor(c),c.type==="formatter"&&(this.modules.formatter=c),c.type==="3rdParty"&&this.modules.external.push(c),this}setResolvedLanguage(c){if(!(!c||!this.languages)&&!(["cimode","dev"].indexOf(c)>-1)){for(let s=0;s<this.languages.length;s++){const o=this.languages[s];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}!this.resolvedLanguage&&this.languages.indexOf(c)<0&&this.store.hasLanguageSomeTranslations(c)&&(this.resolvedLanguage=c,this.languages.unshift(c))}}changeLanguage(c,s){this.isLanguageChangingTo=c;const o=ib();this.emit("languageChanging",c);const h=y=>{this.language=y,this.languages=this.services.languageUtils.toResolveHierarchy(y),this.resolvedLanguage=void 0,this.setResolvedLanguage(y)},g=(y,v)=>{v?this.isLanguageChangingTo===c&&(h(v),this.translator.changeLanguage(v),this.isLanguageChangingTo=void 0,this.emit("languageChanged",v),this.logger.log("languageChanged",v)):this.isLanguageChangingTo=void 0,o.resolve((...N)=>this.t(...N)),s&&s(y,(...N)=>this.t(...N))},_=y=>{var S,D;!c&&!y&&this.services.languageDetector&&(y=[]);const v=Ln(y)?y:y&&y[0],N=this.store.hasLanguageSomeTranslations(v)?v:this.services.languageUtils.getBestMatchFromCodes(Ln(y)?[y]:y);N&&(this.language||h(N),this.translator.language||this.translator.changeLanguage(N),(D=(S=this.services.languageDetector)==null?void 0:S.cacheUserLanguage)==null||D.call(S,N)),this.loadResources(N,j=>{g(j,N)})};return!c&&this.services.languageDetector&&!this.services.languageDetector.async?_(this.services.languageDetector.detect()):!c&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(_):this.services.languageDetector.detect(_):_(c),o}getFixedT(c,s,o){const h=(g,_,...y)=>{let v;typeof _!="object"?v=this.options.overloadTranslationOptionHandler([g,_].concat(y)):v={..._},v.lng=v.lng||h.lng,v.lngs=v.lngs||h.lngs,v.ns=v.ns||h.ns,v.keyPrefix!==""&&(v.keyPrefix=v.keyPrefix||o||h.keyPrefix);const N=this.options.keySeparator||".";let S;return v.keyPrefix&&Array.isArray(g)?S=g.map(D=>`${v.keyPrefix}${N}${D}`):S=v.keyPrefix?`${v.keyPrefix}${N}${g}`:g,this.t(S,v)};return Ln(c)?h.lng=c:h.lngs=c,h.ns=s,h.keyPrefix=o,h}t(...c){var s;return(s=this.translator)==null?void 0:s.translate(...c)}exists(...c){var s;return(s=this.translator)==null?void 0:s.exists(...c)}setDefaultNamespace(c){this.options.defaultNS=c}hasLoadedNamespace(c,s={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const o=s.lng||this.resolvedLanguage||this.languages[0],h=this.options?this.options.fallbackLng:!1,g=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;const _=(y,v)=>{const N=this.services.backendConnector.state[`${y}|${v}`];return N===-1||N===0||N===2};if(s.precheck){const y=s.precheck(this,_);if(y!==void 0)return y}return!!(this.hasResourceBundle(o,c)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||_(o,c)&&(!h||_(g,c)))}loadNamespaces(c,s){const o=ib();return this.options.ns?(Ln(c)&&(c=[c]),c.forEach(h=>{this.options.ns.indexOf(h)<0&&this.options.ns.push(h)}),this.loadResources(h=>{o.resolve(),s&&s(h)}),o):(s&&s(),Promise.resolve())}loadLanguages(c,s){const o=ib();Ln(c)&&(c=[c]);const h=this.options.preload||[],g=c.filter(_=>h.indexOf(_)<0&&this.services.languageUtils.isSupportedCode(_));return g.length?(this.options.preload=h.concat(g),this.loadResources(_=>{o.resolve(),s&&s(_)}),o):(s&&s(),Promise.resolve())}dir(c){var h,g;if(c||(c=this.resolvedLanguage||(((h=this.languages)==null?void 0:h.length)>0?this.languages[0]:this.language)),!c)return"rtl";try{const _=new Intl.Locale(c);if(_&&_.getTextInfo){const y=_.getTextInfo();if(y&&y.direction)return y.direction}}catch{}const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=((g=this.services)==null?void 0:g.languageUtils)||new UO(GO());return c.toLowerCase().indexOf("-latn")>1?"ltr":s.indexOf(o.getLanguagePartFromCode(c))>-1||c.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(c={},s){return new yb(c,s)}cloneInstance(c={},s=ev){const o=c.forkResourceStore;o&&delete c.forkResourceStore;const h={...this.options,...c,isClone:!0},g=new yb(h);if((c.debug!==void 0||c.prefix!==void 0)&&(g.logger=g.logger.clone(c)),["store","services","language"].forEach(y=>{g[y]=this[y]}),g.services={...this.services},g.services.utils={hasLoadedNamespace:g.hasLoadedNamespace.bind(g)},o){const y=Object.keys(this.store.data).reduce((v,N)=>(v[N]={...this.store.data[N]},v[N]=Object.keys(v[N]).reduce((S,D)=>(S[D]={...v[N][D]},S),v[N]),v),{});g.store=new FO(y,h),g.services.resourceStore=g.store}return g.translator=new Fv(g.services,h),g.translator.on("*",(y,...v)=>{g.emit(y,...v)}),g.init(h,s),g.translator.options=h,g.translator.backendConnector.services.utils={hasLoadedNamespace:g.hasLoadedNamespace.bind(g)},g}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Qo=yb.createInstance();Qo.createInstance=yb.createInstance;Qo.createInstance;Qo.dir;Qo.init;Qo.loadResources;Qo.reloadResources;Qo.use;Qo.changeLanguage;Qo.getFixedT;Qo.t;Qo.exists;Qo.setDefaultNamespace;Qo.hasLoadedNamespace;Qo.loadNamespaces;Qo.loadLanguages;const zJ={en:{translation:{"Trang ch":"Home","Khm ph":"Explore","Chuyn i ca bn":"Your Bookings","Trang c nhn":"Profile","ng nhp":"Login","ng k":"Register","ng xut":"Logout","Thng bo":"Notifications","Khm ph & Ln K Hoch Du Lch Thng Minh":"Discover & Plan Your Smart Trip","Tm kim a im, to l trnh c nhn hoc  chng ti gi  chuyn i hon ho cho bn!":"Find places, create your own itinerary, or let us suggest the perfect trip for you!","Bt u ln k hoch":"Start Planning","T to l trnh":"Manual Planning","Bn mun t ln k hoch chuyn i? Hy s dng ch  th cng  t to tour theo  thch ca mnh.":"Want to plan your own trip? Use manual mode to create your custom tour.","To l trnh t ng":"Auto Planning","Bn mun chng ti to l trnh ph hp? Hy th ch  t ng  chng ti  xut tour cho bn!":"Want us to create a suitable itinerary? Try auto mode for our suggestions!","Bn cha c d nh? Hy cng khm ph bn  du lch!":"No plans yet? Explore the travel map!","Vit bi vit":"Write Blog","Cc khch sn hng u":"Top Hotels","t ngay":"Booking now","Xem tt c khch sn":"View All Hotels","Cc nh hng ni tig":"Top Hotels","Xem tt c nh hng":"View All Restaurants"}},vi:{translation:{Home:"Trang ch",Explore:"Khm ph","Your Bookings":"Chuyn i ca bn",Profile:"H s",Login:"ng nhp",Register:"ng k",Logout:"ng xut",Notifications:"Thng bo","Discover & Plan Your Smart Trip":"Khm ph & Ln K Hoch Du Lch Thng Minh","Find places, create your own itinerary, or let us suggest the perfect trip for you!":"Tm kim a im, to l trnh c nhn hoc  chng ti gi  chuyn i hon ho cho bn!","Start Planning":"Bt u ln k hoch","Manual Planning":"T to l trnh","Want to plan your own trip? Use manual mode to create your custom tour.":"Bn mun t ln k hoch chuyn i? Hy s dng ch  th cng  t to tour theo  thch ca mnh.","Auto Planning":"To l trnh t ng","Want us to create a suitable itinerary? Try auto mode for our suggestions!":"Bn mun chng ti to l trnh ph hp? Hy th ch  t ng  chng ti  xut tour cho bn!","No plans yet? Explore the travel map!":"Bn cha c d nh? Hy cng khm ph bn  du lch!","Trips & Itineraries":"Chuyn i & Lch trnh","Featured Destinations":"im n ni bt","Read interesting shares from travelers":"c nhng chia s th v t cc du khch","Plan Quickly with":"Ln k hoch nhanh chng vi","Your journey will be optimized with just one click!":"Chuyn i ca bn s c ti u ha ch vi mt c nhp chut!","Get Started with AutoPlanner":"Bt u vi AutoPlanner","Join Now":"Tham gia ngay","Explore More":"Khm ph thm",About:"V chng ti","Quick Links":"Lin kt nhanh",Contact:"Lin h","Follow Us":"Theo di chng ti","Developed by":"Pht trin bi",Places:"a im",Tours:"Tour",Articles:"Bi vit","Write Blog":"Vit bi vit","Top Hotels":"Cc khch sn hng u","Booking now":"t ngay","View All Hotels":"Xem tt c khch sn","Top Restaurants":"Cc nh hng ni ting","View All Restaurants":"Xem tt c nh hng"}}};Qo.use(kH).init({resources:zJ,lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});s7.createRoot(document.getElementById("root")).render(i.jsx(it.StrictMode,{children:i.jsx(xH,{children:i.jsx(jH,{children:i.jsx(bJ,{})})})}));
